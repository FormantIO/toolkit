import{A as e,F as n,a as t}from"./vendor.1557f147.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)})).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?n.credentials="include":"anonymous"===e.crossorigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}(),e.isModule()?e.showMessage("This running as a module"):window.alert("This is not running as a module"),document.querySelector("#sendmessage").addEventListener("click",(()=>{e.showMessage("hello world "+Math.random())})),document.querySelector("#refreshtoken").addEventListener("click",(()=>{e.refreshAuthToken()})),document.querySelector("#requestmoduledata").addEventListener("click",(()=>{e.requestModuleData()})),document.querySelector("#goback").addEventListener("click",(()=>{e.showMessage("moving timeline back one minute"),e.goToTime(new Date((new Date).getTime()-6e4))})),document.querySelector("#gotodevice").addEventListener("click",(()=>{e.showMessage("going to device"),e.goToDevice("9309992b-452b-42fc-9aa2-dbd7e66a90cf")})),document.querySelector("#fetchcurrent").addEventListener("click",(()=>{n.getOnlineDevices().then((n=>{e.showMessage("online devices: "+JSON.stringify(n))}))})),document.querySelector("#sendchannel").addEventListener("click",(()=>{e.sendChannelData("test_channel",{abc:123})})),e.addChannelDataListener("test_channel",(n=>{n.source===e.getCurrentModuleContext()?e.showMessage("channel data i sent: "+JSON.stringify(n)):e.showMessage("channel data: "+JSON.stringify(n))})),e.setupModuleMenus([{label:"My Menu Item"}]),e.addMenuListener((n=>{e.showMessage(n+" was clicked!")})),e.addAccessTokenRefreshListener((n=>{e.showMessage("token refreshed "+n)})),e.addModuleDataListener((e=>{console.log("recieved data",e)})),async function(){await t.waitTilAuthenticated();const n=await e.getCurrentModuleConfiguration();document.querySelector("#config").innerText=n?JSON.stringify(n):"no configuration found",e.addModuleConfigurationListener((e=>{document.querySelector("#config").innerText=e.configuration}))}();
