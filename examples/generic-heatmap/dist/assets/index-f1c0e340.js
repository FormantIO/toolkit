var IQ=Object.defineProperty;var JQ=(i,o,s)=>o in i?IQ(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s;var Mo=(i,o,s)=>(JQ(i,typeof o!="symbol"?o+"":o,s),s);function _mergeNamespaces(i,o){for(var s=0;s<o.length;s++){const _=o[s];if(typeof _!="string"&&!Array.isArray(_)){for(const $ in _)if($!=="default"&&!($ in i)){const et=Object.getOwnPropertyDescriptor(_,$);et&&Object.defineProperty(i,$,et.get?et:{enumerable:!0,get:()=>_[$]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))_($);new MutationObserver($=>{for(const et of $)if(et.type==="childList")for(const rt of et.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&_(rt)}).observe(document,{childList:!0,subtree:!0});function s($){const et={};return $.integrity&&(et.integrity=$.integrity),$.referrerpolicy&&(et.referrerPolicy=$.referrerpolicy),$.crossorigin==="use-credentials"?et.credentials="include":$.crossorigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function _($){if($.ep)return;$.ep=!0;const et=s($);fetch($.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(i){jsxRuntimeExports=i}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(i){reactExports=i}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,o){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,o,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,o,s){var _,$={},et=null,rt=null;if(o!=null)for(_ in o.ref!==void 0&&(rt=o.ref),o.key!==void 0&&(et=""+o.key),o)J.call(o,_)&&!L$1.hasOwnProperty(_)&&($[_]=o[_]);var j=arguments.length-2;if(j===1)$.children=s;else if(1<j){for(var st=Array(j),lt=0;lt<j;lt++)st[lt]=arguments[lt+2];$.children=st}if(i&&i.defaultProps)for(_ in j=i.defaultProps,j)$[_]===void 0&&($[_]=j[_]);return{$$typeof:l$2,type:i,key:et,ref:rt,props:$,_owner:K$1.current}}function N$1(i,o){return{$$typeof:l$2,type:i.type,key:o,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$1(i){var o={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return o[s]})}var P$1=/\/+/g;function Q$1(i,o){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):o.toString(36)}function R$1(i,o,s,_,$){var et=typeof i;(et==="undefined"||et==="boolean")&&(i=null);var rt=!1;if(i===null)rt=!0;else switch(et){case"string":case"number":rt=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:rt=!0}}if(rt)return rt=i,$=$(rt),i=_===""?"."+Q$1(rt,0):_,I$1($)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1($,o,s,"",function(lt){return lt})):$!=null&&(O$1($)&&($=N$1($,s+(!$.key||rt&&rt.key===$.key?"":(""+$.key).replace(P$1,"$&/")+"/")+i)),o.push($)),1;if(rt=0,_=_===""?".":_+":",I$1(i))for(var j=0;j<i.length;j++){et=i[j];var st=_+Q$1(et,j);rt+=R$1(et,o,s,st,$)}else if(st=A$2(i),typeof st=="function")for(i=st.call(i),j=0;!(et=i.next()).done;)et=et.value,st=_+Q$1(et,j++),rt+=R$1(et,o,s,st,$);else if(et==="object")throw o=String(i),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$1(i,o,s){if(i==null)return i;var _=[],$=0;return R$1(i,_,"","",function(et){return o.call(s,et,$++)}),_}function T$1(i){if(i._status===-1){var o=i._result;o=o(),o.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=o)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,o,s){S$1(i,function(){o.apply(this,arguments)},s)},count:function(i){var o=0;return S$1(i,function(){o++}),o},toArray:function(i){return S$1(i,function(o){return o})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,o,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var _=C$1({},i.props),$=i.key,et=i.ref,rt=i._owner;if(o!=null){if(o.ref!==void 0&&(et=o.ref,rt=K$1.current),o.key!==void 0&&($=""+o.key),i.type&&i.type.defaultProps)var j=i.type.defaultProps;for(st in o)J.call(o,st)&&!L$1.hasOwnProperty(st)&&(_[st]=o[st]===void 0&&j!==void 0?j[st]:o[st])}var st=arguments.length-2;if(st===1)_.children=s;else if(1<st){j=Array(st);for(var lt=0;lt<st;lt++)j[lt]=arguments[lt+2];_.children=j}return{$$typeof:l$2,type:i.type,key:$,ref:et,props:_,_owner:rt}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$1,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var o=M$1.bind(null,i);return o.type=i,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,o){return{$$typeof:x$1,type:i,compare:o===void 0?null:o}};react_production_min.startTransition=function(i){var o=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,o){return U$1.current.useCallback(i,o)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,o){return U$1.current.useEffect(i,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,o,s){return U$1.current.useImperativeHandle(i,o,s)};react_production_min.useInsertionEffect=function(i,o){return U$1.current.useInsertionEffect(i,o)};react_production_min.useLayoutEffect=function(i,o){return U$1.current.useLayoutEffect(i,o)};react_production_min.useMemo=function(i,o){return U$1.current.useMemo(i,o)};react_production_min.useReducer=function(i,o,s){return U$1.current.useReducer(i,o,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,o,s){return U$1.current.useSyncExternalStore(i,o,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(i){i.exports=react_production_min})(react);const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,o,s){var _,$={},et=null,rt=null;s!==void 0&&(et=""+s),o.key!==void 0&&(et=""+o.key),o.ref!==void 0&&(rt=o.ref);for(_ in o)m$2.call(o,_)&&!p$2.hasOwnProperty(_)&&($[_]=o[_]);if(i&&i.defaultProps)for(_ in o=i.defaultProps,o)$[_]===void 0&&($[_]=o[_]);return{$$typeof:k$1,type:i,key:et,ref:rt,props:$,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;(function(i){i.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntimeExports.Fragment,jsx$1=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(i){reactDomExports=i}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(i){schedulerExports=i}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function o(dn,zt){var It=dn.length;dn.push(zt);e:for(;0<It;){var gn=It-1>>>1,vn=dn[gn];if(0<$(vn,zt))dn[gn]=zt,dn[It]=vn,It=gn;else break e}}function s(dn){return dn.length===0?null:dn[0]}function _(dn){if(dn.length===0)return null;var zt=dn[0],It=dn.pop();if(It!==zt){dn[0]=It;e:for(var gn=0,vn=dn.length,Wn=vn>>>1;gn<Wn;){var Ln=2*(gn+1)-1,jn=dn[Ln],xn=Ln+1,Rn=dn[xn];if(0>$(jn,It))xn<vn&&0>$(Rn,jn)?(dn[gn]=Rn,dn[xn]=It,gn=xn):(dn[gn]=jn,dn[Ln]=It,gn=Ln);else if(xn<vn&&0>$(Rn,It))dn[gn]=Rn,dn[xn]=It,gn=xn;else break e}}return zt}function $(dn,zt){var It=dn.sortIndex-zt.sortIndex;return It!==0?It:dn.id-zt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;i.unstable_now=function(){return et.now()}}else{var rt=Date,j=rt.now();i.unstable_now=function(){return rt.now()-j}}var st=[],lt=[],gt=1,bt=null,Ut=3,Ft=!1,yt=!1,Qt=!1,wt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,Jt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function At(dn){for(var zt=s(lt);zt!==null;){if(zt.callback===null)_(lt);else if(zt.startTime<=dn)_(lt),zt.sortIndex=zt.expirationTime,o(st,zt);else break;zt=s(lt)}}function Nt(dn){if(Qt=!1,At(dn),!yt)if(s(st)!==null)yt=!0,$t(St);else{var zt=s(lt);zt!==null&&hn(Nt,zt.startTime-dn)}}function St(dn,zt){yt=!1,Qt&&(Qt=!1,Tt(yn),yn=-1),Ft=!0;var It=Ut;try{for(At(zt),bt=s(st);bt!==null&&(!(bt.expirationTime>zt)||dn&&!Yt());){var gn=bt.callback;if(typeof gn=="function"){bt.callback=null,Ut=bt.priorityLevel;var vn=gn(bt.expirationTime<=zt);zt=i.unstable_now(),typeof vn=="function"?bt.callback=vn:bt===s(st)&&_(st),At(zt)}else _(st);bt=s(st)}if(bt!==null)var Wn=!0;else{var Ln=s(lt);Ln!==null&&hn(Nt,Ln.startTime-zt),Wn=!1}return Wn}finally{bt=null,Ut=It,Ft=!1}}var Ot=!1,nn=null,yn=-1,Ct=5,Vt=-1;function Yt(){return!(i.unstable_now()-Vt<Ct)}function Pt(){if(nn!==null){var dn=i.unstable_now();Vt=dn;var zt=!0;try{zt=nn(!0,dn)}finally{zt?tn():(Ot=!1,nn=null)}}else Ot=!1}var tn;if(typeof Jt=="function")tn=function(){Jt(Pt)};else if(typeof MessageChannel<"u"){var Un=new MessageChannel,Kt=Un.port2;Un.port1.onmessage=Pt,tn=function(){Kt.postMessage(null)}}else tn=function(){wt(Pt,0)};function $t(dn){nn=dn,Ot||(Ot=!0,tn())}function hn(dn,zt){yn=wt(function(){dn(i.unstable_now())},zt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(dn){dn.callback=null},i.unstable_continueExecution=function(){yt||Ft||(yt=!0,$t(St))},i.unstable_forceFrameRate=function(dn){0>dn||125<dn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<dn?Math.floor(1e3/dn):5},i.unstable_getCurrentPriorityLevel=function(){return Ut},i.unstable_getFirstCallbackNode=function(){return s(st)},i.unstable_next=function(dn){switch(Ut){case 1:case 2:case 3:var zt=3;break;default:zt=Ut}var It=Ut;Ut=zt;try{return dn()}finally{Ut=It}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(dn,zt){switch(dn){case 1:case 2:case 3:case 4:case 5:break;default:dn=3}var It=Ut;Ut=dn;try{return zt()}finally{Ut=It}},i.unstable_scheduleCallback=function(dn,zt,It){var gn=i.unstable_now();switch(typeof It=="object"&&It!==null?(It=It.delay,It=typeof It=="number"&&0<It?gn+It:gn):It=gn,dn){case 1:var vn=-1;break;case 2:vn=250;break;case 5:vn=1073741823;break;case 4:vn=1e4;break;default:vn=5e3}return vn=It+vn,dn={id:gt++,callback:zt,priorityLevel:dn,startTime:It,expirationTime:vn,sortIndex:-1},It>gn?(dn.sortIndex=It,o(lt,dn),s(st)===null&&dn===s(lt)&&(Qt?(Tt(yn),yn=-1):Qt=!0,hn(Nt,It-gn))):(dn.sortIndex=vn,o(st,dn),yt||Ft||(yt=!0,$t(St))),dn},i.unstable_shouldYield=Yt,i.unstable_wrapCallback=function(dn){var zt=Ut;return function(){var It=Ut;Ut=zt;try{return dn.apply(this,arguments)}finally{Ut=It}}}})(scheduler_production_min);(function(i){i.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,o){ha(i,o),ha(i+"Capture",o)}function ha(i,o){for(ea[i]=o,i=0;i<o.length;i++)da.add(o[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,o,s,_){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return _?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,o,s,_){if(o===null||typeof o>"u"||pa(i,o,s,_))return!0;if(_)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$2(i,o,s,_,$,et,rt){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=_,this.attributeNamespace=$,this.mustUseProperty=s,this.propertyName=i,this.type=o,this.sanitizeURL=et,this.removeEmptyString=rt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$2(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];z$1[o]=new v$2(o,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$2(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$2(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$2(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$2(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$2(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,o,s,_){var $=z$1.hasOwnProperty(o)?z$1[o]:null;($!==null?$.type!==0:_||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,s,$,_)&&(s=null),_||$===null?oa(o)&&(s===null?i.removeAttribute(o):i.setAttribute(o,""+s)):$.mustUseProperty?i[$.propertyName]=s===null?$.type===3?!1:"":s:(o=$.attributeName,_=$.attributeNamespace,s===null?i.removeAttribute(o):($=$.type,s=$===3||$===4&&s===!0?"":""+s,_?i.setAttributeNS(_,o,s):i.setAttribute(o,s))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+i}var Na=!1;function Oa(i,o){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(lt){var _=lt}Reflect.construct(i,[],o)}else{try{o.call()}catch(lt){_=lt}i.call(o.prototype)}else{try{throw Error()}catch(lt){_=lt}i()}}catch(lt){if(lt&&_&&typeof lt.stack=="string"){for(var $=lt.stack.split(`
`),et=_.stack.split(`
`),rt=$.length-1,j=et.length-1;1<=rt&&0<=j&&$[rt]!==et[j];)j--;for(;1<=rt&&0<=j;rt--,j--)if($[rt]!==et[j]){if(rt!==1||j!==1)do if(rt--,j--,0>j||$[rt]!==et[j]){var st=`
`+$[rt].replace(" at new "," at ");return i.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",i.displayName)),st}while(1<=rt&&0<=j);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return o=i.displayName||null,o!==null?o:Qa(i.type)||"Memo";case Ha:o=i._payload,i=i._init;try{return Qa(i(o))}catch{}}return null}function Ra(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(i){var o=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),_=""+i[o];if(!i.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var $=s.get,et=s.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return $.call(this)},set:function(rt){_=""+rt,et.call(this,rt)}}),Object.defineProperty(i,o,{enumerable:s.enumerable}),{getValue:function(){return _},setValue:function(rt){_=""+rt},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var s=o.getValue(),_="";return i&&(_=Ta(i)?i.checked?"true":"false":i.value),i=_,i!==s?(o.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,o){var s=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,o){var s=o.defaultValue==null?"":o.defaultValue,_=o.checked!=null?o.checked:o.defaultChecked;s=Sa(o.value!=null?o.value:s),i._wrapperState={initialChecked:_,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(i,o){o=o.checked,o!=null&&ta(i,"checked",o,!1)}function bb(i,o){ab(i,o);var s=Sa(o.value),_=o.type;if(s!=null)_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(_==="submit"||_==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?cb(i,o.type,s):o.hasOwnProperty("defaultValue")&&cb(i,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function db(i,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var _=o.type;if(!(_!=="submit"&&_!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,s||o===i.value||(i.value=o),i.defaultValue=o}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,o,s){(o!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,o,s,_){if(i=i.options,o){o={};for(var $=0;$<s.length;$++)o["$"+s[$]]=!0;for(s=0;s<i.length;s++)$=o.hasOwnProperty("$"+i[s].value),i[s].selected!==$&&(i[s].selected=$),$&&_&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),o=null,$=0;$<i.length;$++){if(i[$].value===s){i[$].selected=!0,_&&(i[$].defaultSelected=!0);return}o!==null||i[$].disabled||(o=i[$])}o!==null&&(o.selected=!0)}}function gb(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(p$1(92));if(eb(s)){if(1<s.length)throw Error(p$1(93));s=s[0]}o=s}o==null&&(o=""),s=o}i._wrapperState={initialValue:Sa(s)}}function ib(i,o){var s=Sa(o.value),_=Sa(o.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),o.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),_!=null&&(i.defaultValue=""+_)}function jb(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,_,$){MSApp.execUnsafeLocalFunction(function(){return i(o,s,_,$)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ob(i,o){if(o){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=o;return}}i.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),pb[o]=pb[i]})});function rb(i,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||pb.hasOwnProperty(i)&&pb[i]?(""+o).trim():o+"px"}function sb(i,o){i=i.style;for(var s in o)if(o.hasOwnProperty(s)){var _=s.indexOf("--")===0,$=rb(s,o[s],_);s==="float"&&(s="cssFloat"),_?i.setProperty(s,$):i[s]=$}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,o){if(o){if(tb[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$1(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$1(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$1(62))}}function vb(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var o=i.stateNode;o&&(o=Db(o),yb(i.stateNode,i.type,o))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,o=Ab;if(Ab=zb=null,Bb(i),o)for(i=0;i<o.length;i++)Bb(o[i])}}function Gb(i,o){return i(o)}function Hb(){}var Ib=!1;function Jb(i,o,s){if(Ib)return i(o,s);Ib=!0;try{return Gb(i,o,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,o){var s=i.stateNode;if(s===null)return null;var _=Db(s);if(_===null)return null;s=_[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(i=i.type,_=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!_;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p$1(231,o,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,o,s,_,$,et,rt,j,st){var lt=Array.prototype.slice.call(arguments,3);try{o.apply(s,lt)}catch(gt){this.onError(gt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,o,s,_,$,et,rt,j,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,o,s,_,$,et,rt,j,st){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=lt)}}function Vb(i){var o=i,s=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(s=o.return),i=o.return;while(i)}return o.tag===3?s:null}function Wb(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var o=i.alternate;if(!o){if(o=Vb(i),o===null)throw Error(p$1(188));return o!==i?null:i}for(var s=i,_=o;;){var $=s.return;if($===null)break;var et=$.alternate;if(et===null){if(_=$.return,_!==null){s=_;continue}break}if($.child===et.child){for(et=$.child;et;){if(et===s)return Xb($),i;if(et===_)return Xb($),o;et=et.sibling}throw Error(p$1(188))}if(s.return!==_.return)s=$,_=et;else{for(var rt=!1,j=$.child;j;){if(j===s){rt=!0,s=$,_=et;break}if(j===_){rt=!0,_=$,s=et;break}j=j.sibling}if(!rt){for(j=et.child;j;){if(j===s){rt=!0,s=et,_=$;break}if(j===_){rt=!0,_=et,s=$;break}j=j.sibling}if(!rt)throw Error(p$1(189))}}if(s.alternate!==_)throw Error(p$1(190))}if(s.tag!==3)throw Error(p$1(188));return s.stateNode.current===s?i:o}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$b(i);if(o!==null)return o;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,o){var s=i.pendingLanes;if(s===0)return 0;var _=0,$=i.suspendedLanes,et=i.pingedLanes,rt=s&268435455;if(rt!==0){var j=rt&~$;j!==0?_=tc(j):(et&=rt,et!==0&&(_=tc(et)))}else rt=s&~$,rt!==0?_=tc(rt):et!==0&&(_=tc(et));if(_===0)return 0;if(o!==0&&o!==_&&!(o&$)&&($=_&-_,et=o&-o,$>=et||$===16&&(et&4194240)!==0))return o;if(_&4&&(_|=s&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=_;0<o;)s=31-oc(o),$=1<<s,_|=i[s],o&=~$;return _}function vc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,o){for(var s=i.suspendedLanes,_=i.pingedLanes,$=i.expirationTimes,et=i.pendingLanes;0<et;){var rt=31-oc(et),j=1<<rt,st=$[rt];st===-1?(!(j&s)||j&_)&&($[rt]=vc(j,o)):st<=o&&(i.expiredLanes|=j),et&=~j}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var o=[],s=0;31>s;s++)o.push(i);return o}function Ac(i,o,s){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-oc(o),i[o]=s}function Bc(i,o){var s=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var _=i.eventTimes;for(i=i.expirationTimes;0<s;){var $=31-oc(s),et=1<<$;o[$]=0,_[$]=-1,i[$]=-1,s&=~et}}function Cc(i,o){var s=i.entangledLanes|=o;for(i=i.entanglements;s;){var _=31-oc(s),$=1<<_;$&o|i[_]&o&&(i[_]|=o),s&=~$}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,o){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(i,o,s,_,$,et){return i===null||i.nativeEvent!==et?(i={blockedOn:o,domEventName:s,eventSystemFlags:_,nativeEvent:et,targetContainers:[$]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),i):(i.eventSystemFlags|=_,o=i.targetContainers,$!==null&&o.indexOf($)===-1&&o.push($),i)}function Uc(i,o,s,_,$){switch(o){case"focusin":return Lc=Tc(Lc,i,o,s,_,$),!0;case"dragenter":return Mc=Tc(Mc,i,o,s,_,$),!0;case"mouseover":return Nc=Tc(Nc,i,o,s,_,$),!0;case"pointerover":var et=$.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,i,o,s,_,$)),!0;case"gotpointercapture":return et=$.pointerId,Pc.set(et,Tc(Pc.get(et)||null,i,o,s,_,$)),!0}return!1}function Vc(i){var o=Wc(i.target);if(o!==null){var s=Vb(o);if(s!==null){if(o=s.tag,o===13){if(o=Wb(s),o!==null){i.blockedOn=o,Ic(i.priority,function(){Gc(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var s=Yc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var _=new s.constructor(s.type,s);wb=_,s.target.dispatchEvent(_),wb=null}else return o=Cb(s),o!==null&&Fc(o),i.blockedOn=s,!1;o.shift()}return!0}function Zc(i,o,s){Xc(i)&&s.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,o){i.blockedOn===o&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function o($){return ad($,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var _=Kc[s];_.blockedOn===i&&(_.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(o),Pc.forEach(o),s=0;s<Qc.length;s++)_=Qc[s],_.blockedOn===i&&(_.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(i,o,s,_){var $=C,et=cd.transition;cd.transition=null;try{C=1,fd(i,o,s,_)}finally{C=$,cd.transition=et}}function gd(i,o,s,_){var $=C,et=cd.transition;cd.transition=null;try{C=4,fd(i,o,s,_)}finally{C=$,cd.transition=et}}function fd(i,o,s,_){if(dd){var $=Yc(i,o,s,_);if($===null)hd(i,o,_,id,s),Sc(i,_);else if(Uc($,i,o,s,_))_.stopPropagation();else if(Sc(i,_),o&4&&-1<Rc.indexOf(i)){for(;$!==null;){var et=Cb($);if(et!==null&&Ec(et),et=Yc(i,o,s,_),et===null&&hd(i,o,_,id,s),et===$)break;$=et}$!==null&&_.stopPropagation()}else hd(i,o,_,null,s)}}var id=null;function Yc(i,o,s,_){if(id=null,i=xb(_),i=Wc(i),i!==null)if(o=Vb(i),o===null)i=null;else if(s=o.tag,s===13){if(i=Wb(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,o=ld,s=o.length,_,$="value"in kd?kd.value:kd.textContent,et=$.length;for(i=0;i<s&&o[i]===$[i];i++);var rt=s-i;for(_=1;_<=rt&&o[s-_]===$[et-_];_++);return md=$.slice(i,1<_?1-_:void 0)}function od(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function o(s,_,$,et,rt){this._reactName=s,this._targetInst=$,this.type=_,this.nativeEvent=et,this.target=rt,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(s=i[j],this[j]=s?s(et):et[j]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Od[i])?!!o[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var o=Md[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,o){switch(i){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,o){switch(i){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return i=o.data,i===ee&&fe?null:i;default:return null}}function ke(i,o){if(ie)return i==="compositionend"||!ae&&ge(i,o)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!le[i.type]:o==="textarea"}function ne(i,o,s,_){Eb(_),o=oe(o,"onChange"),0<o.length&&(s=new td("onChange","change",null,s,_),i.push({event:s,listeners:o}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var o=ue(i);if(Wa(o))return i}function ve(i,o){if(i==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,i,xb(i)),Jb(re,o)}}function Ce(i,o,s){i==="focusin"?(Ae(),pe=o,qe=s,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,o){if(i==="click")return te(o)}function Fe(i,o){if(i==="input"||i==="change")return te(o)}function Ge(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,o){if(He(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var s=Object.keys(i),_=Object.keys(o);if(s.length!==_.length)return!1;for(_=0;_<s.length;_++){var $=s[_];if(!ja.call(o,$)||!He(i[$],o[$]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke$1(i,o){var s=Je(i);i=0;for(var _;s;){if(s.nodeType===3){if(_=i+s.textContent.length,i<=o&&_>=o)return{node:s,offset:o-i};i=_}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Le(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var i=window,o=Xa();o instanceof i.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)i=o.contentWindow;else break;o=Xa(i.document)}return o}function Ne(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Oe$1(i){var o=Me(),s=i.focusedElem,_=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(_!==null&&Ne(s)){if(o=_.start,i=_.end,i===void 0&&(i=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(i,s.value.length);else if(i=(o=s.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var $=s.textContent.length,et=Math.min(_.start,$);_=_.end===void 0?et:Math.min(_.end,$),!i.extend&&et>_&&($=_,_=et,et=$),$=Ke$1(s,et);var rt=Ke$1(s,_);$&&rt&&(i.rangeCount!==1||i.anchorNode!==$.node||i.anchorOffset!==$.offset||i.focusNode!==rt.node||i.focusOffset!==rt.offset)&&(o=o.createRange(),o.setStart($.node,$.offset),i.removeAllRanges(),et>_?(i.addRange(o),i.extend(rt.node,rt.offset)):(o.setEnd(rt.node,rt.offset),i.addRange(o)))}}for(o=[],i=s;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)i=o[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue$1(i,o,s){var _=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$1||Qe==null||Qe!==Xa(_)||(_=Qe,"selectionStart"in _&&Ne(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Se&&Ie(Se,_)||(Se=_,_=oe(Re,"onSelect"),0<_.length&&(o=new td("onSelect","select",null,o,s),i.push({event:o,listeners:_}),o.target=Qe)))}function Ve(i,o){var s={};return s[i.toLowerCase()]=o.toLowerCase(),s["Webkit"+i]="webkit"+o,s["Moz"+i]="moz"+o,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var o=We[i],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ye)return Xe[i]=o[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,o){df.set(i,o),fa(o,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,o,s){var _=i.type||"unknown-event";i.currentTarget=s,Ub(_,o,void 0,i),i.currentTarget=null}function se(i,o){o=(o&4)!==0;for(var s=0;s<i.length;s++){var _=i[s],$=_.event;_=_.listeners;e:{var et=void 0;if(o)for(var rt=_.length-1;0<=rt;rt--){var j=_[rt],st=j.instance,lt=j.currentTarget;if(j=j.listener,st!==et&&$.isPropagationStopped())break e;nf($,j,lt),et=st}else for(rt=0;rt<_.length;rt++){if(j=_[rt],st=j.instance,lt=j.currentTarget,j=j.listener,st!==et&&$.isPropagationStopped())break e;nf($,j,lt),et=st}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,o){var s=o[of];s===void 0&&(s=o[of]=new Set);var _=i+"__bubble";s.has(_)||(pf(o,i,2,!1),s.add(_))}function qf(i,o,s){var _=0;o&&(_|=4),pf(s,i,_,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(i,o,s,_){switch(jd(o)){case 1:var $=ed;break;case 4:$=gd;break;default:$=fd}s=$.bind(null,o,s,i),$=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||($=!0),_?$!==void 0?i.addEventListener(o,s,{capture:!0,passive:$}):i.addEventListener(o,s,!0):$!==void 0?i.addEventListener(o,s,{passive:$}):i.addEventListener(o,s,!1)}function hd(i,o,s,_,$){var et=_;if(!(o&1)&&!(o&2)&&_!==null)e:for(;;){if(_===null)return;var rt=_.tag;if(rt===3||rt===4){var j=_.stateNode.containerInfo;if(j===$||j.nodeType===8&&j.parentNode===$)break;if(rt===4)for(rt=_.return;rt!==null;){var st=rt.tag;if((st===3||st===4)&&(st=rt.stateNode.containerInfo,st===$||st.nodeType===8&&st.parentNode===$))return;rt=rt.return}for(;j!==null;){if(rt=Wc(j),rt===null)return;if(st=rt.tag,st===5||st===6){_=et=rt;continue e}j=j.parentNode}}_=_.return}Jb(function(){var lt=et,gt=xb(s),bt=[];e:{var Ut=df.get(i);if(Ut!==void 0){var Ft=td,yt=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":Ft=Rd;break;case"focusin":yt="focus",Ft=Fd;break;case"focusout":yt="blur",Ft=Fd;break;case"beforeblur":case"afterblur":Ft=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=Vd;break;case $e:case af:case bf:Ft=Hd;break;case cf:Ft=Xd;break;case"scroll":Ft=vd;break;case"wheel":Ft=Zd;break;case"copy":case"cut":case"paste":Ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=Td}var Qt=(o&4)!==0,wt=!Qt&&i==="scroll",Tt=Qt?Ut!==null?Ut+"Capture":null:Ut;Qt=[];for(var Jt=lt,At;Jt!==null;){At=Jt;var Nt=At.stateNode;if(At.tag===5&&Nt!==null&&(At=Nt,Tt!==null&&(Nt=Kb(Jt,Tt),Nt!=null&&Qt.push(tf(Jt,Nt,At)))),wt)break;Jt=Jt.return}0<Qt.length&&(Ut=new Ft(Ut,yt,null,s,gt),bt.push({event:Ut,listeners:Qt}))}}if(!(o&7)){e:{if(Ut=i==="mouseover"||i==="pointerover",Ft=i==="mouseout"||i==="pointerout",Ut&&s!==wb&&(yt=s.relatedTarget||s.fromElement)&&(Wc(yt)||yt[uf]))break e;if((Ft||Ut)&&(Ut=gt.window===gt?gt:(Ut=gt.ownerDocument)?Ut.defaultView||Ut.parentWindow:window,Ft?(yt=s.relatedTarget||s.toElement,Ft=lt,yt=yt?Wc(yt):null,yt!==null&&(wt=Vb(yt),yt!==wt||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(Ft=null,yt=lt),Ft!==yt)){if(Qt=Bd,Nt="onMouseLeave",Tt="onMouseEnter",Jt="mouse",(i==="pointerout"||i==="pointerover")&&(Qt=Td,Nt="onPointerLeave",Tt="onPointerEnter",Jt="pointer"),wt=Ft==null?Ut:ue(Ft),At=yt==null?Ut:ue(yt),Ut=new Qt(Nt,Jt+"leave",Ft,s,gt),Ut.target=wt,Ut.relatedTarget=At,Nt=null,Wc(gt)===lt&&(Qt=new Qt(Tt,Jt+"enter",yt,s,gt),Qt.target=At,Qt.relatedTarget=wt,Nt=Qt),wt=Nt,Ft&&yt)t:{for(Qt=Ft,Tt=yt,Jt=0,At=Qt;At;At=vf(At))Jt++;for(At=0,Nt=Tt;Nt;Nt=vf(Nt))At++;for(;0<Jt-At;)Qt=vf(Qt),Jt--;for(;0<At-Jt;)Tt=vf(Tt),At--;for(;Jt--;){if(Qt===Tt||Tt!==null&&Qt===Tt.alternate)break t;Qt=vf(Qt),Tt=vf(Tt)}Qt=null}else Qt=null;Ft!==null&&wf(bt,Ut,Ft,Qt,!1),yt!==null&&wt!==null&&wf(bt,wt,yt,Qt,!0)}}e:{if(Ut=lt?ue(lt):window,Ft=Ut.nodeName&&Ut.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&Ut.type==="file")var St=ve;else if(me(Ut))if(we)St=Fe;else{St=De;var Ot=Ce}else(Ft=Ut.nodeName)&&Ft.toLowerCase()==="input"&&(Ut.type==="checkbox"||Ut.type==="radio")&&(St=Ee);if(St&&(St=St(i,lt))){ne(bt,St,s,gt);break e}Ot&&Ot(i,Ut,lt),i==="focusout"&&(Ot=Ut._wrapperState)&&Ot.controlled&&Ut.type==="number"&&cb(Ut,"number",Ut.value)}switch(Ot=lt?ue(lt):window,i){case"focusin":(me(Ot)||Ot.contentEditable==="true")&&(Qe=Ot,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(bt,s,gt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(bt,s,gt)}var nn;if(ae)e:{switch(i){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else ie?ge(i,s)&&(yn="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(yn="onCompositionStart");yn&&(de&&s.locale!=="ko"&&(ie||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&ie&&(nn=nd()):(kd=gt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ot=oe(lt,yn),0<Ot.length&&(yn=new Ld(yn,i,null,s,gt),bt.push({event:yn,listeners:Ot}),nn?yn.data=nn:(nn=he(s),nn!==null&&(yn.data=nn)))),(nn=ce?je(i,s):ke(i,s))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(gt=new Ld("onBeforeInput","beforeinput",null,s,gt),bt.push({event:gt,listeners:lt}),gt.data=nn))}se(bt,o)})}function tf(i,o,s){return{instance:i,listener:o,currentTarget:s}}function oe(i,o){for(var s=o+"Capture",_=[];i!==null;){var $=i,et=$.stateNode;$.tag===5&&et!==null&&($=et,et=Kb(i,s),et!=null&&_.unshift(tf(i,et,$)),et=Kb(i,o),et!=null&&_.push(tf(i,et,$))),i=i.return}return _}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,o,s,_,$){for(var et=o._reactName,rt=[];s!==null&&s!==_;){var j=s,st=j.alternate,lt=j.stateNode;if(st!==null&&st===_)break;j.tag===5&&lt!==null&&(j=lt,$?(st=Kb(s,et),st!=null&&rt.unshift(tf(s,st,j))):$||(st=Kb(s,et),st!=null&&rt.push(tf(s,st,j)))),s=s.return}rt.length!==0&&i.push({event:o,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,o,s){if(o=zf(o),zf(i)!==o&&s)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,o){var s=o,_=0;do{var $=s.nextSibling;if(i.removeChild(s),$&&$.nodeType===8)if(s=$.data,s==="/$"){if(_===0){i.removeChild($),bd(o);return}_--}else s!=="$"&&s!=="$?"&&s!=="$!"||_++;s=$}while(s);bd(o)}function Lf(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return i;o--}else s==="/$"&&o++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var o=i[Of];if(o)return o;for(var s=i.parentNode;s;){if(o=s[uf]||s[Of]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return o}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,o){Tf++,Sf[Tf]=i.current,i.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,o){var s=i.type.contextTypes;if(!s)return Vf;var _=i.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===o)return _.__reactInternalMemoizedMaskedChildContext;var $={},et;for(et in s)$[et]=o[et];return _&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=$),$}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,o,s){if(H.current!==Vf)throw Error(p$1(168));G(H,o),G(Wf,s)}function bg(i,o,s){var _=i.stateNode;if(o=o.childContextTypes,typeof _.getChildContext!="function")return s;_=_.getChildContext();for(var $ in _)if(!($ in o))throw Error(p$1(108,Ra(i)||"Unknown",$));return A$1({},s,_)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,o,s){var _=i.stateNode;if(!_)throw Error(p$1(169));s?(i=bg(i,o,Xf),_.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,o=C;try{var s=eg;for(C=1;i<s.length;i++){var _=s[i];do _=_(!0);while(_!==null)}eg=null,fg=!1}catch($){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),$}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,o){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=o}function ug(i,o,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var _=rg;i=sg;var $=32-oc(_)-1;_&=~(1<<$),s+=1;var et=32-oc(o)+$;if(30<et){var rt=$-$%5;et=(_&(1<<rt)-1).toString(32),_>>=rt,$-=rt,rg=1<<32-oc(o)+$|s<<$|_,sg=et+i}else rg=1<<et|s<<$|_,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,o){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=i,o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)}function Cg(i,o){switch(i.tag){case 5:var s=i.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,xg=i,yg=Lf(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,xg=i,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=o,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var o=yg;if(o){var s=o;if(!Cg(i,o)){if(Dg(i))throw Error(p$1(418));o=Lf(s.nextSibling);var _=xg;o&&Cg(i,o)?Ag(_,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ef(i.type,i.memoizedProps)),o&&(o=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;o;)Ag(i,o),o=Lf(o.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(o===0){yg=Lf(i.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(i,o){if(i&&i.defaultProps){o=A$1({},o),i=i.defaultProps;for(var s in i)o[s]===void 0&&(o[s]=i[s]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var o=Mg.current;E(Mg),i._currentValue=o}function Sg(i,o,s){for(;i!==null;){var _=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,_!==null&&(_.childLanes|=o)):_!==null&&(_.childLanes&o)!==o&&(_.childLanes|=o),i===s)break;i=i.return}}function Tg(i,o){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Ug=!0),i.firstContext=null)}function Vg(i){var o=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return o}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,o,s,_){var $=o.interleaved;return $===null?(s.next=s,Xg(o)):(s.next=$.next,$.next=s),o.interleaved=s,Zg(i,_)}function Zg(i,o){i.lanes|=o;var s=i.alternate;for(s!==null&&(s.lanes|=o),s=i,i=i.return;i!==null;)i.childLanes|=o,s=i.alternate,s!==null&&(s.childLanes|=o),s=i,i=i.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(i,o,s){var _=i.updateQueue;if(_===null)return null;if(_=_.shared,K&2){var $=_.pending;return $===null?o.next=o:(o.next=$.next,$.next=o),_.pending=o,Zg(i,s)}return $=_.interleaved,$===null?(o.next=o,Xg(_)):(o.next=$.next,$.next=o),_.interleaved=o,Zg(i,s)}function eh(i,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var _=o.lanes;_&=i.pendingLanes,s|=_,o.lanes=s,Cc(i,s)}}function fh(i,o){var s=i.updateQueue,_=i.alternate;if(_!==null&&(_=_.updateQueue,s===_)){var $=null,et=null;if(s=s.firstBaseUpdate,s!==null){do{var rt={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};et===null?$=et=rt:et=et.next=rt,s=s.next}while(s!==null);et===null?$=et=o:et=et.next=o}else $=et=o;s={baseState:_.baseState,firstBaseUpdate:$,lastBaseUpdate:et,shared:_.shared,effects:_.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=o:i.next=o,s.lastBaseUpdate=o}function gh(i,o,s,_){var $=i.updateQueue;$g=!1;var et=$.firstBaseUpdate,rt=$.lastBaseUpdate,j=$.shared.pending;if(j!==null){$.shared.pending=null;var st=j,lt=st.next;st.next=null,rt===null?et=lt:rt.next=lt,rt=st;var gt=i.alternate;gt!==null&&(gt=gt.updateQueue,j=gt.lastBaseUpdate,j!==rt&&(j===null?gt.firstBaseUpdate=lt:j.next=lt,gt.lastBaseUpdate=st))}if(et!==null){var bt=$.baseState;rt=0,gt=lt=st=null,j=et;do{var Ut=j.lane,Ft=j.eventTime;if((_&Ut)===Ut){gt!==null&&(gt=gt.next={eventTime:Ft,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var yt=i,Qt=j;switch(Ut=o,Ft=s,Qt.tag){case 1:if(yt=Qt.payload,typeof yt=="function"){bt=yt.call(Ft,bt,Ut);break e}bt=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Qt.payload,Ut=typeof yt=="function"?yt.call(Ft,bt,Ut):yt,Ut==null)break e;bt=A$1({},bt,Ut);break e;case 2:$g=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,Ut=$.effects,Ut===null?$.effects=[j]:Ut.push(j))}else Ft={eventTime:Ft,lane:Ut,tag:j.tag,payload:j.payload,callback:j.callback,next:null},gt===null?(lt=gt=Ft,st=bt):gt=gt.next=Ft,rt|=Ut;if(j=j.next,j===null){if(j=$.shared.pending,j===null)break;Ut=j,j=Ut.next,Ut.next=null,$.lastBaseUpdate=Ut,$.shared.pending=null}}while(1);if(gt===null&&(st=bt),$.baseState=st,$.firstBaseUpdate=lt,$.lastBaseUpdate=gt,o=$.shared.interleaved,o!==null){$=o;do rt|=$.lane,$=$.next;while($!==o)}else et===null&&($.shared.lanes=0);hh|=rt,i.lanes=rt,i.memoizedState=bt}}function ih(i,o,s){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var _=i[o],$=_.callback;if($!==null){if(_.callback=null,_=s,typeof $!="function")throw Error(p$1(191,$));$.call(_)}}}var jh=new aa.Component().refs;function kh(i,o,s,_){o=i.memoizedState,s=s(_,o),s=s==null?o:A$1({},o,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,o,s){i=i._reactInternals;var _=L(),$=lh(i),et=ch(_,$);et.payload=o,s!=null&&(et.callback=s),o=dh(i,et,$),o!==null&&(mh(o,i,$,_),eh(o,i,$))},enqueueReplaceState:function(i,o,s){i=i._reactInternals;var _=L(),$=lh(i),et=ch(_,$);et.tag=1,et.payload=o,s!=null&&(et.callback=s),o=dh(i,et,$),o!==null&&(mh(o,i,$,_),eh(o,i,$))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var s=L(),_=lh(i),$=ch(s,_);$.tag=2,o!=null&&($.callback=o),o=dh(i,$,_),o!==null&&(mh(o,i,_,s),eh(o,i,_))}};function oh(i,o,s,_,$,et,rt){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(_,et,rt):o.prototype&&o.prototype.isPureReactComponent?!Ie(s,_)||!Ie($,et):!0}function ph(i,o,s){var _=!1,$=Vf,et=o.contextType;return typeof et=="object"&&et!==null?et=Vg(et):($=Zf(o)?Xf:H.current,_=o.contextTypes,et=(_=_!=null)?Yf(i,$):Vf),o=new o(s,et),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,i.stateNode=o,o._reactInternals=i,_&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=$,i.__reactInternalMemoizedMaskedChildContext=et),o}function qh(i,o,s,_){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,_),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,_),o.state!==i&&nh.enqueueReplaceState(o,o.state,null)}function rh(i,o,s,_){var $=i.stateNode;$.props=s,$.state=i.memoizedState,$.refs=jh,ah(i);var et=o.contextType;typeof et=="object"&&et!==null?$.context=Vg(et):(et=Zf(o)?Xf:H.current,$.context=Yf(i,et)),$.state=i.memoizedState,et=o.getDerivedStateFromProps,typeof et=="function"&&(kh(i,o,et,s),$.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(o=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),o!==$.state&&nh.enqueueReplaceState($,$.state,null),gh(i,s,$,_),$.state=i.memoizedState),typeof $.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,o,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$1(309));var _=s.stateNode}if(!_)throw Error(p$1(147,i));var $=_,et=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===et?o.ref:(o=function(rt){var j=$.refs;j===jh&&(j=$.refs={}),rt===null?delete j[et]:j[et]=rt},o._stringRef=et,o)}if(typeof i!="string")throw Error(p$1(284));if(!s._owner)throw Error(p$1(290,i))}return i}function th(i,o){throw i=Object.prototype.toString.call(o),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function uh(i){var o=i._init;return o(i._payload)}function vh(i){function o(Tt,Jt){if(i){var At=Tt.deletions;At===null?(Tt.deletions=[Jt],Tt.flags|=16):At.push(Jt)}}function s(Tt,Jt){if(!i)return null;for(;Jt!==null;)o(Tt,Jt),Jt=Jt.sibling;return null}function _(Tt,Jt){for(Tt=new Map;Jt!==null;)Jt.key!==null?Tt.set(Jt.key,Jt):Tt.set(Jt.index,Jt),Jt=Jt.sibling;return Tt}function $(Tt,Jt){return Tt=wh(Tt,Jt),Tt.index=0,Tt.sibling=null,Tt}function et(Tt,Jt,At){return Tt.index=At,i?(At=Tt.alternate,At!==null?(At=At.index,At<Jt?(Tt.flags|=2,Jt):At):(Tt.flags|=2,Jt)):(Tt.flags|=1048576,Jt)}function rt(Tt){return i&&Tt.alternate===null&&(Tt.flags|=2),Tt}function j(Tt,Jt,At,Nt){return Jt===null||Jt.tag!==6?(Jt=xh(At,Tt.mode,Nt),Jt.return=Tt,Jt):(Jt=$(Jt,At),Jt.return=Tt,Jt)}function st(Tt,Jt,At,Nt){var St=At.type;return St===ya?gt(Tt,Jt,At.props.children,Nt,At.key):Jt!==null&&(Jt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===Ha&&uh(St)===Jt.type)?(Nt=$(Jt,At.props),Nt.ref=sh(Tt,Jt,At),Nt.return=Tt,Nt):(Nt=yh(At.type,At.key,At.props,null,Tt.mode,Nt),Nt.ref=sh(Tt,Jt,At),Nt.return=Tt,Nt)}function lt(Tt,Jt,At,Nt){return Jt===null||Jt.tag!==4||Jt.stateNode.containerInfo!==At.containerInfo||Jt.stateNode.implementation!==At.implementation?(Jt=zh(At,Tt.mode,Nt),Jt.return=Tt,Jt):(Jt=$(Jt,At.children||[]),Jt.return=Tt,Jt)}function gt(Tt,Jt,At,Nt,St){return Jt===null||Jt.tag!==7?(Jt=Ah(At,Tt.mode,Nt,St),Jt.return=Tt,Jt):(Jt=$(Jt,At),Jt.return=Tt,Jt)}function bt(Tt,Jt,At){if(typeof Jt=="string"&&Jt!==""||typeof Jt=="number")return Jt=xh(""+Jt,Tt.mode,At),Jt.return=Tt,Jt;if(typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case va:return At=yh(Jt.type,Jt.key,Jt.props,null,Tt.mode,At),At.ref=sh(Tt,null,Jt),At.return=Tt,At;case wa:return Jt=zh(Jt,Tt.mode,At),Jt.return=Tt,Jt;case Ha:var Nt=Jt._init;return bt(Tt,Nt(Jt._payload),At)}if(eb(Jt)||Ka(Jt))return Jt=Ah(Jt,Tt.mode,At,null),Jt.return=Tt,Jt;th(Tt,Jt)}return null}function Ut(Tt,Jt,At,Nt){var St=Jt!==null?Jt.key:null;if(typeof At=="string"&&At!==""||typeof At=="number")return St!==null?null:j(Tt,Jt,""+At,Nt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case va:return At.key===St?st(Tt,Jt,At,Nt):null;case wa:return At.key===St?lt(Tt,Jt,At,Nt):null;case Ha:return St=At._init,Ut(Tt,Jt,St(At._payload),Nt)}if(eb(At)||Ka(At))return St!==null?null:gt(Tt,Jt,At,Nt,null);th(Tt,At)}return null}function Ft(Tt,Jt,At,Nt,St){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return Tt=Tt.get(At)||null,j(Jt,Tt,""+Nt,St);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va:return Tt=Tt.get(Nt.key===null?At:Nt.key)||null,st(Jt,Tt,Nt,St);case wa:return Tt=Tt.get(Nt.key===null?At:Nt.key)||null,lt(Jt,Tt,Nt,St);case Ha:var Ot=Nt._init;return Ft(Tt,Jt,At,Ot(Nt._payload),St)}if(eb(Nt)||Ka(Nt))return Tt=Tt.get(At)||null,gt(Jt,Tt,Nt,St,null);th(Jt,Nt)}return null}function yt(Tt,Jt,At,Nt){for(var St=null,Ot=null,nn=Jt,yn=Jt=0,Ct=null;nn!==null&&yn<At.length;yn++){nn.index>yn?(Ct=nn,nn=null):Ct=nn.sibling;var Vt=Ut(Tt,nn,At[yn],Nt);if(Vt===null){nn===null&&(nn=Ct);break}i&&nn&&Vt.alternate===null&&o(Tt,nn),Jt=et(Vt,Jt,yn),Ot===null?St=Vt:Ot.sibling=Vt,Ot=Vt,nn=Ct}if(yn===At.length)return s(Tt,nn),I&&tg(Tt,yn),St;if(nn===null){for(;yn<At.length;yn++)nn=bt(Tt,At[yn],Nt),nn!==null&&(Jt=et(nn,Jt,yn),Ot===null?St=nn:Ot.sibling=nn,Ot=nn);return I&&tg(Tt,yn),St}for(nn=_(Tt,nn);yn<At.length;yn++)Ct=Ft(nn,Tt,yn,At[yn],Nt),Ct!==null&&(i&&Ct.alternate!==null&&nn.delete(Ct.key===null?yn:Ct.key),Jt=et(Ct,Jt,yn),Ot===null?St=Ct:Ot.sibling=Ct,Ot=Ct);return i&&nn.forEach(function(Yt){return o(Tt,Yt)}),I&&tg(Tt,yn),St}function Qt(Tt,Jt,At,Nt){var St=Ka(At);if(typeof St!="function")throw Error(p$1(150));if(At=St.call(At),At==null)throw Error(p$1(151));for(var Ot=St=null,nn=Jt,yn=Jt=0,Ct=null,Vt=At.next();nn!==null&&!Vt.done;yn++,Vt=At.next()){nn.index>yn?(Ct=nn,nn=null):Ct=nn.sibling;var Yt=Ut(Tt,nn,Vt.value,Nt);if(Yt===null){nn===null&&(nn=Ct);break}i&&nn&&Yt.alternate===null&&o(Tt,nn),Jt=et(Yt,Jt,yn),Ot===null?St=Yt:Ot.sibling=Yt,Ot=Yt,nn=Ct}if(Vt.done)return s(Tt,nn),I&&tg(Tt,yn),St;if(nn===null){for(;!Vt.done;yn++,Vt=At.next())Vt=bt(Tt,Vt.value,Nt),Vt!==null&&(Jt=et(Vt,Jt,yn),Ot===null?St=Vt:Ot.sibling=Vt,Ot=Vt);return I&&tg(Tt,yn),St}for(nn=_(Tt,nn);!Vt.done;yn++,Vt=At.next())Vt=Ft(nn,Tt,yn,Vt.value,Nt),Vt!==null&&(i&&Vt.alternate!==null&&nn.delete(Vt.key===null?yn:Vt.key),Jt=et(Vt,Jt,yn),Ot===null?St=Vt:Ot.sibling=Vt,Ot=Vt);return i&&nn.forEach(function(Pt){return o(Tt,Pt)}),I&&tg(Tt,yn),St}function wt(Tt,Jt,At,Nt){if(typeof At=="object"&&At!==null&&At.type===ya&&At.key===null&&(At=At.props.children),typeof At=="object"&&At!==null){switch(At.$$typeof){case va:e:{for(var St=At.key,Ot=Jt;Ot!==null;){if(Ot.key===St){if(St=At.type,St===ya){if(Ot.tag===7){s(Tt,Ot.sibling),Jt=$(Ot,At.props.children),Jt.return=Tt,Tt=Jt;break e}}else if(Ot.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===Ha&&uh(St)===Ot.type){s(Tt,Ot.sibling),Jt=$(Ot,At.props),Jt.ref=sh(Tt,Ot,At),Jt.return=Tt,Tt=Jt;break e}s(Tt,Ot);break}else o(Tt,Ot);Ot=Ot.sibling}At.type===ya?(Jt=Ah(At.props.children,Tt.mode,Nt,At.key),Jt.return=Tt,Tt=Jt):(Nt=yh(At.type,At.key,At.props,null,Tt.mode,Nt),Nt.ref=sh(Tt,Jt,At),Nt.return=Tt,Tt=Nt)}return rt(Tt);case wa:e:{for(Ot=At.key;Jt!==null;){if(Jt.key===Ot)if(Jt.tag===4&&Jt.stateNode.containerInfo===At.containerInfo&&Jt.stateNode.implementation===At.implementation){s(Tt,Jt.sibling),Jt=$(Jt,At.children||[]),Jt.return=Tt,Tt=Jt;break e}else{s(Tt,Jt);break}else o(Tt,Jt);Jt=Jt.sibling}Jt=zh(At,Tt.mode,Nt),Jt.return=Tt,Tt=Jt}return rt(Tt);case Ha:return Ot=At._init,wt(Tt,Jt,Ot(At._payload),Nt)}if(eb(At))return yt(Tt,Jt,At,Nt);if(Ka(At))return Qt(Tt,Jt,At,Nt);th(Tt,At)}return typeof At=="string"&&At!==""||typeof At=="number"?(At=""+At,Jt!==null&&Jt.tag===6?(s(Tt,Jt.sibling),Jt=$(Jt,At),Jt.return=Tt,Tt=Jt):(s(Tt,Jt),Jt=xh(At,Tt.mode,Nt),Jt.return=Tt,Tt=Jt),rt(Tt)):s(Tt,Jt)}return wt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$1(174));return i}function Ih(i,o){switch(G(Gh,o),G(Fh,i),G(Eh,Dh),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=lb(o,i)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var o=Hh(Eh.current),s=lb(o,i.type);o!==s&&(G(Fh,i),G(Eh,s))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var o=i;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(i,o){if(o===null)return!1;for(var s=0;s<o.length&&s<i.length;s++)if(!He(i[s],o[s]))return!1;return!0}function Xh(i,o,s,_,$,et){if(Rh=et,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=s(_,$),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$1(301));et+=1,P=O=null,o.updateQueue=null,Ph.current=$h,i=s(_,$)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$1(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=i;else{if(i===null)throw Error(p$1(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,o){return typeof o=="function"?o(i):o}function fi(i){var o=di(),s=o.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=i;var _=O,$=_.baseQueue,et=s.pending;if(et!==null){if($!==null){var rt=$.next;$.next=et.next,et.next=rt}_.baseQueue=$=et,s.pending=null}if($!==null){et=$.next,_=_.baseState;var j=rt=null,st=null,lt=et;do{var gt=lt.lane;if((Rh&gt)===gt)st!==null&&(st=st.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),_=lt.hasEagerState?lt.eagerState:i(_,lt.action);else{var bt={lane:gt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};st===null?(j=st=bt,rt=_):st=st.next=bt,N.lanes|=gt,hh|=gt}lt=lt.next}while(lt!==null&&lt!==et);st===null?rt=_:st.next=j,He(_,o.memoizedState)||(Ug=!0),o.memoizedState=_,o.baseState=rt,o.baseQueue=st,s.lastRenderedState=_}if(i=s.interleaved,i!==null){$=i;do et=$.lane,N.lanes|=et,hh|=et,$=$.next;while($!==i)}else $===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function gi(i){var o=di(),s=o.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=i;var _=s.dispatch,$=s.pending,et=o.memoizedState;if($!==null){s.pending=null;var rt=$=$.next;do et=i(et,rt.action),rt=rt.next;while(rt!==$);He(et,o.memoizedState)||(Ug=!0),o.memoizedState=et,o.baseQueue===null&&(o.baseState=et),s.lastRenderedState=et}return[et,_]}function hi(){}function ii(i,o){var s=N,_=di(),$=o(),et=!He(_.memoizedState,$);if(et&&(_.memoizedState=$,Ug=!0),_=_.queue,ji(ki.bind(null,s,_,i),[i]),_.getSnapshot!==o||et||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,_,$,o),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni(s,o,$)}return $}function ni(i,o,s){i.flags|=16384,i={getSnapshot:o,value:s},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[i]):(s=o.stores,s===null?o.stores=[i]:s.push(i))}function mi(i,o,s,_){o.value=s,o.getSnapshot=_,oi(o)&&pi(i)}function ki(i,o,s){return s(function(){oi(o)&&pi(i)})}function oi(i){var o=i.getSnapshot;i=i.value;try{var s=o();return!He(i,s)}catch{return!0}}function pi(i){var o=Zg(i,1);o!==null&&mh(o,i,1,-1)}function qi(i){var o=ci();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},o.queue=i,i=i.dispatch=ri.bind(null,N,i),[o.memoizedState,i]}function li(i,o,s,_){return i={tag:i,create:o,destroy:s,deps:_,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=i.next=i):(s=o.lastEffect,s===null?o.lastEffect=i.next=i:(_=s.next,s.next=i,i.next=_,o.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,o,s,_){var $=ci();N.flags|=i,$.memoizedState=li(1|o,s,void 0,_===void 0?null:_)}function ui(i,o,s,_){var $=di();_=_===void 0?null:_;var et=void 0;if(O!==null){var rt=O.memoizedState;if(et=rt.destroy,_!==null&&Wh(_,rt.deps)){$.memoizedState=li(o,s,et,_);return}}N.flags|=i,$.memoizedState=li(1|o,s,et,_)}function vi(i,o){return ti(8390656,8,i,o)}function ji(i,o){return ui(2048,8,i,o)}function wi(i,o){return ui(4,2,i,o)}function xi(i,o){return ui(4,4,i,o)}function yi(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zi(i,o,s){return s=s!=null?s.concat([i]):null,ui(4,4,yi.bind(null,o,i),s)}function Ai(){}function Bi(i,o){var s=di();o=o===void 0?null:o;var _=s.memoizedState;return _!==null&&o!==null&&Wh(o,_[1])?_[0]:(s.memoizedState=[i,o],i)}function Ci(i,o){var s=di();o=o===void 0?null:o;var _=s.memoizedState;return _!==null&&o!==null&&Wh(o,_[1])?_[0]:(i=i(),s.memoizedState=[i,o],i)}function Di(i,o,s){return Rh&21?(He(s,o)||(s=yc(),N.lanes|=s,hh|=s,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=s)}function Ei(i,o){var s=C;C=s!==0&&4>s?s:4,i(!0);var _=Qh.transition;Qh.transition={};try{i(!1),o()}finally{C=s,Qh.transition=_}}function Fi(){return di().memoizedState}function Gi(i,o,s){var _=lh(i);if(s={lane:_,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(o,s);else if(s=Yg(i,o,s,_),s!==null){var $=L();mh(s,i,_,$),Ji(s,o,_)}}function ri(i,o,s){var _=lh(i),$={lane:_,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(o,$);else{var et=i.alternate;if(i.lanes===0&&(et===null||et.lanes===0)&&(et=o.lastRenderedReducer,et!==null))try{var rt=o.lastRenderedState,j=et(rt,s);if($.hasEagerState=!0,$.eagerState=j,He(j,rt)){var st=o.interleaved;st===null?($.next=$,Xg(o)):($.next=st.next,st.next=$),o.interleaved=$;return}}catch{}finally{}s=Yg(i,o,$,_),s!==null&&($=L(),mh(s,i,_,$),Ji(s,o,_))}}function Hi(i){var o=i.alternate;return i===N||o!==null&&o===N}function Ii(i,o){Th=Sh=!0;var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}function Ji(i,o,s){if(s&4194240){var _=o.lanes;_&=i.pendingLanes,s|=_,o.lanes=s,Cc(i,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,o){return ci().memoizedState=[i,o===void 0?null:o],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,o,s){return s=s!=null?s.concat([i]):null,ti(4194308,4,yi.bind(null,o,i),s)},useLayoutEffect:function(i,o){return ti(4194308,4,i,o)},useInsertionEffect:function(i,o){return ti(4,2,i,o)},useMemo:function(i,o){var s=ci();return o=o===void 0?null:o,i=i(),s.memoizedState=[i,o],i},useReducer:function(i,o,s){var _=ci();return o=s!==void 0?s(o):o,_.memoizedState=_.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},_.queue=i,i=i.dispatch=Gi.bind(null,N,i),[_.memoizedState,i]},useRef:function(i){var o=ci();return i={current:i},o.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),o=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,s){var _=N,$=ci();if(I){if(s===void 0)throw Error(p$1(407));s=s()}else{if(s=o(),R===null)throw Error(p$1(349));Rh&30||ni(_,o,s)}$.memoizedState=s;var et={value:s,getSnapshot:o};return $.queue=et,vi(ki.bind(null,_,et,i),[i]),_.flags|=2048,li(9,mi.bind(null,_,et,s,o),void 0,null),s},useId:function(){var i=ci(),o=R.identifierPrefix;if(I){var s=sg,_=rg;s=(_&~(1<<32-oc(_)-1)).toString(32)+s,o=":"+o+"R"+s,s=Uh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Vh++,o=":"+o+"r"+s.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var o=di();return Di(o,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],o=di().memoizedState;return[i,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var o=di();return O===null?o.memoizedState=i:Di(o,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],o=di().memoizedState;return[i,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,o){try{var s="",_=o;do s+=Pa(_),_=_.return;while(_);var $=s}catch(et){$=`
Error generating stack: `+et.message+`
`+et.stack}return{value:i,source:o,stack:$,digest:null}}function Li(i,o,s){return{value:i,source:null,stack:s??null,digest:o??null}}function Mi(i,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,o,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var _=o.value;return s.callback=function(){Pi||(Pi=!0,Qi=_),Mi(i,o)},s}function Ri(i,o,s){s=ch(-1,s),s.tag=3;var _=i.type.getDerivedStateFromError;if(typeof _=="function"){var $=o.value;s.payload=function(){return _($)},s.callback=function(){Mi(i,o)}}var et=i.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(s.callback=function(){Mi(i,o),typeof _!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var rt=o.stack;this.componentDidCatch(o.value,{componentStack:rt!==null?rt:""})}),s}function Ti(i,o,s){var _=i.pingCache;if(_===null){_=i.pingCache=new Ni;var $=new Set;_.set(o,$)}else $=_.get(o),$===void 0&&($=new Set,_.set(o,$));$.has(s)||($.add(s),i=Ui.bind(null,i,o,s),o.then(i,i))}function Vi(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Wi(i,o,s,_,$){return i.mode&1?(i.flags|=65536,i.lanes=$,i):(i===o?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=ch(-1,1),o.tag=2,dh(s,o,1))),s.lanes|=1),i)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi(i,o,s,_){o.child=i===null?Ch(o,null,s,_):Bh(o,i.child,s,_)}function Zi(i,o,s,_,$){s=s.render;var et=o.ref;return Tg(o,$),_=Xh(i,o,s,_,et,$),s=bi(),i!==null&&!Ug?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~$,$i(i,o,$)):(I&&s&&vg(o),o.flags|=1,Yi(i,o,_,$),o.child)}function aj(i,o,s,_,$){if(i===null){var et=s.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=et,cj(i,o,et,_,$)):(i=yh(s.type,null,_,o,o.mode,$),i.ref=o.ref,i.return=o,o.child=i)}if(et=i.child,!(i.lanes&$)){var rt=et.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(rt,_)&&i.ref===o.ref)return $i(i,o,$)}return o.flags|=1,i=wh(et,_),i.ref=o.ref,i.return=o,o.child=i}function cj(i,o,s,_,$){if(i!==null){var et=i.memoizedProps;if(Ie(et,_)&&i.ref===o.ref)if(Ug=!1,o.pendingProps=_=et,(i.lanes&$)!==0)i.flags&131072&&(Ug=!0);else return o.lanes=i.lanes,$i(i,o,$)}return dj(i,o,s,_,$)}function ej(i,o,s){var _=o.pendingProps,$=_.children,et=i!==null?i.memoizedState:null;if(_.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return i=et!==null?et.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=et!==null?et.baseLanes:s,G(fj,gj),gj|=_}else et!==null?(_=et.baseLanes|s,o.memoizedState=null):_=s,G(fj,gj),gj|=_;return Yi(i,o,$,s),o.child}function hj(i,o){var s=o.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function dj(i,o,s,_,$){var et=Zf(s)?Xf:H.current;return et=Yf(o,et),Tg(o,$),s=Xh(i,o,s,_,et,$),_=bi(),i!==null&&!Ug?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~$,$i(i,o,$)):(I&&_&&vg(o),o.flags|=1,Yi(i,o,s,$),o.child)}function ij(i,o,s,_,$){if(Zf(s)){var et=!0;cg(o)}else et=!1;if(Tg(o,$),o.stateNode===null)jj(i,o),ph(o,s,_),rh(o,s,_,$),_=!0;else if(i===null){var rt=o.stateNode,j=o.memoizedProps;rt.props=j;var st=rt.context,lt=s.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(s)?Xf:H.current,lt=Yf(o,lt));var gt=s.getDerivedStateFromProps,bt=typeof gt=="function"||typeof rt.getSnapshotBeforeUpdate=="function";bt||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(j!==_||st!==lt)&&qh(o,rt,_,lt),$g=!1;var Ut=o.memoizedState;rt.state=Ut,gh(o,_,rt,$),st=o.memoizedState,j!==_||Ut!==st||Wf.current||$g?(typeof gt=="function"&&(kh(o,s,gt,_),st=o.memoizedState),(j=$g||oh(o,s,j,_,Ut,st,lt))?(bt||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(o.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=_,o.memoizedState=st),rt.props=_,rt.state=st,rt.context=lt,_=j):(typeof rt.componentDidMount=="function"&&(o.flags|=4194308),_=!1)}else{rt=o.stateNode,bh(i,o),j=o.memoizedProps,lt=o.type===o.elementType?j:Lg(o.type,j),rt.props=lt,bt=o.pendingProps,Ut=rt.context,st=s.contextType,typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(s)?Xf:H.current,st=Yf(o,st));var Ft=s.getDerivedStateFromProps;(gt=typeof Ft=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(j!==bt||Ut!==st)&&qh(o,rt,_,st),$g=!1,Ut=o.memoizedState,rt.state=Ut,gh(o,_,rt,$);var yt=o.memoizedState;j!==bt||Ut!==yt||Wf.current||$g?(typeof Ft=="function"&&(kh(o,s,Ft,_),yt=o.memoizedState),(lt=$g||oh(o,s,lt,_,Ut,yt,st)||!1)?(gt||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(_,yt,st),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(_,yt,st)),typeof rt.componentDidUpdate=="function"&&(o.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof rt.componentDidUpdate!="function"||j===i.memoizedProps&&Ut===i.memoizedState||(o.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&Ut===i.memoizedState||(o.flags|=1024),o.memoizedProps=_,o.memoizedState=yt),rt.props=_,rt.state=yt,rt.context=st,_=lt):(typeof rt.componentDidUpdate!="function"||j===i.memoizedProps&&Ut===i.memoizedState||(o.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&Ut===i.memoizedState||(o.flags|=1024),_=!1)}return kj(i,o,s,_,et,$)}function kj(i,o,s,_,$,et){hj(i,o);var rt=(o.flags&128)!==0;if(!_&&!rt)return $&&dg(o,s,!1),$i(i,o,et);_=o.stateNode,Xi.current=o;var j=rt&&typeof s.getDerivedStateFromError!="function"?null:_.render();return o.flags|=1,i!==null&&rt?(o.child=Bh(o,i.child,null,et),o.child=Bh(o,null,j,et)):Yi(i,o,j,et),o.memoizedState=_.state,$&&dg(o,s,!0),o.child}function lj(i){var o=i.stateNode;o.pendingContext?ag(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(i,o.context,!1),Ih(i,o.containerInfo)}function mj(i,o,s,_,$){return Ig(),Jg($),o.flags|=256,Yi(i,o,s,_),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,o,s){var _=o.pendingProps,$=M.current,et=!1,rt=(o.flags&128)!==0,j;if((j=rt)||(j=i!==null&&i.memoizedState===null?!1:($&2)!==0),j?(et=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&($|=1),G(M,$&1),i===null)return Eg(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(rt=_.children,i=_.fallback,et?(_=o.mode,et=o.child,rt={mode:"hidden",children:rt},!(_&1)&&et!==null?(et.childLanes=0,et.pendingProps=rt):et=qj(rt,_,0,null),i=Ah(i,_,s,null),et.return=o,i.return=o,et.sibling=i,o.child=et,o.child.memoizedState=oj(s),o.memoizedState=nj,i):rj(o,rt));if($=i.memoizedState,$!==null&&(j=$.dehydrated,j!==null))return sj(i,o,rt,_,j,$,s);if(et){et=_.fallback,rt=o.mode,$=i.child,j=$.sibling;var st={mode:"hidden",children:_.children};return!(rt&1)&&o.child!==$?(_=o.child,_.childLanes=0,_.pendingProps=st,o.deletions=null):(_=wh($,st),_.subtreeFlags=$.subtreeFlags&14680064),j!==null?et=wh(j,et):(et=Ah(et,rt,s,null),et.flags|=2),et.return=o,_.return=o,_.sibling=et,o.child=_,_=et,et=o.child,rt=i.child.memoizedState,rt=rt===null?oj(s):{baseLanes:rt.baseLanes|s,cachePool:null,transitions:rt.transitions},et.memoizedState=rt,et.childLanes=i.childLanes&~s,o.memoizedState=nj,_}return et=i.child,i=et.sibling,_=wh(et,{mode:"visible",children:_.children}),!(o.mode&1)&&(_.lanes=s),_.return=o,_.sibling=null,i!==null&&(s=o.deletions,s===null?(o.deletions=[i],o.flags|=16):s.push(i)),o.child=_,o.memoizedState=null,_}function rj(i,o){return o=qj({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function tj(i,o,s,_){return _!==null&&Jg(_),Bh(o,i.child,null,s),i=rj(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function sj(i,o,s,_,$,et,rt){if(s)return o.flags&256?(o.flags&=-257,_=Li(Error(p$1(422))),tj(i,o,rt,_)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(et=_.fallback,$=o.mode,_=qj({mode:"visible",children:_.children},$,0,null),et=Ah(et,$,rt,null),et.flags|=2,_.return=o,et.return=o,_.sibling=et,o.child=_,o.mode&1&&Bh(o,i.child,null,rt),o.child.memoizedState=oj(rt),o.memoizedState=nj,et);if(!(o.mode&1))return tj(i,o,rt,null);if($.data==="$!"){if(_=$.nextSibling&&$.nextSibling.dataset,_)var j=_.dgst;return _=j,et=Error(p$1(419)),_=Li(et,_,void 0),tj(i,o,rt,_)}if(j=(rt&i.childLanes)!==0,Ug||j){if(_=R,_!==null){switch(rt&-rt){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(_.suspendedLanes|rt)?0:$,$!==0&&$!==et.retryLane&&(et.retryLane=$,Zg(i,$),mh(_,i,$,-1))}return uj(),_=Li(Error(p$1(421))),tj(i,o,rt,_)}return $.data==="$?"?(o.flags|=128,o.child=i.child,o=vj.bind(null,i),$._reactRetry=o,null):(i=et.treeContext,yg=Lf($.nextSibling),xg=o,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=o),o=rj(o,_.children),o.flags|=4096,o)}function wj(i,o,s){i.lanes|=o;var _=i.alternate;_!==null&&(_.lanes|=o),Sg(i.return,o,s)}function xj(i,o,s,_,$){var et=i.memoizedState;et===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:_,tail:s,tailMode:$}:(et.isBackwards=o,et.rendering=null,et.renderingStartTime=0,et.last=_,et.tail=s,et.tailMode=$)}function yj(i,o,s){var _=o.pendingProps,$=_.revealOrder,et=_.tail;if(Yi(i,o,_.children,s),_=M.current,_&2)_=_&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,s,o);else if(i.tag===19)wj(i,s,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}_&=1}if(G(M,_),!(o.mode&1))o.memoizedState=null;else switch($){case"forwards":for(s=o.child,$=null;s!==null;)i=s.alternate,i!==null&&Mh(i)===null&&($=s),s=s.sibling;s=$,s===null?($=o.child,o.child=null):($=s.sibling,s.sibling=null),xj(o,!1,$,s,et);break;case"backwards":for(s=null,$=o.child,o.child=null;$!==null;){if(i=$.alternate,i!==null&&Mh(i)===null){o.child=$;break}i=$.sibling,$.sibling=s,s=$,$=i}xj(o,!0,s,null,et);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function $i(i,o,s){if(i!==null&&(o.dependencies=i.dependencies),hh|=o.lanes,!(s&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(p$1(153));if(o.child!==null){for(i=o.child,s=wh(i,i.pendingProps),o.child=s,s.return=o;i.sibling!==null;)i=i.sibling,s=s.sibling=wh(i,i.pendingProps),s.return=o;s.sibling=null}return o.child}function zj(i,o,s){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var _=o.type._context,$=o.memoizedProps.value;G(Mg,_._currentValue),_._currentValue=$;break;case 13:if(_=o.memoizedState,_!==null)return _.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):s&o.child.childLanes?pj(i,o,s):(G(M,M.current&1),i=$i(i,o,s),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(_=(s&o.childLanes)!==0,i.flags&128){if(_)return yj(i,o,s);o.flags|=128}if($=o.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),G(M,M.current),_)break;return null;case 22:case 23:return o.lanes=0,ej(i,o,s)}return $i(i,o,s)}var Aj,Bj,Cj,Dj;Aj=function(i,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(i,o,s,_){var $=i.memoizedProps;if($!==_){i=o.stateNode,Hh(Eh.current);var et=null;switch(s){case"input":$=Ya(i,$),_=Ya(i,_),et=[];break;case"select":$=A$1({},$,{value:void 0}),_=A$1({},_,{value:void 0}),et=[];break;case"textarea":$=gb(i,$),_=gb(i,_),et=[];break;default:typeof $.onClick!="function"&&typeof _.onClick=="function"&&(i.onclick=Bf)}ub(s,_);var rt;s=null;for(lt in $)if(!_.hasOwnProperty(lt)&&$.hasOwnProperty(lt)&&$[lt]!=null)if(lt==="style"){var j=$[lt];for(rt in j)j.hasOwnProperty(rt)&&(s||(s={}),s[rt]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?et||(et=[]):(et=et||[]).push(lt,null));for(lt in _){var st=_[lt];if(j=$!=null?$[lt]:void 0,_.hasOwnProperty(lt)&&st!==j&&(st!=null||j!=null))if(lt==="style")if(j){for(rt in j)!j.hasOwnProperty(rt)||st&&st.hasOwnProperty(rt)||(s||(s={}),s[rt]="");for(rt in st)st.hasOwnProperty(rt)&&j[rt]!==st[rt]&&(s||(s={}),s[rt]=st[rt])}else s||(et||(et=[]),et.push(lt,s)),s=st;else lt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,j=j?j.__html:void 0,st!=null&&j!==st&&(et=et||[]).push(lt,st)):lt==="children"?typeof st!="string"&&typeof st!="number"||(et=et||[]).push(lt,""+st):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(st!=null&&lt==="onScroll"&&D("scroll",i),et||j===st||(et=[])):(et=et||[]).push(lt,st))}s&&(et=et||[]).push("style",s);var lt=et;(o.updateQueue=lt)&&(o.flags|=4)}};Dj=function(i,o,s,_){s!==_&&(o.flags|=4)};function Ej(i,o){if(!I)switch(i.tailMode){case"hidden":o=i.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var _=null;s!==null;)s.alternate!==null&&(_=s),s=s.sibling;_===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:_.sibling=null}}function S(i){var o=i.alternate!==null&&i.alternate.child===i.child,s=0,_=0;if(o)for(var $=i.child;$!==null;)s|=$.lanes|$.childLanes,_|=$.subtreeFlags&14680064,_|=$.flags&14680064,$.return=i,$=$.sibling;else for($=i.child;$!==null;)s|=$.lanes|$.childLanes,_|=$.subtreeFlags,_|=$.flags,$.return=i,$=$.sibling;return i.subtreeFlags|=_,i.childLanes=s,o}function Fj(i,o,s){var _=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return _=o.stateNode,Jh(),E(Wf),E(H),Oh(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(i===null||i.child===null)&&(Gg(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,o),S(o),null;case 5:Lh(o);var $=Hh(Gh.current);if(s=o.type,i!==null&&o.stateNode!=null)Cj(i,o,s,_,$),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!_){if(o.stateNode===null)throw Error(p$1(166));return S(o),null}if(i=Hh(Eh.current),Gg(o)){_=o.stateNode,s=o.type;var et=o.memoizedProps;switch(_[Of]=o,_[Pf]=et,i=(o.mode&1)!==0,s){case"dialog":D("cancel",_),D("close",_);break;case"iframe":case"object":case"embed":D("load",_);break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],_);break;case"source":D("error",_);break;case"img":case"image":case"link":D("error",_),D("load",_);break;case"details":D("toggle",_);break;case"input":Za(_,et),D("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!et.multiple},D("invalid",_);break;case"textarea":hb(_,et),D("invalid",_)}ub(s,et),$=null;for(var rt in et)if(et.hasOwnProperty(rt)){var j=et[rt];rt==="children"?typeof j=="string"?_.textContent!==j&&(et.suppressHydrationWarning!==!0&&Af(_.textContent,j,i),$=["children",j]):typeof j=="number"&&_.textContent!==""+j&&(et.suppressHydrationWarning!==!0&&Af(_.textContent,j,i),$=["children",""+j]):ea.hasOwnProperty(rt)&&j!=null&&rt==="onScroll"&&D("scroll",_)}switch(s){case"input":Va(_),db(_,et,!0);break;case"textarea":Va(_),jb(_);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(_.onclick=Bf)}_=$,o.updateQueue=_,_!==null&&(o.flags|=4)}else{rt=$.nodeType===9?$:$.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=rt.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof _.is=="string"?i=rt.createElement(s,{is:_.is}):(i=rt.createElement(s),s==="select"&&(rt=i,_.multiple?rt.multiple=!0:_.size&&(rt.size=_.size))):i=rt.createElementNS(i,s),i[Of]=o,i[Pf]=_,Aj(i,o,!1,!1),o.stateNode=i;e:{switch(rt=vb(s,_),s){case"dialog":D("cancel",i),D("close",i),$=_;break;case"iframe":case"object":case"embed":D("load",i),$=_;break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],i);$=_;break;case"source":D("error",i),$=_;break;case"img":case"image":case"link":D("error",i),D("load",i),$=_;break;case"details":D("toggle",i),$=_;break;case"input":Za(i,_),$=Ya(i,_),D("invalid",i);break;case"option":$=_;break;case"select":i._wrapperState={wasMultiple:!!_.multiple},$=A$1({},_,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,_),$=gb(i,_),D("invalid",i);break;default:$=_}ub(s,$),j=$;for(et in j)if(j.hasOwnProperty(et)){var st=j[et];et==="style"?sb(i,st):et==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(i,st)):et==="children"?typeof st=="string"?(s!=="textarea"||st!=="")&&ob(i,st):typeof st=="number"&&ob(i,""+st):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?st!=null&&et==="onScroll"&&D("scroll",i):st!=null&&ta(i,et,st,rt))}switch(s){case"input":Va(i),db(i,_,!1);break;case"textarea":Va(i),jb(i);break;case"option":_.value!=null&&i.setAttribute("value",""+Sa(_.value));break;case"select":i.multiple=!!_.multiple,et=_.value,et!=null?fb(i,!!_.multiple,et,!1):_.defaultValue!=null&&fb(i,!!_.multiple,_.defaultValue,!0);break;default:typeof $.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(i&&o.stateNode!=null)Dj(i,o,i.memoizedProps,_);else{if(typeof _!="string"&&o.stateNode===null)throw Error(p$1(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(_=o.stateNode,s=o.memoizedProps,_[Of]=o,(et=_.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(_.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(_.nodeValue,s,(i.mode&1)!==0)}et&&(o.flags|=4)}else _=(s.nodeType===9?s:s.ownerDocument).createTextNode(_),_[Of]=o,o.stateNode=_}return S(o),null;case 13:if(E(M),_=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,et=!1;else if(et=Gg(o),_!==null&&_.dehydrated!==null){if(i===null){if(!et)throw Error(p$1(318));if(et=o.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):(_=_!==null,_!==(i!==null&&i.memoizedState!==null)&&_&&(o.child.flags|=8192,o.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(i,o),i===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),et=o.memoizedState,et===null)return S(o),null;if(_=(o.flags&128)!==0,rt=et.rendering,rt===null)if(_)Ej(et,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(rt=Mh(i),rt!==null){for(o.flags|=128,Ej(et,!1),_=rt.updateQueue,_!==null&&(o.updateQueue=_,o.flags|=4),o.subtreeFlags=0,_=s,s=o.child;s!==null;)et=s,i=_,et.flags&=14680066,rt=et.alternate,rt===null?(et.childLanes=0,et.lanes=i,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=rt.childLanes,et.lanes=rt.lanes,et.child=rt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=rt.memoizedProps,et.memoizedState=rt.memoizedState,et.updateQueue=rt.updateQueue,et.type=rt.type,i=rt.dependencies,et.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(M,M.current&1|2),o.child}i=i.sibling}et.tail!==null&&B()>Hj&&(o.flags|=128,_=!0,Ej(et,!1),o.lanes=4194304)}else{if(!_)if(i=Mh(rt),i!==null){if(o.flags|=128,_=!0,s=i.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!rt.alternate&&!I)return S(o),null}else 2*B()-et.renderingStartTime>Hj&&s!==1073741824&&(o.flags|=128,_=!0,Ej(et,!1),o.lanes=4194304);et.isBackwards?(rt.sibling=o.child,o.child=rt):(s=et.last,s!==null?s.sibling=rt:o.child=rt,et.last=rt)}return et.tail!==null?(o=et.tail,et.rendering=o,et.tail=o.sibling,et.renderingStartTime=B(),o.sibling=null,s=M.current,G(M,_?s&1|2:s&1),o):(S(o),null);case 22:case 23:return Ij(),_=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==_&&(o.flags|=8192),_&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$1(156,o.tag))}function Jj(i,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(p$1(340));Ig()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,o){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(_){W(i,o,_)}else s.current=null}function Nj(i,o,s){try{s()}catch(_){W(i,o,_)}}var Oj=!1;function Pj(i,o){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var _=s.getSelection&&s.getSelection();if(_&&_.rangeCount!==0){s=_.anchorNode;var $=_.anchorOffset,et=_.focusNode;_=_.focusOffset;try{s.nodeType,et.nodeType}catch{s=null;break e}var rt=0,j=-1,st=-1,lt=0,gt=0,bt=i,Ut=null;t:for(;;){for(var Ft;bt!==s||$!==0&&bt.nodeType!==3||(j=rt+$),bt!==et||_!==0&&bt.nodeType!==3||(st=rt+_),bt.nodeType===3&&(rt+=bt.nodeValue.length),(Ft=bt.firstChild)!==null;)Ut=bt,bt=Ft;for(;;){if(bt===i)break t;if(Ut===s&&++lt===$&&(j=rt),Ut===et&&++gt===_&&(st=rt),(Ft=bt.nextSibling)!==null)break;bt=Ut,Ut=bt.parentNode}bt=Ft}s=j===-1||st===-1?null:{start:j,end:st}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=o;V!==null;)if(o=V,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,V=i;else for(;V!==null;){o=V;try{var yt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var Qt=yt.memoizedProps,wt=yt.memoizedState,Tt=o.stateNode,Jt=Tt.getSnapshotBeforeUpdate(o.elementType===o.type?Qt:Lg(o.type,Qt),wt);Tt.__reactInternalSnapshotBeforeUpdate=Jt}break;case 3:var At=o.stateNode.containerInfo;At.nodeType===1?At.textContent="":At.nodeType===9&&At.documentElement&&At.removeChild(At.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Nt){W(o,o.return,Nt)}if(i=o.sibling,i!==null){i.return=o.return,V=i;break}V=o.return}return yt=Oj,Oj=!1,yt}function Qj(i,o,s){var _=o.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var $=_=_.next;do{if(($.tag&i)===i){var et=$.destroy;$.destroy=void 0,et!==void 0&&Nj(o,s,et)}$=$.next}while($!==_)}}function Rj(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&i)===i){var _=s.create;s.destroy=_()}s=s.next}while(s!==o)}}function Sj(i){var o=i.ref;if(o!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof o=="function"?o(i):o.current=i}}function Tj(i){var o=i.alternate;o!==null&&(i.alternate=null,Tj(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,o,s){var _=i.tag;if(_===5||_===6)i=i.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(i,o):s.insertBefore(i,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(i,s)):(o=s,o.appendChild(i)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Bf));else if(_!==4&&(i=i.child,i!==null))for(Wj(i,o,s),i=i.sibling;i!==null;)Wj(i,o,s),i=i.sibling}function Xj(i,o,s){var _=i.tag;if(_===5||_===6)i=i.stateNode,o?s.insertBefore(i,o):s.appendChild(i);else if(_!==4&&(i=i.child,i!==null))for(Xj(i,o,s),i=i.sibling;i!==null;)Xj(i,o,s),i=i.sibling}var X=null,Yj=!1;function Zj(i,o,s){for(s=s.child;s!==null;)ak(i,o,s),s=s.sibling}function ak(i,o,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,o);case 6:var _=X,$=Yj;X=null,Zj(i,o,s),X=_,Yj=$,X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X,s.stateNode));break;case 4:_=X,$=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(i,o,s),X=_,Yj=$;break;case 0:case 11:case 14:case 15:if(!U&&(_=s.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){$=_=_.next;do{var et=$,rt=et.destroy;et=et.tag,rt!==void 0&&(et&2||et&4)&&Nj(s,o,rt),$=$.next}while($!==_)}Zj(i,o,s);break;case 1:if(!U&&(Mj(s,o),_=s.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=s.memoizedProps,_.state=s.memoizedState,_.componentWillUnmount()}catch(j){W(s,o,j)}Zj(i,o,s);break;case 21:Zj(i,o,s);break;case 22:s.mode&1?(U=(_=U)||s.memoizedState!==null,Zj(i,o,s),U=_):Zj(i,o,s);break;default:Zj(i,o,s)}}function bk(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Lj),o.forEach(function(_){var $=ck.bind(null,i,_);s.has(_)||(s.add(_),_.then($,$))})}}function dk(i,o){var s=o.deletions;if(s!==null)for(var _=0;_<s.length;_++){var $=s[_];try{var et=i,rt=o,j=rt;e:for(;j!==null;){switch(j.tag){case 5:X=j.stateNode,Yj=!1;break e;case 3:X=j.stateNode.containerInfo,Yj=!0;break e;case 4:X=j.stateNode.containerInfo,Yj=!0;break e}j=j.return}if(X===null)throw Error(p$1(160));ak(et,rt,$),X=null,Yj=!1;var st=$.alternate;st!==null&&(st.return=null),$.return=null}catch(lt){W($,o,lt)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,i),o=o.sibling}function ek(i,o){var s=i.alternate,_=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(o,i),fk(i),_&4){try{Qj(3,i,i.return),Rj(3,i)}catch(Qt){W(i,i.return,Qt)}try{Qj(5,i,i.return)}catch(Qt){W(i,i.return,Qt)}}break;case 1:dk(o,i),fk(i),_&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(o,i),fk(i),_&512&&s!==null&&Mj(s,s.return),i.flags&32){var $=i.stateNode;try{ob($,"")}catch(Qt){W(i,i.return,Qt)}}if(_&4&&($=i.stateNode,$!=null)){var et=i.memoizedProps,rt=s!==null?s.memoizedProps:et,j=i.type,st=i.updateQueue;if(i.updateQueue=null,st!==null)try{j==="input"&&et.type==="radio"&&et.name!=null&&ab($,et),vb(j,rt);var lt=vb(j,et);for(rt=0;rt<st.length;rt+=2){var gt=st[rt],bt=st[rt+1];gt==="style"?sb($,bt):gt==="dangerouslySetInnerHTML"?nb($,bt):gt==="children"?ob($,bt):ta($,gt,bt,lt)}switch(j){case"input":bb($,et);break;case"textarea":ib($,et);break;case"select":var Ut=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!et.multiple;var Ft=et.value;Ft!=null?fb($,!!et.multiple,Ft,!1):Ut!==!!et.multiple&&(et.defaultValue!=null?fb($,!!et.multiple,et.defaultValue,!0):fb($,!!et.multiple,et.multiple?[]:"",!1))}$[Pf]=et}catch(Qt){W(i,i.return,Qt)}}break;case 6:if(dk(o,i),fk(i),_&4){if(i.stateNode===null)throw Error(p$1(162));$=i.stateNode,et=i.memoizedProps;try{$.nodeValue=et}catch(Qt){W(i,i.return,Qt)}}break;case 3:if(dk(o,i),fk(i),_&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(Qt){W(i,i.return,Qt)}break;case 4:dk(o,i),fk(i);break;case 13:dk(o,i),fk(i),$=i.child,$.flags&8192&&(et=$.memoizedState!==null,$.stateNode.isHidden=et,!et||$.alternate!==null&&$.alternate.memoizedState!==null||(gk=B())),_&4&&bk(i);break;case 22:if(gt=s!==null&&s.memoizedState!==null,i.mode&1?(U=(lt=U)||gt,dk(o,i),U=lt):dk(o,i),fk(i),_&8192){if(lt=i.memoizedState!==null,(i.stateNode.isHidden=lt)&&!gt&&i.mode&1)for(V=i,gt=i.child;gt!==null;){for(bt=V=gt;V!==null;){switch(Ut=V,Ft=Ut.child,Ut.tag){case 0:case 11:case 14:case 15:Qj(4,Ut,Ut.return);break;case 1:Mj(Ut,Ut.return);var yt=Ut.stateNode;if(typeof yt.componentWillUnmount=="function"){_=Ut,s=Ut.return;try{o=_,yt.props=o.memoizedProps,yt.state=o.memoizedState,yt.componentWillUnmount()}catch(Qt){W(_,s,Qt)}}break;case 5:Mj(Ut,Ut.return);break;case 22:if(Ut.memoizedState!==null){hk(bt);continue}}Ft!==null?(Ft.return=Ut,V=Ft):hk(bt)}gt=gt.sibling}e:for(gt=null,bt=i;;){if(bt.tag===5){if(gt===null){gt=bt;try{$=bt.stateNode,lt?(et=$.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(j=bt.stateNode,st=bt.memoizedProps.style,rt=st!=null&&st.hasOwnProperty("display")?st.display:null,j.style.display=rb("display",rt))}catch(Qt){W(i,i.return,Qt)}}}else if(bt.tag===6){if(gt===null)try{bt.stateNode.nodeValue=lt?"":bt.memoizedProps}catch(Qt){W(i,i.return,Qt)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===i)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===i)break e;for(;bt.sibling===null;){if(bt.return===null||bt.return===i)break e;gt===bt&&(gt=null),bt=bt.return}gt===bt&&(gt=null),bt.sibling.return=bt.return,bt=bt.sibling}}break;case 19:dk(o,i),fk(i),_&4&&bk(i);break;case 21:break;default:dk(o,i),fk(i)}}function fk(i){var o=i.flags;if(o&2){try{e:{for(var s=i.return;s!==null;){if(Uj(s)){var _=s;break e}s=s.return}throw Error(p$1(160))}switch(_.tag){case 5:var $=_.stateNode;_.flags&32&&(ob($,""),_.flags&=-33);var et=Vj(i);Xj(i,et,$);break;case 3:case 4:var rt=_.stateNode.containerInfo,j=Vj(i);Wj(i,j,rt);break;default:throw Error(p$1(161))}}catch(st){W(i,i.return,st)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ik(i,o,s){V=i,jk(i)}function jk(i,o,s){for(var _=(i.mode&1)!==0;V!==null;){var $=V,et=$.child;if($.tag===22&&_){var rt=$.memoizedState!==null||Kj;if(!rt){var j=$.alternate,st=j!==null&&j.memoizedState!==null||U;j=Kj;var lt=U;if(Kj=rt,(U=st)&&!lt)for(V=$;V!==null;)rt=V,st=rt.child,rt.tag===22&&rt.memoizedState!==null?kk($):st!==null?(st.return=rt,V=st):kk($);for(;et!==null;)V=et,jk(et),et=et.sibling;V=$,Kj=j,U=lt}lk(i)}else $.subtreeFlags&8772&&et!==null?(et.return=$,V=et):lk(i)}}function lk(i){for(;V!==null;){var o=V;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var _=o.stateNode;if(o.flags&4&&!U)if(s===null)_.componentDidMount();else{var $=o.elementType===o.type?s.memoizedProps:Lg(o.type,s.memoizedProps);_.componentDidUpdate($,s.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var et=o.updateQueue;et!==null&&ih(o,et,_);break;case 3:var rt=o.updateQueue;if(rt!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ih(o,rt,s)}break;case 5:var j=o.stateNode;if(s===null&&o.flags&4){s=j;var st=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&s.focus();break;case"img":st.src&&(s.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var lt=o.alternate;if(lt!==null){var gt=lt.memoizedState;if(gt!==null){var bt=gt.dehydrated;bt!==null&&bd(bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||o.flags&512&&Sj(o)}catch(Ut){W(o,o.return,Ut)}}if(o===i){V=null;break}if(s=o.sibling,s!==null){s.return=o.return,V=s;break}V=o.return}}function hk(i){for(;V!==null;){var o=V;if(o===i){V=null;break}var s=o.sibling;if(s!==null){s.return=o.return,V=s;break}V=o.return}}function kk(i){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Rj(4,o)}catch(st){W(o,s,st)}break;case 1:var _=o.stateNode;if(typeof _.componentDidMount=="function"){var $=o.return;try{_.componentDidMount()}catch(st){W(o,$,st)}}var et=o.return;try{Sj(o)}catch(st){W(o,et,st)}break;case 5:var rt=o.return;try{Sj(o)}catch(st){W(o,rt,st)}}}catch(st){W(o,o.return,st)}if(o===i){V=null;break}var j=o.sibling;if(j!==null){j.return=o.return,V=j;break}V=o.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,o,s,_){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(i,s,_),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=s),T===4&&Dk(i,Z)),Ek(i,_),s===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,o){var s=i.callbackNode;wc(i,o);var _=uc(i,i===R?Z:0);if(_===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(o=_&-_,i.callbackPriority!==o){if(s!=null&&bc(s),o===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(_)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,i))}i.callbackPriority=o,i.callbackNode=s}}function Hk(i,o){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var s=i.callbackNode;if(Ik()&&i.callbackNode!==s)return null;var _=uc(i,i===R?Z:0);if(_===0)return null;if(_&30||_&i.expiredLanes||o)o=Jk(i,_);else{o=_;var $=K;K|=2;var et=Kk();(R!==i||Z!==o)&&(vk=null,Hj=B()+500,Lk(i,o));do try{Mk();break}catch(j){Nk(i,j)}while(1);Qg(),nk.current=et,K=$,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&($=xc(i),$!==0&&(_=$,o=Ok(i,$))),o===1)throw s=qk,Lk(i,0),Dk(i,_),Ek(i,B()),s;if(o===6)Dk(i,_);else{if($=i.current.alternate,!(_&30)&&!Pk($)&&(o=Jk(i,_),o===2&&(et=xc(i),et!==0&&(_=et,o=Ok(i,et))),o===1))throw s=qk,Lk(i,0),Dk(i,_),Ek(i,B()),s;switch(i.finishedWork=$,i.finishedLanes=_,o){case 0:case 1:throw Error(p$1(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,_),(_&130023424)===_&&(o=gk+500-B(),10<o)){if(uc(i,0)!==0)break;if($=i.suspendedLanes,($&_)!==_){L(),i.pingedLanes|=i.suspendedLanes&$;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 4:if(Dk(i,_),(_&4194240)===_)break;for(o=i.eventTimes,$=-1;0<_;){var rt=31-oc(_);et=1<<rt,rt=o[rt],rt>$&&($=rt),_&=~et}if(_=$,_=B()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*mk(_/1960))-_,10<_){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),_);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(i,B()),i.callbackNode===s?Hk.bind(null,i):null}function Ok(i,o){var s=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,o).flags|=256),i=Jk(i,o),i!==2&&(o=uk,uk=s,o!==null&&Gj(o)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var o=i;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var _=0;_<s.length;_++){var $=s[_],et=$.getSnapshot;$=$.value;try{if(!He(et(),$))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(i,o){for(o&=~sk,o&=~rk,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var s=31-oc(o),_=1<<s;i[s]=-1,o&=~_}}function Fk(i){if(K&6)throw Error(p$1(327));Ik();var o=uc(i,0);if(!(o&1))return Ek(i,B()),null;var s=Jk(i,o);if(i.tag!==0&&s===2){var _=xc(i);_!==0&&(o=_,s=Ok(i,_))}if(s===1)throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;if(s===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,o){var s=K;K|=1;try{return i(o)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var s=pk.transition,_=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=_,pk.transition=s,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,o){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var _=s;switch(wg(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(_);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(_.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=i,Y=i=wh(i.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(s=Wg[o],_=s.interleaved,_!==null){s.interleaved=null;var $=_.next,et=s.pending;if(et!==null){var rt=et.next;et.next=$,_.next=rt}s.pending=_}Wg=null}return i}function Nk(i,o){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var _=N.memoizedState;_!==null;){var $=_.queue;$!==null&&($.pending=null),_=_.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=o,Y=null;break}e:{var et=i,rt=s.return,j=s,st=o;if(o=Z,j.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var lt=st,gt=j,bt=gt.tag;if(!(gt.mode&1)&&(bt===0||bt===11||bt===15)){var Ut=gt.alternate;Ut?(gt.updateQueue=Ut.updateQueue,gt.memoizedState=Ut.memoizedState,gt.lanes=Ut.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var Ft=Vi(rt);if(Ft!==null){Ft.flags&=-257,Wi(Ft,rt,j,et,o),Ft.mode&1&&Ti(et,lt,o),o=Ft,st=lt;var yt=o.updateQueue;if(yt===null){var Qt=new Set;Qt.add(st),o.updateQueue=Qt}else yt.add(st);break e}else{if(!(o&1)){Ti(et,lt,o),uj();break e}st=Error(p$1(426))}}else if(I&&j.mode&1){var wt=Vi(rt);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),Wi(wt,rt,j,et,o),Jg(Ki(st,j));break e}}et=st=Ki(st,j),T!==4&&(T=2),tk===null?tk=[et]:tk.push(et),et=rt;do{switch(et.tag){case 3:et.flags|=65536,o&=-o,et.lanes|=o;var Tt=Oi(et,st,o);fh(et,Tt);break e;case 1:j=st;var Jt=et.type,At=et.stateNode;if(!(et.flags&128)&&(typeof Jt.getDerivedStateFromError=="function"||At!==null&&typeof At.componentDidCatch=="function"&&(Si===null||!Si.has(At)))){et.flags|=65536,o&=-o,et.lanes|=o;var Nt=Ri(et,j,o);fh(et,Nt);break e}}et=et.return}while(et!==null)}Tk(s)}catch(St){o=St,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,o){var s=K;K|=2;var _=Kk();(R!==i||Z!==o)&&(vk=null,Lk(i,o));do try{Uk();break}catch($){Nk(i,$)}while(1);if(Qg(),K=s,nk.current=_,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var o=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,o===null?Tk(i):Y=o,ok.current=null}function Tk(i){var o=i;do{var s=o.alternate;if(i=o.return,o.flags&32768){if(s=Jj(s,o),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,o,gj),s!==null){Y=s;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=i}while(o!==null);T===0&&(T=5)}function Qk(i,o,s){var _=C,$=pk.transition;try{pk.transition=null,C=1,Xk(i,o,s,_)}finally{pk.transition=$,C=_}return null}function Xk(i,o,s,_){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));s=i.finishedWork;var $=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var et=s.lanes|s.childLanes;if(Bc(i,et),i===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),et=(s.flags&15990)!==0,s.subtreeFlags&15990||et){et=pk.transition,pk.transition=null;var rt=C;C=1;var j=K;K|=4,ok.current=null,Pj(i,s),ek(s,i),Oe$1(Df),dd=!!Cf,Df=Cf=null,i.current=s,ik(s),dc(),K=j,C=rt,pk.transition=et}else i.current=s;if(wk&&(wk=!1,xk=i,yk=$),et=i.pendingLanes,et===0&&(Si=null),mc(s.stateNode),Ek(i,B()),o!==null)for(_=i.onRecoverableError,s=0;s<o.length;s++)$=o[s],_($.value,{componentStack:$.stack,digest:$.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),et=i.pendingLanes,et&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),o=pk.transition,s=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var _=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var $=K;for(K|=4,V=i.current;V!==null;){var et=V,rt=et.child;if(V.flags&16){var j=et.deletions;if(j!==null){for(var st=0;st<j.length;st++){var lt=j[st];for(V=lt;V!==null;){var gt=V;switch(gt.tag){case 0:case 11:case 15:Qj(8,gt,et)}var bt=gt.child;if(bt!==null)bt.return=gt,V=bt;else for(;V!==null;){gt=V;var Ut=gt.sibling,Ft=gt.return;if(Tj(gt),gt===lt){V=null;break}if(Ut!==null){Ut.return=Ft,V=Ut;break}V=Ft}}}var yt=et.alternate;if(yt!==null){var Qt=yt.child;if(Qt!==null){yt.child=null;do{var wt=Qt.sibling;Qt.sibling=null,Qt=wt}while(Qt!==null)}}V=et}}if(et.subtreeFlags&2064&&rt!==null)rt.return=et,V=rt;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var Tt=et.sibling;if(Tt!==null){Tt.return=et.return,V=Tt;break e}V=et.return}}var Jt=i.current;for(V=Jt;V!==null;){rt=V;var At=rt.child;if(rt.subtreeFlags&2064&&At!==null)At.return=rt,V=At;else e:for(rt=Jt;V!==null;){if(j=V,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Rj(9,j)}}catch(St){W(j,j.return,St)}if(j===rt){V=null;break e}var Nt=j.sibling;if(Nt!==null){Nt.return=j.return,V=Nt;break e}V=j.return}}if(K=$,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}_=!0}return _}finally{C=s,pk.transition=o}}return!1}function Yk(i,o,s){o=Ki(s,o),o=Oi(i,o,1),i=dh(i,o,1),o=L(),i!==null&&(Ac(i,1,o),Ek(i,o))}function W(i,o,s){if(i.tag===3)Yk(i,i,s);else for(;o!==null;){if(o.tag===3){Yk(o,i,s);break}else if(o.tag===1){var _=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Si===null||!Si.has(_))){i=Ki(s,i),i=Ri(o,i,1),o=dh(o,i,1),i=L(),o!==null&&(Ac(o,1,i),Ek(o,i));break}}o=o.return}}function Ui(i,o,s){var _=i.pingCache;_!==null&&_.delete(o),o=L(),i.pingedLanes|=i.suspendedLanes&s,R===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=s),Ek(i,o)}function Zk(i,o){o===0&&(i.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var s=L();i=Zg(i,o),i!==null&&(Ac(i,o,s),Ek(i,s))}function vj(i){var o=i.memoizedState,s=0;o!==null&&(s=o.retryLane),Zk(i,s)}function ck(i,o){var s=0;switch(i.tag){case 13:var _=i.stateNode,$=i.memoizedState;$!==null&&(s=$.retryLane);break;case 19:_=i.stateNode;break;default:throw Error(p$1(314))}_!==null&&_.delete(o),Zk(i,s)}var Wk;Wk=function(i,o,s){if(i!==null)if(i.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&s)&&!(o.flags&128))return Ug=!1,zj(i,o,s);Ug=!!(i.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var _=o.type;jj(i,o),i=o.pendingProps;var $=Yf(o,H.current);Tg(o,s),$=Xh(null,o,_,i,$,s);var et=bi();return o.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(_)?(et=!0,cg(o)):et=!1,o.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,ah(o),$.updater=nh,o.stateNode=$,$._reactInternals=o,rh(o,_,i,s),o=kj(null,o,_,!0,et,s)):(o.tag=0,I&&et&&vg(o),Yi(null,o,$,s),o=o.child),o;case 16:_=o.elementType;e:{switch(jj(i,o),i=o.pendingProps,$=_._init,_=$(_._payload),o.type=_,$=o.tag=$k(_),i=Lg(_,i),$){case 0:o=dj(null,o,_,i,s);break e;case 1:o=ij(null,o,_,i,s);break e;case 11:o=Zi(null,o,_,i,s);break e;case 14:o=aj(null,o,_,Lg(_.type,i),s);break e}throw Error(p$1(306,_,""))}return o;case 0:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),dj(i,o,_,$,s);case 1:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),ij(i,o,_,$,s);case 3:e:{if(lj(o),i===null)throw Error(p$1(387));_=o.pendingProps,et=o.memoizedState,$=et.element,bh(i,o),gh(o,_,null,s);var rt=o.memoizedState;if(_=rt.element,et.isDehydrated)if(et={element:_,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},o.updateQueue.baseState=et,o.memoizedState=et,o.flags&256){$=Ki(Error(p$1(423)),o),o=mj(i,o,_,s,$);break e}else if(_!==$){$=Ki(Error(p$1(424)),o),o=mj(i,o,_,s,$);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,s=Ch(o,null,_,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),_===$){o=$i(i,o,s);break e}Yi(i,o,_,s)}o=o.child}return o;case 5:return Kh(o),i===null&&Eg(o),_=o.type,$=o.pendingProps,et=i!==null?i.memoizedProps:null,rt=$.children,Ef(_,$)?rt=null:et!==null&&Ef(_,et)&&(o.flags|=32),hj(i,o),Yi(i,o,rt,s),o.child;case 6:return i===null&&Eg(o),null;case 13:return pj(i,o,s);case 4:return Ih(o,o.stateNode.containerInfo),_=o.pendingProps,i===null?o.child=Bh(o,null,_,s):Yi(i,o,_,s),o.child;case 11:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),Zi(i,o,_,$,s);case 7:return Yi(i,o,o.pendingProps,s),o.child;case 8:return Yi(i,o,o.pendingProps.children,s),o.child;case 12:return Yi(i,o,o.pendingProps.children,s),o.child;case 10:e:{if(_=o.type._context,$=o.pendingProps,et=o.memoizedProps,rt=$.value,G(Mg,_._currentValue),_._currentValue=rt,et!==null)if(He(et.value,rt)){if(et.children===$.children&&!Wf.current){o=$i(i,o,s);break e}}else for(et=o.child,et!==null&&(et.return=o);et!==null;){var j=et.dependencies;if(j!==null){rt=et.child;for(var st=j.firstContext;st!==null;){if(st.context===_){if(et.tag===1){st=ch(-1,s&-s),st.tag=2;var lt=et.updateQueue;if(lt!==null){lt=lt.shared;var gt=lt.pending;gt===null?st.next=st:(st.next=gt.next,gt.next=st),lt.pending=st}}et.lanes|=s,st=et.alternate,st!==null&&(st.lanes|=s),Sg(et.return,s,o),j.lanes|=s;break}st=st.next}}else if(et.tag===10)rt=et.type===o.type?null:et.child;else if(et.tag===18){if(rt=et.return,rt===null)throw Error(p$1(341));rt.lanes|=s,j=rt.alternate,j!==null&&(j.lanes|=s),Sg(rt,s,o),rt=et.sibling}else rt=et.child;if(rt!==null)rt.return=et;else for(rt=et;rt!==null;){if(rt===o){rt=null;break}if(et=rt.sibling,et!==null){et.return=rt.return,rt=et;break}rt=rt.return}et=rt}Yi(i,o,$.children,s),o=o.child}return o;case 9:return $=o.type,_=o.pendingProps.children,Tg(o,s),$=Vg($),_=_($),o.flags|=1,Yi(i,o,_,s),o.child;case 14:return _=o.type,$=Lg(_,o.pendingProps),$=Lg(_.type,$),aj(i,o,_,$,s);case 15:return cj(i,o,o.type,o.pendingProps,s);case 17:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),jj(i,o),o.tag=1,Zf(_)?(i=!0,cg(o)):i=!1,Tg(o,s),ph(o,_,$),rh(o,_,$,s),kj(null,o,_,!0,i,s);case 19:return yj(i,o,s);case 22:return ej(i,o,s)}throw Error(p$1(156,o.tag))};function Gk(i,o){return ac(i,o)}function al(i,o,s,_){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,o,s,_){return new al(i,o,s,_)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,o){var s=i.alternate;return s===null?(s=Bg(i.tag,o,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=o,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,o=i.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function yh(i,o,s,_,$,et){var rt=2;if(_=i,typeof i=="function")bj(i)&&(rt=1);else if(typeof i=="string")rt=5;else e:switch(i){case ya:return Ah(s.children,$,et,o);case za:rt=8,$|=8;break;case Aa:return i=Bg(12,s,o,$|2),i.elementType=Aa,i.lanes=et,i;case Ea:return i=Bg(13,s,o,$),i.elementType=Ea,i.lanes=et,i;case Fa:return i=Bg(19,s,o,$),i.elementType=Fa,i.lanes=et,i;case Ia:return qj(s,$,et,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,_=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return o=Bg(rt,s,o,$),o.elementType=i,o.type=_,o.lanes=et,o}function Ah(i,o,s,_){return i=Bg(7,i,_,o),i.lanes=s,i}function qj(i,o,s,_){return i=Bg(22,i,_,o),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function xh(i,o,s){return i=Bg(6,i,null,o),i.lanes=s,i}function zh(i,o,s){return o=Bg(4,i.children!==null?i.children:[],i.key,o),o.lanes=s,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function bl(i,o,s,_,$){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function cl(i,o,s,_,$,et,rt,j,st){return i=new bl(i,o,s,j,st),o===1?(o=1,et===!0&&(o|=8)):o=0,et=Bg(3,null,null,o),i.current=et,et.stateNode=i,et.memoizedState={element:_,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),i}function dl(i,o,s){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_==null?null:""+_,children:i,containerInfo:o,implementation:s}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$1(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,o)}return o}function fl(i,o,s,_,$,et,rt,j,st){return i=cl(s,_,!0,i,$,et,rt,j,st),i.context=el(null),s=i.current,_=L(),$=lh(s),et=ch(_,$),et.callback=o??null,dh(s,et,$),i.current.lanes=$,Ac(i,$,_),Ek(i,_),i}function gl(i,o,s,_){var $=o.current,et=L(),rt=lh($);return s=el(s),o.context===null?o.context=s:o.pendingContext=s,o=ch(et,rt),o.payload={element:i},_=_===void 0?null:_,_!==null&&(o.callback=_),i=dh($,o,rt),i!==null&&(mh(i,$,rt,et),eh(i,$,rt)),rt}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<o?s:o}}function jl(i,o){il(i,o),(i=i.alternate)&&il(i,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(p$1(409));gl(i,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Sk(function(){gl(null,i,null,null)}),o[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hc();i={blockedOn:null,target:i,priority:o};for(var s=0;s<Qc.length&&o!==0&&o<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,o,s,_,$){if($){if(typeof _=="function"){var et=_;_=function(){var lt=hl(rt);et.call(lt)}}var rt=fl(o,_,i,0,null,!1,!1,"",ql);return i._reactRootContainer=rt,i[uf]=rt.current,sf(i.nodeType===8?i.parentNode:i),Sk(),rt}for(;$=i.lastChild;)i.removeChild($);if(typeof _=="function"){var j=_;_=function(){var lt=hl(st);j.call(lt)}}var st=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=st,i[uf]=st.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(o,st,s,_)}),st}function sl(i,o,s,_,$){var et=s._reactRootContainer;if(et){var rt=et;if(typeof $=="function"){var j=$;$=function(){var st=hl(rt);j.call(st)}}gl(o,rt,i,$)}else rt=rl(s,o,i,$,_);return hl(rt)}Ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var s=tc(o.pendingLanes);s!==0&&(Cc(o,s|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var _=Zg(i,1);if(_!==null){var $=L();mh(_,i,1,$)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var o=Zg(i,134217728);if(o!==null){var s=L();mh(o,i,134217728,s)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var o=lh(i),s=Zg(i,o);if(s!==null){var _=L();mh(s,i,o,_)}jl(i,o)}};Hc=function(){return C};Ic=function(i,o){var s=C;try{return C=i,o()}finally{C=s}};yb=function(i,o,s){switch(o){case"input":if(bb(i,s),o=s.name,s.type==="radio"&&o!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var _=s[o];if(_!==i&&_.form===i.form){var $=Db(_);if(!$)throw Error(p$1(90));Wa(_),bb(_,$)}}}break;case"textarea":ib(i,s);break;case"select":o=s.value,o!=null&&fb(i,!!s.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$1(200));return dl(i,o,null,s)};reactDom_production_min.createRoot=function(i,o){if(!ol(i))throw Error(p$1(299));var s=!1,_="",$=ll;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(_=o.identifierPrefix),o.onRecoverableError!==void 0&&($=o.onRecoverableError)),o=cl(i,1,!1,null,null,s,!1,_,$),i[uf]=o.current,sf(i.nodeType===8?i.parentNode:i),new ml(o)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(o),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,o,s){if(!pl(o))throw Error(p$1(200));return sl(null,i,o,!0,s)};reactDom_production_min.hydrateRoot=function(i,o,s){if(!ol(i))throw Error(p$1(405));var _=s!=null&&s.hydratedSources||null,$=!1,et="",rt=ll;if(s!=null&&(s.unstable_strictMode===!0&&($=!0),s.identifierPrefix!==void 0&&(et=s.identifierPrefix),s.onRecoverableError!==void 0&&(rt=s.onRecoverableError)),o=fl(o,null,i,1,s??null,$,!1,et,rt),i[uf]=o.current,sf(i),_)for(i=0;i<_.length;i++)s=_[i],$=s._getVersion,$=$(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,$]:o.mutableSourceEagerHydrationData.push(s,$);return new nl(o)};reactDom_production_min.render=function(i,o,s){if(!pl(o))throw Error(p$1(200));return sl(null,i,o,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$1(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,o,s,_){if(!pl(s))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return sl(i,o,s,!1,_)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(i){function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}o(),i.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var mapboxGlExports={},mapboxGl={get exports(){return mapboxGlExports},set exports(i){mapboxGlExports=i}};(function(i,o){(function(s,_){i.exports=_()})(commonjsGlobal,function(){var s,_,$;function et(j,st){if(!s)s=st;else if(!_)_=st;else{var lt="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+s+")(sharedChunk); ("+_+")(sharedChunk); self.onerror = null;",gt={};s(gt),$=st(gt),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&($.workerUrl=window.URL.createObjectURL(new Blob([lt],{type:"text/javascript"})))}}et(["exports"],function(j){var st=typeof self<"u"?self:{},lt="2.11.1";let gt;const bt={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(gt==null){const tt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{gt={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):tt}catch{gt=tt}}return gt},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Ut={supported:!1,testSupport:function(tt){!Qt&&yt&&(wt?Tt(tt):Ft=tt)}};let Ft,yt,Qt=!1,wt=!1;function Tt(tt){const _e=tt.createTexture();tt.bindTexture(tt.TEXTURE_2D,_e);try{if(tt.texImage2D(tt.TEXTURE_2D,0,tt.RGBA,tt.RGBA,tt.UNSIGNED_BYTE,yt),tt.isContextLost())return;Ut.supported=!0}catch{}tt.deleteTexture(_e),Qt=!0}st.document&&(yt=st.document.createElement("img"),yt.onload=function(){Ft&&Tt(Ft),Ft=null,wt=!0},yt.onerror=function(){Qt=!0,Ft=null},yt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Jt="01";var At=Nt;function Nt(tt,_e,nt,ot){this.cx=3*tt,this.bx=3*(nt-tt)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*_e,this.by=3*(ot-_e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=tt,this.p1y=_e,this.p2x=nt,this.p2y=ot}Nt.prototype={sampleCurveX:function(tt){return((this.ax*tt+this.bx)*tt+this.cx)*tt},sampleCurveY:function(tt){return((this.ay*tt+this.by)*tt+this.cy)*tt},sampleCurveDerivativeX:function(tt){return(3*this.ax*tt+2*this.bx)*tt+this.cx},solveCurveX:function(tt,_e){if(_e===void 0&&(_e=1e-6),tt<0)return 0;if(tt>1)return 1;for(var nt=tt,ot=0;ot<8;ot++){var ut=this.sampleCurveX(nt)-tt;if(Math.abs(ut)<_e)return nt;var ft=this.sampleCurveDerivativeX(nt);if(Math.abs(ft)<1e-6)break;nt-=ut/ft}var mt=0,Bt=1;for(nt=tt,ot=0;ot<20&&(ut=this.sampleCurveX(nt),!(Math.abs(ut-tt)<_e));ot++)tt>ut?mt=nt:Bt=nt,nt=.5*(Bt-mt)+mt;return nt},solve:function(tt,_e){return this.sampleCurveY(this.solveCurveX(tt,_e))}};var St=Ot;function Ot(tt,_e){this.x=tt,this.y=_e}Ot.prototype={clone:function(){return new Ot(this.x,this.y)},add:function(tt){return this.clone()._add(tt)},sub:function(tt){return this.clone()._sub(tt)},multByPoint:function(tt){return this.clone()._multByPoint(tt)},divByPoint:function(tt){return this.clone()._divByPoint(tt)},mult:function(tt){return this.clone()._mult(tt)},div:function(tt){return this.clone()._div(tt)},rotate:function(tt){return this.clone()._rotate(tt)},rotateAround:function(tt,_e){return this.clone()._rotateAround(tt,_e)},matMult:function(tt){return this.clone()._matMult(tt)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(tt){return this.x===tt.x&&this.y===tt.y},dist:function(tt){return Math.sqrt(this.distSqr(tt))},distSqr:function(tt){var _e=tt.x-this.x,nt=tt.y-this.y;return _e*_e+nt*nt},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(tt){return Math.atan2(this.y-tt.y,this.x-tt.x)},angleWith:function(tt){return this.angleWithSep(tt.x,tt.y)},angleWithSep:function(tt,_e){return Math.atan2(this.x*_e-this.y*tt,this.x*tt+this.y*_e)},_matMult:function(tt){var _e=tt[2]*this.x+tt[3]*this.y;return this.x=tt[0]*this.x+tt[1]*this.y,this.y=_e,this},_add:function(tt){return this.x+=tt.x,this.y+=tt.y,this},_sub:function(tt){return this.x-=tt.x,this.y-=tt.y,this},_mult:function(tt){return this.x*=tt,this.y*=tt,this},_div:function(tt){return this.x/=tt,this.y/=tt,this},_multByPoint:function(tt){return this.x*=tt.x,this.y*=tt.y,this},_divByPoint:function(tt){return this.x/=tt.x,this.y/=tt.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var tt=this.y;return this.y=this.x,this.x=-tt,this},_rotate:function(tt){var _e=Math.cos(tt),nt=Math.sin(tt),ot=nt*this.x+_e*this.y;return this.x=_e*this.x-nt*this.y,this.y=ot,this},_rotateAround:function(tt,_e){var nt=Math.cos(tt),ot=Math.sin(tt),ut=_e.y+ot*(this.x-_e.x)+nt*(this.y-_e.y);return this.x=_e.x+nt*(this.x-_e.x)-ot*(this.y-_e.y),this.y=ut,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ot.convert=function(tt){return tt instanceof Ot?tt:Array.isArray(tt)?new Ot(tt[0],tt[1]):tt};const nn=Math.PI/180,yn=180/Math.PI;function Ct(tt){return tt*nn}function Vt(tt){return tt*yn}const Yt=[[0,0],[1,0],[1,1],[0,1]];function Pt(tt){if(tt<=0)return 0;if(tt>=1)return 1;const _e=tt*tt,nt=_e*tt;return 4*(tt<.5?nt:3*(tt-_e)+nt-.75)}function tn(tt,_e,nt,ot){const ut=new At(tt,_e,nt,ot);return function(ft){return ut.solve(ft)}}const Un=tn(.25,.1,.25,1);function Kt(tt,_e,nt){return Math.min(nt,Math.max(_e,tt))}function $t(tt,_e,nt){return(nt=Kt((nt-tt)/(_e-tt),0,1))*nt*(3-2*nt)}function hn(tt,_e,nt){const ot=nt-_e,ut=((tt-_e)%ot+ot)%ot+_e;return ut===_e?nt:ut}function dn(tt,_e,nt){if(!tt.length)return nt(null,[]);let ot=tt.length;const ut=new Array(tt.length);let ft=null;tt.forEach((mt,Bt)=>{_e(mt,(Et,xt)=>{Et&&(ft=Et),ut[Bt]=xt,--ot==0&&nt(ft,ut)})})}function zt(tt){const _e=[];for(const nt in tt)_e.push(tt[nt]);return _e}function It(tt,..._e){for(const nt of _e)for(const ot in nt)tt[ot]=nt[ot];return tt}let gn=1;function vn(){return gn++}function Wn(){return function tt(_e){return _e?(_e^Math.random()*(16>>_e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,tt)}()}function Ln(tt){return tt<=1?1:Math.pow(2,Math.ceil(Math.log(tt)/Math.LN2))}function jn(tt){return!!tt&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(tt)}function xn(tt,_e){tt.forEach(nt=>{_e[nt]&&(_e[nt]=_e[nt].bind(_e))})}function Rn(tt,_e){return tt.indexOf(_e,tt.length-_e.length)!==-1}function jt(tt,_e,nt){const ot={};for(const ut in tt)ot[ut]=_e.call(nt||this,tt[ut],ut,tt);return ot}function Ht(tt,_e,nt){const ot={};for(const ut in tt)_e.call(nt||this,tt[ut],ut,tt)&&(ot[ut]=tt[ut]);return ot}function _n(tt){return Array.isArray(tt)?tt.map(_n):typeof tt=="object"&&tt?jt(tt,_n):tt}const Dn={};function Tn(tt){Dn[tt]||(typeof console<"u"&&console.warn(tt),Dn[tt]=!0)}function Xn(tt,_e,nt){return(nt.y-tt.y)*(_e.x-tt.x)>(_e.y-tt.y)*(nt.x-tt.x)}function or(tt){let _e=0;for(let nt,ot,ut=0,ft=tt.length,mt=ft-1;ut<ft;mt=ut++)nt=tt[ut],ot=tt[mt],_e+=(ot.x-nt.x)*(nt.y+ot.y);return _e}function Rr(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ao(tt){const _e={};if(tt.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(nt,ot,ut,ft)=>{const mt=ut||ft;return _e[ot]=!mt||mt.toLowerCase(),""}),_e["max-age"]){const nt=parseInt(_e["max-age"],10);isNaN(nt)?delete _e["max-age"]:_e["max-age"]=nt}return _e}let Vo=null;function bo(tt){if(Vo==null){const _e=tt.navigator?tt.navigator.userAgent:null;Vo=!!tt.safari||!(!_e||!(/\b(iPad|iPhone|iPod)\b/.test(_e)||_e.match("Safari")&&!_e.match("Chrome")))}return Vo}function Po(tt){try{const _e=st[tt];return _e.setItem("_mapbox_test_",1),_e.removeItem("_mapbox_test_"),!0}catch{return!1}}function _o(tt,_e){return[tt[4*_e],tt[4*_e+1],tt[4*_e+2],tt[4*_e+3]]}const Qo="mapbox-tiles";let zo,Ao,qo=500,Do=50;function ws(){try{return st.caches}catch{}}function Wo(){ws()&&!zo&&(zo=st.caches.open(Qo))}function Fl(tt){const _e=tt.indexOf("?");if(_e<0)return tt;const nt=function(ut){const ft=ut.indexOf("?");return ft>0?ut.slice(ft+1).split("&"):[]}(tt),ot=nt.filter(ut=>{const ft=ut.split("=");return ft[0]==="language"||ft[0]==="worldview"});return ot.length?`${tt.slice(0,_e)}?${ot.join("&")}`:tt.slice(0,_e)}let ys=1/0;const Ys={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ys);class ss extends Error{constructor(_e,nt,ot){nt===401&&Mr(ot)&&(_e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(_e),this.status=nt,this.url=ot}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const su=Rr()?()=>self.worker&&self.worker.referrer:()=>(st.location.protocol==="blob:"?st.parent:st).location.href,Xs=function(tt,_e){if(!(/^file:/.test(nt=tt.url)||/^file:/.test(su())&&!/^\w+:/.test(nt))){if(st.fetch&&st.Request&&st.AbortController&&st.Request.prototype.hasOwnProperty("signal"))return function(ot,ut){const ft=new st.AbortController,mt=new st.Request(ot.url,{method:ot.method||"GET",body:ot.body,credentials:ot.credentials,headers:ot.headers,referrer:su(),signal:ft.signal});let Bt=!1,Et=!1;const xt=(Wt=mt.url).indexOf("sku=")>0&&Mr(Wt);var Wt;ot.type==="json"&&mt.headers.set("Accept","application/json");const Gt=(pn,Fn,Sn)=>{if(Et)return;if(pn&&pn.message!=="SecurityError"&&Tn(pn),Fn&&Sn)return Xt(Fn);const Mn=Date.now();st.fetch(mt).then(Kn=>{if(Kn.ok){const lr=xt?Kn.clone():null;return Xt(Kn,lr,Mn)}return ut(new ss(Kn.statusText,Kn.status,ot.url))}).catch(Kn=>{Kn.code!==20&&ut(new Error(Kn.message))})},Xt=(pn,Fn,Sn)=>{(ot.type==="arrayBuffer"?pn.arrayBuffer():ot.type==="json"?pn.json():pn.text()).then(Mn=>{Et||(Fn&&Sn&&function(Kn,lr,qn){if(Wo(),!zo)return;const nr={status:lr.status,statusText:lr.statusText,headers:new st.Headers};lr.headers.forEach((xr,Er)=>nr.headers.set(Er,xr));const fr=ao(lr.headers.get("Cache-Control")||"");if(fr["no-store"])return;fr["max-age"]&&nr.headers.set("Expires",new Date(qn+1e3*fr["max-age"]).toUTCString());const rr=nr.headers.get("Expires");rr&&(new Date(rr).getTime()-qn<42e4||function(xr,Er){if(Ao===void 0)try{new Response(new ReadableStream),Ao=!0}catch{Ao=!1}Ao?Er(xr.body):xr.blob().then(Er)}(lr,xr=>{const Er=new st.Response(xr,nr);Wo(),zo&&zo.then(Wr=>Wr.put(Fl(Kn.url),Er)).catch(Wr=>Tn(Wr.message))}))}(mt,Fn,Sn),Bt=!0,ut(null,Mn,pn.headers.get("Cache-Control"),pn.headers.get("Expires")))}).catch(Mn=>{Et||ut(new Error(Mn.message))})};return xt?function(pn,Fn){if(Wo(),!zo)return Fn(null);const Sn=Fl(pn.url);zo.then(Mn=>{Mn.match(Sn).then(Kn=>{const lr=function(qn){if(!qn)return!1;const nr=new Date(qn.headers.get("Expires")||0),fr=ao(qn.headers.get("Cache-Control")||"");return nr>Date.now()&&!fr["no-cache"]}(Kn);Mn.delete(Sn),lr&&Mn.put(Sn,Kn.clone()),Fn(null,Kn,lr)}).catch(Fn)}).catch(Fn)}(mt,Gt):Gt(null,null),{cancel:()=>{Et=!0,Bt||ft.abort()}}}(tt,_e);if(Rr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",tt,_e,void 0,!0)}var nt;return function(ot,ut){const ft=new st.XMLHttpRequest;ft.open(ot.method||"GET",ot.url,!0),ot.type==="arrayBuffer"&&(ft.responseType="arraybuffer");for(const mt in ot.headers)ft.setRequestHeader(mt,ot.headers[mt]);return ot.type==="json"&&(ft.responseType="text",ft.setRequestHeader("Accept","application/json")),ft.withCredentials=ot.credentials==="include",ft.onerror=()=>{ut(new Error(ft.statusText))},ft.onload=()=>{if((ft.status>=200&&ft.status<300||ft.status===0)&&ft.response!==null){let mt=ft.response;if(ot.type==="json")try{mt=JSON.parse(ft.response)}catch(Bt){return ut(Bt)}ut(null,mt,ft.getResponseHeader("Cache-Control"),ft.getResponseHeader("Expires"))}else ut(new ss(ft.statusText,ft.status,ot.url))},ft.send(ot.body),{cancel:()=>ft.abort()}}(tt,_e)},_l=function(tt,_e){return Xs(It(tt,{type:"arrayBuffer"}),_e)};function tp(tt){const _e=st.document.createElement("a");return _e.href=tt,_e.protocol===st.document.location.protocol&&_e.host===st.document.location.host}const Uu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Su,Wl;Su=[],Wl=0;const Nu=function(tt,_e){if(Ut.supported&&(tt.headers||(tt.headers={}),tt.headers.accept="image/webp,*/*"),Wl>=bt.MAX_PARALLEL_IMAGE_REQUESTS){const ft={requestParameters:tt,callback:_e,cancelled:!1,cancel(){this.cancelled=!0}};return Su.push(ft),ft}Wl++;let nt=!1;const ot=()=>{if(!nt)for(nt=!0,Wl--;Su.length&&Wl<bt.MAX_PARALLEL_IMAGE_REQUESTS;){const ft=Su.shift(),{requestParameters:mt,callback:Bt,cancelled:Et}=ft;Et||(ft.cancel=Nu(mt,Bt).cancel)}},ut=_l(tt,(ft,mt,Bt,Et)=>{ot(),ft?_e(ft):mt&&(st.createImageBitmap?function(xt,Wt){const Gt=new st.Blob([new Uint8Array(xt)],{type:"image/png"});st.createImageBitmap(Gt).then(Xt=>{Wt(null,Xt)}).catch(Xt=>{Wt(new Error(`Could not load image because of ${Xt.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(mt,(xt,Wt)=>_e(xt,Wt,Bt,Et)):function(xt,Wt){const Gt=new st.Image,Xt=st.URL;Gt.onload=()=>{Wt(null,Gt),Xt.revokeObjectURL(Gt.src),Gt.onload=null,st.requestAnimationFrame(()=>{Gt.src=Uu})},Gt.onerror=()=>Wt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const pn=new st.Blob([new Uint8Array(xt)],{type:"image/png"});Gt.src=xt.byteLength?Xt.createObjectURL(pn):Uu}(mt,(xt,Wt)=>_e(xt,Wt,Bt,Et)))});return{cancel:()=>{ut.cancel(),ot()}}},xs="NO_ACCESS_TOKEN";function zl(tt){return tt.indexOf("mapbox:")===0}function Mr(tt){return bt.API_URL_REGEX.test(tt)}function mn(tt){return bt.API_STYLE_REGEX.test(tt)&&!bn(tt)}function bn(tt){return bt.API_SPRITE_REGEX.test(tt)}const An=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ir(tt){const _e=tt.match(An);if(!_e)throw new Error("Unable to parse URL object");return{protocol:_e[1],authority:_e[2],path:_e[3]||"/",params:_e[4]?_e[4].split("&"):[]}}function cr(tt){const _e=tt.params.length?`?${tt.params.join("&")}`:"";return`${tt.protocol}://${tt.authority}${tt.path}${_e}`}function Nr(tt){if(!tt)return null;const _e=tt.split(".");if(!_e||_e.length!==3)return null;try{return JSON.parse(decodeURIComponent(st.atob(_e[1]).split("").map(nt=>"%"+("00"+nt.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Jr{constructor(_e){this.type=_e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(_e){const nt=Nr(bt.ACCESS_TOKEN);let ot="";return ot=nt&&nt.u?st.btoa(encodeURIComponent(nt.u).replace(/%([0-9A-F]{2})/g,(ut,ft)=>String.fromCharCode(Number("0x"+ft)))):bt.ACCESS_TOKEN||"",_e?`mapbox.eventData.${_e}:${ot}`:`mapbox.eventData:${ot}`}fetchEventData(){const _e=Po("localStorage"),nt=this.getStorageKey(),ot=this.getStorageKey("uuid");if(_e)try{const ut=st.localStorage.getItem(nt);ut&&(this.eventData=JSON.parse(ut));const ft=st.localStorage.getItem(ot);ft&&(this.anonId=ft)}catch{Tn("Unable to read from LocalStorage")}}saveEventData(){const _e=Po("localStorage"),nt=this.getStorageKey(),ot=this.getStorageKey("uuid");if(_e)try{st.localStorage.setItem(ot,this.anonId),Object.keys(this.eventData).length>=1&&st.localStorage.setItem(nt,JSON.stringify(this.eventData))}catch{Tn("Unable to write to LocalStorage")}}processRequests(_e){}postEvent(_e,nt,ot,ut){if(!bt.EVENTS_URL)return;const ft=ir(bt.EVENTS_URL);ft.params.push(`access_token=${ut||bt.ACCESS_TOKEN||""}`);const mt={event:this.type,created:new Date(_e).toISOString()},Bt=nt?It(mt,nt):mt,Et={url:cr(ft),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Bt])};this.pendingRequest=function(xt,Wt){return Xs(It(xt,{method:"POST"}),Wt)}(Et,xt=>{this.pendingRequest=null,ot(xt),this.saveEventData(),this.processRequests(ut)})}queueRequest(_e,nt){this.queue.push(_e),this.processRequests(nt)}}const Qn=new class extends Jr{constructor(tt){super("appUserTurnstile"),this._customAccessToken=tt}postTurnstileEvent(tt,_e){bt.EVENTS_URL&&bt.ACCESS_TOKEN&&Array.isArray(tt)&&tt.some(nt=>zl(nt)||Mr(nt))&&this.queueRequest(Date.now(),_e)}processRequests(tt){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const _e=Nr(bt.ACCESS_TOKEN),nt=_e?_e.u:bt.ACCESS_TOKEN;let ot=nt!==this.eventData.tokenU;jn(this.anonId)||(this.anonId=Wn(),ot=!0);const ut=this.queue.shift();if(this.eventData.lastSuccess){const ft=new Date(this.eventData.lastSuccess),mt=new Date(ut),Bt=(ut-this.eventData.lastSuccess)/864e5;ot=ot||Bt>=1||Bt<-1||ft.getDate()!==mt.getDate()}else ot=!0;ot?this.postEvent(ut,{sdkIdentifier:"mapbox-gl-js",sdkVersion:lt,skuId:Jt,"enabled.telemetry":!1,userId:this.anonId},ft=>{ft||(this.eventData.lastSuccess=ut,this.eventData.tokenU=nt)},tt):this.processRequests()}},qt=Qn.postTurnstileEvent.bind(Qn),rn=new class extends Jr{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(tt,_e,nt,ot){this.skuToken=_e,this.errorCb=ot,bt.EVENTS_URL&&(nt||bt.ACCESS_TOKEN?this.queueRequest({id:tt,timestamp:Date.now()},nt):this.errorCb(new Error(xs)))}processRequests(tt){if(this.pendingRequest||this.queue.length===0)return;const{id:_e,timestamp:nt}=this.queue.shift();_e&&this.success[_e]||(this.anonId||this.fetchEventData(),jn(this.anonId)||(this.anonId=Wn()),this.postEvent(nt,{sdkIdentifier:"mapbox-gl-js",sdkVersion:lt,skuId:Jt,skuToken:this.skuToken,userId:this.anonId},ot=>{ot?this.errorCb(ot):_e&&(this.success[_e]=!0)},tt))}},Cn=rn.postMapLoadEvent.bind(rn),Gn=new class extends Jr{constructor(){super("gljs.performance")}postPerformanceEvent(tt,_e){bt.EVENTS_URL&&(tt||bt.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:_e},tt)}processRequests(tt){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:_e,performanceData:nt}=this.queue.shift(),ot=function(ut){const ft=st.performance.getEntriesByType("resource"),mt=st.performance.getEntriesByType("mark"),Bt=function(Xt){const pn={};if(Xt){for(const Fn in Xt)if(Fn!=="other")for(const Sn of Xt[Fn]){const Mn=`${Fn}RequestCount`,Kn=`${Fn}ResolveRangeMin`,lr=`${Fn}ResolveRangeMax`;pn[Kn]=Math.min(pn[Kn]||1/0,Sn.startTime),pn[lr]=Math.max(pn[lr]||-1/0,Sn.responseEnd),pn[Mn]===void 0&&(pn[Mn]=0),++pn[Mn]}}return pn}(function(Xt,pn){const Fn={};if(Xt)for(const Sn of Xt){const Mn=pn(Sn);Fn[Mn]===void 0&&(Fn[Mn]=[]),Fn[Mn].push(Sn)}return Fn}(ft,Xr)),Et=st.devicePixelRatio,xt=st.navigator.connection||st.navigator.mozConnection||st.navigator.webkitConnection,Wt={counters:[],metadata:[],attributes:[]},Gt=(Xt,pn,Fn)=>{Fn!=null&&Xt.push({name:pn,value:Fn.toString()})};for(const Xt in Bt)Gt(Wt.counters,Xt,Bt[Xt]);if(ut.interactionRange[0]!==1/0&&ut.interactionRange[1]!==-1/0&&(Gt(Wt.counters,"interactionRangeMin",ut.interactionRange[0]),Gt(Wt.counters,"interactionRangeMax",ut.interactionRange[1])),mt)for(const Xt of Object.keys(Fr)){const pn=Fr[Xt],Fn=mt.find(Sn=>Sn.name===pn);Fn&&Gt(Wt.counters,pn,Fn.startTime)}return Gt(Wt.counters,"visibilityHidden",ut.visibilityHidden),Gt(Wt.attributes,"style",function(Xt){if(Xt)for(const pn of Xt){const Fn=pn.name.split("?")[0];if(mn(Fn)){const Sn=Fn.split("/").slice(-2);if(Sn.length===2)return`mapbox://styles/${Sn[0]}/${Sn[1]}`}}}(ft)),Gt(Wt.attributes,"terrainEnabled",ut.terrainEnabled?"true":"false"),Gt(Wt.attributes,"fogEnabled",ut.fogEnabled?"true":"false"),Gt(Wt.attributes,"projection",ut.projection.name),Gt(Wt.attributes,"zoom",ut.zoom),Gt(Wt.metadata,"devicePixelRatio",Et),Gt(Wt.metadata,"connectionEffectiveType",xt?xt.effectiveType:void 0),Gt(Wt.metadata,"navigatorUserAgent",st.navigator.userAgent),Gt(Wt.metadata,"screenWidth",st.screen.width),Gt(Wt.metadata,"screenHeight",st.screen.height),Gt(Wt.metadata,"windowWidth",st.innerWidth),Gt(Wt.metadata,"windowHeight",st.innerHeight),Gt(Wt.metadata,"mapWidth",ut.width/Et),Gt(Wt.metadata,"mapHeight",ut.height/Et),Gt(Wt.metadata,"webglRenderer",ut.renderer),Gt(Wt.metadata,"webglVendor",ut.vendor),Gt(Wt.metadata,"sdkVersion",lt),Gt(Wt.metadata,"sdkIdentifier","mapbox-gl-js"),Wt}(nt);for(const ut of ot.metadata);for(const ut of ot.counters);for(const ut of ot.attributes);this.postEvent(_e,ot,()=>{},tt)}},er=Gn.postPerformanceEvent.bind(Gn),pr=new class extends Jr{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(tt,_e,nt,ot){if(!bt.API_URL||!bt.SESSION_PATH)return;const ut=ir(bt.API_URL+bt.SESSION_PATH);ut.params.push(`sku=${_e||""}`),ut.params.push(`access_token=${ot||bt.ACCESS_TOKEN||""}`);const ft={url:cr(ut),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(mt,Bt){return Xs(It(mt,{method:"GET"}),Bt)}(ft,mt=>{this.pendingRequest=null,nt(mt),this.saveEventData(),this.processRequests(ot)})}getSessionAPI(tt,_e,nt,ot){this.skuToken=_e,this.errorCb=ot,bt.SESSION_PATH&&bt.API_URL&&(nt||bt.ACCESS_TOKEN?this.queueRequest({id:tt,timestamp:Date.now()},nt):this.errorCb(new Error(xs)))}processRequests(tt){if(this.pendingRequest||this.queue.length===0)return;const{id:_e,timestamp:nt}=this.queue.shift();_e&&this.success[_e]||this.getSession(nt,this.skuToken,ot=>{ot?this.errorCb(ot):_e&&(this.success[_e]=!0)},tt)}},yr=pr.getSessionAPI.bind(pr),hr=new Set,Fr={create:"create",load:"load",fullLoad:"fullLoad"},kr={mark(tt){st.performance.mark(tt)},measure(tt,_e,nt){st.performance.measure(tt,_e,nt)}};function Xr(tt){const _e=tt.name.split("?")[0];return _e.includes("mapbox-gl.js")?"javascript":_e.includes("mapbox-gl.css")?"css":function(nt){return bt.API_FONTS_REGEX.test(nt)}(_e)?"fontRange":bn(_e)?"sprite":mn(_e)?"style":function(nt){return bt.API_TILEJSON_REGEX.test(nt)}(_e)?"tilejson":"other"}const Lr=st.performance;function Fo(tt){const _e=tt?tt.url.toString():void 0;return Lr.getEntriesByName(_e)}let Uo,mo,wo,Oo;const ls={now:()=>wo!==void 0?wo:st.performance.now(),setNow(tt){wo=tt},restoreNow(){wo=void 0},frame(tt){const _e=st.requestAnimationFrame(tt);return{cancel:()=>st.cancelAnimationFrame(_e)}},getImageData(tt,_e=0){const{width:nt,height:ot}=tt;Oo||(Oo=st.document.createElement("canvas"));const ut=Oo.getContext("2d");if(!ut)throw new Error("failed to create canvas 2d context");return(nt>Oo.width||ot>Oo.height)&&(Oo.width=nt,Oo.height=ot),ut.clearRect(-_e,-_e,nt+2*_e,ot+2*_e),ut.drawImage(tt,0,0,nt,ot),ut.getImageData(-_e,-_e,nt+2*_e,ot+2*_e)},resolveURL:tt=>(Uo||(Uo=st.document.createElement("a")),Uo.href=tt,Uo.href),get devicePixelRatio(){return st.devicePixelRatio},get prefersReducedMotion(){return!!st.matchMedia&&(mo==null&&(mo=st.matchMedia("(prefers-reduced-motion: reduce)")),mo.matches)}};function Bo(tt,_e,nt){nt[tt]&&nt[tt].indexOf(_e)!==-1||(nt[tt]=nt[tt]||[],nt[tt].push(_e))}function Rs(tt,_e,nt){if(nt&&nt[tt]){const ot=nt[tt].indexOf(_e);ot!==-1&&nt[tt].splice(ot,1)}}class Fs{constructor(_e,nt={}){It(this,nt),this.type=_e}}class np extends Fs{constructor(_e,nt={}){super("error",It({error:_e},nt))}}class Mu{on(_e,nt){return this._listeners=this._listeners||{},Bo(_e,nt,this._listeners),this}off(_e,nt){return Rs(_e,nt,this._listeners),Rs(_e,nt,this._oneTimeListeners),this}once(_e,nt){return nt?(this._oneTimeListeners=this._oneTimeListeners||{},Bo(_e,nt,this._oneTimeListeners),this):new Promise(ot=>this.once(_e,ot))}fire(_e,nt){typeof _e=="string"&&(_e=new Fs(_e,nt||{}));const ot=_e.type;if(this.listens(ot)){_e.target=this;const ut=this._listeners&&this._listeners[ot]?this._listeners[ot].slice():[];for(const Bt of ut)Bt.call(this,_e);const ft=this._oneTimeListeners&&this._oneTimeListeners[ot]?this._oneTimeListeners[ot].slice():[];for(const Bt of ft)Rs(ot,Bt,this._oneTimeListeners),Bt.call(this,_e);const mt=this._eventedParent;mt&&(It(_e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),mt.fire(_e))}else _e instanceof np&&console.error(_e.error);return this}listens(_e){return!!(this._listeners&&this._listeners[_e]&&this._listeners[_e].length>0||this._oneTimeListeners&&this._oneTimeListeners[_e]&&this._oneTimeListeners[_e].length>0||this._eventedParent&&this._eventedParent.listens(_e))}setEventedParent(_e,nt){return this._eventedParent=_e,this._eventedParentData=nt,this}}var Dr=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Gl(tt,..._e){for(const nt of _e)for(const ot in nt)tt[ot]=nt[ot];return tt}function na(tt){return tt instanceof Number||tt instanceof String||tt instanceof Boolean?tt.valueOf():tt}function Du(tt){if(Array.isArray(tt))return tt.map(Du);if(tt instanceof Object&&!(tt instanceof Number||tt instanceof String||tt instanceof Boolean)){const _e={};for(const nt in tt)_e[nt]=Du(tt[nt]);return _e}return na(tt)}class Dp extends Error{constructor(_e,nt){super(nt),this.message=nt,this.key=_e}}var Iu=Dp;class au{constructor(_e,nt=[]){this.parent=_e,this.bindings={};for(const[ot,ut]of nt)this.bindings[ot]=ut}concat(_e){return new au(this,_e)}get(_e){if(this.bindings[_e])return this.bindings[_e];if(this.parent)return this.parent.get(_e);throw new Error(`${_e} not found in scope.`)}has(_e){return!!this.bindings[_e]||!!this.parent&&this.parent.has(_e)}}var M0=au;const Ip={kind:"null"},lo={kind:"number"},ns={kind:"string"},as={kind:"boolean"},Ju={kind:"color"},Jp={kind:"object"},es={kind:"value"},Wp={kind:"collator"},Op={kind:"formatted"},rp={kind:"resolvedImage"};function Yl(tt,_e){return{kind:"array",itemType:tt,N:_e}}function vs(tt){if(tt.kind==="array"){const _e=vs(tt.itemType);return typeof tt.N=="number"?`array<${_e}, ${tt.N}>`:tt.itemType.kind==="value"?"array":`array<${_e}>`}return tt.kind}const Fy=[Ip,lo,ns,as,Ju,Op,Jp,Yl(es),rp];function Bl(tt,_e){if(_e.kind==="error")return null;if(tt.kind==="array"){if(_e.kind==="array"&&(_e.N===0&&_e.itemType.kind==="value"||!Bl(tt.itemType,_e.itemType))&&(typeof tt.N!="number"||tt.N===_e.N))return null}else{if(tt.kind===_e.kind)return null;if(tt.kind==="value"){for(const nt of Fy)if(!Bl(nt,_e))return null}}return`Expected ${vs(tt)} but found ${vs(_e)} instead.`}function Lp(tt,_e){return _e.some(nt=>nt.kind===tt.kind)}function Rl(tt,_e){return _e.some(nt=>nt==="null"?tt===null:nt==="array"?Array.isArray(tt):nt==="object"?tt&&!Array.isArray(tt)&&typeof tt=="object":nt===typeof tt)}var yp,sm={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function km(tt){return(tt=Math.round(tt))<0?0:tt>255?255:tt}function eu(tt){return km(tt[tt.length-1]==="%"?parseFloat(tt)/100*255:parseInt(tt))}function Wu(tt){return(_e=tt[tt.length-1]==="%"?parseFloat(tt)/100:parseFloat(tt))<0?0:_e>1?1:_e;var _e}function lu(tt,_e,nt){return nt<0?nt+=1:nt>1&&(nt-=1),6*nt<1?tt+(_e-tt)*nt*6:2*nt<1?_e:3*nt<2?tt+(_e-tt)*(2/3-nt)*6:tt}try{yp={}.parseCSSColor=function(tt){var _e,nt=tt.replace(/ /g,"").toLowerCase();if(nt in sm)return sm[nt].slice();if(nt[0]==="#")return nt.length===4?(_e=parseInt(nt.substr(1),16))>=0&&_e<=4095?[(3840&_e)>>4|(3840&_e)>>8,240&_e|(240&_e)>>4,15&_e|(15&_e)<<4,1]:null:nt.length===7&&(_e=parseInt(nt.substr(1),16))>=0&&_e<=16777215?[(16711680&_e)>>16,(65280&_e)>>8,255&_e,1]:null;var ot=nt.indexOf("("),ut=nt.indexOf(")");if(ot!==-1&&ut+1===nt.length){var ft=nt.substr(0,ot),mt=nt.substr(ot+1,ut-(ot+1)).split(","),Bt=1;switch(ft){case"rgba":if(mt.length!==4)return null;Bt=Wu(mt.pop());case"rgb":return mt.length!==3?null:[eu(mt[0]),eu(mt[1]),eu(mt[2]),Bt];case"hsla":if(mt.length!==4)return null;Bt=Wu(mt.pop());case"hsl":if(mt.length!==3)return null;var Et=(parseFloat(mt[0])%360+360)%360/360,xt=Wu(mt[1]),Wt=Wu(mt[2]),Gt=Wt<=.5?Wt*(xt+1):Wt+xt-Wt*xt,Xt=2*Wt-Gt;return[km(255*lu(Xt,Gt,Et+1/3)),km(255*lu(Xt,Gt,Et)),km(255*lu(Xt,Gt,Et-1/3)),Bt];default:return null}}return null}}catch{}class Ms{constructor(_e,nt,ot,ut=1){this.r=_e,this.g=nt,this.b=ot,this.a=ut}static parse(_e){if(!_e)return;if(_e instanceof Ms)return _e;if(typeof _e!="string")return;const nt=yp(_e);return nt?new Ms(nt[0]/255*nt[3],nt[1]/255*nt[3],nt[2]/255*nt[3],nt[3]):void 0}toString(){const[_e,nt,ot,ut]=this.toArray();return`rgba(${Math.round(_e)},${Math.round(nt)},${Math.round(ot)},${ut})`}toArray(){const{r:_e,g:nt,b:ot,a:ut}=this;return ut===0?[0,0,0,0]:[255*_e/ut,255*nt/ut,255*ot/ut,ut]}toArray01(){const{r:_e,g:nt,b:ot,a:ut}=this;return ut===0?[0,0,0,0]:[_e/ut,nt/ut,ot/ut,ut]}toArray01PremultipliedAlpha(){const{r:_e,g:nt,b:ot,a:ut}=this;return[_e,nt,ot,ut]}}Ms.black=new Ms(0,0,0,1),Ms.white=new Ms(1,1,1,1),Ms.transparent=new Ms(0,0,0,0),Ms.red=new Ms(1,0,0,1),Ms.blue=new Ms(0,0,1,1);var $s=Ms;class $m{constructor(_e,nt,ot){this.sensitivity=_e?nt?"variant":"case":nt?"accent":"base",this.locale=ot,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(_e,nt){return this.collator.compare(_e,nt)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Cm{constructor(_e,nt,ot,ut,ft){this.text=_e.normalize?_e.normalize():_e,this.image=nt,this.scale=ot,this.fontStack=ut,this.textColor=ft}}class sn{constructor(_e){this.sections=_e}static fromString(_e){return new sn([new Cm(_e,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(_e=>_e.text.length!==0||_e.image&&_e.image.name.length!==0)}static factory(_e){return _e instanceof sn?_e:sn.fromString(_e)}toString(){return this.sections.length===0?"":this.sections.map(_e=>_e.text).join("")}serialize(){const _e=["format"];for(const nt of this.sections){if(nt.image){_e.push(["image",nt.image.name]);continue}_e.push(nt.text);const ot={};nt.fontStack&&(ot["text-font"]=["literal",nt.fontStack.split(",")]),nt.scale&&(ot["font-scale"]=nt.scale),nt.textColor&&(ot["text-color"]=["rgba"].concat(nt.textColor.toArray())),_e.push(ot)}return _e}}class wn{constructor(_e){this.name=_e.name,this.available=_e.available}toString(){return this.name}static fromString(_e){return _e?new wn({name:_e,available:!1}):null}serialize(){return["image",this.name]}}function Yn(tt,_e,nt,ot){return typeof tt=="number"&&tt>=0&&tt<=255&&typeof _e=="number"&&_e>=0&&_e<=255&&typeof nt=="number"&&nt>=0&&nt<=255?ot===void 0||typeof ot=="number"&&ot>=0&&ot<=1?null:`Invalid rgba value [${[tt,_e,nt,ot].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof ot=="number"?[tt,_e,nt,ot]:[tt,_e,nt]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function dr(tt){if(tt===null||typeof tt=="string"||typeof tt=="boolean"||typeof tt=="number"||tt instanceof $s||tt instanceof $m||tt instanceof sn||tt instanceof wn)return!0;if(Array.isArray(tt)){for(const _e of tt)if(!dr(_e))return!1;return!0}if(typeof tt=="object"){for(const _e in tt)if(!dr(tt[_e]))return!1;return!0}return!1}function Br(tt){if(tt===null)return Ip;if(typeof tt=="string")return ns;if(typeof tt=="boolean")return as;if(typeof tt=="number")return lo;if(tt instanceof $s)return Ju;if(tt instanceof $m)return Wp;if(tt instanceof sn)return Op;if(tt instanceof wn)return rp;if(Array.isArray(tt)){const _e=tt.length;let nt;for(const ot of tt){const ut=Br(ot);if(nt){if(nt===ut)continue;nt=es;break}nt=ut}return Yl(nt||es,_e)}return Jp}function Or(tt){const _e=typeof tt;return tt===null?"":_e==="string"||_e==="number"||_e==="boolean"?String(tt):tt instanceof $s||tt instanceof sn||tt instanceof wn?tt.toString():JSON.stringify(tt)}class vr{constructor(_e,nt){this.type=_e,this.value=nt}static parse(_e,nt){if(_e.length!==2)return nt.error(`'literal' expression requires exactly one argument, but found ${_e.length-1} instead.`);if(!dr(_e[1]))return nt.error("invalid value");const ot=_e[1];let ut=Br(ot);const ft=nt.expectedType;return ut.kind!=="array"||ut.N!==0||!ft||ft.kind!=="array"||typeof ft.N=="number"&&ft.N!==0||(ut=ft),new vr(ut,ot)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof $s?["rgba"].concat(this.value.toArray()):this.value instanceof sn?this.value.serialize():this.value}}var Ar=vr,oo=class{constructor(tt){this.name="ExpressionEvaluationError",this.message=tt}toJSON(){return this.message}};const ho={string:ns,number:lo,boolean:as,object:Jp};class Eo{constructor(_e,nt){this.type=_e,this.args=nt}static parse(_e,nt){if(_e.length<2)return nt.error("Expected at least one argument.");let ot,ut=1;const ft=_e[0];if(ft==="array"){let Bt,Et;if(_e.length>2){const xt=_e[1];if(typeof xt!="string"||!(xt in ho)||xt==="object")return nt.error('The item type argument of "array" must be one of string, number, boolean',1);Bt=ho[xt],ut++}else Bt=es;if(_e.length>3){if(_e[2]!==null&&(typeof _e[2]!="number"||_e[2]<0||_e[2]!==Math.floor(_e[2])))return nt.error('The length argument to "array" must be a positive integer literal',2);Et=_e[2],ut++}ot=Yl(Bt,Et)}else ot=ho[ft];const mt=[];for(;ut<_e.length;ut++){const Bt=nt.parse(_e[ut],ut,es);if(!Bt)return null;mt.push(Bt)}return new Eo(ot,mt)}evaluate(_e){for(let nt=0;nt<this.args.length;nt++){const ot=this.args[nt].evaluate(_e);if(!Bl(this.type,Br(ot)))return ot;if(nt===this.args.length-1)throw new oo(`Expected value to be of type ${vs(this.type)}, but found ${vs(Br(ot))} instead.`)}return null}eachChild(_e){this.args.forEach(_e)}outputDefined(){return this.args.every(_e=>_e.outputDefined())}serialize(){const _e=this.type,nt=[_e.kind];if(_e.kind==="array"){const ot=_e.itemType;if(ot.kind==="string"||ot.kind==="number"||ot.kind==="boolean"){nt.push(ot.kind);const ut=_e.N;(typeof ut=="number"||this.args.length>1)&&nt.push(ut)}}return nt.concat(this.args.map(ot=>ot.serialize()))}}var ps=Eo;class Co{constructor(_e){this.type=Op,this.sections=_e}static parse(_e,nt){if(_e.length<2)return nt.error("Expected at least one argument.");const ot=_e[1];if(!Array.isArray(ot)&&typeof ot=="object")return nt.error("First argument must be an image or text section.");const ut=[];let ft=!1;for(let mt=1;mt<=_e.length-1;++mt){const Bt=_e[mt];if(ft&&typeof Bt=="object"&&!Array.isArray(Bt)){ft=!1;let Et=null;if(Bt["font-scale"]&&(Et=nt.parse(Bt["font-scale"],1,lo),!Et))return null;let xt=null;if(Bt["text-font"]&&(xt=nt.parse(Bt["text-font"],1,Yl(ns)),!xt))return null;let Wt=null;if(Bt["text-color"]&&(Wt=nt.parse(Bt["text-color"],1,Ju),!Wt))return null;const Gt=ut[ut.length-1];Gt.scale=Et,Gt.font=xt,Gt.textColor=Wt}else{const Et=nt.parse(_e[mt],1,es);if(!Et)return null;const xt=Et.type.kind;if(xt!=="string"&&xt!=="value"&&xt!=="null"&&xt!=="resolvedImage")return nt.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");ft=!0,ut.push({content:Et,scale:null,font:null,textColor:null})}}return new Co(ut)}evaluate(_e){return new sn(this.sections.map(nt=>{const ot=nt.content.evaluate(_e);return Br(ot)===rp?new Cm("",ot,null,null,null):new Cm(Or(ot),null,nt.scale?nt.scale.evaluate(_e):null,nt.font?nt.font.evaluate(_e).join(","):null,nt.textColor?nt.textColor.evaluate(_e):null)}))}eachChild(_e){for(const nt of this.sections)_e(nt.content),nt.scale&&_e(nt.scale),nt.font&&_e(nt.font),nt.textColor&&_e(nt.textColor)}outputDefined(){return!1}serialize(){const _e=["format"];for(const nt of this.sections){_e.push(nt.content.serialize());const ot={};nt.scale&&(ot["font-scale"]=nt.scale.serialize()),nt.font&&(ot["text-font"]=nt.font.serialize()),nt.textColor&&(ot["text-color"]=nt.textColor.serialize()),_e.push(ot)}return _e}}class jo{constructor(_e){this.type=rp,this.input=_e}static parse(_e,nt){if(_e.length!==2)return nt.error("Expected two arguments.");const ot=nt.parse(_e[1],1,ns);return ot?new jo(ot):nt.error("No image name provided.")}evaluate(_e){const nt=this.input.evaluate(_e),ot=wn.fromString(nt);return ot&&_e.availableImages&&(ot.available=_e.availableImages.indexOf(nt)>-1),ot}eachChild(_e){_e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const js={"to-boolean":as,"to-color":Ju,"to-number":lo,"to-string":ns};class Gs{constructor(_e,nt){this.type=_e,this.args=nt}static parse(_e,nt){if(_e.length<2)return nt.error("Expected at least one argument.");const ot=_e[0];if((ot==="to-boolean"||ot==="to-string")&&_e.length!==2)return nt.error("Expected one argument.");const ut=js[ot],ft=[];for(let mt=1;mt<_e.length;mt++){const Bt=nt.parse(_e[mt],mt,es);if(!Bt)return null;ft.push(Bt)}return new Gs(ut,ft)}evaluate(_e){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(_e));if(this.type.kind==="color"){let nt,ot;for(const ut of this.args){if(nt=ut.evaluate(_e),ot=null,nt instanceof $s)return nt;if(typeof nt=="string"){const ft=_e.parseColor(nt);if(ft)return ft}else if(Array.isArray(nt)&&(ot=nt.length<3||nt.length>4?`Invalid rbga value ${JSON.stringify(nt)}: expected an array containing either three or four numeric values.`:Yn(nt[0],nt[1],nt[2],nt[3]),!ot))return new $s(nt[0]/255,nt[1]/255,nt[2]/255,nt[3])}throw new oo(ot||`Could not parse color from value '${typeof nt=="string"?nt:String(JSON.stringify(nt))}'`)}if(this.type.kind==="number"){let nt=null;for(const ot of this.args){if(nt=ot.evaluate(_e),nt===null)return 0;const ut=Number(nt);if(!isNaN(ut))return ut}throw new oo(`Could not convert ${JSON.stringify(nt)} to number.`)}return this.type.kind==="formatted"?sn.fromString(Or(this.args[0].evaluate(_e))):this.type.kind==="resolvedImage"?wn.fromString(Or(this.args[0].evaluate(_e))):Or(this.args[0].evaluate(_e))}eachChild(_e){this.args.forEach(_e)}outputDefined(){return this.args.every(_e=>_e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Co([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new jo(this.args[0]).serialize();const _e=[`to-${this.type.kind}`];return this.eachChild(nt=>{_e.push(nt.serialize())}),_e}}var hs=Gs;const Ou=["Unknown","Point","LineString","Polygon"];var Pp=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ou[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const tt=this.featureDistanceData.center,_e=this.featureDistanceData.scale,{x:nt,y:ot}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(nt*_e-tt[0])+this.featureDistanceData.bearing[1]*(ot*_e-tt[1])}return 0}parseColor(tt){let _e=this._parseColorCache[tt];return _e||(_e=this._parseColorCache[tt]=$s.parse(tt)),_e}};class Am{constructor(_e,nt,ot,ut){this.name=_e,this.type=nt,this._evaluate=ot,this.args=ut}evaluate(_e){return this._evaluate(_e,this.args)}eachChild(_e){this.args.forEach(_e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(_e=>_e.serialize()))}static parse(_e,nt){const ot=_e[0],ut=Am.definitions[ot];if(!ut)return nt.error(`Unknown expression "${ot}". If you wanted a literal array, use ["literal", [...]].`,0);const ft=Array.isArray(ut)?ut[0]:ut.type,mt=Array.isArray(ut)?[[ut[1],ut[2]]]:ut.overloads,Bt=mt.filter(([xt])=>!Array.isArray(xt)||xt.length===_e.length-1);let Et=null;for(const[xt,Wt]of Bt){Et=new W0(nt.registry,nt.path,null,nt.scope);const Gt=[];let Xt=!1;for(let pn=1;pn<_e.length;pn++){const Fn=_e[pn],Sn=Array.isArray(xt)?xt[pn-1]:xt.type,Mn=Et.parse(Fn,1+Gt.length,Sn);if(!Mn){Xt=!0;break}Gt.push(Mn)}if(!Xt)if(Array.isArray(xt)&&xt.length!==Gt.length)Et.error(`Expected ${xt.length} arguments, but found ${Gt.length} instead.`);else{for(let pn=0;pn<Gt.length;pn++){const Fn=Array.isArray(xt)?xt[pn]:xt.type,Sn=Gt[pn];Et.concat(pn+1).checkSubtype(Fn,Sn.type)}if(Et.errors.length===0)return new Am(ot,ft,Wt,Gt)}}if(Bt.length===1)nt.errors.push(...Et.errors);else{const xt=(Bt.length?Bt:mt).map(([Gt])=>{return Xt=Gt,Array.isArray(Xt)?`(${Xt.map(vs).join(", ")})`:`(${vs(Xt.type)}...)`;var Xt}).join(" | "),Wt=[];for(let Gt=1;Gt<_e.length;Gt++){const Xt=nt.parse(_e[Gt],1+Wt.length);if(!Xt)return null;Wt.push(vs(Xt.type))}nt.error(`Expected arguments of type ${xt}, but found (${Wt.join(", ")}) instead.`)}return null}static register(_e,nt){Am.definitions=nt;for(const ot in nt)_e[ot]=Am}}var Lu=Am;class vy{constructor(_e,nt,ot){this.type=Wp,this.locale=ot,this.caseSensitive=_e,this.diacriticSensitive=nt}static parse(_e,nt){if(_e.length!==2)return nt.error("Expected one argument.");const ot=_e[1];if(typeof ot!="object"||Array.isArray(ot))return nt.error("Collator options argument must be an object.");const ut=nt.parse(ot["case-sensitive"]!==void 0&&ot["case-sensitive"],1,as);if(!ut)return null;const ft=nt.parse(ot["diacritic-sensitive"]!==void 0&&ot["diacritic-sensitive"],1,as);if(!ft)return null;let mt=null;return ot.locale&&(mt=nt.parse(ot.locale,1,ns),!mt)?null:new vy(ut,ft,mt)}evaluate(_e){return new $m(this.caseSensitive.evaluate(_e),this.diacriticSensitive.evaluate(_e),this.locale?this.locale.evaluate(_e):null)}eachChild(_e){_e(this.caseSensitive),_e(this.diacriticSensitive),this.locale&&_e(this.locale)}outputDefined(){return!1}serialize(){const _e={};return _e["case-sensitive"]=this.caseSensitive.serialize(),_e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(_e.locale=this.locale.serialize()),["collator",_e]}}const yl=8192;function I0(tt,_e){tt[0]=Math.min(tt[0],_e[0]),tt[1]=Math.min(tt[1],_e[1]),tt[2]=Math.max(tt[2],_e[0]),tt[3]=Math.max(tt[3],_e[1])}function _p(tt,_e){return!(tt[0]<=_e[0]||tt[2]>=_e[2]||tt[1]<=_e[1]||tt[3]>=_e[3])}function ip(tt,_e){const nt=(180+tt[0])/360,ot=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+tt[1]*Math.PI/360)))/360,ut=Math.pow(2,_e.z);return[Math.round(nt*ut*yl),Math.round(ot*ut*yl)]}function by(tt,_e,nt){const ot=tt[0]-_e[0],ut=tt[1]-_e[1],ft=tt[0]-nt[0],mt=tt[1]-nt[1];return ot*mt-ft*ut==0&&ot*ft<=0&&ut*mt<=0}function cu(tt,_e){let nt=!1;for(let mt=0,Bt=_e.length;mt<Bt;mt++){const Et=_e[mt];for(let xt=0,Wt=Et.length;xt<Wt-1;xt++){if(by(tt,Et[xt],Et[xt+1]))return!1;(ut=Et[xt])[1]>(ot=tt)[1]!=(ft=Et[xt+1])[1]>ot[1]&&ot[0]<(ft[0]-ut[0])*(ot[1]-ut[1])/(ft[1]-ut[1])+ut[0]&&(nt=!nt)}}var ot,ut,ft;return nt}function E_(tt,_e){for(let nt=0;nt<_e.length;nt++)if(cu(tt,_e[nt]))return!0;return!1}function By(tt,_e,nt,ot){const ut=ot[0]-nt[0],ft=ot[1]-nt[1],mt=(tt[0]-nt[0])*ft-ut*(tt[1]-nt[1]),Bt=(_e[0]-nt[0])*ft-ut*(_e[1]-nt[1]);return mt>0&&Bt<0||mt<0&&Bt>0}function w_(tt,_e,nt){for(const xt of nt)for(let Wt=0;Wt<xt.length-1;++Wt)if((Bt=[(mt=xt[Wt+1])[0]-(ft=xt[Wt])[0],mt[1]-ft[1]])[0]*(Et=[(ut=_e)[0]-(ot=tt)[0],ut[1]-ot[1]])[1]-Bt[1]*Et[0]!=0&&By(ot,ut,ft,mt)&&By(ft,mt,ot,ut))return!0;var ot,ut,ft,mt,Bt,Et;return!1}function Ry(tt,_e){for(let nt=0;nt<tt.length;++nt)if(!cu(tt[nt],_e))return!1;for(let nt=0;nt<tt.length-1;++nt)if(w_(tt[nt],tt[nt+1],_e))return!1;return!0}function Qy(tt,_e){for(let nt=0;nt<_e.length;nt++)if(Ry(tt,_e[nt]))return!0;return!1}function am(tt,_e,nt){const ot=[];for(let ut=0;ut<tt.length;ut++){const ft=[];for(let mt=0;mt<tt[ut].length;mt++){const Bt=ip(tt[ut][mt],nt);I0(_e,Bt),ft.push(Bt)}ot.push(ft)}return ot}function uu(tt,_e,nt){const ot=[];for(let ut=0;ut<tt.length;ut++){const ft=am(tt[ut],_e,nt);ot.push(ft)}return ot}function x_(tt,_e,nt,ot){if(tt[0]<nt[0]||tt[0]>nt[2]){const ut=.5*ot;let ft=tt[0]-nt[0]>ut?-ot:nt[0]-tt[0]>ut?ot:0;ft===0&&(ft=tt[0]-nt[2]>ut?-ot:nt[2]-tt[0]>ut?ot:0),tt[0]+=ft}I0(_e,tt)}function hu(tt,_e,nt,ot){const ut=Math.pow(2,ot.z)*yl,ft=[ot.x*yl,ot.y*yl],mt=[];if(!tt)return mt;for(const Bt of tt)for(const Et of Bt){const xt=[Et.x+ft[0],Et.y+ft[1]];x_(xt,_e,nt,ut),mt.push(xt)}return mt}function T_(tt,_e,nt,ot){const ut=Math.pow(2,ot.z)*yl,ft=[ot.x*yl,ot.y*yl],mt=[];if(!tt)return mt;for(const Et of tt){const xt=[];for(const Wt of Et){const Gt=[Wt.x+ft[0],Wt.y+ft[1]];I0(_e,Gt),xt.push(Gt)}mt.push(xt)}if(_e[2]-_e[0]<=ut/2){(Bt=_e)[0]=Bt[1]=1/0,Bt[2]=Bt[3]=-1/0;for(const Et of mt)for(const xt of Et)x_(xt,_e,nt,ut)}var Bt;return mt}class op{constructor(_e,nt){this.type=as,this.geojson=_e,this.geometries=nt}static parse(_e,nt){if(_e.length!==2)return nt.error(`'within' expression requires exactly one argument, but found ${_e.length-1} instead.`);if(dr(_e[1])){const ot=_e[1];if(ot.type==="FeatureCollection")for(let ut=0;ut<ot.features.length;++ut){const ft=ot.features[ut].geometry.type;if(ft==="Polygon"||ft==="MultiPolygon")return new op(ot,ot.features[ut].geometry)}else if(ot.type==="Feature"){const ut=ot.geometry.type;if(ut==="Polygon"||ut==="MultiPolygon")return new op(ot,ot.geometry)}else if(ot.type==="Polygon"||ot.type==="MultiPolygon")return new op(ot,ot)}return nt.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(_e){if(_e.geometry()!=null&&_e.canonicalID()!=null){if(_e.geometryType()==="Point")return function(nt,ot){const ut=[1/0,1/0,-1/0,-1/0],ft=[1/0,1/0,-1/0,-1/0],mt=nt.canonicalID();if(!mt)return!1;if(ot.type==="Polygon"){const Bt=am(ot.coordinates,ft,mt),Et=hu(nt.geometry(),ut,ft,mt);if(!_p(ut,ft))return!1;for(const xt of Et)if(!cu(xt,Bt))return!1}if(ot.type==="MultiPolygon"){const Bt=uu(ot.coordinates,ft,mt),Et=hu(nt.geometry(),ut,ft,mt);if(!_p(ut,ft))return!1;for(const xt of Et)if(!E_(xt,Bt))return!1}return!0}(_e,this.geometries);if(_e.geometryType()==="LineString")return function(nt,ot){const ut=[1/0,1/0,-1/0,-1/0],ft=[1/0,1/0,-1/0,-1/0],mt=nt.canonicalID();if(!mt)return!1;if(ot.type==="Polygon"){const Bt=am(ot.coordinates,ft,mt),Et=T_(nt.geometry(),ut,ft,mt);if(!_p(ut,ft))return!1;for(const xt of Et)if(!Ry(xt,Bt))return!1}if(ot.type==="MultiPolygon"){const Bt=uu(ot.coordinates,ft,mt),Et=T_(nt.geometry(),ut,ft,mt);if(!_p(ut,ft))return!1;for(const xt of Et)if(!Qy(xt,Bt))return!1}return!0}(_e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var ds=op;function lm(tt){if(tt instanceof Lu&&(tt.name==="get"&&tt.args.length===1||tt.name==="feature-state"||tt.name==="has"&&tt.args.length===1||tt.name==="properties"||tt.name==="geometry-type"||tt.name==="id"||/^filter-/.test(tt.name))||tt instanceof ds)return!1;let _e=!0;return tt.eachChild(nt=>{_e&&!lm(nt)&&(_e=!1)}),_e}function qm(tt){if(tt instanceof Lu&&tt.name==="feature-state")return!1;let _e=!0;return tt.eachChild(nt=>{_e&&!qm(nt)&&(_e=!1)}),_e}function qs(tt,_e){if(tt instanceof Lu&&_e.indexOf(tt.name)>=0)return!1;let nt=!0;return tt.eachChild(ot=>{nt&&!qs(ot,_e)&&(nt=!1)}),nt}class sp{constructor(_e,nt){this.type=nt.type,this.name=_e,this.boundExpression=nt}static parse(_e,nt){if(_e.length!==2||typeof _e[1]!="string")return nt.error("'var' expression requires exactly one string literal argument.");const ot=_e[1];return nt.scope.has(ot)?new sp(ot,nt.scope.get(ot)):nt.error(`Unknown variable "${ot}". Make sure "${ot}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(_e){return this.boundExpression.evaluate(_e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Sy=sp;class Ey{constructor(_e,nt=[],ot,ut=new M0,ft=[]){this.registry=_e,this.path=nt,this.key=nt.map(mt=>`[${mt}]`).join(""),this.scope=ut,this.errors=ft,this.expectedType=ot}parse(_e,nt,ot,ut,ft={}){return nt?this.concat(nt,ot,ut)._parse(_e,ft):this._parse(_e,ft)}_parse(_e,nt){function ot(ut,ft,mt){return mt==="assert"?new ps(ft,[ut]):mt==="coerce"?new hs(ft,[ut]):ut}if(_e!==null&&typeof _e!="string"&&typeof _e!="boolean"&&typeof _e!="number"||(_e=["literal",_e]),Array.isArray(_e)){if(_e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const ut=_e[0];if(typeof ut!="string")return this.error(`Expression name must be a string, but found ${typeof ut} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const ft=this.registry[ut];if(ft){let mt=ft.parse(_e,this);if(!mt)return null;if(this.expectedType){const Bt=this.expectedType,Et=mt.type;if(Bt.kind!=="string"&&Bt.kind!=="number"&&Bt.kind!=="boolean"&&Bt.kind!=="object"&&Bt.kind!=="array"||Et.kind!=="value")if(Bt.kind!=="color"&&Bt.kind!=="formatted"&&Bt.kind!=="resolvedImage"||Et.kind!=="value"&&Et.kind!=="string"){if(this.checkSubtype(Bt,Et))return null}else mt=ot(mt,Bt,nt.typeAnnotation||"coerce");else mt=ot(mt,Bt,nt.typeAnnotation||"assert")}if(!(mt instanceof Ar)&&mt.type.kind!=="resolvedImage"&&wy(mt)){const Bt=new Pp;try{mt=new Ar(mt.type,mt.evaluate(Bt))}catch(Et){return this.error(Et.message),null}}return mt}return this.error(`Unknown expression "${ut}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(_e===void 0?"'undefined' value invalid. Use null instead.":typeof _e=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof _e} instead.`)}concat(_e,nt,ot){const ut=typeof _e=="number"?this.path.concat(_e):this.path,ft=ot?this.scope.concat(ot):this.scope;return new Ey(this.registry,ut,nt||null,ft,this.errors)}error(_e,...nt){const ot=`${this.key}${nt.map(ut=>`[${ut}]`).join("")}`;this.errors.push(new Iu(ot,_e))}checkSubtype(_e,nt){const ot=Bl(_e,nt);return ot&&this.error(ot),ot}}var W0=Ey;function wy(tt){if(tt instanceof Sy)return wy(tt.boundExpression);if(tt instanceof Lu&&tt.name==="error"||tt instanceof vy||tt instanceof ds)return!1;const _e=tt instanceof hs||tt instanceof ps;let nt=!0;return tt.eachChild(ot=>{nt=_e?nt&&wy(ot):nt&&ot instanceof Ar}),!!nt&&lm(tt)&&qs(tt,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function L0(tt,_e){const nt=tt.length-1;let ot,ut,ft=0,mt=nt,Bt=0;for(;ft<=mt;)if(Bt=Math.floor((ft+mt)/2),ot=tt[Bt],ut=tt[Bt+1],ot<=_e){if(Bt===nt||_e<ut)return Bt;ft=Bt+1}else{if(!(ot>_e))throw new oo("Input is not a number.");mt=Bt-1}return 0}class cm{constructor(_e,nt,ot){this.type=_e,this.input=nt,this.labels=[],this.outputs=[];for(const[ut,ft]of ot)this.labels.push(ut),this.outputs.push(ft)}static parse(_e,nt){if(_e.length-1<4)return nt.error(`Expected at least 4 arguments, but found only ${_e.length-1}.`);if((_e.length-1)%2!=0)return nt.error("Expected an even number of arguments.");const ot=nt.parse(_e[1],1,lo);if(!ot)return null;const ut=[];let ft=null;nt.expectedType&&nt.expectedType.kind!=="value"&&(ft=nt.expectedType);for(let mt=1;mt<_e.length;mt+=2){const Bt=mt===1?-1/0:_e[mt],Et=_e[mt+1],xt=mt,Wt=mt+1;if(typeof Bt!="number")return nt.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xt);if(ut.length&&ut[ut.length-1][0]>=Bt)return nt.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',xt);const Gt=nt.parse(Et,Wt,ft);if(!Gt)return null;ft=ft||Gt.type,ut.push([Bt,Gt])}return new cm(ft,ot,ut)}evaluate(_e){const nt=this.labels,ot=this.outputs;if(nt.length===1)return ot[0].evaluate(_e);const ut=this.input.evaluate(_e);if(ut<=nt[0])return ot[0].evaluate(_e);const ft=nt.length;return ut>=nt[ft-1]?ot[ft-1].evaluate(_e):ot[L0(nt,ut)].evaluate(_e)}eachChild(_e){_e(this.input);for(const nt of this.outputs)_e(nt)}outputDefined(){return this.outputs.every(_e=>_e.outputDefined())}serialize(){const _e=["step",this.input.serialize()];for(let nt=0;nt<this.labels.length;nt++)nt>0&&_e.push(this.labels[nt]),_e.push(this.outputs[nt].serialize());return _e}}var Vm=cm;function _s(tt,_e,nt){return tt*(1-nt)+_e*nt}var ap=Object.freeze({__proto__:null,number:_s,color:function(tt,_e,nt){return new $s(_s(tt.r,_e.r,nt),_s(tt.g,_e.g,nt),_s(tt.b,_e.b,nt),_s(tt.a,_e.a,nt))},array:function(tt,_e,nt){return tt.map((ot,ut)=>_s(ot,_e[ut],nt))}});const k_=.95047,C_=1.08883,A_=4/29,Km=6/29,xy=3*Km*Km,V_=Math.PI/180,EU=180/Math.PI;function Z0(tt){return tt>.008856451679035631?Math.pow(tt,1/3):tt/xy+A_}function e0(tt){return tt>Km?tt*tt*tt:xy*(tt-A_)}function N_(tt){return 255*(tt<=.0031308?12.92*tt:1.055*Math.pow(tt,1/2.4)-.055)}function z0(tt){return(tt/=255)<=.04045?tt/12.92:Math.pow((tt+.055)/1.055,2.4)}function du(tt){const _e=z0(tt.r),nt=z0(tt.g),ot=z0(tt.b),ut=Z0((.4124564*_e+.3575761*nt+.1804375*ot)/k_),ft=Z0((.2126729*_e+.7151522*nt+.072175*ot)/1);return{l:116*ft-16,a:500*(ut-ft),b:200*(ft-Z0((.0193339*_e+.119192*nt+.9503041*ot)/C_)),alpha:tt.a}}function Ty(tt){let _e=(tt.l+16)/116,nt=isNaN(tt.a)?_e:_e+tt.a/500,ot=isNaN(tt.b)?_e:_e-tt.b/200;return _e=1*e0(_e),nt=k_*e0(nt),ot=C_*e0(ot),new $s(N_(3.2404542*nt-1.5371385*_e-.4985314*ot),N_(-.969266*nt+1.8760108*_e+.041556*ot),N_(.0556434*nt-.2040259*_e+1.0572252*ot),tt.alpha)}function j0(tt,_e,nt){const ot=_e-tt;return tt+nt*(ot>180||ot<-180?ot-360*Math.round(ot/360):ot)}const t0={forward:du,reverse:Ty,interpolate:function(tt,_e,nt){return{l:_s(tt.l,_e.l,nt),a:_s(tt.a,_e.a,nt),b:_s(tt.b,_e.b,nt),alpha:_s(tt.alpha,_e.alpha,nt)}}},n0={forward:function(tt){const{l:_e,a:nt,b:ot}=du(tt),ut=Math.atan2(ot,nt)*EU;return{h:ut<0?ut+360:ut,c:Math.sqrt(nt*nt+ot*ot),l:_e,alpha:tt.a}},reverse:function(tt){const _e=tt.h*V_,nt=tt.c;return Ty({l:tt.l,a:Math.cos(_e)*nt,b:Math.sin(_e)*nt,alpha:tt.alpha})},interpolate:function(tt,_e,nt){return{h:j0(tt.h,_e.h,nt),c:_s(tt.c,_e.c,nt),l:_s(tt.l,_e.l,nt),alpha:_s(tt.alpha,_e.alpha,nt)}}};var wU=Object.freeze({__proto__:null,lab:t0,hcl:n0});class ky{constructor(_e,nt,ot,ut,ft){this.type=_e,this.operator=nt,this.interpolation=ot,this.input=ut,this.labels=[],this.outputs=[];for(const[mt,Bt]of ft)this.labels.push(mt),this.outputs.push(Bt)}static interpolationFactor(_e,nt,ot,ut){let ft=0;if(_e.name==="exponential")ft=Cy(nt,_e.base,ot,ut);else if(_e.name==="linear")ft=Cy(nt,1,ot,ut);else if(_e.name==="cubic-bezier"){const mt=_e.controlPoints;ft=new At(mt[0],mt[1],mt[2],mt[3]).solve(Cy(nt,1,ot,ut))}return ft}static parse(_e,nt){let[ot,ut,ft,...mt]=_e;if(!Array.isArray(ut)||ut.length===0)return nt.error("Expected an interpolation type expression.",1);if(ut[0]==="linear")ut={name:"linear"};else if(ut[0]==="exponential"){const xt=ut[1];if(typeof xt!="number")return nt.error("Exponential interpolation requires a numeric base.",1,1);ut={name:"exponential",base:xt}}else{if(ut[0]!=="cubic-bezier")return nt.error(`Unknown interpolation type ${String(ut[0])}`,1,0);{const xt=ut.slice(1);if(xt.length!==4||xt.some(Wt=>typeof Wt!="number"||Wt<0||Wt>1))return nt.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ut={name:"cubic-bezier",controlPoints:xt}}}if(_e.length-1<4)return nt.error(`Expected at least 4 arguments, but found only ${_e.length-1}.`);if((_e.length-1)%2!=0)return nt.error("Expected an even number of arguments.");if(ft=nt.parse(ft,2,lo),!ft)return null;const Bt=[];let Et=null;ot==="interpolate-hcl"||ot==="interpolate-lab"?Et=Ju:nt.expectedType&&nt.expectedType.kind!=="value"&&(Et=nt.expectedType);for(let xt=0;xt<mt.length;xt+=2){const Wt=mt[xt],Gt=mt[xt+1],Xt=xt+3,pn=xt+4;if(typeof Wt!="number")return nt.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Xt);if(Bt.length&&Bt[Bt.length-1][0]>=Wt)return nt.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Xt);const Fn=nt.parse(Gt,pn,Et);if(!Fn)return null;Et=Et||Fn.type,Bt.push([Wt,Fn])}return Et.kind==="number"||Et.kind==="color"||Et.kind==="array"&&Et.itemType.kind==="number"&&typeof Et.N=="number"?new ky(Et,ot,ut,ft,Bt):nt.error(`Type ${vs(Et)} is not interpolatable.`)}evaluate(_e){const nt=this.labels,ot=this.outputs;if(nt.length===1)return ot[0].evaluate(_e);const ut=this.input.evaluate(_e);if(ut<=nt[0])return ot[0].evaluate(_e);const ft=nt.length;if(ut>=nt[ft-1])return ot[ft-1].evaluate(_e);const mt=L0(nt,ut),Bt=ky.interpolationFactor(this.interpolation,ut,nt[mt],nt[mt+1]),Et=ot[mt].evaluate(_e),xt=ot[mt+1].evaluate(_e);return this.operator==="interpolate"?ap[this.type.kind.toLowerCase()](Et,xt,Bt):this.operator==="interpolate-hcl"?n0.reverse(n0.interpolate(n0.forward(Et),n0.forward(xt),Bt)):t0.reverse(t0.interpolate(t0.forward(Et),t0.forward(xt),Bt))}eachChild(_e){_e(this.input);for(const nt of this.outputs)_e(nt)}outputDefined(){return this.outputs.every(_e=>_e.outputDefined())}serialize(){let _e;_e=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const nt=[this.operator,_e,this.input.serialize()];for(let ot=0;ot<this.labels.length;ot++)nt.push(this.labels[ot],this.outputs[ot].serialize());return nt}}function Cy(tt,_e,nt,ot){const ut=ot-nt,ft=tt-nt;return ut===0?0:_e===1?ft/ut:(Math.pow(_e,ft)-1)/(Math.pow(_e,ut)-1)}var Up=ky;class M_{constructor(_e,nt){this.type=_e,this.args=nt}static parse(_e,nt){if(_e.length<2)return nt.error("Expectected at least one argument.");let ot=null;const ut=nt.expectedType;ut&&ut.kind!=="value"&&(ot=ut);const ft=[];for(const Bt of _e.slice(1)){const Et=nt.parse(Bt,1+ft.length,ot,void 0,{typeAnnotation:"omit"});if(!Et)return null;ot=ot||Et.type,ft.push(Et)}const mt=ut&&ft.some(Bt=>Bl(ut,Bt.type));return new M_(mt?es:ot,ft)}evaluate(_e){let nt,ot=null,ut=0;for(const ft of this.args){if(ut++,ot=ft.evaluate(_e),ot&&ot instanceof wn&&!ot.available&&(nt||(nt=ot),ot=null,ut===this.args.length))return nt;if(ot!==null)break}return ot}eachChild(_e){this.args.forEach(_e)}outputDefined(){return this.args.every(_e=>_e.outputDefined())}serialize(){const _e=["coalesce"];return this.eachChild(nt=>{_e.push(nt.serialize())}),_e}}var Nm=M_;class D_{constructor(_e,nt){this.type=nt.type,this.bindings=[].concat(_e),this.result=nt}evaluate(_e){return this.result.evaluate(_e)}eachChild(_e){for(const nt of this.bindings)_e(nt[1]);_e(this.result)}static parse(_e,nt){if(_e.length<4)return nt.error(`Expected at least 3 arguments, but found ${_e.length-1} instead.`);const ot=[];for(let ft=1;ft<_e.length-1;ft+=2){const mt=_e[ft];if(typeof mt!="string")return nt.error(`Expected string, but found ${typeof mt} instead.`,ft);if(/[^a-zA-Z0-9_]/.test(mt))return nt.error("Variable names must contain only alphanumeric characters or '_'.",ft);const Bt=nt.parse(_e[ft+1],ft+1);if(!Bt)return null;ot.push([mt,Bt])}const ut=nt.parse(_e[_e.length-1],_e.length-1,nt.expectedType,ot);return ut?new D_(ot,ut):null}outputDefined(){return this.result.outputDefined()}serialize(){const _e=["let"];for(const[nt,ot]of this.bindings)_e.push(nt,ot.serialize());return _e.push(this.result.serialize()),_e}}var I_=D_;class r0{constructor(_e,nt,ot){this.type=_e,this.index=nt,this.input=ot}static parse(_e,nt){if(_e.length!==3)return nt.error(`Expected 2 arguments, but found ${_e.length-1} instead.`);const ot=nt.parse(_e[1],1,lo),ut=nt.parse(_e[2],2,Yl(nt.expectedType||es));return ot&&ut?new r0(ut.type.itemType,ot,ut):null}evaluate(_e){const nt=this.index.evaluate(_e),ot=this.input.evaluate(_e);if(nt<0)throw new oo(`Array index out of bounds: ${nt} < 0.`);if(nt>=ot.length)throw new oo(`Array index out of bounds: ${nt} > ${ot.length-1}.`);if(nt!==Math.floor(nt))throw new oo(`Array index must be an integer, but found ${nt} instead.`);return ot[nt]}eachChild(_e){_e(this.index),_e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var J_=r0;class Fp{constructor(_e,nt){this.type=as,this.needle=_e,this.haystack=nt}static parse(_e,nt){if(_e.length!==3)return nt.error(`Expected 2 arguments, but found ${_e.length-1} instead.`);const ot=nt.parse(_e[1],1,es),ut=nt.parse(_e[2],2,es);return ot&&ut?Lp(ot.type,[as,ns,lo,Ip,es])?new Fp(ot,ut):nt.error(`Expected first argument to be of type boolean, string, number or null, but found ${vs(ot.type)} instead`):null}evaluate(_e){const nt=this.needle.evaluate(_e),ot=this.haystack.evaluate(_e);if(ot==null)return!1;if(!Rl(nt,["boolean","string","number","null"]))throw new oo(`Expected first argument to be of type boolean, string, number or null, but found ${vs(Br(nt))} instead.`);if(!Rl(ot,["string","array"]))throw new oo(`Expected second argument to be of type array or string, but found ${vs(Br(ot))} instead.`);return ot.indexOf(nt)>=0}eachChild(_e){_e(this.needle),_e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Ay=Fp;class H0{constructor(_e,nt,ot){this.type=lo,this.needle=_e,this.haystack=nt,this.fromIndex=ot}static parse(_e,nt){if(_e.length<=2||_e.length>=5)return nt.error(`Expected 3 or 4 arguments, but found ${_e.length-1} instead.`);const ot=nt.parse(_e[1],1,es),ut=nt.parse(_e[2],2,es);if(!ot||!ut)return null;if(!Lp(ot.type,[as,ns,lo,Ip,es]))return nt.error(`Expected first argument to be of type boolean, string, number or null, but found ${vs(ot.type)} instead`);if(_e.length===4){const ft=nt.parse(_e[3],3,lo);return ft?new H0(ot,ut,ft):null}return new H0(ot,ut)}evaluate(_e){const nt=this.needle.evaluate(_e),ot=this.haystack.evaluate(_e);if(!Rl(nt,["boolean","string","number","null"]))throw new oo(`Expected first argument to be of type boolean, string, number or null, but found ${vs(Br(nt))} instead.`);if(!Rl(ot,["string","array"]))throw new oo(`Expected second argument to be of type array or string, but found ${vs(Br(ot))} instead.`);if(this.fromIndex){const ut=this.fromIndex.evaluate(_e);return ot.indexOf(nt,ut)}return ot.indexOf(nt)}eachChild(_e){_e(this.needle),_e(this.haystack),this.fromIndex&&_e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const _e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),_e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var xU=H0;class Vy{constructor(_e,nt,ot,ut,ft,mt){this.inputType=_e,this.type=nt,this.input=ot,this.cases=ut,this.outputs=ft,this.otherwise=mt}static parse(_e,nt){if(_e.length<5)return nt.error(`Expected at least 4 arguments, but found only ${_e.length-1}.`);if(_e.length%2!=1)return nt.error("Expected an even number of arguments.");let ot,ut;nt.expectedType&&nt.expectedType.kind!=="value"&&(ut=nt.expectedType);const ft={},mt=[];for(let xt=2;xt<_e.length-1;xt+=2){let Wt=_e[xt];const Gt=_e[xt+1];Array.isArray(Wt)||(Wt=[Wt]);const Xt=nt.concat(xt);if(Wt.length===0)return Xt.error("Expected at least one branch label.");for(const Fn of Wt){if(typeof Fn!="number"&&typeof Fn!="string")return Xt.error("Branch labels must be numbers or strings.");if(typeof Fn=="number"&&Math.abs(Fn)>Number.MAX_SAFE_INTEGER)return Xt.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Fn=="number"&&Math.floor(Fn)!==Fn)return Xt.error("Numeric branch labels must be integer values.");if(ot){if(Xt.checkSubtype(ot,Br(Fn)))return null}else ot=Br(Fn);if(ft[String(Fn)]!==void 0)return Xt.error("Branch labels must be unique.");ft[String(Fn)]=mt.length}const pn=nt.parse(Gt,xt,ut);if(!pn)return null;ut=ut||pn.type,mt.push(pn)}const Bt=nt.parse(_e[1],1,es);if(!Bt)return null;const Et=nt.parse(_e[_e.length-1],_e.length-1,ut);return Et?Bt.type.kind!=="value"&&nt.concat(1).checkSubtype(ot,Bt.type)?null:new Vy(ot,ut,Bt,ft,mt,Et):null}evaluate(_e){const nt=this.input.evaluate(_e);return(Br(nt)===this.inputType&&this.outputs[this.cases[nt]]||this.otherwise).evaluate(_e)}eachChild(_e){_e(this.input),this.outputs.forEach(_e),_e(this.otherwise)}outputDefined(){return this.outputs.every(_e=>_e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const _e=["match",this.input.serialize()],nt=Object.keys(this.cases).sort(),ot=[],ut={};for(const mt of nt){const Bt=ut[this.cases[mt]];Bt===void 0?(ut[this.cases[mt]]=ot.length,ot.push([this.cases[mt],[mt]])):ot[Bt][1].push(mt)}const ft=mt=>this.inputType.kind==="number"?Number(mt):mt;for(const[mt,Bt]of ot)_e.push(Bt.length===1?ft(Bt[0]):Bt.map(ft)),_e.push(this.outputs[mt].serialize());return _e.push(this.otherwise.serialize()),_e}}var o0=Vy;class Eu{constructor(_e,nt,ot){this.type=_e,this.branches=nt,this.otherwise=ot}static parse(_e,nt){if(_e.length<4)return nt.error(`Expected at least 3 arguments, but found only ${_e.length-1}.`);if(_e.length%2!=0)return nt.error("Expected an odd number of arguments.");let ot;nt.expectedType&&nt.expectedType.kind!=="value"&&(ot=nt.expectedType);const ut=[];for(let mt=1;mt<_e.length-1;mt+=2){const Bt=nt.parse(_e[mt],mt,as);if(!Bt)return null;const Et=nt.parse(_e[mt+1],mt+1,ot);if(!Et)return null;ut.push([Bt,Et]),ot=ot||Et.type}const ft=nt.parse(_e[_e.length-1],_e.length-1,ot);return ft?new Eu(ot,ut,ft):null}evaluate(_e){for(const[nt,ot]of this.branches)if(nt.evaluate(_e))return ot.evaluate(_e);return this.otherwise.evaluate(_e)}eachChild(_e){for(const[nt,ot]of this.branches)_e(nt),_e(ot);_e(this.otherwise)}outputDefined(){return this.branches.every(([_e,nt])=>nt.outputDefined())&&this.otherwise.outputDefined()}serialize(){const _e=["case"];return this.eachChild(nt=>{_e.push(nt.serialize())}),_e}}var TU=Eu;class Ny{constructor(_e,nt,ot,ut){this.type=_e,this.input=nt,this.beginIndex=ot,this.endIndex=ut}static parse(_e,nt){if(_e.length<=2||_e.length>=5)return nt.error(`Expected 3 or 4 arguments, but found ${_e.length-1} instead.`);const ot=nt.parse(_e[1],1,es),ut=nt.parse(_e[2],2,lo);if(!ot||!ut)return null;if(!Lp(ot.type,[Yl(es),ns,es]))return nt.error(`Expected first argument to be of type array or string, but found ${vs(ot.type)} instead`);if(_e.length===4){const ft=nt.parse(_e[3],3,lo);return ft?new Ny(ot.type,ot,ut,ft):null}return new Ny(ot.type,ot,ut)}evaluate(_e){const nt=this.input.evaluate(_e),ot=this.beginIndex.evaluate(_e);if(!Rl(nt,["string","array"]))throw new oo(`Expected first argument to be of type array or string, but found ${vs(Br(nt))} instead.`);if(this.endIndex){const ut=this.endIndex.evaluate(_e);return nt.slice(ot,ut)}return nt.slice(ot)}eachChild(_e){_e(this.input),_e(this.beginIndex),this.endIndex&&_e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const _e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),_e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var My=Ny;function W_(tt,_e){return tt==="=="||tt==="!="?_e.kind==="boolean"||_e.kind==="string"||_e.kind==="number"||_e.kind==="null"||_e.kind==="value":_e.kind==="string"||_e.kind==="number"||_e.kind==="value"}function O_(tt,_e,nt,ot){return ot.compare(_e,nt)===0}function a0(tt,_e,nt){const ot=tt!=="=="&&tt!=="!=";return class AQ{constructor(ft,mt,Bt){this.type=as,this.lhs=ft,this.rhs=mt,this.collator=Bt,this.hasUntypedArgument=ft.type.kind==="value"||mt.type.kind==="value"}static parse(ft,mt){if(ft.length!==3&&ft.length!==4)return mt.error("Expected two or three arguments.");const Bt=ft[0];let Et=mt.parse(ft[1],1,es);if(!Et)return null;if(!W_(Bt,Et.type))return mt.concat(1).error(`"${Bt}" comparisons are not supported for type '${vs(Et.type)}'.`);let xt=mt.parse(ft[2],2,es);if(!xt)return null;if(!W_(Bt,xt.type))return mt.concat(2).error(`"${Bt}" comparisons are not supported for type '${vs(xt.type)}'.`);if(Et.type.kind!==xt.type.kind&&Et.type.kind!=="value"&&xt.type.kind!=="value")return mt.error(`Cannot compare types '${vs(Et.type)}' and '${vs(xt.type)}'.`);ot&&(Et.type.kind==="value"&&xt.type.kind!=="value"?Et=new ps(xt.type,[Et]):Et.type.kind!=="value"&&xt.type.kind==="value"&&(xt=new ps(Et.type,[xt])));let Wt=null;if(ft.length===4){if(Et.type.kind!=="string"&&xt.type.kind!=="string"&&Et.type.kind!=="value"&&xt.type.kind!=="value")return mt.error("Cannot use collator to compare non-string types.");if(Wt=mt.parse(ft[3],3,Wp),!Wt)return null}return new AQ(Et,xt,Wt)}evaluate(ft){const mt=this.lhs.evaluate(ft),Bt=this.rhs.evaluate(ft);if(ot&&this.hasUntypedArgument){const Et=Br(mt),xt=Br(Bt);if(Et.kind!==xt.kind||Et.kind!=="string"&&Et.kind!=="number")throw new oo(`Expected arguments for "${tt}" to be (string, string) or (number, number), but found (${Et.kind}, ${xt.kind}) instead.`)}if(this.collator&&!ot&&this.hasUntypedArgument){const Et=Br(mt),xt=Br(Bt);if(Et.kind!=="string"||xt.kind!=="string")return _e(ft,mt,Bt)}return this.collator?nt(ft,mt,Bt,this.collator.evaluate(ft)):_e(ft,mt,Bt)}eachChild(ft){ft(this.lhs),ft(this.rhs),this.collator&&ft(this.collator)}outputDefined(){return!0}serialize(){const ft=[tt];return this.eachChild(mt=>{ft.push(mt.serialize())}),ft}}}const l0=a0("==",function(tt,_e,nt){return _e===nt},O_),br=a0("!=",function(tt,_e,nt){return _e!==nt},function(tt,_e,nt,ot){return!O_(0,_e,nt,ot)}),Gr=a0("<",function(tt,_e,nt){return _e<nt},function(tt,_e,nt,ot){return ot.compare(_e,nt)<0}),Ir=a0(">",function(tt,_e,nt){return _e>nt},function(tt,_e,nt,ot){return ot.compare(_e,nt)>0}),To=a0("<=",function(tt,_e,nt){return _e<=nt},function(tt,_e,nt,ot){return ot.compare(_e,nt)<=0}),cs=a0(">=",function(tt,_e,nt){return _e>=nt},function(tt,_e,nt,ot){return ot.compare(_e,nt)>=0});class Vs{constructor(_e,nt,ot,ut,ft,mt){this.type=ns,this.number=_e,this.locale=nt,this.currency=ot,this.unit=ut,this.minFractionDigits=ft,this.maxFractionDigits=mt}static parse(_e,nt){if(_e.length!==3)return nt.error("Expected two arguments.");const ot=nt.parse(_e[1],1,lo);if(!ot)return null;const ut=_e[2];if(typeof ut!="object"||Array.isArray(ut))return nt.error("NumberFormat options argument must be an object.");let ft=null;if(ut.locale&&(ft=nt.parse(ut.locale,1,ns),!ft))return null;let mt=null;if(ut.currency&&(mt=nt.parse(ut.currency,1,ns),!mt))return null;let Bt=null;if(ut.unit&&(Bt=nt.parse(ut.unit,1,ns),!Bt))return null;let Et=null;if(ut["min-fraction-digits"]&&(Et=nt.parse(ut["min-fraction-digits"],1,lo),!Et))return null;let xt=null;return ut["max-fraction-digits"]&&(xt=nt.parse(ut["max-fraction-digits"],1,lo),!xt)?null:new Vs(ot,ft,mt,Bt,Et,xt)}evaluate(_e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(_e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(_e):void 0,unit:this.unit?this.unit.evaluate(_e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(_e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(_e):void 0}).format(this.number.evaluate(_e))}eachChild(_e){_e(this.number),this.locale&&_e(this.locale),this.currency&&_e(this.currency),this.unit&&_e(this.unit),this.minFractionDigits&&_e(this.minFractionDigits),this.maxFractionDigits&&_e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const _e={};return this.locale&&(_e.locale=this.locale.serialize()),this.currency&&(_e.currency=this.currency.serialize()),this.unit&&(_e.unit=this.unit.serialize()),this.minFractionDigits&&(_e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(_e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),_e]}}class Sl{constructor(_e){this.type=lo,this.input=_e}static parse(_e,nt){if(_e.length!==2)return nt.error(`Expected 1 argument, but found ${_e.length-1} instead.`);const ot=nt.parse(_e[1],1);return ot?ot.type.kind!=="array"&&ot.type.kind!=="string"&&ot.type.kind!=="value"?nt.error(`Expected argument of type string or array, but found ${vs(ot.type)} instead.`):new Sl(ot):null}evaluate(_e){const nt=this.input.evaluate(_e);if(typeof nt=="string"||Array.isArray(nt))return nt.length;throw new oo(`Expected value to be of type string or array, but found ${vs(Br(nt))} instead.`)}eachChild(_e){_e(this.input)}outputDefined(){return!1}serialize(){const _e=["length"];return this.eachChild(nt=>{_e.push(nt.serialize())}),_e}}const Hs={"==":l0,"!=":br,">":Ir,"<":Gr,">=":cs,"<=":To,array:ps,at:J_,boolean:ps,case:TU,coalesce:Nm,collator:vy,format:Co,image:jo,in:Ay,"index-of":xU,interpolate:Up,"interpolate-hcl":Up,"interpolate-lab":Up,length:Sl,let:I_,literal:Ar,match:o0,number:ps,"number-format":Vs,object:ps,slice:My,step:Vm,string:ps,"to-boolean":hs,"to-color":hs,"to-number":hs,"to-string":hs,var:Sy,within:ds};function Dy(tt,[_e,nt,ot,ut]){_e=_e.evaluate(tt),nt=nt.evaluate(tt),ot=ot.evaluate(tt);const ft=ut?ut.evaluate(tt):1,mt=Yn(_e,nt,ot,ft);if(mt)throw new oo(mt);return new $s(_e/255*ft,nt/255*ft,ot/255*ft,ft)}function kU(tt,_e){return tt in _e}function Fu(tt,_e){const nt=_e[tt];return nt===void 0?null:nt}function vp(tt){return{type:tt}}Lu.register(Hs,{error:[{kind:"error"},[ns],(tt,[_e])=>{throw new oo(_e.evaluate(tt))}],typeof:[ns,[es],(tt,[_e])=>vs(Br(_e.evaluate(tt)))],"to-rgba":[Yl(lo,4),[Ju],(tt,[_e])=>_e.evaluate(tt).toArray()],rgb:[Ju,[lo,lo,lo],Dy],rgba:[Ju,[lo,lo,lo,lo],Dy],has:{type:as,overloads:[[[ns],(tt,[_e])=>kU(_e.evaluate(tt),tt.properties())],[[ns,Jp],(tt,[_e,nt])=>kU(_e.evaluate(tt),nt.evaluate(tt))]]},get:{type:es,overloads:[[[ns],(tt,[_e])=>Fu(_e.evaluate(tt),tt.properties())],[[ns,Jp],(tt,[_e,nt])=>Fu(_e.evaluate(tt),nt.evaluate(tt))]]},"feature-state":[es,[ns],(tt,[_e])=>Fu(_e.evaluate(tt),tt.featureState||{})],properties:[Jp,[],tt=>tt.properties()],"geometry-type":[ns,[],tt=>tt.geometryType()],id:[es,[],tt=>tt.id()],zoom:[lo,[],tt=>tt.globals.zoom],pitch:[lo,[],tt=>tt.globals.pitch||0],"distance-from-center":[lo,[],tt=>tt.distanceFromCenter()],"heatmap-density":[lo,[],tt=>tt.globals.heatmapDensity||0],"line-progress":[lo,[],tt=>tt.globals.lineProgress||0],"sky-radial-progress":[lo,[],tt=>tt.globals.skyRadialProgress||0],accumulated:[es,[],tt=>tt.globals.accumulated===void 0?null:tt.globals.accumulated],"+":[lo,vp(lo),(tt,_e)=>{let nt=0;for(const ot of _e)nt+=ot.evaluate(tt);return nt}],"*":[lo,vp(lo),(tt,_e)=>{let nt=1;for(const ot of _e)nt*=ot.evaluate(tt);return nt}],"-":{type:lo,overloads:[[[lo,lo],(tt,[_e,nt])=>_e.evaluate(tt)-nt.evaluate(tt)],[[lo],(tt,[_e])=>-_e.evaluate(tt)]]},"/":[lo,[lo,lo],(tt,[_e,nt])=>_e.evaluate(tt)/nt.evaluate(tt)],"%":[lo,[lo,lo],(tt,[_e,nt])=>_e.evaluate(tt)%nt.evaluate(tt)],ln2:[lo,[],()=>Math.LN2],pi:[lo,[],()=>Math.PI],e:[lo,[],()=>Math.E],"^":[lo,[lo,lo],(tt,[_e,nt])=>Math.pow(_e.evaluate(tt),nt.evaluate(tt))],sqrt:[lo,[lo],(tt,[_e])=>Math.sqrt(_e.evaluate(tt))],log10:[lo,[lo],(tt,[_e])=>Math.log(_e.evaluate(tt))/Math.LN10],ln:[lo,[lo],(tt,[_e])=>Math.log(_e.evaluate(tt))],log2:[lo,[lo],(tt,[_e])=>Math.log(_e.evaluate(tt))/Math.LN2],sin:[lo,[lo],(tt,[_e])=>Math.sin(_e.evaluate(tt))],cos:[lo,[lo],(tt,[_e])=>Math.cos(_e.evaluate(tt))],tan:[lo,[lo],(tt,[_e])=>Math.tan(_e.evaluate(tt))],asin:[lo,[lo],(tt,[_e])=>Math.asin(_e.evaluate(tt))],acos:[lo,[lo],(tt,[_e])=>Math.acos(_e.evaluate(tt))],atan:[lo,[lo],(tt,[_e])=>Math.atan(_e.evaluate(tt))],min:[lo,vp(lo),(tt,_e)=>Math.min(..._e.map(nt=>nt.evaluate(tt)))],max:[lo,vp(lo),(tt,_e)=>Math.max(..._e.map(nt=>nt.evaluate(tt)))],abs:[lo,[lo],(tt,[_e])=>Math.abs(_e.evaluate(tt))],round:[lo,[lo],(tt,[_e])=>{const nt=_e.evaluate(tt);return nt<0?-Math.round(-nt):Math.round(nt)}],floor:[lo,[lo],(tt,[_e])=>Math.floor(_e.evaluate(tt))],ceil:[lo,[lo],(tt,[_e])=>Math.ceil(_e.evaluate(tt))],"filter-==":[as,[ns,es],(tt,[_e,nt])=>tt.properties()[_e.value]===nt.value],"filter-id-==":[as,[es],(tt,[_e])=>tt.id()===_e.value],"filter-type-==":[as,[ns],(tt,[_e])=>tt.geometryType()===_e.value],"filter-<":[as,[ns,es],(tt,[_e,nt])=>{const ot=tt.properties()[_e.value],ut=nt.value;return typeof ot==typeof ut&&ot<ut}],"filter-id-<":[as,[es],(tt,[_e])=>{const nt=tt.id(),ot=_e.value;return typeof nt==typeof ot&&nt<ot}],"filter->":[as,[ns,es],(tt,[_e,nt])=>{const ot=tt.properties()[_e.value],ut=nt.value;return typeof ot==typeof ut&&ot>ut}],"filter-id->":[as,[es],(tt,[_e])=>{const nt=tt.id(),ot=_e.value;return typeof nt==typeof ot&&nt>ot}],"filter-<=":[as,[ns,es],(tt,[_e,nt])=>{const ot=tt.properties()[_e.value],ut=nt.value;return typeof ot==typeof ut&&ot<=ut}],"filter-id-<=":[as,[es],(tt,[_e])=>{const nt=tt.id(),ot=_e.value;return typeof nt==typeof ot&&nt<=ot}],"filter->=":[as,[ns,es],(tt,[_e,nt])=>{const ot=tt.properties()[_e.value],ut=nt.value;return typeof ot==typeof ut&&ot>=ut}],"filter-id->=":[as,[es],(tt,[_e])=>{const nt=tt.id(),ot=_e.value;return typeof nt==typeof ot&&nt>=ot}],"filter-has":[as,[es],(tt,[_e])=>_e.value in tt.properties()],"filter-has-id":[as,[],tt=>tt.id()!==null&&tt.id()!==void 0],"filter-type-in":[as,[Yl(ns)],(tt,[_e])=>_e.value.indexOf(tt.geometryType())>=0],"filter-id-in":[as,[Yl(es)],(tt,[_e])=>_e.value.indexOf(tt.id())>=0],"filter-in-small":[as,[ns,Yl(es)],(tt,[_e,nt])=>nt.value.indexOf(tt.properties()[_e.value])>=0],"filter-in-large":[as,[ns,Yl(es)],(tt,[_e,nt])=>function(ot,ut,ft,mt){for(;ft<=mt;){const Bt=ft+mt>>1;if(ut[Bt]===ot)return!0;ut[Bt]>ot?mt=Bt-1:ft=Bt+1}return!1}(tt.properties()[_e.value],nt.value,0,nt.value.length-1)],all:{type:as,overloads:[[[as,as],(tt,[_e,nt])=>_e.evaluate(tt)&&nt.evaluate(tt)],[vp(as),(tt,_e)=>{for(const nt of _e)if(!nt.evaluate(tt))return!1;return!0}]]},any:{type:as,overloads:[[[as,as],(tt,[_e,nt])=>_e.evaluate(tt)||nt.evaluate(tt)],[vp(as),(tt,_e)=>{for(const nt of _e)if(nt.evaluate(tt))return!0;return!1}]]},"!":[as,[as],(tt,[_e])=>!_e.evaluate(tt)],"is-supported-script":[as,[ns],(tt,[_e])=>{const nt=tt.globals&&tt.globals.isSupportedScript;return!nt||nt(_e.evaluate(tt))}],upcase:[ns,[ns],(tt,[_e])=>_e.evaluate(tt).toUpperCase()],downcase:[ns,[ns],(tt,[_e])=>_e.evaluate(tt).toLowerCase()],concat:[ns,vp(es),(tt,_e)=>_e.map(nt=>Or(nt.evaluate(tt))).join("")],"resolved-locale":[ns,[Wp],(tt,[_e])=>_e.evaluate(tt).resolvedLocale()]});var u0=Hs;function um(tt){return{result:"success",value:tt}}function Pu(tt){return{result:"error",value:tt}}function Zp(tt){return tt["property-type"]==="data-driven"||tt["property-type"]==="cross-faded-data-driven"}function Js(tt){return!!tt.expression&&tt.expression.parameters.indexOf("zoom")>-1}function bp(tt){return!!tt.expression&&tt.expression.interpolated}function Qs(tt){return tt instanceof Number?"number":tt instanceof String?"string":tt instanceof Boolean?"boolean":Array.isArray(tt)?"array":tt===null?"null":typeof tt}function Zu(tt){return typeof tt=="object"&&tt!==null&&!Array.isArray(tt)}function jF(tt){return tt}function CU(tt,_e){const nt=_e.type==="color",ot=tt.stops&&typeof tt.stops[0][0]=="object",ut=ot||!(ot||tt.property!==void 0),ft=tt.type||(bp(_e)?"exponential":"interval");if(nt&&((tt=Gl({},tt)).stops&&(tt.stops=tt.stops.map(xt=>[xt[0],$s.parse(xt[1])])),tt.default=$s.parse(tt.default?tt.default:_e.default)),tt.colorSpace&&tt.colorSpace!=="rgb"&&!wU[tt.colorSpace])throw new Error(`Unknown color space: ${tt.colorSpace}`);let mt,Bt,Et;if(ft==="exponential")mt=f0;else if(ft==="interval")mt=Bp;else if(ft==="categorical"){mt=Iy,Bt=Object.create(null);for(const xt of tt.stops)Bt[xt[0]]=xt[1];Et=typeof tt.stops[0][0]}else{if(ft!=="identity")throw new Error(`Unknown function type "${ft}"`);mt=Jy}if(ot){const xt={},Wt=[];for(let pn=0;pn<tt.stops.length;pn++){const Fn=tt.stops[pn],Sn=Fn[0].zoom;xt[Sn]===void 0&&(xt[Sn]={zoom:Sn,type:tt.type,property:tt.property,default:tt.default,stops:[]},Wt.push(Sn)),xt[Sn].stops.push([Fn[0].value,Fn[1]])}const Gt=[];for(const pn of Wt)Gt.push([xt[pn].zoom,CU(xt[pn],_e)]);const Xt={name:"linear"};return{kind:"composite",interpolationType:Xt,interpolationFactor:Up.interpolationFactor.bind(void 0,Xt),zoomStops:Gt.map(pn=>pn[0]),evaluate:({zoom:pn},Fn)=>f0({stops:Gt,base:tt.base},_e,pn).evaluate(pn,Fn)}}if(ut){const xt=ft==="exponential"?{name:"exponential",base:tt.base!==void 0?tt.base:1}:null;return{kind:"camera",interpolationType:xt,interpolationFactor:Up.interpolationFactor.bind(void 0,xt),zoomStops:tt.stops.map(Wt=>Wt[0]),evaluate:({zoom:Wt})=>mt(tt,_e,Wt,Bt,Et)}}return{kind:"source",evaluate(xt,Wt){const Gt=Wt&&Wt.properties?Wt.properties[tt.property]:void 0;return Gt===void 0?h0(tt.default,_e.default):mt(tt,_e,Gt,Bt,Et)}}}function h0(tt,_e,nt){return tt!==void 0?tt:_e!==void 0?_e:nt!==void 0?nt:void 0}function Iy(tt,_e,nt,ot,ut){return h0(typeof nt===ut?ot[nt]:void 0,tt.default,_e.default)}function Bp(tt,_e,nt){if(Qs(nt)!=="number")return h0(tt.default,_e.default);const ot=tt.stops.length;if(ot===1||nt<=tt.stops[0][0])return tt.stops[0][1];if(nt>=tt.stops[ot-1][0])return tt.stops[ot-1][1];const ut=L0(tt.stops.map(ft=>ft[0]),nt);return tt.stops[ut][1]}function f0(tt,_e,nt){const ot=tt.base!==void 0?tt.base:1;if(Qs(nt)!=="number")return h0(tt.default,_e.default);const ut=tt.stops.length;if(ut===1||nt<=tt.stops[0][0])return tt.stops[0][1];if(nt>=tt.stops[ut-1][0])return tt.stops[ut-1][1];const ft=L0(tt.stops.map(Wt=>Wt[0]),nt),mt=function(Wt,Gt,Xt,pn){const Fn=pn-Xt,Sn=Wt-Xt;return Fn===0?0:Gt===1?Sn/Fn:(Math.pow(Gt,Sn)-1)/(Math.pow(Gt,Fn)-1)}(nt,ot,tt.stops[ft][0],tt.stops[ft+1][0]),Bt=tt.stops[ft][1],Et=tt.stops[ft+1][1];let xt=ap[_e.type]||jF;if(tt.colorSpace&&tt.colorSpace!=="rgb"){const Wt=wU[tt.colorSpace];xt=(Gt,Xt)=>Wt.reverse(Wt.interpolate(Wt.forward(Gt),Wt.forward(Xt),mt))}return typeof Bt.evaluate=="function"?{evaluate(...Wt){const Gt=Bt.evaluate.apply(void 0,Wt),Xt=Et.evaluate.apply(void 0,Wt);if(Gt!==void 0&&Xt!==void 0)return xt(Gt,Xt,mt)}}:xt(Bt,Et,mt)}function Jy(tt,_e,nt){return _e.type==="color"?nt=$s.parse(nt):_e.type==="formatted"?nt=sn.fromString(nt.toString()):_e.type==="resolvedImage"?nt=wn.fromString(nt.toString()):Qs(nt)===_e.type||_e.type==="enum"&&_e.values[nt]||(nt=void 0),h0(nt,tt.default,_e.default)}class hm{constructor(_e,nt){this.expression=_e,this._warningHistory={},this._evaluator=new Pp,this._defaultValue=nt?function(ot){return ot.type==="color"&&(Zu(ot.default)||Array.isArray(ot.default))?new $s(0,0,0,0):ot.type==="color"?$s.parse(ot.default)||null:ot.default===void 0?null:ot.default}(nt):null,this._enumValues=nt&&nt.type==="enum"?nt.values:null}evaluateWithoutErrorHandling(_e,nt,ot,ut,ft,mt,Bt,Et){return this._evaluator.globals=_e,this._evaluator.feature=nt,this._evaluator.featureState=ot,this._evaluator.canonical=ut||null,this._evaluator.availableImages=ft||null,this._evaluator.formattedSection=mt,this._evaluator.featureTileCoord=Bt||null,this._evaluator.featureDistanceData=Et||null,this.expression.evaluate(this._evaluator)}evaluate(_e,nt,ot,ut,ft,mt,Bt,Et){this._evaluator.globals=_e,this._evaluator.feature=nt||null,this._evaluator.featureState=ot||null,this._evaluator.canonical=ut||null,this._evaluator.availableImages=ft||null,this._evaluator.formattedSection=mt||null,this._evaluator.featureTileCoord=Bt||null,this._evaluator.featureDistanceData=Et||null;try{const xt=this.expression.evaluate(this._evaluator);if(xt==null||typeof xt=="number"&&xt!=xt)return this._defaultValue;if(this._enumValues&&!(xt in this._enumValues))throw new oo(`Expected value to be one of ${Object.keys(this._enumValues).map(Wt=>JSON.stringify(Wt)).join(", ")}, but found ${JSON.stringify(xt)} instead.`);return xt}catch(xt){return this._warningHistory[xt.message]||(this._warningHistory[xt.message]=!0,typeof console<"u"&&console.warn(xt.message)),this._defaultValue}}}function p0(tt){return Array.isArray(tt)&&tt.length>0&&typeof tt[0]=="string"&&tt[0]in u0}function dm(tt,_e){const nt=new W0(u0,[],_e?function(ut){const ft={color:Ju,string:ns,number:lo,enum:ns,boolean:as,formatted:Op,resolvedImage:rp};return ut.type==="array"?Yl(ft[ut.value]||es,ut.length):ft[ut.type]}(_e):void 0),ot=nt.parse(tt,void 0,void 0,void 0,_e&&_e.type==="string"?{typeAnnotation:"coerce"}:void 0);return ot?um(new hm(ot,_e)):Pu(nt.errors)}class Mm{constructor(_e,nt){this.kind=_e,this._styleExpression=nt,this.isStateDependent=_e!=="constant"&&!qm(nt.expression)}evaluateWithoutErrorHandling(_e,nt,ot,ut,ft,mt){return this._styleExpression.evaluateWithoutErrorHandling(_e,nt,ot,ut,ft,mt)}evaluate(_e,nt,ot,ut,ft,mt){return this._styleExpression.evaluate(_e,nt,ot,ut,ft,mt)}}class Y0{constructor(_e,nt,ot,ut){this.kind=_e,this.zoomStops=ot,this._styleExpression=nt,this.isStateDependent=_e!=="camera"&&!qm(nt.expression),this.interpolationType=ut}evaluateWithoutErrorHandling(_e,nt,ot,ut,ft,mt){return this._styleExpression.evaluateWithoutErrorHandling(_e,nt,ot,ut,ft,mt)}evaluate(_e,nt,ot,ut,ft,mt){return this._styleExpression.evaluate(_e,nt,ot,ut,ft,mt)}interpolationFactor(_e,nt,ot){return this.interpolationType?Up.interpolationFactor(this.interpolationType,_e,nt,ot):0}}function zp(tt,_e){if((tt=dm(tt,_e)).result==="error")return tt;const nt=tt.value.expression,ot=lm(nt);if(!ot&&!Zp(_e))return Pu([new Iu("","data expressions not supported")]);const ut=qs(nt,["zoom","pitch","distance-from-center"]);if(!ut&&!Js(_e))return Pu([new Iu("","zoom expressions not supported")]);const ft=fm(nt);return ft||ut?ft instanceof Iu?Pu([ft]):ft instanceof Up&&!bp(_e)?Pu([new Iu("",'"interpolate" expressions cannot be used with this property')]):um(ft?new Y0(ot?"camera":"composite",tt.value,ft.labels,ft instanceof Up?ft.interpolation:void 0):new Mm(ot?"constant":"source",tt.value)):Pu([new Iu("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class fu{constructor(_e,nt){this._parameters=_e,this._specification=nt,Gl(this,CU(this._parameters,this._specification))}static deserialize(_e){return new fu(_e._parameters,_e._specification)}static serialize(_e){return{_parameters:_e._parameters,_specification:_e._specification}}}function fm(tt){let _e=null;if(tt instanceof I_)_e=fm(tt.result);else if(tt instanceof Nm){for(const nt of tt.args)if(_e=fm(nt),_e)break}else(tt instanceof Vm||tt instanceof Up)&&tt.input instanceof Lu&&tt.input.name==="zoom"&&(_e=tt);return _e instanceof Iu||tt.eachChild(nt=>{const ot=fm(nt);ot instanceof Iu?_e=ot:!_e&&ot?_e=new Iu("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):_e&&ot&&_e!==ot&&(_e=new Iu("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),_e}class go{constructor(_e,nt,ot,ut){this.message=(_e?`${_e}: `:"")+ot,ut&&(this.identifier=ut),nt!=null&&nt.__line__&&(this.line=nt.__line__)}}function wu(tt){const _e=tt.key,nt=tt.value,ot=tt.valueSpec||{},ut=tt.objectElementValidators||{},ft=tt.style,mt=tt.styleSpec;let Bt=[];const Et=Qs(nt);if(Et!=="object")return[new go(_e,nt,`object expected, ${Et} found`)];for(const xt in nt){const Wt=xt.split(".")[0],Gt=ot[Wt]||ot["*"];let Xt;ut[Wt]?Xt=ut[Wt]:ot[Wt]?Xt=Ol:ut["*"]?Xt=ut["*"]:ot["*"]&&(Xt=Ol),Xt?Bt=Bt.concat(Xt({key:(_e&&`${_e}.`)+xt,value:nt[xt],valueSpec:Gt,style:ft,styleSpec:mt,object:nt,objectKey:xt},nt)):Bt.push(new go(_e,nt[xt],`unknown property "${xt}"`))}for(const xt in ot)ut[xt]||ot[xt].required&&ot[xt].default===void 0&&nt[xt]===void 0&&Bt.push(new go(_e,nt,`missing required property "${xt}"`));return Bt}function L_(tt){const _e=tt.value,nt=tt.valueSpec,ot=tt.style,ut=tt.styleSpec,ft=tt.key,mt=tt.arrayElementValidator||Ol;if(Qs(_e)!=="array")return[new go(ft,_e,`array expected, ${Qs(_e)} found`)];if(nt.length&&_e.length!==nt.length)return[new go(ft,_e,`array length ${nt.length} expected, length ${_e.length} found`)];if(nt["min-length"]&&_e.length<nt["min-length"])return[new go(ft,_e,`array length at least ${nt["min-length"]} expected, length ${_e.length} found`)];let Bt={type:nt.value,values:nt.values,minimum:nt.minimum,maximum:nt.maximum,function:void 0};ut.$version<7&&(Bt.function=nt.function),Qs(nt.value)==="object"&&(Bt=nt.value);let Et=[];for(let xt=0;xt<_e.length;xt++)Et=Et.concat(mt({array:_e,arrayIndex:xt,value:_e[xt],valueSpec:Bt,style:ot,styleSpec:ut,key:`${ft}[${xt}]`}));return Et}function q0(tt){const _e=tt.key,nt=tt.value,ot=tt.valueSpec;let ut=Qs(nt);if(ut==="number"&&nt!=nt&&(ut="NaN"),ut!=="number")return[new go(_e,nt,`number expected, ${ut} found`)];if("minimum"in ot){let ft=ot.minimum;if(Qs(ot.minimum)==="array"&&(ft=ot.minimum[tt.arrayIndex]),nt<ft)return[new go(_e,nt,`${nt} is less than the minimum value ${ft}`)]}if("maximum"in ot){let ft=ot.maximum;if(Qs(ot.maximum)==="array"&&(ft=ot.maximum[tt.arrayIndex]),nt>ft)return[new go(_e,nt,`${nt} is greater than the maximum value ${ft}`)]}return[]}function g0(tt){const _e=tt.valueSpec,nt=na(tt.value.type);let ot,ut,ft,mt={};const Bt=nt!=="categorical"&&tt.value.property===void 0,Et=!Bt,xt=Qs(tt.value.stops)==="array"&&Qs(tt.value.stops[0])==="array"&&Qs(tt.value.stops[0][0])==="object",Wt=wu({key:tt.key,value:tt.value,valueSpec:tt.styleSpec.function,style:tt.style,styleSpec:tt.styleSpec,objectElementValidators:{stops:function(pn){if(nt==="identity")return[new go(pn.key,pn.value,'identity function may not have a "stops" property')];let Fn=[];const Sn=pn.value;return Fn=Fn.concat(L_({key:pn.key,value:Sn,valueSpec:pn.valueSpec,style:pn.style,styleSpec:pn.styleSpec,arrayElementValidator:Gt})),Qs(Sn)==="array"&&Sn.length===0&&Fn.push(new go(pn.key,Sn,"array must have at least one stop")),Fn},default:function(pn){return Ol({key:pn.key,value:pn.value,valueSpec:_e,style:pn.style,styleSpec:pn.styleSpec})}}});return nt==="identity"&&Bt&&Wt.push(new go(tt.key,tt.value,'missing required property "property"')),nt==="identity"||tt.value.stops||Wt.push(new go(tt.key,tt.value,'missing required property "stops"')),nt==="exponential"&&tt.valueSpec.expression&&!bp(tt.valueSpec)&&Wt.push(new go(tt.key,tt.value,"exponential functions not supported")),tt.styleSpec.$version>=8&&(Et&&!Zp(tt.valueSpec)?Wt.push(new go(tt.key,tt.value,"property functions not supported")):Bt&&!Js(tt.valueSpec)&&Wt.push(new go(tt.key,tt.value,"zoom functions not supported"))),nt!=="categorical"&&!xt||tt.value.property!==void 0||Wt.push(new go(tt.key,tt.value,'"property" property is required')),Wt;function Gt(pn){let Fn=[];const Sn=pn.value,Mn=pn.key;if(Qs(Sn)!=="array")return[new go(Mn,Sn,`array expected, ${Qs(Sn)} found`)];if(Sn.length!==2)return[new go(Mn,Sn,`array length 2 expected, length ${Sn.length} found`)];if(xt){if(Qs(Sn[0])!=="object")return[new go(Mn,Sn,`object expected, ${Qs(Sn[0])} found`)];if(Sn[0].zoom===void 0)return[new go(Mn,Sn,"object stop key must have zoom")];if(Sn[0].value===void 0)return[new go(Mn,Sn,"object stop key must have value")];const Kn=na(Sn[0].zoom);if(typeof Kn!="number")return[new go(Mn,Sn[0].zoom,"stop zoom values must be numbers")];if(ft&&ft>Kn)return[new go(Mn,Sn[0].zoom,"stop zoom values must appear in ascending order")];Kn!==ft&&(ft=Kn,ut=void 0,mt={}),Fn=Fn.concat(wu({key:`${Mn}[0]`,value:Sn[0],valueSpec:{zoom:{}},style:pn.style,styleSpec:pn.styleSpec,objectElementValidators:{zoom:q0,value:Xt}}))}else Fn=Fn.concat(Xt({key:`${Mn}[0]`,value:Sn[0],valueSpec:{},style:pn.style,styleSpec:pn.styleSpec},Sn));return p0(Du(Sn[1]))?Fn.concat([new go(`${Mn}[1]`,Sn[1],"expressions are not allowed in function stops.")]):Fn.concat(Ol({key:`${Mn}[1]`,value:Sn[1],valueSpec:_e,style:pn.style,styleSpec:pn.styleSpec}))}function Xt(pn,Fn){const Sn=Qs(pn.value),Mn=na(pn.value),Kn=pn.value!==null?pn.value:Fn;if(ot){if(Sn!==ot)return[new go(pn.key,Kn,`${Sn} stop domain type must match previous stop domain type ${ot}`)]}else ot=Sn;if(Sn!=="number"&&Sn!=="string"&&Sn!=="boolean"&&typeof Mn!="number"&&typeof Mn!="string"&&typeof Mn!="boolean")return[new go(pn.key,Kn,"stop domain value must be a number, string, or boolean")];if(Sn!=="number"&&nt!=="categorical"){let lr=`number expected, ${Sn} found`;return Zp(_e)&&nt===void 0&&(lr+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new go(pn.key,Kn,lr)]}return nt!=="categorical"||Sn!=="number"||typeof Mn=="number"&&isFinite(Mn)&&Math.floor(Mn)===Mn?nt!=="categorical"&&Sn==="number"&&typeof Mn=="number"&&typeof ut=="number"&&ut!==void 0&&Mn<ut?[new go(pn.key,Kn,"stop domain values must appear in ascending order")]:(ut=Mn,nt==="categorical"&&Mn in mt?[new go(pn.key,Kn,"stop domain values must be unique")]:(mt[Mn]=!0,[])):[new go(pn.key,Kn,`integer expected, found ${String(Mn)}`)]}}function lp(tt){const _e=(tt.expressionContext==="property"?zp:dm)(Du(tt.value),tt.valueSpec);if(_e.result==="error")return _e.value.map(ot=>new go(`${tt.key}${ot.key}`,tt.value,ot.message));const nt=_e.value.expression||_e.value._styleExpression.expression;if(tt.expressionContext==="property"&&tt.propertyKey==="text-font"&&!nt.outputDefined())return[new go(tt.key,tt.value,`Invalid data expression for "${tt.propertyKey}". Output values must be contained as literals within the expression.`)];if(tt.expressionContext==="property"&&tt.propertyType==="layout"&&!qm(nt))return[new go(tt.key,tt.value,'"feature-state" data expressions are not supported with layout properties.')];if(tt.expressionContext==="filter")return AU(nt,tt);if(tt.expressionContext&&tt.expressionContext.indexOf("cluster")===0){if(!qs(nt,["zoom","feature-state"]))return[new go(tt.key,tt.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(tt.expressionContext==="cluster-initial"&&!lm(nt))return[new go(tt.key,tt.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function AU(tt,_e){const nt=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(_e.valueSpec&&_e.valueSpec.expression)for(const ut of _e.valueSpec.expression.parameters)nt.delete(ut);if(nt.size===0)return[];const ot=[];return tt instanceof Lu&&nt.has(tt.name)?[new go(_e.key,_e.value,`["${tt.name}"] expression is not supported in a filter for a ${_e.object.type} layer with id: ${_e.object.id}`)]:(tt.eachChild(ut=>{ot.push(...AU(ut,_e))}),ot)}function ey(tt){const _e=tt.key,nt=tt.value,ot=tt.valueSpec,ut=[];return Array.isArray(ot.values)?ot.values.indexOf(na(nt))===-1&&ut.push(new go(_e,nt,`expected one of [${ot.values.join(", ")}], ${JSON.stringify(nt)} found`)):Object.keys(ot.values).indexOf(na(nt))===-1&&ut.push(new go(_e,nt,`expected one of [${Object.keys(ot.values).join(", ")}], ${JSON.stringify(nt)} found`)),ut}function P_(tt){if(tt===!0||tt===!1)return!0;if(!Array.isArray(tt)||tt.length===0)return!1;switch(tt[0]){case"has":return tt.length>=2&&tt[1]!=="$id"&&tt[1]!=="$type";case"in":return tt.length>=3&&(typeof tt[1]!="string"||Array.isArray(tt[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return tt.length!==3||Array.isArray(tt[1])||Array.isArray(tt[2]);case"any":case"all":for(const _e of tt.slice(1))if(!P_(_e)&&typeof _e!="boolean")return!1;return!0;default:return!0}}function Wy(tt,_e="fill"){if(tt==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};P_(tt)||(tt=m0(tt));const nt=tt;let ot=!0;try{ot=function(xt){if(!jp(xt))return xt;let Wt=Du(xt);return Al(Wt),Wt=Cl(Wt),Wt}(nt)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(nt,null,2)}
        `)}const ut=Dr[`filter_${_e}`],ft=dm(ot,ut);let mt=null;if(ft.result==="error")throw new Error(ft.value.map(xt=>`${xt.key}: ${xt.message}`).join(", "));mt=(xt,Wt,Gt)=>ft.value.evaluate(xt,Wt,{},Gt);let Bt=null,Et=null;if(ot!==nt){const xt=dm(nt,ut);if(xt.result==="error")throw new Error(xt.value.map(Wt=>`${Wt.key}: ${Wt.message}`).join(", "));Bt=(Wt,Gt,Xt,pn,Fn)=>xt.value.evaluate(Wt,Gt,{},Xt,void 0,void 0,pn,Fn),Et=!lm(xt.value.expression)}return{filter:mt,dynamicFilter:Bt||void 0,needGeometry:VU(ot),needFeature:!!Et}}function Cl(tt){if(!Array.isArray(tt))return tt;const _e=function(nt){if(xu.has(nt[0])){for(let ot=1;ot<nt.length;ot++)if(jp(nt[ot]))return!0}return nt}(tt);return _e===!0?_e:_e.map(nt=>Cl(nt))}function Al(tt){let _e=!1;const nt=[];if(tt[0]==="case"){for(let ot=1;ot<tt.length-1;ot+=2)_e=_e||jp(tt[ot]),nt.push(tt[ot+1]);nt.push(tt[tt.length-1])}else if(tt[0]==="match"){_e=_e||jp(tt[1]);for(let ot=2;ot<tt.length-1;ot+=2)nt.push(tt[ot+1]);nt.push(tt[tt.length-1])}else if(tt[0]==="step"){_e=_e||jp(tt[1]);for(let ot=1;ot<tt.length-1;ot+=2)nt.push(tt[ot+1])}_e&&(tt.length=0,tt.push("any",...nt));for(let ot=1;ot<tt.length;ot++)Al(tt[ot])}function jp(tt){if(!Array.isArray(tt))return!1;if((_e=tt[0])==="pitch"||_e==="distance-from-center")return!0;var _e;for(let nt=1;nt<tt.length;nt++)if(jp(tt[nt]))return!0;return!1}const xu=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function ty(tt,_e){return tt<_e?-1:tt>_e?1:0}function VU(tt){if(!Array.isArray(tt))return!1;if(tt[0]==="within")return!0;for(let _e=1;_e<tt.length;_e++)if(VU(tt[_e]))return!0;return!1}function m0(tt){if(!tt)return!0;const _e=tt[0];return tt.length<=1?_e!=="any":_e==="=="?Dm(tt[1],tt[2],"=="):_e==="!="?pm(Dm(tt[1],tt[2],"==")):_e==="<"||_e===">"||_e==="<="||_e===">="?Dm(tt[1],tt[2],_e):_e==="any"?(nt=tt.slice(1),["any"].concat(nt.map(m0))):_e==="all"?["all"].concat(tt.slice(1).map(m0)):_e==="none"?["all"].concat(tt.slice(1).map(m0).map(pm)):_e==="in"?Oy(tt[1],tt.slice(2)):_e==="!in"?pm(Oy(tt[1],tt.slice(2))):_e==="has"?Gp(tt[1]):_e==="!has"?pm(Gp(tt[1])):_e!=="within"||tt;var nt}function Dm(tt,_e,nt){switch(tt){case"$type":return[`filter-type-${nt}`,_e];case"$id":return[`filter-id-${nt}`,_e];default:return[`filter-${nt}`,tt,_e]}}function Oy(tt,_e){if(_e.length===0)return!1;switch(tt){case"$type":return["filter-type-in",["literal",_e]];case"$id":return["filter-id-in",["literal",_e]];default:return _e.length>200&&!_e.some(nt=>typeof nt!=typeof _e[0])?["filter-in-large",tt,["literal",_e.sort(ty)]]:["filter-in-small",tt,["literal",_e]]}}function Gp(tt){switch(tt){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",tt]}}function pm(tt){return["!",tt]}function Hp(tt){return P_(Du(tt.value))?lp(Gl({},tt,{expressionContext:"filter",valueSpec:tt.styleSpec[`filter_${tt.layerType||"fill"}`]})):ny(tt)}function ny(tt){const _e=tt.value,nt=tt.key;if(Qs(_e)!=="array")return[new go(nt,_e,`array expected, ${Qs(_e)} found`)];const ot=tt.styleSpec;let ut,ft=[];if(_e.length<1)return[new go(nt,_e,"filter array must have at least 1 element")];switch(ft=ft.concat(ey({key:`${nt}[0]`,value:_e[0],valueSpec:ot.filter_operator,style:tt.style,styleSpec:tt.styleSpec})),na(_e[0])){case"<":case"<=":case">":case">=":_e.length>=2&&na(_e[1])==="$type"&&ft.push(new go(nt,_e,`"$type" cannot be use with operator "${_e[0]}"`));case"==":case"!=":_e.length!==3&&ft.push(new go(nt,_e,`filter array for operator "${_e[0]}" must have 3 elements`));case"in":case"!in":_e.length>=2&&(ut=Qs(_e[1]),ut!=="string"&&ft.push(new go(`${nt}[1]`,_e[1],`string expected, ${ut} found`)));for(let mt=2;mt<_e.length;mt++)ut=Qs(_e[mt]),na(_e[1])==="$type"?ft=ft.concat(ey({key:`${nt}[${mt}]`,value:_e[mt],valueSpec:ot.geometry_type,style:tt.style,styleSpec:tt.styleSpec})):ut!=="string"&&ut!=="number"&&ut!=="boolean"&&ft.push(new go(`${nt}[${mt}]`,_e[mt],`string, number, or boolean expected, ${ut} found`));break;case"any":case"all":case"none":for(let mt=1;mt<_e.length;mt++)ft=ft.concat(ny({key:`${nt}[${mt}]`,value:_e[mt],style:tt.style,styleSpec:tt.styleSpec}));break;case"has":case"!has":ut=Qs(_e[1]),_e.length!==2?ft.push(new go(nt,_e,`filter array for "${_e[0]}" operator must have 2 elements`)):ut!=="string"&&ft.push(new go(`${nt}[1]`,_e[1],`string expected, ${ut} found`));break;case"within":ut=Qs(_e[1]),_e.length!==2?ft.push(new go(nt,_e,`filter array for "${_e[0]}" operator must have 2 elements`)):ut!=="object"&&ft.push(new go(`${nt}[1]`,_e[1],`object expected, ${ut} found`))}return ft}function Im(tt,_e){const nt=tt.key,ot=tt.style,ut=tt.styleSpec,ft=tt.value,mt=tt.objectKey,Bt=ut[`${_e}_${tt.layerType}`];if(!Bt)return[];const Et=mt.match(/^(.*)-transition$/);if(_e==="paint"&&Et&&Bt[Et[1]]&&Bt[Et[1]].transition)return Ol({key:nt,value:ft,valueSpec:ut.transition,style:ot,styleSpec:ut});const xt=tt.valueSpec||Bt[mt];if(!xt)return[new go(nt,ft,`unknown property "${mt}"`)];let Wt;if(Qs(ft)==="string"&&Zp(xt)&&!xt.tokens&&(Wt=/^{([^}]+)}$/.exec(ft)))return[new go(nt,ft,`"${mt}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Wt[1])} }\`.`)];const Gt=[];return tt.layerType==="symbol"&&(mt==="text-field"&&ot&&!ot.glyphs&&Gt.push(new go(nt,ft,'use of "text-field" requires a style "glyphs" property')),mt==="text-font"&&Zu(Du(ft))&&na(ft.type)==="identity"&&Gt.push(new go(nt,ft,'"text-font" does not support identity functions'))),Gt.concat(Ol({key:tt.key,value:ft,valueSpec:xt,style:ot,styleSpec:ut,expressionContext:"property",propertyType:_e,propertyKey:mt}))}function Ly(tt){return Im(tt,"paint")}function NU(tt){return Im(tt,"layout")}function Z_(tt){let _e=[];const nt=tt.value,ot=tt.key,ut=tt.style,ft=tt.styleSpec;nt.type||nt.ref||_e.push(new go(ot,nt,'either "type" or "ref" is required'));let mt=na(nt.type);const Bt=na(nt.ref);if(nt.id){const Et=na(nt.id);for(let xt=0;xt<tt.arrayIndex;xt++){const Wt=ut.layers[xt];na(Wt.id)===Et&&_e.push(new go(ot,nt.id,`duplicate layer id "${nt.id}", previously used at line ${Wt.id.__line__}`))}}if("ref"in nt){let Et;["type","source","source-layer","filter","layout"].forEach(xt=>{xt in nt&&_e.push(new go(ot,nt[xt],`"${xt}" is prohibited for ref layers`))}),ut.layers.forEach(xt=>{na(xt.id)===Bt&&(Et=xt)}),Et?Et.ref?_e.push(new go(ot,nt.ref,"ref cannot reference another ref layer")):mt=na(Et.type):typeof Bt=="string"&&_e.push(new go(ot,nt.ref,`ref layer "${Bt}" not found`))}else if(mt!=="background"&&mt!=="sky")if(nt.source){const Et=ut.sources&&ut.sources[nt.source],xt=Et&&na(Et.type);Et?xt==="vector"&&mt==="raster"?_e.push(new go(ot,nt.source,`layer "${nt.id}" requires a raster source`)):xt==="raster"&&mt!=="raster"?_e.push(new go(ot,nt.source,`layer "${nt.id}" requires a vector source`)):xt!=="vector"||nt["source-layer"]?xt==="raster-dem"&&mt!=="hillshade"?_e.push(new go(ot,nt.source,"raster-dem source can only be used with layer type 'hillshade'.")):mt!=="line"||!nt.paint||!nt.paint["line-gradient"]&&!nt.paint["line-trim-offset"]||xt==="geojson"&&Et.lineMetrics||_e.push(new go(ot,nt,`layer "${nt.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):_e.push(new go(ot,nt,`layer "${nt.id}" must specify a "source-layer"`)):_e.push(new go(ot,nt.source,`source "${nt.source}" not found`))}else _e.push(new go(ot,nt,'missing required property "source"'));return _e=_e.concat(wu({key:ot,value:nt,valueSpec:ft.layer,style:tt.style,styleSpec:tt.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Ol({key:`${ot}.type`,value:nt.type,valueSpec:ft.layer.type,style:tt.style,styleSpec:tt.styleSpec,object:nt,objectKey:"type"}),filter:Et=>Hp(Gl({layerType:mt},Et)),layout:Et=>wu({layer:nt,key:Et.key,value:Et.value,valueSpec:{},style:Et.style,styleSpec:Et.styleSpec,objectElementValidators:{"*":xt=>NU(Gl({layerType:mt},xt))}}),paint:Et=>wu({layer:nt,key:Et.key,value:Et.value,valueSpec:{},style:Et.style,styleSpec:Et.styleSpec,objectElementValidators:{"*":xt=>Ly(Gl({layerType:mt},xt))}})}})),_e}function Jm(tt){const _e=tt.value,nt=tt.key,ot=Qs(_e);return ot!=="string"?[new go(nt,_e,`string expected, ${ot} found`)]:[]}const MU={promoteId:function({key:tt,value:_e}){if(Qs(_e)==="string")return Jm({key:tt,value:_e});{const nt=[];for(const ot in _e)nt.push(...Jm({key:`${tt}.${ot}`,value:_e[ot]}));return nt}}};function Wm(tt){const _e=tt.value,nt=tt.key,ot=tt.styleSpec,ut=tt.style;if(!_e.type)return[new go(nt,_e,'"type" is required')];const ft=na(_e.type);let mt;switch(ft){case"vector":case"raster":case"raster-dem":return mt=wu({key:nt,value:_e,valueSpec:ot[`source_${ft.replace("-","_")}`],style:tt.style,styleSpec:ot,objectElementValidators:MU}),mt;case"geojson":if(mt=wu({key:nt,value:_e,valueSpec:ot.source_geojson,style:ut,styleSpec:ot,objectElementValidators:MU}),_e.cluster)for(const Bt in _e.clusterProperties){const[Et,xt]=_e.clusterProperties[Bt],Wt=typeof Et=="string"?[Et,["accumulated"],["get",Bt]]:Et;mt.push(...lp({key:`${nt}.${Bt}.map`,value:xt,expressionContext:"cluster-map"})),mt.push(...lp({key:`${nt}.${Bt}.reduce`,value:Wt,expressionContext:"cluster-reduce"}))}return mt;case"video":return wu({key:nt,value:_e,valueSpec:ot.source_video,style:ut,styleSpec:ot});case"image":return wu({key:nt,value:_e,valueSpec:ot.source_image,style:ut,styleSpec:ot});case"canvas":return[new go(nt,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ey({key:`${nt}.type`,value:_e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ut,styleSpec:ot})}}function Yp(tt){const _e=tt.value,nt=tt.styleSpec,ot=nt.light,ut=tt.style;let ft=[];const mt=Qs(_e);if(_e===void 0)return ft;if(mt!=="object")return ft=ft.concat([new go("light",_e,`object expected, ${mt} found`)]),ft;for(const Bt in _e){const Et=Bt.match(/^(.*)-transition$/);ft=ft.concat(Et&&ot[Et[1]]&&ot[Et[1]].transition?Ol({key:Bt,value:_e[Bt],valueSpec:nt.transition,style:ut,styleSpec:nt}):ot[Bt]?Ol({key:Bt,value:_e[Bt],valueSpec:ot[Bt],style:ut,styleSpec:nt}):[new go(Bt,_e[Bt],`unknown property "${Bt}"`)])}return ft}function Py(tt){const _e=tt.value,nt=tt.key,ot=tt.style,ut=tt.styleSpec,ft=ut.terrain;let mt=[];const Bt=Qs(_e);if(_e===void 0)return mt;if(Bt!=="object")return mt=mt.concat([new go("terrain",_e,`object expected, ${Bt} found`)]),mt;for(const Et in _e){const xt=Et.match(/^(.*)-transition$/);mt=mt.concat(xt&&ft[xt[1]]&&ft[xt[1]].transition?Ol({key:Et,value:_e[Et],valueSpec:ut.transition,style:ot,styleSpec:ut}):ft[Et]?Ol({key:Et,value:_e[Et],valueSpec:ft[Et],style:ot,styleSpec:ut}):[new go(Et,_e[Et],`unknown property "${Et}"`)])}if(_e.source){const Et=ot.sources&&ot.sources[_e.source],xt=Et&&na(Et.type);Et?xt!=="raster-dem"&&mt.push(new go(nt,_e.source,`terrain cannot be used with a source of type ${String(xt)}, it only be used with a "raster-dem" source type`)):mt.push(new go(nt,_e.source,`source "${_e.source}" not found`))}else mt.push(new go(nt,_e,'terrain is missing required property "source"'));return mt}function In(tt){const _e=tt.value,nt=tt.style,ot=tt.styleSpec,ut=ot.fog;let ft=[];const mt=Qs(_e);if(_e===void 0)return ft;if(mt!=="object")return ft=ft.concat([new go("fog",_e,`object expected, ${mt} found`)]),ft;for(const Bt in _e){const Et=Bt.match(/^(.*)-transition$/);ft=ft.concat(Et&&ut[Et[1]]&&ut[Et[1]].transition?Ol({key:Bt,value:_e[Bt],valueSpec:ot.transition,style:nt,styleSpec:ot}):ut[Bt]?Ol({key:Bt,value:_e[Bt],valueSpec:ut[Bt],style:nt,styleSpec:ot}):[new go(Bt,_e[Bt],`unknown property "${Bt}"`)])}return ft}const gm={"*":()=>[],array:L_,boolean:function(tt){const _e=tt.value,nt=tt.key,ot=Qs(_e);return ot!=="boolean"?[new go(nt,_e,`boolean expected, ${ot} found`)]:[]},number:q0,color:function(tt){const _e=tt.key,nt=tt.value,ot=Qs(nt);return ot!=="string"?[new go(_e,nt,`color expected, ${ot} found`)]:yp(nt)===null?[new go(_e,nt,`color expected, "${nt}" found`)]:[]},enum:ey,filter:Hp,function:g0,layer:Z_,object:wu,source:Wm,light:Yp,terrain:Py,fog:In,string:Jm,formatted:function(tt){return Jm(tt).length===0?[]:lp(tt)},resolvedImage:function(tt){return Jm(tt).length===0?[]:lp(tt)},projection:function(tt){const _e=tt.value,nt=tt.styleSpec,ot=nt.projection,ut=tt.style;let ft=[];const mt=Qs(_e);if(mt==="object")for(const Bt in _e)ft=ft.concat(Ol({key:Bt,value:_e[Bt],valueSpec:ot[Bt],style:ut,styleSpec:nt}));else mt!=="string"&&(ft=ft.concat([new go("projection",_e,`object or string expected, ${mt} found`)]));return ft}};function Ol(tt){const _e=tt.value,nt=tt.valueSpec,ot=tt.styleSpec;return nt.expression&&Zu(na(_e))?g0(tt):nt.expression&&p0(Du(_e))?lp(tt):nt.type&&gm[nt.type]?gm[nt.type](tt):wu(Gl({},tt,{valueSpec:nt.type?ot[nt.type]:nt}))}function vu(tt){const _e=tt.value,nt=tt.key,ot=Jm(tt);return ot.length||(_e.indexOf("{fontstack}")===-1&&ot.push(new go(nt,_e,'"glyphs" url must include a "{fontstack}" token')),_e.indexOf("{range}")===-1&&ot.push(new go(nt,_e,'"glyphs" url must include a "{range}" token'))),ot}function bs(tt,_e=Dr){return Xp(Ol({key:"",value:tt,valueSpec:_e.$root,styleSpec:_e,style:tt,objectElementValidators:{glyphs:vu,"*":()=>[]}}))}const GF=tt=>Xp(Ly(tt)),HF=tt=>Xp(NU(tt));function Xp(tt){return tt.slice().sort((_e,nt)=>_e.line&&nt.line?_e.line-nt.line:0)}function $p(tt,_e){let nt=!1;if(_e&&_e.length)for(const ot of _e)tt.fire(new np(new Error(ot.message))),nt=!0;return nt}var y0=Rp;function Rp(tt,_e,nt){var ot=this.cells=[];if(tt instanceof ArrayBuffer){this.arrayBuffer=tt;var ut=new Int32Array(this.arrayBuffer);tt=ut[0],this.d=(_e=ut[1])+2*(nt=ut[2]);for(var ft=0;ft<this.d*this.d;ft++){var mt=ut[3+ft],Bt=ut[3+ft+1];ot.push(mt===Bt?null:ut.subarray(mt,Bt))}var Et=ut[3+ot.length+1];this.keys=ut.subarray(ut[3+ot.length],Et),this.bboxes=ut.subarray(Et),this.insert=this._insertReadonly}else{this.d=_e+2*nt;for(var xt=0;xt<this.d*this.d;xt++)ot.push([]);this.keys=[],this.bboxes=[]}this.n=_e,this.extent=tt,this.padding=nt,this.scale=_e/tt,this.uid=0;var Wt=nt/_e*tt;this.min=-Wt,this.max=tt+Wt}Rp.prototype.insert=function(tt,_e,nt,ot,ut){this._forEachCell(_e,nt,ot,ut,this._insertCell,this.uid++),this.keys.push(tt),this.bboxes.push(_e),this.bboxes.push(nt),this.bboxes.push(ot),this.bboxes.push(ut)},Rp.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Rp.prototype._insertCell=function(tt,_e,nt,ot,ut,ft){this.cells[ut].push(ft)},Rp.prototype.query=function(tt,_e,nt,ot,ut){var ft=this.min,mt=this.max;if(tt<=ft&&_e<=ft&&mt<=nt&&mt<=ot&&!ut)return Array.prototype.slice.call(this.keys);var Bt=[];return this._forEachCell(tt,_e,nt,ot,this._queryCell,Bt,{},ut),Bt},Rp.prototype._queryCell=function(tt,_e,nt,ot,ut,ft,mt,Bt){var Et=this.cells[ut];if(Et!==null)for(var xt=this.keys,Wt=this.bboxes,Gt=0;Gt<Et.length;Gt++){var Xt=Et[Gt];if(mt[Xt]===void 0){var pn=4*Xt;(Bt?Bt(Wt[pn+0],Wt[pn+1],Wt[pn+2],Wt[pn+3]):tt<=Wt[pn+2]&&_e<=Wt[pn+3]&&nt>=Wt[pn+0]&&ot>=Wt[pn+1])?(mt[Xt]=!0,ft.push(xt[Xt])):mt[Xt]=!1}}},Rp.prototype._forEachCell=function(tt,_e,nt,ot,ut,ft,mt,Bt){for(var Et=this._convertToCellCoord(tt),xt=this._convertToCellCoord(_e),Wt=this._convertToCellCoord(nt),Gt=this._convertToCellCoord(ot),Xt=Et;Xt<=Wt;Xt++)for(var pn=xt;pn<=Gt;pn++){var Fn=this.d*pn+Xt;if((!Bt||Bt(this._convertFromCellCoord(Xt),this._convertFromCellCoord(pn),this._convertFromCellCoord(Xt+1),this._convertFromCellCoord(pn+1)))&&ut.call(this,tt,_e,nt,ot,Fn,ft,mt,Bt))return}},Rp.prototype._convertFromCellCoord=function(tt){return(tt-this.padding)/this.scale},Rp.prototype._convertToCellCoord=function(tt){return Math.max(0,Math.min(this.d-1,Math.floor(tt*this.scale)+this.padding))},Rp.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var tt=this.cells,_e=3+this.cells.length+1+1,nt=0,ot=0;ot<this.cells.length;ot++)nt+=this.cells[ot].length;var ut=new Int32Array(_e+nt+this.keys.length+this.bboxes.length);ut[0]=this.extent,ut[1]=this.n,ut[2]=this.padding;for(var ft=_e,mt=0;mt<tt.length;mt++){var Bt=tt[mt];ut[3+mt]=ft,ut.set(Bt,ft),ft+=Bt.length}return ut[3+tt.length]=ft,ut.set(this.keys,ft),ut[3+tt.length+1]=ft+=this.keys.length,ut.set(this.bboxes,ft),ft+=this.bboxes.length,ut.buffer};const Zy={};function yo(tt,_e,nt={}){Object.defineProperty(tt,"_classRegistryKey",{value:_e,writeable:!1}),Zy[_e]={klass:tt,omit:nt.omit||[]}}yo(Object,"Object"),y0.serialize=function(tt,_e){const nt=tt.toArrayBuffer();return _e&&_e.push(nt),{buffer:nt}},y0.deserialize=function(tt){return new y0(tt.buffer)},Object.defineProperty(y0,"name",{value:"Grid"}),yo(y0,"Grid"),yo($s,"Color"),yo(Error,"Error"),yo(ss,"AJAXError"),yo(wn,"ResolvedImage"),yo(fu,"StylePropertyFunction"),yo(hm,"StyleExpression",{omit:["_evaluator"]}),yo(Y0,"ZoomDependentExpression"),yo(Mm,"ZoomConstantExpression"),yo(Lu,"CompoundExpression",{omit:["_evaluate"]});for(const tt in u0)Zy[u0[tt]._classRegistryKey]||yo(u0[tt],`Expression${tt}`);function DU(tt){return tt&&typeof ArrayBuffer<"u"&&(tt instanceof ArrayBuffer||tt.constructor&&tt.constructor.name==="ArrayBuffer")}function Qp(tt){return st.ImageBitmap&&tt instanceof st.ImageBitmap}function ry(tt,_e){if(tt==null||typeof tt=="boolean"||typeof tt=="number"||typeof tt=="string"||tt instanceof Boolean||tt instanceof Number||tt instanceof String||tt instanceof Date||tt instanceof RegExp)return tt;if(DU(tt)||Qp(tt))return _e&&_e.push(tt),tt;if(ArrayBuffer.isView(tt)){const nt=tt;return _e&&_e.push(nt.buffer),nt}if(tt instanceof st.ImageData)return _e&&_e.push(tt.data.buffer),tt;if(Array.isArray(tt)){const nt=[];for(const ot of tt)nt.push(ry(ot,_e));return nt}if(typeof tt=="object"){const nt=tt.constructor,ot=nt._classRegistryKey;if(!ot)throw new Error(`can't serialize object of unregistered class ${ot}`);const ut=nt.serialize?nt.serialize(tt,_e):{};if(!nt.serialize){for(const ft in tt)tt.hasOwnProperty(ft)&&(Zy[ot].omit.indexOf(ft)>=0||(ut[ft]=ry(tt[ft],_e)));tt instanceof Error&&(ut.message=tt.message)}if(ut.$name)throw new Error("$name property is reserved for worker serialization logic.");return ot!=="Object"&&(ut.$name=ot),ut}throw new Error("can't serialize object of type "+typeof tt)}function mm(tt){if(tt==null||typeof tt=="boolean"||typeof tt=="number"||typeof tt=="string"||tt instanceof Boolean||tt instanceof Number||tt instanceof String||tt instanceof Date||tt instanceof RegExp||DU(tt)||Qp(tt)||ArrayBuffer.isView(tt)||tt instanceof st.ImageData)return tt;if(Array.isArray(tt))return tt.map(mm);if(typeof tt=="object"){const _e=tt.$name||"Object",{klass:nt}=Zy[_e];if(!nt)throw new Error(`can't deserialize unregistered class ${_e}`);if(nt.deserialize)return nt.deserialize(tt);const ot=Object.create(nt.prototype);for(const ut of Object.keys(tt))ut!=="$name"&&(ot[ut]=mm(tt[ut]));return ot}throw new Error("can't deserialize object of type "+typeof tt)}class IU{constructor(){this.first=!0}update(_e,nt){const ot=Math.floor(_e);return this.first?(this.first=!1,this.lastIntegerZoom=ot,this.lastIntegerZoomTime=0,this.lastZoom=_e,this.lastFloorZoom=ot,!0):(this.lastFloorZoom>ot?(this.lastIntegerZoom=ot+1,this.lastIntegerZoomTime=nt):this.lastFloorZoom<ot&&(this.lastIntegerZoom=ot,this.lastIntegerZoomTime=nt),_e!==this.lastZoom&&(this.lastZoom=_e,this.lastFloorZoom=ot,!0))}}const JU=tt=>tt>=1536&&tt<=1791,iy=tt=>tt>=1872&&tt<=1919,Sp=tt=>tt>=2208&&tt<=2303,z_=tt=>tt>=11904&&tt<=12031,WU=tt=>tt>=12032&&tt<=12255,j_=tt=>tt>=12272&&tt<=12287,oy=tt=>tt>=12288&&tt<=12351,zy=tt=>tt>=12352&&tt<=12447,cp=tt=>tt>=12448&&tt<=12543,jy=tt=>tt>=12544&&tt<=12591,Gy=tt=>tt>=12704&&tt<=12735,zu=tt=>tt>=12736&&tt<=12783,OU=tt=>tt>=12784&&tt<=12799,G_=tt=>tt>=12800&&tt<=13055,LU=tt=>tt>=13056&&tt<=13311,PU=tt=>tt>=13312&&tt<=19903,H_=tt=>tt>=19968&&tt<=40959,sy=tt=>tt>=40960&&tt<=42127,Y_=tt=>tt>=42128&&tt<=42191,ZU=tt=>tt>=44032&&tt<=55215,zU=tt=>tt>=63744&&tt<=64255,ay=tt=>tt>=64336&&tt<=65023,_0=tt=>tt>=65040&&tt<=65055,Om=tt=>tt>=65072&&tt<=65103,ly=tt=>tt>=65104&&tt<=65135,ht=tt=>tt>=65136&&tt<=65279,it=tt=>tt>=65280&&tt<=65519;function ct(tt){for(const _e of tt)if(Rt(_e.charCodeAt(0)))return!0;return!1}function pt(tt){for(const _e of tt)if(!vt(_e.charCodeAt(0)))return!1;return!0}function vt(tt){return!(JU(tt)||iy(tt)||Sp(tt)||ay(tt)||ht(tt))}function Rt(tt){return!(tt!==746&&tt!==747&&(tt<4352||!(Gy(tt)||jy(tt)||Om(tt)&&!(tt>=65097&&tt<=65103)||zU(tt)||LU(tt)||z_(tt)||zu(tt)||!(!oy(tt)||tt>=12296&&tt<=12305||tt>=12308&&tt<=12319||tt===12336)||PU(tt)||H_(tt)||G_(tt)||(_e=>_e>=12592&&_e<=12687)(tt)||(_e=>_e>=43360&&_e<=43391)(tt)||(_e=>_e>=55216&&_e<=55295)(tt)||(_e=>_e>=4352&&_e<=4607)(tt)||ZU(tt)||zy(tt)||j_(tt)||(_e=>_e>=12688&&_e<=12703)(tt)||WU(tt)||OU(tt)||cp(tt)&&tt!==12540||!(!it(tt)||tt===65288||tt===65289||tt===65293||tt>=65306&&tt<=65310||tt===65339||tt===65341||tt===65343||tt>=65371&&tt<=65503||tt===65507||tt>=65512&&tt<=65519)||!(!ly(tt)||tt>=65112&&tt<=65118||tt>=65123&&tt<=65126)||(_e=>_e>=5120&&_e<=5759)(tt)||(_e=>_e>=6320&&_e<=6399)(tt)||_0(tt)||(_e=>_e>=19904&&_e<=19967)(tt)||sy(tt)||Y_(tt))))}function kt(tt){return!(Rt(tt)||function(_e){return!!((nt=>nt>=128&&nt<=255)(_e)&&(_e===167||_e===169||_e===174||_e===177||_e===188||_e===189||_e===190||_e===215||_e===247)||(nt=>nt>=8192&&nt<=8303)(_e)&&(_e===8214||_e===8224||_e===8225||_e===8240||_e===8241||_e===8251||_e===8252||_e===8258||_e===8263||_e===8264||_e===8265||_e===8273)||(nt=>nt>=8448&&nt<=8527)(_e)||(nt=>nt>=8528&&nt<=8591)(_e)||(nt=>nt>=8960&&nt<=9215)(_e)&&(_e>=8960&&_e<=8967||_e>=8972&&_e<=8991||_e>=8996&&_e<=9e3||_e===9003||_e>=9085&&_e<=9114||_e>=9150&&_e<=9165||_e===9167||_e>=9169&&_e<=9179||_e>=9186&&_e<=9215)||(nt=>nt>=9216&&nt<=9279)(_e)&&_e!==9251||(nt=>nt>=9280&&nt<=9311)(_e)||(nt=>nt>=9312&&nt<=9471)(_e)||(nt=>nt>=9632&&nt<=9727)(_e)||(nt=>nt>=9728&&nt<=9983)(_e)&&!(_e>=9754&&_e<=9759)||(nt=>nt>=11008&&nt<=11263)(_e)&&(_e>=11026&&_e<=11055||_e>=11088&&_e<=11097||_e>=11192&&_e<=11243)||oy(_e)||cp(_e)||(nt=>nt>=57344&&nt<=63743)(_e)||Om(_e)||ly(_e)||it(_e)||_e===8734||_e===8756||_e===8757||_e>=9984&&_e<=10087||_e>=10102&&_e<=10131||_e===65532||_e===65533)}(tt))}function Lt(tt){return tt>=1424&&tt<=2303||ay(tt)||ht(tt)}function Zt(tt,_e){return!(!_e&&Lt(tt)||tt>=2304&&tt<=3583||tt>=3840&&tt<=4255||(nt=>nt>=6016&&nt<=6143)(tt))}function en(tt){for(const _e of tt)if(Lt(_e.charCodeAt(0)))return!0;return!1}const fn="deferred",Bn="loading",kn="loaded";let Pn=null,Jn="unavailable",zn=null;const Nn=function(tt){tt&&typeof tt=="string"&&tt.indexOf("NetworkError")>-1&&(Jn="error"),Pn&&Pn(tt)};function Vn(){Hn.fire(new Fs("pluginStateChange",{pluginStatus:Jn,pluginURL:zn}))}const Hn=new Mu,On=function(){return Jn},tr=function(){if(Jn!==fn||!zn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Jn=Bn,Vn(),zn&&_l({url:zn},tt=>{tt?Nn(tt):(Jn=kn,Vn())})},sr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Jn===kn||sr.applyArabicShaping!=null,isLoading:()=>Jn===Bn,setState(tt){Jn=tt.pluginStatus,zn=tt.pluginURL},isParsed:()=>sr.applyArabicShaping!=null&&sr.processBidirectionalText!=null&&sr.processStyledBidirectionalText!=null,getPluginURL:()=>zn};class $n{constructor(_e,nt){this.zoom=_e,nt?(this.now=nt.now,this.fadeDuration=nt.fadeDuration,this.zoomHistory=nt.zoomHistory,this.transition=nt.transition,this.pitch=nt.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new IU,this.transition={},this.pitch=0)}isSupportedScript(_e){return function(nt,ot){for(const ut of nt)if(!Zt(ut.charCodeAt(0),ot))return!1;return!0}(_e,sr.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const _e=this.zoom,nt=_e-Math.floor(_e),ot=this.crossFadingFactor();return _e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:nt+(1-nt)*ot}:{fromScale:.5,toScale:1,t:1-(1-ot)*nt}}}class ur{constructor(_e,nt){this.property=_e,this.value=nt,this.expression=function(ot,ut){if(Zu(ot))return new fu(ot,ut);if(p0(ot)){const ft=zp(ot,ut);if(ft.result==="error")throw new Error(ft.value.map(mt=>`${mt.key}: ${mt.message}`).join(", "));return ft.value}{let ft=ot;return typeof ot=="string"&&ut.type==="color"&&(ft=$s.parse(ot)),{kind:"constant",evaluate:()=>ft}}}(nt===void 0?_e.specification.default:nt,_e.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(_e,nt,ot){return this.property.possiblyEvaluate(this,_e,nt,ot)}}class Ur{constructor(_e){this.property=_e,this.value=new ur(_e,void 0)}transitioned(_e,nt){return new wr(this.property,this.value,nt,It({},_e.transition,this.transition),_e.now)}untransitioned(){return new wr(this.property,this.value,null,{},0)}}class Tr{constructor(_e){this._properties=_e,this._values=Object.create(_e.defaultTransitionablePropertyValues)}getValue(_e){return _n(this._values[_e].value.value)}setValue(_e,nt){this._values.hasOwnProperty(_e)||(this._values[_e]=new Ur(this._values[_e].property)),this._values[_e].value=new ur(this._values[_e].property,nt===null?void 0:_n(nt))}getTransition(_e){return _n(this._values[_e].transition)}setTransition(_e,nt){this._values.hasOwnProperty(_e)||(this._values[_e]=new Ur(this._values[_e].property)),this._values[_e].transition=_n(nt)||void 0}serialize(){const _e={};for(const nt of Object.keys(this._values)){const ot=this.getValue(nt);ot!==void 0&&(_e[nt]=ot);const ut=this.getTransition(nt);ut!==void 0&&(_e[`${nt}-transition`]=ut)}return _e}transitioned(_e,nt){const ot=new qr(this._properties);for(const ut of Object.keys(this._values))ot._values[ut]=this._values[ut].transitioned(_e,nt._values[ut]);return ot}untransitioned(){const _e=new qr(this._properties);for(const nt of Object.keys(this._values))_e._values[nt]=this._values[nt].untransitioned();return _e}}class wr{constructor(_e,nt,ot,ut,ft){const mt=ut.delay||0,Bt=ut.duration||0;ft=ft||0,this.property=_e,this.value=nt,this.begin=ft+mt,this.end=this.begin+Bt,_e.specification.transition&&(ut.delay||ut.duration)&&(this.prior=ot)}possiblyEvaluate(_e,nt,ot){const ut=_e.now||0,ft=this.value.possiblyEvaluate(_e,nt,ot),mt=this.prior;if(mt){if(ut>this.end)return this.prior=null,ft;if(this.value.isDataDriven())return this.prior=null,ft;if(ut<this.begin)return mt.possiblyEvaluate(_e,nt,ot);{const Bt=(ut-this.begin)/(this.end-this.begin);return this.property.interpolate(mt.possiblyEvaluate(_e,nt,ot),ft,Pt(Bt))}}return ft}}class qr{constructor(_e){this._properties=_e,this._values=Object.create(_e.defaultTransitioningPropertyValues)}possiblyEvaluate(_e,nt,ot){const ut=new Zr(this._properties);for(const ft of Object.keys(this._values))ut._values[ft]=this._values[ft].possiblyEvaluate(_e,nt,ot);return ut}hasTransition(){for(const _e of Object.keys(this._values))if(this._values[_e].prior)return!0;return!1}}class _r{constructor(_e){this._properties=_e,this._values=Object.create(_e.defaultPropertyValues)}getValue(_e){return _n(this._values[_e].value)}setValue(_e,nt){this._values[_e]=new ur(this._values[_e].property,nt===null?void 0:_n(nt))}serialize(){const _e={};for(const nt of Object.keys(this._values)){const ot=this.getValue(nt);ot!==void 0&&(_e[nt]=ot)}return _e}possiblyEvaluate(_e,nt,ot){const ut=new Zr(this._properties);for(const ft of Object.keys(this._values))ut._values[ft]=this._values[ft].possiblyEvaluate(_e,nt,ot);return ut}}class Pr{constructor(_e,nt,ot){this.property=_e,this.value=nt,this.parameters=ot}isConstant(){return this.value.kind==="constant"}constantOr(_e){return this.value.kind==="constant"?this.value.value:_e}evaluate(_e,nt,ot,ut){return this.property.evaluate(this.value,this.parameters,_e,nt,ot,ut)}}class Zr{constructor(_e){this._properties=_e,this._values=Object.create(_e.defaultPossiblyEvaluatedValues)}get(_e){return this._values[_e]}}class Qr{constructor(_e){this.specification=_e}possiblyEvaluate(_e,nt){return _e.expression.evaluate(nt)}interpolate(_e,nt,ot){const ut=ap[this.specification.type];return ut?ut(_e,nt,ot):_e}}class gr{constructor(_e,nt){this.specification=_e,this.overrides=nt}possiblyEvaluate(_e,nt,ot,ut){return new Pr(this,_e.expression.kind==="constant"||_e.expression.kind==="camera"?{kind:"constant",value:_e.expression.evaluate(nt,null,{},ot,ut)}:_e.expression,nt)}interpolate(_e,nt,ot){if(_e.value.kind!=="constant"||nt.value.kind!=="constant")return _e;if(_e.value.value===void 0||nt.value.value===void 0)return new Pr(this,{kind:"constant",value:void 0},_e.parameters);const ut=ap[this.specification.type];return ut?new Pr(this,{kind:"constant",value:ut(_e.value.value,nt.value.value,ot)},_e.parameters):_e}evaluate(_e,nt,ot,ut,ft,mt){return _e.kind==="constant"?_e.value:_e.evaluate(nt,ot,ut,ft,mt)}}class co extends gr{possiblyEvaluate(_e,nt,ot,ut){if(_e.value===void 0)return new Pr(this,{kind:"constant",value:void 0},nt);if(_e.expression.kind==="constant"){const ft=_e.expression.evaluate(nt,null,{},ot,ut),mt=_e.property.specification.type==="resolvedImage"&&typeof ft!="string"?ft.name:ft,Bt=this._calculate(mt,mt,mt,nt);return new Pr(this,{kind:"constant",value:Bt},nt)}if(_e.expression.kind==="camera"){const ft=this._calculate(_e.expression.evaluate({zoom:nt.zoom-1}),_e.expression.evaluate({zoom:nt.zoom}),_e.expression.evaluate({zoom:nt.zoom+1}),nt);return new Pr(this,{kind:"constant",value:ft},nt)}return new Pr(this,_e.expression,nt)}evaluate(_e,nt,ot,ut,ft,mt){if(_e.kind==="source"){const Bt=_e.evaluate(nt,ot,ut,ft,mt);return this._calculate(Bt,Bt,Bt,nt)}return _e.kind==="composite"?this._calculate(_e.evaluate({zoom:Math.floor(nt.zoom)-1},ot,ut),_e.evaluate({zoom:Math.floor(nt.zoom)},ot,ut),_e.evaluate({zoom:Math.floor(nt.zoom)+1},ot,ut),nt):_e.value}_calculate(_e,nt,ot,ut){return ut.zoom>ut.zoomHistory.lastIntegerZoom?{from:_e,to:nt,other:ot}:{from:ot,to:nt,other:_e}}interpolate(_e){return _e}}class no{constructor(_e){this.specification=_e}possiblyEvaluate(_e,nt,ot,ut){if(_e.value!==void 0){if(_e.expression.kind==="constant"){const ft=_e.expression.evaluate(nt,null,{},ot,ut);return this._calculate(ft,ft,ft,nt)}return this._calculate(_e.expression.evaluate(new $n(Math.floor(nt.zoom-1),nt)),_e.expression.evaluate(new $n(Math.floor(nt.zoom),nt)),_e.expression.evaluate(new $n(Math.floor(nt.zoom+1),nt)),nt)}}_calculate(_e,nt,ot,ut){return ut.zoom>ut.zoomHistory.lastIntegerZoom?{from:_e,to:nt}:{from:ot,to:nt}}interpolate(_e){return _e}}class so{constructor(_e){this.specification=_e}possiblyEvaluate(_e,nt,ot,ut){return!!_e.expression.evaluate(nt,null,{},ot,ut)}interpolate(){return!1}}class ro{constructor(_e){this.properties=_e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const nt=new $n(0,{});for(const ot in _e){const ut=_e[ot];ut.specification.overridable&&this.overridableProperties.push(ot);const ft=this.defaultPropertyValues[ot]=new ur(ut,void 0),mt=this.defaultTransitionablePropertyValues[ot]=new Ur(ut);this.defaultTransitioningPropertyValues[ot]=mt.untransitioned(),this.defaultPossiblyEvaluatedValues[ot]=ft.possiblyEvaluate(nt)}}}function Ro(tt,_e){return 256*(tt=Kt(Math.floor(tt),0,255))+Kt(Math.floor(_e),0,255)}yo(gr,"DataDrivenProperty"),yo(Qr,"DataConstantProperty"),yo(co,"CrossFadedDataDrivenProperty"),yo(no,"CrossFadedProperty"),yo(so,"ColorRampProperty");const Io={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class No{constructor(_e,nt){this._structArray=_e,this._pos1=nt*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class xo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(_e,nt){return _e._trim(),nt&&(_e.isTransferred=!0,nt.push(_e.arrayBuffer)),{length:_e.length,arrayBuffer:_e.arrayBuffer}}static deserialize(_e){const nt=Object.create(this.prototype);return nt.arrayBuffer=_e.arrayBuffer,nt.length=_e.length,nt.capacity=_e.arrayBuffer.byteLength/nt.bytesPerElement,nt._refreshViews(),nt}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(_e){this.reserve(_e),this.length=_e}reserve(_e){if(_e>this.capacity){this.capacity=Math.max(_e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const nt=this.uint8;this._refreshViews(),nt&&this.uint8.set(nt)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function io(tt,_e=1){let nt=0,ot=0;return{members:tt.map(ut=>{const ft=Io[ut.type].BYTES_PER_ELEMENT,mt=nt=Yo(nt,Math.max(_e,ft)),Bt=ut.components||1;return ot=Math.max(ot,ft),nt+=ft*Bt,{name:ut.name,type:ut.type,components:Bt,offset:mt}}),size:Yo(nt,Math.max(ot,_e)),alignment:_e}}function Yo(tt,_e){return Math.ceil(tt/_e)*_e}class rs extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,nt){const ot=this.length;return this.resize(ot+1),this.emplace(ot,_e,nt)}emplace(_e,nt,ot){const ut=2*_e;return this.int16[ut+0]=nt,this.int16[ut+1]=ot,_e}}rs.prototype.bytesPerElement=4,yo(rs,"StructArrayLayout2i4");class Ns extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot){const ut=this.length;return this.resize(ut+1),this.emplace(ut,_e,nt,ot)}emplace(_e,nt,ot,ut){const ft=3*_e;return this.int16[ft+0]=nt,this.int16[ft+1]=ot,this.int16[ft+2]=ut,_e}}Ns.prototype.bytesPerElement=6,yo(Ns,"StructArrayLayout3i6");class Ds extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut){const ft=this.length;return this.resize(ft+1),this.emplace(ft,_e,nt,ot,ut)}emplace(_e,nt,ot,ut,ft){const mt=4*_e;return this.int16[mt+0]=nt,this.int16[mt+1]=ot,this.int16[mt+2]=ut,this.int16[mt+3]=ft,_e}}Ds.prototype.bytesPerElement=8,yo(Ds,"StructArrayLayout4i8");class Ts extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt,Bt){const Et=this.length;return this.resize(Et+1),this.emplace(Et,_e,nt,ot,ut,ft,mt,Bt)}emplace(_e,nt,ot,ut,ft,mt,Bt,Et){const xt=6*_e,Wt=12*_e,Gt=3*_e;return this.int16[xt+0]=nt,this.int16[xt+1]=ot,this.uint8[Wt+4]=ut,this.uint8[Wt+5]=ft,this.uint8[Wt+6]=mt,this.uint8[Wt+7]=Bt,this.float32[Gt+2]=Et,_e}}Ts.prototype.bytesPerElement=12,yo(Ts,"StructArrayLayout2i4ub1f12");class Vl extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut){const ft=this.length;return this.resize(ft+1),this.emplace(ft,_e,nt,ot,ut)}emplace(_e,nt,ot,ut,ft){const mt=4*_e;return this.float32[mt+0]=nt,this.float32[mt+1]=ot,this.float32[mt+2]=ut,this.float32[mt+3]=ft,_e}}Vl.prototype.bytesPerElement=16,yo(Vl,"StructArrayLayout4f16");class tu extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt){const Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt)}emplace(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt){const Xt=10*_e;return this.uint16[Xt+0]=nt,this.uint16[Xt+1]=ot,this.uint16[Xt+2]=ut,this.uint16[Xt+3]=ft,this.uint16[Xt+4]=mt,this.uint16[Xt+5]=Bt,this.uint16[Xt+6]=Et,this.uint16[Xt+7]=xt,this.uint16[Xt+8]=Wt,this.uint16[Xt+9]=Gt,_e}}tu.prototype.bytesPerElement=20,yo(tu,"StructArrayLayout10ui20");class up extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt,Bt,Et){const xt=this.length;return this.resize(xt+1),this.emplace(xt,_e,nt,ot,ut,ft,mt,Bt,Et)}emplace(_e,nt,ot,ut,ft,mt,Bt,Et,xt){const Wt=8*_e;return this.uint16[Wt+0]=nt,this.uint16[Wt+1]=ot,this.uint16[Wt+2]=ut,this.uint16[Wt+3]=ft,this.uint16[Wt+4]=mt,this.uint16[Wt+5]=Bt,this.uint16[Wt+6]=Et,this.uint16[Wt+7]=xt,_e}}up.prototype.bytesPerElement=16,yo(up,"StructArrayLayout8ui16");class Is extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt){const Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,_e,nt,ot,ut,ft,mt)}emplace(_e,nt,ot,ut,ft,mt,Bt){const Et=6*_e;return this.int16[Et+0]=nt,this.int16[Et+1]=ot,this.int16[Et+2]=ut,this.int16[Et+3]=ft,this.int16[Et+4]=mt,this.int16[Et+5]=Bt,_e}}Is.prototype.bytesPerElement=12,yo(Is,"StructArrayLayout6i12");class ba extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt){const pn=this.length;return this.resize(pn+1),this.emplace(pn,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt)}emplace(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn){const Fn=12*_e;return this.int16[Fn+0]=nt,this.int16[Fn+1]=ot,this.int16[Fn+2]=ut,this.int16[Fn+3]=ft,this.uint16[Fn+4]=mt,this.uint16[Fn+5]=Bt,this.uint16[Fn+6]=Et,this.uint16[Fn+7]=xt,this.int16[Fn+8]=Wt,this.int16[Fn+9]=Gt,this.int16[Fn+10]=Xt,this.int16[Fn+11]=pn,_e}}ba.prototype.bytesPerElement=24,yo(ba,"StructArrayLayout4i4ui4i24");class ks extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt){const Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,_e,nt,ot,ut,ft,mt)}emplace(_e,nt,ot,ut,ft,mt,Bt){const Et=10*_e,xt=5*_e;return this.int16[Et+0]=nt,this.int16[Et+1]=ot,this.int16[Et+2]=ut,this.float32[xt+2]=ft,this.float32[xt+3]=mt,this.float32[xt+4]=Bt,_e}}ks.prototype.bytesPerElement=20,yo(ks,"StructArrayLayout3i3f20");class Ql extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(_e){const nt=this.length;return this.resize(nt+1),this.emplace(nt,_e)}emplace(_e,nt){return this.uint32[1*_e+0]=nt,_e}}Ql.prototype.bytesPerElement=4,yo(Ql,"StructArrayLayout1ul4");class nu extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn){const Fn=this.length;return this.resize(Fn+1),this.emplace(Fn,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn)}emplace(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn){const Sn=20*_e,Mn=10*_e;return this.int16[Sn+0]=nt,this.int16[Sn+1]=ot,this.int16[Sn+2]=ut,this.int16[Sn+3]=ft,this.int16[Sn+4]=mt,this.float32[Mn+3]=Bt,this.float32[Mn+4]=Et,this.float32[Mn+5]=xt,this.float32[Mn+6]=Wt,this.int16[Sn+14]=Gt,this.uint32[Mn+8]=Xt,this.uint16[Sn+18]=pn,this.uint16[Sn+19]=Fn,_e}}nu.prototype.bytesPerElement=40,yo(nu,"StructArrayLayout5i4f1i1ul2ui40");class Ws extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt,Bt){const Et=this.length;return this.resize(Et+1),this.emplace(Et,_e,nt,ot,ut,ft,mt,Bt)}emplace(_e,nt,ot,ut,ft,mt,Bt,Et){const xt=8*_e;return this.int16[xt+0]=nt,this.int16[xt+1]=ot,this.int16[xt+2]=ut,this.int16[xt+4]=ft,this.int16[xt+5]=mt,this.int16[xt+6]=Bt,this.int16[xt+7]=Et,_e}}Ws.prototype.bytesPerElement=16,yo(Ws,"StructArrayLayout3i2i2i16");class bu extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft){const mt=this.length;return this.resize(mt+1),this.emplace(mt,_e,nt,ot,ut,ft)}emplace(_e,nt,ot,ut,ft,mt){const Bt=4*_e,Et=8*_e;return this.float32[Bt+0]=nt,this.float32[Bt+1]=ot,this.float32[Bt+2]=ut,this.int16[Et+6]=ft,this.int16[Et+7]=mt,_e}}bu.prototype.bytesPerElement=16,yo(bu,"StructArrayLayout2f1f2i16");class qp extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut){const ft=this.length;return this.resize(ft+1),this.emplace(ft,_e,nt,ot,ut)}emplace(_e,nt,ot,ut,ft){const mt=12*_e,Bt=3*_e;return this.uint8[mt+0]=nt,this.uint8[mt+1]=ot,this.float32[Bt+1]=ut,this.float32[Bt+2]=ft,_e}}qp.prototype.bytesPerElement=12,yo(qp,"StructArrayLayout2ub2f12");class ju extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,nt,ot){const ut=this.length;return this.resize(ut+1),this.emplace(ut,_e,nt,ot)}emplace(_e,nt,ot,ut){const ft=3*_e;return this.float32[ft+0]=nt,this.float32[ft+1]=ot,this.float32[ft+2]=ut,_e}}ju.prototype.bytesPerElement=12,yo(ju,"StructArrayLayout3f12");class Xl extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot){const ut=this.length;return this.resize(ut+1),this.emplace(ut,_e,nt,ot)}emplace(_e,nt,ot,ut){const ft=3*_e;return this.uint16[ft+0]=nt,this.uint16[ft+1]=ot,this.uint16[ft+2]=ut,_e}}Xl.prototype.bytesPerElement=6,yo(Xl,"StructArrayLayout3ui6");class U0 extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn,Sn,Mn,Kn,lr,qn,nr,fr){const rr=this.length;return this.resize(rr+1),this.emplace(rr,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn,Sn,Mn,Kn,lr,qn,nr,fr)}emplace(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn,Sn,Mn,Kn,lr,qn,nr,fr,rr){const xr=30*_e,Er=15*_e,Wr=60*_e;return this.int16[xr+0]=nt,this.int16[xr+1]=ot,this.int16[xr+2]=ut,this.float32[Er+2]=ft,this.float32[Er+3]=mt,this.uint16[xr+8]=Bt,this.uint16[xr+9]=Et,this.uint32[Er+5]=xt,this.uint32[Er+6]=Wt,this.uint32[Er+7]=Gt,this.uint16[xr+16]=Xt,this.uint16[xr+17]=pn,this.uint16[xr+18]=Fn,this.float32[Er+10]=Sn,this.float32[Er+11]=Mn,this.uint8[Wr+48]=Kn,this.uint8[Wr+49]=lr,this.uint8[Wr+50]=qn,this.uint32[Er+13]=nr,this.int16[xr+28]=fr,this.uint8[Wr+58]=rr,_e}}U0.prototype.bytesPerElement=60,yo(U0,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Ep extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn,Sn,Mn,Kn,lr,qn,nr,fr,rr,xr,Er,Wr,Kr,Cr,zr,jr,Yr){const eo=this.length;return this.resize(eo+1),this.emplace(eo,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn,Sn,Mn,Kn,lr,qn,nr,fr,rr,xr,Er,Wr,Kr,Cr,zr,jr,Yr)}emplace(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn,Sn,Mn,Kn,lr,qn,nr,fr,rr,xr,Er,Wr,Kr,Cr,zr,jr,Yr,eo){const Vr=38*_e,uo=19*_e;return this.int16[Vr+0]=nt,this.int16[Vr+1]=ot,this.int16[Vr+2]=ut,this.float32[uo+2]=ft,this.float32[uo+3]=mt,this.int16[Vr+8]=Bt,this.int16[Vr+9]=Et,this.int16[Vr+10]=xt,this.int16[Vr+11]=Wt,this.int16[Vr+12]=Gt,this.int16[Vr+13]=Xt,this.uint16[Vr+14]=pn,this.uint16[Vr+15]=Fn,this.uint16[Vr+16]=Sn,this.uint16[Vr+17]=Mn,this.uint16[Vr+18]=Kn,this.uint16[Vr+19]=lr,this.uint16[Vr+20]=qn,this.uint16[Vr+21]=nr,this.uint16[Vr+22]=fr,this.uint16[Vr+23]=rr,this.uint16[Vr+24]=xr,this.uint16[Vr+25]=Er,this.uint16[Vr+26]=Wr,this.uint16[Vr+27]=Kr,this.uint16[Vr+28]=Cr,this.uint32[uo+15]=zr,this.float32[uo+16]=jr,this.float32[uo+17]=Yr,this.float32[uo+18]=eo,_e}}Ep.prototype.bytesPerElement=76,yo(Ep,"StructArrayLayout3i2f6i15ui1ul3f76");class Go extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e){const nt=this.length;return this.resize(nt+1),this.emplace(nt,_e)}emplace(_e,nt){return this.float32[1*_e+0]=nt,_e}}Go.prototype.bytesPerElement=4,yo(Go,"StructArrayLayout1f4");class wp extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut,ft){const mt=this.length;return this.resize(mt+1),this.emplace(mt,_e,nt,ot,ut,ft)}emplace(_e,nt,ot,ut,ft,mt){const Bt=5*_e;return this.float32[Bt+0]=nt,this.float32[Bt+1]=ot,this.float32[Bt+2]=ut,this.float32[Bt+3]=ft,this.float32[Bt+4]=mt,_e}}wp.prototype.bytesPerElement=20,yo(wp,"StructArrayLayout5f20");class ym extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,nt,ot,ut){const ft=this.length;return this.resize(ft+1),this.emplace(ft,_e,nt,ot,ut)}emplace(_e,nt,ot,ut,ft){const mt=6*_e;return this.uint32[3*_e+0]=nt,this.uint16[mt+2]=ot,this.uint16[mt+3]=ut,this.uint16[mt+4]=ft,_e}}ym.prototype.bytesPerElement=12,yo(ym,"StructArrayLayout1ul3ui12");class pu extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,nt){const ot=this.length;return this.resize(ot+1),this.emplace(ot,_e,nt)}emplace(_e,nt,ot){const ut=2*_e;return this.uint16[ut+0]=nt,this.uint16[ut+1]=ot,_e}}pu.prototype.bytesPerElement=4,yo(pu,"StructArrayLayout2ui4");class Hy extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e){const nt=this.length;return this.resize(nt+1),this.emplace(nt,_e)}emplace(_e,nt){return this.uint16[1*_e+0]=nt,_e}}Hy.prototype.bytesPerElement=2,yo(Hy,"StructArrayLayout1ui2");class jU extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,nt){const ot=this.length;return this.resize(ot+1),this.emplace(ot,_e,nt)}emplace(_e,nt,ot){const ut=2*_e;return this.float32[ut+0]=nt,this.float32[ut+1]=ot,_e}}jU.prototype.bytesPerElement=8,yo(jU,"StructArrayLayout2f8");class n1 extends No{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}n1.prototype.size=12;class hp extends Is{get(_e){return new n1(this,_e)}}yo(hp,"FillExtrusionExtArray");class r1 extends No{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}r1.prototype.size=40;class Yy extends nu{get(_e){return new r1(this,_e)}}yo(Yy,"CollisionBoxArray");class GU extends No{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(_e){this._structArray.uint8[this._pos1+49]=_e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(_e){this._structArray.uint8[this._pos1+50]=_e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(_e){this._structArray.uint32[this._pos4+13]=_e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(_e){this._structArray.uint8[this._pos1+58]=_e}}GU.prototype.size=60;class YF extends U0{get(_e){return new GU(this,_e)}}yo(YF,"PlacedSymbolArray");class XF extends No{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(_e){this._structArray.uint32[this._pos4+15]=_e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}XF.prototype.size=76;class Gu extends Ep{get(_e){return new XF(this,_e)}}yo(Gu,"SymbolInstanceArray");class Lm extends Go{getoffsetX(_e){return this.float32[1*_e+0]}}yo(Lm,"GlyphOffsetArray");class HU extends Ns{getx(_e){return this.int16[3*_e+0]}gety(_e){return this.int16[3*_e+1]}gettileUnitDistanceFromAnchor(_e){return this.int16[3*_e+2]}}yo(HU,"SymbolLineVertexArray");class $F extends No{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}$F.prototype.size=12;class X_ extends ym{get(_e){return new $F(this,_e)}}yo(X_,"FeatureIndexArray");class qF extends No{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}qF.prototype.size=4;class YU extends pu{get(_e){return new qF(this,_e)}}yo(YU,"FillExtrusionCentroidArray");class KF extends No{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}KF.prototype.size=12;class XU extends Is{get(_e){return new KF(this,_e)}}yo(XU,"CircleGlobeExtArray");const ev=io([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),F0=io([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var Xy={exports:{}},Pm={exports:{}};Pm.exports=function(tt,_e){var nt,ot,ut,ft,mt,Bt,Et,xt;for(ot=tt.length-(nt=3&tt.length),ut=_e,mt=3432918353,Bt=461845907,xt=0;xt<ot;)Et=255&tt.charCodeAt(xt)|(255&tt.charCodeAt(++xt))<<8|(255&tt.charCodeAt(++xt))<<16|(255&tt.charCodeAt(++xt))<<24,++xt,ut=27492+(65535&(ft=5*(65535&(ut=(ut^=Et=(65535&(Et=(Et=(65535&Et)*mt+(((Et>>>16)*mt&65535)<<16)&4294967295)<<15|Et>>>17))*Bt+(((Et>>>16)*Bt&65535)<<16)&4294967295)<<13|ut>>>19))+((5*(ut>>>16)&65535)<<16)&4294967295))+((58964+(ft>>>16)&65535)<<16);switch(Et=0,nt){case 3:Et^=(255&tt.charCodeAt(xt+2))<<16;case 2:Et^=(255&tt.charCodeAt(xt+1))<<8;case 1:ut^=Et=(65535&(Et=(Et=(65535&(Et^=255&tt.charCodeAt(xt)))*mt+(((Et>>>16)*mt&65535)<<16)&4294967295)<<15|Et>>>17))*Bt+(((Et>>>16)*Bt&65535)<<16)&4294967295}return ut^=tt.length,ut=2246822507*(65535&(ut^=ut>>>16))+((2246822507*(ut>>>16)&65535)<<16)&4294967295,ut=3266489909*(65535&(ut^=ut>>>13))+((3266489909*(ut>>>16)&65535)<<16)&4294967295,(ut^=ut>>>16)>>>0};var tv={exports:{}};tv.exports=function(tt,_e){for(var nt,ot=tt.length,ut=_e^ot,ft=0;ot>=4;)nt=1540483477*(65535&(nt=255&tt.charCodeAt(ft)|(255&tt.charCodeAt(++ft))<<8|(255&tt.charCodeAt(++ft))<<16|(255&tt.charCodeAt(++ft))<<24))+((1540483477*(nt>>>16)&65535)<<16),ut=1540483477*(65535&ut)+((1540483477*(ut>>>16)&65535)<<16)^(nt=1540483477*(65535&(nt^=nt>>>24))+((1540483477*(nt>>>16)&65535)<<16)),ot-=4,++ft;switch(ot){case 3:ut^=(255&tt.charCodeAt(ft+2))<<16;case 2:ut^=(255&tt.charCodeAt(ft+1))<<8;case 1:ut=1540483477*(65535&(ut^=255&tt.charCodeAt(ft)))+((1540483477*(ut>>>16)&65535)<<16)}return ut=1540483477*(65535&(ut^=ut>>>13))+((1540483477*(ut>>>16)&65535)<<16),(ut^=ut>>>15)>>>0};var nv=Pm.exports,rv=tv.exports;Xy.exports=nv,Xy.exports.murmur3=nv,Xy.exports.murmur2=rv;class $U{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(_e,nt,ot,ut){this.ids.push(i1(_e)),this.positions.push(nt,ot,ut)}getPositions(_e){const nt=i1(_e);let ot=0,ut=this.ids.length-1;for(;ot<ut;){const mt=ot+ut>>1;this.ids[mt]>=nt?ut=mt:ot=mt+1}const ft=[];for(;this.ids[ot]===nt;)ft.push({index:this.positions[3*ot],start:this.positions[3*ot+1],end:this.positions[3*ot+2]}),ot++;return ft}static serialize(_e,nt){const ot=new Float64Array(_e.ids),ut=new Uint32Array(_e.positions);return iv(ot,ut,0,ot.length-1),nt&&nt.push(ot.buffer,ut.buffer),{ids:ot,positions:ut}}static deserialize(_e){const nt=new $U;return nt.ids=_e.ids,nt.positions=_e.positions,nt.indexed=!0,nt}}function i1(tt){const _e=+tt;return!isNaN(_e)&&Number.MIN_SAFE_INTEGER<=_e&&_e<=Number.MAX_SAFE_INTEGER?_e:Xy.exports(String(tt))}function iv(tt,_e,nt,ot){for(;nt<ot;){const ut=tt[nt+ot>>1];let ft=nt-1,mt=ot+1;for(;;){do ft++;while(tt[ft]<ut);do mt--;while(tt[mt]>ut);if(ft>=mt)break;$_(tt,ft,mt),$_(_e,3*ft,3*mt),$_(_e,3*ft+1,3*mt+1),$_(_e,3*ft+2,3*mt+2)}mt-nt<ot-mt?(iv(tt,_e,nt,mt),nt=mt+1):(iv(tt,_e,mt+1,ot),ot=mt)}}function $_(tt,_e,nt){const ot=tt[_e];tt[_e]=tt[nt],tt[nt]=ot}yo($U,"FeaturePositionMap");class _m{constructor(_e){this.gl=_e.gl,this.initialized=!1}fetchUniformLocation(_e,nt){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(_e,nt),this.initialized=!0),!!this.location}}class qU extends _m{constructor(_e){super(_e),this.current=0}set(_e,nt,ot){this.fetchUniformLocation(_e,nt)&&this.current!==ot&&(this.current=ot,this.gl.uniform1f(this.location,ot))}}class ov extends _m{constructor(_e){super(_e),this.current=[0,0,0,0]}set(_e,nt,ot){this.fetchUniformLocation(_e,nt)&&(ot[0]===this.current[0]&&ot[1]===this.current[1]&&ot[2]===this.current[2]&&ot[3]===this.current[3]||(this.current=ot,this.gl.uniform4f(this.location,ot[0],ot[1],ot[2],ot[3])))}}class sv extends _m{constructor(_e){super(_e),this.current=$s.transparent}set(_e,nt,ot){this.fetchUniformLocation(_e,nt)&&(ot.r===this.current.r&&ot.g===this.current.g&&ot.b===this.current.b&&ot.a===this.current.a||(this.current=ot,this.gl.uniform4f(this.location,ot.r,ot.g,ot.b,ot.a)))}}const Hu=new Float32Array(16),Um=new Float32Array(9),NB=new Float32Array(4);function av(tt){return[Ro(255*tt.r,255*tt.g),Ro(255*tt.b,255*tt.a)]}class v0{constructor(_e,nt,ot){this.value=_e,this.uniformNames=nt.map(ut=>`u_${ut}`),this.type=ot}setUniform(_e,nt,ot,ut,ft){nt.set(_e,ft,ut.constantOr(this.value))}getBinding(_e,nt){return this.type==="color"?new sv(_e):new qU(_e)}}class Kp{constructor(_e,nt){this.uniformNames=nt.map(ot=>`u_${ot}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(_e,nt){this.pixelRatioFrom=nt.pixelRatio||1,this.pixelRatioTo=_e.pixelRatio||1,this.patternFrom=nt.tl.concat(nt.br),this.patternTo=_e.tl.concat(_e.br)}setUniform(_e,nt,ot,ut,ft){const mt=ft==="u_pattern_to"||ft==="u_dash_to"?this.patternTo:ft==="u_pattern_from"||ft==="u_dash_from"?this.patternFrom:ft==="u_pixel_ratio_to"?this.pixelRatioTo:ft==="u_pixel_ratio_from"?this.pixelRatioFrom:null;mt&&nt.set(_e,ft,mt)}getBinding(_e,nt){return nt==="u_pattern_from"||nt==="u_pattern_to"||nt==="u_dash_from"||nt==="u_dash_to"?new ov(_e):new qU(_e)}}class Fm{constructor(_e,nt,ot,ut){this.expression=_e,this.type=ot,this.maxValue=0,this.paintVertexAttributes=nt.map(ft=>({name:`a_${ft}`,type:"Float32",components:ot==="color"?2:1,offset:0})),this.paintVertexArray=new ut}populatePaintArray(_e,nt,ot,ut,ft,mt){const Bt=this.paintVertexArray.length,Et=this.expression.evaluate(new $n(0),nt,{},ft,ut,mt);this.paintVertexArray.resize(_e),this._setPaintValue(Bt,_e,Et)}updatePaintArray(_e,nt,ot,ut,ft){const mt=this.expression.evaluate({zoom:0},ot,ut,void 0,ft);this._setPaintValue(_e,nt,mt)}_setPaintValue(_e,nt,ot){if(this.type==="color"){const ut=av(ot);for(let ft=_e;ft<nt;ft++)this.paintVertexArray.emplace(ft,ut[0],ut[1])}else{for(let ut=_e;ut<nt;ut++)this.paintVertexArray.emplace(ut,ot);this.maxValue=Math.max(this.maxValue,Math.abs(ot))}}upload(_e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=_e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class xp{constructor(_e,nt,ot,ut,ft,mt){this.expression=_e,this.uniformNames=nt.map(Bt=>`u_${Bt}_t`),this.type=ot,this.useIntegerZoom=ut,this.zoom=ft,this.maxValue=0,this.paintVertexAttributes=nt.map(Bt=>({name:`a_${Bt}`,type:"Float32",components:ot==="color"?4:2,offset:0})),this.paintVertexArray=new mt}populatePaintArray(_e,nt,ot,ut,ft,mt){const Bt=this.expression.evaluate(new $n(this.zoom),nt,{},ft,ut,mt),Et=this.expression.evaluate(new $n(this.zoom+1),nt,{},ft,ut,mt),xt=this.paintVertexArray.length;this.paintVertexArray.resize(_e),this._setPaintValue(xt,_e,Bt,Et)}updatePaintArray(_e,nt,ot,ut,ft){const mt=this.expression.evaluate({zoom:this.zoom},ot,ut,void 0,ft),Bt=this.expression.evaluate({zoom:this.zoom+1},ot,ut,void 0,ft);this._setPaintValue(_e,nt,mt,Bt)}_setPaintValue(_e,nt,ot,ut){if(this.type==="color"){const ft=av(ot),mt=av(ut);for(let Bt=_e;Bt<nt;Bt++)this.paintVertexArray.emplace(Bt,ft[0],ft[1],mt[0],mt[1])}else{for(let ft=_e;ft<nt;ft++)this.paintVertexArray.emplace(ft,ot,ut);this.maxValue=Math.max(this.maxValue,Math.abs(ot),Math.abs(ut))}}upload(_e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=_e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(_e,nt,ot,ut,ft){const mt=this.useIntegerZoom?Math.floor(ot.zoom):ot.zoom,Bt=Kt(this.expression.interpolationFactor(mt,this.zoom,this.zoom+1),0,1);nt.set(_e,ft,Bt)}getBinding(_e,nt){return new qU(_e)}}class b0{constructor(_e,nt,ot,ut,ft,mt,Bt){this.expression=_e,this.type=ot,this.useIntegerZoom=ut,this.zoom=ft,this.layerId=Bt,this.paintVertexAttributes=(ot==="array"?F0:ev).members;for(let Et=0;Et<nt.length;++Et);this.zoomInPaintVertexArray=new mt,this.zoomOutPaintVertexArray=new mt}populatePaintArray(_e,nt,ot){const ut=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(_e),this.zoomOutPaintVertexArray.resize(_e),this._setPaintValues(ut,_e,nt.patterns&&nt.patterns[this.layerId],ot)}updatePaintArray(_e,nt,ot,ut,ft,mt){this._setPaintValues(_e,nt,ot.patterns&&ot.patterns[this.layerId],mt)}_setPaintValues(_e,nt,ot,ut){if(!ut||!ot)return;const{min:ft,mid:mt,max:Bt}=ot,Et=ut[ft],xt=ut[mt],Wt=ut[Bt];if(Et&&xt&&Wt)for(let Gt=_e;Gt<nt;Gt++)this._setPaintValue(this.zoomInPaintVertexArray,Gt,xt,Et),this._setPaintValue(this.zoomOutPaintVertexArray,Gt,xt,Wt)}_setPaintValue(_e,nt,ot,ut){_e.emplace(nt,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],ut.tl[0],ut.tl[1],ut.br[0],ut.br[1],ot.pixelRatio,ut.pixelRatio)}upload(_e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=_e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=_e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Zm{constructor(_e,nt,ot=()=>!0){this.binders={},this._buffers=[];const ut=[];for(const ft in _e.paint._values){if(!ot(ft))continue;const mt=_e.paint.get(ft);if(!(mt instanceof Pr&&Zp(mt.property.specification)))continue;const Bt=MB(ft,_e.type),Et=mt.value,xt=mt.property.specification.type,Wt=mt.property.useIntegerZoom,Gt=mt.property.specification["property-type"],Xt=Gt==="cross-faded"||Gt==="cross-faded-data-driven",pn=String(ft)==="line-dasharray"&&_e.layout.get("line-cap").value.kind!=="constant";if(Et.kind!=="constant"||pn)if(Et.kind==="source"||pn||Xt){const Fn=K_(ft,xt,"source");this.binders[ft]=Xt?new b0(Et,Bt,xt,Wt,nt,Fn,_e.id):new Fm(Et,Bt,xt,Fn),ut.push(`/a_${ft}`)}else{const Fn=K_(ft,xt,"composite");this.binders[ft]=new xp(Et,Bt,xt,Wt,nt,Fn),ut.push(`/z_${ft}`)}else this.binders[ft]=Xt?new Kp(Et.value,Bt):new v0(Et.value,Bt,xt),ut.push(`/u_${ft}`)}this.cacheKey=ut.sort().join("")}getMaxValue(_e){const nt=this.binders[_e];return nt instanceof Fm||nt instanceof xp?nt.maxValue:0}populatePaintArrays(_e,nt,ot,ut,ft,mt){for(const Bt in this.binders){const Et=this.binders[Bt];(Et instanceof Fm||Et instanceof xp||Et instanceof b0)&&Et.populatePaintArray(_e,nt,ot,ut,ft,mt)}}setConstantPatternPositions(_e,nt){for(const ot in this.binders){const ut=this.binders[ot];ut instanceof Kp&&ut.setConstantPatternPositions(_e,nt)}}updatePaintArrays(_e,nt,ot,ut,ft,mt){let Bt=!1;for(const Et in _e){const xt=nt.getPositions(Et);for(const Wt of xt){const Gt=ot.feature(Wt.index);for(const Xt in this.binders){const pn=this.binders[Xt];if((pn instanceof Fm||pn instanceof xp||pn instanceof b0)&&pn.expression.isStateDependent===!0){const Fn=ut.paint.get(Xt);pn.expression=Fn.value,pn.updatePaintArray(Wt.start,Wt.end,Gt,_e[Et],ft,mt),Bt=!0}}}}return Bt}defines(){const _e=[];for(const nt in this.binders){const ot=this.binders[nt];(ot instanceof v0||ot instanceof Kp)&&_e.push(...ot.uniformNames.map(ut=>`#define HAS_UNIFORM_${ut}`))}return _e}getBinderAttributes(){const _e=[];for(const nt in this.binders){const ot=this.binders[nt];if(ot instanceof Fm||ot instanceof xp||ot instanceof b0)for(let ut=0;ut<ot.paintVertexAttributes.length;ut++)_e.push(ot.paintVertexAttributes[ut].name)}return _e}getBinderUniforms(){const _e=[];for(const nt in this.binders){const ot=this.binders[nt];if(ot instanceof v0||ot instanceof Kp||ot instanceof xp)for(const ut of ot.uniformNames)_e.push(ut)}return _e}getPaintVertexBuffers(){return this._buffers}getUniforms(_e){const nt=[];for(const ot in this.binders){const ut=this.binders[ot];if(ut instanceof v0||ut instanceof Kp||ut instanceof xp)for(const ft of ut.uniformNames)nt.push({name:ft,property:ot,binding:ut.getBinding(_e,ft)})}return nt}setUniforms(_e,nt,ot,ut,ft){for(const{name:mt,property:Bt,binding:Et}of ot)this.binders[Bt].setUniform(_e,Et,ft,ut.get(Bt),mt)}updatePaintBuffers(_e){this._buffers=[];for(const nt in this.binders){const ot=this.binders[nt];if(_e&&ot instanceof b0){const ut=_e.fromScale===2?ot.zoomInPaintVertexBuffer:ot.zoomOutPaintVertexBuffer;ut&&this._buffers.push(ut)}else(ot instanceof Fm||ot instanceof xp)&&ot.paintVertexBuffer&&this._buffers.push(ot.paintVertexBuffer)}}upload(_e){for(const nt in this.binders){const ot=this.binders[nt];(ot instanceof Fm||ot instanceof xp||ot instanceof b0)&&ot.upload(_e)}this.updatePaintBuffers()}destroy(){for(const _e in this.binders){const nt=this.binders[_e];(nt instanceof Fm||nt instanceof xp||nt instanceof b0)&&nt.destroy()}}}class Tp{constructor(_e,nt,ot=()=>!0){this.programConfigurations={};for(const ut of _e)this.programConfigurations[ut.id]=new Zm(ut,nt,ot);this.needsUpload=!1,this._featureMap=new $U,this._bufferOffset=0}populatePaintArrays(_e,nt,ot,ut,ft,mt,Bt){for(const Et in this.programConfigurations)this.programConfigurations[Et].populatePaintArrays(_e,nt,ut,ft,mt,Bt);nt.id!==void 0&&this._featureMap.add(nt.id,ot,this._bufferOffset,_e),this._bufferOffset=_e,this.needsUpload=!0}updatePaintArrays(_e,nt,ot,ut,ft){for(const mt of ot)this.needsUpload=this.programConfigurations[mt.id].updatePaintArrays(_e,this._featureMap,nt,mt,ut,ft)||this.needsUpload}get(_e){return this.programConfigurations[_e]}upload(_e){if(this.needsUpload){for(const nt in this.programConfigurations)this.programConfigurations[nt].upload(_e);this.needsUpload=!1}}destroy(){for(const _e in this.programConfigurations)this.programConfigurations[_e].destroy()}}const q_={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function MB(tt,_e){return q_[tt]||[tt.replace(`${_e}-`,"").replace(/-/g,"_")]}const o1={"line-pattern":{source:tu,composite:tu},"fill-pattern":{source:tu,composite:tu},"fill-extrusion-pattern":{source:tu,composite:tu},"line-dasharray":{source:up,composite:up}},s1={color:{source:jU,composite:Vl},number:{source:Go,composite:jU}};function K_(tt,_e,nt){const ot=o1[tt];return ot&&ot[nt]||s1[_e][nt]}yo(v0,"ConstantBinder"),yo(Kp,"CrossFadedConstantBinder"),yo(Fm,"SourceExpressionBinder"),yo(b0,"CrossFadedCompositeBinder"),yo(xp,"CompositeExpressionBinder"),yo(Zm,"ProgramConfiguration",{omit:["_buffers"]}),yo(Tp,"ProgramConfigurationSet");const eU="-transition";class Yu extends Mu{constructor(_e,nt){if(super(),this.id=_e.id,this.type=_e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,_e.type!=="custom"&&(this.metadata=_e.metadata,this.minzoom=_e.minzoom,this.maxzoom=_e.maxzoom,_e.type!=="background"&&_e.type!=="sky"&&(this.source=_e.source,this.sourceLayer=_e["source-layer"],this.filter=_e.filter),nt.layout&&(this._unevaluatedLayout=new _r(nt.layout)),nt.paint)){this._transitionablePaint=new Tr(nt.paint);for(const ot in _e.paint)this.setPaintProperty(ot,_e.paint[ot],{validate:!1});for(const ot in _e.layout)this.setLayoutProperty(ot,_e.layout[ot],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Zr(nt.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(_e){return _e==="visibility"?this.visibility:this._unevaluatedLayout.getValue(_e)}setLayoutProperty(_e,nt,ot={}){nt!=null&&this._validate(HF,`layers.${this.id}.layout.${_e}`,_e,nt,ot)||(_e!=="visibility"?this._unevaluatedLayout.setValue(_e,nt):this.visibility=nt)}getPaintProperty(_e){return Rn(_e,eU)?this._transitionablePaint.getTransition(_e.slice(0,-eU.length)):this._transitionablePaint.getValue(_e)}setPaintProperty(_e,nt,ot={}){if(nt!=null&&this._validate(GF,`layers.${this.id}.paint.${_e}`,_e,nt,ot))return!1;if(Rn(_e,eU))return this._transitionablePaint.setTransition(_e.slice(0,-eU.length),nt||void 0),!1;{const ut=this._transitionablePaint._values[_e],ft=ut.property.specification["property-type"]==="cross-faded-data-driven",mt=ut.value.isDataDriven(),Bt=ut.value;this._transitionablePaint.setValue(_e,nt),this._handleSpecialPaintPropertyUpdate(_e);const Et=this._transitionablePaint._values[_e].value;return Et.isDataDriven()||mt||ft||this._handleOverridablePaintPropertyUpdate(_e,Bt,Et)}}_handleSpecialPaintPropertyUpdate(_e){}getProgramIds(){return null}getProgramConfiguration(_e){return null}_handleOverridablePaintPropertyUpdate(_e,nt,ot){return!1}isHidden(_e){return!!(this.minzoom&&_e<this.minzoom)||!!(this.maxzoom&&_e>=this.maxzoom)||this.visibility==="none"}updateTransitions(_e){this._transitioningPaint=this._transitionablePaint.transitioned(_e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(_e,nt){_e.getCrossfadeParameters&&(this._crossfadeParameters=_e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(_e,void 0,nt)),this.paint=this._transitioningPaint.possiblyEvaluate(_e,void 0,nt)}serialize(){const _e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(_e.layout=_e.layout||{},_e.layout.visibility=this.visibility),Ht(_e,(nt,ot)=>!(nt===void 0||ot==="layout"&&!Object.keys(nt).length||ot==="paint"&&!Object.keys(nt).length))}_validate(_e,nt,ot,ut,ft={}){return(!ft||ft.validate!==!1)&&$p(this,_e.call(bs,{key:nt,layerType:this.type,objectKey:ot,value:ut,styleSpec:Dr,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const _e in this.paint._values){const nt=this.paint.get(_e);if(nt instanceof Pr&&Zp(nt.property.specification)&&(nt.value.kind==="source"||nt.value.kind==="composite")&&nt.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Wy(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const lv=io([{name:"a_pos",components:2,type:"Int16"}],4),KU=io([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Nl{constructor(_e=[]){this.segments=_e}prepareSegment(_e,nt,ot,ut){let ft=this.segments[this.segments.length-1];return _e>Nl.MAX_VERTEX_ARRAY_LENGTH&&Tn(`Max vertices per segment is ${Nl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${_e}`),(!ft||ft.vertexLength+_e>Nl.MAX_VERTEX_ARRAY_LENGTH||ft.sortKey!==ut)&&(ft={vertexOffset:nt.length,primitiveOffset:ot.length,vertexLength:0,primitiveLength:0},ut!==void 0&&(ft.sortKey=ut),this.segments.push(ft)),ft}get(){return this.segments}destroy(){for(const _e of this.segments)for(const nt in _e.vaos)_e.vaos[nt].destroy()}static simpleSegment(_e,nt,ot,ut){return new Nl([{vertexOffset:_e,primitiveOffset:nt,vertexLength:ot,primitiveLength:ut,vaos:{},sortKey:0}])}}Nl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,yo(Nl,"SegmentVector");var Lo=8192;class _g{constructor(_e,nt){_e&&(nt?this.setSouthWest(_e).setNorthEast(nt):_e.length===4?this.setSouthWest([_e[0],_e[1]]).setNorthEast([_e[2],_e[3]]):this.setSouthWest(_e[0]).setNorthEast(_e[1]))}setNorthEast(_e){return this._ne=_e instanceof Bs?new Bs(_e.lng,_e.lat):Bs.convert(_e),this}setSouthWest(_e){return this._sw=_e instanceof Bs?new Bs(_e.lng,_e.lat):Bs.convert(_e),this}extend(_e){const nt=this._sw,ot=this._ne;let ut,ft;if(_e instanceof Bs)ut=_e,ft=_e;else{if(!(_e instanceof _g))return Array.isArray(_e)?_e.length===4||_e.every(Array.isArray)?this.extend(_g.convert(_e)):this.extend(Bs.convert(_e)):typeof _e=="object"&&_e!==null&&_e.hasOwnProperty("lat")&&_e.hasOwnProperty("lon")?this.extend(Bs.convert(_e)):this;if(ut=_e._sw,ft=_e._ne,!ut||!ft)return this}return nt||ot?(nt.lng=Math.min(ut.lng,nt.lng),nt.lat=Math.min(ut.lat,nt.lat),ot.lng=Math.max(ft.lng,ot.lng),ot.lat=Math.max(ft.lat,ot.lat)):(this._sw=new Bs(ut.lng,ut.lat),this._ne=new Bs(ft.lng,ft.lat)),this}getCenter(){return new Bs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Bs(this.getWest(),this.getNorth())}getSouthEast(){return new Bs(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(_e){const{lng:nt,lat:ot}=Bs.convert(_e);let ut=this._sw.lng<=nt&&nt<=this._ne.lng;return this._sw.lng>this._ne.lng&&(ut=this._sw.lng>=nt&&nt>=this._ne.lng),this._sw.lat<=ot&&ot<=this._ne.lat&&ut}static convert(_e){return!_e||_e instanceof _g?_e:new _g(_e)}}const tU=63710088e-1;class Bs{constructor(_e,nt){if(isNaN(_e)||isNaN(nt))throw new Error(`Invalid LngLat object: (${_e}, ${nt})`);if(this.lng=+_e,this.lat=+nt,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Bs(hn(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(_e){const nt=Math.PI/180,ot=this.lat*nt,ut=_e.lat*nt,ft=Math.sin(ot)*Math.sin(ut)+Math.cos(ot)*Math.cos(ut)*Math.cos((_e.lng-this.lng)*nt);return tU*Math.acos(Math.min(ft,1))}toBounds(_e=0){const nt=360*_e/40075017,ot=nt/Math.cos(Math.PI/180*this.lat);return new _g(new Bs(this.lng-ot,this.lat-nt),new Bs(this.lng+ot,this.lat+nt))}static convert(_e){if(_e instanceof Bs)return _e;if(Array.isArray(_e)&&(_e.length===2||_e.length===3))return new Bs(Number(_e[0]),Number(_e[1]));if(!Array.isArray(_e)&&typeof _e=="object"&&_e!==null)return new Bs(Number("lng"in _e?_e.lng:_e.lon),Number(_e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const a1=2*Math.PI*tU;function eF(tt){return a1*Math.cos(tt*Math.PI/180)}function ru(tt){return(180+tt)/360}function em(tt){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+tt*Math.PI/360)))/360}function dp(tt,_e){return tt/eF(_e)}function fp(tt){return 360*tt-180}function $l(tt){return 360/Math.PI*Math.atan(Math.exp((180-360*tt)*Math.PI/180))-90}function l1(tt,_e){return tt*eF($l(_e))}const vm=85.051129;function bm(tt){return 1/Math.cos(tt*Math.PI/180)}class B0{constructor(_e,nt,ot=0){this.x=+_e,this.y=+nt,this.z=+ot}static fromLngLat(_e,nt=0){const ot=Bs.convert(_e);return new B0(ru(ot.lng),em(ot.lat),dp(nt,ot.lat))}toLngLat(){return new Bs(fp(this.x),$l(this.y))}toAltitude(){return l1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/a1*bm($l(this.y))}}function nU(tt,_e,nt,ot,ut,ft,mt,Bt,Et){const xt=(_e+ot)/2,Wt=(nt+ut)/2,Gt=new St(xt,Wt);Bt(Gt),function(Xt,pn,Fn,Sn,Mn,Kn){const lr=Fn-Mn,qn=Sn-Kn;return Math.abs((Sn-pn)*lr-(Fn-Xt)*qn)/Math.hypot(lr,qn)}(Gt.x,Gt.y,ft.x,ft.y,mt.x,mt.y)>=Et?(nU(tt,_e,nt,xt,Wt,ft,Gt,Bt,Et),nU(tt,xt,Wt,ot,ut,Gt,mt,Bt,Et)):tt.push(mt)}function tF(tt,_e,nt){let ot=tt[0],ut=ot.x,ft=ot.y;_e(ot);const mt=[ot];for(let Bt=1;Bt<tt.length;Bt++){const Et=tt[Bt],{x:xt,y:Wt}=Et;_e(Et),nU(mt,ut,ft,xt,Wt,ot,Et,_e,nt),ut=xt,ft=Wt,ot=Et}return mt}function $y(tt,_e,nt,ot){if(ot(_e,nt)){const ut=_e.add(nt)._mult(.5);$y(tt,_e,ut,ot),$y(tt,ut,nt,ot)}else tt.push(nt)}function qy(tt,_e){let nt=tt[0];const ot=[nt];for(let ut=1;ut<tt.length;ut++){const ft=tt[ut];$y(ot,nt,ft,_e),nt=ft}return ot}const Xo=Math.pow(2,14)-1,rU=-Xo-1;function cv(tt,_e){const nt=Math.round(tt.x*_e),ot=Math.round(tt.y*_e);return tt.x=Kt(nt,rU,Xo),tt.y=Kt(ot,rU,Xo),(nt<tt.x||nt>tt.x+1||ot<tt.y||ot>tt.y+1)&&Tn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),tt}function Tu(tt,_e,nt){const ot=tt.loadGeometry(),ut=tt.extent,ft=Lo/ut;if(_e&&nt&&nt.projection.isReprojectedInTileSpace){const mt=1<<_e.z,{scale:Bt,x:Et,y:xt,projection:Wt}=nt,Gt=Xt=>{const pn=fp((_e.x+Xt.x/ut)/mt),Fn=$l((_e.y+Xt.y/ut)/mt),Sn=Wt.project(pn,Fn);Xt.x=(Sn.x*Bt-Et)*ut,Xt.y=(Sn.y*Bt-xt)*ut};for(let Xt=0;Xt<ot.length;Xt++)if(tt.type!==1)ot[Xt]=tF(ot[Xt],Gt,1);else{const pn=[];for(const Fn of ot[Xt])Fn.x<0||Fn.x>=ut||Fn.y<0||Fn.y>=ut||(Gt(Fn),pn.push(Fn));ot[Xt]=pn}}for(const mt of ot)for(const Bt of mt)cv(Bt,ft);return ot}function cy(tt,_e){return{type:tt.type,id:tt.id,properties:tt.properties,geometry:_e?Tu(tt):[]}}function Ky(tt,_e,nt,ot,ut){tt.emplaceBack(2*_e+(ot+1)/2,2*nt+(ut+1)/2)}function iU(tt,_e,nt){tt.emplaceBack(_e.x,_e.y,_e.z,nt[0]*16384,nt[1]*16384,nt[2]*16384)}class iu{constructor(_e){this.zoom=_e.zoom,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map(nt=>nt.id),this.index=_e.index,this.hasPattern=!1,this.projection=_e.projection,this.layoutVertexArray=new rs,this.indexArray=new Xl,this.segments=new Nl,this.programConfigurations=new Tp(_e.layers,_e.zoom),this.stateDependentLayerIds=this.layers.filter(nt=>nt.isStateDependent()).map(nt=>nt.id)}populate(_e,nt,ot,ut){const ft=this.layers[0],mt=[];let Bt=null;ft.type==="circle"&&(Bt=ft.layout.get("circle-sort-key"));for(const{feature:xt,id:Wt,index:Gt,sourceLayerIndex:Xt}of _e){const pn=this.layers[0]._featureFilter.needGeometry,Fn=cy(xt,pn);if(!this.layers[0]._featureFilter.filter(new $n(this.zoom),Fn,ot))continue;const Sn=Bt?Bt.evaluate(Fn,{},ot):void 0,Mn={id:Wt,properties:xt.properties,type:xt.type,sourceLayerIndex:Xt,index:Gt,geometry:pn?Fn.geometry:Tu(xt,ot,ut),patterns:{},sortKey:Sn};mt.push(Mn)}Bt&&mt.sort((xt,Wt)=>xt.sortKey-Wt.sortKey);let Et=null;ut.projection.name==="globe"&&(this.globeExtVertexArray=new XU,Et=ut.projection);for(const xt of mt){const{geometry:Wt,index:Gt,sourceLayerIndex:Xt}=xt,pn=_e[Gt].feature;this.addFeature(xt,Wt,Gt,nt.availableImages,ot,Et),nt.featureIndex.insert(pn,Wt,Gt,Xt,this.index)}}update(_e,nt,ot,ut){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_e,nt,this.stateDependentLayers,ot,ut)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(_e){this.uploaded||(this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,lv.members),this.indexBuffer=_e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=_e.createVertexBuffer(this.globeExtVertexArray,KU.members))),this.programConfigurations.upload(_e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(_e,nt,ot,ut,ft,mt){for(const Bt of nt)for(const Et of Bt){const xt=Et.x,Wt=Et.y;if(xt<0||xt>=Lo||Wt<0||Wt>=Lo)continue;if(mt){const pn=mt.projectTilePoint(xt,Wt,ft),Fn=mt.upVector(ft,xt,Wt),Sn=this.globeExtVertexArray;iU(Sn,pn,Fn),iU(Sn,pn,Fn),iU(Sn,pn,Fn),iU(Sn,pn,Fn)}const Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,_e.sortKey),Xt=Gt.vertexLength;Ky(this.layoutVertexArray,xt,Wt,-1,-1),Ky(this.layoutVertexArray,xt,Wt,1,-1),Ky(this.layoutVertexArray,xt,Wt,1,1),Ky(this.layoutVertexArray,xt,Wt,-1,1),this.indexArray.emplaceBack(Xt,Xt+1,Xt+2),this.indexArray.emplaceBack(Xt,Xt+2,Xt+3),Gt.vertexLength+=4,Gt.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_e,ot,{},ut,ft)}}function c1(tt,_e){for(let nt=0;nt<tt.length;nt++)if(Ll(_e,tt[nt]))return!0;for(let nt=0;nt<_e.length;nt++)if(Ll(tt,_e[nt]))return!0;return!!nF(tt,_e)}function DB(tt,_e,nt){return!!Ll(tt,_e)||!!hv(_e,tt,nt)}function uv(tt,_e){if(tt.length===1)return Bm(_e,tt[0]);for(let nt=0;nt<_e.length;nt++){const ot=_e[nt];for(let ut=0;ut<ot.length;ut++)if(Ll(tt,ot[ut]))return!0}for(let nt=0;nt<tt.length;nt++)if(Bm(_e,tt[nt]))return!0;for(let nt=0;nt<_e.length;nt++)if(nF(tt,_e[nt]))return!0;return!1}function IB(tt,_e,nt){if(tt.length>1){if(nF(tt,_e))return!0;for(let ot=0;ot<_e.length;ot++)if(hv(_e[ot],tt,nt))return!0}for(let ot=0;ot<tt.length;ot++)if(hv(tt[ot],_e,nt))return!0;return!1}function nF(tt,_e){if(tt.length===0||_e.length===0)return!1;for(let nt=0;nt<tt.length-1;nt++){const ot=tt[nt],ut=tt[nt+1];for(let ft=0;ft<_e.length-1;ft++)if(JB(ot,ut,_e[ft],_e[ft+1]))return!0}return!1}function JB(tt,_e,nt,ot){return Xn(tt,nt,ot)!==Xn(_e,nt,ot)&&Xn(tt,_e,nt)!==Xn(tt,_e,ot)}function hv(tt,_e,nt){const ot=nt*nt;if(_e.length===1)return tt.distSqr(_e[0])<ot;for(let ut=1;ut<_e.length;ut++)if(u1(tt,_e[ut-1],_e[ut])<ot)return!0;return!1}function u1(tt,_e,nt){const ot=_e.distSqr(nt);if(ot===0)return tt.distSqr(_e);const ut=((tt.x-_e.x)*(nt.x-_e.x)+(tt.y-_e.y)*(nt.y-_e.y))/ot;return tt.distSqr(ut<0?_e:ut>1?nt:nt.sub(_e)._mult(ut)._add(_e))}function Bm(tt,_e){let nt,ot,ut,ft=!1;for(let mt=0;mt<tt.length;mt++){nt=tt[mt];for(let Bt=0,Et=nt.length-1;Bt<nt.length;Et=Bt++)ot=nt[Bt],ut=nt[Et],ot.y>_e.y!=ut.y>_e.y&&_e.x<(ut.x-ot.x)*(_e.y-ot.y)/(ut.y-ot.y)+ot.x&&(ft=!ft)}return ft}function Ll(tt,_e){let nt=!1;for(let ot=0,ut=tt.length-1;ot<tt.length;ut=ot++){const ft=tt[ot],mt=tt[ut];ft.y>_e.y!=mt.y>_e.y&&_e.x<(mt.x-ft.x)*(_e.y-ft.y)/(mt.y-ft.y)+ft.x&&(nt=!nt)}return nt}function rF(tt,_e,nt,ot,ut){for(const mt of tt)if(_e<=mt.x&&nt<=mt.y&&ot>=mt.x&&ut>=mt.y)return!0;const ft=[new St(_e,nt),new St(_e,ut),new St(ot,ut),new St(ot,nt)];if(tt.length>2){for(const mt of ft)if(Ll(tt,mt))return!0}for(let mt=0;mt<tt.length-1;mt++)if(WB(tt[mt],tt[mt+1],ft))return!0;return!1}function WB(tt,_e,nt){const ot=nt[0],ut=nt[2];if(tt.x<ot.x&&_e.x<ot.x||tt.x>ut.x&&_e.x>ut.x||tt.y<ot.y&&_e.y<ot.y||tt.y>ut.y&&_e.y>ut.y)return!1;const ft=Xn(tt,_e,nt[0]);return ft!==Xn(tt,_e,nt[1])||ft!==Xn(tt,_e,nt[2])||ft!==Xn(tt,_e,nt[3])}function Q0(tt,_e,nt){const ot=_e.paint.get(tt).value;return ot.kind==="constant"?ot.value:nt.programConfigurations.get(_e.id).getMaxValue(tt)}function iF(tt){return Math.sqrt(tt[0]*tt[0]+tt[1]*tt[1])}function d1(tt,_e,nt,ot,ut){if(!_e[0]&&!_e[1])return tt;const ft=St.convert(_e)._mult(ut);nt==="viewport"&&ft._rotate(-ot);const mt=[];for(let Bt=0;Bt<tt.length;Bt++)mt.push(tt[Bt].sub(ft));return mt}function e_(tt,_e,nt,ot){const ut=St.convert(tt)._mult(ot);return _e==="viewport"&&ut._rotate(-nt),ut}yo(iu,"CircleBucket",{omit:["layers"]});const f1=new ro({"circle-sort-key":new gr(Dr.layout_circle["circle-sort-key"])});var p1={paint:new ro({"circle-radius":new gr(Dr.paint_circle["circle-radius"]),"circle-color":new gr(Dr.paint_circle["circle-color"]),"circle-blur":new gr(Dr.paint_circle["circle-blur"]),"circle-opacity":new gr(Dr.paint_circle["circle-opacity"]),"circle-translate":new Qr(Dr.paint_circle["circle-translate"]),"circle-translate-anchor":new Qr(Dr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qr(Dr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qr(Dr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new gr(Dr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new gr(Dr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new gr(Dr.paint_circle["circle-stroke-opacity"])}),layout:f1},oF=1e-6,Xu=typeof Float32Array<"u"?Float32Array:Array;function g1(){var tt=new Xu(9);return Xu!=Float32Array&&(tt[1]=0,tt[2]=0,tt[3]=0,tt[5]=0,tt[6]=0,tt[7]=0),tt[0]=1,tt[4]=1,tt[8]=1,tt}function m1(tt,_e,nt){var ot=_e[0],ut=_e[1],ft=_e[2],mt=_e[3],Bt=_e[4],Et=_e[5],xt=_e[6],Wt=_e[7],Gt=_e[8],Xt=nt[0],pn=nt[1],Fn=nt[2],Sn=nt[3],Mn=nt[4],Kn=nt[5],lr=nt[6],qn=nt[7],nr=nt[8];return tt[0]=Xt*ot+pn*mt+Fn*xt,tt[1]=Xt*ut+pn*Bt+Fn*Wt,tt[2]=Xt*ft+pn*Et+Fn*Gt,tt[3]=Sn*ot+Mn*mt+Kn*xt,tt[4]=Sn*ut+Mn*Bt+Kn*Wt,tt[5]=Sn*ft+Mn*Et+Kn*Gt,tt[6]=lr*ot+qn*mt+nr*xt,tt[7]=lr*ut+qn*Bt+nr*Wt,tt[8]=lr*ft+qn*Et+nr*Gt,tt}function tm(tt){return tt[0]=1,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=1,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[10]=1,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,tt}function sF(tt,_e){var nt=_e[0],ot=_e[1],ut=_e[2],ft=_e[3],mt=_e[4],Bt=_e[5],Et=_e[6],xt=_e[7],Wt=_e[8],Gt=_e[9],Xt=_e[10],pn=_e[11],Fn=_e[12],Sn=_e[13],Mn=_e[14],Kn=_e[15],lr=nt*Bt-ot*mt,qn=nt*Et-ut*mt,nr=nt*xt-ft*mt,fr=ot*Et-ut*Bt,rr=ot*xt-ft*Bt,xr=ut*xt-ft*Et,Er=Wt*Sn-Gt*Fn,Wr=Wt*Mn-Xt*Fn,Kr=Wt*Kn-pn*Fn,Cr=Gt*Mn-Xt*Sn,zr=Gt*Kn-pn*Sn,jr=Xt*Kn-pn*Mn,Yr=lr*jr-qn*zr+nr*Cr+fr*Kr-rr*Wr+xr*Er;return Yr?(tt[0]=(Bt*jr-Et*zr+xt*Cr)*(Yr=1/Yr),tt[1]=(ut*zr-ot*jr-ft*Cr)*Yr,tt[2]=(Sn*xr-Mn*rr+Kn*fr)*Yr,tt[3]=(Xt*rr-Gt*xr-pn*fr)*Yr,tt[4]=(Et*Kr-mt*jr-xt*Wr)*Yr,tt[5]=(nt*jr-ut*Kr+ft*Wr)*Yr,tt[6]=(Mn*nr-Fn*xr-Kn*qn)*Yr,tt[7]=(Wt*xr-Xt*nr+pn*qn)*Yr,tt[8]=(mt*zr-Bt*Kr+xt*Er)*Yr,tt[9]=(ot*Kr-nt*zr-ft*Er)*Yr,tt[10]=(Fn*rr-Sn*nr+Kn*lr)*Yr,tt[11]=(Gt*nr-Wt*rr-pn*lr)*Yr,tt[12]=(Bt*Wr-mt*Cr-Et*Er)*Yr,tt[13]=(nt*Cr-ot*Wr+ut*Er)*Yr,tt[14]=(Sn*qn-Fn*fr-Mn*lr)*Yr,tt[15]=(Wt*fr-Gt*qn+Xt*lr)*Yr,tt):null}function t_(tt,_e,nt){var ot=_e[0],ut=_e[1],ft=_e[2],mt=_e[3],Bt=_e[4],Et=_e[5],xt=_e[6],Wt=_e[7],Gt=_e[8],Xt=_e[9],pn=_e[10],Fn=_e[11],Sn=_e[12],Mn=_e[13],Kn=_e[14],lr=_e[15],qn=nt[0],nr=nt[1],fr=nt[2],rr=nt[3];return tt[0]=qn*ot+nr*Bt+fr*Gt+rr*Sn,tt[1]=qn*ut+nr*Et+fr*Xt+rr*Mn,tt[2]=qn*ft+nr*xt+fr*pn+rr*Kn,tt[3]=qn*mt+nr*Wt+fr*Fn+rr*lr,tt[4]=(qn=nt[4])*ot+(nr=nt[5])*Bt+(fr=nt[6])*Gt+(rr=nt[7])*Sn,tt[5]=qn*ut+nr*Et+fr*Xt+rr*Mn,tt[6]=qn*ft+nr*xt+fr*pn+rr*Kn,tt[7]=qn*mt+nr*Wt+fr*Fn+rr*lr,tt[8]=(qn=nt[8])*ot+(nr=nt[9])*Bt+(fr=nt[10])*Gt+(rr=nt[11])*Sn,tt[9]=qn*ut+nr*Et+fr*Xt+rr*Mn,tt[10]=qn*ft+nr*xt+fr*pn+rr*Kn,tt[11]=qn*mt+nr*Wt+fr*Fn+rr*lr,tt[12]=(qn=nt[12])*ot+(nr=nt[13])*Bt+(fr=nt[14])*Gt+(rr=nt[15])*Sn,tt[13]=qn*ut+nr*Et+fr*Xt+rr*Mn,tt[14]=qn*ft+nr*xt+fr*pn+rr*Kn,tt[15]=qn*mt+nr*Wt+fr*Fn+rr*lr,tt}function uy(tt,_e,nt){var ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn,Sn=nt[0],Mn=nt[1],Kn=nt[2];return _e===tt?(tt[12]=_e[0]*Sn+_e[4]*Mn+_e[8]*Kn+_e[12],tt[13]=_e[1]*Sn+_e[5]*Mn+_e[9]*Kn+_e[13],tt[14]=_e[2]*Sn+_e[6]*Mn+_e[10]*Kn+_e[14],tt[15]=_e[3]*Sn+_e[7]*Mn+_e[11]*Kn+_e[15]):(ut=_e[1],ft=_e[2],mt=_e[3],Bt=_e[4],Et=_e[5],xt=_e[6],Wt=_e[7],Gt=_e[8],Xt=_e[9],pn=_e[10],Fn=_e[11],tt[0]=ot=_e[0],tt[1]=ut,tt[2]=ft,tt[3]=mt,tt[4]=Bt,tt[5]=Et,tt[6]=xt,tt[7]=Wt,tt[8]=Gt,tt[9]=Xt,tt[10]=pn,tt[11]=Fn,tt[12]=ot*Sn+Bt*Mn+Gt*Kn+_e[12],tt[13]=ut*Sn+Et*Mn+Xt*Kn+_e[13],tt[14]=ft*Sn+xt*Mn+pn*Kn+_e[14],tt[15]=mt*Sn+Wt*Mn+Fn*Kn+_e[15]),tt}function S0(tt,_e,nt){var ot=nt[0],ut=nt[1],ft=nt[2];return tt[0]=_e[0]*ot,tt[1]=_e[1]*ot,tt[2]=_e[2]*ot,tt[3]=_e[3]*ot,tt[4]=_e[4]*ut,tt[5]=_e[5]*ut,tt[6]=_e[6]*ut,tt[7]=_e[7]*ut,tt[8]=_e[8]*ft,tt[9]=_e[9]*ft,tt[10]=_e[10]*ft,tt[11]=_e[11]*ft,tt[12]=_e[12],tt[13]=_e[13],tt[14]=_e[14],tt[15]=_e[15],tt}function hy(tt,_e,nt){var ot=Math.sin(nt),ut=Math.cos(nt),ft=_e[4],mt=_e[5],Bt=_e[6],Et=_e[7],xt=_e[8],Wt=_e[9],Gt=_e[10],Xt=_e[11];return _e!==tt&&(tt[0]=_e[0],tt[1]=_e[1],tt[2]=_e[2],tt[3]=_e[3],tt[12]=_e[12],tt[13]=_e[13],tt[14]=_e[14],tt[15]=_e[15]),tt[4]=ft*ut+xt*ot,tt[5]=mt*ut+Wt*ot,tt[6]=Bt*ut+Gt*ot,tt[7]=Et*ut+Xt*ot,tt[8]=xt*ut-ft*ot,tt[9]=Wt*ut-mt*ot,tt[10]=Gt*ut-Bt*ot,tt[11]=Xt*ut-Et*ot,tt}function n_(tt,_e,nt){var ot=Math.sin(nt),ut=Math.cos(nt),ft=_e[0],mt=_e[1],Bt=_e[2],Et=_e[3],xt=_e[8],Wt=_e[9],Gt=_e[10],Xt=_e[11];return _e!==tt&&(tt[4]=_e[4],tt[5]=_e[5],tt[6]=_e[6],tt[7]=_e[7],tt[12]=_e[12],tt[13]=_e[13],tt[14]=_e[14],tt[15]=_e[15]),tt[0]=ft*ut-xt*ot,tt[1]=mt*ut-Wt*ot,tt[2]=Bt*ut-Gt*ot,tt[3]=Et*ut-Xt*ot,tt[8]=ft*ot+xt*ut,tt[9]=mt*ot+Wt*ut,tt[10]=Bt*ot+Gt*ut,tt[11]=Et*ot+Xt*ut,tt}function dv(tt,_e){return tt[0]=_e[0],tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=_e[1],tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[10]=_e[2],tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,tt}function fv(tt,_e,nt){var ot,ut,ft,mt=nt[0],Bt=nt[1],Et=nt[2],xt=Math.hypot(mt,Bt,Et);return xt<oF?null:(mt*=xt=1/xt,Bt*=xt,Et*=xt,ot=Math.sin(_e),ut=Math.cos(_e),tt[0]=mt*mt*(ft=1-ut)+ut,tt[1]=Bt*mt*ft+Et*ot,tt[2]=Et*mt*ft-Bt*ot,tt[3]=0,tt[4]=mt*Bt*ft-Et*ot,tt[5]=Bt*Bt*ft+ut,tt[6]=Et*Bt*ft+mt*ot,tt[7]=0,tt[8]=mt*Et*ft+Bt*ot,tt[9]=Bt*Et*ft-mt*ot,tt[10]=Et*Et*ft+ut,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,tt)}Math.hypot||(Math.hypot=function(){for(var tt=0,_e=arguments.length;_e--;)tt+=arguments[_e]*arguments[_e];return Math.sqrt(tt)});var aF=t_;function lF(){var tt=new Xu(3);return Xu!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0),tt}function nm(tt){var _e=new Xu(3);return _e[0]=tt[0],_e[1]=tt[1],_e[2]=tt[2],_e}function rm(tt){return Math.hypot(tt[0],tt[1],tt[2])}function r_(tt,_e,nt){var ot=new Xu(3);return ot[0]=tt,ot[1]=_e,ot[2]=nt,ot}function Rm(tt,_e,nt){return tt[0]=_e[0]+nt[0],tt[1]=_e[1]+nt[1],tt[2]=_e[2]+nt[2],tt}function pv(tt,_e,nt){return tt[0]=_e[0]-nt[0],tt[1]=_e[1]-nt[1],tt[2]=_e[2]-nt[2],tt}function y1(tt,_e,nt){return tt[0]=_e[0]*nt[0],tt[1]=_e[1]*nt[1],tt[2]=_e[2]*nt[2],tt}function oU(tt,_e,nt){return tt[0]=Math.min(_e[0],nt[0]),tt[1]=Math.min(_e[1],nt[1]),tt[2]=Math.min(_e[2],nt[2]),tt}function sU(tt,_e,nt){return tt[0]=Math.max(_e[0],nt[0]),tt[1]=Math.max(_e[1],nt[1]),tt[2]=Math.max(_e[2],nt[2]),tt}function pp(tt,_e,nt){return tt[0]=_e[0]*nt,tt[1]=_e[1]*nt,tt[2]=_e[2]*nt,tt}function aU(tt,_e,nt,ot){return tt[0]=_e[0]+nt[0]*ot,tt[1]=_e[1]+nt[1]*ot,tt[2]=_e[2]+nt[2]*ot,tt}function Bu(tt,_e){var nt=_e[0],ot=_e[1],ut=_e[2],ft=nt*nt+ot*ot+ut*ut;return ft>0&&(ft=1/Math.sqrt(ft)),tt[0]=_e[0]*ft,tt[1]=_e[1]*ft,tt[2]=_e[2]*ft,tt}function kp(tt,_e){return tt[0]*_e[0]+tt[1]*_e[1]+tt[2]*_e[2]}function gv(tt,_e,nt){var ot=_e[0],ut=_e[1],ft=_e[2],mt=nt[0],Bt=nt[1],Et=nt[2];return tt[0]=ut*Et-ft*Bt,tt[1]=ft*mt-ot*Et,tt[2]=ot*Bt-ut*mt,tt}function Ml(tt,_e,nt){var ot=_e[0],ut=_e[1],ft=_e[2],mt=nt[3]*ot+nt[7]*ut+nt[11]*ft+nt[15];return tt[0]=(nt[0]*ot+nt[4]*ut+nt[8]*ft+nt[12])/(mt=mt||1),tt[1]=(nt[1]*ot+nt[5]*ut+nt[9]*ft+nt[13])/mt,tt[2]=(nt[2]*ot+nt[6]*ut+nt[10]*ft+nt[14])/mt,tt}function _1(tt,_e,nt){var ot=nt[0],ut=nt[1],ft=nt[2],mt=_e[0],Bt=_e[1],Et=_e[2],xt=ut*Et-ft*Bt,Wt=ft*mt-ot*Et,Gt=ot*Bt-ut*mt,Xt=ut*Gt-ft*Wt,pn=ft*xt-ot*Gt,Fn=ot*Wt-ut*xt,Sn=2*nt[3];return Wt*=Sn,Gt*=Sn,pn*=2,Fn*=2,tt[0]=mt+(xt*=Sn)+(Xt*=2),tt[1]=Bt+Wt+pn,tt[2]=Et+Gt+Fn,tt}var i_,Cp=pv,U1=y1,OB=rm;function F1(tt,_e,nt){return tt[0]=_e[0]*nt,tt[1]=_e[1]*nt,tt[2]=_e[2]*nt,tt[3]=_e[3]*nt,tt}function v1(tt,_e){var nt=_e[0],ot=_e[1],ut=_e[2],ft=_e[3],mt=nt*nt+ot*ot+ut*ut+ft*ft;return mt>0&&(mt=1/Math.sqrt(mt)),tt[0]=nt*mt,tt[1]=ot*mt,tt[2]=ut*mt,tt[3]=ft*mt,tt}function E0(tt,_e,nt){var ot=_e[0],ut=_e[1],ft=_e[2],mt=_e[3];return tt[0]=nt[0]*ot+nt[4]*ut+nt[8]*ft+nt[12]*mt,tt[1]=nt[1]*ot+nt[5]*ut+nt[9]*ft+nt[13]*mt,tt[2]=nt[2]*ot+nt[6]*ut+nt[10]*ft+nt[14]*mt,tt[3]=nt[3]*ot+nt[7]*ut+nt[11]*ft+nt[15]*mt,tt}function b1(){var tt=new Xu(4);return Xu!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0),tt[3]=1,tt}function R1(tt){return tt[0]=0,tt[1]=0,tt[2]=0,tt[3]=1,tt}function Q1(tt,_e,nt){nt*=.5;var ot=_e[0],ut=_e[1],ft=_e[2],mt=_e[3],Bt=Math.sin(nt),Et=Math.cos(nt);return tt[0]=ot*Et+mt*Bt,tt[1]=ut*Et+ft*Bt,tt[2]=ft*Et-ut*Bt,tt[3]=mt*Et-ot*Bt,tt}function S1(tt,_e,nt){nt*=.5;var ot=_e[0],ut=_e[1],ft=_e[2],mt=_e[3],Bt=Math.sin(nt),Et=Math.cos(nt);return tt[0]=ot*Et-ft*Bt,tt[1]=ut*Et+mt*Bt,tt[2]=ft*Et+ot*Bt,tt[3]=mt*Et-ut*Bt,tt}lF(),i_=new Xu(4),Xu!=Float32Array&&(i_[0]=0,i_[1]=0,i_[2]=0,i_[3]=0);var LB=v1;lF(),r_(1,0,0),r_(0,1,0),b1(),b1(),g1();class mv{constructor(_e,nt){this.pos=_e,this.dir=nt}intersectsPlane(_e,nt,ot){const ut=kp(nt,this.dir);if(Math.abs(ut)<1e-6)return!1;const ft=((_e[0]-this.pos[0])*nt[0]+(_e[1]-this.pos[1])*nt[1]+(_e[2]-this.pos[2])*nt[2])/ut;return ot[0]=this.pos[0]+this.dir[0]*ft,ot[1]=this.pos[1]+this.dir[1]*ft,ot[2]=this.pos[2]+this.dir[2]*ft,!0}closestPointOnSphere(_e,nt,ot){if(function(pn,Fn){var Sn=pn[0],Mn=pn[1],Kn=pn[2],lr=Fn[0],qn=Fn[1],nr=Fn[2];return Math.abs(Sn-lr)<=oF*Math.max(1,Math.abs(Sn),Math.abs(lr))&&Math.abs(Mn-qn)<=oF*Math.max(1,Math.abs(Mn),Math.abs(qn))&&Math.abs(Kn-nr)<=oF*Math.max(1,Math.abs(Kn),Math.abs(nr))}(this.pos,_e)||nt===0)return ot[0]=ot[1]=ot[2]=0,!1;const[ut,ft,mt]=this.dir,Bt=this.pos[0]-_e[0],Et=this.pos[1]-_e[1],xt=this.pos[2]-_e[2],Wt=ut*ut+ft*ft+mt*mt,Gt=2*(Bt*ut+Et*ft+xt*mt),Xt=Gt*Gt-4*Wt*(Bt*Bt+Et*Et+xt*xt-nt*nt);if(Xt<0){const pn=Math.max(-Gt/2,0),Fn=Bt+ut*pn,Sn=Et+ft*pn,Mn=xt+mt*pn,Kn=Math.hypot(Fn,Sn,Mn);return ot[0]=Fn*nt/Kn,ot[1]=Sn*nt/Kn,ot[2]=Mn*nt/Kn,!1}{const pn=(-Gt-Math.sqrt(Xt))/(2*Wt);if(pn<0){const Fn=Math.hypot(Bt,Et,xt);return ot[0]=Bt*nt/Fn,ot[1]=Et*nt/Fn,ot[2]=xt*nt/Fn,!1}return ot[0]=Bt+ut*pn,ot[1]=Et+ft*pn,ot[2]=xt+mt*pn,!0}}}class $u{constructor(_e,nt,ot,ut,ft){this.TL=_e,this.TR=nt,this.BR=ot,this.BL=ut,this.horizon=ft}static fromInvProjectionMatrix(_e,nt,ot){const ut=[-1,1,1],ft=[1,1,1],mt=[1,-1,1],Bt=[-1,-1,1],Et=Ml(ut,ut,_e),xt=Ml(ft,ft,_e),Wt=Ml(mt,mt,_e),Gt=Ml(Bt,Bt,_e);return new $u(Et,xt,Wt,Gt,nt/ot)}}class yv{constructor(_e,nt){this.points=_e,this.planes=nt}static fromInvProjectionMatrix(_e,nt,ot,ut){const ft=Math.pow(2,ot),mt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Et=>{const xt=E0([],Et,_e),Wt=1/xt[3]/nt*ft;return function(Gt,Xt,pn){return Gt[0]=Xt[0]*pn[0],Gt[1]=Xt[1]*pn[1],Gt[2]=Xt[2]*pn[2],Gt[3]=Xt[3]*pn[3],Gt}(xt,xt,[Wt,Wt,ut?1/xt[3]:Wt,Wt])}),Bt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(Et=>{const xt=Bu([],gv([],Cp([],mt[Et[0]],mt[Et[1]]),Cp([],mt[Et[2]],mt[Et[1]]))),Wt=-kp(xt,mt[Et[1]]);return xt.concat(Wt)});return new yv(mt,Bt)}}class Ru{static fromPoints(_e){const nt=[1/0,1/0,1/0],ot=[-1/0,-1/0,-1/0];for(const ut of _e)oU(nt,nt,ut),sU(ot,ot,ut);return new Ru(nt,ot)}static applyTransform(_e,nt){const ot=_e.getCorners();for(let ut=0;ut<ot.length;++ut)Ml(ot[ut],ot[ut],nt);return Ru.fromPoints(ot)}constructor(_e,nt){this.min=_e,this.max=nt,this.center=pp([],Rm([],this.min,this.max),.5)}quadrant(_e){const nt=[_e%2==0,_e<2],ot=nm(this.min),ut=nm(this.max);for(let ft=0;ft<nt.length;ft++)ot[ft]=nt[ft]?this.min[ft]:this.center[ft],ut[ft]=nt[ft]?this.center[ft]:this.max[ft];return ut[2]=this.max[2],new Ru(ot,ut)}distanceX(_e){return Math.max(Math.min(this.max[0],_e[0]),this.min[0])-_e[0]}distanceY(_e){return Math.max(Math.min(this.max[1],_e[1]),this.min[1])-_e[1]}distanceZ(_e){return Math.max(Math.min(this.max[2],_e[2]),this.min[2])-_e[2]}getCorners(){const _e=this.min,nt=this.max;return[[_e[0],_e[1],_e[2]],[nt[0],_e[1],_e[2]],[nt[0],nt[1],_e[2]],[_e[0],nt[1],_e[2]],[_e[0],_e[1],nt[2]],[nt[0],_e[1],nt[2]],[nt[0],nt[1],nt[2]],[_e[0],nt[1],nt[2]]]}intersects(_e){const nt=this.getCorners();let ot=!0;for(let ut=0;ut<_e.planes.length;ut++){const ft=_e.planes[ut];let mt=0;for(let Bt=0;Bt<nt.length;Bt++)mt+=kp(ft,nt[Bt])+ft[3]>=0;if(mt===0)return 0;mt!==nt.length&&(ot=!1)}if(ot)return 2;for(let ut=0;ut<3;ut++){let ft=Number.MAX_VALUE,mt=-Number.MAX_VALUE;for(let Bt=0;Bt<_e.points.length;Bt++){const Et=_e.points[Bt][ut]-this.min[ut];ft=Math.min(ft,Et),mt=Math.max(mt,Et)}if(mt<0||ft>this.max[ut]-this.min[ut])return 0}return 1}}function E1(tt,_e,nt,ot,ut,ft,mt,Bt,Et){if(ft&&tt.queryGeometry.isAboveHorizon)return!1;ft&&(Et*=tt.pixelToTileUnitsFactor);const xt=tt.tileID.canonical,Wt=nt.projection.upVectorScale(xt,nt.center.lat,nt.worldSize).metersToTile;for(const Gt of _e)for(const Xt of Gt){const pn=Xt.add(Bt),Fn=ut&&nt.elevation?nt.elevation.exaggeration()*ut.getElevationAt(pn.x,pn.y,!0):0,Sn=nt.projection.projectTilePoint(pn.x,pn.y,xt);if(Fn>0){const qn=nt.projection.upVector(xt,pn.x,pn.y);Sn.x+=qn[0]*Wt*Fn,Sn.y+=qn[1]*Wt*Fn,Sn.z+=qn[2]*Wt*Fn}const Mn=ft?pn:w1(Sn.x,Sn.y,Sn.z,ot),Kn=ft?tt.tilespaceRays.map(qn=>ZB(qn,Fn)):tt.queryGeometry.screenGeometry,lr=E0([],[Sn.x,Sn.y,Sn.z,1],ot);if(!mt&&ft?Et*=lr[3]/nt.cameraToCenterDistance:mt&&!ft&&(Et*=nt.cameraToCenterDistance/lr[3]),ft){const qn=$l((Xt.y/Lo+xt.y)/(1<<xt.z));Et/=nt.projection.pixelsPerMeter(qn,1)/dp(1,qn)}if(DB(Kn,Mn,Et))return!0}return!1}function w1(tt,_e,nt,ot){const ut=E0([],[tt,_e,nt,1],ot);return new St(ut[0]/ut[3],ut[1]/ut[3])}const x1=r_(0,0,0),PB=r_(0,0,1);function ZB(tt,_e){const nt=lF();return x1[2]=_e,tt.intersectsPlane(x1,PB,nt),new St(nt[0],nt[1])}class T1 extends iu{}function cF(tt,{width:_e,height:nt},ot,ut){if(ut){if(ut instanceof Uint8ClampedArray)ut=new Uint8Array(ut.buffer);else if(ut.length!==_e*nt*ot)throw new RangeError("mismatched image size")}else ut=new Uint8Array(_e*nt*ot);return tt.width=_e,tt.height=nt,tt.data=ut,tt}function k1(tt,_e,nt){const{width:ot,height:ut}=_e;ot===tt.width&&ut===tt.height||(_v(tt,_e,{x:0,y:0},{x:0,y:0},{width:Math.min(tt.width,ot),height:Math.min(tt.height,ut)},nt),tt.width=ot,tt.height=ut,tt.data=_e.data)}function _v(tt,_e,nt,ot,ut,ft){if(ut.width===0||ut.height===0)return _e;if(ut.width>tt.width||ut.height>tt.height||nt.x>tt.width-ut.width||nt.y>tt.height-ut.height)throw new RangeError("out of range source coordinates for image copy");if(ut.width>_e.width||ut.height>_e.height||ot.x>_e.width-ut.width||ot.y>_e.height-ut.height)throw new RangeError("out of range destination coordinates for image copy");const mt=tt.data,Bt=_e.data;for(let Et=0;Et<ut.height;Et++){const xt=((nt.y+Et)*tt.width+nt.x)*ft,Wt=((ot.y+Et)*_e.width+ot.x)*ft;for(let Gt=0;Gt<ut.width*ft;Gt++)Bt[Wt+Gt]=mt[xt+Gt]}return _e}yo(T1,"HeatmapBucket",{omit:["layers"]});class zm{constructor(_e,nt){cF(this,_e,1,nt)}resize(_e){k1(this,new zm(_e),1)}clone(){return new zm({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(_e,nt,ot,ut,ft){_v(_e,nt,ot,ut,ft,1)}}class qu{constructor(_e,nt){cF(this,_e,4,nt)}resize(_e){k1(this,new qu(_e),4)}replace(_e,nt){nt?this.data.set(_e):this.data=_e instanceof Uint8ClampedArray?new Uint8Array(_e.buffer):_e}clone(){return new qu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(_e,nt,ot,ut,ft){_v(_e,nt,ot,ut,ft,4)}}yo(zm,"AlphaImage"),yo(qu,"RGBAImage");var zB={paint:new ro({"heatmap-radius":new gr(Dr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new gr(Dr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qr(Dr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new so(Dr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qr(Dr.paint_heatmap["heatmap-opacity"])})};function Uv(tt){const _e={},nt=tt.resolution||256,ot=tt.clips?tt.clips.length:1,ut=tt.image||new qu({width:nt,height:ot}),ft=(mt,Bt,Et)=>{_e[tt.evaluationKey]=Et;const xt=tt.expression.evaluate(_e);ut.data[mt+Bt+0]=Math.floor(255*xt.r/xt.a),ut.data[mt+Bt+1]=Math.floor(255*xt.g/xt.a),ut.data[mt+Bt+2]=Math.floor(255*xt.b/xt.a),ut.data[mt+Bt+3]=Math.floor(255*xt.a)};if(tt.clips)for(let mt=0,Bt=0;mt<ot;++mt,Bt+=4*nt)for(let Et=0,xt=0;Et<nt;Et++,xt+=4){const Wt=Et/(nt-1),{start:Gt,end:Xt}=tt.clips[mt];ft(Bt,xt,Gt*(1-Wt)+Xt*Wt)}else for(let mt=0,Bt=0;mt<nt;mt++,Bt+=4)ft(0,Bt,mt/(nt-1));return ut}var jB={paint:new ro({"hillshade-illumination-direction":new Qr(Dr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Qr(Dr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qr(Dr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qr(Dr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qr(Dr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qr(Dr.paint_hillshade["hillshade-accent-color"])})};const GB=io([{name:"a_pos",components:2,type:"Int16"}],4),{members:HB}=GB;var lU={exports:{}};function uF(tt,_e,nt){nt=nt||2;var ot,ut,ft,mt,Bt,Et,xt,Wt=_e&&_e.length,Gt=Wt?_e[0]*nt:tt.length,Xt=C1(tt,0,Gt,nt,!0),pn=[];if(!Xt||Xt.next===Xt.prev)return pn;if(Wt&&(Xt=function(Sn,Mn,Kn,lr){var qn,nr,fr,rr=[];for(qn=0,nr=Mn.length;qn<nr;qn++)(fr=C1(Sn,Mn[qn]*lr,qn<nr-1?Mn[qn+1]*lr:Sn.length,lr,!1))===fr.next&&(fr.steiner=!0),rr.push(tR(fr));for(rr.sort(KB),qn=0;qn<rr.length;qn++)Kn=eR(rr[qn],Kn);return Kn}(tt,_e,Xt,nt)),tt.length>80*nt){ot=ft=tt[0],ut=mt=tt[1];for(var Fn=nt;Fn<Gt;Fn+=nt)(Bt=tt[Fn])<ot&&(ot=Bt),(Et=tt[Fn+1])<ut&&(ut=Et),Bt>ft&&(ft=Bt),Et>mt&&(mt=Et);xt=(xt=Math.max(ft-ot,mt-ut))!==0?32767/xt:0}return cU(Xt,pn,nt,ot,ut,xt,0),pn}function C1(tt,_e,nt,ot,ut){var ft,mt;if(ut===bv(tt,_e,nt,ot)>0)for(ft=_e;ft<nt;ft+=ot)mt=uU(ft,tt[ft],tt[ft+1],mt);else for(ft=nt-ot;ft>=_e;ft-=ot)mt=uU(ft,tt[ft],tt[ft+1],mt);return mt&&dF(mt,mt.next)&&(hU(mt),mt=mt.next),mt}function dy(tt,_e){if(!tt)return tt;_e||(_e=tt);var nt,ot=tt;do if(nt=!1,ot.steiner||!dF(ot,ot.next)&&El(ot.prev,ot,ot.next)!==0)ot=ot.next;else{if(hU(ot),(ot=_e=ot.prev)===ot.next)break;nt=!0}while(nt||ot!==_e);return _e}function cU(tt,_e,nt,ot,ut,ft,mt){if(tt){!mt&&ft&&function(Wt,Gt,Xt,pn){var Fn=Wt;do Fn.z===0&&(Fn.z=hF(Fn.x,Fn.y,Gt,Xt,pn)),Fn.prevZ=Fn.prev,Fn.nextZ=Fn.next,Fn=Fn.next;while(Fn!==Wt);Fn.prevZ.nextZ=null,Fn.prevZ=null,function(Sn){var Mn,Kn,lr,qn,nr,fr,rr,xr,Er=1;do{for(Kn=Sn,Sn=null,nr=null,fr=0;Kn;){for(fr++,lr=Kn,rr=0,Mn=0;Mn<Er&&(rr++,lr=lr.nextZ);Mn++);for(xr=Er;rr>0||xr>0&&lr;)rr!==0&&(xr===0||!lr||Kn.z<=lr.z)?(qn=Kn,Kn=Kn.nextZ,rr--):(qn=lr,lr=lr.nextZ,xr--),nr?nr.nextZ=qn:Sn=qn,qn.prevZ=nr,nr=qn;Kn=lr}nr.nextZ=null,Er*=2}while(fr>1)}(Fn)}(tt,ot,ut,ft);for(var Bt,Et,xt=tt;tt.prev!==tt.next;)if(Bt=tt.prev,Et=tt.next,ft?XB(tt,ot,ut,ft):YB(tt))_e.push(Bt.i/nt|0),_e.push(tt.i/nt|0),_e.push(Et.i/nt|0),hU(tt),tt=Et.next,xt=Et.next;else if((tt=Et)===xt){mt?mt===1?cU(tt=$B(dy(tt),_e,nt),_e,nt,ot,ut,ft,2):mt===2&&qB(tt,_e,nt,ot,ut,ft):cU(dy(tt),_e,nt,ot,ut,ft,1);break}}}function YB(tt){var _e=tt.prev,nt=tt,ot=tt.next;if(El(_e,nt,ot)>=0)return!1;for(var ut=_e.x,ft=nt.x,mt=ot.x,Bt=_e.y,Et=nt.y,xt=ot.y,Wt=ut<ft?ut<mt?ut:mt:ft<mt?ft:mt,Gt=Bt<Et?Bt<xt?Bt:xt:Et<xt?Et:xt,Xt=ut>ft?ut>mt?ut:mt:ft>mt?ft:mt,pn=Bt>Et?Bt>xt?Bt:xt:Et>xt?Et:xt,Fn=ot.next;Fn!==_e;){if(Fn.x>=Wt&&Fn.x<=Xt&&Fn.y>=Gt&&Fn.y<=pn&&o_(ut,Bt,ft,Et,mt,xt,Fn.x,Fn.y)&&El(Fn.prev,Fn,Fn.next)>=0)return!1;Fn=Fn.next}return!0}function XB(tt,_e,nt,ot){var ut=tt.prev,ft=tt,mt=tt.next;if(El(ut,ft,mt)>=0)return!1;for(var Bt=ut.x,Et=ft.x,xt=mt.x,Wt=ut.y,Gt=ft.y,Xt=mt.y,pn=Bt<Et?Bt<xt?Bt:xt:Et<xt?Et:xt,Fn=Wt<Gt?Wt<Xt?Wt:Xt:Gt<Xt?Gt:Xt,Sn=Bt>Et?Bt>xt?Bt:xt:Et>xt?Et:xt,Mn=Wt>Gt?Wt>Xt?Wt:Xt:Gt>Xt?Gt:Xt,Kn=hF(pn,Fn,_e,nt,ot),lr=hF(Sn,Mn,_e,nt,ot),qn=tt.prevZ,nr=tt.nextZ;qn&&qn.z>=Kn&&nr&&nr.z<=lr;){if(qn.x>=pn&&qn.x<=Sn&&qn.y>=Fn&&qn.y<=Mn&&qn!==ut&&qn!==mt&&o_(Bt,Wt,Et,Gt,xt,Xt,qn.x,qn.y)&&El(qn.prev,qn,qn.next)>=0||(qn=qn.prevZ,nr.x>=pn&&nr.x<=Sn&&nr.y>=Fn&&nr.y<=Mn&&nr!==ut&&nr!==mt&&o_(Bt,Wt,Et,Gt,xt,Xt,nr.x,nr.y)&&El(nr.prev,nr,nr.next)>=0))return!1;nr=nr.nextZ}for(;qn&&qn.z>=Kn;){if(qn.x>=pn&&qn.x<=Sn&&qn.y>=Fn&&qn.y<=Mn&&qn!==ut&&qn!==mt&&o_(Bt,Wt,Et,Gt,xt,Xt,qn.x,qn.y)&&El(qn.prev,qn,qn.next)>=0)return!1;qn=qn.prevZ}for(;nr&&nr.z<=lr;){if(nr.x>=pn&&nr.x<=Sn&&nr.y>=Fn&&nr.y<=Mn&&nr!==ut&&nr!==mt&&o_(Bt,Wt,Et,Gt,xt,Xt,nr.x,nr.y)&&El(nr.prev,nr,nr.next)>=0)return!1;nr=nr.nextZ}return!0}function $B(tt,_e,nt){var ot=tt;do{var ut=ot.prev,ft=ot.next.next;!dF(ut,ft)&&A1(ut,ot,ot.next,ft)&&s_(ut,ft)&&s_(ft,ut)&&(_e.push(ut.i/nt|0),_e.push(ot.i/nt|0),_e.push(ft.i/nt|0),hU(ot),hU(ot.next),ot=tt=ft),ot=ot.next}while(ot!==tt);return dy(ot)}function qB(tt,_e,nt,ot,ut,ft){var mt=tt;do{for(var Bt=mt.next.next;Bt!==mt.prev;){if(mt.i!==Bt.i&&nR(mt,Bt)){var Et=V1(mt,Bt);return mt=dy(mt,mt.next),Et=dy(Et,Et.next),cU(mt,_e,nt,ot,ut,ft,0),void cU(Et,_e,nt,ot,ut,ft,0)}Bt=Bt.next}mt=mt.next}while(mt!==tt)}function KB(tt,_e){return tt.x-_e.x}function eR(tt,_e){var nt=function(ut,ft){var mt,Bt=ft,Et=ut.x,xt=ut.y,Wt=-1/0;do{if(xt<=Bt.y&&xt>=Bt.next.y&&Bt.next.y!==Bt.y){var Gt=Bt.x+(xt-Bt.y)*(Bt.next.x-Bt.x)/(Bt.next.y-Bt.y);if(Gt<=Et&&Gt>Wt&&(Wt=Gt,mt=Bt.x<Bt.next.x?Bt:Bt.next,Gt===Et))return mt}Bt=Bt.next}while(Bt!==ft);if(!mt)return null;var Xt,pn=mt,Fn=mt.x,Sn=mt.y,Mn=1/0;Bt=mt;do Et>=Bt.x&&Bt.x>=Fn&&Et!==Bt.x&&o_(xt<Sn?Et:Wt,xt,Fn,Sn,xt<Sn?Wt:Et,xt,Bt.x,Bt.y)&&(Xt=Math.abs(xt-Bt.y)/(Et-Bt.x),s_(Bt,ut)&&(Xt<Mn||Xt===Mn&&(Bt.x>mt.x||Bt.x===mt.x&&Fv(mt,Bt)))&&(mt=Bt,Mn=Xt)),Bt=Bt.next;while(Bt!==pn);return mt}(tt,_e);if(!nt)return _e;var ot=V1(nt,tt);return dy(ot,ot.next),dy(nt,nt.next)}function Fv(tt,_e){return El(tt.prev,tt,_e.prev)<0&&El(_e.next,tt,tt.next)<0}function hF(tt,_e,nt,ot,ut){return(tt=1431655765&((tt=858993459&((tt=252645135&((tt=16711935&((tt=(tt-nt)*ut|0)|tt<<8))|tt<<4))|tt<<2))|tt<<1))|(_e=1431655765&((_e=858993459&((_e=252645135&((_e=16711935&((_e=(_e-ot)*ut|0)|_e<<8))|_e<<4))|_e<<2))|_e<<1))<<1}function tR(tt){var _e=tt,nt=tt;do(_e.x<nt.x||_e.x===nt.x&&_e.y<nt.y)&&(nt=_e),_e=_e.next;while(_e!==tt);return nt}function o_(tt,_e,nt,ot,ut,ft,mt,Bt){return(ut-mt)*(_e-Bt)>=(tt-mt)*(ft-Bt)&&(tt-mt)*(ot-Bt)>=(nt-mt)*(_e-Bt)&&(nt-mt)*(ft-Bt)>=(ut-mt)*(ot-Bt)}function nR(tt,_e){return tt.next.i!==_e.i&&tt.prev.i!==_e.i&&!function(nt,ot){var ut=nt;do{if(ut.i!==nt.i&&ut.next.i!==nt.i&&ut.i!==ot.i&&ut.next.i!==ot.i&&A1(ut,ut.next,nt,ot))return!0;ut=ut.next}while(ut!==nt);return!1}(tt,_e)&&(s_(tt,_e)&&s_(_e,tt)&&function(nt,ot){var ut=nt,ft=!1,mt=(nt.x+ot.x)/2,Bt=(nt.y+ot.y)/2;do ut.y>Bt!=ut.next.y>Bt&&ut.next.y!==ut.y&&mt<(ut.next.x-ut.x)*(Bt-ut.y)/(ut.next.y-ut.y)+ut.x&&(ft=!ft),ut=ut.next;while(ut!==nt);return ft}(tt,_e)&&(El(tt.prev,tt,_e.prev)||El(tt,_e.prev,_e))||dF(tt,_e)&&El(tt.prev,tt,tt.next)>0&&El(_e.prev,_e,_e.next)>0)}function El(tt,_e,nt){return(_e.y-tt.y)*(nt.x-_e.x)-(_e.x-tt.x)*(nt.y-_e.y)}function dF(tt,_e){return tt.x===_e.x&&tt.y===_e.y}function A1(tt,_e,nt,ot){var ut=pF(El(tt,_e,nt)),ft=pF(El(tt,_e,ot)),mt=pF(El(nt,ot,tt)),Bt=pF(El(nt,ot,_e));return ut!==ft&&mt!==Bt||!(ut!==0||!fF(tt,nt,_e))||!(ft!==0||!fF(tt,ot,_e))||!(mt!==0||!fF(nt,tt,ot))||!(Bt!==0||!fF(nt,_e,ot))}function fF(tt,_e,nt){return _e.x<=Math.max(tt.x,nt.x)&&_e.x>=Math.min(tt.x,nt.x)&&_e.y<=Math.max(tt.y,nt.y)&&_e.y>=Math.min(tt.y,nt.y)}function pF(tt){return tt>0?1:tt<0?-1:0}function s_(tt,_e){return El(tt.prev,tt,tt.next)<0?El(tt,_e,tt.next)>=0&&El(tt,tt.prev,_e)>=0:El(tt,_e,tt.prev)<0||El(tt,tt.next,_e)<0}function V1(tt,_e){var nt=new vv(tt.i,tt.x,tt.y),ot=new vv(_e.i,_e.x,_e.y),ut=tt.next,ft=_e.prev;return tt.next=_e,_e.prev=tt,nt.next=ut,ut.prev=nt,ot.next=nt,nt.prev=ot,ft.next=ot,ot.prev=ft,ot}function uU(tt,_e,nt,ot){var ut=new vv(tt,_e,nt);return ot?(ut.next=ot.next,ut.prev=ot,ot.next.prev=ut,ot.next=ut):(ut.prev=ut,ut.next=ut),ut}function hU(tt){tt.next.prev=tt.prev,tt.prev.next=tt.next,tt.prevZ&&(tt.prevZ.nextZ=tt.nextZ),tt.nextZ&&(tt.nextZ.prevZ=tt.prevZ)}function vv(tt,_e,nt){this.i=tt,this.x=_e,this.y=nt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bv(tt,_e,nt,ot){for(var ut=0,ft=_e,mt=nt-ot;ft<nt;ft+=ot)ut+=(tt[mt]-tt[ft])*(tt[ft+1]+tt[mt+1]),mt=ft;return ut}function rR(tt,_e,nt,ot,ut){N1(tt,_e,nt||0,ot||tt.length-1,ut||iR)}function N1(tt,_e,nt,ot,ut){for(;ot>nt;){if(ot-nt>600){var ft=ot-nt+1,mt=_e-nt+1,Bt=Math.log(ft),Et=.5*Math.exp(2*Bt/3),xt=.5*Math.sqrt(Bt*Et*(ft-Et)/ft)*(mt-ft/2<0?-1:1);N1(tt,_e,Math.max(nt,Math.floor(_e-mt*Et/ft+xt)),Math.min(ot,Math.floor(_e+(ft-mt)*Et/ft+xt)),ut)}var Wt=tt[_e],Gt=nt,Xt=ot;for(dU(tt,nt,_e),ut(tt[ot],Wt)>0&&dU(tt,nt,ot);Gt<Xt;){for(dU(tt,Gt,Xt),Gt++,Xt--;ut(tt[Gt],Wt)<0;)Gt++;for(;ut(tt[Xt],Wt)>0;)Xt--}ut(tt[nt],Wt)===0?dU(tt,nt,Xt):dU(tt,++Xt,ot),Xt<=_e&&(nt=Xt+1),_e<=Xt&&(ot=Xt-1)}}function dU(tt,_e,nt){var ot=tt[_e];tt[_e]=tt[nt],tt[nt]=ot}function iR(tt,_e){return tt<_e?-1:tt>_e?1:0}function Bv(tt,_e){const nt=tt.length;if(nt<=1)return[tt];const ot=[];let ut,ft;for(let mt=0;mt<nt;mt++){const Bt=or(tt[mt]);Bt!==0&&(tt[mt].area=Math.abs(Bt),ft===void 0&&(ft=Bt<0),ft===Bt<0?(ut&&ot.push(ut),ut=[tt[mt]]):ut.push(tt[mt]))}if(ut&&ot.push(ut),_e>1)for(let mt=0;mt<ot.length;mt++)ot[mt].length<=_e||(rR(ot[mt],_e,1,ot[mt].length-1,oR),ot[mt]=ot[mt].slice(0,_e));return ot}function oR(tt,_e){return _e.area-tt.area}function Rv(tt,_e,nt){const ot=nt.patternDependencies;let ut=!1;for(const ft of _e){const mt=ft.paint.get(`${tt}-pattern`);mt.isConstant()||(ut=!0);const Bt=mt.constantOr(null);Bt&&(ut=!0,ot[Bt.to]=!0,ot[Bt.from]=!0)}return ut}function Qv(tt,_e,nt,ot,ut){const ft=ut.patternDependencies;for(const mt of _e){const Bt=mt.paint.get(`${tt}-pattern`).value;if(Bt.kind!=="constant"){let Et=Bt.evaluate({zoom:ot-1},nt,{},ut.availableImages),xt=Bt.evaluate({zoom:ot},nt,{},ut.availableImages),Wt=Bt.evaluate({zoom:ot+1},nt,{},ut.availableImages);Et=Et&&Et.name?Et.name:Et,xt=xt&&xt.name?xt.name:xt,Wt=Wt&&Wt.name?Wt.name:Wt,ft[Et]=!0,ft[xt]=!0,ft[Wt]=!0,nt.patterns[mt.id]={min:Et,mid:xt,max:Wt}}}return nt}lU.exports=uF,lU.exports.default=uF,uF.deviation=function(tt,_e,nt,ot){var ut=_e&&_e.length,ft=Math.abs(bv(tt,0,ut?_e[0]*nt:tt.length,nt));if(ut)for(var mt=0,Bt=_e.length;mt<Bt;mt++)ft-=Math.abs(bv(tt,_e[mt]*nt,mt<Bt-1?_e[mt+1]*nt:tt.length,nt));var Et=0;for(mt=0;mt<ot.length;mt+=3){var xt=ot[mt]*nt,Wt=ot[mt+1]*nt,Gt=ot[mt+2]*nt;Et+=Math.abs((tt[xt]-tt[Gt])*(tt[Wt+1]-tt[xt+1])-(tt[xt]-tt[Wt])*(tt[Gt+1]-tt[xt+1]))}return ft===0&&Et===0?0:Math.abs((Et-ft)/ft)},uF.flatten=function(tt){for(var _e=tt[0][0].length,nt={vertices:[],holes:[],dimensions:_e},ot=0,ut=0;ut<tt.length;ut++){for(var ft=0;ft<tt[ut].length;ft++)for(var mt=0;mt<_e;mt++)nt.vertices.push(tt[ut][ft][mt]);ut>0&&nt.holes.push(ot+=tt[ut-1].length)}return nt};class gF{constructor(_e){this.zoom=_e.zoom,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map(nt=>nt.id),this.index=_e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new rs,this.indexArray=new Xl,this.indexArray2=new pu,this.programConfigurations=new Tp(_e.layers,_e.zoom),this.segments=new Nl,this.segments2=new Nl,this.stateDependentLayerIds=this.layers.filter(nt=>nt.isStateDependent()).map(nt=>nt.id),this.projection=_e.projection}populate(_e,nt,ot,ut){this.hasPattern=Rv("fill",this.layers,nt);const ft=this.layers[0].layout.get("fill-sort-key"),mt=[];for(const{feature:Bt,id:Et,index:xt,sourceLayerIndex:Wt}of _e){const Gt=this.layers[0]._featureFilter.needGeometry,Xt=cy(Bt,Gt);if(!this.layers[0]._featureFilter.filter(new $n(this.zoom),Xt,ot))continue;const pn=ft?ft.evaluate(Xt,{},ot,nt.availableImages):void 0,Fn={id:Et,properties:Bt.properties,type:Bt.type,sourceLayerIndex:Wt,index:xt,geometry:Gt?Xt.geometry:Tu(Bt,ot,ut),patterns:{},sortKey:pn};mt.push(Fn)}ft&&mt.sort((Bt,Et)=>Bt.sortKey-Et.sortKey);for(const Bt of mt){const{geometry:Et,index:xt,sourceLayerIndex:Wt}=Bt;if(this.hasPattern){const Gt=Qv("fill",this.layers,Bt,this.zoom,nt);this.patternFeatures.push(Gt)}else this.addFeature(Bt,Et,xt,ot,{},nt.availableImages);nt.featureIndex.insert(_e[xt].feature,Et,xt,Wt,this.index)}}update(_e,nt,ot,ut){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_e,nt,this.stateDependentLayers,ot,ut)}addFeatures(_e,nt,ot,ut,ft){for(const mt of this.patternFeatures)this.addFeature(mt,mt.geometry,mt.index,nt,ot,ut)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(_e){this.uploaded||(this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,HB),this.indexBuffer=_e.createIndexBuffer(this.indexArray),this.indexBuffer2=_e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(_e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(_e,nt,ot,ut,ft,mt=[]){for(const Bt of Bv(nt,500)){let Et=0;for(const Fn of Bt)Et+=Fn.length;const xt=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray),Wt=xt.vertexLength,Gt=[],Xt=[];for(const Fn of Bt){if(Fn.length===0)continue;Fn!==Bt[0]&&Xt.push(Gt.length/2);const Sn=this.segments2.prepareSegment(Fn.length,this.layoutVertexArray,this.indexArray2),Mn=Sn.vertexLength;this.layoutVertexArray.emplaceBack(Fn[0].x,Fn[0].y),this.indexArray2.emplaceBack(Mn+Fn.length-1,Mn),Gt.push(Fn[0].x),Gt.push(Fn[0].y);for(let Kn=1;Kn<Fn.length;Kn++)this.layoutVertexArray.emplaceBack(Fn[Kn].x,Fn[Kn].y),this.indexArray2.emplaceBack(Mn+Kn-1,Mn+Kn),Gt.push(Fn[Kn].x),Gt.push(Fn[Kn].y);Sn.vertexLength+=Fn.length,Sn.primitiveLength+=Fn.length}const pn=lU.exports(Gt,Xt);for(let Fn=0;Fn<pn.length;Fn+=3)this.indexArray.emplaceBack(Wt+pn[Fn],Wt+pn[Fn+1],Wt+pn[Fn+2]);xt.vertexLength+=Et,xt.primitiveLength+=pn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_e,ot,ft,mt,ut)}}yo(gF,"FillBucket",{omit:["layers","patternFeatures"]});const sR=new ro({"fill-sort-key":new gr(Dr.layout_fill["fill-sort-key"])});var aR={paint:new ro({"fill-antialias":new Qr(Dr.paint_fill["fill-antialias"]),"fill-opacity":new gr(Dr.paint_fill["fill-opacity"]),"fill-color":new gr(Dr.paint_fill["fill-color"]),"fill-outline-color":new gr(Dr.paint_fill["fill-outline-color"]),"fill-translate":new Qr(Dr.paint_fill["fill-translate"]),"fill-translate-anchor":new Qr(Dr.paint_fill["fill-translate-anchor"]),"fill-pattern":new co(Dr.paint_fill["fill-pattern"])}),layout:sR};const lR=io([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),cR=io([{name:"a_centroid_pos",components:2,type:"Uint16"}]),M1=io([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:D1}=lR;var mF={},uR=St,I1=a_;function a_(tt,_e,nt,ot,ut){this.properties={},this.extent=nt,this.type=0,this._pbf=tt,this._geometry=-1,this._keys=ot,this._values=ut,tt.readFields(yF,this,_e)}function yF(tt,_e,nt){tt==1?_e.id=nt.readVarint():tt==2?function(ot,ut){for(var ft=ot.readVarint()+ot.pos;ot.pos<ft;){var mt=ut._keys[ot.readVarint()],Bt=ut._values[ot.readVarint()];ut.properties[mt]=Bt}}(nt,_e):tt==3?_e.type=nt.readVarint():tt==4&&(_e._geometry=nt.pos)}function hR(tt){for(var _e,nt,ot=0,ut=0,ft=tt.length,mt=ft-1;ut<ft;mt=ut++)ot+=((nt=tt[mt]).x-(_e=tt[ut]).x)*(_e.y+nt.y);return ot}a_.types=["Unknown","Point","LineString","Polygon"],a_.prototype.loadGeometry=function(){var tt=this._pbf;tt.pos=this._geometry;for(var _e,nt=tt.readVarint()+tt.pos,ot=1,ut=0,ft=0,mt=0,Bt=[];tt.pos<nt;){if(ut<=0){var Et=tt.readVarint();ot=7&Et,ut=Et>>3}if(ut--,ot===1||ot===2)ft+=tt.readSVarint(),mt+=tt.readSVarint(),ot===1&&(_e&&Bt.push(_e),_e=[]),_e.push(new uR(ft,mt));else{if(ot!==7)throw new Error("unknown command "+ot);_e&&_e.push(_e[0].clone())}}return _e&&Bt.push(_e),Bt},a_.prototype.bbox=function(){var tt=this._pbf;tt.pos=this._geometry;for(var _e=tt.readVarint()+tt.pos,nt=1,ot=0,ut=0,ft=0,mt=1/0,Bt=-1/0,Et=1/0,xt=-1/0;tt.pos<_e;){if(ot<=0){var Wt=tt.readVarint();nt=7&Wt,ot=Wt>>3}if(ot--,nt===1||nt===2)(ut+=tt.readSVarint())<mt&&(mt=ut),ut>Bt&&(Bt=ut),(ft+=tt.readSVarint())<Et&&(Et=ft),ft>xt&&(xt=ft);else if(nt!==7)throw new Error("unknown command "+nt)}return[mt,Et,Bt,xt]},a_.prototype.toGeoJSON=function(tt,_e,nt){var ot,ut,ft=this.extent*Math.pow(2,nt),mt=this.extent*tt,Bt=this.extent*_e,Et=this.loadGeometry(),xt=a_.types[this.type];function Wt(pn){for(var Fn=0;Fn<pn.length;Fn++){var Sn=pn[Fn];pn[Fn]=[360*(Sn.x+mt)/ft-180,360/Math.PI*Math.atan(Math.exp((180-360*(Sn.y+Bt)/ft)*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(ot=0;ot<Et.length;ot++)Gt[ot]=Et[ot][0];Wt(Et=Gt);break;case 2:for(ot=0;ot<Et.length;ot++)Wt(Et[ot]);break;case 3:for(Et=function(pn){var Fn=pn.length;if(Fn<=1)return[pn];for(var Sn,Mn,Kn=[],lr=0;lr<Fn;lr++){var qn=hR(pn[lr]);qn!==0&&(Mn===void 0&&(Mn=qn<0),Mn===qn<0?(Sn&&Kn.push(Sn),Sn=[pn[lr]]):Sn.push(pn[lr]))}return Sn&&Kn.push(Sn),Kn}(Et),ot=0;ot<Et.length;ot++)for(ut=0;ut<Et[ot].length;ut++)Wt(Et[ot][ut])}Et.length===1?Et=Et[0]:xt="Multi"+xt;var Xt={type:"Feature",geometry:{type:xt,coordinates:Et},properties:this.properties};return"id"in this&&(Xt.id=this.id),Xt};var dR=I1,J1=W1;function W1(tt,_e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=tt,this._keys=[],this._values=[],this._features=[],tt.readFields(fR,this,_e),this.length=this._features.length}function fR(tt,_e,nt){tt===15?_e.version=nt.readVarint():tt===1?_e.name=nt.readString():tt===5?_e.extent=nt.readVarint():tt===2?_e._features.push(nt.pos):tt===3?_e._keys.push(nt.readString()):tt===4&&_e._values.push(function(ot){for(var ut=null,ft=ot.readVarint()+ot.pos;ot.pos<ft;){var mt=ot.readVarint()>>3;ut=mt===1?ot.readString():mt===2?ot.readFloat():mt===3?ot.readDouble():mt===4?ot.readVarint64():mt===5?ot.readVarint():mt===6?ot.readSVarint():mt===7?ot.readBoolean():null}return ut}(nt))}W1.prototype.feature=function(tt){if(tt<0||tt>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[tt];var _e=this._pbf.readVarint()+this._pbf.pos;return new dR(this._pbf,_e,this.extent,this._keys,this._values)};var pR=J1;function gR(tt,_e,nt){if(tt===3){var ot=new pR(nt,nt.readVarint()+nt.pos);ot.length&&(_e[ot.name]=ot)}}var Sv=mF.VectorTile=function(tt,_e){this.layers=tt.readFields(gR,{},_e)},_F=mF.VectorTileFeature=I1;function UF(tt,_e,nt,ot){const ut=[],ft=ot===0?(mt,Bt,Et,xt,Wt,Gt)=>{mt.push(new St(Gt,Et+(Gt-Bt)/(xt-Bt)*(Wt-Et)))}:(mt,Bt,Et,xt,Wt,Gt)=>{mt.push(new St(Bt+(Gt-Et)/(Wt-Et)*(xt-Bt),Gt))};for(const mt of tt){const Bt=[];for(const Et of mt){if(Et.length<=2)continue;const xt=[];for(let Xt=0;Xt<Et.length-1;Xt++){const pn=Et[Xt].x,Fn=Et[Xt].y,Sn=Et[Xt+1].x,Mn=Et[Xt+1].y,Kn=ot===0?pn:Fn,lr=ot===0?Sn:Mn;Kn<_e?lr>_e&&ft(xt,pn,Fn,Sn,Mn,_e):Kn>nt?lr<nt&&ft(xt,pn,Fn,Sn,Mn,nt):xt.push(Et[Xt]),lr<_e&&Kn>=_e&&ft(xt,pn,Fn,Sn,Mn,_e),lr>nt&&Kn<=nt&&ft(xt,pn,Fn,Sn,Mn,nt)}let Wt=Et[Et.length-1];const Gt=ot===0?Wt.x:Wt.y;Gt>=_e&&Gt<=nt&&xt.push(Wt),xt.length&&(Wt=xt[xt.length-1],xt[0].x===Wt.x&&xt[0].y===Wt.y||xt.push(xt[0]),Bt.push(xt))}Bt.length&&ut.push(Bt)}return ut}mF.VectorTileLayer=J1;const mR=_F.types,FF=Math.pow(2,13);function fU(tt,_e,nt,ot,ut,ft,mt,Bt){tt.emplaceBack((_e<<1)+mt,(nt<<1)+ft,(Math.floor(ot*FF)<<1)+ut,Math.round(Bt))}function l_(tt,_e,nt){tt.emplaceBack(_e.x,_e.y,_e.z,nt[0]*16384,nt[1]*16384,nt[2]*16384)}class Ev{constructor(){this.acc=new St(0,0),this.polyCount=[]}startRing(_e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new St(_e.x,_e.y),this.max=new St(_e.x,_e.y))}append(_e,nt){this.currentPolyCount.edges++,this.acc._add(_e);const ot=this.min,ut=this.max;_e.x<ot.x?ot.x=_e.x:_e.x>ut.x&&(ut.x=_e.x),_e.y<ot.y?ot.y=_e.y:_e.y>ut.y&&(ut.y=_e.y),((_e.x===0||_e.x===Lo)&&_e.x===nt.x)!=((_e.y===0||_e.y===Lo)&&_e.y===nt.y)&&this.processBorderOverlap(_e,nt),nt.x<0!=_e.x<0&&this.addBorderIntersection(0,_s(nt.y,_e.y,(0-nt.x)/(_e.x-nt.x))),nt.x>Lo!=_e.x>Lo&&this.addBorderIntersection(1,_s(nt.y,_e.y,(Lo-nt.x)/(_e.x-nt.x))),nt.y<0!=_e.y<0&&this.addBorderIntersection(2,_s(nt.x,_e.x,(0-nt.y)/(_e.y-nt.y))),nt.y>Lo!=_e.y>Lo&&this.addBorderIntersection(3,_s(nt.x,_e.x,(Lo-nt.y)/(_e.y-nt.y)))}addBorderIntersection(_e,nt){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const ot=this.borders[_e];nt<ot[0]&&(ot[0]=nt),nt>ot[1]&&(ot[1]=nt)}processBorderOverlap(_e,nt){if(_e.x===nt.x){if(_e.y===nt.y)return;const ot=_e.x===0?0:1;this.addBorderIntersection(ot,nt.y),this.addBorderIntersection(ot,_e.y)}else{const ot=_e.y===0?2:3;this.addBorderIntersection(ot,nt.x),this.addBorderIntersection(ot,_e.x)}}centroid(){const _e=this.polyCount.reduce((nt,ot)=>nt+ot.edges,0);return _e!==0?this.acc.div(_e)._round():new St(0,0)}span(){return new St(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((_e,nt)=>_e+ +(nt[0]!==Number.MAX_VALUE),0)}}class fy{constructor(_e){this.zoom=_e.zoom,this.canonical=_e.canonical,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map(nt=>nt.id),this.index=_e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=_e.projection,this.layoutVertexArray=new Ds,this.centroidVertexArray=new YU,this.indexArray=new Xl,this.programConfigurations=new Tp(_e.layers,_e.zoom),this.segments=new Nl,this.stateDependentLayerIds=this.layers.filter(nt=>nt.isStateDependent()).map(nt=>nt.id),this.enableTerrain=_e.enableTerrain}populate(_e,nt,ot,ut){this.features=[],this.hasPattern=Rv("fill-extrusion",this.layers,nt),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(ft){const mt=Math.exp(Math.PI*(1-ft.y/(1<<ft.z)*2));return 80150034*mt/(mt*mt+1)/Lo/(1<<ft.z)}(ot),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:ft,id:mt,index:Bt,sourceLayerIndex:Et}of _e){const xt=this.layers[0]._featureFilter.needGeometry,Wt=cy(ft,xt);if(!this.layers[0]._featureFilter.filter(new $n(this.zoom),Wt,ot))continue;const Gt={id:mt,sourceLayerIndex:Et,index:Bt,geometry:xt?Wt.geometry:Tu(ft,ot,ut),properties:ft.properties,type:ft.type,patterns:{}},Xt=this.layoutVertexArray.length;this.hasPattern?this.features.push(Qv("fill-extrusion",this.layers,Gt,this.zoom,nt)):this.addFeature(Gt,Gt.geometry,Bt,ot,{},nt.availableImages,ut),nt.featureIndex.insert(ft,Gt.geometry,Bt,Et,this.index,Xt)}this.sortBorders()}addFeatures(_e,nt,ot,ut,ft){for(const mt of this.features){const{geometry:Bt}=mt;this.addFeature(mt,Bt,mt.index,nt,ot,ut,ft)}this.sortBorders()}update(_e,nt,ot,ut){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_e,nt,this.stateDependentLayers,ot,ut)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(_e){this.uploaded||(this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,D1),this.indexBuffer=_e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=_e.createVertexBuffer(this.layoutVertexExtArray,M1.members,!0))),this.programConfigurations.upload(_e),this.uploaded=!0}uploadCentroid(_e){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=_e.createVertexBuffer(this.centroidVertexArray,cR.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(_e,nt,ot,ut,ft,mt,Bt){const Et=[new St(0,0),new St(Lo,Lo)],xt=Bt.projection,Wt=xt.name==="globe",Gt=this.enableTerrain&&!Wt?new Ev:null,Xt=mR[_e.type]==="Polygon";Wt&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new hp);const pn=Bv(nt,500);for(let Kn=pn.length-1;Kn>=0;Kn--){const lr=pn[Kn];(lr.length===0||(Fn=lr[0]).every(qn=>qn.x<=0)||Fn.every(qn=>qn.x>=Lo)||Fn.every(qn=>qn.y<=0)||Fn.every(qn=>qn.y>=Lo))&&pn.splice(Kn,1)}var Fn;let Sn;if(Wt)Sn=pU(pn,Et,ut);else{Sn=[];for(const Kn of pn)Sn.push({polygon:Kn,bounds:Et})}const Mn=Xt?this.edgeRadius:0;for(const{polygon:Kn,bounds:lr}of Sn){let qn=0,nr=0;for(const rr of Kn)Xt&&!rr[0].equals(rr[rr.length-1])&&rr.push(rr[0]),nr+=Xt?rr.length-1:rr.length;const fr=this.segments.prepareSegment((Xt?5:4)*nr,this.layoutVertexArray,this.indexArray);if(Xt){const rr=[],xr=[];qn=fr.vertexLength;for(const Wr of Kn){let Kr,Cr;Wr.length&&Wr!==Kn[0]&&xr.push(rr.length/2),Kr=Wr[1].sub(Wr[0])._perp()._unit();for(let zr=1;zr<Wr.length;zr++){const jr=Wr[zr],Yr=Wr[zr===Wr.length-1?1:zr+1];let{x:eo,y:Vr}=jr;if(Mn){Cr=Yr.sub(jr)._perp()._unit();const uo=Kr.add(Cr)._unit(),Jo=Mn*Math.min(4,1/(Kr.x*uo.x+Kr.y*uo.y));eo+=Jo*uo.x,Vr+=Jo*uo.y,Kr=Cr}fU(this.layoutVertexArray,eo,Vr,0,0,1,1,0),fr.vertexLength++,rr.push(jr.x,jr.y),Wt&&l_(this.layoutVertexExtArray,xt.projectTilePoint(eo,Vr,ut),xt.upVector(ut,eo,Vr))}}const Er=lU.exports(rr,xr);for(let Wr=0;Wr<Er.length;Wr+=3)this.indexArray.emplaceBack(qn+Er[Wr],qn+Er[Wr+2],qn+Er[Wr+1]),fr.primitiveLength++}for(const rr of Kn){Gt&&rr.length&&Gt.startRing(rr[0]);let xr,Er,Wr,Kr=rr.length>4&&L1(rr[rr.length-2],rr[0],rr[1]),Cr=Mn?O1(rr[rr.length-2],rr[0],rr[1],Mn):0;Er=rr[1].sub(rr[0])._perp()._unit();let zr=!0;for(let jr=1,Yr=0;jr<rr.length;jr++){let eo=rr[jr-1],Vr=rr[jr];const uo=rr[jr===rr.length-1?1:jr+1];if(Gt&&Xt&&Gt.currentPolyCount.top++,Tv(Vr,eo,lr)){Mn&&(Er=uo.sub(Vr)._perp()._unit(),zr=!zr);continue}Gt&&Gt.append(Vr,eo);const Jo=Vr.sub(eo)._perp(),po=Jo.x/(Math.abs(Jo.x)+Math.abs(Jo.y)),So=Jo.y>0?1:0,fo=eo.dist(Vr);if(Yr+fo>32768&&(Yr=0),Mn){Wr=uo.sub(Vr)._perp()._unit();let Es=xv(eo,Vr,uo,wv(Er,Wr),Mn);isNaN(Es)&&(Es=0);const $o=Vr.sub(eo)._unit();eo=eo.add($o.mult(Cr))._round(),Vr=Vr.add($o.mult(-Es))._round(),Cr=Es,Er=Wr}const Zo=fr.vertexLength,Ko=rr.length>4&&L1(eo,Vr,uo);let is=P1(Yr,Kr,zr);if(fU(this.layoutVertexArray,eo.x,eo.y,po,So,0,0,is),fU(this.layoutVertexArray,eo.x,eo.y,po,So,0,1,is),Yr+=fo,is=P1(Yr,Ko,!zr),Kr=Ko,fU(this.layoutVertexArray,Vr.x,Vr.y,po,So,0,0,is),fU(this.layoutVertexArray,Vr.x,Vr.y,po,So,0,1,is),fr.vertexLength+=4,this.indexArray.emplaceBack(Zo+0,Zo+1,Zo+2),this.indexArray.emplaceBack(Zo+1,Zo+3,Zo+2),fr.primitiveLength+=2,Mn){const Es=qn+(jr===1?rr.length-2:jr-2),$o=jr===1?qn:Es+1;if(this.indexArray.emplaceBack(Zo+1,Es,Zo+3),this.indexArray.emplaceBack(Es,$o,Zo+3),fr.primitiveLength+=2,xr===void 0&&(xr=Zo),!Tv(uo,rr[jr],lr)){const xa=jr===rr.length-1?xr:fr.vertexLength;this.indexArray.emplaceBack(Zo+2,Zo+3,xa),this.indexArray.emplaceBack(Zo+3,xa+1,xa),this.indexArray.emplaceBack(Zo+3,$o,xa+1),fr.primitiveLength+=3}zr=!zr}if(Wt){const Es=this.layoutVertexExtArray,$o=xt.projectTilePoint(eo.x,eo.y,ut),xa=xt.projectTilePoint(Vr.x,Vr.y,ut),us=xt.upVector(ut,eo.x,eo.y),ms=xt.upVector(ut,Vr.x,Vr.y);l_(Es,$o,us),l_(Es,$o,us),l_(Es,xa,ms),l_(Es,xa,ms)}}Xt&&(qn+=rr.length-1)}}if(Gt&&Gt.polyCount.length>0){if(Gt.borders){Gt.vertexArrayOffset=this.centroidVertexArray.length;const Kn=Gt.borders,lr=this.featuresOnBorder.push(Gt)-1;for(let qn=0;qn<4;qn++)Kn[qn][0]!==Number.MAX_VALUE&&this.borders[qn].push(lr)}this.encodeCentroid(Gt.borders?void 0:Gt.centroid(),Gt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_e,ot,ft,mt,ut)}sortBorders(){for(let _e=0;_e<4;_e++)this.borders[_e].sort((nt,ot)=>this.featuresOnBorder[nt].borders[_e][0]-this.featuresOnBorder[ot].borders[_e][0])}encodeCentroid(_e,nt,ot=!0){let ut,ft;if(_e)if(_e.y!==0){const Bt=nt.span()._mult(this.tileToMeter);ut=(Math.max(_e.x,1)<<3)+Math.min(7,Math.round(Bt.x/10)),ft=(Math.max(_e.y,1)<<3)+Math.min(7,Math.round(Bt.y/10))}else ut=Math.ceil(7*(_e.x+450)),ft=0;else ut=0,ft=+ot;let mt=ot?this.centroidVertexArray.length:nt.vertexArrayOffset;for(const Bt of nt.polyCount){ot&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*Bt.edges+Bt.top);for(let Et=0;Et<Bt.top;Et++)this.centroidVertexArray.emplace(mt++,ut,ft);for(let Et=0;Et<2*Bt.edges;Et++)this.centroidVertexArray.emplace(mt++,0,ft),this.centroidVertexArray.emplace(mt++,ut,ft)}}}function wv(tt,_e){const nt=tt.add(_e)._unit();return tt.x*nt.x+tt.y*nt.y}function O1(tt,_e,nt,ot){const ut=_e.sub(tt)._perp()._unit(),ft=nt.sub(_e)._perp()._unit();return xv(tt,_e,nt,wv(ut,ft),ot)}function xv(tt,_e,nt,ot,ut){const ft=Math.sqrt(1-ot*ot);return Math.min(tt.dist(_e)/3,_e.dist(nt)/3,ut*ft/ot)}function Tv(tt,_e,nt){return tt.x<nt[0].x&&_e.x<nt[0].x||tt.x>nt[1].x&&_e.x>nt[1].x||tt.y<nt[0].y&&_e.y<nt[0].y||tt.y>nt[1].y&&_e.y>nt[1].y}function L1(tt,_e,nt){if(tt.x<0||tt.x>=Lo||_e.x<0||_e.x>=Lo||nt.x<0||nt.x>=Lo)return!1;const ot=nt.sub(_e),ut=ot.perp(),ft=tt.sub(_e);return(ot.x*ft.x+ot.y*ft.y)/Math.sqrt((ot.x*ot.x+ot.y*ot.y)*(ft.x*ft.x+ft.y*ft.y))>-.866&&ut.x*ft.x+ut.y*ft.y<0}function P1(tt,_e,nt){const ot=_e?2|tt:-3&tt;return nt?1|ot:-2&ot}function Z1(){const tt=Math.PI/32,_e=Math.tan(tt),nt=tU;return nt*Math.sqrt(1+2*_e*_e)-nt}function pU(tt,_e,nt){const ot=1<<nt.z,ut=fp(nt.x/ot),ft=fp((nt.x+1)/ot),mt=$l(nt.y/ot),Bt=$l((nt.y+1)/ot);return function(Et,xt,Wt,Gt,Xt=0,pn){const Fn=[];if(!Et.length||!Wt||!Gt)return Fn;const Sn=(rr,xr)=>{for(const Er of rr)Fn.push({polygon:Er,bounds:xr})},Mn=Math.ceil(Math.log2(Wt)),Kn=Math.ceil(Math.log2(Gt)),lr=Mn-Kn,qn=[];for(let rr=0;rr<Math.abs(lr);rr++)qn.push(lr>0?0:1);for(let rr=0;rr<Math.min(Mn,Kn);rr++)qn.push(0),qn.push(1);let nr=Et;if(nr=UF(nr,xt[0].y-Xt,xt[1].y+Xt,1),nr=UF(nr,xt[0].x-Xt,xt[1].x+Xt,0),!nr.length)return Fn;const fr=[];for(qn.length?fr.push({polygons:nr,bounds:xt,depth:0}):Sn(nr,xt);fr.length;){const rr=fr.pop(),xr=rr.depth,Er=qn[xr],Wr=rr.bounds[0],Kr=rr.bounds[1],Cr=Er===0?Wr.x:Wr.y,zr=Er===0?Kr.x:Kr.y,jr=pn?pn(Er,Cr,zr):.5*(Cr+zr),Yr=UF(rr.polygons,Cr-Xt,jr+Xt,Er),eo=UF(rr.polygons,jr-Xt,zr+Xt,Er);if(Yr.length){const Vr=[Wr,new St(Er===0?jr:Kr.x,Er===1?jr:Kr.y)];qn.length>xr+1?fr.push({polygons:Yr,bounds:Vr,depth:xr+1}):Sn(Yr,Vr)}if(eo.length){const Vr=[new St(Er===0?jr:Wr.x,Er===1?jr:Wr.y),Kr];qn.length>xr+1?fr.push({polygons:eo,bounds:Vr,depth:xr+1}):Sn(eo,Vr)}}return Fn}(tt,_e,Math.ceil((ft-ut)/11.25),Math.ceil((mt-Bt)/11.25),1,(Et,xt,Wt)=>{if(Et===0)return .5*(xt+Wt);{const Gt=$l((nt.y+xt/Lo)/ot);return(em(.5*($l((nt.y+Wt/Lo)/ot)+Gt))*ot-nt.y)*Lo}})}yo(fy,"FillExtrusionBucket",{omit:["layers","features"]}),yo(Ev,"PartMetadata");const vF=new ro({"fill-extrusion-edge-radius":new Qr(Dr["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var yR={paint:new ro({"fill-extrusion-opacity":new Qr(Dr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new gr(Dr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qr(Dr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qr(Dr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new co(Dr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new gr(Dr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new gr(Dr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qr(Dr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Qr(Dr["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Qr(Dr["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:vF};function j1(tt,_e,nt){var ot=2*Math.PI*6378137/256/Math.pow(2,nt);return[tt*ot-2*Math.PI*6378137/2,_e*ot-2*Math.PI*6378137/2]}class c_{constructor(_e,nt,ot){this.z=_e,this.x=nt,this.y=ot,this.key=gU(0,_e,_e,nt,ot)}equals(_e){return this.z===_e.z&&this.x===_e.x&&this.y===_e.y}url(_e,nt){const ot=function(ft,mt,Bt){var Et=j1(256*ft,256*(mt=Math.pow(2,Bt)-mt-1),Bt),xt=j1(256*(ft+1),256*(mt+1),Bt);return Et[0]+","+Et[1]+","+xt[0]+","+xt[1]}(this.x,this.y,this.z),ut=function(ft,mt,Bt){let Et,xt="";for(let Wt=ft;Wt>0;Wt--)Et=1<<Wt-1,xt+=(mt&Et?1:0)+(Bt&Et?2:0);return xt}(this.z,this.x,this.y);return _e[(this.x+this.y)%_e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(nt==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ut).replace("{bbox-epsg-3857}",ot)}toString(){return`${this.z}/${this.x}/${this.y}`}}class kv{constructor(_e,nt){this.wrap=_e,this.canonical=nt,this.key=gU(_e,nt.z,nt.z,nt.x,nt.y)}}class Qu{constructor(_e,nt,ot,ut,ft){this.overscaledZ=_e,this.wrap=nt,this.canonical=new c_(ot,+ut,+ft),this.key=nt===0&&_e===ot?this.canonical.key:gU(nt,_e,ot,ut,ft)}equals(_e){return this.overscaledZ===_e.overscaledZ&&this.wrap===_e.wrap&&this.canonical.equals(_e.canonical)}scaledTo(_e){const nt=this.canonical.z-_e;return _e>this.canonical.z?new Qu(_e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Qu(_e,this.wrap,_e,this.canonical.x>>nt,this.canonical.y>>nt)}calculateScaledKey(_e,nt=!0){if(this.overscaledZ===_e&&nt)return this.key;if(_e>this.canonical.z)return gU(this.wrap*+nt,_e,this.canonical.z,this.canonical.x,this.canonical.y);{const ot=this.canonical.z-_e;return gU(this.wrap*+nt,_e,_e,this.canonical.x>>ot,this.canonical.y>>ot)}}isChildOf(_e){if(_e.wrap!==this.wrap)return!1;const nt=this.canonical.z-_e.canonical.z;return _e.overscaledZ===0||_e.overscaledZ<this.overscaledZ&&_e.canonical.x===this.canonical.x>>nt&&_e.canonical.y===this.canonical.y>>nt}children(_e){if(this.overscaledZ>=_e)return[new Qu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const nt=this.canonical.z+1,ot=2*this.canonical.x,ut=2*this.canonical.y;return[new Qu(nt,this.wrap,nt,ot,ut),new Qu(nt,this.wrap,nt,ot+1,ut),new Qu(nt,this.wrap,nt,ot,ut+1),new Qu(nt,this.wrap,nt,ot+1,ut+1)]}isLessThan(_e){return this.wrap<_e.wrap||!(this.wrap>_e.wrap)&&(this.overscaledZ<_e.overscaledZ||!(this.overscaledZ>_e.overscaledZ)&&(this.canonical.x<_e.canonical.x||!(this.canonical.x>_e.canonical.x)&&this.canonical.y<_e.canonical.y))}wrapped(){return new Qu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(_e){return new Qu(this.overscaledZ,_e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new kv(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function gU(tt,_e,nt,ot,ut){const ft=1<<Math.min(nt,22);let mt=ft*(ut%ft)+ot%ft;return tt&&nt<22&&(mt+=ft*ft*((tt<0?-2*tt-1:2*tt)%(1<<2*(22-nt)))),16*(32*mt+nt)+(_e-nt)}yo(c_,"CanonicalTileID"),yo(Qu,"OverscaledTileID",{omit:["projMatrix"]});class u_ extends St{constructor(_e,nt,ot){super(_e,nt),this.z=ot}}function mU(tt,_e){return tt.x*_e.x+tt.y*_e.y}function G1(tt,_e){if(tt.length===1){let nt=0;const ot=_e[nt++];let ut;for(;!ut||ot.equals(ut);)if(ut=_e[nt++],!ut)return 1/0;for(;nt<_e.length;nt++){const ft=_e[nt],mt=tt[0],Bt=ut.sub(ot),Et=ft.sub(ot),xt=mt.sub(ot),Wt=mU(Bt,Bt),Gt=mU(Bt,Et),Xt=mU(Et,Et),pn=mU(xt,Bt),Fn=mU(xt,Et),Sn=Wt*Xt-Gt*Gt,Mn=(Xt*pn-Gt*Fn)/Sn,Kn=(Wt*Fn-Gt*pn)/Sn,lr=ot.z*(1-Mn-Kn)+ut.z*Mn+ft.z*Kn;if(isFinite(lr))return lr}return 1/0}{let nt=1/0;for(const ot of _e)nt=Math.min(nt,ot.z);return nt}}function H1(tt,_e,nt,ot,ut,ft,mt,Bt){const Et=mt*ut.getElevationAt(tt,_e,!0,!0),xt=ft[0]!==0,Wt=xt?ft[1]===0?mt*(ft[0]/7-450):mt*function(Gt,Xt,pn){const Fn=Math.floor(Xt[0]/8),Sn=Math.floor(Xt[1]/8),Mn=10*(Xt[0]-8*Fn),Kn=10*(Xt[1]-8*Sn),lr=Gt.getElevationAt(Fn,Sn,!0,!0),qn=Gt.getMeterToDEM(pn),nr=Math.floor(.5*(Mn*qn-1)),fr=Math.floor(.5*(Kn*qn-1)),rr=Gt.tileCoordToPixel(Fn,Sn),xr=2*nr+1,Er=2*fr+1,Wr=function(eo,Vr,uo,Jo,po){return[eo.getElevationAtPixel(Vr,uo,!0),eo.getElevationAtPixel(Vr+po,uo,!0),eo.getElevationAtPixel(Vr,uo+po,!0),eo.getElevationAtPixel(Vr+Jo,uo+po,!0)]}(Gt,rr.x-nr,rr.y-fr,xr,Er),Kr=Math.abs(Wr[0]-Wr[1]),Cr=Math.abs(Wr[2]-Wr[3]),zr=Math.abs(Wr[0]-Wr[2])+Math.abs(Wr[1]-Wr[3]),jr=Math.min(.25,.5*qn*(Kr+Cr)/xr),Yr=Math.min(.25,.5*qn*zr/Er);return lr+Math.max(jr*Mn,Yr*Kn)}(ut,ft,Bt):Et;return{base:Et+(nt===0)?-1:nt,top:xt?Math.max(Wt+ot,Et+nt+2):Et+ot}}const _R=io([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:UR}=_R,FR=io([{name:"a_packed",components:4,type:"Float32"}]),{members:vR}=FR,bR=_F.types,BR=Math.cos(Math.PI/180*37.5);class Ku{constructor(_e){this.zoom=_e.zoom,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map(nt=>nt.id),this.index=_e.index,this.projection=_e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(nt=>{this.gradients[nt.id]={}}),this.layoutVertexArray=new Ts,this.layoutVertexArray2=new Vl,this.indexArray=new Xl,this.programConfigurations=new Tp(_e.layers,_e.zoom),this.segments=new Nl,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(nt=>nt.isStateDependent()).map(nt=>nt.id)}populate(_e,nt,ot,ut){this.hasPattern=Rv("line",this.layers,nt);const ft=this.layers[0].layout.get("line-sort-key"),mt=[];for(const{feature:Wt,id:Gt,index:Xt,sourceLayerIndex:pn}of _e){const Fn=this.layers[0]._featureFilter.needGeometry,Sn=cy(Wt,Fn);if(!this.layers[0]._featureFilter.filter(new $n(this.zoom),Sn,ot))continue;const Mn=ft?ft.evaluate(Sn,{},ot):void 0,Kn={id:Gt,properties:Wt.properties,type:Wt.type,sourceLayerIndex:pn,index:Xt,geometry:Fn?Sn.geometry:Tu(Wt,ot,ut),patterns:{},sortKey:Mn};mt.push(Kn)}ft&&mt.sort((Wt,Gt)=>Wt.sortKey-Gt.sortKey);const{lineAtlas:Bt,featureIndex:Et}=nt,xt=this.addConstantDashes(Bt);for(const Wt of mt){const{geometry:Gt,index:Xt,sourceLayerIndex:pn}=Wt;if(xt&&this.addFeatureDashes(Wt,Bt),this.hasPattern){const Fn=Qv("line",this.layers,Wt,this.zoom,nt);this.patternFeatures.push(Fn)}else this.addFeature(Wt,Gt,Xt,ot,Bt.positions,nt.availableImages);Et.insert(_e[Xt].feature,Gt,Xt,pn,this.index)}}addConstantDashes(_e){let nt=!1;for(const ot of this.layers){const ut=ot.paint.get("line-dasharray").value,ft=ot.layout.get("line-cap").value;if(ut.kind!=="constant"||ft.kind!=="constant")nt=!0;else{const mt=ft.value,Bt=ut.value;if(!Bt)continue;_e.addDash(Bt.from,mt),_e.addDash(Bt.to,mt),Bt.other&&_e.addDash(Bt.other,mt)}}return nt}addFeatureDashes(_e,nt){const ot=this.zoom;for(const ut of this.layers){const ft=ut.paint.get("line-dasharray").value,mt=ut.layout.get("line-cap").value;if(ft.kind==="constant"&&mt.kind==="constant")continue;let Bt,Et,xt,Wt,Gt,Xt;if(ft.kind==="constant"){const Mn=ft.value;if(!Mn)continue;Bt=Mn.other||Mn.to,Et=Mn.to,xt=Mn.from}else Bt=ft.evaluate({zoom:ot-1},_e),Et=ft.evaluate({zoom:ot},_e),xt=ft.evaluate({zoom:ot+1},_e);mt.kind==="constant"?Wt=Gt=Xt=mt.value:(Wt=mt.evaluate({zoom:ot-1},_e),Gt=mt.evaluate({zoom:ot},_e),Xt=mt.evaluate({zoom:ot+1},_e)),nt.addDash(Bt,Wt),nt.addDash(Et,Gt),nt.addDash(xt,Xt);const pn=nt.getKey(Bt,Wt),Fn=nt.getKey(Et,Gt),Sn=nt.getKey(xt,Xt);_e.patterns[ut.id]={min:pn,mid:Fn,max:Sn}}}update(_e,nt,ot,ut){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_e,nt,this.stateDependentLayers,ot,ut)}addFeatures(_e,nt,ot,ut,ft){for(const mt of this.patternFeatures)this.addFeature(mt,mt.geometry,mt.index,nt,ot,ut)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(_e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=_e.createVertexBuffer(this.layoutVertexArray2,vR)),this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,UR),this.indexBuffer=_e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(_e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(_e){if(_e.properties&&_e.properties.hasOwnProperty("mapbox_clip_start")&&_e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+_e.properties.mapbox_clip_start,end:+_e.properties.mapbox_clip_end}}addFeature(_e,nt,ot,ut,ft,mt){const Bt=this.layers[0].layout,Et=Bt.get("line-join").evaluate(_e,{}),xt=Bt.get("line-cap").evaluate(_e,{}),Wt=Bt.get("line-miter-limit"),Gt=Bt.get("line-round-limit");this.lineClips=this.lineFeatureClips(_e);for(const Xt of nt)this.addLine(Xt,_e,Et,xt,Wt,Gt);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_e,ot,ft,mt,ut)}addLine(_e,nt,ot,ut,ft,mt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Kn=0;Kn<_e.length-1;Kn++)this.totalDistance+=_e[Kn].dist(_e[Kn+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const Bt=bR[nt.type]==="Polygon";let Et=_e.length;for(;Et>=2&&_e[Et-1].equals(_e[Et-2]);)Et--;let xt=0;for(;xt<Et-1&&_e[xt].equals(_e[xt+1]);)xt++;if(Et<(Bt?3:2))return;ot==="bevel"&&(ft=1.05);const Wt=this.overscaling<=16?122880/(512*this.overscaling):0,Gt=this.segments.prepareSegment(10*Et,this.layoutVertexArray,this.indexArray);let Xt,pn,Fn,Sn,Mn;this.e1=this.e2=-1,Bt&&(Xt=_e[Et-2],Mn=_e[xt].sub(Xt)._unit()._perp());for(let Kn=xt;Kn<Et;Kn++){if(Fn=Kn===Et-1?Bt?_e[xt+1]:void 0:_e[Kn+1],Fn&&_e[Kn].equals(Fn))continue;Mn&&(Sn=Mn),Xt&&(pn=Xt),Xt=_e[Kn],Mn=Fn?Fn.sub(Xt)._unit()._perp():Sn,Sn=Sn||Mn;let lr=Sn.add(Mn);lr.x===0&&lr.y===0||lr._unit();const qn=Sn.x*Mn.x+Sn.y*Mn.y,nr=lr.x*Mn.x+lr.y*Mn.y,fr=nr!==0?1/nr:1/0,rr=2*Math.sqrt(2-2*nr),xr=nr<BR&&pn&&Fn,Er=Sn.x*Mn.y-Sn.y*Mn.x>0;if(xr&&Kn>xt){const Cr=Xt.dist(pn);if(Cr>2*Wt){const zr=Xt.sub(Xt.sub(pn)._mult(Wt/Cr)._round());this.updateDistance(pn,zr),this.addCurrentVertex(zr,Sn,0,0,Gt),pn=zr}}const Wr=pn&&Fn;let Kr=Wr?ot:Bt?"butt":ut;if(Wr&&Kr==="round"&&(fr<mt?Kr="miter":fr<=2&&(Kr="fakeround")),Kr==="miter"&&fr>ft&&(Kr="bevel"),Kr==="bevel"&&(fr>2&&(Kr="flipbevel"),fr<ft&&(Kr="miter")),pn&&this.updateDistance(pn,Xt),Kr==="miter")lr._mult(fr),this.addCurrentVertex(Xt,lr,0,0,Gt);else if(Kr==="flipbevel"){if(fr>100)lr=Mn.mult(-1);else{const Cr=fr*Sn.add(Mn).mag()/Sn.sub(Mn).mag();lr._perp()._mult(Cr*(Er?-1:1))}this.addCurrentVertex(Xt,lr,0,0,Gt),this.addCurrentVertex(Xt,lr.mult(-1),0,0,Gt)}else if(Kr==="bevel"||Kr==="fakeround"){const Cr=-Math.sqrt(fr*fr-1),zr=Er?Cr:0,jr=Er?0:Cr;if(pn&&this.addCurrentVertex(Xt,Sn,zr,jr,Gt),Kr==="fakeround"){const Yr=Math.round(180*rr/Math.PI/20);for(let eo=1;eo<Yr;eo++){let Vr=eo/Yr;if(Vr!==.5){const Jo=Vr-.5;Vr+=Vr*Jo*(Vr-1)*((1.0904+qn*(qn*(3.55645-1.43519*qn)-3.2452))*Jo*Jo+(.848013+qn*(.215638*qn-1.06021)))}const uo=Mn.sub(Sn)._mult(Vr)._add(Sn)._unit()._mult(Er?-1:1);this.addHalfVertex(Xt,uo.x,uo.y,!1,Er,0,Gt)}}Fn&&this.addCurrentVertex(Xt,Mn,-zr,-jr,Gt)}else if(Kr==="butt")this.addCurrentVertex(Xt,lr,0,0,Gt);else if(Kr==="square"){const Cr=pn?1:-1;pn||this.addCurrentVertex(Xt,lr,Cr,Cr,Gt),this.addCurrentVertex(Xt,lr,0,0,Gt),pn&&this.addCurrentVertex(Xt,lr,Cr,Cr,Gt)}else Kr==="round"&&(pn&&(this.addCurrentVertex(Xt,Sn,0,0,Gt),this.addCurrentVertex(Xt,Sn,1,1,Gt,!0)),Fn&&(this.addCurrentVertex(Xt,Mn,-1,-1,Gt,!0),this.addCurrentVertex(Xt,Mn,0,0,Gt)));if(xr&&Kn<Et-1){const Cr=Xt.dist(Fn);if(Cr>2*Wt){const zr=Xt.add(Fn.sub(Xt)._mult(Wt/Cr)._round());this.updateDistance(Xt,zr),this.addCurrentVertex(zr,Mn,0,0,Gt),Xt=zr}}}}addCurrentVertex(_e,nt,ot,ut,ft,mt=!1){const Bt=nt.y*ut-nt.x,Et=-nt.y-nt.x*ut;this.addHalfVertex(_e,nt.x+nt.y*ot,nt.y-nt.x*ot,mt,!1,ot,ft),this.addHalfVertex(_e,Bt,Et,mt,!0,-ut,ft)}addHalfVertex({x:_e,y:nt},ot,ut,ft,mt,Bt,Et){this.layoutVertexArray.emplaceBack((_e<<1)+(ft?1:0),(nt<<1)+(mt?1:0),Math.round(63*ot)+128,Math.round(63*ut)+128,1+(Bt===0?0:Bt<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const xt=Et.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,xt),Et.primitiveLength++),mt?this.e2=xt:this.e1=xt}updateScaledDistance(){if(this.lineClips){const _e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=_e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(_e,nt){this.distance+=_e.dist(nt),this.updateScaledDistance()}}yo(Ku,"LineBucket",{omit:["layers","patternFeatures"]});const RR=new ro({"line-cap":new gr(Dr.layout_line["line-cap"]),"line-join":new gr(Dr.layout_line["line-join"]),"line-miter-limit":new Qr(Dr.layout_line["line-miter-limit"]),"line-round-limit":new Qr(Dr.layout_line["line-round-limit"]),"line-sort-key":new gr(Dr.layout_line["line-sort-key"])});var Y1={paint:new ro({"line-opacity":new gr(Dr.paint_line["line-opacity"]),"line-color":new gr(Dr.paint_line["line-color"]),"line-translate":new Qr(Dr.paint_line["line-translate"]),"line-translate-anchor":new Qr(Dr.paint_line["line-translate-anchor"]),"line-width":new gr(Dr.paint_line["line-width"]),"line-gap-width":new gr(Dr.paint_line["line-gap-width"]),"line-offset":new gr(Dr.paint_line["line-offset"]),"line-blur":new gr(Dr.paint_line["line-blur"]),"line-dasharray":new co(Dr.paint_line["line-dasharray"]),"line-pattern":new co(Dr.paint_line["line-pattern"]),"line-gradient":new so(Dr.paint_line["line-gradient"]),"line-trim-offset":new Qr(Dr.paint_line["line-trim-offset"])}),layout:RR};const w0=new class extends gr{possiblyEvaluate(tt,_e){return _e=new $n(Math.floor(_e.zoom),{now:_e.now,fadeDuration:_e.fadeDuration,zoomHistory:_e.zoomHistory,transition:_e.transition}),super.possiblyEvaluate(tt,_e)}evaluate(tt,_e,nt,ot){return _e=It({},_e,{zoom:Math.floor(_e.zoom)}),super.evaluate(tt,_e,nt,ot)}}(Y1.paint.properties["line-width"].specification);function fs(tt,_e){return _e>0?_e+2*tt:tt}w0.useIntegerZoom=!0;const QR=io([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),_h=io([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Pl=io([{name:"a_projected_pos",components:4,type:"Float32"}],4);io([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const SR=io([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),x0=io([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);io([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const X1=io([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ER=io([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);io([{name:"triangle",components:3,type:"Uint16"}]),io([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),io([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),io([{type:"Float32",name:"offsetX"}]),io([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ou=24;const Qm=128;function Cv(tt,_e){const{expression:nt}=_e;if(nt.kind==="constant")return{kind:"constant",layoutSize:nt.evaluate(new $n(tt+1))};if(nt.kind==="source")return{kind:"source"};{const{zoomStops:ot,interpolationType:ut}=nt;let ft=0;for(;ft<ot.length&&ot[ft]<=tt;)ft++;ft=Math.max(0,ft-1);let mt=ft;for(;mt<ot.length&&ot[mt]<tt+1;)mt++;mt=Math.min(ot.length-1,mt);const Bt=ot[ft],Et=ot[mt];return nt.kind==="composite"?{kind:"composite",minZoom:Bt,maxZoom:Et,interpolationType:ut}:{kind:"camera",minZoom:Bt,maxZoom:Et,minSize:nt.evaluate(new $n(Bt)),maxSize:nt.evaluate(new $n(Et)),interpolationType:ut}}}function h_(tt,{uSize:_e,uSizeT:nt},{lowerSize:ot,upperSize:ut}){return tt.kind==="source"?ot/Qm:tt.kind==="composite"?_s(ot/Qm,ut/Qm,nt):_e}function d_(tt,_e){let nt=0,ot=0;if(tt.kind==="constant")ot=tt.layoutSize;else if(tt.kind!=="source"){const{interpolationType:ut,minZoom:ft,maxZoom:mt}=tt,Bt=ut?Kt(Up.interpolationFactor(ut,_e,ft,mt),0,1):0;tt.kind==="camera"?ot=_s(tt.minSize,tt.maxSize,Bt):nt=Bt}return{uSizeT:nt,uSize:ot}}var jm=Object.freeze({__proto__:null,getSizeData:Cv,evaluateSizeForFeature:h_,evaluateSizeForZoom:d_,SIZE_PACK_FACTOR:Qm});function q1(tt,_e,nt){return tt.sections.forEach(ot=>{ot.text=function(ut,ft,mt){const Bt=ft.layout.get("text-transform").evaluate(mt,{});return Bt==="uppercase"?ut=ut.toLocaleUpperCase():Bt==="lowercase"&&(ut=ut.toLocaleLowerCase()),sr.applyArabicShaping&&(ut=sr.applyArabicShaping(ut)),ut}(ot.text,_e,nt)}),tt}const T0={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function xl(tt){return tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""}function Dl(tt){return tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""||tt===""}var f_=Ls,K1=function(tt,_e,nt,ot,ut){var ft,mt,Bt=8*ut-ot-1,Et=(1<<Bt)-1,xt=Et>>1,Wt=-7,Gt=nt?ut-1:0,Xt=nt?-1:1,pn=tt[_e+Gt];for(Gt+=Xt,ft=pn&(1<<-Wt)-1,pn>>=-Wt,Wt+=Bt;Wt>0;ft=256*ft+tt[_e+Gt],Gt+=Xt,Wt-=8);for(mt=ft&(1<<-Wt)-1,ft>>=-Wt,Wt+=ot;Wt>0;mt=256*mt+tt[_e+Gt],Gt+=Xt,Wt-=8);if(ft===0)ft=1-xt;else{if(ft===Et)return mt?NaN:1/0*(pn?-1:1);mt+=Math.pow(2,ot),ft-=xt}return(pn?-1:1)*mt*Math.pow(2,ft-ot)},eB=function(tt,_e,nt,ot,ut,ft){var mt,Bt,Et,xt=8*ft-ut-1,Wt=(1<<xt)-1,Gt=Wt>>1,Xt=ut===23?Math.pow(2,-24)-Math.pow(2,-77):0,pn=ot?0:ft-1,Fn=ot?1:-1,Sn=_e<0||_e===0&&1/_e<0?1:0;for(_e=Math.abs(_e),isNaN(_e)||_e===1/0?(Bt=isNaN(_e)?1:0,mt=Wt):(mt=Math.floor(Math.log(_e)/Math.LN2),_e*(Et=Math.pow(2,-mt))<1&&(mt--,Et*=2),(_e+=mt+Gt>=1?Xt/Et:Xt*Math.pow(2,1-Gt))*Et>=2&&(mt++,Et/=2),mt+Gt>=Wt?(Bt=0,mt=Wt):mt+Gt>=1?(Bt=(_e*Et-1)*Math.pow(2,ut),mt+=Gt):(Bt=_e*Math.pow(2,Gt-1)*Math.pow(2,ut),mt=0));ut>=8;tt[nt+pn]=255&Bt,pn+=Fn,Bt/=256,ut-=8);for(mt=mt<<ut|Bt,xt+=ut;xt>0;tt[nt+pn]=255&mt,pn+=Fn,mt/=256,xt-=8);tt[nt+pn-Fn]|=128*Sn};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Ls(tt){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(tt)?tt:new Uint8Array(tt||0),this.pos=0,this.type=0,this.length=this.buf.length}Ls.Varint=0,Ls.Fixed64=1,Ls.Bytes=2,Ls.Fixed32=5;var Av=4294967296,tB=1/Av,nB=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Sm(tt){return tt.type===Ls.Bytes?tt.readVarint()+tt.pos:tt.pos+1}function Em(tt,_e,nt){return nt?4294967296*_e+(tt>>>0):4294967296*(_e>>>0)+(tt>>>0)}function bF(tt,_e,nt){var ot=_e<=16383?1:_e<=2097151?2:_e<=268435455?3:Math.floor(Math.log(_e)/(7*Math.LN2));nt.realloc(ot);for(var ut=nt.pos-1;ut>=tt;ut--)nt.buf[ut+ot]=nt.buf[ut]}function wR(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeVarint(tt[nt])}function rB(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeSVarint(tt[nt])}function BF(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeFloat(tt[nt])}function gp(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeDouble(tt[nt])}function p_(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeBoolean(tt[nt])}function xR(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeFixed32(tt[nt])}function TR(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeSFixed32(tt[nt])}function kR(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeFixed64(tt[nt])}function CR(tt,_e){for(var nt=0;nt<tt.length;nt++)_e.writeSFixed64(tt[nt])}function RF(tt,_e){return(tt[_e]|tt[_e+1]<<8|tt[_e+2]<<16)+16777216*tt[_e+3]}function py(tt,_e,nt){tt[nt]=_e,tt[nt+1]=_e>>>8,tt[nt+2]=_e>>>16,tt[nt+3]=_e>>>24}function wm(tt,_e){return(tt[_e]|tt[_e+1]<<8|tt[_e+2]<<16)+(tt[_e+3]<<24)}function Us(tt,_e,nt){_e.glyphs=[],tt===1&&nt.readMessage(iB,_e)}function iB(tt,_e,nt){if(tt===3){const{id:ot,bitmap:ut,width:ft,height:mt,left:Bt,top:Et,advance:xt}=nt.readMessage(Ap,{});_e.glyphs.push({id:ot,bitmap:new zm({width:ft+6,height:mt+6},ut),metrics:{width:ft,height:mt,left:Bt,top:Et,advance:xt}})}else tt===4?_e.ascender=nt.readSVarint():tt===5&&(_e.descender=nt.readSVarint())}function Ap(tt,_e,nt){tt===1?_e.id=nt.readVarint():tt===2?_e.bitmap=nt.readBytes():tt===3?_e.width=nt.readVarint():tt===4?_e.height=nt.readVarint():tt===5?_e.left=nt.readSVarint():tt===6?_e.top=nt.readSVarint():tt===7&&(_e.advance=nt.readVarint())}function QF(tt){let _e=0,nt=0;for(const mt of tt)_e+=mt.w*mt.h,nt=Math.max(nt,mt.w);tt.sort((mt,Bt)=>Bt.h-mt.h);const ot=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(_e/.95)),nt),h:1/0}];let ut=0,ft=0;for(const mt of tt)for(let Bt=ot.length-1;Bt>=0;Bt--){const Et=ot[Bt];if(!(mt.w>Et.w||mt.h>Et.h)){if(mt.x=Et.x,mt.y=Et.y,ft=Math.max(ft,mt.y+mt.h),ut=Math.max(ut,mt.x+mt.w),mt.w===Et.w&&mt.h===Et.h){const xt=ot.pop();Bt<ot.length&&(ot[Bt]=xt)}else mt.h===Et.h?(Et.x+=mt.w,Et.w-=mt.w):mt.w===Et.w?(Et.y+=mt.h,Et.h-=mt.h):(ot.push({x:Et.x+mt.w,y:Et.y,w:Et.w-mt.w,h:mt.h}),Et.y+=mt.h,Et.h-=mt.h);break}}return{w:ut,h:ft,fill:_e/(ut*ft)||0}}Ls.prototype={destroy:function(){this.buf=null},readFields:function(tt,_e,nt){for(nt=nt||this.length;this.pos<nt;){var ot=this.readVarint(),ut=ot>>3,ft=this.pos;this.type=7&ot,tt(ut,_e,this),this.pos===ft&&this.skip(ot)}return _e},readMessage:function(tt,_e){return this.readFields(tt,_e,this.readVarint()+this.pos)},readFixed32:function(){var tt=RF(this.buf,this.pos);return this.pos+=4,tt},readSFixed32:function(){var tt=wm(this.buf,this.pos);return this.pos+=4,tt},readFixed64:function(){var tt=RF(this.buf,this.pos)+RF(this.buf,this.pos+4)*Av;return this.pos+=8,tt},readSFixed64:function(){var tt=RF(this.buf,this.pos)+wm(this.buf,this.pos+4)*Av;return this.pos+=8,tt},readFloat:function(){var tt=K1(this.buf,this.pos,!0,23,4);return this.pos+=4,tt},readDouble:function(){var tt=K1(this.buf,this.pos,!0,52,8);return this.pos+=8,tt},readVarint:function(tt){var _e,nt,ot=this.buf;return _e=127&(nt=ot[this.pos++]),nt<128?_e:(_e|=(127&(nt=ot[this.pos++]))<<7,nt<128?_e:(_e|=(127&(nt=ot[this.pos++]))<<14,nt<128?_e:(_e|=(127&(nt=ot[this.pos++]))<<21,nt<128?_e:function(ut,ft,mt){var Bt,Et,xt=mt.buf;if(Bt=(112&(Et=xt[mt.pos++]))>>4,Et<128||(Bt|=(127&(Et=xt[mt.pos++]))<<3,Et<128)||(Bt|=(127&(Et=xt[mt.pos++]))<<10,Et<128)||(Bt|=(127&(Et=xt[mt.pos++]))<<17,Et<128)||(Bt|=(127&(Et=xt[mt.pos++]))<<24,Et<128)||(Bt|=(1&(Et=xt[mt.pos++]))<<31,Et<128))return Em(ut,Bt,ft);throw new Error("Expected varint not more than 10 bytes")}(_e|=(15&(nt=ot[this.pos]))<<28,tt,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var tt=this.readVarint();return tt%2==1?(tt+1)/-2:tt/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var tt=this.readVarint()+this.pos,_e=this.pos;return this.pos=tt,tt-_e>=12&&nB?function(nt,ot,ut){return nB.decode(nt.subarray(ot,ut))}(this.buf,_e,tt):function(nt,ot,ut){for(var ft="",mt=ot;mt<ut;){var Bt,Et,xt,Wt=nt[mt],Gt=null,Xt=Wt>239?4:Wt>223?3:Wt>191?2:1;if(mt+Xt>ut)break;Xt===1?Wt<128&&(Gt=Wt):Xt===2?(192&(Bt=nt[mt+1]))==128&&(Gt=(31&Wt)<<6|63&Bt)<=127&&(Gt=null):Xt===3?(Et=nt[mt+2],(192&(Bt=nt[mt+1]))==128&&(192&Et)==128&&((Gt=(15&Wt)<<12|(63&Bt)<<6|63&Et)<=2047||Gt>=55296&&Gt<=57343)&&(Gt=null)):Xt===4&&(Et=nt[mt+2],xt=nt[mt+3],(192&(Bt=nt[mt+1]))==128&&(192&Et)==128&&(192&xt)==128&&((Gt=(15&Wt)<<18|(63&Bt)<<12|(63&Et)<<6|63&xt)<=65535||Gt>=1114112)&&(Gt=null)),Gt===null?(Gt=65533,Xt=1):Gt>65535&&(Gt-=65536,ft+=String.fromCharCode(Gt>>>10&1023|55296),Gt=56320|1023&Gt),ft+=String.fromCharCode(Gt),mt+=Xt}return ft}(this.buf,_e,tt)},readBytes:function(){var tt=this.readVarint()+this.pos,_e=this.buf.subarray(this.pos,tt);return this.pos=tt,_e},readPackedVarint:function(tt,_e){if(this.type!==Ls.Bytes)return tt.push(this.readVarint(_e));var nt=Sm(this);for(tt=tt||[];this.pos<nt;)tt.push(this.readVarint(_e));return tt},readPackedSVarint:function(tt){if(this.type!==Ls.Bytes)return tt.push(this.readSVarint());var _e=Sm(this);for(tt=tt||[];this.pos<_e;)tt.push(this.readSVarint());return tt},readPackedBoolean:function(tt){if(this.type!==Ls.Bytes)return tt.push(this.readBoolean());var _e=Sm(this);for(tt=tt||[];this.pos<_e;)tt.push(this.readBoolean());return tt},readPackedFloat:function(tt){if(this.type!==Ls.Bytes)return tt.push(this.readFloat());var _e=Sm(this);for(tt=tt||[];this.pos<_e;)tt.push(this.readFloat());return tt},readPackedDouble:function(tt){if(this.type!==Ls.Bytes)return tt.push(this.readDouble());var _e=Sm(this);for(tt=tt||[];this.pos<_e;)tt.push(this.readDouble());return tt},readPackedFixed32:function(tt){if(this.type!==Ls.Bytes)return tt.push(this.readFixed32());var _e=Sm(this);for(tt=tt||[];this.pos<_e;)tt.push(this.readFixed32());return tt},readPackedSFixed32:function(tt){if(this.type!==Ls.Bytes)return tt.push(this.readSFixed32());var _e=Sm(this);for(tt=tt||[];this.pos<_e;)tt.push(this.readSFixed32());return tt},readPackedFixed64:function(tt){if(this.type!==Ls.Bytes)return tt.push(this.readFixed64());var _e=Sm(this);for(tt=tt||[];this.pos<_e;)tt.push(this.readFixed64());return tt},readPackedSFixed64:function(tt){if(this.type!==Ls.Bytes)return tt.push(this.readSFixed64());var _e=Sm(this);for(tt=tt||[];this.pos<_e;)tt.push(this.readSFixed64());return tt},skip:function(tt){var _e=7&tt;if(_e===Ls.Varint)for(;this.buf[this.pos++]>127;);else if(_e===Ls.Bytes)this.pos=this.readVarint()+this.pos;else if(_e===Ls.Fixed32)this.pos+=4;else{if(_e!==Ls.Fixed64)throw new Error("Unimplemented type: "+_e);this.pos+=8}},writeTag:function(tt,_e){this.writeVarint(tt<<3|_e)},realloc:function(tt){for(var _e=this.length||16;_e<this.pos+tt;)_e*=2;if(_e!==this.length){var nt=new Uint8Array(_e);nt.set(this.buf),this.buf=nt,this.length=_e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(tt){this.realloc(4),py(this.buf,tt,this.pos),this.pos+=4},writeSFixed32:function(tt){this.realloc(4),py(this.buf,tt,this.pos),this.pos+=4},writeFixed64:function(tt){this.realloc(8),py(this.buf,-1&tt,this.pos),py(this.buf,Math.floor(tt*tB),this.pos+4),this.pos+=8},writeSFixed64:function(tt){this.realloc(8),py(this.buf,-1&tt,this.pos),py(this.buf,Math.floor(tt*tB),this.pos+4),this.pos+=8},writeVarint:function(tt){(tt=+tt||0)>268435455||tt<0?function(_e,nt){var ot,ut;if(_e>=0?(ot=_e%4294967296|0,ut=_e/4294967296|0):(ut=~(-_e/4294967296),4294967295^(ot=~(-_e%4294967296))?ot=ot+1|0:(ot=0,ut=ut+1|0)),_e>=18446744073709552e3||_e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");nt.realloc(10),function(ft,mt,Bt){Bt.buf[Bt.pos++]=127&ft|128,ft>>>=7,Bt.buf[Bt.pos++]=127&ft|128,ft>>>=7,Bt.buf[Bt.pos++]=127&ft|128,ft>>>=7,Bt.buf[Bt.pos++]=127&ft|128,Bt.buf[Bt.pos]=127&(ft>>>=7)}(ot,0,nt),function(ft,mt){var Bt=(7&ft)<<4;mt.buf[mt.pos++]|=Bt|((ft>>>=3)?128:0),ft&&(mt.buf[mt.pos++]=127&ft|((ft>>>=7)?128:0),ft&&(mt.buf[mt.pos++]=127&ft|((ft>>>=7)?128:0),ft&&(mt.buf[mt.pos++]=127&ft|((ft>>>=7)?128:0),ft&&(mt.buf[mt.pos++]=127&ft|((ft>>>=7)?128:0),ft&&(mt.buf[mt.pos++]=127&ft)))))}(ut,nt)}(tt,this):(this.realloc(4),this.buf[this.pos++]=127&tt|(tt>127?128:0),tt<=127||(this.buf[this.pos++]=127&(tt>>>=7)|(tt>127?128:0),tt<=127||(this.buf[this.pos++]=127&(tt>>>=7)|(tt>127?128:0),tt<=127||(this.buf[this.pos++]=tt>>>7&127))))},writeSVarint:function(tt){this.writeVarint(tt<0?2*-tt-1:2*tt)},writeBoolean:function(tt){this.writeVarint(Boolean(tt))},writeString:function(tt){tt=String(tt),this.realloc(4*tt.length),this.pos++;var _e=this.pos;this.pos=function(ot,ut,ft){for(var mt,Bt,Et=0;Et<ut.length;Et++){if((mt=ut.charCodeAt(Et))>55295&&mt<57344){if(!Bt){mt>56319||Et+1===ut.length?(ot[ft++]=239,ot[ft++]=191,ot[ft++]=189):Bt=mt;continue}if(mt<56320){ot[ft++]=239,ot[ft++]=191,ot[ft++]=189,Bt=mt;continue}mt=Bt-55296<<10|mt-56320|65536,Bt=null}else Bt&&(ot[ft++]=239,ot[ft++]=191,ot[ft++]=189,Bt=null);mt<128?ot[ft++]=mt:(mt<2048?ot[ft++]=mt>>6|192:(mt<65536?ot[ft++]=mt>>12|224:(ot[ft++]=mt>>18|240,ot[ft++]=mt>>12&63|128),ot[ft++]=mt>>6&63|128),ot[ft++]=63&mt|128)}return ft}(this.buf,tt,this.pos);var nt=this.pos-_e;nt>=128&&bF(_e,nt,this),this.pos=_e-1,this.writeVarint(nt),this.pos+=nt},writeFloat:function(tt){this.realloc(4),eB(this.buf,tt,this.pos,!0,23,4),this.pos+=4},writeDouble:function(tt){this.realloc(8),eB(this.buf,tt,this.pos,!0,52,8),this.pos+=8},writeBytes:function(tt){var _e=tt.length;this.writeVarint(_e),this.realloc(_e);for(var nt=0;nt<_e;nt++)this.buf[this.pos++]=tt[nt]},writeRawMessage:function(tt,_e){this.pos++;var nt=this.pos;tt(_e,this);var ot=this.pos-nt;ot>=128&&bF(nt,ot,this),this.pos=nt-1,this.writeVarint(ot),this.pos+=ot},writeMessage:function(tt,_e,nt){this.writeTag(tt,Ls.Bytes),this.writeRawMessage(_e,nt)},writePackedVarint:function(tt,_e){_e.length&&this.writeMessage(tt,wR,_e)},writePackedSVarint:function(tt,_e){_e.length&&this.writeMessage(tt,rB,_e)},writePackedBoolean:function(tt,_e){_e.length&&this.writeMessage(tt,p_,_e)},writePackedFloat:function(tt,_e){_e.length&&this.writeMessage(tt,BF,_e)},writePackedDouble:function(tt,_e){_e.length&&this.writeMessage(tt,gp,_e)},writePackedFixed32:function(tt,_e){_e.length&&this.writeMessage(tt,xR,_e)},writePackedSFixed32:function(tt,_e){_e.length&&this.writeMessage(tt,TR,_e)},writePackedFixed64:function(tt,_e){_e.length&&this.writeMessage(tt,kR,_e)},writePackedSFixed64:function(tt,_e){_e.length&&this.writeMessage(tt,CR,_e)},writeBytesField:function(tt,_e){this.writeTag(tt,Ls.Bytes),this.writeBytes(_e)},writeFixed32Field:function(tt,_e){this.writeTag(tt,Ls.Fixed32),this.writeFixed32(_e)},writeSFixed32Field:function(tt,_e){this.writeTag(tt,Ls.Fixed32),this.writeSFixed32(_e)},writeFixed64Field:function(tt,_e){this.writeTag(tt,Ls.Fixed64),this.writeFixed64(_e)},writeSFixed64Field:function(tt,_e){this.writeTag(tt,Ls.Fixed64),this.writeSFixed64(_e)},writeVarintField:function(tt,_e){this.writeTag(tt,Ls.Varint),this.writeVarint(_e)},writeSVarintField:function(tt,_e){this.writeTag(tt,Ls.Varint),this.writeSVarint(_e)},writeStringField:function(tt,_e){this.writeTag(tt,Ls.Bytes),this.writeString(_e)},writeFloatField:function(tt,_e){this.writeTag(tt,Ls.Fixed32),this.writeFloat(_e)},writeDoubleField:function(tt,_e){this.writeTag(tt,Ls.Fixed64),this.writeDouble(_e)},writeBooleanField:function(tt,_e){this.writeVarintField(tt,Boolean(_e))}};class Vv{constructor(_e,{pixelRatio:nt,version:ot,stretchX:ut,stretchY:ft,content:mt}){this.paddedRect=_e,this.pixelRatio=nt,this.stretchX=ut,this.stretchY=ft,this.content=mt,this.version=ot}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Ps{constructor(_e,nt){const ot={},ut={};this.haveRenderCallbacks=[];const ft=[];this.addImages(_e,ot,ft),this.addImages(nt,ut,ft);const{w:mt,h:Bt}=QF(ft),Et=new qu({width:mt||1,height:Bt||1});for(const xt in _e){const Wt=_e[xt],Gt=ot[xt].paddedRect;qu.copy(Wt.data,Et,{x:0,y:0},{x:Gt.x+1,y:Gt.y+1},Wt.data)}for(const xt in nt){const Wt=nt[xt],Gt=ut[xt].paddedRect,Xt=Gt.x+1,pn=Gt.y+1,Fn=Wt.data.width,Sn=Wt.data.height;qu.copy(Wt.data,Et,{x:0,y:0},{x:Xt,y:pn},Wt.data),qu.copy(Wt.data,Et,{x:0,y:Sn-1},{x:Xt,y:pn-1},{width:Fn,height:1}),qu.copy(Wt.data,Et,{x:0,y:0},{x:Xt,y:pn+Sn},{width:Fn,height:1}),qu.copy(Wt.data,Et,{x:Fn-1,y:0},{x:Xt-1,y:pn},{width:1,height:Sn}),qu.copy(Wt.data,Et,{x:0,y:0},{x:Xt+Fn,y:pn},{width:1,height:Sn})}this.image=Et,this.iconPositions=ot,this.patternPositions=ut}addImages(_e,nt,ot){for(const ut in _e){const ft=_e[ut],mt={x:0,y:0,w:ft.data.width+2,h:ft.data.height+2};ot.push(mt),nt[ut]=new Vv(mt,ft),ft.hasRenderCallback&&this.haveRenderCallbacks.push(ut)}}patchUpdatedImages(_e,nt){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(ot=>_e.hasImage(ot)),_e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const ot in _e.updatedImages)this.patchUpdatedImage(this.iconPositions[ot],_e.getImage(ot),nt),this.patchUpdatedImage(this.patternPositions[ot],_e.getImage(ot),nt)}patchUpdatedImage(_e,nt,ot){if(!_e||!nt||_e.version===nt.version)return;_e.version=nt.version;const[ut,ft]=_e.tl;ot.update(nt.data,void 0,{x:ut,y:ft})}}yo(Vv,"ImagePosition"),yo(Ps,"ImageAtlas");const mp={horizontal:1,vertical:2,horizontalOnly:3};class g_{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(_e,nt){const ot=new g_;return ot.scale=_e||1,ot.fontStack=nt,ot}static forImage(_e){const nt=new g_;return nt.imageName=_e,nt}}class Gm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(_e,nt){const ot=new Gm;for(let ut=0;ut<_e.sections.length;ut++){const ft=_e.sections[ut];ft.image?ot.addImageSection(ft):ot.addTextSection(ft,nt)}return ot}length(){return this.text.length}getSection(_e){return this.sections[this.sectionIndex[_e]]}getSections(){return this.sections}getSectionIndex(_e){return this.sectionIndex[_e]}getCharCode(_e){return this.text.charCodeAt(_e)}verticalizePunctuation(_e){this.text=function(nt,ot){let ut="";for(let ft=0;ft<nt.length;ft++){const mt=nt.charCodeAt(ft+1)||null,Bt=nt.charCodeAt(ft-1)||null;ut+=!ot&&(mt&&kt(mt)&&!T0[nt[ft+1]]||Bt&&kt(Bt)&&!T0[nt[ft-1]])||!T0[nt[ft]]?nt[ft]:T0[nt[ft]]}return ut}(this.text,_e)}trim(){let _e=0;for(let ot=0;ot<this.text.length&&SF[this.text.charCodeAt(ot)];ot++)_e++;let nt=this.text.length;for(let ot=this.text.length-1;ot>=0&&ot>=_e&&SF[this.text.charCodeAt(ot)];ot--)nt--;this.text=this.text.substring(_e,nt),this.sectionIndex=this.sectionIndex.slice(_e,nt)}substring(_e,nt){const ot=new Gm;return ot.text=this.text.substring(_e,nt),ot.sectionIndex=this.sectionIndex.slice(_e,nt),ot.sections=this.sections,ot}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((_e,nt)=>Math.max(_e,this.sections[nt].scale),0)}addTextSection(_e,nt){this.text+=_e.text,this.sections.push(g_.forText(_e.scale,_e.fontStack||nt));const ot=this.sections.length-1;for(let ut=0;ut<_e.text.length;++ut)this.sectionIndex.push(ot)}addImageSection(_e){const nt=_e.image?_e.image.name:"";if(nt.length===0)return void Tn("Can't add FormattedSection with an empty image.");const ot=this.getNextImageSectionCharCode();ot?(this.text+=String.fromCharCode(ot),this.sections.push(g_.forImage(nt)),this.sectionIndex.push(this.sections.length-1)):Tn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Nv(tt,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn){const Sn=Gm.fromFeature(tt,ut);Gt===mp.vertical&&Sn.verticalizePunctuation(Xt);let Mn=[];const Kn=function(rr,xr,Er,Wr,Kr,Cr){if(!rr)return[];const zr=[],jr=function(uo,Jo,po,So,fo,Zo){let Ko=0;for(let is=0;is<uo.length();is++){const Es=uo.getSection(is);Ko+=oB(uo.getCharCode(is),Es,So,fo,Jo,Zo)}return Ko/Math.max(1,Math.ceil(Ko/po))}(rr,xr,Er,Wr,Kr,Cr),Yr=rr.text.indexOf("")>=0;let eo=0;for(let uo=0;uo<rr.length();uo++){const Jo=rr.getSection(uo),po=rr.getCharCode(uo);if(SF[po]||(eo+=oB(po,Jo,Wr,Kr,xr,Cr)),uo<rr.length()-1){const So=!((Vr=po)<11904||!(Gy(Vr)||jy(Vr)||Om(Vr)||zU(Vr)||LU(Vr)||z_(Vr)||zu(Vr)||oy(Vr)||PU(Vr)||H_(Vr)||G_(Vr)||it(Vr)||zy(Vr)||j_(Vr)||WU(Vr)||OU(Vr)||cp(Vr)||_0(Vr)||Y_(Vr)||sy(Vr)));(AR[po]||So||Jo.imageName)&&zr.push(aB(uo+1,eo,jr,zr,VR(po,rr.getCharCode(uo+1),So&&Yr),!1))}}var Vr;return lB(aB(rr.length(),eo,jr,zr,0,!0))}(Sn,xt,ft,_e,ot,pn),{processBidirectionalText:lr,processStyledBidirectionalText:qn}=sr;if(lr&&Sn.sections.length===1){const rr=lr(Sn.toString(),Kn);for(const xr of rr){const Er=new Gm;Er.text=xr,Er.sections=Sn.sections;for(let Wr=0;Wr<xr.length;Wr++)Er.sectionIndex.push(0);Mn.push(Er)}}else if(qn){const rr=qn(Sn.text,Sn.sectionIndex,Kn);for(const xr of rr){const Er=new Gm;Er.text=xr[0],Er.sectionIndex=xr[1],Er.sections=Sn.sections,Mn.push(Er)}}else Mn=function(rr,xr){const Er=[],Wr=rr.text;let Kr=0;for(const Cr of xr)Er.push(rr.substring(Kr,Cr)),Kr=Cr;return Kr<Wr.length&&Er.push(rr.substring(Kr,Wr.length)),Er}(Sn,Kn);const nr=[],fr={positionedLines:nr,text:Sn.toString(),top:Wt[1],bottom:Wt[1],left:Wt[0],right:Wt[0],writingMode:Gt,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(rr,xr,Er,Wr,Kr,Cr,zr,jr,Yr,eo,Vr,uo){let Jo=0,po=0,So=0;const fo=jr==="right"?1:jr==="left"?0:.5;let Zo=!1;for(const us of Kr){const ms=us.getSections();for(const Zs of ms){if(Zs.imageName)continue;const ga=xr[Zs.fontStack];if(ga&&(Zo=ga.ascender!==void 0&&ga.descender!==void 0,!Zo))break}if(!Zo)break}let Ko=0;for(const us of Kr){us.trim();const ms=us.getMaxScale(),Zs=(ms-1)*ou,ga={positionedGlyphs:[],lineOffset:0};rr.positionedLines[Ko]=ga;const Ks=ga.positionedGlyphs;let _a=0;if(!us.length()){po+=Cr,++Ko;continue}let $a=0,Tl=0;for(let Os=0;Os<us.length();Os++){const Hl=us.getSection(Os),Zl=us.getSectionIndex(Os),As=us.getCharCode(Os);let Ul=Hl.scale,_c=null,zs=null,Jl=null,Vu=ou,mu=0;const yu=!(Yr===mp.horizontal||!Vr&&!Rt(As)||Vr&&(SF[As]||(is=As,JU(is)||iy(is)||Sp(is)||ay(is)||ht(is))));if(Hl.imageName){const ep=Wr[Hl.imageName];if(!ep)continue;Jl=Hl.imageName,rr.iconsInText=rr.iconsInText||!0,zs=ep.paddedRect;const _u=ep.displaySize;Ul=Ul*ou/uo,_c={width:_u[0],height:_u[1],left:1,top:-3,advance:yu?_u[1]:_u[0],localGlyph:!1},mu=Zo?-_c.height*Ul:ms*ou-17-_u[1]*Ul,Vu=_c.advance;const Uy=(yu?_u[0]:_u[1])*Ul-ou*ms;Uy>0&&Uy>_a&&(_a=Uy)}else{const ep=Er[Hl.fontStack];if(!ep)continue;ep[As]&&(zs=ep[As]);const _u=xr[Hl.fontStack];if(!_u)continue;const Uy=_u.glyphs[As];if(!Uy)continue;if(_c=Uy.metrics,Vu=As!==8203?ou:0,Zo){const zF=_u.ascender!==void 0?Math.abs(_u.ascender):0,_b=_u.descender!==void 0?Math.abs(_u.descender):0,e1=(zF+_b)*Ul;$a<e1&&($a=e1,Tl=(zF-_b)/2*Ul),mu=-zF*Ul}else mu=(ms-Ul)*ou-17}yu?(rr.verticalizable=!0,Ks.push({glyph:As,imageName:Jl,x:Jo,y:po+mu,vertical:yu,scale:Ul,localGlyph:_c.localGlyph,fontStack:Hl.fontStack,sectionIndex:Zl,metrics:_c,rect:zs}),Jo+=Vu*Ul+eo):(Ks.push({glyph:As,imageName:Jl,x:Jo,y:po+mu,vertical:yu,scale:Ul,localGlyph:_c.localGlyph,fontStack:Hl.fontStack,sectionIndex:Zl,metrics:_c,rect:zs}),Jo+=_c.advance*Ul+eo)}Ks.length!==0&&(So=Math.max(Jo-eo,So),Zo?cB(Ks,fo,_a,Tl,Cr*ms/2):cB(Ks,fo,_a,0,Cr/2)),Jo=0;const gu=Cr*ms+_a;ga.lineOffset=Math.max(_a,Zs),po+=gu,++Ko}var is;const Es=po,{horizontalAlign:$o,verticalAlign:xa}=Mv(zr);(function(us,ms,Zs,ga,Ks,_a){const $a=(ms-Zs)*Ks,Tl=-_a*ga;for(const gu of us)for(const Os of gu.positionedGlyphs)Os.x+=$a,Os.y+=Tl})(rr.positionedLines,fo,$o,xa,So,Es),rr.top+=-xa*Es,rr.bottom=rr.top+Es,rr.left+=-$o*So,rr.right=rr.left+So,rr.hasBaseline=Zo}(fr,_e,nt,ot,Mn,mt,Bt,Et,Gt,xt,Xt,Fn),!function(rr){for(const xr of rr)if(xr.positionedGlyphs.length!==0)return!1;return!0}(nr)&&fr}const SF={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},AR={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function oB(tt,_e,nt,ot,ut,ft){if(_e.imageName){const mt=ot[_e.imageName];return mt?mt.displaySize[0]*_e.scale*ou/ft+ut:0}{const mt=nt[_e.fontStack],Bt=mt&&mt.glyphs[tt];return Bt?Bt.metrics.advance*_e.scale+ut:0}}function sB(tt,_e,nt,ot){const ut=Math.pow(tt-_e,2);return ot?tt<_e?ut/2:2*ut:ut+Math.abs(nt)*nt}function VR(tt,_e,nt){let ot=0;return tt===10&&(ot-=1e4),nt&&(ot+=150),tt!==40&&tt!==65288||(ot+=50),_e!==41&&_e!==65289||(ot+=50),ot}function aB(tt,_e,nt,ot,ut,ft){let mt=null,Bt=sB(_e,nt,ut,ft);for(const Et of ot){const xt=sB(_e-Et.x,nt,ut,ft)+Et.badness;xt<=Bt&&(mt=Et,Bt=xt)}return{index:tt,x:_e,priorBreak:mt,badness:Bt}}function lB(tt){return tt?lB(tt.priorBreak).concat(tt.index):[]}function Mv(tt){let _e=.5,nt=.5;switch(tt){case"right":case"top-right":case"bottom-right":_e=1;break;case"left":case"top-left":case"bottom-left":_e=0}switch(tt){case"bottom":case"bottom-right":case"bottom-left":nt=1;break;case"top":case"top-right":case"top-left":nt=0}return{horizontalAlign:_e,verticalAlign:nt}}function cB(tt,_e,nt,ot,ut){if(!(_e||nt||ot||ut))return;const ft=tt.length-1,mt=tt[ft],Bt=(mt.x+mt.metrics.advance*mt.scale)*_e;for(let Et=0;Et<=ft;Et++)tt[Et].x-=Bt,tt[Et].y+=nt+ot+ut}function NR(tt,_e,nt){const{horizontalAlign:ot,verticalAlign:ut}=Mv(nt),ft=_e[0]-tt.displaySize[0]*ot,mt=_e[1]-tt.displaySize[1]*ut;return{image:tt,top:mt,bottom:mt+tt.displaySize[1],left:ft,right:ft+tt.displaySize[0]}}function uB(tt,_e,nt,ot,ut,ft){const mt=tt.image;let Bt;if(mt.content){const Mn=mt.content,Kn=mt.pixelRatio||1;Bt=[Mn[0]/Kn,Mn[1]/Kn,mt.displaySize[0]-Mn[2]/Kn,mt.displaySize[1]-Mn[3]/Kn]}const Et=_e.left*ft,xt=_e.right*ft;let Wt,Gt,Xt,pn;nt==="width"||nt==="both"?(pn=ut[0]+Et-ot[3],Gt=ut[0]+xt+ot[1]):(pn=ut[0]+(Et+xt-mt.displaySize[0])/2,Gt=pn+mt.displaySize[0]);const Fn=_e.top*ft,Sn=_e.bottom*ft;return nt==="height"||nt==="both"?(Wt=ut[1]+Fn-ot[0],Xt=ut[1]+Sn+ot[2]):(Wt=ut[1]+(Fn+Sn-mt.displaySize[1])/2,Xt=Wt+mt.displaySize[1]),{image:mt,top:Wt,right:Gt,bottom:Xt,left:pn,collisionPadding:Bt}}class Hm extends St{constructor(_e,nt,ot,ut,ft){super(_e,nt),this.angle=ut,this.z=ot,ft!==void 0&&(this.segment=ft)}clone(){return new Hm(this.x,this.y,this.z,this.angle,this.segment)}}function EF(tt,_e,nt,ot,ut){if(_e.segment===void 0)return!0;let ft=_e,mt=_e.segment+1,Bt=0;for(;Bt>-nt/2;){if(mt--,mt<0)return!1;Bt-=tt[mt].dist(ft),ft=tt[mt]}Bt+=tt[mt].dist(tt[mt+1]),mt++;const Et=[];let xt=0;for(;Bt<nt/2;){const Wt=tt[mt],Gt=tt[mt+1];if(!Gt)return!1;let Xt=tt[mt-1].angleTo(Wt)-Wt.angleTo(Gt);for(Xt=Math.abs((Xt+3*Math.PI)%(2*Math.PI)-Math.PI),Et.push({distance:Bt,angleDelta:Xt}),xt+=Xt;Bt-Et[0].distance>ot;)xt-=Et.shift().angleDelta;if(xt>ut)return!1;mt++,Bt+=Wt.dist(Gt)}return!0}function hB(tt){let _e=0;for(let nt=0;nt<tt.length-1;nt++)_e+=tt[nt].dist(tt[nt+1]);return _e}function wF(tt,_e,nt){return tt?.6*_e*nt:0}function dB(tt,_e){return Math.max(tt?tt.right-tt.left:0,_e?_e.right-_e.left:0)}function MR(tt,_e,nt,ot,ut,ft){const mt=wF(nt,ut,ft),Bt=dB(nt,ot)*ft;let Et=0;const xt=hB(tt)/2;for(let Wt=0;Wt<tt.length-1;Wt++){const Gt=tt[Wt],Xt=tt[Wt+1],pn=Gt.dist(Xt);if(Et+pn>xt){const Fn=(xt-Et)/pn,Sn=_s(Gt.x,Xt.x,Fn),Mn=_s(Gt.y,Xt.y,Fn),Kn=new Hm(Sn,Mn,0,Xt.angleTo(Gt),Wt);return!mt||EF(tt,Kn,Bt,mt,_e)?Kn:void 0}Et+=pn}}function DR(tt,_e,nt,ot,ut,ft,mt,Bt,Et){const xt=wF(ot,ft,mt),Wt=dB(ot,ut),Gt=Wt*mt,Xt=tt[0].x===0||tt[0].x===Et||tt[0].y===0||tt[0].y===Et;return _e-Gt<_e/4&&(_e=Gt+_e/4),Kl(tt,Xt?_e/2*Bt%_e:(Wt/2+2*ft)*mt*Bt%_e,_e,xt,nt,Gt,Xt,!1,Et)}function Kl(tt,_e,nt,ot,ut,ft,mt,Bt,Et){const xt=ft/2,Wt=hB(tt);let Gt=0,Xt=_e-nt,pn=[];for(let Fn=0;Fn<tt.length-1;Fn++){const Sn=tt[Fn],Mn=tt[Fn+1],Kn=Sn.dist(Mn),lr=Mn.angleTo(Sn);for(;Xt+nt<Gt+Kn;){Xt+=nt;const qn=(Xt-Gt)/Kn,nr=_s(Sn.x,Mn.x,qn),fr=_s(Sn.y,Mn.y,qn);if(nr>=0&&nr<Et&&fr>=0&&fr<Et&&Xt-xt>=0&&Xt+xt<=Wt){const rr=new Hm(nr,fr,0,lr,Fn);rr._round(),ot&&!EF(tt,rr,ft,ot,ut)||pn.push(rr)}}Gt+=Kn}return Bt||pn.length||mt||(pn=Kl(tt,Gt/2,nt,ot,ut,ft,mt,!0,Et)),pn}function ku(tt,_e,nt,ot,ut){const ft=[];for(let mt=0;mt<tt.length;mt++){const Bt=tt[mt];let Et;for(let xt=0;xt<Bt.length-1;xt++){let Wt=Bt[xt],Gt=Bt[xt+1];Wt.x<_e&&Gt.x<_e||(Wt.x<_e?Wt=new St(_e,Wt.y+(_e-Wt.x)/(Gt.x-Wt.x)*(Gt.y-Wt.y))._round():Gt.x<_e&&(Gt=new St(_e,Wt.y+(_e-Wt.x)/(Gt.x-Wt.x)*(Gt.y-Wt.y))._round()),Wt.y<nt&&Gt.y<nt||(Wt.y<nt?Wt=new St(Wt.x+(nt-Wt.y)/(Gt.y-Wt.y)*(Gt.x-Wt.x),nt)._round():Gt.y<nt&&(Gt=new St(Wt.x+(nt-Wt.y)/(Gt.y-Wt.y)*(Gt.x-Wt.x),nt)._round()),Wt.x>=ot&&Gt.x>=ot||(Wt.x>=ot?Wt=new St(ot,Wt.y+(ot-Wt.x)/(Gt.x-Wt.x)*(Gt.y-Wt.y))._round():Gt.x>=ot&&(Gt=new St(ot,Wt.y+(ot-Wt.x)/(Gt.x-Wt.x)*(Gt.y-Wt.y))._round()),Wt.y>=ut&&Gt.y>=ut||(Wt.y>=ut?Wt=new St(Wt.x+(ut-Wt.y)/(Gt.y-Wt.y)*(Gt.x-Wt.x),ut)._round():Gt.y>=ut&&(Gt=new St(Wt.x+(ut-Wt.y)/(Gt.y-Wt.y)*(Gt.x-Wt.x),ut)._round()),Et&&Wt.equals(Et[Et.length-1])||(Et=[Wt],ft.push(Et)),Et.push(Gt)))))}}return ft}yo(Hm,"Anchor");const yU=1e20;function fB(tt,_e,nt,ot,ut,ft,mt,Bt,Et){for(let xt=_e;xt<_e+ot;xt++)pB(tt,nt*ft+xt,ft,ut,mt,Bt,Et);for(let xt=nt;xt<nt+ut;xt++)pB(tt,xt*ft+_e,1,ot,mt,Bt,Et)}function pB(tt,_e,nt,ot,ut,ft,mt){ft[0]=0,mt[0]=-yU,mt[1]=yU,ut[0]=tt[_e];for(let Bt=1,Et=0,xt=0;Bt<ot;Bt++){ut[Bt]=tt[_e+Bt*nt];const Wt=Bt*Bt;do{const Gt=ft[Et];xt=(ut[Bt]-ut[Gt]+Wt-Gt*Gt)/(Bt-Gt)/2}while(xt<=mt[Et]&&--Et>-1);Et++,ft[Et]=Bt,mt[Et]=xt,mt[Et+1]=yU}for(let Bt=0,Et=0;Bt<ot;Bt++){for(;mt[Et+1]<Bt;)Et++;const xt=ft[Et],Wt=Bt-xt;tt[_e+Bt*nt]=ut[xt]+Wt*Wt}}const xF={none:0,ideographs:1,all:2};class m_{constructor(_e,nt,ot){this.requestManager=_e,this.localGlyphMode=nt,this.localFontFamily=ot,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(_e){this.url=_e}getGlyphs(_e,nt){const ot=[];for(const ut in _e)for(const ft of _e[ut])ot.push({stack:ut,id:ft});dn(ot,({stack:ut,id:ft},mt)=>{let Bt=this.entries[ut];Bt||(Bt=this.entries[ut]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let Et=Bt.glyphs[ft];if(Et!==void 0)return void mt(null,{stack:ut,id:ft,glyph:Et});if(Et=this._tinySDF(Bt,ut,ft),Et)return Bt.glyphs[ft]=Et,void mt(null,{stack:ut,id:ft,glyph:Et});const xt=Math.floor(ft/256);if(256*xt>65535)return void mt(new Error("glyphs > 65535 not supported"));if(Bt.ranges[xt])return void mt(null,{stack:ut,id:ft,glyph:Et});let Wt=Bt.requests[xt];Wt||(Wt=Bt.requests[xt]=[],m_.loadGlyphRange(ut,xt,this.url,this.requestManager,(Gt,Xt)=>{if(Xt){Bt.ascender=Xt.ascender,Bt.descender=Xt.descender;for(const pn in Xt.glyphs)this._doesCharSupportLocalGlyph(+pn)||(Bt.glyphs[+pn]=Xt.glyphs[+pn]);Bt.ranges[xt]=!0}for(const pn of Wt)pn(Gt,Xt);delete Bt.requests[xt]})),Wt.push((Gt,Xt)=>{Gt?mt(Gt):Xt&&mt(null,{stack:ut,id:ft,glyph:Xt.glyphs[ft]||null})})},(ut,ft)=>{if(ut)nt(ut);else if(ft){const mt={};for(const{stack:Bt,id:Et,glyph:xt}of ft)mt[Bt]===void 0&&(mt[Bt]={}),mt[Bt].glyphs===void 0&&(mt[Bt].glyphs={}),mt[Bt].glyphs[Et]=xt&&{id:xt.id,bitmap:xt.bitmap.clone(),metrics:xt.metrics},mt[Bt].ascender=this.entries[Bt].ascender,mt[Bt].descender=this.entries[Bt].descender;nt(null,mt)}})}_doesCharSupportLocalGlyph(_e){return this.localGlyphMode!==xF.none&&(this.localGlyphMode===xF.all?!!this.localFontFamily:!!this.localFontFamily&&(H_(_e)||ZU(_e)||zy(_e)||cp(_e)||oy(_e)))}_tinySDF(_e,nt,ot){const ut=this.localFontFamily;if(!ut||!this._doesCharSupportLocalGlyph(ot))return;let ft=_e.tinySDF;if(!ft){let Sn="400";/bold/i.test(nt)?Sn="900":/medium/i.test(nt)?Sn="500":/light/i.test(nt)&&(Sn="200"),ft=_e.tinySDF=new m_.TinySDF({fontFamily:ut,fontWeight:Sn,fontSize:48,buffer:6,radius:16}),ft.fontWeight=Sn}if(this.localGlyphs[ft.fontWeight][ot])return this.localGlyphs[ft.fontWeight][ot];const mt=String.fromCharCode(ot),{data:Bt,width:Et,height:xt,glyphWidth:Wt,glyphHeight:Gt,glyphLeft:Xt,glyphTop:pn,glyphAdvance:Fn}=ft.draw(mt);return this.localGlyphs[ft.fontWeight][ot]={id:ot,bitmap:new zm({width:Et,height:xt},Bt),metrics:{width:Wt/2,height:Gt/2,left:Xt/2,top:pn/2-27,advance:Fn/2,localGlyph:!0}}}}function gB(tt,_e,nt,ot){const ut=[],ft=tt.image,mt=ft.pixelRatio,Bt=ft.paddedRect.w-2,Et=ft.paddedRect.h-2,xt=tt.right-tt.left,Wt=tt.bottom-tt.top,Gt=ft.stretchX||[[0,Bt]],Xt=ft.stretchY||[[0,Et]],pn=(Cr,zr)=>Cr+zr[1]-zr[0],Fn=Gt.reduce(pn,0),Sn=Xt.reduce(pn,0),Mn=Bt-Fn,Kn=Et-Sn;let lr=0,qn=Fn,nr=0,fr=Sn,rr=0,xr=Mn,Er=0,Wr=Kn;if(ft.content&&ot){const Cr=ft.content;lr=TF(Gt,0,Cr[0]),nr=TF(Xt,0,Cr[1]),qn=TF(Gt,Cr[0],Cr[2]),fr=TF(Xt,Cr[1],Cr[3]),rr=Cr[0]-lr,Er=Cr[1]-nr,xr=Cr[2]-Cr[0]-qn,Wr=Cr[3]-Cr[1]-fr}const Kr=(Cr,zr,jr,Yr)=>{const eo=kF(Cr.stretch-lr,qn,xt,tt.left),Vr=CF(Cr.fixed-rr,xr,Cr.stretch,Fn),uo=kF(zr.stretch-nr,fr,Wt,tt.top),Jo=CF(zr.fixed-Er,Wr,zr.stretch,Sn),po=kF(jr.stretch-lr,qn,xt,tt.left),So=CF(jr.fixed-rr,xr,jr.stretch,Fn),fo=kF(Yr.stretch-nr,fr,Wt,tt.top),Zo=CF(Yr.fixed-Er,Wr,Yr.stretch,Sn),Ko=new St(eo,uo),is=new St(po,uo),Es=new St(po,fo),$o=new St(eo,fo),xa=new St(Vr/mt,Jo/mt),us=new St(So/mt,Zo/mt),ms=_e*Math.PI/180;if(ms){const Ks=Math.sin(ms),_a=Math.cos(ms),$a=[_a,-Ks,Ks,_a];Ko._matMult($a),is._matMult($a),$o._matMult($a),Es._matMult($a)}const Zs=Cr.stretch+Cr.fixed,ga=zr.stretch+zr.fixed;return{tl:Ko,tr:is,bl:$o,br:Es,tex:{x:ft.paddedRect.x+1+Zs,y:ft.paddedRect.y+1+ga,w:jr.stretch+jr.fixed-Zs,h:Yr.stretch+Yr.fixed-ga},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:xa,pixelOffsetBR:us,minFontScaleX:xr/mt/xt,minFontScaleY:Wr/mt/Wt,isSDF:nt}};if(ot&&(ft.stretchX||ft.stretchY)){const Cr=Dv(Gt,Mn,Fn),zr=Dv(Xt,Kn,Sn);for(let jr=0;jr<Cr.length-1;jr++){const Yr=Cr[jr],eo=Cr[jr+1];for(let Vr=0;Vr<zr.length-1;Vr++)ut.push(Kr(Yr,zr[Vr],eo,zr[Vr+1]))}}else ut.push(Kr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Bt+1},{fixed:0,stretch:Et+1}));return ut}function TF(tt,_e,nt){let ot=0;for(const ut of tt)ot+=Math.max(_e,Math.min(nt,ut[1]))-Math.max(_e,Math.min(nt,ut[0]));return ot}function Dv(tt,_e,nt){const ot=[{fixed:-1,stretch:0}];for(const[ut,ft]of tt){const mt=ot[ot.length-1];ot.push({fixed:ut-mt.stretch,stretch:mt.stretch}),ot.push({fixed:ut-mt.stretch,stretch:mt.stretch+(ft-ut)})}return ot.push({fixed:_e+1,stretch:nt}),ot}function kF(tt,_e,nt,ot){return tt/_e*nt+ot}function CF(tt,_e,nt,ot){return tt-_e*nt/ot}function IR(tt,_e,nt,ot){const ut=_e+tt.positionedLines[ot].lineOffset;return ot===0?nt+ut/2:nt+(ut+(_e+tt.positionedLines[ot-1].lineOffset))/2}m_.loadGlyphRange=function(tt,_e,nt,ot,ut){const ft=256*_e,mt=ft+255,Bt=ot.transformRequest(ot.normalizeGlyphsURL(nt).replace("{fontstack}",tt).replace("{range}",`${ft}-${mt}`),Ys.Glyphs);_l(Bt,(Et,xt)=>{if(Et)ut(Et);else if(xt){const Wt={},Gt=function(Xt){return new f_(Xt).readFields(Us,{})}(xt);for(const Xt of Gt.glyphs)Wt[Xt.id]=Xt;ut(null,{glyphs:Wt,ascender:Gt.ascender,descender:Gt.descender})}})},m_.TinySDF=class{constructor({fontSize:tt=24,buffer:_e=3,radius:nt=8,cutoff:ot=.25,fontFamily:ut="sans-serif",fontWeight:ft="normal",fontStyle:mt="normal"}={}){this.buffer=_e,this.cutoff=ot,this.radius=nt;const Bt=this.size=tt+4*_e,Et=this._createCanvas(Bt),xt=this.ctx=Et.getContext("2d",{willReadFrequently:!0});xt.font=`${mt} ${ft} ${tt}px ${ut}`,xt.textBaseline="alphabetic",xt.textAlign="left",xt.fillStyle="black",this.gridOuter=new Float64Array(Bt*Bt),this.gridInner=new Float64Array(Bt*Bt),this.f=new Float64Array(Bt),this.z=new Float64Array(Bt+1),this.v=new Uint16Array(Bt)}_createCanvas(tt){const _e=document.createElement("canvas");return _e.width=_e.height=tt,_e}draw(tt){const{width:_e,actualBoundingBoxAscent:nt,actualBoundingBoxDescent:ot,actualBoundingBoxLeft:ut,actualBoundingBoxRight:ft}=this.ctx.measureText(tt),mt=Math.ceil(nt),Bt=Math.min(this.size-this.buffer,Math.ceil(ft-ut)),Et=Math.min(this.size-this.buffer,mt+Math.ceil(ot)),xt=Bt+2*this.buffer,Wt=Et+2*this.buffer,Gt=Math.max(xt*Wt,0),Xt=new Uint8ClampedArray(Gt),pn={data:Xt,width:xt,height:Wt,glyphWidth:Bt,glyphHeight:Et,glyphTop:mt,glyphLeft:0,glyphAdvance:_e};if(Bt===0||Et===0)return pn;const{ctx:Fn,buffer:Sn,gridInner:Mn,gridOuter:Kn}=this;Fn.clearRect(Sn,Sn,Bt,Et),Fn.fillText(tt,Sn,Sn+mt);const lr=Fn.getImageData(Sn,Sn,Bt,Et);Kn.fill(yU,0,Gt),Mn.fill(0,0,Gt);for(let qn=0;qn<Et;qn++)for(let nr=0;nr<Bt;nr++){const fr=lr.data[4*(qn*Bt+nr)+3]/255;if(fr===0)continue;const rr=(qn+Sn)*xt+nr+Sn;if(fr===1)Kn[rr]=0,Mn[rr]=yU;else{const xr=.5-fr;Kn[rr]=xr>0?xr*xr:0,Mn[rr]=xr<0?xr*xr:0}}fB(Kn,0,0,xt,Wt,xt,this.f,this.v,this.z),fB(Mn,Sn,Sn,Bt,Et,xt,this.f,this.v,this.z);for(let qn=0;qn<Gt;qn++){const nr=Math.sqrt(Kn[qn])-Math.sqrt(Mn[qn]);Xt[qn]=Math.round(255-255*(nr/this.radius+this.cutoff))}return pn}};class mB{constructor(_e=[],nt=yB){if(this.data=_e,this.length=this.data.length,this.compare=nt,this.length>0)for(let ot=(this.length>>1)-1;ot>=0;ot--)this._down(ot)}push(_e){this.data.push(_e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const _e=this.data[0],nt=this.data.pop();return this.length--,this.length>0&&(this.data[0]=nt,this._down(0)),_e}peek(){return this.data[0]}_up(_e){const{data:nt,compare:ot}=this,ut=nt[_e];for(;_e>0;){const ft=_e-1>>1,mt=nt[ft];if(ot(ut,mt)>=0)break;nt[_e]=mt,_e=ft}nt[_e]=ut}_down(_e){const{data:nt,compare:ot}=this,ut=this.length>>1,ft=nt[_e];for(;_e<ut;){let mt=1+(_e<<1),Bt=nt[mt];const Et=mt+1;if(Et<this.length&&ot(nt[Et],Bt)<0&&(mt=Et,Bt=nt[Et]),ot(Bt,ft)>=0)break;nt[_e]=Bt,_e=mt}nt[_e]=ft}}function yB(tt,_e){return tt<_e?-1:tt>_e?1:0}function JR(tt,_e=1,nt=!1){let ot=1/0,ut=1/0,ft=-1/0,mt=-1/0;const Bt=tt[0];for(let pn=0;pn<Bt.length;pn++){const Fn=Bt[pn];(!pn||Fn.x<ot)&&(ot=Fn.x),(!pn||Fn.y<ut)&&(ut=Fn.y),(!pn||Fn.x>ft)&&(ft=Fn.x),(!pn||Fn.y>mt)&&(mt=Fn.y)}const Et=Math.min(ft-ot,mt-ut);let xt=Et/2;const Wt=new mB([],WR);if(Et===0)return new St(ot,ut);for(let pn=ot;pn<ft;pn+=Et)for(let Fn=ut;Fn<mt;Fn+=Et)Wt.push(new y_(pn+xt,Fn+xt,xt,tt));let Gt=function(pn){let Fn=0,Sn=0,Mn=0;const Kn=pn[0];for(let lr=0,qn=Kn.length,nr=qn-1;lr<qn;nr=lr++){const fr=Kn[lr],rr=Kn[nr],xr=fr.x*rr.y-rr.x*fr.y;Sn+=(fr.x+rr.x)*xr,Mn+=(fr.y+rr.y)*xr,Fn+=3*xr}return new y_(Sn/Fn,Mn/Fn,0,pn)}(tt),Xt=Wt.length;for(;Wt.length;){const pn=Wt.pop();(pn.d>Gt.d||!Gt.d)&&(Gt=pn,nt&&console.log("found best %d after %d probes",Math.round(1e4*pn.d)/1e4,Xt)),pn.max-Gt.d<=_e||(xt=pn.h/2,Wt.push(new y_(pn.p.x-xt,pn.p.y-xt,xt,tt)),Wt.push(new y_(pn.p.x+xt,pn.p.y-xt,xt,tt)),Wt.push(new y_(pn.p.x-xt,pn.p.y+xt,xt,tt)),Wt.push(new y_(pn.p.x+xt,pn.p.y+xt,xt,tt)),Xt+=4)}return nt&&(console.log(`num probes: ${Xt}`),console.log(`best distance: ${Gt.d}`)),Gt.p}function WR(tt,_e){return _e.max-tt.max}function y_(tt,_e,nt,ot){this.p=new St(tt,_e),this.h=nt,this.d=function(ut,ft){let mt=!1,Bt=1/0;for(let Et=0;Et<ft.length;Et++){const xt=ft[Et];for(let Wt=0,Gt=xt.length,Xt=Gt-1;Wt<Gt;Xt=Wt++){const pn=xt[Wt],Fn=xt[Xt];pn.y>ut.y!=Fn.y>ut.y&&ut.x<(Fn.x-pn.x)*(ut.y-pn.y)/(Fn.y-pn.y)+pn.x&&(mt=!mt),Bt=Math.min(Bt,u1(ut,pn,Fn))}}return(mt?1:-1)*Math.sqrt(Bt)}(this.p,ot),this.max=this.d+this.h*Math.SQRT2}const Iv=Number.POSITIVE_INFINITY,__=Math.sqrt(2);function _B(tt,_e){return _e[1]!==Iv?function(nt,ot,ut){let ft=0,mt=0;switch(ot=Math.abs(ot),ut=Math.abs(ut),nt){case"top-right":case"top-left":case"top":mt=ut-7;break;case"bottom-right":case"bottom-left":case"bottom":mt=7-ut}switch(nt){case"top-right":case"bottom-right":case"right":ft=-ot;break;case"top-left":case"bottom-left":case"left":ft=ot}return[ft,mt]}(tt,_e[0],_e[1]):function(nt,ot){let ut=0,ft=0;ot<0&&(ot=0);const mt=ot/__;switch(nt){case"top-right":case"top-left":ft=mt-7;break;case"bottom-right":case"bottom-left":ft=7-mt;break;case"bottom":ft=7-ot;break;case"top":ft=ot-7}switch(nt){case"top-right":case"bottom-right":ut=-mt;break;case"top-left":case"bottom-left":ut=mt;break;case"left":ut=ot;break;case"right":ut=-ot}return[ut,ft]}(tt,_e[0])}function OR(tt,_e,nt,ot,ut,ft,mt,Bt,Et,xt){tt.createArrays(),tt.tilePixelRatio=Lo/(512*tt.overscaling),tt.compareText={},tt.iconsNeedLinear=!1;const Wt=tt.layers[0].layout,Gt=tt.layers[0]._unevaluatedLayout._values,Xt={};if(tt.textSizeData.kind==="composite"){const{minZoom:Sn,maxZoom:Mn}=tt.textSizeData;Xt.compositeTextSizes=[Gt["text-size"].possiblyEvaluate(new $n(Sn),Bt),Gt["text-size"].possiblyEvaluate(new $n(Mn),Bt)]}if(tt.iconSizeData.kind==="composite"){const{minZoom:Sn,maxZoom:Mn}=tt.iconSizeData;Xt.compositeIconSizes=[Gt["icon-size"].possiblyEvaluate(new $n(Sn),Bt),Gt["icon-size"].possiblyEvaluate(new $n(Mn),Bt)]}Xt.layoutTextSize=Gt["text-size"].possiblyEvaluate(new $n(Et+1),Bt),Xt.layoutIconSize=Gt["icon-size"].possiblyEvaluate(new $n(Et+1),Bt),Xt.textMaxSize=Gt["text-size"].possiblyEvaluate(new $n(18),Bt);const pn=Wt.get("text-rotation-alignment")==="map"&&Wt.get("symbol-placement")!=="point",Fn=Wt.get("text-size");for(const Sn of tt.features){const Mn=Wt.get("text-font").evaluate(Sn,{},Bt).join(","),Kn=Fn.evaluate(Sn,{},Bt),lr=Xt.layoutTextSize.evaluate(Sn,{},Bt),qn=(Xt.layoutIconSize.evaluate(Sn,{},Bt),{horizontal:{},vertical:void 0}),nr=Sn.text;let fr,rr=[0,0];if(nr){const Wr=nr.toString(),Kr=Wt.get("text-letter-spacing").evaluate(Sn,{},Bt)*ou,Cr=Wt.get("text-line-height").evaluate(Sn,{},Bt)*ou,zr=pt(Wr)?Kr:0,jr=Wt.get("text-anchor").evaluate(Sn,{},Bt),Yr=Wt.get("text-variable-anchor");if(!Yr){const po=Wt.get("text-radial-offset").evaluate(Sn,{},Bt);rr=po?_B(jr,[po*ou,Iv]):Wt.get("text-offset").evaluate(Sn,{},Bt).map(So=>So*ou)}let eo=pn?"center":Wt.get("text-justify").evaluate(Sn,{},Bt);const Vr=Wt.get("symbol-placement")==="point",uo=Vr?Wt.get("text-max-width").evaluate(Sn,{},Bt)*ou:1/0,Jo=po=>{tt.allowVerticalPlacement&&ct(Wr)&&(qn.vertical=Nv(nr,_e,nt,ut,Mn,uo,Cr,jr,po,zr,rr,mp.vertical,!0,lr,Kn))};if(!pn&&Yr){const po=eo==="auto"?Yr.map(fo=>Jv(fo)):[eo];let So=!1;for(let fo=0;fo<po.length;fo++){const Zo=po[fo];if(!qn.horizontal[Zo])if(So)qn.horizontal[Zo]=qn.horizontal[0];else{const Ko=Nv(nr,_e,nt,ut,Mn,uo,Cr,"center",Zo,zr,rr,mp.horizontal,!1,lr,Kn);Ko&&(qn.horizontal[Zo]=Ko,So=Ko.positionedLines.length===1)}}Jo("left")}else{if(eo==="auto"&&(eo=Jv(jr)),Vr||Wt.get("text-writing-mode").indexOf("horizontal")>=0||!ct(Wr)){const po=Nv(nr,_e,nt,ut,Mn,uo,Cr,jr,eo,zr,rr,mp.horizontal,!1,lr,Kn);po&&(qn.horizontal[eo]=po)}Jo(Vr?"left":eo)}}let xr=!1;if(Sn.icon&&Sn.icon.name){const Wr=ot[Sn.icon.name];Wr&&(fr=NR(ut[Sn.icon.name],Wt.get("icon-offset").evaluate(Sn,{},Bt),Wt.get("icon-anchor").evaluate(Sn,{},Bt)),xr=Wr.sdf,tt.sdfIcons===void 0?tt.sdfIcons=Wr.sdf:tt.sdfIcons!==Wr.sdf&&Tn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Wr.pixelRatio!==tt.pixelRatio||Wt.get("icon-rotate").constantOr(1)!==0)&&(tt.iconsNeedLinear=!0))}const Er=Ov(qn.horizontal)||qn.vertical;tt.iconsInText||(tt.iconsInText=!!Er&&Er.iconsInText),(Er||fr)&&LR(tt,Sn,qn,fr,ot,Xt,lr,0,rr,xr,mt,Bt,xt)}ft&&tt.generateCollisionDebugBuffers(Et,tt.collisionBoxArray)}function Jv(tt){switch(tt){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function LR(tt,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt){let pn=ft.textMaxSize.evaluate(_e,{},Gt);pn===void 0&&(pn=mt);const Fn=tt.layers[0].layout,Sn=Fn.get("icon-offset").evaluate(_e,{},Gt),Mn=Ov(nt.horizontal)||nt.vertical,Kn=Xt.name==="globe",lr=mt/24,qn=tt.tilePixelRatio*pn/24,nr=(zr=tt.overscaling,tt.zoom>18&&zr>2&&(zr>>=1),Math.max(Lo/(512*zr),1)*Fn.get("symbol-spacing")),fr=Fn.get("text-padding")*tt.tilePixelRatio,rr=Fn.get("icon-padding")*tt.tilePixelRatio,xr=Ct(Fn.get("text-max-angle")),Er=Fn.get("text-rotation-alignment")==="map"&&Fn.get("symbol-placement")!=="point",Wr=Fn.get("icon-rotation-alignment")==="map"&&Fn.get("symbol-placement")!=="point",Kr=Fn.get("symbol-placement"),Cr=nr/2;var zr;const jr=Fn.get("icon-text-fit");let Yr;ot&&jr!=="none"&&(tt.allowVerticalPlacement&&nt.vertical&&(Yr=uB(ot,nt.vertical,jr,Fn.get("icon-text-fit-padding"),Sn,lr)),Mn&&(ot=uB(ot,Mn,jr,Fn.get("icon-text-fit-padding"),Sn,lr)));const eo=(Vr,uo,Jo)=>{if(uo.x<0||uo.x>=Lo||uo.y<0||uo.y>=Lo)return;let po=null;if(Kn){const{x:So,y:fo,z:Zo}=Xt.projectTilePoint(uo.x,uo.y,Jo);po={anchor:new Hm(So,fo,Zo,0,void 0),up:Xt.upVector(Jo,uo.x,uo.y)}}(function(So,fo,Zo,Ko,is,Es,$o,xa,us,ms,Zs,ga,Ks,_a,$a,Tl,gu,Os,Hl,Zl,As,Ul,_c,zs,Jl){const Vu=So.addToLineVertexArray(fo,Ko);let mu,yu,ep,_u,Uy,zF,_b,e1=0,wQ=0,xQ=0,TQ=0,hQ=-1,dQ=-1;const N0={};let kQ=Xy.exports("");const QU=Zo?Zo.anchor:fo;let fQ=0,pQ=0;if(us._unevaluatedLayout.getValue("text-radial-offset")===void 0?[fQ,pQ]=us.layout.get("text-offset").evaluate(As,{},Jl).map(Np=>Np*ou):(fQ=us.layout.get("text-radial-offset").evaluate(As,{},Jl)*ou,pQ=Iv),So.allowVerticalPlacement&&is.vertical){const Np=is.vertical;if($a)zF=Lv(Np),xa&&(_b=Lv(xa));else{const Mp=us.layout.get("text-rotate").evaluate(As,{},Jl)+90;ep=AF(ms,QU,fo,Zs,ga,Ks,Np,_a,Mp,Tl),xa&&(_u=AF(ms,QU,fo,Zs,ga,Ks,xa,Os,Mp))}}if(Es){const Np=us.layout.get("icon-rotate").evaluate(As,{},Jl),Mp=us.layout.get("icon-text-fit")!=="none",t1=gB(Es,Np,_c,Mp),mQ=xa?gB(xa,Np,_c,Mp):void 0;yu=AF(ms,QU,fo,Zs,ga,Ks,Es,Os,Np),e1=4*t1.length;const CQ=So.iconSizeData;let SU=null;CQ.kind==="source"?(SU=[Qm*us.layout.get("icon-size").evaluate(As,{},Jl)],SU[0]>k0&&Tn(`${So.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):CQ.kind==="composite"&&(SU=[Qm*Ul.compositeIconSizes[0].evaluate(As,{},Jl),Qm*Ul.compositeIconSizes[1].evaluate(As,{},Jl)],(SU[0]>k0||SU[1]>k0)&&Tn(`${So.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),So.addSymbols(So.icon,t1,SU,Zl,Hl,As,!1,Zo,fo,Vu.lineStartIndex,Vu.lineLength,-1,zs,Jl),hQ=So.icon.placedSymbolArray.length-1,mQ&&(wQ=4*mQ.length,So.addSymbols(So.icon,mQ,SU,Zl,Hl,As,mp.vertical,Zo,fo,Vu.lineStartIndex,Vu.lineLength,-1,zs,Jl),dQ=So.icon.placedSymbolArray.length-1)}for(const Np in is.horizontal){const Mp=is.horizontal[Np];mu||(kQ=Xy.exports(Mp.text),$a?Uy=Lv(Mp):mu=AF(ms,QU,fo,Zs,ga,Ks,Mp,_a,us.layout.get("text-rotate").evaluate(As,{},Jl),Tl));const t1=Mp.positionedLines.length===1;if(xQ+=Wv(So,Zo,fo,Mp,$o,us,$a,As,Tl,Vu,is.vertical?mp.horizontal:mp.horizontalOnly,t1?Object.keys(is.horizontal):[Np],N0,hQ,Ul,zs,Jl),t1)break}is.vertical&&(TQ+=Wv(So,Zo,fo,is.vertical,$o,us,$a,As,Tl,Vu,mp.vertical,["vertical"],N0,dQ,Ul,zs,Jl));let S_=-1;const gQ=(Np,Mp)=>Np?Math.max(Np,Mp):Mp;S_=gQ(Uy,S_),S_=gQ(zF,S_),S_=gQ(_b,S_);const DQ=S_>-1?1:0;So.glyphOffsetArray.length>=A0.MAX_GLYPHS&&Tn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),As.sortKey!==void 0&&So.addToSortKeyRanges(So.symbolInstances.length,As.sortKey),So.symbolInstances.emplaceBack(QU.x,QU.y,QU.z,fo.x,fo.y,N0.right>=0?N0.right:-1,N0.center>=0?N0.center:-1,N0.left>=0?N0.left:-1,N0.vertical>=0?N0.vertical:-1,hQ,dQ,kQ,mu!==void 0?mu:So.collisionBoxArray.length,mu!==void 0?mu+1:So.collisionBoxArray.length,ep!==void 0?ep:So.collisionBoxArray.length,ep!==void 0?ep+1:So.collisionBoxArray.length,yu!==void 0?yu:So.collisionBoxArray.length,yu!==void 0?yu+1:So.collisionBoxArray.length,_u||So.collisionBoxArray.length,_u?_u+1:So.collisionBoxArray.length,Zs,xQ,TQ,e1,wQ,DQ,0,fQ,pQ,S_)})(tt,uo,po,Vr,nt,ot,ut,Yr,tt.layers[0],tt.collisionBoxArray,_e.index,_e.sourceLayerIndex,tt.index,fr,Er,Et,0,rr,Wr,Sn,_e,ft,xt,Wt,Gt)};if(Kr==="line")for(const Vr of ku(_e.geometry,0,0,Lo,Lo)){const uo=DR(Vr,nr,xr,nt.vertical||Mn,ot,24,qn,tt.overscaling,Lo);for(const Jo of uo){const po=Mn;po&&PR(tt,po.text,Cr,Jo)||eo(Vr,Jo,Gt)}}else if(Kr==="line-center"){for(const Vr of _e.geometry)if(Vr.length>1){const uo=MR(Vr,xr,nt.vertical||Mn,ot,24,qn);uo&&eo(Vr,uo,Gt)}}else if(_e.type==="Polygon")for(const Vr of Bv(_e.geometry,0)){const uo=JR(Vr,16);eo(Vr[0],new Hm(uo.x,uo.y,0,0,void 0),Gt)}else if(_e.type==="LineString")for(const Vr of _e.geometry)eo(Vr,new Hm(Vr[0].x,Vr[0].y,0,0,void 0),Gt);else if(_e.type==="Point")for(const Vr of _e.geometry)for(const uo of Vr)eo([uo],new Hm(uo.x,uo.y,0,0,void 0),Gt)}const k0=32640;function Wv(tt,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn,Sn,Mn){const Kn=function(nr,fr,rr,xr,Er,Wr,Kr,Cr){const zr=[];if(fr.positionedLines.length===0)return zr;const jr=xr.layout.get("text-rotate").evaluate(Wr,{})*Math.PI/180,Yr=function(po){const So=po[0],fo=po[1],Zo=So*fo;return Zo>0?[So,-fo]:Zo<0?[-So,fo]:So===0?[fo,So]:[fo,-So]}(rr);let eo=Math.abs(fr.top-fr.bottom);for(const po of fr.positionedLines)eo-=po.lineOffset;const Vr=fr.positionedLines.length,uo=eo/Vr;let Jo=fr.top-rr[1];for(let po=0;po<Vr;++po){const So=fr.positionedLines[po];Jo=IR(fr,uo,Jo,po);for(const fo of So.positionedGlyphs){if(!fo.rect)continue;const Zo=fo.rect||{};let Ko=4,is=!0,Es=1,$o=0;if(fo.imageName){const zs=Kr[fo.imageName];if(!zs)continue;if(zs.sdf){Tn("SDF images are not supported in formatted text and will be ignored.");continue}is=!1,Es=zs.pixelRatio,Ko=1/Es}const xa=(Er||Cr)&&fo.vertical,us=fo.metrics.advance*fo.scale/2,ms=fo.metrics,Zs=fo.rect;if(Zs===null)continue;Cr&&fr.verticalizable&&($o=fo.imageName?us-fo.metrics.width*fo.scale/2:0);const ga=Er?[fo.x+us,fo.y]:[0,0];let Ks=[0,0],_a=[0,0],$a=!1;Er||(xa?(_a=[fo.x+us+Yr[0],fo.y+Yr[1]-$o],$a=!0):Ks=[fo.x+us+rr[0],fo.y+rr[1]-$o]);const Tl=Zs.w*fo.scale/(Es*(fo.localGlyph?2:1)),gu=Zs.h*fo.scale/(Es*(fo.localGlyph?2:1));let Os,Hl,Zl,As;if(xa){const zs=fo.y-Jo,Jl=new St(-us,us-zs),Vu=-Math.PI/2,mu=new St(..._a);Os=new St(-us+Ks[0],Ks[1]),Os._rotateAround(Vu,Jl)._add(mu),Os.x+=-zs+us,Os.y-=(ms.left-Ko)*fo.scale;const yu=fo.imageName?ms.advance*fo.scale:ou*fo.scale,ep=String.fromCharCode(fo.glyph);xl(ep)?Os.x+=(1-Ko)*fo.scale:Dl(ep)?Os.x+=yu-ms.height*fo.scale+(-Ko-1)*fo.scale:Os.x+=fo.imageName||ms.width+2*Ko===Zs.w&&ms.height+2*Ko===Zs.h?(yu-gu)/2:(yu-(ms.height+2*Ko)*fo.scale)/2,Hl=new St(Os.x,Os.y-Tl),Zl=new St(Os.x+gu,Os.y),As=new St(Os.x+gu,Os.y-Tl)}else{const zs=(ms.left-Ko)*fo.scale-us+Ks[0],Jl=(-ms.top-Ko)*fo.scale+Ks[1],Vu=zs+Tl,mu=Jl+gu;Os=new St(zs,Jl),Hl=new St(Vu,Jl),Zl=new St(zs,mu),As=new St(Vu,mu)}if(jr){let zs;zs=Er?new St(0,0):$a?new St(Yr[0],Yr[1]):new St(rr[0],rr[1]),Os._rotateAround(jr,zs),Hl._rotateAround(jr,zs),Zl._rotateAround(jr,zs),As._rotateAround(jr,zs)}const Ul=new St(0,0),_c=new St(0,0);zr.push({tl:Os,tr:Hl,bl:Zl,br:As,tex:Zo,writingMode:fr.writingMode,glyphOffset:ga,sectionIndex:fo.sectionIndex,isSDF:is,pixelOffsetTL:Ul,pixelOffsetBR:_c,minFontScaleX:0,minFontScaleY:0})}}return zr}(0,ot,Et,ft,mt,Bt,ut,tt.allowVerticalPlacement),lr=tt.textSizeData;let qn=null;lr.kind==="source"?(qn=[Qm*ft.layout.get("text-size").evaluate(Bt,{},Mn)],qn[0]>k0&&Tn(`${tt.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):lr.kind==="composite"&&(qn=[Qm*Fn.compositeTextSizes[0].evaluate(Bt,{},Mn),Qm*Fn.compositeTextSizes[1].evaluate(Bt,{},Mn)],(qn[0]>k0||qn[1]>k0)&&Tn(`${tt.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),tt.addSymbols(tt.text,Kn,qn,Et,mt,Bt,Wt,_e,nt,xt.lineStartIndex,xt.lineLength,pn,Sn,Mn);for(const nr of Gt)Xt[nr]=tt.text.placedSymbolArray.length-1;return 4*Kn.length}function Ov(tt){for(const _e in tt)return tt[_e];return null}function AF(tt,_e,nt,ot,ut,ft,mt,Bt,Et,xt){let Wt=mt.top,Gt=mt.bottom,Xt=mt.left,pn=mt.right;const Fn=mt.collisionPadding;if(Fn&&(Xt-=Fn[0],Wt-=Fn[1],pn+=Fn[2],Gt+=Fn[3]),Et){const Sn=new St(Xt,Wt),Mn=new St(pn,Wt),Kn=new St(Xt,Gt),lr=new St(pn,Gt),qn=Ct(Et);let nr=new St(0,0);xt&&(nr=new St(xt[0],xt[1])),Sn._rotateAround(qn,nr),Mn._rotateAround(qn,nr),Kn._rotateAround(qn,nr),lr._rotateAround(qn,nr),Xt=Math.min(Sn.x,Mn.x,Kn.x,lr.x),pn=Math.max(Sn.x,Mn.x,Kn.x,lr.x),Wt=Math.min(Sn.y,Mn.y,Kn.y,lr.y),Gt=Math.max(Sn.y,Mn.y,Kn.y,lr.y)}return tt.emplaceBack(_e.x,_e.y,_e.z,nt.x,nt.y,Xt,Wt,pn,Gt,Bt,ot,ut,ft),tt.length-1}function Lv(tt){tt.collisionPadding&&(tt.top-=tt.collisionPadding[1],tt.bottom+=tt.collisionPadding[3]);const _e=tt.bottom-tt.top;return _e>0?Math.max(10,_e):null}function PR(tt,_e,nt,ot){const ut=tt.compareText;if(_e in ut){const ft=ut[_e];for(let mt=ft.length-1;mt>=0;mt--)if(ot.dist(ft[mt])<nt)return!0}else ut[_e]=[];return ut[_e].push(ot),!1}const ZR=io([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:UB}=ZR,FB=io([{name:"a_pos_3",components:3,type:"Int16"}]);var _U=io([{name:"a_pos",type:"Int16",components:2}]);const Ym=Lo/Math.PI/2,Pv=2*dp(1,0)*Ym*Math.PI,U_=64,F_=[U_,32,16],im=-Ym,om=Ym,zR=[new Ru([im,im,im],[om,om,om]),new Ru([im,im,im],[0,0,om]),new Ru([0,im,im],[om,0,om]),new Ru([im,0,im],[0,om,om]),new Ru([0,0,im],[om,om,om])];function vB(tt,_e,nt,ot=!0){const ut=pp([],tt._camera.position,tt.worldSize),ft=[_e,nt,1,1];E0(ft,ft,tt.pixelMatrixInverse),F1(ft,ft,1/ft[3]);const mt=Bu([],Cp([],ft,ut)),Bt=tt.globeMatrix,Et=[Bt[12],Bt[13],Bt[14]],xt=Cp([],Et,ut),Wt=rm(xt),Gt=Bu([],xt),Xt=tt.worldSize/(2*Math.PI),pn=kp(Gt,mt),Fn=Math.asin(Xt/Wt);if(Fn<Math.acos(pn)){if(!ot)return null;const Kr=[],Cr=[];pp(Kr,mt,Wt/pn),Bu(Cr,Cp(Cr,Kr,xt)),Bu(mt,Rm(mt,xt,pp(mt,Cr,Math.tan(Fn)*Wt)))}const Sn=[];new mv(ut,mt).closestPointOnSphere(Et,Xt,Sn);const Mn=Bu([],_o(Bt,0)),Kn=Bu([],_o(Bt,1)),lr=Bu([],_o(Bt,2)),qn=kp(Mn,Sn),nr=kp(Kn,Sn),fr=kp(lr,Sn),rr=Vt(Math.asin(-nr/Xt));let xr=Vt(Math.atan2(qn,fr));xr=tt.center.lng+function(Kr,Cr){const zr=(Cr-Kr+180)%360-180;return zr<-180?zr+360:zr}(tt.center.lng,xr);const Er=ru(xr),Wr=Kt(em(rr),0,1);return new B0(Er,Wr)}class jR{constructor(_e,nt,ot){this.a=Cp([],_e,ot),this.b=Cp([],nt,ot),this.center=ot;const ut=Bu([],this.a),ft=Bu([],this.b);this.angle=Math.acos(kp(ut,ft))}}function Zv(tt,_e){if(tt.angle===0)return null;let nt;return nt=tt.a[_e]===0?1/tt.angle*.5*Math.PI:1/tt.angle*Math.atan(tt.b[_e]/tt.a[_e]/Math.sin(tt.angle)-1/Math.tan(tt.angle)),nt<0||nt>1?null:function(ot,ut,ft,mt){const Bt=Math.sin(ft);return ot*(Math.sin((1-mt)*ft)/Bt)+ut*(Math.sin(mt*ft)/Bt)}(tt.a[_e],tt.b[_e],tt.angle,Kt(nt,0,1))+tt.center[_e]}function xm(tt){if(tt.z<=1)return zR[tt.z+2*tt.y+tt.x];const _e=zv(VF(tt));return Ru.fromPoints(_e)}function gy(tt,_e,nt){return pp(tt,tt,1-nt),aU(tt,tt,_e,nt)}function bB(tt,_e){const nt=B_(_e.zoom);if(nt===0)return xm(tt);const ot=VF(tt),ut=zv(ot),ft=ru(ot.getWest())*_e.worldSize,mt=ru(ot.getEast())*_e.worldSize,Bt=em(ot.getNorth())*_e.worldSize,Et=em(ot.getSouth())*_e.worldSize,xt=[ft,Bt,0],Wt=[mt,Bt,0],Gt=[ft,Et,0],Xt=[mt,Et,0],pn=sF([],_e.globeMatrix);return Ml(xt,xt,pn),Ml(Wt,Wt,pn),Ml(Gt,Gt,pn),Ml(Xt,Xt,pn),ut[0]=gy(ut[0],Gt,nt),ut[1]=gy(ut[1],Xt,nt),ut[2]=gy(ut[2],Wt,nt),ut[3]=gy(ut[3],xt,nt),Ru.fromPoints(ut)}function BB(tt,_e,nt){for(const ot of tt)Ml(ot,ot,_e),pp(ot,ot,nt)}function GR(tt,_e,nt){const ot=_e/tt.worldSize,ut=tt.globeMatrix;if(nt.z<=1){const Er=xm(nt).getCorners();return BB(Er,ut,ot),Ru.fromPoints(Er)}const ft=VF(nt),mt=zv(ft);BB(mt,ut,ot);const Bt=Number.MAX_VALUE,Et=[-Bt,-Bt,-Bt],xt=[Bt,Bt,Bt];if(ft.contains(tt.center)){for(const Kr of mt)oU(xt,xt,Kr),sU(Et,Et,Kr);Et[2]=0;const Er=tt.point,Wr=[Er.x*ot,Er.y*ot,0];return oU(xt,xt,Wr),sU(Et,Et,Wr),new Ru(xt,Et)}const Wt=[ut[12]*ot,ut[13]*ot,ut[14]*ot],Gt=ft.getCenter(),Xt=Kt(tt.center.lat,-85.051129,vm),pn=Kt(Gt.lat,-85.051129,vm),Fn=ru(tt.center.lng),Sn=em(Xt);let Mn=Fn-ru(Gt.lng);const Kn=Sn-em(pn);Mn>.5?Mn-=1:Mn<-.5&&(Mn+=1);let lr=0;Math.abs(Mn)>Math.abs(Kn)?lr=Mn>=0?1:3:(lr=Kn>=0?0:2,aU(Wt,Wt,[ut[4]*ot,ut[5]*ot,ut[6]*ot],-Math.sin(Ct(Kn>=0?ft.getSouth():ft.getNorth()))*Ym));const qn=mt[lr],nr=mt[(lr+1)%4],fr=new jR(qn,nr,Wt),rr=[Zv(fr,0)||qn[0],Zv(fr,1)||qn[1],Zv(fr,2)||qn[2]],xr=B_(tt.zoom);if(xr>0){const Er=function({x:Kr,y:Cr,z:zr},jr,Yr,eo,Vr){const uo=1/(1<<zr);let Jo=Kr*uo,po=Jo+uo,So=Cr*uo,fo=So+uo,Zo=0;const Ko=(Jo+po)/2-eo;return Ko>.5?Zo=-1:Ko<-.5&&(Zo=1),Jo=((Jo+Zo)*jr-(eo*=jr))*Yr+eo,po=((po+Zo)*jr-eo)*Yr+eo,So=(So*jr-(Vr*=jr))*Yr+Vr,fo=(fo*jr-Vr)*Yr+Vr,[[Jo,fo,0],[po,fo,0],[po,So,0],[Jo,So,0]]}(nt,_e,tt._pixelsPerMercatorPixel,Fn,Sn);for(let Kr=0;Kr<mt.length;Kr++)gy(mt[Kr],Er[Kr],xr);const Wr=Rm([],Er[lr],Er[(lr+1)%4]);pp(Wr,Wr,.5),gy(rr,Wr,xr)}for(const Er of mt)oU(xt,xt,Er),sU(Et,Et,Er);return xt[2]=Math.min(qn[2],nr[2]),oU(xt,xt,rr),sU(Et,Et,rr),new Ru(xt,Et)}function VF({x:tt,y:_e,z:nt}){const ot=1/(1<<nt),ut=new Bs(fp(tt*ot),$l((_e+1)*ot)),ft=new Bs(fp((tt+1)*ot),$l(_e*ot));return new _g(ut,ft)}function zv(tt){const _e=Ct(tt.getNorth()),nt=Ct(tt.getSouth()),ot=Math.cos(_e),ut=Math.cos(nt),ft=Math.sin(_e),mt=Math.sin(nt),Bt=tt.getWest(),Et=tt.getEast();return[v_(ut,mt,Bt),v_(ut,mt,Et),v_(ot,ft,Et),v_(ot,ft,Bt)]}function v_(tt,_e,nt,ot=Ym){return nt=Ct(nt),[tt*Math.sin(nt)*ot,-_e*ot,tt*Math.cos(nt)*ot]}function my(tt,_e,nt){return v_(Math.cos(Ct(tt)),Math.sin(Ct(tt)),_e,nt)}function b_(tt,_e,nt,ot){const ut=1<<nt.z,ft=(tt/Lo+nt.x)/ut;return my($l((_e/Lo+nt.y)/ut),fp(ft),ot)}function UU({min:tt,max:_e}){return 16383/Math.max(_e[0]-tt[0],_e[1]-tt[1],_e[2]-tt[2])}const RB=new Float64Array(16);function FU(tt){const _e=UU(tt),nt=dv(RB,[_e,_e,_e]);return uy(nt,nt,((ot=[])[0]=-(ut=tt.min)[0],ot[1]=-ut[1],ot[2]=-ut[2],ot));var ot,ut}function jv(tt){const _e=(ot=tt.min,(nt=RB)[0]=1,nt[1]=0,nt[2]=0,nt[3]=0,nt[4]=0,nt[5]=1,nt[6]=0,nt[7]=0,nt[8]=0,nt[9]=0,nt[10]=1,nt[11]=0,nt[12]=ot[0],nt[13]=ot[1],nt[14]=ot[2],nt[15]=1,nt);var nt,ot;const ut=1/UU(tt);return S0(_e,_e,[ut,ut,ut])}function NF(tt,_e,nt,ot,ut){const ft=function(Et){const xt=Lo/(2*Math.PI);return Et/(2*Math.PI)/xt}(nt),mt=[tt,_e,-nt/(2*Math.PI)],Bt=tm(new Float64Array(16));return uy(Bt,Bt,mt),S0(Bt,Bt,[ft,ft,ft]),hy(Bt,Bt,Ct(-ut)),n_(Bt,Bt,Ct(-ot)),Bt}function B_(tt){return $t(5,6,tt)}function QB(tt,_e){const nt=my(_e.lat,_e.lng),ot=function(Fn){const Sn=my(Fn._center.lat,Fn._center.lng);let Mn=gv([],r_(0,1,0),Sn);const Kn=fv([],-Fn.angle,Sn);Mn=Ml(Mn,Mn,Kn),fv(Kn,-Fn._pitch,Mn);const lr=Bu([],Sn);return pp(lr,lr,Fn.cameraToCenterDistance/Fn.pixelsPerMeter*Pv),Ml(lr,lr,Kn),Rm([],Sn,lr)}(tt);return mt=(ut=pv([],ot,nt))[0],Bt=ut[1],Et=ut[2],xt=(ft=nt)[0],Wt=ft[1],Gt=ft[2],pn=(Xt=Math.sqrt(mt*mt+Bt*Bt+Et*Et)*Math.sqrt(xt*xt+Wt*Wt+Gt*Gt))&&kp(ut,ft)/Xt,Math.acos(Math.min(Math.max(pn,-1),1));var ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn}const SB=Ct(85),_d=Math.cos(SB),Gv=Math.sin(SB);function EB(tt,_e){const nt=tt.fovAboveCenter,ot=tt.elevation?tt.elevation.getMinElevationBelowMSL()*_e:0,ut=(tt._camera.position[2]*tt.worldSize-ot)/Math.cos(tt._pitch),ft=Math.sin(nt)*ut/Math.sin(Math.max(Math.PI/2-tt._pitch-nt,.01)),mt=Math.sin(tt._pitch)*ft+ut;return Math.min(1.01*mt,ut*(1/tt._horizonShift))}function yy(tt,_e){if(!_e.isReprojectedInTileSpace)return{scale:1<<tt.z,x:tt.x,y:tt.y,x2:tt.x+1,y2:tt.y+1,projection:_e};const nt=Math.pow(2,-tt.z),ot=tt.x*nt,ut=(tt.x+1)*nt,ft=tt.y*nt,mt=(tt.y+1)*nt,Bt=fp(ot),Et=fp(ut),xt=$l(ft),Wt=$l(mt),Gt=_e.project(Bt,xt),Xt=_e.project(Et,xt),pn=_e.project(Et,Wt),Fn=_e.project(Bt,Wt);let Sn=Math.min(Gt.x,Xt.x,pn.x,Fn.x),Mn=Math.min(Gt.y,Xt.y,pn.y,Fn.y),Kn=Math.max(Gt.x,Xt.x,pn.x,Fn.x),lr=Math.max(Gt.y,Xt.y,pn.y,Fn.y);const qn=nt/16;function nr(rr,xr,Er,Wr,Kr,Cr){const zr=(Er+Kr)/2,jr=(Wr+Cr)/2,Yr=_e.project(fp(zr),$l(jr)),eo=Math.max(0,Sn-Yr.x,Mn-Yr.y,Yr.x-Kn,Yr.y-lr);Sn=Math.min(Sn,Yr.x),Kn=Math.max(Kn,Yr.x),Mn=Math.min(Mn,Yr.y),lr=Math.max(lr,Yr.y),eo>qn&&(nr(rr,Yr,Er,Wr,zr,jr),nr(Yr,xr,zr,jr,Kr,Cr))}nr(Gt,Xt,ot,ft,ut,ft),nr(Xt,pn,ut,ft,ut,mt),nr(pn,Fn,ut,mt,ot,mt),nr(Fn,Gt,ot,mt,ot,ft),Sn-=qn,Mn-=qn,Kn+=qn,lr+=qn;const fr=1/Math.max(Kn-Sn,lr-Mn);return{scale:fr,x:Sn*fr,y:Mn*fr,x2:Kn*fr,y2:lr*fr,projection:_e}}const HR=tm(new Float32Array(16));class C0{constructor(_e){this.spec=_e,this.name=_e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(_e,nt){return{x:0,y:0,z:0}}unproject(_e,nt){return new Bs(0,0)}projectTilePoint(_e,nt,ot){return{x:_e,y:nt,z:0}}locationPoint(_e,nt,ot=!0){return _e._coordinatePoint(_e.locationCoordinate(nt),ot)}pixelsPerMeter(_e,nt){return dp(1,_e)*nt}pixelSpaceConversion(_e,nt,ot){return 1}farthestPixelDistance(_e){return EB(_e,_e.pixelsPerMeter)}pointCoordinate(_e,nt,ot,ut){const ft=_e.horizonLineFromTop(!1),mt=new St(nt,Math.max(ft,ot));return _e.rayIntersectionCoordinate(_e.pointRayIntersection(mt,ut))}pointCoordinate3D(_e,nt,ot){const ut=new St(nt,ot);if(_e.elevation)return _e.elevation.pointCoordinate(ut);{const ft=this.pointCoordinate(_e,ut.x,ut.y,0);return[ft.x,ft.y,ft.z]}}isPointAboveHorizon(_e,nt){if(_e.elevation)return!this.pointCoordinate3D(_e,nt.x,nt.y);const ot=_e.horizonLineFromTop();return nt.y<ot}createInversionMatrix(_e,nt){return HR}createTileMatrix(_e,nt,ot){let ut,ft,mt;const Bt=ot.canonical,Et=tm(new Float64Array(16));if(this.isReprojectedInTileSpace){const xt=yy(Bt,this);ut=1,ft=xt.x+ot.wrap*xt.scale,mt=xt.y,S0(Et,Et,[ut/xt.scale,ut/xt.scale,_e.pixelsPerMeter/nt])}else ut=nt/_e.zoomScale(Bt.z),ft=(Bt.x+Math.pow(2,Bt.z)*ot.wrap)*ut,mt=Bt.y*ut;return uy(Et,Et,[ft,mt,0]),S0(Et,Et,[ut/Lo,ut/Lo,1]),Et}upVector(_e,nt,ot){return[0,0,1]}upVectorScale(_e,nt,ot){return{metersToTile:1}}}class Hv extends C0{constructor(_e){super(_e),this.range=[4,7],this.center=_e.center||[-96,37.5];const[nt,ot]=this.parallels=_e.parallels||[29.5,45.5],ut=Math.sin(Ct(nt));this.n=(ut+Math.sin(Ct(ot)))/2,this.c=1+ut*(2*this.n-ut),this.r0=Math.sqrt(this.c)/this.n}project(_e,nt){const{n:ot,c:ut,r0:ft}=this,mt=Ct(_e-this.center[0]),Bt=Ct(nt),Et=Math.sqrt(ut-2*ot*Math.sin(Bt))/ot;return{x:Et*Math.sin(mt*ot),y:Et*Math.cos(mt*ot)-ft,z:0}}unproject(_e,nt){const{n:ot,c:ut,r0:ft}=this,mt=ft+nt;let Bt=Math.atan2(_e,Math.abs(mt))*Math.sign(mt);mt*ot<0&&(Bt-=Math.PI*Math.sign(_e)*Math.sign(mt));const Et=Ct(this.center[0])*ot;Bt=hn(Bt,-Math.PI-Et,Math.PI-Et);const xt=Kt(Vt(Bt/ot)+this.center[0],-180,180),Wt=Math.asin(Kt((ut-(_e*_e+mt*mt)*ot*ot)/(2*ot),-1,1)),Gt=Kt(Vt(Wt),-85.051129,vm);return new Bs(xt,Gt)}}const vU=1.340264,_y=-.081106,bU=893e-6,BU=.003796,MF=Math.sqrt(3)/2;class YR extends C0{project(_e,nt){nt=nt/180*Math.PI,_e=_e/180*Math.PI;const ot=Math.asin(MF*Math.sin(nt)),ut=ot*ot,ft=ut*ut*ut;return{x:.5*(_e*Math.cos(ot)/(MF*(vU+3*_y*ut+ft*(7*bU+9*BU*ut)))/Math.PI+.5),y:1-.5*(ot*(vU+_y*ut+ft*(bU+BU*ut))/Math.PI+1),z:0}}unproject(_e,nt){_e=(2*_e-.5)*Math.PI;let ot=nt=(2*(1-nt)-1)*Math.PI,ut=ot*ot,ft=ut*ut*ut;for(let Wt,Gt,Xt,pn=0;pn<12&&(Gt=ot*(vU+_y*ut+ft*(bU+BU*ut))-nt,Xt=vU+3*_y*ut+ft*(7*bU+9*BU*ut),Wt=Gt/Xt,ot=Kt(ot-Wt,-Math.PI/3,Math.PI/3),ut=ot*ot,ft=ut*ut*ut,!(Math.abs(Wt)<1e-12));++pn);const mt=MF*_e*(vU+3*_y*ut+ft*(7*bU+9*BU*ut))/Math.cos(ot),Bt=Math.asin(Math.sin(ot)/MF),Et=Kt(180*mt/Math.PI,-180,180),xt=Kt(180*Bt/Math.PI,-85.051129,vm);return new Bs(Et,xt)}}class wB extends C0{constructor(_e){super(_e),this.wrap=!0,this.supportsWorldCopies=!0}project(_e,nt){return{x:.5+_e/360,y:.5-nt/360,z:0}}unproject(_e,nt){const ot=360*(_e-.5),ut=Kt(360*(.5-nt),-85.051129,vm);return new Bs(ot,ut)}}const R_=Math.PI/2;function DF(tt){return Math.tan((R_+tt)/2)}class XR extends C0{constructor(_e){super(_e),this.center=_e.center||[0,30];const[nt,ot]=this.parallels=_e.parallels||[30,30];let ut=Ct(nt),ft=Ct(ot);this.southernCenter=ut+ft<0,this.southernCenter&&(ut=-ut,ft=-ft);const mt=Math.cos(ut),Bt=DF(ut);this.n=ut===ft?Math.sin(ut):Math.log(mt/Math.cos(ft))/Math.log(DF(ft)/Bt),this.f=mt*Math.pow(DF(ut),this.n)/this.n}project(_e,nt){nt=Ct(nt),this.southernCenter&&(nt=-nt),_e=Ct(_e-this.center[0]);const ot=1e-6,{n:ut,f:ft}=this;ft>0?nt<-R_+ot&&(nt=-R_+ot):nt>R_-ot&&(nt=R_-ot);const mt=ft/Math.pow(DF(nt),ut);let Bt=mt*Math.sin(ut*_e),Et=ft-mt*Math.cos(ut*_e);return Bt=.5*(Bt/Math.PI+.5),Et=.5*(Et/Math.PI+.5),{x:Bt,y:this.southernCenter?Et:1-Et,z:0}}unproject(_e,nt){_e=(2*_e-.5)*Math.PI,this.southernCenter&&(nt=1-nt),nt=(2*(1-nt)-.5)*Math.PI;const{n:ot,f:ut}=this,ft=ut-nt,mt=Math.sign(ft),Bt=Math.sign(ot)*Math.sqrt(_e*_e+ft*ft);let Et=Math.atan2(_e,Math.abs(ft))*mt;ft*ot<0&&(Et-=Math.PI*Math.sign(_e)*mt);const xt=Kt(Vt(Et/ot)+this.center[0],-180,180),Wt=Kt(Vt(2*Math.atan(Math.pow(ut/Bt,1/ot))-R_),-85.051129,vm);return new Bs(xt,this.southernCenter?-Wt:Wt)}}class IF extends C0{constructor(_e){super(_e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(_e,nt){return{x:ru(_e),y:em(nt),z:0}}unproject(_e,nt){const ot=fp(_e),ut=$l(nt);return new Bs(ot,ut)}}const JF=Ct(vm);class $R extends C0{project(_e,nt){const ot=(nt=Ct(nt))*nt,ut=ot*ot;return{x:.5*((_e=Ct(_e))*(.8707-.131979*ot+ut*(ut*(.003971*ot-.001529*ut)-.013791))/Math.PI+.5),y:1-.5*(nt*(1.007226+ot*(.015085+ut*(.028874*ot-.044475-.005916*ut)))/Math.PI+1),z:0}}unproject(_e,nt){_e=(2*_e-.5)*Math.PI;let ot=nt=(2*(1-nt)-1)*Math.PI,ut=25,ft=0,mt=ot*ot;do{mt=ot*ot;const xt=mt*mt;ft=(ot*(1.007226+mt*(.015085+xt*(.028874*mt-.044475-.005916*xt)))-nt)/(1.007226+mt*(.045255+xt*(.259866*mt-.311325-.005916*11*xt))),ot=Kt(ot-ft,-JF,JF)}while(Math.abs(ft)>1e-6&&--ut>0);mt=ot*ot;const Bt=Kt(Vt(_e/(.8707+mt*(mt*(mt*mt*mt*(.003971-.001529*mt)-.013791)-.131979))),-180,180),Et=Vt(ot);return new Bs(Bt,Et)}}const xB=Ct(vm);class qR extends C0{project(_e,nt){nt=Ct(nt),_e=Ct(_e);const ot=Math.cos(nt),ut=2/Math.PI,ft=Math.acos(ot*Math.cos(_e/2)),mt=Math.sin(ft)/ft,Bt=.5*(_e*ut+2*ot*Math.sin(_e/2)/mt)||0,Et=.5*(nt+Math.sin(nt)/mt)||0;return{x:.5*(Bt/Math.PI+.5),y:1-.5*(Et/Math.PI+1),z:0}}unproject(_e,nt){let ot=_e=(2*_e-.5)*Math.PI,ut=nt=(2*(1-nt)-1)*Math.PI,ft=25;const mt=1e-6;let Bt=0,Et=0;do{const xt=Math.cos(ut),Wt=Math.sin(ut),Gt=2*Wt*xt,Xt=Wt*Wt,pn=xt*xt,Fn=Math.cos(ot/2),Sn=Math.sin(ot/2),Mn=2*Fn*Sn,Kn=Sn*Sn,lr=1-pn*Fn*Fn,qn=lr?1/lr:0,nr=lr?Math.acos(xt*Fn)*Math.sqrt(1/lr):0,fr=.5*(2*nr*xt*Sn+2*ot/Math.PI)-_e,rr=.5*(nr*Wt+ut)-nt,xr=.5*qn*(pn*Kn+nr*xt*Fn*Xt)+1/Math.PI,Er=qn*(Mn*Gt/4-nr*Wt*Sn),Wr=.125*qn*(Gt*Sn-nr*Wt*pn*Mn),Kr=.5*qn*(Xt*Fn+nr*Kn*xt)+.5,Cr=Er*Wr-Kr*xr;Bt=(rr*Er-fr*Kr)/Cr,Et=(fr*Wr-rr*xr)/Cr,ot=Kt(ot-Bt,-Math.PI,Math.PI),ut=Kt(ut-Et,-xB,xB)}while((Math.abs(Bt)>mt||Math.abs(Et)>mt)&&--ft>0);return new Bs(Vt(ot),Vt(ut))}}class TB extends C0{constructor(_e){super(_e),this.center=_e.center||[0,0],this.parallels=_e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Ct(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(_e,nt){const{scale:ot,cosPhi:ut}=this;return{x:Ct(_e)*ut*ot+.5,y:-Math.sin(Ct(nt))/ut*ot+.5,z:0}}unproject(_e,nt){const{scale:ot,cosPhi:ut}=this,ft=-(nt-.5)/ot,mt=Kt(Vt((_e-.5)/ot)/ut,-180,180),Bt=Math.asin(Kt(ft*ut,-1,1)),Et=Kt(Vt(Bt),-85.051129,vm);return new Bs(mt,Et)}}class KR extends IF{constructor(_e){super(_e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(_e,nt,ot){const ut=b_(_e,nt,ot);return Ml(ut,ut,FU(xm(ot))),{x:ut[0],y:ut[1],z:ut[2]}}locationPoint(_e,nt){const ot=my(nt.lat,nt.lng),ut=Bu([],ot),ft=_e.elevation?_e.elevation.getAtPointOrZero(_e.locationCoordinate(nt),_e._centerAltitude):_e._centerAltitude;aU(ot,ot,ut,dp(1,0)*Lo*ft);const mt=tm(new Float64Array(16));return t_(mt,_e.pixelMatrix,_e.globeMatrix),Ml(ot,ot,mt),new St(ot[0],ot[1])}pixelsPerMeter(_e,nt){return dp(1,0)*nt}pixelSpaceConversion(_e,nt,ot){const ut=dp(1,_e)*nt,ft=_s(dp(1,45)*nt,ut,ot);return this.pixelsPerMeter(_e,nt)/ft}createTileMatrix(_e,nt,ot){const ut=jv(xm(ot.canonical));return t_(new Float64Array(16),_e.globeMatrix,ut)}createInversionMatrix(_e,nt){const{center:ot}=_e,ut=FU(xm(nt));return n_(ut,ut,Ct(ot.lng)),hy(ut,ut,Ct(ot.lat)),S0(ut,ut,[_e._pixelsPerMercatorPixel,_e._pixelsPerMercatorPixel,1]),Float32Array.from(ut)}pointCoordinate(_e,nt,ot,ut){return vB(_e,nt,ot,!0)||new B0(0,0)}pointCoordinate3D(_e,nt,ot){const ut=this.pointCoordinate(_e,nt,ot,0);return[ut.x,ut.y,ut.z]}isPointAboveHorizon(_e,nt){return!vB(_e,nt.x,nt.y,!1)}farthestPixelDistance(_e){const nt=function(ut,ft){const mt=ut.cameraToCenterDistance,Bt=ut._centerAltitude*ft,Et=ut._camera,xt=ut._camera.forward(),Wt=Rm([],pp([],xt,-mt),[0,0,Bt]),Gt=ut.worldSize/(2*Math.PI),Xt=[0,0,-Gt],pn=ut.width/ut.height,Fn=Math.tan(ut.fovAboveCenter),Sn=pp([],Et.up(),Fn),Mn=pp([],Et.right(),Fn*pn),Kn=Bu([],Rm([],Rm([],xt,Sn),Mn)),lr=[];let qn;if(new mv(Wt,Kn).closestPointOnSphere(Xt,Gt,lr)){const nr=Rm([],lr,Xt),fr=Cp([],nr,Wt);qn=Math.cos(ut.fovAboveCenter)*rm(fr)}else{const nr=Cp([],Wt,Xt),fr=Cp([],Xt,Wt);Bu(fr,fr);const rr=rm(nr)-Gt;qn=Math.sqrt(rr*(rr+2*Gt));const xr=Math.acos(qn/(Gt+rr))-Math.acos(kp(xt,fr));qn*=Math.cos(xr)}return 1.01*qn}(_e,this.pixelsPerMeter(_e.center.lat,_e.worldSize)),ot=B_(_e.zoom);if(ot>0){const ut=EB(_e,dp(1,_e.center.lat)*_e.worldSize),ft=_e.worldSize/(2*Math.PI),mt=Math.max(_e.width,_e.height)/_e.worldSize*Math.PI;return _s(nt,ut+ft*(1-Math.cos(mt)),Math.pow(ot,10))}return nt}upVector(_e,nt,ot){return b_(nt,ot,_e,1)}upVectorScale(_e){return{metersToTile:Pv*UU(xm(_e))}}}function kB(tt){const _e=tt.parallels,nt=!!_e&&Math.abs(_e[0]+_e[1])<.01;switch(tt.name){case"mercator":return new IF(tt);case"equirectangular":return new wB(tt);case"naturalEarth":return new $R(tt);case"equalEarth":return new YR(tt);case"winkelTripel":return new qR(tt);case"albers":return nt?new TB(tt):new Hv(tt);case"lambertConformalConic":return nt?new TB(tt):new XR(tt);case"globe":return new KR(tt)}throw new Error(`Invalid projection name: ${tt.name}`)}const eQ=_F.types,tQ=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function WF(tt,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt){const pn=Bt?Math.min(k0,Math.round(Bt[0])):0,Fn=Bt?Math.min(k0,Math.round(Bt[1])):0;tt.emplaceBack(_e,nt,Math.round(32*ot),Math.round(32*ut),ft,mt,(pn<<1)+(Et?1:0),Fn,16*xt,16*Wt,256*Gt,256*Xt)}function OF(tt,_e,nt,ot,ut,ft,mt){tt.emplaceBack(_e,nt,ot,ut,ft,mt)}function LF(tt,_e,nt,ot,ut){tt.emplaceBack(_e,nt,ot,ut),tt.emplaceBack(_e,nt,ot,ut),tt.emplaceBack(_e,nt,ot,ut),tt.emplaceBack(_e,nt,ot,ut)}function nQ(tt){for(const _e of tt.sections)if(en(_e.text))return!0;return!1}class Yv{constructor(_e){this.layoutVertexArray=new ba,this.indexArray=new Xl,this.programConfigurations=_e,this.segments=new Nl,this.dynamicLayoutVertexArray=new Vl,this.opacityVertexArray=new Ql,this.placedSymbolArray=new YF,this.globeExtVertexArray=new ks}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(_e,nt,ot,ut){this.isEmpty()||(ot&&(this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,QR.members),this.indexBuffer=_e.createIndexBuffer(this.indexArray,nt),this.dynamicLayoutVertexBuffer=_e.createVertexBuffer(this.dynamicLayoutVertexArray,Pl.members,!0),this.opacityVertexBuffer=_e.createVertexBuffer(this.opacityVertexArray,tQ,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=_e.createVertexBuffer(this.globeExtVertexArray,_h.members,!0)),this.opacityVertexBuffer.itemSize=1),(ot||ut)&&this.programConfigurations.upload(_e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}yo(Yv,"SymbolBuffers");class Xv{constructor(_e,nt,ot){this.layoutVertexArray=new _e,this.layoutAttributes=nt,this.indexArray=new ot,this.segments=new Nl,this.collisionVertexArray=new qp,this.collisionVertexArrayExt=new ju}upload(_e){this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=_e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=_e.createVertexBuffer(this.collisionVertexArray,SR.members,!0),this.collisionVertexBufferExt=_e.createVertexBuffer(this.collisionVertexArrayExt,x0.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}yo(Xv,"CollisionBuffers");class A0{constructor(_e){this.collisionBoxArray=_e.collisionBoxArray,this.zoom=_e.zoom,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map(mt=>mt.id),this.index=_e.index,this.pixelRatio=_e.pixelRatio,this.sourceLayerIndex=_e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=tm([]),this.placementViewportMatrix=tm([]);const nt=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Cv(this.zoom,nt["text-size"]),this.iconSizeData=Cv(this.zoom,nt["icon-size"]);const ot=this.layers[0].layout,ut=ot.get("symbol-sort-key"),ft=ot.get("symbol-z-order");this.canOverlap=ot.get("text-allow-overlap")||ot.get("icon-allow-overlap")||ot.get("text-ignore-placement")||ot.get("icon-ignore-placement"),this.sortFeaturesByKey=ft!=="viewport-y"&&ut.constantOr(1)!==void 0,this.sortFeaturesByY=(ft==="viewport-y"||ft==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=ot.get("text-writing-mode").map(mt=>mp[mt]),this.stateDependentLayerIds=this.layers.filter(mt=>mt.isStateDependent()).map(mt=>mt.id),this.sourceID=_e.sourceID,this.projection=_e.projection}createArrays(){this.text=new Yv(new Tp(this.layers,this.zoom,_e=>/^text/.test(_e))),this.icon=new Yv(new Tp(this.layers,this.zoom,_e=>/^icon/.test(_e))),this.glyphOffsetArray=new Lm,this.lineVertexArray=new HU,this.symbolInstances=new Gu}calculateGlyphDependencies(_e,nt,ot,ut,ft){for(let mt=0;mt<_e.length;mt++)if(nt[_e.charCodeAt(mt)]=!0,ut&&ft){const Bt=T0[_e.charAt(mt)];Bt&&(nt[Bt.charCodeAt(0)]=!0)}}populate(_e,nt,ot,ut){const ft=this.layers[0],mt=ft.layout,Bt=this.projection.name==="globe",Et=mt.get("text-font"),xt=mt.get("text-field"),Wt=mt.get("icon-image"),Gt=(xt.value.kind!=="constant"||xt.value.value instanceof sn&&!xt.value.value.isEmpty()||xt.value.value.toString().length>0)&&(Et.value.kind!=="constant"||Et.value.value.length>0),Xt=Wt.value.kind!=="constant"||!!Wt.value.value||Object.keys(Wt.parameters).length>0,pn=mt.get("symbol-sort-key");if(this.features=[],!Gt&&!Xt)return;const Fn=nt.iconDependencies,Sn=nt.glyphDependencies,Mn=nt.availableImages,Kn=new $n(this.zoom);for(const{feature:lr,id:qn,index:nr,sourceLayerIndex:fr}of _e){const rr=ft._featureFilter.needGeometry,xr=cy(lr,rr);if(!ft._featureFilter.filter(Kn,xr,ot))continue;if(rr||(xr.geometry=Tu(lr,ot,ut)),Bt&&lr.type!==1&&ot.z<=5){const Cr=xr.geometry,zr=.98078528056,jr=(Yr,eo)=>kp(b_(Yr.x,Yr.y,ot,1),b_(eo.x,eo.y,ot,1))<zr;for(let Yr=0;Yr<Cr.length;Yr++)Cr[Yr]=qy(Cr[Yr],jr)}let Er,Wr;if(Gt){const Cr=ft.getValueAndResolveTokens("text-field",xr,ot,Mn),zr=sn.factory(Cr);nQ(zr)&&(this.hasRTLText=!0),(!this.hasRTLText||On()==="unavailable"||this.hasRTLText&&sr.isParsed())&&(Er=q1(zr,ft,xr))}if(Xt){const Cr=ft.getValueAndResolveTokens("icon-image",xr,ot,Mn);Wr=Cr instanceof wn?Cr:wn.fromString(Cr)}if(!Er&&!Wr)continue;const Kr=this.sortFeaturesByKey?pn.evaluate(xr,{},ot):void 0;if(this.features.push({id:qn,text:Er,icon:Wr,index:nr,sourceLayerIndex:fr,geometry:xr.geometry,properties:lr.properties,type:eQ[lr.type],sortKey:Kr}),Wr&&(Fn[Wr.name]=!0),Er){const Cr=Et.evaluate(xr,{},ot).join(","),zr=mt.get("text-rotation-alignment")==="map"&&mt.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(mp.vertical)>=0;for(const jr of Er.sections)if(jr.image)Fn[jr.image.name]=!0;else{const Yr=ct(Er.toString()),eo=jr.fontStack||Cr,Vr=Sn[eo]=Sn[eo]||{};this.calculateGlyphDependencies(jr.text,Vr,zr,this.allowVerticalPlacement,Yr)}}}mt.get("symbol-placement")==="line"&&(this.features=function(lr){const qn={},nr={},fr=[];let rr=0;function xr(Cr){fr.push(lr[Cr]),rr++}function Er(Cr,zr,jr){const Yr=nr[Cr];return delete nr[Cr],nr[zr]=Yr,fr[Yr].geometry[0].pop(),fr[Yr].geometry[0]=fr[Yr].geometry[0].concat(jr[0]),Yr}function Wr(Cr,zr,jr){const Yr=qn[zr];return delete qn[zr],qn[Cr]=Yr,fr[Yr].geometry[0].shift(),fr[Yr].geometry[0]=jr[0].concat(fr[Yr].geometry[0]),Yr}function Kr(Cr,zr,jr){const Yr=jr?zr[0][zr[0].length-1]:zr[0][0];return`${Cr}:${Yr.x}:${Yr.y}`}for(let Cr=0;Cr<lr.length;Cr++){const zr=lr[Cr],jr=zr.geometry,Yr=zr.text?zr.text.toString():null;if(!Yr){xr(Cr);continue}const eo=Kr(Yr,jr),Vr=Kr(Yr,jr,!0);if(eo in nr&&Vr in qn&&nr[eo]!==qn[Vr]){const uo=Wr(eo,Vr,jr),Jo=Er(eo,Vr,fr[uo].geometry);delete qn[eo],delete nr[Vr],nr[Kr(Yr,fr[Jo].geometry,!0)]=Jo,fr[uo].geometry=null}else eo in nr?Er(eo,Vr,jr):Vr in qn?Wr(eo,Vr,jr):(xr(Cr),qn[eo]=rr-1,nr[Vr]=rr-1)}return fr.filter(Cr=>Cr.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((lr,qn)=>lr.sortKey-qn.sortKey)}update(_e,nt,ot,ut){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(_e,nt,this.layers,ot,ut),this.icon.programConfigurations.updatePaintArrays(_e,nt,this.layers,ot,ut))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(_e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(_e),this.iconCollisionBox.upload(_e)),this.text.upload(_e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(_e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=kB(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(_e,nt){const ot=this.lineVertexArray.length,ut=_e.segment;if(ut!==void 0){let ft=_e.dist(nt[ut+1]),mt=_e.dist(nt[ut]);const Bt={};for(let Et=ut+1;Et<nt.length;Et++)Bt[Et]={x:nt[Et].x,y:nt[Et].y,tileUnitDistanceFromAnchor:ft},Et<nt.length-1&&(ft+=nt[Et+1].dist(nt[Et]));for(let Et=ut||0;Et>=0;Et--)Bt[Et]={x:nt[Et].x,y:nt[Et].y,tileUnitDistanceFromAnchor:mt},Et>0&&(mt+=nt[Et-1].dist(nt[Et]));for(let Et=0;Et<nt.length;Et++){const xt=Bt[Et];this.lineVertexArray.emplaceBack(xt.x,xt.y,xt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ot,lineLength:this.lineVertexArray.length-ot}}addSymbols(_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt,Gt,Xt,pn,Fn){const Sn=_e.indexArray,Mn=_e.layoutVertexArray,Kn=_e.globeExtVertexArray,lr=_e.segments.prepareSegment(4*nt.length,Mn,Sn,this.canOverlap?mt.sortKey:void 0),qn=this.glyphOffsetArray.length,nr=lr.vertexLength,fr=this.allowVerticalPlacement&&Bt===mp.vertical?Math.PI/2:0,rr=mt.text&&mt.text.sections;for(let Er=0;Er<nt.length;Er++){const{tl:Wr,tr:Kr,bl:Cr,br:zr,tex:jr,pixelOffsetTL:Yr,pixelOffsetBR:eo,minFontScaleX:Vr,minFontScaleY:uo,glyphOffset:Jo,isSDF:po,sectionIndex:So}=nt[Er],fo=lr.vertexLength,Zo=Jo[1];if(WF(Mn,xt.x,xt.y,Wr.x,Zo+Wr.y,jr.x,jr.y,ot,po,Yr.x,Yr.y,Vr,uo),WF(Mn,xt.x,xt.y,Kr.x,Zo+Kr.y,jr.x+jr.w,jr.y,ot,po,eo.x,Yr.y,Vr,uo),WF(Mn,xt.x,xt.y,Cr.x,Zo+Cr.y,jr.x,jr.y+jr.h,ot,po,Yr.x,eo.y,Vr,uo),WF(Mn,xt.x,xt.y,zr.x,Zo+zr.y,jr.x+jr.w,jr.y+jr.h,ot,po,eo.x,eo.y,Vr,uo),Et){const Ko=Et.anchor,is=Et.up;OF(Kn,Ko.x,Ko.y,Ko.z,is[0],is[1],is[2]),OF(Kn,Ko.x,Ko.y,Ko.z,is[0],is[1],is[2]),OF(Kn,Ko.x,Ko.y,Ko.z,is[0],is[1],is[2]),OF(Kn,Ko.x,Ko.y,Ko.z,is[0],is[1],is[2]),LF(_e.dynamicLayoutVertexArray,Ko.x,Ko.y,Ko.z,fr)}else LF(_e.dynamicLayoutVertexArray,xt.x,xt.y,xt.z,fr);Sn.emplaceBack(fo,fo+1,fo+2),Sn.emplaceBack(fo+1,fo+2,fo+3),lr.vertexLength+=4,lr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Jo[0]),Er!==nt.length-1&&So===nt[Er+1].sectionIndex||_e.programConfigurations.populatePaintArrays(Mn.length,mt,mt.index,{},pn,Fn,rr&&rr[So])}const xr=Et?Et.anchor:xt;_e.placedSymbolArray.emplaceBack(xr.x,xr.y,xr.z,xt.x,xt.y,qn,this.glyphOffsetArray.length-qn,nr,Wt,Gt,xt.segment,ot?ot[0]:0,ot?ot[1]:0,ut[0],ut[1],Bt,0,!1,0,Xt,0)}_commitLayoutVertex(_e,nt,ot,ut,ft,mt,Bt){_e.emplaceBack(nt,ot,ut,ft,mt,Math.round(Bt.x),Math.round(Bt.y))}_addCollisionDebugVertices(_e,nt,ot,ut,ft,mt,Bt){const Et=ot.segments.prepareSegment(4,ot.layoutVertexArray,ot.indexArray),xt=Et.vertexLength,Wt=Bt.tileAnchorX,Gt=Bt.tileAnchorY;for(let pn=0;pn<4;pn++)ot.collisionVertexArray.emplaceBack(0,0,0,0);ot.collisionVertexArrayExt.emplaceBack(nt,-_e.padding,-_e.padding),ot.collisionVertexArrayExt.emplaceBack(nt,_e.padding,-_e.padding),ot.collisionVertexArrayExt.emplaceBack(nt,_e.padding,_e.padding),ot.collisionVertexArrayExt.emplaceBack(nt,-_e.padding,_e.padding),this._commitLayoutVertex(ot.layoutVertexArray,ut,ft,mt,Wt,Gt,new St(_e.x1,_e.y1)),this._commitLayoutVertex(ot.layoutVertexArray,ut,ft,mt,Wt,Gt,new St(_e.x2,_e.y1)),this._commitLayoutVertex(ot.layoutVertexArray,ut,ft,mt,Wt,Gt,new St(_e.x2,_e.y2)),this._commitLayoutVertex(ot.layoutVertexArray,ut,ft,mt,Wt,Gt,new St(_e.x1,_e.y2)),Et.vertexLength+=4;const Xt=ot.indexArray;Xt.emplaceBack(xt,xt+1),Xt.emplaceBack(xt+1,xt+2),Xt.emplaceBack(xt+2,xt+3),Xt.emplaceBack(xt+3,xt),Et.primitiveLength+=4}_addTextDebugCollisionBoxes(_e,nt,ot,ut,ft,mt){for(let Bt=ut;Bt<ft;Bt++){const Et=ot.get(Bt),xt=this.getSymbolInstanceTextSize(_e,mt,nt,Bt);this._addCollisionDebugVertices(Et,xt,this.textCollisionBox,Et.projectedAnchorX,Et.projectedAnchorY,Et.projectedAnchorZ,mt)}}_addIconDebugCollisionBoxes(_e,nt,ot,ut,ft,mt){for(let Bt=ut;Bt<ft;Bt++){const Et=ot.get(Bt),xt=this.getSymbolInstanceIconSize(_e,nt,mt.placedIconSymbolIndex);this._addCollisionDebugVertices(Et,xt,this.iconCollisionBox,Et.projectedAnchorX,Et.projectedAnchorY,Et.projectedAnchorZ,mt)}}generateCollisionDebugBuffers(_e,nt){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Xv(Ws,X1.members,pu),this.iconCollisionBox=new Xv(Ws,X1.members,pu);const ot=d_(this.iconSizeData,_e),ut=d_(this.textSizeData,_e);for(let ft=0;ft<this.symbolInstances.length;ft++){const mt=this.symbolInstances.get(ft);this._addTextDebugCollisionBoxes(ut,_e,nt,mt.textBoxStartIndex,mt.textBoxEndIndex,mt),this._addTextDebugCollisionBoxes(ut,_e,nt,mt.verticalTextBoxStartIndex,mt.verticalTextBoxEndIndex,mt),this._addIconDebugCollisionBoxes(ot,_e,nt,mt.iconBoxStartIndex,mt.iconBoxEndIndex,mt),this._addIconDebugCollisionBoxes(ot,_e,nt,mt.verticalIconBoxStartIndex,mt.verticalIconBoxEndIndex,mt)}}getSymbolInstanceTextSize(_e,nt,ot,ut){const ft=this.text.placedSymbolArray.get(nt.rightJustifiedTextSymbolIndex>=0?nt.rightJustifiedTextSymbolIndex:nt.centerJustifiedTextSymbolIndex>=0?nt.centerJustifiedTextSymbolIndex:nt.leftJustifiedTextSymbolIndex>=0?nt.leftJustifiedTextSymbolIndex:nt.verticalPlacedTextSymbolIndex>=0?nt.verticalPlacedTextSymbolIndex:ut),mt=h_(this.textSizeData,_e,ft)/ou;return this.tilePixelRatio*mt}getSymbolInstanceIconSize(_e,nt,ot){const ut=this.icon.placedSymbolArray.get(ot),ft=h_(this.iconSizeData,_e,ut);return this.tilePixelRatio*ft}_commitDebugCollisionVertexUpdate(_e,nt,ot){_e.emplaceBack(nt,-ot,-ot),_e.emplaceBack(nt,ot,-ot),_e.emplaceBack(nt,ot,ot),_e.emplaceBack(nt,-ot,ot)}_updateTextDebugCollisionBoxes(_e,nt,ot,ut,ft,mt){for(let Bt=ut;Bt<ft;Bt++){const Et=ot.get(Bt),xt=this.getSymbolInstanceTextSize(_e,mt,nt,Bt);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,xt,Et.padding)}}_updateIconDebugCollisionBoxes(_e,nt,ot,ut,ft,mt){for(let Bt=ut;Bt<ft;Bt++){const Et=ot.get(Bt),xt=this.getSymbolInstanceIconSize(_e,nt,mt);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,xt,Et.padding)}}updateCollisionDebugBuffers(_e,nt){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const ot=d_(this.iconSizeData,_e),ut=d_(this.textSizeData,_e);for(let ft=0;ft<this.symbolInstances.length;ft++){const mt=this.symbolInstances.get(ft);this._updateTextDebugCollisionBoxes(ut,_e,nt,mt.textBoxStartIndex,mt.textBoxEndIndex,mt),this._updateTextDebugCollisionBoxes(ut,_e,nt,mt.verticalTextBoxStartIndex,mt.verticalTextBoxEndIndex,mt),this._updateIconDebugCollisionBoxes(ot,_e,nt,mt.iconBoxStartIndex,mt.iconBoxEndIndex,mt.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(ot,_e,nt,mt.verticalIconBoxStartIndex,mt.verticalIconBoxEndIndex,mt.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(_e,nt,ot,ut,ft,mt,Bt,Et,xt){const Wt={};for(let Gt=nt;Gt<ot;Gt++){const Xt=_e.get(Gt);Wt.textBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,padding:Xt.padding,projectedAnchorX:Xt.projectedAnchorX,projectedAnchorY:Xt.projectedAnchorY,projectedAnchorZ:Xt.projectedAnchorZ,tileAnchorX:Xt.tileAnchorX,tileAnchorY:Xt.tileAnchorY},Wt.textFeatureIndex=Xt.featureIndex;break}for(let Gt=ut;Gt<ft;Gt++){const Xt=_e.get(Gt);Wt.verticalTextBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,padding:Xt.padding,projectedAnchorX:Xt.projectedAnchorX,projectedAnchorY:Xt.projectedAnchorY,projectedAnchorZ:Xt.projectedAnchorZ,tileAnchorX:Xt.tileAnchorX,tileAnchorY:Xt.tileAnchorY},Wt.verticalTextFeatureIndex=Xt.featureIndex;break}for(let Gt=mt;Gt<Bt;Gt++){const Xt=_e.get(Gt);Wt.iconBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,padding:Xt.padding,projectedAnchorX:Xt.projectedAnchorX,projectedAnchorY:Xt.projectedAnchorY,projectedAnchorZ:Xt.projectedAnchorZ,tileAnchorX:Xt.tileAnchorX,tileAnchorY:Xt.tileAnchorY},Wt.iconFeatureIndex=Xt.featureIndex;break}for(let Gt=Et;Gt<xt;Gt++){const Xt=_e.get(Gt);Wt.verticalIconBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,padding:Xt.padding,projectedAnchorX:Xt.projectedAnchorX,projectedAnchorY:Xt.projectedAnchorY,projectedAnchorZ:Xt.projectedAnchorZ,tileAnchorX:Xt.tileAnchorX,tileAnchorY:Xt.tileAnchorY},Wt.verticalIconFeatureIndex=Xt.featureIndex;break}return Wt}deserializeCollisionBoxes(_e){this.collisionArrays=[];for(let nt=0;nt<this.symbolInstances.length;nt++){const ot=this.symbolInstances.get(nt);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(_e,ot.textBoxStartIndex,ot.textBoxEndIndex,ot.verticalTextBoxStartIndex,ot.verticalTextBoxEndIndex,ot.iconBoxStartIndex,ot.iconBoxEndIndex,ot.verticalIconBoxStartIndex,ot.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(_e,nt){const ot=_e.placedSymbolArray.get(nt),ut=ot.vertexStartIndex+4*ot.numGlyphs;for(let ft=ot.vertexStartIndex;ft<ut;ft+=4)_e.indexArray.emplaceBack(ft,ft+1,ft+2),_e.indexArray.emplaceBack(ft+1,ft+2,ft+3)}getSortedSymbolIndexes(_e){if(this.sortedAngle===_e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const nt=Math.sin(_e),ot=Math.cos(_e),ut=[],ft=[],mt=[];for(let Bt=0;Bt<this.symbolInstances.length;++Bt){mt.push(Bt);const Et=this.symbolInstances.get(Bt);ut.push(0|Math.round(nt*Et.tileAnchorX+ot*Et.tileAnchorY)),ft.push(Et.featureIndex)}return mt.sort((Bt,Et)=>ut[Bt]-ut[Et]||ft[Et]-ft[Bt]),mt}addToSortKeyRanges(_e,nt){const ot=this.sortKeyRanges[this.sortKeyRanges.length-1];ot&&ot.sortKey===nt?ot.symbolInstanceEnd=_e+1:this.sortKeyRanges.push({sortKey:nt,symbolInstanceStart:_e,symbolInstanceEnd:_e+1})}sortFeatures(_e){if(this.sortFeaturesByY&&this.sortedAngle!==_e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(_e),this.sortedAngle=_e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const nt of this.symbolInstanceIndexes){const ot=this.symbolInstances.get(nt);this.featureSortOrder.push(ot.featureIndex),[ot.rightJustifiedTextSymbolIndex,ot.centerJustifiedTextSymbolIndex,ot.leftJustifiedTextSymbolIndex].forEach((ut,ft,mt)=>{ut>=0&&mt.indexOf(ut)===ft&&this.addIndicesForPlacedSymbol(this.text,ut)}),ot.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,ot.verticalPlacedTextSymbolIndex),ot.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,ot.placedIconSymbolIndex),ot.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,ot.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}yo(A0,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),A0.MAX_GLYPHS=65535,A0.addDynamicAttributes=LF;const rQ=new ro({"symbol-placement":new Qr(Dr.layout_symbol["symbol-placement"]),"symbol-spacing":new Qr(Dr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qr(Dr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new gr(Dr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qr(Dr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qr(Dr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Qr(Dr.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qr(Dr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qr(Dr.layout_symbol["icon-rotation-alignment"]),"icon-size":new gr(Dr.layout_symbol["icon-size"]),"icon-text-fit":new Qr(Dr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qr(Dr.layout_symbol["icon-text-fit-padding"]),"icon-image":new gr(Dr.layout_symbol["icon-image"]),"icon-rotate":new gr(Dr.layout_symbol["icon-rotate"]),"icon-padding":new Qr(Dr.layout_symbol["icon-padding"]),"icon-keep-upright":new Qr(Dr.layout_symbol["icon-keep-upright"]),"icon-offset":new gr(Dr.layout_symbol["icon-offset"]),"icon-anchor":new gr(Dr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qr(Dr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qr(Dr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qr(Dr.layout_symbol["text-rotation-alignment"]),"text-field":new gr(Dr.layout_symbol["text-field"]),"text-font":new gr(Dr.layout_symbol["text-font"]),"text-size":new gr(Dr.layout_symbol["text-size"]),"text-max-width":new gr(Dr.layout_symbol["text-max-width"]),"text-line-height":new gr(Dr.layout_symbol["text-line-height"]),"text-letter-spacing":new gr(Dr.layout_symbol["text-letter-spacing"]),"text-justify":new gr(Dr.layout_symbol["text-justify"]),"text-radial-offset":new gr(Dr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qr(Dr.layout_symbol["text-variable-anchor"]),"text-anchor":new gr(Dr.layout_symbol["text-anchor"]),"text-max-angle":new Qr(Dr.layout_symbol["text-max-angle"]),"text-writing-mode":new Qr(Dr.layout_symbol["text-writing-mode"]),"text-rotate":new gr(Dr.layout_symbol["text-rotate"]),"text-padding":new Qr(Dr.layout_symbol["text-padding"]),"text-keep-upright":new Qr(Dr.layout_symbol["text-keep-upright"]),"text-transform":new gr(Dr.layout_symbol["text-transform"]),"text-offset":new gr(Dr.layout_symbol["text-offset"]),"text-allow-overlap":new Qr(Dr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Qr(Dr.layout_symbol["text-ignore-placement"]),"text-optional":new Qr(Dr.layout_symbol["text-optional"])});var $v={paint:new ro({"icon-opacity":new gr(Dr.paint_symbol["icon-opacity"]),"icon-color":new gr(Dr.paint_symbol["icon-color"]),"icon-halo-color":new gr(Dr.paint_symbol["icon-halo-color"]),"icon-halo-width":new gr(Dr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new gr(Dr.paint_symbol["icon-halo-blur"]),"icon-translate":new Qr(Dr.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qr(Dr.paint_symbol["icon-translate-anchor"]),"text-opacity":new gr(Dr.paint_symbol["text-opacity"]),"text-color":new gr(Dr.paint_symbol["text-color"],{runtimeType:Ju,getOverride:tt=>tt.textColor,hasOverride:tt=>!!tt.textColor}),"text-halo-color":new gr(Dr.paint_symbol["text-halo-color"]),"text-halo-width":new gr(Dr.paint_symbol["text-halo-width"]),"text-halo-blur":new gr(Dr.paint_symbol["text-halo-blur"]),"text-translate":new Qr(Dr.paint_symbol["text-translate"]),"text-translate-anchor":new Qr(Dr.paint_symbol["text-translate-anchor"])}),layout:rQ};class CB{constructor(_e){this.type=_e.property.overrides?_e.property.overrides.runtimeType:Ip,this.defaultValue=_e}evaluate(_e){if(_e.formattedSection){const nt=this.defaultValue.property.overrides;if(nt&&nt.hasOverride(_e.formattedSection))return nt.getOverride(_e.formattedSection)}return _e.feature&&_e.featureState?this.defaultValue.evaluate(_e.feature,_e.featureState):this.defaultValue.property.specification.default}eachChild(_e){this.defaultValue.isConstant()||_e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}yo(CB,"FormatSectionOverride",{omit:["defaultValue"]});class PF extends Yu{constructor(_e){super(_e,$v)}recalculate(_e,nt){super.recalculate(_e,nt),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const ot=this.layout.get("text-writing-mode");if(ot){const ut=[];for(const ft of ot)ut.indexOf(ft)<0&&ut.push(ft);this.layout._values["text-writing-mode"]=ut}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(_e,nt,ot,ut){const ft=this.layout.get(_e).evaluate(nt,{},ot,ut),mt=this._unevaluatedLayout._values[_e];return mt.isDataDriven()||p0(mt.value)||!ft?ft:function(Bt,Et){return Et.replace(/{([^{}]+)}/g,(xt,Wt)=>Wt in Bt?String(Bt[Wt]):"")}(nt.properties,ft)}createBucket(_e){return new A0(_e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const _e of $v.paint.overridableProperties){if(!PF.hasPaintOverride(this.layout,_e))continue;const nt=this.paint.get(_e),ot=new CB(nt),ut=new hm(ot,nt.property.specification);let ft=null;ft=nt.value.kind==="constant"||nt.value.kind==="source"?new Mm("source",ut):new Y0("composite",ut,nt.value.zoomStops,nt.value._interpolationType),this.paint._values[_e]=new Pr(nt.property,ft,nt.parameters)}}_handleOverridablePaintPropertyUpdate(_e,nt,ot){return!(!this.layout||nt.isDataDriven()||ot.isDataDriven())&&PF.hasPaintOverride(this.layout,_e)}static hasPaintOverride(_e,nt){const ot=_e.get("text-field"),ut=$v.paint.properties[nt];let ft=!1;const mt=Bt=>{for(const Et of Bt)if(ut.overrides&&ut.overrides.hasOverride(Et))return void(ft=!0)};if(ot.value.kind==="constant"&&ot.value.value instanceof sn)mt(ot.value.value.sections);else if(ot.value.kind==="source"){const Bt=xt=>{ft||(xt instanceof Ar&&Br(xt.value)===Op?mt(xt.value.sections):xt instanceof Co?mt(xt.sections):xt.eachChild(Bt))},Et=ot.value;Et._styleExpression&&Bt(Et._styleExpression.expression)}return ft}getProgramConfiguration(_e){return new Zm(this,_e)}}var iQ={paint:new ro({"background-color":new Qr(Dr.paint_background["background-color"]),"background-pattern":new no(Dr.paint_background["background-pattern"]),"background-opacity":new Qr(Dr.paint_background["background-opacity"])})},oQ={paint:new ro({"raster-opacity":new Qr(Dr.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qr(Dr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qr(Dr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qr(Dr.paint_raster["raster-brightness-max"]),"raster-saturation":new Qr(Dr.paint_raster["raster-saturation"]),"raster-contrast":new Qr(Dr.paint_raster["raster-contrast"]),"raster-resampling":new Qr(Dr.paint_raster["raster-resampling"]),"raster-fade-duration":new Qr(Dr.paint_raster["raster-fade-duration"])})};class dt extends Yu{constructor(_e){super(_e,{}),this.implementation=_e}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(_e){this.implementation.onAdd&&this.implementation.onAdd(_e,_e.painter.context.gl)}onRemove(_e){this.implementation.onRemove&&this.implementation.onRemove(_e,_e.painter.context.gl)}}var _t={paint:new ro({"sky-type":new Qr(Dr.paint_sky["sky-type"]),"sky-atmosphere-sun":new Qr(Dr.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Qr(Dr.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Qr(Dr.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Qr(Dr.paint_sky["sky-gradient-radius"]),"sky-gradient":new so(Dr.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Qr(Dr.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Qr(Dr.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Qr(Dr.paint_sky["sky-opacity"])})};function Dt(tt,_e,nt){const ot=[0,0,1],ut=R1([]);return S1(ut,ut,nt?-Ct(tt)+Math.PI:Ct(tt)),Q1(ut,ut,-Ct(_e)),_1(ot,ot,ut),Bu(ot,ot)}const an={circle:class extends Yu{constructor(tt){super(tt,p1)}createBucket(tt){return new iu(tt)}queryRadius(tt){const _e=tt;return Q0("circle-radius",this,_e)+Q0("circle-stroke-width",this,_e)+iF(this.paint.get("circle-translate"))}queryIntersectsFeature(tt,_e,nt,ot,ut,ft,mt,Bt){const Et=e_(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ft.angle,tt.pixelToTileUnitsFactor),xt=this.paint.get("circle-radius").evaluate(_e,nt)+this.paint.get("circle-stroke-width").evaluate(_e,nt);return E1(tt,ot,ft,mt,Bt,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",Et,xt)}getProgramIds(){return["circle"]}getProgramConfiguration(tt){return new Zm(this,tt)}},heatmap:class extends Yu{createBucket(tt){return new T1(tt)}constructor(tt){super(tt,zB),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(tt){tt==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Uv({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(tt){return Q0("heatmap-radius",this,tt)}queryIntersectsFeature(tt,_e,nt,ot,ut,ft,mt,Bt){const Et=this.paint.get("heatmap-radius").evaluate(_e,nt);return E1(tt,ot,ft,mt,Bt,!0,!0,new St(0,0),Et)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(tt){return new Zm(this,tt)}},hillshade:class extends Yu{constructor(tt){super(tt,jB)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Yu{constructor(tt){super(tt,aR)}getProgramIds(){const tt=this.paint.get("fill-pattern"),_e=tt&&tt.constantOr(1),nt=[_e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&nt.push(_e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),nt}getProgramConfiguration(tt){return new Zm(this,tt)}recalculate(tt,_e){super.recalculate(tt,_e);const nt=this.paint._values["fill-outline-color"];nt.value.kind==="constant"&&nt.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(tt){return new gF(tt)}queryRadius(){return iF(this.paint.get("fill-translate"))}queryIntersectsFeature(tt,_e,nt,ot,ut,ft){return!tt.queryGeometry.isAboveHorizon&&uv(d1(tt.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ft.angle,tt.pixelToTileUnitsFactor),ot)}isTileClipped(){return!0}},"fill-extrusion":class extends Yu{constructor(tt){super(tt,yR)}createBucket(tt){return new fy(tt)}queryRadius(){return iF(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(tt){return new Zm(this,tt)}queryIntersectsFeature(tt,_e,nt,ot,ut,ft,mt,Bt,Et){const xt=e_(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ft.angle,tt.pixelToTileUnitsFactor),Wt=this.paint.get("fill-extrusion-height").evaluate(_e,nt),Gt=this.paint.get("fill-extrusion-base").evaluate(_e,nt),Xt=[0,0],pn=Bt&&ft.elevation,Fn=ft.elevation?ft.elevation.exaggeration():1,Sn=tt.tile.getBucket(this);if(pn&&Sn instanceof fy){const nr=Sn.centroidVertexArray,fr=Et+1;if(fr<nr.length){const rr=nr.get(fr);Xt[0]=rr.a_centroid_pos0,Xt[1]=rr.a_centroid_pos1}}if(Xt[0]===0&&Xt[1]===1)return!1;ft.projection.name==="globe"&&(ot=pU([ot],[new St(0,0),new St(Lo,Lo)],tt.tileID.canonical).map(nr=>nr.polygon).flat());const Mn=pn?Bt:null,[Kn,lr]=function(nr,fr,rr,xr,Er,Wr,Kr,Cr,zr,jr,Yr){return nr.projection.name==="globe"?function(eo,Vr,uo,Jo,po,So,fo,Zo,Ko,is,Es){const $o=[],xa=[],us=eo.projection.upVectorScale(Es,eo.center.lat,eo.worldSize).metersToTile,ms=[0,0,0,1],Zs=[0,0,0,1],ga=(_a,$a,Tl,gu)=>{_a[0]=$a,_a[1]=Tl,_a[2]=gu,_a[3]=1},Ks=Z1();uo>0&&(uo+=Ks),Jo+=Ks;for(const _a of Vr){const $a=[],Tl=[];for(const gu of _a){const Os=gu.x+po.x,Hl=gu.y+po.y,Zl=eo.projection.projectTilePoint(Os,Hl,Es),As=eo.projection.upVector(Es,gu.x,gu.y);let Ul=uo,_c=Jo;if(fo){const zs=H1(Os,Hl,uo,Jo,fo,Zo,Ko,is);Ul+=zs.base,_c+=zs.top}uo!==0?ga(ms,Zl.x+As[0]*us*Ul,Zl.y+As[1]*us*Ul,Zl.z+As[2]*us*Ul):ga(ms,Zl.x,Zl.y,Zl.z),ga(Zs,Zl.x+As[0]*us*_c,Zl.y+As[1]*us*_c,Zl.z+As[2]*us*_c),Ml(ms,ms,So),Ml(Zs,Zs,So),$a.push(new u_(ms[0],ms[1],ms[2])),Tl.push(new u_(Zs[0],Zs[1],Zs[2]))}$o.push($a),xa.push(Tl)}return[$o,xa]}(nr,fr,rr,xr,Er,Wr,Kr,Cr,zr,jr,Yr):Kr?function(eo,Vr,uo,Jo,po,So,fo,Zo,Ko){const is=[],Es=[],$o=[0,0,0,1];for(const xa of eo){const us=[],ms=[];for(const Zs of xa){const ga=Zs.x+Jo.x,Ks=Zs.y+Jo.y,_a=H1(ga,Ks,Vr,uo,So,fo,Zo,Ko);$o[0]=ga,$o[1]=Ks,$o[2]=_a.base,$o[3]=1,E0($o,$o,po),$o[3]=Math.max($o[3],1e-5);const $a=new u_($o[0]/$o[3],$o[1]/$o[3],$o[2]/$o[3]);$o[0]=ga,$o[1]=Ks,$o[2]=_a.top,$o[3]=1,E0($o,$o,po),$o[3]=Math.max($o[3],1e-5);const Tl=new u_($o[0]/$o[3],$o[1]/$o[3],$o[2]/$o[3]);us.push($a),ms.push(Tl)}is.push(us),Es.push(ms)}return[is,Es]}(fr,rr,xr,Er,Wr,Kr,Cr,zr,jr):function(eo,Vr,uo,Jo,po){const So=[],fo=[],Zo=po[8]*Vr,Ko=po[9]*Vr,is=po[10]*Vr,Es=po[11]*Vr,$o=po[8]*uo,xa=po[9]*uo,us=po[10]*uo,ms=po[11]*uo;for(const Zs of eo){const ga=[],Ks=[];for(const _a of Zs){const $a=_a.x+Jo.x,Tl=_a.y+Jo.y,gu=po[0]*$a+po[4]*Tl+po[12],Os=po[1]*$a+po[5]*Tl+po[13],Hl=po[2]*$a+po[6]*Tl+po[14],Zl=po[3]*$a+po[7]*Tl+po[15],As=gu+Zo,Ul=Os+Ko,_c=Hl+is,zs=Math.max(Zl+Es,1e-5),Jl=gu+$o,Vu=Os+xa,mu=Hl+us,yu=Math.max(Zl+ms,1e-5);ga.push(new u_(As/zs,Ul/zs,_c/zs)),Ks.push(new u_(Jl/yu,Vu/yu,mu/yu))}So.push(ga),fo.push(Ks)}return[So,fo]}(fr,rr,xr,Er,Wr)}(ft,ot,Gt,Wt,xt,mt,Mn,Xt,Fn,ft.center.lat,tt.tileID.canonical),qn=tt.queryGeometry;return function(nr,fr,rr){let xr=1/0;uv(rr,fr)&&(xr=G1(rr,fr[0]));for(let Er=0;Er<fr.length;Er++){const Wr=fr[Er],Kr=nr[Er];for(let Cr=0;Cr<Wr.length-1;Cr++){const zr=Wr[Cr],jr=[zr,Wr[Cr+1],Kr[Cr+1],Kr[Cr],zr];c1(rr,jr)&&(xr=Math.min(xr,G1(rr,jr)))}}return xr!==1/0&&xr}(Kn,lr,qn.isPointQuery()?qn.screenBounds:qn.screenGeometry)}},line:class extends Yu{constructor(tt){super(tt,Y1),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(tt){if(tt==="line-gradient"){const _e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=_e._styleExpression&&_e._styleExpression.expression instanceof Vm,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(tt,_e){super.recalculate(tt,_e),this.paint._values["line-floorwidth"]=w0.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,tt)}createBucket(tt){return new Ku(tt)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(tt){return new Zm(this,tt)}queryRadius(tt){const _e=tt,nt=fs(Q0("line-width",this,_e),Q0("line-gap-width",this,_e)),ot=Q0("line-offset",this,_e);return nt/2+Math.abs(ot)+iF(this.paint.get("line-translate"))}queryIntersectsFeature(tt,_e,nt,ot,ut,ft){if(tt.queryGeometry.isAboveHorizon)return!1;const mt=d1(tt.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ft.angle,tt.pixelToTileUnitsFactor),Bt=tt.pixelToTileUnitsFactor/2*fs(this.paint.get("line-width").evaluate(_e,nt),this.paint.get("line-gap-width").evaluate(_e,nt)),Et=this.paint.get("line-offset").evaluate(_e,nt);return Et&&(ot=function(xt,Wt){const Gt=[],Xt=new St(0,0);for(let pn=0;pn<xt.length;pn++){const Fn=xt[pn],Sn=[];for(let Mn=0;Mn<Fn.length;Mn++){const Kn=Fn[Mn-1],lr=Fn[Mn],qn=Fn[Mn+1],nr=Mn===0?Xt:lr.sub(Kn)._unit()._perp(),fr=Mn===Fn.length-1?Xt:qn.sub(lr)._unit()._perp(),rr=nr._add(fr)._unit();rr._mult(1/(rr.x*fr.x+rr.y*fr.y)),Sn.push(rr._mult(Wt)._add(lr))}Gt.push(Sn)}return Gt}(ot,Et*tt.pixelToTileUnitsFactor)),function(xt,Wt,Gt){for(let Xt=0;Xt<Wt.length;Xt++){const pn=Wt[Xt];if(xt.length>=3){for(let Fn=0;Fn<pn.length;Fn++)if(Ll(xt,pn[Fn]))return!0}if(IB(xt,pn,Gt))return!0}return!1}(mt,ot,Bt)}isTileClipped(){return!0}},symbol:PF,background:class extends Yu{constructor(tt){super(tt,iQ)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Yu{constructor(tt){super(tt,oQ)}getProgramIds(){return["raster"]}},sky:class extends Yu{constructor(tt){super(tt,_t),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(tt){tt==="sky-gradient"?this._updateColorRamp():tt!=="sky-atmosphere-sun"&&tt!=="sky-atmosphere-halo-color"&&tt!=="sky-atmosphere-color"&&tt!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Uv({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(tt){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const _e=tt.style.light.properties.get("position");return this._lightPosition.azimuthal!==_e.azimuthal||this._lightPosition.polar!==_e.polar}return!1}getCenter(tt,_e){if(this.paint.get("sky-type")==="atmosphere"){const ot=this.paint.get("sky-atmosphere-sun"),ut=!ot,ft=tt.style.light,mt=ft.properties.get("position");return ut&&ft.properties.get("anchor")==="viewport"&&Tn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),ut?Dt(mt.azimuthal,90-mt.polar,_e):Dt(ot[0],90-ot[1],_e)}const nt=this.paint.get("sky-gradient-center");return Dt(nt[0],90-nt[1],_e)}is3D(){return!1}isSky(){return!0}markSkyboxValid(tt){this._skyboxInvalidated=!1,this._lightPosition=tt.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const tt=this.paint.get("sky-type");return tt==="atmosphere"?["skyboxCapture","skybox"]:tt==="gradient"?["skyboxGradient"]:null}}};class En{constructor(_e,nt,ot,ut){this.context=_e,this.format=ot,this.texture=_e.gl.createTexture(),this.update(nt,ut)}update(_e,nt,ot){const{width:ut,height:ft}=_e,{context:mt}=this,{gl:Bt}=mt,{HTMLImageElement:Et,HTMLCanvasElement:xt,HTMLVideoElement:Wt,ImageData:Gt,ImageBitmap:Xt}=st;if(Bt.bindTexture(Bt.TEXTURE_2D,this.texture),mt.pixelStoreUnpackFlipY.set(!1),mt.pixelStoreUnpack.set(1),mt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Bt.RGBA&&(!nt||nt.premultiply!==!1)),ot||this.size&&this.size[0]===ut&&this.size[1]===ft){const{x:pn,y:Fn}=ot||{x:0,y:0};_e instanceof Et||_e instanceof xt||_e instanceof Wt||_e instanceof Gt||Xt&&_e instanceof Xt?Bt.texSubImage2D(Bt.TEXTURE_2D,0,pn,Fn,Bt.RGBA,Bt.UNSIGNED_BYTE,_e):Bt.texSubImage2D(Bt.TEXTURE_2D,0,pn,Fn,ut,ft,Bt.RGBA,Bt.UNSIGNED_BYTE,_e.data)}else this.size=[ut,ft],_e instanceof Et||_e instanceof xt||_e instanceof Wt||_e instanceof Gt||Xt&&_e instanceof Xt?Bt.texImage2D(Bt.TEXTURE_2D,0,this.format,this.format,Bt.UNSIGNED_BYTE,_e):Bt.texImage2D(Bt.TEXTURE_2D,0,this.format,ut,ft,0,this.format,Bt.UNSIGNED_BYTE,_e.data);this.useMipmap=Boolean(nt&&nt.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&Bt.generateMipmap(Bt.TEXTURE_2D)}bind(_e,nt){const{context:ot}=this,{gl:ut}=ot;ut.bindTexture(ut.TEXTURE_2D,this.texture),_e!==this.filter&&(ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,_e),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,this.useMipmap?_e===ut.NEAREST?ut.NEAREST_MIPMAP_NEAREST:ut.LINEAR_MIPMAP_NEAREST:_e),this.filter=_e),nt!==this.wrap&&(ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,nt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,nt),this.wrap=nt)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:_e}=this.context;_e.deleteTexture(this.texture),this.texture=null}}class Zn{constructor(_e){this._callback=_e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class ar{constructor(){this.tasks={},this.taskQueue=[],xn(["process"],this),this.invoker=new Zn(this.process),this.nextId=0}add(_e,nt){const ot=this.nextId++,ut=function({type:ft,isSymbolTile:mt,zoom:Bt}){return Bt=Bt||0,ft==="message"?0:ft!=="maybePrepare"||mt?ft!=="parseTile"||mt?ft==="parseTile"&&mt?300-Bt:ft==="maybePrepare"&&mt?400-Bt:500:200-Bt:100-Bt}(nt);if(ut===0){Rr();try{_e()}finally{}return{cancel:()=>{}}}return this.tasks[ot]={fn:_e,metadata:nt,priority:ut,id:ot},this.taskQueue.push(ot),this.invoker.trigger(),{cancel:()=>{delete this.tasks[ot]}}}process(){Rr();try{if(this.taskQueue=this.taskQueue.filter(ot=>!!this.tasks[ot]),!this.taskQueue.length)return;const _e=this.pick();if(_e===null)return;const nt=this.tasks[_e];if(delete this.tasks[_e],this.taskQueue.length&&this.invoker.trigger(),!nt)return;nt.fn()}finally{}}pick(){let _e=null,nt=1/0;for(let ut=0;ut<this.taskQueue.length;ut++){const ft=this.tasks[this.taskQueue[ut]];ft.priority<nt&&(nt=ft.priority,_e=ut)}if(_e===null)return null;const ot=this.taskQueue[_e];return this.taskQueue.splice(_e,1),ot}remove(){this.invoker.remove()}}class mr{constructor(_e){this._stringToNumber={},this._numberToString=[];for(let nt=0;nt<_e.length;nt++){const ot=_e[nt];this._stringToNumber[ot]=nt,this._numberToString[nt]=ot}}encode(_e){return this._stringToNumber[_e]}decode(_e){return this._numberToString[_e]}}const Sr=["tile","layer","source","sourceLayer","state"];class $r{constructor(_e,nt,ot,ut,ft){this.type="Feature",this._vectorTileFeature=_e,this._z=nt,this._x=ot,this._y=ut,this.properties=_e.properties,this.id=ft}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(_e){this._geometry=_e}toJSON(){const _e={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(_e.id=this.id);for(const nt of Sr)this[nt]!==void 0&&(_e[nt]=this[nt]);return _e}}const Hr=32,_i=33,vo=new Uint16Array(8184);for(let tt=0;tt<2046;tt++){let _e=tt+2,nt=0,ot=0,ut=0,ft=0,mt=0,Bt=0;for(1&_e?ut=ft=mt=Hr:nt=ot=Bt=Hr;(_e>>=1)>1;){const xt=nt+ut>>1,Wt=ot+ft>>1;1&_e?(ut=nt,ft=ot,nt=mt,ot=Bt):(nt=ut,ot=ft,ut=mt,ft=Bt),mt=xt,Bt=Wt}const Et=4*tt;vo[Et+0]=nt,vo[Et+1]=ot,vo[Et+2]=ut,vo[Et+3]=ft}const ko=new Uint16Array(2178),Ho=new Uint8Array(1089),gs=new Uint16Array(1089);function ts(tt){return tt===0?-.03125:tt===32?.03125:0}var Ss=io([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Cs={type:2,extent:Lo,loadGeometry:()=>[[new St(0,0),new St(8193,0),new St(8193,8193),new St(0,8193),new St(0,0)]]};class Cu{constructor(_e,nt,ot,ut,ft){this.tileID=_e,this.uid=vn(),this.uses=0,this.tileSize=nt,this.tileZoom=ot,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=ft,this.expiredRequestCount=0,this.state="loading",ut&&ut.transform&&(this.projection=ut.transform.projection)}registerFadeDuration(_e){const nt=_e+this.timeAdded;nt<ls.now()||this.fadeEndTime&&nt<this.fadeEndTime||(this.fadeEndTime=nt)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=yy(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(_e,nt,ot){if(this.unloadVectorData(),this.state="loaded",_e){_e.featureIndex&&(this.latestFeatureIndex=_e.featureIndex,_e.rawTileData?(this.latestRawTileData=_e.rawTileData,this.latestFeatureIndex.rawTileData=_e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=_e.collisionBoxArray,this.buckets=function(ut,ft){const mt={};if(!ft)return mt;for(const Bt of ut){const Et=Bt.layerIds.map(xt=>ft.getLayer(xt)).filter(Boolean);if(Et.length!==0){Bt.layers=Et,Bt.stateDependentLayerIds&&(Bt.stateDependentLayers=Bt.stateDependentLayerIds.map(xt=>Et.filter(Wt=>Wt.id===xt)[0]));for(const xt of Et)mt[xt.id]=Bt}}return mt}(_e.buckets,nt.style),this.hasSymbolBuckets=!1;for(const ut in this.buckets){const ft=this.buckets[ut];if(ft instanceof A0){if(this.hasSymbolBuckets=!0,!ot)break;ft.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const ut in this.buckets){const ft=this.buckets[ut];if(ft instanceof A0&&ft.hasRTLText){this.hasRTLText=!0,sr.isLoading()||sr.isLoaded()||On()!=="deferred"||tr();break}}this.queryPadding=0;for(const ut in this.buckets){const ft=this.buckets[ut];this.queryPadding=Math.max(this.queryPadding,nt.style.getLayer(ut).queryRadius(ft))}_e.imageAtlas&&(this.imageAtlas=_e.imageAtlas),_e.glyphAtlasImage&&(this.glyphAtlasImage=_e.glyphAtlasImage),_e.lineAtlas&&(this.lineAtlas=_e.lineAtlas)}else this.collisionBoxArray=new Yy}unloadVectorData(){if(this.hasData()){for(const _e in this.buckets)this.buckets[_e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(_e){return this.buckets[_e.id]}upload(_e){for(const ot in this.buckets){const ut=this.buckets[ot];ut.uploadPending()&&ut.upload(_e)}const nt=_e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new En(_e,this.imageAtlas.image,nt.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new En(_e,this.glyphAtlasImage,nt.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new En(_e,this.lineAtlas.image,nt.ALPHA),this.lineAtlas.uploaded=!0)}prepare(_e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(_e,this.imageAtlasTexture)}queryRenderedFeatures(_e,nt,ot,ut,ft,mt,Bt,Et){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:ut,pixelPosMatrix:Bt,transform:mt,params:ft,tileTransform:this.tileTransform},_e,nt,ot):{}}querySourceFeatures(_e,nt){const ot=this.latestFeatureIndex;if(!ot||!ot.rawTileData)return;const ut=ot.loadVTLayers(),ft=nt?nt.sourceLayer:"",mt=ut._geojsonTileLayer||ut[ft];if(!mt)return;const Bt=Wy(nt&&nt.filter),{z:Et,x:xt,y:Wt}=this.tileID.canonical,Gt={z:Et,x:xt,y:Wt};for(let Xt=0;Xt<mt.length;Xt++){const pn=mt.feature(Xt);if(Bt.needGeometry){const Mn=cy(pn,!0);if(!Bt.filter(new $n(this.tileID.overscaledZ),Mn,this.tileID.canonical))continue}else if(!Bt.filter(new $n(this.tileID.overscaledZ),pn))continue;const Fn=ot.getId(pn,ft),Sn=new $r(pn,Et,xt,Wt,Fn);Sn.tile=Gt,_e.push(Sn)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(_e){const nt=this.expirationTime;if(_e.cacheControl){const ot=ao(_e.cacheControl);ot["max-age"]&&(this.expirationTime=Date.now()+1e3*ot["max-age"])}else _e.expires&&(this.expirationTime=new Date(_e.expires).getTime());if(this.expirationTime){const ot=Date.now();let ut=!1;if(this.expirationTime>ot)ut=!1;else if(nt)if(this.expirationTime<nt)ut=!0;else{const ft=this.expirationTime-nt;ft?this.expirationTime=ot+Math.max(ft,3e4):ut=!0}else ut=!0;ut?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(_e,nt){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(_e).length===0||!nt)return;const ot=this.latestFeatureIndex.loadVTLayers(),ut=nt.style.listImages();for(const ft in this.buckets){if(!nt.style.hasLayer(ft))continue;const mt=this.buckets[ft],Bt=mt.layers[0].sourceLayer||"_geojsonTileLayer",Et=ot[Bt],xt=_e[Bt];if(!Et||!xt||Object.keys(xt).length===0)continue;if(mt.update(xt,Et,ut,this.imageAtlas&&this.imageAtlas.patternPositions||{}),mt instanceof Ku||mt instanceof gF){const Gt=nt.style._getSourceCache(mt.layers[0].source);nt._terrain&&nt._terrain.enabled&&Gt&&mt.programConfigurations.needsUpload&&nt._terrain._clearRenderCacheForTile(Gt.id,this.tileID)}const Wt=nt&&nt.style&&nt.style.getLayer(ft);Wt&&(this.queryPadding=Math.max(this.queryPadding,Wt.queryRadius(mt)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ls.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(_e){this.symbolFadeHoldUntil=ls.now()+_e}setTexture(_e,nt){const ot=nt.context,ut=ot.gl;this.texture=this.texture||nt.getTileTexture(_e.width),this.texture?this.texture.update(_e,{useMipmap:!0}):(this.texture=new En(ot,_e,ut.RGBA,{useMipmap:!0}),this.texture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),ot.extTextureFilterAnisotropic&&ut.texParameterf(ut.TEXTURE_2D,ot.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ot.extTextureFilterAnisotropicMax))}setDependencies(_e,nt){const ot={};for(const ut of nt)ot[ut]=!0;this.dependencies[_e]=ot}hasDependency(_e,nt){for(const ot of _e){const ut=this.dependencies[ot];if(ut){for(const ft of nt)if(ut[ft])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(_e,nt){if(!nt||nt.name==="mercator"||this._tileDebugBuffer)return;const ot=Tu(Cs,this.tileID.canonical,this.tileTransform)[0],ut=new rs,ft=new Hy;for(let mt=0;mt<ot.length;mt++){const{x:Bt,y:Et}=ot[mt];ut.emplaceBack(Bt,Et),ft.emplaceBack(mt)}ft.emplaceBack(0),this._tileDebugIndexBuffer=_e.createIndexBuffer(ft),this._tileDebugBuffer=_e.createVertexBuffer(ut,_U.members),this._tileDebugSegments=Nl.simpleSegment(0,0,ut.length,ft.length)}_makeTileBoundsBuffers(_e,nt){if(this._tileBoundsBuffer||!nt||nt.name==="mercator")return;const ot=Tu(Cs,this.tileID.canonical,this.tileTransform)[0];let ut,ft;if(this.isRaster){const mt=function(Bt,Et){const xt=yy(Bt,Et),Wt=Math.pow(2,Bt.z);for(let Mn=0;Mn<_i;Mn++)for(let Kn=0;Kn<_i;Kn++){const lr=fp((Bt.x+(Kn+ts(Kn))/Hr)/Wt),qn=$l((Bt.y+(Mn+ts(Mn))/Hr)/Wt),nr=Et.project(lr,qn),fr=Mn*_i+Kn;ko[2*fr+0]=Math.round((nr.x*xt.scale-xt.x)*Lo),ko[2*fr+1]=Math.round((nr.y*xt.scale-xt.y)*Lo)}Ho.fill(0),gs.fill(0);for(let Mn=2045;Mn>=0;Mn--){const Kn=4*Mn,lr=vo[Kn+0],qn=vo[Kn+1],nr=vo[Kn+2],fr=vo[Kn+3],rr=lr+nr>>1,xr=qn+fr>>1,Er=rr+xr-qn,Wr=xr+lr-rr,Kr=qn*_i+lr,Cr=fr*_i+nr,zr=xr*_i+rr,jr=Math.hypot((ko[2*Kr+0]+ko[2*Cr+0])/2-ko[2*zr+0],(ko[2*Kr+1]+ko[2*Cr+1])/2-ko[2*zr+1])>=16;if(Ho[zr]=Ho[zr]||(jr?1:0),Mn<1022){const Yr=(qn+Wr>>1)*_i+(lr+Er>>1),eo=(fr+Wr>>1)*_i+(nr+Er>>1);Ho[zr]=Ho[zr]||Ho[Yr]||Ho[eo]}}const Gt=new Ds,Xt=new Xl;let pn=0;function Fn(Mn,Kn){const lr=Kn*_i+Mn;return gs[lr]===0&&(Gt.emplaceBack(ko[2*lr+0],ko[2*lr+1],Mn*Lo/Hr,Kn*Lo/Hr),gs[lr]=++pn),gs[lr]-1}function Sn(Mn,Kn,lr,qn,nr,fr){const rr=Mn+lr>>1,xr=Kn+qn>>1;if(Math.abs(Mn-nr)+Math.abs(Kn-fr)>1&&Ho[xr*_i+rr])Sn(nr,fr,Mn,Kn,rr,xr),Sn(lr,qn,nr,fr,rr,xr);else{const Er=Fn(Mn,Kn),Wr=Fn(lr,qn),Kr=Fn(nr,fr);Xt.emplaceBack(Er,Wr,Kr)}}return Sn(0,0,Hr,Hr,Hr,0),Sn(Hr,Hr,0,0,0,Hr),{vertices:Gt,indices:Xt}}(this.tileID.canonical,nt);ut=mt.vertices,ft=mt.indices}else{ut=new Ds,ft=new Xl;for(const{x:Bt,y:Et}of ot)ut.emplaceBack(Bt,Et,0,0);const mt=lU.exports(ut.int16,void 0,4);for(let Bt=0;Bt<mt.length;Bt+=3)ft.emplaceBack(mt[Bt],mt[Bt+1],mt[Bt+2])}this._tileBoundsBuffer=_e.createVertexBuffer(ut,Ss.members),this._tileBoundsIndexBuffer=_e.createIndexBuffer(ft),this._tileBoundsSegments=Nl.simpleSegment(0,0,ut.length,ft.length)}_makeGlobeTileDebugBuffers(_e,nt){const ot=nt.projection;if(!ot||ot.name!=="globe"||nt.freezeTileCoverage)return;const ut=this.tileID.canonical,ft=FU(bB(ut,nt)),mt=B_(nt.zoom);let Bt;mt>0&&(Bt=sF(new Float64Array(16),nt.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(_e,ut,nt,ft,Bt,mt),this._makeGlobeTileDebugTextBuffer(_e,ut,nt,ft,Bt,mt)}_globePoint(_e,nt,ot,ut,ft,mt,Bt){let Et=b_(_e,nt,ot);if(mt){const xt=1<<ot.z,Wt=ru(ut.center.lng),Gt=em(ut.center.lat),Xt=(ot.x+.5)/xt-Wt;let pn=0;Xt>.5?pn=-1:Xt<-.5&&(pn=1);let Fn=(_e/Lo+ot.x)/xt+pn,Sn=(nt/Lo+ot.y)/xt;Fn=(Fn-Wt)*ut._pixelsPerMercatorPixel+Wt,Sn=(Sn-Gt)*ut._pixelsPerMercatorPixel+Gt;const Mn=[Fn*ut.worldSize,Sn*ut.worldSize,0];Ml(Mn,Mn,mt),Et=gy(Et,Mn,Bt)}return Ml(Et,Et,ft)}_makeGlobeTileDebugBorderBuffer(_e,nt,ot,ut,ft,mt){const Bt=new rs,Et=new Hy,xt=new Ns,Wt=(Xt,pn,Fn,Sn,Mn)=>{const Kn=(Fn-Xt)/(Mn-1),lr=(Sn-pn)/(Mn-1),qn=Bt.length;for(let nr=0;nr<Mn;nr++){const fr=Xt+nr*Kn,rr=pn+nr*lr;Bt.emplaceBack(fr,rr);const xr=this._globePoint(fr,rr,nt,ot,ut,ft,mt);xt.emplaceBack(xr[0],xr[1],xr[2]),Et.emplaceBack(qn+nr)}},Gt=Lo;Wt(0,0,Gt,0,16),Wt(Gt,0,Gt,Gt,16),Wt(Gt,Gt,0,Gt,16),Wt(0,Gt,0,0,16),this._tileDebugIndexBuffer=_e.createIndexBuffer(Et),this._tileDebugBuffer=_e.createVertexBuffer(Bt,_U.members),this._globeTileDebugBorderBuffer=_e.createVertexBuffer(xt,FB.members),this._tileDebugSegments=Nl.simpleSegment(0,0,Bt.length,Et.length)}_makeGlobeTileDebugTextBuffer(_e,nt,ot,ut,ft,mt){const Bt=new rs,Et=new Xl,xt=new Ns,Wt=25;Et.reserve(32),Bt.reserve(Wt),xt.reserve(Wt);const Gt=(Xt,pn)=>Wt*Xt+pn;for(let Xt=0;Xt<Wt;Xt++){const pn=2048*Xt;for(let Fn=0;Fn<Wt;Fn++){const Sn=2048*Fn;Bt.emplaceBack(Sn,pn);const Mn=this._globePoint(Sn,pn,nt,ot,ut,ft,mt);xt.emplaceBack(Mn[0],Mn[1],Mn[2])}}for(let Xt=0;Xt<4;Xt++)for(let pn=0;pn<4;pn++){const Fn=Gt(Xt,pn),Sn=Gt(Xt,pn+1),Mn=Gt(Xt+1,pn),Kn=Gt(Xt+1,pn+1);Et.emplaceBack(Fn,Sn,Mn),Et.emplaceBack(Mn,Sn,Kn)}this._tileDebugTextIndexBuffer=_e.createIndexBuffer(Et),this._tileDebugTextBuffer=_e.createVertexBuffer(Bt,_U.members),this._globeTileDebugTextBuffer=_e.createVertexBuffer(xt,FB.members),this._tileDebugTextSegments=Nl.simpleSegment(0,0,Wt,32)}}class Au{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(_e,nt,ot){const ut=String(nt);if(this.stateChanges[_e]=this.stateChanges[_e]||{},this.stateChanges[_e][ut]=this.stateChanges[_e][ut]||{},It(this.stateChanges[_e][ut],ot),this.deletedStates[_e]===null){this.deletedStates[_e]={};for(const ft in this.state[_e])ft!==ut&&(this.deletedStates[_e][ft]=null)}else if(this.deletedStates[_e]&&this.deletedStates[_e][ut]===null){this.deletedStates[_e][ut]={};for(const ft in this.state[_e][ut])ot[ft]||(this.deletedStates[_e][ut][ft]=null)}else for(const ft in ot)this.deletedStates[_e]&&this.deletedStates[_e][ut]&&this.deletedStates[_e][ut][ft]===null&&delete this.deletedStates[_e][ut][ft]}removeFeatureState(_e,nt,ot){if(this.deletedStates[_e]===null)return;const ut=String(nt);if(this.deletedStates[_e]=this.deletedStates[_e]||{},ot&&nt!==void 0)this.deletedStates[_e][ut]!==null&&(this.deletedStates[_e][ut]=this.deletedStates[_e][ut]||{},this.deletedStates[_e][ut][ot]=null);else if(nt!==void 0)if(this.stateChanges[_e]&&this.stateChanges[_e][ut])for(ot in this.deletedStates[_e][ut]={},this.stateChanges[_e][ut])this.deletedStates[_e][ut][ot]=null;else this.deletedStates[_e][ut]=null;else this.deletedStates[_e]=null}getState(_e,nt){const ot=String(nt),ut=It({},(this.state[_e]||{})[ot],(this.stateChanges[_e]||{})[ot]);if(this.deletedStates[_e]===null)return{};if(this.deletedStates[_e]){const ft=this.deletedStates[_e][nt];if(ft===null)return{};for(const mt in ft)delete ut[mt]}return ut}initializeTileState(_e,nt){_e.setFeatureState(this.state,nt)}coalesceChanges(_e,nt){const ot={};for(const ut in this.stateChanges){this.state[ut]=this.state[ut]||{};const ft={};for(const mt in this.stateChanges[ut])this.state[ut][mt]||(this.state[ut][mt]={}),It(this.state[ut][mt],this.stateChanges[ut][mt]),ft[mt]=this.state[ut][mt];ot[ut]=ft}for(const ut in this.deletedStates){this.state[ut]=this.state[ut]||{};const ft={};if(this.deletedStates[ut]===null)for(const mt in this.state[ut])ft[mt]={},this.state[ut][mt]={};else for(const mt in this.deletedStates[ut]){if(this.deletedStates[ut][mt]===null)this.state[ut][mt]={};else for(const Bt of Object.keys(this.deletedStates[ut][mt]))delete this.state[ut][mt][Bt];ft[mt]=this.state[ut][mt]}ot[ut]=ot[ut]||{},It(ot[ut],ft)}if(this.stateChanges={},this.deletedStates={},Object.keys(ot).length!==0)for(const ut in _e)_e[ut].setFeatureState(ot,nt)}}class _f{constructor(_e){this.size=_e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(_e,nt){const ot=this.toIdx(_e,nt);return{min:this.minimums[ot],max:this.maximums[ot]}}isLeaf(_e,nt){return this.leaves[this.toIdx(_e,nt)]}toIdx(_e,nt){return nt*this.size+_e}}function Il(tt,_e,nt,ot){let ut=0,ft=Number.MAX_VALUE;for(let mt=0;mt<3;mt++)if(Math.abs(ot[mt])<1e-15){if(nt[mt]<tt[mt]||nt[mt]>_e[mt])return null}else{const Bt=1/ot[mt];let Et=(tt[mt]-nt[mt])*Bt,xt=(_e[mt]-nt[mt])*Bt;if(Et>xt){const Wt=Et;Et=xt,xt=Wt}if(Et>ut&&(ut=Et),xt<ft&&(ft=xt),ut>ft)return null}return ut}function Vp(tt,_e,nt,ot,ut,ft,mt,Bt,Et,xt,Wt){const Gt=ot-tt,Xt=ut-_e,pn=ft-nt,Fn=mt-tt,Sn=Bt-_e,Mn=Et-nt,Kn=Wt[1]*Mn-Wt[2]*Sn,lr=Wt[2]*Fn-Wt[0]*Mn,qn=Wt[0]*Sn-Wt[1]*Fn,nr=Gt*Kn+Xt*lr+pn*qn;if(Math.abs(nr)<1e-15)return null;const fr=1/nr,rr=xt[0]-tt,xr=xt[1]-_e,Er=xt[2]-nt,Wr=(rr*Kn+xr*lr+Er*qn)*fr;if(Wr<0||Wr>1)return null;const Kr=xr*pn-Er*Xt,Cr=Er*Gt-rr*pn,zr=rr*Xt-xr*Gt,jr=(Wt[0]*Kr+Wt[1]*Cr+Wt[2]*zr)*fr;return jr<0||Wr+jr>1?null:(Fn*Kr+Sn*Cr+Mn*zr)*fr}function Tm(tt,_e,nt){return(tt-_e)/(nt-_e)}function qv(tt,_e,nt,ot,ut,ft,mt,Bt,Et){const xt=1<<nt,Wt=ft-ot,Gt=mt-ut,Xt=(tt+1)/xt*Wt+ot,pn=(_e+0)/xt*Gt+ut,Fn=(_e+1)/xt*Gt+ut;Bt[0]=(tt+0)/xt*Wt+ot,Bt[1]=pn,Et[0]=Xt,Et[1]=Fn}class yQ{constructor(_e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=_e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const nt=function(ft){const mt=Math.ceil(Math.log2(ft.dim/8)),Bt=[];let Et=Math.ceil(Math.pow(2,mt));const xt=1/Et,Wt=(pn,Fn,Sn,Mn,Kn)=>{const lr=Mn?1:0,qn=(pn+1)*Sn-lr,nr=Fn*Sn,fr=(Fn+1)*Sn-lr;Kn[0]=pn*Sn,Kn[1]=nr,Kn[2]=qn,Kn[3]=fr};let Gt=new _f(Et);const Xt=[];for(let pn=0;pn<Et*Et;pn++){Wt(pn%Et,Math.floor(pn/Et),xt,!1,Xt);const Fn=Q_(Xt[0],Xt[1],ft),Sn=Q_(Xt[2],Xt[1],ft),Mn=Q_(Xt[2],Xt[3],ft),Kn=Q_(Xt[0],Xt[3],ft);Gt.minimums.push(Math.min(Fn,Sn,Mn,Kn)),Gt.maximums.push(Math.max(Fn,Sn,Mn,Kn)),Gt.leaves.push(1)}for(Bt.push(Gt),Et/=2;Et>=1;Et/=2){const pn=Bt[Bt.length-1];Gt=new _f(Et);for(let Fn=0;Fn<Et*Et;Fn++){Wt(Fn%Et,Math.floor(Fn/Et),2,!0,Xt);const Sn=pn.getElevation(Xt[0],Xt[1]),Mn=pn.getElevation(Xt[2],Xt[1]),Kn=pn.getElevation(Xt[2],Xt[3]),lr=pn.getElevation(Xt[0],Xt[3]),qn=pn.isLeaf(Xt[0],Xt[1]),nr=pn.isLeaf(Xt[2],Xt[1]),fr=pn.isLeaf(Xt[2],Xt[3]),rr=pn.isLeaf(Xt[0],Xt[3]),xr=Math.min(Sn.min,Mn.min,Kn.min,lr.min),Er=Math.max(Sn.max,Mn.max,Kn.max,lr.max),Wr=qn&&nr&&fr&&rr;Gt.maximums.push(Er),Gt.minimums.push(xr),Gt.leaves.push(Er-xr<=5&&Wr?1:0)}Bt.push(Gt)}return Bt}(this.dem),ot=nt.length-1,ut=nt[ot];this._addNode(ut.minimums[0],ut.maximums[0],ut.leaves[0]),this._construct(nt,0,0,ot,0)}raycastRoot(_e,nt,ot,ut,ft,mt,Bt=1){return Il([_e,nt,-100],[ot,ut,this.maximums[0]*Bt],ft,mt)}raycast(_e,nt,ot,ut,ft,mt,Bt=1){if(!this.nodeCount)return null;const Et=this.raycastRoot(_e,nt,ot,ut,ft,mt,Bt);if(Et==null)return null;const xt=[],Wt=[],Gt=[],Xt=[],pn=[{idx:0,t:Et,nodex:0,nodey:0,depth:0}];for(;pn.length>0;){const{idx:Fn,t:Sn,nodex:Mn,nodey:Kn,depth:lr}=pn.pop();if(this.leaves[Fn]){qv(Mn,Kn,lr,_e,nt,ot,ut,Gt,Xt);const nr=1<<lr,fr=(Mn+0)/nr,rr=(Mn+1)/nr,xr=(Kn+0)/nr,Er=(Kn+1)/nr,Wr=Q_(fr,xr,this.dem)*Bt,Kr=Q_(rr,xr,this.dem)*Bt,Cr=Q_(rr,Er,this.dem)*Bt,zr=Q_(fr,Er,this.dem)*Bt,jr=Vp(Gt[0],Gt[1],Wr,Xt[0],Gt[1],Kr,Xt[0],Xt[1],Cr,ft,mt),Yr=Vp(Xt[0],Xt[1],Cr,Gt[0],Xt[1],zr,Gt[0],Gt[1],Wr,ft,mt),eo=Math.min(jr!==null?jr:Number.MAX_VALUE,Yr!==null?Yr:Number.MAX_VALUE);if(eo!==Number.MAX_VALUE)return eo;{const Vr=aU([],ft,mt,Sn);if(_Q(Wr,Kr,zr,Cr,Tm(Vr[0],Gt[0],Xt[0]),Tm(Vr[1],Gt[1],Xt[1]))>=Vr[2])return Sn}continue}let qn=0;for(let nr=0;nr<this._siblingOffset.length;nr++){qv((Mn<<1)+this._siblingOffset[nr][0],(Kn<<1)+this._siblingOffset[nr][1],lr+1,_e,nt,ot,ut,Gt,Xt),Gt[2]=-100,Xt[2]=this.maximums[this.childOffsets[Fn]+nr]*Bt;const fr=Il(Gt,Xt,ft,mt);if(fr!=null){const rr=fr;xt[nr]=rr;let xr=!1;for(let Er=0;Er<qn&&!xr;Er++)rr>=xt[Wt[Er]]&&(Wt.splice(Er,0,nr),xr=!0);xr||(Wt[qn]=nr),qn++}}for(let nr=0;nr<qn;nr++){const fr=Wt[nr];pn.push({idx:this.childOffsets[Fn]+fr,t:xt[fr],nodex:(Mn<<1)+this._siblingOffset[fr][0],nodey:(Kn<<1)+this._siblingOffset[fr][1],depth:lr+1})}}return null}_addNode(_e,nt,ot){return this.minimums.push(_e),this.maximums.push(nt),this.leaves.push(ot),this.childOffsets.push(0),this.nodeCount++}_construct(_e,nt,ot,ut,ft){if(_e[ut].isLeaf(nt,ot)===1)return;this.childOffsets[ft]||(this.childOffsets[ft]=this.nodeCount);const mt=ut-1,Bt=_e[mt];let Et=0,xt=0;for(let Wt=0;Wt<this._siblingOffset.length;Wt++){const Gt=2*nt+this._siblingOffset[Wt][0],Xt=2*ot+this._siblingOffset[Wt][1],pn=Bt.getElevation(Gt,Xt),Fn=Bt.isLeaf(Gt,Xt),Sn=this._addNode(pn.min,pn.max,Fn);Fn&&(Et|=1<<Wt),xt||(xt=Sn)}for(let Wt=0;Wt<this._siblingOffset.length;Wt++)Et&1<<Wt||this._construct(_e,2*nt+this._siblingOffset[Wt][0],2*ot+this._siblingOffset[Wt][1],mt,xt+Wt)}}function _Q(tt,_e,nt,ot,ut,ft){return _s(_s(tt,nt,ft),_s(_e,ot,ft),ut)}function Q_(tt,_e,nt){const ot=nt.dim,ut=Kt(tt*ot-.5,0,ot-1),ft=Kt(_e*ot-.5,0,ot-1),mt=Math.floor(ut),Bt=Math.floor(ft),Et=Math.min(mt+1,ot-1),xt=Math.min(Bt+1,ot-1);return _Q(nt.get(mt,Bt),nt.get(Et,Bt),nt.get(mt,xt),nt.get(Et,xt),ut-mt,ft-Bt)}const UQ={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class AB{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(_e,nt,ot,ut=!1,ft=!1){if(this.uid=_e,nt.height!==nt.width)throw new RangeError("DEM tiles must be square");if(ot&&ot!=="mapbox"&&ot!=="terrarium")return Tn(`"${ot}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=nt.height;const mt=this.dim=nt.height-2,Bt=new Uint32Array(nt.data.buffer);if(this.pixels=new Uint8Array(nt.data.buffer),this.encoding=ot||"mapbox",this.borderReady=ut,!ut){for(let Et=0;Et<mt;Et++)Bt[this._idx(-1,Et)]=Bt[this._idx(0,Et)],Bt[this._idx(mt,Et)]=Bt[this._idx(mt-1,Et)],Bt[this._idx(Et,-1)]=Bt[this._idx(Et,0)],Bt[this._idx(Et,mt)]=Bt[this._idx(Et,mt-1)];Bt[this._idx(-1,-1)]=Bt[this._idx(0,0)],Bt[this._idx(mt,-1)]=Bt[this._idx(mt-1,0)],Bt[this._idx(-1,mt)]=Bt[this._idx(0,mt-1)],Bt[this._idx(mt,mt)]=Bt[this._idx(mt-1,mt-1)],ft&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new yQ(this)}get(_e,nt,ot=!1){ot&&(_e=Kt(_e,-1,this.dim),nt=Kt(nt,-1,this.dim));const ut=4*this._idx(_e,nt);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[ut],this.pixels[ut+1],this.pixels[ut+2])}static getUnpackVector(_e){return UQ[_e]}get unpackVector(){return UQ[this.encoding]}_idx(_e,nt){if(_e<-1||_e>=this.dim+1||nt<-1||nt>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(nt+1)*this.stride+(_e+1)}_unpackMapbox(_e,nt,ot){return(256*_e*256+256*nt+ot)/10-1e4}_unpackTerrarium(_e,nt,ot){return 256*_e+nt+ot/256-32768}static pack(_e,nt){const ot=[0,0,0,0],ut=AB.getUnpackVector(nt);let ft=Math.floor((_e+ut[3])/ut[2]);return ot[2]=ft%256,ft=Math.floor(ft/256),ot[1]=ft%256,ft=Math.floor(ft/256),ot[0]=ft,ot}getPixels(){return new qu({width:this.stride,height:this.stride},this.pixels)}backfillBorder(_e,nt,ot){if(this.dim!==_e.dim)throw new Error("dem dimension mismatch");let ut=nt*this.dim,ft=nt*this.dim+this.dim,mt=ot*this.dim,Bt=ot*this.dim+this.dim;switch(nt){case-1:ut=ft-1;break;case 1:ft=ut+1}switch(ot){case-1:mt=Bt-1;break;case 1:Bt=mt+1}const Et=-nt*this.dim,xt=-ot*this.dim;for(let Wt=mt;Wt<Bt;Wt++)for(let Gt=ut;Gt<ft;Gt++){const Xt=4*this._idx(Gt,Wt),pn=4*this._idx(Gt+Et,Wt+xt);this.pixels[Xt+0]=_e.pixels[pn+0],this.pixels[Xt+1]=_e.pixels[pn+1],this.pixels[Xt+2]=_e.pixels[pn+2],this.pixels[Xt+3]=_e.pixels[pn+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}yo(AB,"DEMData"),yo(yQ,"DemMinMaxQuadTree",{omit:["dem"]});class VQ{constructor(_e,nt){this.max=_e,this.onRemove=nt,this.reset()}reset(){for(const _e in this.data)for(const nt of this.data[_e])nt.timeout&&clearTimeout(nt.timeout),this.onRemove(nt.value);return this.data={},this.order=[],this}add(_e,nt,ot){const ut=_e.wrapped().key;this.data[ut]===void 0&&(this.data[ut]=[]);const ft={value:nt,timeout:void 0};if(ot!==void 0&&(ft.timeout=setTimeout(()=>{this.remove(_e,ft)},ot)),this.data[ut].push(ft),this.order.push(ut),this.order.length>this.max){const mt=this._getAndRemoveByKey(this.order[0]);mt&&this.onRemove(mt)}return this}has(_e){return _e.wrapped().key in this.data}getAndRemove(_e){return this.has(_e)?this._getAndRemoveByKey(_e.wrapped().key):null}_getAndRemoveByKey(_e){const nt=this.data[_e].shift();return nt.timeout&&clearTimeout(nt.timeout),this.data[_e].length===0&&delete this.data[_e],this.order.splice(this.order.indexOf(_e),1),nt.value}getByKey(_e){const nt=this.data[_e];return nt?nt[0].value:null}get(_e){return this.has(_e)?this.data[_e.wrapped().key][0].value:null}remove(_e,nt){if(!this.has(_e))return this;const ot=_e.wrapped().key,ut=nt===void 0?0:this.data[ot].indexOf(nt),ft=this.data[ot][ut];return this.data[ot].splice(ut,1),ft.timeout&&clearTimeout(ft.timeout),this.data[ot].length===0&&delete this.data[ot],this.onRemove(ft.value),this.order.splice(this.order.indexOf(ot),1),this}setMaxSize(_e){for(this.max=_e;this.order.length>this.max;){const nt=this._getAndRemoveByKey(this.order[0]);nt&&this.onRemove(nt)}return this}filter(_e){const nt=[];for(const ot in this.data)for(const ut of this.data[ot])_e(ut.value)||nt.push(ut);for(const ot of nt)this.remove(ot.value.tileID,ot)}}class ZF{constructor(_e,nt,ot){this.func=_e,this.mask=nt,this.range=ot}}ZF.ReadOnly=!1,ZF.ReadWrite=!0,ZF.disabled=new ZF(519,ZF.ReadOnly,[0,1]);const sQ=7680;class aQ{constructor(_e,nt,ot,ut,ft,mt){this.test=_e,this.ref=nt,this.mask=ot,this.fail=ut,this.depthFail=ft,this.pass=mt}}aQ.disabled=new aQ({func:519,mask:0},0,0,sQ,sQ,sQ);class V0{constructor(_e,nt,ot){this.blendFunction=_e,this.blendColor=nt,this.mask=ot}}V0.Replace=[1,0],V0.disabled=new V0(V0.Replace,$s.transparent,[!1,!1,!1,!1]),V0.unblended=new V0(V0.Replace,$s.transparent,[!0,!0,!0,!0]),V0.alphaBlended=new V0([1,771],$s.transparent,[!0,!0,!0,!0]);const lQ=1029,cQ=2305;class Xm{constructor(_e,nt,ot){this.enable=_e,this.mode=nt,this.frontFace=ot}}Xm.disabled=new Xm(!1,lQ,cQ),Xm.backCCW=new Xm(!0,lQ,cQ),Xm.backCW=new Xm(!0,lQ,2304),Xm.frontCW=new Xm(!0,1028,2304),Xm.frontCCW=new Xm(!0,1028,cQ);class RU extends Mu{constructor(_e,nt,ot){super(),this.id=_e,this._onlySymbols=ot,nt.on("data",ut=>{ut.dataType==="source"&&ut.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&ut.dataType==="source"&&ut.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),nt.on("error",()=>{this._sourceErrored=!0}),this._source=nt,this._tiles={},this._cache=new VQ(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=nt.minTileCacheSize,this._maxTileCacheSize=nt.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Au,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(_e){this.map=_e,this._minTileCacheSize=this._minTileCacheSize===void 0&&_e?_e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&_e?_e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const _e in this._tiles){const nt=this._tiles[_e];if(nt.state!=="loaded"&&nt.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const _e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,_e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(_e,nt){return _e.isSymbolTile=this._onlySymbols,this._source.loadTile(_e,nt)}_unloadTile(_e){if(this._source.unloadTile)return this._source.unloadTile(_e,()=>{})}_abortTile(_e){if(this._source.abortTile)return this._source.abortTile(_e,()=>{})}serialize(){return this._source.serialize()}prepare(_e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const nt in this._tiles){const ot=this._tiles[nt];ot.upload(_e),ot.prepare(this.map.style.imageManager)}}getIds(){return zt(this._tiles).map(_e=>_e.tileID).sort(FQ).map(_e=>_e.key)}getRenderableIds(_e){const nt=[];for(const ot in this._tiles)this._isIdRenderable(+ot,_e)&&nt.push(this._tiles[ot]);return _e?nt.sort((ot,ut)=>{const ft=ot.tileID,mt=ut.tileID,Bt=new St(ft.canonical.x,ft.canonical.y)._rotate(this.transform.angle),Et=new St(mt.canonical.x,mt.canonical.y)._rotate(this.transform.angle);return ft.overscaledZ-mt.overscaledZ||Et.y-Bt.y||Et.x-Bt.x}).map(ot=>ot.tileID.key):nt.map(ot=>ot.tileID).sort(FQ).map(ot=>ot.key)}hasRenderableParent(_e){const nt=this.findLoadedParent(_e,0);return!!nt&&this._isIdRenderable(nt.tileID.key)}_isIdRenderable(_e,nt){return this._tiles[_e]&&this._tiles[_e].hasData()&&!this._coveredTiles[_e]&&(nt||!this._tiles[_e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const _e in this._tiles)this._tiles[_e].state!=="errored"&&this._reloadTile(+_e,"reloading")}}_reloadTile(_e,nt){const ot=this._tiles[_e];ot&&(ot.state!=="loading"&&(ot.state=nt),this._loadTile(ot,this._tileLoaded.bind(this,ot,_e,nt)))}_tileLoaded(_e,nt,ot,ut){if(ut)if(_e.state="errored",ut.status!==404)this._source.fire(new np(ut,{tile:_e}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const ft=this.map.painter.terrain;this.update(this.transform,ft.getScaledDemTileSize(),!0),ft.resetTileLookupCache(this.id)}else this.update(this.transform);else _e.timeAdded=ls.now(),ot==="expired"&&(_e.refreshedUponExpiration=!0),this._setTileReloadTimer(nt,_e),this._source.type==="raster-dem"&&_e.dem&&this._backfillDEM(_e),this._state.initializeTileState(_e,this.map?this.map.painter:null),this._source.fire(new Fs("data",{dataType:"source",tile:_e,coord:_e.tileID,sourceCacheId:this.id}))}_backfillDEM(_e){const nt=this.getRenderableIds();for(let ut=0;ut<nt.length;ut++){const ft=nt[ut];if(_e.neighboringTiles&&_e.neighboringTiles[ft]){const mt=this.getTileByID(ft);ot(_e,mt),ot(mt,_e)}}function ot(ut,ft){if(!ut.dem||ut.dem.borderReady)return;ut.needsHillshadePrepare=!0,ut.needsDEMTextureUpload=!0;let mt=ft.tileID.canonical.x-ut.tileID.canonical.x;const Bt=ft.tileID.canonical.y-ut.tileID.canonical.y,Et=Math.pow(2,ut.tileID.canonical.z),xt=ft.tileID.key;mt===0&&Bt===0||Math.abs(Bt)>1||(Math.abs(mt)>1&&(Math.abs(mt+Et)===1?mt+=Et:Math.abs(mt-Et)===1&&(mt-=Et)),ft.dem&&ut.dem&&(ut.dem.backfillBorder(ft.dem,mt,Bt),ut.neighboringTiles&&ut.neighboringTiles[xt]&&(ut.neighboringTiles[xt].backfilled=!0)))}}getTile(_e){return this.getTileByID(_e.key)}getTileByID(_e){return this._tiles[_e]}_retainLoadedChildren(_e,nt,ot,ut){for(const ft in this._tiles){let mt=this._tiles[ft];if(ut[ft]||!mt.hasData()||mt.tileID.overscaledZ<=nt||mt.tileID.overscaledZ>ot)continue;let Bt=mt.tileID;for(;mt&&mt.tileID.overscaledZ>nt+1;){const xt=mt.tileID.scaledTo(mt.tileID.overscaledZ-1);mt=this._tiles[xt.key],mt&&mt.hasData()&&(Bt=xt)}let Et=Bt;for(;Et.overscaledZ>nt;)if(Et=Et.scaledTo(Et.overscaledZ-1),_e[Et.key]){ut[Bt.key]=Bt;break}}}findLoadedParent(_e,nt){if(_e.key in this._loadedParentTiles){const ot=this._loadedParentTiles[_e.key];return ot&&ot.tileID.overscaledZ>=nt?ot:null}for(let ot=_e.overscaledZ-1;ot>=nt;ot--){const ut=_e.scaledTo(ot),ft=this._getLoadedTile(ut);if(ft)return ft}}_getLoadedTile(_e){const nt=this._tiles[_e.key];return nt&&nt.hasData()?nt:this._cache.getByKey(this._source.reparseOverscaled?_e.wrapped().key:_e.canonical.key)}updateCacheSize(_e,nt){nt=nt||this._source.tileSize;const ot=Math.ceil(_e.width/nt)+1,ut=Math.ceil(_e.height/nt)+1,ft=Math.floor(ot*ut*5),mt=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,ft):ft,Bt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,mt):mt;this._cache.setMaxSize(Bt)}handleWrapJump(_e){const nt=Math.round((_e-(this._prevLng===void 0?_e:this._prevLng))/360);if(this._prevLng=_e,nt){const ot={};for(const ut in this._tiles){const ft=this._tiles[ut];ft.tileID=ft.tileID.unwrapTo(ft.tileID.wrap+nt),ot[ft.tileID.key]=ft}this._tiles=ot;for(const ut in this._timers)clearTimeout(this._timers[ut]),delete this._timers[ut];for(const ut in this._tiles)this._setTileReloadTimer(+ut,this._tiles[ut])}}update(_e,nt,ot){if(this.transform=_e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!ot)return;let ut;this.updateCacheSize(_e,nt),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?ut=_e.getVisibleUnwrappedCoordinates(this._source.tileID).map(Bt=>new Qu(Bt.canonical.z,Bt.wrap,Bt.canonical.z,Bt.canonical.x,Bt.canonical.y)):(ut=_e.coveringTiles({tileSize:nt||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!ot,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(ut=ut.filter(Bt=>this._source.hasTile(Bt)))):ut=[];const ft=this._updateRetainedTiles(ut);if(vQ(this._source.type)&&ut.length!==0){const Bt={},Et={},xt=Object.keys(ft);for(const Gt of xt){const Xt=ft[Gt],pn=this._tiles[Gt];if(!pn||pn.fadeEndTime&&pn.fadeEndTime<=ls.now())continue;const Fn=this.findLoadedParent(Xt,Math.max(Xt.overscaledZ-RU.maxOverzooming,this._source.minzoom));Fn&&(this._addTile(Fn.tileID),Bt[Fn.tileID.key]=Fn.tileID),Et[Gt]=Xt}const Wt=ut[ut.length-1].overscaledZ;for(const Gt in this._tiles){const Xt=this._tiles[Gt];if(ft[Gt]||!Xt.hasData())continue;let pn=Xt.tileID;for(;pn.overscaledZ>Wt;){pn=pn.scaledTo(pn.overscaledZ-1);const Fn=this._tiles[pn.key];if(Fn&&Fn.hasData()&&Et[pn.key]){ft[Gt]=Xt.tileID;break}}}for(const Gt in Bt)ft[Gt]||(this._coveredTiles[Gt]=!0,ft[Gt]=Bt[Gt])}for(const Bt in ft)this._tiles[Bt].clearFadeHold();const mt=function(Bt,Et){const xt=[];for(const Wt in Bt)Wt in Et||xt.push(Wt);return xt}(this._tiles,ft);for(const Bt of mt){const Et=this._tiles[Bt];Et.hasSymbolBuckets&&!Et.holdingForFade()?Et.setHoldDuration(this.map._fadeDuration):Et.hasSymbolBuckets&&!Et.symbolFadeFinished()||this._removeTile(+Bt)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const _e in this._tiles)this._tiles[_e].holdingForFade()&&this._removeTile(+_e)}_updateRetainedTiles(_e){const nt={};if(_e.length===0)return nt;const ot={},ut=_e.reduce((xt,Wt)=>Math.min(xt,Wt.overscaledZ),1/0),ft=_e[0].overscaledZ,mt=Math.max(ft-RU.maxOverzooming,this._source.minzoom),Bt=Math.max(ft+RU.maxUnderzooming,this._source.minzoom),Et={};for(const xt of _e){const Wt=this._addTile(xt);nt[xt.key]=xt,Wt.hasData()||ut<this._source.maxzoom&&(Et[xt.key]=xt)}this._retainLoadedChildren(Et,ut,Bt,nt);for(const xt of _e){let Wt=this._tiles[xt.key];if(Wt.hasData())continue;if(xt.canonical.z>=this._source.maxzoom){const Xt=xt.children(this._source.maxzoom)[0],pn=this.getTile(Xt);if(pn&&pn.hasData()){nt[Xt.key]=Xt;continue}}else{const Xt=xt.children(this._source.maxzoom);if(nt[Xt[0].key]&&nt[Xt[1].key]&&nt[Xt[2].key]&&nt[Xt[3].key])continue}let Gt=Wt.wasRequested();for(let Xt=xt.overscaledZ-1;Xt>=mt;--Xt){const pn=xt.scaledTo(Xt);if(ot[pn.key]||(ot[pn.key]=!0,Wt=this.getTile(pn),!Wt&&Gt&&(Wt=this._addTile(pn)),Wt&&(nt[pn.key]=pn,Gt=Wt.wasRequested(),Wt.hasData())))break}}return nt}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const _e in this._tiles){const nt=[];let ot,ut=this._tiles[_e].tileID;for(;ut.overscaledZ>0;){if(ut.key in this._loadedParentTiles){ot=this._loadedParentTiles[ut.key];break}nt.push(ut.key);const ft=ut.scaledTo(ut.overscaledZ-1);if(ot=this._getLoadedTile(ft),ot)break;ut=ft}for(const ft of nt)this._loadedParentTiles[ft]=ot}}_addTile(_e){let nt=this._tiles[_e.key];if(nt)return nt;nt=this._cache.getAndRemove(_e),nt&&(this._setTileReloadTimer(_e.key,nt),nt.tileID=_e,this._state.initializeTileState(nt,this.map?this.map.painter:null),this._cacheTimers[_e.key]&&(clearTimeout(this._cacheTimers[_e.key]),delete this._cacheTimers[_e.key],this._setTileReloadTimer(_e.key,nt)));const ot=Boolean(nt);if(!ot){const ut=this.map?this.map.painter:null;nt=new Cu(_e,this._source.tileSize*_e.overscaleFactor(),this.transform.tileZoom,ut,this._isRaster),this._loadTile(nt,this._tileLoaded.bind(this,nt,_e.key,nt.state))}return nt?(nt.uses++,this._tiles[_e.key]=nt,ot||this._source.fire(new Fs("dataloading",{tile:nt,coord:nt.tileID,dataType:"source"})),nt):null}_setTileReloadTimer(_e,nt){_e in this._timers&&(clearTimeout(this._timers[_e]),delete this._timers[_e]);const ot=nt.getExpiryTimeout();ot&&(this._timers[_e]=setTimeout(()=>{this._reloadTile(_e,"expired"),delete this._timers[_e]},ot))}_removeTile(_e){const nt=this._tiles[_e];nt&&(nt.uses--,delete this._tiles[_e],this._timers[_e]&&(clearTimeout(this._timers[_e]),delete this._timers[_e]),nt.uses>0||(nt.hasData()&&nt.state!=="reloading"?this._cache.add(nt.tileID,nt,nt.getExpiryTimeout()):(nt.aborted=!0,this._abortTile(nt),this._unloadTile(nt))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const _e in this._tiles)this._removeTile(+_e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(_e,nt,ot){const ut=[],ft=this.transform;if(!ft)return ut;const mt=ft.projection.name==="globe",Bt=ru(ft.center.lng);for(const Et in this._tiles){const xt=this._tiles[Et];if(ot&&xt.clearQueryDebugViz(),xt.holdingForFade())continue;let Wt;if(mt){const Gt=xt.tileID.canonical;if(Gt.z===0){const Xt=[Math.abs(Kt(Bt,...Kv(Gt,-1))-Bt),Math.abs(Kt(Bt,...Kv(Gt,1))-Bt)];Wt=[0,2*Xt.indexOf(Math.min(...Xt))-1]}else{const Xt=[Math.abs(Kt(Bt,...Kv(Gt,-1))-Bt),Math.abs(Kt(Bt,...Kv(Gt,0))-Bt),Math.abs(Kt(Bt,...Kv(Gt,1))-Bt)];Wt=[Xt.indexOf(Math.min(...Xt))-1]}}else Wt=[0];for(const Gt of Wt){const Xt=_e.containsTile(xt,ft,nt,Gt);Xt&&ut.push(Xt)}}return ut}getVisibleCoordinates(_e){const nt=this.getRenderableIds(_e).map(ot=>this._tiles[ot].tileID);for(const ot of nt)ot.projMatrix=this.transform.calculateProjMatrix(ot.toUnwrapped());return nt}hasTransition(){if(this._source.hasTransition())return!0;if(vQ(this._source.type))for(const _e in this._tiles){const nt=this._tiles[_e];if(nt.fadeEndTime!==void 0&&nt.fadeEndTime>=ls.now())return!0}return!1}setFeatureState(_e,nt,ot){this._state.updateState(_e=_e||"_geojsonTileLayer",nt,ot)}removeFeatureState(_e,nt,ot){this._state.removeFeatureState(_e=_e||"_geojsonTileLayer",nt,ot)}getFeatureState(_e,nt){return this._state.getState(_e=_e||"_geojsonTileLayer",nt)}setDependencies(_e,nt,ot){const ut=this._tiles[_e];ut&&ut.setDependencies(nt,ot)}reloadTilesForDependencies(_e,nt){for(const ot in this._tiles)this._tiles[ot].hasDependency(_e,nt)&&this._reloadTile(+ot,"reloading");this._cache.filter(ot=>!ot.hasDependency(_e,nt))}_preloadTiles(_e,nt){const ot=new Map,ut=Array.isArray(_e)?_e:[_e],ft=this.map.painter.terrain,mt=this.usedForTerrain&&ft?ft.getScaledDemTileSize():this._source.tileSize;for(const Bt of ut){const Et=Bt.coveringTiles({tileSize:mt,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const xt of Et)ot.set(xt.key,xt);this.usedForTerrain&&Bt.updateElevation(!1)}dn(Array.from(ot.values()),(Bt,Et)=>{const xt=new Cu(Bt,this._source.tileSize*Bt.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(xt,Wt=>{this._source.type==="raster-dem"&&xt.dem&&this._backfillDEM(xt),Et(Wt,xt)})},nt)}}function FQ(tt,_e){const nt=Math.abs(2*tt.wrap)-+(tt.wrap<0),ot=Math.abs(2*_e.wrap)-+(_e.wrap<0);return tt.overscaledZ-_e.overscaledZ||ot-nt||_e.canonical.y-tt.canonical.y||_e.canonical.x-tt.canonical.x}function vQ(tt){return tt==="raster"||tt==="image"||tt==="video"||tt==="custom"}function Kv(tt,_e){const nt=1<<tt.z;return[tt.x/nt+_e,(tt.x+1)/nt+_e]}RU.maxOverzooming=10,RU.maxUnderzooming=3;class VB{constructor(_e,nt,ot){this._demTile=_e,this._dem=this._demTile.dem,this._scale=nt,this._offset=ot}static create(_e,nt,ot){const ut=ot||_e.findDEMTileFor(nt);if(!ut||!ut.dem)return;const ft=ut.dem,mt=ut.tileID,Bt=1<<nt.canonical.z-mt.canonical.z;return new VB(ut,ut.tileSize/Lo/Bt,[(nt.canonical.x/Bt-mt.canonical.x)*ft.dim,(nt.canonical.y/Bt-mt.canonical.y)*ft.dim])}tileCoordToPixel(_e,nt){const ot=nt*this._scale+this._offset[1],ut=Math.floor(_e*this._scale+this._offset[0]),ft=Math.floor(ot);return new St(ut,ft)}getElevationAt(_e,nt,ot,ut){const ft=_e*this._scale+this._offset[0],mt=nt*this._scale+this._offset[1],Bt=Math.floor(ft),Et=Math.floor(mt),xt=this._dem;return ut=!!ut,ot?_s(_s(xt.get(Bt,Et,ut),xt.get(Bt,Et+1,ut),mt-Et),_s(xt.get(Bt+1,Et,ut),xt.get(Bt+1,Et+1,ut),mt-Et),ft-Bt):xt.get(Bt,Et,ut)}getElevationAtPixel(_e,nt,ot){return this._dem.get(_e,nt,!!ot)}getMeterToDEM(_e){return(1<<this._demTile.tileID.canonical.z)*dp(1,_e)*this._dem.stride}}class bQ{constructor(_e,nt){this.tileID=_e,this.x=_e.canonical.x,this.y=_e.canonical.y,this.z=_e.canonical.z,this.grid=new y0(Lo,16,0),this.featureIndexArray=new X_,this.promoteId=nt}insert(_e,nt,ot,ut,ft,mt=0){const Bt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ot,ut,ft,mt);const Et=this.grid;for(let xt=0;xt<nt.length;xt++){const Wt=nt[xt],Gt=[1/0,1/0,-1/0,-1/0];for(let Xt=0;Xt<Wt.length;Xt++){const pn=Wt[Xt];Gt[0]=Math.min(Gt[0],pn.x),Gt[1]=Math.min(Gt[1],pn.y),Gt[2]=Math.max(Gt[2],pn.x),Gt[3]=Math.max(Gt[3],pn.y)}Gt[0]<Lo&&Gt[1]<Lo&&Gt[2]>=0&&Gt[3]>=0&&Et.insert(Bt,Gt[0],Gt[1],Gt[2],Gt[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Sv(new f_(this.rawTileData)).layers,this.sourceLayerCoder=new mr(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const _e in this.vtLayers)this.vtFeatures[_e]=[]}return this.vtLayers}query(_e,nt,ot,ut){this.loadVTLayers();const ft=_e.params||{},mt=Wy(ft.filter),Bt=_e.tileResult,Et=_e.transform,xt=Bt.bufferedTilespaceBounds,Wt=this.grid.query(xt.min.x,xt.min.y,xt.max.x,xt.max.y,(Fn,Sn,Mn,Kn)=>rF(Bt.bufferedTilespaceGeometry,Fn,Sn,Mn,Kn));Wt.sort(NQ);let Gt=null;Et.elevation&&Wt.length>0&&(Gt=VB.create(Et.elevation,this.tileID));const Xt={};let pn;for(let Fn=0;Fn<Wt.length;Fn++){const Sn=Wt[Fn];if(Sn===pn)continue;pn=Sn;const Mn=this.featureIndexArray.get(Sn);let Kn=null;this.loadMatchingFeature(Xt,Mn,mt,ft.layers,ft.availableImages,nt,ot,ut,(lr,qn,nr,fr=0)=>(Kn||(Kn=Tu(lr,this.tileID.canonical,_e.tileTransform)),qn.queryIntersectsFeature(Bt,lr,nr,Kn,this.z,_e.transform,_e.pixelPosMatrix,Gt,fr)))}return Xt}loadMatchingFeature(_e,nt,ot,ut,ft,mt,Bt,Et,xt){const{featureIndex:Wt,bucketIndex:Gt,sourceLayerIndex:Xt,layoutVertexArrayOffset:pn}=nt,Fn=this.bucketLayerIDs[Gt];if(ut&&!function(lr,qn){for(let nr=0;nr<lr.length;nr++)if(qn.indexOf(lr[nr])>=0)return!0;return!1}(ut,Fn))return;const Sn=this.sourceLayerCoder.decode(Xt),Mn=this.vtLayers[Sn].feature(Wt);if(ot.needGeometry){const lr=cy(Mn,!0);if(!ot.filter(new $n(this.tileID.overscaledZ),lr,this.tileID.canonical))return}else if(!ot.filter(new $n(this.tileID.overscaledZ),Mn))return;const Kn=this.getId(Mn,Sn);for(let lr=0;lr<Fn.length;lr++){const qn=Fn[lr];if(ut&&ut.indexOf(qn)<0)continue;const nr=mt[qn];if(!nr)continue;let fr={};Kn!==void 0&&Et&&(fr=Et.getState(nr.sourceLayer||"_geojsonTileLayer",Kn));const rr=It({},Bt[qn]);rr.paint=BQ(rr.paint,nr.paint,Mn,fr,ft),rr.layout=BQ(rr.layout,nr.layout,Mn,fr,ft);const xr=!xt||xt(Mn,nr,fr,pn);if(!xr)continue;const Er=new $r(Mn,this.z,this.x,this.y,Kn);Er.layer=rr;let Wr=_e[qn];Wr===void 0&&(Wr=_e[qn]=[]),Wr.push({featureIndex:Wt,feature:Er,intersectionZ:xr})}}lookupSymbolFeatures(_e,nt,ot,ut,ft,mt,Bt,Et){const xt={};this.loadVTLayers();const Wt=Wy(ft);for(const Gt of _e)this.loadMatchingFeature(xt,{bucketIndex:ot,sourceLayerIndex:ut,featureIndex:Gt,layoutVertexArrayOffset:0},Wt,mt,Bt,Et,nt);return xt}loadFeature(_e){const{featureIndex:nt,sourceLayerIndex:ot}=_e;this.loadVTLayers();const ut=this.sourceLayerCoder.decode(ot),ft=this.vtFeatures[ut];if(ft[nt])return ft[nt];const mt=this.vtLayers[ut].feature(nt);return ft[nt]=mt,mt}hasLayer(_e){for(const nt of this.bucketLayerIDs)for(const ot of nt)if(_e===ot)return!0;return!1}getId(_e,nt){let ot=_e.id;if(this.promoteId){const ut=typeof this.promoteId=="string"?this.promoteId:this.promoteId[nt];ut!=null&&(ot=_e.properties[ut]),typeof ot=="boolean"&&(ot=Number(ot))}return ot}}function BQ(tt,_e,nt,ot,ut){return jt(tt,(ft,mt)=>{const Bt=_e instanceof Zr?_e.get(mt):null;return Bt&&Bt.evaluate?Bt.evaluate(nt,ot,ut):Bt})}function NQ(tt,_e){return _e-tt}yo(bQ,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class RQ{constructor(_e,nt){this.width=_e,this.height=nt,this.nextRow=0,this.image=new zm({width:_e,height:nt}),this.positions={},this.uploaded=!1}getDash(_e,nt){const ot=this.getKey(_e,nt);return this.positions[ot]}trim(){const _e=this.width,nt=this.height=Ln(this.nextRow);this.image.resize({width:_e,height:nt})}getKey(_e,nt){return _e.join(",")+nt}getDashRanges(_e,nt,ot){const ut=[];let ft=_e.length%2==1?-_e[_e.length-1]*ot:0,mt=_e[0]*ot,Bt=!0;ut.push({left:ft,right:mt,isDash:Bt,zeroLength:_e[0]===0});let Et=_e[0];for(let xt=1;xt<_e.length;xt++){Bt=!Bt;const Wt=_e[xt];ft=Et*ot,Et+=Wt,mt=Et*ot,ut.push({left:ft,right:mt,isDash:Bt,zeroLength:Wt===0})}return ut}addRoundDash(_e,nt,ot){const ut=nt/2;for(let ft=-ot;ft<=ot;ft++){const mt=this.width*(this.nextRow+ot+ft);let Bt=0,Et=_e[Bt];for(let xt=0;xt<this.width;xt++){xt/Et.right>1&&(Et=_e[++Bt]);const Wt=Math.abs(xt-Et.left),Gt=Math.abs(xt-Et.right),Xt=Math.min(Wt,Gt);let pn;const Fn=ft/ot*(ut+1);if(Et.isDash){const Sn=ut-Math.abs(Fn);pn=Math.sqrt(Xt*Xt+Sn*Sn)}else pn=ut-Math.sqrt(Xt*Xt+Fn*Fn);this.image.data[mt+xt]=Math.max(0,Math.min(255,pn+128))}}}addRegularDash(_e,nt){for(let Et=_e.length-1;Et>=0;--Et){const xt=_e[Et],Wt=_e[Et+1];xt.zeroLength?_e.splice(Et,1):Wt&&Wt.isDash===xt.isDash&&(Wt.left=xt.left,_e.splice(Et,1))}const ot=_e[0],ut=_e[_e.length-1];ot.isDash===ut.isDash&&(ot.left=ut.left-this.width,ut.right=ot.right+this.width);const ft=this.width*this.nextRow;let mt=0,Bt=_e[mt];for(let Et=0;Et<this.width;Et++){Et/Bt.right>1&&(Bt=_e[++mt]);const xt=Math.abs(Et-Bt.left),Wt=Math.abs(Et-Bt.right),Gt=Math.min(xt,Wt);this.image.data[ft+Et]=Math.max(0,Math.min(255,(Bt.isDash?Gt:-Gt)+nt+128))}}addDash(_e,nt){const ot=this.getKey(_e,nt);if(this.positions[ot])return this.positions[ot];const ut=nt==="round",ft=ut?7:0,mt=2*ft+1;if(this.nextRow+mt>this.height)return Tn("LineAtlas out of space"),null;_e.length===0&&_e.push(1);let Bt=0;for(let Wt=0;Wt<_e.length;Wt++)_e[Wt]<0&&(Tn("Negative value is found in line dasharray, replacing values with 0"),_e[Wt]=0),Bt+=_e[Wt];if(Bt!==0){const Wt=this.width/Bt,Gt=this.getDashRanges(_e,this.width,Wt);ut?this.addRoundDash(Gt,Wt,ft):this.addRegularDash(Gt,nt==="square"?.5*Wt:0)}const Et=this.nextRow+ft;this.nextRow+=mt;const xt={tl:[Et,ft],br:[Bt,0]};return this.positions[ot]=xt,xt}}yo(RQ,"LineAtlas");class QQ{constructor(_e){const nt={},ot=[];for(const Bt in _e){const Et=_e[Bt],xt=nt[Bt]={};for(const Wt in Et.glyphs){const Gt=Et.glyphs[+Wt];if(!Gt||Gt.bitmap.width===0||Gt.bitmap.height===0)continue;const Xt=Gt.metrics.localGlyph?2:1,pn={x:0,y:0,w:Gt.bitmap.width+2*Xt,h:Gt.bitmap.height+2*Xt};ot.push(pn),xt[Wt]=pn}}const{w:ut,h:ft}=QF(ot),mt=new zm({width:ut||1,height:ft||1});for(const Bt in _e){const Et=_e[Bt];for(const xt in Et.glyphs){const Wt=Et.glyphs[+xt];if(!Wt||Wt.bitmap.width===0||Wt.bitmap.height===0)continue;const Gt=nt[Bt][xt],Xt=Wt.metrics.localGlyph?2:1;zm.copy(Wt.bitmap,mt,{x:0,y:0},{x:Gt.x+Xt,y:Gt.y+Xt},Wt.bitmap)}}this.image=mt,this.positions=nt}}yo(QQ,"GlyphAtlas");class MQ{constructor(_e){this.tileID=new Qu(_e.tileID.overscaledZ,_e.tileID.wrap,_e.tileID.canonical.z,_e.tileID.canonical.x,_e.tileID.canonical.y),this.tileZoom=_e.tileZoom,this.uid=_e.uid,this.zoom=_e.zoom,this.canonical=_e.tileID.canonical,this.pixelRatio=_e.pixelRatio,this.tileSize=_e.tileSize,this.source=_e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=_e.showCollisionBoxes,this.collectResourceTiming=!!_e.collectResourceTiming,this.returnDependencies=!!_e.returnDependencies,this.promoteId=_e.promoteId,this.enableTerrain=!!_e.enableTerrain,this.isSymbolTile=_e.isSymbolTile,this.tileTransform=yy(_e.tileID.canonical,_e.projection),this.projection=_e.projection}parse(_e,nt,ot,ut,ft){this.status="parsing",this.data=_e,this.collisionBoxArray=new Yy;const mt=new mr(Object.keys(_e.layers).sort()),Bt=new bQ(this.tileID,this.promoteId);Bt.bucketLayerIDs=[];const Et={},xt=new RQ(256,256),Wt={featureIndex:Bt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:xt,availableImages:ot},Gt=nt.familiesBySource[this.source];for(const fr in Gt){const rr=_e.layers[fr];if(!rr)continue;let xr=!1,Er=!1;for(const Cr of Gt[fr])Cr[0].type==="symbol"?xr=!0:Er=!0;if(this.isSymbolTile===!0&&!xr||this.isSymbolTile===!1&&!Er)continue;rr.version===1&&Tn(`Vector tile source "${this.source}" layer "${fr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Wr=mt.encode(fr),Kr=[];for(let Cr=0;Cr<rr.length;Cr++){const zr=rr.feature(Cr),jr=Bt.getId(zr,fr);Kr.push({feature:zr,id:jr,index:Cr,sourceLayerIndex:Wr})}for(const Cr of Gt[fr]){const zr=Cr[0];this.isSymbolTile!==void 0&&zr.type==="symbol"!==this.isSymbolTile||zr.minzoom&&this.zoom<Math.floor(zr.minzoom)||zr.maxzoom&&this.zoom>=zr.maxzoom||zr.visibility!=="none"&&(uQ(Cr,this.zoom,ot),(Et[zr.id]=zr.createBucket({index:Bt.bucketLayerIDs.length,layers:Cr,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Wr,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:ot})).populate(Kr,Wt,this.tileID.canonical,this.tileTransform),Bt.bucketLayerIDs.push(Cr.map(jr=>jr.id)))}}let Xt,pn,Fn,Sn;xt.trim();const Mn={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Kn=jt(Wt.glyphDependencies,fr=>Object.keys(fr).map(Number));Object.keys(Kn).length?ut.send("getGlyphs",{uid:this.uid,stacks:Kn},(fr,rr)=>{Xt||(Xt=fr,pn=rr,nr.call(this))},void 0,!1,Mn):pn={};const lr=Object.keys(Wt.iconDependencies);lr.length?ut.send("getImages",{icons:lr,source:this.source,tileID:this.tileID,type:"icons"},(fr,rr)=>{Xt||(Xt=fr,Fn=rr,nr.call(this))},void 0,!1,Mn):Fn={};const qn=Object.keys(Wt.patternDependencies);function nr(){if(Xt)return ft(Xt);if(pn&&Fn&&Sn){const fr=new QQ(pn),rr=new Ps(Fn,Sn);for(const xr in Et){const Er=Et[xr];Er instanceof A0?(uQ(Er.layers,this.zoom,ot),OR(Er,pn,fr.positions,Fn,rr.iconPositions,this.showCollisionBoxes,ot,this.tileID.canonical,this.tileZoom,this.projection)):Er.hasPattern&&(Er instanceof Ku||Er instanceof gF||Er instanceof fy)&&(uQ(Er.layers,this.zoom,ot),Er.addFeatures(Wt,this.tileID.canonical,rr.patternPositions,ot,this.tileTransform))}this.status="done",ft(null,{buckets:zt(Et).filter(xr=>!xr.isEmpty()),featureIndex:Bt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:fr.image,lineAtlas:xt,imageAtlas:rr,glyphMap:this.returnDependencies?pn:null,iconMap:this.returnDependencies?Fn:null,glyphPositions:this.returnDependencies?fr.positions:null})}}qn.length?ut.send("getImages",{icons:qn,source:this.source,tileID:this.tileID,type:"patterns"},(fr,rr)=>{Xt||(Xt=fr,Sn=rr,nr.call(this))},void 0,!1,Mn):Sn={},nr.call(this)}}function uQ(tt,_e,nt){const ot=new $n(_e);for(const ut of tt)ut.recalculate(ot,nt)}class SQ{constructor(_e){this.entries={},this.scheduler=_e}request(_e,nt,ot,ut){const ft=this.entries[_e]=this.entries[_e]||{callbacks:[]};if(ft.result){const[mt,Bt]=ft.result;return this.scheduler?this.scheduler.add(()=>{ut(mt,Bt)},nt):ut(mt,Bt),()=>{}}return ft.callbacks.push(ut),ft.cancel||(ft.cancel=ot((mt,Bt)=>{ft.result=[mt,Bt];for(const Et of ft.callbacks)this.scheduler?this.scheduler.add(()=>{Et(mt,Bt)},nt):Et(mt,Bt);setTimeout(()=>delete this.entries[_e],3e3)})),()=>{ft.result||(ft.callbacks=ft.callbacks.filter(mt=>mt!==ut),ft.callbacks.length||(ft.cancel(),delete this.entries[_e]))}}}function EQ(tt,_e,nt){const ot=JSON.stringify(tt.request);return tt.data&&(this.deduped.entries[ot]={result:[null,tt.data]}),this.deduped.request(ot,{type:"parseTile",isSymbolTile:tt.isSymbolTile,zoom:tt.tileZoom},ut=>{const ft=_l(tt.request,(mt,Bt,Et,xt)=>{mt?ut(mt):Bt&&ut(null,{vectorTile:nt?void 0:new Sv(new f_(Bt)),rawData:Bt,cacheControl:Et,expires:xt})});return()=>{ft.cancel(),ut()}},_e)}j.ARRAY_TYPE=Xu,j.AUTH_ERR_MSG=xs,j.Aabb=Ru,j.Actor=class{constructor(tt,_e,nt){this.target=tt,this.parent=_e,this.mapId=nt,this.callbacks={},this.cancelCallbacks={},xn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Rr()?tt:st,this.scheduler=new ar}send(tt,_e,nt,ot,ut=!1,ft){const mt=Math.round(1e18*Math.random()).toString(36).substring(0,10);nt&&(nt.metadata=ft,this.callbacks[mt]=nt);const Bt=bo(this.globalScope)?void 0:[];return this.target.postMessage({id:mt,type:tt,hasCallback:!!nt,targetMapId:ot,mustQueue:ut,sourceMapId:this.mapId,data:ry(_e,Bt)},Bt),{cancel:()=>{nt&&delete this.callbacks[mt],this.target.postMessage({id:mt,type:"<cancel>",targetMapId:ot,sourceMapId:this.mapId})}}}receive(tt){const _e=tt.data,nt=_e.id;if(nt&&(!_e.targetMapId||this.mapId===_e.targetMapId))if(_e.type==="<cancel>"){const ot=this.cancelCallbacks[nt];delete this.cancelCallbacks[nt],ot&&ot.cancel()}else if(_e.mustQueue||Rr()){const ot=this.callbacks[nt];this.cancelCallbacks[nt]=this.scheduler.add(()=>this.processTask(nt,_e),ot&&ot.metadata||{type:"message"})}else this.processTask(nt,_e)}processTask(tt,_e){if(_e.type==="<response>"){const nt=this.callbacks[tt];delete this.callbacks[tt],nt&&(_e.error?nt(mm(_e.error)):nt(null,mm(_e.data)))}else{const nt=bo(this.globalScope)?void 0:[],ot=_e.hasCallback?(ft,mt)=>{delete this.cancelCallbacks[tt],this.target.postMessage({id:tt,type:"<response>",sourceMapId:this.mapId,error:ft?ry(ft):null,data:ry(mt,nt)},nt)}:ft=>{},ut=mm(_e.data);if(this.parent[_e.type])this.parent[_e.type](_e.sourceMapId,ut,ot);else if(this.parent.getWorkerSource){const ft=_e.type.split(".");this.parent.getWorkerSource(_e.sourceMapId,ft[0],ut.source)[ft[1]](ut,ot)}else ot(new Error(`Could not find function ${_e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},j.CanonicalTileID=c_,j.Color=$s,j.ColorMode=V0,j.CullFaceMode=Xm,j.DEMData=AB,j.DataConstantProperty=Qr,j.DedupedRequest=SQ,j.DepthMode=ZF,j.EXTENT=Lo,j.Elevation=class{isDataAvailableAtPoint(tt){const _e=this._source();if(this.isUsingMockSource()||!_e||tt.y<0||tt.y>1)return!1;const nt=_e.getSource().maxzoom,ot=1<<nt,ut=Math.floor(tt.x),ft=Math.floor((tt.x-ut)*ot),mt=Math.floor(tt.y*ot),Bt=this.findDEMTileFor(new Qu(nt,ut,nt,ft,mt));return!(!Bt||!Bt.dem)}getAtPointOrZero(tt,_e=0){return this.getAtPoint(tt,_e)||0}getAtPoint(tt,_e,nt=!0){if(this.isUsingMockSource())return null;_e==null&&(_e=null);const ot=this._source();if(!ot||tt.y<0||tt.y>1)return _e;const ut=ot.getSource().maxzoom,ft=1<<ut,mt=Math.floor(tt.x),Bt=tt.x-mt,Et=new Qu(ut,mt,ut,Math.floor(Bt*ft),Math.floor(tt.y*ft)),xt=this.findDEMTileFor(Et);if(!xt||!xt.dem)return _e;const Wt=xt.dem,Gt=1<<xt.tileID.canonical.z,Xt=(Bt*Gt-xt.tileID.canonical.x)*Wt.dim,pn=(tt.y*Gt-xt.tileID.canonical.y)*Wt.dim,Fn=Math.floor(Xt),Sn=Math.floor(pn);return(nt?this.exaggeration():1)*_s(_s(Wt.get(Fn,Sn),Wt.get(Fn,Sn+1),pn-Sn),_s(Wt.get(Fn+1,Sn),Wt.get(Fn+1,Sn+1),pn-Sn),Xt-Fn)}getAtTileOffset(tt,_e,nt){const ot=1<<tt.canonical.z;return this.getAtPointOrZero(new B0(tt.wrap+(tt.canonical.x+_e/Lo)/ot,(tt.canonical.y+nt/Lo)/ot))}getAtTileOffsetFunc(tt,_e,nt,ot){return ut=>{const ft=this.getAtTileOffset(tt,ut.x,ut.y),mt=ot.upVector(tt.canonical,ut.x,ut.y);return pp(mt,mt,ft*ot.upVectorScale(tt.canonical,_e,nt).metersToTile),mt}}getForTilePoints(tt,_e,nt,ot){if(this.isUsingMockSource())return!1;const ut=VB.create(this,tt,ot);return!!ut&&(_e.forEach(ft=>{ft[2]=this.exaggeration()*ut.getElevationAt(ft[0],ft[1],nt)}),!0)}getMinMaxForTile(tt){if(this.isUsingMockSource())return null;const _e=this.findDEMTileFor(tt);if(!_e||!_e.dem)return null;const nt=_e.dem.tree,ot=_e.tileID,ut=1<<tt.canonical.z-ot.canonical.z;let ft=tt.canonical.x/ut-ot.canonical.x,mt=tt.canonical.y/ut-ot.canonical.y,Bt=0;for(let Et=0;Et<tt.canonical.z-ot.canonical.z&&!nt.leaves[Bt];Et++){ft*=2,mt*=2;const xt=2*Math.floor(mt)+Math.floor(ft);Bt=nt.childOffsets[Bt]+xt,ft%=1,mt%=1}return{min:this.exaggeration()*nt.minimums[Bt],max:this.exaggeration()*nt.maximums[Bt]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(tt,_e,nt){throw new Error("Pure virtual method called.")}pointCoordinate(tt){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(tt){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},j.ErrorEvent=np,j.EvaluationParameters=$n,j.Event=Fs,j.Evented=Mu,j.FillExtrusionBucket=fy,j.Frustum=yv,j.FrustumCorners=$u,j.GLOBE_METERS_TO_ECEF=Pv,j.GLOBE_RADIUS=Ym,j.GLOBE_SCALE_MATCH_LATITUDE=45,j.GLOBE_ZOOM_THRESHOLD_MAX=6,j.GLOBE_ZOOM_THRESHOLD_MIN=5,j.GlobeSharedBuffers=class{constructor(tt){this._createGrid(tt),this._createPoles(tt)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const tt of this._poleSegments)tt.destroy();for(const tt of this._gridSegments)tt.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const tt of this._wireframeSegments)tt.destroy()}}_createGrid(tt){const _e=new rs,nt=new Xl,ot=65;for(let ut=0;ut<ot;ut++)for(let ft=0;ft<ot;ft++)_e.emplaceBack(ft,ut);this._gridSegments=[];for(let ut=0,ft=0;ut<F_.length;ut++){const mt=F_[ut];for(let Et=0;Et<mt;Et++)for(let xt=0;xt<64;xt++){const Wt=Et*ot+xt;nt.emplaceBack(Wt+1,Wt,Wt+ot),nt.emplaceBack(Wt+ot,Wt+ot+1,Wt+1)}const Bt=64*mt*2;this._gridSegments.push(Nl.simpleSegment(0,ft,(mt+1)*ot,Bt)),ft+=Bt}this._gridBuffer=tt.createVertexBuffer(_e,_U.members),this._gridIndexBuffer=tt.createIndexBuffer(nt,!0)}_createPoles(tt){const _e=new Xl;for(let ut=0;ut<=U_;ut++)_e.emplaceBack(0,ut+1,ut+2);this._poleIndexBuffer=tt.createIndexBuffer(_e,!0);const nt=new wp,ot=new wp;this._poleSegments=[];for(let ut=0,ft=0;ut<5;ut++){const mt=360/(1<<ut);nt.emplaceBack(0,-Ym,0,.5,0),ot.emplaceBack(0,-Ym,0,.5,1);for(let Bt=0;Bt<=U_;Bt++){const Et=Bt/U_,xt=_s(0,mt,Et),[Wt,Gt,Xt]=v_(_d,Gv,xt,Ym);nt.emplaceBack(Wt,Gt,Xt,Et,0),ot.emplaceBack(Wt,Gt,Xt,Et,1)}this._poleSegments.push(Nl.simpleSegment(ft,0,66,64)),ft+=66}this._poleNorthVertexBuffer=tt.createVertexBuffer(nt,UB,!1),this._poleSouthVertexBuffer=tt.createVertexBuffer(ot,UB,!1)}getGridBuffers(tt){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[tt]]}getPoleBuffers(tt){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[tt]]}getWirefameBuffers(tt,_e){if(!this._wireframeSegments){const nt=new pu,ot=U_,ut=ot+1;this._wireframeSegments=[];for(let ft=0,mt=0;ft<F_.length;ft++){const Bt=F_[ft];for(let xt=0;xt<Bt;xt++)for(let Wt=0;Wt<ot;Wt++){const Gt=xt*ut+Wt;nt.emplaceBack(Gt,Gt+1),nt.emplaceBack(Gt,Gt+ut),nt.emplaceBack(Gt,Gt+ut+1)}const Et=Bt*ot*3;this._wireframeSegments.push(Nl.simpleSegment(0,mt,(Bt+1)*ut,Et)),mt+=Et}this._wireframeIndexBuffer=tt.createIndexBuffer(nt)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[_e]]}},j.GlyphManager=m_,j.ImagePosition=Vv,j.LivePerformanceUtils=kr,j.LngLat=Bs,j.LngLatBounds=_g,j.LocalGlyphMode=xF,j.MAX_MERCATOR_LATITUDE=vm,j.MercatorCoordinate=B0,j.ONE_EM=ou,j.OverscaledTileID=Qu,j.PerformanceMarkers=Fr,j.Properties=ro,j.RGBAImage=qu,j.Ray=mv,j.RequestManager=class{constructor(tt,_e,nt){this._transformRequestFn=tt,this._customAccessToken=_e,this._silenceAuthErrors=!!nt,this._createSkuToken()}_createSkuToken(){const tt=function(){let _e="";for(let nt=0;nt<10;nt++)_e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Jt,_e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=tt.token,this._skuTokenExpiresAt=tt.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(tt,_e){return this._transformRequestFn&&this._transformRequestFn(tt,_e)||{url:tt}}normalizeStyleURL(tt,_e){if(!zl(tt))return tt;const nt=ir(tt);return nt.path=`/styles/v1${nt.path}`,this._makeAPIURL(nt,this._customAccessToken||_e)}normalizeGlyphsURL(tt,_e){if(!zl(tt))return tt;const nt=ir(tt);return nt.path=`/fonts/v1${nt.path}`,this._makeAPIURL(nt,this._customAccessToken||_e)}normalizeSourceURL(tt,_e,nt,ot){if(!zl(tt))return tt;const ut=ir(tt);return ut.path=`/v4/${ut.authority}.json`,ut.params.push("secure"),nt&&ut.params.push(`language=${nt}`),ot&&ut.params.push(`worldview=${ot}`),this._makeAPIURL(ut,this._customAccessToken||_e)}normalizeSpriteURL(tt,_e,nt,ot){const ut=ir(tt);return zl(tt)?(ut.path=`/styles/v1${ut.path}/sprite${_e}${nt}`,this._makeAPIURL(ut,this._customAccessToken||ot)):(ut.path+=`${_e}${nt}`,cr(ut))}normalizeTileURL(tt,_e,nt){if(this._isSkuTokenExpired()&&this._createSkuToken(),tt&&!zl(tt))return tt;const ot=ir(tt);ot.path=ot.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${_e||nt&&ot.authority!=="raster"&&nt===512?"@2x":""}${Ut.supported?".webp":"$1"}`),ot.authority==="raster"?ot.path=`/${bt.RASTER_URL_PREFIX}${ot.path}`:(ot.path=ot.path.replace(/^.+\/v4\//,"/"),ot.path=`/${bt.TILE_URL_VERSION}${ot.path}`);const ut=this._customAccessToken||function(ft){for(const mt of ft){const Bt=mt.match(/^access_token=(.*)$/);if(Bt)return Bt[1]}return null}(ot.params)||bt.ACCESS_TOKEN;return bt.REQUIRE_ACCESS_TOKEN&&ut&&this._skuToken&&ot.params.push(`sku=${this._skuToken}`),this._makeAPIURL(ot,ut)}canonicalizeTileURL(tt,_e){const nt=ir(tt);if(!nt.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!nt.path.match(/\.[\w]+$/))return tt;let ot="mapbox://";nt.path.match(/^\/raster\/v1\//)?ot+=`raster/${nt.path.replace(`/${bt.RASTER_URL_PREFIX}/`,"")}`:ot+=`tiles/${nt.path.replace(`/${bt.TILE_URL_VERSION}/`,"")}`;let ut=nt.params;return _e&&(ut=ut.filter(ft=>!ft.match(/^access_token=/))),ut.length&&(ot+=`?${ut.join("&")}`),ot}canonicalizeTileset(tt,_e){const nt=!!_e&&zl(_e),ot=[];for(const ut of tt.tiles||[])Mr(ut)?ot.push(this.canonicalizeTileURL(ut,nt)):ot.push(ut);return ot}_makeAPIURL(tt,_e){const nt="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ot=ir(bt.API_URL);if(tt.protocol=ot.protocol,tt.authority=ot.authority,tt.protocol==="http"){const ut=tt.params.indexOf("secure");ut>=0&&tt.params.splice(ut,1)}if(ot.path!=="/"&&(tt.path=`${ot.path}${tt.path}`),!bt.REQUIRE_ACCESS_TOKEN)return cr(tt);if(_e=_e||bt.ACCESS_TOKEN,!this._silenceAuthErrors){if(!_e)throw new Error(`An API access token is required to use Mapbox GL. ${nt}`);if(_e[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${nt}`)}return tt.params=tt.params.filter(ut=>ut.indexOf("access_token")===-1),tt.params.push(`access_token=${_e||""}`),cr(tt)}},j.ResourceType=Ys,j.SegmentVector=Nl,j.SourceCache=RU,j.StencilMode=aQ,j.StructArrayLayout1ui2=Hy,j.StructArrayLayout2f1f2i16=bu,j.StructArrayLayout2i4=rs,j.StructArrayLayout2ui4=pu,j.StructArrayLayout3f12=ju,j.StructArrayLayout3ui6=Xl,j.StructArrayLayout4i8=Ds,j.StructArrayLayout5f20=wp,j.Texture=En,j.Tile=Cu,j.Transitionable=Tr,j.Uniform1f=qU,j.Uniform1i=class extends _m{constructor(tt){super(tt),this.current=0}set(tt,_e,nt){this.fetchUniformLocation(tt,_e)&&this.current!==nt&&(this.current=nt,this.gl.uniform1i(this.location,nt))}},j.Uniform2f=class extends _m{constructor(tt){super(tt),this.current=[0,0]}set(tt,_e,nt){this.fetchUniformLocation(tt,_e)&&(nt[0]===this.current[0]&&nt[1]===this.current[1]||(this.current=nt,this.gl.uniform2f(this.location,nt[0],nt[1])))}},j.Uniform3f=class extends _m{constructor(tt){super(tt),this.current=[0,0,0]}set(tt,_e,nt){this.fetchUniformLocation(tt,_e)&&(nt[0]===this.current[0]&&nt[1]===this.current[1]&&nt[2]===this.current[2]||(this.current=nt,this.gl.uniform3f(this.location,nt[0],nt[1],nt[2])))}},j.Uniform4f=ov,j.UniformColor=sv,j.UniformMatrix2f=class extends _m{constructor(tt){super(tt),this.current=NB}set(tt,_e,nt){if(this.fetchUniformLocation(tt,_e)){for(let ot=0;ot<4;ot++)if(nt[ot]!==this.current[ot]){this.current=nt,this.gl.uniformMatrix2fv(this.location,!1,nt);break}}}},j.UniformMatrix3f=class extends _m{constructor(tt){super(tt),this.current=Um}set(tt,_e,nt){if(this.fetchUniformLocation(tt,_e)){for(let ot=0;ot<9;ot++)if(nt[ot]!==this.current[ot]){this.current=nt,this.gl.uniformMatrix3fv(this.location,!1,nt);break}}}},j.UniformMatrix4f=class extends _m{constructor(tt){super(tt),this.current=Hu}set(tt,_e,nt){if(this.fetchUniformLocation(tt,_e)){if(nt[12]!==this.current[12]||nt[0]!==this.current[0])return this.current=nt,void this.gl.uniformMatrix4fv(this.location,!1,nt);for(let ot=1;ot<16;ot++)if(nt[ot]!==this.current[ot]){this.current=nt,this.gl.uniformMatrix4fv(this.location,!1,nt);break}}}},j.UnwrappedTileID=kv,j.ValidationError=go,j.VectorTileFeature=_F,j.VectorTileWorkerSource=class extends Mu{constructor(tt,_e,nt,ot,ut){super(),this.actor=tt,this.layerIndex=_e,this.availableImages=nt,this.loadVectorData=ut||EQ,this.loading={},this.loaded={},this.deduped=new SQ(tt.scheduler),this.isSpriteLoaded=ot,this.scheduler=tt.scheduler}loadTile(tt,_e){const nt=tt.uid,ot=tt&&tt.request,ut=ot&&ot.collectResourceTiming,ft=this.loading[nt]=new MQ(tt);ft.abort=this.loadVectorData(tt,(mt,Bt)=>{const Et=!this.loading[nt];if(delete this.loading[nt],Et||mt||!Bt)return ft.status="done",Et||(this.loaded[nt]=ft),_e(mt);const xt=Bt.rawData,Wt={};Bt.expires&&(Wt.expires=Bt.expires),Bt.cacheControl&&(Wt.cacheControl=Bt.cacheControl),ft.vectorTile=Bt.vectorTile||new Sv(new f_(xt));const Gt=()=>{ft.parse(ft.vectorTile,this.layerIndex,this.availableImages,this.actor,(Xt,pn)=>{if(Xt||!pn)return _e(Xt);const Fn={};if(ut){const Sn=Fo(ot);Sn.length>0&&(Fn.resourceTiming=JSON.parse(JSON.stringify(Sn)))}_e(null,It({rawTileData:xt.slice(0)},pn,Wt,Fn))})};this.isSpriteLoaded?Gt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Gt,{type:"parseTile",isSymbolTile:tt.isSymbolTile,zoom:tt.tileZoom}):Gt()}),this.loaded=this.loaded||{},this.loaded[nt]=ft})}reloadTile(tt,_e){const nt=this.loaded,ot=tt.uid,ut=this;if(nt&&nt[ot]){const ft=nt[ot];ft.showCollisionBoxes=tt.showCollisionBoxes,ft.enableTerrain=!!tt.enableTerrain,ft.projection=tt.projection,ft.tileTransform=yy(tt.tileID.canonical,tt.projection);const mt=(Bt,Et)=>{const xt=ft.reloadCallback;xt&&(delete ft.reloadCallback,ft.parse(ft.vectorTile,ut.layerIndex,this.availableImages,ut.actor,xt)),_e(Bt,Et)};ft.status==="parsing"?ft.reloadCallback=mt:ft.status==="done"&&(ft.vectorTile?ft.parse(ft.vectorTile,this.layerIndex,this.availableImages,this.actor,mt):mt())}}abortTile(tt,_e){const nt=tt.uid,ot=this.loading[nt];ot&&(ot.abort&&ot.abort(),delete this.loading[nt]),_e()}removeTile(tt,_e){const nt=this.loaded,ot=tt.uid;nt&&nt[ot]&&delete nt[ot],_e()}},j.WritingMode=mp,j.ZoomHistory=IU,j.add=Rm,j.addDynamicAttributes=LF,j.adjoint=function(tt,_e){var nt=_e[0],ot=_e[1],ut=_e[2],ft=_e[3],mt=_e[4],Bt=_e[5],Et=_e[6],xt=_e[7],Wt=_e[8];return tt[0]=mt*Wt-Bt*xt,tt[1]=ut*xt-ot*Wt,tt[2]=ot*Bt-ut*mt,tt[3]=Bt*Et-ft*Wt,tt[4]=nt*Wt-ut*Et,tt[5]=ut*ft-nt*Bt,tt[6]=ft*xt-mt*Et,tt[7]=ot*Et-nt*xt,tt[8]=nt*mt-ot*ft,tt},j.asyncAll=dn,j.bezier=tn,j.bindAll=xn,j.boundsAttributes=Ss,j.bufferConvexPolygon=function(tt,_e){const nt=[];for(let ot=0;ot<tt.length;ot++){const ut=hn(ot-1,-1,tt.length-1),ft=hn(ot+1,-1,tt.length-1),mt=tt[ot],Bt=tt[ft],Et=tt[ut].sub(mt).unit(),xt=Bt.sub(mt).unit(),Wt=xt.angleWithSep(Et.x,Et.y),Gt=Et.add(xt).unit().mult(-1*_e/Math.sin(Wt/2));nt.push(mt.add(Gt))}return nt},j.cacheEntryPossiblyAdded=function(tt){ys++,ys>Do&&(tt.getActor().send("enforceCacheSizeLimit",qo),ys=0)},j.calculateGlobeLabelMatrix=function(tt,_e){const{x:nt,y:ot}=tt.point,ut=NF(nt,ot,tt.worldSize/tt._pixelsPerMercatorPixel,0,0);return t_(ut,ut,jv(xm(_e)))},j.calculateGlobeMatrix=function(tt){const{x:_e,y:nt}=tt.point,{lng:ot,lat:ut}=tt._center;return NF(_e,nt,tt.worldSize,ot,ut)},j.calculateGlobeMercatorMatrix=function(tt){const _e=tt.pixelsPerMeter,nt=_e/dp(1,tt.center.lat),ot=tm(new Float64Array(16));return uy(ot,ot,[tt.point.x,tt.point.y,0]),S0(ot,ot,[nt,nt,_e]),Float32Array.from(ot)},j.circumferenceAtLatitude=eF,j.clamp=Kt,j.clearTileCache=function(tt){if(!ws())return;const _e=st.caches.delete(Qo);tt&&_e.catch(tt).then(()=>tt())},j.clipLine=ku,j.clone=function(tt){var _e=new Xu(16);return _e[0]=tt[0],_e[1]=tt[1],_e[2]=tt[2],_e[3]=tt[3],_e[4]=tt[4],_e[5]=tt[5],_e[6]=tt[6],_e[7]=tt[7],_e[8]=tt[8],_e[9]=tt[9],_e[10]=tt[10],_e[11]=tt[11],_e[12]=tt[12],_e[13]=tt[13],_e[14]=tt[14],_e[15]=tt[15],_e},j.clone$1=_n,j.collisionCircleLayout=ER,j.config=bt,j.conjugate=function(tt,_e){return tt[0]=-_e[0],tt[1]=-_e[1],tt[2]=-_e[2],tt[3]=_e[3],tt},j.create=function(){var tt=new Xu(16);return Xu!=Float32Array&&(tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0),tt[0]=1,tt[5]=1,tt[10]=1,tt[15]=1,tt},j.create$1=g1,j.createExpression=dm,j.createLayout=io,j.createStyleLayer=function(tt){return tt.type==="custom"?new dt(tt):new an[tt.type](tt)},j.cross=gv,j.degToRad=Ct,j.distance=function(tt,_e){return Math.hypot(_e[0]-tt[0],_e[1]-tt[1],_e[2]-tt[2])},j.div=function(tt,_e,nt){return tt[0]=_e[0]/nt[0],tt[1]=_e[1]/nt[1],tt[2]=_e[2]/nt[2],tt},j.dot=kp,j.earthRadius=tU,j.ease=Un,j.easeCubicInOut=Pt,j.ecefToLatLng=function([tt,_e,nt]){const ot=Math.hypot(tt,_e,nt),ut=Math.atan2(tt,nt),ft=.5*Math.PI-Math.acos(-_e/ot);return new Bs(Vt(ut),Vt(ft))},j.emitValidationErrors=$p,j.endsWith=Rn,j.enforceCacheSizeLimit=function(tt){Wo(),zo&&zo.then(_e=>{_e.keys().then(nt=>{for(let ot=0;ot<nt.length-tt;ot++)_e.delete(nt[ot])})})},j.evaluateSizeForFeature=h_,j.evaluateSizeForZoom=d_,j.evaluateVariableOffset=_B,j.evented=Hn,j.exactEquals=function(tt,_e){return tt[0]===_e[0]&&tt[1]===_e[1]&&tt[2]===_e[2]&&tt[3]===_e[3]},j.exactEquals$1=function(tt,_e){return tt[0]===_e[0]&&tt[1]===_e[1]&&tt[2]===_e[2]},j.exported=ls,j.exported$1=Ut,j.extend=It,j.extend$1=Gl,j.fillExtrusionHeightLift=Z1,j.filterObject=Ht,j.fromMat4=function(tt,_e){return tt[0]=_e[0],tt[1]=_e[1],tt[2]=_e[2],tt[3]=_e[4],tt[4]=_e[5],tt[5]=_e[6],tt[6]=_e[8],tt[7]=_e[9],tt[8]=_e[10],tt},j.fromQuat=function(tt,_e){var nt=_e[0],ot=_e[1],ut=_e[2],ft=_e[3],mt=nt+nt,Bt=ot+ot,Et=ut+ut,xt=nt*mt,Wt=ot*mt,Gt=ot*Bt,Xt=ut*mt,pn=ut*Bt,Fn=ut*Et,Sn=ft*mt,Mn=ft*Bt,Kn=ft*Et;return tt[0]=1-Gt-Fn,tt[1]=Wt+Kn,tt[2]=Xt-Mn,tt[3]=0,tt[4]=Wt-Kn,tt[5]=1-xt-Fn,tt[6]=pn+Sn,tt[7]=0,tt[8]=Xt+Mn,tt[9]=pn-Sn,tt[10]=1-xt-Gt,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,tt},j.fromRotation=function(tt,_e){var nt=Math.sin(_e),ot=Math.cos(_e);return tt[0]=ot,tt[1]=nt,tt[2]=0,tt[3]=-nt,tt[4]=ot,tt[5]=0,tt[6]=0,tt[7]=0,tt[8]=1,tt},j.fromScaling=dv,j.furthestTileCorner=function(tt){const _e=Math.round((tt+45+360)%360/90)%4;return Yt[_e]},j.getAABBPointSquareDist=function(tt,_e,nt){let ot=0;for(let ut=0;ut<2;++ut){const ft=nt?nt[ut]:0;tt[ut]>ft&&(ot+=(tt[ut]-ft)*(tt[ut]-ft)),_e[ut]<ft&&(ot+=(ft-_e[ut])*(ft-_e[ut]))}return ot},j.getAnchorAlignment=Mv,j.getAnchorJustification=Jv,j.getBounds=function(tt){let _e=1/0,nt=1/0,ot=-1/0,ut=-1/0;for(const ft of tt)_e=Math.min(_e,ft.x),nt=Math.min(nt,ft.y),ot=Math.max(ot,ft.x),ut=Math.max(ut,ft.y);return{min:new St(_e,nt),max:new St(ot,ut)}},j.getColumn=_o,j.getGridMatrix=function(tt,_e,nt,ot){const ut=_e.getNorth(),ft=_e.getSouth(),mt=_e.getWest(),Bt=_e.getEast(),Et=1<<tt.z,xt=Bt-mt,Wt=ut-ft,Gt=xt/U_,Xt=-Wt/F_[nt],pn=[0,Gt,0,Xt,0,0,ut,mt,0];if(tt.z>0){const Fn=180/ot;m1(pn,pn,[Fn/xt+1,0,0,0,Fn/Wt+1,0,-.5*Fn/Gt,.5*Fn/Xt,1])}return pn[2]=Et,pn[5]=tt.x,pn[8]=tt.y,pn},j.getImage=Nu,j.getJSON=function(tt,_e){return Xs(It(tt,{type:"json"}),_e)},j.getLatitudinalLod=function(tt){const _e=80.051129;tt=Kt(tt,-80.051129,_e)/_e*90;const nt=Math.pow(Math.abs(Math.sin(Ct(tt))),3);return Math.round(nt*(F_.length-1))},j.getMapSessionAPI=yr,j.getPerformanceMeasurement=Fo,j.getProjection=kB,j.getRTLTextPluginStatus=On,j.getReferrer=su,j.getTilePoint=function(tt,{x:_e,y:nt},ot=0){return new St(((_e-ot)*tt.scale-tt.x)*Lo,(nt*tt.scale-tt.y)*Lo)},j.getTileVec3=function(tt,_e,nt=0){return r_(((_e.x-nt)*tt.scale-tt.x)*Lo,(_e.y*tt.scale-tt.y)*Lo,l1(_e.z,_e.y))},j.getVideo=function(tt,_e){const nt=st.document.createElement("video");nt.muted=!0,nt.onloadstart=function(){_e(null,nt)};for(let ot=0;ot<tt.length;ot++){const ut=st.document.createElement("source");tp(tt[ot])||(nt.crossOrigin="Anonymous"),ut.src=tt[ot],nt.appendChild(ut)}return{cancel:()=>{}}},j.globeCenterToScreenPoint=function(tt){const _e=[0,0,0],nt=tm(new Float64Array(16));return t_(nt,tt.pixelMatrix,tt.globeMatrix),Ml(_e,_e,nt),new St(_e[0],_e[1])},j.globeDenormalizeECEF=jv,j.globeECEFOrigin=function(tt,_e){const nt=[0,0,0];return Ml(nt,nt,FU(xm(_e.canonical))),Ml(nt,nt,tt),nt},j.globeNormalizeECEF=FU,j.globePixelsToTileUnits=function(tt,_e){return Lo/(512*Math.pow(2,tt))*UU(xm(_e))},j.globePoleMatrixForTile=function(tt,_e,nt){const ot=tm(new Float64Array(16)),ut=(_e/(1<<tt)-.5)*Math.PI*2;return n_(ot,nt.globeMatrix,ut),Float32Array.from(ot)},j.globeTileBounds=xm,j.globeTiltAtLngLat=QB,j.globeToMercatorTransition=B_,j.globeUseCustomAntiAliasing=function(tt,_e,nt){const ot=B_(nt.zoom),ut=tt.style.map._antialias,ft=!!_e.extStandardDerivatives,mt=_e.extStandardDerivativesForceOff||tt.terrain&&tt.terrain.exaggeration()>0;return ot===0&&!ut&&!mt&&ft},j.identity=tm,j.identity$1=R1,j.invert=sF,j.isFullscreen=function(){return!!st.document.fullscreenElement||!!st.document.webkitFullscreenElement},j.isLngLatBehindGlobe=function(tt,_e){return QB(tt,_e)>Math.PI/2*1.01},j.isMapAuthenticated=function(tt){return hr.has(tt)},j.isMapboxURL=zl,j.isSafariWithAntialiasingBug=function(tt){const _e=tt.navigator?tt.navigator.userAgent:null;return!!bo(tt)&&_e&&(_e.match("Version/15.4")||_e.match("Version/15.5")||_e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},j.latFromMercatorY=$l,j.latLngToECEF=my,j.len=OB,j.length=rm,j.length$1=function(tt){return Math.hypot(tt[0],tt[1],tt[2],tt[3])},j.lngFromMercatorX=fp,j.loadVectorTile=EQ,j.makeRequest=Xs,j.mapValue=function(tt,_e,nt,ot,ut){return Kt((tt-_e)/(nt-_e)*(ut-ot)+ot,ot,ut)},j.mercatorScale=bm,j.mercatorXfromLng=ru,j.mercatorYfromLat=em,j.mercatorZfromAltitude=dp,j.mul=aF,j.mul$1=U1,j.multiply=t_,j.multiply$1=m1,j.multiply$2=y1,j.nextPowerOfTwo=Ln,j.normalize=Bu,j.normalize$1=LB,j.normalize$2=v1,j.number=_s,j.ortho=function(tt,_e,nt,ot,ut,ft,mt){var Bt=1/(_e-nt),Et=1/(ot-ut),xt=1/(ft-mt);return tt[0]=-2*Bt,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=-2*Et,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[10]=2*xt,tt[11]=0,tt[12]=(_e+nt)*Bt,tt[13]=(ut+ot)*Et,tt[14]=(mt+ft)*xt,tt[15]=1,tt},j.pbf=f_,j.perspective=function(tt,_e,nt,ot,ut){var ft,mt=1/Math.tan(_e/2);return tt[0]=mt/nt,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=mt,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[11]=-1,tt[12]=0,tt[13]=0,tt[15]=0,ut!=null&&ut!==1/0?(tt[10]=(ut+ot)*(ft=1/(ot-ut)),tt[14]=2*ut*ot*ft):(tt[10]=-1,tt[14]=-2*ot),tt},j.pick=function(tt,_e){const nt={};for(let ot=0;ot<_e.length;ot++){const ut=_e[ot];ut in tt&&(nt[ut]=tt[ut])}return nt},j.plugin=sr,j.pointGeometry=St,j.polygonContainsPoint=Ll,j.polygonIntersectsBox=rF,j.polygonIntersectsPolygon=c1,j.polygonizeBounds=function(tt,_e,nt=0,ot=!0){const ut=new St(nt,nt),ft=tt.sub(ut),mt=_e.add(ut),Bt=[ft,new St(mt.x,ft.y),mt,new St(ft.x,mt.y)];return ot&&Bt.push(ft.clone()),Bt},j.posAttributes=_U,j.postMapLoadEvent=Cn,j.postPerformanceEvent=er,j.postTurnstileEvent=qt,j.potpack=QF,j.prevPowerOfTwo=function(tt){return tt<=1?1:Math.pow(2,Math.floor(Math.log(tt)/Math.LN2))},j.radToDeg=Vt,j.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],j.registerForPluginStateChange=function(tt){return tt({pluginStatus:Jn,pluginURL:zn}),Hn.on("pluginStateChange",tt),tt},j.removeAuthState=function(tt){hr.delete(tt)},j.renderColorRamp=Uv,j.resample=tF,j.rotateX=hy,j.rotateX$1=Q1,j.rotateY=n_,j.rotateY$1=S1,j.rotateZ=function(tt,_e,nt){var ot=Math.sin(nt),ut=Math.cos(nt),ft=_e[0],mt=_e[1],Bt=_e[2],Et=_e[3],xt=_e[4],Wt=_e[5],Gt=_e[6],Xt=_e[7];return _e!==tt&&(tt[8]=_e[8],tt[9]=_e[9],tt[10]=_e[10],tt[11]=_e[11],tt[12]=_e[12],tt[13]=_e[13],tt[14]=_e[14],tt[15]=_e[15]),tt[0]=ft*ut+xt*ot,tt[1]=mt*ut+Wt*ot,tt[2]=Bt*ut+Gt*ot,tt[3]=Et*ut+Xt*ot,tt[4]=xt*ut-ft*ot,tt[5]=Wt*ut-mt*ot,tt[6]=Gt*ut-Bt*ot,tt[7]=Xt*ut-Et*ot,tt},j.rotateZ$1=function(tt,_e,nt){nt*=.5;var ot=_e[0],ut=_e[1],ft=_e[2],mt=_e[3],Bt=Math.sin(nt),Et=Math.cos(nt);return tt[0]=ot*Et+ut*Bt,tt[1]=ut*Et-ot*Bt,tt[2]=ft*Et+mt*Bt,tt[3]=mt*Et-ft*Bt,tt},j.scale=S0,j.scale$1=F1,j.scale$2=pp,j.scaleAndAdd=aU,j.set=function(tt,_e,nt,ot){return tt[0]=_e,tt[1]=nt,tt[2]=ot,tt},j.setCacheLimits=function(tt,_e){qo=tt,Do=_e},j.setColumn=function(tt,_e,nt){tt[4*_e+0]=nt[0],tt[4*_e+1]=nt[1],tt[4*_e+2]=nt[2],tt[4*_e+3]=nt[3]},j.setRTLTextPlugin=function(tt,_e,nt=!1){if(Jn===fn||Jn===Bn||Jn===kn)throw new Error("setRTLTextPlugin cannot be called multiple times.");zn=ls.resolveURL(tt),Jn=fn,Pn=_e,Vn(),nt||tr()},j.smoothstep=$t,j.spec=Dr,j.squaredLength=function(tt){var _e=tt[0],nt=tt[1],ot=tt[2];return _e*_e+nt*nt+ot*ot},j.storeAuthState=function(tt,_e){_e?hr.add(tt):hr.delete(tt)},j.sub=Cp,j.subtract=pv,j.symbolSize=jm,j.tileAABB=function(tt,_e,nt,ot,ut,ft,mt,Bt,Et){if(Et.name==="globe")return GR(tt,_e,new c_(nt,ot,ut));const xt=yy({z:nt,x:ot,y:ut},Et);return new Ru([(ft+xt.x/xt.scale)*_e,_e*(xt.y/xt.scale),mt],[(ft+xt.x2/xt.scale)*_e,_e*(xt.y2/xt.scale),Bt])},j.tileCornersToBounds=VF,j.tileTransform=yy,j.transformMat3=function(tt,_e,nt){var ot=_e[0],ut=_e[1],ft=_e[2];return tt[0]=ot*nt[0]+ut*nt[3]+ft*nt[6],tt[1]=ot*nt[1]+ut*nt[4]+ft*nt[7],tt[2]=ot*nt[2]+ut*nt[5]+ft*nt[8],tt},j.transformMat4=Ml,j.transformMat4$1=E0,j.transformQuat=_1,j.transitionTileAABBinECEF=bB,j.translate=uy,j.transpose=function(tt,_e){if(tt===_e){var nt=_e[1],ot=_e[2],ut=_e[5];tt[1]=_e[3],tt[2]=_e[6],tt[3]=nt,tt[5]=_e[7],tt[6]=ot,tt[7]=ut}else tt[0]=_e[0],tt[1]=_e[3],tt[2]=_e[6],tt[3]=_e[1],tt[4]=_e[4],tt[5]=_e[7],tt[6]=_e[2],tt[7]=_e[5],tt[8]=_e[8];return tt},j.triggerPluginCompletionEvent=Nn,j.uniqueId=vn,j.updateGlobeVertexNormal=function(tt,_e,nt,ot,ut){const ft=5*_e+2;tt.float32[ft+0]=nt,tt.float32[ft+1]=ot,tt.float32[ft+2]=ut},j.validateCustomStyleLayer=function(tt){const _e=[],nt=tt.id;return nt===void 0&&_e.push({message:`layers.${nt}: missing required property "id"`}),tt.render===void 0&&_e.push({message:`layers.${nt}: missing required method "render"`}),tt.renderingMode&&tt.renderingMode!=="2d"&&tt.renderingMode!=="3d"&&_e.push({message:`layers.${nt}: property "renderingMode" must be either "2d" or "3d"`}),_e},j.validateFilter=tt=>Xp(Hp(tt)),j.validateFog=tt=>Xp(In(tt)),j.validateLayer=tt=>Xp(Z_(tt)),j.validateLight=tt=>Xp(Yp(tt)),j.validateSource=tt=>Xp(Wm(tt)),j.validateStyle=bs,j.validateTerrain=tt=>Xp(Py(tt)),j.values=zt,j.vectorTile=mF,j.version=lt,j.warnOnce=Tn,j.window=st,j.wrap=hn}),et(["./shared"],function(j){function st(Qn){if(typeof Qn=="number"||typeof Qn=="boolean"||typeof Qn=="string"||Qn==null)return JSON.stringify(Qn);if(Array.isArray(Qn)){let rn="[";for(const Cn of Qn)rn+=`${st(Cn)},`;return`${rn}]`}let qt="{";for(const rn of Object.keys(Qn).sort())qt+=`${rn}:${st(Qn[rn])},`;return`${qt}}`}function lt(Qn){let qt="";for(const rn of j.refProperties)qt+=`/${st(Qn[rn])}`;return qt}class gt{constructor(qt){this.keyCache={},qt&&this.replace(qt)}replace(qt){this._layerConfigs={},this._layers={},this.update(qt,[])}update(qt,rn){for(const Gn of qt)this._layerConfigs[Gn.id]=Gn,(this._layers[Gn.id]=j.createStyleLayer(Gn)).compileFilter(),this.keyCache[Gn.id]&&delete this.keyCache[Gn.id];for(const Gn of rn)delete this.keyCache[Gn],delete this._layerConfigs[Gn],delete this._layers[Gn];this.familiesBySource={};const Cn=function(Gn,er){const pr={};for(let hr=0;hr<Gn.length;hr++){const Fr=er&&er[Gn[hr].id]||lt(Gn[hr]);er&&(er[Gn[hr].id]=Fr);let kr=pr[Fr];kr||(kr=pr[Fr]=[]),kr.push(Gn[hr])}const yr=[];for(const hr in pr)yr.push(pr[hr]);return yr}(j.values(this._layerConfigs),this.keyCache);for(const Gn of Cn){const er=Gn.map(Xr=>this._layers[Xr.id]),pr=er[0];if(pr.visibility==="none")continue;const yr=pr.source||"";let hr=this.familiesBySource[yr];hr||(hr=this.familiesBySource[yr]={});const Fr=pr.sourceLayer||"_geojsonTileLayer";let kr=hr[Fr];kr||(kr=hr[Fr]=[]),kr.push(er)}}}class bt{loadTile(qt,rn){const{uid:Cn,encoding:Gn,rawImageData:er,padding:pr,buildQuadTree:yr}=qt,hr=j.window.ImageBitmap&&er instanceof j.window.ImageBitmap?this.getImageData(er,pr):er;rn(null,new j.DEMData(Cn,hr,Gn,pr<1,yr))}getImageData(qt,rn){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(qt.width,qt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=qt.width,this.offscreenCanvas.height=qt.height,this.offscreenCanvasContext.drawImage(qt,0,0,qt.width,qt.height);const Cn=this.offscreenCanvasContext.getImageData(-rn,-rn,qt.width+2*rn,qt.height+2*rn);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Cn}}var Ut=function Qn(qt,rn){var Cn,Gn=qt&&qt.type;if(Gn==="FeatureCollection")for(Cn=0;Cn<qt.features.length;Cn++)Qn(qt.features[Cn],rn);else if(Gn==="GeometryCollection")for(Cn=0;Cn<qt.geometries.length;Cn++)Qn(qt.geometries[Cn],rn);else if(Gn==="Feature")Qn(qt.geometry,rn);else if(Gn==="Polygon")Ft(qt.coordinates,rn);else if(Gn==="MultiPolygon")for(Cn=0;Cn<qt.coordinates.length;Cn++)Ft(qt.coordinates[Cn],rn);return qt};function Ft(Qn,qt){if(Qn.length!==0){yt(Qn[0],qt);for(var rn=1;rn<Qn.length;rn++)yt(Qn[rn],!qt)}}function yt(Qn,qt){for(var rn=0,Cn=0,Gn=0,er=Qn.length,pr=er-1;Gn<er;pr=Gn++){var yr=(Qn[Gn][0]-Qn[pr][0])*(Qn[pr][1]+Qn[Gn][1]),hr=rn+yr;Cn+=Math.abs(rn)>=Math.abs(yr)?rn-hr+yr:yr-hr+rn,rn=hr}rn+Cn>=0!=!!qt&&Qn.reverse()}const Qt=j.VectorTileFeature.prototype.toGeoJSON;class wt{constructor(qt){this._feature=qt,this.extent=j.EXTENT,this.type=qt.type,this.properties=qt.tags,"id"in qt&&!isNaN(qt.id)&&(this.id=parseInt(qt.id,10))}loadGeometry(){if(this._feature.type===1){const qt=[];for(const rn of this._feature.geometry)qt.push([new j.pointGeometry(rn[0],rn[1])]);return qt}{const qt=[];for(const rn of this._feature.geometry){const Cn=[];for(const Gn of rn)Cn.push(new j.pointGeometry(Gn[0],Gn[1]));qt.push(Cn)}return qt}}toGeoJSON(qt,rn,Cn){return Qt.call(this,qt,rn,Cn)}}class Tt{constructor(qt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=j.EXTENT,this.length=qt.length,this._features=qt}feature(qt){return new wt(this._features[qt])}}var Jt={exports:{}},At=j.pointGeometry,Nt=j.vectorTile.VectorTileFeature,St=Ot;function Ot(Qn,qt){this.options=qt||{},this.features=Qn,this.length=Qn.length}function nn(Qn,qt){this.id=typeof Qn.id=="number"?Qn.id:void 0,this.type=Qn.type,this.rawGeometry=Qn.type===1?[Qn.geometry]:Qn.geometry,this.properties=Qn.tags,this.extent=qt||4096}Ot.prototype.feature=function(Qn){return new nn(this.features[Qn],this.options.extent)},nn.prototype.loadGeometry=function(){var Qn=this.rawGeometry;this.geometry=[];for(var qt=0;qt<Qn.length;qt++){for(var rn=Qn[qt],Cn=[],Gn=0;Gn<rn.length;Gn++)Cn.push(new At(rn[Gn][0],rn[Gn][1]));this.geometry.push(Cn)}return this.geometry},nn.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Qn=this.geometry,qt=1/0,rn=-1/0,Cn=1/0,Gn=-1/0,er=0;er<Qn.length;er++)for(var pr=Qn[er],yr=0;yr<pr.length;yr++){var hr=pr[yr];qt=Math.min(qt,hr.x),rn=Math.max(rn,hr.x),Cn=Math.min(Cn,hr.y),Gn=Math.max(Gn,hr.y)}return[qt,Cn,rn,Gn]},nn.prototype.toGeoJSON=Nt.prototype.toGeoJSON;var yn=j.pbf,Ct=St;function Vt(Qn){var qt=new yn;return function(rn,Cn){for(var Gn in rn.layers)Cn.writeMessage(3,Yt,rn.layers[Gn])}(Qn,qt),qt.finish()}function Yt(Qn,qt){var rn;qt.writeVarintField(15,Qn.version||1),qt.writeStringField(1,Qn.name||""),qt.writeVarintField(5,Qn.extent||4096);var Cn={keys:[],values:[],keycache:{},valuecache:{}};for(rn=0;rn<Qn.length;rn++)Cn.feature=Qn.feature(rn),qt.writeMessage(2,Pt,Cn);var Gn=Cn.keys;for(rn=0;rn<Gn.length;rn++)qt.writeStringField(3,Gn[rn]);var er=Cn.values;for(rn=0;rn<er.length;rn++)qt.writeMessage(4,hn,er[rn])}function Pt(Qn,qt){var rn=Qn.feature;rn.id!==void 0&&qt.writeVarintField(1,rn.id),qt.writeMessage(2,tn,Qn),qt.writeVarintField(3,rn.type),qt.writeMessage(4,$t,rn)}function tn(Qn,qt){var rn=Qn.feature,Cn=Qn.keys,Gn=Qn.values,er=Qn.keycache,pr=Qn.valuecache;for(var yr in rn.properties){var hr=rn.properties[yr],Fr=er[yr];if(hr!==null){Fr===void 0&&(Cn.push(yr),er[yr]=Fr=Cn.length-1),qt.writeVarint(Fr);var kr=typeof hr;kr!=="string"&&kr!=="boolean"&&kr!=="number"&&(hr=JSON.stringify(hr));var Xr=kr+":"+hr,Lr=pr[Xr];Lr===void 0&&(Gn.push(hr),pr[Xr]=Lr=Gn.length-1),qt.writeVarint(Lr)}}}function Un(Qn,qt){return(qt<<3)+(7&Qn)}function Kt(Qn){return Qn<<1^Qn>>31}function $t(Qn,qt){for(var rn=Qn.loadGeometry(),Cn=Qn.type,Gn=0,er=0,pr=rn.length,yr=0;yr<pr;yr++){var hr=rn[yr],Fr=1;Cn===1&&(Fr=hr.length),qt.writeVarint(Un(1,Fr));for(var kr=Cn===3?hr.length-1:hr.length,Xr=0;Xr<kr;Xr++){Xr===1&&Cn!==1&&qt.writeVarint(Un(2,kr-1));var Lr=hr[Xr].x-Gn,Fo=hr[Xr].y-er;qt.writeVarint(Kt(Lr)),qt.writeVarint(Kt(Fo)),Gn+=Lr,er+=Fo}Cn===3&&qt.writeVarint(Un(7,1))}}function hn(Qn,qt){var rn=typeof Qn;rn==="string"?qt.writeStringField(1,Qn):rn==="boolean"?qt.writeBooleanField(7,Qn):rn==="number"&&(Qn%1!=0?qt.writeDoubleField(3,Qn):Qn<0?qt.writeSVarintField(6,Qn):qt.writeVarintField(5,Qn))}function dn(Qn,qt,rn,Cn,Gn,er){if(Gn-Cn<=rn)return;const pr=Cn+Gn>>1;zt(Qn,qt,pr,Cn,Gn,er%2),dn(Qn,qt,rn,Cn,pr-1,er+1),dn(Qn,qt,rn,pr+1,Gn,er+1)}function zt(Qn,qt,rn,Cn,Gn,er){for(;Gn>Cn;){if(Gn-Cn>600){const Fr=Gn-Cn+1,kr=rn-Cn+1,Xr=Math.log(Fr),Lr=.5*Math.exp(2*Xr/3),Fo=.5*Math.sqrt(Xr*Lr*(Fr-Lr)/Fr)*(kr-Fr/2<0?-1:1);zt(Qn,qt,rn,Math.max(Cn,Math.floor(rn-kr*Lr/Fr+Fo)),Math.min(Gn,Math.floor(rn+(Fr-kr)*Lr/Fr+Fo)),er)}const pr=qt[2*rn+er];let yr=Cn,hr=Gn;for(It(Qn,qt,Cn,rn),qt[2*Gn+er]>pr&&It(Qn,qt,Cn,Gn);yr<hr;){for(It(Qn,qt,yr,hr),yr++,hr--;qt[2*yr+er]<pr;)yr++;for(;qt[2*hr+er]>pr;)hr--}qt[2*Cn+er]===pr?It(Qn,qt,Cn,hr):(hr++,It(Qn,qt,hr,Gn)),hr<=rn&&(Cn=hr+1),rn<=hr&&(Gn=hr-1)}}function It(Qn,qt,rn,Cn){gn(Qn,rn,Cn),gn(qt,2*rn,2*Cn),gn(qt,2*rn+1,2*Cn+1)}function gn(Qn,qt,rn){const Cn=Qn[qt];Qn[qt]=Qn[rn],Qn[rn]=Cn}function vn(Qn,qt,rn,Cn){const Gn=Qn-rn,er=qt-Cn;return Gn*Gn+er*er}Jt.exports=Vt,Jt.exports.fromVectorTileJs=Vt,Jt.exports.fromGeojsonVt=function(Qn,qt){qt=qt||{};var rn={};for(var Cn in Qn)rn[Cn]=new Ct(Qn[Cn].features,qt),rn[Cn].name=Cn,rn[Cn].version=qt.version,rn[Cn].extent=qt.extent;return Vt({layers:rn})},Jt.exports.GeoJSONWrapper=Ct;const Wn=Qn=>Qn[0],Ln=Qn=>Qn[1];class jn{constructor(qt,rn=Wn,Cn=Ln,Gn=64,er=Float64Array){this.nodeSize=Gn,this.points=qt;const pr=qt.length<65536?Uint16Array:Uint32Array,yr=this.ids=new pr(qt.length),hr=this.coords=new er(2*qt.length);for(let Fr=0;Fr<qt.length;Fr++)yr[Fr]=Fr,hr[2*Fr]=rn(qt[Fr]),hr[2*Fr+1]=Cn(qt[Fr]);dn(yr,hr,Gn,0,yr.length-1,0)}range(qt,rn,Cn,Gn){return function(er,pr,yr,hr,Fr,kr,Xr){const Lr=[0,er.length-1,0],Fo=[];let Uo,mo;for(;Lr.length;){const wo=Lr.pop(),Oo=Lr.pop(),ls=Lr.pop();if(Oo-ls<=Xr){for(let Fs=ls;Fs<=Oo;Fs++)Uo=pr[2*Fs],mo=pr[2*Fs+1],Uo>=yr&&Uo<=Fr&&mo>=hr&&mo<=kr&&Fo.push(er[Fs]);continue}const Bo=Math.floor((ls+Oo)/2);Uo=pr[2*Bo],mo=pr[2*Bo+1],Uo>=yr&&Uo<=Fr&&mo>=hr&&mo<=kr&&Fo.push(er[Bo]);const Rs=(wo+1)%2;(wo===0?yr<=Uo:hr<=mo)&&(Lr.push(ls),Lr.push(Bo-1),Lr.push(Rs)),(wo===0?Fr>=Uo:kr>=mo)&&(Lr.push(Bo+1),Lr.push(Oo),Lr.push(Rs))}return Fo}(this.ids,this.coords,qt,rn,Cn,Gn,this.nodeSize)}within(qt,rn,Cn){return function(Gn,er,pr,yr,hr,Fr){const kr=[0,Gn.length-1,0],Xr=[],Lr=hr*hr;for(;kr.length;){const Fo=kr.pop(),Uo=kr.pop(),mo=kr.pop();if(Uo-mo<=Fr){for(let Rs=mo;Rs<=Uo;Rs++)vn(er[2*Rs],er[2*Rs+1],pr,yr)<=Lr&&Xr.push(Gn[Rs]);continue}const wo=Math.floor((mo+Uo)/2),Oo=er[2*wo],ls=er[2*wo+1];vn(Oo,ls,pr,yr)<=Lr&&Xr.push(Gn[wo]);const Bo=(Fo+1)%2;(Fo===0?pr-hr<=Oo:yr-hr<=ls)&&(kr.push(mo),kr.push(wo-1),kr.push(Bo)),(Fo===0?pr+hr>=Oo:yr+hr>=ls)&&(kr.push(wo+1),kr.push(Uo),kr.push(Bo))}return Xr}(this.ids,this.coords,qt,rn,Cn,this.nodeSize)}}const xn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Qn=>Qn},Rn=Math.fround||(jt=new Float32Array(1),Qn=>(jt[0]=+Qn,jt[0]));var jt;class Ht{constructor(qt){this.options=Vo(Object.create(xn),qt),this.trees=new Array(this.options.maxZoom+1)}load(qt){const{log:rn,minZoom:Cn,maxZoom:Gn,nodeSize:er}=this.options;rn&&console.time("total time");const pr=`prepare ${qt.length} points`;rn&&console.time(pr),this.points=qt;let yr=[];for(let hr=0;hr<qt.length;hr++)qt[hr].geometry&&yr.push(Dn(qt[hr],hr));this.trees[Gn+1]=new jn(yr,bo,Po,er,Float32Array),rn&&console.timeEnd(pr);for(let hr=Gn;hr>=Cn;hr--){const Fr=+Date.now();yr=this._cluster(yr,hr),this.trees[hr]=new jn(yr,bo,Po,er,Float32Array),rn&&console.log("z%d: %d clusters in %dms",hr,yr.length,+Date.now()-Fr)}return rn&&console.timeEnd("total time"),this}getClusters(qt,rn){let Cn=((qt[0]+180)%360+360)%360-180;const Gn=Math.max(-90,Math.min(90,qt[1]));let er=qt[2]===180?180:((qt[2]+180)%360+360)%360-180;const pr=Math.max(-90,Math.min(90,qt[3]));if(qt[2]-qt[0]>=360)Cn=-180,er=180;else if(Cn>er){const kr=this.getClusters([Cn,Gn,180,pr],rn),Xr=this.getClusters([-180,Gn,er,pr],rn);return kr.concat(Xr)}const yr=this.trees[this._limitZoom(rn)],hr=yr.range(or(Cn),Rr(pr),or(er),Rr(Gn)),Fr=[];for(const kr of hr){const Xr=yr.points[kr];Fr.push(Xr.numPoints?Tn(Xr):this.points[Xr.index])}return Fr}getChildren(qt){const rn=this._getOriginId(qt),Cn=this._getOriginZoom(qt),Gn="No cluster with the specified id.",er=this.trees[Cn];if(!er)throw new Error(Gn);const pr=er.points[rn];if(!pr)throw new Error(Gn);const yr=this.options.radius/(this.options.extent*Math.pow(2,Cn-1)),hr=er.within(pr.x,pr.y,yr),Fr=[];for(const kr of hr){const Xr=er.points[kr];Xr.parentId===qt&&Fr.push(Xr.numPoints?Tn(Xr):this.points[Xr.index])}if(Fr.length===0)throw new Error(Gn);return Fr}getLeaves(qt,rn,Cn){const Gn=[];return this._appendLeaves(Gn,qt,rn=rn||10,Cn=Cn||0,0),Gn}getTile(qt,rn,Cn){const Gn=this.trees[this._limitZoom(qt)],er=Math.pow(2,qt),{extent:pr,radius:yr}=this.options,hr=yr/pr,Fr=(Cn-hr)/er,kr=(Cn+1+hr)/er,Xr={features:[]};return this._addTileFeatures(Gn.range((rn-hr)/er,Fr,(rn+1+hr)/er,kr),Gn.points,rn,Cn,er,Xr),rn===0&&this._addTileFeatures(Gn.range(1-hr/er,Fr,1,kr),Gn.points,er,Cn,er,Xr),rn===er-1&&this._addTileFeatures(Gn.range(0,Fr,hr/er,kr),Gn.points,-1,Cn,er,Xr),Xr.features.length?Xr:null}getClusterExpansionZoom(qt){let rn=this._getOriginZoom(qt)-1;for(;rn<=this.options.maxZoom;){const Cn=this.getChildren(qt);if(rn++,Cn.length!==1)break;qt=Cn[0].properties.cluster_id}return rn}_appendLeaves(qt,rn,Cn,Gn,er){const pr=this.getChildren(rn);for(const yr of pr){const hr=yr.properties;if(hr&&hr.cluster?er+hr.point_count<=Gn?er+=hr.point_count:er=this._appendLeaves(qt,hr.cluster_id,Cn,Gn,er):er<Gn?er++:qt.push(yr),qt.length===Cn)break}return er}_addTileFeatures(qt,rn,Cn,Gn,er,pr){for(const yr of qt){const hr=rn[yr],Fr=hr.numPoints;let kr,Xr,Lr;if(Fr)kr=Xn(hr),Xr=hr.x,Lr=hr.y;else{const mo=this.points[hr.index];kr=mo.properties,Xr=or(mo.geometry.coordinates[0]),Lr=Rr(mo.geometry.coordinates[1])}const Fo={type:1,geometry:[[Math.round(this.options.extent*(Xr*er-Cn)),Math.round(this.options.extent*(Lr*er-Gn))]],tags:kr};let Uo;Fr?Uo=hr.id:this.options.generateId?Uo=hr.index:this.points[hr.index].id&&(Uo=this.points[hr.index].id),Uo!==void 0&&(Fo.id=Uo),pr.features.push(Fo)}}_limitZoom(qt){return Math.max(this.options.minZoom,Math.min(Math.floor(+qt),this.options.maxZoom+1))}_cluster(qt,rn){const Cn=[],{radius:Gn,extent:er,reduce:pr,minPoints:yr}=this.options,hr=Gn/(er*Math.pow(2,rn));for(let Fr=0;Fr<qt.length;Fr++){const kr=qt[Fr];if(kr.zoom<=rn)continue;kr.zoom=rn;const Xr=this.trees[rn+1],Lr=Xr.within(kr.x,kr.y,hr),Fo=kr.numPoints||1;let Uo=Fo;for(const mo of Lr){const wo=Xr.points[mo];wo.zoom>rn&&(Uo+=wo.numPoints||1)}if(Uo>Fo&&Uo>=yr){let mo=kr.x*Fo,wo=kr.y*Fo,Oo=pr&&Fo>1?this._map(kr,!0):null;const ls=(Fr<<5)+(rn+1)+this.points.length;for(const Bo of Lr){const Rs=Xr.points[Bo];if(Rs.zoom<=rn)continue;Rs.zoom=rn;const Fs=Rs.numPoints||1;mo+=Rs.x*Fs,wo+=Rs.y*Fs,Rs.parentId=ls,pr&&(Oo||(Oo=this._map(kr,!0)),pr(Oo,this._map(Rs)))}kr.parentId=ls,Cn.push(_n(mo/Uo,wo/Uo,ls,Uo,Oo))}else if(Cn.push(kr),Uo>1)for(const mo of Lr){const wo=Xr.points[mo];wo.zoom<=rn||(wo.zoom=rn,Cn.push(wo))}}return Cn}_getOriginId(qt){return qt-this.points.length>>5}_getOriginZoom(qt){return(qt-this.points.length)%32}_map(qt,rn){if(qt.numPoints)return rn?Vo({},qt.properties):qt.properties;const Cn=this.points[qt.index].properties,Gn=this.options.map(Cn);return rn&&Gn===Cn?Vo({},Gn):Gn}}function _n(Qn,qt,rn,Cn,Gn){return{x:Rn(Qn),y:Rn(qt),zoom:1/0,id:rn,parentId:-1,numPoints:Cn,properties:Gn}}function Dn(Qn,qt){const[rn,Cn]=Qn.geometry.coordinates;return{x:Rn(or(rn)),y:Rn(Rr(Cn)),zoom:1/0,index:qt,parentId:-1}}function Tn(Qn){return{type:"Feature",id:Qn.id,properties:Xn(Qn),geometry:{type:"Point",coordinates:[(qt=Qn.x,360*(qt-.5)),ao(Qn.y)]}};var qt}function Xn(Qn){const qt=Qn.numPoints,rn=qt>=1e4?`${Math.round(qt/1e3)}k`:qt>=1e3?Math.round(qt/100)/10+"k":qt;return Vo(Vo({},Qn.properties),{cluster:!0,cluster_id:Qn.id,point_count:qt,point_count_abbreviated:rn})}function or(Qn){return Qn/360+.5}function Rr(Qn){const qt=Math.sin(Qn*Math.PI/180),rn=.5-.25*Math.log((1+qt)/(1-qt))/Math.PI;return rn<0?0:rn>1?1:rn}function ao(Qn){const qt=(180-360*Qn)*Math.PI/180;return 360*Math.atan(Math.exp(qt))/Math.PI-90}function Vo(Qn,qt){for(const rn in qt)Qn[rn]=qt[rn];return Qn}function bo(Qn){return Qn.x}function Po(Qn){return Qn.y}function _o(Qn,qt,rn,Cn){for(var Gn,er=Cn,pr=rn-qt>>1,yr=rn-qt,hr=Qn[qt],Fr=Qn[qt+1],kr=Qn[rn],Xr=Qn[rn+1],Lr=qt+3;Lr<rn;Lr+=3){var Fo=Qo(Qn[Lr],Qn[Lr+1],hr,Fr,kr,Xr);if(Fo>er)Gn=Lr,er=Fo;else if(Fo===er){var Uo=Math.abs(Lr-pr);Uo<yr&&(Gn=Lr,yr=Uo)}}er>Cn&&(Gn-qt>3&&_o(Qn,qt,Gn,Cn),Qn[Gn+2]=er,rn-Gn>3&&_o(Qn,Gn,rn,Cn))}function Qo(Qn,qt,rn,Cn,Gn,er){var pr=Gn-rn,yr=er-Cn;if(pr!==0||yr!==0){var hr=((Qn-rn)*pr+(qt-Cn)*yr)/(pr*pr+yr*yr);hr>1?(rn=Gn,Cn=er):hr>0&&(rn+=pr*hr,Cn+=yr*hr)}return(pr=Qn-rn)*pr+(yr=qt-Cn)*yr}function zo(Qn,qt,rn,Cn){var Gn={id:Qn===void 0?null:Qn,type:qt,geometry:rn,tags:Cn,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(er){var pr=er.geometry,yr=er.type;if(yr==="Point"||yr==="MultiPoint"||yr==="LineString")Ao(er,pr);else if(yr==="Polygon"||yr==="MultiLineString")for(var hr=0;hr<pr.length;hr++)Ao(er,pr[hr]);else if(yr==="MultiPolygon")for(hr=0;hr<pr.length;hr++)for(var Fr=0;Fr<pr[hr].length;Fr++)Ao(er,pr[hr][Fr])}(Gn),Gn}function Ao(Qn,qt){for(var rn=0;rn<qt.length;rn+=3)Qn.minX=Math.min(Qn.minX,qt[rn]),Qn.minY=Math.min(Qn.minY,qt[rn+1]),Qn.maxX=Math.max(Qn.maxX,qt[rn]),Qn.maxY=Math.max(Qn.maxY,qt[rn+1])}function qo(Qn,qt,rn,Cn){if(qt.geometry){var Gn=qt.geometry.coordinates,er=qt.geometry.type,pr=Math.pow(rn.tolerance/((1<<rn.maxZoom)*rn.extent),2),yr=[],hr=qt.id;if(rn.promoteId?hr=qt.properties[rn.promoteId]:rn.generateId&&(hr=Cn||0),er==="Point")Do(Gn,yr);else if(er==="MultiPoint")for(var Fr=0;Fr<Gn.length;Fr++)Do(Gn[Fr],yr);else if(er==="LineString")ws(Gn,yr,pr,!1);else if(er==="MultiLineString"){if(rn.lineMetrics){for(Fr=0;Fr<Gn.length;Fr++)ws(Gn[Fr],yr=[],pr,!1),Qn.push(zo(hr,"LineString",yr,qt.properties));return}Wo(Gn,yr,pr,!1)}else if(er==="Polygon")Wo(Gn,yr,pr,!0);else{if(er!=="MultiPolygon"){if(er==="GeometryCollection"){for(Fr=0;Fr<qt.geometry.geometries.length;Fr++)qo(Qn,{id:hr,geometry:qt.geometry.geometries[Fr],properties:qt.properties},rn,Cn);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Fr=0;Fr<Gn.length;Fr++){var kr=[];Wo(Gn[Fr],kr,pr,!0),yr.push(kr)}}Qn.push(zo(hr,er,yr,qt.properties))}}function Do(Qn,qt){qt.push(Fl(Qn[0])),qt.push(ys(Qn[1])),qt.push(0)}function ws(Qn,qt,rn,Cn){for(var Gn,er,pr=0,yr=0;yr<Qn.length;yr++){var hr=Fl(Qn[yr][0]),Fr=ys(Qn[yr][1]);qt.push(hr),qt.push(Fr),qt.push(0),yr>0&&(pr+=Cn?(Gn*Fr-hr*er)/2:Math.sqrt(Math.pow(hr-Gn,2)+Math.pow(Fr-er,2))),Gn=hr,er=Fr}var kr=qt.length-3;qt[2]=1,_o(qt,0,kr,rn),qt[kr+2]=1,qt.size=Math.abs(pr),qt.start=0,qt.end=qt.size}function Wo(Qn,qt,rn,Cn){for(var Gn=0;Gn<Qn.length;Gn++){var er=[];ws(Qn[Gn],er,rn,Cn),qt.push(er)}}function Fl(Qn){return Qn/360+.5}function ys(Qn){var qt=Math.sin(Qn*Math.PI/180),rn=.5-.25*Math.log((1+qt)/(1-qt))/Math.PI;return rn<0?0:rn>1?1:rn}function Ys(Qn,qt,rn,Cn,Gn,er,pr,yr){if(Cn/=qt,er>=(rn/=qt)&&pr<Cn)return Qn;if(pr<rn||er>=Cn)return null;for(var hr=[],Fr=0;Fr<Qn.length;Fr++){var kr=Qn[Fr],Xr=kr.geometry,Lr=kr.type,Fo=Gn===0?kr.minX:kr.minY,Uo=Gn===0?kr.maxX:kr.maxY;if(Fo>=rn&&Uo<Cn)hr.push(kr);else if(!(Uo<rn||Fo>=Cn)){var mo=[];if(Lr==="Point"||Lr==="MultiPoint")ss(Xr,mo,rn,Cn,Gn);else if(Lr==="LineString")su(Xr,mo,rn,Cn,Gn,!1,yr.lineMetrics);else if(Lr==="MultiLineString")_l(Xr,mo,rn,Cn,Gn,!1);else if(Lr==="Polygon")_l(Xr,mo,rn,Cn,Gn,!0);else if(Lr==="MultiPolygon")for(var wo=0;wo<Xr.length;wo++){var Oo=[];_l(Xr[wo],Oo,rn,Cn,Gn,!0),Oo.length&&mo.push(Oo)}if(mo.length){if(yr.lineMetrics&&Lr==="LineString"){for(wo=0;wo<mo.length;wo++)hr.push(zo(kr.id,Lr,mo[wo],kr.tags));continue}Lr!=="LineString"&&Lr!=="MultiLineString"||(mo.length===1?(Lr="LineString",mo=mo[0]):Lr="MultiLineString"),Lr!=="Point"&&Lr!=="MultiPoint"||(Lr=mo.length===3?"Point":"MultiPoint"),hr.push(zo(kr.id,Lr,mo,kr.tags))}}}return hr.length?hr:null}function ss(Qn,qt,rn,Cn,Gn){for(var er=0;er<Qn.length;er+=3){var pr=Qn[er+Gn];pr>=rn&&pr<=Cn&&(qt.push(Qn[er]),qt.push(Qn[er+1]),qt.push(Qn[er+2]))}}function su(Qn,qt,rn,Cn,Gn,er,pr){for(var yr,hr,Fr=Xs(Qn),kr=Gn===0?Uu:Su,Xr=Qn.start,Lr=0;Lr<Qn.length-3;Lr+=3){var Fo=Qn[Lr],Uo=Qn[Lr+1],mo=Qn[Lr+2],wo=Qn[Lr+3],Oo=Qn[Lr+4],ls=Gn===0?Fo:Uo,Bo=Gn===0?wo:Oo,Rs=!1;pr&&(yr=Math.sqrt(Math.pow(Fo-wo,2)+Math.pow(Uo-Oo,2))),ls<rn?Bo>rn&&(hr=kr(Fr,Fo,Uo,wo,Oo,rn),pr&&(Fr.start=Xr+yr*hr)):ls>Cn?Bo<Cn&&(hr=kr(Fr,Fo,Uo,wo,Oo,Cn),pr&&(Fr.start=Xr+yr*hr)):tp(Fr,Fo,Uo,mo),Bo<rn&&ls>=rn&&(hr=kr(Fr,Fo,Uo,wo,Oo,rn),Rs=!0),Bo>Cn&&ls<=Cn&&(hr=kr(Fr,Fo,Uo,wo,Oo,Cn),Rs=!0),!er&&Rs&&(pr&&(Fr.end=Xr+yr*hr),qt.push(Fr),Fr=Xs(Qn)),pr&&(Xr+=yr)}var Fs=Qn.length-3;Fo=Qn[Fs],Uo=Qn[Fs+1],mo=Qn[Fs+2],(ls=Gn===0?Fo:Uo)>=rn&&ls<=Cn&&tp(Fr,Fo,Uo,mo),Fs=Fr.length-3,er&&Fs>=3&&(Fr[Fs]!==Fr[0]||Fr[Fs+1]!==Fr[1])&&tp(Fr,Fr[0],Fr[1],Fr[2]),Fr.length&&qt.push(Fr)}function Xs(Qn){var qt=[];return qt.size=Qn.size,qt.start=Qn.start,qt.end=Qn.end,qt}function _l(Qn,qt,rn,Cn,Gn,er){for(var pr=0;pr<Qn.length;pr++)su(Qn[pr],qt,rn,Cn,Gn,er,!1)}function tp(Qn,qt,rn,Cn){Qn.push(qt),Qn.push(rn),Qn.push(Cn)}function Uu(Qn,qt,rn,Cn,Gn,er){var pr=(er-qt)/(Cn-qt);return Qn.push(er),Qn.push(rn+(Gn-rn)*pr),Qn.push(1),pr}function Su(Qn,qt,rn,Cn,Gn,er){var pr=(er-rn)/(Gn-rn);return Qn.push(qt+(Cn-qt)*pr),Qn.push(er),Qn.push(1),pr}function Wl(Qn,qt){for(var rn=[],Cn=0;Cn<Qn.length;Cn++){var Gn,er=Qn[Cn],pr=er.type;if(pr==="Point"||pr==="MultiPoint"||pr==="LineString")Gn=Nu(er.geometry,qt);else if(pr==="MultiLineString"||pr==="Polygon"){Gn=[];for(var yr=0;yr<er.geometry.length;yr++)Gn.push(Nu(er.geometry[yr],qt))}else if(pr==="MultiPolygon")for(Gn=[],yr=0;yr<er.geometry.length;yr++){for(var hr=[],Fr=0;Fr<er.geometry[yr].length;Fr++)hr.push(Nu(er.geometry[yr][Fr],qt));Gn.push(hr)}rn.push(zo(er.id,pr,Gn,er.tags))}return rn}function Nu(Qn,qt){var rn=[];rn.size=Qn.size,Qn.start!==void 0&&(rn.start=Qn.start,rn.end=Qn.end);for(var Cn=0;Cn<Qn.length;Cn+=3)rn.push(Qn[Cn]+qt,Qn[Cn+1],Qn[Cn+2]);return rn}function xs(Qn,qt){if(Qn.transformed)return Qn;var rn,Cn,Gn,er=1<<Qn.z,pr=Qn.x,yr=Qn.y;for(rn=0;rn<Qn.features.length;rn++){var hr=Qn.features[rn],Fr=hr.geometry,kr=hr.type;if(hr.geometry=[],kr===1)for(Cn=0;Cn<Fr.length;Cn+=2)hr.geometry.push(zl(Fr[Cn],Fr[Cn+1],qt,er,pr,yr));else for(Cn=0;Cn<Fr.length;Cn++){var Xr=[];for(Gn=0;Gn<Fr[Cn].length;Gn+=2)Xr.push(zl(Fr[Cn][Gn],Fr[Cn][Gn+1],qt,er,pr,yr));hr.geometry.push(Xr)}}return Qn.transformed=!0,Qn}function zl(Qn,qt,rn,Cn,Gn,er){return[Math.round(rn*(Qn*Cn-Gn)),Math.round(rn*(qt*Cn-er))]}function Mr(Qn,qt,rn,Cn,Gn){for(var er=qt===Gn.maxZoom?0:Gn.tolerance/((1<<qt)*Gn.extent),pr={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:rn,y:Cn,z:qt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},yr=0;yr<Qn.length;yr++){pr.numFeatures++,mn(pr,Qn[yr],er,Gn);var hr=Qn[yr].minX,Fr=Qn[yr].minY,kr=Qn[yr].maxX,Xr=Qn[yr].maxY;hr<pr.minX&&(pr.minX=hr),Fr<pr.minY&&(pr.minY=Fr),kr>pr.maxX&&(pr.maxX=kr),Xr>pr.maxY&&(pr.maxY=Xr)}return pr}function mn(Qn,qt,rn,Cn){var Gn=qt.geometry,er=qt.type,pr=[];if(er==="Point"||er==="MultiPoint")for(var yr=0;yr<Gn.length;yr+=3)pr.push(Gn[yr]),pr.push(Gn[yr+1]),Qn.numPoints++,Qn.numSimplified++;else if(er==="LineString")bn(pr,Gn,Qn,rn,!1,!1);else if(er==="MultiLineString"||er==="Polygon")for(yr=0;yr<Gn.length;yr++)bn(pr,Gn[yr],Qn,rn,er==="Polygon",yr===0);else if(er==="MultiPolygon")for(var hr=0;hr<Gn.length;hr++){var Fr=Gn[hr];for(yr=0;yr<Fr.length;yr++)bn(pr,Fr[yr],Qn,rn,!0,yr===0)}if(pr.length){var kr=qt.tags||null;if(er==="LineString"&&Cn.lineMetrics){for(var Xr in kr={},qt.tags)kr[Xr]=qt.tags[Xr];kr.mapbox_clip_start=Gn.start/Gn.size,kr.mapbox_clip_end=Gn.end/Gn.size}var Lr={geometry:pr,type:er==="Polygon"||er==="MultiPolygon"?3:er==="LineString"||er==="MultiLineString"?2:1,tags:kr};qt.id!==null&&(Lr.id=qt.id),Qn.features.push(Lr)}}function bn(Qn,qt,rn,Cn,Gn,er){var pr=Cn*Cn;if(Cn>0&&qt.size<(Gn?pr:Cn))rn.numPoints+=qt.length/3;else{for(var yr=[],hr=0;hr<qt.length;hr+=3)(Cn===0||qt[hr+2]>pr)&&(rn.numSimplified++,yr.push(qt[hr]),yr.push(qt[hr+1])),rn.numPoints++;Gn&&function(Fr,kr){for(var Xr=0,Lr=0,Fo=Fr.length,Uo=Fo-2;Lr<Fo;Uo=Lr,Lr+=2)Xr+=(Fr[Lr]-Fr[Uo])*(Fr[Lr+1]+Fr[Uo+1]);if(Xr>0===kr)for(Lr=0,Fo=Fr.length;Lr<Fo/2;Lr+=2){var mo=Fr[Lr],wo=Fr[Lr+1];Fr[Lr]=Fr[Fo-2-Lr],Fr[Lr+1]=Fr[Fo-1-Lr],Fr[Fo-2-Lr]=mo,Fr[Fo-1-Lr]=wo}}(yr,er),Qn.push(yr)}}function An(Qn,qt){var rn=(qt=this.options=function(Gn,er){for(var pr in er)Gn[pr]=er[pr];return Gn}(Object.create(this.options),qt)).debug;if(rn&&console.time("preprocess data"),qt.maxZoom<0||qt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(qt.promoteId&&qt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Cn=function(Gn,er){var pr=[];if(Gn.type==="FeatureCollection")for(var yr=0;yr<Gn.features.length;yr++)qo(pr,Gn.features[yr],er,yr);else qo(pr,Gn.type==="Feature"?Gn:{geometry:Gn},er);return pr}(Qn,qt);this.tiles={},this.tileCoords=[],rn&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",qt.indexMaxZoom,qt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Cn=function(Gn,er){var pr=er.buffer/er.extent,yr=Gn,hr=Ys(Gn,1,-1-pr,pr,0,-1,2,er),Fr=Ys(Gn,1,1-pr,2+pr,0,-1,2,er);return(hr||Fr)&&(yr=Ys(Gn,1,-pr,1+pr,0,-1,2,er)||[],hr&&(yr=Wl(hr,1).concat(yr)),Fr&&(yr=yr.concat(Wl(Fr,-1)))),yr}(Cn,qt),Cn.length&&this.splitTile(Cn,0,0,0),rn&&(Cn.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ir(Qn,qt,rn){return 32*((1<<Qn)*rn+qt)+Qn}function cr(Qn,qt){const rn=Qn.tileID.canonical;if(!this._geoJSONIndex)return qt(null,null);const Cn=this._geoJSONIndex.getTile(rn.z,rn.x,rn.y);if(!Cn)return qt(null,null);const Gn=new Tt(Cn.features);let er=Jt.exports(Gn);er.byteOffset===0&&er.byteLength===er.buffer.byteLength||(er=new Uint8Array(er)),qt(null,{vectorTile:Gn,rawData:er.buffer})}An.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},An.prototype.splitTile=function(Qn,qt,rn,Cn,Gn,er,pr){for(var yr=[Qn,qt,rn,Cn],hr=this.options,Fr=hr.debug;yr.length;){Cn=yr.pop(),rn=yr.pop(),qt=yr.pop(),Qn=yr.pop();var kr=1<<qt,Xr=ir(qt,rn,Cn),Lr=this.tiles[Xr];if(!Lr&&(Fr>1&&console.time("creation"),Lr=this.tiles[Xr]=Mr(Qn,qt,rn,Cn,hr),this.tileCoords.push({z:qt,x:rn,y:Cn}),Fr)){Fr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",qt,rn,Cn,Lr.numFeatures,Lr.numPoints,Lr.numSimplified),console.timeEnd("creation"));var Fo="z"+qt;this.stats[Fo]=(this.stats[Fo]||0)+1,this.total++}if(Lr.source=Qn,Gn){if(qt===hr.maxZoom||qt===Gn)continue;var Uo=1<<Gn-qt;if(rn!==Math.floor(er/Uo)||Cn!==Math.floor(pr/Uo))continue}else if(qt===hr.indexMaxZoom||Lr.numPoints<=hr.indexMaxPoints)continue;if(Lr.source=null,Qn.length!==0){Fr>1&&console.time("clipping");var mo,wo,Oo,ls,Bo,Rs,Fs=.5*hr.buffer/hr.extent,np=.5-Fs,Mu=.5+Fs,Dr=1+Fs;mo=wo=Oo=ls=null,Bo=Ys(Qn,kr,rn-Fs,rn+Mu,0,Lr.minX,Lr.maxX,hr),Rs=Ys(Qn,kr,rn+np,rn+Dr,0,Lr.minX,Lr.maxX,hr),Qn=null,Bo&&(mo=Ys(Bo,kr,Cn-Fs,Cn+Mu,1,Lr.minY,Lr.maxY,hr),wo=Ys(Bo,kr,Cn+np,Cn+Dr,1,Lr.minY,Lr.maxY,hr),Bo=null),Rs&&(Oo=Ys(Rs,kr,Cn-Fs,Cn+Mu,1,Lr.minY,Lr.maxY,hr),ls=Ys(Rs,kr,Cn+np,Cn+Dr,1,Lr.minY,Lr.maxY,hr),Rs=null),Fr>1&&console.timeEnd("clipping"),yr.push(mo||[],qt+1,2*rn,2*Cn),yr.push(wo||[],qt+1,2*rn,2*Cn+1),yr.push(Oo||[],qt+1,2*rn+1,2*Cn),yr.push(ls||[],qt+1,2*rn+1,2*Cn+1)}}},An.prototype.getTile=function(Qn,qt,rn){var Cn=this.options,Gn=Cn.extent,er=Cn.debug;if(Qn<0||Qn>24)return null;var pr=1<<Qn,yr=ir(Qn,qt=(qt%pr+pr)%pr,rn);if(this.tiles[yr])return xs(this.tiles[yr],Gn);er>1&&console.log("drilling down to z%d-%d-%d",Qn,qt,rn);for(var hr,Fr=Qn,kr=qt,Xr=rn;!hr&&Fr>0;)Fr--,kr=Math.floor(kr/2),Xr=Math.floor(Xr/2),hr=this.tiles[ir(Fr,kr,Xr)];return hr&&hr.source?(er>1&&console.log("found parent tile z%d-%d-%d",Fr,kr,Xr),er>1&&console.time("drilling down"),this.splitTile(hr.source,Fr,kr,Xr,Qn,qt,rn),er>1&&console.timeEnd("drilling down"),this.tiles[yr]?xs(this.tiles[yr],Gn):null):null};class Nr extends j.VectorTileWorkerSource{constructor(qt,rn,Cn,Gn,er){super(qt,rn,Cn,Gn,cr),er&&(this.loadGeoJSON=er)}loadData(qt,rn){const Cn=qt&&qt.request,Gn=Cn&&Cn.collectResourceTiming;this.loadGeoJSON(qt,(er,pr)=>{if(er||!pr)return rn(er);if(typeof pr!="object")return rn(new Error(`Input data given to '${qt.source}' is not a valid GeoJSON object.`));{Ut(pr,!0);try{if(qt.filter){const hr=j.createExpression(qt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(kr=>`${kr.key}: ${kr.message}`).join(", "));pr={type:"FeatureCollection",features:pr.features.filter(kr=>hr.value.evaluate({zoom:0},kr))}}this._geoJSONIndex=qt.cluster?new Ht(function({superclusterOptions:hr,clusterProperties:Fr}){if(!Fr||!hr)return hr;const kr={},Xr={},Lr={accumulated:null,zoom:0},Fo={properties:null},Uo=Object.keys(Fr);for(const mo of Uo){const[wo,Oo]=Fr[mo],ls=j.createExpression(Oo),Bo=j.createExpression(typeof wo=="string"?[wo,["accumulated"],["get",mo]]:wo);kr[mo]=ls.value,Xr[mo]=Bo.value}return hr.map=mo=>{Fo.properties=mo;const wo={};for(const Oo of Uo)wo[Oo]=kr[Oo].evaluate(Lr,Fo);return wo},hr.reduce=(mo,wo)=>{Fo.properties=wo;for(const Oo of Uo)Lr.accumulated=mo[Oo],mo[Oo]=Xr[Oo].evaluate(Lr,Fo)},hr}(qt)).load(pr.features):function(hr,Fr){return new An(hr,Fr)}(pr,qt.geojsonVtOptions)}catch(hr){return rn(hr)}this.loaded={};const yr={};if(Gn){const hr=j.getPerformanceMeasurement(Cn);hr&&(yr.resourceTiming={},yr.resourceTiming[qt.source]=JSON.parse(JSON.stringify(hr)))}rn(null,yr)}})}reloadTile(qt,rn){const Cn=this.loaded;return Cn&&Cn[qt.uid]?super.reloadTile(qt,rn):this.loadTile(qt,rn)}loadGeoJSON(qt,rn){if(qt.request)j.getJSON(qt.request,rn);else{if(typeof qt.data!="string")return rn(new Error(`Input data given to '${qt.source}' is not a valid GeoJSON object.`));try{return rn(null,JSON.parse(qt.data))}catch{return rn(new Error(`Input data given to '${qt.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(qt,rn){try{rn(null,this._geoJSONIndex.getClusterExpansionZoom(qt.clusterId))}catch(Cn){rn(Cn)}}getClusterChildren(qt,rn){try{rn(null,this._geoJSONIndex.getChildren(qt.clusterId))}catch(Cn){rn(Cn)}}getClusterLeaves(qt,rn){try{rn(null,this._geoJSONIndex.getLeaves(qt.clusterId,qt.limit,qt.offset))}catch(Cn){rn(Cn)}}}class Jr{constructor(qt){this.self=qt,this.actor=new j.Actor(qt,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=j.getProjection({name:"mercator"}),this.workerSourceTypes={vector:j.VectorTileWorkerSource,geojson:Nr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(rn,Cn)=>{if(this.workerSourceTypes[rn])throw new Error(`Worker source with name "${rn}" already registered.`);this.workerSourceTypes[rn]=Cn},this.self.registerRTLTextPlugin=rn=>{if(j.plugin.isParsed())throw new Error("RTL text plugin already registered.");j.plugin.applyArabicShaping=rn.applyArabicShaping,j.plugin.processBidirectionalText=rn.processBidirectionalText,j.plugin.processStyledBidirectionalText=rn.processStyledBidirectionalText}}clearCaches(qt,rn,Cn){delete this.layerIndexes[qt],delete this.availableImages[qt],delete this.workerSources[qt],delete this.demWorkerSources[qt],Cn()}checkIfReady(qt,rn,Cn){Cn()}setReferrer(qt,rn){this.referrer=rn}spriteLoaded(qt,rn){this.isSpriteLoaded[qt]=rn;for(const Cn in this.workerSources[qt]){const Gn=this.workerSources[qt][Cn];for(const er in Gn)Gn[er]instanceof j.VectorTileWorkerSource&&(Gn[er].isSpriteLoaded=rn,Gn[er].fire(new j.Event("isSpriteLoaded")))}}setImages(qt,rn,Cn){this.availableImages[qt]=rn;for(const Gn in this.workerSources[qt]){const er=this.workerSources[qt][Gn];for(const pr in er)er[pr].availableImages=rn}Cn()}enableTerrain(qt,rn,Cn){this.terrain=rn,Cn()}setProjection(qt,rn){this.projections[qt]=j.getProjection(rn)}setLayers(qt,rn,Cn){this.getLayerIndex(qt).replace(rn),Cn()}updateLayers(qt,rn,Cn){this.getLayerIndex(qt).update(rn.layers,rn.removedIds),Cn()}loadTile(qt,rn,Cn){const Gn=this.enableTerrain?j.extend({enableTerrain:this.terrain},rn):rn;Gn.projection=this.projections[qt]||this.defaultProjection,this.getWorkerSource(qt,rn.type,rn.source).loadTile(Gn,Cn)}loadDEMTile(qt,rn,Cn){const Gn=this.enableTerrain?j.extend({buildQuadTree:this.terrain},rn):rn;this.getDEMWorkerSource(qt,rn.source).loadTile(Gn,Cn)}reloadTile(qt,rn,Cn){const Gn=this.enableTerrain?j.extend({enableTerrain:this.terrain},rn):rn;Gn.projection=this.projections[qt]||this.defaultProjection,this.getWorkerSource(qt,rn.type,rn.source).reloadTile(Gn,Cn)}abortTile(qt,rn,Cn){this.getWorkerSource(qt,rn.type,rn.source).abortTile(rn,Cn)}removeTile(qt,rn,Cn){this.getWorkerSource(qt,rn.type,rn.source).removeTile(rn,Cn)}removeSource(qt,rn,Cn){if(!this.workerSources[qt]||!this.workerSources[qt][rn.type]||!this.workerSources[qt][rn.type][rn.source])return;const Gn=this.workerSources[qt][rn.type][rn.source];delete this.workerSources[qt][rn.type][rn.source],Gn.removeSource!==void 0?Gn.removeSource(rn,Cn):Cn()}loadWorkerSource(qt,rn,Cn){try{this.self.importScripts(rn.url),Cn()}catch(Gn){Cn(Gn.toString())}}syncRTLPluginState(qt,rn,Cn){try{j.plugin.setState(rn);const Gn=j.plugin.getPluginURL();if(j.plugin.isLoaded()&&!j.plugin.isParsed()&&Gn!=null){this.self.importScripts(Gn);const er=j.plugin.isParsed();Cn(er?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Gn}`),er)}}catch(Gn){Cn(Gn.toString())}}getAvailableImages(qt){let rn=this.availableImages[qt];return rn||(rn=[]),rn}getLayerIndex(qt){let rn=this.layerIndexes[qt];return rn||(rn=this.layerIndexes[qt]=new gt),rn}getWorkerSource(qt,rn,Cn){if(this.workerSources[qt]||(this.workerSources[qt]={}),this.workerSources[qt][rn]||(this.workerSources[qt][rn]={}),!this.workerSources[qt][rn][Cn]){const Gn={send:(er,pr,yr,hr,Fr,kr)=>{this.actor.send(er,pr,yr,qt,Fr,kr)},scheduler:this.actor.scheduler};this.workerSources[qt][rn][Cn]=new this.workerSourceTypes[rn](Gn,this.getLayerIndex(qt),this.getAvailableImages(qt),this.isSpriteLoaded[qt])}return this.workerSources[qt][rn][Cn]}getDEMWorkerSource(qt,rn){return this.demWorkerSources[qt]||(this.demWorkerSources[qt]={}),this.demWorkerSources[qt][rn]||(this.demWorkerSources[qt][rn]=new bt),this.demWorkerSources[qt][rn]}enforceCacheSizeLimit(qt,rn){j.enforceCacheSizeLimit(rn)}getWorkerPerformanceMetrics(qt,rn,Cn){Cn(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Jr(self)),Jr}),et(["./shared"],function(j){function st(ht,it){if(Array.isArray(ht)){if(!Array.isArray(it)||ht.length!==it.length)return!1;for(let ct=0;ct<ht.length;ct++)if(!st(ht[ct],it[ct]))return!1;return!0}if(typeof ht=="object"&&ht!==null&&it!==null){if(typeof it!="object"||Object.keys(ht).length!==Object.keys(it).length)return!1;for(const ct in ht)if(!st(ht[ct],it[ct]))return!1;return!0}return ht===it}var lt=gt;function gt(ht){return!function(it){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var pt,vt,Rt=new Blob([""],{type:"text/javascript"}),kt=URL.createObjectURL(Rt);try{vt=new Worker(kt),pt=!0}catch{pt=!1}return vt&&vt.terminate(),URL.revokeObjectURL(kt),pt}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var pt=document.createElement("canvas");pt.width=pt.height=1;var vt=pt.getContext("2d");if(!vt)return!1;var Rt=vt.getImageData(0,0,1,1);return Rt&&Rt.width===pt.width}()?(bt[ct=it&&it.failIfMajorPerformanceCaveat]===void 0&&(bt[ct]=function(pt){var vt,Rt=function(kt){var Lt=document.createElement("canvas"),Zt=Object.create(gt.webGLContextAttributes);return Zt.failIfMajorPerformanceCaveat=kt,Lt.getContext("webgl",Zt)||Lt.getContext("experimental-webgl",Zt)}(pt);if(!Rt)return!1;try{vt=Rt.createShader(Rt.VERTEX_SHADER)}catch{return!1}return!(!vt||Rt.isContextLost())&&(Rt.shaderSource(vt,"void main() {}"),Rt.compileShader(vt),Rt.getShaderParameter(vt,Rt.COMPILE_STATUS)===!0)}(ct)),bt[ct]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var ct}(ht)}var bt={};function Ut(ht,it,ct){const pt=j.window.document.createElement(ht);return it!==void 0&&(pt.className=it),ct&&ct.appendChild(pt),pt}function Ft(ht,it,ct){const pt=j.window.document.createElementNS("http://www.w3.org/2000/svg",ht);for(const vt of Object.keys(it))pt.setAttributeNS(null,vt,it[vt]);return ct&&ct.appendChild(pt),pt}gt.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const yt=j.window.document&&j.window.document.documentElement.style,Qt=yt&&yt.userSelect!==void 0?"userSelect":"WebkitUserSelect";let wt;function Tt(){yt&&Qt&&(wt=yt[Qt],yt[Qt]="none")}function Jt(){yt&&Qt&&(yt[Qt]=wt)}function At(ht){ht.preventDefault(),ht.stopPropagation(),j.window.removeEventListener("click",At,!0)}function Nt(){j.window.addEventListener("click",At,!0),j.window.setTimeout(()=>{j.window.removeEventListener("click",At,!0)},0)}function St(ht,it){const ct=ht.getBoundingClientRect();return yn(ht,ct,it)}function Ot(ht,it){const ct=ht.getBoundingClientRect(),pt=[];for(let vt=0;vt<it.length;vt++)pt.push(yn(ht,ct,it[vt]));return pt}function nn(ht){return j.window.InstallTrigger!==void 0&&ht.button===2&&ht.ctrlKey&&j.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ht.button}function yn(ht,it,ct){const pt=ht.offsetWidth===it.width?1:ht.offsetWidth/it.width;return new j.pointGeometry((ct.clientX-it.left)*pt,(ct.clientY-it.top)*pt)}function Ct(ht,it){var ct=it[0],pt=it[1],vt=it[2],Rt=it[3],kt=ct*Rt-vt*pt;return kt?(ht[0]=Rt*(kt=1/kt),ht[1]=-pt*kt,ht[2]=-vt*kt,ht[3]=ct*kt,ht):null}function Vt(ht){const{userImage:it}=ht;return!!(it&&it.render&&it.render())&&(ht.data.replace(new Uint8Array(it.data.buffer)),!0)}class Yt extends j.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new j.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(it){if(this.loaded!==it&&(this.loaded=it,it)){for(const{ids:ct,callback:pt}of this.requestors)this._notify(ct,pt);this.requestors=[]}}hasImage(it){return!!this.getImage(it)}getImage(it){return this.images[it]}addImage(it,ct){this._validate(it,ct)&&(this.images[it]=ct)}_validate(it,ct){let pt=!0;return this._validateStretch(ct.stretchX,ct.data&&ct.data.width)||(this.fire(new j.ErrorEvent(new Error(`Image "${it}" has invalid "stretchX" value`))),pt=!1),this._validateStretch(ct.stretchY,ct.data&&ct.data.height)||(this.fire(new j.ErrorEvent(new Error(`Image "${it}" has invalid "stretchY" value`))),pt=!1),this._validateContent(ct.content,ct)||(this.fire(new j.ErrorEvent(new Error(`Image "${it}" has invalid "content" value`))),pt=!1),pt}_validateStretch(it,ct){if(!it)return!0;let pt=0;for(const vt of it){if(vt[0]<pt||vt[1]<vt[0]||ct<vt[1])return!1;pt=vt[1]}return!0}_validateContent(it,ct){return!(it&&(it.length!==4||it[0]<0||ct.data.width<it[0]||it[1]<0||ct.data.height<it[1]||it[2]<0||ct.data.width<it[2]||it[3]<0||ct.data.height<it[3]||it[2]<it[0]||it[3]<it[1]))}updateImage(it,ct){ct.version=this.images[it].version+1,this.images[it]=ct,this.updatedImages[it]=!0}removeImage(it){const ct=this.images[it];delete this.images[it],delete this.patterns[it],ct.userImage&&ct.userImage.onRemove&&ct.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(it,ct){let pt=!0;if(!this.isLoaded())for(const vt of it)this.images[vt]||(pt=!1);this.isLoaded()||pt?this._notify(it,ct):this.requestors.push({ids:it,callback:ct})}_notify(it,ct){const pt={};for(const vt of it){this.images[vt]||this.fire(new j.Event("styleimagemissing",{id:vt}));const Rt=this.images[vt];Rt?pt[vt]={data:Rt.data.clone(),pixelRatio:Rt.pixelRatio,sdf:Rt.sdf,version:Rt.version,stretchX:Rt.stretchX,stretchY:Rt.stretchY,content:Rt.content,hasRenderCallback:Boolean(Rt.userImage&&Rt.userImage.render)}:j.warnOnce(`Image "${vt}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}ct(null,pt)}getPixelSize(){const{width:it,height:ct}=this.atlasImage;return{width:it,height:ct}}getPattern(it){const ct=this.patterns[it],pt=this.getImage(it);if(!pt)return null;if(ct&&ct.position.version===pt.version)return ct.position;if(ct)ct.position.version=pt.version;else{const vt={w:pt.data.width+2,h:pt.data.height+2,x:0,y:0},Rt=new j.ImagePosition(vt,pt);this.patterns[it]={bin:vt,position:Rt}}return this._updatePatternAtlas(),this.patterns[it].position}bind(it){const ct=it.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new j.Texture(it,this.atlasImage,ct.RGBA),this.atlasTexture.bind(ct.LINEAR,ct.CLAMP_TO_EDGE)}_updatePatternAtlas(){const it=[];for(const Rt in this.patterns)it.push(this.patterns[Rt].bin);const{w:ct,h:pt}=j.potpack(it),vt=this.atlasImage;vt.resize({width:ct||1,height:pt||1});for(const Rt in this.patterns){const{bin:kt}=this.patterns[Rt],Lt=kt.x+1,Zt=kt.y+1,en=this.images[Rt].data,fn=en.width,Bn=en.height;j.RGBAImage.copy(en,vt,{x:0,y:0},{x:Lt,y:Zt},{width:fn,height:Bn}),j.RGBAImage.copy(en,vt,{x:0,y:Bn-1},{x:Lt,y:Zt-1},{width:fn,height:1}),j.RGBAImage.copy(en,vt,{x:0,y:0},{x:Lt,y:Zt+Bn},{width:fn,height:1}),j.RGBAImage.copy(en,vt,{x:fn-1,y:0},{x:Lt-1,y:Zt},{width:1,height:Bn}),j.RGBAImage.copy(en,vt,{x:0,y:0},{x:Lt+fn,y:Zt},{width:1,height:Bn})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(it){for(const ct of it){if(this.callbackDispatchedThisFrame[ct])continue;this.callbackDispatchedThisFrame[ct]=!0;const pt=this.images[ct];Vt(pt)&&this.updateImage(ct,pt)}}}const Pt=new j.Properties({anchor:new j.DataConstantProperty(j.spec.light.anchor),position:new class{constructor(){this.specification=j.spec.light.position}possiblyEvaluate(ht,it){return function([ct,pt,vt]){const Rt=j.degToRad(pt+90),kt=j.degToRad(vt);return{x:ct*Math.cos(Rt)*Math.sin(kt),y:ct*Math.sin(Rt)*Math.sin(kt),z:ct*Math.cos(kt),azimuthal:pt,polar:vt}}(ht.expression.evaluate(it))}interpolate(ht,it,ct){return{x:j.number(ht.x,it.x,ct),y:j.number(ht.y,it.y,ct),z:j.number(ht.z,it.z,ct),azimuthal:j.number(ht.azimuthal,it.azimuthal,ct),polar:j.number(ht.polar,it.polar,ct)}}},color:new j.DataConstantProperty(j.spec.light.color),intensity:new j.DataConstantProperty(j.spec.light.intensity)}),tn="-transition";class Un extends j.Evented{constructor(it){super(),this._transitionable=new j.Transitionable(Pt),this.setLight(it),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(it,ct={}){if(!this._validate(j.validateLight,it,ct))for(const pt in it){const vt=it[pt];j.endsWith(pt,tn)?this._transitionable.setTransition(pt.slice(0,-tn.length),vt):this._transitionable.setValue(pt,vt)}}updateTransitions(it){this._transitioning=this._transitionable.transitioned(it,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(it){this.properties=this._transitioning.possiblyEvaluate(it)}_validate(it,ct,pt){return(!pt||pt.validate!==!1)&&j.emitValidationErrors(this,it.call(j.validateStyle,j.extend({value:ct,style:{glyphs:!0,sprite:!0},styleSpec:j.spec})))}}const Kt=new j.Properties({source:new j.DataConstantProperty(j.spec.terrain.source),exaggeration:new j.DataConstantProperty(j.spec.terrain.exaggeration)}),$t="-transition";class hn extends j.Evented{constructor(it,ct){super(),this._transitionable=new j.Transitionable(Kt),this.set(it),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=ct}get(){return this._transitionable.serialize()}set(it){for(const ct in it){const pt=it[ct];j.endsWith(ct,$t)?this._transitionable.setTransition(ct.slice(0,-$t.length),pt):this._transitionable.setValue(ct,pt)}}updateTransitions(it){this._transitioning=this._transitionable.transitioned(it,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(it){this.properties=this._transitioning.possiblyEvaluate(it)}}function dn(ht,it,ct,pt){const vt=j.smoothstep(45,65,ct),[Rt,kt]=zt(ht,pt),Lt=j.length(it);let Zt=1-Math.min(1,Math.exp((Lt-Rt)/(kt-Rt)*-6));return Zt*=Zt*Zt,Zt=Math.min(1,1.00747*Zt),Zt*vt*ht.alpha}function zt(ht,it){const ct=.5/Math.tan(.5*it);return[ht.range[0]+ct,ht.range[1]+ct]}const It=new j.Properties({range:new j.DataConstantProperty(j.spec.fog.range),color:new j.DataConstantProperty(j.spec.fog.color),"high-color":new j.DataConstantProperty(j.spec.fog["high-color"]),"space-color":new j.DataConstantProperty(j.spec.fog["space-color"]),"horizon-blend":new j.DataConstantProperty(j.spec.fog["horizon-blend"]),"star-intensity":new j.DataConstantProperty(j.spec.fog["star-intensity"])}),gn="-transition";class vn extends j.Evented{constructor(it,ct){super(),this._transitionable=new j.Transitionable(It),this.set(it),this._transitioning=this._transitionable.untransitioned(),this._transform=ct}get state(){const it=this._transform,ct=it.projection.name==="globe",pt=j.globeToMercatorTransition(it.zoom),vt=this.properties.get("range"),Rt=[.5,3];return{range:ct?[j.number(Rt[0],vt[0],pt),j.number(Rt[1],vt[1],pt)]:vt,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(it,ct={}){if(!this._validate(j.validateFog,it,ct)){for(const pt of Object.keys(j.spec.fog))it&&it[pt]===void 0&&(it[pt]=j.spec.fog[pt].default);for(const pt in it){const vt=it[pt];j.endsWith(pt,gn)?this._transitionable.setTransition(pt.slice(0,-gn.length),vt):this._transitionable.setValue(pt,vt)}}}getOpacity(it){if(!this._transform.projection.supportsFog)return 0;const ct=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:j.smoothstep(45,65,it))*ct.a}getOpacityAtLatLng(it,ct){return this._transform.projection.supportsFog?function(pt,vt,Rt){const kt=j.MercatorCoordinate.fromLngLat(vt),Lt=Rt.elevation?Rt.elevation.getAtPointOrZero(kt):0,Zt=[kt.x,kt.y,Lt];return j.transformMat4(Zt,Zt,Rt.mercatorFogMatrix),dn(pt,Zt,Rt.pitch,Rt._fov)}(this.state,it,ct):0}getFovAdjustedRange(it){return this._transform.projection.supportsFog?zt(this.state,it):[0,1]}updateTransitions(it){this._transitioning=this._transitionable.transitioned(it,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(it){this.properties=this._transitioning.possiblyEvaluate(it)}_validate(it,ct,pt){return(!pt||pt.validate!==!1)&&j.emitValidationErrors(this,it.call(j.validateStyle,j.extend({value:ct,style:{glyphs:!0,sprite:!0},styleSpec:j.spec})))}}class Wn{constructor(it,ct){this.workerPool=it,this.actors=[],this.currentActor=0,this.id=j.uniqueId();const pt=this.workerPool.acquire(this.id);for(let vt=0;vt<pt.length;vt++){const Rt=new Wn.Actor(pt[vt],ct,this.id);Rt.name=`Worker ${vt}`,this.actors.push(Rt)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(it,ct,pt){j.asyncAll(this.actors,(vt,Rt)=>{vt.send(it,ct,Rt)},pt=pt||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(it=>{it.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Ln(ht,it,ct){return it*(j.EXTENT/(ht.tileSize*Math.pow(2,ct-ht.tileID.overscaledZ)))}Wn.Actor=j.Actor;class jn{constructor(it,ct,pt,vt){this.screenBounds=it,this.cameraPoint=ct,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=pt,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,vt)}static createFromScreenPoints(it,ct){let pt,vt;if(it instanceof j.pointGeometry||typeof it[0]=="number"){const Rt=j.pointGeometry.convert(it);pt=[Rt],vt=ct.isPointAboveHorizon(Rt)}else{const Rt=j.pointGeometry.convert(it[0]),kt=j.pointGeometry.convert(it[1]);pt=[Rt,kt],vt=j.polygonizeBounds(Rt,kt).every(Lt=>ct.isPointAboveHorizon(Lt))}return new jn(pt,ct.getCameraPoint(),vt,ct)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(it){return j.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],it)}bufferedCameraGeometry(it){const ct=this.screenBounds[0],pt=this.screenBounds.length===1?this.screenBounds[0].add(new j.pointGeometry(1,1)):this.screenBounds[1],vt=j.polygonizeBounds(ct,pt,0,!1);return this.cameraPoint.y>pt.y&&(this.cameraPoint.x>ct.x&&this.cameraPoint.x<pt.x?vt.splice(3,0,this.cameraPoint):this.cameraPoint.x>=pt.x?vt[2]=this.cameraPoint:this.cameraPoint.x<=ct.x&&(vt[3]=this.cameraPoint)),j.bufferConvexPolygon(vt,it)}bufferedCameraGeometryGlobe(it){const ct=this.screenBounds[0],pt=this.screenBounds.length===1?this.screenBounds[0].add(new j.pointGeometry(1,1)):this.screenBounds[1],vt=j.polygonizeBounds(ct,pt,it),Rt=this.cameraPoint.clone();switch(3*((Rt.y>ct.y)+(Rt.y>pt.y))+((Rt.x>ct.x)+(Rt.x>pt.x))){case 0:vt[0]=Rt,vt[4]=Rt.clone();break;case 1:vt.splice(1,0,Rt);break;case 2:vt[1]=Rt;break;case 3:vt.splice(4,0,Rt);break;case 5:vt.splice(2,0,Rt);break;case 6:vt[3]=Rt;break;case 7:vt.splice(3,0,Rt);break;case 8:vt[2]=Rt}return vt}containsTile(it,ct,pt,vt=0){const Rt=it.queryPadding/ct._pixelsPerMercatorPixel+1,kt=pt?this._bufferedCameraMercator(Rt,ct):this._bufferedScreenMercator(Rt,ct);let Lt=it.tileID.wrap+(kt.unwrapped?vt:0);const Zt=kt.polygon.map(Nn=>j.getTilePoint(it.tileTransform,Nn,Lt));if(!j.polygonIntersectsBox(Zt,0,0,j.EXTENT,j.EXTENT))return;Lt=it.tileID.wrap+(this.screenGeometryMercator.unwrapped?vt:0);const en=this.screenGeometryMercator.polygon.map(Nn=>j.getTileVec3(it.tileTransform,Nn,Lt)),fn=en.map(Nn=>new j.pointGeometry(Nn[0],Nn[1])),Bn=ct.getFreeCameraOptions().position||new j.MercatorCoordinate(0,0,0),kn=j.getTileVec3(it.tileTransform,Bn,Lt),Pn=en.map(Nn=>{const Vn=j.sub(Nn,Nn,kn);return j.normalize(Vn,Vn),new j.Ray(kn,Vn)}),Jn=Ln(it,1,ct.zoom)*ct._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:fn,tilespaceRays:Pn,bufferedTilespaceGeometry:Zt,bufferedTilespaceBounds:(zn=j.getBounds(Zt),zn.min.x=j.clamp(zn.min.x,0,j.EXTENT),zn.min.y=j.clamp(zn.min.y,0,j.EXTENT),zn.max.x=j.clamp(zn.max.x,0,j.EXTENT),zn.max.y=j.clamp(zn.max.y,0,j.EXTENT),zn),tile:it,tileID:it.tileID,pixelToTileUnitsFactor:Jn};var zn}_bufferedScreenMercator(it,ct){const pt=jt(it);if(this._screenRaycastCache[pt])return this._screenRaycastCache[pt];{let vt;return vt=ct.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(it),ct):{polygon:this.bufferedScreenGeometry(it).map(Rt=>ct.pointCoordinate3D(Rt)),unwrapped:!0},this._screenRaycastCache[pt]=vt,vt}}_bufferedCameraMercator(it,ct){const pt=jt(it);if(this._cameraRaycastCache[pt])return this._cameraRaycastCache[pt];{let vt;return vt=ct.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(it),ct):{polygon:this.bufferedCameraGeometry(it).map(Rt=>ct.pointCoordinate3D(Rt)),unwrapped:!0},this._cameraRaycastCache[pt]=vt,vt}}_projectAndResample(it,ct){const pt=function(Rt,kt){const Lt=j.multiply([],kt.pixelMatrix,kt.globeMatrix),Zt=[0,-j.GLOBE_RADIUS,0,1],en=[0,j.GLOBE_RADIUS,0,1],fn=[0,0,0,1];j.transformMat4$1(Zt,Zt,Lt),j.transformMat4$1(en,en,Lt),j.transformMat4$1(fn,fn,Lt);const Bn=new j.pointGeometry(Zt[0]/Zt[3],Zt[1]/Zt[3]),kn=new j.pointGeometry(en[0]/en[3],en[1]/en[3]),Pn=j.polygonContainsPoint(Rt,Bn)&&Zt[3]<fn[3],Jn=j.polygonContainsPoint(Rt,kn)&&en[3]<fn[3];if(!Pn&&!Jn)return null;const zn=function(ur,Ur,Tr){for(let wr=1;wr<ur.length;wr++){const qr=Rn(Ur.pointCoordinate3D(ur[wr-1]).x),_r=Rn(Ur.pointCoordinate3D(ur[wr]).x);if(Tr<0){if(qr<_r)return{idx:wr,t:-qr/(_r-1-qr)}}else if(_r<qr)return{idx:wr,t:(1-qr)/(_r+1-qr)}}return null}(Rt,kt,Pn?-1:1);if(!zn)return null;const{idx:Nn,t:Vn}=zn;let Hn=Nn>1?xn(Rt.slice(0,Nn),kt):[],On=Nn<Rt.length?xn(Rt.slice(Nn),kt):[];Hn=Hn.map(ur=>new j.pointGeometry(Rn(ur.x),ur.y)),On=On.map(ur=>new j.pointGeometry(Rn(ur.x),ur.y));const tr=[...Hn];tr.length===0&&tr.push(On[On.length-1]);const sr=j.number(tr[tr.length-1].y,(On.length===0?Hn[0]:On[0]).y,Vn);let $n;return $n=Pn?[new j.pointGeometry(0,sr),new j.pointGeometry(0,0),new j.pointGeometry(1,0),new j.pointGeometry(1,sr)]:[new j.pointGeometry(1,sr),new j.pointGeometry(1,1),new j.pointGeometry(0,1),new j.pointGeometry(0,sr)],tr.push(...$n),On.length===0?tr.push(Hn[0]):tr.push(...On),{polygon:tr.map(ur=>new j.MercatorCoordinate(ur.x,ur.y)),unwrapped:!1}}(it,ct);if(pt)return pt;const vt=function(Rt,kt){let Lt=!1,Zt=-1/0,en=0;for(let Bn=0;Bn<Rt.length-1;Bn++)Rt[Bn].x>Zt&&(Zt=Rt[Bn].x,en=Bn);for(let Bn=0;Bn<Rt.length-1;Bn++){const kn=(en+Bn)%(Rt.length-1),Pn=Rt[kn],Jn=Rt[kn+1];Math.abs(Pn.x-Jn.x)>.5&&(Pn.x<Jn.x?(Pn.x+=1,kn===0&&(Rt[Rt.length-1].x+=1)):(Jn.x+=1,kn+1===Rt.length-1&&(Rt[0].x+=1)),Lt=!0)}const fn=j.mercatorXfromLng(kt.center.lng);return Lt&&fn<Math.abs(fn-1)&&Rt.forEach(Bn=>{Bn.x-=1}),{polygon:Rt,unwrapped:Lt}}(xn(it,ct).map(Rt=>new j.pointGeometry(Rn(Rt.x),Rt.y)),ct);return{polygon:vt.polygon.map(Rt=>new j.MercatorCoordinate(Rt.x,Rt.y)),unwrapped:vt.unwrapped}}}function xn(ht,it){return j.resample(ht,ct=>{const pt=it.pointCoordinate3D(ct);ct.x=pt.x,ct.y=pt.y},1/256)}function Rn(ht){return ht<0?1+ht%1:ht%1}function jt(ht){return 100*ht|0}function Ht(ht,it,ct,pt,vt){const Rt=function(kt,Lt){if(kt)return vt(kt);if(Lt){ht.url&&Lt.tiles&&ht.tiles&&delete ht.tiles;const Zt=j.pick(j.extend(Lt,ht),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Lt.vector_layers&&(Zt.vectorLayers=Lt.vector_layers,Zt.vectorLayerIds=Zt.vectorLayers.map(en=>en.id)),Zt.tiles=it.canonicalizeTileset(Zt,ht.url),vt(null,Zt)}};return ht.url?j.getJSON(it.transformRequest(it.normalizeSourceURL(ht.url,null,ct,pt),j.ResourceType.Source),Rt):j.exported.frame(()=>Rt(null,ht))}class _n{constructor(it,ct,pt){this.bounds=j.LngLatBounds.convert(this.validateBounds(it)),this.minzoom=ct||0,this.maxzoom=pt||24}validateBounds(it){return Array.isArray(it)&&it.length===4?[Math.max(-180,it[0]),Math.max(-90,it[1]),Math.min(180,it[2]),Math.min(90,it[3])]:[-180,-90,180,90]}contains(it){const ct=Math.pow(2,it.z),pt=Math.floor(j.mercatorXfromLng(this.bounds.getWest())*ct),vt=Math.floor(j.mercatorYfromLat(this.bounds.getNorth())*ct),Rt=Math.ceil(j.mercatorXfromLng(this.bounds.getEast())*ct),kt=Math.ceil(j.mercatorYfromLat(this.bounds.getSouth())*ct);return it.x>=pt&&it.x<Rt&&it.y>=vt&&it.y<kt}}class Dn{constructor(it,ct,pt){this.context=it;const vt=it.gl;this.buffer=vt.createBuffer(),this.dynamicDraw=Boolean(pt),this.context.unbindVAO(),it.bindElementBuffer.set(this.buffer),vt.bufferData(vt.ELEMENT_ARRAY_BUFFER,ct.arrayBuffer,this.dynamicDraw?vt.DYNAMIC_DRAW:vt.STATIC_DRAW),this.dynamicDraw||ct.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(it){const ct=this.context.gl;this.context.unbindVAO(),this.bind(),ct.bufferSubData(ct.ELEMENT_ARRAY_BUFFER,0,it.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Tn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Xn{constructor(it,ct,pt,vt){this.length=ct.length,this.attributes=pt,this.itemSize=ct.bytesPerElement,this.dynamicDraw=vt,this.context=it;const Rt=it.gl;this.buffer=Rt.createBuffer(),it.bindVertexBuffer.set(this.buffer),Rt.bufferData(Rt.ARRAY_BUFFER,ct.arrayBuffer,this.dynamicDraw?Rt.DYNAMIC_DRAW:Rt.STATIC_DRAW),this.dynamicDraw||ct.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(it){const ct=this.context.gl;this.bind(),ct.bufferSubData(ct.ARRAY_BUFFER,0,it.arrayBuffer)}enableAttributes(it,ct){for(let pt=0;pt<this.attributes.length;pt++){const vt=ct.attributes[this.attributes[pt].name];vt!==void 0&&it.enableVertexAttribArray(vt)}}setVertexAttribPointers(it,ct,pt){for(let vt=0;vt<this.attributes.length;vt++){const Rt=this.attributes[vt],kt=ct.attributes[Rt.name];kt!==void 0&&it.vertexAttribPointer(kt,Rt.components,it[Tn[Rt.type]],!1,this.itemSize,Rt.offset+this.itemSize*(pt||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class or{constructor(it){this.gl=it.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(it){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Rr extends or{getDefault(){return j.Color.transparent}set(it){const ct=this.current;(it.r!==ct.r||it.g!==ct.g||it.b!==ct.b||it.a!==ct.a||this.dirty)&&(this.gl.clearColor(it.r,it.g,it.b,it.a),this.current=it,this.dirty=!1)}}class ao extends or{getDefault(){return 1}set(it){(it!==this.current||this.dirty)&&(this.gl.clearDepth(it),this.current=it,this.dirty=!1)}}class Vo extends or{getDefault(){return 0}set(it){(it!==this.current||this.dirty)&&(this.gl.clearStencil(it),this.current=it,this.dirty=!1)}}class bo extends or{getDefault(){return[!0,!0,!0,!0]}set(it){const ct=this.current;(it[0]!==ct[0]||it[1]!==ct[1]||it[2]!==ct[2]||it[3]!==ct[3]||this.dirty)&&(this.gl.colorMask(it[0],it[1],it[2],it[3]),this.current=it,this.dirty=!1)}}class Po extends or{getDefault(){return!0}set(it){(it!==this.current||this.dirty)&&(this.gl.depthMask(it),this.current=it,this.dirty=!1)}}class _o extends or{getDefault(){return 255}set(it){(it!==this.current||this.dirty)&&(this.gl.stencilMask(it),this.current=it,this.dirty=!1)}}class Qo extends or{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(it){const ct=this.current;(it.func!==ct.func||it.ref!==ct.ref||it.mask!==ct.mask||this.dirty)&&(this.gl.stencilFunc(it.func,it.ref,it.mask),this.current=it,this.dirty=!1)}}class zo extends or{getDefault(){const it=this.gl;return[it.KEEP,it.KEEP,it.KEEP]}set(it){const ct=this.current;(it[0]!==ct[0]||it[1]!==ct[1]||it[2]!==ct[2]||this.dirty)&&(this.gl.stencilOp(it[0],it[1],it[2]),this.current=it,this.dirty=!1)}}class Ao extends or{getDefault(){return!1}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;it?ct.enable(ct.STENCIL_TEST):ct.disable(ct.STENCIL_TEST),this.current=it,this.dirty=!1}}class qo extends or{getDefault(){return[0,1]}set(it){const ct=this.current;(it[0]!==ct[0]||it[1]!==ct[1]||this.dirty)&&(this.gl.depthRange(it[0],it[1]),this.current=it,this.dirty=!1)}}class Do extends or{getDefault(){return!1}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;it?ct.enable(ct.DEPTH_TEST):ct.disable(ct.DEPTH_TEST),this.current=it,this.dirty=!1}}class ws extends or{getDefault(){return this.gl.LESS}set(it){(it!==this.current||this.dirty)&&(this.gl.depthFunc(it),this.current=it,this.dirty=!1)}}class Wo extends or{getDefault(){return!1}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;it?ct.enable(ct.BLEND):ct.disable(ct.BLEND),this.current=it,this.dirty=!1}}class Fl extends or{getDefault(){const it=this.gl;return[it.ONE,it.ZERO]}set(it){const ct=this.current;(it[0]!==ct[0]||it[1]!==ct[1]||this.dirty)&&(this.gl.blendFunc(it[0],it[1]),this.current=it,this.dirty=!1)}}class ys extends or{getDefault(){return j.Color.transparent}set(it){const ct=this.current;(it.r!==ct.r||it.g!==ct.g||it.b!==ct.b||it.a!==ct.a||this.dirty)&&(this.gl.blendColor(it.r,it.g,it.b,it.a),this.current=it,this.dirty=!1)}}class Ys extends or{getDefault(){return this.gl.FUNC_ADD}set(it){(it!==this.current||this.dirty)&&(this.gl.blendEquation(it),this.current=it,this.dirty=!1)}}class ss extends or{getDefault(){return!1}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;it?ct.enable(ct.CULL_FACE):ct.disable(ct.CULL_FACE),this.current=it,this.dirty=!1}}class su extends or{getDefault(){return this.gl.BACK}set(it){(it!==this.current||this.dirty)&&(this.gl.cullFace(it),this.current=it,this.dirty=!1)}}class Xs extends or{getDefault(){return this.gl.CCW}set(it){(it!==this.current||this.dirty)&&(this.gl.frontFace(it),this.current=it,this.dirty=!1)}}class _l extends or{getDefault(){return null}set(it){(it!==this.current||this.dirty)&&(this.gl.useProgram(it),this.current=it,this.dirty=!1)}}class tp extends or{getDefault(){return this.gl.TEXTURE0}set(it){(it!==this.current||this.dirty)&&(this.gl.activeTexture(it),this.current=it,this.dirty=!1)}}class Uu extends or{getDefault(){const it=this.gl;return[0,0,it.drawingBufferWidth,it.drawingBufferHeight]}set(it){const ct=this.current;(it[0]!==ct[0]||it[1]!==ct[1]||it[2]!==ct[2]||it[3]!==ct[3]||this.dirty)&&(this.gl.viewport(it[0],it[1],it[2],it[3]),this.current=it,this.dirty=!1)}}class Su extends or{getDefault(){return null}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;ct.bindFramebuffer(ct.FRAMEBUFFER,it),this.current=it,this.dirty=!1}}class Wl extends or{getDefault(){return null}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;ct.bindRenderbuffer(ct.RENDERBUFFER,it),this.current=it,this.dirty=!1}}class Nu extends or{getDefault(){return null}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;ct.bindTexture(ct.TEXTURE_2D,it),this.current=it,this.dirty=!1}}class xs extends or{getDefault(){return null}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;ct.bindBuffer(ct.ARRAY_BUFFER,it),this.current=it,this.dirty=!1}}class zl extends or{getDefault(){return null}set(it){const ct=this.gl;ct.bindBuffer(ct.ELEMENT_ARRAY_BUFFER,it),this.current=it,this.dirty=!1}}class Mr extends or{constructor(it){super(it),this.vao=it.extVertexArrayObject}getDefault(){return null}set(it){this.vao&&(it!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(it),this.current=it,this.dirty=!1)}}class mn extends or{getDefault(){return 4}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;ct.pixelStorei(ct.UNPACK_ALIGNMENT,it),this.current=it,this.dirty=!1}}class bn extends or{getDefault(){return!1}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;ct.pixelStorei(ct.UNPACK_PREMULTIPLY_ALPHA_WEBGL,it),this.current=it,this.dirty=!1}}class An extends or{getDefault(){return!1}set(it){if(it===this.current&&!this.dirty)return;const ct=this.gl;ct.pixelStorei(ct.UNPACK_FLIP_Y_WEBGL,it),this.current=it,this.dirty=!1}}class ir extends or{constructor(it,ct){super(it),this.context=it,this.parent=ct}getDefault(){return null}}class cr extends ir{setDirty(){this.dirty=!0}set(it){if(it===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const ct=this.gl;ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_2D,it,0),this.current=it,this.dirty=!1}}class Nr extends ir{attachment(){return this.gl.DEPTH_ATTACHMENT}set(it){if(it===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const ct=this.gl;ct.framebufferRenderbuffer(ct.FRAMEBUFFER,this.attachment(),ct.RENDERBUFFER,it),this.current=it,this.dirty=!1}}class Jr extends Nr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Qn{constructor(it,ct,pt,vt){this.context=it,this.width=ct,this.height=pt;const Rt=this.framebuffer=it.gl.createFramebuffer();this.colorAttachment=new cr(it,Rt),vt&&(this.depthAttachment=new Nr(it,Rt))}destroy(){const it=this.context.gl,ct=this.colorAttachment.get();if(ct&&it.deleteTexture(ct),this.depthAttachment){const pt=this.depthAttachment.get();pt&&it.deleteRenderbuffer(pt)}it.deleteFramebuffer(this.framebuffer)}}class qt{constructor(it){this.gl=it,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Rr(this),this.clearDepth=new ao(this),this.clearStencil=new Vo(this),this.colorMask=new bo(this),this.depthMask=new Po(this),this.stencilMask=new _o(this),this.stencilFunc=new Qo(this),this.stencilOp=new zo(this),this.stencilTest=new Ao(this),this.depthRange=new qo(this),this.depthTest=new Do(this),this.depthFunc=new ws(this),this.blend=new Wo(this),this.blendFunc=new Fl(this),this.blendColor=new ys(this),this.blendEquation=new Ys(this),this.cullFace=new ss(this),this.cullFaceSide=new su(this),this.frontFace=new Xs(this),this.program=new _l(this),this.activeTexture=new tp(this),this.viewport=new Uu(this),this.bindFramebuffer=new Su(this),this.bindRenderbuffer=new Wl(this),this.bindTexture=new Nu(this),this.bindVertexBuffer=new xs(this),this.bindElementBuffer=new zl(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Mr(this),this.pixelStoreUnpack=new mn(this),this.pixelStoreUnpackPremultiplyAlpha=new bn(this),this.pixelStoreUnpackFlipY=new An(this),this.extTextureFilterAnisotropic=it.getExtension("EXT_texture_filter_anisotropic")||it.getExtension("MOZ_EXT_texture_filter_anisotropic")||it.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=it.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=it.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=it.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=it.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=it.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(it.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=it.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=it.getExtension("OES_standard_derivatives"),this.extTimerQuery=it.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=it.getParameter(it.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(it,ct){return new Dn(this,it,ct)}createVertexBuffer(it,ct,pt){return new Xn(this,it,ct,pt)}createRenderbuffer(it,ct,pt){const vt=this.gl,Rt=vt.createRenderbuffer();return this.bindRenderbuffer.set(Rt),vt.renderbufferStorage(vt.RENDERBUFFER,it,ct,pt),this.bindRenderbuffer.set(null),Rt}createFramebuffer(it,ct,pt){return new Qn(this,it,ct,pt)}clear({color:it,depth:ct,stencil:pt}){const vt=this.gl;let Rt=0;it&&(Rt|=vt.COLOR_BUFFER_BIT,this.clearColor.set(it),this.colorMask.set([!0,!0,!0,!0])),ct!==void 0&&(Rt|=vt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ct),this.depthMask.set(!0)),pt!==void 0&&(Rt|=vt.STENCIL_BUFFER_BIT,this.clearStencil.set(pt),this.stencilMask.set(255)),vt.clear(Rt)}setCullFace(it){it.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(it.mode),this.frontFace.set(it.frontFace))}setDepthMode(it){it.func!==this.gl.ALWAYS||it.mask?(this.depthTest.set(!0),this.depthFunc.set(it.func),this.depthMask.set(it.mask),this.depthRange.set(it.range)):this.depthTest.set(!1)}setStencilMode(it){it.test.func!==this.gl.ALWAYS||it.mask?(this.stencilTest.set(!0),this.stencilMask.set(it.mask),this.stencilOp.set([it.fail,it.depthFail,it.pass]),this.stencilFunc.set({func:it.test.func,ref:it.ref,mask:it.test.mask})):this.stencilTest.set(!1)}setColorMode(it){st(it.blendFunction,j.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(it.blendFunction),this.blendColor.set(it.blendColor)),this.colorMask.set(it.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class rn extends j.Evented{constructor(it,ct,pt,vt){super(),this.id=it,this.dispatcher=pt,this.setEventedParent(vt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=j.extend({type:"raster"},ct),j.extend(this,j.pick(ct,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ht(this._options,this.map._requestManager,null,null,(it,ct)=>{this._tileJSONRequest=null,this._loaded=!0,it?this.fire(new j.ErrorEvent(it)):ct&&(j.extend(this,ct),ct.bounds&&(this.tileBounds=new _n(ct.bounds,this.minzoom,this.maxzoom)),j.postTurnstileEvent(ct.tiles),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(it){this.map=it,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return j.extend({},this._options)}hasTile(it){return!this.tileBounds||this.tileBounds.contains(it.canonical)}loadTile(it,ct){const pt=j.exported.devicePixelRatio>=2,vt=this.map._requestManager.normalizeTileURL(it.tileID.canonical.url(this.tiles,this.scheme),pt,this.tileSize);it.request=j.getImage(this.map._requestManager.transformRequest(vt,j.ResourceType.Tile),(Rt,kt,Lt,Zt)=>(delete it.request,it.aborted?(it.state="unloaded",ct(null)):Rt?(it.state="errored",ct(Rt)):kt?(this.map._refreshExpiredTiles&&it.setExpiryData({cacheControl:Lt,expires:Zt}),it.setTexture(kt,this.map.painter),it.state="loaded",j.cacheEntryPossiblyAdded(this.dispatcher),void ct(null)):ct(null)))}static loadTileData(it,ct,pt){it.setTexture(ct,pt)}static unloadTileData(it,ct){it.texture&&ct.saveTileTexture(it.texture)}abortTile(it,ct){it.request&&(it.request.cancel(),delete it.request),ct()}unloadTile(it,ct){it.texture&&this.map.painter.saveTileTexture(it.texture),ct()}hasTransition(){return!1}}let Cn;function Gn(ht,it,ct,pt,vt,Rt,kt,Lt){const Zt=[ht,ct,vt,it,pt,Rt,1,1,1],en=[kt,Lt,1],fn=j.adjoint([],Zt),[Bn,kn,Pn]=j.transformMat3(en,en,j.transpose(fn,fn));return j.multiply$1(Zt,[Bn,0,0,0,kn,0,0,0,Pn],Zt)}class er extends j.Evented{constructor(it,ct,pt,vt){super(),this.id=it,this.dispatcher=pt,this.coordinates=ct.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(vt),this.options=ct,this._dirty=!1}load(it,ct){this._loaded=ct||!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=j.getImage(this.map._requestManager.transformRequest(this.url,j.ResourceType.Image),(pt,vt)=>{if(this._imageRequest=null,this._loaded=!0,pt)this.fire(new j.ErrorEvent(pt));else if(vt){const{HTMLImageElement:Rt}=j.window;this.image=vt instanceof Rt?j.exported.getImageData(vt):vt,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,it&&(this.coordinates=it),this._finishLoading()}})}loaded(){return this._loaded}updateImage(it){return this.image&&it.url?(this._imageRequest&&it.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=it.url,this.load(it.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(it){this.map=it,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(it){this.coordinates=it,this._boundsArray=void 0;const ct=it.map(j.MercatorCoordinate.fromLngLat);return this.tileID=function(pt){let vt=1/0,Rt=1/0,kt=-1/0,Lt=-1/0;for(const Bn of pt)vt=Math.min(vt,Bn.x),Rt=Math.min(Rt,Bn.y),kt=Math.max(kt,Bn.x),Lt=Math.max(Lt,Bn.y);const Zt=Math.max(kt-vt,Lt-Rt),en=Math.max(0,Math.floor(-Math.log(Zt)/Math.LN2)),fn=Math.pow(2,en);return new j.CanonicalTileID(en,Math.floor((vt+kt)/2*fn),Math.floor((Rt+Lt)/2*fn))}(ct),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(it){for(const Zt in this.tiles){const en=this.tiles[Zt];en.state!=="loaded"&&(en.state="loaded",en.texture=this.texture)}if(this._boundsArray)return;const ct=j.tileTransform(this.tileID,this.map.transform.projection),[pt,vt,Rt,kt]=this.coordinates.map(Zt=>{const en=ct.projection.project(Zt[0],Zt[1]);return j.getTilePoint(ct,en)._round()});this.perspectiveTransform=function(Zt,en,fn,Bn,kn,Pn,Jn,zn,Nn,Vn){const Hn=Gn(0,0,Zt,0,0,en,Zt,en),On=Gn(fn,Bn,kn,Pn,Jn,zn,Nn,Vn);return j.multiply$1(On,j.adjoint(Hn,Hn),On),[On[6]/On[8]*Zt/j.EXTENT,On[7]/On[8]*en/j.EXTENT]}(this.width,this.height,pt.x,pt.y,vt.x,vt.y,kt.x,kt.y,Rt.x,Rt.y);const Lt=this._boundsArray=new j.StructArrayLayout4i8;Lt.emplaceBack(pt.x,pt.y,0,0),Lt.emplaceBack(vt.x,vt.y,j.EXTENT,0),Lt.emplaceBack(kt.x,kt.y,0,j.EXTENT),Lt.emplaceBack(Rt.x,Rt.y,j.EXTENT,j.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=it.createVertexBuffer(Lt,j.boundsAttributes.members),this.boundsSegments=j.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const it=this.map.painter.context,ct=it.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new j.Texture(it,this.image,ct.RGBA),this.texture.bind(ct.LINEAR,ct.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(it)}loadTile(it,ct){this.tileID&&this.tileID.equals(it.tileID.canonical)?(this.tiles[String(it.tileID.wrap)]=it,it.buckets={},ct(null)):(it.state="errored",ct(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const pr={vector:class extends j.Evented{constructor(ht,it,ct,pt){if(super(),this.id=ht,this.dispatcher=ct,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,j.extend(this,j.pick(it,["url","scheme","tileSize","promoteId"])),this._options=j.extend({type:"vector"},it),this._collectResourceTiming=it.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(pt),this._tileWorkers={},this._deduped=new j.DedupedRequest}load(ht){this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"}));const it=Array.isArray(this.map._language)?this.map._language.join():this.map._language,ct=this.map._worldview;this._tileJSONRequest=Ht(this._options,this.map._requestManager,it,ct,(pt,vt)=>{this._tileJSONRequest=null,this._loaded=!0,pt?(it&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${it}`),ct&&ct.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${ct}`),this.fire(new j.ErrorEvent(pt))):vt&&(j.extend(this,vt),vt.bounds&&(this.tileBounds=new _n(vt.bounds,this.minzoom,this.maxzoom)),j.postTurnstileEvent(vt.tiles,this.map._requestManager._customAccessToken),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))),ht&&ht(pt)})}loaded(){return this._loaded}hasTile(ht){return!this.tileBounds||this.tileBounds.contains(ht.canonical)}onAdd(ht){this.map=ht,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const ht=this.map.style._getSourceCaches(this.id);for(const it of ht)it.clearTiles()})}setSourceProperty(ht){ht(),this.reload()}setTiles(ht){return this._options.tiles=ht,this.reload(),this}setUrl(ht){return this.url=ht,this._options.url=ht,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return j.extend({},this._options)}loadTile(ht,it){const ct=this.map._requestManager.normalizeTileURL(ht.tileID.canonical.url(this.tiles,this.scheme)),pt={request:this.map._requestManager.transformRequest(ct,j.ResourceType.Tile),data:void 0,uid:ht.uid,tileID:ht.tileID,tileZoom:ht.tileZoom,zoom:ht.tileID.overscaledZ,tileSize:this.tileSize*ht.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:j.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:ht.isSymbolTile};if(pt.request.collectResourceTiming=this._collectResourceTiming,ht.actor&&ht.state!=="expired")ht.state==="loading"?ht.reloadCallback=it:ht.request=ht.actor.send("reloadTile",pt,vt.bind(this));else if(ht.actor=this._tileWorkers[ct]=this._tileWorkers[ct]||this.dispatcher.getActor(),this.dispatcher.ready)ht.request=ht.actor.send("loadTile",pt,vt.bind(this),void 0,!0);else{const Rt=j.loadVectorTile.call({deduped:this._deduped},pt,(kt,Lt)=>{kt||!Lt?vt.call(this,kt):(pt.data={cacheControl:Lt.cacheControl,expires:Lt.expires,rawData:Lt.rawData.slice(0)},ht.actor&&ht.actor.send("loadTile",pt,vt.bind(this),void 0,!0))},!0);ht.request={cancel:Rt}}function vt(Rt,kt){return delete ht.request,ht.aborted?it(null):Rt&&Rt.status!==404?it(Rt):(kt&&kt.resourceTiming&&(ht.resourceTiming=kt.resourceTiming),this.map._refreshExpiredTiles&&kt&&ht.setExpiryData(kt),ht.loadVectorData(kt,this.map.painter),j.cacheEntryPossiblyAdded(this.dispatcher),it(null),void(ht.reloadCallback&&(this.loadTile(ht,ht.reloadCallback),ht.reloadCallback=null)))}}abortTile(ht){ht.request&&(ht.request.cancel(),delete ht.request),ht.actor&&ht.actor.send("abortTile",{uid:ht.uid,type:this.type,source:this.id})}unloadTile(ht){ht.unloadVectorData(),ht.actor&&ht.actor.send("removeTile",{uid:ht.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:rn,"raster-dem":class extends rn{constructor(ht,it,ct,pt){super(ht,it,ct,pt),this.type="raster-dem",this.maxzoom=22,this._options=j.extend({type:"raster-dem"},it),this.encoding=it.encoding||"mapbox"}loadTile(ht,it){const ct=this.map._requestManager.normalizeTileURL(ht.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function pt(vt,Rt){vt&&(ht.state="errored",it(vt)),Rt&&(ht.dem=Rt,ht.dem.onDeserialize(),ht.needsHillshadePrepare=!0,ht.needsDEMTextureUpload=!0,ht.state="loaded",it(null))}ht.request=j.getImage(this.map._requestManager.transformRequest(ct,j.ResourceType.Tile),function(vt,Rt,kt,Lt){if(delete ht.request,ht.aborted)ht.state="unloaded",it(null);else if(vt)ht.state="errored",it(vt);else if(Rt){this.map._refreshExpiredTiles&&ht.setExpiryData({cacheControl:kt,expires:Lt});const Zt=j.window.ImageBitmap&&Rt instanceof j.window.ImageBitmap&&(Cn==null&&(Cn=j.window.OffscreenCanvas&&new j.window.OffscreenCanvas(1,1).getContext("2d")&&typeof j.window.createImageBitmap=="function"),Cn),en=1-(Rt.width-j.prevPowerOfTwo(Rt.width))/2;en<1||ht.neighboringTiles||(ht.neighboringTiles=this._getNeighboringTiles(ht.tileID));const fn=Zt?Rt:j.exported.getImageData(Rt,en),Bn={uid:ht.uid,coord:ht.tileID,source:this.id,rawImageData:fn,encoding:this.encoding,padding:en};ht.actor&&ht.state!=="expired"||(ht.actor=this.dispatcher.getActor(),ht.actor.send("loadDEMTile",Bn,pt.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(ht){const it=ht.canonical,ct=Math.pow(2,it.z),pt=(it.x-1+ct)%ct,vt=it.x===0?ht.wrap-1:ht.wrap,Rt=(it.x+1+ct)%ct,kt=it.x+1===ct?ht.wrap+1:ht.wrap,Lt={};return Lt[new j.OverscaledTileID(ht.overscaledZ,vt,it.z,pt,it.y).key]={backfilled:!1},Lt[new j.OverscaledTileID(ht.overscaledZ,kt,it.z,Rt,it.y).key]={backfilled:!1},it.y>0&&(Lt[new j.OverscaledTileID(ht.overscaledZ,vt,it.z,pt,it.y-1).key]={backfilled:!1},Lt[new j.OverscaledTileID(ht.overscaledZ,ht.wrap,it.z,it.x,it.y-1).key]={backfilled:!1},Lt[new j.OverscaledTileID(ht.overscaledZ,kt,it.z,Rt,it.y-1).key]={backfilled:!1}),it.y+1<ct&&(Lt[new j.OverscaledTileID(ht.overscaledZ,vt,it.z,pt,it.y+1).key]={backfilled:!1},Lt[new j.OverscaledTileID(ht.overscaledZ,ht.wrap,it.z,it.x,it.y+1).key]={backfilled:!1},Lt[new j.OverscaledTileID(ht.overscaledZ,kt,it.z,Rt,it.y+1).key]={backfilled:!1}),Lt}unloadTile(ht){ht.demTexture&&this.map.painter.saveTileTexture(ht.demTexture),ht.fbo&&(ht.fbo.destroy(),delete ht.fbo),ht.dem&&delete ht.dem,delete ht.neighboringTiles,ht.state="unloaded"}},geojson:class extends j.Evented{constructor(ht,it,ct,pt){super(),this.id=ht,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=ct.getActor(),this.setEventedParent(pt),this._data=it.data,this._options=j.extend({},it),this._collectResourceTiming=it.collectResourceTiming,it.maxzoom!==void 0&&(this.maxzoom=it.maxzoom),it.type&&(this.type=it.type),it.attribution&&(this.attribution=it.attribution),this.promoteId=it.promoteId;const vt=j.EXTENT/this.tileSize;this.workerOptions=j.extend({source:this.id,cluster:it.cluster||!1,geojsonVtOptions:{buffer:(it.buffer!==void 0?it.buffer:128)*vt,tolerance:(it.tolerance!==void 0?it.tolerance:.375)*vt,extent:j.EXTENT,maxZoom:this.maxzoom,lineMetrics:it.lineMetrics||!1,generateId:it.generateId||!1},superclusterOptions:{maxZoom:it.clusterMaxZoom!==void 0?it.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,it.clusterMinPoints||2),extent:j.EXTENT,radius:(it.clusterRadius!==void 0?it.clusterRadius:50)*vt,log:!1,generateId:it.generateId||!1},clusterProperties:it.clusterProperties,filter:it.filter},it.workerOptions)}onAdd(ht){this.map=ht,this.setData(this._data)}setData(ht){return this._data=ht,this._updateWorkerData(),this}getClusterExpansionZoom(ht,it){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ht,source:this.id},it),this}getClusterChildren(ht,it){return this.actor.send("geojson.getClusterChildren",{clusterId:ht,source:this.id},it),this}getClusterLeaves(ht,it,ct,pt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ht,limit:it,offset:ct},pt),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new j.Event("dataloading",{dataType:"source"})),this._loaded=!1;const ht=j.extend({},this.workerOptions),it=this._data;typeof it=="string"?(ht.request=this.map._requestManager.transformRequest(j.exported.resolveURL(it),j.ResourceType.Source),ht.request.collectResourceTiming=this._collectResourceTiming):ht.data=JSON.stringify(it),this._pendingLoad=this.actor.send(`${this.type}.loadData`,ht,(ct,pt)=>{if(this._loaded=!0,this._pendingLoad=null,ct)this.fire(new j.ErrorEvent(ct));else{const vt={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&pt&&pt.resourceTiming&&pt.resourceTiming[this.id]&&(vt.resourceTiming=pt.resourceTiming[this.id]),this.fire(new j.Event("data",vt)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(ht,it){const ct=ht.actor?"reloadTile":"loadTile";ht.actor=this.actor,ht.request=this.actor.send(ct,{type:this.type,uid:ht.uid,tileID:ht.tileID,tileZoom:ht.tileZoom,zoom:ht.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:j.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(pt,vt)=>(delete ht.request,ht.unloadVectorData(),ht.aborted?it(null):pt?it(pt):(ht.loadVectorData(vt,this.map.painter,ct==="reloadTile"),it(null))),void 0,ct==="loadTile")}abortTile(ht){ht.request&&(ht.request.cancel(),delete ht.request),ht.aborted=!0}unloadTile(ht){ht.unloadVectorData(),this.actor.send("removeTile",{uid:ht.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return j.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends er{constructor(ht,it,ct,pt){super(ht,it,ct,pt),this.roundZoom=!0,this.type="video",this.options=it}load(){this._loaded=!1;const ht=this.options;this.urls=[];for(const it of ht.urls)this.urls.push(this.map._requestManager.transformRequest(it,j.ResourceType.Source).url);j.getVideo(this.urls,(it,ct)=>{this._loaded=!0,it?this.fire(new j.ErrorEvent(it)):ct&&(this.video=ct,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(ht){if(this.video){const it=this.video.seekable;ht<it.start(0)||ht>it.end(0)?this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${it.start(0)} and ${it.end(0)}-second mark.`))):this.video.currentTime=ht}}getVideo(){return this.video}onAdd(ht){this.map||(this.map=ht,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const ht=this.map.painter.context,it=ht.gl;this.texture?this.video.paused||(this.texture.bind(it.LINEAR,it.CLAMP_TO_EDGE),it.texSubImage2D(it.TEXTURE_2D,0,0,0,it.RGBA,it.UNSIGNED_BYTE,this.video)):(this.texture=new j.Texture(ht,this.video,it.RGBA),this.texture.bind(it.LINEAR,it.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(ht)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:er,canvas:class extends er{constructor(ht,it,ct,pt){super(ht,it,ct,pt),it.coordinates?Array.isArray(it.coordinates)&&it.coordinates.length===4&&!it.coordinates.some(vt=>!Array.isArray(vt)||vt.length!==2||vt.some(Rt=>typeof Rt!="number"))||this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${ht}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${ht}`,null,'missing required property "coordinates"'))),it.animate&&typeof it.animate!="boolean"&&this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${ht}`,null,'optional "animate" property must be a boolean value'))),it.canvas?typeof it.canvas=="string"||it.canvas instanceof j.window.HTMLCanvasElement||this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${ht}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${ht}`,null,'missing required property "canvas"'))),this.options=it,this.animate=it.animate===void 0||it.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof j.window.HTMLCanvasElement?this.options.canvas:j.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new j.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(ht){this.map=ht,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let ht=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ht=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ht=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const it=this.map.painter.context;this.texture?(ht||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new j.Texture(it,this.canvas,it.gl.RGBA,{premultiply:!0}),this._prepareData(it)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const ht of[this.canvas.width,this.canvas.height])if(isNaN(ht)||ht<=0)return!0;return!1}},custom:class extends j.Evented{constructor(ht,it,ct,pt){super(),this.id=ht,this.type="custom",this._dataType="raster",this._dispatcher=ct,this._implementation=it,this.setEventedParent(pt),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new j.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new j.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new _n(this._implementation.bounds,this.minzoom,this.maxzoom)),it.update=this._update.bind(this),it.clearTiles=this._clearTiles.bind(this),it.coveringTiles=this._coveringTiles.bind(this),j.extend(this,j.pick(it,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return j.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(ht){this._map=ht,this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(ht),this.load()}onRemove(ht){this._implementation.onRemove&&this._implementation.onRemove(ht)}hasTile(ht){if(this._implementation.hasTile){const{x:it,y:ct,z:pt}=ht.canonical;return this._implementation.hasTile({x:it,y:ct,z:pt})}return!this.tileBounds||this.tileBounds.contains(ht.canonical)}loadTile(ht,it){const{x:ct,y:pt,z:vt}=ht.tileID.canonical,Rt=new j.window.AbortController;ht.request=Promise.resolve(this._implementation.loadTile({x:ct,y:pt,z:vt},{signal:Rt.signal})).then(function(kt){return delete ht.request,ht.aborted?(ht.state="unloaded",it(null)):kt===void 0?(ht.state="errored",it(null)):kt===null?(this.loadTileData(ht,{width:this.tileSize,height:this.tileSize,data:null}),ht.state="loaded",it(null)):function(Lt){return Lt instanceof j.window.ImageData||Lt instanceof j.window.HTMLCanvasElement||Lt instanceof j.window.ImageBitmap||Lt instanceof j.window.HTMLImageElement}(kt)?(this.loadTileData(ht,kt),ht.state="loaded",void it(null)):(ht.state="errored",it(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(kt=>{kt.code!==20&&(ht.state="errored",it(kt))}),ht.request.cancel=()=>Rt.abort()}loadTileData(ht,it){rn.loadTileData(ht,it,this._map.painter)}unloadTileData(ht){rn.unloadTileData(ht,this._map.painter)}unloadTile(ht,it){if(this.unloadTileData(ht),this._implementation.unloadTile){const{x:ct,y:pt,z:vt}=ht.tileID.canonical;this._implementation.unloadTile({x:ct,y:pt,z:vt})}it()}abortTile(ht,it){ht.request&&ht.request.cancel&&(ht.request.cancel(),delete ht.request),it()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(ht=>({x:ht.canonical.x,y:ht.canonical.y,z:ht.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))}}},yr=function(ht,it,ct,pt){const vt=new pr[it.type](ht,it,ct,pt);if(vt.id!==ht)throw new Error(`Expected Source id to be ${ht} instead of ${vt.id}`);return j.bindAll(["load","abort","unload","serialize","prepare"],vt),vt};function hr(ht,it){const ct=j.identity([]);return j.scale(ct,ct,[.5*ht.width,.5*-ht.height,1]),j.translate(ct,ct,[1,-1,0]),j.multiply(ct,ct,ht.calculateProjMatrix(it.toUnwrapped())),Float32Array.from(ct)}function Fr(ht,it,ct,pt,vt,Rt,kt,Lt=!1){const Zt=ht.tilesIn(pt,kt,Lt);Zt.sort(Xr);const en=[];for(const Bn of Zt)en.push({wrappedTileID:Bn.tile.tileID.wrapped().key,queryResults:Bn.tile.queryRenderedFeatures(it,ct,ht._state,Bn,vt,Rt,hr(ht.transform,Bn.tile.tileID),Lt)});const fn=function(Bn){const kn={},Pn={};for(const Jn of Bn){const zn=Jn.queryResults,Nn=Jn.wrappedTileID,Vn=Pn[Nn]=Pn[Nn]||{};for(const Hn in zn){const On=zn[Hn],tr=Vn[Hn]=Vn[Hn]||{},sr=kn[Hn]=kn[Hn]||[];for(const $n of On)tr[$n.featureIndex]||(tr[$n.featureIndex]=!0,sr.push($n))}}return kn}(en);for(const Bn in fn)fn[Bn].forEach(kn=>{const Pn=kn.feature,Jn=Pn.layer;Jn&&Jn.type!=="background"&&Jn.type!=="sky"&&(Pn.source=Jn.source,Jn["source-layer"]&&(Pn.sourceLayer=Jn["source-layer"]),Pn.state=Pn.id!==void 0?ht.getFeatureState(Jn["source-layer"],Pn.id):{})});return fn}function kr(ht,it){const ct=ht.getRenderableIds().map(Rt=>ht.getTileByID(Rt)),pt=[],vt={};for(let Rt=0;Rt<ct.length;Rt++){const kt=ct[Rt],Lt=kt.tileID.canonical.key;vt[Lt]||(vt[Lt]=!0,kt.querySourceFeatures(pt,it))}return pt}function Xr(ht,it){const ct=ht.tileID,pt=it.tileID;return ct.overscaledZ-pt.overscaledZ||ct.canonical.y-pt.canonical.y||ct.wrap-pt.wrap||ct.canonical.x-pt.canonical.x}function Lr(){return ly.workerClass!=null?new ly.workerClass:new j.window.Worker(ly.workerUrl)}const Fo="mapboxgl_preloaded_worker_pool";class Uo{constructor(){this.active={}}acquire(it){if(!this.workers)for(this.workers=[];this.workers.length<Uo.workerCount;)this.workers.push(new Lr);return this.active[it]=!0,this.workers.slice()}release(it){delete this.active[it],this.numActive()===0&&(this.workers.forEach(ct=>{ct.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Fo]}numActive(){return Object.keys(this.active).length}}let mo;function wo(){return mo||(mo=new Uo),mo}function Oo(ht,it){const ct={};for(const pt in ht)pt!=="ref"&&(ct[pt]=ht[pt]);return j.refProperties.forEach(pt=>{pt in it&&(ct[pt]=it[pt])}),ct}function ls(ht){ht=ht.slice();const it=Object.create(null);for(let ct=0;ct<ht.length;ct++)it[ht[ct].id]=ht[ct];for(let ct=0;ct<ht.length;ct++)"ref"in ht[ct]&&(ht[ct]=Oo(ht[ct],it[ht[ct].ref]));return ht}Uo.workerCount=2;const Bo={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Rs(ht,it,ct){ct.push({command:Bo.addSource,args:[ht,it[ht]]})}function Fs(ht,it,ct){it.push({command:Bo.removeSource,args:[ht]}),ct[ht]=!0}function np(ht,it,ct,pt){Fs(ht,ct,pt),Rs(ht,it,ct)}function Mu(ht,it,ct){let pt;for(pt in ht[ct])if(ht[ct].hasOwnProperty(pt)&&pt!=="data"&&!st(ht[ct][pt],it[ct][pt]))return!1;for(pt in it[ct])if(it[ct].hasOwnProperty(pt)&&pt!=="data"&&!st(ht[ct][pt],it[ct][pt]))return!1;return!0}function Dr(ht,it,ct,pt,vt,Rt){let kt;for(kt in it=it||{},ht=ht||{})ht.hasOwnProperty(kt)&&(st(ht[kt],it[kt])||ct.push({command:Rt,args:[pt,kt,it[kt],vt]}));for(kt in it)it.hasOwnProperty(kt)&&!ht.hasOwnProperty(kt)&&(st(ht[kt],it[kt])||ct.push({command:Rt,args:[pt,kt,it[kt],vt]}))}function Gl(ht){return ht.id}function na(ht,it){return ht[it.id]=it,ht}class Du{constructor(it,ct){this.reset(it,ct)}reset(it,ct){this.points=it||[],this._distances=[0];for(let pt=1;pt<this.points.length;pt++)this._distances[pt]=this._distances[pt-1]+this.points[pt].dist(this.points[pt-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ct||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(it){if(this.points.length===1)return this.points[0];it=j.clamp(it,0,1);let ct=1,pt=this._distances[ct];const vt=it*this.paddedLength+this.padding;for(;pt<vt&&ct<this._distances.length;)pt=this._distances[++ct];const Rt=ct-1,kt=this._distances[Rt],Lt=pt-kt,Zt=Lt>0?(vt-kt)/Lt:0;return this.points[Rt].mult(1-Zt).add(this.points[ct].mult(Zt))}}class Dp{constructor(it,ct,pt){const vt=this.boxCells=[],Rt=this.circleCells=[];this.xCellCount=Math.ceil(it/pt),this.yCellCount=Math.ceil(ct/pt);for(let kt=0;kt<this.xCellCount*this.yCellCount;kt++)vt.push([]),Rt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=it,this.height=ct,this.xScale=this.xCellCount/it,this.yScale=this.yCellCount/ct,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(it,ct,pt,vt,Rt){this._forEachCell(ct,pt,vt,Rt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(it),this.bboxes.push(ct),this.bboxes.push(pt),this.bboxes.push(vt),this.bboxes.push(Rt)}insertCircle(it,ct,pt,vt){this._forEachCell(ct-vt,pt-vt,ct+vt,pt+vt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(it),this.circles.push(ct),this.circles.push(pt),this.circles.push(vt)}_insertBoxCell(it,ct,pt,vt,Rt,kt){this.boxCells[Rt].push(kt)}_insertCircleCell(it,ct,pt,vt,Rt,kt){this.circleCells[Rt].push(kt)}_query(it,ct,pt,vt,Rt,kt){if(pt<0||it>this.width||vt<0||ct>this.height)return!Rt&&[];const Lt=[];if(it<=0&&ct<=0&&this.width<=pt&&this.height<=vt){if(Rt)return!0;for(let Zt=0;Zt<this.boxKeys.length;Zt++)Lt.push({key:this.boxKeys[Zt],x1:this.bboxes[4*Zt],y1:this.bboxes[4*Zt+1],x2:this.bboxes[4*Zt+2],y2:this.bboxes[4*Zt+3]});for(let Zt=0;Zt<this.circleKeys.length;Zt++){const en=this.circles[3*Zt],fn=this.circles[3*Zt+1],Bn=this.circles[3*Zt+2];Lt.push({key:this.circleKeys[Zt],x1:en-Bn,y1:fn-Bn,x2:en+Bn,y2:fn+Bn})}return kt?Lt.filter(kt):Lt}return this._forEachCell(it,ct,pt,vt,this._queryCell,Lt,{hitTest:Rt,seenUids:{box:{},circle:{}}},kt),Rt?Lt.length>0:Lt}_queryCircle(it,ct,pt,vt,Rt){const kt=it-pt,Lt=it+pt,Zt=ct-pt,en=ct+pt;if(Lt<0||kt>this.width||en<0||Zt>this.height)return!vt&&[];const fn=[];return this._forEachCell(kt,Zt,Lt,en,this._queryCellCircle,fn,{hitTest:vt,circle:{x:it,y:ct,radius:pt},seenUids:{box:{},circle:{}}},Rt),vt?fn.length>0:fn}query(it,ct,pt,vt,Rt){return this._query(it,ct,pt,vt,!1,Rt)}hitTest(it,ct,pt,vt,Rt){return this._query(it,ct,pt,vt,!0,Rt)}hitTestCircle(it,ct,pt,vt){return this._queryCircle(it,ct,pt,!0,vt)}_queryCell(it,ct,pt,vt,Rt,kt,Lt,Zt){const en=Lt.seenUids,fn=this.boxCells[Rt];if(fn!==null){const kn=this.bboxes;for(const Pn of fn)if(!en.box[Pn]){en.box[Pn]=!0;const Jn=4*Pn;if(it<=kn[Jn+2]&&ct<=kn[Jn+3]&&pt>=kn[Jn+0]&&vt>=kn[Jn+1]&&(!Zt||Zt(this.boxKeys[Pn]))){if(Lt.hitTest)return kt.push(!0),!0;kt.push({key:this.boxKeys[Pn],x1:kn[Jn],y1:kn[Jn+1],x2:kn[Jn+2],y2:kn[Jn+3]})}}}const Bn=this.circleCells[Rt];if(Bn!==null){const kn=this.circles;for(const Pn of Bn)if(!en.circle[Pn]){en.circle[Pn]=!0;const Jn=3*Pn;if(this._circleAndRectCollide(kn[Jn],kn[Jn+1],kn[Jn+2],it,ct,pt,vt)&&(!Zt||Zt(this.circleKeys[Pn]))){if(Lt.hitTest)return kt.push(!0),!0;{const zn=kn[Jn],Nn=kn[Jn+1],Vn=kn[Jn+2];kt.push({key:this.circleKeys[Pn],x1:zn-Vn,y1:Nn-Vn,x2:zn+Vn,y2:Nn+Vn})}}}}}_queryCellCircle(it,ct,pt,vt,Rt,kt,Lt,Zt){const en=Lt.circle,fn=Lt.seenUids,Bn=this.boxCells[Rt];if(Bn!==null){const Pn=this.bboxes;for(const Jn of Bn)if(!fn.box[Jn]){fn.box[Jn]=!0;const zn=4*Jn;if(this._circleAndRectCollide(en.x,en.y,en.radius,Pn[zn+0],Pn[zn+1],Pn[zn+2],Pn[zn+3])&&(!Zt||Zt(this.boxKeys[Jn])))return kt.push(!0),!0}}const kn=this.circleCells[Rt];if(kn!==null){const Pn=this.circles;for(const Jn of kn)if(!fn.circle[Jn]){fn.circle[Jn]=!0;const zn=3*Jn;if(this._circlesCollide(Pn[zn],Pn[zn+1],Pn[zn+2],en.x,en.y,en.radius)&&(!Zt||Zt(this.circleKeys[Jn])))return kt.push(!0),!0}}}_forEachCell(it,ct,pt,vt,Rt,kt,Lt,Zt){const en=this._convertToXCellCoord(it),fn=this._convertToYCellCoord(ct),Bn=this._convertToXCellCoord(pt),kn=this._convertToYCellCoord(vt);for(let Pn=en;Pn<=Bn;Pn++)for(let Jn=fn;Jn<=kn;Jn++)if(Rt.call(this,it,ct,pt,vt,this.xCellCount*Jn+Pn,kt,Lt,Zt))return}_convertToXCellCoord(it){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(it*this.xScale)))}_convertToYCellCoord(it){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(it*this.yScale)))}_circlesCollide(it,ct,pt,vt,Rt,kt){const Lt=vt-it,Zt=Rt-ct,en=pt+kt;return en*en>Lt*Lt+Zt*Zt}_circleAndRectCollide(it,ct,pt,vt,Rt,kt,Lt){const Zt=(kt-vt)/2,en=Math.abs(it-(vt+Zt));if(en>Zt+pt)return!1;const fn=(Lt-Rt)/2,Bn=Math.abs(ct-(Rt+fn));if(Bn>fn+pt)return!1;if(en<=Zt||Bn<=fn)return!0;const kn=en-Zt,Pn=Bn-fn;return kn*kn+Pn*Pn<=pt*pt}}const Iu=Math.tan(85*Math.PI/180);function au(ht,it,ct,pt,vt,Rt,kt){const Lt=j.create();if(ct)if(Rt.name==="globe"){const Zt=j.calculateGlobeLabelMatrix(vt,it);j.multiply(Lt,Lt,Zt)}else{const Zt=Ct([],kt);Lt[0]=Zt[0],Lt[1]=Zt[1],Lt[4]=Zt[2],Lt[5]=Zt[3],pt||j.rotateZ(Lt,Lt,vt.angle)}else j.multiply(Lt,vt.labelPlaneMatrix,ht);return Lt}function M0(ht,it,ct,pt,vt,Rt,kt){const Lt=au(ht,it,ct,pt,vt,Rt,kt);return Rt.name==="globe"&&ct||(Lt[2]=Lt[6]=Lt[10]=Lt[14]=0),Lt}function Ip(ht,it,ct,pt,vt,Rt,kt){if(ct){if(Rt.name==="globe"){const Lt=au(ht,it,ct,pt,vt,Rt,kt);return j.invert(Lt,Lt),j.multiply(Lt,ht,Lt),Lt}{const Lt=j.clone(ht),Zt=j.identity([]);return Zt[0]=kt[0],Zt[1]=kt[1],Zt[4]=kt[2],Zt[5]=kt[3],j.multiply(Lt,Lt,Zt),pt||j.rotateZ(Lt,Lt,-vt.angle),Lt}}return vt.glCoordMatrix}function lo(ht,it,ct=0){const pt=[ht.x,ht.y,ct,1];ct?j.transformMat4$1(pt,pt,it):Lp(pt,pt,it);const vt=pt[3];return{point:[pt[0]/vt,pt[1]/vt,pt[2]/vt],signedDistanceFromCamera:vt}}function ns(ht,it){const ct=[ht[0],ht[1],ht[2],1];j.transformMat4$1(ct,ct,it);const pt=ct[3];return{point:[ct[0]/pt,ct[1]/pt,ct[2]/pt],signedDistanceFromCamera:pt}}function as(ht,it){return Math.min(.5+ht/it*.5,1.5)}function Ju(ht,it){const ct=ht[0]/ht[3],pt=ht[1]/ht[3];return ct>=-it[0]&&ct<=it[0]&&pt>=-it[1]&&pt<=it[1]}function Jp(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en){const fn=ct.transform,Bn=pt?ht.textSizeData:ht.iconSizeData,kn=j.evaluateSizeForZoom(Bn,ct.transform.zoom),Pn=fn.projection.name==="globe",Jn=[256/ct.width*2+1,256/ct.height*2+1],zn=pt?ht.text.dynamicLayoutVertexArray:ht.icon.dynamicLayoutVertexArray;zn.clear();let Nn=null;Pn&&(Nn=pt?ht.text.globeExtVertexArray:ht.icon.globeExtVertexArray);const Vn=ht.lineVertexArray,Hn=pt?ht.text.placedSymbolArray:ht.icon.placedSymbolArray,On=ct.transform.width/ct.transform.height;let tr=!1;for(let sr=0;sr<Hn.length;sr++){const $n=Hn.get(sr);if($n.writingMode!==j.WritingMode.vertical||tr||sr!==0&&Hn.get(sr-1).writingMode===j.WritingMode.horizontal||(tr=!0),($n.hidden||$n.writingMode===j.WritingMode.vertical)&&!tr){Bl($n.numGlyphs,zn);continue}tr=!1;const ur=new j.pointGeometry($n.tileAnchorX,$n.tileAnchorY),Ur=Zt?Zt(ur):[0,0,0],Tr=fn.projection.projectTilePoint(ur.x,ur.y,en.canonical),wr=[Tr.x+Ur[0],Tr.y+Ur[1],Tr.z+Ur[2]],qr=[...wr,1];if(j.transformMat4$1(qr,qr,it),!Ju(qr,Jn)){Bl($n.numGlyphs,zn);continue}const _r=as(ct.transform.cameraToCenterDistance,qr[3]),Pr=j.evaluateSizeForFeature(Bn,kn,$n),Zr=kt?Pr/_r:Pr*_r,Qr=lo(new j.pointGeometry(wr[0],wr[1]),vt,wr[2]);if(Qr.signedDistanceFromCamera<=0){Bl($n.numGlyphs,zn);continue}let gr={};const co=kt?null:Zt,no=Op($n,Zr,!1,Lt,it,vt,Rt,ht.glyphOffsetArray,Vn,zn,Nn,Qr.point,ur,gr,On,co,fn.projection,en,kt);tr=no.useVertical,co&&no.needsFlipping&&(gr={}),(no.notEnoughRoom||tr||no.needsFlipping&&Op($n,Zr,!0,Lt,it,vt,Rt,ht.glyphOffsetArray,Vn,zn,Nn,Qr.point,ur,gr,On,co,fn.projection,en,kt).notEnoughRoom)&&Bl($n.numGlyphs,zn)}pt?(ht.text.dynamicLayoutVertexBuffer.updateData(zn),Nn&&ht.text.globeExtVertexBuffer.updateData(Nn)):(ht.icon.dynamicLayoutVertexBuffer.updateData(zn),Nn&&ht.icon.globeExtVertexBuffer.updateData(Nn))}function es(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn){const Nn=Lt.glyphStartIndex+Lt.numGlyphs,Vn=Lt.lineStartIndex,Hn=Lt.lineStartIndex+Lt.lineLength,On=it.getoffsetX(Lt.glyphStartIndex),tr=it.getoffsetX(Nn-1),sr=vs(ht*On,ct,pt,vt,Rt,kt,Lt.segment,Vn,Hn,Zt,en,fn,Bn,kn,!0,Pn,Jn,zn);if(!sr)return null;const $n=vs(ht*tr,ct,pt,vt,Rt,kt,Lt.segment,Vn,Hn,Zt,en,fn,Bn,kn,!0,Pn,Jn,zn);return $n?{first:sr,last:$n}:null}function Wp(ht,it,ct,pt){return ht.writingMode===j.WritingMode.horizontal&&Math.abs(ct.y-it.y)>Math.abs(ct.x-it.x)*pt?{useVertical:!0}:ht.writingMode===j.WritingMode.vertical?it.y<ct.y?{needsFlipping:!0}:null:ht.flipState!==0&&function(vt,Rt,kt){const Lt=(Rt.x-vt.x)*kt;return Lt===0||Math.abs((Rt.y-vt.y)/Lt)>Iu}(it,ct,pt)?ht.flipState===1?{needsFlipping:!0}:null:it.x>ct.x?{needsFlipping:!0}:null}function Op(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn,Nn,Vn,Hn){const On=it/24,tr=ht.lineOffsetX*On,sr=ht.lineOffsetY*On;let $n=[];if(ht.numGlyphs>1){const ur=ht.glyphStartIndex+ht.numGlyphs,Ur=ht.lineStartIndex,Tr=ht.lineStartIndex+ht.lineLength,wr=es(On,Lt,tr,sr,ct,Bn,kn,ht,Zt,Rt,Pn,zn,!1,Nn,Vn,Hn);if(!wr)return{notEnoughRoom:!0};const qr=ns(wr.first.point,kt).point,_r=ns(wr.last.point,kt).point,Pr=new j.pointGeometry(qr[0],qr[1]),Zr=new j.pointGeometry(_r[0],_r[1]);if(pt&&!ct){const Qr=Wp(ht,Pr,Zr,Jn);if(ht.flipState=Qr&&Qr.needsFlipping?1:2,Qr)return Qr}$n=[wr.first];for(let Qr=ht.glyphStartIndex+1;Qr<ur-1;Qr++){const gr=vs(On*Lt.getoffsetX(Qr),tr,sr,ct,Bn,kn,ht.segment,Ur,Tr,Zt,Rt,Pn,zn,!1,!1,Nn,Vn,Hn);if(!gr)return{notEnoughRoom:!0};$n.push(gr)}$n.push(wr.last)}else{if(pt&&!ct){const Ur=lo(kn,vt).point,Tr=ht.lineStartIndex+ht.segment+1,wr=new j.pointGeometry(Zt.getx(Tr),Zt.gety(Tr)),qr=lo(wr,vt),_r=qr.signedDistanceFromCamera>0?qr.point:Yl(kn,wr,Ur,1,vt,void 0,Nn,Vn.canonical),Pr=Wp(ht,new j.pointGeometry(Ur[0],Ur[1]),new j.pointGeometry(_r[0],_r[1]),Jn);if(ht.flipState=Pr&&Pr.needsFlipping?1:2,Pr)return Pr}const ur=vs(On*Lt.getoffsetX(ht.glyphStartIndex),tr,sr,ct,Bn,kn,ht.segment,ht.lineStartIndex,ht.lineStartIndex+ht.lineLength,Zt,Rt,Pn,zn,!1,!1,Nn,Vn,Hn);if(!ur)return{notEnoughRoom:!0};$n=[ur]}if(fn)for(const ur of $n)j.updateGlobeVertexNormal(fn,en.length+0,ur.up[0],ur.up[1],ur.up[2]),j.updateGlobeVertexNormal(fn,en.length+1,ur.up[0],ur.up[1],ur.up[2]),j.updateGlobeVertexNormal(fn,en.length+2,ur.up[0],ur.up[1],ur.up[2]),j.updateGlobeVertexNormal(fn,en.length+3,ur.up[0],ur.up[1],ur.up[2]),j.addDynamicAttributes(en,ur.point[0],ur.point[1],ur.point[2],ur.angle);else for(const ur of $n)j.addDynamicAttributes(en,ur.point[0],ur.point[1],ur.point[2],ur.angle);return{}}function rp(ht,it,ct,pt,vt){const Rt=pt.projectTilePoint(ht.x,ht.y,it);if(!vt)return lo(Rt,ct,Rt.z);const kt=vt(ht);return lo(new j.pointGeometry(Rt.x+kt[0],Rt.y+kt[1]),ct,Rt.z+kt[2])}function Yl(ht,it,ct,pt,vt,Rt,kt,Lt){const Zt=rp(ht.add(ht.sub(it)._unit()),Lt,vt,kt,Rt).point,en=j.sub([],ct,Zt);return j.scaleAndAdd([],ct,en,pt/j.length(en))}function vs(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn,Nn,Vn){const Hn=pt?ht-it:ht+it;let On=Hn>0?1:-1,tr=0;pt&&(On*=-1,tr=Math.PI),On<0&&(tr+=Math.PI);let sr=On>0?Lt+kt:Lt+kt+1,$n=vt,ur=vt,Ur=0,Tr=0;const wr=Math.abs(Hn),qr=[],_r=[];let Pr=Rt;const Zr=()=>{const io=sr-On;return Ur===0?Rt:new j.pointGeometry(en.getx(io),en.gety(io))},Qr=()=>{const io=Zr();return Yl(io,Pr||io,ur,wr-Ur+1,fn,kn,zn,Nn.canonical)};for(;Ur+Tr<=wr;){if(sr+=On,sr<Lt||sr>=Zt)return null;if(ur=$n,qr.push($n),Pn&&_r.push(Pr||Zr()),$n=Bn[sr],$n===void 0){Pr=new j.pointGeometry(en.getx(sr),en.gety(sr));const io=rp(Pr,Nn.canonical,fn,zn,kn);$n=io.signedDistanceFromCamera>0?Bn[sr]=io.point:Qr()}else Pr=null;Ur+=Tr,Tr=j.distance(ur,$n)}Pr=Pr||new j.pointGeometry(en.getx(sr),en.gety(sr));const gr=Zr();Jn&&kn&&(Bn[sr]=$n=Bn[sr]===void 0?$n:Qr(),Tr=j.distance(ur,$n));const co=(wr-Ur)/Tr,no=Pr.sub(gr).mult(co)._add(gr),so=j.sub([],$n,ur),ro=j.scaleAndAdd([],ur,so,co);let Ro=[0,0,1],Io=so[0],No=so[1];if(Vn&&(Ro=zn.upVector(Nn.canonical,no.x,no.y),Ro[0]!==0||Ro[1]!==0||Ro[2]!==1)){const io=[1,0,0],Yo=[0,1,0];io[0]=Ro[2],io[1]=0,io[2]=-Ro[0],j.cross(Yo,Ro,io),j.normalize(io,io),j.normalize(Yo,Yo),Io=j.dot(so,io),No=j.dot(so,Yo)}if(ct){const io=j.cross([],Ro,so);j.normalize(io,io),j.scaleAndAdd(ro,ro,io,ct*On)}const xo=tr+Math.atan2(No,Io);return qr.push(ro),Pn&&_r.push(no),{point:ro,angle:xo,path:qr,tilePath:_r,up:Ro}}const Fy=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Bl(ht,it){for(let ct=0;ct<ht;ct++){const pt=it.length;it.resize(pt+4),it.float32.set(Fy,4*pt)}}function Lp(ht,it,ct){const pt=it[0],vt=it[1];return ht[0]=ct[0]*pt+ct[4]*vt+ct[12],ht[1]=ct[1]*pt+ct[5]*vt+ct[13],ht[3]=ct[3]*pt+ct[7]*vt+ct[15],ht}const Rl=100;class yp{constructor(it,ct,pt=new Dp(it.width+200,it.height+200,25),vt=new Dp(it.width+200,it.height+200,25)){this.transform=it,this.grid=pt,this.ignoredGrid=vt,this.pitchfactor=Math.cos(it._pitch)*it.cameraToCenterDistance,this.screenRightBoundary=it.width+Rl,this.screenBottomBoundary=it.height+Rl,this.gridRightBoundary=it.width+200,this.gridBottomBoundary=it.height+200,this.fogState=ct}placeCollisionBox(it,ct,pt,vt,Rt,kt,Lt,Zt){let en=pt.projectedAnchorX,fn=pt.projectedAnchorY,Bn=pt.projectedAnchorZ;const kn=pt.elevation,Pn=pt.tileID;if(kn&&Pn){const sr=it.getProjection().upVector(Pn.canonical,pt.tileAnchorX,pt.tileAnchorY),$n=it.getProjection().upVectorScale(Pn.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;en+=sr[0]*kn*$n,fn+=sr[1]*kn*$n,Bn+=sr[2]*kn*$n}const Jn=this.projectAndGetPerspectiveRatio(Lt,[en,fn,Bn],pt.tileID,it.projection.name==="globe"||!!kn||this.transform.pitch>0,it.getProjection()),zn=kt*Jn.perspectiveRatio,Nn=(pt.x1*ct+vt.x-pt.padding)*zn+Jn.point.x,Vn=(pt.y1*ct+vt.y-pt.padding)*zn+Jn.point.y,Hn=(pt.x2*ct+vt.x+pt.padding)*zn+Jn.point.x,On=(pt.y2*ct+vt.y+pt.padding)*zn+Jn.point.y,tr=Jn.perspectiveRatio<=.55||Jn.occluded;return!this.isInsideGrid(Nn,Vn,Hn,On)||!Rt&&this.grid.hitTest(Nn,Vn,Hn,On,Zt)||tr?{box:[],offscreen:!1,occluded:Jn.occluded}:{box:[Nn,Vn,Hn,On],offscreen:this.isOffscreen(Nn,Vn,Hn,On),occluded:!1}}placeCollisionCircles(it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn){const Nn=[],Vn=this.transform.elevation,Hn=Vn?Vn.getAtTileOffsetFunc(zn,this.transform.center.lat,this.transform.worldSize,it.getProjection()):gr=>[0,0,0],On=new j.pointGeometry(pt.tileAnchorX,pt.tileAnchorY),tr=it.getProjection().projectTilePoint(pt.tileAnchorX,pt.tileAnchorY,zn.canonical),sr=Hn(On),$n=[tr.x+sr[0],tr.y+sr[1],tr.z+sr[2]],ur=it.projection.name==="globe",Ur=this.projectAndGetPerspectiveRatio(Lt,[$n[0],$n[1],$n[2]],zn,ur||!!Vn||this.transform.pitch>0,it.getProjection()),{perspectiveRatio:Tr}=Ur,wr=(Bn?kt/Tr:kt*Tr)/j.ONE_EM,qr=lo(new j.pointGeometry($n[0],$n[1]),Zt,$n[2]).point,_r=Ur.signedDistanceFromCamera>0?es(wr,Rt,pt.lineOffsetX*wr,pt.lineOffsetY*wr,!1,qr,On,pt,vt,Zt,{},Vn&&!Bn?Hn:null,Bn&&!!Vn,it.getProjection(),zn,Bn):null;let Pr=!1,Zr=!1,Qr=!0;if(_r&&!Ur.occluded){const gr=.5*Pn*Tr+Jn,co=new j.pointGeometry(-100,-100),no=new j.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),so=new Du,ro=_r.first,Ro=_r.last;let Io=[];for(let io=ro.path.length-1;io>=1;io--)Io.push(ro.path[io]);for(let io=1;io<Ro.path.length;io++)Io.push(Ro.path[io]);const No=2.5*gr;if(en){const io=Io.map(Vn&&!ur?(Yo,rs)=>{const Ns=Hn(rs<ro.path.length-1?ro.tilePath[ro.path.length-1-rs]:Ro.tilePath[rs-ro.path.length+2]);return Yo[2]=Ns[2],ns(Yo,en)}:Yo=>ns(Yo,en));Io=io.some(Yo=>Yo.signedDistanceFromCamera<=0)?[]:io.map(Yo=>Yo.point)}let xo=[];if(Io.length>0){const io=Io.map(Ts=>new j.pointGeometry(Ts[0],Ts[1]));let Yo=1/0,rs=-1/0,Ns=1/0,Ds=-1/0;for(let Ts=0;Ts<io.length;Ts++)Yo=Math.min(Yo,io[Ts].x),Ns=Math.min(Ns,io[Ts].y),rs=Math.max(rs,io[Ts].x),Ds=Math.max(Ds,io[Ts].y);xo=Yo>=co.x&&rs<=no.x&&Ns>=co.y&&Ds<=no.y?[io]:rs<co.x||Yo>no.x||Ds<co.y||Ns>no.y?[]:j.clipLine([io],co.x,co.y,no.x,no.y)}for(const io of xo){so.reset(io,.25*gr);let Yo=0;Yo=so.length<=.5*gr?1:Math.ceil(so.paddedLength/No)+1;for(let rs=0;rs<Yo;rs++){const Ns=rs/Math.max(Yo-1,1),Ds=so.lerp(Ns),Ts=Ds.x+Rl,Vl=Ds.y+Rl;Nn.push(Ts,Vl,gr,0);const tu=Ts-gr,up=Vl-gr,Is=Ts+gr,ba=Vl+gr;if(Qr=Qr&&this.isOffscreen(tu,up,Is,ba),Zr=Zr||this.isInsideGrid(tu,up,Is,ba),!ct&&this.grid.hitTestCircle(Ts,Vl,gr,kn)&&(Pr=!0,!fn))return{circles:[],offscreen:!1,collisionDetected:Pr,occluded:!1}}}}return{circles:!fn&&Pr||!Zr?[]:Nn,offscreen:Qr,collisionDetected:Pr,occluded:Ur.occluded}}queryRenderedSymbols(it){if(it.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const ct=[];let pt=1/0,vt=1/0,Rt=-1/0,kt=-1/0;for(const fn of it){const Bn=new j.pointGeometry(fn.x+Rl,fn.y+Rl);pt=Math.min(pt,Bn.x),vt=Math.min(vt,Bn.y),Rt=Math.max(Rt,Bn.x),kt=Math.max(kt,Bn.y),ct.push(Bn)}const Lt=this.grid.query(pt,vt,Rt,kt).concat(this.ignoredGrid.query(pt,vt,Rt,kt)),Zt={},en={};for(const fn of Lt){const Bn=fn.key;if(Zt[Bn.bucketInstanceId]===void 0&&(Zt[Bn.bucketInstanceId]={}),Zt[Bn.bucketInstanceId][Bn.featureIndex])continue;const kn=[new j.pointGeometry(fn.x1,fn.y1),new j.pointGeometry(fn.x2,fn.y1),new j.pointGeometry(fn.x2,fn.y2),new j.pointGeometry(fn.x1,fn.y2)];j.polygonIntersectsPolygon(ct,kn)&&(Zt[Bn.bucketInstanceId][Bn.featureIndex]=!0,en[Bn.bucketInstanceId]===void 0&&(en[Bn.bucketInstanceId]=[]),en[Bn.bucketInstanceId].push(Bn.featureIndex))}return en}insertCollisionBox(it,ct,pt,vt,Rt){(ct?this.ignoredGrid:this.grid).insert({bucketInstanceId:pt,featureIndex:vt,collisionGroupID:Rt},it[0],it[1],it[2],it[3])}insertCollisionCircles(it,ct,pt,vt,Rt){const kt=ct?this.ignoredGrid:this.grid,Lt={bucketInstanceId:pt,featureIndex:vt,collisionGroupID:Rt};for(let Zt=0;Zt<it.length;Zt+=4)kt.insertCircle(Lt,it[Zt],it[Zt+1],it[Zt+2])}projectAndGetPerspectiveRatio(it,ct,pt,vt,Rt){const kt=[ct[0],ct[1],ct[2],1];let Lt=!1;if(ct[2]||this.transform.pitch>0){j.transformMat4$1(kt,kt,it);const Zt=Rt.name==="globe";this.fogState&&pt&&!Zt&&(Lt=function(en,fn,Bn,kn,Pn,Jn){const zn=Jn.calculateFogTileMatrix(Pn),Nn=[fn,Bn,kn];return j.transformMat4(Nn,Nn,zn),dn(en,Nn,Jn.pitch,Jn._fov)}(this.fogState,ct[0],ct[1],ct[2],pt.toUnwrapped(),this.transform)>.9)}else Lp(kt,kt,it);return{point:new j.pointGeometry((kt[0]/kt[3]+1)/2*this.transform.width+Rl,(-kt[1]/kt[3]+1)/2*this.transform.height+Rl),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(Rt)/kt[3]*.5,1.5),signedDistanceFromCamera:kt[3],occluded:vt&&kt[2]>kt[3]||Lt}}isOffscreen(it,ct,pt,vt){return pt<Rl||it>=this.screenRightBoundary||vt<Rl||ct>this.screenBottomBoundary}isInsideGrid(it,ct,pt,vt){return pt>=0&&it<this.gridRightBoundary&&vt>=0&&ct<this.gridBottomBoundary}getViewportMatrix(){const it=j.identity([]);return j.translate(it,it,[-100,-100,0]),it}}function sm(ht,it,ct){const pt=it.createTileMatrix(ht,ht.worldSize,ct.toUnwrapped());return j.multiply(new Float32Array(16),ht.projMatrix,pt)}function km(ht,it,ct){if(it.projection.name===ct.projection.name)return ht.projMatrix;const pt=ct.clone();return pt.setProjection(it.projection),sm(pt,it.getProjection(),ht)}function eu(ht,it,ct){return it.name===ct.projection.name?ht.projMatrix:sm(ct,it,ht)}class Wu{constructor(it,ct,pt,vt){this.opacity=it?Math.max(0,Math.min(1,it.opacity+(it.placed?ct:-ct))):vt&&pt?1:0,this.placed=pt}isHidden(){return this.opacity===0&&!this.placed}}class lu{constructor(it,ct,pt,vt,Rt,kt=!1){this.text=new Wu(it?it.text:null,ct,pt,Rt),this.icon=new Wu(it?it.icon:null,ct,vt,Rt),this.clipped=kt}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ms{constructor(it,ct,pt,vt=!1){this.text=it,this.icon=ct,this.skipFade=pt,this.clipped=vt}}class $s{constructor(){this.invProjMatrix=j.create(),this.viewportMatrix=j.create(),this.circles=[]}}class $m{constructor(it,ct,pt,vt,Rt){this.bucketInstanceId=it,this.featureIndex=ct,this.sourceLayerIndex=pt,this.bucketIndex=vt,this.tileID=Rt}}class Cm{constructor(it){this.crossSourceCollisions=it,this.maxGroupID=0,this.collisionGroups={}}get(it){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[it]){const ct=++this.maxGroupID;this.collisionGroups[it]={ID:ct,predicate:pt=>pt.collisionGroupID===ct}}return this.collisionGroups[it]}}function sn(ht,it,ct,pt,vt){const{horizontalAlign:Rt,verticalAlign:kt}=j.getAnchorAlignment(ht),Lt=-(Rt-.5)*it,Zt=-(kt-.5)*ct,en=j.evaluateVariableOffset(ht,pt);return new j.pointGeometry(Lt+en[0]*vt,Zt+en[1]*vt)}function wn(ht,it,ct,pt,vt){const Rt=new j.pointGeometry(ht,it);return ct&&Rt._rotate(pt?vt:-vt),Rt}class Yn{constructor(it,ct,pt,vt,Rt){this.transform=it.clone(),this.projection=it.projection.name,this.collisionIndex=new yp(this.transform,Rt),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ct,this.retainedQueryData={},this.collisionGroups=new Cm(pt),this.collisionCircleArrays={},this.prevPlacement=vt,vt&&(vt.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(it,ct,pt,vt){const Rt=pt.getBucket(ct),kt=pt.latestFeatureIndex;if(!Rt||!kt||ct.id!==Rt.layerIds[0])return;const Lt=Rt.layers[0].layout,Zt=pt.collisionBoxArray,en=Math.pow(2,this.transform.zoom-pt.tileID.overscaledZ),fn=pt.tileSize/j.EXTENT,Bn=pt.tileID.toUnwrapped();this.transform.setProjection(Rt.projection);const kn=(Pn=pt.tileID,Jn=Rt.getProjection(),zn=this.transform,Jn.name===this.projection?zn.calculateProjMatrix(Pn.toUnwrapped()):sm(zn,Jn,Pn));var Pn,Jn,zn;const Nn=Lt.get("text-pitch-alignment")==="map",Vn=Lt.get("text-rotation-alignment")==="map";ct.compileFilter();const Hn=ct.dynamicFilter(),On=ct.dynamicFilterNeedsFeature(),tr=this.transform.calculatePixelsToTileUnitsMatrix(pt),sr=M0(kn,pt.tileID.canonical,Nn,Vn,this.transform,Rt.getProjection(),tr);let $n=null;if(Nn){const Tr=Ip(kn,pt.tileID.canonical,Nn,Vn,this.transform,Rt.getProjection(),tr);$n=j.multiply([],this.transform.labelPlaneMatrix,Tr)}let ur=null;Hn&&pt.latestFeatureIndex&&(ur={unwrappedTileID:Bn,dynamicFilter:Hn,dynamicFilterNeedsFeature:On,featureIndex:pt.latestFeatureIndex}),this.retainedQueryData[Rt.bucketInstanceId]=new $m(Rt.bucketInstanceId,kt,Rt.sourceLayerIndex,Rt.index,pt.tileID);const Ur={bucket:Rt,layout:Lt,posMatrix:kn,textLabelPlaneMatrix:sr,labelToScreenMatrix:$n,clippingData:ur,scale:en,textPixelRatio:fn,holdingForFade:pt.holdingForFade(),collisionBoxArray:Zt,partiallyEvaluatedTextSize:j.evaluateSizeForZoom(Rt.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:j.evaluateSizeForZoom(Rt.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Rt.sourceID)};if(vt)for(const Tr of Rt.sortKeyRanges){const{sortKey:wr,symbolInstanceStart:qr,symbolInstanceEnd:_r}=Tr;it.push({sortKey:wr,symbolInstanceStart:qr,symbolInstanceEnd:_r,parameters:Ur})}else it.push({symbolInstanceStart:0,symbolInstanceEnd:Rt.symbolInstances.length,parameters:Ur})}attemptAnchorPlacement(it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn,Nn,Vn,Hn){const On=[kn.textOffset0,kn.textOffset1],tr=sn(it,pt,vt,On,Rt),sr=this.collisionIndex.placeCollisionBox(Jn,Rt,ct,wn(tr.x,tr.y,kt,Lt,this.transform.angle),Bn,Zt,en,fn.predicate);if(Nn){const $n=Jn.getSymbolInstanceIconSize(Hn,this.transform.zoom,kn.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Jn,$n,Nn,wn(tr.x,tr.y,kt,Lt,this.transform.angle),Bn,Zt,en,fn.predicate).box.length===0)return}if(sr.box.length>0){let $n;return this.prevPlacement&&this.prevPlacement.variableOffsets[kn.crossTileID]&&this.prevPlacement.placements[kn.crossTileID]&&this.prevPlacement.placements[kn.crossTileID].text&&($n=this.prevPlacement.variableOffsets[kn.crossTileID].anchor),this.variableOffsets[kn.crossTileID]={textOffset:On,width:pt,height:vt,anchor:it,textScale:Rt,prevAnchor:$n},this.markUsedJustification(Jn,it,kn,zn),Jn.allowVerticalPlacement&&(this.markUsedOrientation(Jn,zn,kn),this.placedOrientations[kn.crossTileID]=zn),{shift:tr,placedGlyphBoxes:sr}}}placeLayerBucketPart(it,ct,pt,vt){const{bucket:Rt,layout:kt,posMatrix:Lt,textLabelPlaneMatrix:Zt,labelToScreenMatrix:en,clippingData:fn,textPixelRatio:Bn,holdingForFade:kn,collisionBoxArray:Pn,partiallyEvaluatedTextSize:Jn,partiallyEvaluatedIconSize:zn,collisionGroup:Nn}=it.parameters,Vn=kt.get("text-optional"),Hn=kt.get("icon-optional"),On=kt.get("text-allow-overlap"),tr=kt.get("icon-allow-overlap"),sr=kt.get("text-rotation-alignment")==="map",$n=kt.get("text-pitch-alignment")==="map",ur=kt.get("icon-text-fit")!=="none",Ur=kt.get("symbol-z-order")==="viewport-y";this.transform.setProjection(Rt.projection);let Tr=On&&(tr||!Rt.hasIconData()||Hn),wr=tr&&(On||!Rt.hasTextData()||Vn);!Rt.collisionArrays&&Pn&&Rt.deserializeCollisionBoxes(Pn),pt&&vt&&Rt.updateCollisionDebugBuffers(this.transform.zoom,Pn);const qr=(_r,Pr,Zr)=>{if(fn){const Is={zoom:this.transform.zoom,pitch:this.transform.pitch};let ba=null;if(fn.dynamicFilterNeedsFeature){const ks=this.retainedQueryData[Rt.bucketInstanceId];ba=fn.featureIndex.loadFeature({featureIndex:_r.featureIndex,bucketIndex:ks.bucketIndex,sourceLayerIndex:ks.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,fn.dynamicFilter)(Is,ba,this.retainedQueryData[Rt.bucketInstanceId].tileID.canonical,new j.pointGeometry(_r.tileAnchorX,_r.tileAnchorY),this.transform.calculateDistanceTileData(fn.unwrappedTileID)))return this.placements[_r.crossTileID]=new Ms(!1,!1,!1,!0),void(ct[_r.crossTileID]=!0)}if(ct[_r.crossTileID])return;if(kn)return void(this.placements[_r.crossTileID]=new Ms(!1,!1,!1));let Qr=!1,gr=!1,co=!0,no=!1,so=!1,ro=null,Ro={box:null,offscreen:null,occluded:null},Io={box:null,offscreen:null,occluded:null},No=null,xo=null,io=null,Yo=0,rs=0,Ns=0;Zr.textFeatureIndex?Yo=Zr.textFeatureIndex:_r.useRuntimeCollisionCircles&&(Yo=_r.featureIndex),Zr.verticalTextFeatureIndex&&(rs=Zr.verticalTextFeatureIndex);const Ds=Is=>{Is.tileID=this.retainedQueryData[Rt.bucketInstanceId].tileID,(this.transform.elevation||Is.elevation)&&(Is.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[Rt.bucketInstanceId].tileID,Is.tileAnchorX,Is.tileAnchorY):0)},Ts=Zr.textBox;if(Ts){Ds(Ts);const Is=ks=>{let Ql=j.WritingMode.horizontal;if(Rt.allowVerticalPlacement&&!ks&&this.prevPlacement){const nu=this.prevPlacement.placedOrientations[_r.crossTileID];nu&&(this.placedOrientations[_r.crossTileID]=nu,Ql=nu,this.markUsedOrientation(Rt,Ql,_r))}return Ql},ba=(ks,Ql)=>{if(Rt.allowVerticalPlacement&&_r.numVerticalGlyphVertices>0&&Zr.verticalTextBox){for(const nu of Rt.writingModes)if(nu===j.WritingMode.vertical?(Ro=Ql(),Io=Ro):Ro=ks(),Ro&&Ro.box&&Ro.box.length)break}else Ro=ks()};if(kt.get("text-variable-anchor")){let ks=kt.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[_r.crossTileID]){const Ws=this.prevPlacement.variableOffsets[_r.crossTileID];ks.indexOf(Ws.anchor)>0&&(ks=ks.filter(bu=>bu!==Ws.anchor),ks.unshift(Ws.anchor))}const Ql=(Ws,bu,qp)=>{const ju=Rt.getSymbolInstanceTextSize(Jn,_r,this.transform.zoom,Pr),Xl=(Ws.x2-Ws.x1)*ju+2*Ws.padding,U0=(Ws.y2-Ws.y1)*ju+2*Ws.padding,Ep=ur&&!tr?bu:null;Ep&&Ds(Ep);let Go={box:[],offscreen:!1,occluded:!1};const wp=On?2*ks.length:ks.length;for(let ym=0;ym<wp;++ym){const pu=this.attemptAnchorPlacement(ks[ym%ks.length],Ws,Xl,U0,ju,sr,$n,Bn,Lt,Nn,ym>=ks.length,_r,Pr,Rt,qp,Ep,Jn,zn);if(pu&&(Go=pu.placedGlyphBoxes,Go&&Go.box&&Go.box.length)){Qr=!0,ro=pu.shift;break}}return Go};ba(()=>Ql(Ts,Zr.iconBox,j.WritingMode.horizontal),()=>{const Ws=Zr.verticalTextBox;return Ws&&Ds(Ws),Rt.allowVerticalPlacement&&!(Ro&&Ro.box&&Ro.box.length)&&_r.numVerticalGlyphVertices>0&&Ws?Ql(Ws,Zr.verticalIconBox,j.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Ro&&(Qr=Ro.box,co=Ro.offscreen,no=Ro.occluded);const nu=Is(Ro&&Ro.box);if(!Qr&&this.prevPlacement){const Ws=this.prevPlacement.variableOffsets[_r.crossTileID];Ws&&(this.variableOffsets[_r.crossTileID]=Ws,this.markUsedJustification(Rt,Ws.anchor,_r,nu))}}else{const ks=(Ql,nu)=>{const Ws=Rt.getSymbolInstanceTextSize(Jn,_r,this.transform.zoom,Pr),bu=this.collisionIndex.placeCollisionBox(Rt,Ws,Ql,new j.pointGeometry(0,0),On,Bn,Lt,Nn.predicate);return bu&&bu.box&&bu.box.length&&(this.markUsedOrientation(Rt,nu,_r),this.placedOrientations[_r.crossTileID]=nu),bu};ba(()=>ks(Ts,j.WritingMode.horizontal),()=>{const Ql=Zr.verticalTextBox;return Rt.allowVerticalPlacement&&_r.numVerticalGlyphVertices>0&&Ql?(Ds(Ql),ks(Ql,j.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Is(Ro&&Ro.box&&Ro.box.length)}}if(No=Ro,Qr=No&&No.box&&No.box.length>0,co=No&&No.offscreen,no=No&&No.occluded,_r.useRuntimeCollisionCircles){const Is=Rt.text.placedSymbolArray.get(_r.centerJustifiedTextSymbolIndex>=0?_r.centerJustifiedTextSymbolIndex:_r.verticalPlacedTextSymbolIndex),ba=j.evaluateSizeForFeature(Rt.textSizeData,Jn,Is),ks=kt.get("text-padding");xo=this.collisionIndex.placeCollisionCircles(Rt,On,Is,Rt.lineVertexArray,Rt.glyphOffsetArray,ba,Lt,Zt,en,pt,$n,Nn.predicate,_r.collisionCircleDiameter*ba/j.ONE_EM,ks,this.retainedQueryData[Rt.bucketInstanceId].tileID),Qr=On||xo.circles.length>0&&!xo.collisionDetected,co=co&&xo.offscreen,no=xo.occluded}if(Zr.iconFeatureIndex&&(Ns=Zr.iconFeatureIndex),Zr.iconBox){const Is=ba=>{Ds(ba);const ks=ur&&ro?wn(ro.x,ro.y,sr,$n,this.transform.angle):new j.pointGeometry(0,0),Ql=Rt.getSymbolInstanceIconSize(zn,this.transform.zoom,_r.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(Rt,Ql,ba,ks,tr,Bn,Lt,Nn.predicate)};Io&&Io.box&&Io.box.length&&Zr.verticalIconBox?(io=Is(Zr.verticalIconBox),gr=io.box.length>0):(io=Is(Zr.iconBox),gr=io.box.length>0),co=co&&io.offscreen,so=io.occluded}const Vl=Vn||_r.numHorizontalGlyphVertices===0&&_r.numVerticalGlyphVertices===0,tu=Hn||_r.numIconVertices===0;if(Vl||tu?tu?Vl||(gr=gr&&Qr):Qr=gr&&Qr:gr=Qr=gr&&Qr,Qr&&No&&No.box&&this.collisionIndex.insertCollisionBox(No.box,kt.get("text-ignore-placement"),Rt.bucketInstanceId,Io&&Io.box&&rs?rs:Yo,Nn.ID),gr&&io&&this.collisionIndex.insertCollisionBox(io.box,kt.get("icon-ignore-placement"),Rt.bucketInstanceId,Ns,Nn.ID),xo&&(Qr&&this.collisionIndex.insertCollisionCircles(xo.circles,kt.get("text-ignore-placement"),Rt.bucketInstanceId,Yo,Nn.ID),pt)){const Is=Rt.bucketInstanceId;let ba=this.collisionCircleArrays[Is];ba===void 0&&(ba=this.collisionCircleArrays[Is]=new $s);for(let ks=0;ks<xo.circles.length;ks+=4)ba.circles.push(xo.circles[ks+0]),ba.circles.push(xo.circles[ks+1]),ba.circles.push(xo.circles[ks+2]),ba.circles.push(xo.collisionDetected?1:0)}const up=Rt.projection.name!=="globe";Tr=Tr&&(up||!no),wr=wr&&(up||!so),this.placements[_r.crossTileID]=new Ms(Qr||Tr,gr||wr,co||Rt.justReloaded),ct[_r.crossTileID]=!0};if(Ur){const _r=Rt.getSortedSymbolIndexes(this.transform.angle);for(let Pr=_r.length-1;Pr>=0;--Pr){const Zr=_r[Pr];qr(Rt.symbolInstances.get(Zr),Zr,Rt.collisionArrays[Zr])}}else for(let _r=it.symbolInstanceStart;_r<it.symbolInstanceEnd;_r++)qr(Rt.symbolInstances.get(_r),_r,Rt.collisionArrays[_r]);if(pt&&Rt.bucketInstanceId in this.collisionCircleArrays){const _r=this.collisionCircleArrays[Rt.bucketInstanceId];j.invert(_r.invProjMatrix,Lt),_r.viewportMatrix=this.collisionIndex.getViewportMatrix()}Rt.justReloaded=!1}markUsedJustification(it,ct,pt,vt){let Rt;Rt=vt===j.WritingMode.vertical?pt.verticalPlacedTextSymbolIndex:{left:pt.leftJustifiedTextSymbolIndex,center:pt.centerJustifiedTextSymbolIndex,right:pt.rightJustifiedTextSymbolIndex}[j.getAnchorJustification(ct)];const kt=[pt.leftJustifiedTextSymbolIndex,pt.centerJustifiedTextSymbolIndex,pt.rightJustifiedTextSymbolIndex,pt.verticalPlacedTextSymbolIndex];for(const Lt of kt)Lt>=0&&(it.text.placedSymbolArray.get(Lt).crossTileID=Rt>=0&&Lt!==Rt?0:pt.crossTileID)}markUsedOrientation(it,ct,pt){const vt=ct===j.WritingMode.horizontal||ct===j.WritingMode.horizontalOnly?ct:0,Rt=ct===j.WritingMode.vertical?ct:0,kt=[pt.leftJustifiedTextSymbolIndex,pt.centerJustifiedTextSymbolIndex,pt.rightJustifiedTextSymbolIndex].filter(Lt=>Lt!==-1);for(const Lt of kt)it.text.placedSymbolArray.get(Lt).placedOrientation=vt;pt.verticalPlacedTextSymbolIndex!==-1&&(it.text.placedSymbolArray.get(pt.verticalPlacedTextSymbolIndex).placedOrientation=Rt)}commit(it){this.commitTime=it,this.zoomAtLastRecencyCheck=this.transform.zoom;const ct=this.prevPlacement;let pt=!1;this.prevZoomAdjustment=ct?ct.zoomAdjustment(this.transform.zoom):0;const vt=ct?ct.symbolFadeChange(it):1,Rt=ct?ct.opacities:{},kt=ct?ct.variableOffsets:{},Lt=ct?ct.placedOrientations:{};for(const Zt in this.placements){const en=this.placements[Zt],fn=Rt[Zt];fn?(this.opacities[Zt]=new lu(fn,vt,en.text,en.icon,null,en.clipped),pt=pt||en.text!==fn.text.placed||en.icon!==fn.icon.placed):(this.opacities[Zt]=new lu(null,vt,en.text,en.icon,en.skipFade,en.clipped),pt=pt||en.text||en.icon)}for(const Zt in Rt){const en=Rt[Zt];if(!this.opacities[Zt]){const fn=new lu(en,vt,!1,!1);fn.isHidden()||(this.opacities[Zt]=fn,pt=pt||en.text.placed||en.icon.placed)}}for(const Zt in kt)this.variableOffsets[Zt]||!this.opacities[Zt]||this.opacities[Zt].isHidden()||(this.variableOffsets[Zt]=kt[Zt]);for(const Zt in Lt)this.placedOrientations[Zt]||!this.opacities[Zt]||this.opacities[Zt].isHidden()||(this.placedOrientations[Zt]=Lt[Zt]);pt?this.lastPlacementChangeTime=it:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ct?ct.lastPlacementChangeTime:it)}updateLayerOpacities(it,ct){const pt={};for(const vt of ct){const Rt=vt.getBucket(it);Rt&&vt.latestFeatureIndex&&it.id===Rt.layerIds[0]&&this.updateBucketOpacities(Rt,pt,vt.collisionBoxArray)}}updateBucketOpacities(it,ct,pt){it.hasTextData()&&it.text.opacityVertexArray.clear(),it.hasIconData()&&it.icon.opacityVertexArray.clear(),it.hasIconCollisionBoxData()&&it.iconCollisionBox.collisionVertexArray.clear(),it.hasTextCollisionBoxData()&&it.textCollisionBox.collisionVertexArray.clear();const vt=it.layers[0].layout,Rt=!!it.layers[0].dynamicFilter(),kt=new lu(null,0,!1,!1,!0),Lt=vt.get("text-allow-overlap"),Zt=vt.get("icon-allow-overlap"),en=vt.get("text-variable-anchor"),fn=vt.get("text-rotation-alignment")==="map",Bn=vt.get("text-pitch-alignment")==="map",kn=vt.get("icon-text-fit")!=="none",Pn=new lu(null,0,Lt&&(Zt||!it.hasIconData()||vt.get("icon-optional")),Zt&&(Lt||!it.hasTextData()||vt.get("text-optional")),!0);!it.collisionArrays&&pt&&(it.hasIconCollisionBoxData()||it.hasTextCollisionBoxData())&&it.deserializeCollisionBoxes(pt);const Jn=(Nn,Vn,Hn)=>{for(let On=0;On<Vn/4;On++)Nn.opacityVertexArray.emplaceBack(Hn)};let zn=0;for(let Nn=0;Nn<it.symbolInstances.length;Nn++){const Vn=it.symbolInstances.get(Nn),{numHorizontalGlyphVertices:Hn,numVerticalGlyphVertices:On,crossTileID:tr}=Vn;let sr=this.opacities[tr];ct[tr]?sr=kt:sr||(sr=Pn,this.opacities[tr]=sr),ct[tr]=!0;const $n=Hn>0||On>0,ur=Vn.numIconVertices>0,Ur=this.placedOrientations[Vn.crossTileID],Tr=Ur===j.WritingMode.vertical,wr=Ur===j.WritingMode.horizontal||Ur===j.WritingMode.horizontalOnly;if(!$n&&!ur||sr.isHidden()||zn++,$n){const qr=ps(sr.text);Jn(it.text,Hn,Tr?Co:qr),Jn(it.text,On,wr?Co:qr);const _r=sr.text.isHidden();[Vn.rightJustifiedTextSymbolIndex,Vn.centerJustifiedTextSymbolIndex,Vn.leftJustifiedTextSymbolIndex].forEach(Qr=>{Qr>=0&&(it.text.placedSymbolArray.get(Qr).hidden=_r||Tr?1:0)}),Vn.verticalPlacedTextSymbolIndex>=0&&(it.text.placedSymbolArray.get(Vn.verticalPlacedTextSymbolIndex).hidden=_r||wr?1:0);const Pr=this.variableOffsets[Vn.crossTileID];Pr&&this.markUsedJustification(it,Pr.anchor,Vn,Ur);const Zr=this.placedOrientations[Vn.crossTileID];Zr&&(this.markUsedJustification(it,"left",Vn,Zr),this.markUsedOrientation(it,Zr,Vn))}if(ur){const qr=ps(sr.icon);Vn.placedIconSymbolIndex>=0&&(Jn(it.icon,Vn.numIconVertices,Tr?Co:qr),it.icon.placedSymbolArray.get(Vn.placedIconSymbolIndex).hidden=sr.icon.isHidden()),Vn.verticalPlacedIconSymbolIndex>=0&&(Jn(it.icon,Vn.numVerticalIconVertices,wr?Co:qr),it.icon.placedSymbolArray.get(Vn.verticalPlacedIconSymbolIndex).hidden=sr.icon.isHidden())}if(it.hasIconCollisionBoxData()||it.hasTextCollisionBoxData()){const qr=it.collisionArrays[Nn];if(qr){let _r=new j.pointGeometry(0,0),Pr=!0;if(qr.textBox||qr.verticalTextBox){if(en){const Qr=this.variableOffsets[tr];Qr?(_r=sn(Qr.anchor,Qr.width,Qr.height,Qr.textOffset,Qr.textScale),fn&&_r._rotate(Bn?this.transform.angle:-this.transform.angle)):Pr=!1}Rt&&(Pr=!sr.clipped),qr.textBox&&dr(it.textCollisionBox.collisionVertexArray,sr.text.placed,!Pr||Tr,_r.x,_r.y),qr.verticalTextBox&&dr(it.textCollisionBox.collisionVertexArray,sr.text.placed,!Pr||wr,_r.x,_r.y)}const Zr=Pr&&Boolean(!wr&&qr.verticalIconBox);qr.iconBox&&dr(it.iconCollisionBox.collisionVertexArray,sr.icon.placed,Zr,kn?_r.x:0,kn?_r.y:0),qr.verticalIconBox&&dr(it.iconCollisionBox.collisionVertexArray,sr.icon.placed,!Zr,kn?_r.x:0,kn?_r.y:0)}}}if(it.fullyClipped=zn===0,it.sortFeatures(this.transform.angle),this.retainedQueryData[it.bucketInstanceId]&&(this.retainedQueryData[it.bucketInstanceId].featureSortOrder=it.featureSortOrder),it.hasTextData()&&it.text.opacityVertexBuffer&&it.text.opacityVertexBuffer.updateData(it.text.opacityVertexArray),it.hasIconData()&&it.icon.opacityVertexBuffer&&it.icon.opacityVertexBuffer.updateData(it.icon.opacityVertexArray),it.hasIconCollisionBoxData()&&it.iconCollisionBox.collisionVertexBuffer&&it.iconCollisionBox.collisionVertexBuffer.updateData(it.iconCollisionBox.collisionVertexArray),it.hasTextCollisionBoxData()&&it.textCollisionBox.collisionVertexBuffer&&it.textCollisionBox.collisionVertexBuffer.updateData(it.textCollisionBox.collisionVertexArray),it.bucketInstanceId in this.collisionCircleArrays){const Nn=this.collisionCircleArrays[it.bucketInstanceId];it.placementInvProjMatrix=Nn.invProjMatrix,it.placementViewportMatrix=Nn.viewportMatrix,it.collisionCircleArray=Nn.circles,delete this.collisionCircleArrays[it.bucketInstanceId]}}symbolFadeChange(it){return this.fadeDuration===0?1:(it-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(it){return Math.max(0,(this.transform.zoom-it)/1.5)}hasTransitions(it){return this.stale||it-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(it,ct){const pt=this.zoomAtLastRecencyCheck===ct?1-this.zoomAdjustment(ct):1;return this.zoomAtLastRecencyCheck=ct,this.commitTime+this.fadeDuration*pt>it}setStale(){this.stale=!0}}function dr(ht,it,ct,pt,vt){ht.emplaceBack(it?1:0,ct?1:0,pt||0,vt||0),ht.emplaceBack(it?1:0,ct?1:0,pt||0,vt||0),ht.emplaceBack(it?1:0,ct?1:0,pt||0,vt||0),ht.emplaceBack(it?1:0,ct?1:0,pt||0,vt||0)}const Br=Math.pow(2,25),Or=Math.pow(2,24),vr=Math.pow(2,17),Ar=Math.pow(2,16),oo=Math.pow(2,9),ho=Math.pow(2,8),Eo=Math.pow(2,1);function ps(ht){if(ht.opacity===0&&!ht.placed)return 0;if(ht.opacity===1&&ht.placed)return 4294967295;const it=ht.placed?1:0,ct=Math.floor(127*ht.opacity);return ct*Br+it*Or+ct*vr+it*Ar+ct*oo+it*ho+ct*Eo+it}const Co=0;class jo{constructor(it){this._sortAcrossTiles=it.layout.get("symbol-z-order")!=="viewport-y"&&it.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(it,ct,pt,vt,Rt){const kt=this._bucketParts;for(;this._currentTileIndex<it.length;)if(ct.getBucketParts(kt,vt,it[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Rt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,kt.sort((Lt,Zt)=>Lt.sortKey-Zt.sortKey));this._currentPartIndex<kt.length;){const Lt=kt[this._currentPartIndex];if(ct.placeLayerBucketPart(Lt,this._seenCrossTileIDs,pt,Lt.symbolInstanceStart===0),this._currentPartIndex++,Rt())return!0}return!1}}class js{constructor(it,ct,pt,vt,Rt,kt,Lt,Zt){this.placement=new Yn(it,Rt,kt,Lt,Zt),this._currentPlacementIndex=ct.length-1,this._forceFullPlacement=pt,this._showCollisionBoxes=vt,this._done=!1}isDone(){return this._done}continuePlacement(it,ct,pt){const vt=j.exported.now(),Rt=()=>{const kt=j.exported.now()-vt;return!this._forceFullPlacement&&kt>2};for(;this._currentPlacementIndex>=0;){const kt=ct[it[this._currentPlacementIndex]],Lt=this.placement.collisionIndex.transform.zoom;if(kt.type==="symbol"&&(!kt.minzoom||kt.minzoom<=Lt)&&(!kt.maxzoom||kt.maxzoom>Lt)){if(this._inProgressLayer||(this._inProgressLayer=new jo(kt)),this._inProgressLayer.continuePlacement(pt[kt.source],this.placement,this._showCollisionBoxes,kt,Rt))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(it){return this.placement.commit(it),this.placement}}const Gs=512/j.EXTENT/2;class hs{constructor(it,ct,pt){this.tileID=it,this.indexedSymbolInstances={},this.bucketInstanceId=pt;for(let vt=0;vt<ct.length;vt++){const Rt=ct.get(vt),kt=Rt.key;this.indexedSymbolInstances[kt]||(this.indexedSymbolInstances[kt]=[]),this.indexedSymbolInstances[kt].push({crossTileID:Rt.crossTileID,coord:this.getScaledCoordinates(Rt,it)})}}getScaledCoordinates(it,ct){const pt=Gs/Math.pow(2,ct.canonical.z-this.tileID.canonical.z);return{x:Math.floor((ct.canonical.x*j.EXTENT+it.tileAnchorX)*pt),y:Math.floor((ct.canonical.y*j.EXTENT+it.tileAnchorY)*pt)}}findMatches(it,ct,pt){const vt=this.tileID.canonical.z<ct.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ct.canonical.z);for(let Rt=0;Rt<it.length;Rt++){const kt=it.get(Rt);if(kt.crossTileID)continue;const Lt=this.indexedSymbolInstances[kt.key];if(!Lt)continue;const Zt=this.getScaledCoordinates(kt,ct);for(const en of Lt)if(Math.abs(en.coord.x-Zt.x)<=vt&&Math.abs(en.coord.y-Zt.y)<=vt&&!pt[en.crossTileID]){pt[en.crossTileID]=!0,kt.crossTileID=en.crossTileID;break}}}}class Ou{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Pp{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(it){const ct=Math.round((it-this.lng)/360);if(ct!==0)for(const pt in this.indexes){const vt=this.indexes[pt],Rt={};for(const kt in vt){const Lt=vt[kt];Lt.tileID=Lt.tileID.unwrapTo(Lt.tileID.wrap+ct),Rt[Lt.tileID.key]=Lt}this.indexes[pt]=Rt}this.lng=it}addBucket(it,ct,pt){if(this.indexes[it.overscaledZ]&&this.indexes[it.overscaledZ][it.key]){if(this.indexes[it.overscaledZ][it.key].bucketInstanceId===ct.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(it.overscaledZ,this.indexes[it.overscaledZ][it.key])}for(let Rt=0;Rt<ct.symbolInstances.length;Rt++)ct.symbolInstances.get(Rt).crossTileID=0;this.usedCrossTileIDs[it.overscaledZ]||(this.usedCrossTileIDs[it.overscaledZ]={});const vt=this.usedCrossTileIDs[it.overscaledZ];for(const Rt in this.indexes){const kt=this.indexes[Rt];if(Number(Rt)>it.overscaledZ)for(const Lt in kt){const Zt=kt[Lt];Zt.tileID.isChildOf(it)&&Zt.findMatches(ct.symbolInstances,it,vt)}else{const Lt=kt[it.scaledTo(Number(Rt)).key];Lt&&Lt.findMatches(ct.symbolInstances,it,vt)}}for(let Rt=0;Rt<ct.symbolInstances.length;Rt++){const kt=ct.symbolInstances.get(Rt);kt.crossTileID||(kt.crossTileID=pt.generate(),vt[kt.crossTileID]=!0)}return this.indexes[it.overscaledZ]===void 0&&(this.indexes[it.overscaledZ]={}),this.indexes[it.overscaledZ][it.key]=new hs(it,ct.symbolInstances,ct.bucketInstanceId),!0}removeBucketCrossTileIDs(it,ct){for(const pt in ct.indexedSymbolInstances)for(const vt of ct.indexedSymbolInstances[pt])delete this.usedCrossTileIDs[it][vt.crossTileID]}removeStaleBuckets(it){let ct=!1;for(const pt in this.indexes){const vt=this.indexes[pt];for(const Rt in vt)it[vt[Rt].bucketInstanceId]||(this.removeBucketCrossTileIDs(pt,vt[Rt]),delete vt[Rt],ct=!0)}return ct}}class Am{constructor(){this.layerIndexes={},this.crossTileIDs=new Ou,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(it,ct,pt,vt){let Rt=this.layerIndexes[it.id];Rt===void 0&&(Rt=this.layerIndexes[it.id]=new Pp);let kt=!1;const Lt={};vt.name!=="globe"&&Rt.handleWrapJump(pt);for(const Zt of ct){const en=Zt.getBucket(it);en&&it.id===en.layerIds[0]&&(en.bucketInstanceId||(en.bucketInstanceId=++this.maxBucketInstanceId),Rt.addBucket(Zt.tileID,en,this.crossTileIDs)&&(kt=!0),Lt[en.bucketInstanceId]=!0)}return Rt.removeStaleBuckets(Lt)&&(kt=!0),kt}pruneUnusedLayers(it){const ct={};it.forEach(pt=>{ct[pt]=!0});for(const pt in this.layerIndexes)ct[pt]||delete this.layerIndexes[pt]}}const Lu=(ht,it)=>j.emitValidationErrors(ht,it&&it.filter(ct=>ct.identifier!=="source.canvas")),vy=j.pick(Bo,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),yl=j.pick(Bo,["setCenter","setZoom","setBearing","setPitch"]),I0={version:8,layers:[],sources:{}},_p={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ip extends j.Evented{constructor(it,ct={}){super(),this.map=it,this.dispatcher=new Wn(wo(),this),this.imageManager=new Yt,this.imageManager.setEventedParent(this),this.glyphManager=new j.GlyphManager(it._requestManager,ct.localFontFamily?j.LocalGlyphMode.all:ct.localIdeographFontFamily?j.LocalGlyphMode.ideographs:j.LocalGlyphMode.none,ct.localFontFamily||ct.localIdeographFontFamily),this.crossTileSymbolIndex=new Am,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new j.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",j.getReferrer());const pt=this;this._rtlTextPluginCallback=ip.registerForPluginStateChange(vt=>{pt.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:vt.pluginStatus,pluginURL:vt.pluginURL},(Rt,kt)=>{if(j.triggerPluginCompletionEvent(Rt),kt&&kt.every(Lt=>Lt))for(const Lt in pt._sourceCaches){const Zt=pt._sourceCaches[Lt],en=Zt.getSource().type;en!=="vector"&&en!=="geojson"||Zt.reload()}})}),this.on("data",vt=>{if(vt.dataType!=="source"||vt.sourceDataType!=="metadata")return;const Rt=this.getSource(vt.sourceId);if(Rt&&Rt.vectorLayerIds)for(const kt in this._layers){const Lt=this._layers[kt];Lt.source===Rt.id&&this._validateLayer(Lt)}})}loadURL(it,ct={}){this.fire(new j.Event("dataloading",{dataType:"style"}));const pt=typeof ct.validate=="boolean"?ct.validate:!j.isMapboxURL(it);it=this.map._requestManager.normalizeStyleURL(it,ct.accessToken);const vt=this.map._requestManager.transformRequest(it,j.ResourceType.Style);this._request=j.getJSON(vt,(Rt,kt)=>{this._request=null,Rt?this.fire(new j.ErrorEvent(Rt)):kt&&this._load(kt,pt)})}loadJSON(it,ct={}){this.fire(new j.Event("dataloading",{dataType:"style"})),this._request=j.exported.frame(()=>{this._request=null,this._load(it,ct.validate!==!1)})}loadEmpty(){this.fire(new j.Event("dataloading",{dataType:"style"})),this._load(I0,!1)}_updateLayerCount(it,ct){const pt=ct?1:-1;it.is3D()&&(this._num3DLayers+=pt),it.type==="circle"&&(this._numCircleLayers+=pt),it.type==="symbol"&&(this._numSymbolLayers+=pt)}_load(it,ct){if(ct&&Lu(this,j.validateStyle(it)))return;this._loaded=!0,this.stylesheet=j.clone$1(it),this._updateMapProjection();for(const vt in it.sources)this.addSource(vt,it.sources[vt],{validate:!1});this._changed=!1,it.sprite?this._loadSprite(it.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(it.glyphs);const pt=ls(this.stylesheet.layers);this._order=pt.map(vt=>vt.id),this._layers={},this._serializedLayers={};for(let vt of pt)vt=j.createStyleLayer(vt),vt.setEventedParent(this,{layer:{id:vt.id}}),this._layers[vt.id]=vt,this._serializedLayers[vt.id]=vt.serialize(),this._updateLayerCount(vt,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Un(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new j.Event("data",{dataType:"style"})),this.fire(new j.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(it){it?this.stylesheet.projection=it:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(it){this._spriteRequest=function(ct,pt,vt){let Rt,kt,Lt;const Zt=j.exported.devicePixelRatio>1?"@2x":"";let en=j.getJSON(pt.transformRequest(pt.normalizeSpriteURL(ct,Zt,".json"),j.ResourceType.SpriteJSON),(kn,Pn)=>{en=null,Lt||(Lt=kn,Rt=Pn,Bn())}),fn=j.getImage(pt.transformRequest(pt.normalizeSpriteURL(ct,Zt,".png"),j.ResourceType.SpriteImage),(kn,Pn)=>{fn=null,Lt||(Lt=kn,kt=Pn,Bn())});function Bn(){if(Lt)vt(Lt);else if(Rt&&kt){const kn=j.exported.getImageData(kt),Pn={};for(const Jn in Rt){const{width:zn,height:Nn,x:Vn,y:Hn,sdf:On,pixelRatio:tr,stretchX:sr,stretchY:$n,content:ur}=Rt[Jn],Ur=new j.RGBAImage({width:zn,height:Nn});j.RGBAImage.copy(kn,Ur,{x:Vn,y:Hn},{x:0,y:0},{width:zn,height:Nn}),Pn[Jn]={data:Ur,pixelRatio:tr,sdf:On,stretchX:sr,stretchY:$n,content:ur}}vt(null,Pn)}}return{cancel(){en&&(en.cancel(),en=null),fn&&(fn.cancel(),fn=null)}}}(it,this.map._requestManager,(ct,pt)=>{if(this._spriteRequest=null,ct)this.fire(new j.ErrorEvent(ct));else if(pt)for(const vt in pt)this.imageManager.addImage(vt,pt[vt]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new j.Event("data",{dataType:"style"}))})}_validateLayer(it){const ct=this.getSource(it.source);if(!ct)return;const pt=it.sourceLayer;pt&&(ct.type==="geojson"||ct.vectorLayerIds&&ct.vectorLayerIds.indexOf(pt)===-1)&&this.fire(new j.ErrorEvent(new Error(`Source layer "${pt}" does not exist on source "${ct.id}" as specified by style layer "${it.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const it in this._sourceCaches)if(!this._sourceCaches[it].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(it){const ct=[];for(const pt of it){const vt=this._layers[pt];vt.type!=="custom"&&ct.push(vt.serialize())}return ct}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const it in this._sourceCaches)if(this._sourceCaches[it].hasTransition())return!0;for(const it in this._layers)if(this._layers[it].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(it){return!!this.terrain&&_p[it.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(it){if(!this._loaded)return;const ct=this._changed;if(this._changed){const vt=Object.keys(this._updatedLayers),Rt=Object.keys(this._removedLayers);(vt.length||Rt.length)&&this._updateWorkerLayers(vt,Rt);for(const kt in this._updatedSources){const Lt=this._updatedSources[kt];Lt==="reload"?this._reloadSource(kt):Lt==="clear"&&this._clearSource(kt)}this._updateTilesForChangedImages();for(const kt in this._updatedPaintProps)this._layers[kt].updateTransitions(it);this.light.updateTransitions(it),this.fog&&this.fog.updateTransitions(it),this._resetUpdates()}const pt={};for(const vt in this._sourceCaches){const Rt=this._sourceCaches[vt];pt[vt]=Rt.used,Rt.used=!1}for(const vt of this._order){const Rt=this._layers[vt];if(Rt.recalculate(it,this._availableImages),!Rt.isHidden(it.zoom)){const Lt=this._getLayerSourceCache(Rt);Lt&&(Lt.used=!0)}const kt=this.map.painter;if(kt){const Lt=Rt.getProgramIds();if(!Lt)continue;const Zt=Rt.getProgramConfiguration(it.zoom);for(const en of Lt)kt.useProgram(en,Zt)}}for(const vt in pt){const Rt=this._sourceCaches[vt];pt[vt]!==Rt.used&&Rt.getSource().fire(new j.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Rt.getSource().id}))}this.light.recalculate(it),this.terrain&&this.terrain.recalculate(it),this.fog&&this.fog.recalculate(it),this.z=it.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),ct&&this.fire(new j.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const it=Object.keys(this._changedImages);if(it.length){for(const ct in this._sourceCaches)this._sourceCaches[ct].reloadTilesForDependencies(["icons","patterns"],it);this._changedImages={}}}_updateWorkerLayers(it,ct){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(it),removedIds:ct})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(it){if(this._checkLoaded(),Lu(this,j.validateStyle(it)))return!1;(it=j.clone$1(it)).layers=ls(it.layers);const ct=function(vt,Rt){if(!vt)return[{command:Bo.setStyle,args:[Rt]}];let kt=[];try{if(!st(vt.version,Rt.version))return[{command:Bo.setStyle,args:[Rt]}];st(vt.center,Rt.center)||kt.push({command:Bo.setCenter,args:[Rt.center]}),st(vt.zoom,Rt.zoom)||kt.push({command:Bo.setZoom,args:[Rt.zoom]}),st(vt.bearing,Rt.bearing)||kt.push({command:Bo.setBearing,args:[Rt.bearing]}),st(vt.pitch,Rt.pitch)||kt.push({command:Bo.setPitch,args:[Rt.pitch]}),st(vt.sprite,Rt.sprite)||kt.push({command:Bo.setSprite,args:[Rt.sprite]}),st(vt.glyphs,Rt.glyphs)||kt.push({command:Bo.setGlyphs,args:[Rt.glyphs]}),st(vt.transition,Rt.transition)||kt.push({command:Bo.setTransition,args:[Rt.transition]}),st(vt.light,Rt.light)||kt.push({command:Bo.setLight,args:[Rt.light]}),st(vt.fog,Rt.fog)||kt.push({command:Bo.setFog,args:[Rt.fog]}),st(vt.projection,Rt.projection)||kt.push({command:Bo.setProjection,args:[Rt.projection]});const Lt={},Zt=[];(function(Bn,kn,Pn,Jn){let zn;for(zn in kn=kn||{},Bn=Bn||{})Bn.hasOwnProperty(zn)&&(kn.hasOwnProperty(zn)||Fs(zn,Pn,Jn));for(zn in kn)kn.hasOwnProperty(zn)&&(Bn.hasOwnProperty(zn)?st(Bn[zn],kn[zn])||(Bn[zn].type==="geojson"&&kn[zn].type==="geojson"&&Mu(Bn,kn,zn)?Pn.push({command:Bo.setGeoJSONSourceData,args:[zn,kn[zn].data]}):np(zn,kn,Pn,Jn)):Rs(zn,kn,Pn))})(vt.sources,Rt.sources,Zt,Lt);const en=[];vt.layers&&vt.layers.forEach(Bn=>{Bn.source&&Lt[Bn.source]?kt.push({command:Bo.removeLayer,args:[Bn.id]}):en.push(Bn)});let fn=vt.terrain;fn&&Lt[fn.source]&&(kt.push({command:Bo.setTerrain,args:[void 0]}),fn=void 0),kt=kt.concat(Zt),st(fn,Rt.terrain)||kt.push({command:Bo.setTerrain,args:[Rt.terrain]}),function(Bn,kn,Pn){kn=kn||[];const Jn=(Bn=Bn||[]).map(Gl),zn=kn.map(Gl),Nn=Bn.reduce(na,{}),Vn=kn.reduce(na,{}),Hn=Jn.slice(),On=Object.create(null);let tr,sr,$n,ur,Ur,Tr,wr;for(tr=0,sr=0;tr<Jn.length;tr++)$n=Jn[tr],Vn.hasOwnProperty($n)?sr++:(Pn.push({command:Bo.removeLayer,args:[$n]}),Hn.splice(Hn.indexOf($n,sr),1));for(tr=0,sr=0;tr<zn.length;tr++)$n=zn[zn.length-1-tr],Hn[Hn.length-1-tr]!==$n&&(Nn.hasOwnProperty($n)?(Pn.push({command:Bo.removeLayer,args:[$n]}),Hn.splice(Hn.lastIndexOf($n,Hn.length-sr),1)):sr++,Tr=Hn[Hn.length-tr],Pn.push({command:Bo.addLayer,args:[Vn[$n],Tr]}),Hn.splice(Hn.length-tr,0,$n),On[$n]=!0);for(tr=0;tr<zn.length;tr++)if($n=zn[tr],ur=Nn[$n],Ur=Vn[$n],!On[$n]&&!st(ur,Ur))if(st(ur.source,Ur.source)&&st(ur["source-layer"],Ur["source-layer"])&&st(ur.type,Ur.type)){for(wr in Dr(ur.layout,Ur.layout,Pn,$n,null,Bo.setLayoutProperty),Dr(ur.paint,Ur.paint,Pn,$n,null,Bo.setPaintProperty),st(ur.filter,Ur.filter)||Pn.push({command:Bo.setFilter,args:[$n,Ur.filter]}),st(ur.minzoom,Ur.minzoom)&&st(ur.maxzoom,Ur.maxzoom)||Pn.push({command:Bo.setLayerZoomRange,args:[$n,Ur.minzoom,Ur.maxzoom]}),ur)ur.hasOwnProperty(wr)&&wr!=="layout"&&wr!=="paint"&&wr!=="filter"&&wr!=="metadata"&&wr!=="minzoom"&&wr!=="maxzoom"&&(wr.indexOf("paint.")===0?Dr(ur[wr],Ur[wr],Pn,$n,wr.slice(6),Bo.setPaintProperty):st(ur[wr],Ur[wr])||Pn.push({command:Bo.setLayerProperty,args:[$n,wr,Ur[wr]]}));for(wr in Ur)Ur.hasOwnProperty(wr)&&!ur.hasOwnProperty(wr)&&wr!=="layout"&&wr!=="paint"&&wr!=="filter"&&wr!=="metadata"&&wr!=="minzoom"&&wr!=="maxzoom"&&(wr.indexOf("paint.")===0?Dr(ur[wr],Ur[wr],Pn,$n,wr.slice(6),Bo.setPaintProperty):st(ur[wr],Ur[wr])||Pn.push({command:Bo.setLayerProperty,args:[$n,wr,Ur[wr]]}))}else Pn.push({command:Bo.removeLayer,args:[$n]}),Tr=Hn[Hn.lastIndexOf($n)+1],Pn.push({command:Bo.addLayer,args:[Ur,Tr]})}(en,Rt.layers,kt)}catch(Lt){console.warn("Unable to compute style diff:",Lt),kt=[{command:Bo.setStyle,args:[Rt]}]}return kt}(this.serialize(),it).filter(vt=>!(vt.command in yl));if(ct.length===0)return!1;const pt=ct.filter(vt=>!(vt.command in vy));if(pt.length>0)throw new Error(`Unimplemented: ${pt.map(vt=>vt.command).join(", ")}.`);return ct.forEach(vt=>{vt.command!=="setTransition"&&vt.command!=="setProjection"&&this[vt.command].apply(this,vt.args)}),this.stylesheet=it,this._updateMapProjection(),!0}addImage(it,ct){return this.getImage(it)?this.fire(new j.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(it,ct),this._afterImageUpdated(it),this)}updateImage(it,ct){this.imageManager.updateImage(it,ct)}getImage(it){return this.imageManager.getImage(it)}removeImage(it){return this.getImage(it)?(this.imageManager.removeImage(it),this._afterImageUpdated(it),this):this.fire(new j.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(it){this._availableImages=this.imageManager.listImages(),this._changedImages[it]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new j.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(it,ct,pt={}){if(this._checkLoaded(),this.getSource(it)!==void 0)throw new Error("There is already a source with this ID");if(!ct.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(ct).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(ct.type)>=0&&this._validate(j.validateSource,`sources.${it}`,ct,null,pt))return;this.map&&this.map._collectResourceTiming&&(ct.collectResourceTiming=!0);const vt=yr(it,ct,this.dispatcher,this);vt.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(it),source:vt.serialize(),sourceId:it}));const Rt=kt=>{const Lt=(kt?"symbol:":"other:")+it,Zt=this._sourceCaches[Lt]=new j.SourceCache(Lt,vt,kt);(kt?this._symbolSourceCaches:this._otherSourceCaches)[it]=Zt,Zt.style=this,Zt.onAdd(this.map)};Rt(!1),ct.type!=="vector"&&ct.type!=="geojson"||Rt(!0),vt.onAdd&&vt.onAdd(this.map),this._changed=!0}removeSource(it){this._checkLoaded();const ct=this.getSource(it);if(!ct)throw new Error("There is no source with this ID");for(const vt in this._layers)if(this._layers[vt].source===it)return this.fire(new j.ErrorEvent(new Error(`Source "${it}" cannot be removed while layer "${vt}" is using it.`)));if(this.terrain&&this.terrain.get().source===it)return this.fire(new j.ErrorEvent(new Error(`Source "${it}" cannot be removed while terrain is using it.`)));const pt=this._getSourceCaches(it);for(const vt of pt)delete this._sourceCaches[vt.id],delete this._updatedSources[vt.id],vt.fire(new j.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:vt.getSource().id})),vt.setEventedParent(null),vt.clearTiles();return delete this._otherSourceCaches[it],delete this._symbolSourceCaches[it],ct.setEventedParent(null),ct.onRemove&&ct.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(it,ct){this._checkLoaded(),this.getSource(it).setData(ct),this._changed=!0}getSource(it){const ct=this._getSourceCache(it);return ct&&ct.getSource()}_getSources(){const it=[];for(const ct in this._otherSourceCaches){const pt=this._getSourceCache(ct);pt&&it.push(pt.getSource())}return it}addLayer(it,ct,pt={}){this._checkLoaded();const vt=it.id;if(this.getLayer(vt))return void this.fire(new j.ErrorEvent(new Error(`Layer with id "${vt}" already exists on this map`)));let Rt;if(it.type==="custom"){if(Lu(this,j.validateCustomStyleLayer(it)))return;Rt=j.createStyleLayer(it)}else{if(typeof it.source=="object"&&(this.addSource(vt,it.source),it=j.clone$1(it),it=j.extend(it,{source:vt})),this._validate(j.validateLayer,`layers.${vt}`,it,{arrayIndex:-1},pt))return;Rt=j.createStyleLayer(it),this._validateLayer(Rt),Rt.setEventedParent(this,{layer:{id:vt}}),this._serializedLayers[Rt.id]=Rt.serialize(),this._updateLayerCount(Rt,!0)}const kt=ct?this._order.indexOf(ct):this._order.length;if(ct&&kt===-1)return void this.fire(new j.ErrorEvent(new Error(`Layer with id "${ct}" does not exist on this map.`)));this._order.splice(kt,0,vt),this._layerOrderChanged=!0,this._layers[vt]=Rt;const Lt=this._getLayerSourceCache(Rt);if(this._removedLayers[vt]&&Rt.source&&Lt&&Rt.type!=="custom"){const Zt=this._removedLayers[vt];delete this._removedLayers[vt],Zt.type!==Rt.type?this._updatedSources[Rt.source]="clear":(this._updatedSources[Rt.source]="reload",Lt.pause())}this._updateLayer(Rt),Rt.onAdd&&Rt.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(it,ct){if(this._checkLoaded(),this._changed=!0,!this._layers[it])return void this.fire(new j.ErrorEvent(new Error(`The layer '${it}' does not exist in the map's style and cannot be moved.`)));if(it===ct)return;const pt=this._order.indexOf(it);this._order.splice(pt,1);const vt=ct?this._order.indexOf(ct):this._order.length;ct&&vt===-1?this.fire(new j.ErrorEvent(new Error(`Layer with id "${ct}" does not exist on this map.`))):(this._order.splice(vt,0,it),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(it){this._checkLoaded();const ct=this._layers[it];if(!ct)return void this.fire(new j.ErrorEvent(new Error(`The layer '${it}' does not exist in the map's style and cannot be removed.`)));ct.setEventedParent(null),this._updateLayerCount(ct,!1);const pt=this._order.indexOf(it);this._order.splice(pt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[it]=ct,delete this._layers[it],delete this._serializedLayers[it],delete this._updatedLayers[it],delete this._updatedPaintProps[it],ct.onRemove&&ct.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(it){return this._layers[it]}hasLayer(it){return it in this._layers}hasLayerType(it){for(const ct in this._layers)if(this._layers[ct].type===it)return!0;return!1}setLayerZoomRange(it,ct,pt){this._checkLoaded();const vt=this.getLayer(it);vt?vt.minzoom===ct&&vt.maxzoom===pt||(ct!=null&&(vt.minzoom=ct),pt!=null&&(vt.maxzoom=pt),this._updateLayer(vt)):this.fire(new j.ErrorEvent(new Error(`The layer '${it}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(it,ct,pt={}){this._checkLoaded();const vt=this.getLayer(it);if(vt){if(!st(vt.filter,ct))return ct==null?(vt.filter=void 0,void this._updateLayer(vt)):void(this._validate(j.validateFilter,`layers.${vt.id}.filter`,ct,{layerType:vt.type},pt)||(vt.filter=j.clone$1(ct),this._updateLayer(vt)))}else this.fire(new j.ErrorEvent(new Error(`The layer '${it}' does not exist in the map's style and cannot be filtered.`)))}getFilter(it){const ct=this.getLayer(it);return ct&&j.clone$1(ct.filter)}setLayoutProperty(it,ct,pt,vt={}){this._checkLoaded();const Rt=this.getLayer(it);Rt?st(Rt.getLayoutProperty(ct),pt)||(Rt.setLayoutProperty(ct,pt,vt),this._updateLayer(Rt)):this.fire(new j.ErrorEvent(new Error(`The layer '${it}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(it,ct){const pt=this.getLayer(it);if(pt)return pt.getLayoutProperty(ct);this.fire(new j.ErrorEvent(new Error(`The layer '${it}' does not exist in the map's style.`)))}setPaintProperty(it,ct,pt,vt={}){this._checkLoaded();const Rt=this.getLayer(it);Rt?st(Rt.getPaintProperty(ct),pt)||(Rt.setPaintProperty(ct,pt,vt)&&this._updateLayer(Rt),this._changed=!0,this._updatedPaintProps[it]=!0):this.fire(new j.ErrorEvent(new Error(`The layer '${it}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(it,ct){const pt=this.getLayer(it);return pt&&pt.getPaintProperty(ct)}setFeatureState(it,ct){this._checkLoaded();const pt=it.source,vt=it.sourceLayer,Rt=this.getSource(pt);if(!Rt)return void this.fire(new j.ErrorEvent(new Error(`The source '${pt}' does not exist in the map's style.`)));const kt=Rt.type;if(kt==="geojson"&&vt)return void this.fire(new j.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(kt==="vector"&&!vt)return void this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));it.id===void 0&&this.fire(new j.ErrorEvent(new Error("The feature id parameter must be provided.")));const Lt=this._getSourceCaches(pt);for(const Zt of Lt)Zt.setFeatureState(vt,it.id,ct)}removeFeatureState(it,ct){this._checkLoaded();const pt=it.source,vt=this.getSource(pt);if(!vt)return void this.fire(new j.ErrorEvent(new Error(`The source '${pt}' does not exist in the map's style.`)));const Rt=vt.type,kt=Rt==="vector"?it.sourceLayer:void 0;if(Rt==="vector"&&!kt)return void this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(ct&&typeof it.id!="string"&&typeof it.id!="number")return void this.fire(new j.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const Lt=this._getSourceCaches(pt);for(const Zt of Lt)Zt.removeFeatureState(kt,it.id,ct)}getFeatureState(it){this._checkLoaded();const ct=it.source,pt=it.sourceLayer,vt=this.getSource(ct);if(vt){if(vt.type!=="vector"||pt)return it.id===void 0&&this.fire(new j.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(ct)[0].getFeatureState(pt,it.id);this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new j.ErrorEvent(new Error(`The source '${ct}' does not exist in the map's style.`)))}getTransition(){return j.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const it={};for(const ct in this._sourceCaches){const pt=this._sourceCaches[ct].getSource();it[pt.id]||(it[pt.id]=pt.serialize())}return j.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:it,layers:this._serializeLayers(this._order)},ct=>ct!==void 0)}_updateLayer(it){this._updatedLayers[it.id]=!0;const ct=this._getLayerSourceCache(it);it.source&&!this._updatedSources[it.source]&&ct&&ct.getSource().type!=="raster"&&(this._updatedSources[it.source]="reload",ct.pause()),this._changed=!0,it.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(it){const ct=kt=>this._layers[kt].type==="fill-extrusion",pt={},vt=[];for(let kt=this._order.length-1;kt>=0;kt--){const Lt=this._order[kt];if(ct(Lt)){pt[Lt]=kt;for(const Zt of it){const en=Zt[Lt];if(en)for(const fn of en)vt.push(fn)}}}vt.sort((kt,Lt)=>Lt.intersectionZ-kt.intersectionZ);const Rt=[];for(let kt=this._order.length-1;kt>=0;kt--){const Lt=this._order[kt];if(ct(Lt))for(let Zt=vt.length-1;Zt>=0;Zt--){const en=vt[Zt].feature;if(pt[en.layer.id]<kt)break;Rt.push(en),vt.pop()}else for(const Zt of it){const en=Zt[Lt];if(en)for(const fn of en)Rt.push(fn.feature)}}return Rt}queryRenderedFeatures(it,ct,pt){ct&&ct.filter&&this._validate(j.validateFilter,"queryRenderedFeatures.filter",ct.filter,null,ct);const vt={};if(ct&&ct.layers){if(!Array.isArray(ct.layers))return this.fire(new j.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const Zt of ct.layers){const en=this._layers[Zt];if(!en)return this.fire(new j.ErrorEvent(new Error(`The layer '${Zt}' does not exist in the map's style and cannot be queried for features.`))),[];vt[en.source]=!0}}const Rt=[];ct.availableImages=this._availableImages;const kt=ct&&ct.layers?ct.layers.some(Zt=>{const en=this.getLayer(Zt);return en&&en.is3D()}):this.has3DLayers(),Lt=jn.createFromScreenPoints(it,pt);for(const Zt in this._sourceCaches){const en=this._sourceCaches[Zt].getSource().id;ct.layers&&!vt[en]||Rt.push(Fr(this._sourceCaches[Zt],this._layers,this._serializedLayers,Lt,ct,pt,kt,!!this.map._showQueryGeometry))}return this.placement&&Rt.push(function(Zt,en,fn,Bn,kn,Pn,Jn){const zn={},Nn=Pn.queryRenderedSymbols(Bn),Vn=[];for(const Hn of Object.keys(Nn).map(Number))Vn.push(Jn[Hn]);Vn.sort(Xr);for(const Hn of Vn){const On=Hn.featureIndex.lookupSymbolFeatures(Nn[Hn.bucketInstanceId],en,Hn.bucketIndex,Hn.sourceLayerIndex,kn.filter,kn.layers,kn.availableImages,Zt);for(const tr in On){const sr=zn[tr]=zn[tr]||[],$n=On[tr];$n.sort((ur,Ur)=>{const Tr=Hn.featureSortOrder;if(Tr){const wr=Tr.indexOf(ur.featureIndex);return Tr.indexOf(Ur.featureIndex)-wr}return Ur.featureIndex-ur.featureIndex});for(const ur of $n)sr.push(ur)}}for(const Hn in zn)zn[Hn].forEach(On=>{const tr=On.feature,sr=fn(Zt[Hn]).getFeatureState(tr.layer["source-layer"],tr.id);tr.source=tr.layer.source,tr.layer["source-layer"]&&(tr.sourceLayer=tr.layer["source-layer"]),tr.state=sr});return zn}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),Lt.screenGeometry,ct,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Rt)}querySourceFeatures(it,ct){ct&&ct.filter&&this._validate(j.validateFilter,"querySourceFeatures.filter",ct.filter,null,ct);const pt=this._getSourceCaches(it);let vt=[];for(const Rt of pt)vt=vt.concat(kr(Rt,ct));return vt}addSourceType(it,ct,pt){return ip.getSourceType(it)?pt(new Error(`A source type called "${it}" already exists.`)):(ip.setSourceType(it,ct),ct.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:it,url:ct.workerSourceURL},pt):pt(null,null))}getLight(){return this.light.getLight()}setLight(it,ct={}){this._checkLoaded();const pt=this.light.getLight();let vt=!1;for(const kt in it)if(!st(it[kt],pt[kt])){vt=!0;break}if(!vt)return;const Rt=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(it,ct),this.light.updateTransitions(Rt)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(it,ct=1){if(this._checkLoaded(),!it)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(ct===1){if(typeof it.source=="object"){const pt="terrain-dem-src";this.addSource(pt,it.source),it=j.clone$1(it),it=j.extend(it,{source:pt})}if(this._validate(j.validateTerrain,"terrain",it))return}if(!this.terrain||this.terrain&&ct!==this.terrain.drapeRenderMode)this._createTerrain(it,ct);else{const pt=this.terrain,vt=pt.get();for(const Rt of Object.keys(j.spec.terrain))!it.hasOwnProperty(Rt)&&j.spec.terrain[Rt].default&&(it[Rt]=j.spec.terrain[Rt].default);for(const Rt in it)if(!st(it[Rt],vt[Rt])){pt.set(it),this.stylesheet.terrain=it;const kt=this._setTransitionParameters({duration:0});pt.updateTransitions(kt);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(it){const ct=this.fog=new vn(it,this.map.transform);this.stylesheet.fog=it;const pt=this._setTransitionParameters({duration:0});ct.updateTransitions(pt)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const it of this.map._markers)it._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(it){if(this._checkLoaded(),!it)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const ct=this.fog,pt=ct.get();Object.keys(it).length===0&&ct.set(it);for(const vt in it)if(!st(it[vt],pt[vt])){ct.set(it),this.stylesheet.fog=it;const Rt=this._setTransitionParameters({duration:0});ct.updateTransitions(Rt);break}}else this._createFog(it);this._markersNeedUpdate=!0}_setTransitionParameters(it){return{now:j.exported.now(),transition:j.extend(it,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const it=this._order.filter(pt=>this.isLayerDraped(this._layers[pt])),ct=this._order.filter(pt=>!this.isLayerDraped(this._layers[pt]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...it),this._drapedFirstOrder.push(...ct)}_createTerrain(it,ct){const pt=this.terrain=new hn(it,ct);this.stylesheet.terrain=it,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const vt=this._setTransitionParameters({duration:0});pt.updateTransitions(vt)}_force3DLayerUpdate(){for(const it in this._layers){const ct=this._layers[it];ct.type==="fill-extrusion"&&this._updateLayer(ct)}}_forceSymbolLayerUpdate(){for(const it in this._layers){const ct=this._layers[it];ct.type==="symbol"&&this._updateLayer(ct)}}_validate(it,ct,pt,vt,Rt={}){return(!Rt||Rt.validate!==!1)&&Lu(this,it.call(j.validateStyle,j.extend({key:ct,style:this.serialize(),value:pt,styleSpec:j.spec},vt)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),j.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const it in this._layers)this._layers[it].setEventedParent(null);for(const it in this._sourceCaches)this._sourceCaches[it].clearTiles(),this._sourceCaches[it].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(it){const ct=this._getSourceCaches(it);for(const pt of ct)pt.clearTiles()}_reloadSource(it){const ct=this._getSourceCaches(it);for(const pt of ct)pt.resume(),pt.reload()}_reloadSources(){for(const it of this._getSources())it.reload&&it.reload()}_updateSources(it){for(const ct in this._sourceCaches)this._sourceCaches[ct].update(it)}_generateCollisionBoxes(){for(const it in this._sourceCaches){const ct=this._sourceCaches[it];ct.resume(),ct.reload()}}_updatePlacement(it,ct,pt,vt,Rt=!1){let kt=!1,Lt=!1;const Zt={};for(const en of this._order){const fn=this._layers[en];if(fn.type!=="symbol")continue;if(!Zt[fn.source]){const kn=this._getLayerSourceCache(fn);if(!kn)continue;Zt[fn.source]=kn.getRenderableIds(!0).map(Pn=>kn.getTileByID(Pn)).sort((Pn,Jn)=>Jn.tileID.overscaledZ-Pn.tileID.overscaledZ||(Pn.tileID.isLessThan(Jn.tileID)?-1:1))}const Bn=this.crossTileSymbolIndex.addLayer(fn,Zt[fn.source],it.center.lng,it.projection);kt=kt||Bn}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),Rt=Rt||this._layerOrderChanged||pt===0,this._layerOrderChanged&&this.fire(new j.Event("neworder")),(Rt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(j.exported.now(),it.zoom))&&(this.pauseablePlacement=new js(it,this._order,Rt,ct,pt,vt,this.placement,this.fog&&it.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Zt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(j.exported.now()),Lt=!0),kt&&this.pauseablePlacement.placement.setStale()),Lt||kt)for(const en of this._order){const fn=this._layers[en];fn.type==="symbol"&&this.placement.updateLayerOpacities(fn,Zt[fn.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(j.exported.now())}_releaseSymbolFadeTiles(){for(const it in this._sourceCaches)this._sourceCaches[it].releaseSymbolFadeTiles()}getImages(it,ct,pt){this.imageManager.getImages(ct.icons,pt),this._updateTilesForChangedImages();const vt=Rt=>{Rt&&Rt.setDependencies(ct.tileID.key,ct.type,ct.icons)};vt(this._otherSourceCaches[ct.source]),vt(this._symbolSourceCaches[ct.source])}getGlyphs(it,ct,pt){this.glyphManager.getGlyphs(ct.stacks,pt)}getResource(it,ct,pt){return j.makeRequest(ct,pt)}_getSourceCache(it){return this._otherSourceCaches[it]}_getLayerSourceCache(it){return it.type==="symbol"?this._symbolSourceCaches[it.source]:this._otherSourceCaches[it.source]}_getSourceCaches(it){const ct=[];return this._otherSourceCaches[it]&&ct.push(this._otherSourceCaches[it]),this._symbolSourceCaches[it]&&ct.push(this._symbolSourceCaches[it]),ct}_isSourceCacheLoaded(it){const ct=this._getSourceCaches(it);return ct.length===0?(this.fire(new j.ErrorEvent(new Error(`There is no source with ID '${it}'`))),!1):ct.every(pt=>pt.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}ip.getSourceType=function(ht){return pr[ht]},ip.setSourceType=function(ht,it){pr[ht]=it},ip.registerForPluginStateChange=j.registerForPluginStateChange;var by=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,cu="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",E_=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,By=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,w_=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Ry={},Qy={};const am=[];op(by,am),op(E_,am),op(By,am),op(w_,am),Ry=ds("",E_),Qy=ds(w_,By);const uu=ds(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),x_=by,hu=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var T_={background:ds(`uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:ds(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:ds(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:ds("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ds(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:ds(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:ds("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:ds("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:ds("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:ds(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:ds(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:ds(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:ds(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:ds(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);float roof_radiance=clamp(u_lightpos.z,0.0,1.0);roof_radiance=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roof_radiance);v_roof_color.rgb+=clamp(color.rgb*roof_radiance*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:ds(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:ds(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ds(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:ds(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
#ifdef RENDER_LINE_GRADIENT
highp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);
#else
vec4 out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:ds(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:ds(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:ds(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:ds(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:ds(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:ds(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:ds(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:ds(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cu),skyboxGradient:ds(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cu),skyboxCapture:ds(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:ds(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:ds(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function op(ht,it){const ct=ht.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let pt of ct)if(pt=pt.trim(),pt[0]==="#"&&pt.includes("if")&&!pt.includes("endif")){pt=pt.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const vt=pt.split(" ");for(const Rt of vt)it.includes(Rt)||it.push(Rt)}}function ds(ht,it){const ct=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,pt=it.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),vt={},Rt=[...am];return op(ht,Rt),op(it,Rt),{fragmentSource:ht=ht.replace(ct,(kt,Lt,Zt,en,fn)=>(vt[fn]=!0,Lt==="define"?`
#ifndef HAS_UNIFORM_u_${fn}
varying ${Zt} ${en} ${fn};
#else
uniform ${Zt} ${en} u_${fn};
#endif
`:`
#ifdef HAS_UNIFORM_u_${fn}
    ${Zt} ${en} ${fn} = u_${fn};
#endif
`)),vertexSource:it=it.replace(ct,(kt,Lt,Zt,en,fn)=>{const Bn=en==="float"?"vec2":"vec4",kn=fn.match(/color/)?"color":Bn;return vt[fn]?Lt==="define"?`
#ifndef HAS_UNIFORM_u_${fn}
uniform lowp float u_${fn}_t;
attribute ${Zt} ${Bn} a_${fn};
varying ${Zt} ${en} ${fn};
#else
uniform ${Zt} ${en} u_${fn};
#endif
`:kn==="vec4"?`
#ifndef HAS_UNIFORM_u_${fn}
    ${fn} = a_${fn};
#else
    ${Zt} ${en} ${fn} = u_${fn};
#endif
`:`
#ifndef HAS_UNIFORM_u_${fn}
    ${fn} = unpack_mix_${kn}(a_${fn}, u_${fn}_t);
#else
    ${Zt} ${en} ${fn} = u_${fn};
#endif
`:Lt==="define"?`
#ifndef HAS_UNIFORM_u_${fn}
uniform lowp float u_${fn}_t;
attribute ${Zt} ${Bn} a_${fn};
#else
uniform ${Zt} ${en} u_${fn};
#endif
`:kn==="vec4"?`
#ifndef HAS_UNIFORM_u_${fn}
    ${Zt} ${en} ${fn} = a_${fn};
#else
    ${Zt} ${en} ${fn} = u_${fn};
#endif
`:`
#ifndef HAS_UNIFORM_u_${fn}
    ${Zt} ${en} ${fn} = unpack_mix_${kn}(a_${fn}, u_${fn}_t);
#else
    ${Zt} ${en} ${fn} = u_${fn};
#endif
`}),staticAttributes:pt,usedDefines:Rt}}class lm{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(it,ct,pt,vt,Rt,kt,Lt){this.context=it;let Zt=this.boundPaintVertexBuffers.length!==vt.length;for(let fn=0;!Zt&&fn<vt.length;fn++)this.boundPaintVertexBuffers[fn]!==vt[fn]&&(Zt=!0);let en=this.boundDynamicVertexBuffers.length!==Lt.length;for(let fn=0;!en&&fn<Lt.length;fn++)this.boundDynamicVertexBuffers[fn]!==Lt[fn]&&(en=!0);if(!it.extVertexArrayObject||!this.vao||this.boundProgram!==ct||this.boundLayoutVertexBuffer!==pt||Zt||en||this.boundIndexBuffer!==Rt||this.boundVertexOffset!==kt)this.freshBind(ct,pt,vt,Rt,kt,Lt);else{it.bindVertexArrayOES.set(this.vao);for(const fn of Lt)fn&&fn.bind();Rt&&Rt.dynamicDraw&&Rt.bind()}}freshBind(it,ct,pt,vt,Rt,kt){let Lt;const Zt=it.numAttributes,en=this.context,fn=en.gl;if(en.extVertexArrayObject)this.vao&&this.destroy(),this.vao=en.extVertexArrayObject.createVertexArrayOES(),en.bindVertexArrayOES.set(this.vao),Lt=0,this.boundProgram=it,this.boundLayoutVertexBuffer=ct,this.boundPaintVertexBuffers=pt,this.boundIndexBuffer=vt,this.boundVertexOffset=Rt,this.boundDynamicVertexBuffers=kt;else{Lt=en.currentNumAttributes||0;for(let Bn=Zt;Bn<Lt;Bn++)fn.disableVertexAttribArray(Bn)}ct.enableAttributes(fn,it),ct.bind(),ct.setVertexAttribPointers(fn,it,Rt);for(const Bn of pt)Bn.enableAttributes(fn,it),Bn.bind(),Bn.setVertexAttribPointers(fn,it,Rt);for(const Bn of kt)Bn&&(Bn.enableAttributes(fn,it),Bn.bind(),Bn.setVertexAttribPointers(fn,it,Rt));vt&&vt.bind(),en.currentNumAttributes=Zt}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function qm(ht,it){const ct=Math.pow(2,it.canonical.z),pt=it.canonical.y;return[new j.MercatorCoordinate(0,pt/ct).toLngLat().lat,new j.MercatorCoordinate(0,(pt+1)/ct).toLngLat().lat]}function qs(ht,it,ct,pt,vt,Rt,kt){const Lt=ht.context,Zt=Lt.gl,en=ct.fbo;if(!en)return;ht.prepareDrawTile();const fn=ht.useProgram("hillshade");Lt.activeTexture.set(Zt.TEXTURE0),Zt.bindTexture(Zt.TEXTURE_2D,en.colorAttachment.get());const Bn=((zn,Nn,Vn,Hn)=>{const On=Vn.paint.get("hillshade-shadow-color"),tr=Vn.paint.get("hillshade-highlight-color"),sr=Vn.paint.get("hillshade-accent-color");let $n=Vn.paint.get("hillshade-illumination-direction")*(Math.PI/180);Vn.paint.get("hillshade-illumination-anchor")==="viewport"&&($n-=zn.transform.angle);const ur=!zn.options.moving;return{u_matrix:Hn||zn.transform.calculateProjMatrix(Nn.tileID.toUnwrapped(),ur),u_image:0,u_latrange:qm(0,Nn.tileID),u_light:[Vn.paint.get("hillshade-exaggeration"),$n],u_shadow:On,u_highlight:tr,u_accent:sr}})(ht,ct,pt,ht.terrain?it.projMatrix:null);ht.prepareDrawProgram(Lt,fn,it.toUnwrapped());const{tileBoundsBuffer:kn,tileBoundsIndexBuffer:Pn,tileBoundsSegments:Jn}=ht.getTileBoundsBuffers(ct);fn.draw(Lt,Zt.TRIANGLES,vt,Rt,kt,j.CullFaceMode.disabled,Bn,pt.id,kn,Pn,Jn)}function sp(ht,it,ct){if(!it.needsDEMTextureUpload)return;const pt=ht.context,vt=pt.gl;pt.pixelStoreUnpackPremultiplyAlpha.set(!1),it.demTexture=it.demTexture||ht.getTileTexture(ct.stride);const Rt=ct.getPixels();it.demTexture?it.demTexture.update(Rt,{premultiply:!1}):it.demTexture=new j.Texture(pt,Rt,vt.RGBA,{premultiply:!1}),it.needsDEMTextureUpload=!1}function Sy(ht,it,ct,pt,vt,Rt){const kt=ht.context,Lt=kt.gl;if(!it.dem)return;const Zt=it.dem;if(kt.activeTexture.set(Lt.TEXTURE1),sp(ht,it,Zt),!it.demTexture)return;it.demTexture.bind(Lt.NEAREST,Lt.CLAMP_TO_EDGE);const en=Zt.dim;kt.activeTexture.set(Lt.TEXTURE0);let fn=it.fbo;if(!fn){const Jn=new j.Texture(kt,{width:en,height:en,data:null},Lt.RGBA);Jn.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),fn=it.fbo=kt.createFramebuffer(en,en,!0),fn.colorAttachment.set(Jn.texture)}kt.bindFramebuffer.set(fn.framebuffer),kt.viewport.set([0,0,en,en]);const{tileBoundsBuffer:Bn,tileBoundsIndexBuffer:kn,tileBoundsSegments:Pn}=ht.getMercatorTileBoundsBuffers();ht.useProgram("hillshadePrepare").draw(kt,Lt.TRIANGLES,pt,vt,Rt,j.CullFaceMode.disabled,((Jn,zn)=>{const Nn=zn.stride,Vn=j.create();return j.ortho(Vn,0,j.EXTENT,-j.EXTENT,0,0,1),j.translate(Vn,Vn,[0,-j.EXTENT,0]),{u_matrix:Vn,u_image:1,u_dimension:[Nn,Nn],u_zoom:Jn.overscaledZ,u_unpack:zn.unpackVector}})(it.tileID,Zt),ct.id,Bn,kn,Pn),it.needsHillshadePrepare=!1}const Ey=ht=>({u_matrix:new j.UniformMatrix4f(ht),u_image0:new j.Uniform1i(ht),u_skirt_height:new j.Uniform1f(ht)}),W0=(ht,it)=>({u_matrix:ht,u_image0:0,u_skirt_height:it}),wy=(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn)=>({u_proj_matrix:Float32Array.from(ht),u_globe_matrix:it,u_normalize_matrix:Float32Array.from(pt),u_merc_matrix:ct,u_zoom_transition:vt,u_merc_center:Rt,u_image0:0,u_frustum_tl:kt,u_frustum_tr:Lt,u_frustum_br:Zt,u_frustum_bl:en,u_globe_pos:fn,u_globe_radius:Bn,u_viewport:kn,u_grid_matrix:Pn?Float32Array.from(Pn):new Float32Array(9)});function L0(ht,it){return ht!=null&&it!=null&&!(!ht.hasData()||!it.hasData())&&ht.demTexture!=null&&it.demTexture!=null&&ht.tileID.key!==it.tileID.key}const cm=new class{constructor(){this.operations={}}newMorphing(ht,it,ct,pt,vt){if(ht in this.operations){const Rt=this.operations[ht];Rt.to.tileID.key!==ct.tileID.key&&(Rt.queued=ct)}else this.operations[ht]={startTime:pt,phase:0,duration:vt,from:it,to:ct,queued:null}}getMorphValuesForProxy(ht){if(!(ht in this.operations))return null;const it=this.operations[ht];return{from:it.from,to:it.to,phase:it.phase}}update(ht){for(const it in this.operations){const ct=this.operations[it];for(ct.phase=(ht-ct.startTime)/ct.duration;ct.phase>=1||!this._validOp(ct);)if(!this._nextOp(ct,ht)){delete this.operations[it];break}}}_nextOp(ht,it){return!!ht.queued&&(ht.from=ht.to,ht.to=ht.queued,ht.queued=null,ht.phase=0,ht.startTime=it,!0)}_validOp(ht){return ht.from.hasData()&&ht.to.hasData()}},Vm={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function _s(ht,it){const ct=1<<ht.z;return!it&&(ht.x===0||ht.x===ct-1)||ht.y===0||ht.y===ct-1}const ap=ht=>({u_matrix:ht});function k_(ht,it,ct,pt,vt){if(vt>0){const Rt=j.exported.now(),kt=(Rt-ht.timeAdded)/vt,Lt=it?(Rt-it.timeAdded)/vt:-1,Zt=ct.getSource(),en=pt.coveringZoomLevel({tileSize:Zt.tileSize,roundZoom:Zt.roundZoom}),fn=!it||Math.abs(it.tileID.overscaledZ-en)>Math.abs(ht.tileID.overscaledZ-en),Bn=fn&&ht.refreshedUponExpiration?1:j.clamp(fn?kt:1-Lt,0,1);return ht.refreshedUponExpiration&&kt>=1&&(ht.refreshedUponExpiration=!1),it?{opacity:1,mix:1-Bn}:{opacity:Bn,mix:0}}return{opacity:1,mix:0}}class C_ extends j.SourceCache{constructor(it){const ct={type:"raster-dem",maxzoom:it.transform.maxZoom},pt=new Wn(wo(),null),vt=yr("mock-dem",ct,pt,it.style);super("mock-dem",vt,!1),vt.setEventedParent(this),this._sourceLoaded=!0}_loadTile(it,ct){it.state="loaded",ct(null)}}class A_ extends j.SourceCache{constructor(it){const ct=yr("proxy",{type:"geojson",maxzoom:it.transform.maxZoom},new Wn(wo(),null),it.style);super("proxy",ct,!1),ct.setEventedParent(this),this.map=this.getSource().map=it,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(it,ct,pt){if(it.freezeTileCoverage)return;this.transform=it;const vt=it.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((Rt,kt)=>{if(Rt[kt.key]="",!this._tiles[kt.key]){const Lt=new j.Tile(kt,this._source.tileSize*kt.overscaleFactor(),it.tileZoom);Lt.state="loaded",this._tiles[kt.key]=Lt}return Rt},{});for(const Rt in this._tiles)Rt in vt||(this.freeFBO(Rt),this._tiles[Rt].unloadVectorData(),delete this._tiles[Rt])}freeFBO(it){const ct=this.proxyCachedFBO[it];if(ct!==void 0){const pt=Object.values(ct);this.renderCachePool.push(...pt),delete this.proxyCachedFBO[it]}}deallocRenderCache(){this.renderCache.forEach(it=>it.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Km extends j.OverscaledTileID{constructor(it,ct,pt){super(it.overscaledZ,it.wrap,it.canonical.z,it.canonical.x,it.canonical.y),this.proxyTileKey=ct,this.projMatrix=pt}}class xy extends j.Elevation{constructor(it,ct){super(),this.painter=it,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[pt,vt,Rt]=function(Zt){const en=new j.StructArrayLayout4i8,fn=new j.StructArrayLayout3ui6,Bn=131;en.reserve(17161),fn.reserve(33800);const kn=j.EXTENT/128,Pn=j.EXTENT+kn/2,Jn=Pn+kn;for(let Nn=-kn;Nn<Jn;Nn+=kn)for(let Vn=-kn;Vn<Jn;Vn+=kn){const Hn=Vn<0||Vn>Pn||Nn<0||Nn>Pn?24575:0,On=j.clamp(Math.round(Vn),0,j.EXTENT),tr=j.clamp(Math.round(Nn),0,j.EXTENT);en.emplaceBack(On+Hn,tr,On,tr)}const zn=(Nn,Vn)=>{const Hn=Vn*Bn+Nn;fn.emplaceBack(Hn+1,Hn,Hn+Bn),fn.emplaceBack(Hn+Bn,Hn+Bn+1,Hn+1)};for(let Nn=1;Nn<129;Nn++)for(let Vn=1;Vn<129;Vn++)zn(Vn,Nn);return[0,129].forEach(Nn=>{for(let Vn=0;Vn<130;Vn++)zn(Vn,Nn),zn(Nn,Vn)}),[en,fn,32768]}(),kt=it.context;this.gridBuffer=kt.createVertexBuffer(pt,j.boundsAttributes.members),this.gridIndexBuffer=kt.createIndexBuffer(vt),this.gridSegments=j.SegmentVector.simpleSegment(0,0,pt.length,vt.length),this.gridNoSkirtSegments=j.SegmentVector.simpleSegment(0,0,pt.length,Rt),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new A_(ct.map),this.orthoMatrix=j.create(),j.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,j.EXTENT,0,j.EXTENT,0,1);const Lt=kt.gl;this._overlapStencilMode=new j.StencilMode({func:Lt.GEQUAL,mask:255},0,255,Lt.KEEP,Lt.KEEP,Lt.REPLACE),this._previousZoom=it.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=ct,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new C_(ct.map)}set style(it){it.on("data",this._onStyleDataEvent.bind(this)),it.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=it,this._checkRenderCacheEfficiency()}update(it,ct,pt){if(it&&it.terrain){this._style!==it&&(this.style=it),this.enabled=!0;const vt=it.terrain.properties;this.sourceCache=it.terrain.drapeRenderMode===0?this._mockSourceCache:it._getSourceCache(vt.get("source")),this._exaggeration=vt.get("exaggeration");const Rt=()=>{this.sourceCache.used&&j.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const kt=this.getScaledDemTileSize();this.sourceCache.update(ct,kt,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,Rt(),this._initializing=!0),Rt(),ct.updateElevation(!pt),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(ct),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(it){this._findCoveringTileCache[it]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const it=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||it.efficiency!==100&&j.warnOnce(`Terrain render cache efficiency is not optimal (${it.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${it.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(it){it.coord&&it.dataType==="source"?this._clearRenderCacheForTile(it.sourceCacheId,it.coord):it.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const it in this._style._sourceCaches)this._style._sourceCaches[it].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(it=>it.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const it=2*this.proxySourceCache.getSource().tileSize;return[it,it]}set useVertexMorphing(it){this._useVertexMorphing=it}updateTileBinding(it){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const ct=this.proxySourceCache,pt=this.painter.transform;this._initializing&&(this._initializing=pt._centerAltitude===0&&this.getAtPointOrZero(j.MercatorCoordinate.fromLngLat(pt.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const vt=this.proxyCoords=ct.getIds().map(Zt=>{const en=ct.getTileByID(Zt).tileID;return en.projMatrix=pt.calculateProjMatrix(en.toUnwrapped()),en});(function(Zt,en){const fn=en.transform.pointCoordinate(en.transform.getCameraPoint()),Bn=new j.pointGeometry(fn.x,fn.y);Zt.sort((kn,Pn)=>{if(Pn.overscaledZ-kn.overscaledZ)return Pn.overscaledZ-kn.overscaledZ;const Jn=new j.pointGeometry(kn.canonical.x+(1<<kn.canonical.z)*kn.wrap,kn.canonical.y),zn=new j.pointGeometry(Pn.canonical.x+(1<<Pn.canonical.z)*Pn.wrap,Pn.canonical.y),Nn=Bn.mult(1<<kn.canonical.z);return Nn.x-=.5,Nn.y-=.5,Nn.distSqr(Jn)-Nn.distSqr(zn)})})(vt,this.painter),this._previousZoom=pt.zoom;const Rt=this.proxyToSource||{};this.proxyToSource={},vt.forEach(Zt=>{this.proxyToSource[Zt.key]={}}),this.terrainTileForTile={};const kt=this._style._sourceCaches;for(const Zt in kt){const en=kt[Zt];if(!en.used||(en!==this.sourceCache&&this.resetTileLookupCache(en.id),this._setupProxiedCoordsForOrtho(en,it[Zt],Rt),en.usedForTerrain))continue;const fn=it[Zt];en.getSource().reparseOverscaled&&this._assignTerrainTiles(fn)}this.proxiedCoords[ct.id]=vt.map(Zt=>new Km(Zt,Zt.key,this.orthoMatrix)),this._assignTerrainTiles(vt),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(Rt),this.renderingToTexture=!1,this._updateTimestamp=j.exported.now();const Lt={};this._visibleDemTiles=[];for(const Zt of this.proxyCoords){const en=this.terrainTileForTile[Zt.key];if(!en)continue;const fn=en.tileID.key;fn in Lt||(this._visibleDemTiles.push(en),Lt[fn]=fn)}}_assignTerrainTiles(it){this._initializing||it.forEach(ct=>{if(this.terrainTileForTile[ct.key])return;const pt=this._findTileCoveringTileID(ct,this.sourceCache);pt&&(this.terrainTileForTile[ct.key]=pt)})}_prepareDEMTextures(){const it=this.painter.context,ct=it.gl;for(const pt in this.terrainTileForTile){const vt=this.terrainTileForTile[pt],Rt=vt.dem;!Rt||vt.demTexture&&!vt.needsDEMTextureUpload||(it.activeTexture.set(ct.TEXTURE1),sp(this.painter,vt,Rt))}}_prepareDemTileUniforms(it,ct,pt,vt){if(!ct||ct.demTexture==null)return!1;const Rt=it.tileID.canonical,kt=Math.pow(2,ct.tileID.canonical.z-Rt.z),Lt=vt||"";return pt[`u_dem_tl${Lt}`]=[Rt.x*kt%1,Rt.y*kt%1],pt[`u_dem_scale${Lt}`]=kt,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const it=this.painter.context,ct=it.gl;if(!this._emptyDepthBufferTexture){const pt=new j.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new j.Texture(it,pt,ct.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let it=0;const ct=this._visibleDemTiles.reduce((pt,vt)=>{if(!vt.dem)return pt;const Rt=vt.dem.tree.minimums[0];return Rt>0&&it++,pt+Rt},0);return it?ct/it:0}_updateEmptyDEMTexture(){const it=this.painter.context,ct=it.gl;it.activeTexture.set(ct.TEXTURE2);const pt=this._getLoadedAreaMinimum(),vt=new j.RGBAImage({width:1,height:1},new Uint8Array(j.DEMData.pack(pt,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let Rt=this._emptyDEMTexture;return Rt?Rt.update(vt,{premultiply:!1}):Rt=this._emptyDEMTexture=new j.Texture(it,vt,ct.RGBA,{premultiply:!1}),Rt}setupElevationDraw(it,ct,pt){const vt=this.painter.context,Rt=vt.gl,kt=(Lt=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:j.DEMData.getUnpackVector(Lt),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var Lt;kt.u_dem_size=this.sourceCache.getSource().tileSize,kt.u_exaggeration=this.exaggeration();let Zt=null,en=null,fn=1;if(pt&&pt.morphing&&this._useVertexMorphing){const Bn=pt.morphing.srcDemTile,kn=pt.morphing.dstDemTile;fn=pt.morphing.phase,Bn&&kn&&(this._prepareDemTileUniforms(it,Bn,kt,"_prev")&&(en=Bn),this._prepareDemTileUniforms(it,kn,kt)&&(Zt=kn))}if(en&&Zt?(vt.activeTexture.set(Rt.TEXTURE2),Zt.demTexture.bind(Rt.NEAREST,Rt.CLAMP_TO_EDGE,Rt.NEAREST),vt.activeTexture.set(Rt.TEXTURE4),en.demTexture.bind(Rt.NEAREST,Rt.CLAMP_TO_EDGE,Rt.NEAREST),kt.u_dem_lerp=fn):(Zt=this.terrainTileForTile[it.tileID.key],vt.activeTexture.set(Rt.TEXTURE2),(this._prepareDemTileUniforms(it,Zt,kt)?Zt.demTexture:this.emptyDEMTexture).bind(Rt.NEAREST,Rt.CLAMP_TO_EDGE)),vt.activeTexture.set(Rt.TEXTURE3),pt&&pt.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(Rt.NEAREST,Rt.CLAMP_TO_EDGE),this._depthFBO&&(kt.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(Rt.NEAREST,Rt.CLAMP_TO_EDGE),kt.u_depth_size_inv=[1,1]),pt&&pt.useMeterToDem&&Zt){const Bn=(1<<Zt.tileID.canonical.z)*j.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;kt.u_meter_to_dem=Bn}if(pt&&pt.labelPlaneMatrixInv&&(kt.u_label_plane_matrix_inv=pt.labelPlaneMatrixInv),ct.setTerrainUniformValues(vt,kt),this.painter.transform.projection.name==="globe"){const Bn=this.globeUniformValues(this.painter.transform,it.tileID.canonical,pt&&pt.useDenormalizedUpVectorScale);ct.setGlobeUniformValues(vt,Bn)}}globeUniformValues(it,ct,pt){const vt=it.projection;return{u_tile_tl_up:vt.upVector(ct,0,0),u_tile_tr_up:vt.upVector(ct,j.EXTENT,0),u_tile_br_up:vt.upVector(ct,j.EXTENT,j.EXTENT),u_tile_bl_up:vt.upVector(ct,0,j.EXTENT),u_tile_up_scale:pt?j.GLOBE_METERS_TO_ECEF:vt.upVectorScale(ct,it.center.lat,it.worldSize).metersToTile}}renderToBackBuffer(it){const ct=this.painter,pt=this.painter.context;it.length!==0&&(pt.bindFramebuffer.set(null),pt.viewport.set([0,0,ct.width,ct.height]),ct.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(vt,Rt,kt,Lt,Zt){if(vt.transform.projection.name==="globe")(function(en,fn,Bn,kn,Pn){const Jn=en.context,zn=Jn.gl;let Nn,Vn;const Hn=en.options.showTerrainWireframe?2:0,On=en.transform,tr=j.globeUseCustomAntiAliasing(en,Jn,On),sr=(Qr,gr)=>{if(Vn===Qr)return;const co=[Vm[Qr],"PROJECTION_GLOBE_VIEW"];tr&&co.push("CUSTOM_ANTIALIASING"),gr&&co.push(Vm[Hn]),Nn=en.useProgram("globeRaster",null,co),Vn=Qr},$n=en.colorModeForRenderPass(),ur=new j.DepthMode(zn.LEQUAL,j.DepthMode.ReadWrite,en.depthRangeFor3D);cm.update(Pn);const Ur=j.calculateGlobeMercatorMatrix(On),Tr=[j.mercatorXfromLng(On.center.lng),j.mercatorYfromLat(On.center.lat)],wr=Hn?[!1,!0]:[!1],qr=en.globeSharedBuffers,_r=[On.width*j.exported.devicePixelRatio,On.height*j.exported.devicePixelRatio],Pr=Float32Array.from(On.globeMatrix),Zr={useDenormalizedUpVectorScale:!0};if(wr.forEach(Qr=>{Vn=-1;const gr=Qr?zn.LINES:zn.TRIANGLES;for(const co of kn){const no=Bn.getTile(co),so=j.StencilMode.disabled,ro=fn.prevTerrainTileForTile[co.key],Ro=fn.terrainTileForTile[co.key];L0(ro,Ro)&&cm.newMorphing(co.key,ro,Ro,Pn,250),Jn.activeTexture.set(zn.TEXTURE0),no.texture.bind(zn.LINEAR,zn.CLAMP_TO_EDGE);const Io=cm.getMorphValuesForProxy(co.key),No=Io?1:0;Io&&j.extend$1(Zr,{morphing:{srcDemTile:Io.from,dstDemTile:Io.to,phase:j.easeCubicInOut(Io.phase)}});const xo=j.tileCornersToBounds(co.canonical),io=j.getLatitudinalLod(xo.getCenter().lat),Yo=j.getGridMatrix(co.canonical,xo,io,On.worldSize/On._pixelsPerMercatorPixel),rs=j.globeNormalizeECEF(j.globeTileBounds(co.canonical)),Ns=wy(On.projMatrix,Pr,Ur,rs,j.globeToMercatorTransition(On.zoom),Tr,On.frustumCorners.TL,On.frustumCorners.TR,On.frustumCorners.BR,On.frustumCorners.BL,On.globeCenterInViewSpace,On.globeRadius,_r,Yo);if(sr(No,Qr),fn.setupElevationDraw(no,Nn,Zr),en.prepareDrawProgram(Jn,Nn,co.toUnwrapped()),qr){const[Ds,Ts,Vl]=Qr?qr.getWirefameBuffers(en.context,io):qr.getGridBuffers(io);Nn.draw(Jn,gr,ur,so,$n,j.CullFaceMode.backCCW,Ns,"globe_raster",Ds,Ts,Vl)}}}),qr){const Qr=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];tr&&Qr.push("CUSTOM_ANTIALIASING"),Nn=en.useProgram("globeRaster",null,Qr);for(const gr of kn){const{x:co,y:no,z:so}=gr.canonical,ro=no===0,Ro=no===(1<<so)-1,[Io,No,xo,io]=qr.getPoleBuffers(so);if(io&&(ro||Ro)){const Yo=Bn.getTile(gr);Jn.activeTexture.set(zn.TEXTURE0),Yo.texture.bind(zn.LINEAR,zn.CLAMP_TO_EDGE);let rs=j.globePoleMatrixForTile(so,co,On);const Ns=j.globeNormalizeECEF(j.globeTileBounds(gr.canonical)),Ds=(Ts,Vl)=>Ts.draw(Jn,zn.TRIANGLES,ur,j.StencilMode.disabled,$n,j.CullFaceMode.disabled,wy(On.projMatrix,rs,rs,Ns,0,Tr,On.frustumCorners.TL,On.frustumCorners.TR,On.frustumCorners.BR,On.frustumCorners.BL,On.globeCenterInViewSpace,On.globeRadius,_r),"globe_pole_raster",Vl,xo,io);fn.setupElevationDraw(Yo,Nn,Zr),en.prepareDrawProgram(Jn,Nn,gr.toUnwrapped()),ro&&Ds(Nn,Io),Ro&&(rs=j.scale(j.create(),rs,[1,-1,1]),Ds(Nn,No))}}}})(vt,Rt,kt,Lt,Zt);else{const en=vt.context,fn=en.gl;let Bn,kn;const Pn=vt.options.showTerrainWireframe?2:0,Jn=(On,tr)=>{if(kn===On)return;const sr=[Vm[On]];tr&&sr.push(Vm[Pn]),Bn=vt.useProgram("terrainRaster",null,sr),kn=On},zn=vt.colorModeForRenderPass(),Nn=new j.DepthMode(fn.LEQUAL,j.DepthMode.ReadWrite,vt.depthRangeFor3D);cm.update(Zt);const Vn=vt.transform,Hn=6*Math.pow(1.5,22-Vn.zoom)*Rt.exaggeration();(Pn?[!1,!0]:[!1]).forEach(On=>{kn=-1;const tr=On?fn.LINES:fn.TRIANGLES,[sr,$n]=On?Rt.getWirefameBuffer():[Rt.gridIndexBuffer,Rt.gridSegments];for(const ur of Lt){const Ur=kt.getTile(ur),Tr=j.StencilMode.disabled,wr=Rt.prevTerrainTileForTile[ur.key],qr=Rt.terrainTileForTile[ur.key];L0(wr,qr)&&cm.newMorphing(ur.key,wr,qr,Zt,250),en.activeTexture.set(fn.TEXTURE0),Ur.texture.bind(fn.LINEAR,fn.CLAMP_TO_EDGE,fn.LINEAR_MIPMAP_NEAREST);const _r=cm.getMorphValuesForProxy(ur.key),Pr=_r?1:0;let Zr;_r&&(Zr={morphing:{srcDemTile:_r.from,dstDemTile:_r.to,phase:j.easeCubicInOut(_r.phase)}});const Qr=W0(ur.projMatrix,_s(ur.canonical,Vn.renderWorldCopies)?Hn/10:Hn);Jn(Pr,On),Rt.setupElevationDraw(Ur,Bn,Zr),vt.prepareDrawProgram(en,Bn,ur.toUnwrapped()),Bn.draw(en,tr,Nn,Tr,zn,j.CullFaceMode.backCCW,Qr,"terrain_raster",Rt.gridBuffer,sr,$n)}})}}(ct,this,this.proxySourceCache,it,this._updateTimestamp),this.renderingToTexture=!0,ct.gpuTimingDeferredRenderEnd(),it.splice(0,it.length))}renderBatch(it){if(this._drapedRenderBatches.length===0)return it+1;this.renderingToTexture=!0;const ct=this.painter,pt=this.painter.context,vt=this.proxySourceCache,Rt=this.proxiedCoords[vt.id],kt=this._drapedRenderBatches.shift(),Lt=[],Zt=ct.style.order;let en=0;for(const fn of Rt){const Bn=vt.getTileByID(fn.proxyTileKey),kn=vt.proxyCachedFBO[fn.key]?vt.proxyCachedFBO[fn.key][it]:void 0,Pn=kn!==void 0?vt.renderCache[kn]:this.pool[en++],Jn=kn!==void 0;if(Bn.texture=Pn.tex,Jn&&!Pn.dirty){Lt.push(Bn.tileID);continue}let zn;pt.bindFramebuffer.set(Pn.fb.framebuffer),this.renderedToTile=!1,Pn.dirty&&(pt.clear({color:j.Color.transparent,stencil:0}),Pn.dirty=!1);for(let Nn=kt.start;Nn<=kt.end;++Nn){const Vn=ct.style._layers[Zt[Nn]];if(Vn.isHidden(ct.transform.zoom))continue;const Hn=ct.style._getLayerSourceCache(Vn),On=Hn?this.proxyToSource[fn.key][Hn.id]:[fn];if(!On)continue;const tr=On;pt.viewport.set([0,0,Pn.fb.width,Pn.fb.height]),zn!==(Hn?Hn.id:null)&&(this._setupStencil(Pn,On,Vn,Hn),zn=Hn?Hn.id:null),ct.renderLayer(ct,Hn,Vn,tr)}this.renderedToTile?(Pn.dirty=!0,Lt.push(Bn.tileID)):Jn||--en,en===5&&(en=0,this.renderToBackBuffer(Lt))}return this.renderToBackBuffer(Lt),this.renderingToTexture=!1,pt.bindFramebuffer.set(null),pt.viewport.set([0,0,ct.width,ct.height]),kt.end+1}postRender(){}renderCacheEfficiency(it){const ct=it.order.length;if(ct===0)return{efficiency:100};let pt,vt=0,Rt=0,kt=!1;for(let Lt=0;Lt<ct;++Lt){const Zt=it._layers[it.order[Lt]];this._style.isLayerDraped(Zt)?(kt&&++vt,++Rt):kt||(kt=!0,pt=Zt.id)}return Rt===0?{efficiency:100}:{efficiency:100*(1-vt/Rt),firstUndrapedLayer:pt}}getMinElevationBelowMSL(){let it=0;return this._visibleDemTiles.filter(ct=>ct.dem).forEach(ct=>{it=Math.min(it,ct.dem.tree.minimums[0])}),it===0?it:(it-30)*this._exaggeration}raycast(it,ct,pt){if(!this._visibleDemTiles)return null;const vt=this._visibleDemTiles.filter(Rt=>Rt.dem).map(Rt=>{const kt=Rt.tileID,Lt=1<<kt.overscaledZ,{x:Zt,y:en}=kt.canonical,fn=Zt/Lt,Bn=(Zt+1)/Lt,kn=en/Lt,Pn=(en+1)/Lt;return{minx:fn,miny:kn,maxx:Bn,maxy:Pn,t:Rt.dem.tree.raycastRoot(fn,kn,Bn,Pn,it,ct,pt),tile:Rt}});vt.sort((Rt,kt)=>(Rt.t!==null?Rt.t:Number.MAX_VALUE)-(kt.t!==null?kt.t:Number.MAX_VALUE));for(const Rt of vt){if(Rt.t==null)return null;const kt=Rt.tile.dem.tree.raycast(Rt.minx,Rt.miny,Rt.maxx,Rt.maxy,it,ct,pt);if(kt!=null)return kt}return null}_createFBO(){const it=this.painter.context,ct=it.gl,pt=this.drapeBufferSize;it.activeTexture.set(ct.TEXTURE0);const vt=new j.Texture(it,{width:pt[0],height:pt[1],data:null},ct.RGBA);vt.bind(ct.LINEAR,ct.CLAMP_TO_EDGE);const Rt=it.createFramebuffer(pt[0],pt[1],!1);return Rt.colorAttachment.set(vt.texture),Rt.depthAttachment=new Jr(it,Rt.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=it.createRenderbuffer(it.gl.DEPTH_STENCIL,pt[0],pt[1]),this._stencilRef=0,Rt.depthAttachment.set(this._sharedDepthStencil),it.clear({stencil:0})):Rt.depthAttachment.set(this._sharedDepthStencil),it.extTextureFilterAnisotropic&&!it.extTextureFilterAnisotropicForceOff&&ct.texParameterf(ct.TEXTURE_2D,it.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,it.extTextureFilterAnisotropicMax),{fb:Rt,tex:vt,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const it in this._style._sourceCaches)if(this._style._sourceCaches[it].hasTransition())return!0;return this._style.order.some(it=>{const ct=this._style._layers[it],pt=ct.isHidden(this.painter.transform.zoom),vt=ct.getCrossfadeParameters(),Rt=!!vt&&vt.t!==1,kt=ct.hasTransition();return ct.type!=="custom"&&!pt&&(Rt||kt)})}_clearRasterFadeFromRenderCache(){let it=!1;for(const ct in this._style._sourceCaches)if(this._style._sourceCaches[ct]._source instanceof rn){it=!0;break}if(it)for(let ct=0;ct<this._style.order.length;++ct){const pt=this._style._layers[this._style.order[ct]],vt=pt.isHidden(this.painter.transform.zoom),Rt=this._style._getLayerSourceCache(pt);if(pt.type!=="raster"||vt||!Rt)continue;const kt=pt.paint.get("raster-fade-duration");for(const Lt of this.proxyCoords){const Zt=this.proxyToSource[Lt.key][Rt.id];if(Zt)for(const en of Zt){const fn=k_(Rt.getTile(en),Rt.findLoadedParent(en,0),Rt,this.painter.transform,kt);(fn.opacity!==1||fn.mix!==0)&&this._clearRenderCacheForTile(Rt.id,en)}}}}_setupDrapedRenderBatches(){const it=this._style.order,ct=it.length;if(ct===0)return;const pt=[];let vt,Rt=0,kt=this._style._layers[it[Rt]];for(;!this._style.isLayerDraped(kt)&&kt.isHidden(this.painter.transform.zoom)&&++Rt<ct;)kt=this._style._layers[it[Rt]];for(;Rt<ct;++Rt){const Lt=this._style._layers[it[Rt]];Lt.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(Lt)?vt===void 0&&(vt=Rt):vt!==void 0&&(pt.push({start:vt,end:Rt-1}),vt=void 0))}vt!==void 0&&pt.push({start:vt,end:Rt-1}),this._drapedRenderBatches=pt}_setupRenderCache(it){const ct=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,ct.renderCache.length>ct.renderCachePool.length){const kt=Object.values(ct.proxyCachedFBO);ct.proxyCachedFBO={};for(let Lt=0;Lt<kt.length;++Lt){const Zt=Object.values(kt[Lt]);ct.renderCachePool.push(...Zt)}}return}this._clearRasterFadeFromRenderCache();const pt=this.proxyCoords,vt=this._tilesDirty;for(let kt=pt.length-1;kt>=0;kt--){const Lt=pt[kt];if(ct.getTileByID(Lt.key),ct.proxyCachedFBO[Lt.key]!==void 0){const Zt=it[Lt.key],en=this.proxyToSource[Lt.key];let fn=0;for(const Bn in en){const kn=en[Bn],Pn=Zt[Bn];if(!Pn||Pn.length!==kn.length||kn.some((Jn,zn)=>Jn!==Pn[zn]||vt[Bn]&&vt[Bn].hasOwnProperty(Jn.key))){fn=-1;break}++fn}for(const Bn in ct.proxyCachedFBO[Lt.key])ct.renderCache[ct.proxyCachedFBO[Lt.key][Bn]].dirty=fn<0||fn!==Object.values(Zt).length}}const Rt=[...this._drapedRenderBatches];Rt.sort((kt,Lt)=>Lt.end-Lt.start-(kt.end-kt.start));for(const kt of Rt)for(const Lt of pt){if(ct.proxyCachedFBO[Lt.key])continue;let Zt=ct.renderCachePool.pop();Zt===void 0&&ct.renderCache.length<50&&(Zt=ct.renderCache.length,ct.renderCache.push(this._createFBO())),Zt!==void 0&&(ct.proxyCachedFBO[Lt.key]={},ct.proxyCachedFBO[Lt.key][kt.start]=Zt,ct.renderCache[Zt].dirty=!0)}this._tilesDirty={}}_setupStencil(it,ct,pt,vt){if(!vt||!this._sourceTilesOverlap[vt.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const Rt=this.painter.context,kt=Rt.gl;if(ct.length<=1)return void(this._overlapStencilType=!1);let Lt;if(pt.isTileClipped())Lt=ct.length,this._overlapStencilMode.test={func:kt.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(ct[0].overscaledZ>ct[ct.length-1].overscaledZ))return void(this._overlapStencilType=!1);Lt=1,this._overlapStencilMode.test={func:kt.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+Lt>255&&(Rt.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=Lt,this._overlapStencilMode.ref=this._stencilRef,pt.isTileClipped()&&this._renderTileClippingMasks(ct,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(it){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[it.key]),this._overlapStencilMode):j.StencilMode.disabled}_renderTileClippingMasks(it,ct){const pt=this.painter,vt=this.painter.context,Rt=vt.gl;pt._tileClippingMaskIDs={},vt.setColorMode(j.ColorMode.disabled),vt.setDepthMode(j.DepthMode.disabled);const kt=pt.useProgram("clippingMask");for(const Lt of it){const Zt=pt._tileClippingMaskIDs[Lt.key]=--ct;kt.draw(vt,Rt.TRIANGLES,j.DepthMode.disabled,new j.StencilMode({func:Rt.ALWAYS,mask:0},Zt,255,Rt.KEEP,Rt.KEEP,Rt.REPLACE),j.ColorMode.disabled,j.CullFaceMode.disabled,ap(Lt.projMatrix),"$clipping",pt.tileExtentBuffer,pt.quadTriangleIndexBuffer,pt.tileExtentSegments)}}pointCoordinate(it){const ct=this.painter.transform;if(it.x<0||it.x>ct.width||it.y<0||it.y>ct.height)return null;const pt=[it.x,it.y,1,1];j.transformMat4$1(pt,pt,ct.pixelMatrixInverse),j.scale$1(pt,pt,1/pt[3]),pt[0]/=ct.worldSize,pt[1]/=ct.worldSize;const vt=ct._camera.position,Rt=j.mercatorZfromAltitude(1,ct.center.lat),kt=[vt[0],vt[1],vt[2]/Rt,0],Lt=j.subtract([],pt.slice(0,3),kt);j.normalize(Lt,Lt);const Zt=this.raycast(kt,Lt,this._exaggeration);return Zt!==null&&Zt?(j.scaleAndAdd(kt,kt,Lt,Zt),kt[3]=kt[2],kt[2]*=Rt,kt):null}drawDepth(){const it=this.painter,ct=it.context,pt=this.proxySourceCache,vt=Math.ceil(it.width),Rt=Math.ceil(it.height);if(!this._depthFBO||this._depthFBO.width===vt&&this._depthFBO.height===Rt||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const kt=ct.gl,Lt=ct.createFramebuffer(vt,Rt,!0);ct.activeTexture.set(kt.TEXTURE0);const Zt=new j.Texture(ct,{width:vt,height:Rt,data:null},kt.RGBA);Zt.bind(kt.NEAREST,kt.CLAMP_TO_EDGE),Lt.colorAttachment.set(Zt.texture);const en=ct.createRenderbuffer(ct.gl.DEPTH_COMPONENT16,vt,Rt);Lt.depthAttachment.set(en),this._depthFBO=Lt,this._depthTexture=Zt}ct.bindFramebuffer.set(this._depthFBO.framebuffer),ct.viewport.set([0,0,vt,Rt]),function(kt,Lt,Zt,en){if(kt.transform.projection.name==="globe")return;const fn=kt.context,Bn=fn.gl;fn.clear({depth:1});const kn=kt.useProgram("terrainDepth"),Pn=new j.DepthMode(Bn.LESS,j.DepthMode.ReadWrite,kt.depthRangeFor3D);for(const Jn of en){const zn=Zt.getTile(Jn),Nn=W0(Jn.projMatrix,0);Lt.setupElevationDraw(zn,kn),kn.draw(fn,Bn.TRIANGLES,Pn,j.StencilMode.disabled,j.ColorMode.unblended,j.CullFaceMode.backCCW,Nn,"terrain_depth",Lt.gridBuffer,Lt.gridIndexBuffer,Lt.gridNoSkirtSegments)}}(it,this,pt,this.proxyCoords)}_setupProxiedCoordsForOrtho(it,ct,pt){if(it.getSource()instanceof er)return this._setupProxiedCoordsForImageSource(it,ct,pt);this._findCoveringTileCache[it.id]=this._findCoveringTileCache[it.id]||{};const vt=this.proxiedCoords[it.id]=[],Rt=this.proxyCoords;for(let Lt=0;Lt<Rt.length;Lt++){const Zt=Rt[Lt],en=this._findTileCoveringTileID(Zt,it);if(en){const fn=this._createProxiedId(Zt,en,pt[Zt.key]&&pt[Zt.key][it.id]);vt.push(fn),this.proxyToSource[Zt.key][it.id]=[fn]}}let kt=!1;for(let Lt=0;Lt<ct.length;Lt++){const Zt=it.getTile(ct[Lt]);if(!Zt||!Zt.hasData())continue;const en=this._findTileCoveringTileID(Zt.tileID,this.proxySourceCache);if(en&&en.tileID.canonical.z!==Zt.tileID.canonical.z){const fn=this.proxyToSource[en.tileID.key][it.id],Bn=this._createProxiedId(en.tileID,Zt,pt[en.tileID.key]&&pt[en.tileID.key][it.id]);fn?fn.splice(fn.length-1,0,Bn):this.proxyToSource[en.tileID.key][it.id]=[Bn],vt.push(Bn),kt=!0}}this._sourceTilesOverlap[it.id]=kt}_setupProxiedCoordsForImageSource(it,ct,pt){if(!it.getSource().loaded())return;const vt=this.proxiedCoords[it.id]=[],Rt=this.proxyCoords,kt=it.getSource(),Lt=new j.pointGeometry(kt.tileID.x,kt.tileID.y)._div(1<<kt.tileID.z),Zt=kt.coordinates.map(j.MercatorCoordinate.fromLngLat).reduce((fn,Bn)=>(fn.min.x=Math.min(fn.min.x,Bn.x-Lt.x),fn.min.y=Math.min(fn.min.y,Bn.y-Lt.y),fn.max.x=Math.max(fn.max.x,Bn.x-Lt.x),fn.max.y=Math.max(fn.max.y,Bn.y-Lt.y),fn),{min:new j.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new j.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),en=(fn,Bn)=>{const kn=fn.wrap+fn.canonical.x/(1<<fn.canonical.z),Pn=fn.canonical.y/(1<<fn.canonical.z),Jn=j.EXTENT/(1<<fn.canonical.z),zn=Bn.wrap+Bn.canonical.x/(1<<Bn.canonical.z),Nn=Bn.canonical.y/(1<<Bn.canonical.z);return kn+Jn<zn+Zt.min.x||kn>zn+Zt.max.x||Pn+Jn<Nn+Zt.min.y||Pn>Nn+Zt.max.y};for(let fn=0;fn<Rt.length;fn++){const Bn=Rt[fn];for(let kn=0;kn<ct.length;kn++){const Pn=it.getTile(ct[kn]);if(!Pn||!Pn.hasData()||en(Bn,Pn.tileID))continue;const Jn=this._createProxiedId(Bn,Pn,pt[Bn.key]&&pt[Bn.key][it.id]),zn=this.proxyToSource[Bn.key][it.id];zn?zn.push(Jn):this.proxyToSource[Bn.key][it.id]=[Jn],vt.push(Jn)}}}_createProxiedId(it,ct,pt){let vt=this.orthoMatrix;if(pt){const Rt=pt.find(kt=>kt.key===ct.tileID.key);if(Rt)return Rt}if(ct.tileID.key!==it.key){const Rt=it.canonical.z-ct.tileID.canonical.z;let kt,Lt,Zt;vt=j.create();const en=ct.tileID.wrap-it.wrap<<it.overscaledZ;Rt>0?(kt=j.EXTENT>>Rt,Lt=kt*((ct.tileID.canonical.x<<Rt)-it.canonical.x+en),Zt=kt*((ct.tileID.canonical.y<<Rt)-it.canonical.y)):(kt=j.EXTENT<<-Rt,Lt=j.EXTENT*(ct.tileID.canonical.x-(it.canonical.x+en<<-Rt)),Zt=j.EXTENT*(ct.tileID.canonical.y-(it.canonical.y<<-Rt))),j.ortho(vt,0,kt,0,kt,0,1),j.translate(vt,vt,[Lt,Zt,0])}return new Km(ct.tileID,it.key,vt)}_findTileCoveringTileID(it,ct){let pt=ct.getTile(it);if(pt&&pt.hasData())return pt;const vt=this._findCoveringTileCache[ct.id],Rt=vt[it.key];if(pt=Rt?ct.getTileByID(Rt):null,pt&&pt.hasData()||Rt===null)return pt;let kt=pt?pt.tileID:it,Lt=kt.overscaledZ;const Zt=ct.getSource().minzoom,en=[];if(!Rt){const Bn=ct.getSource().maxzoom;if(it.canonical.z>=Bn){const kn=it.canonical.z-Bn;ct.getSource().reparseOverscaled?(Lt=Math.max(it.canonical.z+2,ct.transform.tileZoom),kt=new j.OverscaledTileID(Lt,it.wrap,Bn,it.canonical.x>>kn,it.canonical.y>>kn)):kn!==0&&(Lt=Bn,kt=new j.OverscaledTileID(Lt,it.wrap,Bn,it.canonical.x>>kn,it.canonical.y>>kn))}kt.key!==it.key&&(en.push(kt.key),pt=ct.getTile(kt))}const fn=Bn=>{en.forEach(kn=>{vt[kn]=Bn}),en.length=0};for(Lt-=1;Lt>=Zt&&(!pt||!pt.hasData());Lt--){pt&&fn(pt.tileID.key);const Bn=kt.calculateScaledKey(Lt);if(pt=ct.getTileByID(Bn),pt&&pt.hasData())break;const kn=vt[Bn];if(kn===null)break;kn===void 0?en.push(Bn):pt=ct.getTileByID(kn)}return fn(pt?pt.tileID.key:null),pt&&pt.hasData()?pt:null}findDEMTileFor(it){return this.enabled?this._findTileCoveringTileID(it,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(it,ct){let pt=this._tilesDirty[it];pt||(pt=this._tilesDirty[it]={}),pt[ct.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const it=function(ct){let pt=0;const vt=new j.StructArrayLayout2ui4,Rt=131;for(let kt=1;kt<129;kt++){for(let Lt=1;Lt<129;Lt++)pt=kt*Rt+Lt,vt.emplaceBack(pt,pt+1),vt.emplaceBack(pt,pt+Rt),vt.emplaceBack(pt+1,pt+Rt),kt===128&&vt.emplaceBack(pt+Rt,pt+Rt+1);vt.emplaceBack(pt+1,pt+1+Rt)}return vt}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(it),this.wireframeSegments=j.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,it.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class V_{static cacheKey(it,ct,pt,vt){let Rt=`${ct}${vt?vt.cacheKey:""}`;for(const kt of pt)it.usedDefines.includes(kt)&&(Rt+=`/${kt}`);return Rt}constructor(it,ct,pt,vt,Rt,kt){const Lt=it.gl;this.program=Lt.createProgram();const Zt=function(Nn){const Vn=[];for(let Hn=0;Hn<Nn.length;Hn++){if(Nn[Hn]===null)continue;const On=Nn[Hn].split(" ");Vn.push(On.pop())}return Vn}(pt.staticAttributes),en=vt?vt.getBinderAttributes():[],fn=Zt.concat(en);let Bn=vt?vt.defines():[];Bn=Bn.concat(kt.map(Nn=>`#define ${Nn}`));const kn=Bn.concat(it.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(hu):hu,hu,x_,uu.fragmentSource,Qy.fragmentSource,pt.fragmentSource).join(`
`),Pn=Bn.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,x_,uu.vertexSource,Qy.vertexSource,Ry.vertexSource,pt.vertexSource).join(`
`),Jn=Lt.createShader(Lt.FRAGMENT_SHADER);if(Lt.isContextLost())return void(this.failedToCreate=!0);Lt.shaderSource(Jn,kn),Lt.compileShader(Jn),Lt.attachShader(this.program,Jn);const zn=Lt.createShader(Lt.VERTEX_SHADER);if(Lt.isContextLost())this.failedToCreate=!0;else{Lt.shaderSource(zn,Pn),Lt.compileShader(zn),Lt.attachShader(this.program,zn),this.attributes={},this.numAttributes=fn.length;for(let Nn=0;Nn<this.numAttributes;Nn++)fn[Nn]&&(Lt.bindAttribLocation(this.program,Nn,fn[Nn]),this.attributes[fn[Nn]]=Nn);Lt.linkProgram(this.program),Lt.deleteShader(zn),Lt.deleteShader(Jn),this.fixedUniforms=Rt(it),this.binderUniforms=vt?vt.getUniforms(it):[],kt.includes("TERRAIN")&&(this.terrainUniforms=(Nn=>({u_dem:new j.Uniform1i(Nn),u_dem_prev:new j.Uniform1i(Nn),u_dem_unpack:new j.Uniform4f(Nn),u_dem_tl:new j.Uniform2f(Nn),u_dem_scale:new j.Uniform1f(Nn),u_dem_tl_prev:new j.Uniform2f(Nn),u_dem_scale_prev:new j.Uniform1f(Nn),u_dem_size:new j.Uniform1f(Nn),u_dem_lerp:new j.Uniform1f(Nn),u_exaggeration:new j.Uniform1f(Nn),u_depth:new j.Uniform1i(Nn),u_depth_size_inv:new j.Uniform2f(Nn),u_meter_to_dem:new j.Uniform1f(Nn),u_label_plane_matrix_inv:new j.UniformMatrix4f(Nn)}))(it)),kt.includes("GLOBE")&&(this.globeUniforms=(Nn=>({u_tile_tl_up:new j.Uniform3f(Nn),u_tile_tr_up:new j.Uniform3f(Nn),u_tile_br_up:new j.Uniform3f(Nn),u_tile_bl_up:new j.Uniform3f(Nn),u_tile_up_scale:new j.Uniform1f(Nn)}))(it)),kt.includes("FOG")&&(this.fogUniforms=(Nn=>({u_fog_matrix:new j.UniformMatrix4f(Nn),u_fog_range:new j.Uniform2f(Nn),u_fog_color:new j.Uniform4f(Nn),u_fog_horizon_blend:new j.Uniform1f(Nn),u_fog_temporal_offset:new j.Uniform1f(Nn),u_frustum_tl:new j.Uniform3f(Nn),u_frustum_tr:new j.Uniform3f(Nn),u_frustum_br:new j.Uniform3f(Nn),u_frustum_bl:new j.Uniform3f(Nn),u_globe_pos:new j.Uniform3f(Nn),u_globe_radius:new j.Uniform1f(Nn),u_globe_transition:new j.Uniform1f(Nn),u_is_globe:new j.Uniform1i(Nn),u_viewport:new j.Uniform2f(Nn)}))(it))}}setTerrainUniformValues(it,ct){if(!this.terrainUniforms)return;const pt=this.terrainUniforms;if(!this.failedToCreate){it.program.set(this.program);for(const vt in ct)pt[vt]&&pt[vt].set(this.program,vt,ct[vt])}}setGlobeUniformValues(it,ct){if(!this.globeUniforms)return;const pt=this.globeUniforms;if(!this.failedToCreate){it.program.set(this.program);for(const vt in ct)pt[vt]&&pt[vt].set(this.program,vt,ct[vt])}}setFogUniformValues(it,ct){if(!this.fogUniforms)return;const pt=this.fogUniforms;if(!this.failedToCreate){it.program.set(this.program);for(const vt in ct)pt[vt].set(this.program,vt,ct[vt])}}draw(it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn){const Nn=it.gl;if(this.failedToCreate)return;it.program.set(this.program),it.setDepthMode(pt),it.setStencilMode(vt),it.setColorMode(Rt),it.setCullFace(kt);for(const Hn of Object.keys(this.fixedUniforms))this.fixedUniforms[Hn].set(this.program,Hn,Lt[Hn]);Jn&&Jn.setUniforms(this.program,it,this.binderUniforms,kn,{zoom:Pn});const Vn={[Nn.LINES]:2,[Nn.TRIANGLES]:3,[Nn.LINE_STRIP]:1}[ct];for(const Hn of Bn.get()){const On=Hn.vaos||(Hn.vaos={});(On[Zt]||(On[Zt]=new lm)).bind(it,this,en,Jn?Jn.getPaintVertexBuffers():[],fn,Hn.vertexOffset,zn||[]),Nn.drawElements(ct,Hn.primitiveLength*Vn,Nn.UNSIGNED_SHORT,Hn.primitiveOffset*Vn*2)}}}function EU(ht,it,ct){const pt=1/Ln(ct,1,it.transform.tileZoom),vt=Math.pow(2,ct.tileID.overscaledZ),Rt=ct.tileSize*Math.pow(2,it.transform.tileZoom)/vt,kt=Rt*(ct.tileID.canonical.x+ct.tileID.wrap*vt),Lt=Rt*ct.tileID.canonical.y;return{u_image:0,u_texsize:ct.imageAtlasTexture.size,u_scale:[pt,ht.fromScale,ht.toScale],u_fade:ht.t,u_pixel_coord_upper:[kt>>16,Lt>>16],u_pixel_coord_lower:[65535&kt,65535&Lt]}}const Z0=j.create(),e0=(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn)=>{const Bn=it.style.light,kn=Bn.properties.get("position"),Pn=[kn.x,kn.y,kn.z],Jn=j.create$1();Bn.properties.get("anchor")==="viewport"&&(j.fromRotation(Jn,-it.transform.angle),j.transformMat3(Pn,Pn,Jn));const zn=Bn.properties.get("color"),Nn=it.transform,Vn={u_matrix:ht,u_lightpos:Pn,u_lightintensity:Bn.properties.get("intensity"),u_lightcolor:[zn.r,zn.g,zn.b],u_vertical_gradient:+ct,u_opacity:pt,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Z0,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:vt,u_edge_radius:Rt};return Nn.projection.name==="globe"&&(Vn.u_tile_id=[kt.canonical.x,kt.canonical.y,1<<kt.canonical.z],Vn.u_zoom_transition=Zt,Vn.u_inv_rot_matrix=fn,Vn.u_merc_center=en,Vn.u_up_dir=Nn.projection.upVector(new j.CanonicalTileID(0,0,0),en[0]*j.EXTENT,en[1]*j.EXTENT),Vn.u_height_lift=Lt),Vn},N_=(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn)=>{const Pn=e0(ht,it,ct,pt,vt,Rt,kt,en,fn,Bn,kn),Jn={u_height_factor:-Math.pow(2,kt.overscaledZ)/Zt.tileSize/8};return j.extend(Pn,EU(Lt,it,Zt),Jn)},z0=ht=>({u_matrix:ht}),du=(ht,it,ct,pt)=>j.extend(z0(ht),EU(ct,it,pt)),Ty=(ht,it)=>({u_matrix:ht,u_world:it}),j0=(ht,it,ct,pt,vt)=>j.extend(du(ht,it,ct,pt),{u_world:vt}),t0=j.create(),n0=(ht,it,ct,pt,vt,Rt)=>{const kt=ht.transform,Lt=kt.projection.name==="globe";let Zt;if(Rt.paint.get("circle-pitch-alignment")==="map")if(Lt){const fn=j.globePixelsToTileUnits(kt.zoom,it.canonical)*kt._pixelsPerMercatorPixel;Zt=Float32Array.from([fn,0,0,fn])}else Zt=kt.calculatePixelsToTileUnitsMatrix(ct);else Zt=new Float32Array([kt.pixelsToGLUnits[0],0,0,kt.pixelsToGLUnits[1]]);const en={u_camera_to_center_distance:kt.cameraToCenterDistance,u_matrix:ht.translatePosMatrix(it.projMatrix,ct,Rt.paint.get("circle-translate"),Rt.paint.get("circle-translate-anchor")),u_device_pixel_ratio:j.exported.devicePixelRatio,u_extrude_scale:Zt,u_inv_rot_matrix:t0,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Lt){en.u_inv_rot_matrix=pt,en.u_merc_center=vt,en.u_tile_id=[it.canonical.x,it.canonical.y,1<<it.canonical.z],en.u_zoom_transition=j.globeToMercatorTransition(kt.zoom);const fn=vt[0]*j.EXTENT,Bn=vt[1]*j.EXTENT;en.u_up_dir=kt.projection.upVector(new j.CanonicalTileID(0,0,0),fn,Bn)}return en},wU=ht=>{const it=[];return ht.paint.get("circle-pitch-alignment")==="map"&&it.push("PITCH_WITH_MAP"),ht.paint.get("circle-pitch-scale")==="map"&&it.push("SCALE_WITH_MAP"),it},ky=(ht,it,ct,pt)=>{const vt=j.EXTENT/ct.tileSize;return{u_matrix:ht,u_camera_to_center_distance:it.getCameraToCenterDistance(pt),u_extrude_scale:[it.pixelsToGLUnits[0]/vt,it.pixelsToGLUnits[1]/vt]}},Cy=(ht,it,ct=1)=>({u_matrix:ht,u_color:it,u_overlay:0,u_overlay_scale:ct}),Up=j.create(),M_=(ht,it,ct,pt,vt,Rt,kt)=>{const Lt=ht.transform,Zt=Lt.projection.name==="globe",en=Zt?j.globePixelsToTileUnits(Lt.zoom,it.canonical)*Lt._pixelsPerMercatorPixel:Ln(ct,1,Rt),fn={u_matrix:it.projMatrix,u_extrude_scale:en,u_intensity:kt,u_inv_rot_matrix:Up,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Zt){fn.u_inv_rot_matrix=pt,fn.u_merc_center=vt,fn.u_tile_id=[it.canonical.x,it.canonical.y,1<<it.canonical.z],fn.u_zoom_transition=j.globeToMercatorTransition(Lt.zoom);const Bn=vt[0]*j.EXTENT,kn=vt[1]*j.EXTENT;fn.u_up_dir=Lt.projection.upVector(new j.CanonicalTileID(0,0,0),Bn,kn)}return fn},Nm=(ht,it,ct,pt,vt,Rt,kt,Lt)=>{const Zt=ht.transform,en=Zt.calculatePixelsToTileUnitsMatrix(it),fn={u_matrix:r0(ht,it,ct,vt),u_pixels_to_tile_units:en,u_device_pixel_ratio:kt,u_units_to_pixels:[1/Zt.pixelsToGLUnits[0],1/Zt.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:Rt,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:Lt};if(J_(ct)){const Bn=I_(it,ht.transform);fn.u_texsize=it.lineAtlasTexture.size,fn.u_scale=[Bn,pt.fromScale,pt.toScale],fn.u_mix=pt.t}return fn},D_=(ht,it,ct,pt,vt,Rt)=>{const kt=ht.transform,Lt=I_(it,kt);return{u_matrix:r0(ht,it,ct,vt),u_texsize:it.imageAtlasTexture.size,u_pixels_to_tile_units:kt.calculatePixelsToTileUnitsMatrix(it),u_device_pixel_ratio:Rt,u_image:0,u_scale:[Lt,pt.fromScale,pt.toScale],u_fade:pt.t,u_units_to_pixels:[1/kt.pixelsToGLUnits[0],1/kt.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function I_(ht,it){return 1/Ln(ht,1,it.tileZoom)}function r0(ht,it,ct,pt){return ht.translatePosMatrix(pt||it.tileID.projMatrix,it,ct.paint.get("line-translate"),ct.paint.get("line-translate-anchor"))}function J_(ht){const it=ht.paint.get("line-dasharray").value;return it.value||it.kind!=="constant"}const Fp=(ht,it,ct,pt,vt,Rt)=>{return{u_matrix:ht,u_tl_parent:it,u_scale_parent:ct,u_fade_t:pt.mix,u_opacity:pt.opacity*vt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:vt.paint.get("raster-brightness-min"),u_brightness_high:vt.paint.get("raster-brightness-max"),u_saturation_factor:(Lt=vt.paint.get("raster-saturation"),Lt>0?1-1/(1.001-Lt):-Lt),u_contrast_factor:(kt=vt.paint.get("raster-contrast"),kt>0?1/(1-kt):1+kt),u_spin_weights:Ay(vt.paint.get("raster-hue-rotate")),u_perspective_transform:Rt};var kt,Lt};function Ay(ht){ht*=Math.PI/180;const it=Math.sin(ht),ct=Math.cos(ht);return[(2*ct+1)/3,(-Math.sqrt(3)*it-ct+1)/3,(Math.sqrt(3)*it-ct+1)/3]}const H0=j.create(),xU=(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn)=>{const Nn=vt.transform,Vn={u_is_size_zoom_constant:+(ht==="constant"||ht==="source"),u_is_size_feature_constant:+(ht==="constant"||ht==="camera"),u_size_t:it?it.uSizeT:0,u_size:it?it.uSize:0,u_camera_to_center_distance:Nn.cameraToCenterDistance,u_rotate_symbol:+ct,u_aspect_ratio:Nn.width/Nn.height,u_fade_change:vt.options.fadeDuration?vt.symbolFadeChange:1,u_matrix:Rt,u_label_plane_matrix:kt,u_coord_matrix:Lt,u_is_text:+Zt,u_pitch_with_map:+pt,u_texsize:en,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:H0,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:H0,u_up_vector:[0,-1,0]};return zn.name==="globe"&&(Vn.u_tile_id=[fn.canonical.x,fn.canonical.y,1<<fn.canonical.z],Vn.u_zoom_transition=Bn,Vn.u_inv_rot_matrix=Pn,Vn.u_merc_center=kn,Vn.u_camera_forward=Nn._camera.forward(),Vn.u_ecef_origin=j.globeECEFOrigin(Nn.globeMatrix,fn.toUnwrapped()),Vn.u_tile_matrix=Float32Array.from(Nn.globeMatrix),Vn.u_up_vector=Jn),Vn},Vy=(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn,Nn)=>j.extend(xU(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,Bn,kn,Pn,Jn,zn,Nn),{u_gamma_scale:pt?vt.transform.cameraToCenterDistance*Math.cos(vt.terrain?0:vt.transform._pitch):1,u_device_pixel_ratio:j.exported.devicePixelRatio,u_is_halo:+fn}),o0=(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn)=>j.extend(Vy(ht,it,ct,pt,vt,Rt,kt,Lt,!0,Zt,!0,fn,Bn,kn,Pn,Jn,zn),{u_texsize_icon:en,u_texture_icon:1}),Eu=(ht,it,ct)=>({u_matrix:ht,u_opacity:it,u_color:ct}),TU=(ht,it,ct,pt,vt,Rt)=>j.extend(function(kt,Lt,Zt,en){const fn=Zt.imageManager.getPattern(kt.from.toString()),Bn=Zt.imageManager.getPattern(kt.to.toString()),{width:kn,height:Pn}=Zt.imageManager.getPixelSize(),Jn=Math.pow(2,en.tileID.overscaledZ),zn=en.tileSize*Math.pow(2,Zt.transform.tileZoom)/Jn,Nn=zn*(en.tileID.canonical.x+en.tileID.wrap*Jn),Vn=zn*en.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:fn.tl,u_pattern_br_a:fn.br,u_pattern_tl_b:Bn.tl,u_pattern_br_b:Bn.br,u_texsize:[kn,Pn],u_mix:Lt.t,u_pattern_size_a:fn.displaySize,u_pattern_size_b:Bn.displaySize,u_scale_a:Lt.fromScale,u_scale_b:Lt.toScale,u_tile_units_to_pixels:1/Ln(en,1,Zt.transform.tileZoom),u_pixel_coord_upper:[Nn>>16,Vn>>16],u_pixel_coord_lower:[65535&Nn,65535&Vn]}}(pt,Rt,ct,vt),{u_matrix:ht,u_opacity:it}),Ny={fillExtrusion:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_lightpos:new j.Uniform3f(ht),u_lightintensity:new j.Uniform1f(ht),u_lightcolor:new j.Uniform3f(ht),u_vertical_gradient:new j.Uniform1f(ht),u_opacity:new j.Uniform1f(ht),u_edge_radius:new j.Uniform1f(ht),u_ao:new j.Uniform2f(ht),u_tile_id:new j.Uniform3f(ht),u_zoom_transition:new j.Uniform1f(ht),u_inv_rot_matrix:new j.UniformMatrix4f(ht),u_merc_center:new j.Uniform2f(ht),u_up_dir:new j.Uniform3f(ht),u_height_lift:new j.Uniform1f(ht)}),fillExtrusionPattern:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_lightpos:new j.Uniform3f(ht),u_lightintensity:new j.Uniform1f(ht),u_lightcolor:new j.Uniform3f(ht),u_vertical_gradient:new j.Uniform1f(ht),u_height_factor:new j.Uniform1f(ht),u_edge_radius:new j.Uniform1f(ht),u_ao:new j.Uniform2f(ht),u_tile_id:new j.Uniform3f(ht),u_zoom_transition:new j.Uniform1f(ht),u_inv_rot_matrix:new j.UniformMatrix4f(ht),u_merc_center:new j.Uniform2f(ht),u_up_dir:new j.Uniform3f(ht),u_height_lift:new j.Uniform1f(ht),u_image:new j.Uniform1i(ht),u_texsize:new j.Uniform2f(ht),u_pixel_coord_upper:new j.Uniform2f(ht),u_pixel_coord_lower:new j.Uniform2f(ht),u_scale:new j.Uniform3f(ht),u_fade:new j.Uniform1f(ht),u_opacity:new j.Uniform1f(ht)}),fill:ht=>({u_matrix:new j.UniformMatrix4f(ht)}),fillPattern:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_image:new j.Uniform1i(ht),u_texsize:new j.Uniform2f(ht),u_pixel_coord_upper:new j.Uniform2f(ht),u_pixel_coord_lower:new j.Uniform2f(ht),u_scale:new j.Uniform3f(ht),u_fade:new j.Uniform1f(ht)}),fillOutline:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_world:new j.Uniform2f(ht)}),fillOutlinePattern:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_world:new j.Uniform2f(ht),u_image:new j.Uniform1i(ht),u_texsize:new j.Uniform2f(ht),u_pixel_coord_upper:new j.Uniform2f(ht),u_pixel_coord_lower:new j.Uniform2f(ht),u_scale:new j.Uniform3f(ht),u_fade:new j.Uniform1f(ht)}),circle:ht=>({u_camera_to_center_distance:new j.Uniform1f(ht),u_extrude_scale:new j.UniformMatrix2f(ht),u_device_pixel_ratio:new j.Uniform1f(ht),u_matrix:new j.UniformMatrix4f(ht),u_inv_rot_matrix:new j.UniformMatrix4f(ht),u_merc_center:new j.Uniform2f(ht),u_tile_id:new j.Uniform3f(ht),u_zoom_transition:new j.Uniform1f(ht),u_up_dir:new j.Uniform3f(ht)}),collisionBox:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_camera_to_center_distance:new j.Uniform1f(ht),u_extrude_scale:new j.Uniform2f(ht)}),collisionCircle:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_inv_matrix:new j.UniformMatrix4f(ht),u_camera_to_center_distance:new j.Uniform1f(ht),u_viewport_size:new j.Uniform2f(ht)}),debug:ht=>({u_color:new j.UniformColor(ht),u_matrix:new j.UniformMatrix4f(ht),u_overlay:new j.Uniform1i(ht),u_overlay_scale:new j.Uniform1f(ht)}),clippingMask:ht=>({u_matrix:new j.UniformMatrix4f(ht)}),heatmap:ht=>({u_extrude_scale:new j.Uniform1f(ht),u_intensity:new j.Uniform1f(ht),u_matrix:new j.UniformMatrix4f(ht),u_inv_rot_matrix:new j.UniformMatrix4f(ht),u_merc_center:new j.Uniform2f(ht),u_tile_id:new j.Uniform3f(ht),u_zoom_transition:new j.Uniform1f(ht),u_up_dir:new j.Uniform3f(ht)}),heatmapTexture:ht=>({u_image:new j.Uniform1i(ht),u_color_ramp:new j.Uniform1i(ht),u_opacity:new j.Uniform1f(ht)}),hillshade:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_image:new j.Uniform1i(ht),u_latrange:new j.Uniform2f(ht),u_light:new j.Uniform2f(ht),u_shadow:new j.UniformColor(ht),u_highlight:new j.UniformColor(ht),u_accent:new j.UniformColor(ht)}),hillshadePrepare:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_image:new j.Uniform1i(ht),u_dimension:new j.Uniform2f(ht),u_zoom:new j.Uniform1f(ht),u_unpack:new j.Uniform4f(ht)}),line:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_pixels_to_tile_units:new j.UniformMatrix2f(ht),u_device_pixel_ratio:new j.Uniform1f(ht),u_units_to_pixels:new j.Uniform2f(ht),u_dash_image:new j.Uniform1i(ht),u_gradient_image:new j.Uniform1i(ht),u_image_height:new j.Uniform1f(ht),u_texsize:new j.Uniform2f(ht),u_scale:new j.Uniform3f(ht),u_mix:new j.Uniform1f(ht),u_alpha_discard_threshold:new j.Uniform1f(ht),u_trim_offset:new j.Uniform2f(ht)}),linePattern:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_texsize:new j.Uniform2f(ht),u_pixels_to_tile_units:new j.UniformMatrix2f(ht),u_device_pixel_ratio:new j.Uniform1f(ht),u_image:new j.Uniform1i(ht),u_units_to_pixels:new j.Uniform2f(ht),u_scale:new j.Uniform3f(ht),u_fade:new j.Uniform1f(ht),u_alpha_discard_threshold:new j.Uniform1f(ht)}),raster:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_tl_parent:new j.Uniform2f(ht),u_scale_parent:new j.Uniform1f(ht),u_fade_t:new j.Uniform1f(ht),u_opacity:new j.Uniform1f(ht),u_image0:new j.Uniform1i(ht),u_image1:new j.Uniform1i(ht),u_brightness_low:new j.Uniform1f(ht),u_brightness_high:new j.Uniform1f(ht),u_saturation_factor:new j.Uniform1f(ht),u_contrast_factor:new j.Uniform1f(ht),u_spin_weights:new j.Uniform3f(ht),u_perspective_transform:new j.Uniform2f(ht)}),symbolIcon:ht=>({u_is_size_zoom_constant:new j.Uniform1i(ht),u_is_size_feature_constant:new j.Uniform1i(ht),u_size_t:new j.Uniform1f(ht),u_size:new j.Uniform1f(ht),u_camera_to_center_distance:new j.Uniform1f(ht),u_rotate_symbol:new j.Uniform1i(ht),u_aspect_ratio:new j.Uniform1f(ht),u_fade_change:new j.Uniform1f(ht),u_matrix:new j.UniformMatrix4f(ht),u_label_plane_matrix:new j.UniformMatrix4f(ht),u_coord_matrix:new j.UniformMatrix4f(ht),u_is_text:new j.Uniform1i(ht),u_pitch_with_map:new j.Uniform1i(ht),u_texsize:new j.Uniform2f(ht),u_tile_id:new j.Uniform3f(ht),u_zoom_transition:new j.Uniform1f(ht),u_inv_rot_matrix:new j.UniformMatrix4f(ht),u_merc_center:new j.Uniform2f(ht),u_camera_forward:new j.Uniform3f(ht),u_tile_matrix:new j.UniformMatrix4f(ht),u_up_vector:new j.Uniform3f(ht),u_ecef_origin:new j.Uniform3f(ht),u_texture:new j.Uniform1i(ht)}),symbolSDF:ht=>({u_is_size_zoom_constant:new j.Uniform1i(ht),u_is_size_feature_constant:new j.Uniform1i(ht),u_size_t:new j.Uniform1f(ht),u_size:new j.Uniform1f(ht),u_camera_to_center_distance:new j.Uniform1f(ht),u_rotate_symbol:new j.Uniform1i(ht),u_aspect_ratio:new j.Uniform1f(ht),u_fade_change:new j.Uniform1f(ht),u_matrix:new j.UniformMatrix4f(ht),u_label_plane_matrix:new j.UniformMatrix4f(ht),u_coord_matrix:new j.UniformMatrix4f(ht),u_is_text:new j.Uniform1i(ht),u_pitch_with_map:new j.Uniform1i(ht),u_texsize:new j.Uniform2f(ht),u_texture:new j.Uniform1i(ht),u_gamma_scale:new j.Uniform1f(ht),u_device_pixel_ratio:new j.Uniform1f(ht),u_tile_id:new j.Uniform3f(ht),u_zoom_transition:new j.Uniform1f(ht),u_inv_rot_matrix:new j.UniformMatrix4f(ht),u_merc_center:new j.Uniform2f(ht),u_camera_forward:new j.Uniform3f(ht),u_tile_matrix:new j.UniformMatrix4f(ht),u_up_vector:new j.Uniform3f(ht),u_ecef_origin:new j.Uniform3f(ht),u_is_halo:new j.Uniform1i(ht)}),symbolTextAndIcon:ht=>({u_is_size_zoom_constant:new j.Uniform1i(ht),u_is_size_feature_constant:new j.Uniform1i(ht),u_size_t:new j.Uniform1f(ht),u_size:new j.Uniform1f(ht),u_camera_to_center_distance:new j.Uniform1f(ht),u_rotate_symbol:new j.Uniform1i(ht),u_aspect_ratio:new j.Uniform1f(ht),u_fade_change:new j.Uniform1f(ht),u_matrix:new j.UniformMatrix4f(ht),u_label_plane_matrix:new j.UniformMatrix4f(ht),u_coord_matrix:new j.UniformMatrix4f(ht),u_is_text:new j.Uniform1i(ht),u_pitch_with_map:new j.Uniform1i(ht),u_texsize:new j.Uniform2f(ht),u_texsize_icon:new j.Uniform2f(ht),u_texture:new j.Uniform1i(ht),u_texture_icon:new j.Uniform1i(ht),u_gamma_scale:new j.Uniform1f(ht),u_device_pixel_ratio:new j.Uniform1f(ht),u_is_halo:new j.Uniform1i(ht)}),background:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_opacity:new j.Uniform1f(ht),u_color:new j.UniformColor(ht)}),backgroundPattern:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_opacity:new j.Uniform1f(ht),u_image:new j.Uniform1i(ht),u_pattern_tl_a:new j.Uniform2f(ht),u_pattern_br_a:new j.Uniform2f(ht),u_pattern_tl_b:new j.Uniform2f(ht),u_pattern_br_b:new j.Uniform2f(ht),u_texsize:new j.Uniform2f(ht),u_mix:new j.Uniform1f(ht),u_pattern_size_a:new j.Uniform2f(ht),u_pattern_size_b:new j.Uniform2f(ht),u_scale_a:new j.Uniform1f(ht),u_scale_b:new j.Uniform1f(ht),u_pixel_coord_upper:new j.Uniform2f(ht),u_pixel_coord_lower:new j.Uniform2f(ht),u_tile_units_to_pixels:new j.Uniform1f(ht)}),terrainRaster:Ey,terrainDepth:Ey,skybox:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_sun_direction:new j.Uniform3f(ht),u_cubemap:new j.Uniform1i(ht),u_opacity:new j.Uniform1f(ht),u_temporal_offset:new j.Uniform1f(ht)}),skyboxGradient:ht=>({u_matrix:new j.UniformMatrix4f(ht),u_color_ramp:new j.Uniform1i(ht),u_center_direction:new j.Uniform3f(ht),u_radius:new j.Uniform1f(ht),u_opacity:new j.Uniform1f(ht),u_temporal_offset:new j.Uniform1f(ht)}),skyboxCapture:ht=>({u_matrix_3f:new j.UniformMatrix3f(ht),u_sun_direction:new j.Uniform3f(ht),u_sun_intensity:new j.Uniform1f(ht),u_color_tint_r:new j.Uniform4f(ht),u_color_tint_m:new j.Uniform4f(ht),u_luminance:new j.Uniform1f(ht)}),globeRaster:ht=>({u_proj_matrix:new j.UniformMatrix4f(ht),u_globe_matrix:new j.UniformMatrix4f(ht),u_normalize_matrix:new j.UniformMatrix4f(ht),u_merc_matrix:new j.UniformMatrix4f(ht),u_zoom_transition:new j.Uniform1f(ht),u_merc_center:new j.Uniform2f(ht),u_image0:new j.Uniform1i(ht),u_grid_matrix:new j.UniformMatrix3f(ht),u_frustum_tl:new j.Uniform3f(ht),u_frustum_tr:new j.Uniform3f(ht),u_frustum_br:new j.Uniform3f(ht),u_frustum_bl:new j.Uniform3f(ht),u_globe_pos:new j.Uniform3f(ht),u_globe_radius:new j.Uniform1f(ht),u_viewport:new j.Uniform2f(ht)}),globeAtmosphere:ht=>({u_frustum_tl:new j.Uniform3f(ht),u_frustum_tr:new j.Uniform3f(ht),u_frustum_br:new j.Uniform3f(ht),u_frustum_bl:new j.Uniform3f(ht),u_horizon:new j.Uniform1f(ht),u_transition:new j.Uniform1f(ht),u_fadeout_range:new j.Uniform1f(ht),u_color:new j.Uniform4f(ht),u_high_color:new j.Uniform4f(ht),u_space_color:new j.Uniform4f(ht),u_star_intensity:new j.Uniform1f(ht),u_star_density:new j.Uniform1f(ht),u_star_size:new j.Uniform1f(ht),u_temporal_offset:new j.Uniform1f(ht),u_horizon_angle:new j.Uniform1f(ht),u_rotation_matrix:new j.UniformMatrix4f(ht)})};let My;function W_(ht,it,ct,pt,vt,Rt,kt){const Lt=ht.context,Zt=Lt.gl,en=ht.transform,fn=ht.useProgram("collisionBox"),Bn=[];let kn=0,Pn=0;for(let tr=0;tr<pt.length;tr++){const sr=pt[tr],$n=it.getTile(sr),ur=$n.getBucket(ct);if(!ur)continue;const Ur=km(sr,ur,en);let Tr=Ur;vt[0]===0&&vt[1]===0||(Tr=ht.translatePosMatrix(Ur,$n,vt,Rt));const wr=kt?ur.textCollisionBox:ur.iconCollisionBox,qr=ur.collisionCircleArray;if(qr.length>0){const _r=j.create(),Pr=Tr;j.mul(_r,ur.placementInvProjMatrix,en.glCoordMatrix),j.mul(_r,_r,ur.placementViewportMatrix),Bn.push({circleArray:qr,circleOffset:Pn,transform:Pr,invTransform:_r,projection:ur.getProjection()}),kn+=qr.length/4,Pn=kn}wr&&(ht.terrain&&ht.terrain.setupElevationDraw($n,fn),fn.draw(Lt,Zt.LINES,j.DepthMode.disabled,j.StencilMode.disabled,ht.colorModeForRenderPass(),j.CullFaceMode.disabled,ky(Tr,en,$n,ur.getProjection()),ct.id,wr.layoutVertexBuffer,wr.indexBuffer,wr.segments,null,en.zoom,null,[wr.collisionVertexBuffer,wr.collisionVertexBufferExt]))}if(!kt||!Bn.length)return;const Jn=ht.useProgram("collisionCircle"),zn=new j.StructArrayLayout2f1f2i16;zn.resize(4*kn),zn._trim();let Nn=0;for(const tr of Bn)for(let sr=0;sr<tr.circleArray.length/4;sr++){const $n=4*sr,ur=tr.circleArray[$n+0],Ur=tr.circleArray[$n+1],Tr=tr.circleArray[$n+2],wr=tr.circleArray[$n+3];zn.emplace(Nn++,ur,Ur,Tr,wr,0),zn.emplace(Nn++,ur,Ur,Tr,wr,1),zn.emplace(Nn++,ur,Ur,Tr,wr,2),zn.emplace(Nn++,ur,Ur,Tr,wr,3)}(!My||My.length<2*kn)&&(My=function(tr){const sr=2*tr,$n=new j.StructArrayLayout3ui6;$n.resize(sr),$n._trim();for(let ur=0;ur<sr;ur++){const Ur=6*ur;$n.uint16[Ur+0]=4*ur+0,$n.uint16[Ur+1]=4*ur+1,$n.uint16[Ur+2]=4*ur+2,$n.uint16[Ur+3]=4*ur+2,$n.uint16[Ur+4]=4*ur+3,$n.uint16[Ur+5]=4*ur+0}return $n}(kn));const Vn=Lt.createIndexBuffer(My,!0),Hn=Lt.createVertexBuffer(zn,j.collisionCircleLayout.members,!0);for(const tr of Bn){const sr={u_matrix:tr.transform,u_inv_matrix:tr.invTransform,u_camera_to_center_distance:(On=en).getCameraToCenterDistance(tr.projection),u_viewport_size:[On.width,On.height]};Jn.draw(Lt,Zt.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,ht.colorModeForRenderPass(),j.CullFaceMode.disabled,sr,ct.id,Hn,Vn,j.SegmentVector.simpleSegment(0,2*tr.circleOffset,tr.circleArray.length,tr.circleArray.length/2),null,en.zoom)}var On;Hn.destroy(),Vn.destroy()}const O_=j.create();function a0(ht,it,ct,pt,vt,Rt){const{horizontalAlign:kt,verticalAlign:Lt}=j.getAnchorAlignment(ht),Zt=-(kt-.5)*it,en=-(Lt-.5)*ct,fn=j.evaluateVariableOffset(ht,pt);return new j.pointGeometry((Zt/vt+fn[0])*Rt,(en/vt+fn[1])*Rt)}function l0(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn){const Bn=ht.text.placedSymbolArray,kn=ht.text.dynamicLayoutVertexArray,Pn=ht.icon.dynamicLayoutVertexArray,Jn={},zn=eu(Lt,ht.getProjection(),Rt),Nn=Rt.elevation,Vn=ht.getProjection().upVectorScale(Lt.canonical,Rt.center.lat,Rt.worldSize);kn.clear();for(let Hn=0;Hn<Bn.length;Hn++){const On=Bn.get(Hn),tr=ht.allowVerticalPlacement&&!On.placedOrientation,sr=On.hidden||!On.crossTileID||tr?null:pt[On.crossTileID];if(sr){const $n=new j.pointGeometry(On.tileAnchorX,On.tileAnchorY),ur=ht.getProjection().upVector(Lt.canonical,$n.x,$n.y),Ur=Nn?Nn.getAtTileOffset(Lt,$n.x,$n.y):0,Tr=ns([On.projectedAnchorX+Ur*ur[0]*Vn.metersToTile,On.projectedAnchorY+Ur*ur[1]*Vn.metersToTile,On.projectedAnchorZ+Ur*ur[2]*Vn.metersToTile],ct?zn:kt),wr=as(Rt.getCameraToCenterDistance(ht.getProjection()),Tr.signedDistanceFromCamera);let qr=vt.evaluateSizeForFeature(ht.textSizeData,en,On)*wr/j.ONE_EM;ct&&(qr*=ht.tilePixelRatio/Zt);const{width:_r,height:Pr,anchor:Zr,textOffset:Qr,textScale:gr}=sr,co=a0(Zr,_r,Pr,Qr,gr,qr);let no;if(ct){const ro=$n.add(co),{x:Ro,y:Io,z:No}=ht.getProjection().projectTilePoint(ro.x,ro.y,Lt.canonical);no=ns([Ro+Ur*ur[0]*Vn.metersToTile,Io+Ur*ur[1]*Vn.metersToTile,No+Ur*ur[2]*Vn.metersToTile],kt).point}else{const ro=it?co.rotate(-Rt.angle):co;no=[Tr.point[0]+ro.x,Tr.point[1]+ro.y,0]}const so=ht.allowVerticalPlacement&&On.placedOrientation===j.WritingMode.vertical?Math.PI/2:0;for(let ro=0;ro<On.numGlyphs;ro++)j.addDynamicAttributes(kn,no[0],no[1],no[2],so);fn&&On.associatedIconIndex>=0&&(Jn[On.associatedIconIndex]={shiftedAnchor:no,angle:so})}else Bl(On.numGlyphs,kn)}if(fn){Pn.clear();const Hn=ht.icon.placedSymbolArray;for(let On=0;On<Hn.length;On++){const tr=Hn.get(On);if(tr.hidden)Bl(tr.numGlyphs,Pn);else{const sr=Jn[On];if(sr)for(let $n=0;$n<tr.numGlyphs;$n++)j.addDynamicAttributes(Pn,sr.shiftedAnchor[0],sr.shiftedAnchor[1],sr.shiftedAnchor[2],sr.angle);else Bl(tr.numGlyphs,Pn)}}ht.icon.dynamicLayoutVertexBuffer.updateData(Pn)}ht.text.dynamicLayoutVertexBuffer.updateData(kn)}function br(ht,it,ct){return ct.iconsInText&&it?"symbolTextAndIcon":ht?"symbolSDF":"symbolIcon"}function Gr(ht,it,ct,pt,vt,Rt,kt,Lt,Zt,en,fn,Bn){const kn=ht.context,Pn=kn.gl,Jn=ht.transform,zn=Lt==="map",Nn=Zt==="map",Vn=zn&&ct.layout.get("symbol-placement")!=="point",Hn=zn&&!Nn&&!Vn,On=ct.layout.get("symbol-sort-key").constantOr(1)!==void 0;let tr=!1;const sr=ht.depthModeForSublayer(0,j.DepthMode.ReadOnly),$n=[j.mercatorXfromLng(Jn.center.lng),j.mercatorYfromLat(Jn.center.lat)],ur=ct.layout.get("text-variable-anchor"),Ur=Jn.projection.name==="globe",Tr=[],wr=[0,-1,0];let qr=wr;!Ur&&!Jn.mercatorFromTransition||zn||(qr=function(_r){const Pr=_r._camera.getWorldToCamera(_r.worldSize,1),Zr=j.multiply([],Pr,_r.globeMatrix);j.invert(Zr,Zr);const Qr=[0,0,0],gr=[0,1,0,0];return j.transformMat4$1(gr,gr,Zr),Qr[0]=gr[0],Qr[1]=gr[1],Qr[2]=gr[2],j.normalize(Qr,Qr),Qr}(Jn));for(const _r of pt){const Pr=it.getTile(_r),Zr=Pr.getBucket(ct);if(!Zr||Zr.projection.name==="mercator"&&Ur)continue;const Qr=vt?Zr.text:Zr.icon;if(!Qr||Zr.fullyClipped||!Qr.segments.get().length)continue;const gr=Qr.programConfigurations.get(ct.id),co=vt||Zr.sdfIcons,no=vt?Zr.textSizeData:Zr.iconSizeData,so=Nn||Jn.pitch!==0,ro=j.evaluateSizeForZoom(no,Jn.zoom);let Ro,Io,No,xo,io=[0,0],Yo=null;if(vt){if(Io=Pr.glyphAtlasTexture,No=Pn.LINEAR,Ro=Pr.glyphAtlasTexture.size,Zr.iconsInText){io=Pr.imageAtlasTexture.size,Yo=Pr.imageAtlasTexture;const Go=no.kind==="composite"||no.kind==="camera";xo=so||ht.options.rotating||ht.options.zooming||Go?Pn.LINEAR:Pn.NEAREST}}else{const Go=ct.layout.get("icon-size").constantOr(0)!==1||Zr.iconsNeedLinear;Io=Pr.imageAtlasTexture,No=co||ht.options.rotating||ht.options.zooming||Go||so?Pn.LINEAR:Pn.NEAREST,Ro=Pr.imageAtlasTexture.size}const rs=Zr.projection.name==="globe",Ns=rs?qr:wr,Ds=rs?j.globeToMercatorTransition(Jn.zoom):0,Ts=eu(_r,Zr.getProjection(),Jn),Vl=Jn.calculatePixelsToTileUnitsMatrix(Pr),tu=au(Ts,Pr.tileID.canonical,Nn,zn,Jn,Zr.getProjection(),Vl),up=ht.terrain&&Nn&&Vn?j.invert(j.create(),tu):O_,Is=Ip(Ts,Pr.tileID.canonical,Nn,zn,Jn,Zr.getProjection(),Vl),ba=ur&&Zr.hasTextData(),ks=ct.layout.get("icon-text-fit")!=="none"&&ba&&Zr.hasIconData();if(Vn){const Go=Jn.elevation,wp=Go?Go.getAtTileOffsetFunc(_r,Jn.center.lat,Jn.worldSize,Zr.getProjection()):pu=>[0,0,0],ym=M0(Ts,Pr.tileID.canonical,Nn,zn,Jn,Zr.getProjection(),Vl);Jp(Zr,Ts,ht,vt,ym,Is,Nn,en,wp,_r)}const Ql=Vn||vt&&ur||ks,nu=ht.translatePosMatrix(Ts,Pr,Rt,kt),Ws=Ql?O_:tu,bu=ht.translatePosMatrix(Is,Pr,Rt,kt,!0),qp=Zr.getProjection().createInversionMatrix(Jn,_r.canonical),ju=[];ht.terrainRenderModeElevated()&&Nn&&ju.push("PITCH_WITH_MAP_TERRAIN"),rs&&ju.push("PROJECTION_GLOBE_VIEW"),Ql&&ju.push("PROJECTED_POS_ON_VIEWPORT");const Xl=co&&ct.paint.get(vt?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let U0;U0=co?Zr.iconsInText?o0(no.kind,ro,Hn,Nn,ht,nu,Ws,bu,Ro,io,_r,Ds,$n,qp,Ns,Zr.getProjection()):Vy(no.kind,ro,Hn,Nn,ht,nu,Ws,bu,vt,Ro,!0,_r,Ds,$n,qp,Ns,Zr.getProjection()):xU(no.kind,ro,Hn,Nn,ht,nu,Ws,bu,vt,Ro,_r,Ds,$n,qp,Ns,Zr.getProjection());const Ep={program:ht.useProgram(br(co,vt,Zr),gr,ju),buffers:Qr,uniformValues:U0,atlasTexture:Io,atlasTextureIcon:Yo,atlasInterpolation:No,atlasInterpolationIcon:xo,isSDF:co,hasHalo:Xl,tile:Pr,labelPlaneMatrixInv:up};if(On&&Zr.canOverlap){tr=!0;const Go=Qr.segments.get();for(const wp of Go)Tr.push({segments:new j.SegmentVector([wp]),sortKey:wp.sortKey,state:Ep})}else Tr.push({segments:Qr.segments,sortKey:0,state:Ep})}tr&&Tr.sort((_r,Pr)=>_r.sortKey-Pr.sortKey);for(const _r of Tr){const Pr=_r.state;if(ht.terrain&&ht.terrain.setupElevationDraw(Pr.tile,Pr.program,{useDepthForOcclusion:!Ur,labelPlaneMatrixInv:Pr.labelPlaneMatrixInv}),kn.activeTexture.set(Pn.TEXTURE0),Pr.atlasTexture.bind(Pr.atlasInterpolation,Pn.CLAMP_TO_EDGE),Pr.atlasTextureIcon&&(kn.activeTexture.set(Pn.TEXTURE1),Pr.atlasTextureIcon&&Pr.atlasTextureIcon.bind(Pr.atlasInterpolationIcon,Pn.CLAMP_TO_EDGE)),Pr.isSDF){const Zr=Pr.uniformValues;Pr.hasHalo&&(Zr.u_is_halo=1,Ir(Pr.buffers,_r.segments,ct,ht,Pr.program,sr,fn,Bn,Zr)),Zr.u_is_halo=0}Ir(Pr.buffers,_r.segments,ct,ht,Pr.program,sr,fn,Bn,Pr.uniformValues)}}function Ir(ht,it,ct,pt,vt,Rt,kt,Lt,Zt){const en=pt.context,fn=[ht.dynamicLayoutVertexBuffer,ht.opacityVertexBuffer,ht.globeExtVertexBuffer];vt.draw(en,en.gl.TRIANGLES,Rt,kt,Lt,j.CullFaceMode.disabled,Zt,ct.id,ht.layoutVertexBuffer,ht.indexBuffer,it,ct.paint,pt.transform.zoom,ht.programConfigurations.get(ct.id),fn)}function To(ht,it,ct,pt,vt,Rt,kt){const Lt=ht.context.gl,Zt=ct.paint.get("fill-pattern"),en=Zt&&Zt.constantOr(1),fn=ct.getCrossfadeParameters();let Bn,kn,Pn,Jn,zn;kt?(kn=en&&!ct.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Bn=Lt.LINES):(kn=en?"fillPattern":"fill",Bn=Lt.TRIANGLES);for(const Nn of pt){const Vn=it.getTile(Nn);if(en&&!Vn.patternsLoaded())continue;const Hn=Vn.getBucket(ct);if(!Hn)continue;ht.prepareDrawTile();const On=Hn.programConfigurations.get(ct.id),tr=ht.useProgram(kn,On);en&&(ht.context.activeTexture.set(Lt.TEXTURE0),Vn.imageAtlasTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),On.updatePaintBuffers(fn));const sr=Zt.constantOr(null);if(sr&&Vn.imageAtlas){const ur=Vn.imageAtlas,Ur=ur.patternPositions[sr.to.toString()],Tr=ur.patternPositions[sr.from.toString()];Ur&&Tr&&On.setConstantPatternPositions(Ur,Tr)}const $n=ht.translatePosMatrix(Nn.projMatrix,Vn,ct.paint.get("fill-translate"),ct.paint.get("fill-translate-anchor"));if(kt){Jn=Hn.indexBuffer2,zn=Hn.segments2;const ur=ht.terrain&&ht.terrain.renderingToTexture?ht.terrain.drapeBufferSize:[Lt.drawingBufferWidth,Lt.drawingBufferHeight];Pn=kn==="fillOutlinePattern"&&en?j0($n,ht,fn,Vn,ur):Ty($n,ur)}else Jn=Hn.indexBuffer,zn=Hn.segments,Pn=en?du($n,ht,fn,Vn):z0($n);ht.prepareDrawProgram(ht.context,tr,Nn.toUnwrapped()),tr.draw(ht.context,Bn,vt,ht.stencilModeForClipping(Nn),Rt,j.CullFaceMode.disabled,Pn,ct.id,Hn.layoutVertexBuffer,Jn,zn,ct.paint,ht.transform.zoom,On)}}function cs(ht,it,ct,pt,vt,Rt,kt){const Lt=ht.context,Zt=Lt.gl,en=ht.transform,fn=ct.paint.get("fill-extrusion-pattern"),Bn=fn.constantOr(1),kn=ct.getCrossfadeParameters(),Pn=ct.paint.get("fill-extrusion-opacity"),Jn=[ct.paint.get("fill-extrusion-ambient-occlusion-intensity"),ct.paint.get("fill-extrusion-ambient-occlusion-radius")],zn=ct.layout.get("fill-extrusion-edge-radius"),Nn=en.projection.name==="globe"?j.fillExtrusionHeightLift():0,Vn=en.projection.name==="globe",Hn=Vn?j.globeToMercatorTransition(en.zoom):0,On=[j.mercatorXfromLng(en.center.lng),j.mercatorYfromLat(en.center.lat)],tr=[];Vn&&(tr.push("PROJECTION_GLOBE_VIEW"),ht.style.terrainSetForDrapingOnly()&&tr.push("TERRAIN")),Jn[0]>0&&tr.push("FAUX_AO");for(const sr of pt){const $n=it.getTile(sr),ur=$n.getBucket(ct);if(!ur||ur.projection.name!==en.projection.name)continue;const Ur=ur.programConfigurations.get(ct.id),Tr=ht.useProgram(Bn?"fillExtrusionPattern":"fillExtrusion",Ur,tr);if(ht.terrain){const gr=ht.terrain;if(ht.style.terrainSetForDrapingOnly())gr.setupElevationDraw($n,Tr,{useMeterToDem:!0});else{if(!ur.enableTerrain)continue;if(gr.setupElevationDraw($n,Tr,{useMeterToDem:!0}),Vs(Lt,it,sr,ur,ct,gr),!ur.centroidVertexBuffer){const co=Tr.attributes.a_centroid_pos;co!==void 0&&Zt.vertexAttrib2f(co,0,0)}}}Bn&&(ht.context.activeTexture.set(Zt.TEXTURE0),$n.imageAtlasTexture.bind(Zt.LINEAR,Zt.CLAMP_TO_EDGE),Ur.updatePaintBuffers(kn));const wr=fn.constantOr(null);if(wr&&$n.imageAtlas){const gr=$n.imageAtlas,co=gr.patternPositions[wr.to.toString()],no=gr.patternPositions[wr.from.toString()];co&&no&&Ur.setConstantPatternPositions(co,no)}const qr=ht.translatePosMatrix(sr.projMatrix,$n,ct.paint.get("fill-extrusion-translate"),ct.paint.get("fill-extrusion-translate-anchor")),_r=en.projection.createInversionMatrix(en,sr.canonical),Pr=ct.paint.get("fill-extrusion-vertical-gradient"),Zr=Bn?N_(qr,ht,Pr,Pn,Jn,zn,sr,kn,$n,Nn,Hn,On,_r):e0(qr,ht,Pr,Pn,Jn,zn,sr,Nn,Hn,On,_r);ht.prepareDrawProgram(Lt,Tr,sr.toUnwrapped());const Qr=[];ht.terrain&&Qr.push(ur.centroidVertexBuffer),Vn&&Qr.push(ur.layoutVertexExtBuffer),Tr.draw(Lt,Lt.gl.TRIANGLES,vt,Rt,kt,j.CullFaceMode.backCCW,Zr,ct.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,ct.paint,ht.transform.zoom,Ur,Qr)}}function Vs(ht,it,ct,pt,vt,Rt){const kt=[Vn=>{let Hn=Vn.canonical.x-1,On=Vn.wrap;return Hn<0&&(Hn=(1<<Vn.canonical.z)-1,On--),new j.OverscaledTileID(Vn.overscaledZ,On,Vn.canonical.z,Hn,Vn.canonical.y)},Vn=>{let Hn=Vn.canonical.x+1,On=Vn.wrap;return Hn===1<<Vn.canonical.z&&(Hn=0,On++),new j.OverscaledTileID(Vn.overscaledZ,On,Vn.canonical.z,Hn,Vn.canonical.y)},Vn=>new j.OverscaledTileID(Vn.overscaledZ,Vn.wrap,Vn.canonical.z,Vn.canonical.x,(Vn.canonical.y===0?1<<Vn.canonical.z:Vn.canonical.y)-1),Vn=>new j.OverscaledTileID(Vn.overscaledZ,Vn.wrap,Vn.canonical.z,Vn.canonical.x,Vn.canonical.y===(1<<Vn.canonical.z)-1?0:Vn.canonical.y+1)],Lt=Vn=>{const Hn=it.getSource().minzoom,On=sr=>{const $n=it.getTileByID(sr);if($n&&$n.hasData())return $n.getBucket(vt)},tr=[0,-1,1];for(const sr of tr){if(Vn.overscaledZ+sr<Hn)continue;const $n=On(Vn.calculateScaledKey(Vn.overscaledZ+sr));if($n)return $n}},Zt=[0,0,0],en=(Vn,Hn)=>(Zt[0]=Math.min(Vn.min.y,Hn.min.y),Zt[1]=Math.max(Vn.max.y,Hn.max.y),Zt[2]=j.EXTENT-Hn.min.x>Vn.max.x?Hn.min.x-j.EXTENT:Vn.max.x,Zt),fn=(Vn,Hn)=>(Zt[0]=Math.min(Vn.min.x,Hn.min.x),Zt[1]=Math.max(Vn.max.x,Hn.max.x),Zt[2]=j.EXTENT-Hn.min.y>Vn.max.y?Hn.min.y-j.EXTENT:Vn.max.y,Zt),Bn=[(Vn,Hn)=>en(Vn,Hn),(Vn,Hn)=>en(Hn,Vn),(Vn,Hn)=>fn(Vn,Hn),(Vn,Hn)=>fn(Hn,Vn)],kn=new j.pointGeometry(0,0);let Pn,Jn,zn;const Nn=(Vn,Hn,On,tr,sr)=>{const $n=[[tr?On:Vn,tr?Vn:On,0],[tr?On:Hn,tr?Hn:On,0]],ur=sr<0?j.EXTENT+sr:sr,Ur=[tr?ur:(Vn+Hn)/2,tr?(Vn+Hn)/2:ur,0];return On===0&&sr<0||On!==0&&sr>0?Rt.getForTilePoints(zn,[Ur],!0,Jn):$n.push(Ur),Rt.getForTilePoints(ct,$n,!0,Pn),Math.max($n[0][2],$n[1][2],Ur[2])/Rt.exaggeration()};for(let Vn=0;Vn<4;Vn++){const Hn=(Vn<2?1:5)-Vn,On=pt.borders[Vn];if(On.length===0)continue;const tr=zn=kt[Vn](ct),sr=Lt(tr);if(!(sr&&sr instanceof j.FillExtrusionBucket&&sr.enableTerrain)||pt.borderDoneWithNeighborZ[Vn]===sr.canonical.z&&sr.borderDoneWithNeighborZ[Hn]===pt.canonical.z||(Jn=Rt.findDEMTileFor(tr),!Jn||!Jn.dem))continue;if(!Pn){const Tr=Rt.findDEMTileFor(ct);if(!Tr||!Tr.dem)return;Pn=Tr}const $n=sr.borders[Hn];let ur=0;const Ur=sr.borderDoneWithNeighborZ[Hn]!==pt.canonical.z;if(pt.canonical.z===sr.canonical.z){for(let Tr=0;Tr<On.length;Tr++){const wr=pt.featuresOnBorder[On[Tr]],qr=wr.borders[Vn];let _r;for(;ur<$n.length&&(_r=sr.featuresOnBorder[$n[ur]],!(_r.borders[Hn][1]>qr[0]+3));)Ur&&sr.encodeCentroid(void 0,_r,!1),ur++;if(_r&&ur<$n.length){const Pr=ur;let Zr=0;for(;!(_r.borders[Hn][0]>qr[1]-3)&&(Zr++,++ur!==$n.length);)_r=sr.featuresOnBorder[$n[ur]];if(_r=sr.featuresOnBorder[$n[Pr]],wr.intersectsCount()>1||_r.intersectsCount()>1||Zr!==1){Zr!==1&&(ur=Pr),pt.encodeCentroid(void 0,wr,!1),Ur&&sr.encodeCentroid(void 0,_r,!1);continue}const Qr=Bn[Vn](wr,_r),gr=Vn%2?j.EXTENT-1:0;kn.x=Nn(Qr[0],Math.min(j.EXTENT-1,Qr[1]),gr,Vn<2,Qr[2]),kn.y=0,pt.encodeCentroid(kn,wr,!1),Ur&&sr.encodeCentroid(kn,_r,!1)}else pt.encodeCentroid(void 0,wr,!1)}pt.borderDoneWithNeighborZ[Vn]=sr.canonical.z,pt.needsCentroidUpdate=!0,Ur&&(sr.borderDoneWithNeighborZ[Hn]=pt.canonical.z,sr.needsCentroidUpdate=!0)}else{for(const Tr of On)pt.encodeCentroid(void 0,pt.featuresOnBorder[Tr],!1);if(Ur){for(const Tr of $n)sr.encodeCentroid(void 0,sr.featuresOnBorder[Tr],!1);sr.borderDoneWithNeighborZ[Hn]=pt.canonical.z,sr.needsCentroidUpdate=!0}pt.borderDoneWithNeighborZ[Vn]=sr.canonical.z,pt.needsCentroidUpdate=!0}}(pt.needsCentroidUpdate||!pt.centroidVertexBuffer&&pt.centroidVertexArray.length!==0)&&pt.uploadCentroid(ht)}const Sl=new j.Color(1,0,0,1),Hs=new j.Color(0,1,0,1),Dy=new j.Color(0,0,1,1),kU=new j.Color(1,0,1,1),Fu=new j.Color(0,1,1,1);function vp(ht,it,ct){const pt=ht.context,vt=ht.transform,Rt=pt.gl,kt=vt.projection.name==="globe",Lt=kt?["PROJECTION_GLOBE_VIEW"]:null;let Zt=ct.projMatrix;if(kt&&j.globeToMercatorTransition(vt.zoom)>0){const wr=j.transitionTileAABBinECEF(ct.canonical,vt),qr=j.globeDenormalizeECEF(wr);Zt=j.multiply(new Float32Array(16),vt.globeMatrix,qr),j.multiply(Zt,vt.projMatrix,Zt)}const en=ht.useProgram("debug",null,Lt),fn=it.getTileByID(ct.key);ht.terrain&&ht.terrain.setupElevationDraw(fn,en);const Bn=j.DepthMode.disabled,kn=j.StencilMode.disabled,Pn=ht.colorModeForRenderPass(),Jn="$debug";pt.activeTexture.set(Rt.TEXTURE0),ht.emptyTexture.bind(Rt.LINEAR,Rt.CLAMP_TO_EDGE),kt?fn._makeGlobeTileDebugBuffers(ht.context,vt):fn._makeDebugTileBoundsBuffers(ht.context,vt.projection);const zn=fn._tileDebugBuffer||ht.debugBuffer,Nn=fn._tileDebugIndexBuffer||ht.debugIndexBuffer,Vn=fn._tileDebugSegments||ht.debugSegments;en.draw(pt,Rt.LINE_STRIP,Bn,kn,Pn,j.CullFaceMode.disabled,Cy(Zt,j.Color.red),Jn,zn,Nn,Vn,null,null,null,[fn._globeTileDebugBorderBuffer]);const Hn=fn.latestRawTileData,On=Math.floor((Hn&&Hn.byteLength||0)/1024),tr=it.getTile(ct).tileSize,sr=512/Math.min(tr,512)*(ct.overscaledZ/vt.zoom)*.5;let $n=ct.canonical.toString();ct.overscaledZ!==ct.canonical.z&&($n+=` => ${ct.overscaledZ}`),$n+=` ${On}kb`,function(wr,qr){wr.initDebugOverlayCanvas();const _r=wr.debugOverlayCanvas,Pr=wr.context.gl,Zr=wr.debugOverlayCanvas.getContext("2d");Zr.clearRect(0,0,_r.width,_r.height),Zr.shadowColor="white",Zr.shadowBlur=2,Zr.lineWidth=1.5,Zr.strokeStyle="white",Zr.textBaseline="top",Zr.font="bold 36px Open Sans, sans-serif",Zr.fillText(qr,5,5),Zr.strokeText(qr,5,5),wr.debugOverlayTexture.update(_r),wr.debugOverlayTexture.bind(Pr.LINEAR,Pr.CLAMP_TO_EDGE)}(ht,$n);const ur=fn._tileDebugTextBuffer||ht.debugBuffer,Ur=fn._tileDebugTextIndexBuffer||ht.quadTriangleIndexBuffer,Tr=fn._tileDebugTextSegments||ht.debugSegments;en.draw(pt,Rt.TRIANGLES,Bn,kn,j.ColorMode.alphaBlended,j.CullFaceMode.disabled,Cy(Zt,j.Color.transparent,sr),Jn,ur,Ur,Tr,null,null,null,[fn._globeTileDebugTextBuffer])}function u0(ht,it,ct,pt){Pu(ht,0,it+ct/2,ht.transform.width,ct,pt)}function um(ht,it,ct,pt){Pu(ht,it-ct/2,0,ct,ht.transform.height,pt)}function Pu(ht,it,ct,pt,vt,Rt){const kt=ht.context,Lt=kt.gl;Lt.enable(Lt.SCISSOR_TEST),Lt.scissor(it*j.exported.devicePixelRatio,ct*j.exported.devicePixelRatio,pt*j.exported.devicePixelRatio,vt*j.exported.devicePixelRatio),kt.clear({color:Rt}),Lt.disable(Lt.SCISSOR_TEST)}const Zp=j.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Js}=Zp;function bp(ht,it,ct,pt){ht.emplaceBack(it,ct,pt)}class Qs{constructor(it){this.vertexArray=new j.StructArrayLayout3f12,this.indices=new j.StructArrayLayout3ui6,bp(this.vertexArray,-1,-1,1),bp(this.vertexArray,1,-1,1),bp(this.vertexArray,-1,1,1),bp(this.vertexArray,1,1,1),bp(this.vertexArray,-1,-1,-1),bp(this.vertexArray,1,-1,-1),bp(this.vertexArray,-1,1,-1),bp(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=it.createVertexBuffer(this.vertexArray,Js),this.indexBuffer=it.createIndexBuffer(this.indices),this.segment=j.SegmentVector.simpleSegment(0,0,36,12)}}function Zu(ht,it,ct,pt,vt,Rt){const kt=ht.gl,Lt=it.paint.get("sky-atmosphere-color"),Zt=it.paint.get("sky-atmosphere-halo-color"),en=it.paint.get("sky-atmosphere-sun-intensity"),fn=((Bn,kn,Pn,Jn,zn)=>({u_matrix_3f:Bn,u_sun_direction:kn,u_sun_intensity:Pn,u_color_tint_r:[Jn.r,Jn.g,Jn.b,Jn.a],u_color_tint_m:[zn.r,zn.g,zn.b,zn.a],u_luminance:5e-5}))(j.fromMat4(j.create$1(),pt),vt,en,Lt,Zt);kt.framebufferTexture2D(kt.FRAMEBUFFER,kt.COLOR_ATTACHMENT0,kt.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,it.skyboxTexture,0),ct.draw(ht,kt.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,j.ColorMode.unblended,j.CullFaceMode.frontCW,fn,"skyboxCapture",it.skyboxGeometry.vertexBuffer,it.skyboxGeometry.indexBuffer,it.skyboxGeometry.segment)}const jF=j.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class CU{constructor(it){const ct=new j.StructArrayLayout5f20;ct.emplaceBack(-1,1,1,0,0),ct.emplaceBack(1,1,1,1,0),ct.emplaceBack(1,-1,1,1,1),ct.emplaceBack(-1,-1,1,0,1);const pt=new j.StructArrayLayout3ui6;pt.emplaceBack(0,1,2),pt.emplaceBack(2,3,0),this.vertexBuffer=it.createVertexBuffer(ct,jF.members),this.indexBuffer=it.createIndexBuffer(pt),this.segments=j.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const h0={symbol:function(ht,it,ct,pt,vt){if(ht.renderPass!=="translucent")return;const Rt=j.StencilMode.disabled,kt=ht.colorModeForRenderPass();ct.layout.get("text-variable-anchor")&&function(Lt,Zt,en,fn,Bn,kn,Pn){const Jn=Zt.transform,zn=Bn==="map",Nn=kn==="map";for(const Vn of Lt){const Hn=fn.getTile(Vn),On=Hn.getBucket(en);if(!On||!On.text||!On.text.segments.get().length)continue;const tr=j.evaluateSizeForZoom(On.textSizeData,Jn.zoom),sr=eu(Vn,On.getProjection(),Jn),$n=Jn.calculatePixelsToTileUnitsMatrix(Hn),ur=au(sr,Hn.tileID.canonical,Nn,zn,Jn,On.getProjection(),$n),Ur=en.layout.get("icon-text-fit")!=="none"&&On.hasIconData();if(tr){const Tr=Math.pow(2,Jn.zoom-Hn.tileID.overscaledZ);l0(On,zn,Nn,Pn,j.symbolSize,Jn,ur,Vn,Tr,tr,Ur)}}}(pt,ht,ct,it,ct.layout.get("text-rotation-alignment"),ct.layout.get("text-pitch-alignment"),vt),ct.paint.get("icon-opacity").constantOr(1)!==0&&Gr(ht,it,ct,pt,!1,ct.paint.get("icon-translate"),ct.paint.get("icon-translate-anchor"),ct.layout.get("icon-rotation-alignment"),ct.layout.get("icon-pitch-alignment"),ct.layout.get("icon-keep-upright"),Rt,kt),ct.paint.get("text-opacity").constantOr(1)!==0&&Gr(ht,it,ct,pt,!0,ct.paint.get("text-translate"),ct.paint.get("text-translate-anchor"),ct.layout.get("text-rotation-alignment"),ct.layout.get("text-pitch-alignment"),ct.layout.get("text-keep-upright"),Rt,kt),it.map.showCollisionBoxes&&(W_(ht,it,ct,pt,ct.paint.get("text-translate"),ct.paint.get("text-translate-anchor"),!0),W_(ht,it,ct,pt,ct.paint.get("icon-translate"),ct.paint.get("icon-translate-anchor"),!1))},circle:function(ht,it,ct,pt){if(ht.renderPass!=="translucent")return;const vt=ct.paint.get("circle-opacity"),Rt=ct.paint.get("circle-stroke-width"),kt=ct.paint.get("circle-stroke-opacity"),Lt=ct.layout.get("circle-sort-key").constantOr(1)!==void 0;if(vt.constantOr(1)===0&&(Rt.constantOr(1)===0||kt.constantOr(1)===0))return;const Zt=ht.context,en=Zt.gl,fn=ht.transform,Bn=ht.depthModeForSublayer(0,j.DepthMode.ReadOnly),kn=j.StencilMode.disabled,Pn=ht.colorModeForRenderPass(),Jn=fn.projection.name==="globe",zn=[j.mercatorXfromLng(fn.center.lng),j.mercatorYfromLat(fn.center.lat)],Nn=[];for(let Hn=0;Hn<pt.length;Hn++){const On=pt[Hn],tr=it.getTile(On),sr=tr.getBucket(ct);if(!sr||sr.projection.name!==fn.projection.name)continue;const $n=sr.programConfigurations.get(ct.id),ur=wU(ct);Jn&&ur.push("PROJECTION_GLOBE_VIEW");const Ur=ht.useProgram("circle",$n,ur),Tr=sr.layoutVertexBuffer,wr=sr.globeExtVertexBuffer,qr=sr.indexBuffer,_r=fn.projection.createInversionMatrix(fn,On.canonical),Pr={programConfiguration:$n,program:Ur,layoutVertexBuffer:Tr,globeExtVertexBuffer:wr,indexBuffer:qr,uniformValues:n0(ht,On,tr,_r,zn,ct),tile:tr};if(Lt){const Zr=sr.segments.get();for(const Qr of Zr)Nn.push({segments:new j.SegmentVector([Qr]),sortKey:Qr.sortKey,state:Pr})}else Nn.push({segments:sr.segments,sortKey:0,state:Pr})}Lt&&Nn.sort((Hn,On)=>Hn.sortKey-On.sortKey);const Vn={useDepthForOcclusion:!Jn};for(const Hn of Nn){const{programConfiguration:On,program:tr,layoutVertexBuffer:sr,globeExtVertexBuffer:$n,indexBuffer:ur,uniformValues:Ur,tile:Tr}=Hn.state,wr=Hn.segments;ht.terrain&&ht.terrain.setupElevationDraw(Tr,tr,Vn),ht.prepareDrawProgram(Zt,tr,Tr.tileID.toUnwrapped()),tr.draw(Zt,en.TRIANGLES,Bn,kn,Pn,j.CullFaceMode.disabled,Ur,ct.id,sr,ur,wr,ct.paint,fn.zoom,On,[$n])}},heatmap:function(ht,it,ct,pt){if(ct.paint.get("heatmap-opacity")!==0)if(ht.renderPass==="offscreen"){const vt=ht.context,Rt=vt.gl,kt=j.StencilMode.disabled,Lt=new j.ColorMode([Rt.ONE,Rt.ONE],j.Color.transparent,[!0,!0,!0,!0]);(function(Pn,Jn,zn,Nn){const Vn=Pn.gl,Hn=Jn.width*Nn,On=Jn.height*Nn;Pn.activeTexture.set(Vn.TEXTURE1),Pn.viewport.set([0,0,Hn,On]);let tr=zn.heatmapFbo;if(!tr||tr&&(tr.width!==Hn||tr.height!==On)){tr&&tr.destroy();const sr=Vn.createTexture();Vn.bindTexture(Vn.TEXTURE_2D,sr),Vn.texParameteri(Vn.TEXTURE_2D,Vn.TEXTURE_WRAP_S,Vn.CLAMP_TO_EDGE),Vn.texParameteri(Vn.TEXTURE_2D,Vn.TEXTURE_WRAP_T,Vn.CLAMP_TO_EDGE),Vn.texParameteri(Vn.TEXTURE_2D,Vn.TEXTURE_MIN_FILTER,Vn.LINEAR),Vn.texParameteri(Vn.TEXTURE_2D,Vn.TEXTURE_MAG_FILTER,Vn.LINEAR),tr=zn.heatmapFbo=Pn.createFramebuffer(Hn,On,!1),function($n,ur,Ur,Tr,wr,qr){const _r=$n.gl;_r.texImage2D(_r.TEXTURE_2D,0,_r.RGBA,wr,qr,0,_r.RGBA,$n.extRenderToTextureHalfFloat?$n.extTextureHalfFloat.HALF_FLOAT_OES:_r.UNSIGNED_BYTE,null),Tr.colorAttachment.set(Ur)}(Pn,0,sr,tr,Hn,On)}else Vn.bindTexture(Vn.TEXTURE_2D,tr.colorAttachment.get()),Pn.bindFramebuffer.set(tr.framebuffer)})(vt,ht,ct,ht.transform.projection.name==="globe"?.5:.25),vt.clear({color:j.Color.transparent});const Zt=ht.transform,en=Zt.projection.name==="globe",fn=en?["PROJECTION_GLOBE_VIEW"]:null,Bn=en?j.CullFaceMode.frontCCW:j.CullFaceMode.disabled,kn=[j.mercatorXfromLng(Zt.center.lng),j.mercatorYfromLat(Zt.center.lat)];for(let Pn=0;Pn<pt.length;Pn++){const Jn=pt[Pn];if(it.hasRenderableParent(Jn))continue;const zn=it.getTile(Jn),Nn=zn.getBucket(ct);if(!Nn||Nn.projection.name!==Zt.projection.name)continue;const Vn=Nn.programConfigurations.get(ct.id),Hn=ht.useProgram("heatmap",Vn,fn),{zoom:On}=ht.transform;ht.terrain&&ht.terrain.setupElevationDraw(zn,Hn),ht.prepareDrawProgram(vt,Hn,Jn.toUnwrapped());const tr=Zt.projection.createInversionMatrix(Zt,Jn.canonical);Hn.draw(vt,Rt.TRIANGLES,j.DepthMode.disabled,kt,Lt,Bn,M_(ht,Jn,zn,tr,kn,On,ct.paint.get("heatmap-intensity")),ct.id,Nn.layoutVertexBuffer,Nn.indexBuffer,Nn.segments,ct.paint,ht.transform.zoom,Vn,en?[Nn.globeExtVertexBuffer]:null)}vt.viewport.set([0,0,ht.width,ht.height])}else ht.renderPass==="translucent"&&(ht.context.setColorMode(ht.colorModeForRenderPass()),function(vt,Rt){const kt=vt.context,Lt=kt.gl,Zt=Rt.heatmapFbo;if(!Zt)return;kt.activeTexture.set(Lt.TEXTURE0),Lt.bindTexture(Lt.TEXTURE_2D,Zt.colorAttachment.get()),kt.activeTexture.set(Lt.TEXTURE1);let en=Rt.colorRampTexture;en||(en=Rt.colorRampTexture=new j.Texture(kt,Rt.colorRamp,Lt.RGBA)),en.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),vt.useProgram("heatmapTexture").draw(kt,Lt.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,vt.colorModeForRenderPass(),j.CullFaceMode.disabled,((fn,Bn,kn,Pn)=>({u_image:0,u_color_ramp:1,u_opacity:Bn.paint.get("heatmap-opacity")}))(0,Rt),Rt.id,vt.viewportBuffer,vt.quadTriangleIndexBuffer,vt.viewportSegments,Rt.paint,vt.transform.zoom)}(ht,ct))},line:function(ht,it,ct,pt){if(ht.renderPass!=="translucent")return;const vt=ct.paint.get("line-opacity"),Rt=ct.paint.get("line-width");if(vt.constantOr(1)===0||Rt.constantOr(1)===0)return;const kt=ht.depthModeForSublayer(0,j.DepthMode.ReadOnly),Lt=ht.colorModeForRenderPass(),Zt=ht.terrain&&ht.terrain.renderingToTexture?1:j.exported.devicePixelRatio,en=ct.paint.get("line-dasharray"),fn=en.constantOr(1),Bn=ct.layout.get("line-cap"),kn=ct.paint.get("line-pattern"),Pn=kn.constantOr(1),Jn=ct.paint.get("line-gradient"),zn=ct.getCrossfadeParameters(),Nn=Pn?"linePattern":"line",Vn=ht.context,Hn=Vn.gl,On=(sr=>{const $n=[];J_(sr)&&$n.push("RENDER_LINE_DASH"),sr.paint.get("line-gradient")&&$n.push("RENDER_LINE_GRADIENT");const ur=sr.paint.get("line-trim-offset");ur[0]===0&&ur[1]===0||$n.push("RENDER_LINE_TRIM_OFFSET");const Ur=sr.paint.get("line-pattern").constantOr(1),Tr=sr.paint.get("line-opacity").constantOr(1)!==1;return!Ur&&Tr&&$n.push("RENDER_LINE_ALPHA_DISCARD"),$n})(ct);let tr=On.includes("RENDER_LINE_ALPHA_DISCARD");ht.terrain&&ht.terrain.clipOrMaskOverlapStencilType()&&(tr=!1);for(const sr of pt){const $n=it.getTile(sr);if(Pn&&!$n.patternsLoaded())continue;const ur=$n.getBucket(ct);if(!ur)continue;ht.prepareDrawTile();const Ur=ur.programConfigurations.get(ct.id),Tr=ht.useProgram(Nn,Ur,On),wr=kn.constantOr(null);if(wr&&$n.imageAtlas){const no=$n.imageAtlas,so=no.patternPositions[wr.to.toString()],ro=no.patternPositions[wr.from.toString()];so&&ro&&Ur.setConstantPatternPositions(so,ro)}const qr=en.constantOr(null),_r=Bn.constantOr(null);if(!Pn&&qr&&_r&&$n.lineAtlas){const no=$n.lineAtlas,so=no.getDash(qr.to,_r),ro=no.getDash(qr.from,_r);so&&ro&&Ur.setConstantPatternPositions(so,ro)}let[Pr,Zr]=ct.paint.get("line-trim-offset");(_r==="round"||_r==="square")&&Pr!==Zr&&(Pr===0&&(Pr-=1),Zr===1&&(Zr+=1));const Qr=ht.terrain?sr.projMatrix:null,gr=Pn?D_(ht,$n,ct,zn,Qr,Zt):Nm(ht,$n,ct,zn,Qr,ur.lineClipsArray.length,Zt,[Pr,Zr]);if(Jn){const no=ur.gradients[ct.id];let so=no.texture;if(ct.gradientVersion!==no.version){let ro=256;if(ct.stepInterpolant){const Ro=it.getSource().maxzoom,Io=sr.canonical.z===Ro?Math.ceil(1<<ht.transform.maxZoom-sr.canonical.z):1;ro=j.clamp(j.nextPowerOfTwo(ur.maxLineLength/j.EXTENT*1024*Io),256,Vn.maxTextureSize)}no.gradient=j.renderColorRamp({expression:ct.gradientExpression(),evaluationKey:"lineProgress",resolution:ro,image:no.gradient||void 0,clips:ur.lineClipsArray}),no.texture?no.texture.update(no.gradient):no.texture=new j.Texture(Vn,no.gradient,Hn.RGBA),no.version=ct.gradientVersion,so=no.texture}Vn.activeTexture.set(Hn.TEXTURE1),so.bind(ct.stepInterpolant?Hn.NEAREST:Hn.LINEAR,Hn.CLAMP_TO_EDGE)}fn&&(Vn.activeTexture.set(Hn.TEXTURE0),$n.lineAtlasTexture.bind(Hn.LINEAR,Hn.REPEAT),Ur.updatePaintBuffers(zn)),Pn&&(Vn.activeTexture.set(Hn.TEXTURE0),$n.imageAtlasTexture.bind(Hn.LINEAR,Hn.CLAMP_TO_EDGE),Ur.updatePaintBuffers(zn)),ht.prepareDrawProgram(Vn,Tr,sr.toUnwrapped());const co=no=>{Tr.draw(Vn,Hn.TRIANGLES,kt,no,Lt,j.CullFaceMode.disabled,gr,ct.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,ct.paint,ht.transform.zoom,Ur,[ur.layoutVertexBuffer2])};if(tr){const no=ht.stencilModeForClipping(sr).ref;no===0&&ht.terrain&&Vn.clear({stencil:0});const so={func:Hn.EQUAL,mask:255};gr.u_alpha_discard_threshold=.8,co(new j.StencilMode(so,no,255,Hn.KEEP,Hn.KEEP,Hn.INVERT)),gr.u_alpha_discard_threshold=0,co(new j.StencilMode(so,no,255,Hn.KEEP,Hn.KEEP,Hn.KEEP))}else co(ht.stencilModeForClipping(sr))}tr&&(ht.resetStencilClippingMasks(),ht.terrain&&Vn.clear({stencil:0}))},fill:function(ht,it,ct,pt){const vt=ct.paint.get("fill-color"),Rt=ct.paint.get("fill-opacity");if(Rt.constantOr(1)===0)return;const kt=ht.colorModeForRenderPass(),Lt=ct.paint.get("fill-pattern"),Zt=ht.opaquePassEnabledForLayer()&&!Lt.constantOr(1)&&vt.constantOr(j.Color.transparent).a===1&&Rt.constantOr(0)===1?"opaque":"translucent";if(ht.renderPass===Zt){const en=ht.depthModeForSublayer(1,ht.renderPass==="opaque"?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly);To(ht,it,ct,pt,en,kt,!1)}if(ht.renderPass==="translucent"&&ct.paint.get("fill-antialias")){const en=ht.depthModeForSublayer(ct.getPaintProperty("fill-outline-color")?2:0,j.DepthMode.ReadOnly);To(ht,it,ct,pt,en,kt,!0)}},"fill-extrusion":function(ht,it,ct,pt){const vt=ct.paint.get("fill-extrusion-opacity");if(vt!==0&&ht.renderPass==="translucent"){const Rt=new j.DepthMode(ht.context.gl.LEQUAL,j.DepthMode.ReadWrite,ht.depthRangeFor3D);if(vt!==1||ct.paint.get("fill-extrusion-pattern").constantOr(1))cs(ht,it,ct,pt,Rt,j.StencilMode.disabled,j.ColorMode.disabled),cs(ht,it,ct,pt,Rt,ht.stencilModeFor3D(),ht.colorModeForRenderPass()),ht.resetStencilClippingMasks();else{const kt=ht.colorModeForRenderPass();cs(ht,it,ct,pt,Rt,j.StencilMode.disabled,kt)}}},hillshade:function(ht,it,ct,pt){if(ht.renderPass!=="offscreen"&&ht.renderPass!=="translucent")return;const vt=ht.context,Rt=ht.depthModeForSublayer(0,j.DepthMode.ReadOnly),kt=ht.colorModeForRenderPass(),Lt=ht.terrain&&ht.terrain.renderingToTexture,[Zt,en]=ht.renderPass!=="translucent"||Lt?[{},pt]:ht.stencilConfigForOverlap(pt);for(const fn of en){const Bn=it.getTile(fn);if(Bn.needsHillshadePrepare&&ht.renderPass==="offscreen")Sy(ht,Bn,ct,Rt,j.StencilMode.disabled,kt);else if(ht.renderPass==="translucent"){const kn=Lt&&ht.terrain?ht.terrain.stencilModeForRTTOverlap(fn):Zt[fn.overscaledZ];qs(ht,fn,Bn,ct,Rt,kn,kt)}}vt.viewport.set([0,0,ht.width,ht.height]),ht.resetStencilClippingMasks()},raster:function(ht,it,ct,pt,vt,Rt){if(ht.renderPass!=="translucent"||ct.paint.get("raster-opacity")===0||!pt.length)return;const kt=ht.context,Lt=kt.gl,Zt=it.getSource(),en=ht.useProgram("raster"),fn=ht.colorModeForRenderPass(),Bn=ht.terrain&&ht.terrain.renderingToTexture,[kn,Pn]=Zt instanceof er||Bn?[{},pt]:ht.stencilConfigForOverlap(pt),Jn=Pn[Pn.length-1].overscaledZ,zn=!ht.options.moving;for(const Nn of Pn){const Vn=Bn?j.DepthMode.disabled:ht.depthModeForSublayer(Nn.overscaledZ-Jn,ct.paint.get("raster-opacity")===1?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly,Lt.LESS),Hn=Nn.toUnwrapped(),On=it.getTile(Nn);if(Bn&&(!On||!On.hasData()))continue;const tr=Bn?Nn.projMatrix:ht.transform.calculateProjMatrix(Hn,zn),sr=ht.terrain&&Bn?ht.terrain.stencilModeForRTTOverlap(Nn):kn[Nn.overscaledZ],$n=Rt?0:ct.paint.get("raster-fade-duration");On.registerFadeDuration($n);const ur=it.findLoadedParent(Nn,0),Ur=k_(On,ur,it,ht.transform,$n);let Tr,wr;ht.terrain&&ht.terrain.prepareDrawTile();const qr=ct.paint.get("raster-resampling")==="nearest"?Lt.NEAREST:Lt.LINEAR;kt.activeTexture.set(Lt.TEXTURE0),On.texture.bind(qr,Lt.CLAMP_TO_EDGE),kt.activeTexture.set(Lt.TEXTURE1),ur?(ur.texture.bind(qr,Lt.CLAMP_TO_EDGE),Tr=Math.pow(2,ur.tileID.overscaledZ-On.tileID.overscaledZ),wr=[On.tileID.canonical.x*Tr%1,On.tileID.canonical.y*Tr%1]):On.texture.bind(qr,Lt.CLAMP_TO_EDGE);const _r=Fp(tr,wr||[0,0],Tr||1,Ur,ct,Zt instanceof er?Zt.perspectiveTransform:[0,0]);if(ht.prepareDrawProgram(kt,en,Hn),Zt instanceof er)Zt.boundsBuffer&&Zt.boundsSegments&&en.draw(kt,Lt.TRIANGLES,Vn,j.StencilMode.disabled,fn,j.CullFaceMode.disabled,_r,ct.id,Zt.boundsBuffer,ht.quadTriangleIndexBuffer,Zt.boundsSegments);else{const{tileBoundsBuffer:Pr,tileBoundsIndexBuffer:Zr,tileBoundsSegments:Qr}=ht.getTileBoundsBuffers(On);en.draw(kt,Lt.TRIANGLES,Vn,sr,fn,j.CullFaceMode.disabled,_r,ct.id,Pr,Zr,Qr)}}ht.resetStencilClippingMasks()},background:function(ht,it,ct,pt){const vt=ct.paint.get("background-color"),Rt=ct.paint.get("background-opacity");if(Rt===0)return;const kt=ht.context,Lt=kt.gl,Zt=ht.transform,en=Zt.tileSize,fn=ct.paint.get("background-pattern");if(ht.isPatternMissing(fn))return;const Bn=!fn&&vt.a===1&&Rt===1&&ht.opaquePassEnabledForLayer()?"opaque":"translucent";if(ht.renderPass!==Bn)return;const kn=j.StencilMode.disabled,Pn=ht.depthModeForSublayer(0,Bn==="opaque"?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly),Jn=ht.colorModeForRenderPass(),zn=ht.useProgram(fn?"backgroundPattern":"background");let Nn,Vn=pt;Vn||(Nn=ht.getBackgroundTiles(),Vn=Object.values(Nn).map(On=>On.tileID)),fn&&(kt.activeTexture.set(Lt.TEXTURE0),ht.imageManager.bind(ht.context));const Hn=ct.getCrossfadeParameters();for(const On of Vn){const tr=On.toUnwrapped(),sr=pt?On.projMatrix:ht.transform.calculateProjMatrix(tr);ht.prepareDrawTile();const $n=it?it.getTile(On):Nn?Nn[On.key]:new j.Tile(On,en,Zt.zoom,ht),ur=fn?TU(sr,Rt,ht,fn,{tileID:On,tileSize:en},Hn):Eu(sr,Rt,vt);ht.prepareDrawProgram(kt,zn,tr);const{tileBoundsBuffer:Ur,tileBoundsIndexBuffer:Tr,tileBoundsSegments:wr}=ht.getTileBoundsBuffers($n);zn.draw(kt,Lt.TRIANGLES,Pn,kn,Jn,j.CullFaceMode.disabled,ur,ct.id,Ur,Tr,wr)}},sky:function(ht,it,ct){const pt=ht.transform,vt=pt.projection.name==="mercator"||pt.projection.name==="globe"?1:j.smoothstep(7,8,pt.zoom),Rt=ct.paint.get("sky-opacity")*vt;if(Rt===0)return;const kt=ht.context,Lt=ct.paint.get("sky-type"),Zt=new j.DepthMode(kt.gl.LEQUAL,j.DepthMode.ReadOnly,[0,1]),en=ht.frameCounter/1e3%1;Lt==="atmosphere"?ht.renderPass==="offscreen"?ct.needsSkyboxCapture(ht)&&(function(fn,Bn,kn,Pn){const Jn=fn.context,zn=Jn.gl;let Nn=Bn.skyboxFbo;if(!Nn){Nn=Bn.skyboxFbo=Jn.createFramebuffer(32,32,!1),Bn.skyboxGeometry=new Qs(Jn),Bn.skyboxTexture=Jn.gl.createTexture(),zn.bindTexture(zn.TEXTURE_CUBE_MAP,Bn.skyboxTexture),zn.texParameteri(zn.TEXTURE_CUBE_MAP,zn.TEXTURE_WRAP_S,zn.CLAMP_TO_EDGE),zn.texParameteri(zn.TEXTURE_CUBE_MAP,zn.TEXTURE_WRAP_T,zn.CLAMP_TO_EDGE),zn.texParameteri(zn.TEXTURE_CUBE_MAP,zn.TEXTURE_MIN_FILTER,zn.LINEAR),zn.texParameteri(zn.TEXTURE_CUBE_MAP,zn.TEXTURE_MAG_FILTER,zn.LINEAR);for(let tr=0;tr<6;++tr)zn.texImage2D(zn.TEXTURE_CUBE_MAP_POSITIVE_X+tr,0,zn.RGBA,32,32,0,zn.RGBA,zn.UNSIGNED_BYTE,null)}Jn.bindFramebuffer.set(Nn.framebuffer),Jn.viewport.set([0,0,32,32]);const Vn=Bn.getCenter(fn,!0),Hn=fn.useProgram("skyboxCapture"),On=new Float64Array(16);j.identity(On),j.rotateY(On,On,.5*-Math.PI),Zu(Jn,Bn,Hn,On,Vn,0),j.identity(On),j.rotateY(On,On,.5*Math.PI),Zu(Jn,Bn,Hn,On,Vn,1),j.identity(On),j.rotateX(On,On,.5*-Math.PI),Zu(Jn,Bn,Hn,On,Vn,2),j.identity(On),j.rotateX(On,On,.5*Math.PI),Zu(Jn,Bn,Hn,On,Vn,3),j.identity(On),Zu(Jn,Bn,Hn,On,Vn,4),j.identity(On),j.rotateY(On,On,Math.PI),Zu(Jn,Bn,Hn,On,Vn,5),Jn.viewport.set([0,0,fn.width,fn.height])}(ht,ct),ct.markSkyboxValid(ht)):ht.renderPass==="sky"&&function(fn,Bn,kn,Pn,Jn){const zn=fn.context,Nn=zn.gl,Vn=fn.transform,Hn=fn.useProgram("skybox");zn.activeTexture.set(Nn.TEXTURE0),Nn.bindTexture(Nn.TEXTURE_CUBE_MAP,Bn.skyboxTexture);const On=((tr,sr,$n,ur,Ur)=>({u_matrix:tr,u_sun_direction:sr,u_cubemap:0,u_opacity:ur,u_temporal_offset:Ur}))(Vn.skyboxMatrix,Bn.getCenter(fn,!1),0,Pn,Jn);fn.prepareDrawProgram(zn,Hn),Hn.draw(zn,Nn.TRIANGLES,kn,j.StencilMode.disabled,fn.colorModeForRenderPass(),j.CullFaceMode.backCW,On,"skybox",Bn.skyboxGeometry.vertexBuffer,Bn.skyboxGeometry.indexBuffer,Bn.skyboxGeometry.segment)}(ht,ct,Zt,Rt,en):Lt==="gradient"&&ht.renderPass==="sky"&&function(fn,Bn,kn,Pn,Jn){const zn=fn.context,Nn=zn.gl,Vn=fn.transform,Hn=fn.useProgram("skyboxGradient");Bn.skyboxGeometry||(Bn.skyboxGeometry=new Qs(zn)),zn.activeTexture.set(Nn.TEXTURE0);let On=Bn.colorRampTexture;On||(On=Bn.colorRampTexture=new j.Texture(zn,Bn.colorRamp,Nn.RGBA)),On.bind(Nn.LINEAR,Nn.CLAMP_TO_EDGE);const tr=((sr,$n,ur,Ur,Tr)=>({u_matrix:sr,u_color_ramp:0,u_center_direction:$n,u_radius:j.degToRad(ur),u_opacity:Ur,u_temporal_offset:Tr}))(Vn.skyboxMatrix,Bn.getCenter(fn,!1),Bn.paint.get("sky-gradient-radius"),Pn,Jn);fn.prepareDrawProgram(zn,Hn),Hn.draw(zn,Nn.TRIANGLES,kn,j.StencilMode.disabled,fn.colorModeForRenderPass(),j.CullFaceMode.backCW,tr,"skyboxGradient",Bn.skyboxGeometry.vertexBuffer,Bn.skyboxGeometry.indexBuffer,Bn.skyboxGeometry.segment)}(ht,ct,Zt,Rt,en)},debug:function(ht,it,ct){for(let pt=0;pt<ct.length;pt++)vp(ht,it,ct[pt])},custom:function(ht,it,ct){const pt=ht.context,vt=ct.implementation;if(ht.transform.projection.unsupportedLayers&&ht.transform.projection.unsupportedLayers.includes("custom"))j.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(ht.renderPass==="offscreen"){const Rt=vt.prerender;Rt&&(ht.setCustomLayerDefaults(),pt.setColorMode(ht.colorModeForRenderPass()),Rt.call(vt,pt.gl,ht.transform.customLayerMatrix()),pt.setDirty(),ht.setBaseState())}else if(ht.renderPass==="translucent"){ht.setCustomLayerDefaults(),pt.setColorMode(ht.colorModeForRenderPass()),pt.setStencilMode(j.StencilMode.disabled);const Rt=vt.renderingMode==="3d"?new j.DepthMode(ht.context.gl.LEQUAL,j.DepthMode.ReadWrite,ht.depthRangeFor3D):ht.depthModeForSublayer(0,j.DepthMode.ReadOnly);pt.setDepthMode(Rt),vt.render(pt.gl,ht.transform.customLayerMatrix()),pt.setDirty(),ht.setBaseState(),pt.bindFramebuffer.set(null)}}};class Iy{constructor(it,ct){this.context=new qt(it),this.transform=ct,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=j.SourceCache.maxUnderzooming+j.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Am,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(it,ct){const pt=!!it&&!!it.terrain&&this.transform.projection.supportsTerrain;if(!(pt||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new xy(this,it));const vt=this._terrain;this.transform.elevation=pt?vt:null,vt.update(it,this.transform,ct)}_updateFog(it){const ct=it.fog;if(!ct||this.transform.projection.name==="globe"||ct.getOpacity(this.transform.pitch)<1||ct.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[pt,vt]=ct.getFovAdjustedRange(this.transform._fov);if(pt>vt)return void(this.transform.fogCullDistSq=null);const Rt=pt+.78*(vt-pt);this.transform.fogCullDistSq=Rt*Rt}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(it,ct){if(this.width=it*j.exported.devicePixelRatio,this.height=ct*j.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const pt of this.style.order)this.style._layers[pt].resize()}setup(){const it=this.context,ct=new j.StructArrayLayout2i4;ct.emplaceBack(0,0),ct.emplaceBack(j.EXTENT,0),ct.emplaceBack(0,j.EXTENT),ct.emplaceBack(j.EXTENT,j.EXTENT),this.tileExtentBuffer=it.createVertexBuffer(ct,j.posAttributes.members),this.tileExtentSegments=j.SegmentVector.simpleSegment(0,0,4,2);const pt=new j.StructArrayLayout2i4;pt.emplaceBack(0,0),pt.emplaceBack(j.EXTENT,0),pt.emplaceBack(0,j.EXTENT),pt.emplaceBack(j.EXTENT,j.EXTENT),this.debugBuffer=it.createVertexBuffer(pt,j.posAttributes.members),this.debugSegments=j.SegmentVector.simpleSegment(0,0,4,5);const vt=new j.StructArrayLayout2i4;vt.emplaceBack(-1,-1),vt.emplaceBack(1,-1),vt.emplaceBack(-1,1),vt.emplaceBack(1,1),this.viewportBuffer=it.createVertexBuffer(vt,j.posAttributes.members),this.viewportSegments=j.SegmentVector.simpleSegment(0,0,4,2);const Rt=new j.StructArrayLayout4i8;Rt.emplaceBack(0,0,0,0),Rt.emplaceBack(j.EXTENT,0,j.EXTENT,0),Rt.emplaceBack(0,j.EXTENT,0,j.EXTENT),Rt.emplaceBack(j.EXTENT,j.EXTENT,j.EXTENT,j.EXTENT),this.mercatorBoundsBuffer=it.createVertexBuffer(Rt,j.boundsAttributes.members),this.mercatorBoundsSegments=j.SegmentVector.simpleSegment(0,0,4,2);const kt=new j.StructArrayLayout3ui6;kt.emplaceBack(0,1,2),kt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=it.createIndexBuffer(kt);const Lt=new j.StructArrayLayout1ui2;for(const en of[0,1,3,2,0])Lt.emplaceBack(en);this.debugIndexBuffer=it.createIndexBuffer(Lt),this.emptyTexture=new j.Texture(it,new j.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),it.gl.RGBA),this.identityMat=j.create();const Zt=this.context.gl;this.stencilClearMode=new j.StencilMode({func:Zt.ALWAYS,mask:0},0,255,Zt.ZERO,Zt.ZERO,Zt.ZERO),this.loadTimeStamps.push(j.window.performance.now()),this.atmosphereBuffer=new CU(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(it){return it._makeTileBoundsBuffers(this.context,this.transform.projection),it._tileBoundsBuffer?{tileBoundsBuffer:it._tileBoundsBuffer,tileBoundsIndexBuffer:it._tileBoundsIndexBuffer,tileBoundsSegments:it._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const it=this.context,ct=it.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(it,ct.TRIANGLES,j.DepthMode.disabled,this.stencilClearMode,j.ColorMode.disabled,j.CullFaceMode.disabled,ap(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(it,ct,pt){if(!ct||this.currentStencilSource===ct.id||!it.isTileClipped()||!pt||pt.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let Lt=!1;for(const Zt of pt)if(this._tileClippingMaskIDs[Zt.key]===void 0){Lt=!0;break}if(!Lt)return}this.currentStencilSource=ct.id;const vt=this.context,Rt=vt.gl;this.nextStencilID+pt.length>256&&this.clearStencil(),vt.setColorMode(j.ColorMode.disabled),vt.setDepthMode(j.DepthMode.disabled);const kt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const Lt of pt){const Zt=ct.getTile(Lt),en=this._tileClippingMaskIDs[Lt.key]=this.nextStencilID++,{tileBoundsBuffer:fn,tileBoundsIndexBuffer:Bn,tileBoundsSegments:kn}=this.getTileBoundsBuffers(Zt);kt.draw(vt,Rt.TRIANGLES,j.DepthMode.disabled,new j.StencilMode({func:Rt.ALWAYS,mask:0},en,255,Rt.KEEP,Rt.KEEP,Rt.REPLACE),j.ColorMode.disabled,j.CullFaceMode.disabled,ap(Lt.projMatrix),"$clipping",fn,Bn,kn)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const it=this.nextStencilID++,ct=this.context.gl;return new j.StencilMode({func:ct.NOTEQUAL,mask:255},it,255,ct.KEEP,ct.KEEP,ct.REPLACE)}stencilModeForClipping(it){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(it);const ct=this.context.gl;return new j.StencilMode({func:ct.EQUAL,mask:255},this._tileClippingMaskIDs[it.key],0,ct.KEEP,ct.KEEP,ct.REPLACE)}stencilConfigForOverlap(it){const ct=this.context.gl,pt=it.sort((kt,Lt)=>Lt.overscaledZ-kt.overscaledZ),vt=pt[pt.length-1].overscaledZ,Rt=pt[0].overscaledZ-vt+1;if(Rt>1){this.currentStencilSource=void 0,this.nextStencilID+Rt>256&&this.clearStencil();const kt={};for(let Lt=0;Lt<Rt;Lt++)kt[Lt+vt]=new j.StencilMode({func:ct.GEQUAL,mask:255},Lt+this.nextStencilID,255,ct.KEEP,ct.KEEP,ct.REPLACE);return this.nextStencilID+=Rt,[kt,pt]}return[{[vt]:j.StencilMode.disabled},pt]}colorModeForRenderPass(){const it=this.context.gl;return this._showOverdrawInspector?new j.ColorMode([it.CONSTANT_COLOR,it.ONE],new j.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?j.ColorMode.unblended:j.ColorMode.alphaBlended}depthModeForSublayer(it,ct,pt){if(!this.opaquePassEnabledForLayer())return j.DepthMode.disabled;const vt=1-((1+this.currentLayer)*this.numSublayers+it)*this.depthEpsilon;return new j.DepthMode(pt||this.context.gl.LEQUAL,ct,[vt,vt])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(it,ct){this.style=it,this.options=ct,this.imageManager=it.imageManager,this.glyphManager=it.glyphManager,this.symbolFadeChange=it.placement.symbolFadeChange(j.exported.now()),this.imageManager.beginFrame();const pt=this.style.order,vt=this.style._sourceCaches;for(const Zt in vt){const en=vt[Zt];en.used&&en.prepare(this.context)}const Rt={},kt={},Lt={};for(const Zt in vt){const en=vt[Zt];Rt[Zt]=en.getVisibleCoordinates(),kt[Zt]=Rt[Zt].slice().reverse(),Lt[Zt]=en.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Zt=0;Zt<pt.length;Zt++)if(this.style._layers[pt[Zt]].is3D()){this.opaquePassCutoff=Zt;break}if(this.terrain&&(this.terrain.updateTileBinding(Lt),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new j.GlobeSharedBuffers(this.context)),j.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const Zt of pt){const en=this.style._layers[Zt],fn=it._getLayerSourceCache(en);if(!en.hasOffscreenPass()||en.isHidden(this.transform.zoom))continue;const Bn=fn?kt[fn.id]:void 0;(en.type==="custom"||en.isSky()||Bn&&Bn.length)&&this.renderLayer(this,fn,en,Bn)}if(this.depthRangeFor3D=[0,1-(it.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:ct.showOverdrawInspector?j.Color.black:j.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ct.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=pt.length-1;this.currentLayer>=0;this.currentLayer--){const Zt=this.style._layers[pt[this.currentLayer]],en=it._getLayerSourceCache(Zt);if(Zt.isSky())continue;const fn=en?kt[en.id]:void 0;this._renderTileClippingMasks(Zt,en,fn),this.renderLayer(this,en,Zt,fn)}if(this.style.fog&&this.transform.projection.supportsFog&&function(Zt,en){const fn=Zt.context,Bn=fn.gl,kn=Zt.transform,Pn=new j.DepthMode(Bn.LEQUAL,j.DepthMode.ReadOnly,[0,1]),Jn=Zt.useProgram("globeAtmosphere",null,kn.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),zn=j.globeToMercatorTransition(kn.zoom),Nn=en.properties.get("color").toArray01(),Vn=en.properties.get("high-color").toArray01(),Hn=en.properties.get("space-color").toArray01PremultipliedAlpha(),On=j.identity$1([]);j.rotateY$1(On,On,-j.degToRad(kn._center.lng)),j.rotateX$1(On,On,j.degToRad(kn._center.lat)),j.rotateZ$1(On,On,kn.angle),j.rotateX$1(On,On,-kn._pitch);const tr=j.fromQuat(new Float32Array(16),On),sr=j.mapValue(en.properties.get("star-intensity"),0,1,0,.25),$n=5e-4,ur=j.mapValue(en.properties.get("horizon-blend"),0,1,$n,.25),Ur=j.globeUseCustomAntiAliasing(Zt,fn,kn)&&ur===$n?kn.worldSize/(2*Math.PI*1.025)-1:kn.globeRadius,Tr=Zt.frameCounter/1e3%1,wr=j.length(kn.globeCenterInViewSpace),qr=Math.sqrt(Math.pow(wr,2)-Math.pow(Ur,2)),_r=Math.acos(qr/wr),Pr=((Qr,gr,co,no,so,ro,Ro,Io,No,xo,io,Yo,rs,Ns)=>({u_frustum_tl:Qr,u_frustum_tr:gr,u_frustum_br:co,u_frustum_bl:no,u_horizon:so,u_transition:ro,u_fadeout_range:Ro,u_color:Io,u_high_color:No,u_space_color:xo,u_star_intensity:io,u_star_size:5*j.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Yo,u_horizon_angle:rs,u_rotation_matrix:Ns}))(kn.frustumCorners.TL,kn.frustumCorners.TR,kn.frustumCorners.BR,kn.frustumCorners.BL,kn.frustumCorners.horizon,zn,ur,Nn,Vn,Hn,sr,Tr,_r,tr);Zt.prepareDrawProgram(fn,Jn);const Zr=Zt.atmosphereBuffer;Zr&&Jn.draw(fn,Bn.TRIANGLES,Pn,j.StencilMode.disabled,j.ColorMode.alphaBlended,j.CullFaceMode.backCW,Pr,"skybox",Zr.vertexBuffer,Zr.indexBuffer,Zr.segments)}(this,this.style.fog),this.renderPass="sky",(j.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<pt.length;this.currentLayer++){const Zt=this.style._layers[pt[this.currentLayer]],en=it._getLayerSourceCache(Zt);Zt.isSky()&&this.renderLayer(this,en,Zt,en?kt[en.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pt.length;){const Zt=this.style._layers[pt[this.currentLayer]],en=it._getLayerSourceCache(Zt);if(Zt.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(Zt)){if(Zt.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const fn=en?(Zt.type==="symbol"?Lt:kt)[en.id]:void 0;this._renderTileClippingMasks(Zt,en,en?Rt[en.id]:void 0),this.renderLayer(this,en,Zt,fn),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Zt=null;j.values(this.style._layers).forEach(en=>{const fn=it._getLayerSourceCache(en);fn&&!en.isHidden(this.transform.zoom)&&(!Zt||Zt.getSource().maxzoom<fn.getSource().maxzoom)&&(Zt=fn)}),Zt&&this.options.showTileBoundaries&&h0.debug(this,Zt,Zt.getVisibleCoordinates())}this.options.showPadding&&function(Zt){const en=Zt.transform.padding;u0(Zt,Zt.transform.height-(en.top||0),3,Sl),u0(Zt,en.bottom||0,3,Hs),um(Zt,en.left||0,3,Dy),um(Zt,Zt.transform.width-(en.right||0),3,kU);const fn=Zt.transform.centerPoint;(function(Bn,kn,Pn,Jn){Pu(Bn,kn-1,Pn-10,2,20,Jn),Pu(Bn,kn-10,Pn-1,20,2,Jn)})(Zt,fn.x,Zt.transform.height-fn.y,Fu)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(j.window.performance.now()),this.saveCanvasCopy())}}renderLayer(it,ct,pt,vt){pt.isHidden(this.transform.zoom)||(pt.type==="background"||pt.type==="sky"||pt.type==="custom"||vt&&vt.length)&&(this.id=pt.id,this.gpuTimingStart(pt),it.transform.projection.unsupportedLayers&&it.transform.projection.unsupportedLayers.includes(pt.type)||h0[pt.type](it,ct,pt,vt,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(it){if(!this.options.gpuTiming)return;const ct=this.context.extTimerQuery;let pt=this.gpuTimers[it.id];pt||(pt=this.gpuTimers[it.id]={calls:0,cpuTime:0,query:ct.createQueryEXT()}),pt.calls++,ct.beginQueryEXT(ct.TIME_ELAPSED_EXT,pt.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const it=this.context.extTimerQuery,ct=it.createQueryEXT();this.deferredRenderGpuTimeQueries.push(ct),it.beginQueryEXT(it.TIME_ELAPSED_EXT,ct)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const it=this.context.extTimerQuery;it.endQueryEXT(it.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const it=this.context.extTimerQuery;it.endQueryEXT(it.TIME_ELAPSED_EXT)}collectGpuTimers(){const it=this.gpuTimers;return this.gpuTimers={},it}collectDeferredRenderGpuQueries(){const it=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],it}queryGpuTimers(it){const ct={};for(const pt in it){const vt=it[pt],Rt=this.context.extTimerQuery,kt=Rt.getQueryObjectEXT(vt.query,Rt.QUERY_RESULT_EXT)/1e6;Rt.deleteQueryEXT(vt.query),ct[pt]=kt}return ct}queryGpuTimeDeferredRender(it){if(!this.options.gpuTimingDeferredRender)return 0;const ct=this.context.extTimerQuery;let pt=0;for(const vt of it)pt+=ct.getQueryObjectEXT(vt,ct.QUERY_RESULT_EXT)/1e6,ct.deleteQueryEXT(vt);return pt}translatePosMatrix(it,ct,pt,vt,Rt){if(!pt[0]&&!pt[1])return it;const kt=Rt?vt==="map"?this.transform.angle:0:vt==="viewport"?-this.transform.angle:0;if(kt){const en=Math.sin(kt),fn=Math.cos(kt);pt=[pt[0]*fn-pt[1]*en,pt[0]*en+pt[1]*fn]}const Lt=[Rt?pt[0]:Ln(ct,pt[0],this.transform.zoom),Rt?pt[1]:Ln(ct,pt[1],this.transform.zoom),0],Zt=new Float32Array(16);return j.translate(Zt,it,Lt),Zt}saveTileTexture(it){const ct=this._tileTextures[it.size[0]];ct?ct.push(it):this._tileTextures[it.size[0]]=[it]}getTileTexture(it){const ct=this._tileTextures[it];return ct&&ct.length>0?ct.pop():null}isPatternMissing(it){if(!it)return!1;if(!it.from||!it.to)return!0;const ct=this.imageManager.getPattern(it.from.toString()),pt=this.imageManager.getPattern(it.to.toString());return!ct||!pt}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const it=this.terrain&&this.terrain.renderingToTexture,ct=this.style&&this.style.fog,pt=[];return this.terrainRenderModeElevated()&&pt.push("TERRAIN"),this.transform.projection.name==="globe"&&pt.push("GLOBE"),ct&&!it&&ct.getOpacity(this.transform.pitch)!==0&&pt.push("FOG"),it&&pt.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&pt.push("OVERDRAW_INSPECTOR"),pt}useProgram(it,ct,pt){this.cache=this.cache||{};const vt=pt||[],Rt=this.currentGlobalDefines().concat(vt),kt=V_.cacheKey(T_[it],it,Rt,ct);return this.cache[kt]||(this.cache[kt]=new V_(this.context,it,T_[it],ct,Ny[it],Rt)),this.cache[kt]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const it=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(it.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=j.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new j.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(it,ct,pt){if(this.terrain&&this.terrain.renderingToTexture)return;const vt=this.style.fog;if(vt){const Rt=vt.getOpacity(this.transform.pitch),kt=((Lt,Zt,en,fn,Bn,kn,Pn,Jn,zn,Nn,Vn)=>{const Hn=Lt.transform,On=Zt.properties.get("color").toArray01();On[3]=fn;const tr=Lt.frameCounter/1e3%1;return{u_fog_matrix:en?Hn.calculateFogTileMatrix(en):Lt.identityMat,u_fog_range:Zt.getFovAdjustedRange(Hn._fov),u_fog_color:On,u_fog_horizon_blend:Zt.properties.get("horizon-blend"),u_fog_temporal_offset:tr,u_frustum_tl:Bn,u_frustum_tr:kn,u_frustum_br:Pn,u_frustum_bl:Jn,u_globe_pos:zn,u_globe_radius:Nn,u_viewport:Vn,u_globe_transition:j.globeToMercatorTransition(Hn.zoom),u_is_globe:+(Hn.projection.name==="globe")}})(this,vt,pt,Rt,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*j.exported.devicePixelRatio,this.transform.height*j.exported.devicePixelRatio]);ct.setFogUniformValues(it,kt)}}setTileLoadedFlag(it){this.tileLoaded=it}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const it=this.context.gl,ct=it.createTexture();return it.bindTexture(it.TEXTURE_2D,ct),it.copyTexImage2D(it.TEXTURE_2D,0,it.RGBA,0,0,it.drawingBufferWidth,it.drawingBufferHeight,0),ct}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const it=this.style&&this.style.fog;return!!it&&it.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const it=this._backgroundTiles,ct=this._backgroundTiles={},pt=this.transform.coveringTiles({tileSize:512});for(const vt of pt)ct[vt.key]=it[vt.key]||new j.Tile(vt,512,this.transform.tileZoom,this);return ct}clearBackgroundTiles(){this._backgroundTiles={}}}class Bp{constructor(it=0,ct=0,pt=0,vt=0){if(isNaN(it)||it<0||isNaN(ct)||ct<0||isNaN(pt)||pt<0||isNaN(vt)||vt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=it,this.bottom=ct,this.left=pt,this.right=vt}interpolate(it,ct,pt){return ct.top!=null&&it.top!=null&&(this.top=j.number(it.top,ct.top,pt)),ct.bottom!=null&&it.bottom!=null&&(this.bottom=j.number(it.bottom,ct.bottom,pt)),ct.left!=null&&it.left!=null&&(this.left=j.number(it.left,ct.left,pt)),ct.right!=null&&it.right!=null&&(this.right=j.number(it.right,ct.right,pt)),this}getCenter(it,ct){const pt=j.clamp((this.left+it-this.right)/2,0,it),vt=j.clamp((this.top+ct-this.bottom)/2,0,ct);return new j.pointGeometry(pt,vt)}equals(it){return this.top===it.top&&this.bottom===it.bottom&&this.left===it.left&&this.right===it.right}clone(){return new Bp(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function f0(ht,it){const ct=j.getColumn(ht,3);j.fromQuat(ht,it),j.setColumn(ht,3,ct)}function Jy(ht,it){const ct=j.identity$1([]);return j.rotateZ$1(ct,ct,-it),j.rotateX$1(ct,ct,-ht),ct}function hm(ht,it){const ct=[ht[0],ht[1],0],pt=[it[0],it[1],0];if(j.length(ct)>=1e-15){const kt=j.normalize([],ct);j.scale$2(pt,kt,j.dot(pt,kt)),it[0]=pt[0],it[1]=pt[1]}const vt=j.cross([],it,ht);if(j.len(vt)<1e-15)return null;const Rt=Math.atan2(-vt[1],vt[0]);return Jy(Math.atan2(Math.sqrt(ht[0]*ht[0]+ht[1]*ht[1]),-ht[2]),Rt)}class p0{constructor(it,ct){this.position=it,this.orientation=ct}get position(){return this._position}set position(it){if(it){const ct=it instanceof j.MercatorCoordinate?it:new j.MercatorCoordinate(it[0],it[1],it[2]);this._renderWorldCopies&&(ct.x=j.wrap(ct.x,0,1)),this._position=ct}else this._position=null}lookAtPoint(it,ct){if(this.orientation=null,!this.position)return;const pt=this._elevation?this._elevation.getAtPointOrZero(j.MercatorCoordinate.fromLngLat(it)):0,vt=this.position,Rt=j.MercatorCoordinate.fromLngLat(it,pt),kt=[Rt.x-vt.x,Rt.y-vt.y,Rt.z-vt.z];ct||(ct=[0,0,1]),ct[2]=Math.abs(ct[2]),this.orientation=hm(kt,ct)}setPitchBearing(it,ct){this.orientation=Jy(j.degToRad(it),j.degToRad(-ct))}}class dm{constructor(it,ct){this._transform=j.identity([]),this.orientation=ct,this.position=it}get mercatorPosition(){const it=this.position;return new j.MercatorCoordinate(it[0],it[1],it[2])}get position(){const it=j.getColumn(this._transform,3);return[it[0],it[1],it[2]]}set position(it){var ct;it&&j.setColumn(this._transform,3,[(ct=it)[0],ct[1],ct[2],1])}get orientation(){return this._orientation}set orientation(it){this._orientation=it||j.identity$1([]),it&&f0(this._transform,this._orientation)}getPitchBearing(){const it=this.forward(),ct=this.right();return{bearing:Math.atan2(-ct[1],ct[0]),pitch:Math.atan2(Math.sqrt(it[0]*it[0]+it[1]*it[1]),-it[2])}}setPitchBearing(it,ct){this._orientation=Jy(it,ct),f0(this._transform,this._orientation)}forward(){const it=j.getColumn(this._transform,2);return[-it[0],-it[1],-it[2]]}up(){const it=j.getColumn(this._transform,1);return[-it[0],-it[1],-it[2]]}right(){const it=j.getColumn(this._transform,0);return[it[0],it[1],it[2]]}getCameraToWorld(it,ct){const pt=new Float64Array(16);return j.invert(pt,this.getWorldToCamera(it,ct)),pt}getWorldToCameraPosition(it,ct,pt){const vt=this.position;j.scale$2(vt,vt,-it);const Rt=new Float64Array(16);return j.fromScaling(Rt,[pt,pt,pt]),j.translate(Rt,Rt,vt),Rt[10]*=ct,Rt}getWorldToCamera(it,ct){const pt=new Float64Array(16),vt=new Float64Array(4),Rt=this.position;return j.conjugate(vt,this._orientation),j.scale$2(Rt,Rt,-it),j.fromQuat(pt,vt),j.translate(pt,pt,Rt),pt[1]*=-1,pt[5]*=-1,pt[9]*=-1,pt[13]*=-1,pt[8]*=ct,pt[9]*=ct,pt[10]*=ct,pt[11]*=ct,pt}getCameraToClipPerspective(it,ct,pt,vt){const Rt=new Float64Array(16);return j.perspective(Rt,it,ct,pt,vt),Rt}getDistanceToElevation(it){const ct=it===0?0:j.mercatorZfromAltitude(it,this.position[1]),pt=this.forward();return(ct-this.position[2])/pt[2]}clone(){return new dm([...this.position],[...this.orientation])}}function Mm(ht,it){const ct=zp(ht.projection,ht.zoom,ht.width,ht.height),pt=function(Rt,kt,Lt,Zt,en){const fn=new j.LngLat(Lt.lng-180*fu,Lt.lat),Bn=new j.LngLat(Lt.lng+180*fu,Lt.lat),kn=Rt.project(fn.lng,fn.lat),Pn=Rt.project(Bn.lng,Bn.lat),Jn=-Math.atan2(Pn.y-kn.y,Pn.x-kn.x),zn=j.MercatorCoordinate.fromLngLat(Lt);zn.y=j.clamp(zn.y,-.999975,.999975);const Nn=zn.toLngLat(),Vn=Rt.project(Nn.lng,Nn.lat),Hn=j.MercatorCoordinate.fromLngLat(Nn);Hn.x+=fu;const On=Hn.toLngLat(),tr=Rt.project(On.lng,On.lat),sr=go(tr.x-Vn.x,tr.y-Vn.y,Jn),$n=j.MercatorCoordinate.fromLngLat(Nn);$n.y+=fu;const ur=$n.toLngLat(),Ur=Rt.project(ur.lng,ur.lat),Tr=go(Ur.x-Vn.x,Ur.y-Vn.y,Jn),wr=Math.abs(sr.x)/Math.abs(Tr.y),qr=j.identity([]);j.rotateZ(qr,qr,-Jn*(1-(en?0:Zt)));const _r=j.identity([]);return j.scale(_r,_r,[1,1-(1-wr)*Zt,1]),_r[4]=-Tr.x/Tr.y*Zt,j.rotateZ(_r,_r,Jn),j.multiply(_r,qr,_r),_r}(ht.projection,0,ht.center,ct,it),vt=Y0(ht);return j.scale(pt,pt,[vt,vt,1]),pt}function Y0(ht){const it=ht.projection,ct=zp(ht.projection,ht.zoom,ht.width,ht.height),pt=fm(it,ht.center),vt=fm(it,j.LngLat.convert(it.center));return Math.pow(2,pt*ct+(1-ct)*vt)}function zp(ht,it,ct,pt,vt=1/0){const Rt=ht.range;if(!Rt)return 0;const kt=Math.min(vt,Math.max(ct,pt)),Lt=Math.log(kt/1024)/Math.LN2;return j.smoothstep(Rt[0]+Lt,Rt[1]+Lt,it)}const fu=1/4e4;function fm(ht,it){const ct=j.clamp(it.lat,-j.MAX_MERCATOR_LATITUDE,j.MAX_MERCATOR_LATITUDE),pt=new j.LngLat(it.lng-180*fu,ct),vt=new j.LngLat(it.lng+180*fu,ct),Rt=ht.project(pt.lng,ct),kt=ht.project(vt.lng,ct),Lt=j.MercatorCoordinate.fromLngLat(pt),Zt=j.MercatorCoordinate.fromLngLat(vt),en=kt.x-Rt.x,fn=kt.y-Rt.y,Bn=Zt.x-Lt.x,kn=Zt.y-Lt.y,Pn=Math.sqrt((Bn*Bn+kn*kn)/(en*en+fn*fn));return Math.log(Pn)/Math.LN2}function go(ht,it,ct){const pt=Math.cos(ct),vt=Math.sin(ct);return{x:ht*pt-it*vt,y:ht*vt+it*pt}}class wu{constructor(it,ct,pt,vt,Rt,kt,Lt){this.tileSize=512,this._renderWorldCopies=Rt===void 0||Rt,this._minZoom=it||0,this._maxZoom=ct||22,this._minPitch=pt??0,this._maxPitch=vt??60,this.setProjection(kt),this.setMaxBounds(Lt),this.width=0,this.height=0,this._center=new j.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Bp,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new dm,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const it=new wu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return it._elevation=this._elevation,it._centerAltitude=this._centerAltitude,it._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,it.tileSize=this.tileSize,it.mercatorFromTransition=this.mercatorFromTransition,it.width=this.width,it.height=this.height,it.cameraElevationReference=this.cameraElevationReference,it._center=this._center,it._setZoom(this.zoom),it._seaLevelZoom=this._seaLevelZoom,it.angle=this.angle,it._fov=this._fov,it._pitch=this._pitch,it._nearZ=this._nearZ,it._farZ=this._farZ,it._averageElevation=this._averageElevation,it._unmodified=this._unmodified,it._edgeInsets=this._edgeInsets.clone(),it._camera=this._camera.clone(),it._calcMatrices(),it.freezeTileCoverage=this.freezeTileCoverage,it.frustumCorners=this.frustumCorners,it}get elevation(){return this._elevation}set elevation(it){this._elevation!==it&&(this._elevation=it,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(it){const ct=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||ct)&&this._updateCameraOnTerrain(),(it||ct)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return j.pick(this.projection,["name","center","parallels"])}setProjection(it){this.projectionOptions=it||{name:"mercator"};const ct=this.projection?this.getProjection():void 0;this.projection=j.getProjection(this.projectionOptions);const pt=!st(ct,this.getProjection());return pt&&this._calcMatrices(),this.mercatorFromTransition=!1,pt}setMercatorFromTransition(){const it=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=j.getProjection({name:"mercator"});const ct=it!==this.projection.name;return ct&&this._calcMatrices(),ct}get minZoom(){return this._minZoom}set minZoom(it){this._minZoom!==it&&(this._minZoom=it,this.zoom=Math.max(this.zoom,it))}get maxZoom(){return this._maxZoom}set maxZoom(it){this._maxZoom!==it&&(this._maxZoom=it,this.zoom=Math.min(this.zoom,it))}get minPitch(){return this._minPitch}set minPitch(it){this._minPitch!==it&&(this._minPitch=it,this.pitch=Math.max(this.pitch,it))}get maxPitch(){return this._maxPitch}set maxPitch(it){this._maxPitch!==it&&(this._maxPitch=it,this.pitch=Math.min(this.pitch,it))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(it){it===void 0?it=!0:it===null&&(it=!1),this._renderWorldCopies=it}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const it=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(it))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return j.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new j.pointGeometry(this.width,this.height)}get bearing(){return j.wrap(this.rotation,-180,180)}set bearing(it){this.rotation=it}get rotation(){return-this.angle/Math.PI*180}set rotation(it){const ct=-it*Math.PI/180;var pt;this.angle!==ct&&(this._unmodified=!1,this.angle=ct,this._calcMatrices(),this.rotationMatrix=(pt=new j.ARRAY_TYPE(4),j.ARRAY_TYPE!=Float32Array&&(pt[1]=0,pt[2]=0),pt[0]=1,pt[3]=1,pt),function(vt,Rt,kt){var Lt=Rt[0],Zt=Rt[1],en=Rt[2],fn=Rt[3],Bn=Math.sin(kt),kn=Math.cos(kt);vt[0]=Lt*kn+en*Bn,vt[1]=Zt*kn+fn*Bn,vt[2]=Lt*-Bn+en*kn,vt[3]=Zt*-Bn+fn*kn}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(it){const ct=j.clamp(it,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==ct&&(this._unmodified=!1,this._pitch=ct,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const it=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/it)}set fov(it){it=Math.max(.01,Math.min(60,it)),this._fov!==it&&(this._unmodified=!1,this._fov=j.degToRad(it),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(it){this._averageElevation=it,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(it){const ct=Math.min(Math.max(it,this.minZoom),this.maxZoom);this._zoom!==ct&&(this._unmodified=!1,this._setZoom(ct),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(it){this._zoom=it,this.scale=this.zoomScale(it),this.tileZoom=Math.floor(it),this.zoomFraction=it-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const it=this._elevation;this._centerAltitude=it.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=it.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const it=this._elevation,ct=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],pt=this.horizonLineFromTop();let vt=0,Rt=0;for(let kt=0;kt<ct.length;kt++){const Lt=new j.pointGeometry(ct[kt][0]*this.width,pt+ct[kt][1]*(this.height-pt)),Zt=it.pointCoordinate(Lt);if(!Zt)continue;const en=1/Math.hypot(Zt[0]-this._camera.position[0],Zt[1]-this._camera.position[1]);vt+=Zt[3]*en,Rt+=en}return Rt===0?NaN:vt/Rt}get center(){return this._center}set center(it){it.lat===this._center.lat&&it.lng===this._center.lng||(this._unmodified=!1,this._center=it,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const it=this._seaLevelZoom,ct=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),pt=this.pixelsPerMeter/this.worldSize*ct,vt=this._mercatorZfromZoom(it),Rt=this._mercatorZfromZoom(this._maxZoom),kt=Math.max(vt-pt,Rt);this._setZoom(this._zoomFromMercatorZ(kt))}get padding(){return this._edgeInsets.toJSON()}set padding(it){this._edgeInsets.equals(it)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,it,1),this._calcMatrices())}computeZoomRelativeTo(it){const ct=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,it.toAltitude()));let pt;pt=it.z<this._camera.position[2]?[ct.x,ct.y,ct.z]:[it.x,it.y,it.z];const vt=j.length(j.sub([],this._camera.position,pt));return j.clamp(this._zoomFromMercatorZ(vt),this._minZoom,this._maxZoom)}setFreeCameraOptions(it){if(!this.height||!it.position&&!it.orientation)return;this._updateCameraState();let ct=!1;if(it.orientation&&!j.exactEquals(it.orientation,this._camera.orientation)&&(ct=this._setCameraOrientation(it.orientation)),it.position){const pt=[it.position.x,it.position.y,it.position.z];j.exactEquals$1(pt,this._camera.position)||(this._setCameraPosition(pt),ct=!0)}ct&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const it=this._camera.position,ct=new p0;return ct.position=new j.MercatorCoordinate(it[0],it[1],it[2]),ct.orientation=this._camera.orientation,ct._elevation=this.elevation,ct._renderWorldCopies=this.renderWorldCopies,ct}_setCameraOrientation(it){if(!j.length$1(it))return!1;j.normalize$1(it,it);const ct=j.transformQuat([],[0,0,-1],it),pt=j.transformQuat([],[0,-1,0],it);if(pt[2]<0)return!1;const vt=hm(ct,pt);return!!vt&&(this._camera.orientation=vt,!0)}_setCameraPosition(it){const ct=this.zoomScale(this.minZoom)*this.tileSize,pt=this.zoomScale(this.maxZoom)*this.tileSize,vt=this.cameraToCenterDistance;it[2]=j.clamp(it[2],vt/pt,vt/ct),this._camera.position=it}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(it){return this._edgeInsets.equals(it)}interpolatePadding(it,ct,pt){this._unmodified=!1,this._edgeInsets.interpolate(it,ct,pt),this._constrain(),this._calcMatrices()}coveringZoomLevel(it){const ct=(it.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/it.tileSize));return Math.max(0,ct)}getVisibleUnwrappedCoordinates(it){const ct=[new j.UnwrappedTileID(0,it)];if(this.renderWorldCopies){const pt=this.pointCoordinate(new j.pointGeometry(0,0)),vt=this.pointCoordinate(new j.pointGeometry(this.width,0)),Rt=this.pointCoordinate(new j.pointGeometry(this.width,this.height)),kt=this.pointCoordinate(new j.pointGeometry(0,this.height)),Lt=Math.floor(Math.min(pt.x,vt.x,Rt.x,kt.x)),Zt=Math.floor(Math.max(pt.x,vt.x,Rt.x,kt.x)),en=1;for(let fn=Lt-en;fn<=Zt+en;fn++)fn!==0&&ct.push(new j.UnwrappedTileID(fn,it))}return ct}coveringTiles(it){let ct=this.coveringZoomLevel(it);const pt=ct,vt=this.elevation&&!it.isTerrainDEM,Rt=this.projection.name==="mercator";if(it.minzoom!==void 0&&ct<it.minzoom)return[];it.maxzoom!==void 0&&ct>it.maxzoom&&(ct=it.maxzoom);const kt=this.locationCoordinate(this.center),Lt=this.center.lat,Zt=1<<ct,en=[Zt*kt.x,Zt*kt.y,0],fn=this.projection.name==="globe",Bn=!fn,kn=j.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ct,Bn),Pn=fn?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Jn=Zt*j.mercatorZfromAltitude(1,this.center.lat),zn=this._camera.position[2]/j.mercatorZfromAltitude(1,this.center.lat),Nn=[Zt*Pn.x,Zt*Pn.y,zn*(Bn?1:Jn)],Vn=this.cameraToCenterDistance/it.tileSize*(it.roundZoom?1:.502),Hn=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?ct:0,On=it.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,tr=it.isTerrainDEM?-On:this._elevation?this._elevation.getMinElevationBelowMSL():0,sr=this.projection.isReprojectedInTileSpace?Y0(this):1,$n=gr=>{const no=new j.MercatorCoordinate(gr.x+25e-6,gr.y,gr.z),so=new j.MercatorCoordinate(gr.x,gr.y+25e-6,gr.z),ro=gr.toLngLat(),Ro=no.toLngLat(),Io=so.toLngLat(),No=this.locationCoordinate(ro),xo=this.locationCoordinate(Ro),io=this.locationCoordinate(Io),Yo=Math.hypot(xo.x-No.x,xo.y-No.y),rs=Math.hypot(io.x-No.x,io.y-No.y);return Math.sqrt(Yo*rs)*sr/25e-6},ur=gr=>{const co=On,no=tr;return{aabb:j.tileAABB(this,Zt,0,0,0,gr,no,co,this.projection),zoom:0,x:0,y:0,minZ:no,maxZ:co,wrap:gr,fullyVisible:!1}},Ur=[];let Tr=[];const wr=ct,qr=it.reparseOverscaled?pt:ct,_r=gr=>gr*gr,Pr=_r((zn-this._centerAltitude)*Jn),Zr=gr=>{if(!this._elevation||!gr.tileID||!Rt)return;const co=this._elevation.getMinMaxForTile(gr.tileID),no=gr.aabb;co?(no.min[2]=co.min,no.max[2]=co.max,no.center[2]=(no.min[2]+no.max[2])/2):(gr.shouldSplit=Qr(gr),gr.shouldSplit||(no.min[2]=no.max[2]=no.center[2]=this._centerAltitude))},Qr=gr=>{if(gr.zoom<Hn)return!0;if(gr.zoom===wr)return!1;if(gr.shouldSplit!=null)return gr.shouldSplit;const co=gr.aabb.distanceX(Nn),no=gr.aabb.distanceY(Nn);let so=Pr,ro=1;if(fn){so=_r(gr.aabb.distanceZ(Nn));const No=Math.pow(2,gr.zoom),xo=j.latFromMercatorY((gr.y+1)/No),io=j.latFromMercatorY(gr.y/No),Yo=Math.min(Math.max(Lt,xo),io),rs=j.circumferenceAtLatitude(Yo)/j.circumferenceAtLatitude(Lt);if(ro=Yo===Lt?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,rs/this._mercatorScaleRatio),this.zoom<=j.GLOBE_ZOOM_THRESHOLD_MIN&&gr.zoom===wr-1&&rs>=.9)return!0}else if(vt&&(so=_r(gr.aabb.distanceZ(Nn)*Jn)),this.projection.isReprojectedInTileSpace&&pt<=5){const No=Math.pow(2,gr.zoom),xo=$n(new j.MercatorCoordinate((gr.x+.5)/No,(gr.y+.5)/No));ro=xo>.85?1:xo}const Ro=co*co+no*no+so,Io=_r((1<<wr-gr.zoom)*Vn*ro*((No,xo)=>{if(xo*_r(.707)<No)return 1;const io=Math.sqrt(xo/No);return io/(1.4144271570014144+(Math.pow(1.1,io-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(so,Pr),Ro));return Ro<Io};if(this.renderWorldCopies)for(let gr=1;gr<=3;gr++)Ur.push(ur(-gr)),Ur.push(ur(gr));for(Ur.push(ur(0));Ur.length>0;){const gr=Ur.pop(),co=gr.x,no=gr.y;let so=gr.fullyVisible;if(!so){const ro=gr.aabb.intersects(kn);if(ro===0)continue;so=ro===2}if(gr.zoom!==wr&&Qr(gr))for(let ro=0;ro<4;ro++){const Ro=(co<<1)+ro%2,Io=(no<<1)+(ro>>1),No={aabb:Rt?gr.aabb.quadrant(ro):j.tileAABB(this,Zt,gr.zoom+1,Ro,Io,gr.wrap,gr.minZ,gr.maxZ,this.projection),zoom:gr.zoom+1,x:Ro,y:Io,wrap:gr.wrap,fullyVisible:so,tileID:void 0,shouldSplit:void 0,minZ:gr.minZ,maxZ:gr.maxZ};vt&&!fn&&(No.tileID=new j.OverscaledTileID(gr.zoom+1===wr?qr:gr.zoom+1,gr.wrap,gr.zoom+1,Ro,Io),Zr(No)),Ur.push(No)}else{const ro=gr.zoom===wr?qr:gr.zoom;if(it.minzoom&&it.minzoom>ro)continue;const Ro=en[0]-(.5+co+(gr.wrap<<gr.zoom))*(1<<ct-gr.zoom),Io=en[1]-.5-no,No=gr.tileID?gr.tileID:new j.OverscaledTileID(ro,gr.wrap,gr.zoom,co,no);Tr.push({tileID:No,distanceSq:Ro*Ro+Io*Io})}}if(this.fogCullDistSq){const gr=this.fogCullDistSq,co=this.horizonLineFromTop();Tr=Tr.filter(no=>{const so=[0,0,0,1],ro=[j.EXTENT,j.EXTENT,0,1],Ro=this.calculateFogTileMatrix(no.tileID.toUnwrapped());j.transformMat4$1(so,so,Ro),j.transformMat4$1(ro,ro,Ro);const Io=j.getAABBPointSquareDist(so,ro);if(Io===0)return!0;let No=!1;const xo=this._elevation;if(xo&&Io>gr&&co!==0){const io=this.calculateProjMatrix(no.tileID.toUnwrapped());let Yo;it.isTerrainDEM||(Yo=xo.getMinMaxForTile(no.tileID)),Yo||(Yo={min:tr,max:On});const rs=j.furthestTileCorner(this.rotation),Ns=[rs[0]*j.EXTENT,rs[1]*j.EXTENT,Yo.max];j.transformMat4(Ns,Ns,io),No=(1-Ns[1])*this.height*.5<co}return Io<gr||No})}return Tr.sort((gr,co)=>gr.distanceSq-co.distanceSq).map(gr=>gr.tileID)}resize(it,ct){this.width=it,this.height=ct,this.pixelsToGLUnits=[2/it,-2/ct],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(it){return Math.pow(2,it)}scaleZoom(it){return Math.log(it)/Math.LN2}project(it){const ct=j.clamp(it.lat,-j.MAX_MERCATOR_LATITUDE,j.MAX_MERCATOR_LATITUDE),pt=this.projection.project(it.lng,ct);return new j.pointGeometry(pt.x*this.worldSize,pt.y*this.worldSize)}unproject(it){return this.projection.unproject(it.x/this.worldSize,it.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(it,ct){let pt,vt;const Rt=this.centerPoint;if(this.projection.name==="globe"){const Lt=this.worldSize;pt=(ct.x-Rt.x)/Lt,vt=(ct.y-Rt.y)/Lt}else{const Lt=this.pointCoordinate(ct),Zt=this.pointCoordinate(Rt);pt=Lt.x-Zt.x,vt=Lt.y-Zt.y}const kt=this.locationCoordinate(it);this.setLocation(new j.MercatorCoordinate(kt.x-pt,kt.y-vt))}setLocation(it){this.center=this.coordinateLocation(it),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(it){return this.projection.locationPoint(this,it)}locationPoint3D(it){return this.projection.locationPoint(this,it,!0)}pointLocation(it){return this.coordinateLocation(this.pointCoordinate(it))}pointLocation3D(it){return this.coordinateLocation(this.pointCoordinate3D(it))}locationCoordinate(it,ct){const pt=ct?j.mercatorZfromAltitude(ct,it.lat):void 0,vt=this.projection.project(it.lng,it.lat);return new j.MercatorCoordinate(vt.x,vt.y,pt)}coordinateLocation(it){return this.projection.unproject(it.x,it.y)}pointRayIntersection(it,ct){const pt=ct??this._centerAltitude,vt=[it.x,it.y,0,1],Rt=[it.x,it.y,1,1];j.transformMat4$1(vt,vt,this.pixelMatrixInverse),j.transformMat4$1(Rt,Rt,this.pixelMatrixInverse);const kt=Rt[3];j.scale$1(vt,vt,1/vt[3]),j.scale$1(Rt,Rt,1/kt);const Lt=vt[2],Zt=Rt[2];return{p0:vt,p1:Rt,t:Lt===Zt?0:(pt-Lt)/(Zt-Lt)}}screenPointToMercatorRay(it){const ct=[it.x,it.y,0,1],pt=[it.x,it.y,1,1];return j.transformMat4$1(ct,ct,this.pixelMatrixInverse),j.transformMat4$1(pt,pt,this.pixelMatrixInverse),j.scale$1(ct,ct,1/ct[3]),j.scale$1(pt,pt,1/pt[3]),ct[2]=j.mercatorZfromAltitude(ct[2],this._center.lat)*this.worldSize,pt[2]=j.mercatorZfromAltitude(pt[2],this._center.lat)*this.worldSize,j.scale$1(ct,ct,1/this.worldSize),j.scale$1(pt,pt,1/this.worldSize),new j.Ray([ct[0],ct[1],ct[2]],j.normalize([],j.sub([],pt,ct)))}rayIntersectionCoordinate(it){const{p0:ct,p1:pt,t:vt}=it,Rt=j.mercatorZfromAltitude(ct[2],this._center.lat),kt=j.mercatorZfromAltitude(pt[2],this._center.lat);return new j.MercatorCoordinate(j.number(ct[0],pt[0],vt)/this.worldSize,j.number(ct[1],pt[1],vt)/this.worldSize,j.number(Rt,kt,vt))}pointCoordinate(it,ct=this._centerAltitude){return this.projection.pointCoordinate(this,it.x,it.y,ct)}pointCoordinate3D(it){if(!this.elevation)return this.pointCoordinate(it);let ct=this.projection.pointCoordinate3D(this,it.x,it.y);if(ct)return new j.MercatorCoordinate(ct[0],ct[1],ct[2]);let pt=0,vt=this.horizonLineFromTop();if(it.y>vt)return this.pointCoordinate(it);const Rt=.02*vt,kt=it.clone();for(let Lt=0;Lt<10&&vt-pt>Rt;Lt++){kt.y=j.number(pt,vt,.66);const Zt=this.projection.pointCoordinate3D(this,kt.x,kt.y);Zt?(vt=kt.y,ct=Zt):pt=kt.y}return ct?new j.MercatorCoordinate(ct[0],ct[1],ct[2]):this.pointCoordinate(it)}isPointAboveHorizon(it){return this.projection.isPointAboveHorizon(this,it)}_coordinatePoint(it,ct){const pt=ct&&this.elevation?this.elevation.getAtPointOrZero(it,this._centerAltitude):this._centerAltitude,vt=[it.x*this.worldSize,it.y*this.worldSize,pt+it.toAltitude(),1];return j.transformMat4$1(vt,vt,this.pixelMatrix),vt[3]>0?new j.pointGeometry(vt[0]/vt[3],vt[1]/vt[3]):new j.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:it,left:ct}=this._edgeInsets,pt=this.height-this._edgeInsets.bottom,vt=this.width-this._edgeInsets.right,Rt=this.pointCoordinate3D(new j.pointGeometry(ct,it)),kt=this.pointCoordinate3D(new j.pointGeometry(vt,it)),Lt=this.pointCoordinate3D(new j.pointGeometry(vt,pt)),Zt=this.pointCoordinate3D(new j.pointGeometry(ct,pt));let en=Math.min(Rt.x,Zt.x),fn=Math.max(kt.x,Lt.x),Bn=Math.min(Rt.y,kt.y),kn=Math.max(Zt.y,Lt.y);const Pn=Math.pow(2,-this.zoom)/16,Jn=(Vn,Hn,On,tr)=>{const sr=(Vn+On)/2,$n=(Hn+tr)/2,ur=new j.pointGeometry(sr,$n),Ur=this.pointCoordinate3D(ur),Tr=Math.max(0,en-Ur.x,Bn-Ur.y,Ur.x-fn,Ur.y-kn);en=Math.min(en,Ur.x),fn=Math.max(fn,Ur.x),Bn=Math.min(Bn,Ur.y),kn=Math.max(kn,Ur.y),Tr>Pn&&(Jn(Vn,Hn,sr,$n),Jn(sr,$n,On,tr))};Jn(ct,it,vt,it),Jn(vt,it,vt,pt),Jn(vt,pt,ct,pt),Jn(ct,pt,ct,it);const zn=new j.LngLat(j.lngFromMercatorX(fn),j.latFromMercatorY(Bn)),Nn=new j.LngLat(j.lngFromMercatorX(en),j.latFromMercatorY(kn));return new j.LngLatBounds(Nn,zn)}_getBounds(it,ct){if(this.projection.name==="globe")return this._getGlobeBounds();const pt=new j.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),vt=new j.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),Rt=new j.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),kt=new j.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let Lt=this.pointCoordinate(pt,it),Zt=this.pointCoordinate(vt,it);const en=this.pointCoordinate(Rt,ct),fn=this.pointCoordinate(kt,ct),Bn=(kn,Pn)=>(Pn.y-kn.y)/(Pn.x-kn.x);return Lt.y>1&&Zt.y>=0?Lt=new j.MercatorCoordinate((1-fn.y)/Bn(fn,Lt)+fn.x,1):Lt.y<0&&Zt.y<=1&&(Lt=new j.MercatorCoordinate(-fn.y/Bn(fn,Lt)+fn.x,0)),Zt.y>1&&Lt.y>=0?Zt=new j.MercatorCoordinate((1-en.y)/Bn(en,Zt)+en.x,1):Zt.y<0&&Lt.y<=1&&(Zt=new j.MercatorCoordinate(-en.y/Bn(en,Zt)+en.x,0)),new j.LngLatBounds().extend(this.coordinateLocation(Lt)).extend(this.coordinateLocation(Zt)).extend(this.coordinateLocation(fn)).extend(this.coordinateLocation(en))}_getBounds3D(){const it=this.elevation;if(!it.visibleDemTiles.length||it.isUsingMockSource())return this._getBounds(0,0);const ct=it.visibleDemTiles.reduce((pt,vt)=>{if(vt.dem){const Rt=vt.dem.tree;pt.min=Math.min(pt.min,Rt.minimums[0]),pt.max=Math.max(pt.max,Rt.maximums[0])}return pt},{min:Number.MAX_VALUE,max:0});return this._getBounds(ct.min*it.exaggeration(),ct.max*it.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(it=!0){const ct=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,pt=this.height/2-ct*(1-this._horizonShift);return it?Math.max(0,pt):pt}getMaxBounds(){return this.maxBounds}setMaxBounds(it){this.maxBounds=it,this.minLat=-j.MAX_MERCATOR_LATITUDE,this.maxLat=j.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,it&&(this.minLat=it.getSouth(),this.maxLat=it.getNorth(),this.minLng=it.getWest(),this.maxLng=it.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=j.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=j.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=j.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=j.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(it,ct){return this.projection.createTileMatrix(this,ct,it)}calculateDistanceTileData(it){const ct=it.key,pt=this._distanceTileDataCache;if(pt[ct])return pt[ct];const vt=it.canonical,Rt=1/this.height,kt=this.cameraWorldSize/this.zoomScale(vt.z),Lt=(vt.x+Math.pow(2,vt.z)*it.wrap)*kt,Zt=vt.y*kt,en=this.point,fn=this.angle,Bn=Math.sin(-fn),kn=-Math.cos(-fn);return pt[ct]={bearing:[Bn,kn],center:[(en.x-Lt)*Rt,(en.y-Zt)*Rt],scale:kt/j.EXTENT*Rt},pt[ct]}calculateFogTileMatrix(it){const ct=it.key,pt=this._fogTileMatrixCache;if(pt[ct])return pt[ct];const vt=this.projection.createTileMatrix(this,this.cameraWorldSize,it);return j.multiply(vt,this.worldToFogMatrix,vt),pt[ct]=new Float32Array(vt),pt[ct]}calculateProjMatrix(it,ct=!1){const pt=it.key,vt=ct?this._alignedProjMatrixCache:this._projMatrixCache;if(vt[pt])return vt[pt];const Rt=this.calculatePosMatrix(it,this.worldSize);return j.multiply(Rt,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:ct?this.alignedProjMatrix:this.projMatrix,Rt),vt[pt]=new Float32Array(Rt),vt[pt]}calculatePixelsToTileUnitsMatrix(it){const ct=it.tileID.key,pt=this._pixelsToTileUnitsCache;if(pt[ct])return pt[ct];const vt=function(Rt,kt){const{scale:Lt}=Rt.tileTransform,Zt=Lt*j.EXTENT/(Rt.tileSize*Math.pow(2,kt.zoom-Rt.tileID.overscaledZ+Rt.tileID.canonical.z));return en=new Float32Array(4),kn=(fn=kt.inverseAdjustmentMatrix)[1],Pn=fn[2],Jn=fn[3],Nn=(Bn=[Zt,Zt])[1],en[0]=fn[0]*(zn=Bn[0]),en[1]=kn*zn,en[2]=Pn*Nn,en[3]=Jn*Nn,en;var en,fn,Bn,kn,Pn,Jn,zn,Nn}(it,this);return pt[ct]=vt,pt[ct]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const it=this._elevation;this._updateCameraState();const ct=j.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,pt=this._computeCameraPosition(ct),vt=this._camera.forward(),Rt=j.mercatorZfromAltitude(1,this._center.lat);pt[2]/=Rt,vt[2]/=Rt,j.normalize(vt,vt);const kt=it.raycast(pt,vt,it.exaggeration());if(kt){const Lt=j.scaleAndAdd([],pt,vt,kt),Zt=new j.MercatorCoordinate(Lt[0],Lt[1],j.mercatorZfromAltitude(Lt[2],j.latFromMercatorY(Lt[1]))),en=(Zt.z+j.length([Zt.x-pt[0],Zt.y-pt[1],Zt.z-pt[2]*Rt]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(en),this._centerAltitude=Zt.toAltitude(),this._center=this.coordinateLocation(Zt),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const it=this._elevation;this._updateCameraState();const ct=j.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,pt=this._computeCameraPosition(ct),vt=it.getAtPointOrZero(new j.MercatorCoordinate(...pt)),Rt=this._minimumHeightOverTerrain()*Math.cos(j.degToRad(this._maxPitch)),kt=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*vt;if(kt<Rt){const Lt=this.locationCoordinate(this._center,this._centerAltitude),Zt=[Lt.x-pt[0],Lt.y-pt[1],Lt.z-pt[2]],en=j.length(Zt);Zt[2]-=(Rt-kt)/this._pixelsPerMercatorPixel;const fn=j.length(Zt);if(fn===0)return;j.scale$2(Zt,Zt,en/fn*this._pixelsPerMercatorPixel),this._camera.position=[Lt.x-Zt[0],Lt.y-Zt[1],Lt.z*this._pixelsPerMercatorPixel-Zt[2]],this._camera.orientation=hm(Zt,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const it=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||it){const kn=this.center;return kn.lat=j.clamp(kn.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!it)&&(kn.lng=j.clamp(kn.lng,this.minLng,this.maxLng)),this.center=kn,void(this._constraining=!1)}const ct=this._unmodified,{x:pt,y:vt}=this.point;let Rt=0,kt=pt,Lt=vt;const Zt=this.width/2,en=this.height/2,fn=this.worldMinY*this.scale,Bn=this.worldMaxY*this.scale;if(vt-en<fn&&(Lt=fn+en),vt+en>Bn&&(Lt=Bn-en),Bn-fn<this.height&&(Rt=Math.max(Rt,this.height/(Bn-fn)),Lt=(Bn+fn)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const kn=this.worldMinX*this.scale,Pn=this.worldMaxX*this.scale,Jn=this.worldSize/2-(kn+Pn)/2;kt=(pt+Jn+this.worldSize)%this.worldSize-Jn,kt-Zt<kn&&(kt=kn+Zt),kt+Zt>Pn&&(kt=Pn-Zt),Pn-kn<this.width&&(Rt=Math.max(Rt,this.width/(Pn-kn)),kt=(Pn+kn)/2)}kt===pt&&Lt===vt||(this.center=this.unproject(new j.pointGeometry(kt,Lt))),Rt&&(this.zoom+=this.scaleZoom(Rt)),this._constrainCameraAltitude(),this._unmodified=ct,this._constraining=!1}_minZoomForBounds(){let it=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(it=Math.max(it,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),it}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const it=this.centerOffset,ct=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=j.mercatorZfromAltitude(1,this.center.lat)/j.mercatorZfromAltitude(1,j.GLOBE_SCALE_MATCH_LATITUDE));const pt=zp(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,pt),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const vt=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?ct:1),Rt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);Rt[8]=2*-it.x/this.width,Rt[9]=2*it.y/this.height;let kt=j.mul([],Rt,vt);if(this.projection.isReprojectedInTileSpace){const sr=this.locationCoordinate(this.center),$n=j.identity([]);j.translate($n,$n,[sr.x*this.worldSize,sr.y*this.worldSize,0]),j.multiply($n,$n,Mm(this)),j.translate($n,$n,[-sr.x*this.worldSize,-sr.y*this.worldSize,0]),j.multiply(kt,kt,$n),this.inverseAdjustmentMatrix=function(ur){const Ur=Mm(ur,!0);return Ct([],[Ur[0],Ur[1],Ur[4],Ur[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=j.scale([],kt,[this.worldSize,this.worldSize,this.worldSize/ct,1]),this.projMatrix=kt,this.invProjMatrix=j.invert(new Float64Array(16),this.projMatrix);const Lt=j.invert([],Rt);this.frustumCorners=j.FrustumCorners.fromInvProjectionMatrix(Lt,this.horizonLineFromTop(),this.height);const Zt=new Float32Array(16);j.identity(Zt),j.scale(Zt,Zt,[1,-1,1]),j.rotateX(Zt,Zt,this._pitch),j.rotateZ(Zt,Zt,this.angle);const en=j.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),fn=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;en[8]=2*-it.x/this.width,en[9]=2*(it.y+fn)/this.height,this.skyboxMatrix=j.multiply(Zt,en,Zt);const Bn=this.point,kn=Bn.x,Pn=Bn.y,Jn=this.width%2/2,zn=this.height%2/2,Nn=Math.cos(this.angle),Vn=Math.sin(this.angle),Hn=kn-Math.round(kn)+Nn*Jn+Vn*zn,On=Pn-Math.round(Pn)+Nn*zn+Vn*Jn,tr=new Float64Array(kt);if(j.translate(tr,tr,[Hn>.5?Hn-1:Hn,On>.5?On-1:On,0]),this.alignedProjMatrix=tr,kt=j.create(),j.scale(kt,kt,[this.width/2,-this.height/2,1]),j.translate(kt,kt,[1,-1,0]),this.labelPlaneMatrix=kt,kt=j.create(),j.scale(kt,kt,[1,-1,1]),j.translate(kt,kt,[-1,-1,0]),j.scale(kt,kt,[2/this.width,2/this.height,1]),this.glCoordMatrix=kt,this.pixelMatrix=j.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},kt=j.invert(new Float64Array(16),this.pixelMatrix),!kt)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=kt,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=j.calculateGlobeMatrix(this);const sr=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=j.transformMat4(sr,sr,vt),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=kt;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const it=this.cameraWorldSize,ct=this.cameraPixelsPerMeter,pt=this._camera.position,vt=1/this.height/this._pixelsPerMercatorPixel,Rt=[it,it,ct];j.scale$2(Rt,Rt,vt),j.scale$2(pt,pt,-1),j.multiply$2(pt,pt,Rt);const kt=j.create();j.translate(kt,kt,pt),j.scale(kt,kt,Rt),this.mercatorFogMatrix=kt,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(it,ct,vt)}_computeCameraPosition(it){const ct=(it=it||this.pixelsPerMeter)/this.pixelsPerMeter,pt=this._camera.forward(),vt=this.point,Rt=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*ct-it/this.worldSize*this._centerAltitude;return[vt.x/this.worldSize-pt[0]*Rt,vt.y/this.worldSize-pt[1]*Rt,it/this.worldSize*this._centerAltitude-pt[2]*Rt]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(it){const ct=this._maxCameraBoundsDistance()*Math.cos(this._pitch),pt=this._camera.position[2],vt=it[2];let Rt=1;this.projection.wrap&&(this.center=this.center.wrap()),vt>0&&(Rt=Math.min((ct-pt)/vt,1)),this._camera.position=j.scaleAndAdd([],this._camera.position,it,Rt),this._updateStateFromCamera()}_updateStateFromCamera(){const it=this._camera.position,ct=this._camera.forward(),{pitch:pt,bearing:vt}=this._camera.getPitchBearing(),Rt=j.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,kt=this._mercatorZfromZoom(this._maxZoom)*Math.cos(j.degToRad(this._maxPitch)),Lt=Math.max((it[2]-Rt)/Math.cos(pt),kt),Zt=this._zoomFromMercatorZ(Lt);j.scaleAndAdd(it,it,ct,Lt),this._pitch=j.clamp(pt,j.degToRad(this.minPitch),j.degToRad(this.maxPitch)),this.angle=j.wrap(vt,-Math.PI,Math.PI),this._setZoom(j.clamp(Zt,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new j.MercatorCoordinate(it[0],it[1],it[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(it){return Math.pow(2,it)*this.tileSize}_mercatorZfromZoom(it){return this.cameraToCenterDistance/this._worldSizeFromZoom(it)}_minimumHeightOverTerrain(){const it=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(it)}_zoomFromMercatorZ(it){return this.scaleZoom(this.cameraToCenterDistance/(it*this.tileSize))}zoomFromMercatorZAdjusted(it){const ct=kt=>{const Lt=this.getCameraToCenterDistance(this.projection,kt);return this.scaleZoom(Lt/(it*this.tileSize))};let pt,vt=ct(this.zoom),Rt=Math.abs(vt-ct(vt));for(;pt!==Rt;)vt=ct(vt),pt=Rt,Rt=Math.abs(vt-ct(vt));return vt}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(j.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(it,ct){const pt=Math.min(it.x,ct.x),vt=Math.max(it.x,ct.x),Rt=Math.min(it.y,ct.y),kt=Math.max(it.y,ct.y);if(Rt<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const Lt=[new j.pointGeometry(pt,Rt),new j.pointGeometry(vt,kt),new j.pointGeometry(pt,kt),new j.pointGeometry(vt,Rt)],Zt=this.renderWorldCopies?-3:0,en=this.renderWorldCopies?4:1;for(const fn of Lt){const Bn=this.pointRayIntersection(fn);if(Bn.t<0)return!0;const kn=this.rayIntersectionCoordinate(Bn);if(kn.x<Zt||kn.y<0||kn.x>en||kn.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+j.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new j.pointGeometry(0,0),new j.pointGeometry(this.width,this.height))}zoomDeltaToMovement(it,ct){const pt=j.length(j.sub([],this._camera.position,it)),vt=this._zoomFromMercatorZ(pt)+ct;return pt-this._mercatorZfromZoom(vt)}getCameraPoint(){if(this.projection.name==="globe"){const it=function(ct,pt){const vt=[ct[0],ct[1],ct[2],1];j.transformMat4$1(vt,vt,pt);const Rt=Math.max(vt[3],1e-6);return[vt[0]/Rt,vt[1]/Rt,vt[2]/Rt,Rt]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new j.pointGeometry(it[0],it[1])}{const it=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new j.pointGeometry(0,it))}}getCameraToCenterDistance(it,ct=this.zoom){const pt=zp(it,ct,this.width,this.height,1024),vt=it.pixelSpaceConversion(this.center.lat,this.worldSize,pt);return .5/Math.tan(.5*this._fov)*this.height*vt}getWorldToCameraMatrix(){const it=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&j.multiply(it,it,this.globeMatrix),it}}function L_(ht,it){let ct=!1,pt=null;const vt=()=>{pt=null,ct&&(ht(),pt=setTimeout(vt,it),ct=!1)};return()=>(ct=!0,pt||vt(),pt)}class q0{constructor(it){this._hashName=it&&encodeURIComponent(it),j.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=L_(this._updateHashUnthrottled.bind(this),300)}addTo(it){return this._map=it,j.window.addEventListener("hashchange",this._onHashChange,!1),it.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),j.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const it=this._map;if(!it)return"";const ct=g0(it);if(this._hashName){const pt=this._hashName;let vt=!1;const Rt=j.window.location.hash.slice(1).split("&").map(kt=>{const Lt=kt.split("=")[0];return Lt===pt?(vt=!0,`${Lt}=${ct}`):kt}).filter(kt=>kt);return vt||Rt.push(`${pt}=${ct}`),`#${Rt.join("&")}`}return`#${ct}`}_getCurrentHash(){const it=j.window.location.hash.replace("#","");if(this._hashName){let ct;return it.split("&").map(pt=>pt.split("=")).forEach(pt=>{pt[0]===this._hashName&&(ct=pt)}),(ct&&ct[1]||"").split("/")}return it.split("/")}_onHashChange(){const it=this._map;if(!it)return!1;const ct=this._getCurrentHash();if(ct.length>=3&&!ct.some(pt=>isNaN(pt))){const pt=it.dragRotate.isEnabled()&&it.touchZoomRotate.isEnabled()?+(ct[3]||0):it.getBearing();return it.jumpTo({center:[+ct[2],+ct[1]],zoom:+ct[0],bearing:pt,pitch:+(ct[4]||0)}),!0}return!1}_updateHashUnthrottled(){const it=j.window.location.href.replace(/(#.+)?$/,this.getHashString());j.window.history.replaceState(j.window.history.state,null,it)}}function g0(ht,it){const ct=ht.getCenter(),pt=Math.round(100*ht.getZoom())/100,vt=Math.ceil((pt*Math.LN2+Math.log(512/360/.5))/Math.LN10),Rt=Math.pow(10,vt),kt=Math.round(ct.lng*Rt)/Rt,Lt=Math.round(ct.lat*Rt)/Rt,Zt=ht.getBearing(),en=ht.getPitch();let fn=it?`/${kt}/${Lt}/${pt}`:`${pt}/${Lt}/${kt}`;return(Zt||en)&&(fn+="/"+Math.round(10*Zt)/10),en&&(fn+=`/${Math.round(en)}`),fn}const lp={linearity:.3,easing:j.bezier(0,0,.3,1)},AU=j.extend({deceleration:2500,maxSpeed:1400},lp),ey=j.extend({deceleration:20,maxSpeed:1400},lp),P_=j.extend({deceleration:1e3,maxSpeed:360},lp),Wy=j.extend({deceleration:1e3,maxSpeed:90},lp);class Cl{constructor(it){this._map=it,this.clear()}clear(){this._inertiaBuffer=[]}record(it){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:j.exported.now(),settings:it})}_drainInertiaBuffer(){const it=this._inertiaBuffer,ct=j.exported.now();for(;it.length>0&&ct-it[0].time>160;)it.shift()}_onMoveEnd(it){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const ct={zoom:0,bearing:0,pitch:0,pan:new j.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:Rt}of this._inertiaBuffer)ct.zoom+=Rt.zoomDelta||0,ct.bearing+=Rt.bearingDelta||0,ct.pitch+=Rt.pitchDelta||0,Rt.panDelta&&ct.pan._add(Rt.panDelta),Rt.around&&(ct.around=Rt.around),Rt.pinchAround&&(ct.pinchAround=Rt.pinchAround);const pt=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,vt={};if(ct.pan.mag()){const Rt=jp(ct.pan.mag(),pt,j.extend({},AU,it||{}));vt.offset=ct.pan.mult(Rt.amount/ct.pan.mag()),vt.center=this._map.transform.center,Al(vt,Rt)}if(ct.zoom){const Rt=jp(ct.zoom,pt,ey);vt.zoom=this._map.transform.zoom+Rt.amount,Al(vt,Rt)}if(ct.bearing){const Rt=jp(ct.bearing,pt,P_);vt.bearing=this._map.transform.bearing+j.clamp(Rt.amount,-179,179),Al(vt,Rt)}if(ct.pitch){const Rt=jp(ct.pitch,pt,Wy);vt.pitch=this._map.transform.pitch+Rt.amount,Al(vt,Rt)}if(vt.zoom||vt.bearing){const Rt=ct.pinchAround===void 0?ct.around:ct.pinchAround;vt.around=Rt?this._map.unproject(Rt):this._map.getCenter()}return this.clear(),vt.noMoveStart=!0,vt}}function Al(ht,it){(!ht.duration||ht.duration<it.duration)&&(ht.duration=it.duration,ht.easing=it.easing)}function jp(ht,it,ct){const{maxSpeed:pt,linearity:vt,deceleration:Rt}=ct,kt=j.clamp(ht*vt/(it/1e3),-pt,pt),Lt=Math.abs(kt)/(Rt*vt);return{easing:ct.easing,duration:1e3*Lt,amount:kt*(Lt/2)}}class xu extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(it,ct,pt,vt={}){const Rt=St(ct.getCanvasContainer(),pt),kt=ct.unproject(Rt);super(it,j.extend({point:Rt,lngLat:kt,originalEvent:pt},vt)),this._defaultPrevented=!1,this.target=ct}}class ty extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(it,ct,pt){const vt=it==="touchend"?pt.changedTouches:pt.touches,Rt=Ot(ct.getCanvasContainer(),vt),kt=Rt.map(Zt=>ct.unproject(Zt)),Lt=Rt.reduce((Zt,en,fn,Bn)=>Zt.add(en.div(Bn.length)),new j.pointGeometry(0,0));super(it,{points:Rt,point:Lt,lngLats:kt,lngLat:ct.unproject(Lt),originalEvent:pt}),this._defaultPrevented=!1}}class VU extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(it,ct,pt){super(it,{originalEvent:pt}),this._defaultPrevented=!1}}class m0{constructor(it,ct){this._map=it,this._clickTolerance=ct.clickTolerance}reset(){this._mousedownPos=void 0}wheel(it){return this._firePreventable(new VU(it.type,this._map,it))}mousedown(it,ct){return this._mousedownPos=ct,this._firePreventable(new xu(it.type,this._map,it))}mouseup(it){this._map.fire(new xu(it.type,this._map,it))}preclick(it){const ct=j.extend({},it);ct.type="preclick",this._map.fire(new xu(ct.type,this._map,ct))}click(it,ct){this._mousedownPos&&this._mousedownPos.dist(ct)>=this._clickTolerance||(this.preclick(it),this._map.fire(new xu(it.type,this._map,it)))}dblclick(it){return this._firePreventable(new xu(it.type,this._map,it))}mouseover(it){this._map.fire(new xu(it.type,this._map,it))}mouseout(it){this._map.fire(new xu(it.type,this._map,it))}touchstart(it){return this._firePreventable(new ty(it.type,this._map,it))}touchmove(it){this._map.fire(new ty(it.type,this._map,it))}touchend(it){this._map.fire(new ty(it.type,this._map,it))}touchcancel(it){this._map.fire(new ty(it.type,this._map,it))}_firePreventable(it){if(this._map.fire(it),it.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Dm{constructor(it){this._map=it}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(it){this._map.fire(new xu(it.type,this._map,it))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new xu("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(it){this._delayContextMenu?this._contextMenuEvent=it:this._map.fire(new xu(it.type,this._map,it)),this._map.listens("contextmenu")&&it.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Oy{constructor(it,ct){this._map=it,this._el=it.getCanvasContainer(),this._container=it.getContainer(),this._clickTolerance=ct.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(it,ct){this.isEnabled()&&it.shiftKey&&it.button===0&&(Tt(),this._startPos=this._lastPos=ct,this._active=!0)}mousemoveWindow(it,ct){if(!this._active)return;const pt=ct,vt=this._startPos,Rt=this._lastPos;if(!vt||!Rt||Rt.equals(pt)||!this._box&&pt.dist(vt)<this._clickTolerance)return;this._lastPos=pt,this._box||(this._box=Ut("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",it));const kt=Math.min(vt.x,pt.x),Lt=Math.max(vt.x,pt.x),Zt=Math.min(vt.y,pt.y),en=Math.max(vt.y,pt.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${kt}px,${Zt}px)`,this._box.style.width=Lt-kt+"px",this._box.style.height=en-Zt+"px")})}mouseupWindow(it,ct){if(!this._active)return;const pt=this._startPos,vt=ct;if(pt&&it.button===0){if(this.reset(),Nt(),pt.x!==vt.x||pt.y!==vt.y)return this._map.fire(new j.Event("boxzoomend",{originalEvent:it})),{cameraAnimation:Rt=>Rt.fitScreenCoordinates(pt,vt,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",it)}}keydown(it){this._active&&it.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",it))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Jt(),delete this._startPos,delete this._lastPos}_fireEvent(it,ct){return this._map.fire(new j.Event(it,{originalEvent:ct}))}}function Gp(ht,it){const ct={};for(let pt=0;pt<ht.length;pt++)ct[ht[pt].identifier]=it[pt];return ct}class pm{constructor(it){this.reset(),this.numTouches=it.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(it,ct,pt){(this.centroid||pt.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=it.timeStamp),pt.length===this.numTouches&&(this.centroid=function(vt){const Rt=new j.pointGeometry(0,0);for(const kt of vt)Rt._add(kt);return Rt.div(vt.length)}(ct),this.touches=Gp(pt,ct)))}touchmove(it,ct,pt){if(this.aborted||!this.centroid)return;const vt=Gp(pt,ct);for(const Rt in this.touches){const kt=this.touches[Rt],Lt=vt[Rt];(!Lt||Lt.dist(kt)>30)&&(this.aborted=!0)}}touchend(it,ct,pt){if((!this.centroid||it.timeStamp-this.startTime>500)&&(this.aborted=!0),pt.length===0){const vt=!this.aborted&&this.centroid;if(this.reset(),vt)return vt}}}class Hp{constructor(it){this.singleTap=new pm(it),this.numTaps=it.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(it,ct,pt){this.singleTap.touchstart(it,ct,pt)}touchmove(it,ct,pt){this.singleTap.touchmove(it,ct,pt)}touchend(it,ct,pt){const vt=this.singleTap.touchend(it,ct,pt);if(vt){const Rt=it.timeStamp-this.lastTime<500,kt=!this.lastTap||this.lastTap.dist(vt)<30;if(Rt&&kt||this.reset(),this.count++,this.lastTime=it.timeStamp,this.lastTap=vt,this.count===this.numTaps)return this.reset(),vt}}}class ny{constructor(){this._zoomIn=new Hp({numTouches:1,numTaps:2}),this._zoomOut=new Hp({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(it,ct,pt){this._zoomIn.touchstart(it,ct,pt),this._zoomOut.touchstart(it,ct,pt)}touchmove(it,ct,pt){this._zoomIn.touchmove(it,ct,pt),this._zoomOut.touchmove(it,ct,pt)}touchend(it,ct,pt){const vt=this._zoomIn.touchend(it,ct,pt),Rt=this._zoomOut.touchend(it,ct,pt);return vt?(this._active=!0,it.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:kt=>kt.easeTo({duration:300,zoom:kt.getZoom()+1,around:kt.unproject(vt)},{originalEvent:it})}):Rt?(this._active=!0,it.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:kt=>kt.easeTo({duration:300,zoom:kt.getZoom()-1,around:kt.unproject(Rt)},{originalEvent:it})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Im={0:1,2:2};class Ly{constructor(it){this.reset(),this._clickTolerance=it.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(it,ct){return!1}_move(it,ct){return{}}mousedown(it,ct){if(this._lastPoint)return;const pt=nn(it);this._correctButton(it,pt)&&(this._lastPoint=ct,this._eventButton=pt)}mousemoveWindow(it,ct){const pt=this._lastPoint;if(pt){if(it.preventDefault(),this._eventButton!=null&&function(vt,Rt){const kt=Im[Rt];return vt.buttons===void 0||(vt.buttons&kt)!==kt}(it,this._eventButton))this.reset();else if(this._moved||!(ct.dist(pt)<this._clickTolerance))return this._moved=!0,this._lastPoint=ct,this._move(pt,ct)}}mouseupWindow(it){this._lastPoint&&nn(it)===this._eventButton&&(this._moved&&Nt(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class NU extends Ly{mousedown(it,ct){super.mousedown(it,ct),this._lastPoint&&(this._active=!0)}_correctButton(it,ct){return ct===0&&!it.ctrlKey}_move(it,ct){return{around:ct,panDelta:ct.sub(it)}}}class Z_ extends Ly{_correctButton(it,ct){return ct===0&&it.ctrlKey||ct===2}_move(it,ct){const pt=.8*(ct.x-it.x);if(pt)return this._active=!0,{bearingDelta:pt}}contextmenu(it){it.preventDefault()}}class Jm extends Ly{_correctButton(it,ct){return ct===0&&it.ctrlKey||ct===2}_move(it,ct){const pt=-.5*(ct.y-it.y);if(pt)return this._active=!0,{pitchDelta:pt}}contextmenu(it){it.preventDefault()}}class MU{constructor(it,ct){this._map=it,this._el=it.getCanvasContainer(),this._minTouches=1,this._clickTolerance=ct.clickTolerance||1,this.reset(),j.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new j.pointGeometry(0,0)}touchstart(it,ct,pt){return this._calculateTransform(it,ct,pt)}touchmove(it,ct,pt){if(this._active&&!(pt.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(pt.length===1&&!j.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return it.cancelable&&it.preventDefault(),this._calculateTransform(it,ct,pt)}}touchend(it,ct,pt){this._calculateTransform(it,ct,pt),this._active&&pt.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(it,ct,pt){pt.length>0&&(this._active=!0);const vt=Gp(pt,ct),Rt=new j.pointGeometry(0,0),kt=new j.pointGeometry(0,0);let Lt=0;for(const en in vt){const fn=vt[en],Bn=this._touches[en];Bn&&(Rt._add(fn),kt._add(fn.sub(Bn)),Lt++,vt[en]=fn)}if(this._touches=vt,Lt<this._minTouches||!kt.mag())return;const Zt=kt.div(Lt);return this._sum._add(Zt),this._sum.mag()<this._clickTolerance?void 0:{around:Rt.div(Lt),panDelta:Zt}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Ut("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Wm{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(it){}_move(it,ct,pt){return{}}touchstart(it,ct,pt){this._firstTwoTouches||pt.length<2||(this._firstTwoTouches=[pt[0].identifier,pt[1].identifier],this._start([ct[0],ct[1]]))}touchmove(it,ct,pt){const vt=this._firstTwoTouches;if(!vt)return;it.preventDefault();const[Rt,kt]=vt,Lt=Yp(pt,ct,Rt),Zt=Yp(pt,ct,kt);if(!Lt||!Zt)return;const en=this._aroundCenter?null:Lt.add(Zt).div(2);return this._move([Lt,Zt],en,it)}touchend(it,ct,pt){if(!this._firstTwoTouches)return;const[vt,Rt]=this._firstTwoTouches,kt=Yp(pt,ct,vt),Lt=Yp(pt,ct,Rt);kt&&Lt||(this._active&&Nt(),this.reset())}touchcancel(){this.reset()}enable(it){this._enabled=!0,this._aroundCenter=!!it&&it.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Yp(ht,it,ct){for(let pt=0;pt<ht.length;pt++)if(ht[pt].identifier===ct)return it[pt]}function Py(ht,it){return Math.log(ht/it)/Math.LN2}class In extends Wm{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(it){this._startDistance=this._distance=it[0].dist(it[1])}_move(it,ct){const pt=this._distance;if(this._distance=it[0].dist(it[1]),this._active||!(Math.abs(Py(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Py(this._distance,pt),pinchAround:ct}}}function gm(ht,it){return 180*ht.angleWith(it)/Math.PI}class Ol extends Wm{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(it){this._startVector=this._vector=it[0].sub(it[1]),this._minDiameter=it[0].dist(it[1])}_move(it,ct){const pt=this._vector;if(this._vector=it[0].sub(it[1]),pt&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:gm(this._vector,pt),pinchAround:ct}}_isBelowThreshold(it){this._minDiameter=Math.min(this._minDiameter,it.mag());const ct=25/(Math.PI*this._minDiameter)*360,pt=this._startVector;if(!pt)return!1;const vt=gm(it,pt);return Math.abs(vt)<ct}}function vu(ht){return Math.abs(ht.y)>Math.abs(ht.x)}class bs extends Wm{constructor(it){super(),this._map=it}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(it){this._lastPoints=it,vu(it[0].sub(it[1]))&&(this._valid=!1)}_move(it,ct,pt){const vt=this._lastPoints;if(!vt)return;const Rt=it[0].sub(vt[0]),kt=it[1].sub(vt[1]);return this._map._cooperativeGestures&&!j.isFullscreen()&&pt.touches.length<3||(this._valid=this.gestureBeginsVertically(Rt,kt,pt.timeStamp),!this._valid)?void 0:(this._lastPoints=it,this._active=!0,{pitchDelta:(Rt.y+kt.y)/2*-.5})}gestureBeginsVertically(it,ct,pt){if(this._valid!==void 0)return this._valid;const vt=it.mag()>=2,Rt=ct.mag()>=2;if(!vt&&!Rt)return;if(!vt||!Rt)return this._firstMove==null&&(this._firstMove=pt),pt-this._firstMove<100&&void 0;const kt=it.y>0==ct.y>0;return vu(it)&&vu(ct)&&kt}}const GF={panStep:100,bearingStep:15,pitchStep:10};class HF{constructor(){const it=GF;this._panStep=it.panStep,this._bearingStep=it.bearingStep,this._pitchStep=it.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(it){if(it.altKey||it.ctrlKey||it.metaKey)return;let ct=0,pt=0,vt=0,Rt=0,kt=0;switch(it.keyCode){case 61:case 107:case 171:case 187:ct=1;break;case 189:case 109:case 173:ct=-1;break;case 37:it.shiftKey?pt=-1:(it.preventDefault(),Rt=-1);break;case 39:it.shiftKey?pt=1:(it.preventDefault(),Rt=1);break;case 38:it.shiftKey?vt=1:(it.preventDefault(),kt=-1);break;case 40:it.shiftKey?vt=-1:(it.preventDefault(),kt=1);break;default:return}return this._rotationDisabled&&(pt=0,vt=0),{cameraAnimation:Lt=>{const Zt=Lt.getZoom();Lt.easeTo({duration:300,easeId:"keyboardHandler",easing:Xp,zoom:ct?Math.round(Zt)+ct*(it.shiftKey?2:1):Zt,bearing:Lt.getBearing()+pt*this._bearingStep,pitch:Lt.getPitch()+vt*this._pitchStep,offset:[-Rt*this._panStep,-kt*this._panStep],center:Lt.getCenter()},{originalEvent:it})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Xp(ht){return ht*(2-ht)}const $p=4.000244140625;class y0{constructor(it,ct){this._map=it,this._el=it.getCanvasContainer(),this._handler=ct,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,j.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(it){this._defaultZoomRate=it}setWheelZoomRate(it){this._wheelZoomRate=it}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(it){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!it&&it.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(it){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(it.ctrlKey||it.metaKey||this.isZooming()||j.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let ct=it.deltaMode===j.window.WheelEvent.DOM_DELTA_LINE?40*it.deltaY:it.deltaY;const pt=j.exported.now(),vt=pt-(this._lastWheelEventTime||0);this._lastWheelEventTime=pt,ct!==0&&ct%$p==0?this._type="wheel":ct!==0&&Math.abs(ct)<4?this._type="trackpad":vt>400?(this._type=null,this._lastValue=ct,this._timeout=setTimeout(this._onTimeout,40,it)):this._type||(this._type=Math.abs(vt*ct)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ct+=this._lastValue)),it.shiftKey&&ct&&(ct/=4),this._type&&(this._lastWheelEvent=it,this._delta-=ct,this._active||this._start(it)),it.preventDefault()}_onTimeout(it){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(it)}_start(it){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const ct=St(this._el,it);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:ct,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const it=this._map.transform;this._type==="wheel"&&it.projection.wrap&&(it._center.lng>=180||it._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const ct=()=>it._terrainEnabled()&&this._aroundCoord?it.computeZoomRelativeTo(this._aroundCoord):it.zoom;if(this._delta!==0){const Zt=this._type==="wheel"&&Math.abs(this._delta)>$p?this._wheelZoomRate:this._defaultZoomRate;let en=2/(1+Math.exp(-Math.abs(this._delta*Zt)));this._delta<0&&en!==0&&(en=1/en);const fn=ct(),Bn=Math.pow(2,fn),kn=typeof this._targetZoom=="number"?it.zoomScale(this._targetZoom):Bn;this._targetZoom=Math.min(it.maxZoom,Math.max(it.minZoom,it.scaleZoom(kn*en))),this._type==="wheel"&&(this._startZoom=fn,this._easing=this._smoothOutEasing(200)),this._delta=0}const pt=typeof this._targetZoom=="number"?this._targetZoom:ct(),vt=this._startZoom,Rt=this._easing;let kt,Lt=!1;if(this._type==="wheel"&&vt&&Rt){const Zt=Math.min((j.exported.now()-this._lastWheelEventTime)/200,1),en=Rt(Zt);kt=j.number(vt,pt,en),Zt<1?this._frameId||(this._frameId=!0):Lt=!0}else kt=pt,Lt=!0;return this._active=!0,Lt&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Lt,zoomDelta:kt-ct(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(it){let ct=j.ease;if(this._prevEase){const pt=this._prevEase,vt=(j.exported.now()-pt.start)/pt.duration,Rt=pt.easing(vt+.01)-pt.easing(vt),kt=.27/Math.sqrt(Rt*Rt+1e-4)*.01,Lt=Math.sqrt(.0729-kt*kt);ct=j.bezier(kt,Lt,.25,1)}return this._prevEase={start:j.exported.now(),duration:it,easing:ct},ct}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Ut("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(j.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Rp{constructor(it,ct){this._clickZoom=it,this._tapZoom=ct}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Zy{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(it,ct){return it.preventDefault(),{cameraAnimation:pt=>{pt.easeTo({duration:300,zoom:pt.getZoom()+(it.shiftKey?-1:1),around:pt.unproject(ct)},{originalEvent:it})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yo{constructor(){this._tap=new Hp({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(it,ct,pt){this._swipePoint||(this._tapTime&&it.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?pt.length>0&&(this._swipePoint=ct[0],this._swipeTouch=pt[0].identifier):this._tap.touchstart(it,ct,pt))}touchmove(it,ct,pt){if(this._tapTime){if(this._swipePoint){if(pt[0].identifier!==this._swipeTouch)return;const vt=ct[0],Rt=vt.y-this._swipePoint.y;return this._swipePoint=vt,it.preventDefault(),this._active=!0,{zoomDelta:Rt/128}}}else this._tap.touchmove(it,ct,pt)}touchend(it,ct,pt){this._tapTime?this._swipePoint&&pt.length===0&&this.reset():this._tap.touchend(it,ct,pt)&&(this._tapTime=it.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class DU{constructor(it,ct,pt){this._el=it,this._mousePan=ct,this._touchPan=pt}enable(it){this._inertiaOptions=it||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Qp{constructor(it,ct,pt){this._pitchWithRotate=it.pitchWithRotate,this._mouseRotate=ct,this._mousePitch=pt}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ry{constructor(it,ct,pt,vt){this._el=it,this._touchZoom=ct,this._touchRotate=pt,this._tapDragZoom=vt,this._rotationDisabled=!1,this._enabled=!0}enable(it){this._touchZoom.enable(it),this._rotationDisabled||this._touchRotate.enable(it),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const mm=ht=>ht.zoom||ht.drag||ht.pitch||ht.rotate;class IU extends j.Event{}class JU{constructor(){this.constants=[1,1,.01],this.radius=0}setup(it,ct){const pt=j.sub([],ct,it);this.radius=j.length(pt[2]<0?j.div([],pt,this.constants):[pt[0],pt[1],0])}projectRay(it){j.div(it,it,this.constants),j.normalize(it,it),j.mul$1(it,it,this.constants);const ct=j.scale$2([],it,this.radius);if(ct[2]>0){const pt=j.scale$2([],[0,0,1],j.dot(ct,[0,0,1])),vt=j.scale$2([],j.normalize([],[ct[0],ct[1],0]),this.radius),Rt=j.add([],ct,j.scale$2([],j.sub([],j.add([],vt,pt),ct),2));ct[0]=Rt[0],ct[1]=Rt[1]}return ct}}function iy(ht){return ht.panDelta&&ht.panDelta.mag()||ht.zoomDelta||ht.bearingDelta||ht.pitchDelta}class Sp{constructor(it,ct){this._map=it,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Cl(it),this._bearingSnap=ct.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new JU,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(ct),j.bindAll(["handleEvent","handleWindowEvent"],this);const pt=this._el;this._listeners=[[pt,"touchstart",{passive:!0}],[pt,"touchmove",{passive:!1}],[pt,"touchend",void 0],[pt,"touchcancel",void 0],[pt,"mousedown",void 0],[pt,"mousemove",void 0],[pt,"mouseup",void 0],[j.window.document,"mousemove",{capture:!0}],[j.window.document,"mouseup",void 0],[pt,"mouseover",void 0],[pt,"mouseout",void 0],[pt,"dblclick",void 0],[pt,"click",void 0],[pt,"keydown",{capture:!1}],[pt,"keyup",void 0],[pt,"wheel",{passive:!1}],[pt,"contextmenu",void 0],[j.window,"blur",void 0]];for(const[vt,Rt,kt]of this._listeners)vt.addEventListener(Rt,vt===j.window.document?this.handleWindowEvent:this.handleEvent,kt)}destroy(){for(const[it,ct,pt]of this._listeners)it.removeEventListener(ct,it===j.window.document?this.handleWindowEvent:this.handleEvent,pt)}_addDefaultHandlers(it){const ct=this._map,pt=ct.getCanvasContainer();this._add("mapEvent",new m0(ct,it));const vt=ct.boxZoom=new Oy(ct,it);this._add("boxZoom",vt);const Rt=new ny,kt=new Zy;ct.doubleClickZoom=new Rp(kt,Rt),this._add("tapZoom",Rt),this._add("clickZoom",kt);const Lt=new yo;this._add("tapDragZoom",Lt);const Zt=ct.touchPitch=new bs(ct);this._add("touchPitch",Zt);const en=new Z_(it),fn=new Jm(it);ct.dragRotate=new Qp(it,en,fn),this._add("mouseRotate",en,["mousePitch"]),this._add("mousePitch",fn,["mouseRotate"]);const Bn=new NU(it),kn=new MU(ct,it);ct.dragPan=new DU(pt,Bn,kn),this._add("mousePan",Bn),this._add("touchPan",kn,["touchZoom","touchRotate"]);const Pn=new Ol,Jn=new In;ct.touchZoomRotate=new ry(pt,Jn,Pn,Lt),this._add("touchRotate",Pn,["touchPan","touchZoom"]),this._add("touchZoom",Jn,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Dm(ct));const zn=ct.scrollZoom=new y0(ct,this);this._add("scrollZoom",zn,["mousePan"]);const Nn=ct.keyboard=new HF;this._add("keyboard",Nn);for(const Vn of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])it.interactive&&it[Vn]&&ct[Vn].enable(it[Vn])}_add(it,ct,pt){this._handlers.push({handlerName:it,handler:ct,allowed:pt}),this._handlersById[it]=ct}stop(it){if(!this._updatingCamera){for(const{handler:ct}of this._handlers)ct.reset();this._inertia.clear(),this._fireEvents({},{},it),this._changes=[]}}isActive(){for(const{handler:it}of this._handlers)if(it.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!mm(this._eventsInProgress)||this.isZooming()}_blockedByActive(it,ct,pt){for(const vt in it)if(vt!==pt&&(!ct||ct.indexOf(vt)<0))return!0;return!1}handleWindowEvent(it){this.handleEvent(it,`${it.type}Window`)}_getMapTouches(it){const ct=[];for(const pt of it)this._el.contains(pt.target)&&ct.push(pt);return ct}handleEvent(it,ct){this._updatingCamera=!0;const pt=it.type==="renderFrame",vt=pt?void 0:it,Rt={needsRenderFrame:!1},kt={},Lt={},Zt=it.touches?this._getMapTouches(it.touches):void 0,en=Zt?Ot(this._el,Zt):pt?void 0:St(this._el,it);for(const{handlerName:kn,handler:Pn,allowed:Jn}of this._handlers){if(!Pn.isEnabled())continue;let zn;this._blockedByActive(Lt,Jn,kn)?Pn.reset():Pn[ct||it.type]&&(zn=Pn[ct||it.type](it,en,Zt),this.mergeHandlerResult(Rt,kt,zn,kn,vt),zn&&zn.needsRenderFrame&&this._triggerRenderFrame()),(zn||Pn.isActive())&&(Lt[kn]=Pn)}const fn={};for(const kn in this._previousActiveHandlers)Lt[kn]||(fn[kn]=vt);this._previousActiveHandlers=Lt,(Object.keys(fn).length||iy(Rt))&&(this._changes.push([Rt,kt,fn]),this._triggerRenderFrame()),(Object.keys(Lt).length||iy(Rt))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Bn}=Rt;Bn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Bn(this._map))}mergeHandlerResult(it,ct,pt,vt,Rt){if(!pt)return;j.extend(it,pt);const kt={handlerName:vt,originalEvent:pt.originalEvent||Rt};pt.zoomDelta!==void 0&&(ct.zoom=kt),pt.panDelta!==void 0&&(ct.drag=kt),pt.pitchDelta!==void 0&&(ct.pitch=kt),pt.bearingDelta!==void 0&&(ct.rotate=kt)}_applyChanges(){const it={},ct={},pt={};for(const[vt,Rt,kt]of this._changes)vt.panDelta&&(it.panDelta=(it.panDelta||new j.pointGeometry(0,0))._add(vt.panDelta)),vt.zoomDelta&&(it.zoomDelta=(it.zoomDelta||0)+vt.zoomDelta),vt.bearingDelta&&(it.bearingDelta=(it.bearingDelta||0)+vt.bearingDelta),vt.pitchDelta&&(it.pitchDelta=(it.pitchDelta||0)+vt.pitchDelta),vt.around!==void 0&&(it.around=vt.around),vt.aroundCoord!==void 0&&(it.aroundCoord=vt.aroundCoord),vt.pinchAround!==void 0&&(it.pinchAround=vt.pinchAround),vt.noInertia&&(it.noInertia=vt.noInertia),j.extend(ct,Rt),j.extend(pt,kt);this._updateMapTransform(it,ct,pt),this._changes=[]}_updateMapTransform(it,ct,pt){const vt=this._map,Rt=vt.transform,kt=Hn=>[Hn.x,Hn.y,Hn.z];if((Hn=>{const On=this._eventsInProgress.drag;return On&&!this._handlersById[On.handlerName].isActive()})()&&!iy(it)){const Hn=Rt.zoom;Rt.cameraElevationReference="sea",Rt.recenterOnTerrain(),Rt.cameraElevationReference="ground",Hn!==Rt.zoom&&this._map._update(!0)}if(!iy(it))return void this._fireEvents(ct,pt,!0);let{panDelta:Lt,zoomDelta:Zt,bearingDelta:en,pitchDelta:fn,around:Bn,aroundCoord:kn,pinchAround:Pn}=it;Pn!==void 0&&(Bn=Pn),(Hn=>ct.drag&&!this._eventsInProgress.drag)()&&Bn&&(this._dragOrigin=kt(Rt.pointCoordinate3D(Bn)),this._trackingEllipsoid.setup(Rt._camera.position,this._dragOrigin)),Rt.cameraElevationReference="sea",vt._stop(!0),Bn=Bn||vt.transform.centerPoint,en&&(Rt.bearing+=en),fn&&(Rt.pitch+=fn),Rt._updateCameraState();const Jn=[0,0,0];if(Lt)if(Rt.projection.name==="mercator"){const Hn=this._trackingEllipsoid.projectRay(Rt.screenPointToMercatorRay(Bn).dir),On=this._trackingEllipsoid.projectRay(Rt.screenPointToMercatorRay(Bn.sub(Lt)).dir);Jn[0]=On[0]-Hn[0],Jn[1]=On[1]-Hn[1]}else{const Hn=Rt.pointCoordinate(Bn);if(Rt.projection.name==="globe"){Lt=Lt.rotate(-Rt.angle);const On=Rt._pixelsPerMercatorPixel/Rt.worldSize;Jn[0]=-Lt.x*j.mercatorScale(j.latFromMercatorY(Hn.y))*On,Jn[1]=-Lt.y*j.mercatorScale(Rt.center.lat)*On}else{const On=Rt.pointCoordinate(Bn.sub(Lt));Hn&&On&&(Jn[0]=On.x-Hn.x,Jn[1]=On.y-Hn.y)}}const zn=Rt.zoom,Nn=[0,0,0];if(Zt){const Hn=kt(kn||Rt.pointCoordinate3D(Bn)),On={dir:j.normalize([],j.sub([],Hn,Rt._camera.position))};if(On.dir[2]<0){const tr=Rt.zoomDeltaToMovement(Hn,Zt);j.scale$2(Nn,On.dir,tr)}}const Vn=j.add(Jn,Jn,Nn);Rt._translateCameraConstrained(Vn),Zt&&Math.abs(Rt.zoom-zn)>1e-4&&Rt.recenterOnTerrain(),Rt.cameraElevationReference="ground",this._map._update(),it.noInertia||this._inertia.record(it),this._fireEvents(ct,pt,!0)}_fireEvents(it,ct,pt){const vt=mm(this._eventsInProgress),Rt=mm(it),kt={};for(const fn in it){const{originalEvent:Bn}=it[fn];this._eventsInProgress[fn]||(kt[`${fn}start`]=Bn),this._eventsInProgress[fn]=it[fn]}!vt&&Rt&&this._fireEvent("movestart",Rt.originalEvent);for(const fn in kt)this._fireEvent(fn,kt[fn]);Rt&&this._fireEvent("move",Rt.originalEvent);for(const fn in it){const{originalEvent:Bn}=it[fn];this._fireEvent(fn,Bn)}const Lt={};let Zt;for(const fn in this._eventsInProgress){const{handlerName:Bn,originalEvent:kn}=this._eventsInProgress[fn];this._handlersById[Bn].isActive()||(delete this._eventsInProgress[fn],Zt=ct[Bn]||kn,Lt[`${fn}end`]=Zt)}for(const fn in Lt)this._fireEvent(fn,Lt[fn]);const en=mm(this._eventsInProgress);if(pt&&(vt||Rt)&&!en){this._updatingCamera=!0;const fn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Bn=kn=>kn!==0&&-this._bearingSnap<kn&&kn<this._bearingSnap;fn?(Bn(fn.bearing||this._map.getBearing())&&(fn.bearing=0),this._map.easeTo(fn,{originalEvent:Zt})):(this._map.fire(new j.Event("moveend",{originalEvent:Zt})),Bn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(it,ct){this._map.fire(new j.Event(it,ct?{originalEvent:ct}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(it=>{this._frameId=void 0,this.handleEvent(new IU("renderFrame",{timeStamp:it})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const z_="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class WU extends j.Evented{constructor(it,ct){super(),this._moving=!1,this._zooming=!1,this.transform=it,this._bearingSnap=ct.bearingSnap,j.bindAll(["_renderFrameCallback"],this)}getCenter(){return new j.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(it,ct){return this.jumpTo({center:it},ct)}panBy(it,ct,pt){return it=j.pointGeometry.convert(it).mult(-1),this.panTo(this.transform.center,j.extend({offset:it},ct),pt)}panTo(it,ct,pt){return this.easeTo(j.extend({center:it},ct),pt)}getZoom(){return this.transform.zoom}setZoom(it,ct){return this.jumpTo({zoom:it},ct),this}zoomTo(it,ct,pt){return this.easeTo(j.extend({zoom:it},ct),pt)}zoomIn(it,ct){return this.zoomTo(this.getZoom()+1,it,ct),this}zoomOut(it,ct){return this.zoomTo(this.getZoom()-1,it,ct),this}getBearing(){return this.transform.bearing}setBearing(it,ct){return this.jumpTo({bearing:it},ct),this}getPadding(){return this.transform.padding}setPadding(it,ct){return this.jumpTo({padding:it},ct),this}rotateTo(it,ct,pt){return this.easeTo(j.extend({bearing:it},ct),pt)}resetNorth(it,ct){return this.rotateTo(0,j.extend({duration:1e3},it),ct),this}resetNorthPitch(it,ct){return this.easeTo(j.extend({bearing:0,pitch:0,duration:1e3},it),ct),this}snapToNorth(it,ct){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(it,ct):this}getPitch(){return this.transform.pitch}setPitch(it,ct){return this.jumpTo({pitch:it},ct),this}cameraForBounds(it,ct){it=j.LngLatBounds.convert(it);const pt=ct&&ct.bearing||0,vt=it.getNorthWest(),Rt=it.getSouthEast();return this._cameraForBounds(this.transform,vt,Rt,pt,ct)}_extendCameraOptions(it){const ct={top:0,bottom:0,right:0,left:0};if(typeof(it=j.extend({padding:ct,offset:[0,0],maxZoom:this.transform.maxZoom},it)).padding=="number"){const pt=it.padding;it.padding={top:pt,bottom:pt,right:pt,left:pt}}return it.padding=j.extend(ct,it.padding),it}_minimumAABBFrustumDistance(it,ct){const pt=ct.max[0]-ct.min[0],vt=ct.max[1]-ct.min[1];return pt/vt>it.aspect?pt/(2*Math.tan(.5*it.fovX)*it.aspect):vt/(2*Math.tan(.5*it.fovY)*it.aspect)}_cameraForBoundsOnGlobe(it,ct,pt,vt,Rt){const kt=it.clone(),Lt=this._extendCameraOptions(Rt);kt.bearing=vt;const Zt=j.LngLat.convert(ct),en=j.LngLat.convert(pt),fn=.5*(Zt.lat+en.lat),Bn=.5*(Zt.lng+en.lng),kn=j.latLngToECEF(fn,Bn),Pn=j.normalize([],kn),Jn=j.normalize([],j.cross([],Pn,[0,1,0])),zn=j.cross([],Jn,Pn),Nn=[Jn[0],Jn[1],Jn[2],0,zn[0],zn[1],zn[2],0,Pn[0],Pn[1],Pn[2],0,0,0,0,1],Vn=[kn,j.latLngToECEF(Zt.lat,Zt.lng),j.latLngToECEF(en.lat,Zt.lng),j.latLngToECEF(en.lat,en.lng),j.latLngToECEF(Zt.lat,en.lng),j.latLngToECEF(fn,Zt.lng),j.latLngToECEF(fn,en.lng),j.latLngToECEF(Zt.lat,Bn),j.latLngToECEF(en.lat,Bn)];let Hn=j.Aabb.fromPoints(Vn.map(no=>[j.dot(Jn,no),j.dot(zn,no),j.dot(Pn,no)]));const On=j.transformMat4([],Hn.center,Nn);j.squaredLength(On)===0&&j.set(On,0,0,1),j.normalize(On,On),j.scale$2(On,On,j.GLOBE_RADIUS),kt.center=j.ecefToLatLng(On);const tr=kt.getWorldToCameraMatrix(),sr=j.invert(new Float64Array(16),tr);Hn=j.Aabb.applyTransform(Hn,j.multiply([],tr,Nn)),j.transformMat4(On,On,tr);const $n=.5*(Hn.max[2]-Hn.min[2]),ur=this._minimumAABBFrustumDistance(kt,Hn),Ur=j.scale$2([],[0,0,1],$n),Tr=j.add(Ur,On,Ur),wr=ur+(kt.pitch===0?0:j.distance(On,Tr)),qr=kt.globeCenterInViewSpace,_r=j.sub([],On,[qr[0],qr[1],qr[2]]);j.normalize(_r,_r),j.scale$2(_r,_r,wr);const Pr=j.add([],On,_r);j.transformMat4(Pr,Pr,sr);const Zr=j.earthRadius/j.GLOBE_RADIUS,Qr=j.length(Pr),gr=j.mercatorZfromAltitude(Qr*Zr-j.earthRadius,0),co=Math.min(kt.zoomFromMercatorZAdjusted(gr),Lt.maxZoom);return co>.5*(j.GLOBE_ZOOM_THRESHOLD_MIN+j.GLOBE_ZOOM_THRESHOLD_MAX)?(kt.setProjection({name:"mercator"}),kt.zoom=co,this._cameraForBounds(kt,ct,pt,vt,Rt)):{center:kt.center,zoom:co,bearing:vt}}queryTerrainElevation(it,ct){const pt=this.transform.elevation;return pt?(ct=j.extend({},{exaggerated:!0},ct),pt.getAtPoint(j.MercatorCoordinate.fromLngLat(it),null,ct.exaggerated)):null}_cameraForBounds(it,ct,pt,vt,Rt){if(it.projection.name==="globe")return this._cameraForBoundsOnGlobe(it,ct,pt,vt,Rt);const kt=it.clone(),Lt=this._extendCameraOptions(Rt),Zt=kt.padding;kt.bearing=vt;const en=j.LngLat.convert(ct),fn=j.LngLat.convert(pt),Bn=new j.LngLat(en.lng,fn.lat),kn=new j.LngLat(fn.lng,en.lat),Pn=kt.project(en),Jn=kt.project(fn),zn=this.queryTerrainElevation(en),Nn=this.queryTerrainElevation(fn),Vn=this.queryTerrainElevation(Bn),Hn=this.queryTerrainElevation(kn),On=[[Pn.x,Pn.y,Math.min(zn||0,Nn||0,Vn||0,Hn||0)],[Jn.x,Jn.y,Math.max(zn||0,Nn||0,Vn||0,Hn||0)]];let tr=j.Aabb.fromPoints(On);const sr=kt.getWorldToCameraMatrix(),$n=j.invert(new Float64Array(16),sr);tr=j.Aabb.applyTransform(tr,sr);const ur=j.sub([],tr.max,tr.min),Ur=Zt.left||0,Tr=Zt.right||0,wr=Zt.bottom||0,qr=Zt.top||0,{left:_r,right:Pr,top:Zr,bottom:Qr}=Lt.padding,gr=.5*(Ur+Tr),co=.5*(qr+wr),no=Math.min(kt.scaleZoom(kt.scale*Math.min((kt.width-(Ur+Tr+_r+Pr))/ur[0],(kt.height-(wr+qr+Qr+Zr))/ur[1])),Lt.maxZoom),so=kt.scale/kt.zoomScale(no);tr=new j.Aabb([tr.min[0]-(_r+gr)*so,tr.min[1]-(Qr+co)*so,tr.min[2]],[tr.max[0]+(Pr+gr)*so,tr.max[1]+(Zr+co)*so,tr.max[2]]);const ro=.5*ur[2],Ro=this._minimumAABBFrustumDistance(kt,tr),Io=[0,0,1,0];j.transformMat4$1(Io,Io,sr),j.normalize$2(Io,Io);const No=j.scale$2([],Io,Ro+ro),xo=j.add([],tr.center,No),io=(typeof Lt.offset.x=="number"&&typeof Lt.offset.y=="number"?new j.pointGeometry(Lt.offset.x,Lt.offset.y):j.pointGeometry.convert(Lt.offset)).rotate(-j.degToRad(vt));tr.center[0]-=io.x*so,tr.center[1]+=io.y*so,j.transformMat4(tr.center,tr.center,$n),j.transformMat4(xo,xo,$n);const Yo=[tr.center[0],tr.center[1],xo[2]*kt.pixelsPerMeter];j.scale$2(Yo,Yo,1/kt.worldSize);const rs=j.lngFromMercatorX(Yo[0]),Ns=j.latFromMercatorY(Yo[1]),Ds=Math.min(kt._zoomFromMercatorZ(Yo[2]),Lt.maxZoom),Ts=new j.LngLat(rs,Ns);return kt.mercatorFromTransition&&Ds<.5*(j.GLOBE_ZOOM_THRESHOLD_MIN+j.GLOBE_ZOOM_THRESHOLD_MAX)?(kt.setProjection({name:"globe"}),kt.zoom=Ds,this._cameraForBounds(kt,ct,pt,vt,Rt)):{center:Ts,zoom:Ds,bearing:vt}}fitBounds(it,ct,pt){const vt=this.cameraForBounds(it,ct);return this._fitInternal(vt,ct,pt)}fitScreenCoordinates(it,ct,pt,vt,Rt){const kt=j.pointGeometry.convert(it),Lt=j.pointGeometry.convert(ct),Zt=new j.pointGeometry(Math.min(kt.x,Lt.x),Math.min(kt.y,Lt.y)),en=new j.pointGeometry(Math.max(kt.x,Lt.x),Math.max(kt.y,Lt.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(kt,Lt))return this;const fn=this.transform.pointLocation3D(Zt),Bn=this.transform.pointLocation3D(en),kn=this.transform.pointLocation3D(new j.pointGeometry(Zt.x,en.y)),Pn=this.transform.pointLocation3D(new j.pointGeometry(en.x,Zt.y)),Jn=[Math.min(fn.lng,Bn.lng,kn.lng,Pn.lng),Math.min(fn.lat,Bn.lat,kn.lat,Pn.lat)],zn=[Math.max(fn.lng,Bn.lng,kn.lng,Pn.lng),Math.max(fn.lat,Bn.lat,kn.lat,Pn.lat)],Nn=this._cameraForBounds(this.transform,Jn,zn,pt,vt);return this._fitInternal(Nn,vt,Rt)}_fitInternal(it,ct,pt){return it?(delete(ct=j.extend(it,ct)).padding,ct.linear?this.easeTo(ct,pt):this.flyTo(ct,pt)):this}jumpTo(it,ct){this.stop();const pt=it.preloadOnly?this.transform.clone():this.transform;let vt=!1,Rt=!1,kt=!1;return"zoom"in it&&pt.zoom!==+it.zoom&&(vt=!0,pt.zoom=+it.zoom),it.center!==void 0&&(pt.center=j.LngLat.convert(it.center)),"bearing"in it&&pt.bearing!==+it.bearing&&(Rt=!0,pt.bearing=+it.bearing),"pitch"in it&&pt.pitch!==+it.pitch&&(kt=!0,pt.pitch=+it.pitch),it.padding==null||pt.isPaddingEqual(it.padding)||(pt.padding=it.padding),it.preloadOnly?(this._preloadTiles(pt),this):(this.fire(new j.Event("movestart",ct)).fire(new j.Event("move",ct)),vt&&this.fire(new j.Event("zoomstart",ct)).fire(new j.Event("zoom",ct)).fire(new j.Event("zoomend",ct)),Rt&&this.fire(new j.Event("rotatestart",ct)).fire(new j.Event("rotate",ct)).fire(new j.Event("rotateend",ct)),kt&&this.fire(new j.Event("pitchstart",ct)).fire(new j.Event("pitch",ct)).fire(new j.Event("pitchend",ct)),this.fire(new j.Event("moveend",ct)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||j.warnOnce(z_),this.transform.getFreeCameraOptions()}setFreeCameraOptions(it,ct){const pt=this.transform;if(!pt.projection.supportsFreeCamera)return j.warnOnce(z_),this;this.stop();const vt=pt.zoom,Rt=pt.pitch,kt=pt.bearing;pt.setFreeCameraOptions(it);const Lt=vt!==pt.zoom,Zt=Rt!==pt.pitch,en=kt!==pt.bearing;return this.fire(new j.Event("movestart",ct)).fire(new j.Event("move",ct)),Lt&&this.fire(new j.Event("zoomstart",ct)).fire(new j.Event("zoom",ct)).fire(new j.Event("zoomend",ct)),en&&this.fire(new j.Event("rotatestart",ct)).fire(new j.Event("rotate",ct)).fire(new j.Event("rotateend",ct)),Zt&&this.fire(new j.Event("pitchstart",ct)).fire(new j.Event("pitch",ct)).fire(new j.Event("pitchend",ct)),this.fire(new j.Event("moveend",ct)),this}easeTo(it,ct){this._stop(!1,it.easeId),((it=j.extend({offset:[0,0],duration:500,easing:j.ease},it)).animate===!1||!it.essential&&j.exported.prefersReducedMotion)&&(it.duration=0);const pt=this.transform,vt=this.getZoom(),Rt=this.getBearing(),kt=this.getPitch(),Lt=this.getPadding(),Zt="zoom"in it?+it.zoom:vt,en="bearing"in it?this._normalizeBearing(it.bearing,Rt):Rt,fn="pitch"in it?+it.pitch:kt,Bn="padding"in it?it.padding:pt.padding,kn=j.pointGeometry.convert(it.offset);let Pn,Jn,zn;if(pt.projection.name==="globe"){const Tr=j.MercatorCoordinate.fromLngLat(pt.center),wr=kn.rotate(-pt.angle);Tr.x+=wr.x/pt.worldSize,Tr.y+=wr.y/pt.worldSize;const qr=Tr.toLngLat(),_r=j.LngLat.convert(it.center||qr);this._normalizeCenter(_r),Pn=pt.centerPoint.add(wr),Jn=new j.pointGeometry(Tr.x,Tr.y).mult(pt.worldSize),zn=new j.pointGeometry(j.mercatorXfromLng(_r.lng),j.mercatorYfromLat(_r.lat)).mult(pt.worldSize).sub(Jn)}else{Pn=pt.centerPoint.add(kn);const Tr=pt.pointLocation(Pn),wr=j.LngLat.convert(it.center||Tr);this._normalizeCenter(wr),Jn=pt.project(Tr),zn=pt.project(wr).sub(Jn)}const Nn=pt.zoomScale(Zt-vt);let Vn,Hn;it.around&&(Vn=j.LngLat.convert(it.around),Hn=pt.locationPoint(Vn));const On=this._zooming||Zt!==vt,tr=this._rotating||Rt!==en,sr=this._pitching||fn!==kt,$n=!pt.isPaddingEqual(Bn),ur=Tr=>wr=>{if(On&&(Tr.zoom=j.number(vt,Zt,wr)),tr&&(Tr.bearing=j.number(Rt,en,wr)),sr&&(Tr.pitch=j.number(kt,fn,wr)),$n&&(Tr.interpolatePadding(Lt,Bn,wr),Pn=Tr.centerPoint.add(kn)),Vn)Tr.setLocationAtPoint(Vn,Hn);else{const qr=Tr.zoomScale(Tr.zoom-vt),_r=Zt>vt?Math.min(2,Nn):Math.max(.5,Nn),Pr=Math.pow(_r,1-wr),Zr=Tr.unproject(Jn.add(zn.mult(wr*Pr)).mult(qr));Tr.setLocationAtPoint(Tr.renderWorldCopies?Zr.wrap():Zr,Pn)}return it.preloadOnly||this._fireMoveEvents(ct),Tr};if(it.preloadOnly){const Tr=this._emulate(ur,it.duration,pt);return this._preloadTiles(Tr),this}const Ur={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=On,this._rotating=tr,this._pitching=sr,this._padding=$n,this._easeId=it.easeId,this._prepareEase(ct,it.noMoveStart,Ur),this._ease(ur(pt),Tr=>{pt.recenterOnTerrain(),this._afterEase(ct,Tr)},it),this}_prepareEase(it,ct,pt={}){this._moving=!0,this.transform.cameraElevationReference="sea",ct||pt.moving||this.fire(new j.Event("movestart",it)),this._zooming&&!pt.zooming&&this.fire(new j.Event("zoomstart",it)),this._rotating&&!pt.rotating&&this.fire(new j.Event("rotatestart",it)),this._pitching&&!pt.pitching&&this.fire(new j.Event("pitchstart",it))}_fireMoveEvents(it){this.fire(new j.Event("move",it)),this._zooming&&this.fire(new j.Event("zoom",it)),this._rotating&&this.fire(new j.Event("rotate",it)),this._pitching&&this.fire(new j.Event("pitch",it))}_afterEase(it,ct){if(this._easeId&&ct&&this._easeId===ct)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const pt=this._zooming,vt=this._rotating,Rt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,pt&&this.fire(new j.Event("zoomend",it)),vt&&this.fire(new j.Event("rotateend",it)),Rt&&this.fire(new j.Event("pitchend",it)),this.fire(new j.Event("moveend",it))}flyTo(it,ct){if(!it.essential&&j.exported.prefersReducedMotion){const so=j.pick(it,["center","zoom","bearing","pitch","around"]);return this.jumpTo(so,ct)}this.stop(),it=j.extend({offset:[0,0],speed:1.2,curve:1.42,easing:j.ease},it);const pt=this.transform,vt=this.getZoom(),Rt=this.getBearing(),kt=this.getPitch(),Lt=this.getPadding(),Zt="zoom"in it?j.clamp(+it.zoom,pt.minZoom,pt.maxZoom):vt,en="bearing"in it?this._normalizeBearing(it.bearing,Rt):Rt,fn="pitch"in it?+it.pitch:kt,Bn="padding"in it?it.padding:pt.padding,kn=pt.zoomScale(Zt-vt),Pn=j.pointGeometry.convert(it.offset);let Jn=pt.centerPoint.add(Pn);const zn=pt.pointLocation(Jn),Nn=j.LngLat.convert(it.center||zn);this._normalizeCenter(Nn);const Vn=pt.project(zn),Hn=pt.project(Nn).sub(Vn);let On=it.curve;const tr=Math.max(pt.width,pt.height),sr=tr/kn,$n=Hn.mag();if("minZoom"in it){const so=j.clamp(Math.min(it.minZoom,vt,Zt),pt.minZoom,pt.maxZoom),ro=tr/pt.zoomScale(so-vt);On=Math.sqrt(ro/$n*2)}const ur=On*On;function Ur(so){const ro=(sr*sr-tr*tr+(so?-1:1)*ur*ur*$n*$n)/(2*(so?sr:tr)*ur*$n);return Math.log(Math.sqrt(ro*ro+1)-ro)}function Tr(so){return(Math.exp(so)-Math.exp(-so))/2}function wr(so){return(Math.exp(so)+Math.exp(-so))/2}const qr=Ur(0);let _r=function(so){return wr(qr)/wr(qr+On*so)},Pr=function(so){return tr*((wr(qr)*(Tr(ro=qr+On*so)/wr(ro))-Tr(qr))/ur)/$n;var ro},Zr=(Ur(1)-qr)/On;if(Math.abs($n)<1e-6||!isFinite(Zr)){if(Math.abs(tr-sr)<1e-6)return this.easeTo(it,ct);const so=sr<tr?-1:1;Zr=Math.abs(Math.log(sr/tr))/On,Pr=function(){return 0},_r=function(ro){return Math.exp(so*On*ro)}}it.duration="duration"in it?+it.duration:1e3*Zr/("screenSpeed"in it?+it.screenSpeed/On:+it.speed),it.maxDuration&&it.duration>it.maxDuration&&(it.duration=0);const Qr=Rt!==en,gr=fn!==kt,co=!pt.isPaddingEqual(Bn),no=so=>ro=>{const Ro=ro*Zr,Io=1/_r(Ro);so.zoom=ro===1?Zt:vt+so.scaleZoom(Io),Qr&&(so.bearing=j.number(Rt,en,ro)),gr&&(so.pitch=j.number(kt,fn,ro)),co&&(so.interpolatePadding(Lt,Bn,ro),Jn=so.centerPoint.add(Pn));const No=ro===1?Nn:so.unproject(Vn.add(Hn.mult(Pr(Ro))).mult(Io));return so.setLocationAtPoint(so.renderWorldCopies?No.wrap():No,Jn),so._updateCameraOnTerrain(),it.preloadOnly||this._fireMoveEvents(ct),so};if(it.preloadOnly){const so=this._emulate(no,it.duration,pt);return this._preloadTiles(so),this}return this._zooming=!0,this._rotating=Qr,this._pitching=gr,this._padding=co,this._prepareEase(ct,!1),this._ease(no(pt),()=>this._afterEase(ct),it),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(it,ct){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const pt=this._onEaseEnd;this._onEaseEnd=void 0,pt.call(this,ct)}if(!it){const pt=this.handlers;pt&&pt.stop(!1)}return this}_ease(it,ct,pt){pt.animate===!1||pt.duration===0?(it(1),ct()):(this._easeStart=j.exported.now(),this._easeOptions=pt,this._onEaseFrame=it,this._onEaseEnd=ct,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const it=Math.min((j.exported.now()-this._easeStart)/this._easeOptions.duration,1),ct=this._onEaseFrame;ct&&ct(this._easeOptions.easing(it)),it<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(it,ct){it=j.wrap(it,-180,180);const pt=Math.abs(it-ct);return Math.abs(it-360-ct)<pt&&(it-=360),Math.abs(it+360-ct)<pt&&(it+=360),it}_normalizeCenter(it){const ct=this.transform;if(!ct.renderWorldCopies||ct.maxBounds)return;const pt=it.lng-ct.center.lng;it.lng+=pt>180?-360:pt<-180?360:0}_emulate(it,ct,pt){const vt=Math.ceil(15*ct/1e3),Rt=[],kt=it(pt.clone());for(let Lt=0;Lt<=vt;Lt++){const Zt=kt(Lt/vt);Rt.push(Zt.clone())}return Rt}}class j_{constructor(it={}){this.options=it,j.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(it){const ct=this.options&&this.options.compact;return this._map=it,this._container=Ut("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Ut("button","mapboxgl-ctrl-attrib-button",this._container),Ut("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Ut("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ct&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ct===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(it,ct){const pt=this._map._getUIString(`AttributionControl.${ct}`);it.setAttribute("aria-label",pt),it.removeAttribute("title"),it.firstElementChild&&it.firstElementChild.setAttribute("title",pt)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let it=this._editLink;it||(it=this._editLink=this._container.querySelector(".mapbox-improve-map"));const ct=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||j.config.ACCESS_TOKEN}];if(it){const pt=ct.reduce((vt,Rt,kt)=>(Rt.value&&(vt+=`${Rt.key}=${Rt.value}${kt<ct.length-1?"&":""}`),vt),"?");it.href=`${j.config.FEEDBACK_URL}/${pt}#${g0(this._map,!0)}`,it.rel="noopener nofollow",this._setElementTitle(it,"MapFeedback")}}_updateData(it){!it||it.sourceDataType!=="metadata"&&it.sourceDataType!=="visibility"&&it.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let it=[];if(this._map.style.stylesheet){const vt=this._map.style.stylesheet;this.styleOwner=vt.owner,this.styleId=vt.id}const ct=this._map.style._sourceCaches;for(const vt in ct){const Rt=ct[vt];if(Rt.used){const kt=Rt.getSource();kt.attribution&&it.indexOf(kt.attribution)<0&&it.push(kt.attribution)}}it.sort((vt,Rt)=>vt.length-Rt.length),it=it.filter((vt,Rt)=>{for(let kt=Rt+1;kt<it.length;kt++)if(it[kt].indexOf(vt)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?it=[...this.options.customAttribution,...it]:it.unshift(this.options.customAttribution));const pt=it.join(" | ");pt!==this._attribHTML&&(this._attribHTML=pt,it.length?(this._innerContainer.innerHTML=pt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class oy{constructor(){j.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(it){this._map=it,this._container=Ut("div","mapboxgl-ctrl");const ct=Ut("a","mapboxgl-ctrl-logo");return ct.target="_blank",ct.rel="noopener nofollow",ct.href="https://www.mapbox.com/",ct.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ct.setAttribute("rel","noopener nofollow"),this._container.appendChild(ct),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(it){it&&it.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const it=this._map.style._sourceCaches;if(Object.entries(it).length===0)return!0;for(const ct in it){const pt=it[ct].getSource();if(pt.hasOwnProperty("mapbox_logo")&&!pt.mapbox_logo)return!1}return!0}_updateCompact(){const it=this._container.children;if(it.length){const ct=it[0];this._map.getCanvasContainer().offsetWidth<250?ct.classList.add("mapboxgl-compact"):ct.classList.remove("mapboxgl-compact")}}}class zy{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(it){const ct=++this._id;return this._queue.push({callback:it,id:ct,cancelled:!1}),ct}remove(it){const ct=this._currentlyRunning,pt=ct?this._queue.concat(ct):this._queue;for(const vt of pt)if(vt.id===it)return void(vt.cancelled=!0)}run(it=0){const ct=this._currentlyRunning=this._queue;this._queue=[];for(const pt of ct)if(!pt.cancelled&&(pt.callback(it),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function cp(ht,it,ct){if(ht=new j.LngLat(ht.lng,ht.lat),it){const pt=new j.LngLat(ht.lng-360,ht.lat),vt=new j.LngLat(ht.lng+360,ht.lat),Rt=360*Math.ceil(Math.abs(ht.lng-ct.center.lng)/360),kt=ct.locationPoint(ht).distSqr(it),Lt=it.x<0||it.y<0||it.x>ct.width||it.y>ct.height;ct.locationPoint(pt).distSqr(it)<kt&&(Lt||Math.abs(pt.lng-ct.center.lng)<Rt)?ht=pt:ct.locationPoint(vt).distSqr(it)<kt&&(Lt||Math.abs(vt.lng-ct.center.lng)<Rt)&&(ht=vt)}for(;Math.abs(ht.lng-ct.center.lng)>180;){const pt=ct.locationPoint(ht);if(pt.x>=0&&pt.y>=0&&pt.x<=ct.width&&pt.y<=ct.height)break;ht.lng>ct.center.lng?ht.lng-=360:ht.lng+=360}return ht}const jy={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Gy extends j.Evented{constructor(it,ct){if(super(),(it instanceof j.window.HTMLElement||ct)&&(it=j.extend({element:it},ct)),j.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=it&&it.anchor||"center",this._color=it&&it.color||"#3FB1CE",this._scale=it&&it.scale||1,this._draggable=it&&it.draggable||!1,this._clickTolerance=it&&it.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=it&&it.rotation||0,this._rotationAlignment=it&&it.rotationAlignment||"auto",this._pitchAlignment=it&&it.pitchAlignment&&it.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=it&&it.occludedOpacity||.2,it&&it.element)this._element=it.element,this._offset=j.pointGeometry.convert(it&&it.offset||[0,0]);else{this._defaultMarker=!0,this._element=Ut("div");const vt=41,Rt=27,kt=Ft("svg",{display:"block",height:vt*this._scale+"px",width:Rt*this._scale+"px",viewBox:`0 0 ${Rt} ${vt}`},this._element),Lt=Ft("radialGradient",{id:"shadowGradient"},Ft("defs",{},kt));Ft("stop",{offset:"10%","stop-opacity":.4},Lt),Ft("stop",{offset:"100%","stop-opacity":.05},Lt),Ft("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},kt),Ft("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},kt),Ft("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},kt),Ft("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},kt),this._offset=j.pointGeometry.convert(it&&it.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",vt=>{vt.preventDefault()}),this._element.addEventListener("mousedown",vt=>{vt.preventDefault()});const pt=this._element.classList;for(const vt in jy)pt.remove(`mapboxgl-marker-anchor-${vt}`);pt.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(it){return it===this._map||(this.remove(),this._map=it,it.getCanvasContainer().appendChild(this._element),it.on("move",this._updateMoving),it.on("moveend",this._update),it.on("remove",this._clearFadeTimer),it._addMarker(this),this.setDraggable(this._draggable),this._update(),it.on("click",this._onMapClick)),this}remove(){const it=this._map;return it&&(it.off("click",this._onMapClick),it.off("move",this._updateMoving),it.off("moveend",this._update),it.off("mousedown",this._addDragHandler),it.off("touchstart",this._addDragHandler),it.off("mouseup",this._onUp),it.off("touchend",this._onUp),it.off("mousemove",this._onMove),it.off("touchmove",this._onMove),it.off("remove",this._clearFadeTimer),it._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(it){return this._lngLat=j.LngLat.convert(it),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(it){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),it){if(!("offset"in it.options)){const vt=Math.sqrt(Math.pow(13.5,2)/2);it.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[vt,-1*(38.1-13.5+vt)],"bottom-right":[-vt,-1*(38.1-13.5+vt)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=it,it._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(it){const ct=it.code,pt=it.charCode||it.keyCode;ct!=="Space"&&ct!=="Enter"&&pt!==32&&pt!==13||this.togglePopup()}_onMapClick(it){const ct=it.originalEvent.target,pt=this._element;this._popup&&(ct===pt||pt.contains(ct))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const it=this._popup;return it?(it.isOpen()?(it.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(it.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const it=this._map,ct=this._pos;if(!it||!ct)return!1;const pt=it.unproject(ct),vt=it.getFreeCameraOptions();if(!vt.position)return!1;const Rt=vt.position.toLngLat();return Rt.distanceTo(pt)<.9*Rt.distanceTo(this._lngLat)}_evaluateOpacity(){const it=this._map;if(!it)return;const ct=this._pos;if(!ct||ct.x<0||ct.x>it.transform.width||ct.y<0||ct.y>it.transform.height)return void this._clearFadeTimer();const pt=it.unproject(ct);let vt;it._showingGlobe()&&j.isLngLatBehindGlobe(it.transform,this._lngLat)?vt=0:(vt=1-it._queryFogOpacity(pt),it.transform._terrainEnabled()&&it.getTerrain()&&this._behindTerrain()&&(vt*=this._occludedOpacity)),this._element.style.opacity=`${vt}`,this._element.style.pointerEvents=vt>0?"auto":"none",this._popup&&this._popup._setOpacity(vt),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const it=this._pos;if(!it||!this._map)return;const ct=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${it.x}px,${it.y}px)
            ${jy[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${ct.x}px,${ct.y}px)
        `}_calculateXYTransform(){const it=this._pos,ct=this._map,pt=this.getPitchAlignment();if(!ct||!it||pt!=="map")return"";if(!ct._showingGlobe()){const Zt=ct.getPitch();return Zt?`rotateX(${Zt}deg)`:""}const vt=j.radToDeg(j.globeTiltAtLngLat(ct.transform,this._lngLat)),Rt=it.sub(j.globeCenterToScreenPoint(ct.transform)),kt=Math.abs(Rt.x)+Math.abs(Rt.y);if(kt===0)return"";const Lt=vt/kt;return`rotateX(${-Rt.y*Lt}deg) rotateY(${Rt.x*Lt}deg)`}_calculateZTransform(){const it=this._pos,ct=this._map;if(!ct||!it)return"";let pt=0;const vt=this.getRotationAlignment();if(vt==="map")if(ct._showingGlobe()){const Rt=ct.project(new j.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),kt=ct.project(new j.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(Rt);pt=j.radToDeg(Math.atan2(kt.y,kt.x))-90}else pt=-ct.getBearing();else if(vt==="horizon"){const Rt=j.smoothstep(4,6,ct.getZoom()),kt=j.globeCenterToScreenPoint(ct.transform);kt.y+=Rt*ct.transform.height;const Lt=it.sub(kt),Zt=j.radToDeg(Math.atan2(Lt.y,Lt.x));pt=(Zt>90?Zt-270:Zt+90)*(1-Rt)}return pt+=this._rotation,pt?`rotateZ(${pt}deg)`:""}_update(it){j.window.cancelAnimationFrame(this._updateFrameId);const ct=this._map;ct&&(ct.transform.renderWorldCopies&&(this._lngLat=cp(this._lngLat,this._pos,ct.transform)),this._pos=ct.project(this._lngLat),it===!0?this._updateFrameId=j.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),ct._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(ct._showingGlobe()||ct.getTerrain()||ct.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(it){return this._offset=j.pointGeometry.convert(it),this._update(),this}_onMove(it){const ct=this._map;if(!ct)return;const pt=this._pointerdownPos,vt=this._positionDelta;if(pt&&vt){if(!this._isDragging){const Rt=this._clickTolerance||ct._clickTolerance;if(it.point.dist(pt)<Rt)return;this._isDragging=!0}this._pos=it.point.sub(vt),this._lngLat=ct.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new j.Event("dragstart"))),this.fire(new j.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const it=this._map;it&&(it.off("mousemove",this._onMove),it.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new j.Event("dragend")),this._state="inactive"}_addDragHandler(it){const ct=this._map,pt=this._pos;ct&&pt&&this._element.contains(it.originalEvent.target)&&(it.preventDefault(),this._positionDelta=it.point.sub(pt),this._pointerdownPos=it.point,this._state="pending",ct.on("mousemove",this._onMove),ct.on("touchmove",this._onMove),ct.once("mouseup",this._onUp),ct.once("touchend",this._onUp))}setDraggable(it){this._draggable=!!it;const ct=this._map;return ct&&(it?(ct.on("mousedown",this._addDragHandler),ct.on("touchstart",this._addDragHandler)):(ct.off("mousedown",this._addDragHandler),ct.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(it){return this._rotation=it||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(it){return this._rotationAlignment=it||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(it){return this._pitchAlignment=it||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(it){return this._occludedOpacity=it||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const zu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},OU=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function G_(ht=new j.pointGeometry(0,0),it="bottom"){if(typeof ht=="number"){const ct=Math.round(Math.sqrt(.5*Math.pow(ht,2)));switch(it){case"top":return new j.pointGeometry(0,ht);case"top-left":return new j.pointGeometry(ct,ct);case"top-right":return new j.pointGeometry(-ct,ct);case"bottom":return new j.pointGeometry(0,-ht);case"bottom-left":return new j.pointGeometry(ct,-ct);case"bottom-right":return new j.pointGeometry(-ct,-ct);case"left":return new j.pointGeometry(ht,0);case"right":return new j.pointGeometry(-ht,0)}return new j.pointGeometry(0,0)}return ht instanceof j.pointGeometry||Array.isArray(ht)?j.pointGeometry.convert(ht):j.pointGeometry.convert(ht[it]||[0,0])}class LU{constructor(it){this.jumpTo(it)}getValue(it){if(it<=this._startTime)return this._start;if(it>=this._endTime)return this._end;const ct=j.easeCubicInOut((it-this._startTime)/(this._endTime-this._startTime));return this._start*(1-ct)+this._end*ct}isEasing(it){return it>=this._startTime&&it<=this._endTime}jumpTo(it){this._startTime=-1/0,this._endTime=-1/0,this._start=it,this._end=it}easeTo(it,ct,pt){this._start=this.getValue(ct),this._end=it,this._startTime=ct,this._endTime=ct+pt}}const PU={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},H_={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function sy(ht){ht.parentNode&&ht.parentNode.removeChild(ht)}const Y_={showCompass:!0,showZoom:!0,visualizePitch:!1};class ZU{constructor(it,ct,pt=!1){this._clickTolerance=10,this.element=ct,this.mouseRotate=new Z_({clickTolerance:it.dragRotate._mouseRotate._clickTolerance}),this.map=it,pt&&(this.mousePitch=new Jm({clickTolerance:it.dragRotate._mousePitch._clickTolerance})),j.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),ct.addEventListener("mousedown",this.mousedown),ct.addEventListener("touchstart",this.touchstart,{passive:!1}),ct.addEventListener("touchmove",this.touchmove),ct.addEventListener("touchend",this.touchend),ct.addEventListener("touchcancel",this.reset)}down(it,ct){this.mouseRotate.mousedown(it,ct),this.mousePitch&&this.mousePitch.mousedown(it,ct),Tt()}move(it,ct){const pt=this.map,vt=this.mouseRotate.mousemoveWindow(it,ct),Rt=vt&&vt.bearingDelta;if(Rt&&pt.setBearing(pt.getBearing()+Rt),this.mousePitch){const kt=this.mousePitch.mousemoveWindow(it,ct),Lt=kt&&kt.pitchDelta;Lt&&pt.setPitch(pt.getPitch()+Lt)}}off(){const it=this.element;it.removeEventListener("mousedown",this.mousedown),it.removeEventListener("touchstart",this.touchstart,{passive:!1}),it.removeEventListener("touchmove",this.touchmove),it.removeEventListener("touchend",this.touchend),it.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Jt(),j.window.removeEventListener("mousemove",this.mousemove),j.window.removeEventListener("mouseup",this.mouseup)}mousedown(it){this.down(j.extend({},it,{ctrlKey:!0,preventDefault:()=>it.preventDefault()}),St(this.element,it)),j.window.addEventListener("mousemove",this.mousemove),j.window.addEventListener("mouseup",this.mouseup)}mousemove(it){this.move(it,St(this.element,it))}mouseup(it){this.mouseRotate.mouseupWindow(it),this.mousePitch&&this.mousePitch.mouseupWindow(it),this.offTemp()}touchstart(it){it.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Ot(this.element,it.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>it.preventDefault()},this._startPos))}touchmove(it){it.targetTouches.length!==1?this.reset():(this._lastPos=Ot(this.element,it.targetTouches)[0],this.move({preventDefault:()=>it.preventDefault()},this._lastPos))}touchend(it){it.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const zU={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},ay={maxWidth:100,unit:"metric"};function _0(ht,it,ct){const pt=Om(it),vt=pt/it,Rt={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[ct];this._map._requestDomTask(()=>{this._container.style.width=ht*vt+"px",this._container.innerHTML=`${pt}&nbsp;${Rt}`})}function Om(ht){const it=Math.pow(10,`${Math.floor(ht)}`.length-1);let ct=ht/it;return ct=ct>=10?10:ct>=5?5:ct>=3?3:ct>=2?2:ct>=1?1:function(pt){const vt=Math.pow(10,Math.ceil(-Math.log(pt)/Math.LN10));return Math.round(pt*vt)/vt}(ct),it*ct}const ly={version:j.version,supported:lt,setRTLTextPlugin:j.setRTLTextPlugin,getRTLTextPluginStatus:j.getRTLTextPluginStatus,Map:class extends WU{constructor(ht){if(j.LivePerformanceUtils.mark(j.PerformanceMarkers.create),(ht=j.extend({},H_,ht)).minZoom!=null&&ht.maxZoom!=null&&ht.minZoom>ht.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ht.minPitch!=null&&ht.maxPitch!=null&&ht.minPitch>ht.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ht.minPitch!=null&&ht.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(ht.maxPitch!=null&&ht.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(ht.antialias&&j.isSafariWithAntialiasingBug(j.window)&&(ht.antialias=!1,j.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new wu(ht.minZoom,ht.maxZoom,ht.minPitch,ht.maxPitch,ht.renderWorldCopies),ht),this._interactive=ht.interactive,this._minTileCacheSize=ht.minTileCacheSize,this._maxTileCacheSize=ht.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ht.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ht.preserveDrawingBuffer,this._antialias=ht.antialias,this._trackResize=ht.trackResize,this._bearingSnap=ht.bearingSnap,this._refreshExpiredTiles=ht.refreshExpiredTiles,this._fadeDuration=ht.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=ht.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ht.collectResourceTiming,this._optimizeForTerrain=ht.optimizeForTerrain,this._language=this._parseLanguage(ht.language),this._worldview=ht.worldview,this._renderTaskQueue=new zy,this._domRenderTaskQueue=new zy,this._controls=[],this._markers=[],this._popups=[],this._mapId=j.uniqueId(),this._locale=j.extend({},PU,ht.locale),this._clickTolerance=ht.clickTolerance,this._cooperativeGestures=ht.cooperativeGestures,this._performanceMetricsCollection=ht.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new LU(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new j.RequestManager(ht.transformRequest,ht.accessToken,ht.testMode),this._silenceAuthErrors=!!ht.testMode,typeof ht.container=="string"){if(this._container=j.window.document.getElementById(ht.container),!this._container)throw new Error(`Container '${ht.container}' not found.`)}else{if(!(ht.container instanceof j.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=ht.container}if(this._container.childNodes.length>0&&j.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),ht.maxBounds&&this.setMaxBounds(ht.maxBounds),j.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),j.window!==void 0&&(j.window.addEventListener("online",this._onWindowOnline,!1),j.window.addEventListener("resize",this._onWindowResize,!1),j.window.addEventListener("orientationchange",this._onWindowResize,!1),j.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),j.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Sp(this,ht),this._localFontFamily=ht.localFontFamily,this._localIdeographFontFamily=ht.localIdeographFontFamily,ht.style&&this.setStyle(ht.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),ht.projection&&this.setProjection(ht.projection),this._hash=ht.hash&&new q0(typeof ht.hash=="string"&&ht.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:ht.center,zoom:ht.zoom,bearing:ht.bearing,pitch:ht.pitch}),ht.bounds&&(this.resize(),this.fitBounds(ht.bounds,j.extend({},ht.fitBoundsOptions,{duration:0})))),this.resize(),ht.attributionControl&&this.addControl(new j_({customAttribution:ht.customAttribution})),this._logoControl=new oy,this.addControl(this._logoControl,ht.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",it=>{this._update(it.dataType==="style"),this.fire(new j.Event(`${it.dataType}data`,it))}),this.on("dataloading",it=>{this.fire(new j.Event(`${it.dataType}dataloading`,it))})}_getMapId(){return this._mapId}addControl(ht,it){if(it===void 0&&(it=ht.getDefaultPosition?ht.getDefaultPosition():"top-right"),!ht||!ht.onAdd)return this.fire(new j.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const ct=ht.onAdd(this);this._controls.push(ht);const pt=this._controlPositions[it];return it.indexOf("bottom")!==-1?pt.insertBefore(ct,pt.firstChild):pt.appendChild(ct),this}removeControl(ht){if(!ht||!ht.onRemove)return this.fire(new j.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const it=this._controls.indexOf(ht);return it>-1&&this._controls.splice(it,1),ht.onRemove(this),this}hasControl(ht){return this._controls.indexOf(ht)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(ht){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const it=!this._moving;return it&&this.fire(new j.Event("movestart",ht)).fire(new j.Event("move",ht)),this.fire(new j.Event("resize",ht)),it&&this.fire(new j.Event("moveend",ht)),this}getBounds(){return this.transform.projection.name==="globe"&&j.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly when viewing the poles."'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(ht){return this.transform.setMaxBounds(j.LngLatBounds.convert(ht)),this._update()}setMinZoom(ht){if((ht=ht??-2)>=-2&&ht<=this.transform.maxZoom)return this.transform.minZoom=ht,this._update(),this.getZoom()<ht?this.setZoom(ht):this.fire(new j.Event("zoomstart")).fire(new j.Event("zoom")).fire(new j.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(ht){if((ht=ht??22)>=this.transform.minZoom)return this.transform.maxZoom=ht,this._update(),this.getZoom()>ht?this.setZoom(ht):this.fire(new j.Event("zoomstart")).fire(new j.Event("zoom")).fire(new j.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(ht){if((ht=ht??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(ht>=0&&ht<=this.transform.maxPitch)return this.transform.minPitch=ht,this._update(),this.getPitch()<ht?this.setPitch(ht):this.fire(new j.Event("pitchstart")).fire(new j.Event("pitch")).fire(new j.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(ht){if((ht=ht??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(ht>=this.transform.minPitch)return this.transform.maxPitch=ht,this._update(),this.getPitch()>ht?this.setPitch(ht):this.fire(new j.Event("pitchstart")).fire(new j.Event("pitch")).fire(new j.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(ht){return this.transform.renderWorldCopies=ht,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(ht){return ht==="auto"?j.window.navigator.language:Array.isArray(ht)?ht.length===0?void 0:ht.map(it=>it==="auto"?j.window.navigator.language:it):ht}setLanguage(ht){const it=this._parseLanguage(ht);if(!this.style||it===this._language)return this;this._language=it,this.style._reloadSources();for(const ct of this._controls)ct._setLanguage&&ct._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(ht){return this.style&&ht!==this._worldview?(this._worldview=ht,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(ht){return this._lazyInitEmptyStyle(),ht?typeof ht=="string"&&(ht={name:ht}):ht=null,this._useExplicitProjection=!!ht,this._prioritizeAndUpdateProjection(ht,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const ht=this.transform,it=ht.projection.name;let ct;it==="globe"&&ht.zoom>=j.GLOBE_ZOOM_THRESHOLD_MAX?(ht.setMercatorFromTransition(),ct=!0):it==="mercator"&&ht.zoom<j.GLOBE_ZOOM_THRESHOLD_MAX&&(ht.setProjection({name:"globe"}),ct=!0),ct&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(ht,it){return this._updateProjection(ht||it||{name:"mercator"})}_updateProjection(ht){let it;if(it=ht.name==="globe"&&this.transform.zoom>=j.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(ht),this.style.applyProjectionUpdate(),it){this.painter.clearBackgroundTiles();for(const ct in this.style._sourceCaches)this.style._sourceCaches[ct].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(ht){return this.transform.locationPoint3D(j.LngLat.convert(ht))}unproject(ht){return this.transform.pointLocation3D(j.pointGeometry.convert(ht))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(ht,it,ct){if(ht==="mouseenter"||ht==="mouseover"){let pt=!1;const vt=kt=>{const Lt=it.filter(en=>this.getLayer(en)),Zt=Lt.length?this.queryRenderedFeatures(kt.point,{layers:Lt}):[];Zt.length?pt||(pt=!0,ct.call(this,new xu(ht,this,kt.originalEvent,{features:Zt}))):pt=!1},Rt=()=>{pt=!1};return{layers:new Set(it),listener:ct,delegates:{mousemove:vt,mouseout:Rt}}}if(ht==="mouseleave"||ht==="mouseout"){let pt=!1;const vt=kt=>{const Lt=it.filter(Zt=>this.getLayer(Zt));(Lt.length?this.queryRenderedFeatures(kt.point,{layers:Lt}):[]).length?pt=!0:pt&&(pt=!1,ct.call(this,new xu(ht,this,kt.originalEvent)))},Rt=kt=>{pt&&(pt=!1,ct.call(this,new xu(ht,this,kt.originalEvent)))};return{layers:new Set(it),listener:ct,delegates:{mousemove:vt,mouseout:Rt}}}{const pt=vt=>{const Rt=it.filter(Lt=>this.getLayer(Lt)),kt=Rt.length?this.queryRenderedFeatures(vt.point,{layers:Rt}):[];kt.length&&(vt.features=kt,ct.call(this,vt),delete vt.features)};return{layers:new Set(it),listener:ct,delegates:{[ht]:pt}}}}on(ht,it,ct){if(ct===void 0)return super.on(ht,it);Array.isArray(it)||(it=[it]);const pt=this._createDelegatedListener(ht,it,ct);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ht]=this._delegatedListeners[ht]||[],this._delegatedListeners[ht].push(pt);for(const vt in pt.delegates)this.on(vt,pt.delegates[vt]);return this}once(ht,it,ct){if(ct===void 0)return super.once(ht,it);Array.isArray(it)||(it=[it]);const pt=this._createDelegatedListener(ht,it,ct);for(const vt in pt.delegates)this.once(vt,pt.delegates[vt]);return this}off(ht,it,ct){if(ct===void 0)return super.off(ht,it);it=new Set(Array.isArray(it)?it:[it]);const pt=(Rt,kt)=>{if(Rt.size!==kt.size)return!1;for(const Lt of Rt)if(!kt.has(Lt))return!1;return!0},vt=this._delegatedListeners?this._delegatedListeners[ht]:void 0;return vt&&(Rt=>{for(let kt=0;kt<Rt.length;kt++){const Lt=Rt[kt];if(Lt.listener===ct&&pt(Lt.layers,it)){for(const Zt in Lt.delegates)this.off(Zt,Lt.delegates[Zt]);return Rt.splice(kt,1),this}}})(vt),this}queryRenderedFeatures(ht,it){return this.style?(it!==void 0||ht===void 0||ht instanceof j.pointGeometry||Array.isArray(ht)||(it=ht,ht=void 0),this.style.queryRenderedFeatures(ht=ht||[[0,0],[this.transform.width,this.transform.height]],it=it||{},this.transform)):[]}querySourceFeatures(ht,it){return this.style.querySourceFeatures(ht,it)}setStyle(ht,it){return(it=j.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},it)).diff!==!1&&it.localIdeographFontFamily===this._localIdeographFontFamily&&it.localFontFamily===this._localFontFamily&&this.style&&ht?(this._diffStyle(ht,it),this):(this._localIdeographFontFamily=it.localIdeographFontFamily,this._localFontFamily=it.localFontFamily,this._updateStyle(ht,it))}_getUIString(ht){const it=this._locale[ht];if(it==null)throw new Error(`Missing UI string '${ht}'`);return it}_updateStyle(ht,it){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),ht&&(this.style=new ip(this,it||{}),this.style.setEventedParent(this,{style:this.style}),typeof ht=="string"?this.style.loadURL(ht):this.style.loadJSON(ht)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ip(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(ht,it){if(typeof ht=="string"){const ct=this._requestManager.normalizeStyleURL(ht),pt=this._requestManager.transformRequest(ct,j.ResourceType.Style);j.getJSON(pt,(vt,Rt)=>{vt?this.fire(new j.ErrorEvent(vt)):Rt&&this._updateDiff(Rt,it)})}else typeof ht=="object"&&this._updateDiff(ht,it)}_updateDiff(ht,it){try{this.style.setState(ht)&&this._update(!0)}catch(ct){j.warnOnce(`Unable to perform style diff: ${ct.message||ct.error||ct}.  Rebuilding the style from scratch.`),this._updateStyle(ht,it)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(j.warnOnce("There is no style added to the map."),!1)}addSource(ht,it){return this._lazyInitEmptyStyle(),this.style.addSource(ht,it),this._update(!0)}isSourceLoaded(ht){return!!this.style&&this.style._isSourceCacheLoaded(ht)}areTilesLoaded(){const ht=this.style&&this.style._sourceCaches;for(const it in ht){const ct=ht[it]._tiles;for(const pt in ct){const vt=ct[pt];if(vt.state!=="loaded"&&vt.state!=="errored")return!1}}return!0}addSourceType(ht,it,ct){this._lazyInitEmptyStyle(),this.style.addSourceType(ht,it,ct)}removeSource(ht){return this.style.removeSource(ht),this._updateTerrain(),this._update(!0)}getSource(ht){return this.style.getSource(ht)}addImage(ht,it,{pixelRatio:ct=1,sdf:pt=!1,stretchX:vt,stretchY:Rt,content:kt}={}){if(this._lazyInitEmptyStyle(),it instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&it instanceof j.window.ImageBitmap){const{width:Lt,height:Zt,data:en}=j.exported.getImageData(it);this.style.addImage(ht,{data:new j.RGBAImage({width:Lt,height:Zt},en),pixelRatio:ct,stretchX:vt,stretchY:Rt,content:kt,sdf:pt,version:0})}else if(it.width===void 0||it.height===void 0)this.fire(new j.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:Lt,height:Zt}=it,en=it;this.style.addImage(ht,{data:new j.RGBAImage({width:Lt,height:Zt},new Uint8Array(en.data)),pixelRatio:ct,stretchX:vt,stretchY:Rt,content:kt,sdf:pt,version:0,userImage:en}),en.onAdd&&en.onAdd(this,ht)}}updateImage(ht,it){const ct=this.style.getImage(ht);if(!ct)return void this.fire(new j.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const pt=it instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&it instanceof j.window.ImageBitmap?j.exported.getImageData(it):it,{width:vt,height:Rt}=pt;vt!==void 0&&Rt!==void 0?vt===ct.data.width&&Rt===ct.data.height?(ct.data.replace(pt.data,!(it instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&it instanceof j.window.ImageBitmap)),this.style.updateImage(ht,ct)):this.fire(new j.ErrorEvent(new Error(`The width and height of the updated image (${vt}, ${Rt})
                must be that same as the previous version of the image
                (${ct.data.width}, ${ct.data.height})`))):this.fire(new j.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(ht){return ht?!!this.style.getImage(ht):(this.fire(new j.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(ht){this.style.removeImage(ht)}loadImage(ht,it){j.getImage(this._requestManager.transformRequest(ht,j.ResourceType.Image),(ct,pt)=>{it(ct,pt instanceof j.window.HTMLImageElement?j.exported.getImageData(pt):pt)})}listImages(){return this.style.listImages()}addLayer(ht,it){return this._lazyInitEmptyStyle(),this.style.addLayer(ht,it),this._update(!0)}moveLayer(ht,it){return this.style.moveLayer(ht,it),this._update(!0)}removeLayer(ht){return this.style.removeLayer(ht),this._update(!0)}getLayer(ht){return this.style.getLayer(ht)}setLayerZoomRange(ht,it,ct){return this.style.setLayerZoomRange(ht,it,ct),this._update(!0)}setFilter(ht,it,ct={}){return this.style.setFilter(ht,it,ct),this._update(!0)}getFilter(ht){return this.style.getFilter(ht)}setPaintProperty(ht,it,ct,pt={}){return this.style.setPaintProperty(ht,it,ct,pt),this._update(!0)}getPaintProperty(ht,it){return this.style.getPaintProperty(ht,it)}setLayoutProperty(ht,it,ct,pt={}){return this.style.setLayoutProperty(ht,it,ct,pt),this._update(!0)}getLayoutProperty(ht,it){return this.style.getLayoutProperty(ht,it)}setLight(ht,it={}){return this._lazyInitEmptyStyle(),this.style.setLight(ht,it),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(ht){return this._lazyInitEmptyStyle(),!ht&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(ht),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(ht){return this._lazyInitEmptyStyle(),this.style.setFog(ht),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(ht){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(j.LngLat.convert(ht),this.transform):0}setFeatureState(ht,it){return this.style.setFeatureState(ht,it),this._update()}removeFeatureState(ht,it){return this.style.removeFeatureState(ht,it),this._update()}getFeatureState(ht){return this.style.getFeatureState(ht)}_updateContainerDimensions(){if(!this._container)return;const ht=this._container.getBoundingClientRect().width||400,it=this._container.getBoundingClientRect().height||300;let ct,pt,vt,Rt=this._container;for(;Rt&&(!pt||!vt);){const kt=j.window.getComputedStyle(Rt).transform;kt&&kt!=="none"&&(ct=kt.match(/matrix.*\((.+)\)/)[1].split(", "),ct[0]&&ct[0]!=="0"&&ct[0]!=="1"&&(pt=ct[0]),ct[3]&&ct[3]!=="0"&&ct[3]!=="1"&&(vt=ct[3])),Rt=Rt.parentElement}this._containerWidth=pt?Math.abs(ht/pt):ht,this._containerHeight=vt?Math.abs(it/vt):it}_detectMissingCSS(){j.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&j.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const ht=this._container;ht.classList.add("mapboxgl-map"),(this._missingCSSCanary=Ut("div","mapboxgl-canary",ht)).style.visibility="hidden",this._detectMissingCSS();const it=this._canvasContainer=Ut("div","mapboxgl-canvas-container",ht);this._interactive&&it.classList.add("mapboxgl-interactive"),this._canvas=Ut("canvas","mapboxgl-canvas",it),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const ct=this._controlContainer=Ut("div","mapboxgl-control-container",ht),pt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(vt=>{pt[vt]=Ut("div",`mapboxgl-ctrl-${vt}`,ct)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(ht,it){const ct=j.exported.devicePixelRatio||1;this._canvas.width=ct*Math.ceil(ht),this._canvas.height=ct*Math.ceil(it),this._canvas.style.width=`${ht}px`,this._canvas.style.height=`${it}px`}_addMarker(ht){this._markers.push(ht)}_removeMarker(ht){const it=this._markers.indexOf(ht);it!==-1&&this._markers.splice(it,1)}_addPopup(ht){this._popups.push(ht)}_removePopup(ht){const it=this._popups.indexOf(ht);it!==-1&&this._popups.splice(it,1)}_setupPainter(){const ht=j.extend({},lt.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),it=this._canvas.getContext("webgl",ht)||this._canvas.getContext("experimental-webgl",ht);it?(j.storeAuthState(it,!0),this.painter=new Iy(it,this.transform),this.on("data",ct=>{ct.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),j.exported$1.testSupport(it)):this.fire(new j.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(ht){ht.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new j.Event("webglcontextlost",{originalEvent:ht}))}_contextRestored(ht){this._setupPainter(),this.resize(),this._update(),this.fire(new j.Event("webglcontextrestored",{originalEvent:ht}))}_onMapScroll(ht){if(ht.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(ht){return this.style?(this._styleDirty=this._styleDirty||ht,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(ht){return this._update(),this._renderTaskQueue.add(ht)}_cancelRenderFrame(ht){this._renderTaskQueue.remove(ht)}_requestDomTask(ht){!this.loaded()||this.loaded()&&!this.isMoving()?ht():this._domRenderTaskQueue.add(ht)}_render(ht){let it;const ct=this.painter.context.extTimerQuery,pt=j.exported.now();if(this.listens("gpu-timing-frame")&&(it=ct.createQueryEXT(),ct.beginQueryEXT(ct.TIME_ELAPSED_EXT,it)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],j.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],j.window.performance.now())),this._renderTaskQueue.run(ht),this._domRenderTaskQueue.run(ht),this._removed)return;this._updateProjectionTransition();let vt=!1;const Rt=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const Zt=this.transform.zoom,en=this.transform.pitch,fn=j.exported.now();this.style.zoomHistory.update(Zt,fn);const Bn=new j.EvaluationParameters(Zt,{now:fn,fadeDuration:Rt,pitch:en,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),kn=Bn.crossFadingFactor();kn===1&&kn===this._crossFadingFactor||(vt=!0,this._crossFadingFactor=kn),this.style.update(Bn)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let kt=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),kt=this._updateAverageElevation(pt),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):kt=this._updateAverageElevation(pt),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,Rt,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:Rt,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new j.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new j.Event("load"))),this.style&&(this.style.hasTransitions()||vt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),it){const Zt=j.exported.now()-pt;ct.endQueryEXT(ct.TIME_ELAPSED_EXT,it),setTimeout(()=>{const en=ct.getQueryObjectEXT(it,ct.QUERY_RESULT_EXT)/1e6;ct.deleteQueryEXT(it),this.fire(new j.Event("gpu-timing-frame",{cpuTime:Zt,gpuTime:en})),j.window.performance.mark("frame-gpu",{startTime:pt,detail:{gpuTime:en}})},50)}if(this.listens("gpu-timing-layer")){const Zt=this.painter.collectGpuTimers();setTimeout(()=>{const en=this.painter.queryGpuTimers(Zt);this.fire(new j.Event("gpu-timing-layer",{layerTimes:en}))},50)}if(this.listens("gpu-timing-deferred-render")){const Zt=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const en=this.painter.queryGpuTimeDeferredRender(Zt);this.fire(new j.Event("gpu-timing-deferred-render",{gpuTime:en}))},50)}const Lt=this._sourcesDirty||this._styleDirty||this._placementDirty||kt;if(Lt||this._repaint)this.triggerRepaint();else{const Zt=!this.isMoving()&&this.loaded();if(Zt&&(kt=this._updateAverageElevation(pt,!0)),kt)this.triggerRepaint();else if(this._triggerFrame(!1),Zt&&(this.fire(new j.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const en=this._calculateSpeedIndex();this.fire(new j.Event("speedindexcompleted",{speedIndex:en})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||Lt||(this._fullyLoaded=!0,j.LivePerformanceUtils.mark(j.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&j.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.painter.transform.projection,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(ht){for(const it of this._markers)ht&&!this.getRenderWorldCopies()&&(it._lngLat=it._lngLat.wrap()),it._update();for(const it of this._popups)!ht||this.getRenderWorldCopies()||it._trackPointer||(it._lngLat=it._lngLat.wrap()),it._update()}_updateAverageElevation(ht,it=!1){const ct=pt=>(this.transform.averageElevation=pt,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&ct(0);if((it||ht-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(ht)){const pt=this.transform.averageElevation;let vt=this.transform.sampleAverageElevation(),Rt=!1;this.transform.elevation&&(Rt=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(vt)?vt=0:this._averageElevationLastSampledAt=ht;const kt=Math.abs(pt-vt);if(kt>1){if(this._isInitialLoad||Rt)return this._averageElevation.jumpTo(vt),ct(vt);this._averageElevation.easeTo(vt,ht,300)}else if(kt>1e-4)return this._averageElevation.jumpTo(vt),ct(vt)}return!!this._averageElevation.isEasing(ht)&&ct(this._averageElevation.getValue(ht))}_authenticate(){j.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,ht=>{if(ht&&(ht.message===j.AUTH_ERR_MSG||ht.status===401)){const it=this.painter.context.gl;j.storeAuthState(it,!1),this._logoControl instanceof oy&&this._logoControl._updateLogo(),it&&it.clear(it.DEPTH_BUFFER_BIT|it.COLOR_BUFFER_BIT|it.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new j.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),j.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const ht=this.painter.canvasCopy(),it=this.painter.getCanvasCopiesAndTimestamps();it.timeStamps.push(performance.now());const ct=this.painter.context.gl,pt=ct.createFramebuffer();function vt(Rt){ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_2D,Rt,0);const kt=new Uint8Array(ct.drawingBufferWidth*ct.drawingBufferHeight*4);return ct.readPixels(0,0,ct.drawingBufferWidth,ct.drawingBufferHeight,ct.RGBA,ct.UNSIGNED_BYTE,kt),kt}return ct.bindFramebuffer(ct.FRAMEBUFFER,pt),this._canvasPixelComparison(vt(ht),it.canvasCopies.map(vt),it.timeStamps)}_canvasPixelComparison(ht,it,ct){let pt=ct[1]-ct[0];const vt=ht.length/4;for(let Rt=0;Rt<it.length;Rt++){const kt=it[Rt];let Lt=0;for(let Zt=0;Zt<kt.length;Zt+=4)kt[Zt]===ht[Zt]&&kt[Zt+1]===ht[Zt+1]&&kt[Zt+2]===ht[Zt+2]&&kt[Zt+3]===ht[Zt+3]&&(Lt+=1);pt+=(ct[Rt+2]-ct[Rt+1])*(1-Lt/vt)}return pt}remove(){this._hash&&this._hash.remove();for(const it of this._controls)it.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),j.window!==void 0&&(j.window.removeEventListener("resize",this._onWindowResize,!1),j.window.removeEventListener("orientationchange",this._onWindowResize,!1),j.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),j.window.removeEventListener("online",this._onWindowOnline,!1),j.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const ht=this.painter.context.gl.getExtension("WEBGL_lose_context");ht&&ht.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),sy(this._canvasContainer),sy(this._controlContainer),sy(this._missingCSSCanary),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),j.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new j.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(ht){this._renderNextFrame=this._renderNextFrame||ht,this.style&&!this._frame&&(this._frame=j.exported.frame(it=>{const ct=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,ct&&this._render(it)}))}_preloadTiles(ht){const it=this.style?Object.values(this.style._sourceCaches):[];return j.asyncAll(it,(ct,pt)=>ct._preloadTiles(ht,pt),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(ht){this._trackResize&&this.resize({originalEvent:ht})._update()}_onVisibilityChange(){j.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(ht){this._showTileBoundaries!==ht&&(this._showTileBoundaries=ht,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(ht){this._showTerrainWireframe!==ht&&(this._showTerrainWireframe=ht,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(ht){this._speedIndexTiming!==ht&&(this._speedIndexTiming=ht,this._update())}get showPadding(){return!!this._showPadding}set showPadding(ht){this._showPadding!==ht&&(this._showPadding=ht,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(ht){this._showCollisionBoxes!==ht&&(this._showCollisionBoxes=ht,ht?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(ht){this._showOverdrawInspector!==ht&&(this._showOverdrawInspector=ht,this._update())}get repaint(){return!!this._repaint}set repaint(ht){this._repaint!==ht&&(this._repaint=ht,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(ht){this._vertices=ht,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(ht){this._showTileAABBs!==ht&&(this._showTileAABBs=ht,ht&&this._update())}_setCacheLimits(ht,it){j.setCacheLimits(ht,it)}get version(){return j.version}},NavigationControl:class{constructor(ht){this.options=j.extend({},Y_,ht),this._container=Ut("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",it=>it.preventDefault()),this.options.showZoom&&(j.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",it=>{this._map&&this._map.zoomIn({},{originalEvent:it})}),Ut("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",it=>{this._map&&this._map.zoomOut({},{originalEvent:it})}),Ut("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(j.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",it=>{const ct=this._map;ct&&(this.options.visualizePitch?ct.resetNorthPitch({},{originalEvent:it}):ct.resetNorth({},{originalEvent:it}))}),this._compassIcon=Ut("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const ht=this._map;if(!ht)return;const it=ht.getZoom(),ct=it===ht.getMaxZoom(),pt=it===ht.getMinZoom();this._zoomInButton.disabled=ct,this._zoomOutButton.disabled=pt,this._zoomInButton.setAttribute("aria-disabled",ct.toString()),this._zoomOutButton.setAttribute("aria-disabled",pt.toString())}_rotateCompassArrow(){const ht=this._map;if(!ht)return;const it=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(ht.transform.pitch*(Math.PI/180)),.5)}) rotateX(${ht.transform.pitch}deg) rotateZ(${ht.transform.angle*(180/Math.PI)}deg)`:`rotate(${ht.transform.angle*(180/Math.PI)}deg)`;ht._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=it)})}onAdd(ht){return this._map=ht,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),ht.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&ht.on("pitch",this._rotateCompassArrow),ht.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ZU(ht,this._compass,this.options.visualizePitch)),this._container}onRemove(){const ht=this._map;ht&&(this._container.remove(),this.options.showZoom&&ht.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&ht.off("pitch",this._rotateCompassArrow),ht.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(ht,it){const ct=Ut("button",ht,this._container);return ct.type="button",ct.addEventListener("click",it),ct}_setButtonTitle(ht,it){if(!this._map)return;const ct=this._map._getUIString(`NavigationControl.${it}`);ht.setAttribute("aria-label",ct),ht.firstElementChild&&ht.firstElementChild.setAttribute("title",ct)}},GeolocateControl:class extends j.Evented{constructor(ht){super(),this.options=j.extend({geolocation:j.window.navigator.geolocation},zU,ht),j.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=L_(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(ht){return this._map=ht,this._container=Ut("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(ht){const it=(ct=!!this.options.geolocation)=>{this._supportsGeolocation=ct,ht(ct)};this._supportsGeolocation!==void 0?ht(this._supportsGeolocation):j.window.navigator.permissions!==void 0?j.window.navigator.permissions.query({name:"geolocation"}).then(ct=>it(ct.state!=="denied")).catch(()=>it()):it()}_isOutOfMapMaxBounds(ht){const it=this._map.getMaxBounds(),ct=ht.coords;return!!it&&(ct.longitude<it.getWest()||ct.longitude>it.getEast()||ct.latitude<it.getSouth()||ct.latitude>it.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(ht){if(this._map){if(this._isOutOfMapMaxBounds(ht))return this._setErrorState(),this.fire(new j.Event("outofmaxbounds",ht)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=ht,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ht),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(ht),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new j.Event("geolocate",ht)),this._finish()}}_updateCamera(ht){const it=new j.LngLat(ht.coords.longitude,ht.coords.latitude),ct=ht.coords.accuracy,pt=this._map.getBearing(),vt=j.extend({bearing:pt},this.options.fitBoundsOptions);this._map.fitBounds(it.toBounds(ct),vt,{geolocateSource:!0})}_updateMarker(ht){if(ht){const it=new j.LngLat(ht.coords.longitude,ht.coords.latitude);this._accuracyCircleMarker.setLngLat(it).addTo(this._map),this._userLocationDotMarker.setLngLat(it).addTo(this._map),this._accuracy=ht.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const ht=this._map.transform,it=j.mercatorZfromAltitude(1,ht._center.lat)*ht.worldSize,ct=Math.ceil(2*this._accuracy*it);this._circleElement.style.width=`${ct}px`,this._circleElement.style.height=`${ct}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(ht){if(this._map){if(this.options.trackUserLocation)if(ht.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const it=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",it),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",it),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ht.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new j.Event("error",ht)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(ht){if(this._container.addEventListener("contextmenu",it=>it.preventDefault()),this._geolocateButton=Ut("button","mapboxgl-ctrl-geolocate",this._container),Ut("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",ht===!1){j.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const it=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",it),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",it)}else{const it=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",it),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",it)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Ut("div","mapboxgl-user-location"),this._dotElement.appendChild(Ut("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Ut("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Gy({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Ut("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Gy({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",it=>{it.geolocateSource||this._watchState!=="ACTIVE_LOCK"||it.originalEvent&&it.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new j.Event("trackuserlocationend")))})}_onDeviceOrientation(ht){this._userLocationDotMarker&&(ht.webkitCompassHeading?this._heading=ht.webkitCompassHeading:ht.absolute===!0&&(this._heading=-1*ht.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return j.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new j.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new j.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new j.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let ht;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(ht={maximumAge:6e5,timeout:0},this._noTimeout=!0):(ht=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,ht),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const ht=()=>{j.window.addEventListener("ondeviceorientationabsolute"in j.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};j.window.DeviceMotionEvent!==void 0&&typeof j.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(it=>{it==="granted"&&ht()}).catch(console.error):ht()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),j.window.removeEventListener("deviceorientation",this._onDeviceOrientation),j.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:j_,ScaleControl:class{constructor(ht){this.options=j.extend({},ay,ht),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=_0.bind(this)),j.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const ht=this.options.maxWidth||100,it=this._map,ct=it._containerHeight/2,pt=it._containerWidth/2-ht/2,vt=it.unproject([pt,ct]),Rt=it.unproject([pt+ht,ct]),kt=vt.distanceTo(Rt);if(this.options.unit==="imperial"){const Lt=3.2808*kt;Lt>5280?this._setScale(ht,Lt/5280,"mile"):this._setScale(ht,Lt,"foot")}else this.options.unit==="nautical"?this._setScale(ht,kt/1852,"nautical-mile"):kt>=1e3?this._setScale(ht,kt/1e3,"kilometer"):this._setScale(ht,kt,"meter")}_setScale(ht,it,ct){const pt=Om(it),vt=pt/it;this._map._requestDomTask(()=>{this._container.style.width=ht*vt+"px",this._container.innerHTML=ct!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:ct}).format(pt):`${pt}&nbsp;nm`})}onAdd(ht){return this._map=ht,this._language=ht.getLanguage(),this._container=Ut("div","mapboxgl-ctrl mapboxgl-ctrl-scale",ht.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(ht){this._language=ht,this._update()}setUnit(ht){this.options.unit=ht,this._update()}},FullscreenControl:class{constructor(ht){this._fullscreen=!1,ht&&ht.container&&(ht.container instanceof j.window.HTMLElement?this._container=ht.container:j.warnOnce("Full screen control 'container' must be a DOM element.")),j.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in j.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in j.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(ht){return this._map=ht,this._container||(this._container=this._map.getContainer()),this._controlContainer=Ut("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",j.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,j.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!j.window.document.fullscreenEnabled&&!j.window.document.webkitFullscreenEnabled)}_setupUI(){const ht=this._fullscreenButton=Ut("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Ut("span","mapboxgl-ctrl-icon",ht).setAttribute("aria-hidden","true"),ht.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),j.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const ht=this._getTitle();this._fullscreenButton.setAttribute("aria-label",ht),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",ht)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(j.window.document.fullscreenElement||j.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?j.window.document.exitFullscreen?j.window.document.exitFullscreen():j.window.document.webkitCancelFullScreen&&j.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends j.Evented{constructor(ht){super(),this.options=j.extend(Object.create(zu),ht),j.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(ht&&ht.className?ht.className.trim().split(/\s+/):[])}addTo(ht){return this._map&&this.remove(),this._map=ht,this.options.closeOnClick&&ht.on("preclick",this._onClose),this.options.closeOnMove&&ht.on("move",this._onClose),ht.on("remove",this.remove),this._update(),ht._addPopup(this),this._focusFirstElement(),this._trackPointer?(ht.on("mousemove",this._onMouseEvent),ht.on("mouseup",this._onMouseEvent),ht._canvasContainer.classList.add("mapboxgl-track-pointer")):ht.on("move",this._update),this.fire(new j.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const ht=this._map;return ht&&(ht.off("move",this._update),ht.off("move",this._onClose),ht.off("preclick",this._onClose),ht.off("click",this._onClose),ht.off("remove",this.remove),ht.off("mousemove",this._onMouseEvent),ht.off("mouseup",this._onMouseEvent),ht.off("drag",this._onMouseEvent),ht._canvasContainer&&ht._canvasContainer.classList.remove("mapboxgl-track-pointer"),ht._removePopup(this),this._map=void 0),this.fire(new j.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(ht){this._lngLat=j.LngLat.convert(ht),this._pos=null,this._trackPointer=!1,this._update();const it=this._map;return it&&(it.on("move",this._update),it.off("mousemove",this._onMouseEvent),it._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const ht=this._map;return ht&&(ht.off("move",this._update),ht.on("mousemove",this._onMouseEvent),ht.on("drag",this._onMouseEvent),ht._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(ht){return this.setDOMContent(j.window.document.createTextNode(ht))}setHTML(ht){const it=j.window.document.createDocumentFragment(),ct=j.window.document.createElement("body");let pt;for(ct.innerHTML=ht;pt=ct.firstChild,pt;)it.appendChild(pt);return this.setDOMContent(it)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(ht){return this.options.maxWidth=ht,this._update(),this}setDOMContent(ht){let it=this._content;if(it)for(;it.hasChildNodes();)it.firstChild&&it.removeChild(it.firstChild);else it=this._content=Ut("div","mapboxgl-popup-content",this._container||void 0);if(it.appendChild(ht),this.options.closeButton){const ct=this._closeButton=Ut("button","mapboxgl-popup-close-button",it);ct.type="button",ct.setAttribute("aria-label","Close popup"),ct.setAttribute("aria-hidden","true"),ct.innerHTML="&#215;",ct.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(ht){return this._classList.add(ht),this._updateClassList(),this}removeClassName(ht){return this._classList.delete(ht),this._updateClassList(),this}setOffset(ht){return this.options.offset=ht,this._update(),this}toggleClassName(ht){let it;return this._classList.delete(ht)?it=!1:(this._classList.add(ht),it=!0),this._updateClassList(),it}_onMouseEvent(ht){this._update(ht.point)}_getAnchor(ht){if(this.options.anchor)return this.options.anchor;const it=this._map,ct=this._container,pt=this._pos;if(!it||!ct||!pt)return"bottom";const vt=ct.offsetWidth,Rt=ct.offsetHeight,kt=pt.x<vt/2,Lt=pt.x>it.transform.width-vt/2;if(pt.y+ht<Rt)return kt?"top-left":Lt?"top-right":"top";if(pt.y>it.transform.height-Rt){if(kt)return"bottom-left";if(Lt)return"bottom-right"}return kt?"left":Lt?"right":"bottom"}_updateClassList(){const ht=this._container;if(!ht)return;const it=[...this._classList];it.push("mapboxgl-popup"),this._anchor&&it.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&it.push("mapboxgl-popup-track-pointer"),ht.className=it.join(" ")}_update(ht){const it=this._map,ct=this._content;if(!it||!this._lngLat&&!this._trackPointer||!ct)return;let pt=this._container;if(pt||(pt=this._container=Ut("div","mapboxgl-popup",it.getContainer()),this._tip=Ut("div","mapboxgl-popup-tip",pt),pt.appendChild(ct)),this.options.maxWidth&&pt.style.maxWidth!==this.options.maxWidth&&(pt.style.maxWidth=this.options.maxWidth),it.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=cp(this._lngLat,this._pos,it.transform)),!this._trackPointer||ht){const vt=this._pos=this._trackPointer&&ht?ht:it.project(this._lngLat),Rt=G_(this.options.offset),kt=this._anchor=this._getAnchor(Rt.y),Lt=G_(this.options.offset,kt),Zt=vt.add(Lt).round();it._requestDomTask(()=>{this._container&&kt&&(this._container.style.transform=`${jy[kt]} translate(${Zt.x}px,${Zt.y}px)`)})}if(!this._marker&&it._showingGlobe()){const vt=j.isLngLatBehindGlobe(it.transform,this._lngLat)?0:1;this._setOpacity(vt)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const ht=this._container.querySelector(OU);ht&&ht.focus()}_onClose(){this.remove()}_setOpacity(ht){this._container&&(this._container.style.opacity=`${ht}`),this._content&&(this._content.style.pointerEvents=ht?"auto":"none")}},Marker:Gy,Style:ip,LngLat:j.LngLat,LngLatBounds:j.LngLatBounds,Point:j.pointGeometry,MercatorCoordinate:j.MercatorCoordinate,FreeCameraOptions:p0,Evented:j.Evented,config:j.config,prewarm:function(){wo().acquire(Fo)},clearPrewarmedResources:function(){const ht=mo;ht&&(ht.isPreloaded()&&ht.numActive()===1?(ht.release(Fo),mo=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return j.config.ACCESS_TOKEN},set accessToken(ht){j.config.ACCESS_TOKEN=ht},get baseApiUrl(){return j.config.API_URL},set baseApiUrl(ht){j.config.API_URL=ht},get workerCount(){return Uo.workerCount},set workerCount(ht){Uo.workerCount=ht},get maxParallelImageRequests(){return j.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ht){j.config.MAX_PARALLEL_IMAGE_REQUESTS=ht},clearStorage(ht){j.clearTileCache(ht)},workerUrl:"",workerClass:null,setNow:j.exported.setNow,restoreNow:j.exported.restoreNow};return ly});var rt=$;return rt})})(mapboxGl);const mapboxgl=mapboxGlExports,app="_app_s5332_1",card="_card_s5332_16",styles$1={app,"map-container":"_map-container_s5332_9",card,"fade-in":"_fade-in_s5332_34","fade-out":"_fade-out_s5332_55"};function _typeof$1(i){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(i)}function toInteger(i){if(i===null||i===!0||i===!1)return NaN;var o=Number(i);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}function requiredArgs(i,o){if(o.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+o.length+" present")}function toDate(i){requiredArgs(1,arguments);var o=Object.prototype.toString.call(i);return i instanceof Date||_typeof$1(i)==="object"&&o==="[object Date]"?new Date(i.getTime()):typeof i=="number"||o==="[object Number]"?new Date(i):((typeof i=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function addDays(i,o){requiredArgs(2,arguments);var s=toDate(i),_=toInteger(o);return isNaN(_)?new Date(NaN):(_&&s.setDate(s.getDate()+_),s)}function addMonths(i,o){requiredArgs(2,arguments);var s=toDate(i),_=toInteger(o);if(isNaN(_))return new Date(NaN);if(!_)return s;var $=s.getDate(),et=new Date(s.getTime());et.setMonth(s.getMonth()+_+1,0);var rt=et.getDate();return $>=rt?et:(s.setFullYear(et.getFullYear(),et.getMonth(),$),s)}function addMilliseconds(i,o){requiredArgs(2,arguments);var s=toDate(i).getTime(),_=toInteger(o);return new Date(s+_)}var MILLISECONDS_IN_HOUR=36e5;function addHours(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMilliseconds(i,s*MILLISECONDS_IN_HOUR)}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(i,o){var s,_,$,et,rt,j,st,lt;requiredArgs(1,arguments);var gt=getDefaultOptions(),bt=toInteger((s=(_=($=(et=o==null?void 0:o.weekStartsOn)!==null&&et!==void 0?et:o==null||(rt=o.locale)===null||rt===void 0||(j=rt.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&$!==void 0?$:gt.weekStartsOn)!==null&&_!==void 0?_:(st=gt.locale)===null||st===void 0||(lt=st.options)===null||lt===void 0?void 0:lt.weekStartsOn)!==null&&s!==void 0?s:0);if(!(bt>=0&&bt<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Ut=toDate(i),Ft=Ut.getDay(),yt=(Ft<bt?7:0)+Ft-bt;return Ut.setDate(Ut.getDate()-yt),Ut.setHours(0,0,0,0),Ut}function startOfDay(i){requiredArgs(1,arguments);var o=toDate(i);return o.setHours(0,0,0,0),o}var MILLISECONDS_IN_MINUTE=6e4;function addMinutes(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMilliseconds(i,s*MILLISECONDS_IN_MINUTE)}function addQuarters(i,o){requiredArgs(2,arguments);var s=toInteger(o),_=s*3;return addMonths(i,_)}function addSeconds(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMilliseconds(i,s*1e3)}function addWeeks(i,o){requiredArgs(2,arguments);var s=toInteger(o),_=s*7;return addDays(i,_)}function addYears(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMonths(i,s*12)}function getQuarter(i){requiredArgs(1,arguments);var o=toDate(i),s=Math.floor(o.getMonth()/3)+1;return s}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(o){return o<0?Math.ceil(o):Math.floor(o)}},defaultRoundingMethod="trunc";function getRoundingMethod(i){return i?roundingMap[i]:roundingMap[defaultRoundingMethod]}function endOfDay(i){requiredArgs(1,arguments);var o=toDate(i);return o.setHours(23,59,59,999),o}function endOfMonth(i){requiredArgs(1,arguments);var o=toDate(i),s=o.getMonth();return o.setFullYear(o.getFullYear(),s+1,0),o.setHours(23,59,59,999),o}function eachDayOfInterval(i,o){var s;requiredArgs(1,arguments);var _=i||{},$=toDate(_.start),et=toDate(_.end),rt=et.getTime();if(!($.getTime()<=rt))throw new RangeError("Invalid interval");var j=[],st=$;st.setHours(0,0,0,0);var lt=Number((s=o==null?void 0:o.step)!==null&&s!==void 0?s:1);if(lt<1||isNaN(lt))throw new RangeError("`options.step` must be a number greater than 1");for(;st.getTime()<=rt;)j.push(toDate(st)),st.setDate(st.getDate()+lt),st.setHours(0,0,0,0);return j}function eachHourOfInterval(i,o){var s;requiredArgs(1,arguments);var _=i||{},$=toDate(_.start),et=toDate(_.end),rt=$.getTime(),j=et.getTime();if(!(rt<=j))throw new RangeError("Invalid interval");var st=[],lt=$;lt.setMinutes(0,0,0);var gt=Number((s=o==null?void 0:o.step)!==null&&s!==void 0?s:1);if(gt<1||isNaN(gt))throw new RangeError("`options.step` must be a number greater than 1");for(;lt.getTime()<=j;)st.push(toDate(lt)),lt=addHours(lt,gt);return st}function startOfMinute(i){requiredArgs(1,arguments);var o=toDate(i);return o.setSeconds(0,0),o}function eachMinuteOfInterval(i,o){var s;requiredArgs(1,arguments);var _=startOfMinute(toDate(i.start)),$=toDate(i.end),et=_.getTime(),rt=$.getTime();if(et>=rt)throw new RangeError("Invalid interval");var j=[],st=_,lt=Number((s=o==null?void 0:o.step)!==null&&s!==void 0?s:1);if(lt<1||isNaN(lt))throw new RangeError("`options.step` must be a number equal to or greater than 1");for(;st.getTime()<=rt;)j.push(toDate(st)),st=addMinutes(st,lt);return j}function eachMonthOfInterval(i){requiredArgs(1,arguments);var o=i||{},s=toDate(o.start),_=toDate(o.end),$=_.getTime(),et=[];if(!(s.getTime()<=$))throw new RangeError("Invalid interval");var rt=s;for(rt.setHours(0,0,0,0),rt.setDate(1);rt.getTime()<=$;)et.push(toDate(rt)),rt.setMonth(rt.getMonth()+1);return et}function startOfQuarter(i){requiredArgs(1,arguments);var o=toDate(i),s=o.getMonth(),_=s-s%3;return o.setMonth(_,1),o.setHours(0,0,0,0),o}function eachQuarterOfInterval(i){requiredArgs(1,arguments);var o=i||{},s=toDate(o.start),_=toDate(o.end),$=_.getTime();if(!(s.getTime()<=$))throw new RangeError("Invalid interval");var et=startOfQuarter(s),rt=startOfQuarter(_);$=rt.getTime();for(var j=[],st=et;st.getTime()<=$;)j.push(toDate(st)),st=addQuarters(st,1);return j}function eachWeekOfInterval(i,o){requiredArgs(1,arguments);var s=i||{},_=toDate(s.start),$=toDate(s.end),et=$.getTime();if(!(_.getTime()<=et))throw new RangeError("Invalid interval");var rt=startOfWeek(_,o),j=startOfWeek($,o);rt.setHours(15),j.setHours(15),et=j.getTime();for(var st=[],lt=rt;lt.getTime()<=et;)lt.setHours(0),st.push(toDate(lt)),lt=addWeeks(lt,1),lt.setHours(15);return st}function startOfMonth(i){requiredArgs(1,arguments);var o=toDate(i);return o.setDate(1),o.setHours(0,0,0,0),o}function endOfYear(i){requiredArgs(1,arguments);var o=toDate(i),s=o.getFullYear();return o.setFullYear(s+1,0,0),o.setHours(23,59,59,999),o}function startOfYear(i){requiredArgs(1,arguments);var o=toDate(i),s=new Date(0);return s.setFullYear(o.getFullYear(),0,1),s.setHours(0,0,0,0),s}function eachYearOfInterval(i){requiredArgs(1,arguments);var o=i||{},s=toDate(o.start),_=toDate(o.end),$=_.getTime();if(!(s.getTime()<=$))throw new RangeError("Invalid interval");var et=[],rt=s;for(rt.setHours(0,0,0,0),rt.setMonth(0,1);rt.getTime()<=$;)et.push(toDate(rt)),rt.setFullYear(rt.getFullYear()+1);return et}function endOfHour(i){requiredArgs(1,arguments);var o=toDate(i);return o.setMinutes(59,59,999),o}function endOfWeek(i,o){var s,_,$,et,rt,j,st,lt;requiredArgs(1,arguments);var gt=getDefaultOptions(),bt=toInteger((s=(_=($=(et=o==null?void 0:o.weekStartsOn)!==null&&et!==void 0?et:o==null||(rt=o.locale)===null||rt===void 0||(j=rt.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&$!==void 0?$:gt.weekStartsOn)!==null&&_!==void 0?_:(st=gt.locale)===null||st===void 0||(lt=st.options)===null||lt===void 0?void 0:lt.weekStartsOn)!==null&&s!==void 0?s:0);if(!(bt>=0&&bt<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Ut=toDate(i),Ft=Ut.getDay(),yt=(Ft<bt?-7:0)+6-(Ft-bt);return Ut.setDate(Ut.getDate()+yt),Ut.setHours(23,59,59,999),Ut}function endOfMinute(i){requiredArgs(1,arguments);var o=toDate(i);return o.setSeconds(59,999),o}function endOfQuarter(i){requiredArgs(1,arguments);var o=toDate(i),s=o.getMonth(),_=s-s%3+3;return o.setMonth(_,0),o.setHours(23,59,59,999),o}function getDay(i){requiredArgs(1,arguments);var o=toDate(i),s=o.getDay();return s}function getHours(i){requiredArgs(1,arguments);var o=toDate(i),s=o.getHours();return s}function getMinutes(i){requiredArgs(1,arguments);var o=toDate(i),s=o.getMinutes();return s}function getMonth(i){requiredArgs(1,arguments);var o=toDate(i),s=o.getMonth();return s}function getWeekYear(i,o){var s,_,$,et,rt,j,st,lt;requiredArgs(1,arguments);var gt=toDate(i),bt=gt.getFullYear(),Ut=getDefaultOptions(),Ft=toInteger((s=(_=($=(et=o==null?void 0:o.firstWeekContainsDate)!==null&&et!==void 0?et:o==null||(rt=o.locale)===null||rt===void 0||(j=rt.options)===null||j===void 0?void 0:j.firstWeekContainsDate)!==null&&$!==void 0?$:Ut.firstWeekContainsDate)!==null&&_!==void 0?_:(st=Ut.locale)===null||st===void 0||(lt=st.options)===null||lt===void 0?void 0:lt.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(Ft>=1&&Ft<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var yt=new Date(0);yt.setFullYear(bt+1,0,Ft),yt.setHours(0,0,0,0);var Qt=startOfWeek(yt,o),wt=new Date(0);wt.setFullYear(bt,0,Ft),wt.setHours(0,0,0,0);var Tt=startOfWeek(wt,o);return gt.getTime()>=Qt.getTime()?bt+1:gt.getTime()>=Tt.getTime()?bt:bt-1}function startOfWeekYear(i,o){var s,_,$,et,rt,j,st,lt;requiredArgs(1,arguments);var gt=getDefaultOptions(),bt=toInteger((s=(_=($=(et=o==null?void 0:o.firstWeekContainsDate)!==null&&et!==void 0?et:o==null||(rt=o.locale)===null||rt===void 0||(j=rt.options)===null||j===void 0?void 0:j.firstWeekContainsDate)!==null&&$!==void 0?$:gt.firstWeekContainsDate)!==null&&_!==void 0?_:(st=gt.locale)===null||st===void 0||(lt=st.options)===null||lt===void 0?void 0:lt.firstWeekContainsDate)!==null&&s!==void 0?s:1),Ut=getWeekYear(i,o),Ft=new Date(0);Ft.setFullYear(Ut,0,bt),Ft.setHours(0,0,0,0);var yt=startOfWeek(Ft,o);return yt}var MILLISECONDS_IN_WEEK=6048e5;function getWeek(i,o){requiredArgs(1,arguments);var s=toDate(i),_=startOfWeek(s,o).getTime()-startOfWeekYear(s,o).getTime();return Math.round(_/MILLISECONDS_IN_WEEK)+1}function getYear(i){return requiredArgs(1,arguments),toDate(i).getFullYear()}function _setPrototypeOf$1(i,o){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},_setPrototypeOf$1(i,o)}function startOfHour(i){requiredArgs(1,arguments);var o=toDate(i);return o.setMinutes(0,0,0),o}function subDays(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addDays(i,-s)}function roundToNearestMinutes(i,o){var s;if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var _=toInteger((s=o==null?void 0:o.nearestTo)!==null&&s!==void 0?s:1);if(_<1||_>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var $=toDate(i),et=$.getSeconds(),rt=$.getMinutes()+et/60,j=getRoundingMethod(o==null?void 0:o.roundingMethod),st=j(rt/_)*_,lt=rt%_,gt=Math.round(lt/_)*_;return new Date($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),st+gt)}function subMonths(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMonths(i,-s)}function subHours(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addHours(i,-s)}function subMinutes(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMinutes(i,-s)}function subQuarters(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addQuarters(i,-s)}function subWeeks(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addWeeks(i,-s)}function subYears(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addYears(i,-s)}var ln=Object.defineProperty,un=(i,o,s)=>o in i?ln(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,Te=(i,o,s)=>(un(i,typeof o!="symbol"?o+"":o,s),s);const global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=i.length;o<s;++o)lookup[o]=i[o],revLookup[i.charCodeAt(o)]=o;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(i){inited||init();var o,s,_,$,et,rt,j=i.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");et=i[j-2]==="="?2:i[j-1]==="="?1:0,rt=new Arr(j*3/4-et),_=et>0?j-4:j;var st=0;for(o=0,s=0;o<_;o+=4,s+=3)$=revLookup[i.charCodeAt(o)]<<18|revLookup[i.charCodeAt(o+1)]<<12|revLookup[i.charCodeAt(o+2)]<<6|revLookup[i.charCodeAt(o+3)],rt[st++]=$>>16&255,rt[st++]=$>>8&255,rt[st++]=$&255;return et===2?($=revLookup[i.charCodeAt(o)]<<2|revLookup[i.charCodeAt(o+1)]>>4,rt[st++]=$&255):et===1&&($=revLookup[i.charCodeAt(o)]<<10|revLookup[i.charCodeAt(o+1)]<<4|revLookup[i.charCodeAt(o+2)]>>2,rt[st++]=$>>8&255,rt[st++]=$&255),rt}function tripletToBase64(i){return lookup[i>>18&63]+lookup[i>>12&63]+lookup[i>>6&63]+lookup[i&63]}function encodeChunk(i,o,s){for(var _,$=[],et=o;et<s;et+=3)_=(i[et]<<16)+(i[et+1]<<8)+i[et+2],$.push(tripletToBase64(_));return $.join("")}function fromByteArray(i){inited||init();for(var o,s=i.length,_=s%3,$="",et=[],rt=16383,j=0,st=s-_;j<st;j+=rt)et.push(encodeChunk(i,j,j+rt>st?st:j+rt));return _===1?(o=i[s-1],$+=lookup[o>>2],$+=lookup[o<<4&63],$+="=="):_===2&&(o=(i[s-2]<<8)+i[s-1],$+=lookup[o>>10],$+=lookup[o>>4&63],$+=lookup[o<<2&63],$+="="),et.push($),et.join("")}function read(i,o,s,_,$){var et,rt,j=$*8-_-1,st=(1<<j)-1,lt=st>>1,gt=-7,bt=s?$-1:0,Ut=s?-1:1,Ft=i[o+bt];for(bt+=Ut,et=Ft&(1<<-gt)-1,Ft>>=-gt,gt+=j;gt>0;et=et*256+i[o+bt],bt+=Ut,gt-=8);for(rt=et&(1<<-gt)-1,et>>=-gt,gt+=_;gt>0;rt=rt*256+i[o+bt],bt+=Ut,gt-=8);if(et===0)et=1-lt;else{if(et===st)return rt?NaN:(Ft?-1:1)*(1/0);rt=rt+Math.pow(2,_),et=et-lt}return(Ft?-1:1)*rt*Math.pow(2,et-_)}function write(i,o,s,_,$,et){var rt,j,st,lt=et*8-$-1,gt=(1<<lt)-1,bt=gt>>1,Ut=$===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ft=_?0:et-1,yt=_?1:-1,Qt=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(j=isNaN(o)?1:0,rt=gt):(rt=Math.floor(Math.log(o)/Math.LN2),o*(st=Math.pow(2,-rt))<1&&(rt--,st*=2),rt+bt>=1?o+=Ut/st:o+=Ut*Math.pow(2,1-bt),o*st>=2&&(rt++,st/=2),rt+bt>=gt?(j=0,rt=gt):rt+bt>=1?(j=(o*st-1)*Math.pow(2,$),rt=rt+bt):(j=o*Math.pow(2,bt-1)*Math.pow(2,$),rt=0));$>=8;i[s+Ft]=j&255,Ft+=yt,j/=256,$-=8);for(rt=rt<<$|j,lt+=$;lt>0;i[s+Ft]=rt&255,Ft+=yt,rt/=256,lt-=8);i[s+Ft-yt]|=Qt*128}var toString={}.toString,isArray$1=Array.isArray||function(i){return toString.call(i)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT!==void 0?global$1.TYPED_ARRAY_SUPPORT:!0;kMaxLength();function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(i,o){if(kMaxLength()<o)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(o),i.__proto__=Buffer.prototype):(i===null&&(i=new Buffer(o)),i.length=o),i}function Buffer(i,o,s){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(i,o,s);if(typeof i=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,i)}return from$2(this,i,o,s)}Buffer.poolSize=8192;Buffer._augment=function(i){return i.__proto__=Buffer.prototype,i};function from$2(i,o,s,_){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?fromArrayBuffer(i,o,s,_):typeof o=="string"?fromString(i,o,s):fromObject$1(i,o)}Buffer.from=function(i,o,s){return from$2(null,i,o,s)};Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array);function assertSize(i){if(typeof i!="number")throw new TypeError('"size" argument must be a number');if(i<0)throw new RangeError('"size" argument must not be negative')}function alloc$1(i,o,s,_){return assertSize(o),o<=0?createBuffer(i,o):s!==void 0?typeof _=="string"?createBuffer(i,o).fill(s,_):createBuffer(i,o).fill(s):createBuffer(i,o)}Buffer.alloc=function(i,o,s){return alloc$1(null,i,o,s)};function allocUnsafe(i,o){if(assertSize(o),i=createBuffer(i,o<0?0:checked(o)|0),!Buffer.TYPED_ARRAY_SUPPORT)for(var s=0;s<o;++s)i[s]=0;return i}Buffer.allocUnsafe=function(i){return allocUnsafe(null,i)};Buffer.allocUnsafeSlow=function(i){return allocUnsafe(null,i)};function fromString(i,o,s){if((typeof s!="string"||s==="")&&(s="utf8"),!Buffer.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var _=byteLength(o,s)|0;i=createBuffer(i,_);var $=i.write(o,s);return $!==_&&(i=i.slice(0,$)),i}function fromArrayLike(i,o){var s=o.length<0?0:checked(o.length)|0;i=createBuffer(i,s);for(var _=0;_<s;_+=1)i[_]=o[_]&255;return i}function fromArrayBuffer(i,o,s,_){if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+(_||0))throw new RangeError("'length' is out of bounds");return s===void 0&&_===void 0?o=new Uint8Array(o):_===void 0?o=new Uint8Array(o,s):o=new Uint8Array(o,s,_),Buffer.TYPED_ARRAY_SUPPORT?(i=o,i.__proto__=Buffer.prototype):i=fromArrayLike(i,o),i}function fromObject$1(i,o){if(internalIsBuffer(o)){var s=checked(o.length)|0;return i=createBuffer(i,s),i.length===0||o.copy(i,0,0,s),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||isnan(o.length)?createBuffer(i,0):fromArrayLike(i,o);if(o.type==="Buffer"&&isArray$1(o.data))return fromArrayLike(i,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(i){if(i>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return i|0}Buffer.isBuffer=isBuffer;function internalIsBuffer(i){return!!(i!=null&&i._isBuffer)}Buffer.compare=function(i,o){if(!internalIsBuffer(i)||!internalIsBuffer(o))throw new TypeError("Arguments must be Buffers");if(i===o)return 0;for(var s=i.length,_=o.length,$=0,et=Math.min(s,_);$<et;++$)if(i[$]!==o[$]){s=i[$],_=o[$];break}return s<_?-1:_<s?1:0};Buffer.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Buffer.concat=function(i,o){if(!isArray$1(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return Buffer.alloc(0);var s;if(o===void 0)for(o=0,s=0;s<i.length;++s)o+=i[s].length;var _=Buffer.allocUnsafe(o),$=0;for(s=0;s<i.length;++s){var et=i[s];if(!internalIsBuffer(et))throw new TypeError('"list" argument must be an Array of Buffers');et.copy(_,$),$+=et.length}return _};function byteLength(i,o){if(internalIsBuffer(i))return i.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(i)||i instanceof ArrayBuffer))return i.byteLength;typeof i!="string"&&(i=""+i);var s=i.length;if(s===0)return 0;for(var _=!1;;)switch(o){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":case void 0:return utf8ToBytes(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return base64ToBytes(i).length;default:if(_)return utf8ToBytes(i).length;o=(""+o).toLowerCase(),_=!0}}Buffer.byteLength=byteLength;function slowToString(i,o,s){var _=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,o>>>=0,s<=o))return"";for(i||(i="utf8");;)switch(i){case"hex":return hexSlice(this,o,s);case"utf8":case"utf-8":return utf8Slice(this,o,s);case"ascii":return asciiSlice(this,o,s);case"latin1":case"binary":return latin1Slice(this,o,s);case"base64":return base64Slice(this,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,o,s);default:if(_)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),_=!0}}Buffer.prototype._isBuffer=!0;function swap$1(i,o,s){var _=i[o];i[o]=i[s],i[s]=_}Buffer.prototype.swap16=function(){var i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<i;o+=2)swap$1(this,o,o+1);return this};Buffer.prototype.swap32=function(){var i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<i;o+=4)swap$1(this,o,o+3),swap$1(this,o+1,o+2);return this};Buffer.prototype.swap64=function(){var i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<i;o+=8)swap$1(this,o,o+7),swap$1(this,o+1,o+6),swap$1(this,o+2,o+5),swap$1(this,o+3,o+4);return this};Buffer.prototype.toString=function(){var i=this.length|0;return i===0?"":arguments.length===0?utf8Slice(this,0,i):slowToString.apply(this,arguments)};Buffer.prototype.equals=function(i){if(!internalIsBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:Buffer.compare(this,i)===0};Buffer.prototype.inspect=function(){var i="",o=INSPECT_MAX_BYTES;return this.length>0&&(i=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(i+=" ... ")),"<Buffer "+i+">"};Buffer.prototype.compare=function(i,o,s,_,$){if(!internalIsBuffer(i))throw new TypeError("Argument must be a Buffer");if(o===void 0&&(o=0),s===void 0&&(s=i?i.length:0),_===void 0&&(_=0),$===void 0&&($=this.length),o<0||s>i.length||_<0||$>this.length)throw new RangeError("out of range index");if(_>=$&&o>=s)return 0;if(_>=$)return-1;if(o>=s)return 1;if(o>>>=0,s>>>=0,_>>>=0,$>>>=0,this===i)return 0;for(var et=$-_,rt=s-o,j=Math.min(et,rt),st=this.slice(_,$),lt=i.slice(o,s),gt=0;gt<j;++gt)if(st[gt]!==lt[gt]){et=st[gt],rt=lt[gt];break}return et<rt?-1:rt<et?1:0};function bidirectionalIndexOf(i,o,s,_,$){if(i.length===0)return-1;if(typeof s=="string"?(_=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,isNaN(s)&&(s=$?0:i.length-1),s<0&&(s=i.length+s),s>=i.length){if($)return-1;s=i.length-1}else if(s<0)if($)s=0;else return-1;if(typeof o=="string"&&(o=Buffer.from(o,_)),internalIsBuffer(o))return o.length===0?-1:arrayIndexOf(i,o,s,_,$);if(typeof o=="number")return o=o&255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(i,o,s):Uint8Array.prototype.lastIndexOf.call(i,o,s):arrayIndexOf(i,[o],s,_,$);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(i,o,s,_,$){var et=1,rt=i.length,j=o.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(i.length<2||o.length<2)return-1;et=2,rt/=2,j/=2,s/=2}function st(Ft,yt){return et===1?Ft[yt]:Ft.readUInt16BE(yt*et)}var lt;if($){var gt=-1;for(lt=s;lt<rt;lt++)if(st(i,lt)===st(o,gt===-1?0:lt-gt)){if(gt===-1&&(gt=lt),lt-gt+1===j)return gt*et}else gt!==-1&&(lt-=lt-gt),gt=-1}else for(s+j>rt&&(s=rt-j),lt=s;lt>=0;lt--){for(var bt=!0,Ut=0;Ut<j;Ut++)if(st(i,lt+Ut)!==st(o,Ut)){bt=!1;break}if(bt)return lt}return-1}Buffer.prototype.includes=function(i,o,s){return this.indexOf(i,o,s)!==-1};Buffer.prototype.indexOf=function(i,o,s){return bidirectionalIndexOf(this,i,o,s,!0)};Buffer.prototype.lastIndexOf=function(i,o,s){return bidirectionalIndexOf(this,i,o,s,!1)};function hexWrite(i,o,s,_){s=Number(s)||0;var $=i.length-s;_?(_=Number(_),_>$&&(_=$)):_=$;var et=o.length;if(et%2!==0)throw new TypeError("Invalid hex string");_>et/2&&(_=et/2);for(var rt=0;rt<_;++rt){var j=parseInt(o.substr(rt*2,2),16);if(isNaN(j))return rt;i[s+rt]=j}return rt}function utf8Write(i,o,s,_){return blitBuffer(utf8ToBytes(o,i.length-s),i,s,_)}function asciiWrite(i,o,s,_){return blitBuffer(asciiToBytes(o),i,s,_)}function latin1Write(i,o,s,_){return asciiWrite(i,o,s,_)}function base64Write(i,o,s,_){return blitBuffer(base64ToBytes(o),i,s,_)}function ucs2Write(i,o,s,_){return blitBuffer(utf16leToBytes(o,i.length-s),i,s,_)}Buffer.prototype.write=function(i,o,s,_){if(o===void 0)_="utf8",s=this.length,o=0;else if(s===void 0&&typeof o=="string")_=o,s=this.length,o=0;else if(isFinite(o))o=o|0,isFinite(s)?(s=s|0,_===void 0&&(_="utf8")):(_=s,s=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $=this.length-o;if((s===void 0||s>$)&&(s=$),i.length>0&&(s<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");for(var et=!1;;)switch(_){case"hex":return hexWrite(this,i,o,s);case"utf8":case"utf-8":return utf8Write(this,i,o,s);case"ascii":return asciiWrite(this,i,o,s);case"latin1":case"binary":return latin1Write(this,i,o,s);case"base64":return base64Write(this,i,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,i,o,s);default:if(et)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),et=!0}};Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(i,o,s){return o===0&&s===i.length?fromByteArray(i):fromByteArray(i.slice(o,s))}function utf8Slice(i,o,s){s=Math.min(i.length,s);for(var _=[],$=o;$<s;){var et=i[$],rt=null,j=et>239?4:et>223?3:et>191?2:1;if($+j<=s){var st,lt,gt,bt;switch(j){case 1:et<128&&(rt=et);break;case 2:st=i[$+1],(st&192)===128&&(bt=(et&31)<<6|st&63,bt>127&&(rt=bt));break;case 3:st=i[$+1],lt=i[$+2],(st&192)===128&&(lt&192)===128&&(bt=(et&15)<<12|(st&63)<<6|lt&63,bt>2047&&(bt<55296||bt>57343)&&(rt=bt));break;case 4:st=i[$+1],lt=i[$+2],gt=i[$+3],(st&192)===128&&(lt&192)===128&&(gt&192)===128&&(bt=(et&15)<<18|(st&63)<<12|(lt&63)<<6|gt&63,bt>65535&&bt<1114112&&(rt=bt))}}rt===null?(rt=65533,j=1):rt>65535&&(rt-=65536,_.push(rt>>>10&1023|55296),rt=56320|rt&1023),_.push(rt),$+=j}return decodeCodePointsArray(_)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(i){var o=i.length;if(o<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,i);for(var s="",_=0;_<o;)s+=String.fromCharCode.apply(String,i.slice(_,_+=MAX_ARGUMENTS_LENGTH));return s}function asciiSlice(i,o,s){var _="";s=Math.min(i.length,s);for(var $=o;$<s;++$)_+=String.fromCharCode(i[$]&127);return _}function latin1Slice(i,o,s){var _="";s=Math.min(i.length,s);for(var $=o;$<s;++$)_+=String.fromCharCode(i[$]);return _}function hexSlice(i,o,s){var _=i.length;(!o||o<0)&&(o=0),(!s||s<0||s>_)&&(s=_);for(var $="",et=o;et<s;++et)$+=toHex(i[et]);return $}function utf16leSlice(i,o,s){for(var _=i.slice(o,s),$="",et=0;et<_.length;et+=2)$+=String.fromCharCode(_[et]+_[et+1]*256);return $}Buffer.prototype.slice=function(i,o){var s=this.length;i=~~i,o=o===void 0?s:~~o,i<0?(i+=s,i<0&&(i=0)):i>s&&(i=s),o<0?(o+=s,o<0&&(o=0)):o>s&&(o=s),o<i&&(o=i);var _;if(Buffer.TYPED_ARRAY_SUPPORT)_=this.subarray(i,o),_.__proto__=Buffer.prototype;else{var $=o-i;_=new Buffer($,void 0);for(var et=0;et<$;++et)_[et]=this[et+i]}return _};function checkOffset(i,o,s){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+o>s)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function(i,o,s){i=i|0,o=o|0,s||checkOffset(i,o,this.length);for(var _=this[i],$=1,et=0;++et<o&&($*=256);)_+=this[i+et]*$;return _};Buffer.prototype.readUIntBE=function(i,o,s){i=i|0,o=o|0,s||checkOffset(i,o,this.length);for(var _=this[i+--o],$=1;o>0&&($*=256);)_+=this[i+--o]*$;return _};Buffer.prototype.readUInt8=function(i,o){return o||checkOffset(i,1,this.length),this[i]};Buffer.prototype.readUInt16LE=function(i,o){return o||checkOffset(i,2,this.length),this[i]|this[i+1]<<8};Buffer.prototype.readUInt16BE=function(i,o){return o||checkOffset(i,2,this.length),this[i]<<8|this[i+1]};Buffer.prototype.readUInt32LE=function(i,o){return o||checkOffset(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216};Buffer.prototype.readUInt32BE=function(i,o){return o||checkOffset(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])};Buffer.prototype.readIntLE=function(i,o,s){i=i|0,o=o|0,s||checkOffset(i,o,this.length);for(var _=this[i],$=1,et=0;++et<o&&($*=256);)_+=this[i+et]*$;return $*=128,_>=$&&(_-=Math.pow(2,8*o)),_};Buffer.prototype.readIntBE=function(i,o,s){i=i|0,o=o|0,s||checkOffset(i,o,this.length);for(var _=o,$=1,et=this[i+--_];_>0&&($*=256);)et+=this[i+--_]*$;return $*=128,et>=$&&(et-=Math.pow(2,8*o)),et};Buffer.prototype.readInt8=function(i,o){return o||checkOffset(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]};Buffer.prototype.readInt16LE=function(i,o){o||checkOffset(i,2,this.length);var s=this[i]|this[i+1]<<8;return s&32768?s|4294901760:s};Buffer.prototype.readInt16BE=function(i,o){o||checkOffset(i,2,this.length);var s=this[i+1]|this[i]<<8;return s&32768?s|4294901760:s};Buffer.prototype.readInt32LE=function(i,o){return o||checkOffset(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24};Buffer.prototype.readInt32BE=function(i,o){return o||checkOffset(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]};Buffer.prototype.readFloatLE=function(i,o){return o||checkOffset(i,4,this.length),read(this,i,!0,23,4)};Buffer.prototype.readFloatBE=function(i,o){return o||checkOffset(i,4,this.length),read(this,i,!1,23,4)};Buffer.prototype.readDoubleLE=function(i,o){return o||checkOffset(i,8,this.length),read(this,i,!0,52,8)};Buffer.prototype.readDoubleBE=function(i,o){return o||checkOffset(i,8,this.length),read(this,i,!1,52,8)};function checkInt(i,o,s,_,$,et){if(!internalIsBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>$||o<et)throw new RangeError('"value" argument is out of bounds');if(s+_>i.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function(i,o,s,_){if(i=+i,o=o|0,s=s|0,!_){var $=Math.pow(2,8*s)-1;checkInt(this,i,o,s,$,0)}var et=1,rt=0;for(this[o]=i&255;++rt<s&&(et*=256);)this[o+rt]=i/et&255;return o+s};Buffer.prototype.writeUIntBE=function(i,o,s,_){if(i=+i,o=o|0,s=s|0,!_){var $=Math.pow(2,8*s)-1;checkInt(this,i,o,s,$,0)}var et=s-1,rt=1;for(this[o+et]=i&255;--et>=0&&(rt*=256);)this[o+et]=i/rt&255;return o+s};Buffer.prototype.writeUInt8=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),this[o]=i&255,o+1};function objectWriteUInt16(i,o,s,_){o<0&&(o=65535+o+1);for(var $=0,et=Math.min(i.length-s,2);$<et;++$)i[s+$]=(o&255<<8*(_?$:1-$))>>>(_?$:1-$)*8}Buffer.prototype.writeUInt16LE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i&255,this[o+1]=i>>>8):objectWriteUInt16(this,i,o,!0),o+2};Buffer.prototype.writeUInt16BE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>8,this[o+1]=i&255):objectWriteUInt16(this,i,o,!1),o+2};function objectWriteUInt32(i,o,s,_){o<0&&(o=4294967295+o+1);for(var $=0,et=Math.min(i.length-s,4);$<et;++$)i[s+$]=o>>>(_?$:3-$)*8&255}Buffer.prototype.writeUInt32LE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255):objectWriteUInt32(this,i,o,!0),o+4};Buffer.prototype.writeUInt32BE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255):objectWriteUInt32(this,i,o,!1),o+4};Buffer.prototype.writeIntLE=function(i,o,s,_){if(i=+i,o=o|0,!_){var $=Math.pow(2,8*s-1);checkInt(this,i,o,s,$-1,-$)}var et=0,rt=1,j=0;for(this[o]=i&255;++et<s&&(rt*=256);)i<0&&j===0&&this[o+et-1]!==0&&(j=1),this[o+et]=(i/rt>>0)-j&255;return o+s};Buffer.prototype.writeIntBE=function(i,o,s,_){if(i=+i,o=o|0,!_){var $=Math.pow(2,8*s-1);checkInt(this,i,o,s,$-1,-$)}var et=s-1,rt=1,j=0;for(this[o+et]=i&255;--et>=0&&(rt*=256);)i<0&&j===0&&this[o+et+1]!==0&&(j=1),this[o+et]=(i/rt>>0)-j&255;return o+s};Buffer.prototype.writeInt8=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),i<0&&(i=255+i+1),this[o]=i&255,o+1};Buffer.prototype.writeInt16LE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i&255,this[o+1]=i>>>8):objectWriteUInt16(this,i,o,!0),o+2};Buffer.prototype.writeInt16BE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>8,this[o+1]=i&255):objectWriteUInt16(this,i,o,!1),o+2};Buffer.prototype.writeInt32LE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24):objectWriteUInt32(this,i,o,!0),o+4};Buffer.prototype.writeInt32BE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255):objectWriteUInt32(this,i,o,!1),o+4};function checkIEEE754(i,o,s,_,$,et){if(s+_>i.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function writeFloat(i,o,s,_,$){return $||checkIEEE754(i,o,s,4),write(i,o,s,_,23,4),s+4}Buffer.prototype.writeFloatLE=function(i,o,s){return writeFloat(this,i,o,!0,s)};Buffer.prototype.writeFloatBE=function(i,o,s){return writeFloat(this,i,o,!1,s)};function writeDouble(i,o,s,_,$){return $||checkIEEE754(i,o,s,8),write(i,o,s,_,52,8),s+8}Buffer.prototype.writeDoubleLE=function(i,o,s){return writeDouble(this,i,o,!0,s)};Buffer.prototype.writeDoubleBE=function(i,o,s){return writeDouble(this,i,o,!1,s)};Buffer.prototype.copy=function(i,o,s,_){if(s||(s=0),!_&&_!==0&&(_=this.length),o>=i.length&&(o=i.length),o||(o=0),_>0&&_<s&&(_=s),_===s||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("sourceStart out of bounds");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),i.length-o<_-s&&(_=i.length-o+s);var $=_-s,et;if(this===i&&s<o&&o<_)for(et=$-1;et>=0;--et)i[et+o]=this[et+s];else if($<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(et=0;et<$;++et)i[et+o]=this[et+s];else Uint8Array.prototype.set.call(i,this.subarray(s,s+$),o);return $};Buffer.prototype.fill=function(i,o,s,_){if(typeof i=="string"){if(typeof o=="string"?(_=o,o=0,s=this.length):typeof s=="string"&&(_=s,s=this.length),i.length===1){var $=i.charCodeAt(0);$<256&&(i=$)}if(_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!Buffer.isEncoding(_))throw new TypeError("Unknown encoding: "+_)}else typeof i=="number"&&(i=i&255);if(o<0||this.length<o||this.length<s)throw new RangeError("Out of range index");if(s<=o)return this;o=o>>>0,s=s===void 0?this.length:s>>>0,i||(i=0);var et;if(typeof i=="number")for(et=o;et<s;++et)this[et]=i;else{var rt=internalIsBuffer(i)?i:utf8ToBytes(new Buffer(i,_).toString()),j=rt.length;for(et=0;et<s-o;++et)this[et+o]=rt[et%j]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(i){if(i=stringtrim(i).replace(INVALID_BASE64_RE,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function stringtrim(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function toHex(i){return i<16?"0"+i.toString(16):i.toString(16)}function utf8ToBytes(i,o){o=o||1/0;for(var s,_=i.length,$=null,et=[],rt=0;rt<_;++rt){if(s=i.charCodeAt(rt),s>55295&&s<57344){if(!$){if(s>56319){(o-=3)>-1&&et.push(239,191,189);continue}else if(rt+1===_){(o-=3)>-1&&et.push(239,191,189);continue}$=s;continue}if(s<56320){(o-=3)>-1&&et.push(239,191,189),$=s;continue}s=($-55296<<10|s-56320)+65536}else $&&(o-=3)>-1&&et.push(239,191,189);if($=null,s<128){if((o-=1)<0)break;et.push(s)}else if(s<2048){if((o-=2)<0)break;et.push(s>>6|192,s&63|128)}else if(s<65536){if((o-=3)<0)break;et.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((o-=4)<0)break;et.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return et}function asciiToBytes(i){for(var o=[],s=0;s<i.length;++s)o.push(i.charCodeAt(s)&255);return o}function utf16leToBytes(i,o){for(var s,_,$,et=[],rt=0;rt<i.length&&!((o-=2)<0);++rt)s=i.charCodeAt(rt),_=s>>8,$=s%256,et.push($),et.push(_);return et}function base64ToBytes(i){return toByteArray(base64clean(i))}function blitBuffer(i,o,s,_){for(var $=0;$<_&&!($+s>=o.length||$>=i.length);++$)o[$+s]=i[$];return $}function isnan(i){return i!==i}function isBuffer(i){return i!=null&&(!!i._isBuffer||isFastBuffer(i)||isSlowBuffer(i))}function isFastBuffer(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function isSlowBuffer(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&isFastBuffer(i.slice(0,0))}function defined$1(i,o){if(i!==void 0)return i;throw new Error(o||"Value is undefined")}const DEFAULT_FORMANT_API_URL="https://api.formant.io";function whichFormantApiUrl(i,o){if(o.get("formant_stage"))return"https://api-stage.formant.io";if(o.get("formant_dev"))return"https://api-dev.formant.io";if(o.get("formant_local"))return"https://api.formant.local";if(o.get("formant_url")){const s=o.get("formant_url");if(s!==null)try{return new URL(s).origin}catch{console.warn(`Ignoring malformed \`formant_url\` url parameter: ${s}`)}}return typeof i<"u"&&"FORMANT_API_URL"in i&&typeof i.FORMANT_API_URL=="string"?i.FORMANT_API_URL:DEFAULT_FORMANT_API_URL}const FORMANT_API_URL=whichFormantApiUrl(window,new URLSearchParams(typeof window<"u"?window.location.search:void 0)),millisecond$1=1,second$1=1e3,minute$1=60*second$1,hour$1=60*minute$1,day$1=24*hour$1,week$1=7*day$1,month$1=30*day$1,year$1=365*day$1,duration$2={millisecond:millisecond$1,second:second$1,minute:minute$1,hour:hour$1,day:day$1,week:week$1,month:month$1,year:year$1};function filterDataByType(i,o){return i.filter(s=>o.includes(s.type))}function filterDataByTime(i,o,s){const _=o.getTime(),$=s.getTime();return i.map(et=>({...et,points:et.points.filter(([rt])=>rt>=_&&rt<$)})).filter(({points:et})=>et.length>0)}class StoreCache{constructor({capacity:o,timeout:s}={}){Te(this,"entries",new Map),Te(this,"metadata",new Map),Te(this,"capacity"),Te(this,"timeout"),this.capacity=o||1e4,this.timeout=s||duration$2.minute}get(o,s){const _=this.keyToCacheKey(o),$=this.entries.get(_),et=this.metadata.get(_);return($===void 0||et&&(et==null?void 0:et.expiration.getTime())<Date.now())&&!(et!=null&&et.generating)&&s&&this.generate(o,s()),$===void 0&&et&&et.lastValue!==void 0?et.lastValue:$}set(o,s){const _=this.keyToCacheKey(o);this.metadata.set(_,{generating:!1,expiration:new Date(Date.now()+this.timeout),lastValue:s}),this.entries.set(_,s),this.metadata.size>this.capacity&&this.deleteOldestEntry()}clear(){this.entries.clear(),[...this.metadata.values()].forEach(o=>o.generating=!1)}clearKey(o){this.metadata.delete(o),this.entries.delete(o)}keyToCacheKey(o){return JSON.stringify(o)}deleteOldestEntry(){if(this.metadata.size<1)return;const[o]=[...this.metadata.entries()].reduce(([s,_],[$,et])=>et.expiration.getTime()<_.expiration.getTime()?[$,et]:[s,_]);this.clearKey(o)}generate(o,s){const _=this.keyToCacheKey(o),$=this.metadata.get(_)||{};this.metadata.set(_,{...$,generating:!0,expiration:new Date(Date.now()+this.timeout)}),setTimeout(()=>{s.then(et=>{const rt=this.metadata.get(_);!(rt!=null&&rt.generating)||this.set(o,et)})},0)}}class QueryStore{constructor(){Te(this,"queryStoreCache",new StoreCache({capacity:1e4,timeout:20*duration$2.second})),Te(this,"liveQueryStoreCache",new StoreCache({capacity:1e4,timeout:200*duration$2.millisecond}))}moduleQuery(o,s,_,$,et,rt=!1){const j={...o,names:[...s],types:[..._]},st=this.query(j,$,et,rt);return st===void 0||st==="too much data"?st:filterDataByType(st,_)}query(o,s,_,$=!1){const et={...o,start:startOfMinute(s).toISOString(),end:$?_.toISOString():addMinutes(roundToNearestMinutes(_),1).toISOString(),latestOnly:$},rt=_>addSeconds(new Date,-20);let j;return rt?j=this.liveQueryCache(et):j=this.queryCache(et),!j||j==="too much data"||$?j:filterDataByTime(j,s,_)}queryCache(o){return this.queryStoreCache.get(o,async()=>{try{return await Fleet.queryTelemetry(o)}catch(s){throw s}})}liveQueryCache(o){return this.liveQueryStoreCache.get(o,async()=>{try{return await Fleet.queryTelemetry(o)}catch(s){throw s}})}}const queryStore=new QueryStore,Mt=class{static sendAppMessage(i){window.parent.postMessage(i,"*")}static getCurrentModuleContext(){let i=new URLSearchParams("");return typeof window<"u"&&(i=new URLSearchParams(window.location.search)),i.get("module")}static async getCurrentModuleConfiguration(){let i=new URLSearchParams("");typeof window<"u"&&(i=new URLSearchParams(window.location.search));const o=i.get("configuration");return o===null||o.trim()===""?void 0:(await(await fetch(`${FORMANT_API_URL}/v1/admin/module-configurations/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).configuration}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(i){this.sendAppMessage({type:"go_to_time",time:i.getTime()})}static goToDevice(i){this.sendAppMessage({type:"go_to_device",deviceId:i})}static showMessage(i){this.sendAppMessage({type:"show_message",message:i})}static requestModuleData(){const i=this.getCurrentModuleContext();if(!i)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:i})}static setModuleDateTimeRange(i,o){const s=this.getCurrentModuleContext();if(!s)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:s,before:i,after:o||0})}static refreshAuthToken(){const i=this.getCurrentModuleContext();if(!i)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:i})}static sendChannelData(i,o){const s=this.getCurrentModuleContext();if(!s)throw new Error("No module context");this.sendAppMessage({type:"send_channel_data",source:s,channel:i,data:o})}static setupModuleMenus(i){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:o,menus:i})}static addMenuListener(i){window.addEventListener("message",o=>{const s=o.data;s.type==="module_menu_item_clicked"&&i(s.menu)})}static addAccessTokenRefreshListener(i){window.addEventListener("message",o=>{const s=o.data;s.type==="auth_token"&&i(s.token)})}static addModuleDataListener(i){const o=this.getCurrentModuleContext();o&&this.sendAppMessage({type:"request_module_data",module:o}),window.addEventListener("message",s=>{const _=s.data;_.type==="module_data"&&i({streams:_.streams,time:_.time,queryRange:_.queryRange})})}static addOverviewDeviceListener(i){this.sendAppMessage({type:"request_devices"});const o=s=>{const _=s.data;_.type==="overview_devices"&&i(_.data)};return window.addEventListener("message",o),()=>window.removeEventListener("message",o)}static addStreamListener(i,o,s){const _=$=>{const et=$.data;if(et.type==="module_data"){const{start:rt,end:j}=et.queryRange;s(queryStore.moduleQuery({},i,o,new Date(rt),new Date(j),!1))}};return window.addEventListener("message",_),()=>window.removeEventListener("message",_)}static addModuleConfigurationListener(i){window.addEventListener("message",o=>{const s=o.data;s.type==="module_configuration"&&i(s)})}static addChannelDataListener(i,o){window.addEventListener("message",s=>{const _=s.data;_.type==="channel_data"&&_.channel===i&&o({source:_.source,data:_.data})})}static async prompt(i,o){return new Promise(s=>{const _=Math.random().toString();this.sendAppMessage({type:"prompt",promptId:_,schema:i,okText:o==null?void 0:o.okText,cancelText:o==null?void 0:o.cancelText});const $=et=>{const rt=et.data;rt.type==="prompt_response"&&rt.promptId===_&&s(rt.data),window.removeEventListener("message",$)};window.addEventListener("message",$)})}static async getDate(i,o,s){return new Promise(_=>{this.sendAppMessage({type:"request_date",minTime:o,maxTime:s,time:i});const $=et=>{const rt=et.data;rt.type==="date_response"&&(window.removeEventListener("message",$),_(rt.data))};window.addEventListener("message",$)})}static async disableAnalyticsBottomBar(){this.sendAppMessage({type:"hide_analytics_date_picker"})}static get isOnline(){return Mt._isOnline}static listenForConnectionEvents(){window.addEventListener("message",this._handleOnlineEvent)}static checkConnection(i=1e3){return new Promise((o,s)=>{const _=setTimeout(()=>s(new Error("deadline expired: took too long")),i),$=et=>{window.removeEventListener("message",$),clearTimeout(_);const{data:rt}=et;rt.type==="formant_online"&&(this._isOnline=rt.online,o(rt.online))};window.addEventListener("message",$),this.sendAppMessage({type:"formant_online"})})}static waitForConnection(i=5e3){let o=!1;const s=new Promise((et,rt)=>{setTimeout(()=>{o=!0,rt(new Error("deadline expired: took too long"))},i)}),_=et=>new Promise(rt=>setTimeout(rt,et)),$=async()=>{for(await _(50);!o&&!(this.isOnline||await this.checkConnection);)await _(500)};return Promise.race([s,$()])}};let App$1=Mt;Te(App$1,"_isOnline",null),Te(App$1,"_handleOnlineEvent",i=>{const{data:o}=i;o.type==="formant_online"&&(Mt._isOnline=o.online)});class AuthenticationStore{constructor({apiUrl:o,refreshAuthToken:s,addAccessTokenRefreshListener:_}){Te(this,"_refreshToken"),Te(this,"_isShareToken",!1),Te(this,"_currentOrganization"),Te(this,"_currentUser"),Te(this,"_defaultDeviceId"),Te(this,"_token"),Te(this,"_waitingForAuth",new Set),Te(this,"_refreshTimer"),Te(this,"_apiUrl"),Te(this,"_refreshAuthToken"),Te(this,"_addAccessTokenRefreshListener"),this._apiUrl=o,this._refreshAuthToken=s,this._addAccessTokenRefreshListener=_}get token(){return this._token}get currentUser(){return this._currentUser}get currentOrganization(){return this._currentOrganization}get defaultDeviceId(){return this._defaultDeviceId}get refreshToken(){return this._refreshToken}get isShareToken(){return this._isShareToken}async login(o,s){try{const _=await fetch(`${this._apiUrl}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:o,password:s}),headers:{"Content-Type":"application/json"}}),$=await _.json();if(_.status!==200)throw new Error($.message);return await this.loginWithToken($.authentication.accessToken,$.authentication.refreshToken),$.authentication}catch(_){return console.error("login() failed",{err:_}),this._waitingForAuth.forEach($=>$(!1)),this._waitingForAuth.clear(),Promise.reject(_)}}async loginWithToken(o,s){var _;const $=JSON.parse(atob(o.split(".")[1]));try{let et;if(this._isShareToken=$["formant:claims"]&&$["formant:claims"].type=="share",$["formant:claims"]&&(this._currentOrganization=$["formant:claims"].organizationId),$["custom:organization_id"]&&(this._currentOrganization=$["custom:organization_id"]),this._isShareToken||(et=$.sub),$["formant:claims"]&&$["formant:claims"].userId&&(et=$["formant:claims"].userId),et&&((_=this._currentUser)==null?void 0:_.id)!==et){const rt=await fetch(`${this._apiUrl}/v1/admin/users/${et}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}),j=await rt.json();if(rt.status!==200)throw new Error(j.message);this._currentUser=j}this._token=o,this._waitingForAuth.forEach(rt=>rt(!0))}catch(et){console.error("loginWithToken() failed",{err:et}),this._waitingForAuth.forEach(rt=>rt(!1))}finally{this._waitingForAuth.clear()}s&&(this._refreshToken=s,setInterval(async()=>{if(this._refreshToken){const et=await(await fetch(`${this._apiUrl}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:this._refreshToken})})).json();this._token=et.authentication.accessToken}},1e3*60*60))}isAuthenticated(){return this._token!==void 0}getCurrentUser(){return this._currentUser}async waitTilAuthenticated(){return this.token!==void 0?!0:new Promise(o=>{this._waitingForAuth.add(o)})}async listenForRefresh(){const o=()=>{this._refreshTimer=void 0,this._refreshAuthToken()};this._addAccessTokenRefreshListener(s=>{this._refreshTimer&&clearTimeout(this._refreshTimer),this._refreshTimer=setTimeout(o,36e5),this.loginWithToken(s)}),this._refreshTimer=setTimeout(o,36e5)}async forgotPassword(o){await fetch(`${this._apiUrl}/v1/admin/auth/forgot-password`,{method:"POST",body:JSON.stringify({email:o}),headers:{"Content-Type":"application/json"}})}async confirmForgotPassword(o){return(await fetch(`${this._apiUrl}/v1/admin/auth/confirm-forgot-password`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).ok}async respondToNewPasswordRequiredChallenge(o){return await(await fetch(`${this._apiUrl}/v1/admin/auth/respond-to-new-password-required-challenge`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json()}async loginWithGoogle(o){return await(await fetch(`${this._apiUrl}/v1/admin/auth/login-google`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json()}async refresh(o){const s=await(await fetch(`${this._apiUrl}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:o})})).json();await this.loginWithToken(s.authentication.accessToken,o)}}const Authentication=new AuthenticationStore({apiUrl:FORMANT_API_URL,refreshAuthToken:App$1.refreshAuthToken,addAccessTokenRefreshListener:App$1.addAccessTokenRefreshListener});var domain;function EventHandlers(){}EventHandlers.prototype=Object.create(null);function EventEmitter(){EventEmitter.init.call(this)}EventEmitter.EventEmitter=EventEmitter;EventEmitter.usingDomains=!1;EventEmitter.prototype.domain=void 0;EventEmitter.prototype._events=void 0;EventEmitter.prototype._maxListeners=void 0;EventEmitter.defaultMaxListeners=10;EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&domain.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||isNaN(i))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=i,this};function $getMaxListeners(i){return i._maxListeners===void 0?EventEmitter.defaultMaxListeners:i._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)};function emitNone(i,o,s){if(o)i.call(s);else for(var _=i.length,$=arrayClone(i,_),et=0;et<_;++et)$[et].call(s)}function emitOne(i,o,s,_){if(o)i.call(s,_);else for(var $=i.length,et=arrayClone(i,$),rt=0;rt<$;++rt)et[rt].call(s,_)}function emitTwo(i,o,s,_,$){if(o)i.call(s,_,$);else for(var et=i.length,rt=arrayClone(i,et),j=0;j<et;++j)rt[j].call(s,_,$)}function emitThree(i,o,s,_,$,et){if(o)i.call(s,_,$,et);else for(var rt=i.length,j=arrayClone(i,rt),st=0;st<rt;++st)j[st].call(s,_,$,et)}function emitMany(i,o,s,_){if(o)i.apply(s,_);else for(var $=i.length,et=arrayClone(i,$),rt=0;rt<$;++rt)et[rt].apply(s,_)}EventEmitter.prototype.emit=function(i){var o,s,_,$,et,rt,j,st=i==="error";if(rt=this._events,rt)st=st&&rt.error==null;else if(!st)return!1;if(j=this.domain,st){if(o=arguments[1],j)o||(o=new Error('Uncaught, unspecified "error" event')),o.domainEmitter=this,o.domain=j,o.domainThrown=!1,j.emit("error",o);else{if(o instanceof Error)throw o;var lt=new Error('Uncaught, unspecified "error" event. ('+o+")");throw lt.context=o,lt}return!1}if(s=rt[i],!s)return!1;var gt=typeof s=="function";switch(_=arguments.length,_){case 1:emitNone(s,gt,this);break;case 2:emitOne(s,gt,this,arguments[1]);break;case 3:emitTwo(s,gt,this,arguments[1],arguments[2]);break;case 4:emitThree(s,gt,this,arguments[1],arguments[2],arguments[3]);break;default:for($=new Array(_-1),et=1;et<_;et++)$[et-1]=arguments[et];emitMany(s,gt,this,$)}return!0};function _addListener(i,o,s,_){var $,et,rt;if(typeof s!="function")throw new TypeError('"listener" argument must be a function');if(et=i._events,et?(et.newListener&&(i.emit("newListener",o,s.listener?s.listener:s),et=i._events),rt=et[o]):(et=i._events=new EventHandlers,i._eventsCount=0),!rt)rt=et[o]=s,++i._eventsCount;else if(typeof rt=="function"?rt=et[o]=_?[s,rt]:[rt,s]:_?rt.unshift(s):rt.push(s),!rt.warned&&($=$getMaxListeners(i),$&&$>0&&rt.length>$)){rt.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+rt.length+" "+o+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=i,j.type=o,j.count=rt.length,emitWarning(j)}return i}function emitWarning(i){typeof console.warn=="function"?console.warn(i):console.log(i)}EventEmitter.prototype.addListener=function(i,o){return _addListener(this,i,o,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(i,o){return _addListener(this,i,o,!0)};function _onceWrap(i,o,s){var _=!1;function $(){i.removeListener(o,$),_||(_=!0,s.apply(i,arguments))}return $.listener=s,$}EventEmitter.prototype.once=function(i,o){if(typeof o!="function")throw new TypeError('"listener" argument must be a function');return this.on(i,_onceWrap(this,i,o)),this};EventEmitter.prototype.prependOnceListener=function(i,o){if(typeof o!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(i,_onceWrap(this,i,o)),this};EventEmitter.prototype.removeListener=function(i,o){var s,_,$,et,rt;if(typeof o!="function")throw new TypeError('"listener" argument must be a function');if(_=this._events,!_)return this;if(s=_[i],!s)return this;if(s===o||s.listener&&s.listener===o)--this._eventsCount===0?this._events=new EventHandlers:(delete _[i],_.removeListener&&this.emit("removeListener",i,s.listener||o));else if(typeof s!="function"){for($=-1,et=s.length;et-- >0;)if(s[et]===o||s[et].listener&&s[et].listener===o){rt=s[et].listener,$=et;break}if($<0)return this;if(s.length===1){if(s[0]=void 0,--this._eventsCount===0)return this._events=new EventHandlers,this;delete _[i]}else spliceOne(s,$);_.removeListener&&this.emit("removeListener",i,rt||o)}return this};EventEmitter.prototype.removeAllListeners=function(i){var o,s;if(s=this._events,!s)return this;if(!s.removeListener)return arguments.length===0?(this._events=new EventHandlers,this._eventsCount=0):s[i]&&(--this._eventsCount===0?this._events=new EventHandlers:delete s[i]),this;if(arguments.length===0){for(var _=Object.keys(s),$=0,et;$<_.length;++$)et=_[$],et!=="removeListener"&&this.removeAllListeners(et);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if(o=s[i],typeof o=="function")this.removeListener(i,o);else if(o)do this.removeListener(i,o[o.length-1]);while(o[0]);return this};EventEmitter.prototype.listeners=function(i){var o,s,_=this._events;return _?(o=_[i],o?typeof o=="function"?s=[o.listener||o]:s=unwrapListeners(o):s=[]):s=[],s};EventEmitter.listenerCount=function(i,o){return typeof i.listenerCount=="function"?i.listenerCount(o):listenerCount$1.call(i,o)};EventEmitter.prototype.listenerCount=listenerCount$1;function listenerCount$1(i){var o=this._events;if(o){var s=o[i];if(typeof s=="function")return 1;if(s)return s.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function spliceOne(i,o){for(var s=o,_=s+1,$=i.length;_<$;s+=1,_+=1)i[s]=i[_];i.pop()}function arrayClone(i,o){for(var s=new Array(o);o--;)s[o]=i[o];return s}function unwrapListeners(i){for(var o=new Array(i.length),s=0;s<o.length;++s)o[s]=i[s].listener||i[s];return o}var dist={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){(function(i,o){module.exports=o()})(window,function(){return function(i){function o(lt){for(var gt,bt,Ut=lt[0],Ft=lt[1],yt=0,Qt=[];yt<Ut.length;yt++)bt=Ut[yt],Object.prototype.hasOwnProperty.call(_,bt)&&_[bt]&&Qt.push(_[bt][0]),_[bt]=0;for(gt in Ft)Object.prototype.hasOwnProperty.call(Ft,gt)&&(i[gt]=Ft[gt]);for(st&&st(lt);Qt.length;)Qt.shift()()}var s={},_={0:0};function $(lt){if(s[lt])return s[lt].exports;var gt=s[lt]={i:lt,l:!1,exports:{}};return i[lt].call(gt.exports,gt,gt.exports,$),gt.l=!0,gt.exports}$.e=function(){return Promise.resolve()},$.m=i,$.c=s,$.d=function(lt,gt,bt){$.o(lt,gt)||Object.defineProperty(lt,gt,{enumerable:!0,get:bt})},$.r=function(lt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(lt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(lt,"__esModule",{value:!0})},$.t=function(lt,gt){if(1&gt&&(lt=$(lt)),8&gt||4&gt&&typeof lt=="object"&&lt&&lt.__esModule)return lt;var bt=Object.create(null);if($.r(bt),Object.defineProperty(bt,"default",{enumerable:!0,value:lt}),2&gt&&typeof lt!="string")for(var Ut in lt)$.d(bt,Ut,function(Ft){return lt[Ft]}.bind(null,Ut));return bt},$.n=function(lt){var gt=lt&&lt.__esModule?function(){return lt.default}:function(){return lt};return $.d(gt,"a",gt),gt},$.o=function(lt,gt){return Object.prototype.hasOwnProperty.call(lt,gt)},$.p="",$.oe=function(lt){throw console.error(lt),lt};var et=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],rt=et.push.bind(et);et.push=o,et=et.slice();for(var j=0;j<et.length;j++)o(et[j]);var st=rt;return $($.s=228)}([function(i,o,s){s.d(o,"a",function(){return Rn});function _(Ht,_n){if(_n.length<Ht)throw new TypeError(Ht+" argument"+(Ht>1?"s":"")+" required, but only "+_n.length+" present")}function $(Ht){if(Ht===null||Ht===!0||Ht===!1)return NaN;var _n=Number(Ht);return isNaN(_n)?_n:_n<0?Math.ceil(_n):Math.floor(_n)}var et={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,j=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,st=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lt(Ht){var _n,Dn={},Tn=Ht.split(et.dateTimeDelimiter);if(Tn.length>2)return Dn;if(/:/.test(Tn[0])?_n=Tn[0]:(Dn.date=Tn[0],_n=Tn[1],et.timeZoneDelimiter.test(Dn.date)&&(Dn.date=Ht.split(et.timeZoneDelimiter)[0],_n=Ht.substr(Dn.date.length,Ht.length))),_n){var Xn=et.timezone.exec(_n);Xn?(Dn.time=_n.replace(Xn[1],""),Dn.timezone=Xn[1]):Dn.time=_n}return Dn}function gt(Ht,_n){var Dn=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+_n)+"})|(\\d{2}|[+-]\\d{"+(2+_n)+"})$)"),Tn=Ht.match(Dn);if(!Tn)return{year:NaN,restDateString:""};var Xn=Tn[1]?parseInt(Tn[1]):null,or=Tn[2]?parseInt(Tn[2]):null;return{year:or===null?Xn:100*or,restDateString:Ht.slice((Tn[1]||Tn[2]).length)}}function bt(Ht,_n){if(_n===null)return new Date(NaN);var Dn=Ht.match(rt);if(!Dn)return new Date(NaN);var Tn=!!Dn[4],Xn=Ut(Dn[1]),or=Ut(Dn[2])-1,Rr=Ut(Dn[3]),ao=Ut(Dn[4]),Vo=Ut(Dn[5])-1;if(Tn)return function(Po,_o,Qo){return _o>=1&&_o<=53&&Qo>=0&&Qo<=6}(0,ao,Vo)?function(Po,_o,Qo){var zo=new Date(0);zo.setUTCFullYear(Po,0,4);var Ao=zo.getUTCDay()||7,qo=7*(_o-1)+Qo+1-Ao;return zo.setUTCDate(zo.getUTCDate()+qo),zo}(_n,ao,Vo):new Date(NaN);var bo=new Date(0);return function(Po,_o,Qo){return _o>=0&&_o<=11&&Qo>=1&&Qo<=(wt[_o]||(Tt(Po)?29:28))}(_n,or,Rr)&&function(Po,_o){return _o>=1&&_o<=(Tt(Po)?366:365)}(_n,Xn)?(bo.setUTCFullYear(_n,or,Math.max(Xn,Rr)),bo):new Date(NaN)}function Ut(Ht){return Ht?parseInt(Ht):1}function Ft(Ht){var _n=Ht.match(j);if(!_n)return NaN;var Dn=yt(_n[1]),Tn=yt(_n[2]),Xn=yt(_n[3]);return function(or,Rr,ao){return or===24?Rr===0&&ao===0:ao>=0&&ao<60&&Rr>=0&&Rr<60&&or>=0&&or<25}(Dn,Tn,Xn)?36e5*Dn+6e4*Tn+1e3*Xn:NaN}function yt(Ht){return Ht&&parseFloat(Ht.replace(",","."))||0}function Qt(Ht){if(Ht==="Z")return 0;var _n=Ht.match(st);if(!_n)return 0;var Dn=_n[1]==="+"?-1:1,Tn=parseInt(_n[2]),Xn=_n[3]&&parseInt(_n[3])||0;return function(or,Rr){return Rr>=0&&Rr<=59}(0,Xn)?Dn*(36e5*Tn+6e4*Xn):NaN}var wt=[31,null,31,30,31,30,31,31,30,31,30,31];function Tt(Ht){return Ht%400==0||Ht%4==0&&Ht%100!=0}function Jt(Ht){return _(1,arguments),Ht instanceof Date||typeof Ht=="object"&&Object.prototype.toString.call(Ht)==="[object Date]"}function At(Ht){_(1,arguments);var _n=Object.prototype.toString.call(Ht);return Ht instanceof Date||typeof Ht=="object"&&_n==="[object Date]"?new Date(Ht.getTime()):typeof Ht=="number"||_n==="[object Number]"?new Date(Ht):(typeof Ht!="string"&&_n!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Nt(Ht){const _n=function(Dn,Tn){var Xn;_(1,arguments);var or=$((Xn=Tn==null?void 0:Tn.additionalDigits)!==null&&Xn!==void 0?Xn:2);if(or!==2&&or!==1&&or!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(typeof Dn!="string"&&Object.prototype.toString.call(Dn)!=="[object String]")return new Date(NaN);var Rr,ao=lt(Dn);if(ao.date){var Vo=gt(ao.date,or);Rr=bt(Vo.restDateString,Vo.year)}if(!Rr||isNaN(Rr.getTime()))return new Date(NaN);var bo,Po=Rr.getTime(),_o=0;if(ao.time&&(_o=Ft(ao.time),isNaN(_o)))return new Date(NaN);if(!ao.timezone){var Qo=new Date(Po+_o),zo=new Date(0);return zo.setFullYear(Qo.getUTCFullYear(),Qo.getUTCMonth(),Qo.getUTCDate()),zo.setHours(Qo.getUTCHours(),Qo.getUTCMinutes(),Qo.getUTCSeconds(),Qo.getUTCMilliseconds()),zo}return bo=Qt(ao.timezone),isNaN(bo)?new Date(NaN):new Date(Po+_o+bo)}(Ht);if(!function(Dn){if(_(1,arguments),!Jt(Dn)&&typeof Dn!="number")return!1;var Tn=At(Dn);return!isNaN(Number(Tn))}(_n))throw new Error(`Invalid ISO 8601 date string (${Ht})`);return _n}const St=Math.pow(2,20),Ot=St;var nn=s(14),yn=s.n(nn),Ct=s(18),Vt=s(56),Yt=s(19),Pt=s(4),tn=s(34);function Un(Ht){return yn()(Ht,{cycles:!0})}var Kt=function(Ht,_n){var Dn={};for(var Tn in Ht)Object.prototype.hasOwnProperty.call(Ht,Tn)&&_n.indexOf(Tn)<0&&(Dn[Tn]=Ht[Tn]);if(Ht!=null&&typeof Object.getOwnPropertySymbols=="function"){var Xn=0;for(Tn=Object.getOwnPropertySymbols(Ht);Xn<Tn.length;Xn++)_n.indexOf(Tn[Xn])<0&&Object.prototype.propertyIsEnumerable.call(Ht,Tn[Xn])&&(Dn[Tn[Xn]]=Ht[Tn[Xn]])}return Dn};function $t(Ht,_n={}){const Dn=ao=>_n.redacted!==!1?Object(tn.a)(ao):ao;if(!Ht.stack)return{message:Un(Dn(Ht))};const{name:Tn,message:Xn,stack:or}=Ht,Rr=Kt(Ht,["name","message","stack"]);return{name:Tn,message:Xn!==void 0?Xn:Un(Dn(Ht)),stack:or,meta:Rr&&Object.keys(Rr).length===0?void 0:Dn(Rr)}}function hn(Ht,_n={}){const{message:Dn,stack:Tn,meta:Xn}=$t(Ht,_n);return`${Tn||Dn||""}${Xn&&Object.keys(Xn).length>0?` -- ${Un(Xn)}`:""}`}var dn=s(39),zt=s(103),It=s.n(zt),gn=function(Ht,_n,Dn,Tn){return new(Dn||(Dn=Promise))(function(Xn,or){function Rr(bo){try{Vo(Tn.next(bo))}catch(Po){or(Po)}}function ao(bo){try{Vo(Tn.throw(bo))}catch(Po){or(Po)}}function Vo(bo){var Po;bo.done?Xn(bo.value):(Po=bo.value,Po instanceof Dn?Po:new Dn(function(_o){_o(Po)})).then(Rr,ao)}Vo((Tn=Tn.apply(Ht,_n||[])).next())})},vn=function(Ht,_n){var Dn={};for(var Tn in Ht)Object.prototype.hasOwnProperty.call(Ht,Tn)&&_n.indexOf(Tn)<0&&(Dn[Tn]=Ht[Tn]);if(Ht!=null&&typeof Object.getOwnPropertySymbols=="function"){var Xn=0;for(Tn=Object.getOwnPropertySymbols(Ht);Xn<Tn.length;Xn++)_n.indexOf(Tn[Xn])<0&&Object.prototype.propertyIsEnumerable.call(Ht,Tn[Xn])&&(Dn[Tn[Xn]]=Ht[Tn[Xn]])}return Dn};class Wn extends It.a{constructor(_n,Dn){super(),this.endpoint=_n,this.metadata=Dn,this.logClient=this.getLogClient()}getLogClient(){return gn(this,void 0,void 0,function*(){const{LogClient:_n}=yield Promise.resolve().then(s.bind(null,231));return new _n(this.endpoint)})}log(_n,Dn){return gn(this,void 0,void 0,function*(){const{level:Tn,message:Xn,error:or}=_n,Rr=vn(_n,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:Tn,message:`${Xn}`.substring(0,1e3),error:or!==void 0?$t(or):void 0,meta:Object.assign(Object.assign({},Rr),this.metadata)}])}catch(ao){console.error(`Failed to log to log-api: ${hn(ao)}`)}Dn()})}}var Ln=function(Ht,_n){var Dn={};for(var Tn in Ht)Object.prototype.hasOwnProperty.call(Ht,Tn)&&_n.indexOf(Tn)<0&&(Dn[Tn]=Ht[Tn]);if(Ht!=null&&typeof Object.getOwnPropertySymbols=="function"){var Xn=0;for(Tn=Object.getOwnPropertySymbols(Ht);Xn<Tn.length;Xn++)_n.indexOf(Tn[Xn])<0&&Object.prototype.propertyIsEnumerable.call(Ht,Tn[Xn])&&(Dn[Tn[Xn]]=Ht[Tn[Xn]])}return Dn};const jn={app:Pt.a,namespace:Pt.i,buildTag:Pt.b,instanceId:dn.a},xn=Pt.e?Yt.format.printf(Ht=>{var{timestamp:_n,level:Dn,message:Tn,error:Xn}=Ht,or=Ln(Ht,["timestamp","level","message","error"]);const Rr=Object.assign(Object.assign({timestamp:_n?Nt(_n).getTime():new Date().getTime(),level:Dn.toUpperCase(),message:Tn},Xn?{error:$t(Xn)}:{}),{meta:Object.assign(Object.assign({},jn),or)});return yn()(Rr,{cycles:!0})}):Yt.format.printf(Ht=>{var{timestamp:_n,level:Dn,message:Tn,error:Xn}=Ht,or=Ln(Ht,["timestamp","level","message","error"]);let Rr=`${_n||new Date().toISOString()} ${Dn.toUpperCase()}: ${Tn} `;return Object.keys(or).length>0&&(Rr+=yn()(or,{cycles:!0})),Xn&&(Rr+=`
${hn(Xn)}`),Rr}),Rn=Object(Yt.createLogger)({level:Pt.f});if(Rn.add(new Yt.transports.Console({format:xn,level:"debug"})),Rn.transports.forEach(Ht=>{Ht.silent=!Pt.g}),Pt.d&&Rn.add(new Wn(Pt.d,jn)),Pt.h){const Ht=Vt.resolve(Ct.tmpdir(),`silly-${Pt.a}.log`);Rn.debug("Logging silly logs to file",{filename:Ht}),Rn.add(new Yt.transports.File({filename:Ht,maxsize:1*Ot,maxFiles:10,format:Yt.format.combine((jt="silly",Object(Yt.format)(_n=>_n.level===jt&&_n)()),xn),level:"silly"}))}var jt},function(i,o,s){s.d(o,"a",function(){return _});const _={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(i,o){var s,_,$=i.exports={};function et(){throw new Error("setTimeout has not been defined")}function rt(){throw new Error("clearTimeout has not been defined")}function j(wt){if(s===setTimeout)return setTimeout(wt,0);if((s===et||!s)&&setTimeout)return s=setTimeout,setTimeout(wt,0);try{return s(wt,0)}catch{try{return s.call(null,wt,0)}catch{return s.call(this,wt,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:et}catch{s=et}try{_=typeof clearTimeout=="function"?clearTimeout:rt}catch{_=rt}})();var st,lt=[],gt=!1,bt=-1;function Ut(){gt&&st&&(gt=!1,st.length?lt=st.concat(lt):bt=-1,lt.length&&Ft())}function Ft(){if(!gt){var wt=j(Ut);gt=!0;for(var Tt=lt.length;Tt;){for(st=lt,lt=[];++bt<Tt;)st&&st[bt].run();bt=-1,Tt=lt.length}st=null,gt=!1,function(Jt){if(_===clearTimeout)return clearTimeout(Jt);if((_===rt||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(Jt);try{_(Jt)}catch{try{return _.call(null,Jt)}catch{return _.call(this,Jt)}}}(wt)}}function yt(wt,Tt){this.fun=wt,this.array=Tt}function Qt(){}$.nextTick=function(wt){var Tt=new Array(arguments.length-1);if(arguments.length>1)for(var Jt=1;Jt<arguments.length;Jt++)Tt[Jt-1]=arguments[Jt];lt.push(new yt(wt,Tt)),lt.length!==1||gt||j(Ft)},yt.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=Qt,$.addListener=Qt,$.once=Qt,$.off=Qt,$.removeListener=Qt,$.removeAllListeners=Qt,$.emit=Qt,$.prependListener=Qt,$.prependOnceListener=Qt,$.listeners=function(wt){return[]},$.binding=function(wt){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(wt){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},function(i,o,s){Object.defineProperty(o,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(o,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(o,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(o,"configs",{value:s(118)})},function(i,o,s){(function(_){s.d(o,"a",function(){return rt}),s.d(o,"i",function(){return j}),s.d(o,"j",function(){return st}),s.d(o,"b",function(){return lt}),s.d(o,"f",function(){return gt}),s.d(o,"e",function(){return bt}),s.d(o,"g",function(){return Ut}),s.d(o,"d",function(){return Ft}),s.d(o,"c",function(){return yt}),s.d(o,"h",function(){return Qt});var $=s(102);const et=$.from({ENVIRONMENT:_.env.ENV,AGGREGATE_LEVEL:_.env.AGGREGATE_LEVEL,API_ENDPOINT:_.env.API_ENDPOINT,APP:"realtime-sdk",APP_PATH:_.env.APP_PATH,BUILD_TAG:_.env.BUILD_TAG,ENABLE_SELF_SERVE:_.env.ENABLE_SELF_SERVE,ENABLE_SENTRY:_.env.ENABLE_SENTRY,ENABLE_SENTRY_PROFILING:_.env.ENABLE_SENTRY_PROFILING,GIT_COMMIT:_.env.GIT_COMMIT,JEST_WORKER_ID:_.env.JEST_WORKER_ID,LOG_API_ENDPOINT:_.env.LOG_API_ENDPOINT,LOG_JSON:"false",LOG_LEVEL:_.env.LOG_LEVEL,LOG_TO_CONSOLE:_.env.LOG_TO_CONSOLE,LOG_TO_FILE:_.env.LOG_TO_FILE,NAMESPACE:"production",SENTRY_DSN:_.env.SENTRY_DSN,SHEET_EXPORT_MAX_ROW_COUNT:_.env.SHEET_EXPORT_MAX_ROW_COUNT,STABLE_AGENT_VERSION:_.env.STABLE_AGENT_VERSION,VERSION:_.env.VERSION}),rt=(et.get("ENVIRONMENT").default("").asString(),et.get("APP").default("").asString()),j=(et.get("APP_PATH").default("").asString(),et.get("API_ENDPOINT").default("").asString(),et.get("NAMESPACE").default("").asString()),st=et.get("VERSION").default("").asString(),lt=et.get("BUILD_TAG").default("").asString(),gt=(et.get("GIT_COMMIT").default("").asString(),et.get("ENABLE_SENTRY").default("false").asBool(),et.get("ENABLE_SENTRY_PROFILING").default("false").asBool(),et.get("SENTRY_DSN").default("").asString(),et.get("LOG_LEVEL").default("debug").asString()),bt=et.get("LOG_JSON").default("true").asBool(),Ut=et.get("LOG_TO_CONSOLE").default("true").asBool(),Ft=(et.get("STABLE_AGENT_VERSION").default("").asString(),et.get("LOG_API_ENDPOINT").asString()),yt=et.get("JEST_WORKER_ID").asString(),Qt=(et.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),et.get("LOG_TO_FILE").default("false").asBoolStrict());et.get("ENABLE_SELF_SERVE").default("true").asBoolStrict(),et.get("AGGREGATE_LEVEL").default("hour").asEnum(["day","hour","minute"])}).call(this,s(2))},function(i,o,s){(function(_){var $=s(126),et=s(127),rt=s(42);function j(){return lt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function st(jt,Ht){if(j()<Ht)throw new RangeError("Invalid typed array length");return lt.TYPED_ARRAY_SUPPORT?(jt=new Uint8Array(Ht)).__proto__=lt.prototype:(jt===null&&(jt=new lt(Ht)),jt.length=Ht),jt}function lt(jt,Ht,_n){if(!(lt.TYPED_ARRAY_SUPPORT||this instanceof lt))return new lt(jt,Ht,_n);if(typeof jt=="number"){if(typeof Ht=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ut(this,jt)}return gt(this,jt,Ht,_n)}function gt(jt,Ht,_n,Dn){if(typeof Ht=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&Ht instanceof ArrayBuffer?function(Tn,Xn,or,Rr){if(Xn.byteLength,or<0||Xn.byteLength<or)throw new RangeError("'offset' is out of bounds");if(Xn.byteLength<or+(Rr||0))throw new RangeError("'length' is out of bounds");return Xn=or===void 0&&Rr===void 0?new Uint8Array(Xn):Rr===void 0?new Uint8Array(Xn,or):new Uint8Array(Xn,or,Rr),lt.TYPED_ARRAY_SUPPORT?(Tn=Xn).__proto__=lt.prototype:Tn=Ft(Tn,Xn),Tn}(jt,Ht,_n,Dn):typeof Ht=="string"?function(Tn,Xn,or){if(typeof or=="string"&&or!==""||(or="utf8"),!lt.isEncoding(or))throw new TypeError('"encoding" must be a valid string encoding');var Rr=0|Qt(Xn,or),ao=(Tn=st(Tn,Rr)).write(Xn,or);return ao!==Rr&&(Tn=Tn.slice(0,ao)),Tn}(jt,Ht,_n):function(Tn,Xn){if(lt.isBuffer(Xn)){var or=0|yt(Xn.length);return(Tn=st(Tn,or)).length===0||Xn.copy(Tn,0,0,or),Tn}if(Xn){if(typeof ArrayBuffer<"u"&&Xn.buffer instanceof ArrayBuffer||"length"in Xn)return typeof Xn.length!="number"||(Rr=Xn.length)!=Rr?st(Tn,0):Ft(Tn,Xn);if(Xn.type==="Buffer"&&rt(Xn.data))return Ft(Tn,Xn.data)}var Rr;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(jt,Ht)}function bt(jt){if(typeof jt!="number")throw new TypeError('"size" argument must be a number');if(jt<0)throw new RangeError('"size" argument must not be negative')}function Ut(jt,Ht){if(bt(Ht),jt=st(jt,Ht<0?0:0|yt(Ht)),!lt.TYPED_ARRAY_SUPPORT)for(var _n=0;_n<Ht;++_n)jt[_n]=0;return jt}function Ft(jt,Ht){var _n=Ht.length<0?0:0|yt(Ht.length);jt=st(jt,_n);for(var Dn=0;Dn<_n;Dn+=1)jt[Dn]=255&Ht[Dn];return jt}function yt(jt){if(jt>=j())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j().toString(16)+" bytes");return 0|jt}function Qt(jt,Ht){if(lt.isBuffer(jt))return jt.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(jt)||jt instanceof ArrayBuffer))return jt.byteLength;typeof jt!="string"&&(jt=""+jt);var _n=jt.length;if(_n===0)return 0;for(var Dn=!1;;)switch(Ht){case"ascii":case"latin1":case"binary":return _n;case"utf8":case"utf-8":case void 0:return jn(jt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_n;case"hex":return _n>>>1;case"base64":return xn(jt).length;default:if(Dn)return jn(jt).length;Ht=(""+Ht).toLowerCase(),Dn=!0}}function wt(jt,Ht,_n){var Dn=!1;if((Ht===void 0||Ht<0)&&(Ht=0),Ht>this.length||((_n===void 0||_n>this.length)&&(_n=this.length),_n<=0)||(_n>>>=0)<=(Ht>>>=0))return"";for(jt||(jt="utf8");;)switch(jt){case"hex":return Un(this,Ht,_n);case"utf8":case"utf-8":return Yt(this,Ht,_n);case"ascii":return Pt(this,Ht,_n);case"latin1":case"binary":return tn(this,Ht,_n);case"base64":return Vt(this,Ht,_n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kt(this,Ht,_n);default:if(Dn)throw new TypeError("Unknown encoding: "+jt);jt=(jt+"").toLowerCase(),Dn=!0}}function Tt(jt,Ht,_n){var Dn=jt[Ht];jt[Ht]=jt[_n],jt[_n]=Dn}function Jt(jt,Ht,_n,Dn,Tn){if(jt.length===0)return-1;if(typeof _n=="string"?(Dn=_n,_n=0):_n>2147483647?_n=2147483647:_n<-2147483648&&(_n=-2147483648),_n=+_n,isNaN(_n)&&(_n=Tn?0:jt.length-1),_n<0&&(_n=jt.length+_n),_n>=jt.length){if(Tn)return-1;_n=jt.length-1}else if(_n<0){if(!Tn)return-1;_n=0}if(typeof Ht=="string"&&(Ht=lt.from(Ht,Dn)),lt.isBuffer(Ht))return Ht.length===0?-1:At(jt,Ht,_n,Dn,Tn);if(typeof Ht=="number")return Ht&=255,lt.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Tn?Uint8Array.prototype.indexOf.call(jt,Ht,_n):Uint8Array.prototype.lastIndexOf.call(jt,Ht,_n):At(jt,[Ht],_n,Dn,Tn);throw new TypeError("val must be string, number or Buffer")}function At(jt,Ht,_n,Dn,Tn){var Xn,or=1,Rr=jt.length,ao=Ht.length;if(Dn!==void 0&&((Dn=String(Dn).toLowerCase())==="ucs2"||Dn==="ucs-2"||Dn==="utf16le"||Dn==="utf-16le")){if(jt.length<2||Ht.length<2)return-1;or=2,Rr/=2,ao/=2,_n/=2}function Vo(Qo,zo){return or===1?Qo[zo]:Qo.readUInt16BE(zo*or)}if(Tn){var bo=-1;for(Xn=_n;Xn<Rr;Xn++)if(Vo(jt,Xn)===Vo(Ht,bo===-1?0:Xn-bo)){if(bo===-1&&(bo=Xn),Xn-bo+1===ao)return bo*or}else bo!==-1&&(Xn-=Xn-bo),bo=-1}else for(_n+ao>Rr&&(_n=Rr-ao),Xn=_n;Xn>=0;Xn--){for(var Po=!0,_o=0;_o<ao;_o++)if(Vo(jt,Xn+_o)!==Vo(Ht,_o)){Po=!1;break}if(Po)return Xn}return-1}function Nt(jt,Ht,_n,Dn){_n=Number(_n)||0;var Tn=jt.length-_n;Dn?(Dn=Number(Dn))>Tn&&(Dn=Tn):Dn=Tn;var Xn=Ht.length;if(Xn%2!=0)throw new TypeError("Invalid hex string");Dn>Xn/2&&(Dn=Xn/2);for(var or=0;or<Dn;++or){var Rr=parseInt(Ht.substr(2*or,2),16);if(isNaN(Rr))return or;jt[_n+or]=Rr}return or}function St(jt,Ht,_n,Dn){return Rn(jn(Ht,jt.length-_n),jt,_n,Dn)}function Ot(jt,Ht,_n,Dn){return Rn(function(Tn){for(var Xn=[],or=0;or<Tn.length;++or)Xn.push(255&Tn.charCodeAt(or));return Xn}(Ht),jt,_n,Dn)}function nn(jt,Ht,_n,Dn){return Ot(jt,Ht,_n,Dn)}function yn(jt,Ht,_n,Dn){return Rn(xn(Ht),jt,_n,Dn)}function Ct(jt,Ht,_n,Dn){return Rn(function(Tn,Xn){for(var or,Rr,ao,Vo=[],bo=0;bo<Tn.length&&!((Xn-=2)<0);++bo)or=Tn.charCodeAt(bo),Rr=or>>8,ao=or%256,Vo.push(ao),Vo.push(Rr);return Vo}(Ht,jt.length-_n),jt,_n,Dn)}function Vt(jt,Ht,_n){return Ht===0&&_n===jt.length?$.fromByteArray(jt):$.fromByteArray(jt.slice(Ht,_n))}function Yt(jt,Ht,_n){_n=Math.min(jt.length,_n);for(var Dn=[],Tn=Ht;Tn<_n;){var Xn,or,Rr,ao,Vo=jt[Tn],bo=null,Po=Vo>239?4:Vo>223?3:Vo>191?2:1;if(Tn+Po<=_n)switch(Po){case 1:Vo<128&&(bo=Vo);break;case 2:(192&(Xn=jt[Tn+1]))==128&&(ao=(31&Vo)<<6|63&Xn)>127&&(bo=ao);break;case 3:Xn=jt[Tn+1],or=jt[Tn+2],(192&Xn)==128&&(192&or)==128&&(ao=(15&Vo)<<12|(63&Xn)<<6|63&or)>2047&&(ao<55296||ao>57343)&&(bo=ao);break;case 4:Xn=jt[Tn+1],or=jt[Tn+2],Rr=jt[Tn+3],(192&Xn)==128&&(192&or)==128&&(192&Rr)==128&&(ao=(15&Vo)<<18|(63&Xn)<<12|(63&or)<<6|63&Rr)>65535&&ao<1114112&&(bo=ao)}bo===null?(bo=65533,Po=1):bo>65535&&(bo-=65536,Dn.push(bo>>>10&1023|55296),bo=56320|1023&bo),Dn.push(bo),Tn+=Po}return function(_o){var Qo=_o.length;if(Qo<=4096)return String.fromCharCode.apply(String,_o);for(var zo="",Ao=0;Ao<Qo;)zo+=String.fromCharCode.apply(String,_o.slice(Ao,Ao+=4096));return zo}(Dn)}o.Buffer=lt,o.SlowBuffer=function(jt){return+jt!=jt&&(jt=0),lt.alloc(+jt)},o.INSPECT_MAX_BYTES=50,lt.TYPED_ARRAY_SUPPORT=_.TYPED_ARRAY_SUPPORT!==void 0?_.TYPED_ARRAY_SUPPORT:function(){try{var jt=new Uint8Array(1);return jt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},jt.foo()===42&&typeof jt.subarray=="function"&&jt.subarray(1,1).byteLength===0}catch{return!1}}(),o.kMaxLength=j(),lt.poolSize=8192,lt._augment=function(jt){return jt.__proto__=lt.prototype,jt},lt.from=function(jt,Ht,_n){return gt(null,jt,Ht,_n)},lt.TYPED_ARRAY_SUPPORT&&(lt.prototype.__proto__=Uint8Array.prototype,lt.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&lt[Symbol.species]===lt&&Object.defineProperty(lt,Symbol.species,{value:null,configurable:!0})),lt.alloc=function(jt,Ht,_n){return function(Dn,Tn,Xn,or){return bt(Tn),Tn<=0?st(Dn,Tn):Xn!==void 0?typeof or=="string"?st(Dn,Tn).fill(Xn,or):st(Dn,Tn).fill(Xn):st(Dn,Tn)}(null,jt,Ht,_n)},lt.allocUnsafe=function(jt){return Ut(null,jt)},lt.allocUnsafeSlow=function(jt){return Ut(null,jt)},lt.isBuffer=function(jt){return!(jt==null||!jt._isBuffer)},lt.compare=function(jt,Ht){if(!lt.isBuffer(jt)||!lt.isBuffer(Ht))throw new TypeError("Arguments must be Buffers");if(jt===Ht)return 0;for(var _n=jt.length,Dn=Ht.length,Tn=0,Xn=Math.min(_n,Dn);Tn<Xn;++Tn)if(jt[Tn]!==Ht[Tn]){_n=jt[Tn],Dn=Ht[Tn];break}return _n<Dn?-1:Dn<_n?1:0},lt.isEncoding=function(jt){switch(String(jt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},lt.concat=function(jt,Ht){if(!rt(jt))throw new TypeError('"list" argument must be an Array of Buffers');if(jt.length===0)return lt.alloc(0);var _n;if(Ht===void 0)for(Ht=0,_n=0;_n<jt.length;++_n)Ht+=jt[_n].length;var Dn=lt.allocUnsafe(Ht),Tn=0;for(_n=0;_n<jt.length;++_n){var Xn=jt[_n];if(!lt.isBuffer(Xn))throw new TypeError('"list" argument must be an Array of Buffers');Xn.copy(Dn,Tn),Tn+=Xn.length}return Dn},lt.byteLength=Qt,lt.prototype._isBuffer=!0,lt.prototype.swap16=function(){var jt=this.length;if(jt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ht=0;Ht<jt;Ht+=2)Tt(this,Ht,Ht+1);return this},lt.prototype.swap32=function(){var jt=this.length;if(jt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ht=0;Ht<jt;Ht+=4)Tt(this,Ht,Ht+3),Tt(this,Ht+1,Ht+2);return this},lt.prototype.swap64=function(){var jt=this.length;if(jt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ht=0;Ht<jt;Ht+=8)Tt(this,Ht,Ht+7),Tt(this,Ht+1,Ht+6),Tt(this,Ht+2,Ht+5),Tt(this,Ht+3,Ht+4);return this},lt.prototype.toString=function(){var jt=0|this.length;return jt===0?"":arguments.length===0?Yt(this,0,jt):wt.apply(this,arguments)},lt.prototype.equals=function(jt){if(!lt.isBuffer(jt))throw new TypeError("Argument must be a Buffer");return this===jt||lt.compare(this,jt)===0},lt.prototype.inspect=function(){var jt="",Ht=o.INSPECT_MAX_BYTES;return this.length>0&&(jt=this.toString("hex",0,Ht).match(/.{2}/g).join(" "),this.length>Ht&&(jt+=" ... ")),"<Buffer "+jt+">"},lt.prototype.compare=function(jt,Ht,_n,Dn,Tn){if(!lt.isBuffer(jt))throw new TypeError("Argument must be a Buffer");if(Ht===void 0&&(Ht=0),_n===void 0&&(_n=jt?jt.length:0),Dn===void 0&&(Dn=0),Tn===void 0&&(Tn=this.length),Ht<0||_n>jt.length||Dn<0||Tn>this.length)throw new RangeError("out of range index");if(Dn>=Tn&&Ht>=_n)return 0;if(Dn>=Tn)return-1;if(Ht>=_n)return 1;if(this===jt)return 0;for(var Xn=(Tn>>>=0)-(Dn>>>=0),or=(_n>>>=0)-(Ht>>>=0),Rr=Math.min(Xn,or),ao=this.slice(Dn,Tn),Vo=jt.slice(Ht,_n),bo=0;bo<Rr;++bo)if(ao[bo]!==Vo[bo]){Xn=ao[bo],or=Vo[bo];break}return Xn<or?-1:or<Xn?1:0},lt.prototype.includes=function(jt,Ht,_n){return this.indexOf(jt,Ht,_n)!==-1},lt.prototype.indexOf=function(jt,Ht,_n){return Jt(this,jt,Ht,_n,!0)},lt.prototype.lastIndexOf=function(jt,Ht,_n){return Jt(this,jt,Ht,_n,!1)},lt.prototype.write=function(jt,Ht,_n,Dn){if(Ht===void 0)Dn="utf8",_n=this.length,Ht=0;else if(_n===void 0&&typeof Ht=="string")Dn=Ht,_n=this.length,Ht=0;else{if(!isFinite(Ht))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ht|=0,isFinite(_n)?(_n|=0,Dn===void 0&&(Dn="utf8")):(Dn=_n,_n=void 0)}var Tn=this.length-Ht;if((_n===void 0||_n>Tn)&&(_n=Tn),jt.length>0&&(_n<0||Ht<0)||Ht>this.length)throw new RangeError("Attempt to write outside buffer bounds");Dn||(Dn="utf8");for(var Xn=!1;;)switch(Dn){case"hex":return Nt(this,jt,Ht,_n);case"utf8":case"utf-8":return St(this,jt,Ht,_n);case"ascii":return Ot(this,jt,Ht,_n);case"latin1":case"binary":return nn(this,jt,Ht,_n);case"base64":return yn(this,jt,Ht,_n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,jt,Ht,_n);default:if(Xn)throw new TypeError("Unknown encoding: "+Dn);Dn=(""+Dn).toLowerCase(),Xn=!0}},lt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pt(jt,Ht,_n){var Dn="";_n=Math.min(jt.length,_n);for(var Tn=Ht;Tn<_n;++Tn)Dn+=String.fromCharCode(127&jt[Tn]);return Dn}function tn(jt,Ht,_n){var Dn="";_n=Math.min(jt.length,_n);for(var Tn=Ht;Tn<_n;++Tn)Dn+=String.fromCharCode(jt[Tn]);return Dn}function Un(jt,Ht,_n){var Dn=jt.length;(!Ht||Ht<0)&&(Ht=0),(!_n||_n<0||_n>Dn)&&(_n=Dn);for(var Tn="",Xn=Ht;Xn<_n;++Xn)Tn+=Ln(jt[Xn]);return Tn}function Kt(jt,Ht,_n){for(var Dn=jt.slice(Ht,_n),Tn="",Xn=0;Xn<Dn.length;Xn+=2)Tn+=String.fromCharCode(Dn[Xn]+256*Dn[Xn+1]);return Tn}function $t(jt,Ht,_n){if(jt%1!=0||jt<0)throw new RangeError("offset is not uint");if(jt+Ht>_n)throw new RangeError("Trying to access beyond buffer length")}function hn(jt,Ht,_n,Dn,Tn,Xn){if(!lt.isBuffer(jt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ht>Tn||Ht<Xn)throw new RangeError('"value" argument is out of bounds');if(_n+Dn>jt.length)throw new RangeError("Index out of range")}function dn(jt,Ht,_n,Dn){Ht<0&&(Ht=65535+Ht+1);for(var Tn=0,Xn=Math.min(jt.length-_n,2);Tn<Xn;++Tn)jt[_n+Tn]=(Ht&255<<8*(Dn?Tn:1-Tn))>>>8*(Dn?Tn:1-Tn)}function zt(jt,Ht,_n,Dn){Ht<0&&(Ht=4294967295+Ht+1);for(var Tn=0,Xn=Math.min(jt.length-_n,4);Tn<Xn;++Tn)jt[_n+Tn]=Ht>>>8*(Dn?Tn:3-Tn)&255}function It(jt,Ht,_n,Dn,Tn,Xn){if(_n+Dn>jt.length)throw new RangeError("Index out of range");if(_n<0)throw new RangeError("Index out of range")}function gn(jt,Ht,_n,Dn,Tn){return Tn||It(jt,0,_n,4),et.write(jt,Ht,_n,Dn,23,4),_n+4}function vn(jt,Ht,_n,Dn,Tn){return Tn||It(jt,0,_n,8),et.write(jt,Ht,_n,Dn,52,8),_n+8}lt.prototype.slice=function(jt,Ht){var _n,Dn=this.length;if((jt=~~jt)<0?(jt+=Dn)<0&&(jt=0):jt>Dn&&(jt=Dn),(Ht=Ht===void 0?Dn:~~Ht)<0?(Ht+=Dn)<0&&(Ht=0):Ht>Dn&&(Ht=Dn),Ht<jt&&(Ht=jt),lt.TYPED_ARRAY_SUPPORT)(_n=this.subarray(jt,Ht)).__proto__=lt.prototype;else{var Tn=Ht-jt;_n=new lt(Tn,void 0);for(var Xn=0;Xn<Tn;++Xn)_n[Xn]=this[Xn+jt]}return _n},lt.prototype.readUIntLE=function(jt,Ht,_n){jt|=0,Ht|=0,_n||$t(jt,Ht,this.length);for(var Dn=this[jt],Tn=1,Xn=0;++Xn<Ht&&(Tn*=256);)Dn+=this[jt+Xn]*Tn;return Dn},lt.prototype.readUIntBE=function(jt,Ht,_n){jt|=0,Ht|=0,_n||$t(jt,Ht,this.length);for(var Dn=this[jt+--Ht],Tn=1;Ht>0&&(Tn*=256);)Dn+=this[jt+--Ht]*Tn;return Dn},lt.prototype.readUInt8=function(jt,Ht){return Ht||$t(jt,1,this.length),this[jt]},lt.prototype.readUInt16LE=function(jt,Ht){return Ht||$t(jt,2,this.length),this[jt]|this[jt+1]<<8},lt.prototype.readUInt16BE=function(jt,Ht){return Ht||$t(jt,2,this.length),this[jt]<<8|this[jt+1]},lt.prototype.readUInt32LE=function(jt,Ht){return Ht||$t(jt,4,this.length),(this[jt]|this[jt+1]<<8|this[jt+2]<<16)+16777216*this[jt+3]},lt.prototype.readUInt32BE=function(jt,Ht){return Ht||$t(jt,4,this.length),16777216*this[jt]+(this[jt+1]<<16|this[jt+2]<<8|this[jt+3])},lt.prototype.readIntLE=function(jt,Ht,_n){jt|=0,Ht|=0,_n||$t(jt,Ht,this.length);for(var Dn=this[jt],Tn=1,Xn=0;++Xn<Ht&&(Tn*=256);)Dn+=this[jt+Xn]*Tn;return Dn>=(Tn*=128)&&(Dn-=Math.pow(2,8*Ht)),Dn},lt.prototype.readIntBE=function(jt,Ht,_n){jt|=0,Ht|=0,_n||$t(jt,Ht,this.length);for(var Dn=Ht,Tn=1,Xn=this[jt+--Dn];Dn>0&&(Tn*=256);)Xn+=this[jt+--Dn]*Tn;return Xn>=(Tn*=128)&&(Xn-=Math.pow(2,8*Ht)),Xn},lt.prototype.readInt8=function(jt,Ht){return Ht||$t(jt,1,this.length),128&this[jt]?-1*(255-this[jt]+1):this[jt]},lt.prototype.readInt16LE=function(jt,Ht){Ht||$t(jt,2,this.length);var _n=this[jt]|this[jt+1]<<8;return 32768&_n?4294901760|_n:_n},lt.prototype.readInt16BE=function(jt,Ht){Ht||$t(jt,2,this.length);var _n=this[jt+1]|this[jt]<<8;return 32768&_n?4294901760|_n:_n},lt.prototype.readInt32LE=function(jt,Ht){return Ht||$t(jt,4,this.length),this[jt]|this[jt+1]<<8|this[jt+2]<<16|this[jt+3]<<24},lt.prototype.readInt32BE=function(jt,Ht){return Ht||$t(jt,4,this.length),this[jt]<<24|this[jt+1]<<16|this[jt+2]<<8|this[jt+3]},lt.prototype.readFloatLE=function(jt,Ht){return Ht||$t(jt,4,this.length),et.read(this,jt,!0,23,4)},lt.prototype.readFloatBE=function(jt,Ht){return Ht||$t(jt,4,this.length),et.read(this,jt,!1,23,4)},lt.prototype.readDoubleLE=function(jt,Ht){return Ht||$t(jt,8,this.length),et.read(this,jt,!0,52,8)},lt.prototype.readDoubleBE=function(jt,Ht){return Ht||$t(jt,8,this.length),et.read(this,jt,!1,52,8)},lt.prototype.writeUIntLE=function(jt,Ht,_n,Dn){jt=+jt,Ht|=0,_n|=0,Dn||hn(this,jt,Ht,_n,Math.pow(2,8*_n)-1,0);var Tn=1,Xn=0;for(this[Ht]=255&jt;++Xn<_n&&(Tn*=256);)this[Ht+Xn]=jt/Tn&255;return Ht+_n},lt.prototype.writeUIntBE=function(jt,Ht,_n,Dn){jt=+jt,Ht|=0,_n|=0,Dn||hn(this,jt,Ht,_n,Math.pow(2,8*_n)-1,0);var Tn=_n-1,Xn=1;for(this[Ht+Tn]=255&jt;--Tn>=0&&(Xn*=256);)this[Ht+Tn]=jt/Xn&255;return Ht+_n},lt.prototype.writeUInt8=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,1,255,0),lt.TYPED_ARRAY_SUPPORT||(jt=Math.floor(jt)),this[Ht]=255&jt,Ht+1},lt.prototype.writeUInt16LE=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,2,65535,0),lt.TYPED_ARRAY_SUPPORT?(this[Ht]=255&jt,this[Ht+1]=jt>>>8):dn(this,jt,Ht,!0),Ht+2},lt.prototype.writeUInt16BE=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,2,65535,0),lt.TYPED_ARRAY_SUPPORT?(this[Ht]=jt>>>8,this[Ht+1]=255&jt):dn(this,jt,Ht,!1),Ht+2},lt.prototype.writeUInt32LE=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,4,4294967295,0),lt.TYPED_ARRAY_SUPPORT?(this[Ht+3]=jt>>>24,this[Ht+2]=jt>>>16,this[Ht+1]=jt>>>8,this[Ht]=255&jt):zt(this,jt,Ht,!0),Ht+4},lt.prototype.writeUInt32BE=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,4,4294967295,0),lt.TYPED_ARRAY_SUPPORT?(this[Ht]=jt>>>24,this[Ht+1]=jt>>>16,this[Ht+2]=jt>>>8,this[Ht+3]=255&jt):zt(this,jt,Ht,!1),Ht+4},lt.prototype.writeIntLE=function(jt,Ht,_n,Dn){if(jt=+jt,Ht|=0,!Dn){var Tn=Math.pow(2,8*_n-1);hn(this,jt,Ht,_n,Tn-1,-Tn)}var Xn=0,or=1,Rr=0;for(this[Ht]=255&jt;++Xn<_n&&(or*=256);)jt<0&&Rr===0&&this[Ht+Xn-1]!==0&&(Rr=1),this[Ht+Xn]=(jt/or>>0)-Rr&255;return Ht+_n},lt.prototype.writeIntBE=function(jt,Ht,_n,Dn){if(jt=+jt,Ht|=0,!Dn){var Tn=Math.pow(2,8*_n-1);hn(this,jt,Ht,_n,Tn-1,-Tn)}var Xn=_n-1,or=1,Rr=0;for(this[Ht+Xn]=255&jt;--Xn>=0&&(or*=256);)jt<0&&Rr===0&&this[Ht+Xn+1]!==0&&(Rr=1),this[Ht+Xn]=(jt/or>>0)-Rr&255;return Ht+_n},lt.prototype.writeInt8=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,1,127,-128),lt.TYPED_ARRAY_SUPPORT||(jt=Math.floor(jt)),jt<0&&(jt=255+jt+1),this[Ht]=255&jt,Ht+1},lt.prototype.writeInt16LE=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,2,32767,-32768),lt.TYPED_ARRAY_SUPPORT?(this[Ht]=255&jt,this[Ht+1]=jt>>>8):dn(this,jt,Ht,!0),Ht+2},lt.prototype.writeInt16BE=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,2,32767,-32768),lt.TYPED_ARRAY_SUPPORT?(this[Ht]=jt>>>8,this[Ht+1]=255&jt):dn(this,jt,Ht,!1),Ht+2},lt.prototype.writeInt32LE=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,4,2147483647,-2147483648),lt.TYPED_ARRAY_SUPPORT?(this[Ht]=255&jt,this[Ht+1]=jt>>>8,this[Ht+2]=jt>>>16,this[Ht+3]=jt>>>24):zt(this,jt,Ht,!0),Ht+4},lt.prototype.writeInt32BE=function(jt,Ht,_n){return jt=+jt,Ht|=0,_n||hn(this,jt,Ht,4,2147483647,-2147483648),jt<0&&(jt=4294967295+jt+1),lt.TYPED_ARRAY_SUPPORT?(this[Ht]=jt>>>24,this[Ht+1]=jt>>>16,this[Ht+2]=jt>>>8,this[Ht+3]=255&jt):zt(this,jt,Ht,!1),Ht+4},lt.prototype.writeFloatLE=function(jt,Ht,_n){return gn(this,jt,Ht,!0,_n)},lt.prototype.writeFloatBE=function(jt,Ht,_n){return gn(this,jt,Ht,!1,_n)},lt.prototype.writeDoubleLE=function(jt,Ht,_n){return vn(this,jt,Ht,!0,_n)},lt.prototype.writeDoubleBE=function(jt,Ht,_n){return vn(this,jt,Ht,!1,_n)},lt.prototype.copy=function(jt,Ht,_n,Dn){if(_n||(_n=0),Dn||Dn===0||(Dn=this.length),Ht>=jt.length&&(Ht=jt.length),Ht||(Ht=0),Dn>0&&Dn<_n&&(Dn=_n),Dn===_n||jt.length===0||this.length===0)return 0;if(Ht<0)throw new RangeError("targetStart out of bounds");if(_n<0||_n>=this.length)throw new RangeError("sourceStart out of bounds");if(Dn<0)throw new RangeError("sourceEnd out of bounds");Dn>this.length&&(Dn=this.length),jt.length-Ht<Dn-_n&&(Dn=jt.length-Ht+_n);var Tn,Xn=Dn-_n;if(this===jt&&_n<Ht&&Ht<Dn)for(Tn=Xn-1;Tn>=0;--Tn)jt[Tn+Ht]=this[Tn+_n];else if(Xn<1e3||!lt.TYPED_ARRAY_SUPPORT)for(Tn=0;Tn<Xn;++Tn)jt[Tn+Ht]=this[Tn+_n];else Uint8Array.prototype.set.call(jt,this.subarray(_n,_n+Xn),Ht);return Xn},lt.prototype.fill=function(jt,Ht,_n,Dn){if(typeof jt=="string"){if(typeof Ht=="string"?(Dn=Ht,Ht=0,_n=this.length):typeof _n=="string"&&(Dn=_n,_n=this.length),jt.length===1){var Tn=jt.charCodeAt(0);Tn<256&&(jt=Tn)}if(Dn!==void 0&&typeof Dn!="string")throw new TypeError("encoding must be a string");if(typeof Dn=="string"&&!lt.isEncoding(Dn))throw new TypeError("Unknown encoding: "+Dn)}else typeof jt=="number"&&(jt&=255);if(Ht<0||this.length<Ht||this.length<_n)throw new RangeError("Out of range index");if(_n<=Ht)return this;var Xn;if(Ht>>>=0,_n=_n===void 0?this.length:_n>>>0,jt||(jt=0),typeof jt=="number")for(Xn=Ht;Xn<_n;++Xn)this[Xn]=jt;else{var or=lt.isBuffer(jt)?jt:jn(new lt(jt,Dn).toString()),Rr=or.length;for(Xn=0;Xn<_n-Ht;++Xn)this[Xn+Ht]=or[Xn%Rr]}return this};var Wn=/[^+\/0-9A-Za-z-_]/g;function Ln(jt){return jt<16?"0"+jt.toString(16):jt.toString(16)}function jn(jt,Ht){var _n;Ht=Ht||1/0;for(var Dn=jt.length,Tn=null,Xn=[],or=0;or<Dn;++or){if((_n=jt.charCodeAt(or))>55295&&_n<57344){if(!Tn){if(_n>56319){(Ht-=3)>-1&&Xn.push(239,191,189);continue}if(or+1===Dn){(Ht-=3)>-1&&Xn.push(239,191,189);continue}Tn=_n;continue}if(_n<56320){(Ht-=3)>-1&&Xn.push(239,191,189),Tn=_n;continue}_n=65536+(Tn-55296<<10|_n-56320)}else Tn&&(Ht-=3)>-1&&Xn.push(239,191,189);if(Tn=null,_n<128){if((Ht-=1)<0)break;Xn.push(_n)}else if(_n<2048){if((Ht-=2)<0)break;Xn.push(_n>>6|192,63&_n|128)}else if(_n<65536){if((Ht-=3)<0)break;Xn.push(_n>>12|224,_n>>6&63|128,63&_n|128)}else{if(!(_n<1114112))throw new Error("Invalid code point");if((Ht-=4)<0)break;Xn.push(_n>>18|240,_n>>12&63|128,_n>>6&63|128,63&_n|128)}}return Xn}function xn(jt){return $.toByteArray(function(Ht){if((Ht=function(_n){return _n.trim?_n.trim():_n.replace(/^\s+|\s+$/g,"")}(Ht).replace(Wn,"")).length<2)return"";for(;Ht.length%4!=0;)Ht+="=";return Ht}(jt))}function Rn(jt,Ht,_n,Dn){for(var Tn=0;Tn<Dn&&!(Tn+_n>=Ht.length||Tn>=jt.length);++Tn)Ht[Tn+_n]=jt[Tn];return Tn}}).call(this,s(6))},function(i,o){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}i.exports=s},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){_&&(s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(s,_){if(_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}}},function(i,o,s){s.d(o,"a",function(){return _});const _=$=>new Promise(et=>setTimeout(et,$||0))},function(i,o,s){var _=s(99),$=_,et=Function("return this")(),rt=s(98);$.object.extend(proto,rt),$.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,et),$.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,et),$.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,et),$.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,et),$.exportSymbol("proto.v1.signaling.api.GetHealthRequest",null,et),$.exportSymbol("proto.v1.signaling.api.GetHealthResponse",null,et),$.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,et),$.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,et),$.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,et),$.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,et),$.exportSymbol("proto.v1.signaling.api.Peer",null,et),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,et),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,et),$.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,et),$.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,et),$.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,et),$.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,et),$.exportSymbol("proto.v1.signaling.api.SessionType",null,et),$.exportSymbol("proto.v1.signaling.api.Signal",null,et),proto.v1.signaling.api.Peer=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.Peer,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.Signal,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.GetHealthRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthRequest.displayName="proto.v1.signaling.api.GetHealthRequest"),proto.v1.signaling.api.GetHealthResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthResponse.displayName="proto.v1.signaling.api.GetHealthResponse"),proto.v1.signaling.api.CreatePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetPeersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.GetPeersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(j){return proto.v1.signaling.api.Peer.toObject(j,this)},proto.v1.signaling.api.Peer.toObject=function(j,st){var lt,gt={peerId:_.Message.getFieldWithDefault(st,1,""),organizationId:_.Message.getFieldWithDefault(st,2,""),userId:(lt=st.getUserId())&&rt.StringValue.toObject(j,lt),deviceId:(lt=st.getDeviceId())&&rt.StringValue.toObject(j,lt),sessionIdsList:(lt=_.Message.getRepeatedField(st,5))==null?void 0:lt,peerCreatedTimestamp:(lt=st.getPeerCreatedTimestamp())&&rt.Int64Value.toObject(j,lt)};return j&&(gt.$jspbMessageInstance=st),gt}),proto.v1.signaling.api.Peer.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readString();j.setPeerId(lt);break;case 2:lt=st.readString(),j.setOrganizationId(lt);break;case 3:lt=new rt.StringValue,st.readMessage(lt,rt.StringValue.deserializeBinaryFromReader),j.setUserId(lt);break;case 4:lt=new rt.StringValue,st.readMessage(lt,rt.StringValue.deserializeBinaryFromReader),j.setDeviceId(lt);break;case 5:lt=st.readString(),j.addSessionIds(lt);break;case 6:lt=new rt.Int64Value,st.readMessage(lt,rt.Int64Value.deserializeBinaryFromReader),j.setPeerCreatedTimestamp(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(j,st){var lt=void 0;(lt=j.getPeerId()).length>0&&st.writeString(1,lt),(lt=j.getOrganizationId()).length>0&&st.writeString(2,lt),(lt=j.getUserId())!=null&&st.writeMessage(3,lt,rt.StringValue.serializeBinaryToWriter),(lt=j.getDeviceId())!=null&&st.writeMessage(4,lt,rt.StringValue.serializeBinaryToWriter),(lt=j.getSessionIdsList()).length>0&&st.writeRepeatedString(5,lt),(lt=j.getPeerCreatedTimestamp())!=null&&st.writeMessage(6,lt,rt.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return _.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(j){return _.Message.setProto3StringField(this,2,j)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return _.Message.getWrapperField(this,rt.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(j){return _.Message.setWrapperField(this,3,j)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return _.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return _.Message.getWrapperField(this,rt.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(j){return _.Message.setWrapperField(this,4,j)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return _.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return _.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(j){return _.Message.setField(this,5,j||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(j,st){return _.Message.addToRepeatedField(this,5,j,st)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return _.Message.getWrapperField(this,rt.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(j){return _.Message.setWrapperField(this,6,j)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return _.Message.getField(this,6)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(j){return proto.v1.signaling.api.Signal.toObject(j,this)},proto.v1.signaling.api.Signal.toObject=function(j,st){var lt,gt={sessionId:(lt=st.getSessionId())&&rt.StringValue.toObject(j,lt),sessionCreatedTimestamp:(lt=st.getSessionCreatedTimestamp())&&rt.Int64Value.toObject(j,lt),senderId:_.Message.getFieldWithDefault(st,3,""),receiverId:_.Message.getFieldWithDefault(st,4,""),payload:_.Message.getFieldWithDefault(st,5,""),iceServers:_.Message.getFieldWithDefault(st,6,""),iceTransportPolicy:_.Message.getFieldWithDefault(st,7,""),sessionType:_.Message.getFieldWithDefault(st,8,0)};return j&&(gt.$jspbMessageInstance=st),gt}),proto.v1.signaling.api.Signal.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=new rt.StringValue;st.readMessage(lt,rt.StringValue.deserializeBinaryFromReader),j.setSessionId(lt);break;case 2:lt=new rt.Int64Value,st.readMessage(lt,rt.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(lt);break;case 3:lt=st.readString(),j.setSenderId(lt);break;case 4:lt=st.readString(),j.setReceiverId(lt);break;case 5:lt=st.readString(),j.setPayload(lt);break;case 6:lt=st.readString(),j.setIceServers(lt);break;case 7:lt=st.readString(),j.setIceTransportPolicy(lt);break;case 8:lt=st.readEnum(),j.setSessionType(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(j,st){var lt=void 0;(lt=j.getSessionId())!=null&&st.writeMessage(1,lt,rt.StringValue.serializeBinaryToWriter),(lt=j.getSessionCreatedTimestamp())!=null&&st.writeMessage(2,lt,rt.Int64Value.serializeBinaryToWriter),(lt=j.getSenderId()).length>0&&st.writeString(3,lt),(lt=j.getReceiverId()).length>0&&st.writeString(4,lt),(lt=j.getPayload()).length>0&&st.writeString(5,lt),(lt=j.getIceServers()).length>0&&st.writeString(6,lt),(lt=j.getIceTransportPolicy()).length>0&&st.writeString(7,lt),(lt=j.getSessionType())!==0&&st.writeEnum(8,lt)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return _.Message.getWrapperField(this,rt.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,rt.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return _.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(j){return _.Message.setProto3StringField(this,3,j)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return _.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(j){return _.Message.setProto3StringField(this,4,j)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return _.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(j){return _.Message.setProto3StringField(this,5,j)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,6,j)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return _.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(j){return _.Message.setProto3StringField(this,7,j)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return _.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(j){return _.Message.setProto3EnumField(this,8,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthRequest.toObject(j,this)},proto.v1.signaling.api.GetHealthRequest.toObject=function(j,st){var lt={};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.GetHealthRequest.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.GetHealthRequest;return proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return j},proto.v1.signaling.api.GetHealthRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter=function(j,st){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthResponse.toObject(j,this)},proto.v1.signaling.api.GetHealthResponse.toObject=function(j,st){var lt={version:_.Message.getFieldWithDefault(st,1,"")};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.GetHealthResponse.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.GetHealthResponse;return proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readString();j.setVersion(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.GetHealthResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getVersion()).length>0&&st.writeString(1,lt)},proto.v1.signaling.api.GetHealthResponse.prototype.getVersion=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetHealthResponse.prototype.setVersion=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerRequest.toObject(j,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(j,st){var lt={};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return j},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(j,st){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerResponse.toObject(j,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(j,st){var lt,gt={peer:(lt=st.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,lt)};return j&&(gt.$jspbMessageInstance=st),gt}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=new proto.v1.signaling.api.Peer;st.readMessage(lt,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getPeer())!=null&&st.writeMessage(1,lt,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerRequest.toObject(j,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(j,st){var lt={peerId:_.Message.getFieldWithDefault(st,1,"")};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readString();j.setPeerId(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getPeerId()).length>0&&st.writeString(1,lt)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerResponse.toObject(j,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(j,st){var lt={};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return j},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(j,st){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerRequest.toObject(j,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(j,st){var lt,gt={peer:(lt=st.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,lt)};return j&&(gt.$jspbMessageInstance=st),gt}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=new proto.v1.signaling.api.Peer;st.readMessage(lt,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getPeer())!=null&&st.writeMessage(1,lt,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerResponse.toObject(j,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(j,st){var lt={};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return j},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(j,st){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersRequest.toObject(j,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(j,st){var lt={};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return j},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(j,st){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersResponse.toObject(j,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(j,st){var lt={peersList:_.Message.toObjectList(st.getPeersList(),proto.v1.signaling.api.Peer.toObject,j)};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=new proto.v1.signaling.api.Peer;st.readMessage(lt,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.addPeers(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getPeersList()).length>0&&st.writeRepeatedMessage(1,lt,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return _.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(j){return _.Message.setRepeatedWrapperField(this,1,j)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(j,st){return _.Message.addToRepeatedWrapperField(this,1,j,proto.v1.signaling.api.Peer,st)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersRequest.toObject(j,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(j,st){var lt={};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return j},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(j,st){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersResponse.toObject(j,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(j,st){var lt={iceServers:_.Message.getFieldWithDefault(st,1,"")};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readString();j.setIceServers(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getIceServers()).length>0&&st.writeString(1,lt)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalRequest.toObject(j,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(j,st){var lt,gt={signal:(lt=st.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,lt)};return j&&(gt.$jspbMessageInstance=st),gt}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=new proto.v1.signaling.api.Signal;st.readMessage(lt,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getSignal())!=null&&st.writeMessage(1,lt,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalResponse.toObject(j,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(j,st){var lt,gt={sessionId:(lt=st.getSessionId())&&rt.StringValue.toObject(j,lt),sessionCreatedTimestamp:(lt=st.getSessionCreatedTimestamp())&&rt.Int64Value.toObject(j,lt)};return j&&(gt.$jspbMessageInstance=st),gt}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=new rt.StringValue;st.readMessage(lt,rt.StringValue.deserializeBinaryFromReader),j.setSessionId(lt);break;case 2:lt=new rt.Int64Value,st.readMessage(lt,rt.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(j,st){var lt=void 0;(lt=j.getSessionId())!=null&&st.writeMessage(1,lt,rt.StringValue.serializeBinaryToWriter),(lt=j.getSessionCreatedTimestamp())!=null&&st.writeMessage(2,lt,rt.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return _.Message.getWrapperField(this,rt.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,rt.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(j,st){var lt={peerId:_.Message.getFieldWithDefault(st,1,"")};return j&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readString();j.setPeerId(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getPeerId()).length>0&&st.writeString(1,lt)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(j,st){var lt,gt={signal:(lt=st.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,lt)};return j&&(gt.$jspbMessageInstance=st),gt}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(j){var st=new _.BinaryReader(j),lt=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(lt,st)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(j,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=new proto.v1.signaling.api.Signal;st.readMessage(lt,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(lt);break;default:st.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(j,st){var lt;(lt=j.getSignal())!=null&&st.writeMessage(1,lt,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3},$.object.extend(o,proto.v1.signaling.api)},function(i,o,s){s.d(o,"a",function(){return $});var _=s(34);class $ extends Error{constructor(rt,j,st,lt,gt={},bt){super(`Unexpected response (${st}) for ${rt} ${j}: ${JSON.stringify(bt?Object(_.a)([...bt.entries()].reduce((Ut,[Ft,yt])=>(Ut[Ft]=yt,Ut),{})):{})} -- ${JSON.stringify(Object(_.a)(lt))}`),this.method=rt,this.url=j,this.statusCode=st,this.body=lt,this.validationErrors=gt,this.headers=bt}}},function(i,o,s){function _($,et,rt=()=>!0){if(function(j,st,lt=()=>!0){return j instanceof st&&lt(j)}($,et,rt))return $;throw $}s.d(o,"a",function(){return _})},function(i,o,s){function _(Ut){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ft){return typeof Ft}:function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft})(Ut)}function $(Ut,Ft){return!Ft||_(Ft)!=="object"&&typeof Ft!="function"?et(Ut):Ft}function et(Ut){if(Ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ut}function rt(Ut){var Ft=typeof Map=="function"?new Map:void 0;return(rt=function(yt){if(yt===null||(Qt=yt,Function.toString.call(Qt).indexOf("[native code]")===-1))return yt;var Qt;if(typeof yt!="function")throw new TypeError("Super expression must either be null or a function");if(Ft!==void 0){if(Ft.has(yt))return Ft.get(yt);Ft.set(yt,wt)}function wt(){return j(yt,arguments,gt(this).constructor)}return wt.prototype=Object.create(yt.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),lt(wt,yt)})(Ut)}function j(Ut,Ft,yt){return(j=st()?Reflect.construct:function(Qt,wt,Tt){var Jt=[null];Jt.push.apply(Jt,wt);var At=new(Function.bind.apply(Qt,Jt));return Tt&&lt(At,Tt.prototype),At}).apply(null,arguments)}function st(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function lt(Ut,Ft){return(lt=Object.setPrototypeOf||function(yt,Qt){return yt.__proto__=Qt,yt})(Ut,Ft)}function gt(Ut){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(Ft){return Ft.__proto__||Object.getPrototypeOf(Ft)})(Ut)}var bt=function(Ut){(function(Tt,Jt){if(typeof Jt!="function"&&Jt!==null)throw new TypeError("Super expression must either be null or a function");Tt.prototype=Object.create(Jt&&Jt.prototype,{constructor:{value:Tt,writable:!0,configurable:!0}}),Jt&&lt(Tt,Jt)})(wt,Ut);var Ft,yt,Qt=(Ft=wt,yt=st(),function(){var Tt,Jt=gt(Ft);if(yt){var At=gt(this).constructor;Tt=Reflect.construct(Jt,arguments,At)}else Tt=Jt.apply(this,arguments);return $(this,Tt)});function wt(Tt){var Jt;return function(At,Nt){if(!(At instanceof Nt))throw new TypeError("Cannot call a class as a function")}(this,wt),Jt=Qt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(Tt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(et(Jt),wt),Jt}return wt}(rt(Error));i.exports=function(Ut){if(Ut.length>2)throw new bt(Ut);function Ft(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=Qt}function yt(Qt){return new Ft(Qt)}return Ft.prototype.transform=Ut,yt.Format=Ft,yt}},function(i,o,s){(function(_){var $=Object.getOwnPropertyDescriptors||function($t){for(var hn=Object.keys($t),dn={},zt=0;zt<hn.length;zt++)dn[hn[zt]]=Object.getOwnPropertyDescriptor($t,hn[zt]);return dn},et=/%[sdj%]/g;o.format=function($t){if(!Jt($t)){for(var hn=[],dn=0;dn<arguments.length;dn++)hn.push(st(arguments[dn]));return hn.join(" ")}dn=1;for(var zt=arguments,It=zt.length,gn=String($t).replace(et,function(Wn){if(Wn==="%%")return"%";if(dn>=It)return Wn;switch(Wn){case"%s":return String(zt[dn++]);case"%d":return Number(zt[dn++]);case"%j":try{return JSON.stringify(zt[dn++])}catch{return"[Circular]"}default:return Wn}}),vn=zt[dn];dn<It;vn=zt[++dn])wt(vn)||!St(vn)?gn+=" "+vn:gn+=" "+st(vn);return gn},o.deprecate=function($t,hn){if(_!==void 0&&_.noDeprecation===!0)return $t;if(_===void 0)return function(){return o.deprecate($t,hn).apply(this,arguments)};var dn=!1;return function(){if(!dn){if(_.throwDeprecation)throw new Error(hn);_.traceDeprecation?console.trace(hn):console.error(hn),dn=!0}return $t.apply(this,arguments)}};var rt,j={};function st($t,hn){var dn={seen:[],stylize:gt};return arguments.length>=3&&(dn.depth=arguments[2]),arguments.length>=4&&(dn.colors=arguments[3]),Qt(hn)?dn.showHidden=hn:hn&&o._extend(dn,hn),At(dn.showHidden)&&(dn.showHidden=!1),At(dn.depth)&&(dn.depth=2),At(dn.colors)&&(dn.colors=!1),At(dn.customInspect)&&(dn.customInspect=!0),dn.colors&&(dn.stylize=lt),bt(dn,$t,dn.depth)}function lt($t,hn){var dn=st.styles[hn];return dn?"\x1B["+st.colors[dn][0]+"m"+$t+"\x1B["+st.colors[dn][1]+"m":$t}function gt($t,hn){return $t}function bt($t,hn,dn){if($t.customInspect&&hn&&yn(hn.inspect)&&hn.inspect!==o.inspect&&(!hn.constructor||hn.constructor.prototype!==hn)){var zt=hn.inspect(dn,$t);return Jt(zt)||(zt=bt($t,zt,dn)),zt}var It=function(jt,Ht){if(At(Ht))return jt.stylize("undefined","undefined");if(Jt(Ht)){var _n="'"+JSON.stringify(Ht).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return jt.stylize(_n,"string")}if(Tt(Ht))return jt.stylize(""+Ht,"number");if(Qt(Ht))return jt.stylize(""+Ht,"boolean");if(wt(Ht))return jt.stylize("null","null")}($t,hn);if(It)return It;var gn=Object.keys(hn),vn=function(jt){var Ht={};return jt.forEach(function(_n,Dn){Ht[_n]=!0}),Ht}(gn);if($t.showHidden&&(gn=Object.getOwnPropertyNames(hn)),nn(hn)&&(gn.indexOf("message")>=0||gn.indexOf("description")>=0))return Ut(hn);if(gn.length===0){if(yn(hn)){var Wn=hn.name?": "+hn.name:"";return $t.stylize("[Function"+Wn+"]","special")}if(Nt(hn))return $t.stylize(RegExp.prototype.toString.call(hn),"regexp");if(Ot(hn))return $t.stylize(Date.prototype.toString.call(hn),"date");if(nn(hn))return Ut(hn)}var Ln,jn="",xn=!1,Rn=["{","}"];return yt(hn)&&(xn=!0,Rn=["[","]"]),yn(hn)&&(jn=" [Function"+(hn.name?": "+hn.name:"")+"]"),Nt(hn)&&(jn=" "+RegExp.prototype.toString.call(hn)),Ot(hn)&&(jn=" "+Date.prototype.toUTCString.call(hn)),nn(hn)&&(jn=" "+Ut(hn)),gn.length!==0||xn&&hn.length!=0?dn<0?Nt(hn)?$t.stylize(RegExp.prototype.toString.call(hn),"regexp"):$t.stylize("[Object]","special"):($t.seen.push(hn),Ln=xn?function(jt,Ht,_n,Dn,Tn){for(var Xn=[],or=0,Rr=Ht.length;or<Rr;++or)tn(Ht,String(or))?Xn.push(Ft(jt,Ht,_n,Dn,String(or),!0)):Xn.push("");return Tn.forEach(function(ao){ao.match(/^\d+$/)||Xn.push(Ft(jt,Ht,_n,Dn,ao,!0))}),Xn}($t,hn,dn,vn,gn):gn.map(function(jt){return Ft($t,hn,dn,vn,jt,xn)}),$t.seen.pop(),function(jt,Ht,_n){return jt.reduce(function(Dn,Tn){return Tn.indexOf(`
`)>=0,Dn+Tn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?_n[0]+(Ht===""?"":Ht+`
 `)+" "+jt.join(`,
  `)+" "+_n[1]:_n[0]+Ht+" "+jt.join(", ")+" "+_n[1]}(Ln,jn,Rn)):Rn[0]+jn+Rn[1]}function Ut($t){return"["+Error.prototype.toString.call($t)+"]"}function Ft($t,hn,dn,zt,It,gn){var vn,Wn,Ln;if((Ln=Object.getOwnPropertyDescriptor(hn,It)||{value:hn[It]}).get?Wn=Ln.set?$t.stylize("[Getter/Setter]","special"):$t.stylize("[Getter]","special"):Ln.set&&(Wn=$t.stylize("[Setter]","special")),tn(zt,It)||(vn="["+It+"]"),Wn||($t.seen.indexOf(Ln.value)<0?(Wn=wt(dn)?bt($t,Ln.value,null):bt($t,Ln.value,dn-1)).indexOf(`
`)>-1&&(Wn=gn?Wn.split(`
`).map(function(jn){return"  "+jn}).join(`
`).substr(2):`
`+Wn.split(`
`).map(function(jn){return"   "+jn}).join(`
`)):Wn=$t.stylize("[Circular]","special")),At(vn)){if(gn&&It.match(/^\d+$/))return Wn;(vn=JSON.stringify(""+It)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(vn=vn.substr(1,vn.length-2),vn=$t.stylize(vn,"name")):(vn=vn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),vn=$t.stylize(vn,"string"))}return vn+": "+Wn}function yt($t){return Array.isArray($t)}function Qt($t){return typeof $t=="boolean"}function wt($t){return $t===null}function Tt($t){return typeof $t=="number"}function Jt($t){return typeof $t=="string"}function At($t){return $t===void 0}function Nt($t){return St($t)&&Ct($t)==="[object RegExp]"}function St($t){return typeof $t=="object"&&$t!==null}function Ot($t){return St($t)&&Ct($t)==="[object Date]"}function nn($t){return St($t)&&(Ct($t)==="[object Error]"||$t instanceof Error)}function yn($t){return typeof $t=="function"}function Ct($t){return Object.prototype.toString.call($t)}function Vt($t){return $t<10?"0"+$t.toString(10):$t.toString(10)}o.debuglog=function($t){if(At(rt)&&(rt=_.env.NODE_DEBUG||""),$t=$t.toUpperCase(),!j[$t])if(new RegExp("\\b"+$t+"\\b","i").test(rt)){var hn=_.pid;j[$t]=function(){var dn=o.format.apply(o,arguments);console.error("%s %d: %s",$t,hn,dn)}}else j[$t]=function(){};return j[$t]},o.inspect=st,st.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},st.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=yt,o.isBoolean=Qt,o.isNull=wt,o.isNullOrUndefined=function($t){return $t==null},o.isNumber=Tt,o.isString=Jt,o.isSymbol=function($t){return typeof $t=="symbol"},o.isUndefined=At,o.isRegExp=Nt,o.isObject=St,o.isDate=Ot,o.isError=nn,o.isFunction=yn,o.isPrimitive=function($t){return $t===null||typeof $t=="boolean"||typeof $t=="number"||typeof $t=="string"||typeof $t=="symbol"||$t===void 0},o.isBuffer=s(107);var Yt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Pt(){var $t=new Date,hn=[Vt($t.getHours()),Vt($t.getMinutes()),Vt($t.getSeconds())].join(":");return[$t.getDate(),Yt[$t.getMonth()],hn].join(" ")}function tn($t,hn){return Object.prototype.hasOwnProperty.call($t,hn)}o.log=function(){console.log("%s - %s",Pt(),o.format.apply(o,arguments))},o.inherits=s(108),o._extend=function($t,hn){if(!hn||!St(hn))return $t;for(var dn=Object.keys(hn),zt=dn.length;zt--;)$t[dn[zt]]=hn[dn[zt]];return $t};var Un=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Kt($t,hn){if(!$t){var dn=new Error("Promise was rejected with a falsy value");dn.reason=$t,$t=dn}return hn($t)}o.promisify=function($t){if(typeof $t!="function")throw new TypeError('The "original" argument must be of type Function');if(Un&&$t[Un]){var hn;if(typeof(hn=$t[Un])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(hn,Un,{value:hn,enumerable:!1,writable:!1,configurable:!0}),hn}function hn(){for(var dn,zt,It=new Promise(function(Wn,Ln){dn=Wn,zt=Ln}),gn=[],vn=0;vn<arguments.length;vn++)gn.push(arguments[vn]);gn.push(function(Wn,Ln){Wn?zt(Wn):dn(Ln)});try{$t.apply(this,gn)}catch(Wn){zt(Wn)}return It}return Object.setPrototypeOf(hn,Object.getPrototypeOf($t)),Un&&Object.defineProperty(hn,Un,{value:hn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(hn,$($t))},o.promisify.custom=Un,o.callbackify=function($t){if(typeof $t!="function")throw new TypeError('The "original" argument must be of type Function');function hn(){for(var dn=[],zt=0;zt<arguments.length;zt++)dn.push(arguments[zt]);var It=dn.pop();if(typeof It!="function")throw new TypeError("The last argument must be of type Function");var gn=this,vn=function(){return It.apply(gn,arguments)};$t.apply(this,dn).then(function(Wn){_.nextTick(vn,null,Wn)},function(Wn){_.nextTick(Kt,Wn,vn)})}return Object.setPrototypeOf(hn,Object.getPrototypeOf($t)),Object.defineProperties(hn,$($t)),hn}}).call(this,s(2))},function(i,o,s){i.exports=function(_,$){$||($={}),typeof $=="function"&&($={cmp:$});var et,rt=typeof $.cycles=="boolean"&&$.cycles,j=$.cmp&&(et=$.cmp,function(lt){return function(gt,bt){var Ut={key:gt,value:lt[gt]},Ft={key:bt,value:lt[bt]};return et(Ut,Ft)}}),st=[];return function lt(gt){if(gt&&gt.toJSON&&typeof gt.toJSON=="function"&&(gt=gt.toJSON()),gt!==void 0){if(typeof gt=="number")return isFinite(gt)?""+gt:"null";if(typeof gt!="object")return JSON.stringify(gt);var bt,Ut;if(Array.isArray(gt)){for(Ut="[",bt=0;bt<gt.length;bt++)bt&&(Ut+=","),Ut+=lt(gt[bt])||"null";return Ut+"]"}if(gt===null)return"null";if(st.indexOf(gt)!==-1){if(rt)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var Ft=st.push(gt)-1,yt=Object.keys(gt).sort(j&&j(gt));for(Ut="",bt=0;bt<yt.length;bt++){var Qt=yt[bt],wt=lt(gt[Qt]);wt&&(Ut&&(Ut+=","),Ut+=JSON.stringify(Qt)+":"+wt)}return st.splice(Ft,1),"{"+Ut+"}"}}(_)}},function(i,o,s){(function(_){var $=_!==void 0&&_||typeof self<"u"&&self||window,et=Function.prototype.apply;function rt(j,st){this._id=j,this._clearFn=st}o.setTimeout=function(){return new rt(et.call(setTimeout,$,arguments),clearTimeout)},o.setInterval=function(){return new rt(et.call(setInterval,$,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(j){j&&j.close()},rt.prototype.unref=rt.prototype.ref=function(){},rt.prototype.close=function(){this._clearFn.call($,this._id)},o.enroll=function(j,st){clearTimeout(j._idleTimeoutId),j._idleTimeout=st},o.unenroll=function(j){clearTimeout(j._idleTimeoutId),j._idleTimeout=-1},o._unrefActive=o.active=function(j){clearTimeout(j._idleTimeoutId);var st=j._idleTimeout;st>=0&&(j._idleTimeoutId=setTimeout(function(){j._onTimeout&&j._onTimeout()},st))},s(141),o.setImmediate=typeof self<"u"&&self.setImmediate||_!==void 0&&_.setImmediate||this&&this.setImmediate,o.clearImmediate=typeof self<"u"&&self.clearImmediate||_!==void 0&&_.clearImmediate||this&&this.clearImmediate}).call(this,s(6))},function(i,o,s){(function(_){_===void 0||!_.version||_.version.indexOf("v0.")===0||_.version.indexOf("v1.")===0&&_.version.indexOf("v1.8.")!==0?i.exports={nextTick:function($,et,rt,j){if(typeof $!="function")throw new TypeError('"callback" argument must be a function');var st,lt,gt=arguments.length;switch(gt){case 0:case 1:return _.nextTick($);case 2:return _.nextTick(function(){$.call(null,et)});case 3:return _.nextTick(function(){$.call(null,et,rt)});case 4:return _.nextTick(function(){$.call(null,et,rt,j)});default:for(st=new Array(gt-1),lt=0;lt<st.length;)st[lt++]=arguments[lt];return _.nextTick(function(){$.apply(null,st)})}}}:i.exports=_}).call(this,s(2))},function(i,o,s){(function(_){function $(et){return Object.prototype.toString.call(et)}o.isArray=function(et){return Array.isArray?Array.isArray(et):$(et)==="[object Array]"},o.isBoolean=function(et){return typeof et=="boolean"},o.isNull=function(et){return et===null},o.isNullOrUndefined=function(et){return et==null},o.isNumber=function(et){return typeof et=="number"},o.isString=function(et){return typeof et=="string"},o.isSymbol=function(et){return typeof et=="symbol"},o.isUndefined=function(et){return et===void 0},o.isRegExp=function(et){return $(et)==="[object RegExp]"},o.isObject=function(et){return typeof et=="object"&&et!==null},o.isDate=function(et){return $(et)==="[object Date]"},o.isError=function(et){return $(et)==="[object Error]"||et instanceof Error},o.isFunction=function(et){return typeof et=="function"},o.isPrimitive=function(et){return et===null||typeof et=="boolean"||typeof et=="number"||typeof et=="string"||typeof et=="symbol"||et===void 0},o.isBuffer=_.isBuffer}).call(this,s(5).Buffer)},function(i,o){o.endianness=function(){return"LE"},o.hostname=function(){return typeof location<"u"?location.hostname:""},o.loadavg=function(){return[]},o.uptime=function(){return 0},o.freemem=function(){return Number.MAX_VALUE},o.totalmem=function(){return Number.MAX_VALUE},o.cpus=function(){return[]},o.type=function(){return"Browser"},o.release=function(){return typeof navigator<"u"?navigator.appVersion:""},o.networkInterfaces=o.getNetworkInterfaces=function(){return{}},o.arch=function(){return"javascript"},o.platform=function(){return"browser"},o.tmpdir=o.tmpDir=function(){return"/tmp"},o.EOL=`
`,o.homedir=function(){return"/"}},function(i,o,s){var _=s(58),$=s(61).warn,et=o;et.version=s(138).version,et.transports=s(139),et.config=s(50),et.addColors=_.levels,et.format=_.format,et.createLogger=s(88),et.ExceptionHandler=s(89),et.RejectionHandler=s(93),et.Container=s(210),et.Transport=s(20),et.loggers=new et.Container;var rt=et.createLogger();Object.keys(et.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(j){return et[j]=function(){return rt[j].apply(rt,arguments)}}),Object.defineProperty(et,"level",{get:function(){return rt.level},set:function(j){rt.level=j}}),Object.defineProperty(et,"exceptions",{get:function(){return rt.exceptions}}),["exitOnError"].forEach(function(j){Object.defineProperty(et,j,{get:function(){return rt[j]},set:function(st){rt[j]=st}})}),Object.defineProperty(et,"default",{get:function(){return{exceptionHandlers:rt.exceptionHandlers,rejectionHandlers:rt.rejectionHandlers,transports:rt.transports}}}),$.deprecated(et,"setLevels"),$.forFunctions(et,"useFormat",["cli"]),$.forProperties(et,"useFormat",["padLevels","stripColors"]),$.forFunctions(et,"deprecated",["addRewriter","addFilter","clone","extend"]),$.forProperties(et,"deprecated",["emitErrs","levelLength"]),$.moved(et,"createLogger","Logger")},function(i,o,s){var _=s(13),$=s(142),et=s(3).LEVEL,rt=i.exports=function(){var j=this,st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:st.highWaterMark}),this.format=st.format,this.level=st.level,this.handleExceptions=st.handleExceptions,this.handleRejections=st.handleRejections,this.silent=st.silent,st.log&&(this.log=st.log),st.logv&&(this.logv=st.logv),st.close&&(this.close=st.close),this.once("pipe",function(lt){j.levels=lt.levels,j.parent=lt}),this.once("unpipe",function(lt){lt===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(rt,$),rt.prototype._write=function(j,st,lt){if(this.silent||j.exception===!0&&!this.handleExceptions)return lt(null);var gt=this.level||this.parent&&this.parent.level;if(!gt||this.levels[gt]>=this.levels[j[et]]){if(j&&!this.format)return this.log(j,lt);var bt=void 0,Ut=void 0;try{Ut=this.format.transform(Object.assign({},j),this.format.options)}catch(Ft){bt=Ft}if(bt||!Ut){if(lt(),bt)throw bt;return}return this.log(Ut,lt)}return lt(null)},rt.prototype._writev=function(j,st){if(this.logv){var lt=j.filter(this._accept,this);return lt.length?this.logv(lt,st):st(null)}for(var gt=0;gt<j.length;gt++)if(this._accept(j[gt]))if(!j[gt].chunk||this.format){var bt=void 0,Ut=void 0;try{Ut=this.format.transform(Object.assign({},j[gt].chunk),this.format.options)}catch(Ft){bt=Ft}if(bt||!Ut){if(j[gt].callback(),bt)throw st(null),bt}else this.log(Ut,j[gt].callback)}else this.log(j[gt].chunk,j[gt].callback);return st(null)},rt.prototype._accept=function(j){var st=j.chunk;if(this.silent)return!1;var lt=this.level||this.parent&&this.parent.level;return!(st.exception!==!0&&lt&&!(this.levels[lt]>=this.levels[st[et]])||!this.handleExceptions&&st.exception===!0)},rt.prototype._nop=function(){},i.exports.LegacyTransportStream=s(148)},function(i,o,s){var _,$=typeof Reflect=="object"?Reflect:null,et=$&&typeof $.apply=="function"?$.apply:function(wt,Tt,Jt){return Function.prototype.apply.call(wt,Tt,Jt)};_=$&&typeof $.ownKeys=="function"?$.ownKeys:Object.getOwnPropertySymbols?function(wt){return Object.getOwnPropertyNames(wt).concat(Object.getOwnPropertySymbols(wt))}:function(wt){return Object.getOwnPropertyNames(wt)};var rt=Number.isNaN||function(wt){return wt!=wt};function j(){j.init.call(this)}i.exports=j,j.EventEmitter=j,j.prototype._events=void 0,j.prototype._eventsCount=0,j.prototype._maxListeners=void 0;var st=10;function lt(wt){return wt._maxListeners===void 0?j.defaultMaxListeners:wt._maxListeners}function gt(wt,Tt,Jt,At){var Nt,St,Ot,nn;if(typeof Jt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Jt);if((St=wt._events)===void 0?(St=wt._events=Object.create(null),wt._eventsCount=0):(St.newListener!==void 0&&(wt.emit("newListener",Tt,Jt.listener?Jt.listener:Jt),St=wt._events),Ot=St[Tt]),Ot===void 0)Ot=St[Tt]=Jt,++wt._eventsCount;else if(typeof Ot=="function"?Ot=St[Tt]=At?[Jt,Ot]:[Ot,Jt]:At?Ot.unshift(Jt):Ot.push(Jt),(Nt=lt(wt))>0&&Ot.length>Nt&&!Ot.warned){Ot.warned=!0;var yn=new Error("Possible EventEmitter memory leak detected. "+Ot.length+" "+String(Tt)+" listeners added. Use emitter.setMaxListeners() to increase limit");yn.name="MaxListenersExceededWarning",yn.emitter=wt,yn.type=Tt,yn.count=Ot.length,nn=yn,console&&console.warn&&console.warn(nn)}return wt}function bt(){for(var wt=[],Tt=0;Tt<arguments.length;Tt++)wt.push(arguments[Tt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,et(this.listener,this.target,wt))}function Ut(wt,Tt,Jt){var At={fired:!1,wrapFn:void 0,target:wt,type:Tt,listener:Jt},Nt=bt.bind(At);return Nt.listener=Jt,At.wrapFn=Nt,Nt}function Ft(wt,Tt,Jt){var At=wt._events;if(At===void 0)return[];var Nt=At[Tt];return Nt===void 0?[]:typeof Nt=="function"?Jt?[Nt.listener||Nt]:[Nt]:Jt?function(St){for(var Ot=new Array(St.length),nn=0;nn<Ot.length;++nn)Ot[nn]=St[nn].listener||St[nn];return Ot}(Nt):Qt(Nt,Nt.length)}function yt(wt){var Tt=this._events;if(Tt!==void 0){var Jt=Tt[wt];if(typeof Jt=="function")return 1;if(Jt!==void 0)return Jt.length}return 0}function Qt(wt,Tt){for(var Jt=new Array(Tt),At=0;At<Tt;++At)Jt[At]=wt[At];return Jt}Object.defineProperty(j,"defaultMaxListeners",{enumerable:!0,get:function(){return st},set:function(wt){if(typeof wt!="number"||wt<0||rt(wt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+wt+".");st=wt}}),j.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(wt){if(typeof wt!="number"||wt<0||rt(wt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+wt+".");return this._maxListeners=wt,this},j.prototype.getMaxListeners=function(){return lt(this)},j.prototype.emit=function(wt){for(var Tt=[],Jt=1;Jt<arguments.length;Jt++)Tt.push(arguments[Jt]);var At=wt==="error",Nt=this._events;if(Nt!==void 0)At=At&&Nt.error===void 0;else if(!At)return!1;if(At){var St;if(Tt.length>0&&(St=Tt[0]),St instanceof Error)throw St;var Ot=new Error("Unhandled error."+(St?" ("+St.message+")":""));throw Ot.context=St,Ot}var nn=Nt[wt];if(nn===void 0)return!1;if(typeof nn=="function")et(nn,this,Tt);else{var yn=nn.length,Ct=Qt(nn,yn);for(Jt=0;Jt<yn;++Jt)et(Ct[Jt],this,Tt)}return!0},j.prototype.addListener=function(wt,Tt){return gt(this,wt,Tt,!1)},j.prototype.on=j.prototype.addListener,j.prototype.prependListener=function(wt,Tt){return gt(this,wt,Tt,!0)},j.prototype.once=function(wt,Tt){if(typeof Tt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Tt);return this.on(wt,Ut(this,wt,Tt)),this},j.prototype.prependOnceListener=function(wt,Tt){if(typeof Tt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Tt);return this.prependListener(wt,Ut(this,wt,Tt)),this},j.prototype.removeListener=function(wt,Tt){var Jt,At,Nt,St,Ot;if(typeof Tt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Tt);if((At=this._events)===void 0)return this;if((Jt=At[wt])===void 0)return this;if(Jt===Tt||Jt.listener===Tt)--this._eventsCount==0?this._events=Object.create(null):(delete At[wt],At.removeListener&&this.emit("removeListener",wt,Jt.listener||Tt));else if(typeof Jt!="function"){for(Nt=-1,St=Jt.length-1;St>=0;St--)if(Jt[St]===Tt||Jt[St].listener===Tt){Ot=Jt[St].listener,Nt=St;break}if(Nt<0)return this;Nt===0?Jt.shift():function(nn,yn){for(;yn+1<nn.length;yn++)nn[yn]=nn[yn+1];nn.pop()}(Jt,Nt),Jt.length===1&&(At[wt]=Jt[0]),At.removeListener!==void 0&&this.emit("removeListener",wt,Ot||Tt)}return this},j.prototype.off=j.prototype.removeListener,j.prototype.removeAllListeners=function(wt){var Tt,Jt,At;if((Jt=this._events)===void 0)return this;if(Jt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Jt[wt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Jt[wt]),this;if(arguments.length===0){var Nt,St=Object.keys(Jt);for(At=0;At<St.length;++At)(Nt=St[At])!=="removeListener"&&this.removeAllListeners(Nt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Tt=Jt[wt])=="function")this.removeListener(wt,Tt);else if(Tt!==void 0)for(At=Tt.length-1;At>=0;At--)this.removeListener(wt,Tt[At]);return this},j.prototype.listeners=function(wt){return Ft(this,wt,!0)},j.prototype.rawListeners=function(wt){return Ft(this,wt,!1)},j.listenerCount=function(wt,Tt){return typeof wt.listenerCount=="function"?wt.listenerCount(Tt):yt.call(wt,Tt)},j.prototype.listenerCount=yt,j.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]}},function(i,o,s){var _=s(147).Buffer,$=_.isEncoding||function(yt){switch((yt=""+yt)&&yt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function et(yt){var Qt;switch(this.encoding=function(wt){var Tt=function(Jt){if(!Jt)return"utf8";for(var At;;)switch(Jt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Jt;default:if(At)return;Jt=(""+Jt).toLowerCase(),At=!0}}(wt);if(typeof Tt!="string"&&(_.isEncoding===$||!$(wt)))throw new Error("Unknown encoding: "+wt);return Tt||wt}(yt),this.encoding){case"utf16le":this.text=st,this.end=lt,Qt=4;break;case"utf8":this.fillLast=j,Qt=4;break;case"base64":this.text=gt,this.end=bt,Qt=3;break;default:return this.write=Ut,void(this.end=Ft)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(Qt)}function rt(yt){return yt<=127?0:yt>>5==6?2:yt>>4==14?3:yt>>3==30?4:yt>>6==2?-1:-2}function j(yt){var Qt=this.lastTotal-this.lastNeed,wt=function(Tt,Jt,At){if((192&Jt[0])!=128)return Tt.lastNeed=0,"";if(Tt.lastNeed>1&&Jt.length>1){if((192&Jt[1])!=128)return Tt.lastNeed=1,"";if(Tt.lastNeed>2&&Jt.length>2&&(192&Jt[2])!=128)return Tt.lastNeed=2,""}}(this,yt);return wt!==void 0?wt:this.lastNeed<=yt.length?(yt.copy(this.lastChar,Qt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(yt.copy(this.lastChar,Qt,0,yt.length),void(this.lastNeed-=yt.length))}function st(yt,Qt){if((yt.length-Qt)%2==0){var wt=yt.toString("utf16le",Qt);if(wt){var Tt=wt.charCodeAt(wt.length-1);if(Tt>=55296&&Tt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=yt[yt.length-2],this.lastChar[1]=yt[yt.length-1],wt.slice(0,-1)}return wt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=yt[yt.length-1],yt.toString("utf16le",Qt,yt.length-1)}function lt(yt){var Qt=yt&&yt.length?this.write(yt):"";if(this.lastNeed){var wt=this.lastTotal-this.lastNeed;return Qt+this.lastChar.toString("utf16le",0,wt)}return Qt}function gt(yt,Qt){var wt=(yt.length-Qt)%3;return wt===0?yt.toString("base64",Qt):(this.lastNeed=3-wt,this.lastTotal=3,wt===1?this.lastChar[0]=yt[yt.length-1]:(this.lastChar[0]=yt[yt.length-2],this.lastChar[1]=yt[yt.length-1]),yt.toString("base64",Qt,yt.length-wt))}function bt(yt){var Qt=yt&&yt.length?this.write(yt):"";return this.lastNeed?Qt+this.lastChar.toString("base64",0,3-this.lastNeed):Qt}function Ut(yt){return yt.toString(this.encoding)}function Ft(yt){return yt&&yt.length?this.write(yt):""}o.StringDecoder=et,et.prototype.write=function(yt){if(yt.length===0)return"";var Qt,wt;if(this.lastNeed){if((Qt=this.fillLast(yt))===void 0)return"";wt=this.lastNeed,this.lastNeed=0}else wt=0;return wt<yt.length?Qt?Qt+this.text(yt,wt):this.text(yt,wt):Qt||""},et.prototype.end=function(yt){var Qt=yt&&yt.length?this.write(yt):"";return this.lastNeed?Qt+"":Qt},et.prototype.text=function(yt,Qt){var wt=function(Jt,At,Nt){var St=At.length-1;if(St<Nt)return 0;var Ot=rt(At[St]);return Ot>=0?(Ot>0&&(Jt.lastNeed=Ot-1),Ot):--St<Nt||Ot===-2?0:(Ot=rt(At[St]))>=0?(Ot>0&&(Jt.lastNeed=Ot-2),Ot):--St<Nt||Ot===-2?0:(Ot=rt(At[St]))>=0?(Ot>0&&(Ot===2?Ot=0:Jt.lastNeed=Ot-3),Ot):0}(this,yt,Qt);if(!this.lastNeed)return yt.toString("utf8",Qt);this.lastTotal=wt;var Tt=yt.length-(wt-this.lastNeed);return yt.copy(this.lastChar,0,Tt),yt.toString("utf8",Qt,Tt)},et.prototype.fillLast=function(yt){if(this.lastNeed<=yt.length)return yt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);yt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,yt.length),this.lastNeed-=yt.length}},function(i,o,s){var _=s(16),$=Object.keys||function(yt){var Qt=[];for(var wt in yt)Qt.push(wt);return Qt};i.exports=bt;var et=s(17);et.inherits=s(7);var rt=s(69),j=s(48);et.inherits(bt,rt);for(var st=$(j.prototype),lt=0;lt<st.length;lt++){var gt=st[lt];bt.prototype[gt]||(bt.prototype[gt]=j.prototype[gt])}function bt(yt){if(!(this instanceof bt))return new bt(yt);rt.call(this,yt),j.call(this,yt),yt&&yt.readable===!1&&(this.readable=!1),yt&&yt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,yt&&yt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ut)}function Ut(){this.allowHalfOpen||this._writableState.ended||_.nextTick(Ft,this)}function Ft(yt){yt.end()}Object.defineProperty(bt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(bt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(yt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=yt,this._writableState.destroyed=yt)}}),bt.prototype._destroy=function(yt,Qt){this.push(null),this.end(),_.nextTick(Qt,yt)}},function(i,o,s){(function(_){function $(sn){var wn=0;return function(){return wn<sn.length?{done:!1,value:sn[wn++]}:{done:!0}}}var et=typeof Object.defineProperties=="function"?Object.defineProperty:function(sn,wn,Yn){sn!=Array.prototype&&sn!=Object.prototype&&(sn[wn]=Yn.value)},rt=function(sn){sn=[typeof window=="object"&&window,typeof self=="object"&&self,typeof _=="object"&&_,sn];for(var wn=0;wn<sn.length;++wn){var Yn=sn[wn];if(Yn&&Yn.Math==Math)return Yn}throw Error("Cannot find global object")}(this);function j(sn,wn){if(wn){var Yn=rt;sn=sn.split(".");for(var dr=0;dr<sn.length-1;dr++){var Br=sn[dr];Br in Yn||(Yn[Br]={}),Yn=Yn[Br]}(wn=wn(dr=Yn[sn=sn[sn.length-1]]))!=dr&&wn!=null&&et(Yn,sn,{configurable:!0,writable:!0,value:wn})}}function st(sn){var wn=typeof Symbol<"u"&&Symbol.iterator&&sn[Symbol.iterator];return wn?wn.call(sn):{next:$(sn)}}j("Object.is",function(sn){return sn||function(wn,Yn){return wn===Yn?wn!==0||1/wn==1/Yn:wn!=wn&&Yn!=Yn}}),j("Array.prototype.includes",function(sn){return sn||function(wn,Yn){var dr=this;dr instanceof String&&(dr=String(dr));var Br=dr.length;for(0>(Yn=Yn||0)&&(Yn=Math.max(Yn+Br,0));Yn<Br;Yn++){var Or=dr[Yn];if(Or===wn||Object.is(Or,wn))return!0}return!1}}),j("Promise",function(sn){function wn(vr){this.b=0,this.c=void 0,this.a=[];var Ar=this.f();try{vr(Ar.resolve,Ar.reject)}catch(oo){Ar.reject(oo)}}function Yn(){this.a=null}function dr(vr){return vr instanceof wn?vr:new wn(function(Ar){Ar(vr)})}if(sn)return sn;Yn.prototype.b=function(vr){if(this.a==null){this.a=[];var Ar=this;this.c(function(){Ar.g()})}this.a.push(vr)};var Br=rt.setTimeout;Yn.prototype.c=function(vr){Br(vr,0)},Yn.prototype.g=function(){for(;this.a&&this.a.length;){var vr=this.a;this.a=[];for(var Ar=0;Ar<vr.length;++Ar){var oo=vr[Ar];vr[Ar]=null;try{oo()}catch(ho){this.f(ho)}}}this.a=null},Yn.prototype.f=function(vr){this.c(function(){throw vr})},wn.prototype.f=function(){function vr(ho){return function(Eo){oo||(oo=!0,ho.call(Ar,Eo))}}var Ar=this,oo=!1;return{resolve:vr(this.m),reject:vr(this.g)}},wn.prototype.m=function(vr){if(vr===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(vr instanceof wn)this.o(vr);else{e:switch(typeof vr){case"object":var Ar=vr!=null;break e;case"function":Ar=!0;break e;default:Ar=!1}Ar?this.l(vr):this.h(vr)}},wn.prototype.l=function(vr){var Ar=void 0;try{Ar=vr.then}catch(oo){return void this.g(oo)}typeof Ar=="function"?this.u(Ar,vr):this.h(vr)},wn.prototype.g=function(vr){this.i(2,vr)},wn.prototype.h=function(vr){this.i(1,vr)},wn.prototype.i=function(vr,Ar){if(this.b!=0)throw Error("Cannot settle("+vr+", "+Ar+"): Promise already settled in state"+this.b);this.b=vr,this.c=Ar,this.j()},wn.prototype.j=function(){if(this.a!=null){for(var vr=0;vr<this.a.length;++vr)Or.b(this.a[vr]);this.a=null}};var Or=new Yn;return wn.prototype.o=function(vr){var Ar=this.f();vr.w(Ar.resolve,Ar.reject)},wn.prototype.u=function(vr,Ar){var oo=this.f();try{vr.call(Ar,oo.resolve,oo.reject)}catch(ho){oo.reject(ho)}},wn.prototype.then=function(vr,Ar){function oo(Co,jo){return typeof Co=="function"?function(js){try{ho(Co(js))}catch(Gs){Eo(Gs)}}:jo}var ho,Eo,ps=new wn(function(Co,jo){ho=Co,Eo=jo});return this.w(oo(vr,ho),oo(Ar,Eo)),ps},wn.prototype.catch=function(vr){return this.then(void 0,vr)},wn.prototype.w=function(vr,Ar){function oo(){switch(ho.b){case 1:vr(ho.c);break;case 2:Ar(ho.c);break;default:throw Error("Unexpected state: "+ho.b)}}var ho=this;this.a==null?Or.b(oo):this.a.push(oo)},wn.resolve=dr,wn.reject=function(vr){return new wn(function(Ar,oo){oo(vr)})},wn.race=function(vr){return new wn(function(Ar,oo){for(var ho=st(vr),Eo=ho.next();!Eo.done;Eo=ho.next())dr(Eo.value).w(Ar,oo)})},wn.all=function(vr){var Ar=st(vr),oo=Ar.next();return oo.done?dr([]):new wn(function(ho,Eo){function ps(js){return function(Gs){Co[js]=Gs,--jo==0&&ho(Co)}}var Co=[],jo=0;do Co.push(void 0),jo++,dr(oo.value).w(ps(Co.length-1),Eo),oo=Ar.next();while(!oo.done)})},wn});var lt=lt||{},gt=this||self;function bt(sn,wn){sn=sn.split("."),wn=wn||gt;for(var Yn=0;Yn<sn.length;Yn++)if((wn=wn[sn[Yn]])==null)return null;return wn}function Ut(){}function Ft(sn){var wn=typeof sn;if(wn=="object"){if(!sn)return"null";if(sn instanceof Array)return"array";if(sn instanceof Object)return wn;var Yn=Object.prototype.toString.call(sn);if(Yn=="[object Window]")return"object";if(Yn=="[object Array]"||typeof sn.length=="number"&&sn.splice!==void 0&&sn.propertyIsEnumerable!==void 0&&!sn.propertyIsEnumerable("splice"))return"array";if(Yn=="[object Function]"||sn.call!==void 0&&sn.propertyIsEnumerable!==void 0&&!sn.propertyIsEnumerable("call"))return"function"}else if(wn=="function"&&sn.call===void 0)return"object";return wn}function yt(sn){var wn=typeof sn;return wn=="object"&&sn!=null||wn=="function"}function Qt(sn,wn,Yn){return sn.call.apply(sn.bind,arguments)}function wt(sn,wn,Yn){if(!sn)throw Error();if(2<arguments.length){var dr=Array.prototype.slice.call(arguments,2);return function(){var Br=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Br,dr),sn.apply(wn,Br)}}return function(){return sn.apply(wn,arguments)}}function Tt(sn,wn,Yn){return(Tt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qt:wt).apply(null,arguments)}function Jt(sn,wn){function Yn(){}Yn.prototype=wn.prototype,sn.S=wn.prototype,sn.prototype=new Yn,sn.prototype.constructor=sn}function At(){this.a={}}function Nt(sn,wn,Yn,dr){this.f=sn,this.c=wn,this.b=Yn,this.a=dr}function St(sn,wn,Yn,dr){Yn=Yn===void 0?{}:Yn,this.c=sn,this.a=Yn,this.b=wn,this.f=dr===void 0?null:dr}function Ot(sn,wn,Yn,dr,Br,Or){this.name=sn,this.a=Br,this.b=Or}function nn(sn,wn,Yn){Yn=Yn===void 0?{}:Yn;var dr=dr===void 0?new At:dr;return new Nt(wn,sn,Yn,dr)}function yn(sn,wn,Yn,dr){return dr instanceof Ot?dr:new Ot(sn,Yn,dr.b||wn.constructor,dr.f,dr.a,dr.c)}function Ct(sn){this.a=sn}function Vt(sn){switch(sn){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function Yt(sn){if(Error.captureStackTrace)Error.captureStackTrace(this,Yt);else{var wn=Error().stack;wn&&(this.stack=wn)}sn&&(this.message=String(sn))}function Pt(sn,wn){for(var Yn="",dr=(sn=sn.split("%s")).length-1,Br=0;Br<dr;Br++)Yn+=sn[Br]+(Br<wn.length?wn[Br]:"%s");Yt.call(this,Yn+sn[dr])}function tn(){this.j=null,this.i=[],this.l=0,this.b=Un,this.f=this.a=this.h=0,this.c=null,this.g=0}At.prototype.get=function(sn){return this.a[sn]},At.prototype.f=function(){return Object.keys(this.a)},Nt.prototype.getRequestMessage=function(){return this.f},Nt.prototype.getMethodDescriptor=function(){return this.c},Nt.prototype.getMetadata=function(){return this.b},Nt.prototype.getCallOptions=function(){return this.a},St.prototype.getResponseMessage=function(){return this.c},St.prototype.getMetadata=function(){return this.a},St.prototype.getMethodDescriptor=function(){return this.b},St.prototype.getStatus=function(){return this.f},Ct.prototype.on=function(sn,wn){return sn=="data"||sn=="error"?this:this.a.on(sn,wn)},Ct.prototype.removeListener=function(sn,wn){return this.a.removeListener(sn,wn)},Ct.prototype.cancel=function(){this.a.cancel()},Jt(Yt,Error),Yt.prototype.name="CustomError",Jt(Pt,Yt),Pt.prototype.name="AssertionError";var Un=0,Kt=1,$t=2,hn=3,dn=0,zt=128;function It(sn,wn,Yn,dr){throw sn.b=hn,sn.j="The stream is broken @"+sn.l+"/"+Yn+". Error: "+dr+`. With input:
`+wn,Error(sn.j)}var gn=Array.prototype.indexOf?function(sn,wn){return Array.prototype.indexOf.call(sn,wn,void 0)}:function(sn,wn){if(typeof sn=="string")return typeof wn!="string"||wn.length!=1?-1:sn.indexOf(wn,0);for(var Yn=0;Yn<sn.length;Yn++)if(Yn in sn&&sn[Yn]===wn)return Yn;return-1},vn,Wn=String.prototype.trim?function(sn){return sn.trim()}:function(sn){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(sn)[1]};function Ln(sn,wn){return sn.indexOf(wn)!=-1}function jn(sn,wn){return sn<wn?-1:sn>wn?1:0}e:{var xn=gt.navigator;if(xn){var Rn=xn.userAgent;if(Rn){vn=Rn;break e}}vn=""}var jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ht(sn){var wn=1;sn=sn.split(":");for(var Yn=[];0<wn&&sn.length;)Yn.push(sn.shift()),wn--;return sn.length&&Yn.push(sn.join(":")),Yn}function _n(sn){return _n[" "](sn),sn}_n[" "]=Ut;var Dn,Tn,Xn=Ln(vn,"Opera"),or=Ln(vn,"Trident")||Ln(vn,"MSIE"),Rr=Ln(vn,"Edge"),ao=Ln(vn,"Gecko")&&!(Ln(vn.toLowerCase(),"webkit")&&!Ln(vn,"Edge"))&&!(Ln(vn,"Trident")||Ln(vn,"MSIE"))&&!Ln(vn,"Edge"),Vo=Ln(vn.toLowerCase(),"webkit")&&!Ln(vn,"Edge");function bo(){var sn=gt.document;return sn?sn.documentMode:void 0}e:{var Po="",_o=(Tn=vn,ao?/rv:([^\);]+)(\)|;)/.exec(Tn):Rr?/Edge\/([\d\.]+)/.exec(Tn):or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Tn):Vo?/WebKit\/(\S+)/.exec(Tn):Xn?/(?:Version)[ \/]?(\S+)/.exec(Tn):void 0);if(_o&&(Po=_o?_o[1]:""),or){var Qo=bo();if(Qo!=null&&Qo>parseFloat(Po)){Dn=String(Qo);break e}}Dn=Po}var zo,Ao={};function qo(sn){return function(wn,Yn){var dr=Ao;return Object.prototype.hasOwnProperty.call(dr,wn)?dr[wn]:dr[wn]=Yn(wn)}(sn,function(){for(var wn=0,Yn=Wn(String(Dn)).split("."),dr=Wn(String(sn)).split("."),Br=Math.max(Yn.length,dr.length),Or=0;wn==0&&Or<Br;Or++){var vr=Yn[Or]||"",Ar=dr[Or]||"";do{if(vr=/(\d*)(\D*)(.*)/.exec(vr)||["","","",""],Ar=/(\d*)(\D*)(.*)/.exec(Ar)||["","","",""],vr[0].length==0&&Ar[0].length==0)break;wn=jn(vr[1].length==0?0:parseInt(vr[1],10),Ar[1].length==0?0:parseInt(Ar[1],10))||jn(vr[2].length==0,Ar[2].length==0)||jn(vr[2],Ar[2]),vr=vr[3],Ar=Ar[3]}while(wn==0)}return 0<=wn})}if(gt.document&&or){var Do=bo();zo=Do||parseInt(Dn,10)||void 0}else zo=void 0;var ws=zo;function Wo(){this.F=this.F}Wo.prototype.F=!1;var Fl,ys=Object.freeze||function(sn){return sn};(Fl=!or)||(Fl=9<=Number(ws));var Ys=Fl,ss=or&&!qo("9"),su=function(){if(!gt.addEventListener||!Object.defineProperty)return!1;var sn=!1,wn=Object.defineProperty({},"passive",{get:function(){sn=!0}});try{gt.addEventListener("test",Ut,wn),gt.removeEventListener("test",Ut,wn)}catch{}return sn}();function Xs(sn,wn){this.type=sn,this.a=this.target=wn,this.defaultPrevented=!1}function _l(sn,wn){if(Xs.call(this,sn?sn.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,sn){var Yn=this.type=sn.type,dr=sn.changedTouches&&sn.changedTouches.length?sn.changedTouches[0]:null;if(this.target=sn.target||sn.srcElement,this.a=wn,wn=sn.relatedTarget){if(ao){e:{try{_n(wn.nodeName);var Br=!0;break e}catch{}Br=!1}Br||(wn=null)}}else Yn=="mouseover"?wn=sn.fromElement:Yn=="mouseout"&&(wn=sn.toElement);this.relatedTarget=wn,dr?(this.clientX=dr.clientX!==void 0?dr.clientX:dr.pageX,this.clientY=dr.clientY!==void 0?dr.clientY:dr.pageY,this.screenX=dr.screenX||0,this.screenY=dr.screenY||0):(this.clientX=sn.clientX!==void 0?sn.clientX:sn.pageX,this.clientY=sn.clientY!==void 0?sn.clientY:sn.pageY,this.screenX=sn.screenX||0,this.screenY=sn.screenY||0),this.button=sn.button,this.key=sn.key||"",this.ctrlKey=sn.ctrlKey,this.altKey=sn.altKey,this.shiftKey=sn.shiftKey,this.metaKey=sn.metaKey,this.pointerId=sn.pointerId||0,this.pointerType=typeof sn.pointerType=="string"?sn.pointerType:tp[sn.pointerType]||"",this.c=sn,sn.defaultPrevented&&this.b()}}Xs.prototype.b=function(){this.defaultPrevented=!0},Jt(_l,Xs);var tp=ys({2:"touch",3:"pen",4:"mouse"});_l.prototype.b=function(){_l.S.b.call(this);var sn=this.c;if(sn.preventDefault)sn.preventDefault();else if(sn.returnValue=!1,ss)try{(sn.ctrlKey||112<=sn.keyCode&&123>=sn.keyCode)&&(sn.keyCode=-1)}catch{}};var Uu="closure_listenable_"+(1e6*Math.random()|0),Su=0;function Wl(sn,wn,Yn,dr,Br){this.listener=sn,this.proxy=null,this.src=wn,this.type=Yn,this.capture=!!dr,this.A=Br,this.key=++Su,this.s=this.v=!1}function Nu(sn){sn.s=!0,sn.listener=null,sn.proxy=null,sn.src=null,sn.A=null}function xs(sn){this.src=sn,this.a={},this.b=0}function zl(sn,wn){var Yn=wn.type;if(Yn in sn.a){var dr,Br=sn.a[Yn],Or=gn(Br,wn);(dr=0<=Or)&&Array.prototype.splice.call(Br,Or,1),dr&&(Nu(wn),sn.a[Yn].length==0&&(delete sn.a[Yn],sn.b--))}}function Mr(sn,wn,Yn,dr){for(var Br=0;Br<sn.length;++Br){var Or=sn[Br];if(!Or.s&&Or.listener==wn&&Or.capture==!!Yn&&Or.A==dr)return Br}return-1}xs.prototype.add=function(sn,wn,Yn,dr,Br){var Or=sn.toString();(sn=this.a[Or])||(sn=this.a[Or]=[],this.b++);var vr=Mr(sn,wn,dr,Br);return-1<vr?(wn=sn[vr],Yn||(wn.v=!1)):((wn=new Wl(wn,this.src,Or,!!dr,Br)).v=Yn,sn.push(wn)),wn};var mn="closure_lm_"+(1e6*Math.random()|0),bn={};function An(sn,wn,Yn,dr,Br){if(dr&&dr.once)(function vr(Ar,oo,ho,Eo,ps){if(Array.isArray(oo))for(var Co=0;Co<oo.length;Co++)vr(Ar,oo[Co],ho,Eo,ps);else ho=Gn(ho),Ar&&Ar[Uu]?Ar.f.add(String(oo),ho,!0,yt(Eo)?!!Eo.capture:!!Eo,ps):ir(Ar,oo,ho,!0,Eo,ps)})(sn,wn,Yn,dr,Br);else if(Array.isArray(wn))for(var Or=0;Or<wn.length;Or++)An(sn,wn[Or],Yn,dr,Br);else Yn=Gn(Yn),sn&&sn[Uu]?sn.f.add(String(wn),Yn,!1,yt(dr)?!!dr.capture:!!dr,Br):ir(sn,wn,Yn,!1,dr,Br)}function ir(sn,wn,Yn,dr,Br,Or){if(!wn)throw Error("Invalid event type");var vr=yt(Br)?!!Br.capture:!!Br,Ar=rn(sn);if(Ar||(sn[mn]=Ar=new xs(sn)),!(Yn=Ar.add(wn,Yn,dr,vr,Or)).proxy)if(dr=function(){var oo=qt,ho=Ys?function(Eo){return oo.call(ho.src,ho.listener,Eo)}:function(Eo){if(!(Eo=oo.call(ho.src,ho.listener,Eo)))return Eo};return ho}(),Yn.proxy=dr,dr.src=sn,dr.listener=Yn,sn.addEventListener)su||(Br=vr),Br===void 0&&(Br=!1),sn.addEventListener(wn.toString(),dr,Br);else if(sn.attachEvent)sn.attachEvent(Nr(wn.toString()),dr);else{if(!sn.addListener||!sn.removeListener)throw Error("addEventListener and attachEvent are unavailable.");sn.addListener(dr)}}function cr(sn){if(typeof sn!="number"&&sn&&!sn.s){var wn=sn.src;if(wn&&wn[Uu])zl(wn.f,sn);else{var Yn=sn.type,dr=sn.proxy;wn.removeEventListener?wn.removeEventListener(Yn,dr,sn.capture):wn.detachEvent?wn.detachEvent(Nr(Yn),dr):wn.addListener&&wn.removeListener&&wn.removeListener(dr),(Yn=rn(wn))?(zl(Yn,sn),Yn.b==0&&(Yn.src=null,wn[mn]=null)):Nu(sn)}}}function Nr(sn){return sn in bn?bn[sn]:bn[sn]="on"+sn}function Jr(sn,wn,Yn,dr){var Br=!0;if((sn=rn(sn))&&(wn=sn.a[wn.toString()]))for(wn=wn.concat(),sn=0;sn<wn.length;sn++){var Or=wn[sn];Or&&Or.capture==Yn&&!Or.s&&(Or=Qn(Or,dr),Br=Br&&Or!==!1)}return Br}function Qn(sn,wn){var Yn=sn.listener,dr=sn.A||sn.src;return sn.v&&cr(sn),Yn.call(dr,wn)}function qt(sn,wn){if(sn.s)return!0;if(!Ys){var Yn=wn||bt("window.event");wn=new _l(Yn,this);var dr=!0;if(!(0>Yn.keyCode||Yn.returnValue!=null)){e:{var Br=!1;if(Yn.keyCode==0)try{Yn.keyCode=-1;break e}catch{Br=!0}(Br||Yn.returnValue==null)&&(Yn.returnValue=!0)}for(Yn=[],Br=wn.a;Br;Br=Br.parentNode)Yn.push(Br);for(sn=sn.type,Br=Yn.length-1;0<=Br;Br--){wn.a=Yn[Br];var Or=Jr(Yn[Br],sn,!0,wn);dr=dr&&Or}for(Br=0;Br<Yn.length;Br++)wn.a=Yn[Br],Or=Jr(Yn[Br],sn,!1,wn),dr=dr&&Or}return dr}return Qn(sn,new _l(wn,this))}function rn(sn){return(sn=sn[mn])instanceof xs?sn:null}var Cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(sn){return Ft(sn)=="function"?sn:(sn[Cn]||(sn[Cn]=function(wn){return sn.handleEvent(wn)}),sn[Cn])}function er(){Wo.call(this),this.f=new xs(this),this.N=this}function pr(sn,wn){sn=sn.N;var Yn=wn.type||wn;if(typeof wn=="string")wn=new Xs(wn,sn);else if(wn instanceof Xs)wn.target=wn.target||sn;else{var dr=wn;(function(Br,Or){for(var vr,Ar,oo=1;oo<arguments.length;oo++){for(vr in Ar=arguments[oo])Br[vr]=Ar[vr];for(var ho=0;ho<jt.length;ho++)vr=jt[ho],Object.prototype.hasOwnProperty.call(Ar,vr)&&(Br[vr]=Ar[vr])}})(wn=new Xs(Yn,sn),dr)}yr(sn=wn.a=sn,Yn,!0,wn),yr(sn,Yn,!1,wn)}function yr(sn,wn,Yn,dr){if(wn=sn.f.a[String(wn)]){wn=wn.concat();for(var Br=!0,Or=0;Or<wn.length;++Or){var vr=wn[Or];if(vr&&!vr.s&&vr.capture==Yn){var Ar=vr.listener,oo=vr.A||vr.src;vr.v&&zl(sn.f,vr),Br=Ar.call(oo,dr)!==!1&&Br}}}}function hr(sn,wn,Yn){if(Ft(sn)=="function")Yn&&(sn=Tt(sn,Yn));else{if(!sn||typeof sn.handleEvent!="function")throw Error("Invalid listener argument");sn=Tt(sn.handleEvent,sn)}return 2147483647<Number(wn)?-1:gt.setTimeout(sn,wn||0)}function Fr(sn,wn,Yn){this.reset(sn,wn,Yn,void 0,void 0)}Jt(er,Wo),er.prototype[Uu]=!0,er.prototype.addEventListener=function(sn,wn,Yn,dr){An(this,sn,wn,Yn,dr)},er.prototype.removeEventListener=function(sn,wn,Yn,dr){(function Br(Or,vr,Ar,oo,ho){if(Array.isArray(vr))for(var Eo=0;Eo<vr.length;Eo++)Br(Or,vr[Eo],Ar,oo,ho);else oo=yt(oo)?!!oo.capture:!!oo,Ar=Gn(Ar),Or&&Or[Uu]?(Or=Or.f,(vr=String(vr).toString())in Or.a&&-1<(Ar=Mr(Eo=Or.a[vr],Ar,oo,ho))&&(Nu(Eo[Ar]),Array.prototype.splice.call(Eo,Ar,1),Eo.length==0&&(delete Or.a[vr],Or.b--))):Or&&(Or=rn(Or))&&(vr=Or.a[vr.toString()],Or=-1,vr&&(Or=Mr(vr,Ar,oo,ho)),(Ar=-1<Or?vr[Or]:null)&&cr(Ar))})(this,sn,wn,Yn,dr)},Fr.prototype.a=null;function kr(sn){this.f=sn,this.b=this.c=this.a=null}function Xr(sn,wn){this.name=sn,this.value=wn}Fr.prototype.reset=function(sn,wn,Yn,dr,Br){delete this.a},Xr.prototype.toString=function(){return this.name};var Lr=new Xr("SEVERE",1e3),Fo=new Xr("CONFIG",700),Uo=new Xr("FINE",500);function mo(sn){return sn.c?sn.c:sn.a?mo(sn.a):(function(wn,Yn){throw new Pt("Failure"+(wn?": "+wn:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}kr.prototype.log=function(sn,wn,Yn){if(sn.value>=mo(this).value)for(Ft(wn)=="function"&&(wn=wn()),sn=new Fr(sn,String(wn),this.f),Yn&&(sn.a=Yn),Yn=this;Yn;)Yn=Yn.a};var wo,Oo={},ls=null;function Bo(sn,wn){sn&&sn.log(Uo,wn,void 0)}function Rs(){}function Fs(sn){var wn;return(wn=sn.a)||(wn={},Dr(sn)&&(wn[0]=!0,wn[1]=!0),wn=sn.a=wn),wn}function np(){}function Mu(sn){return(sn=Dr(sn))?new ActiveXObject(sn):new XMLHttpRequest}function Dr(sn){if(!sn.b&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var wn=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],Yn=0;Yn<wn.length;Yn++){var dr=wn[Yn];try{return new ActiveXObject(dr),sn.b=dr}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return sn.b}function Gl(sn,wn){this.b={},this.a=[],this.c=0;var Yn=arguments.length;if(1<Yn){if(Yn%2)throw Error("Uneven number of arguments");for(var dr=0;dr<Yn;dr+=2)this.set(arguments[dr],arguments[dr+1])}else sn&&Du(this,sn)}function na(sn){if(sn.c!=sn.a.length){for(var wn=0,Yn=0;wn<sn.a.length;){var dr=sn.a[wn];Dp(sn.b,dr)&&(sn.a[Yn++]=dr),wn++}sn.a.length=Yn}if(sn.c!=sn.a.length){var Br={};for(Yn=wn=0;wn<sn.a.length;)Dp(Br,dr=sn.a[wn])||(sn.a[Yn++]=dr,Br[dr]=1),wn++;sn.a.length=Yn}}function Du(sn,wn){if(wn instanceof Gl)for(var Yn=wn.f(),dr=0;dr<Yn.length;dr++)sn.set(Yn[dr],wn.get(Yn[dr]));else for(Yn in wn)sn.set(Yn,wn[Yn])}function Dp(sn,wn){return Object.prototype.hasOwnProperty.call(sn,wn)}Rs.prototype.a=null,Jt(np,Rs),wo=new np,Gl.prototype.f=function(){return na(this),this.a.concat()},Gl.prototype.get=function(sn,wn){return Dp(this.b,sn)?this.b[sn]:wn},Gl.prototype.set=function(sn,wn){Dp(this.b,sn)||(this.c++,this.a.push(sn)),this.b[sn]=wn},Gl.prototype.forEach=function(sn,wn){for(var Yn=this.f(),dr=0;dr<Yn.length;dr++){var Br=Yn[dr],Or=this.get(Br);sn.call(wn,Or,Br,this)}};var Iu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function au(sn){er.call(this),this.headers=new Gl,this.D=sn||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=M0,this.B=this.H=!1}Jt(au,er);var M0="",Ip=au.prototype,lo=function sn(wn){var Yn;if(ls||(ls=new kr(""),Oo[""]=ls,ls.c=Fo),!(Yn=Oo[wn])){Yn=new kr(wn);var dr=wn.lastIndexOf("."),Br=wn.substr(dr+1);(dr=sn(wn.substr(0,dr))).b||(dr.b={}),dr.b[Br]=Yn,Yn.a=dr,Oo[wn]=Yn}return Yn}("goog.net.XhrIo");Ip.b=lo;var ns=/^https?$/i,as=["POST","PUT"];function Ju(sn,wn,Yn){if(sn.a)throw Error("[goog.net.XhrIo] Object is active with another request="+sn.o+"; newUri="+wn);sn.o=wn,sn.i="",sn.g=0,sn.J="POST",sn.G=!1,sn.c=!0,sn.a=sn.D?Mu(sn.D):Mu(wo),sn.C=sn.D?Fs(sn.D):Fs(wo),sn.a.onreadystatechange=Tt(sn.K,sn);try{Bo(sn.b,Bl(sn,"Opening Xhr")),sn.I=!0,sn.a.open("POST",String(wn),!0),sn.I=!1}catch(Or){return Bo(sn.b,Bl(sn,"Error opening Xhr: "+Or.message)),void es(sn,Or)}wn=Yn||"";var dr=function(Or){e:{for(var vr=Jp,Ar=Or.length,oo=typeof Or=="string"?Or.split(""):Or,ho=0;ho<Ar;ho++)if(ho in oo&&vr.call(void 0,oo[ho],ho,Or)){vr=ho;break e}vr=-1}return 0>vr?null:typeof Or=="string"?Or.charAt(vr):Or[vr]}((Yn=new Gl(sn.headers)).f()),Br=gt.FormData&&wn instanceof gt.FormData;!(0<=gn(as,"POST"))||dr||Br||Yn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Yn.forEach(function(Or,vr){this.a.setRequestHeader(vr,Or)},sn),sn.j&&(sn.a.responseType=sn.j),"withCredentials"in sn.a&&sn.a.withCredentials!==sn.H&&(sn.a.withCredentials=sn.H);try{Yl(sn),0<sn.l&&(sn.B=function(Or){return or&&qo(9)&&typeof Or.timeout=="number"&&Or.ontimeout!==void 0}(sn.a),Bo(sn.b,Bl(sn,"Will abort after "+sn.l+"ms if incomplete, xhr2 "+sn.B)),sn.B?(sn.a.timeout=sn.l,sn.a.ontimeout=Tt(sn.L,sn)):sn.u=hr(sn.L,sn.l,sn)),Bo(sn.b,Bl(sn,"Sending request")),sn.m=!0,sn.a.send(wn),sn.m=!1}catch(Or){Bo(sn.b,Bl(sn,"Send error: "+Or.message)),es(sn,Or)}}function Jp(sn){return sn.toLowerCase()=="content-type"}function es(sn,wn){sn.c=!1,sn.a&&(sn.h=!0,sn.a.abort(),sn.h=!1),sn.i=wn,sn.g=5,Wp(sn),rp(sn)}function Wp(sn){sn.G||(sn.G=!0,pr(sn,"complete"),pr(sn,"error"))}function Op(sn){if(sn.c&&lt!==void 0){if(sn.C[1]&&vs(sn)==4&&sn.getStatus()==2)Bo(sn.b,Bl(sn,"Local request error detected and ignored"));else if(sn.m&&vs(sn)==4)hr(sn.K,0,sn);else if(pr(sn,"readystatechange"),vs(sn)==4){Bo(sn.b,Bl(sn,"Request complete")),sn.c=!1;try{var wn,Yn=sn.getStatus();e:switch(Yn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var dr=!0;break e;default:dr=!1}if(!(wn=dr)){var Br;if(Br=Yn===0){var Or=String(sn.o).match(Iu)[1]||null;if(!Or&&gt.self&&gt.self.location){var vr=gt.self.location.protocol;Or=vr.substr(0,vr.length-1)}Br=!ns.test(Or?Or.toLowerCase():"")}wn=Br}if(wn)pr(sn,"complete"),pr(sn,"success");else{sn.g=6;try{var Ar=2<vs(sn)?sn.a.statusText:""}catch(oo){Bo(sn.b,"Can not get status: "+oo.message),Ar=""}sn.i=Ar+" ["+sn.getStatus()+"]",Wp(sn)}}finally{rp(sn)}}}}function rp(sn){if(sn.a){Yl(sn);var wn=sn.a,Yn=sn.C[0]?Ut:null;sn.a=null,sn.C=null,pr(sn,"ready");try{wn.onreadystatechange=Yn}catch(dr){(sn=sn.b)&&sn.log(Lr,"Problem encountered resetting onreadystatechange: "+dr.message,void 0)}}}function Yl(sn){sn.a&&sn.B&&(sn.a.ontimeout=null),sn.u&&(gt.clearTimeout(sn.u),sn.u=null)}function vs(sn){return sn.a?sn.a.readyState:0}function Fy(sn,wn){if(sn.a&&vs(sn)==4)return(sn=sn.a.getResponseHeader(wn))===null?void 0:sn}function Bl(sn,wn){return wn+" ["+sn.J+" "+sn.o+" "+sn.getStatus()+"]"}au.prototype.L=function(){lt!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,Bo(this.b,Bl(this,this.i)),pr(this,"timeout"),this.abort(8))},au.prototype.abort=function(sn){this.a&&this.c&&(Bo(this.b,Bl(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=sn||7,pr(this,"complete"),pr(this,"abort"),rp(this))},au.prototype.K=function(){this.F||(this.I||this.m||this.h?Op(this):this.O())},au.prototype.O=function(){Op(this)},au.prototype.getStatus=function(){try{return 2<vs(this)?this.a.status:-1}catch{return-1}};var Lp={},Rl=null;function yp(sn){var wn=sn.length,Yn=3*wn/4;Yn%3?Yn=Math.floor(Yn):Ln("=.",sn[wn-1])&&(Yn=Ln("=.",sn[wn-2])?Yn-2:Yn-1);var dr=new Uint8Array(Yn),Br=0;return function(Or,vr){function Ar(jo){for(;oo<Or.length;){var js=Or.charAt(oo++),Gs=Rl[js];if(Gs!=null)return Gs;if(!/^[\s\xa0]*$/.test(js))throw Error("Unknown base64 encoding at char: "+js)}return jo}sm();for(var oo=0;;){var ho=Ar(-1),Eo=Ar(0),ps=Ar(64),Co=Ar(64);if(Co===64&&ho===-1)break;vr(ho<<2|Eo>>4),ps!=64&&(vr(Eo<<4&240|ps>>2),Co!=64&&vr(ps<<6&192|Co))}}(sn,function(Or){dr[Br++]=Or}),dr.subarray(0,Br)}function sm(){if(!Rl){Rl={};for(var sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),wn=["+/=","+/","-_=","-_.","-_"],Yn=0;5>Yn;Yn++){var dr=sn.concat(wn[Yn].split(""));Lp[Yn]=dr;for(var Br=0;Br<dr.length;Br++){var Or=dr[Br];Rl[Or]===void 0&&(Rl[Or]=Br)}}}}var km=["content-type","grpc-status","grpc-message"];function eu(sn){this.a=sn.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new tn;var wn=this;An(this.a,"readystatechange",function(){var Yn=wn.a;if(Yn=Yn.a?Yn.a.getResponseHeader("Content-Type"):null){if((Yn=Yn.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){Yn=wn.a;try{var dr=Yn.a?Yn.a.responseText:""}catch(ho){Bo(Yn.b,"Can not get responseText: "+ho.message),dr=""}if(dr=(Yn=dr||"").length-Yn.length%4,(Yn=Yn.substr(wn.i,dr-wn.i)).length==0)return;wn.i=dr,Yn=yp(Yn)}else{if(Yn.lastIndexOf("application/grpc",0)!=0)return void lu(wn,{code:2,message:"Unknown Content-type received.",metadata:{}});Yn=new Uint8Array(function(ho){try{if(!ho.a)return null;if("response"in ho.a)return ho.a.response;switch(ho.j){case M0:case"text":return ho.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in ho.a)return ho.a.mozResponseArrayBuffer}var Eo=ho.b;return Eo&&Eo.log(Lr,"Response type "+ho.j+" is not supported on this browser",void 0),null}catch(ps){return Bo(ho.b,"Can not get response: "+ps.message),null}}(wn.a))}dr=null;try{dr=function(ho,Eo){function ps(Pp){hs.f++,hs.a=(hs.a<<8)+Pp,hs.f==4&&(hs.b=$t,hs.g=0,typeof Uint8Array<"u"?hs.c=new Uint8Array(hs.a):hs.c=Array(hs.a),hs.a==0&&jo())}function Co(Pp){hs.c[hs.g++]=Pp,hs.g==hs.a&&jo()}function jo(){var Pp={};Pp[hs.h]=hs.c,hs.i.push(Pp),hs.b=Un}var js,Gs,hs=ho,Ou=0;for(js=Eo instanceof Uint8Array||Eo instanceof Array?Eo:new Uint8Array(Eo);Ou<js.length;){switch(hs.b){case hn:It(hs,js,Ou,"stream already broken");break;case Un:(Gs=js[Ou])==dn||Gs==zt?hs.h=Gs:It(hs,js,Ou,"invalid frame byte"),hs.b=Kt,hs.a=0,hs.f=0;break;case Kt:ps(js[Ou]);break;case $t:Co(js[Ou]);break;default:throw Error("unexpected parser state: "+hs.b)}hs.l++,Ou++}return ho=hs.i,hs.i=[],0<ho.length?ho:null}(wn.m,Yn)}catch{lu(wn,{code:2,message:"Error in parsing response body",metadata:{}})}if(dr)for(Yn=0;Yn<dr.length;Yn++){if(dn in dr[Yn]){var Br=dr[Yn][dn];if(Br)try{var Or=wn.l(Br);if(Or){Br=wn;for(var vr=Or,Ar=0;Ar<Br.b.length;Ar++)Br.b[Ar](vr)}}catch{lu(wn,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(zt in dr[Yn]&&0<dr[Yn][zt].length){for(Br="",vr=0;vr<dr[Yn][zt].length;vr++)Br+=String.fromCharCode(dr[Yn][zt][vr]);for(Br=Br.trim().split(`\r
`),vr={},Ar=0;Ar<Br.length;Ar++){var oo=Br[Ar].indexOf(":");vr[Br[Ar].substring(0,oo).trim()]=Br[Ar].substring(oo+1).trim()}Br=vr,vr=0,Ar="","grpc-status"in Br&&(vr=Br["grpc-status"],delete Br["grpc-status"]),"grpc-message"in Br&&(Ar=Br["grpc-message"],delete Br["grpc-message"]),lu(wn,{code:Number(vr),message:Ar,metadata:Br})}}}}),An(this.a,"complete",function(){var Yn=wn.a.g,dr="",Br={},Or=function(Ar){var oo={};Ar=(Ar.a&&vs(Ar)==4&&Ar.a.getAllResponseHeaders()||"").split(`\r
`);for(var ho=0;ho<Ar.length;ho++)if(!/^[\s\xa0]*$/.test(Ar[ho])){var Eo=Ht(Ar[ho]),ps=Eo[0];if(typeof(Eo=Eo[1])=="string"){Eo=Eo.trim();var Co=oo[ps]||[];oo[ps]=Co,Co.push(Eo)}}return function(jo,js){var Gs,hs={};for(Gs in jo)hs[Gs]=js.call(void 0,jo[Gs],Gs,jo);return hs}(oo,function(jo){return jo.join(", ")})}(wn.a);if(Object.keys(Or).forEach(function(Ar){km.includes(Ar)||(Br[Ar]=Or[Ar])}),function(Ar,oo){for(var ho=0;ho<Ar.g.length;ho++)Ar.g[ho](oo)}(wn,Br),Yn!=0){switch(Yn){case 7:var vr=10;break;case 8:vr=4;break;case 6:vr=function(Ar){switch(Ar){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(wn.a.getStatus());break;default:vr=14}vr==10&&wn.j||lu(wn,{code:vr,message:Vt(Yn),metadata:{}})}else Yn=!1,"grpc-status"in Or&&(vr=Fy(wn.a,"grpc-status"),"grpc-message"in Or&&(dr=Fy(wn.a,"grpc-message")),Number(vr)!=0&&(lu(wn,{code:Number(vr),message:dr,metadata:Or}),Yn=!0)),Yn||function(Ar){for(var oo=0;oo<Ar.c.length;oo++)Ar.c[oo]()}(wn)})}function Wu(sn,wn){-1<(wn=sn.indexOf(wn))&&sn.splice(wn,1)}function lu(sn,wn){if(wn.code!=0)for(var Yn={code:wn.code,message:decodeURIComponent(wn.message||""),metadata:wn.metadata},dr=0;dr<sn.f.length;dr++)sn.f[dr](Yn);for(wn={code:wn.code,details:decodeURIComponent(wn.message||""),metadata:wn.metadata},Yn=0;Yn<sn.h.length;Yn++)sn.h[Yn](wn)}function Ms(sn){this.a=bt("format",sn)||"text",this.f=bt("suppressCorsPreflight",sn)||!1,this.c=bt("withCredentials",sn)||!1,this.b=bt("streamInterceptors",sn)||[],this.g=bt("unaryInterceptors",sn)||[]}function $s(sn,wn,Yn){var dr=wn.getMethodDescriptor(),Br=Yn+dr.name;(Yn=new au).H=sn.c;var Or=new eu({T:Yn});if(Or.l=dr.b,Du(Yn.headers,wn.getMetadata()),sn.a=="text"?(Yn.headers.set("Content-Type","application/grpc-web-text"),Yn.headers.set("Accept","application/grpc-web-text")):Yn.headers.set("Content-Type","application/grpc-web+proto"),Yn.headers.set("X-User-Agent","grpc-web-javascript/0.1"),Yn.headers.set("X-Grpc-Web","1"),Dp(Yn.headers.b,"deadline")){var vr=Yn.headers.get("deadline");vr=Math.round(vr-new Date().getTime());var Ar=Yn.headers;Dp(Ar.b,"deadline")&&(delete Ar.b.deadline,Ar.c--,Ar.a.length>2*Ar.c&&na(Ar)),1/0===vr&&(vr=0),0<vr&&Yn.headers.set("grpc-timeout",vr+"m")}if(sn.f){na(Ar=Yn.headers),vr={};for(var oo=0;oo<Ar.a.length;oo++){var ho=Ar.a[oo];vr[ho]=Ar.b[ho]}(Ar=Yn.headers).b={},Ar.a.length=0,Ar.c=0;e:{for(Eo in vr){var Eo=!1;break e}Eo=!0}Eo||(vr=function(jo){var js="";return function(Gs,hs){for(var Ou in Gs)hs.call(void 0,Gs[Ou],Ou,Gs)}(jo,function(Gs,hs){js+=hs,js+=":",js+=Gs,js+=`\r
`}),js}(vr),typeof Br=="string"?(Eo=encodeURIComponent("$httpHeaders"),(Eo+=vr=vr!=null?"="+encodeURIComponent(String(vr)):"")&&(0>(vr=Br.indexOf("#"))&&(vr=Br.length),0>(Ar=Br.indexOf("?"))||Ar>vr?(Ar=vr,oo=""):oo=Br.substring(Ar+1,vr),vr=(Br=[Br.substr(0,Ar),oo,Br.substr(vr)])[1],Br[1]=Eo?vr?vr+"&"+Eo:Eo:vr,Br=Br[0]+(Br[1]?"?"+Br[1]:"")+Br[2])):Br.a("$httpHeaders",vr))}for(dr=(wn=(0,dr.a)(wn.getRequestMessage())).length,Eo=[0,0,0,0],vr=new Uint8Array(5+dr),Ar=3;0<=Ar;Ar--)Eo[Ar]=dr%256,dr>>>=8;if(vr.set(new Uint8Array(Eo),1),vr.set(wn,5),wn=vr,sn.a=="text"){var ps;for(sn=wn,ps===void 0&&(ps=0),sm(),ps=Lp[ps],wn=[],dr=0;dr<sn.length;dr+=3){ho=sn[dr];var Co=(Eo=dr+1<sn.length)?sn[dr+1]:0;Ar=ho>>2,ho=(3&ho)<<4|Co>>4,Co=(15&Co)<<2|(oo=(vr=dr+2<sn.length)?sn[dr+2]:0)>>6,oo&=63,vr||(oo=64,Eo||(Co=64)),wn.push(ps[Ar],ps[ho],ps[Co]||"",ps[oo]||"")}wn=wn.join("")}else sn.a=="binary"&&(Yn.j="arraybuffer");return Ju(Yn,Br,wn),Or}function $m(sn,wn,Yn){var dr=null,Br=!1;sn.on("data",function(Or){dr=Or}),sn.on("error",function(Or){Or.code==0||Br||(Br=!0,wn(Or,null))}),sn.on("status",function(Or){Or.code==0||Br?Yn&&wn(null,null,Or):(Br=!0,wn({code:Or.code,message:Or.details,metadata:Or.metadata},null))}),Yn&&sn.on("metadata",function(Or){wn(null,null,null,Or)}),sn.on("end",function(){Br||(dr==null?wn({code:2,message:"Incomplete response"}):wn(null,dr)),Yn&&wn(null,null)})}function Cm(sn,wn){var Yn=sn;return wn.forEach(function(dr){var Br=Yn;Yn=function(Or){return dr.intercept(Or,Br)}}),Yn}eu.prototype.on=function(sn,wn){return sn=="data"?this.b.push(wn):sn=="status"?this.h.push(wn):sn=="metadata"?this.g.push(wn):sn=="end"?this.c.push(wn):sn=="error"&&this.f.push(wn),this},eu.prototype.removeListener=function(sn,wn){return sn=="data"?Wu(this.b,wn):sn=="status"?Wu(this.h,wn):sn=="metadata"?Wu(this.g,wn):sn=="end"?Wu(this.c,wn):sn=="error"&&Wu(this.f,wn),this},eu.prototype.cancel=function(){this.j=!0,this.a.abort()},eu.prototype.cancel=eu.prototype.cancel,eu.prototype.removeListener=eu.prototype.removeListener,eu.prototype.on=eu.prototype.on,Ms.prototype.P=function(sn,wn,Yn,dr,Br){var Or=this;dr=yn(sn,wn,"unary",dr);var vr=sn.substr(0,sn.length-dr.name.length);return $m(sn=Cm(function(Ar){return $s(Or,Ar,vr)},this.b).call(this,nn(dr,wn,Yn)),Br,!1),new Ct(sn)},Ms.prototype.M=function(sn,wn,Yn,dr){var Br=this;dr=yn(sn,wn,"unary",dr);var Or=sn.substr(0,sn.length-dr.name.length);return Cm(function(vr){return new Promise(function(Ar,oo){var ho,Eo,ps;$m($s(Br,vr,Or),function(Co,jo,js,Gs){Co?oo(Co):jo?ps=jo:js?Eo=js:Gs?ho=Gs:(Co=vr.getMethodDescriptor(),Ar(new St(ps,Co,jo=(jo=ho)===void 0?{}:jo,Eo===void 0?null:Eo)))},!0)})},this.g).call(this,nn(dr,wn,Yn)).then(function(vr){return vr.getResponseMessage()})},Ms.prototype.unaryCall=function(sn,wn,Yn,dr){return this.M(sn,wn,Yn,dr)},Ms.prototype.R=function(sn,wn,Yn,dr){var Br=this;dr=yn(sn,wn,"server_streaming",dr);var Or=sn.substr(0,sn.length-dr.name.length);return Cm(function(vr){return $s(Br,vr,Or)},this.b).call(this,nn(dr,wn,Yn))},Ms.prototype.serverStreaming=Ms.prototype.R,Ms.prototype.unaryCall=Ms.prototype.unaryCall,Ms.prototype.thenableCall=Ms.prototype.M,Ms.prototype.rpcCall=Ms.prototype.P,i.exports.AbstractClientBase={MethodInfo:function(sn,wn,Yn,dr,Br){this.name=dr,this.b=Br,this.f=sn,this.a=wn,this.c=Yn}},i.exports.GrpcWebClientBase=Ms,i.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},i.exports.MethodDescriptor=Ot,i.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,s(6))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isAsyncIterable=o.isAsyncGenerator=o.isAsync=void 0;var _,$=s(152),et=(_=$)&&_.__esModule?_:{default:_};function rt(j){return j[Symbol.toStringTag]==="AsyncFunction"}o.default=function(j){if(typeof j!="function")throw new Error("expected a function");return rt(j)?(0,et.default)(j):j},o.isAsync=rt,o.isAsyncGenerator=function(j){return j[Symbol.toStringTag]==="AsyncGenerator"},o.isAsyncIterable=function(j){return typeof j[Symbol.asyncIterator]=="function"}},function(i,o,s){var _={};function $(rt,j,st){st||(st=Error);var lt=function(gt){var bt,Ut;function Ft(yt,Qt,wt){return gt.call(this,function(Tt,Jt,At){return typeof j=="string"?j:j(Tt,Jt,At)}(yt,Qt,wt))||this}return Ut=gt,(bt=Ft).prototype=Object.create(Ut.prototype),bt.prototype.constructor=bt,bt.__proto__=Ut,Ft}(st);lt.prototype.name=st.name,lt.prototype.code=rt,_[rt]=lt}function et(rt,j){if(Array.isArray(rt)){var st=rt.length;return rt=rt.map(function(lt){return String(lt)}),st>2?"one of ".concat(j," ").concat(rt.slice(0,st-1).join(", "),", or ")+rt[st-1]:st===2?"one of ".concat(j," ").concat(rt[0]," or ").concat(rt[1]):"of ".concat(j," ").concat(rt[0])}return"of ".concat(j," ").concat(String(rt))}$("ERR_INVALID_OPT_VALUE",function(rt,j){return'The value "'+j+'" is invalid for option "'+rt+'"'},TypeError),$("ERR_INVALID_ARG_TYPE",function(rt,j,st){var lt,gt,bt;if(typeof j=="string"&&(gt="not ",j.substr(0,gt.length)===gt)?(lt="must not be",j=j.replace(/^not /,"")):lt="must be",function(Ft,yt,Qt){return(Qt===void 0||Qt>Ft.length)&&(Qt=Ft.length),Ft.substring(Qt-yt.length,Qt)===yt}(rt," argument"))bt="The ".concat(rt," ").concat(lt," ").concat(et(j,"type"));else{var Ut=function(Ft,yt,Qt){return typeof Qt!="number"&&(Qt=0),!(Qt+yt.length>Ft.length)&&Ft.indexOf(yt,Qt)!==-1}(rt,".")?"property":"argument";bt='The "'.concat(rt,'" ').concat(Ut," ").concat(lt," ").concat(et(j,"type"))}return bt+=". Received type ".concat(typeof st)},TypeError),$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),$("ERR_METHOD_NOT_IMPLEMENTED",function(rt){return"The "+rt+" method is not implemented"}),$("ERR_STREAM_PREMATURE_CLOSE","Premature close"),$("ERR_STREAM_DESTROYED",function(rt){return"Cannot call "+rt+" after a stream was destroyed"}),$("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),$("ERR_STREAM_WRITE_AFTER_END","write after end"),$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$("ERR_UNKNOWN_ENCODING",function(rt){return"Unknown encoding: "+rt},TypeError),$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=_},function(i,o,s){(function(_){var $=Object.keys||function(Ft){var yt=[];for(var Qt in Ft)yt.push(Qt);return yt};i.exports=gt;var et=s(77),rt=s(81);s(7)(gt,et);for(var j=$(rt.prototype),st=0;st<j.length;st++){var lt=j[st];gt.prototype[lt]||(gt.prototype[lt]=rt.prototype[lt])}function gt(Ft){if(!(this instanceof gt))return new gt(Ft);et.call(this,Ft),rt.call(this,Ft),this.allowHalfOpen=!0,Ft&&(Ft.readable===!1&&(this.readable=!1),Ft.writable===!1&&(this.writable=!1),Ft.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",bt)))}function bt(){this._writableState.ended||_.nextTick(Ut,this)}function Ut(Ft){Ft.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(gt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(gt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Ft){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=Ft,this._writableState.destroyed=Ft)}})}).call(this,s(2))},function(i,o,s){s.d(o,"a",function(){return rt});var _=s(40),$=s(4);const et={"app-id":["app-id must match formant/*"]};class rt extends _.a{constructor(st,lt={}){super(st,Object.assign({validateHeaders:gt=>`${gt.get("app-id")}`.startsWith("formant/")?{}:et},lt)),this.endpoint=st}getHeaders(){return Object.assign(Object.assign({},rt.headers),{"App-ID":`formant/${$.a}`,"App-Version":$.j})}}rt.headers={}},function(i,o,s){s(227),i.exports={encode:_=>new TextEncoder().encode(_),decode:_=>new TextDecoder().decode(_)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_,$=_.length){if(!$)throw new Error("arity is undefined");return function(...et){return typeof et[$-1]=="function"?_.apply(this,et):new Promise((rt,j)=>{et[$-1]=(st,...lt)=>{if(st)return j(st);rt(lt.length>1?lt:lt[0])},_.apply(this,et)})}},i.exports=o.default},function(i,o,s){(o=i.exports=s(69)).Stream=o,o.Readable=o,o.Writable=s(48),o.Duplex=s(23),o.Transform=s(72),o.PassThrough=s(165)},function(i,o,s){(o=i.exports=s(77)).Stream=o,o.Readable=o,o.Writable=s(81),o.Duplex=s(27),o.Transform=s(82),o.PassThrough=s(184),o.finished=s(49),o.pipeline=s(185)},function(i,o,s){i.exports=function(_){return _}},function(i,o,s){s.d(o,"a",function(){return $});const _=["password","secret","token","key","buffer"];function $(et,rt=new Set){return rt.has(et)?"[ RECURSIVE ]":!(j=et)||typeof j!="object"&&typeof j!="function"?et:(rt.add(et),Object.keys(et).reduce((st,lt)=>(st[lt]=_.some(gt=>lt.toLowerCase().includes(gt.toLowerCase()))?"[ REDACTED ]":$(et[lt],rt),st),{}));var j}},function(i,o){i.exports=_,_.default=_,_.stable=et,_.stableStringify=et;var s=[];function _(rt,j,st){(function bt(Ut,Ft,yt,Qt){var wt;if(typeof Ut=="object"&&Ut!==null){for(wt=0;wt<yt.length;wt++)if(yt[wt]===Ut)return Qt[Ft]="[Circular]",void s.push([Qt,Ft,Ut]);if(yt.push(Ut),Array.isArray(Ut))for(wt=0;wt<Ut.length;wt++)bt(Ut[wt],wt,yt,Ut);else{var Tt=Object.keys(Ut);for(wt=0;wt<Tt.length;wt++){var Jt=Tt[wt];bt(Ut[Jt],Jt,yt,Ut)}}yt.pop()}})(rt,"",[],void 0);for(var lt=JSON.stringify(rt,j,st);s.length!==0;){var gt=s.pop();gt[0][gt[1]]=gt[2]}return lt}function $(rt,j){return rt<j?-1:rt>j?1:0}function et(rt,j,st){for(var lt=function Ut(Ft,yt,Qt,wt){var Tt;if(typeof Ft=="object"&&Ft!==null){for(Tt=0;Tt<Qt.length;Tt++)if(Qt[Tt]===Ft)return wt[yt]="[Circular]",void s.push([wt,yt,Ft]);if(typeof Ft.toJSON=="function")return;if(Qt.push(Ft),Array.isArray(Ft))for(Tt=0;Tt<Ft.length;Tt++)Ut(Ft[Tt],Tt,Qt,Ft);else{var Jt={},At=Object.keys(Ft).sort($);for(Tt=0;Tt<At.length;Tt++){var Nt=At[Tt];Ut(Ft[Nt],Nt,Qt,Ft),Jt[Nt]=Ft[Nt]}if(wt===void 0)return Jt;s.push([wt,yt,Ft]),wt[yt]=Jt}Qt.pop()}}(rt,"",[],void 0)||rt,gt=JSON.stringify(lt,j,st);s.length!==0;){var bt=s.pop();bt[0][bt[1]]=bt[2]}return gt}},function(i,o,s){var _=s(16),$=Object.keys||function(yt){var Qt=[];for(var wt in yt)Qt.push(wt);return Qt};i.exports=bt;var et=Object.create(s(17));et.inherits=s(7);var rt=s(143),j=s(62);et.inherits(bt,rt);for(var st=$(j.prototype),lt=0;lt<st.length;lt++){var gt=st[lt];bt.prototype[gt]||(bt.prototype[gt]=j.prototype[gt])}function bt(yt){if(!(this instanceof bt))return new bt(yt);rt.call(this,yt),j.call(this,yt),yt&&yt.readable===!1&&(this.readable=!1),yt&&yt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,yt&&yt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ut)}function Ut(){this.allowHalfOpen||this._writableState.ended||_.nextTick(Ft,this)}function Ft(yt){yt.end()}Object.defineProperty(bt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(bt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(yt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=yt,this._writableState.destroyed=yt)}}),bt.prototype._destroy=function(yt,Qt){this.push(null),this.end(),_.nextTick(Qt,yt)}},function(i,o,s){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function $(j,st){return Object.prototype.hasOwnProperty.call(j,st)}o.assign=function(j){for(var st=Array.prototype.slice.call(arguments,1);st.length;){var lt=st.shift();if(lt){if(typeof lt!="object")throw new TypeError(lt+"must be non-object");for(var gt in lt)$(lt,gt)&&(j[gt]=lt[gt])}}return j},o.shrinkBuf=function(j,st){return j.length===st?j:j.subarray?j.subarray(0,st):(j.length=st,j)};var et={arraySet:function(j,st,lt,gt,bt){if(st.subarray&&j.subarray)j.set(st.subarray(lt,lt+gt),bt);else for(var Ut=0;Ut<gt;Ut++)j[bt+Ut]=st[lt+Ut]},flattenChunks:function(j){var st,lt,gt,bt,Ut,Ft;for(gt=0,st=0,lt=j.length;st<lt;st++)gt+=j[st].length;for(Ft=new Uint8Array(gt),bt=0,st=0,lt=j.length;st<lt;st++)Ut=j[st],Ft.set(Ut,bt),bt+=Ut.length;return Ft}},rt={arraySet:function(j,st,lt,gt,bt){for(var Ut=0;Ut<gt;Ut++)j[bt+Ut]=st[lt+Ut]},flattenChunks:function(j){return[].concat.apply([],j)}};o.setTyped=function(j){j?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,et)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,rt))},o.setTyped(_)},function(i,o,s){i.exports=s(186)},function(i,o,s){s.d(o,"a",function(){return $});var _=s(229);const $=Object(_.a)()},function(i,o,s){s.d(o,"a",function(){return Tt});var _=s(1),$=s(100),et=s.n($),rt=s(101),j=s.n(rt);class st extends Error{constructor(At,Nt,St){super(`Connection failure: ${At.message}`),this.cause=At,this.url=Nt,this.retryable=St}}var lt=s(10);class gt extends Error{constructor(At,Nt){super(`Invalid headers (${JSON.stringify(At)}) for response: ${Nt.message}`),this.validationErrors=At,this.responseError=Nt}}var bt=s(8),Ut=s(0),Ft=s(11),yt=function(Jt,At,Nt,St){return new(Nt||(Nt=Promise))(function(Ot,nn){function yn(Yt){try{Vt(St.next(Yt))}catch(Pt){nn(Pt)}}function Ct(Yt){try{Vt(St.throw(Yt))}catch(Pt){nn(Pt)}}function Vt(Yt){var Pt;Yt.done?Ot(Yt.value):(Pt=Yt.value,Pt instanceof Nt?Pt:new Nt(function(tn){tn(Pt)})).then(yn,Ct)}Vt((St=St.apply(Jt,At||[])).next())})},Qt=function(Jt,At){var Nt={};for(var St in Jt)Object.prototype.hasOwnProperty.call(Jt,St)&&At.indexOf(St)<0&&(Nt[St]=Jt[St]);if(Jt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ot=0;for(St=Object.getOwnPropertySymbols(Jt);Ot<St.length;Ot++)At.indexOf(St[Ot])<0&&Object.prototype.propertyIsEnumerable.call(Jt,St[Ot])&&(Nt[St[Ot]]=Jt[St[Ot]])}return Nt};const wt=new Set(["GET","HEAD","PUT","QUERY","DELETE","OPTIONS","TRACE"]);class Tt{constructor(At,Nt={}){if(this.endpoint=At,this.validateHeaders=St=>Nt.validateHeaders?Nt.validateHeaders(St):{},this.verbose=Nt.verbose!==!1,Nt.retries!==void 0&&!(Nt.retries>=0))throw new Error("retries must be positive or zero");if(this.configuredRetries=Nt.retries,Nt.timeoutMs!==void 0&&!(Nt.timeoutMs>0))throw new Error("timeoutMs must be positive");if(this.timeoutMs=Nt.timeoutMs,Nt.maxBackoffDelayMs!==void 0&&!(Nt.maxBackoffDelayMs>0))throw new Error("maxBackoffDelayMs must be positive");this.maxBackoffDelayMs=Nt.maxBackoffDelayMs||30*_.a.second}getRetries(){return this.configuredRetries!==void 0?this.configuredRetries:this.getConstructor().retries}getHeaders(){return{}}fetch(At,Nt={}){return yt(this,void 0,void 0,function*(){return(yield this.fetchVerbose(At,Nt)).body})}fetchVerbose(At,Nt={}){return yt(this,void 0,void 0,function*(){let St=100*_.a.millisecond,Ot=0;const nn=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,yn=nn?()=>Math.max(nn-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(At,Nt,yn)}catch(Ct){const Vt=Ct,Yt=Object(Ft.a)(Vt,st);if((yn==null?void 0:yn())===0||Ot===this.getRetries()||!Yt.retryable)throw Yt;Ot++,St=Math.min(...yn?[yn()]:[],St*(2+.1*(Math.random()-.5)),this.maxBackoffDelayMs),yield Object(bt.a)(St),this.verbose&&Ut.a.warn(`Connection failure, retrying. Error: ${Vt.cause.message}`,{url:Vt.url,error:Vt.cause,attempt:Ot})}})}doFetch(At,Nt,St){return yt(this,void 0,void 0,function*(){const{token:Ot,json:nn,allowUnsafeRetries:yn}=Nt,Ct=Qt(Nt,["token","json","allowUnsafeRetries"]),Vt=(Ct.method||"GET").toUpperCase(),Yt=this.endpoint!==void 0?`${this.endpoint}${At?`/${At}`:""}`:At,Pt=new et.a;let tn;if(St){const Un=St();Un>0?tn=setTimeout(()=>{Pt.abort()},Un):Pt.abort()}try{let Un;yield Promise.race([this.getConstructor().waitForConnectivity(),new Promise(gn=>{Un=setTimeout(gn,St?Math.min(_.a.minute,St()):_.a.minute)})]),Un&&clearTimeout(Un);const Kt=yield j()(Yt,Object.assign(Object.assign({},Ct),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},nn!==!1?{"Content-Type":"application/json"}:{}),this.getHeaders()),Ct.headers||{}),Ot!==void 0?{Authorization:`Bearer ${Ot}`}:{}),signal:Pt.signal})),$t=Kt.headers.get("content-type")||"",hn=$t&&$t.startsWith("application/json"),dn=hn?yield Kt.json():yield Kt.text(),zt=()=>new lt.a(Vt,Yt,Kt.status,dn,dn&&dn.validationErrors||{},Kt.headers);if(!Kt.ok)throw this.verbose&&Ut.a[Kt.status>=500?"warn":"info"]("Response error",{method:Vt,url:Yt,statusCode:Kt.status}),zt();const It=this.validateHeaders(Kt.headers);if(Object.keys(It).length!==0)throw new gt(It,zt());if(Kt.status===204)return{body:void 0,headers:Kt.headers};if(nn&&!hn)throw new Error(`Response is not JSON: ${JSON.stringify(dn)}`);return{body:dn,headers:Kt.headers}}catch(Un){const Kt=Un,$t=yn||wt.has(Vt);if(Kt.message==="Network request failed")throw new st(Kt,Yt,$t);if(Kt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(It=>It===Kt.code))throw new st(Kt,Yt,!0);if(Kt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(It=>It===Kt.code))throw new st(Kt,Yt,$t);if(Kt.name==="AbortError")throw new st(Kt,Yt,$t);const hn=Object(Ft.a)(Kt,lt.a),{statusCode:dn}=hn;if(dn===408||dn===429||dn===502||dn===503||dn===504)throw this.verbose&&!$t&&Ut.a.warn("Potentially unsafe retry"),new st(Kt,Yt,!0);const zt=this.validateHeaders(hn.headers);throw Object.keys(zt).length!==0?new gt(zt,hn):(yield this.getConstructor().onResponseError(hn),Kt)}finally{tn&&clearTimeout(tn)}})}getConstructor(){return Object.getPrototypeOf(this).constructor}}Tt.retries=8,Tt.waitForConnectivity=()=>yt(void 0,void 0,void 0,function*(){}),Tt.onResponseError=()=>yt(void 0,void 0,void 0,function*(){})},function(i,o,s){function _(bt,Ut){if(!(bt instanceof Ut))throw new TypeError("Cannot call a class as a function")}function $(bt,Ut){for(var Ft=0;Ft<Ut.length;Ft++){var yt=Ut[Ft];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(bt,yt.key,yt)}}var et=s(59),rt=s(3),j=rt.LEVEL,st=rt.MESSAGE;et.enabled=!0;var lt=/\s+/,gt=function(){function bt(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,bt),Qt.colors&&this.addColors(Qt.colors),this.options=Qt}var Ut,Ft,yt;return Ut=bt,yt=[{key:"addColors",value:function(Qt){var wt=Object.keys(Qt).reduce(function(Tt,Jt){return Tt[Jt]=lt.test(Qt[Jt])?Qt[Jt].split(lt):Qt[Jt],Tt},{});return bt.allColors=Object.assign({},bt.allColors||{},wt),bt.allColors}}],(Ft=[{key:"addColors",value:function(Qt){return bt.addColors(Qt)}},{key:"colorize",value:function(Qt,wt,Tt){if(Tt===void 0&&(Tt=wt),!Array.isArray(bt.allColors[Qt]))return et[bt.allColors[Qt]](Tt);for(var Jt=0,At=bt.allColors[Qt].length;Jt<At;Jt++)Tt=et[bt.allColors[Qt][Jt]](Tt);return Tt}},{key:"transform",value:function(Qt,wt){return wt.all&&typeof Qt[st]=="string"&&(Qt[st]=this.colorize(Qt[j],Qt.level,Qt[st])),(wt.level||wt.all||!wt.message)&&(Qt.level=this.colorize(Qt[j],Qt.level)),(wt.all||wt.message)&&(Qt.message=this.colorize(Qt[j],Qt.level,Qt.message)),Qt}}])&&$(Ut.prototype,Ft),yt&&$(Ut,yt),bt}();i.exports=function(bt){return new gt(bt)},i.exports.Colorizer=i.exports.Format=gt},function(i,o){var s={}.toString;i.exports=Array.isArray||function(_){return s.call(_)=="[object Array]"}},function(i,o,s){(function(_){function $(et){try{if(!_.localStorage)return!1}catch{return!1}var rt=_.localStorage[et];return rt!=null&&String(rt).toLowerCase()==="true"}i.exports=function(et,rt){if($("noDeprecation"))return et;var j=!1;return function(){if(!j){if($("throwDeprecation"))throw new Error(rt);$("traceDeprecation")?console.trace(rt):console.warn(rt),j=!0}return et.apply(this,arguments)}}}).call(this,s(6))},function(i,o,s){var _=s(5),$=_.Buffer;function et(j,st){for(var lt in j)st[lt]=j[lt]}function rt(j,st,lt){return $(j,st,lt)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(et(_,o),o.Buffer=rt),et($,rt),rt.from=function(j,st,lt){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,st,lt)},rt.alloc=function(j,st,lt){if(typeof j!="number")throw new TypeError("Argument must be a number");var gt=$(j);return st!==void 0?typeof lt=="string"?gt.fill(st,lt):gt.fill(st):gt.fill(0),gt},rt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},rt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _&&typeof _.length=="number"&&_.length>=0&&_.length%1==0},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default={},i.exports=o.default},function(i,o,s){var _=s(5),$=_.Buffer;function et(j,st){for(var lt in j)st[lt]=j[lt]}function rt(j,st,lt){return $(j,st,lt)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(et(_,o),o.Buffer=rt),et($,rt),rt.from=function(j,st,lt){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,st,lt)},rt.alloc=function(j,st,lt){if(typeof j!="number")throw new TypeError("Argument must be a number");var gt=$(j);return st!==void 0?typeof lt=="string"?gt.fill(st,lt):gt.fill(st):gt.fill(0),gt},rt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},rt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){(function(_,$,et){var rt=s(16);function j(Vt){var Yt=this;this.next=null,this.entry=null,this.finish=function(){(function(Pt,tn,Un){var Kt=Pt.entry;for(Pt.entry=null;Kt;){var $t=Kt.callback;tn.pendingcb--,$t(Un),Kt=Kt.next}tn.corkedRequestsFree?tn.corkedRequestsFree.next=Pt:tn.corkedRequestsFree=Pt})(Yt,Vt)}}i.exports=At;var st,lt=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:rt.nextTick;At.WritableState=Jt;var gt=s(17);gt.inherits=s(7);var bt={deprecate:s(43)},Ut=s(70),Ft=s(47).Buffer,yt=et.Uint8Array||function(){},Qt,wt=s(71);function Tt(){}function Jt(Vt,Yt){st=st||s(23),Vt=Vt||{};var Pt=Yt instanceof st;this.objectMode=!!Vt.objectMode,Pt&&(this.objectMode=this.objectMode||!!Vt.writableObjectMode);var tn=Vt.highWaterMark,Un=Vt.writableHighWaterMark,Kt=this.objectMode?16:16384;this.highWaterMark=tn||tn===0?tn:Pt&&(Un||Un===0)?Un:Kt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $t=Vt.decodeStrings===!1;this.decodeStrings=!$t,this.defaultEncoding=Vt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(hn){(function(dn,zt){var It=dn._writableState,gn=It.sync,vn=It.writecb;if(function(Ln){Ln.writing=!1,Ln.writecb=null,Ln.length-=Ln.writelen,Ln.writelen=0}(It),zt)(function(Ln,jn,xn,Rn,jt){--jn.pendingcb,xn?(rt.nextTick(jt,Rn),rt.nextTick(Ct,Ln,jn),Ln._writableState.errorEmitted=!0,Ln.emit("error",Rn)):(jt(Rn),Ln._writableState.errorEmitted=!0,Ln.emit("error",Rn),Ct(Ln,jn))})(dn,It,gn,zt,vn);else{var Wn=nn(It);Wn||It.corked||It.bufferProcessing||!It.bufferedRequest||Ot(dn,It),gn?lt(St,dn,It,Wn,vn):St(dn,It,Wn,vn)}})(Yt,hn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function At(Vt){if(st=st||s(23),!(Qt.call(At,this)||this instanceof st))return new At(Vt);this._writableState=new Jt(Vt,this),this.writable=!0,Vt&&(typeof Vt.write=="function"&&(this._write=Vt.write),typeof Vt.writev=="function"&&(this._writev=Vt.writev),typeof Vt.destroy=="function"&&(this._destroy=Vt.destroy),typeof Vt.final=="function"&&(this._final=Vt.final)),Ut.call(this)}function Nt(Vt,Yt,Pt,tn,Un,Kt,$t){Yt.writelen=tn,Yt.writecb=$t,Yt.writing=!0,Yt.sync=!0,Pt?Vt._writev(Un,Yt.onwrite):Vt._write(Un,Kt,Yt.onwrite),Yt.sync=!1}function St(Vt,Yt,Pt,tn){Pt||function(Un,Kt){Kt.length===0&&Kt.needDrain&&(Kt.needDrain=!1,Un.emit("drain"))}(Vt,Yt),Yt.pendingcb--,tn(),Ct(Vt,Yt)}function Ot(Vt,Yt){Yt.bufferProcessing=!0;var Pt=Yt.bufferedRequest;if(Vt._writev&&Pt&&Pt.next){var tn=Yt.bufferedRequestCount,Un=new Array(tn),Kt=Yt.corkedRequestsFree;Kt.entry=Pt;for(var $t=0,hn=!0;Pt;)Un[$t]=Pt,Pt.isBuf||(hn=!1),Pt=Pt.next,$t+=1;Un.allBuffers=hn,Nt(Vt,Yt,!0,Yt.length,Un,"",Kt.finish),Yt.pendingcb++,Yt.lastBufferedRequest=null,Kt.next?(Yt.corkedRequestsFree=Kt.next,Kt.next=null):Yt.corkedRequestsFree=new j(Yt),Yt.bufferedRequestCount=0}else{for(;Pt;){var dn=Pt.chunk,zt=Pt.encoding,It=Pt.callback;if(Nt(Vt,Yt,!1,Yt.objectMode?1:dn.length,dn,zt,It),Pt=Pt.next,Yt.bufferedRequestCount--,Yt.writing)break}Pt===null&&(Yt.lastBufferedRequest=null)}Yt.bufferedRequest=Pt,Yt.bufferProcessing=!1}function nn(Vt){return Vt.ending&&Vt.length===0&&Vt.bufferedRequest===null&&!Vt.finished&&!Vt.writing}function yn(Vt,Yt){Vt._final(function(Pt){Yt.pendingcb--,Pt&&Vt.emit("error",Pt),Yt.prefinished=!0,Vt.emit("prefinish"),Ct(Vt,Yt)})}function Ct(Vt,Yt){var Pt=nn(Yt);return Pt&&(function(tn,Un){Un.prefinished||Un.finalCalled||(typeof tn._final=="function"?(Un.pendingcb++,Un.finalCalled=!0,rt.nextTick(yn,tn,Un)):(Un.prefinished=!0,tn.emit("prefinish")))}(Vt,Yt),Yt.pendingcb===0&&(Yt.finished=!0,Vt.emit("finish"))),Pt}gt.inherits(At,Ut),Jt.prototype.getBuffer=function(){for(var Vt=this.bufferedRequest,Yt=[];Vt;)Yt.push(Vt),Vt=Vt.next;return Yt},function(){try{Object.defineProperty(Jt.prototype,"buffer",{get:bt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Qt=Function.prototype[Symbol.hasInstance],Object.defineProperty(At,Symbol.hasInstance,{value:function(Vt){return!!Qt.call(this,Vt)||this===At&&Vt&&Vt._writableState instanceof Jt}})):Qt=function(Vt){return Vt instanceof this},At.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},At.prototype.write=function(Vt,Yt,Pt){var tn,Un=this._writableState,Kt=!1,$t=!Un.objectMode&&(tn=Vt,Ft.isBuffer(tn)||tn instanceof yt);return $t&&!Ft.isBuffer(Vt)&&(Vt=function(hn){return Ft.from(hn)}(Vt)),typeof Yt=="function"&&(Pt=Yt,Yt=null),$t?Yt="buffer":Yt||(Yt=Un.defaultEncoding),typeof Pt!="function"&&(Pt=Tt),Un.ended?function(hn,dn){var zt=new Error("write after end");hn.emit("error",zt),rt.nextTick(dn,zt)}(this,Pt):($t||function(hn,dn,zt,It){var gn=!0,vn=!1;return zt===null?vn=new TypeError("May not write null values to stream"):typeof zt=="string"||zt===void 0||dn.objectMode||(vn=new TypeError("Invalid non-string/buffer chunk")),vn&&(hn.emit("error",vn),rt.nextTick(It,vn),gn=!1),gn}(this,Un,Vt,Pt))&&(Un.pendingcb++,Kt=function(hn,dn,zt,It,gn,vn){if(!zt){var Wn=function(Rn,jt,Ht){return Rn.objectMode||Rn.decodeStrings===!1||typeof jt!="string"||(jt=Ft.from(jt,Ht)),jt}(dn,It,gn);It!==Wn&&(zt=!0,gn="buffer",It=Wn)}var Ln=dn.objectMode?1:It.length;dn.length+=Ln;var jn=dn.length<dn.highWaterMark;if(jn||(dn.needDrain=!0),dn.writing||dn.corked){var xn=dn.lastBufferedRequest;dn.lastBufferedRequest={chunk:It,encoding:gn,isBuf:zt,callback:vn,next:null},xn?xn.next=dn.lastBufferedRequest:dn.bufferedRequest=dn.lastBufferedRequest,dn.bufferedRequestCount+=1}else Nt(hn,dn,!1,Ln,It,gn,vn);return jn}(this,Un,$t,Vt,Yt,Pt)),Kt},At.prototype.cork=function(){this._writableState.corked++},At.prototype.uncork=function(){var Vt=this._writableState;Vt.corked&&(Vt.corked--,Vt.writing||Vt.corked||Vt.finished||Vt.bufferProcessing||!Vt.bufferedRequest||Ot(this,Vt))},At.prototype.setDefaultEncoding=function(Vt){if(typeof Vt=="string"&&(Vt=Vt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Vt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Vt);return this._writableState.defaultEncoding=Vt,this},Object.defineProperty(At.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),At.prototype._write=function(Vt,Yt,Pt){Pt(new Error("_write() is not implemented"))},At.prototype._writev=null,At.prototype.end=function(Vt,Yt,Pt){var tn=this._writableState;typeof Vt=="function"?(Pt=Vt,Vt=null,Yt=null):typeof Yt=="function"&&(Pt=Yt,Yt=null),Vt!=null&&this.write(Vt,Yt),tn.corked&&(tn.corked=1,this.uncork()),tn.ending||tn.finished||function(Un,Kt,$t){Kt.ending=!0,Ct(Un,Kt),$t&&(Kt.finished?rt.nextTick($t):Un.once("finish",$t)),Kt.ended=!0,Un.writable=!1}(this,tn,Pt)},Object.defineProperty(At.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Vt){this._writableState&&(this._writableState.destroyed=Vt)}}),At.prototype.destroy=wt.destroy,At.prototype._undestroy=wt.undestroy,At.prototype._destroy=function(Vt,Yt){this.end(),Yt(Vt)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){var _=s(26).codes.ERR_STREAM_PREMATURE_CLOSE;function $(){}i.exports=function et(rt,j,st){if(typeof j=="function")return et(rt,null,j);j||(j={}),st=function(At){var Nt=!1;return function(){if(!Nt){Nt=!0;for(var St=arguments.length,Ot=new Array(St),nn=0;nn<St;nn++)Ot[nn]=arguments[nn];At.apply(this,Ot)}}}(st||$);var lt=j.readable||j.readable!==!1&&rt.readable,gt=j.writable||j.writable!==!1&&rt.writable,bt=function(){rt.writable||Ft()},Ut=rt._writableState&&rt._writableState.finished,Ft=function(){gt=!1,Ut=!0,lt||st.call(rt)},yt=rt._readableState&&rt._readableState.endEmitted,Qt=function(){lt=!1,yt=!0,gt||st.call(rt)},wt=function(At){st.call(rt,At)},Tt=function(){var At;return lt&&!yt?(rt._readableState&&rt._readableState.ended||(At=new _),st.call(rt,At)):gt&&!Ut?(rt._writableState&&rt._writableState.ended||(At=new _),st.call(rt,At)):void 0},Jt=function(){rt.req.on("finish",Ft)};return function(At){return At.setHeader&&typeof At.abort=="function"}(rt)?(rt.on("complete",Ft),rt.on("abort",Tt),rt.req?Jt():rt.on("request",Jt)):gt&&!rt._writableState&&(rt.on("end",bt),rt.on("close",bt)),rt.on("end",Qt),rt.on("finish",Ft),j.error!==!1&&rt.on("error",wt),rt.on("close",Tt),function(){rt.removeListener("complete",Ft),rt.removeListener("abort",Tt),rt.removeListener("request",Jt),rt.req&&rt.req.removeListener("finish",Ft),rt.removeListener("end",bt),rt.removeListener("close",bt),rt.removeListener("finish",Ft),rt.removeListener("end",Qt),rt.removeListener("error",wt),rt.removeListener("close",Tt)}}},function(i,o,s){var _=s(58),$=s(3).configs;o.cli=_.levels($.cli),o.npm=_.levels($.npm),o.syslog=_.levels($.syslog),o.addColors=_.levels},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=j(s(203)),$=j(s(204)),et=j(s(25)),rt=j(s(30));function j(st){return st&&st.__esModule?st:{default:st}}o.default=(0,rt.default)(function(st,lt,gt){return(0,_.default)(st,(0,$.default)((0,et.default)(lt)),gt)},3),i.exports=o.default},function(i,o,s){class _ extends Error{constructor(et,...rt){super(`env-var: ${et}`,...rt),Error.captureStackTrace&&Error.captureStackTrace(this,_),this.name="EnvVarError"}}i.exports=_},function(i,o,s){i.exports=function(_){const $=parseInt(_,10);if(isNaN($)||$.toString(10)!==_)throw new Error("should be a valid integer");return $}},function(i,o,s){i.exports=function(_){const $=parseFloat(_);if(isNaN($)||$.toString()!==_)throw new Error("should be a valid float");return $}},function(i,o,s){i.exports=function(_){try{return JSON.parse(_)}catch{throw new Error("should be valid (parseable) JSON")}}},function(i,o,s){(function(_){function $(j,st){for(var lt=0,gt=j.length-1;gt>=0;gt--){var bt=j[gt];bt==="."?j.splice(gt,1):bt===".."?(j.splice(gt,1),lt++):lt&&(j.splice(gt,1),lt--)}if(st)for(;lt--;lt)j.unshift("..");return j}function et(j,st){if(j.filter)return j.filter(st);for(var lt=[],gt=0;gt<j.length;gt++)st(j[gt],gt,j)&&lt.push(j[gt]);return lt}o.resolve=function(){for(var j="",st=!1,lt=arguments.length-1;lt>=-1&&!st;lt--){var gt=lt>=0?arguments[lt]:_.cwd();if(typeof gt!="string")throw new TypeError("Arguments to path.resolve must be strings");gt&&(j=gt+"/"+j,st=gt.charAt(0)==="/")}return(st?"/":"")+(j=$(et(j.split("/"),function(bt){return!!bt}),!st).join("/"))||"."},o.normalize=function(j){var st=o.isAbsolute(j),lt=rt(j,-1)==="/";return(j=$(et(j.split("/"),function(gt){return!!gt}),!st).join("/"))||st||(j="."),j&&lt&&(j+="/"),(st?"/":"")+j},o.isAbsolute=function(j){return j.charAt(0)==="/"},o.join=function(){var j=Array.prototype.slice.call(arguments,0);return o.normalize(et(j,function(st,lt){if(typeof st!="string")throw new TypeError("Arguments to path.join must be strings");return st}).join("/"))},o.relative=function(j,st){function lt(wt){for(var Tt=0;Tt<wt.length&&wt[Tt]==="";Tt++);for(var Jt=wt.length-1;Jt>=0&&wt[Jt]==="";Jt--);return Tt>Jt?[]:wt.slice(Tt,Jt-Tt+1)}j=o.resolve(j).substr(1),st=o.resolve(st).substr(1);for(var gt=lt(j.split("/")),bt=lt(st.split("/")),Ut=Math.min(gt.length,bt.length),Ft=Ut,yt=0;yt<Ut;yt++)if(gt[yt]!==bt[yt]){Ft=yt;break}var Qt=[];for(yt=Ft;yt<gt.length;yt++)Qt.push("..");return(Qt=Qt.concat(bt.slice(Ft))).join("/")},o.sep="/",o.delimiter=":",o.dirname=function(j){if(typeof j!="string"&&(j+=""),j.length===0)return".";for(var st=j.charCodeAt(0),lt=st===47,gt=-1,bt=!0,Ut=j.length-1;Ut>=1;--Ut)if((st=j.charCodeAt(Ut))===47){if(!bt){gt=Ut;break}}else bt=!1;return gt===-1?lt?"/":".":lt&&gt===1?"/":j.slice(0,gt)},o.basename=function(j,st){var lt=function(gt){typeof gt!="string"&&(gt+="");var bt,Ut=0,Ft=-1,yt=!0;for(bt=gt.length-1;bt>=0;--bt)if(gt.charCodeAt(bt)===47){if(!yt){Ut=bt+1;break}}else Ft===-1&&(yt=!1,Ft=bt+1);return Ft===-1?"":gt.slice(Ut,Ft)}(j);return st&&lt.substr(-1*st.length)===st&&(lt=lt.substr(0,lt.length-st.length)),lt},o.extname=function(j){typeof j!="string"&&(j+="");for(var st=-1,lt=0,gt=-1,bt=!0,Ut=0,Ft=j.length-1;Ft>=0;--Ft){var yt=j.charCodeAt(Ft);if(yt!==47)gt===-1&&(bt=!1,gt=Ft+1),yt===46?st===-1?st=Ft:Ut!==1&&(Ut=1):st!==-1&&(Ut=-1);else if(!bt){lt=Ft+1;break}}return st===-1||gt===-1||Ut===0||Ut===1&&st===gt-1&&st===lt+1?"":j.slice(st,gt)};var rt="ab".substr(-1)==="b"?function(j,st,lt){return j.substr(st,lt)}:function(j,st,lt){return st<0&&(st=j.length+st),j.substr(st,lt)}}).call(this,s(2))},,function(i,o,s){var _=o.format=s(12);o.levels=s(105),Object.defineProperty(_,"align",{value:s(122)}),Object.defineProperty(_,"cli",{value:s(123)}),Object.defineProperty(_,"combine",{value:s(124)}),Object.defineProperty(_,"colorize",{value:s(41)}),Object.defineProperty(_,"json",{value:s(125)}),Object.defineProperty(_,"label",{value:s(128)}),Object.defineProperty(_,"logstash",{value:s(129)}),Object.defineProperty(_,"metadata",{value:s(130)}),Object.defineProperty(_,"padLevels",{value:s(60)}),Object.defineProperty(_,"prettyPrint",{value:s(131)}),Object.defineProperty(_,"printf",{value:s(132)}),Object.defineProperty(_,"simple",{value:s(133)}),Object.defineProperty(_,"splat",{value:s(134)}),Object.defineProperty(_,"timestamp",{value:s(135)}),Object.defineProperty(_,"uncolorize",{value:s(137)})},function(i,o,s){var _=s(106);i.exports=_},function(i,o,s){function _(Ut){return function(Ft){if(Array.isArray(Ft))return $(Ft)}(Ut)||function(Ft){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ft))return Array.from(Ft)}(Ut)||function(Ft,yt){if(Ft){if(typeof Ft=="string")return $(Ft,yt);var Qt=Object.prototype.toString.call(Ft).slice(8,-1);if(Qt==="Object"&&Ft.constructor&&(Qt=Ft.constructor.name),Qt==="Map"||Qt==="Set")return Array.from(Ft);if(Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt))return $(Ft,yt)}}(Ut)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(Ut,Ft){(Ft==null||Ft>Ut.length)&&(Ft=Ut.length);for(var yt=0,Qt=new Array(Ft);yt<Ft;yt++)Qt[yt]=Ut[yt];return Qt}function et(Ut,Ft){if(!(Ut instanceof Ft))throw new TypeError("Cannot call a class as a function")}function rt(Ut,Ft){for(var yt=0;yt<Ft.length;yt++){var Qt=Ft[yt];Qt.enumerable=Qt.enumerable||!1,Qt.configurable=!0,"value"in Qt&&(Qt.writable=!0),Object.defineProperty(Ut,Qt.key,Qt)}}var j=s(3),st=j.configs,lt=j.LEVEL,gt=j.MESSAGE,bt=function(){function Ut(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:st.npm.levels};et(this,Ut),this.paddings=Ut.paddingForLevels(wt.levels,wt.filler),this.options=wt}var Ft,yt,Qt;return Ft=Ut,Qt=[{key:"getLongestLevel",value:function(wt){var Tt=Object.keys(wt).map(function(Jt){return Jt.length});return Math.max.apply(Math,_(Tt))}},{key:"paddingForLevel",value:function(wt,Tt,Jt){var At=Jt+1-wt.length,Nt=Math.floor(At/Tt.length);return"".concat(Tt).concat(Tt.repeat(Nt)).slice(0,At)}},{key:"paddingForLevels",value:function(wt){var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",Jt=Ut.getLongestLevel(wt);return Object.keys(wt).reduce(function(At,Nt){return At[Nt]=Ut.paddingForLevel(Nt,Tt,Jt),At},{})}}],(yt=[{key:"transform",value:function(wt,Tt){return wt.message="".concat(this.paddings[wt[lt]]).concat(wt.message),wt[gt]&&(wt[gt]="".concat(this.paddings[wt[lt]]).concat(wt[gt])),wt}}])&&rt(Ft.prototype,yt),Qt&&rt(Ft,Qt),Ut}();i.exports=function(Ut){return new bt(Ut)},i.exports.Padder=i.exports.Format=bt},function(i,o,s){var _=s(13).format;o.warn={deprecated:function($){return function(){throw new Error(_("{ %s } was removed in winston@3.0.0.",$))}},useFormat:function($){return function(){throw new Error([_("{ %s } was removed in winston@3.0.0.",$),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function($,et,rt){rt.forEach(function(j){$[j]=o.warn[et](j)})},moved:function($,et,rt){function j(){return function(){throw new Error([_("winston.%s was moved in winston@3.0.0.",rt),_("Use a winston.%s instead.",et)].join(`
`))}}Object.defineProperty($,rt,{get:j,set:j})},forProperties:function($,et,rt){rt.forEach(function(j){var st=o.warn[et](j);Object.defineProperty($,j,{get:st,set:st})})}}},function(i,o,s){(function(_,$,et){var rt=s(16);function j(Vt){var Yt=this;this.next=null,this.entry=null,this.finish=function(){(function(Pt,tn,Un){var Kt=Pt.entry;for(Pt.entry=null;Kt;){var $t=Kt.callback;tn.pendingcb--,$t(Un),Kt=Kt.next}tn.corkedRequestsFree?tn.corkedRequestsFree.next=Pt:tn.corkedRequestsFree=Pt})(Yt,Vt)}}i.exports=At;var st,lt=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:rt.nextTick;At.WritableState=Jt;var gt=Object.create(s(17));gt.inherits=s(7);var bt={deprecate:s(43)},Ut=s(63),Ft=s(44).Buffer,yt=et.Uint8Array||function(){},Qt,wt=s(64);function Tt(){}function Jt(Vt,Yt){st=st||s(36),Vt=Vt||{};var Pt=Yt instanceof st;this.objectMode=!!Vt.objectMode,Pt&&(this.objectMode=this.objectMode||!!Vt.writableObjectMode);var tn=Vt.highWaterMark,Un=Vt.writableHighWaterMark,Kt=this.objectMode?16:16384;this.highWaterMark=tn||tn===0?tn:Pt&&(Un||Un===0)?Un:Kt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $t=Vt.decodeStrings===!1;this.decodeStrings=!$t,this.defaultEncoding=Vt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(hn){(function(dn,zt){var It=dn._writableState,gn=It.sync,vn=It.writecb;if(function(Ln){Ln.writing=!1,Ln.writecb=null,Ln.length-=Ln.writelen,Ln.writelen=0}(It),zt)(function(Ln,jn,xn,Rn,jt){--jn.pendingcb,xn?(rt.nextTick(jt,Rn),rt.nextTick(Ct,Ln,jn),Ln._writableState.errorEmitted=!0,Ln.emit("error",Rn)):(jt(Rn),Ln._writableState.errorEmitted=!0,Ln.emit("error",Rn),Ct(Ln,jn))})(dn,It,gn,zt,vn);else{var Wn=nn(It);Wn||It.corked||It.bufferProcessing||!It.bufferedRequest||Ot(dn,It),gn?lt(St,dn,It,Wn,vn):St(dn,It,Wn,vn)}})(Yt,hn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function At(Vt){if(st=st||s(36),!(Qt.call(At,this)||this instanceof st))return new At(Vt);this._writableState=new Jt(Vt,this),this.writable=!0,Vt&&(typeof Vt.write=="function"&&(this._write=Vt.write),typeof Vt.writev=="function"&&(this._writev=Vt.writev),typeof Vt.destroy=="function"&&(this._destroy=Vt.destroy),typeof Vt.final=="function"&&(this._final=Vt.final)),Ut.call(this)}function Nt(Vt,Yt,Pt,tn,Un,Kt,$t){Yt.writelen=tn,Yt.writecb=$t,Yt.writing=!0,Yt.sync=!0,Pt?Vt._writev(Un,Yt.onwrite):Vt._write(Un,Kt,Yt.onwrite),Yt.sync=!1}function St(Vt,Yt,Pt,tn){Pt||function(Un,Kt){Kt.length===0&&Kt.needDrain&&(Kt.needDrain=!1,Un.emit("drain"))}(Vt,Yt),Yt.pendingcb--,tn(),Ct(Vt,Yt)}function Ot(Vt,Yt){Yt.bufferProcessing=!0;var Pt=Yt.bufferedRequest;if(Vt._writev&&Pt&&Pt.next){var tn=Yt.bufferedRequestCount,Un=new Array(tn),Kt=Yt.corkedRequestsFree;Kt.entry=Pt;for(var $t=0,hn=!0;Pt;)Un[$t]=Pt,Pt.isBuf||(hn=!1),Pt=Pt.next,$t+=1;Un.allBuffers=hn,Nt(Vt,Yt,!0,Yt.length,Un,"",Kt.finish),Yt.pendingcb++,Yt.lastBufferedRequest=null,Kt.next?(Yt.corkedRequestsFree=Kt.next,Kt.next=null):Yt.corkedRequestsFree=new j(Yt),Yt.bufferedRequestCount=0}else{for(;Pt;){var dn=Pt.chunk,zt=Pt.encoding,It=Pt.callback;if(Nt(Vt,Yt,!1,Yt.objectMode?1:dn.length,dn,zt,It),Pt=Pt.next,Yt.bufferedRequestCount--,Yt.writing)break}Pt===null&&(Yt.lastBufferedRequest=null)}Yt.bufferedRequest=Pt,Yt.bufferProcessing=!1}function nn(Vt){return Vt.ending&&Vt.length===0&&Vt.bufferedRequest===null&&!Vt.finished&&!Vt.writing}function yn(Vt,Yt){Vt._final(function(Pt){Yt.pendingcb--,Pt&&Vt.emit("error",Pt),Yt.prefinished=!0,Vt.emit("prefinish"),Ct(Vt,Yt)})}function Ct(Vt,Yt){var Pt=nn(Yt);return Pt&&(function(tn,Un){Un.prefinished||Un.finalCalled||(typeof tn._final=="function"?(Un.pendingcb++,Un.finalCalled=!0,rt.nextTick(yn,tn,Un)):(Un.prefinished=!0,tn.emit("prefinish")))}(Vt,Yt),Yt.pendingcb===0&&(Yt.finished=!0,Vt.emit("finish"))),Pt}gt.inherits(At,Ut),Jt.prototype.getBuffer=function(){for(var Vt=this.bufferedRequest,Yt=[];Vt;)Yt.push(Vt),Vt=Vt.next;return Yt},function(){try{Object.defineProperty(Jt.prototype,"buffer",{get:bt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Qt=Function.prototype[Symbol.hasInstance],Object.defineProperty(At,Symbol.hasInstance,{value:function(Vt){return!!Qt.call(this,Vt)||this===At&&Vt&&Vt._writableState instanceof Jt}})):Qt=function(Vt){return Vt instanceof this},At.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},At.prototype.write=function(Vt,Yt,Pt){var tn,Un=this._writableState,Kt=!1,$t=!Un.objectMode&&(tn=Vt,Ft.isBuffer(tn)||tn instanceof yt);return $t&&!Ft.isBuffer(Vt)&&(Vt=function(hn){return Ft.from(hn)}(Vt)),typeof Yt=="function"&&(Pt=Yt,Yt=null),$t?Yt="buffer":Yt||(Yt=Un.defaultEncoding),typeof Pt!="function"&&(Pt=Tt),Un.ended?function(hn,dn){var zt=new Error("write after end");hn.emit("error",zt),rt.nextTick(dn,zt)}(this,Pt):($t||function(hn,dn,zt,It){var gn=!0,vn=!1;return zt===null?vn=new TypeError("May not write null values to stream"):typeof zt=="string"||zt===void 0||dn.objectMode||(vn=new TypeError("Invalid non-string/buffer chunk")),vn&&(hn.emit("error",vn),rt.nextTick(It,vn),gn=!1),gn}(this,Un,Vt,Pt))&&(Un.pendingcb++,Kt=function(hn,dn,zt,It,gn,vn){if(!zt){var Wn=function(Rn,jt,Ht){return Rn.objectMode||Rn.decodeStrings===!1||typeof jt!="string"||(jt=Ft.from(jt,Ht)),jt}(dn,It,gn);It!==Wn&&(zt=!0,gn="buffer",It=Wn)}var Ln=dn.objectMode?1:It.length;dn.length+=Ln;var jn=dn.length<dn.highWaterMark;if(jn||(dn.needDrain=!0),dn.writing||dn.corked){var xn=dn.lastBufferedRequest;dn.lastBufferedRequest={chunk:It,encoding:gn,isBuf:zt,callback:vn,next:null},xn?xn.next=dn.lastBufferedRequest:dn.bufferedRequest=dn.lastBufferedRequest,dn.bufferedRequestCount+=1}else Nt(hn,dn,!1,Ln,It,gn,vn);return jn}(this,Un,$t,Vt,Yt,Pt)),Kt},At.prototype.cork=function(){this._writableState.corked++},At.prototype.uncork=function(){var Vt=this._writableState;Vt.corked&&(Vt.corked--,Vt.writing||Vt.corked||Vt.finished||Vt.bufferProcessing||!Vt.bufferedRequest||Ot(this,Vt))},At.prototype.setDefaultEncoding=function(Vt){if(typeof Vt=="string"&&(Vt=Vt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Vt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Vt);return this._writableState.defaultEncoding=Vt,this},Object.defineProperty(At.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),At.prototype._write=function(Vt,Yt,Pt){Pt(new Error("_write() is not implemented"))},At.prototype._writev=null,At.prototype.end=function(Vt,Yt,Pt){var tn=this._writableState;typeof Vt=="function"?(Pt=Vt,Vt=null,Yt=null):typeof Yt=="function"&&(Pt=Yt,Yt=null),Vt!=null&&this.write(Vt,Yt),tn.corked&&(tn.corked=1,this.uncork()),tn.ending||tn.finished||function(Un,Kt,$t){Kt.ending=!0,Ct(Un,Kt),$t&&(Kt.finished?rt.nextTick($t):Un.once("finish",$t)),Kt.ended=!0,Un.writable=!1}(this,tn,Pt)},Object.defineProperty(At.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Vt){this._writableState&&(this._writableState.destroyed=Vt)}}),At.prototype.destroy=wt.destroy,At.prototype._undestroy=wt.undestroy,At.prototype._destroy=function(Vt,Yt){this.end(),Yt(Vt)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(et,rt){et.emit("error",rt)}i.exports={destroy:function(et,rt){var j=this,st=this._readableState&&this._readableState.destroyed,lt=this._writableState&&this._writableState.destroyed;return st||lt?(rt?rt(et):!et||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,et),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(gt){!rt&&gt?(_.nextTick($,j,gt),j._writableState&&(j._writableState.errorEmitted=!0)):rt&&rt(gt)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o){},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=rt(s(156)),$=rt(s(25)),et=rt(s(30));function rt(j){return j&&j.__esModule?j:{default:j}}o.default=(0,et.default)(function(j,st,lt,gt){return(0,_.default)(st)(j,(0,$.default)(lt),gt)},4),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){function $(...et){if(_!==null){var rt=_;_=null,rt.apply(this,et)}}return Object.assign($,_),$},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){if(_===null)throw new Error("Callback was already called.");var et=_;_=null,et.apply(this,$)}},i.exports=o.default},function(i,o,s){(function(_,$){var et=s(16);i.exports=Nt;var rt,j=s(42);Nt.ReadableState=At,s(21).EventEmitter;var st=function(zt,It){return zt.listeners(It).length},lt=s(70),gt=s(47).Buffer,bt=_.Uint8Array||function(){},Ut=s(17);Ut.inherits=s(7);var Ft=s(162),yt=void 0;yt=Ft&&Ft.debuglog?Ft.debuglog("stream"):function(){};var Qt,wt=s(163),Tt=s(71);Ut.inherits(Nt,lt);var Jt=["error","close","destroy","pause","resume"];function At(zt,It){zt=zt||{};var gn=It instanceof(rt=rt||s(23));this.objectMode=!!zt.objectMode,gn&&(this.objectMode=this.objectMode||!!zt.readableObjectMode);var vn=zt.highWaterMark,Wn=zt.readableHighWaterMark,Ln=this.objectMode?16:16384;this.highWaterMark=vn||vn===0?vn:gn&&(Wn||Wn===0)?Wn:Ln,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=zt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,zt.encoding&&(Qt||(Qt=s(22).StringDecoder),this.decoder=new Qt(zt.encoding),this.encoding=zt.encoding)}function Nt(zt){if(rt=rt||s(23),!(this instanceof Nt))return new Nt(zt);this._readableState=new At(zt,this),this.readable=!0,zt&&(typeof zt.read=="function"&&(this._read=zt.read),typeof zt.destroy=="function"&&(this._destroy=zt.destroy)),lt.call(this)}function St(zt,It,gn,vn,Wn){var Ln,jn=zt._readableState;return It===null?(jn.reading=!1,function(xn,Rn){if(!Rn.ended){if(Rn.decoder){var jt=Rn.decoder.end();jt&&jt.length&&(Rn.buffer.push(jt),Rn.length+=Rn.objectMode?1:jt.length)}Rn.ended=!0,yn(xn)}}(zt,jn)):(Wn||(Ln=function(xn,Rn){var jt;Ht=Rn,gt.isBuffer(Ht)||Ht instanceof bt||typeof Rn=="string"||Rn===void 0||xn.objectMode||(jt=new TypeError("Invalid non-string/buffer chunk"));var Ht;return jt}(jn,It)),Ln?zt.emit("error",Ln):jn.objectMode||It&&It.length>0?(typeof It=="string"||jn.objectMode||Object.getPrototypeOf(It)===gt.prototype||(It=function(xn){return gt.from(xn)}(It)),vn?jn.endEmitted?zt.emit("error",new Error("stream.unshift() after end event")):Ot(zt,jn,It,!0):jn.ended?zt.emit("error",new Error("stream.push() after EOF")):(jn.reading=!1,jn.decoder&&!gn?(It=jn.decoder.write(It),jn.objectMode||It.length!==0?Ot(zt,jn,It,!1):Vt(zt,jn)):Ot(zt,jn,It,!1))):vn||(jn.reading=!1)),function(xn){return!xn.ended&&(xn.needReadable||xn.length<xn.highWaterMark||xn.length===0)}(jn)}function Ot(zt,It,gn,vn){It.flowing&&It.length===0&&!It.sync?(zt.emit("data",gn),zt.read(0)):(It.length+=It.objectMode?1:gn.length,vn?It.buffer.unshift(gn):It.buffer.push(gn),It.needReadable&&yn(zt)),Vt(zt,It)}Object.defineProperty(Nt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(zt){this._readableState&&(this._readableState.destroyed=zt)}}),Nt.prototype.destroy=Tt.destroy,Nt.prototype._undestroy=Tt.undestroy,Nt.prototype._destroy=function(zt,It){this.push(null),It(zt)},Nt.prototype.push=function(zt,It){var gn,vn=this._readableState;return vn.objectMode?gn=!0:typeof zt=="string"&&((It=It||vn.defaultEncoding)!==vn.encoding&&(zt=gt.from(zt,It),It=""),gn=!0),St(this,zt,It,!1,gn)},Nt.prototype.unshift=function(zt){return St(this,zt,null,!0,!1)},Nt.prototype.isPaused=function(){return this._readableState.flowing===!1},Nt.prototype.setEncoding=function(zt){return Qt||(Qt=s(22).StringDecoder),this._readableState.decoder=new Qt(zt),this._readableState.encoding=zt,this};function nn(zt,It){return zt<=0||It.length===0&&It.ended?0:It.objectMode?1:zt!=zt?It.flowing&&It.length?It.buffer.head.data.length:It.length:(zt>It.highWaterMark&&(It.highWaterMark=function(gn){return gn>=8388608?gn=8388608:(gn--,gn|=gn>>>1,gn|=gn>>>2,gn|=gn>>>4,gn|=gn>>>8,gn|=gn>>>16,gn++),gn}(zt)),zt<=It.length?zt:It.ended?It.length:(It.needReadable=!0,0))}function yn(zt){var It=zt._readableState;It.needReadable=!1,It.emittedReadable||(yt("emitReadable",It.flowing),It.emittedReadable=!0,It.sync?et.nextTick(Ct,zt):Ct(zt))}function Ct(zt){yt("emit readable"),zt.emit("readable"),Un(zt)}function Vt(zt,It){It.readingMore||(It.readingMore=!0,et.nextTick(Yt,zt,It))}function Yt(zt,It){for(var gn=It.length;!It.reading&&!It.flowing&&!It.ended&&It.length<It.highWaterMark&&(yt("maybeReadMore read 0"),zt.read(0),gn!==It.length);)gn=It.length;It.readingMore=!1}function Pt(zt){yt("readable nexttick read 0"),zt.read(0)}function tn(zt,It){It.reading||(yt("resume read 0"),zt.read(0)),It.resumeScheduled=!1,It.awaitDrain=0,zt.emit("resume"),Un(zt),It.flowing&&!It.reading&&zt.read(0)}function Un(zt){var It=zt._readableState;for(yt("flow",It.flowing);It.flowing&&zt.read()!==null;);}function Kt(zt,It){return It.length===0?null:(It.objectMode?gn=It.buffer.shift():!zt||zt>=It.length?(gn=It.decoder?It.buffer.join(""):It.buffer.length===1?It.buffer.head.data:It.buffer.concat(It.length),It.buffer.clear()):gn=function(vn,Wn,Ln){var jn;return vn<Wn.head.data.length?(jn=Wn.head.data.slice(0,vn),Wn.head.data=Wn.head.data.slice(vn)):jn=vn===Wn.head.data.length?Wn.shift():Ln?function(xn,Rn){var jt=Rn.head,Ht=1,_n=jt.data;for(xn-=_n.length;jt=jt.next;){var Dn=jt.data,Tn=xn>Dn.length?Dn.length:xn;if(Tn===Dn.length?_n+=Dn:_n+=Dn.slice(0,xn),(xn-=Tn)===0){Tn===Dn.length?(++Ht,jt.next?Rn.head=jt.next:Rn.head=Rn.tail=null):(Rn.head=jt,jt.data=Dn.slice(Tn));break}++Ht}return Rn.length-=Ht,_n}(vn,Wn):function(xn,Rn){var jt=gt.allocUnsafe(xn),Ht=Rn.head,_n=1;for(Ht.data.copy(jt),xn-=Ht.data.length;Ht=Ht.next;){var Dn=Ht.data,Tn=xn>Dn.length?Dn.length:xn;if(Dn.copy(jt,jt.length-xn,0,Tn),(xn-=Tn)===0){Tn===Dn.length?(++_n,Ht.next?Rn.head=Ht.next:Rn.head=Rn.tail=null):(Rn.head=Ht,Ht.data=Dn.slice(Tn));break}++_n}return Rn.length-=_n,jt}(vn,Wn),jn}(zt,It.buffer,It.decoder),gn);var gn}function $t(zt){var It=zt._readableState;if(It.length>0)throw new Error('"endReadable()" called on non-empty stream');It.endEmitted||(It.ended=!0,et.nextTick(hn,It,zt))}function hn(zt,It){zt.endEmitted||zt.length!==0||(zt.endEmitted=!0,It.readable=!1,It.emit("end"))}function dn(zt,It){for(var gn=0,vn=zt.length;gn<vn;gn++)if(zt[gn]===It)return gn;return-1}Nt.prototype.read=function(zt){yt("read",zt),zt=parseInt(zt,10);var It=this._readableState,gn=zt;if(zt!==0&&(It.emittedReadable=!1),zt===0&&It.needReadable&&(It.length>=It.highWaterMark||It.ended))return yt("read: emitReadable",It.length,It.ended),It.length===0&&It.ended?$t(this):yn(this),null;if((zt=nn(zt,It))===0&&It.ended)return It.length===0&&$t(this),null;var vn,Wn=It.needReadable;return yt("need readable",Wn),(It.length===0||It.length-zt<It.highWaterMark)&&yt("length less than watermark",Wn=!0),It.ended||It.reading?yt("reading or ended",Wn=!1):Wn&&(yt("do read"),It.reading=!0,It.sync=!0,It.length===0&&(It.needReadable=!0),this._read(It.highWaterMark),It.sync=!1,It.reading||(zt=nn(gn,It))),(vn=zt>0?Kt(zt,It):null)===null?(It.needReadable=!0,zt=0):It.length-=zt,It.length===0&&(It.ended||(It.needReadable=!0),gn!==zt&&It.ended&&$t(this)),vn!==null&&this.emit("data",vn),vn},Nt.prototype._read=function(zt){this.emit("error",new Error("_read() is not implemented"))},Nt.prototype.pipe=function(zt,It){var gn=this,vn=this._readableState;switch(vn.pipesCount){case 0:vn.pipes=zt;break;case 1:vn.pipes=[vn.pipes,zt];break;default:vn.pipes.push(zt)}vn.pipesCount+=1,yt("pipe count=%d opts=%j",vn.pipesCount,It);var Wn=(!It||It.end!==!1)&&zt!==$.stdout&&zt!==$.stderr?jn:Xn;function Ln(or,Rr){yt("onunpipe"),or===gn&&Rr&&Rr.hasUnpiped===!1&&(Rr.hasUnpiped=!0,yt("cleanup"),zt.removeListener("close",Dn),zt.removeListener("finish",Tn),zt.removeListener("drain",xn),zt.removeListener("error",_n),zt.removeListener("unpipe",Ln),gn.removeListener("end",jn),gn.removeListener("end",Xn),gn.removeListener("data",Ht),Rn=!0,!vn.awaitDrain||zt._writableState&&!zt._writableState.needDrain||xn())}function jn(){yt("onend"),zt.end()}vn.endEmitted?et.nextTick(Wn):gn.once("end",Wn),zt.on("unpipe",Ln);var xn=function(or){return function(){var Rr=or._readableState;yt("pipeOnDrain",Rr.awaitDrain),Rr.awaitDrain&&Rr.awaitDrain--,Rr.awaitDrain===0&&st(or,"data")&&(Rr.flowing=!0,Un(or))}}(gn);zt.on("drain",xn);var Rn=!1,jt=!1;function Ht(or){yt("ondata"),jt=!1,zt.write(or)!==!1||jt||((vn.pipesCount===1&&vn.pipes===zt||vn.pipesCount>1&&dn(vn.pipes,zt)!==-1)&&!Rn&&(yt("false write response, pause",gn._readableState.awaitDrain),gn._readableState.awaitDrain++,jt=!0),gn.pause())}function _n(or){yt("onerror",or),Xn(),zt.removeListener("error",_n),st(zt,"error")===0&&zt.emit("error",or)}function Dn(){zt.removeListener("finish",Tn),Xn()}function Tn(){yt("onfinish"),zt.removeListener("close",Dn),Xn()}function Xn(){yt("unpipe"),gn.unpipe(zt)}return gn.on("data",Ht),function(or,Rr,ao){if(typeof or.prependListener=="function")return or.prependListener(Rr,ao);or._events&&or._events[Rr]?j(or._events[Rr])?or._events[Rr].unshift(ao):or._events[Rr]=[ao,or._events[Rr]]:or.on(Rr,ao)}(zt,"error",_n),zt.once("close",Dn),zt.once("finish",Tn),zt.emit("pipe",gn),vn.flowing||(yt("pipe resume"),gn.resume()),zt},Nt.prototype.unpipe=function(zt){var It=this._readableState,gn={hasUnpiped:!1};if(It.pipesCount===0)return this;if(It.pipesCount===1)return zt&&zt!==It.pipes||(zt||(zt=It.pipes),It.pipes=null,It.pipesCount=0,It.flowing=!1,zt&&zt.emit("unpipe",this,gn)),this;if(!zt){var vn=It.pipes,Wn=It.pipesCount;It.pipes=null,It.pipesCount=0,It.flowing=!1;for(var Ln=0;Ln<Wn;Ln++)vn[Ln].emit("unpipe",this,gn);return this}var jn=dn(It.pipes,zt);return jn===-1||(It.pipes.splice(jn,1),It.pipesCount-=1,It.pipesCount===1&&(It.pipes=It.pipes[0]),zt.emit("unpipe",this,gn)),this},Nt.prototype.on=function(zt,It){var gn=lt.prototype.on.call(this,zt,It);if(zt==="data")this._readableState.flowing!==!1&&this.resume();else if(zt==="readable"){var vn=this._readableState;vn.endEmitted||vn.readableListening||(vn.readableListening=vn.needReadable=!0,vn.emittedReadable=!1,vn.reading?vn.length&&yn(this):et.nextTick(Pt,this))}return gn},Nt.prototype.addListener=Nt.prototype.on,Nt.prototype.resume=function(){var zt=this._readableState;return zt.flowing||(yt("resume"),zt.flowing=!0,function(It,gn){gn.resumeScheduled||(gn.resumeScheduled=!0,et.nextTick(tn,It,gn))}(this,zt)),this},Nt.prototype.pause=function(){return yt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(yt("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Nt.prototype.wrap=function(zt){var It=this,gn=this._readableState,vn=!1;for(var Wn in zt.on("end",function(){if(yt("wrapped end"),gn.decoder&&!gn.ended){var jn=gn.decoder.end();jn&&jn.length&&It.push(jn)}It.push(null)}),zt.on("data",function(jn){yt("wrapped data"),gn.decoder&&(jn=gn.decoder.write(jn)),gn.objectMode&&jn==null||(gn.objectMode||jn&&jn.length)&&(It.push(jn)||(vn=!0,zt.pause()))}),zt)this[Wn]===void 0&&typeof zt[Wn]=="function"&&(this[Wn]=function(jn){return function(){return zt[jn].apply(zt,arguments)}}(Wn));for(var Ln=0;Ln<Jt.length;Ln++)zt.on(Jt[Ln],this.emit.bind(this,Jt[Ln]));return this._read=function(jn){yt("wrapped _read",jn),vn&&(vn=!1,zt.resume())},this},Object.defineProperty(Nt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Nt._fromList=Kt}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(et,rt){et.emit("error",rt)}i.exports={destroy:function(et,rt){var j=this,st=this._readableState&&this._readableState.destroyed,lt=this._writableState&&this._writableState.destroyed;return st||lt?(rt?rt(et):!et||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,et),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(gt){!rt&&gt?(_.nextTick($,j,gt),j._writableState&&(j._writableState.errorEmitted=!0)):rt&&rt(gt)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o,s){i.exports=rt;var _=s(23),$=s(17);function et(lt,gt){var bt=this._transformState;bt.transforming=!1;var Ut=bt.writecb;if(!Ut)return this.emit("error",new Error("write callback called multiple times"));bt.writechunk=null,bt.writecb=null,gt!=null&&this.push(gt),Ut(lt);var Ft=this._readableState;Ft.reading=!1,(Ft.needReadable||Ft.length<Ft.highWaterMark)&&this._read(Ft.highWaterMark)}function rt(lt){if(!(this instanceof rt))return new rt(lt);_.call(this,lt),this._transformState={afterTransform:et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,lt&&(typeof lt.transform=="function"&&(this._transform=lt.transform),typeof lt.flush=="function"&&(this._flush=lt.flush)),this.on("prefinish",j)}function j(){var lt=this;typeof this._flush=="function"?this._flush(function(gt,bt){st(lt,gt,bt)}):st(this,null,null)}function st(lt,gt,bt){if(gt)return lt.emit("error",gt);if(bt!=null&&lt.push(bt),lt._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(lt._transformState.transforming)throw new Error("Calling transform done when still transforming");return lt.push(null)}$.inherits=s(7),$.inherits(rt,_),rt.prototype.push=function(lt,gt){return this._transformState.needTransform=!1,_.prototype.push.call(this,lt,gt)},rt.prototype._transform=function(lt,gt,bt){throw new Error("_transform() is not implemented")},rt.prototype._write=function(lt,gt,bt){var Ut=this._transformState;if(Ut.writecb=bt,Ut.writechunk=lt,Ut.writeencoding=gt,!Ut.transforming){var Ft=this._readableState;(Ut.needTransform||Ft.needReadable||Ft.length<Ft.highWaterMark)&&this._read(Ft.highWaterMark)}},rt.prototype._read=function(lt){var gt=this._transformState;gt.writechunk!==null&&gt.writecb&&!gt.transforming?(gt.transforming=!0,this._transform(gt.writechunk,gt.writeencoding,gt.afterTransform)):gt.needTransform=!0},rt.prototype._destroy=function(lt,gt){var bt=this;_.prototype._destroy.call(this,lt,function(Ut){gt(Ut),bt.emit("close")})}},function(i,o,s){i.exports=s(48)},function(i,o,s){(function(_){var $=s(170);function et(Ct,Vt){if(Ct===Vt)return 0;for(var Yt=Ct.length,Pt=Vt.length,tn=0,Un=Math.min(Yt,Pt);tn<Un;++tn)if(Ct[tn]!==Vt[tn]){Yt=Ct[tn],Pt=Vt[tn];break}return Yt<Pt?-1:Pt<Yt?1:0}function rt(Ct){return _.Buffer&&typeof _.Buffer.isBuffer=="function"?_.Buffer.isBuffer(Ct):!(Ct==null||!Ct._isBuffer)}var j=s(13),st=Object.prototype.hasOwnProperty,lt=Array.prototype.slice,gt=function(){}.name==="foo";function bt(Ct){return Object.prototype.toString.call(Ct)}function Ut(Ct){return!rt(Ct)&&typeof _.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(Ct):!!Ct&&(Ct instanceof DataView||!!(Ct.buffer&&Ct.buffer instanceof ArrayBuffer)))}var Ft=i.exports=At,yt=/\s*function\s+([^\(\s]*)\s*/;function Qt(Ct){if(j.isFunction(Ct)){if(gt)return Ct.name;var Vt=Ct.toString().match(yt);return Vt&&Vt[1]}}function wt(Ct,Vt){return typeof Ct=="string"?Ct.length<Vt?Ct:Ct.slice(0,Vt):Ct}function Tt(Ct){if(gt||!j.isFunction(Ct))return j.inspect(Ct);var Vt=Qt(Ct);return"[Function"+(Vt?": "+Vt:"")+"]"}function Jt(Ct,Vt,Yt,Pt,tn){throw new Ft.AssertionError({message:Yt,actual:Ct,expected:Vt,operator:Pt,stackStartFunction:tn})}function At(Ct,Vt){Ct||Jt(Ct,!0,Vt,"==",Ft.ok)}function Nt(Ct,Vt,Yt,Pt){if(Ct===Vt)return!0;if(rt(Ct)&&rt(Vt))return et(Ct,Vt)===0;if(j.isDate(Ct)&&j.isDate(Vt))return Ct.getTime()===Vt.getTime();if(j.isRegExp(Ct)&&j.isRegExp(Vt))return Ct.source===Vt.source&&Ct.global===Vt.global&&Ct.multiline===Vt.multiline&&Ct.lastIndex===Vt.lastIndex&&Ct.ignoreCase===Vt.ignoreCase;if(Ct!==null&&typeof Ct=="object"||Vt!==null&&typeof Vt=="object"){if(Ut(Ct)&&Ut(Vt)&&bt(Ct)===bt(Vt)&&!(Ct instanceof Float32Array||Ct instanceof Float64Array))return et(new Uint8Array(Ct.buffer),new Uint8Array(Vt.buffer))===0;if(rt(Ct)!==rt(Vt))return!1;var tn=(Pt=Pt||{actual:[],expected:[]}).actual.indexOf(Ct);return tn!==-1&&tn===Pt.expected.indexOf(Vt)||(Pt.actual.push(Ct),Pt.expected.push(Vt),function(Un,Kt,$t,hn){if(Un==null||Kt==null)return!1;if(j.isPrimitive(Un)||j.isPrimitive(Kt))return Un===Kt;if($t&&Object.getPrototypeOf(Un)!==Object.getPrototypeOf(Kt))return!1;var dn=St(Un),zt=St(Kt);if(dn&&!zt||!dn&&zt)return!1;if(dn)return Un=lt.call(Un),Kt=lt.call(Kt),Nt(Un,Kt,$t);var It,gn,vn=yn(Un),Wn=yn(Kt);if(vn.length!==Wn.length)return!1;for(vn.sort(),Wn.sort(),gn=vn.length-1;gn>=0;gn--)if(vn[gn]!==Wn[gn])return!1;for(gn=vn.length-1;gn>=0;gn--)if(It=vn[gn],!Nt(Un[It],Kt[It],$t,hn))return!1;return!0}(Ct,Vt,Yt,Pt))}return Yt?Ct===Vt:Ct==Vt}function St(Ct){return Object.prototype.toString.call(Ct)=="[object Arguments]"}function Ot(Ct,Vt){if(!Ct||!Vt)return!1;if(Object.prototype.toString.call(Vt)=="[object RegExp]")return Vt.test(Ct);try{if(Ct instanceof Vt)return!0}catch{}return!Error.isPrototypeOf(Vt)&&Vt.call({},Ct)===!0}function nn(Ct,Vt,Yt,Pt){var tn;if(typeof Vt!="function")throw new TypeError('"block" argument must be a function');typeof Yt=="string"&&(Pt=Yt,Yt=null),tn=function($t){var hn;try{$t()}catch(dn){hn=dn}return hn}(Vt),Pt=(Yt&&Yt.name?" ("+Yt.name+").":".")+(Pt?" "+Pt:"."),Ct&&!tn&&Jt(tn,Yt,"Missing expected exception"+Pt);var Un=typeof Pt=="string",Kt=!Ct&&tn&&!Yt;if((!Ct&&j.isError(tn)&&Un&&Ot(tn,Yt)||Kt)&&Jt(tn,Yt,"Got unwanted exception"+Pt),Ct&&tn&&Yt&&!Ot(tn,Yt)||!Ct&&tn)throw tn}Ft.AssertionError=function(Ct){this.name="AssertionError",this.actual=Ct.actual,this.expected=Ct.expected,this.operator=Ct.operator,Ct.message?(this.message=Ct.message,this.generatedMessage=!1):(this.message=function($t){return wt(Tt($t.actual),128)+" "+$t.operator+" "+wt(Tt($t.expected),128)}(this),this.generatedMessage=!0);var Vt=Ct.stackStartFunction||Jt;if(Error.captureStackTrace)Error.captureStackTrace(this,Vt);else{var Yt=new Error;if(Yt.stack){var Pt=Yt.stack,tn=Qt(Vt),Un=Pt.indexOf(`
`+tn);if(Un>=0){var Kt=Pt.indexOf(`
`,Un+1);Pt=Pt.substring(Kt+1)}this.stack=Pt}}},j.inherits(Ft.AssertionError,Error),Ft.fail=Jt,Ft.ok=At,Ft.equal=function(Ct,Vt,Yt){Ct!=Vt&&Jt(Ct,Vt,Yt,"==",Ft.equal)},Ft.notEqual=function(Ct,Vt,Yt){Ct==Vt&&Jt(Ct,Vt,Yt,"!=",Ft.notEqual)},Ft.deepEqual=function(Ct,Vt,Yt){Nt(Ct,Vt,!1)||Jt(Ct,Vt,Yt,"deepEqual",Ft.deepEqual)},Ft.deepStrictEqual=function(Ct,Vt,Yt){Nt(Ct,Vt,!0)||Jt(Ct,Vt,Yt,"deepStrictEqual",Ft.deepStrictEqual)},Ft.notDeepEqual=function(Ct,Vt,Yt){Nt(Ct,Vt,!1)&&Jt(Ct,Vt,Yt,"notDeepEqual",Ft.notDeepEqual)},Ft.notDeepStrictEqual=function Ct(Vt,Yt,Pt){Nt(Vt,Yt,!0)&&Jt(Vt,Yt,Pt,"notDeepStrictEqual",Ct)},Ft.strictEqual=function(Ct,Vt,Yt){Ct!==Vt&&Jt(Ct,Vt,Yt,"===",Ft.strictEqual)},Ft.notStrictEqual=function(Ct,Vt,Yt){Ct===Vt&&Jt(Ct,Vt,Yt,"!==",Ft.notStrictEqual)},Ft.throws=function(Ct,Vt,Yt){nn(!0,Ct,Vt,Yt)},Ft.doesNotThrow=function(Ct,Vt,Yt){nn(!1,Ct,Vt,Yt)},Ft.ifError=function(Ct){if(Ct)throw Ct},Ft.strict=$(function Ct(Vt,Yt){Vt||Jt(Vt,!0,Yt,"==",Ct)},Ft,{equal:Ft.strictEqual,deepEqual:Ft.deepStrictEqual,notEqual:Ft.notStrictEqual,notDeepEqual:Ft.notDeepStrictEqual}),Ft.strict.strict=Ft.strict;var yn=Object.keys||function(Ct){var Vt=[];for(var Yt in Ct)st.call(Ct,Yt)&&Vt.push(Yt);return Vt}}).call(this,s(6))},function(i,o,s){i.exports=function(_,$,et,rt){for(var j=65535&_|0,st=_>>>16&65535|0,lt=0;et!==0;){et-=lt=et>2e3?2e3:et;do st=st+(j=j+$[rt++]|0)|0;while(--lt);j%=65521,st%=65521}return j|st<<16|0}},function(i,o,s){var _=function(){for(var $,et=[],rt=0;rt<256;rt++){$=rt;for(var j=0;j<8;j++)$=1&$?3988292384^$>>>1:$>>>1;et[rt]=$}return et}();i.exports=function($,et,rt,j){var st=_,lt=j+rt;$^=-1;for(var gt=j;gt<lt;gt++)$=$>>>8^st[255&($^et[gt])];return-1^$}},function(i,o,s){(function(_,$){var et;i.exports=Vt,Vt.ReadableState=Ct,s(21).EventEmitter;var rt=function(xn,Rn){return xn.listeners(Rn).length},j=s(78),st=s(5).Buffer,lt=_.Uint8Array||function(){},gt,bt=s(179);gt=bt&&bt.debuglog?bt.debuglog("stream"):function(){};var Ut,Ft,yt,Qt=s(180),wt=s(79),Tt=s(80).getHighWaterMark,Jt=s(26).codes,At=Jt.ERR_INVALID_ARG_TYPE,Nt=Jt.ERR_STREAM_PUSH_AFTER_EOF,St=Jt.ERR_METHOD_NOT_IMPLEMENTED,Ot=Jt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;s(7)(Vt,j);var nn=wt.errorOrDestroy,yn=["error","close","destroy","pause","resume"];function Ct(xn,Rn,jt){et=et||s(27),xn=xn||{},typeof jt!="boolean"&&(jt=Rn instanceof et),this.objectMode=!!xn.objectMode,jt&&(this.objectMode=this.objectMode||!!xn.readableObjectMode),this.highWaterMark=Tt(this,xn,"readableHighWaterMark",jt),this.buffer=new Qt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=xn.emitClose!==!1,this.autoDestroy=!!xn.autoDestroy,this.destroyed=!1,this.defaultEncoding=xn.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,xn.encoding&&(Ut||(Ut=s(22).StringDecoder),this.decoder=new Ut(xn.encoding),this.encoding=xn.encoding)}function Vt(xn){if(et=et||s(27),!(this instanceof Vt))return new Vt(xn);var Rn=this instanceof et;this._readableState=new Ct(xn,this,Rn),this.readable=!0,xn&&(typeof xn.read=="function"&&(this._read=xn.read),typeof xn.destroy=="function"&&(this._destroy=xn.destroy)),j.call(this)}function Yt(xn,Rn,jt,Ht,_n){gt("readableAddChunk",Rn);var Dn,Tn=xn._readableState;if(Rn===null)Tn.reading=!1,function(Xn,or){if(gt("onEofChunk"),!or.ended){if(or.decoder){var Rr=or.decoder.end();Rr&&Rr.length&&(or.buffer.push(Rr),or.length+=or.objectMode?1:Rr.length)}or.ended=!0,or.sync?Un(Xn):(or.needReadable=!1,or.emittedReadable||(or.emittedReadable=!0,Kt(Xn)))}}(xn,Tn);else if(_n||(Dn=function(Xn,or){var Rr;ao=or,st.isBuffer(ao)||ao instanceof lt||typeof or=="string"||or===void 0||Xn.objectMode||(Rr=new At("chunk",["string","Buffer","Uint8Array"],or));var ao;return Rr}(Tn,Rn)),Dn)nn(xn,Dn);else if(Tn.objectMode||Rn&&Rn.length>0)if(typeof Rn=="string"||Tn.objectMode||Object.getPrototypeOf(Rn)===st.prototype||(Rn=function(Xn){return st.from(Xn)}(Rn)),Ht)Tn.endEmitted?nn(xn,new Ot):Pt(xn,Tn,Rn,!0);else if(Tn.ended)nn(xn,new Nt);else{if(Tn.destroyed)return!1;Tn.reading=!1,Tn.decoder&&!jt?(Rn=Tn.decoder.write(Rn),Tn.objectMode||Rn.length!==0?Pt(xn,Tn,Rn,!1):$t(xn,Tn)):Pt(xn,Tn,Rn,!1)}else Ht||(Tn.reading=!1,$t(xn,Tn));return!Tn.ended&&(Tn.length<Tn.highWaterMark||Tn.length===0)}function Pt(xn,Rn,jt,Ht){Rn.flowing&&Rn.length===0&&!Rn.sync?(Rn.awaitDrain=0,xn.emit("data",jt)):(Rn.length+=Rn.objectMode?1:jt.length,Ht?Rn.buffer.unshift(jt):Rn.buffer.push(jt),Rn.needReadable&&Un(xn)),$t(xn,Rn)}Object.defineProperty(Vt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(xn){this._readableState&&(this._readableState.destroyed=xn)}}),Vt.prototype.destroy=wt.destroy,Vt.prototype._undestroy=wt.undestroy,Vt.prototype._destroy=function(xn,Rn){Rn(xn)},Vt.prototype.push=function(xn,Rn){var jt,Ht=this._readableState;return Ht.objectMode?jt=!0:typeof xn=="string"&&((Rn=Rn||Ht.defaultEncoding)!==Ht.encoding&&(xn=st.from(xn,Rn),Rn=""),jt=!0),Yt(this,xn,Rn,!1,jt)},Vt.prototype.unshift=function(xn){return Yt(this,xn,null,!0,!1)},Vt.prototype.isPaused=function(){return this._readableState.flowing===!1},Vt.prototype.setEncoding=function(xn){Ut||(Ut=s(22).StringDecoder);var Rn=new Ut(xn);this._readableState.decoder=Rn,this._readableState.encoding=this._readableState.decoder.encoding;for(var jt=this._readableState.buffer.head,Ht="";jt!==null;)Ht+=Rn.write(jt.data),jt=jt.next;return this._readableState.buffer.clear(),Ht!==""&&this._readableState.buffer.push(Ht),this._readableState.length=Ht.length,this};function tn(xn,Rn){return xn<=0||Rn.length===0&&Rn.ended?0:Rn.objectMode?1:xn!=xn?Rn.flowing&&Rn.length?Rn.buffer.head.data.length:Rn.length:(xn>Rn.highWaterMark&&(Rn.highWaterMark=function(jt){return jt>=1073741824?jt=1073741824:(jt--,jt|=jt>>>1,jt|=jt>>>2,jt|=jt>>>4,jt|=jt>>>8,jt|=jt>>>16,jt++),jt}(xn)),xn<=Rn.length?xn:Rn.ended?Rn.length:(Rn.needReadable=!0,0))}function Un(xn){var Rn=xn._readableState;gt("emitReadable",Rn.needReadable,Rn.emittedReadable),Rn.needReadable=!1,Rn.emittedReadable||(gt("emitReadable",Rn.flowing),Rn.emittedReadable=!0,$.nextTick(Kt,xn))}function Kt(xn){var Rn=xn._readableState;gt("emitReadable_",Rn.destroyed,Rn.length,Rn.ended),Rn.destroyed||!Rn.length&&!Rn.ended||(xn.emit("readable"),Rn.emittedReadable=!1),Rn.needReadable=!Rn.flowing&&!Rn.ended&&Rn.length<=Rn.highWaterMark,gn(xn)}function $t(xn,Rn){Rn.readingMore||(Rn.readingMore=!0,$.nextTick(hn,xn,Rn))}function hn(xn,Rn){for(;!Rn.reading&&!Rn.ended&&(Rn.length<Rn.highWaterMark||Rn.flowing&&Rn.length===0);){var jt=Rn.length;if(gt("maybeReadMore read 0"),xn.read(0),jt===Rn.length)break}Rn.readingMore=!1}function dn(xn){var Rn=xn._readableState;Rn.readableListening=xn.listenerCount("readable")>0,Rn.resumeScheduled&&!Rn.paused?Rn.flowing=!0:xn.listenerCount("data")>0&&xn.resume()}function zt(xn){gt("readable nexttick read 0"),xn.read(0)}function It(xn,Rn){gt("resume",Rn.reading),Rn.reading||xn.read(0),Rn.resumeScheduled=!1,xn.emit("resume"),gn(xn),Rn.flowing&&!Rn.reading&&xn.read(0)}function gn(xn){var Rn=xn._readableState;for(gt("flow",Rn.flowing);Rn.flowing&&xn.read()!==null;);}function vn(xn,Rn){return Rn.length===0?null:(Rn.objectMode?jt=Rn.buffer.shift():!xn||xn>=Rn.length?(jt=Rn.decoder?Rn.buffer.join(""):Rn.buffer.length===1?Rn.buffer.first():Rn.buffer.concat(Rn.length),Rn.buffer.clear()):jt=Rn.buffer.consume(xn,Rn.decoder),jt);var jt}function Wn(xn){var Rn=xn._readableState;gt("endReadable",Rn.endEmitted),Rn.endEmitted||(Rn.ended=!0,$.nextTick(Ln,Rn,xn))}function Ln(xn,Rn){if(gt("endReadableNT",xn.endEmitted,xn.length),!xn.endEmitted&&xn.length===0&&(xn.endEmitted=!0,Rn.readable=!1,Rn.emit("end"),xn.autoDestroy)){var jt=Rn._writableState;(!jt||jt.autoDestroy&&jt.finished)&&Rn.destroy()}}function jn(xn,Rn){for(var jt=0,Ht=xn.length;jt<Ht;jt++)if(xn[jt]===Rn)return jt;return-1}Vt.prototype.read=function(xn){gt("read",xn),xn=parseInt(xn,10);var Rn=this._readableState,jt=xn;if(xn!==0&&(Rn.emittedReadable=!1),xn===0&&Rn.needReadable&&((Rn.highWaterMark!==0?Rn.length>=Rn.highWaterMark:Rn.length>0)||Rn.ended))return gt("read: emitReadable",Rn.length,Rn.ended),Rn.length===0&&Rn.ended?Wn(this):Un(this),null;if((xn=tn(xn,Rn))===0&&Rn.ended)return Rn.length===0&&Wn(this),null;var Ht,_n=Rn.needReadable;return gt("need readable",_n),(Rn.length===0||Rn.length-xn<Rn.highWaterMark)&&gt("length less than watermark",_n=!0),Rn.ended||Rn.reading?gt("reading or ended",_n=!1):_n&&(gt("do read"),Rn.reading=!0,Rn.sync=!0,Rn.length===0&&(Rn.needReadable=!0),this._read(Rn.highWaterMark),Rn.sync=!1,Rn.reading||(xn=tn(jt,Rn))),(Ht=xn>0?vn(xn,Rn):null)===null?(Rn.needReadable=Rn.length<=Rn.highWaterMark,xn=0):(Rn.length-=xn,Rn.awaitDrain=0),Rn.length===0&&(Rn.ended||(Rn.needReadable=!0),jt!==xn&&Rn.ended&&Wn(this)),Ht!==null&&this.emit("data",Ht),Ht},Vt.prototype._read=function(xn){nn(this,new St("_read()"))},Vt.prototype.pipe=function(xn,Rn){var jt=this,Ht=this._readableState;switch(Ht.pipesCount){case 0:Ht.pipes=xn;break;case 1:Ht.pipes=[Ht.pipes,xn];break;default:Ht.pipes.push(xn)}Ht.pipesCount+=1,gt("pipe count=%d opts=%j",Ht.pipesCount,Rn);var _n=(!Rn||Rn.end!==!1)&&xn!==$.stdout&&xn!==$.stderr?Tn:Po;function Dn(_o,Qo){gt("onunpipe"),_o===jt&&Qo&&Qo.hasUnpiped===!1&&(Qo.hasUnpiped=!0,gt("cleanup"),xn.removeListener("close",Vo),xn.removeListener("finish",bo),xn.removeListener("drain",Xn),xn.removeListener("error",ao),xn.removeListener("unpipe",Dn),jt.removeListener("end",Tn),jt.removeListener("end",Po),jt.removeListener("data",Rr),or=!0,!Ht.awaitDrain||xn._writableState&&!xn._writableState.needDrain||Xn())}function Tn(){gt("onend"),xn.end()}Ht.endEmitted?$.nextTick(_n):jt.once("end",_n),xn.on("unpipe",Dn);var Xn=function(_o){return function(){var Qo=_o._readableState;gt("pipeOnDrain",Qo.awaitDrain),Qo.awaitDrain&&Qo.awaitDrain--,Qo.awaitDrain===0&&rt(_o,"data")&&(Qo.flowing=!0,gn(_o))}}(jt);xn.on("drain",Xn);var or=!1;function Rr(_o){gt("ondata");var Qo=xn.write(_o);gt("dest.write",Qo),Qo===!1&&((Ht.pipesCount===1&&Ht.pipes===xn||Ht.pipesCount>1&&jn(Ht.pipes,xn)!==-1)&&!or&&(gt("false write response, pause",Ht.awaitDrain),Ht.awaitDrain++),jt.pause())}function ao(_o){gt("onerror",_o),Po(),xn.removeListener("error",ao),rt(xn,"error")===0&&nn(xn,_o)}function Vo(){xn.removeListener("finish",bo),Po()}function bo(){gt("onfinish"),xn.removeListener("close",Vo),Po()}function Po(){gt("unpipe"),jt.unpipe(xn)}return jt.on("data",Rr),function(_o,Qo,zo){if(typeof _o.prependListener=="function")return _o.prependListener(Qo,zo);_o._events&&_o._events[Qo]?Array.isArray(_o._events[Qo])?_o._events[Qo].unshift(zo):_o._events[Qo]=[zo,_o._events[Qo]]:_o.on(Qo,zo)}(xn,"error",ao),xn.once("close",Vo),xn.once("finish",bo),xn.emit("pipe",jt),Ht.flowing||(gt("pipe resume"),jt.resume()),xn},Vt.prototype.unpipe=function(xn){var Rn=this._readableState,jt={hasUnpiped:!1};if(Rn.pipesCount===0)return this;if(Rn.pipesCount===1)return xn&&xn!==Rn.pipes||(xn||(xn=Rn.pipes),Rn.pipes=null,Rn.pipesCount=0,Rn.flowing=!1,xn&&xn.emit("unpipe",this,jt)),this;if(!xn){var Ht=Rn.pipes,_n=Rn.pipesCount;Rn.pipes=null,Rn.pipesCount=0,Rn.flowing=!1;for(var Dn=0;Dn<_n;Dn++)Ht[Dn].emit("unpipe",this,{hasUnpiped:!1});return this}var Tn=jn(Rn.pipes,xn);return Tn===-1||(Rn.pipes.splice(Tn,1),Rn.pipesCount-=1,Rn.pipesCount===1&&(Rn.pipes=Rn.pipes[0]),xn.emit("unpipe",this,jt)),this},Vt.prototype.on=function(xn,Rn){var jt=j.prototype.on.call(this,xn,Rn),Ht=this._readableState;return xn==="data"?(Ht.readableListening=this.listenerCount("readable")>0,Ht.flowing!==!1&&this.resume()):xn==="readable"&&(Ht.endEmitted||Ht.readableListening||(Ht.readableListening=Ht.needReadable=!0,Ht.flowing=!1,Ht.emittedReadable=!1,gt("on readable",Ht.length,Ht.reading),Ht.length?Un(this):Ht.reading||$.nextTick(zt,this))),jt},Vt.prototype.addListener=Vt.prototype.on,Vt.prototype.removeListener=function(xn,Rn){var jt=j.prototype.removeListener.call(this,xn,Rn);return xn==="readable"&&$.nextTick(dn,this),jt},Vt.prototype.removeAllListeners=function(xn){var Rn=j.prototype.removeAllListeners.apply(this,arguments);return xn!=="readable"&&xn!==void 0||$.nextTick(dn,this),Rn},Vt.prototype.resume=function(){var xn=this._readableState;return xn.flowing||(gt("resume"),xn.flowing=!xn.readableListening,function(Rn,jt){jt.resumeScheduled||(jt.resumeScheduled=!0,$.nextTick(It,Rn,jt))}(this,xn)),xn.paused=!1,this},Vt.prototype.pause=function(){return gt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(gt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Vt.prototype.wrap=function(xn){var Rn=this,jt=this._readableState,Ht=!1;for(var _n in xn.on("end",function(){if(gt("wrapped end"),jt.decoder&&!jt.ended){var Tn=jt.decoder.end();Tn&&Tn.length&&Rn.push(Tn)}Rn.push(null)}),xn.on("data",function(Tn){gt("wrapped data"),jt.decoder&&(Tn=jt.decoder.write(Tn)),jt.objectMode&&Tn==null||(jt.objectMode||Tn&&Tn.length)&&(Rn.push(Tn)||(Ht=!0,xn.pause()))}),xn)this[_n]===void 0&&typeof xn[_n]=="function"&&(this[_n]=function(Tn){return function(){return xn[Tn].apply(xn,arguments)}}(_n));for(var Dn=0;Dn<yn.length;Dn++)xn.on(yn[Dn],this.emit.bind(this,yn[Dn]));return this._read=function(Tn){gt("wrapped _read",Tn),Ht&&(Ht=!1,xn.resume())},this},typeof Symbol=="function"&&(Vt.prototype[Symbol.asyncIterator]=function(){return Ft===void 0&&(Ft=s(182)),Ft(this)}),Object.defineProperty(Vt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Vt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Vt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(xn){this._readableState&&(this._readableState.flowing=xn)}}),Vt._fromList=vn,Object.defineProperty(Vt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Vt.from=function(xn,Rn){return yt===void 0&&(yt=s(183)),yt(Vt,xn,Rn)})}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){(function(_){function $(j,st){rt(j,st),et(j)}function et(j){j._writableState&&!j._writableState.emitClose||j._readableState&&!j._readableState.emitClose||j.emit("close")}function rt(j,st){j.emit("error",st)}i.exports={destroy:function(j,st){var lt=this,gt=this._readableState&&this._readableState.destroyed,bt=this._writableState&&this._writableState.destroyed;return gt||bt?(st?st(j):j&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(rt,this,j)):_.nextTick(rt,this,j)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(Ut){!st&&Ut?lt._writableState?lt._writableState.errorEmitted?_.nextTick(et,lt):(lt._writableState.errorEmitted=!0,_.nextTick($,lt,Ut)):_.nextTick($,lt,Ut):st?(_.nextTick(et,lt),st(Ut)):_.nextTick(et,lt)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(j,st){var lt=j._readableState,gt=j._writableState;lt&&lt.autoDestroy||gt&&gt.autoDestroy?j.destroy(st):j.emit("error",st)}}}).call(this,s(2))},function(i,o,s){var _=s(26).codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function($,et,rt,j){var st=function(lt,gt,bt){return lt.highWaterMark!=null?lt.highWaterMark:gt?lt[bt]:null}(et,j,rt);if(st!=null){if(!isFinite(st)||Math.floor(st)!==st||st<0)throw new _(j?rt:"highWaterMark",st);return Math.floor(st)}return $.objectMode?16:16384}}},function(i,o,s){(function(_,$){function et(hn){var dn=this;this.next=null,this.entry=null,this.finish=function(){(function(zt,It,gn){var vn=zt.entry;for(zt.entry=null;vn;){var Wn=vn.callback;It.pendingcb--,Wn(gn),vn=vn.next}It.corkedRequestsFree.next=zt})(dn,hn)}}var rt;i.exports=Vt,Vt.WritableState=Ct;var j={deprecate:s(43)},st=s(78),lt=s(5).Buffer,gt=_.Uint8Array||function(){},bt,Ut=s(79),Ft=s(80).getHighWaterMark,yt=s(26).codes,Qt=yt.ERR_INVALID_ARG_TYPE,wt=yt.ERR_METHOD_NOT_IMPLEMENTED,Tt=yt.ERR_MULTIPLE_CALLBACK,Jt=yt.ERR_STREAM_CANNOT_PIPE,At=yt.ERR_STREAM_DESTROYED,Nt=yt.ERR_STREAM_NULL_VALUES,St=yt.ERR_STREAM_WRITE_AFTER_END,Ot=yt.ERR_UNKNOWN_ENCODING,nn=Ut.errorOrDestroy;function yn(){}function Ct(hn,dn,zt){rt=rt||s(27),hn=hn||{},typeof zt!="boolean"&&(zt=dn instanceof rt),this.objectMode=!!hn.objectMode,zt&&(this.objectMode=this.objectMode||!!hn.writableObjectMode),this.highWaterMark=Ft(this,hn,"writableHighWaterMark",zt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var It=hn.decodeStrings===!1;this.decodeStrings=!It,this.defaultEncoding=hn.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(gn){(function(vn,Wn){var Ln=vn._writableState,jn=Ln.sync,xn=Ln.writecb;if(typeof xn!="function")throw new Tt;if(function(jt){jt.writing=!1,jt.writecb=null,jt.length-=jt.writelen,jt.writelen=0}(Ln),Wn)(function(jt,Ht,_n,Dn,Tn){--Ht.pendingcb,_n?($.nextTick(Tn,Dn),$.nextTick($t,jt,Ht),jt._writableState.errorEmitted=!0,nn(jt,Dn)):(Tn(Dn),jt._writableState.errorEmitted=!0,nn(jt,Dn),$t(jt,Ht))})(vn,Ln,jn,Wn,xn);else{var Rn=Un(Ln)||vn.destroyed;Rn||Ln.corked||Ln.bufferProcessing||!Ln.bufferedRequest||tn(vn,Ln),jn?$.nextTick(Pt,vn,Ln,Rn,xn):Pt(vn,Ln,Rn,xn)}})(dn,gn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=hn.emitClose!==!1,this.autoDestroy=!!hn.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new et(this)}function Vt(hn){var dn=this instanceof(rt=rt||s(27));if(!dn&&!bt.call(Vt,this))return new Vt(hn);this._writableState=new Ct(hn,this,dn),this.writable=!0,hn&&(typeof hn.write=="function"&&(this._write=hn.write),typeof hn.writev=="function"&&(this._writev=hn.writev),typeof hn.destroy=="function"&&(this._destroy=hn.destroy),typeof hn.final=="function"&&(this._final=hn.final)),st.call(this)}function Yt(hn,dn,zt,It,gn,vn,Wn){dn.writelen=It,dn.writecb=Wn,dn.writing=!0,dn.sync=!0,dn.destroyed?dn.onwrite(new At("write")):zt?hn._writev(gn,dn.onwrite):hn._write(gn,vn,dn.onwrite),dn.sync=!1}function Pt(hn,dn,zt,It){zt||function(gn,vn){vn.length===0&&vn.needDrain&&(vn.needDrain=!1,gn.emit("drain"))}(hn,dn),dn.pendingcb--,It(),$t(hn,dn)}function tn(hn,dn){dn.bufferProcessing=!0;var zt=dn.bufferedRequest;if(hn._writev&&zt&&zt.next){var It=dn.bufferedRequestCount,gn=new Array(It),vn=dn.corkedRequestsFree;vn.entry=zt;for(var Wn=0,Ln=!0;zt;)gn[Wn]=zt,zt.isBuf||(Ln=!1),zt=zt.next,Wn+=1;gn.allBuffers=Ln,Yt(hn,dn,!0,dn.length,gn,"",vn.finish),dn.pendingcb++,dn.lastBufferedRequest=null,vn.next?(dn.corkedRequestsFree=vn.next,vn.next=null):dn.corkedRequestsFree=new et(dn),dn.bufferedRequestCount=0}else{for(;zt;){var jn=zt.chunk,xn=zt.encoding,Rn=zt.callback;if(Yt(hn,dn,!1,dn.objectMode?1:jn.length,jn,xn,Rn),zt=zt.next,dn.bufferedRequestCount--,dn.writing)break}zt===null&&(dn.lastBufferedRequest=null)}dn.bufferedRequest=zt,dn.bufferProcessing=!1}function Un(hn){return hn.ending&&hn.length===0&&hn.bufferedRequest===null&&!hn.finished&&!hn.writing}function Kt(hn,dn){hn._final(function(zt){dn.pendingcb--,zt&&nn(hn,zt),dn.prefinished=!0,hn.emit("prefinish"),$t(hn,dn)})}function $t(hn,dn){var zt=Un(dn);if(zt&&(function(gn,vn){vn.prefinished||vn.finalCalled||(typeof gn._final!="function"||vn.destroyed?(vn.prefinished=!0,gn.emit("prefinish")):(vn.pendingcb++,vn.finalCalled=!0,$.nextTick(Kt,gn,vn)))}(hn,dn),dn.pendingcb===0&&(dn.finished=!0,hn.emit("finish"),dn.autoDestroy))){var It=hn._readableState;(!It||It.autoDestroy&&It.endEmitted)&&hn.destroy()}return zt}s(7)(Vt,st),Ct.prototype.getBuffer=function(){for(var hn=this.bufferedRequest,dn=[];hn;)dn.push(hn),hn=hn.next;return dn},function(){try{Object.defineProperty(Ct.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(bt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Vt,Symbol.hasInstance,{value:function(hn){return!!bt.call(this,hn)||this===Vt&&hn&&hn._writableState instanceof Ct}})):bt=function(hn){return hn instanceof this},Vt.prototype.pipe=function(){nn(this,new Jt)},Vt.prototype.write=function(hn,dn,zt){var It,gn=this._writableState,vn=!1,Wn=!gn.objectMode&&(It=hn,lt.isBuffer(It)||It instanceof gt);return Wn&&!lt.isBuffer(hn)&&(hn=function(Ln){return lt.from(Ln)}(hn)),typeof dn=="function"&&(zt=dn,dn=null),Wn?dn="buffer":dn||(dn=gn.defaultEncoding),typeof zt!="function"&&(zt=yn),gn.ending?function(Ln,jn){var xn=new St;nn(Ln,xn),$.nextTick(jn,xn)}(this,zt):(Wn||function(Ln,jn,xn,Rn){var jt;return xn===null?jt=new Nt:typeof xn=="string"||jn.objectMode||(jt=new Qt("chunk",["string","Buffer"],xn)),!jt||(nn(Ln,jt),$.nextTick(Rn,jt),!1)}(this,gn,hn,zt))&&(gn.pendingcb++,vn=function(Ln,jn,xn,Rn,jt,Ht){if(!xn){var _n=function(or,Rr,ao){return or.objectMode||or.decodeStrings===!1||typeof Rr!="string"||(Rr=lt.from(Rr,ao)),Rr}(jn,Rn,jt);Rn!==_n&&(xn=!0,jt="buffer",Rn=_n)}var Dn=jn.objectMode?1:Rn.length;jn.length+=Dn;var Tn=jn.length<jn.highWaterMark;if(Tn||(jn.needDrain=!0),jn.writing||jn.corked){var Xn=jn.lastBufferedRequest;jn.lastBufferedRequest={chunk:Rn,encoding:jt,isBuf:xn,callback:Ht,next:null},Xn?Xn.next=jn.lastBufferedRequest:jn.bufferedRequest=jn.lastBufferedRequest,jn.bufferedRequestCount+=1}else Yt(Ln,jn,!1,Dn,Rn,jt,Ht);return Tn}(this,gn,Wn,hn,dn,zt)),vn},Vt.prototype.cork=function(){this._writableState.corked++},Vt.prototype.uncork=function(){var hn=this._writableState;hn.corked&&(hn.corked--,hn.writing||hn.corked||hn.bufferProcessing||!hn.bufferedRequest||tn(this,hn))},Vt.prototype.setDefaultEncoding=function(hn){if(typeof hn=="string"&&(hn=hn.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((hn+"").toLowerCase())>-1))throw new Ot(hn);return this._writableState.defaultEncoding=hn,this},Object.defineProperty(Vt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Vt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Vt.prototype._write=function(hn,dn,zt){zt(new wt("_write()"))},Vt.prototype._writev=null,Vt.prototype.end=function(hn,dn,zt){var It=this._writableState;return typeof hn=="function"?(zt=hn,hn=null,dn=null):typeof dn=="function"&&(zt=dn,dn=null),hn!=null&&this.write(hn,dn),It.corked&&(It.corked=1,this.uncork()),It.ending||function(gn,vn,Wn){vn.ending=!0,$t(gn,vn),Wn&&(vn.finished?$.nextTick(Wn):gn.once("finish",Wn)),vn.ended=!0,gn.writable=!1}(this,It,zt),this},Object.defineProperty(Vt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Vt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(hn){this._writableState&&(this._writableState.destroyed=hn)}}),Vt.prototype.destroy=Ut.destroy,Vt.prototype._undestroy=Ut.undestroy,Vt.prototype._destroy=function(hn,dn){dn(hn)}}).call(this,s(6),s(2))},function(i,o,s){i.exports=gt;var _=s(26).codes,$=_.ERR_METHOD_NOT_IMPLEMENTED,et=_.ERR_MULTIPLE_CALLBACK,rt=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,j=_.ERR_TRANSFORM_WITH_LENGTH_0,st=s(27);function lt(Ft,yt){var Qt=this._transformState;Qt.transforming=!1;var wt=Qt.writecb;if(wt===null)return this.emit("error",new et);Qt.writechunk=null,Qt.writecb=null,yt!=null&&this.push(yt),wt(Ft);var Tt=this._readableState;Tt.reading=!1,(Tt.needReadable||Tt.length<Tt.highWaterMark)&&this._read(Tt.highWaterMark)}function gt(Ft){if(!(this instanceof gt))return new gt(Ft);st.call(this,Ft),this._transformState={afterTransform:lt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Ft&&(typeof Ft.transform=="function"&&(this._transform=Ft.transform),typeof Ft.flush=="function"&&(this._flush=Ft.flush)),this.on("prefinish",bt)}function bt(){var Ft=this;typeof this._flush!="function"||this._readableState.destroyed?Ut(this,null,null):this._flush(function(yt,Qt){Ut(Ft,yt,Qt)})}function Ut(Ft,yt,Qt){if(yt)return Ft.emit("error",yt);if(Qt!=null&&Ft.push(Qt),Ft._writableState.length)throw new j;if(Ft._transformState.transforming)throw new rt;return Ft.push(null)}s(7)(gt,st),gt.prototype.push=function(Ft,yt){return this._transformState.needTransform=!1,st.prototype.push.call(this,Ft,yt)},gt.prototype._transform=function(Ft,yt,Qt){Qt(new $("_transform()"))},gt.prototype._write=function(Ft,yt,Qt){var wt=this._transformState;if(wt.writecb=Qt,wt.writechunk=Ft,wt.writeencoding=yt,!wt.transforming){var Tt=this._readableState;(wt.needTransform||Tt.needReadable||Tt.length<Tt.highWaterMark)&&this._read(Tt.highWaterMark)}},gt.prototype._read=function(Ft){var yt=this._transformState;yt.writechunk===null||yt.transforming?yt.needTransform=!0:(yt.transforming=!0,this._transform(yt.writechunk,yt.writeencoding,yt.afterTransform))},gt.prototype._destroy=function(Ft,yt){st.prototype._destroy.call(this,Ft,function(Qt){yt(Qt)})}},function(i,o,s){(function(_){var $=s(190),et=s(85),rt=s(192),j=s(193),st=s(86),lt=o;lt.request=function(gt,bt){gt=typeof gt=="string"?st.parse(gt):rt(gt);var Ut=_.location.protocol.search(/^https?:$/)===-1?"http:":"",Ft=gt.protocol||Ut,yt=gt.hostname||gt.host,Qt=gt.port,wt=gt.path||"/";yt&&yt.indexOf(":")!==-1&&(yt="["+yt+"]"),gt.url=(yt?Ft+"//"+yt:"")+(Qt?":"+Qt:"")+wt,gt.method=(gt.method||"GET").toUpperCase(),gt.headers=gt.headers||{};var Tt=new $(gt);return bt&&Tt.on("response",bt),Tt},lt.get=function(gt,bt){var Ut=lt.request(gt,bt);return Ut.end(),Ut},lt.ClientRequest=$,lt.IncomingMessage=et.IncomingMessage,lt.Agent=function(){},lt.Agent.defaultMaxSockets=4,lt.globalAgent=new lt.Agent,lt.STATUS_CODES=j,lt.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,s(6))},function(i,o,s){(function(_){o.fetch=lt(_.fetch)&&lt(_.ReadableStream),o.writableStream=lt(_.WritableStream),o.abortController=lt(_.AbortController),o.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),o.blobConstructor=!0}catch{}var $;function et(){if($!==void 0)return $;if(_.XMLHttpRequest){$=new _.XMLHttpRequest;try{$.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{$=null}}else $=null;return $}function rt(gt){var bt=et();if(!bt)return!1;try{return bt.responseType=gt,bt.responseType===gt}catch{}return!1}var j=_.ArrayBuffer!==void 0,st=j&&lt(_.ArrayBuffer.prototype.slice);function lt(gt){return typeof gt=="function"}o.arraybuffer=o.fetch||j&&rt("arraybuffer"),o.msstream=!o.fetch&&st&&rt("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&j&&rt("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||!!et()&&lt(et().overrideMimeType),o.vbArray=lt(_.VBArray),$=null}).call(this,s(6))},function(i,o,s){(function(_,$,et){var rt=s(84),j=s(7),st=s(31),lt=o.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},gt=o.IncomingMessage=function(bt,Ut,Ft,yt){var Qt=this;if(st.Readable.call(Qt),Qt._mode=Ft,Qt.headers={},Qt.rawHeaders=[],Qt.trailers={},Qt.rawTrailers=[],Qt.on("end",function(){_.nextTick(function(){Qt.emit("close")})}),Ft==="fetch"){if(Qt._fetchResponse=Ut,Qt.url=Ut.url,Qt.statusCode=Ut.status,Qt.statusMessage=Ut.statusText,Ut.headers.forEach(function(Nt,St){Qt.headers[St.toLowerCase()]=Nt,Qt.rawHeaders.push(St,Nt)}),rt.writableStream){var wt=new WritableStream({write:function(Nt){return new Promise(function(St,Ot){Qt._destroyed?Ot():Qt.push(new $(Nt))?St():Qt._resumeFetch=St})},close:function(){et.clearTimeout(yt),Qt._destroyed||Qt.push(null)},abort:function(Nt){Qt._destroyed||Qt.emit("error",Nt)}});try{return void Ut.body.pipeTo(wt).catch(function(Nt){et.clearTimeout(yt),Qt._destroyed||Qt.emit("error",Nt)})}catch{}}var Tt=Ut.body.getReader();(function Nt(){Tt.read().then(function(St){if(!Qt._destroyed){if(St.done)return et.clearTimeout(yt),void Qt.push(null);Qt.push(new $(St.value)),Nt()}}).catch(function(St){et.clearTimeout(yt),Qt._destroyed||Qt.emit("error",St)})})()}else if(Qt._xhr=bt,Qt._pos=0,Qt.url=bt.responseURL,Qt.statusCode=bt.status,Qt.statusMessage=bt.statusText,bt.getAllResponseHeaders().split(/\r?\n/).forEach(function(Nt){var St=Nt.match(/^([^:]+):\s*(.*)/);if(St){var Ot=St[1].toLowerCase();Ot==="set-cookie"?(Qt.headers[Ot]===void 0&&(Qt.headers[Ot]=[]),Qt.headers[Ot].push(St[2])):Qt.headers[Ot]!==void 0?Qt.headers[Ot]+=", "+St[2]:Qt.headers[Ot]=St[2],Qt.rawHeaders.push(St[1],St[2])}}),Qt._charset="x-user-defined",!rt.overrideMimeType){var Jt=Qt.rawHeaders["mime-type"];if(Jt){var At=Jt.match(/;\s*charset=([^;])(;|$)/);At&&(Qt._charset=At[1].toLowerCase())}Qt._charset||(Qt._charset="utf-8")}};j(gt,st.Readable),gt.prototype._read=function(){var bt=this._resumeFetch;bt&&(this._resumeFetch=null,bt())},gt.prototype._onXHRProgress=function(){var bt=this,Ut=bt._xhr,Ft=null;switch(bt._mode){case"text:vbarray":if(Ut.readyState!==lt.DONE)break;try{Ft=new et.VBArray(Ut.responseBody).toArray()}catch{}if(Ft!==null){bt.push(new $(Ft));break}case"text":try{Ft=Ut.responseText}catch{bt._mode="text:vbarray";break}if(Ft.length>bt._pos){var yt=Ft.substr(bt._pos);if(bt._charset==="x-user-defined"){for(var Qt=new $(yt.length),wt=0;wt<yt.length;wt++)Qt[wt]=255&yt.charCodeAt(wt);bt.push(Qt)}else bt.push(yt,bt._charset);bt._pos=Ft.length}break;case"arraybuffer":if(Ut.readyState!==lt.DONE||!Ut.response)break;Ft=Ut.response,bt.push(new $(new Uint8Array(Ft)));break;case"moz-chunked-arraybuffer":if(Ft=Ut.response,Ut.readyState!==lt.LOADING||!Ft)break;bt.push(new $(new Uint8Array(Ft)));break;case"ms-stream":if(Ft=Ut.response,Ut.readyState!==lt.LOADING)break;var Tt=new et.MSStreamReader;Tt.onprogress=function(){Tt.result.byteLength>bt._pos&&(bt.push(new $(new Uint8Array(Tt.result.slice(bt._pos)))),bt._pos=Tt.result.byteLength)},Tt.onload=function(){bt.push(null)},Tt.readAsArrayBuffer(Ft)}bt._xhr.readyState===lt.DONE&&bt._mode!=="ms-stream"&&bt.push(null)}}).call(this,s(2),s(5).Buffer,s(6))},function(i,o,s){var _=s(194),$=s(196);function et(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o.parse=At,o.resolve=function(Nt,St){return At(Nt,!1,!0).resolve(St)},o.resolveObject=function(Nt,St){return Nt?At(Nt,!1,!0).resolveObject(St):St},o.format=function(Nt){return $.isString(Nt)&&(Nt=At(Nt)),Nt instanceof et?Nt.format():et.prototype.format.call(Nt)},o.Url=et;var rt=/^([a-z0-9.+-]+:)/i,j=/:[0-9]*$/,st=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,lt=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),gt=["'"].concat(lt),bt=["%","/","?",";","#"].concat(gt),Ut=["/","?","#"],Ft=/^[+a-z0-9A-Z_-]{0,63}$/,yt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Qt={javascript:!0,"javascript:":!0},wt={javascript:!0,"javascript:":!0},Tt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Jt=s(197);function At(Nt,St,Ot){if(Nt&&$.isObject(Nt)&&Nt instanceof et)return Nt;var nn=new et;return nn.parse(Nt,St,Ot),nn}et.prototype.parse=function(Nt,St,Ot){if(!$.isString(Nt))throw new TypeError("Parameter 'url' must be a string, not "+typeof Nt);var nn=Nt.indexOf("?"),yn=nn!==-1&&nn<Nt.indexOf("#")?"?":"#",Ct=Nt.split(yn);Ct[0]=Ct[0].replace(/\\/g,"/");var Vt=Nt=Ct.join(yn);if(Vt=Vt.trim(),!Ot&&Nt.split("#").length===1){var Yt=st.exec(Vt);if(Yt)return this.path=Vt,this.href=Vt,this.pathname=Yt[1],Yt[2]?(this.search=Yt[2],this.query=St?Jt.parse(this.search.substr(1)):this.search.substr(1)):St&&(this.search="",this.query={}),this}var Pt=rt.exec(Vt);if(Pt){var tn=(Pt=Pt[0]).toLowerCase();this.protocol=tn,Vt=Vt.substr(Pt.length)}if(Ot||Pt||Vt.match(/^\/\/[^@\/]+@[^@\/]+/)){var Un=Vt.substr(0,2)==="//";!Un||Pt&&wt[Pt]||(Vt=Vt.substr(2),this.slashes=!0)}if(!wt[Pt]&&(Un||Pt&&!Tt[Pt])){for(var Kt,$t,hn=-1,dn=0;dn<Ut.length;dn++)(zt=Vt.indexOf(Ut[dn]))!==-1&&(hn===-1||zt<hn)&&(hn=zt);for(($t=hn===-1?Vt.lastIndexOf("@"):Vt.lastIndexOf("@",hn))!==-1&&(Kt=Vt.slice(0,$t),Vt=Vt.slice($t+1),this.auth=decodeURIComponent(Kt)),hn=-1,dn=0;dn<bt.length;dn++){var zt;(zt=Vt.indexOf(bt[dn]))!==-1&&(hn===-1||zt<hn)&&(hn=zt)}hn===-1&&(hn=Vt.length),this.host=Vt.slice(0,hn),Vt=Vt.slice(hn),this.parseHost(),this.hostname=this.hostname||"";var It=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!It)for(var gn=this.hostname.split(/\./),vn=(dn=0,gn.length);dn<vn;dn++){var Wn=gn[dn];if(Wn&&!Wn.match(Ft)){for(var Ln="",jn=0,xn=Wn.length;jn<xn;jn++)Wn.charCodeAt(jn)>127?Ln+="x":Ln+=Wn[jn];if(!Ln.match(Ft)){var Rn=gn.slice(0,dn),jt=gn.slice(dn+1),Ht=Wn.match(yt);Ht&&(Rn.push(Ht[1]),jt.unshift(Ht[2])),jt.length&&(Vt="/"+jt.join(".")+Vt),this.hostname=Rn.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),It||(this.hostname=_.toASCII(this.hostname));var _n=this.port?":"+this.port:"",Dn=this.hostname||"";this.host=Dn+_n,this.href+=this.host,It&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Vt[0]!=="/"&&(Vt="/"+Vt))}if(!Qt[tn])for(dn=0,vn=gt.length;dn<vn;dn++){var Tn=gt[dn];if(Vt.indexOf(Tn)!==-1){var Xn=encodeURIComponent(Tn);Xn===Tn&&(Xn=escape(Tn)),Vt=Vt.split(Tn).join(Xn)}}var or=Vt.indexOf("#");or!==-1&&(this.hash=Vt.substr(or),Vt=Vt.slice(0,or));var Rr=Vt.indexOf("?");if(Rr!==-1?(this.search=Vt.substr(Rr),this.query=Vt.substr(Rr+1),St&&(this.query=Jt.parse(this.query)),Vt=Vt.slice(0,Rr)):St&&(this.search="",this.query={}),Vt&&(this.pathname=Vt),Tt[tn]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){_n=this.pathname||"";var ao=this.search||"";this.path=_n+ao}return this.href=this.format(),this},et.prototype.format=function(){var Nt=this.auth||"";Nt&&(Nt=(Nt=encodeURIComponent(Nt)).replace(/%3A/i,":"),Nt+="@");var St=this.protocol||"",Ot=this.pathname||"",nn=this.hash||"",yn=!1,Ct="";this.host?yn=Nt+this.host:this.hostname&&(yn=Nt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(yn+=":"+this.port)),this.query&&$.isObject(this.query)&&Object.keys(this.query).length&&(Ct=Jt.stringify(this.query));var Vt=this.search||Ct&&"?"+Ct||"";return St&&St.substr(-1)!==":"&&(St+=":"),this.slashes||(!St||Tt[St])&&yn!==!1?(yn="//"+(yn||""),Ot&&Ot.charAt(0)!=="/"&&(Ot="/"+Ot)):yn||(yn=""),nn&&nn.charAt(0)!=="#"&&(nn="#"+nn),Vt&&Vt.charAt(0)!=="?"&&(Vt="?"+Vt),St+yn+(Ot=Ot.replace(/[?#]/g,function(Yt){return encodeURIComponent(Yt)}))+(Vt=Vt.replace("#","%23"))+nn},et.prototype.resolve=function(Nt){return this.resolveObject(At(Nt,!1,!0)).format()},et.prototype.resolveObject=function(Nt){if($.isString(Nt)){var St=new et;St.parse(Nt,!1,!0),Nt=St}for(var Ot=new et,nn=Object.keys(this),yn=0;yn<nn.length;yn++){var Ct=nn[yn];Ot[Ct]=this[Ct]}if(Ot.hash=Nt.hash,Nt.href==="")return Ot.href=Ot.format(),Ot;if(Nt.slashes&&!Nt.protocol){for(var Vt=Object.keys(Nt),Yt=0;Yt<Vt.length;Yt++){var Pt=Vt[Yt];Pt!=="protocol"&&(Ot[Pt]=Nt[Pt])}return Tt[Ot.protocol]&&Ot.hostname&&!Ot.pathname&&(Ot.path=Ot.pathname="/"),Ot.href=Ot.format(),Ot}if(Nt.protocol&&Nt.protocol!==Ot.protocol){if(!Tt[Nt.protocol]){for(var tn=Object.keys(Nt),Un=0;Un<tn.length;Un++){var Kt=tn[Un];Ot[Kt]=Nt[Kt]}return Ot.href=Ot.format(),Ot}if(Ot.protocol=Nt.protocol,Nt.host||wt[Nt.protocol])Ot.pathname=Nt.pathname;else{for(var $t=(Nt.pathname||"").split("/");$t.length&&!(Nt.host=$t.shift()););Nt.host||(Nt.host=""),Nt.hostname||(Nt.hostname=""),$t[0]!==""&&$t.unshift(""),$t.length<2&&$t.unshift(""),Ot.pathname=$t.join("/")}if(Ot.search=Nt.search,Ot.query=Nt.query,Ot.host=Nt.host||"",Ot.auth=Nt.auth,Ot.hostname=Nt.hostname||Nt.host,Ot.port=Nt.port,Ot.pathname||Ot.search){var hn=Ot.pathname||"",dn=Ot.search||"";Ot.path=hn+dn}return Ot.slashes=Ot.slashes||Nt.slashes,Ot.href=Ot.format(),Ot}var zt=Ot.pathname&&Ot.pathname.charAt(0)==="/",It=Nt.host||Nt.pathname&&Nt.pathname.charAt(0)==="/",gn=It||zt||Ot.host&&Nt.pathname,vn=gn,Wn=Ot.pathname&&Ot.pathname.split("/")||[],Ln=($t=Nt.pathname&&Nt.pathname.split("/")||[],Ot.protocol&&!Tt[Ot.protocol]);if(Ln&&(Ot.hostname="",Ot.port=null,Ot.host&&(Wn[0]===""?Wn[0]=Ot.host:Wn.unshift(Ot.host)),Ot.host="",Nt.protocol&&(Nt.hostname=null,Nt.port=null,Nt.host&&($t[0]===""?$t[0]=Nt.host:$t.unshift(Nt.host)),Nt.host=null),gn=gn&&($t[0]===""||Wn[0]==="")),It)Ot.host=Nt.host||Nt.host===""?Nt.host:Ot.host,Ot.hostname=Nt.hostname||Nt.hostname===""?Nt.hostname:Ot.hostname,Ot.search=Nt.search,Ot.query=Nt.query,Wn=$t;else if($t.length)Wn||(Wn=[]),Wn.pop(),Wn=Wn.concat($t),Ot.search=Nt.search,Ot.query=Nt.query;else if(!$.isNullOrUndefined(Nt.search))return Ln&&(Ot.hostname=Ot.host=Wn.shift(),(Ht=!!(Ot.host&&Ot.host.indexOf("@")>0)&&Ot.host.split("@"))&&(Ot.auth=Ht.shift(),Ot.host=Ot.hostname=Ht.shift())),Ot.search=Nt.search,Ot.query=Nt.query,$.isNull(Ot.pathname)&&$.isNull(Ot.search)||(Ot.path=(Ot.pathname?Ot.pathname:"")+(Ot.search?Ot.search:"")),Ot.href=Ot.format(),Ot;if(!Wn.length)return Ot.pathname=null,Ot.search?Ot.path="/"+Ot.search:Ot.path=null,Ot.href=Ot.format(),Ot;for(var jn=Wn.slice(-1)[0],xn=(Ot.host||Nt.host||Wn.length>1)&&(jn==="."||jn==="..")||jn==="",Rn=0,jt=Wn.length;jt>=0;jt--)(jn=Wn[jt])==="."?Wn.splice(jt,1):jn===".."?(Wn.splice(jt,1),Rn++):Rn&&(Wn.splice(jt,1),Rn--);if(!gn&&!vn)for(;Rn--;Rn)Wn.unshift("..");!gn||Wn[0]===""||Wn[0]&&Wn[0].charAt(0)==="/"||Wn.unshift(""),xn&&Wn.join("/").substr(-1)!=="/"&&Wn.push("");var Ht,_n=Wn[0]===""||Wn[0]&&Wn[0].charAt(0)==="/";return Ln&&(Ot.hostname=Ot.host=_n?"":Wn.length?Wn.shift():"",(Ht=!!(Ot.host&&Ot.host.indexOf("@")>0)&&Ot.host.split("@"))&&(Ot.auth=Ht.shift(),Ot.host=Ot.hostname=Ht.shift())),(gn=gn||Ot.host&&Wn.length)&&!_n&&Wn.unshift(""),Wn.length?Ot.pathname=Wn.join("/"):(Ot.pathname=null,Ot.path=null),$.isNull(Ot.pathname)&&$.isNull(Ot.search)||(Ot.path=(Ot.pathname?Ot.pathname:"")+(Ot.search?Ot.search:"")),Ot.auth=Nt.auth||Ot.auth,Ot.slashes=Ot.slashes||Nt.slashes,Ot.href=Ot.format(),Ot},et.prototype.parseHost=function(){var Nt=this.host,St=j.exec(Nt);St&&((St=St[0])!==":"&&(this.port=St.substr(1)),Nt=Nt.substr(0,Nt.length-St.length)),Nt&&(this.hostname=Nt)}},function(i,o,s){const _=$=>$!==null&&typeof $=="object"&&typeof $.pipe=="function";_.writable=$=>_($)&&$.writable!==!1&&typeof $._write=="function"&&typeof $._writableState=="object",_.readable=$=>_($)&&$.readable!==!1&&typeof $._read=="function"&&typeof $._readableState=="object",_.duplex=$=>_.writable($)&&_.readable($),_.transform=$=>_.duplex($)&&typeof $._transform=="function"&&typeof $._transformState=="object",i.exports=_},function(i,o,s){function _(Qt){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(Qt)}function $(Qt,wt){if(!(Qt instanceof wt))throw new TypeError("Cannot call a class as a function")}function et(Qt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Qt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Qt,writable:!0,configurable:!0}}),wt&&rt(Qt,wt)}function rt(Qt,wt){return(rt=Object.setPrototypeOf||function(Tt,Jt){return Tt.__proto__=Jt,Tt})(Qt,wt)}function j(Qt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Tt,Jt=lt(Qt);if(wt){var At=lt(this).constructor;Tt=Reflect.construct(Jt,arguments,At)}else Tt=Jt.apply(this,arguments);return st(this,Tt)}}function st(Qt,wt){return!wt||_(wt)!=="object"&&typeof wt!="function"?function(Tt){if(Tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tt}(Qt):wt}function lt(Qt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(Qt)}var gt=s(3).LEVEL,bt=s(50),Ut=s(202),Ft=s(38)("winston:create-logger");function yt(Qt){return"is"+Qt.charAt(0).toUpperCase()+Qt.slice(1)+"Enabled"}i.exports=function(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qt.levels=Qt.levels||bt.npm.levels;var wt=function(Jt){et(Nt,Jt);var At=j(Nt);function Nt(St){return $(this,Nt),At.call(this,St)}return Nt}(Ut),Tt=new wt(Qt);return Object.keys(Qt.levels).forEach(function(Jt){Ft('Define prototype method for "%s"',Jt),Jt!=="log"?(wt.prototype[Jt]=function(){for(var At=this||Tt,Nt=arguments.length,St=new Array(Nt),Ot=0;Ot<Nt;Ot++)St[Ot]=arguments[Ot];if(St.length===1){var nn=St[0],yn=nn&&nn.message&&nn||{message:nn};return yn.level=yn[gt]=Jt,At._addDefaultMeta(yn),At.write(yn),this||Tt}return St.length===0?(At.log(Jt,""),At):At.log.apply(At,[Jt].concat(St))},wt.prototype[yt(Jt)]=function(){return(this||Tt).isLevelEnabled(Jt)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),Tt}},function(i,o,s){(function(_){function $(bt,Ut){for(var Ft=0;Ft<Ut.length;Ft++){var yt=Ut[Ft];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(bt,yt.key,yt)}}var et=s(18),rt=s(51),j=s(38)("winston:exception"),st=s(90),lt=s(91),gt=s(92);i.exports=function(){function bt(yt){if(function(Qt,wt){if(!(Qt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,bt),!yt)throw new Error("Logger is required to handle exceptions");this.logger=yt,this.handlers=new Map}var Ut,Ft;return Ut=bt,(Ft=[{key:"handle",value:function(){for(var yt=this,Qt=arguments.length,wt=new Array(Qt),Tt=0;Tt<Qt;Tt++)wt[Tt]=arguments[Tt];wt.forEach(function(Jt){if(Array.isArray(Jt))return Jt.forEach(function(At){return yt._addHandler(At)});yt._addHandler(Jt)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),_.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var yt=this;this.catcher&&(_.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(Qt){return yt.logger.unpipe(Qt)}))}},{key:"getAllInfo",value:function(yt){var Qt=yt.message;return Qt||typeof yt!="string"||(Qt=yt),{error:yt,level:"error",message:["uncaughtException: ".concat(Qt||"(no error message)"),yt.stack||"  No stack trace"].join(`
`),stack:yt.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(yt)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:et.loadavg(),uptime:et.uptime()}}},{key:"getTrace",value:function(yt){return(yt?lt.parse(yt):lt.get()).map(function(Qt){return{column:Qt.getColumnNumber(),file:Qt.getFileName(),function:Qt.getFunctionName(),line:Qt.getLineNumber(),method:Qt.getMethodName(),native:Qt.isNative()}})}},{key:"_addHandler",value:function(yt){if(!this.handlers.has(yt)){yt.handleExceptions=!0;var Qt=new gt(yt);this.handlers.set(yt,Qt),this.logger.pipe(Qt)}}},{key:"_uncaughtException",value:function(yt){var Qt,wt=this.getAllInfo(yt),Tt=this._getExceptionHandlers(),Jt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(yt):this.logger.exitOnError;function At(){j("doExit",Jt),j("process._exiting",_._exiting),Jt&&!_._exiting&&(Qt&&clearTimeout(Qt),_.exit(1))}if(!Tt.length&&Jt&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),Jt=!1),!Tt||Tt.length===0)return _.nextTick(At);rt(Tt,function(Nt,St){var Ot=st(St),nn=Nt.transport||Nt;function yn(Ct){return function(){j(Ct),Ot()}}nn._ending=!0,nn.once("finish",yn("finished")),nn.once("error",yn("error"))},function(){return Jt&&At()}),this.logger.log(wt),Jt&&(Qt=setTimeout(At,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(yt){return(yt.transport||yt).handleExceptions})}}])&&$(Ut.prototype,Ft),bt}()}).call(this,s(2))},function(i,o,s){var _=s(205);i.exports=function($){var et,rt=0;function j(){return rt||(rt=1,et=$.apply(this,arguments),$=null),et}return j.displayName=_($),j}},function(i,o){function s(_){for(var $ in _)this[$]=_[$]}o.get=function(_){var $=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var et={},rt=Error.prepareStackTrace;Error.prepareStackTrace=function(st,lt){return lt},Error.captureStackTrace(et,_||o.get);var j=et.stack;return Error.prepareStackTrace=rt,Error.stackTraceLimit=$,j},o.parse=function(_){if(!_.stack)return[];var $=this;return _.stack.split(`
`).slice(1).map(function(et){if(et.match(/^\s*[-]{4,}$/))return $._createParsedCallSite({fileName:et,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var rt=et.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(rt){var j=null,st=null,lt=null,gt=null,bt=null,Ut=rt[5]==="native";if(rt[1]){var Ft=(lt=rt[1]).lastIndexOf(".");if(lt[Ft-1]=="."&&Ft--,Ft>0){j=lt.substr(0,Ft),st=lt.substr(Ft+1);var yt=j.indexOf(".Module");yt>0&&(lt=lt.substr(yt+1),j=j.substr(0,yt))}gt=null}st&&(gt=j,bt=st),st==="<anonymous>"&&(bt=null,lt=null);var Qt={fileName:rt[2]||null,lineNumber:parseInt(rt[3],10)||null,functionName:lt,typeName:gt,methodName:bt,columnNumber:parseInt(rt[4],10)||null,native:Ut};return $._createParsedCallSite(Qt)}}).filter(function(et){return!!et})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(_){s.prototype[_]=null,s.prototype["get"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),["topLevel","eval","native","constructor"].forEach(function(_){s.prototype[_]=!1,s.prototype["is"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),o._createParsedCallSite=function(_){return new s(_)}},function(i,o,s){function _(gt){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt})(gt)}function $(gt,bt){for(var Ut=0;Ut<bt.length;Ut++){var Ft=bt[Ut];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(gt,Ft.key,Ft)}}function et(gt,bt){return(et=Object.setPrototypeOf||function(Ut,Ft){return Ut.__proto__=Ft,Ut})(gt,bt)}function rt(gt){var bt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Ut,Ft=st(gt);if(bt){var yt=st(this).constructor;Ut=Reflect.construct(Ft,arguments,yt)}else Ut=Ft.apply(this,arguments);return j(this,Ut)}}function j(gt,bt){return!bt||_(bt)!=="object"&&typeof bt!="function"?function(Ut){if(Ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ut}(gt):bt}function st(gt){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(bt){return bt.__proto__||Object.getPrototypeOf(bt)})(gt)}var lt=s(32).Writable;i.exports=function(gt){(function(Qt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Qt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Qt,writable:!0,configurable:!0}}),wt&&et(Qt,wt)})(yt,gt);var bt,Ut,Ft=rt(yt);function yt(Qt){var wt;if(function(Tt,Jt){if(!(Tt instanceof Jt))throw new TypeError("Cannot call a class as a function")}(this,yt),wt=Ft.call(this,{objectMode:!0}),!Qt)throw new Error("ExceptionStream requires a TransportStream instance.");return wt.handleExceptions=!0,wt.transport=Qt,wt}return bt=yt,(Ut=[{key:"_write",value:function(Qt,wt,Tt){return Qt.exception?this.transport.log(Qt,Tt):(Tt(),!0)}}])&&$(bt.prototype,Ut),yt}(lt)},function(i,o,s){(function(_){function $(bt,Ut){for(var Ft=0;Ft<Ut.length;Ft++){var yt=Ut[Ft];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(bt,yt.key,yt)}}var et=s(18),rt=s(51),j=s(38)("winston:rejection"),st=s(90),lt=s(91),gt=s(92);i.exports=function(){function bt(yt){if(function(Qt,wt){if(!(Qt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,bt),!yt)throw new Error("Logger is required to handle rejections");this.logger=yt,this.handlers=new Map}var Ut,Ft;return Ut=bt,(Ft=[{key:"handle",value:function(){for(var yt=this,Qt=arguments.length,wt=new Array(Qt),Tt=0;Tt<Qt;Tt++)wt[Tt]=arguments[Tt];wt.forEach(function(Jt){if(Array.isArray(Jt))return Jt.forEach(function(At){return yt._addHandler(At)});yt._addHandler(Jt)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),_.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var yt=this;this.catcher&&(_.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(Qt){return yt.logger.unpipe(Qt)}))}},{key:"getAllInfo",value:function(yt){var Qt=yt.message;return Qt||typeof yt!="string"||(Qt=yt),{error:yt,level:"error",message:["unhandledRejection: ".concat(Qt||"(no error message)"),yt.stack||"  No stack trace"].join(`
`),stack:yt.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(yt)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:et.loadavg(),uptime:et.uptime()}}},{key:"getTrace",value:function(yt){return(yt?lt.parse(yt):lt.get()).map(function(Qt){return{column:Qt.getColumnNumber(),file:Qt.getFileName(),function:Qt.getFunctionName(),line:Qt.getLineNumber(),method:Qt.getMethodName(),native:Qt.isNative()}})}},{key:"_addHandler",value:function(yt){if(!this.handlers.has(yt)){yt.handleRejections=!0;var Qt=new gt(yt);this.handlers.set(yt,Qt),this.logger.pipe(Qt)}}},{key:"_unhandledRejection",value:function(yt){var Qt,wt=this.getAllInfo(yt),Tt=this._getRejectionHandlers(),Jt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(yt):this.logger.exitOnError;function At(){j("doExit",Jt),j("process._exiting",_._exiting),Jt&&!_._exiting&&(Qt&&clearTimeout(Qt),_.exit(1))}if(!Tt.length&&Jt&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),Jt=!1),!Tt||Tt.length===0)return _.nextTick(At);rt(Tt,function(Nt,St){var Ot=st(St),nn=Nt.transport||Nt;function yn(Ct){return function(){j(Ct),Ot()}}nn._ending=!0,nn.once("finish",yn("finished")),nn.once("error",yn("error"))},function(){return Jt&&At()}),this.logger.log(wt),Jt&&(Qt=setTimeout(At,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(yt){return(yt.transport||yt).handleRejections})}}])&&$(Ut.prototype,Ft),bt}()}).call(this,s(2))},function(i,o,s){i.exports={asArray:s(212),asBoolStrict:s(213),asBool:s(214),asPortNumber:s(215),asEnum:s(216),asFloatNegative:s(217),asFloatPositive:s(218),asFloat:s(54),asIntNegative:s(219),asIntPositive:s(95),asInt:s(53),asJsonArray:s(220),asJsonObject:s(221),asJson:s(55),asRegExp:s(222),asString:s(33),asUrlObject:s(96),asUrlString:s(223),asEmailString:s(224)}},function(i,o,s){const _=s(53);i.exports=function($){const et=_($);if(et<0)throw new Error("should be a positive integer");return et}},function(i,o,s){const _=s(33);i.exports=function($){const et=_($);try{return new URL(et)}catch{throw new Error("should be a valid URL")}}},function(i,o,s){const _={};_.web=s(24),s(98);const $={v1:{}};$.v1.signaling={},$.v1.signaling.api=s(9),$.v1.signaling.api.SignalingClient=function(Ft,yt,Qt){Qt||(Qt={}),Qt.format="text",this.client_=new _.web.GrpcWebClientBase(Qt),this.hostname_=Ft},$.v1.signaling.api.SignalingPromiseClient=function(Ft,yt,Qt){Qt||(Qt={}),Qt.format="text",this.client_=new _.web.GrpcWebClientBase(Qt),this.hostname_=Ft};const et=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetHealth",_.web.MethodType.UNARY,$.v1.signaling.api.GetHealthRequest,$.v1.signaling.api.GetHealthResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetHealthResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getHealth=function(Ft,yt,Qt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",Ft,yt||{},et,Qt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getHealth=function(Ft,yt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",Ft,yt||{},et)};const rt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",_.web.MethodType.UNARY,$.v1.signaling.api.CreatePeerRequest,$.v1.signaling.api.CreatePeerResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.CreatePeerResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.createPeer=function(Ft,yt,Qt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",Ft,yt||{},rt,Qt)},$.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(Ft,yt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",Ft,yt||{},rt)};const j=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",_.web.MethodType.UNARY,$.v1.signaling.api.DeletePeerRequest,$.v1.signaling.api.DeletePeerResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.DeletePeerResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.deletePeer=function(Ft,yt,Qt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",Ft,yt||{},j,Qt)},$.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(Ft,yt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",Ft,yt||{},j)};const st=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",_.web.MethodType.UNARY,$.v1.signaling.api.RefreshPeerRequest,$.v1.signaling.api.RefreshPeerResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.RefreshPeerResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(Ft,yt,Qt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",Ft,yt||{},st,Qt)},$.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(Ft,yt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",Ft,yt||{},st)};const lt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",_.web.MethodType.UNARY,$.v1.signaling.api.GetPeersRequest,$.v1.signaling.api.GetPeersResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetPeersResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getPeers=function(Ft,yt,Qt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",Ft,yt||{},lt,Qt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(Ft,yt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",Ft,yt||{},lt)};const gt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",_.web.MethodType.UNARY,$.v1.signaling.api.GetIceServersRequest,$.v1.signaling.api.GetIceServersResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetIceServersResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getIceServers=function(Ft,yt,Qt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",Ft,yt||{},gt,Qt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(Ft,yt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",Ft,yt||{},gt)};const bt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",_.web.MethodType.UNARY,$.v1.signaling.api.SendSignalRequest,$.v1.signaling.api.SendSignalResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.SendSignalResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.sendSignal=function(Ft,yt,Qt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",Ft,yt||{},bt,Qt)},$.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(Ft,yt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",Ft,yt||{},bt)};const Ut=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",_.web.MethodType.SERVER_STREAMING,$.v1.signaling.api.ReceiveSignalStreamRequest,$.v1.signaling.api.ReceiveSignalStreamResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.ReceiveSignalStreamResponse,function(Ft){return Ft.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(Ft,yt){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",Ft,yt||{},Ut)},$.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(Ft,yt){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",Ft,yt||{},Ut)},i.exports=$.v1.signaling.api},function(i,o,s){var _=s(99),$=_,et=Function("return this")();$.exportSymbol("proto.google.protobuf.BoolValue",null,et),$.exportSymbol("proto.google.protobuf.BytesValue",null,et),$.exportSymbol("proto.google.protobuf.DoubleValue",null,et),$.exportSymbol("proto.google.protobuf.FloatValue",null,et),$.exportSymbol("proto.google.protobuf.Int32Value",null,et),$.exportSymbol("proto.google.protobuf.Int64Value",null,et),$.exportSymbol("proto.google.protobuf.StringValue",null,et),$.exportSymbol("proto.google.protobuf.UInt32Value",null,et),$.exportSymbol("proto.google.protobuf.UInt64Value",null,et),proto.google.protobuf.DoubleValue=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.DoubleValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.FloatValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.Int64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.Int32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.BoolValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.StringValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(rt){_.Message.initialize(this,rt,0,-1,null,null)},$.inherits(proto.google.protobuf.BytesValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(rt){return proto.google.protobuf.DoubleValue.toObject(rt,this)},proto.google.protobuf.DoubleValue.toObject=function(rt,j){var st={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.DoubleValue.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(st,j)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readDouble();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue())!==0&&j.writeDouble(1,st)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(rt){return _.Message.setProto3FloatField(this,1,rt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(rt){return proto.google.protobuf.FloatValue.toObject(rt,this)},proto.google.protobuf.FloatValue.toObject=function(rt,j){var st={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.FloatValue.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(st,j)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readFloat();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue())!==0&&j.writeFloat(1,st)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(rt){return _.Message.setProto3FloatField(this,1,rt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(rt){return proto.google.protobuf.Int64Value.toObject(rt,this)},proto.google.protobuf.Int64Value.toObject=function(rt,j){var st={value:_.Message.getFieldWithDefault(j,1,0)};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.Int64Value.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(st,j)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readInt64();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue())!==0&&j.writeInt64(1,st)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(rt){return _.Message.setProto3IntField(this,1,rt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(rt){return proto.google.protobuf.UInt64Value.toObject(rt,this)},proto.google.protobuf.UInt64Value.toObject=function(rt,j){var st={value:_.Message.getFieldWithDefault(j,1,0)};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.UInt64Value.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(st,j)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readUint64();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue())!==0&&j.writeUint64(1,st)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(rt){return _.Message.setProto3IntField(this,1,rt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(rt){return proto.google.protobuf.Int32Value.toObject(rt,this)},proto.google.protobuf.Int32Value.toObject=function(rt,j){var st={value:_.Message.getFieldWithDefault(j,1,0)};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.Int32Value.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(st,j)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readInt32();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue())!==0&&j.writeInt32(1,st)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(rt){return _.Message.setProto3IntField(this,1,rt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(rt){return proto.google.protobuf.UInt32Value.toObject(rt,this)},proto.google.protobuf.UInt32Value.toObject=function(rt,j){var st={value:_.Message.getFieldWithDefault(j,1,0)};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.UInt32Value.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(st,j)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readUint32();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue())!==0&&j.writeUint32(1,st)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(rt){return _.Message.setProto3IntField(this,1,rt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(rt){return proto.google.protobuf.BoolValue.toObject(rt,this)},proto.google.protobuf.BoolValue.toObject=function(rt,j){var st={value:_.Message.getBooleanFieldWithDefault(j,1,!1)};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.BoolValue.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(st,j)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readBool();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue())&&j.writeBool(1,st)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return _.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(rt){return _.Message.setProto3BooleanField(this,1,rt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(rt){return proto.google.protobuf.StringValue.toObject(rt,this)},proto.google.protobuf.StringValue.toObject=function(rt,j){var st={value:_.Message.getFieldWithDefault(j,1,"")};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.StringValue.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(st,j)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readString();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue()).length>0&&j.writeString(1,st)},proto.google.protobuf.StringValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(rt){return _.Message.setProto3StringField(this,1,rt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(rt){return proto.google.protobuf.BytesValue.toObject(rt,this)},proto.google.protobuf.BytesValue.toObject=function(rt,j){var st={value:j.getValue_asB64()};return rt&&(st.$jspbMessageInstance=j),st}),proto.google.protobuf.BytesValue.deserializeBinary=function(rt){var j=new _.BinaryReader(rt),st=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(st,j)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(rt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var st=j.readBytes();rt.setValue(st);break;default:j.skipField()}return rt},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var rt=new _.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(rt,j){var st;(st=rt.getValue_asU8()).length>0&&j.writeBytes(1,st)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return _.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return _.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(rt){return _.Message.setProto3BytesField(this,1,rt)},$.object.extend(o,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(i,o,s){i instanceof String&&(i=String(i));for(var _=i.length,$=0;$<_;$++){var et=i[$];if(o.call(s,et,$,i))return{i:$,v:et}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(i,o,s){i!=Array.prototype&&i!=Object.prototype&&(i[o]=s.value)},$jscomp.getGlobal=function(i){return typeof window<"u"&&window===i?i:global!==void 0&&global!=null?global:i},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(i,o,s,_){if(o){for(s=$jscomp.global,i=i.split("."),_=0;_<i.length-1;_++){var $=i[_];$ in s||(s[$]={}),s=s[$]}(o=o(_=s[i=i[i.length-1]]))!=_&&o!=null&&$jscomp.defineProperty(s,i,{configurable:!0,writable:!0,value:o})}},$jscomp.polyfill("Array.prototype.findIndex",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).i}},"es6","es3"),$jscomp.checkStringArgs=function(i,o,s){if(i==null)throw new TypeError("The 'this' value for String.prototype."+s+" must not be null or undefined");if(o instanceof RegExp)throw new TypeError("First argument to String.prototype."+s+" must not be a regular expression");return i+""},$jscomp.polyfill("String.prototype.endsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"endsWith");o+="",s===void 0&&(s=_.length),s=Math.max(0,Math.min(0|s,_.length));for(var $=o.length;0<$&&0<s;)if(_[--s]!=o[--$])return!1;return 0>=$}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"startsWith");o+="";var $=_.length,et=o.length;s=Math.max(0,Math.min(0|s,_.length));for(var rt=0;rt<et&&s<$;)if(_[s++]!=o[rt++])return!1;return rt>=et}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(i){return i||function(o){var s=$jscomp.checkStringArgs(this,null,"repeat");if(0>o||1342177279<o)throw new RangeError("Invalid count value");o|=0;for(var _="";o;)1&o&&(_+=s),(o>>>=1)&&(s+=s);return _}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(i){return i!==void 0},goog.isString=function(i){return typeof i=="string"},goog.isBoolean=function(i){return typeof i=="boolean"},goog.isNumber=function(i){return typeof i=="number"},goog.exportPath_=function(i,o,s){i=i.split("."),s=s||goog.global,i[0]in s||s.execScript===void 0||s.execScript("var "+i[0]);for(var _;i.length&&(_=i.shift());)!i.length&&goog.isDef(o)?s[_]=o:s=s[_]&&s[_]!==Object.prototype[_]?s[_]:s[_]={}},goog.define=function(i,o){return o},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(i){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(i)},goog.constructNamespace_=function(i,o){goog.exportPath_(i,o)},goog.getScriptNonce=function(i){return i&&i!=goog.global?goog.getScriptNonce_(i.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(i)?i:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(i){if(!goog.isString(i)||!i||i.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+i+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=i},goog.module.get=function(i){return goog.module.getInternal_(i)},goog.module.getInternal_=function(i){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var i=goog.global.$jscomp;return!!i&&typeof i.getCurrentModulePath=="function"&&!!i.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(i){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=i;else{var o=goog.global.$jscomp;if(!o||typeof o.getCurrentModulePath!="function")throw Error('Module with namespace "'+i+'" has been loaded incorrectly.');o=o.require(o.getCurrentModulePath()),goog.loadedModules_[i]={exports:o,type:goog.ModuleType.ES6,moduleId:i}}},goog.setTestOnly=function(i){if(goog.DISALLOW_TEST_ONLY_CODE)throw i=i||"",Error("Importing test-only code into non-debug environment"+(i?": "+i:"."))},goog.forwardDeclare=function(i){},goog.getObjectByName=function(i,o){i=i.split("."),o=o||goog.global;for(var s=0;s<i.length;s++)if(o=o[i[s]],!goog.isDefAndNotNull(o))return null;return o},goog.globalize=function(i,o){for(var s in o=o||goog.global,i)o[s]=i[s]},goog.addDependency=function(i,o,s,_){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(i){goog.global.console&&goog.global.console.error(i)},goog.require=function(i){},goog.requireType=function(i){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(i){i.instance_=void 0,i.getInstance=function(){return i.instance_?i.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=i),i.instance_=new i)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(i){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(i){return"(function(){"+i+`
;})();
`},goog.loadModule=function(i){var o=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(i))var s=i.call(void 0,{});else{if(!goog.isString(i))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(i=goog.workaroundSafari10EvalBug(i)),s=goog.loadModuleFromSource_.call(void 0,i)}var _=goog.moduleLoaderState_.moduleName;if(!goog.isString(_)||!_)throw Error('Invalid module name "'+_+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(_,s):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof s=="object"&&s!=null&&Object.seal(s),goog.loadedModules_[_]={exports:s,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(i){i=i.split("/");for(var o=0;o<i.length;)i[o]=="."?i.splice(o,1):o&&i[o]==".."&&i[o-1]&&i[o-1]!=".."?i.splice(--o,2):o++;return i.join("/")},goog.loadFileSync_=function(i){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(i);try{var o=new goog.global.XMLHttpRequest;return o.open("get",i,!1),o.send(),o.status==0||o.status==200?o.responseText:null}catch{return null}},goog.transpile_=function(i,o,s){var _=goog.global.$jscomp;_||(goog.global.$jscomp=_={});var $=_.transpile;if(!$){var et=goog.basePath+goog.TRANSPILER,rt=goog.loadFileSync_(et);if(rt){if(function(){(0,eval)(rt+`
//# sourceURL=`+et)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,$=(_=goog.global.$jscomp).transpile}}return $||($=_.transpile=function(j,st){return goog.logToConsole_(st+" requires transpilation but no transpiler was found."),j}),$(i,o,s)},goog.typeOf=function(i){var o=typeof i;if(o=="object"){if(!i)return"null";if(i instanceof Array)return"array";if(i instanceof Object)return o;var s=Object.prototype.toString.call(i);if(s=="[object Window]")return"object";if(s=="[object Array]"||typeof i.length=="number"&&i.splice!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("splice"))return"array";if(s=="[object Function]"||i.call!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("call"))return"function"}else if(o=="function"&&i.call===void 0)return"object";return o},goog.isNull=function(i){return i===null},goog.isDefAndNotNull=function(i){return i!=null},goog.isArray=function(i){return goog.typeOf(i)=="array"},goog.isArrayLike=function(i){var o=goog.typeOf(i);return o=="array"||o=="object"&&typeof i.length=="number"},goog.isDateLike=function(i){return goog.isObject(i)&&typeof i.getFullYear=="function"},goog.isFunction=function(i){return goog.typeOf(i)=="function"},goog.isObject=function(i){var o=typeof i;return o=="object"&&i!=null||o=="function"},goog.getUid=function(i){return i[goog.UID_PROPERTY_]||(i[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(i){return!!i[goog.UID_PROPERTY_]},goog.removeUid=function(i){i!==null&&"removeAttribute"in i&&i.removeAttribute(goog.UID_PROPERTY_);try{delete i[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(typeof i.clone=="function")return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.cloneObject(i[s]);return o}return i},goog.bindNative_=function(i,o,s){return i.call.apply(i.bind,arguments)},goog.bindJs_=function(i,o,s){if(!i)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,_),i.apply(o,$)}}return function(){return i.apply(o,arguments)}},goog.bind=function(i,o,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=s.slice();return _.push.apply(_,arguments),i.apply(this,_)}},goog.mixin=function(i,o){for(var s in o)i[s]=o[s]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(i){if(goog.global.execScript)goog.global.execScript(i,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(i);else{var o=goog.global.document,s=o.createElement("SCRIPT");s.type="text/javascript",s.defer=!1,s.appendChild(o.createTextNode(i)),o.head.appendChild(s),o.head.removeChild(s)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(i,o){if(String(i).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+i);var s=function($){return goog.cssNameMapping_[$]||$},_=function($){$=$.split("-");for(var et=[],rt=0;rt<$.length;rt++)et.push(s($[rt]));return et.join("-")};return _=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?s:_:function($){return $},i=o?i+"-"+_(o):_(i),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(i):i},goog.setCssNameMapping=function(i,o){goog.cssNameMapping_=i,goog.cssNameMappingStyle_=o},goog.getMsg=function(i,o,s){return s&&s.html&&(i=i.replace(/</g,"&lt;")),o&&(i=i.replace(/\{\$([^}]+)}/g,function(_,$){return o!=null&&$ in o?o[$]:_})),i},goog.getMsgWithFallback=function(i,o){return i},goog.exportSymbol=function(i,o,s){goog.exportPath_(i,o,s)},goog.exportProperty=function(i,o,s){i[o]=s},goog.inherits=function(i,o){function s(){}s.prototype=o.prototype,i.superClass_=o.prototype,i.prototype=new s,i.prototype.constructor=i,i.base=function(_,$,et){for(var rt=Array(arguments.length-2),j=2;j<arguments.length;j++)rt[j-2]=arguments[j];return o.prototype[$].apply(_,rt)}},goog.base=function(i,o,s){var _=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!_)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(_.superClass_!==void 0){for(var $=Array(arguments.length-1),et=1;et<arguments.length;et++)$[et-1]=arguments[et];return _.superClass_.constructor.apply(i,$)}if(typeof o!="string"&&typeof o!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for($=Array(arguments.length-2),et=2;et<arguments.length;et++)$[et-2]=arguments[et];et=!1;for(var rt=i.constructor.prototype;rt;rt=Object.getPrototypeOf(rt))if(rt[o]===_)et=!0;else if(et)return rt[o].apply(i,$);if(i[o]===_)return i.constructor.prototype[o].apply(i,$);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(i){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");i.call(goog.global)},goog.defineClass=function(i,o){var s=o.constructor,_=o.statics;return s&&s!=Object.prototype.constructor||(s=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),s=goog.defineClass.createSealingConstructor_(s,i),i&&goog.inherits(s,i),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(s.prototype,o),_!=null&&(_ instanceof Function?_(s):goog.defineClass.applyProperties_(s,_)),s},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(i,o){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return i;var s=!goog.defineClass.isUnsealable_(o),_=function(){var $=i.apply(this,arguments)||this;return $[goog.UID_PROPERTY_]=$[goog.UID_PROPERTY_],this.constructor===_&&s&&Object.seal instanceof Function&&Object.seal($),$};return _},goog.defineClass.isUnsealable_=function(i){return i&&i.prototype&&i.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s]);for(var _=0;_<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;_++)s=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[_],Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},goog.tagUnsealableClass=function(i){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(i){return i},goog.createTrustedTypesPolicy=function(i){var o=null;if(typeof TrustedTypes>"u"||!TrustedTypes.createPolicy)return o;try{o=TrustedTypes.createPolicy(i,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(s){goog.logToConsole_(s.message)}return o},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(i){var o=jspb.BinaryConstants.FieldType,s=jspb.BinaryConstants.WireType;switch(i){case o.INT32:case o.INT64:case o.UINT32:case o.UINT64:case o.SINT32:case o.SINT64:case o.BOOL:case o.ENUM:case o.VHASH64:return s.VARINT;case o.DOUBLE:case o.FIXED64:case o.SFIXED64:case o.FHASH64:return s.FIXED64;case o.STRING:case o.MESSAGE:case o.BYTES:return s.DELIMITED;case o.FLOAT:case o.FIXED32:case o.SFIXED32:return s.FIXED32;default:return s.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(i){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}i&&(this.message=String(i)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(i,o){goog.debug.Error.call(this,goog.asserts.subs_(i,o)),this.messagePattern=i},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(i){throw i},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(i,o){for(var s="",_=(i=i.split("%s")).length-1,$=0;$<_;$++)s+=i[$]+($<o.length?o[$]:"%s");return s+i[_]},goog.asserts.doAssertFailure_=function(i,o,s,_){var $="Assertion failed";if(s){$+=": "+s;var et=_}else i&&($+=": "+i,et=o);i=new goog.asserts.AssertionError(""+$,et||[]),goog.asserts.errorHandler_(i)},goog.asserts.setErrorHandler=function(i){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=i)},goog.asserts.assert=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!i&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertExists=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&i==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.fail=function(i,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(i)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertString=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(i)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertFunction=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(i)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObject=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(i)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertArray=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(i)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertBoolean=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(i)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertElement=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(i)&&i.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertInstanceof=function(i,o,s,_){return!goog.asserts.ENABLE_ASSERTS||i instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(i)],s,Array.prototype.slice.call(arguments,3)),i},goog.asserts.assertFinite=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||typeof i=="number"&&isFinite(i)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var i in Object.prototype)goog.asserts.fail(i+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(i){return i[i.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.indexOf.call(i,o,s)}:function(i,o,s){if(s=s==null?0:0>s?Math.max(0,i.length+s):s,goog.isString(i))return goog.isString(o)&&o.length==1?i.indexOf(o,s):-1;for(;s<i.length;s++)if(s in i&&i[s]===o)return s;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.lastIndexOf.call(i,o,s??i.length-1)}:function(i,o,s){if(0>(s=s??i.length-1)&&(s=Math.max(0,i.length+s)),goog.isString(i))return goog.isString(o)&&o.length==1?i.lastIndexOf(o,s):-1;for(;0<=s;s--)if(s in i&&i[s]===o)return s;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(i,o,s){goog.asserts.assert(i.length!=null),Array.prototype.forEach.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,et=0;et<_;et++)et in $&&o.call(s,$[et],et,i)},goog.array.forEachRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;--_)_ in $&&o.call(s,$[_],_,i)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.filter.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=[],et=0,rt=goog.isString(i)?i.split(""):i,j=0;j<_;j++)if(j in rt){var st=rt[j];o.call(s,st,j,i)&&($[et++]=st)}return $},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.map.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=Array(_),et=goog.isString(i)?i.split(""):i,rt=0;rt<_;rt++)rt in et&&($[rt]=o.call(s,et[rt],rt,i));return $},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduce.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEach(i,function(et,rt){$=o.call(_,$,et,rt,i)}),$},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),goog.asserts.assert(o!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduceRight.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEachRight(i,function(et,rt){$=o.call(_,$,et,rt,i)}),$},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.some.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,et=0;et<_;et++)if(et in $&&o.call(s,$[et],et,i))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.every.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,et=0;et<_;et++)if(et in $&&!o.call(s,$[et],et,i))return!1;return!0},goog.array.count=function(i,o,s){var _=0;return goog.array.forEach(i,function($,et,rt){o.call(s,$,et,rt)&&++_},s),_},goog.array.find=function(i,o,s){return 0>(o=goog.array.findIndex(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndex=function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,et=0;et<_;et++)if(et in $&&o.call(s,$[et],et,i))return et;return-1},goog.array.findRight=function(i,o,s){return 0>(o=goog.array.findIndexRight(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndexRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;_--)if(_ in $&&o.call(s,$[_],_,i))return _;return-1},goog.array.contains=function(i,o){return 0<=goog.array.indexOf(i,o)},goog.array.isEmpty=function(i){return i.length==0},goog.array.clear=function(i){if(!goog.isArray(i))for(var o=i.length-1;0<=o;o--)delete i[o];i.length=0},goog.array.insert=function(i,o){goog.array.contains(i,o)||i.push(o)},goog.array.insertAt=function(i,o,s){goog.array.splice(i,s,0,o)},goog.array.insertArrayAt=function(i,o,s){goog.partial(goog.array.splice,i,s,0).apply(null,o)},goog.array.insertBefore=function(i,o,s){var _;arguments.length==2||0>(_=goog.array.indexOf(i,s))?i.push(o):goog.array.insertAt(i,o,_)},goog.array.remove=function(i,o){var s;return(s=0<=(o=goog.array.indexOf(i,o)))&&goog.array.removeAt(i,o),s},goog.array.removeLast=function(i,o){return 0<=(o=goog.array.lastIndexOf(i,o))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAt=function(i,o){return goog.asserts.assert(i.length!=null),Array.prototype.splice.call(i,o,1).length==1},goog.array.removeIf=function(i,o,s){return 0<=(o=goog.array.findIndex(i,o,s))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAllIf=function(i,o,s){var _=0;return goog.array.forEachRight(i,function($,et){o.call(s,$,et,i)&&goog.array.removeAt(i,et)&&_++}),_},goog.array.concat=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(i){var o=i.length;if(0<o){for(var s=Array(o),_=0;_<o;_++)s[_]=i[_];return s}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(i,o){for(var s=1;s<arguments.length;s++){var _=arguments[s];if(goog.isArrayLike(_)){var $=i.length||0,et=_.length||0;i.length=$+et;for(var rt=0;rt<et;rt++)i[$+rt]=_[rt]}else i.push(_)}},goog.array.splice=function(i,o,s,_){return goog.asserts.assert(i.length!=null),Array.prototype.splice.apply(i,goog.array.slice(arguments,1))},goog.array.slice=function(i,o,s){return goog.asserts.assert(i.length!=null),2>=arguments.length?Array.prototype.slice.call(i,o):Array.prototype.slice.call(i,o,s)},goog.array.removeDuplicates=function(i,o,s){o=o||i;var _=function(st){return goog.isObject(st)?"o"+goog.getUid(st):(typeof st).charAt(0)+st};s=s||_,_={};for(var $=0,et=0;et<i.length;){var rt=i[et++],j=s(rt);Object.prototype.hasOwnProperty.call(_,j)||(_[j]=!0,o[$++]=rt)}o.length=$},goog.array.binarySearch=function(i,o,s){return goog.array.binarySearch_(i,s||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(i,o,s){return goog.array.binarySearch_(i,o,!0,void 0,s)},goog.array.binarySearch_=function(i,o,s,_,$){for(var et,rt=0,j=i.length;rt<j;){var st=rt+j>>1,lt=s?o.call($,i[st],st,i):o(_,i[st]);0<lt?rt=st+1:(j=st,et=!lt)}return et?rt:~rt},goog.array.sort=function(i,o){i.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]={index:_,value:i[_]};var $=o||goog.array.defaultCompare;for(goog.array.sort(s,function(et,rt){return $(et.value,rt.value)||et.index-rt.index}),_=0;_<i.length;_++)i[_]=s[_].value},goog.array.sortByKey=function(i,o,s){var _=s||goog.array.defaultCompare;goog.array.sort(i,function($,et){return _(o($),o(et))})},goog.array.sortObjectsByKey=function(i,o,s){goog.array.sortByKey(i,function(_){return _[o]},s)},goog.array.isSorted=function(i,o,s){o=o||goog.array.defaultCompare;for(var _=1;_<i.length;_++){var $=o(i[_-1],i[_]);if(0<$||$==0&&s)return!1}return!0},goog.array.equals=function(i,o,s){if(!goog.isArrayLike(i)||!goog.isArrayLike(o)||i.length!=o.length)return!1;var _=i.length;s=s||goog.array.defaultCompareEquality;for(var $=0;$<_;$++)if(!s(i[$],o[$]))return!1;return!0},goog.array.compare3=function(i,o,s){s=s||goog.array.defaultCompare;for(var _=Math.min(i.length,o.length),$=0;$<_;$++){var et=s(i[$],o[$]);if(et!=0)return et}return goog.array.defaultCompare(i.length,o.length)},goog.array.defaultCompare=function(i,o){return i>o?1:i<o?-1:0},goog.array.inverseDefaultCompare=function(i,o){return-goog.array.defaultCompare(i,o)},goog.array.defaultCompareEquality=function(i,o){return i===o},goog.array.binaryInsert=function(i,o,s){return 0>(s=goog.array.binarySearch(i,o,s))&&(goog.array.insertAt(i,o,-(s+1)),!0)},goog.array.binaryRemove=function(i,o,s){return 0<=(o=goog.array.binarySearch(i,o,s))&&goog.array.removeAt(i,o)},goog.array.bucket=function(i,o,s){for(var _={},$=0;$<i.length;$++){var et=i[$],rt=o.call(s,et,$,i);goog.isDef(rt)&&(_[rt]||(_[rt]=[])).push(et)}return _},goog.array.toObject=function(i,o,s){var _={};return goog.array.forEach(i,function($,et){_[o.call(s,$,et,i)]=$}),_},goog.array.range=function(i,o,s){var _=[],$=0,et=i;if(o!==void 0&&($=i,et=o),0>(s=s||1)*(et-$))return[];if(0<s)for(i=$;i<et;i+=s)_.push(i);else for(i=$;i>et;i+=s)_.push(i);return _},goog.array.repeat=function(i,o){for(var s=[],_=0;_<o;_++)s[_]=i;return s},goog.array.flatten=function(i){for(var o=[],s=0;s<arguments.length;s++){var _=arguments[s];if(goog.isArray(_))for(var $=0;$<_.length;$+=8192){var et=goog.array.slice(_,$,$+8192);et=goog.array.flatten.apply(null,et);for(var rt=0;rt<et.length;rt++)o.push(et[rt])}else o.push(_)}return o},goog.array.rotate=function(i,o){return goog.asserts.assert(i.length!=null),i.length&&(0<(o%=i.length)?Array.prototype.unshift.apply(i,i.splice(-o,o)):0>o&&Array.prototype.push.apply(i,i.splice(0,-o))),i},goog.array.moveItem=function(i,o,s){goog.asserts.assert(0<=o&&o<i.length),goog.asserts.assert(0<=s&&s<i.length),o=Array.prototype.splice.call(i,o,1),Array.prototype.splice.call(i,s,0,o[0])},goog.array.zip=function(i){if(!arguments.length)return[];for(var o=[],s=arguments[0].length,_=1;_<arguments.length;_++)arguments[_].length<s&&(s=arguments[_].length);for(_=0;_<s;_++){for(var $=[],et=0;et<arguments.length;et++)$.push(arguments[et][_]);o.push($)}return o},goog.array.shuffle=function(i,o){o=o||Math.random;for(var s=i.length-1;0<s;s--){var _=Math.floor(o()*(s+1)),$=i[s];i[s]=i[_],i[_]=$}},goog.array.copyByIndex=function(i,o){var s=[];return goog.array.forEach(o,function(_){s.push(i[_])}),s},goog.array.concatMap=function(i,o,s){return goog.array.concat.apply([],goog.array.map(i,o,s))},goog.crypt={},goog.crypt.stringToByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);255<$&&(o[s++]=255&$,$>>=8),o[s++]=$}return o},goog.crypt.byteArrayToString=function(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var o="",s=0;s<i.length;s+=8192){var _=goog.array.slice(i,s,s+8192);o+=String.fromCharCode.apply(null,_)}return o},goog.crypt.byteArrayToHex=function(i,o){return goog.array.map(i,function(s){return 1<(s=s.toString(16)).length?s:"0"+s}).join(o||"")},goog.crypt.hexToByteArray=function(i){goog.asserts.assert(i.length%2==0,"Key string length must be multiple of 2");for(var o=[],s=0;s<i.length;s+=2)o.push(parseInt(i.substring(s,s+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);128>$?o[s++]=$:(2048>$?o[s++]=$>>6|192:((64512&$)==55296&&_+1<i.length&&(64512&i.charCodeAt(_+1))==56320?($=65536+((1023&$)<<10)+(1023&i.charCodeAt(++_)),o[s++]=$>>18|240,o[s++]=$>>12&63|128):o[s++]=$>>12|224,o[s++]=$>>6&63|128),o[s++]=63&$|128)}return o},goog.crypt.utf8ByteArrayToString=function(i){for(var o=[],s=0,_=0;s<i.length;){var $=i[s++];if(128>$)o[_++]=String.fromCharCode($);else if(191<$&&224>$){var et=i[s++];o[_++]=String.fromCharCode((31&$)<<6|63&et)}else if(239<$&&365>$){et=i[s++];var rt=i[s++];$=((7&$)<<18|(63&et)<<12|(63&rt)<<6|63&i[s++])-65536,o[_++]=String.fromCharCode(55296+($>>10)),o[_++]=String.fromCharCode(56320+(1023&$))}else et=i[s++],rt=i[s++],o[_++]=String.fromCharCode((15&$)<<12|(63&et)<<6|63&rt)}return o.join("")},goog.crypt.xorByteArray=function(i,o){goog.asserts.assert(i.length==o.length,"XOR array lengths must match");for(var s=[],_=0;_<i.length;_++)s.push(i[_]^o[_]);return s},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(i,o){return i.lastIndexOf(o,0)==0},goog.string.internal.endsWith=function(i,o){var s=i.length-o.length;return 0<=s&&i.indexOf(o,s)==s},goog.string.internal.caseInsensitiveStartsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(0,o.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(i.length-o.length,o.length))==0},goog.string.internal.caseInsensitiveEquals=function(i,o){return i.toLowerCase()==o.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(i){return/^[\s\xa0]*$/.test(i)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},goog.string.internal.caseInsensitiveCompare=function(i,o){return(i=String(i).toLowerCase())<(o=String(o).toLowerCase())?-1:i==o?0:1},goog.string.internal.newLineToBr=function(i,o){return i.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.internal.htmlEscape=function(i,o){if(o)i=i.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(i))return i;i.indexOf("&")!=-1&&(i=i.replace(goog.string.internal.AMP_RE_,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(goog.string.internal.LT_RE_,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(goog.string.internal.GT_RE_,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(goog.string.internal.QUOT_RE_,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(goog.string.internal.NULL_RE_,"&#0;"))}return i},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(i,o){return goog.string.internal.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.internal.contains=function(i,o){return i.indexOf(o)!=-1},goog.string.internal.caseInsensitiveContains=function(i,o){return goog.string.internal.contains(i.toLowerCase(),o.toLowerCase())},goog.string.internal.compareVersions=function(i,o){var s=0;i=goog.string.internal.trim(String(i)).split("."),o=goog.string.internal.trim(String(o)).split(".");for(var _=Math.max(i.length,o.length),$=0;s==0&&$<_;$++){var et=i[$]||"",rt=o[$]||"";do{if(et=/(\d*)(\D*)(.*)/.exec(et)||["","","",""],rt=/(\d*)(\D*)(.*)/.exec(rt)||["","","",""],et[0].length==0&&rt[0].length==0)break;s=et[1].length==0?0:parseInt(et[1],10);var j=rt[1].length==0?0:parseInt(rt[1],10);s=goog.string.internal.compareElements_(s,j)||goog.string.internal.compareElements_(et[2].length==0,rt[2].length==0)||goog.string.internal.compareElements_(et[2],rt[2]),et=et[3],rt=rt[3]}while(s==0)}return s},goog.string.internal.compareElements_=function(i,o){return i<o?-1:i>o?1:0},goog.string.TypedString=function(){},goog.string.Const=function(i,o){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=i===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(i){return i instanceof goog.string.Const&&i.constructor===goog.string.Const&&i.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?i.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+i+"'"),"type_error:Const")},goog.string.Const.from=function(i){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,i)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(i){return goog.fs.url.getUrlObject_().createObjectURL(i)},goog.fs.url.revokeObjectUrl=function(i){goog.fs.url.getUrlObject_().revokeObjectURL(i)},goog.fs.url.getUrlObject_=function(){var i=goog.fs.url.findUrlObject_();if(i!=null)return i;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(i,o){return typeof i=="number"?0<i?goog.i18n.bidi.Dir.LTR:0>i?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:i==null?null:i?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\uD801\uD804-\uD839\uD83C-\uDBFF---",goog.i18n.bidi.rtlChars_="--\uD802-\uD803\uD83A-\uD83B--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(i,o){return o?i.replace(goog.i18n.bidi.htmlSkipReg_,""):i},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(i,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(i,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(i){return goog.i18n.bidi.rtlRe_.test(i)},goog.i18n.bidi.isLtrChar=function(i){return goog.i18n.bidi.ltrRe_.test(i)},goog.i18n.bidi.isNeutralChar=function(i){return!goog.i18n.bidi.isLtrChar(i)&&!goog.i18n.bidi.isRtlChar(i)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(i,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(i,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(i,o){return i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o),goog.i18n.bidi.isRequiredLtrRe_.test(i)||!goog.i18n.bidi.hasAnyLtr(i)&&!goog.i18n.bidi.hasAnyRtl(i)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(i,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(i,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(i){return goog.i18n.bidi.rtlLocalesRe_.test(i)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(i,o){return o=(o===void 0?goog.i18n.bidi.hasAnyRtl(i):o)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,i.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+i+"</span>"},goog.i18n.bidi.enforceRtlInText=function(i){return goog.i18n.bidi.Format.RLE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+i+"</span>"},goog.i18n.bidi.enforceLtrInText=function(i){return goog.i18n.bidi.Format.LRE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(i){return i.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(i){return i.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(i,o){var s=0,_=0,$=!1;for(i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o).split(goog.i18n.bidi.wordSeparatorRe_),o=0;o<i.length;o++){var et=i[o];goog.i18n.bidi.startsWithRtl(et)?(s++,_++):goog.i18n.bidi.isRequiredLtrRe_.test(et)?$=!0:goog.i18n.bidi.hasAnyLtr(et)?_++:goog.i18n.bidi.hasNumeralsRe_.test(et)&&($=!0)}return _==0?$?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:s/_>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(i,o){return goog.i18n.bidi.estimateDirection(i,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(i,o){i&&(o=goog.i18n.bidi.toDir(o))&&(i.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,i.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(i,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:i.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:i.dir="rtl";break;default:i.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(i,o){var s=goog.html.TrustedResourceUrl.unwrap(this),_=(s=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(s))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",s[2]||"",i)+goog.html.TrustedResourceUrl.stringifyParams_("#",_,o))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(i){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(i){return i instanceof goog.html.TrustedResourceUrl&&i.constructor===goog.html.TrustedResourceUrl&&i.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(i){return i.trustedURL_?i.trustedURL_:goog.html.TrustedResourceUrl.unwrap(i)},goog.html.TrustedResourceUrl.format=function(i,o){var s=goog.string.Const.unwrap(i);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(s))throw Error("Invalid TrustedResourceUrl format: "+s);return i=s.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(_,$){if(!Object.prototype.hasOwnProperty.call(o,$))throw Error('Found marker, "'+$+'", in format string, "'+s+'", but no valid label mapping found in args: '+JSON.stringify(o));return(_=o[$])instanceof goog.string.Const?goog.string.Const.unwrap(_):encodeURIComponent(String(_))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(i,o,s,_){return goog.html.TrustedResourceUrl.format(i,o).cloneWithParams(s,_)},goog.html.TrustedResourceUrl.fromConstant=function(i){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.TrustedResourceUrl.fromConstants=function(i){for(var o="",s=0;s<i.length;s++)o+=goog.string.Const.unwrap(i[s]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(i):i,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(o.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i)),o},goog.html.TrustedResourceUrl.stringifyParams_=function(i,o,s){if(s==null)return o;if(goog.isString(s))return s?i+encodeURIComponent(s):"";for(var _ in s){var $=s[_];$=goog.isArray($)?$:[$];for(var et=0;et<$.length;et++){var rt=$[et];rt!=null&&(o||(o=i),o+=(o.length>i.length?"&":"")+encodeURIComponent(_)+"="+encodeURIComponent(String(rt)))}}return o},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(i){return goog.html.SafeUrl.unwrapTrustedURL(i).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(i){return i instanceof goog.html.SafeUrl&&i.constructor===goog.html.SafeUrl&&i.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(i){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(i)},goog.html.SafeUrl.fromBlob=function(i){return i=goog.html.SAFE_MIME_TYPE_PATTERN_.test(i.type)?goog.fs.url.createObjectUrl(i):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(i){var o=(i=i.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return o=o&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(o[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o?i:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"tel:")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(i){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(i))||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"fb-messenger://share")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromWhatsAppUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"whatsapp://send")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromSmsUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(i){var o=i.indexOf("#");if(0<o&&(i=i.substring(0,o)),!(o=i.match(/[?&]body=/gi)))return!0;if(1<o.length)return!1;if(!(i=i.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(i)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(i)},goog.html.SafeUrl.fromSshUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"ssh://")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(i,o,s){return(i=i.exec(o))?(i=i[1],(s instanceof goog.string.Const?[goog.string.Const.unwrap(s)]:s.map(function(_){return goog.string.Const.unwrap(_)})).indexOf(i)==-1&&(o=goog.html.SafeUrl.INNOCUOUS_STRING)):o=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeUrl.fromTrustedResourceUrl=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(i))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(i){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SAFE_URL_PATTERN_.test(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(i,o){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),o&&/^data:/i.test(i)&&(o=goog.html.SafeUrl.fromDataUrl(i)).getTypedStringValue()==i?o:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(i),"%s does not match the safe URL pattern",i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i):i,o},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(i,";"),"Last character of style string is not ';': "+i),goog.asserts.assert(goog.string.internal.contains(i,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+i),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(i){return i instanceof goog.html.SafeStyle&&i.constructor===goog.html.SafeStyle&&i.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=i,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(i){var o,s="";for(o in i){if(!/^[-_a-zA-Z0-9]+$/.test(o))throw Error("Name allows only [-_a-zA-Z0-9], got: "+o);var _=i[o];_!=null&&(s+=o+":"+(_=goog.isArray(_)?goog.array.map(_,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(_))+";")}return s?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(s):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(i){if(i instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(i).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(i=i instanceof goog.string.Const?goog.string.Const.unwrap(i):goog.html.SafeStyle.sanitizePropertyValueString_(String(i)),/[{;}]/.test(i))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[i]);return i},goog.html.SafeStyle.sanitizePropertyValueString_=function(i){var o=i.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(o)?goog.html.SafeStyle.COMMENT_RE_.test(i)?(goog.asserts.fail("String value disallows comments, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(i)?goog.html.SafeStyle.hasBalancedSquareBrackets_(i)?goog.html.SafeStyle.sanitizeUrl_(i):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(i){for(var o=!0,s=!0,_=0;_<i.length;_++){var $=i.charAt(_);$=="'"&&s?o=!o:$=='"'&&o&&(s=!s)}return o&&s},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(i){for(var o=!0,s=/^[-_a-zA-Z0-9]$/,_=0;_<i.length;_++){var $=i.charAt(_);if($=="]"){if(o)return!1;o=!0}else if($=="["){if(!o)return!1;o=!1}else if(!o&&!s.test($))return!1}return o},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(i){return i.replace(goog.html.SafeStyle.URL_RE_,function(o,s,_,$){var et="";return _=_.replace(/^(['"])(.*)\1$/,function(rt,j,st){return et=j,st}),o=goog.html.SafeUrl.sanitize(_).getTypedStringValue(),s+et+o+et+$})},goog.html.SafeStyle.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyle.unwrap(_)};return goog.array.forEach(arguments,s),o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeScript.fromConstantAndArgs=function(i,o){for(var s=[],_=1;_<arguments.length;_++)s.push(goog.html.SafeScript.stringify_(arguments[_]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(i)+")("+s.join(", ")+");")},goog.html.SafeScript.fromJson=function(i){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(i))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(i){return goog.html.SafeScript.unwrapTrustedScript(i).toString()},goog.html.SafeScript.unwrapTrustedScript=function(i){return i instanceof goog.html.SafeScript&&i.constructor===goog.html.SafeScript&&i.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(i){return JSON.stringify(i).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(i):i,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(i,o){return i===o?i!==0||1/i==1/o:i!=i&&o!=o},goog.object.forEach=function(i,o,s){for(var _ in i)o.call(s,i[_],_,i)},goog.object.filter=function(i,o,s){var _,$={};for(_ in i)o.call(s,i[_],_,i)&&($[_]=i[_]);return $},goog.object.map=function(i,o,s){var _,$={};for(_ in i)$[_]=o.call(s,i[_],_,i);return $},goog.object.some=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return!0;return!1},goog.object.every=function(i,o,s){for(var _ in i)if(!o.call(s,i[_],_,i))return!1;return!0},goog.object.getCount=function(i){var o,s=0;for(o in i)s++;return s},goog.object.getAnyKey=function(i){for(var o in i)return o},goog.object.getAnyValue=function(i){for(var o in i)return i[o]},goog.object.contains=function(i,o){return goog.object.containsValue(i,o)},goog.object.getValues=function(i){var o,s=[],_=0;for(o in i)s[_++]=i[o];return s},goog.object.getKeys=function(i){var o,s=[],_=0;for(o in i)s[_++]=o;return s},goog.object.getValueByKeys=function(i,o){var s=goog.isArrayLike(o),_=s?o:arguments;for(s=s?0:1;s<_.length;s++){if(i==null)return;i=i[_[s]]}return i},goog.object.containsKey=function(i,o){return i!==null&&o in i},goog.object.containsValue=function(i,o){for(var s in i)if(i[s]==o)return!0;return!1},goog.object.findKey=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return _},goog.object.findValue=function(i,o,s){return(o=goog.object.findKey(i,o,s))&&i[o]},goog.object.isEmpty=function(i){for(var o in i)return!1;return!0},goog.object.clear=function(i){for(var o in i)delete i[o]},goog.object.remove=function(i,o){var s;return(s=o in i)&&delete i[o],s},goog.object.add=function(i,o,s){if(i!==null&&o in i)throw Error('The object already contains the key "'+o+'"');goog.object.set(i,o,s)},goog.object.get=function(i,o,s){return i!==null&&o in i?i[o]:s},goog.object.set=function(i,o,s){i[o]=s},goog.object.setIfUndefined=function(i,o,s){return o in i?i[o]:i[o]=s},goog.object.setWithReturnValueIfNotSet=function(i,o,s){return o in i?i[o]:(s=s(),i[o]=s)},goog.object.equals=function(i,o){for(var s in i)if(!(s in o)||i[s]!==o[s])return!1;for(var _ in o)if(!(_ in i))return!1;return!0},goog.object.clone=function(i){var o,s={};for(o in i)s[o]=i[o];return s},goog.object.unsafeClone=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(goog.isFunction(i.clone))return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.object.unsafeClone(i[s]);return o}return i},goog.object.transpose=function(i){var o,s={};for(o in i)s[i[o]]=o;return s},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(i,o){for(var s,_,$=1;$<arguments.length;$++){for(s in _=arguments[$])i[s]=_[s];for(var et=0;et<goog.object.PROTOTYPE_FIELDS_.length;et++)s=goog.object.PROTOTYPE_FIELDS_[et],Object.prototype.hasOwnProperty.call(_,s)&&(i[s]=_[s])}},goog.object.create=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(o%2)throw Error("Uneven number of arguments");for(var s={},_=0;_<o;_+=2)s[arguments[_]]=arguments[_+1];return s},goog.object.createSet=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var s={},_=0;_<o;_++)s[arguments[_]]=!0;return s},goog.object.createImmutableView=function(i){var o=i;return Object.isFrozen&&!Object.isFrozen(i)&&(o=Object.create(i),Object.freeze(o)),o},goog.object.isImmutableView=function(i){return!!Object.isFrozen&&Object.isFrozen(i)},goog.object.getAllPropertyNames=function(i,o,s){if(!i)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(i);for(var _={};i&&(i!==Object.prototype||o)&&(i!==Function.prototype||s);){for(var $=Object.getOwnPropertyNames(i),et=0;et<$.length;et++)_[$[et]]=!0;i=Object.getPrototypeOf(i)}return goog.object.getKeys(_)},goog.object.getSuperClass=function(i){return(i=Object.getPrototypeOf(i.prototype))&&i.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(i,o){if(goog.string.internal.contains(i,"<"))throw Error("Selector does not allow '<', got: "+i);var s=i.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(s))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+i);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(s))throw Error("() and [] in selector must be balanced, got: "+i);return o instanceof goog.html.SafeStyle||(o=goog.html.SafeStyle.create(o)),i=i+"{"+goog.html.SafeStyle.unwrap(o).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(i){for(var o={"(":")","[":"]"},s=[],_=0;_<i.length;_++){var $=i[_];if(o[$])s.push(o[$]);else if(goog.object.contains(o,$)&&s.pop()!=$)return!1}return s.length==0},goog.html.SafeStyleSheet.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyleSheet.unwrap(_)};return goog.array.forEach(arguments,s),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(i,"<"),"Forbidden '<' character in style sheet string: "+i),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(i){return i instanceof goog.html.SafeStyleSheet&&i.constructor===goog.html.SafeStyleSheet&&i.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=i,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(i){return goog.dom.tags.VOID_TAGS_[i]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(i){this.tagName_=i},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var i=goog.labs.userAgent.util.getNavigator_();return i&&(i=i.userAgent)?i:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(i){goog.labs.userAgent.util.userAgent_=i||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(o,i)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(o,i)},goog.labs.userAgent.util.extractVersionTuples=function(i){for(var o,s=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,_=[];o=s.exec(i);)_.push([o[1],o[2],o[3]||void 0]);return _},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function i($){return $=goog.array.find($,_),s[$]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);o=goog.labs.userAgent.util.extractVersionTuples(o);var s={};goog.array.forEach(o,function($){s[$[0]]=$[1]});var _=goog.partial(goog.object.containsKey,s);return goog.labs.userAgent.browser.isOpera()?i(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?i(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?i(["Edg"]):goog.labs.userAgent.browser.isChrome()?i(["Chrome","CriOS"]):(o=o[2])&&o[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(i){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),i)},goog.labs.userAgent.browser.getIEVersion_=function(i){var o=/rv: *([\d\.]*)/.exec(i);if(o&&o[1])return o[1];o="";var s=/MSIE +([\d\.]+)/.exec(i);if(s&&s[1])if(i=/Trident\/(\d.\d)/.exec(i),s[1]=="7.0")if(i&&i[1])switch(i[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=s[1];return o},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(i){return goog.html.SafeHtml.unwrapTrustedHTML(i).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(i){return i instanceof goog.html.SafeHtml&&i.constructor===goog.html.SafeHtml&&i.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(i){if(i instanceof goog.html.SafeHtml)return i;var o=typeof i=="object",s=null;return o&&i.implementsGoogI18nBidiDirectionalString&&(s=i.getDirection()),i=o&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(i),s)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(i,o,s){return goog.html.SafeHtml.verifyTagName(String(i)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(i),o,s)},goog.html.SafeHtml.verifyTagName=function(i){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error("Invalid tag name <"+i+">.");if(i.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+i+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(i,o,s,_){i&&goog.html.TrustedResourceUrl.unwrap(i);var $={};return $.src=i||null,$.srcdoc=o&&goog.html.SafeHtml.unwrap(o),i=goog.html.SafeHtml.combineAttributes($,{sandbox:""},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.createSandboxIframe=function(i,o,s,_){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var $={};return $.src=i?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)):null,$.srcdoc=o||null,$.sandbox="",i=goog.html.SafeHtml.combineAttributes($,{},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(i,o){return goog.html.TrustedResourceUrl.unwrap(i),i=goog.html.SafeHtml.combineAttributes({src:i},{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",i)},goog.html.SafeHtml.createScript=function(i,o){for(var s in o){var _=s.toLowerCase();if(_=="language"||_=="src"||_=="text"||_=="type")throw Error('Cannot set "'+_+'" attribute')}for(s="",i=goog.array.concat(i),_=0;_<i.length;_++)s+=goog.html.SafeScript.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o,i)},goog.html.SafeHtml.createStyle=function(i,o){o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},o);var s="";i=goog.array.concat(i);for(var _=0;_<i.length;_++)s+=goog.html.SafeStyleSheet.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,i)},goog.html.SafeHtml.createMetaRefresh=function(i,o){return i=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(o||0)+"; url="+i})},goog.html.SafeHtml.getAttrNameAndValue_=function(i,o,s){if(s instanceof goog.string.Const)s=goog.string.Const.unwrap(s);else if(o.toLowerCase()=="style")s=goog.html.SafeHtml.getStyleValue_(s);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+s+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(s instanceof goog.html.TrustedResourceUrl)s=goog.html.TrustedResourceUrl.unwrap(s);else if(s instanceof goog.html.SafeUrl)s=goog.html.SafeUrl.unwrap(s);else{if(!goog.isString(s))throw Error('Attribute "'+o+'" on tag "'+i+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+s+'" given.');s=goog.html.SafeUrl.sanitize(s).getTypedStringValue()}}return s.implementsGoogStringTypedString&&(s=s.getTypedStringValue()),goog.asserts.assert(goog.isString(s)||goog.isNumber(s),"String or number value expected, got "+typeof s+" with value: "+s),o+'="'+goog.string.internal.htmlEscape(String(s))+'"'},goog.html.SafeHtml.getStyleValue_=function(i){if(!goog.isObject(i))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof i+" given: "+i);return i instanceof goog.html.SafeStyle||(i=goog.html.SafeStyle.create(i)),goog.html.SafeStyle.unwrap(i)},goog.html.SafeHtml.createWithDir=function(i,o,s,_){return(o=goog.html.SafeHtml.create(o,s,_)).dir_=i,o},goog.html.SafeHtml.join=function(i,o){var s=(i=goog.html.SafeHtml.htmlEscape(i)).getDirection(),_=[],$=function(et){goog.isArray(et)?goog.array.forEach(et,$):(et=goog.html.SafeHtml.htmlEscape(et),_.push(goog.html.SafeHtml.unwrap(et)),et=et.getDirection(),s==goog.i18n.bidi.Dir.NEUTRAL?s=et:et!=goog.i18n.bidi.Dir.NEUTRAL&&s!=et&&(s=null))};return goog.array.forEach(o,$),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(_.join(goog.html.SafeHtml.unwrap(i)),s)},goog.html.SafeHtml.concat=function(i){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(i,o){var s=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return s.dir_=i,s},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(i,o){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(i,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(i):i,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(i,o,s){var _=null,$="<"+i+goog.html.SafeHtml.stringifyAttributes(i,o);return goog.isDefAndNotNull(s)?goog.isArray(s)||(s=[s]):s=[],goog.dom.tags.isVoidTag(i.toLowerCase())?(goog.asserts.assert(!s.length,"Void tag <"+i+"> does not allow content."),$+=">"):(_=goog.html.SafeHtml.concat(s),$+=">"+goog.html.SafeHtml.unwrap(_)+"</"+i+">",_=_.getDirection()),(i=o&&o.dir)&&(_=/^(ltr|rtl|auto)$/i.test(i)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse($,_)},goog.html.SafeHtml.stringifyAttributes=function(i,o){var s="";if(o)for(var _ in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(_))throw Error('Invalid attribute name "'+_+'".');var $=o[_];goog.isDefAndNotNull($)&&(s+=" "+goog.html.SafeHtml.getAttrNameAndValue_(i,_,$))}return s},goog.html.SafeHtml.combineAttributes=function(i,o,s){var _,$={};for(_ in i)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=i[_];for(_ in o)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=o[_];for(_ in s){var et=_.toLowerCase();if(et in i)throw Error('Cannot override "'+et+'" attribute, got "'+_+'" with value "'+s[_]+'"');et in o&&delete $[et],$[_]=s[_]}return $},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(i,o,s){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,s||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(i){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(i);o&&(!i||!(i instanceof o.Location)&&i instanceof o.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(i))}return i},goog.dom.asserts.assertIsElementType_=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=goog.dom.asserts.getWindow_(i);s&&s[o]!==void 0&&(i&&(i instanceof s[o]||!(i instanceof s.Location||i instanceof s.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,goog.dom.asserts.debugStringForType_(i)))}return i},goog.dom.asserts.assertIsHTMLAnchorElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(i){if(!goog.isObject(i))return i===void 0?"undefined":i===null?"null":typeof i;try{return i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(i){try{var o=i&&i.ownerDocument,s=o&&(o.defaultView||o.parentWindow);if((s=s||goog.global).Element&&s.Location)return s}catch{}return null},goog.functions={},goog.functions.constant=function(i){return function(){return i}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(i,o){return i},goog.functions.error=function(i){return function(){throw Error(i)}},goog.functions.fail=function(i){return function(){throw i}},goog.functions.lock=function(i,o){return o=o||0,function(){return i.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(i){return function(){return arguments[i]}},goog.functions.partialRight=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=Array.prototype.slice.call(arguments);return _.push.apply(_,s),i.apply(this,_)}},goog.functions.withReturnValue=function(i,o){return goog.functions.sequence(i,goog.functions.constant(o))},goog.functions.equalTo=function(i,o){return function(s){return o?i==s:i===s}},goog.functions.compose=function(i,o){var s=arguments,_=s.length;return function(){var $;_&&($=s[_-1].apply(this,arguments));for(var et=_-2;0<=et;et--)$=s[et].call(this,$);return $}},goog.functions.sequence=function(i){var o=arguments,s=o.length;return function(){for(var _,$=0;$<s;$++)_=o[$].apply(this,arguments);return _}},goog.functions.and=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(!o[_].apply(this,arguments))return!1;return!0}},goog.functions.or=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(o[_].apply(this,arguments))return!0;return!1}},goog.functions.not=function(i){return function(){return!i.apply(this,arguments)}},goog.functions.create=function(i,o){var s=function(){};return s.prototype=i.prototype,s=new s,i.apply(s,Array.prototype.slice.call(arguments,1)),s},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(i){var o,s=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(s||(o=i(),s=!0),o):i()}},goog.functions.once=function(i){var o=i;return function(){if(o){var s=o;o=null,s()}}},goog.functions.debounce=function(i,o,s){var _=0;return function($){goog.global.clearTimeout(_);var et=arguments;_=goog.global.setTimeout(function(){i.apply(s,et)},o)}},goog.functions.throttle=function(i,o,s){var _=0,$=!1,et=[],rt=function(){_=0,$&&($=!1,j())},j=function(){_=goog.global.setTimeout(rt,o),i.apply(s,et)};return function(st){et=arguments,_?$=!0:j()}},goog.functions.rateLimit=function(i,o,s){var _=0,$=function(){_=0};return function(et){_||(_=goog.global.setTimeout($,o),i.apply(s,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(i,o,s){i.insertAdjacentHTML(o,goog.html.SafeHtml.unwrapTrustedHTML(s))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var i=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),i.appendChild(o),!(goog.DEBUG&&!i.firstChild)&&(o=i.firstChild.firstChild,i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!o.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(i,o){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;i.lastChild;)i.removeChild(i.lastChild);i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setInnerHtml=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=i.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[s])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+i.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(i,o)},goog.dom.safe.setOuterHtml=function(i,o){i.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setFormElementAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLFormElement(i).action=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setButtonFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLButtonElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setInputFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLInputElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setStyle=function(i,o){i.style.cssText=goog.html.SafeStyle.unwrap(o)},goog.dom.safe.documentWrite=function(i,o){i.write(goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.setAnchorHref=function(i,o){goog.dom.asserts.assertIsHTMLAnchorElement(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setImageSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLImageElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:image\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setAudioSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLAudioElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:audio\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setVideoSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLVideoElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:video\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setEmbedSrc=function(i,o){goog.dom.asserts.assertIsHTMLEmbedElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setFrameSrc=function(i,o){goog.dom.asserts.assertIsHTMLFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrcdoc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setLinkHrefAndRel=function(i,o,s){goog.dom.asserts.assertIsHTMLLinkElement(i),i.rel=s,goog.string.internal.caseInsensitiveContains(s,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),i.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)):i.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(o):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(o))},goog.dom.safe.setObjectData=function(i,o){goog.dom.asserts.assertIsHTMLObjectElement(i),i.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setScriptSrc=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.text=goog.html.SafeScript.unwrapTrustedScript(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.assignLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.assign(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.replaceLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.replace(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.openInWindow=function(i,o,s,_,$){return i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),(o||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(i),s?goog.string.Const.unwrap(s):"",_,$)},goog.dom.safe.parseFromStringHtml=function(i,o){return goog.dom.safe.parseFromString(i,o,"text/html")},goog.dom.safe.parseFromString=function(i,o,s){return i.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(o),s)},goog.dom.safe.createImageFromBlob=function(i){if(!/^image\/.*/g.test(i.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var o=goog.global.URL.createObjectURL(i);return(i=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(o)},goog.dom.safe.setImageSrc(i,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),o)),i},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(i,o){for(var s=i.split("%s"),_="",$=Array.prototype.slice.call(arguments,1);$.length&&1<s.length;)_+=s.shift()+$.shift();return _+s.join("%s")},goog.string.collapseWhitespace=function(i){return i.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(i){return i.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(i){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(i))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(i){return!/[^\t\n\r ]/.test(i)},goog.string.isAlpha=function(i){return!/[^a-zA-Z]/.test(i)},goog.string.isNumeric=function(i){return!/[^0-9]/.test(i)},goog.string.isAlphaNumeric=function(i){return!/[^a-zA-Z0-9]/.test(i)},goog.string.isSpace=function(i){return i==" "},goog.string.isUnicodeChar=function(i){return i.length==1&&" "<=i&&"~">=i||""<=i&&"">=i},goog.string.stripNewlines=function(i){return i.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(i){return i.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(i){return i.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(i){return i.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(i){return i.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(i){return i.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(i){return i.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(i,o,s){if(i==o)return 0;if(!i)return-1;if(!o)return 1;for(var _=i.toLowerCase().match(s),$=o.toLowerCase().match(s),et=Math.min(_.length,$.length),rt=0;rt<et;rt++){s=_[rt];var j=$[rt];if(s!=j)return i=parseInt(s,10),!isNaN(i)&&(o=parseInt(j,10),!isNaN(o)&&i-o)?i-o:s<j?-1:1}return _.length!=$.length?_.length-$.length:i<o?-1:1},goog.string.intAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\D+/g)},goog.string.floatAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(i){return encodeURIComponent(String(i))},goog.string.urlDecode=function(i){return decodeURIComponent(i.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(i,o){return i=goog.string.internal.htmlEscape(i,o),goog.string.DETECT_DOUBLE_ESCAPING&&(i=i.replace(goog.string.E_RE_,"&#101;")),i},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(i){return goog.string.contains(i,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(i):goog.string.unescapePureXmlEntities_(i):i},goog.string.unescapeEntitiesWithDocument=function(i,o){return goog.string.contains(i,"&")?goog.string.unescapeEntitiesUsingDom_(i,o):i},goog.string.unescapeEntitiesUsingDom_=function(i,o){var s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},_=o?o.createElement("div"):goog.global.document.createElement("div");return i.replace(goog.string.HTML_ENTITY_PATTERN_,function($,et){var rt=s[$];return rt||(et.charAt(0)=="#"&&(et=+("0"+et.substr(1)),isNaN(et)||(rt=String.fromCharCode(et))),rt||(goog.dom.safe.setInnerHtml(_,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),$+" ")),rt=_.firstChild.nodeValue.slice(0,-1)),s[$]=rt)})},goog.string.unescapePureXmlEntities_=function(i){return i.replace(/&([^;]+);/g,function(o,s){switch(s){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return s.charAt(0)!="#"||(s=+("0"+s.substr(1)),isNaN(s))?o:String.fromCharCode(s)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(i,o){return goog.string.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(i){return i.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(i,o){for(var s=o.length,_=0;_<s;_++){var $=s==1?o:o.charAt(_);if(i.charAt(0)==$&&i.charAt(i.length-1)==$)return i.substring(1,i.length-1)}return i},goog.string.truncate=function(i,o,s){return s&&(i=goog.string.unescapeEntities(i)),i.length>o&&(i=i.substring(0,o-3)+"..."),s&&(i=goog.string.htmlEscape(i)),i},goog.string.truncateMiddle=function(i,o,s,_){if(s&&(i=goog.string.unescapeEntities(i)),_&&i.length>o){_>o&&(_=o);var $=i.length-_;i=i.substring(0,o-_)+"..."+i.substring($)}else i.length>o&&(_=Math.floor(o/2),$=i.length-_,i=i.substring(0,_+o%2)+"..."+i.substring($));return s&&(i=goog.string.htmlEscape(i)),i},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(i){i=String(i);for(var o=['"'],s=0;s<i.length;s++){var _=i.charAt(s),$=_.charCodeAt(0);o[s+1]=goog.string.specialEscapeChars_[_]||(31<$&&127>$?_:goog.string.escapeChar(_))}return o.push('"'),o.join("")},goog.string.escapeString=function(i){for(var o=[],s=0;s<i.length;s++)o[s]=goog.string.escapeChar(i.charAt(s));return o.join("")},goog.string.escapeChar=function(i){if(i in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[i];if(i in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[i]=goog.string.specialEscapeChars_[i];var o=i.charCodeAt(0);if(31<o&&127>o)var s=i;else 256>o?(s="\\x",(16>o||256<o)&&(s+="0")):(s="\\u",4096>o&&(s+="0")),s+=o.toString(16).toUpperCase();return goog.string.jsEscapeCache_[i]=s},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(i,o){return i&&o?i.split(o).length-1:0},goog.string.removeAt=function(i,o,s){var _=i;return 0<=o&&o<i.length&&0<s&&(_=i.substr(0,o)+i.substr(o+s,i.length-o-s)),_},goog.string.remove=function(i,o){return i.replace(o,"")},goog.string.removeAll=function(i,o){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,"")},goog.string.replaceAll=function(i,o,s){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,s.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(i){return String(i).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(i,o){return i.repeat(o)}:function(i,o){return Array(o+1).join(i)},goog.string.padNumber=function(i,o,s){return(s=(i=goog.isDef(s)?i.toFixed(s):String(i)).indexOf("."))==-1&&(s=i.length),goog.string.repeat("0",Math.max(0,o-s))+i},goog.string.makeSafe=function(i){return i==null?"":String(i)},goog.string.buildString=function(i){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(i){for(var o=0,s=0;s<i.length;++s)o=31*o+i.charCodeAt(s)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(i){var o=Number(i);return o==0&&goog.string.isEmptyOrWhitespace(i)?NaN:o},goog.string.isLowerCamelCase=function(i){return/^[a-z]+([A-Z][a-z]*)*$/.test(i)},goog.string.isUpperCamelCase=function(i){return/^([A-Z][a-z]*)+$/.test(i)},goog.string.toCamelCase=function(i){return String(i).replace(/\-([a-z])/g,function(o,s){return s.toUpperCase()})},goog.string.toSelectorCase=function(i){return String(i).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(i,o){return o=goog.isString(o)?goog.string.regExpEscape(o):"\\s",i.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(s,_,$){return _+$.toUpperCase()})},goog.string.capitalize=function(i){return String(i.charAt(0)).toUpperCase()+String(i.substr(1)).toLowerCase()},goog.string.parseInt=function(i){return isFinite(i)&&(i=String(i)),goog.isString(i)?/^\s*-?0x/i.test(i)?parseInt(i,16):parseInt(i,10):NaN},goog.string.splitLimit=function(i,o,s){i=i.split(o);for(var _=[];0<s&&i.length;)_.push(i.shift()),s--;return i.length&&_.push(i.join(o)),_},goog.string.lastComponent=function(i,o){if(!o)return i;typeof o=="string"&&(o=[o]);for(var s=-1,_=0;_<o.length;_++)if(o[_]!=""){var $=i.lastIndexOf(o[_]);$>s&&(s=$)}return s==-1?i:i.slice(s+1)},goog.string.editDistance=function(i,o){var s=[],_=[];if(i==o)return 0;if(!i.length||!o.length)return Math.max(i.length,o.length);for(var $=0;$<o.length+1;$++)s[$]=$;for($=0;$<i.length;$++){_[0]=$+1;for(var et=0;et<o.length;et++)_[et+1]=Math.min(_[et]+1,s[et+1]+1,s[et]+ +(i[$]!=o[et]));for(et=0;et<s.length;et++)s[et]=_[et]}return _[o.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?o=(i=(o=/Windows (?:NT|Phone) ([0-9.]+)/).exec(i))?i[1]:"0.0":goog.labs.userAgent.platform.isIos()?o=(i=(o=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(i))&&i[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?o=(i=(o=/Mac OS X ([0-9_.]+)/).exec(i))?i[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?o=(i=(o=/(?:KaiOS)\/(\S+)/i).exec(i))&&i[1]:goog.labs.userAgent.platform.isAndroid()?o=(i=(o=/Android\s+([^\);]+)(\)|;)/).exec(i))&&i[1]:goog.labs.userAgent.platform.isChromeOS()&&(o=(i=(o=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(i))&&i[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),i)},goog.reflect={},goog.reflect.object=function(i,o){return o},goog.reflect.objectProperty=function(i,o){return i},goog.reflect.sinkValue=function(i){return goog.reflect.sinkValue[" "](i),i},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(i,o){try{return goog.reflect.sinkValue(i[o]),!0}catch{}return!1},goog.reflect.cache=function(i,o,s,_){return _=_?_(o):o,Object.prototype.hasOwnProperty.call(i,_)?i[_]:i[_]=s(o)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent();if(i){i=goog.labs.userAgent.util.extractVersionTuples(i);var o,s=goog.labs.userAgent.engine.getEngineTuple_(i);if(s)return s[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(i,"Firefox"):s[1];if((i=i[0])&&(o=i[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(i){if(!goog.labs.userAgent.engine.isEdge())return i[1];for(var o=0;o<i.length;o++){var s=i[o];if(s[0]=="Edge")return s}},goog.labs.userAgent.engine.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),i)},goog.labs.userAgent.engine.getVersionForKey_=function(i,o){return(i=goog.array.find(i,function(s){return o==s[0]}))&&i[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var i=goog.userAgent.getNavigatorTyped();return i&&i.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var i=goog.userAgent.getNavigatorTyped();return!!i&&goog.string.contains(i.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var i="",o=goog.userAgent.getVersionRegexResult_();return o&&(i=o?o[1]:""),goog.userAgent.IE&&(o=goog.userAgent.getDocumentMode_())!=null&&o>parseFloat(i)?String(o):i},goog.userAgent.getVersionRegexResult_=function(){var i=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(i):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(i):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(i):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(i):void 0},goog.userAgent.getDocumentMode_=function(){var i=goog.global.document;return i?i.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(i,o){return goog.string.compareVersions(i,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(i){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,i,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,i)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(i){return Number(goog.userAgent.DOCUMENT_MODE)>=i},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(i){return goog.string.contains(goog.crypt.base64.paddingChars_,i)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(i,o){goog.asserts.assert(goog.isArrayLike(i),"encodeByteArray takes an array as a parameter"),o===void 0&&(o=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),o=goog.crypt.base64.byteToCharMaps_[o];for(var s=[],_=0;_<i.length;_+=3){var $=i[_],et=_+1<i.length,rt=et?i[_+1]:0,j=_+2<i.length,st=j?i[_+2]:0,lt=$>>2;$=(3&$)<<4|rt>>4,rt=(15&rt)<<2|st>>6,st&=63,j||(st=64,et||(rt=64)),s.push(o[lt],o[$],o[rt]||"",o[st]||"")}return s.join("")},goog.crypt.base64.encodeString=function(i,o){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!o?goog.global.btoa(i):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(i),o)},goog.crypt.base64.decodeString=function(i,o){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!o)return goog.global.atob(i);var s="";return goog.crypt.base64.decodeStringInternal_(i,function(_){s+=String.fromCharCode(_)}),s},goog.crypt.base64.decodeStringToByteArray=function(i,o){var s=[];return goog.crypt.base64.decodeStringInternal_(i,function(_){s.push(_)}),s},goog.crypt.base64.decodeStringToUint8Array=function(i){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var o=i.length,s=3*o/4;s%3?s=Math.floor(s):goog.crypt.base64.isPadding_(i[o-1])&&(s=goog.crypt.base64.isPadding_(i[o-2])?s-2:s-1);var _=new Uint8Array(s),$=0;return goog.crypt.base64.decodeStringInternal_(i,function(et){_[$++]=et}),_.subarray(0,$)},goog.crypt.base64.decodeStringInternal_=function(i,o){function s(st){for(;_<i.length;){var lt=i.charAt(_++),gt=goog.crypt.base64.charToByteMap_[lt];if(gt!=null)return gt;if(!goog.string.isEmptyOrWhitespace(lt))throw Error("Unknown base64 encoding at char: "+lt)}return st}goog.crypt.base64.init_();for(var _=0;;){var $=s(-1),et=s(0),rt=s(64),j=s(64);if(j===64&&$===-1)break;o($<<2|et>>4),rt!=64&&(o(et<<4&240|rt>>2),j!=64&&o(rt<<6&192|j))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var i=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),o=["+/=","+/","-_=","-_.","-_"],s=0;5>s;s++){var _=i.concat(o[s].split(""));goog.crypt.base64.byteToCharMaps_[s]=_;for(var $=0;$<_.length;$++){var et=_[$],rt=goog.crypt.base64.charToByteMap_[et];rt===void 0?goog.crypt.base64.charToByteMap_[et]=$:goog.asserts.assert(rt===$)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(i){var o=i>>>0;i=Math.floor((i-o)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=o,jspb.utils.split64High=i},jspb.utils.splitInt64=function(i){var o=0>i,s=(i=Math.abs(i))>>>0;i=Math.floor((i-s)/jspb.BinaryConstants.TWO_TO_32),i>>>=0,o&&(i=~i>>>0,4294967295<(s=1+(~s>>>0))&&(s=0,4294967295<++i&&(i=0))),jspb.utils.split64Low=s,jspb.utils.split64High=i},jspb.utils.splitZigzag64=function(i){var o=0>i;i=2*Math.abs(i),jspb.utils.splitUint64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;o&&(i==0?s==0?s=i=4294967295:(s--,i=4294967295):i--),jspb.utils.split64Low=i,jspb.utils.split64High=s},jspb.utils.splitFloat32=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)0<1/i?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(i))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(i>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|2139095040)>>>0;else if(i<jspb.BinaryConstants.FLOAT32_MIN)i=Math.round(i/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|i)>>>0;else{var s=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-s),i=8388607&Math.round(i*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|s+127<<23|i)>>>0}},jspb.utils.splitFloat64=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)jspb.utils.split64High=0<1/i?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(i))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(i>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(o<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(i<jspb.BinaryConstants.FLOAT64_MIN){var s=i/Math.pow(2,-1074);i=s/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(o<<31|i)>>>0,jspb.utils.split64Low=s>>>0}else{var _=0;if(2<=(s=i))for(;2<=s&&1023>_;)_++,s/=2;else for(;1>s&&-1022<_;)s*=2,_--;i=(s=i*Math.pow(2,-_))*jspb.BinaryConstants.TWO_TO_20&1048575,s=s*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(o<<31|_+1023<<20|i)>>>0,jspb.utils.split64Low=s}},jspb.utils.splitHash64=function(i){var o=i.charCodeAt(0),s=i.charCodeAt(1),_=i.charCodeAt(2),$=i.charCodeAt(3),et=i.charCodeAt(4),rt=i.charCodeAt(5),j=i.charCodeAt(6);i=i.charCodeAt(7),jspb.utils.split64Low=o+(s<<8)+(_<<16)+($<<24)>>>0,jspb.utils.split64High=et+(rt<<8)+(j<<16)+(i<<24)>>>0},jspb.utils.joinUint64=function(i,o){return o*jspb.BinaryConstants.TWO_TO_32+(i>>>0)},jspb.utils.joinInt64=function(i,o){var s=2147483648&o;return s&&(o=~o>>>0,(i=1+~i>>>0)==0&&(o=o+1>>>0)),i=jspb.utils.joinUint64(i,o),s?-i:i},jspb.utils.toZigzag64=function(i,o,s){var _=o>>31;return s(i<<1^_,(o<<1|i>>>31)^_)},jspb.utils.joinZigzag64=function(i,o){return jspb.utils.fromZigzag64(i,o,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(i,o,s){var _=-(1&i);return s((i>>>1|o<<31)^_,o>>>1^_)},jspb.utils.joinFloat32=function(i,o){o=2*(i>>31)+1;var s=i>>>23&255;return i&=8388607,s==255?i?NaN:1/0*o:s==0?o*Math.pow(2,-149)*i:o*Math.pow(2,s-150)*(i+Math.pow(2,23))},jspb.utils.joinFloat64=function(i,o){var s=2*(o>>31)+1,_=o>>>20&2047;return i=jspb.BinaryConstants.TWO_TO_32*(1048575&o)+i,_==2047?i?NaN:1/0*s:_==0?s*Math.pow(2,-1074)*i:s*Math.pow(2,_-1075)*(i+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(i,o){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,o>>>0&255,o>>>8&255,o>>>16&255,o>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(i,o){function s($,et){return $=$?String($):"",et?"0000000".slice($.length)+$:$}if(2097151>=o)return""+(jspb.BinaryConstants.TWO_TO_32*o+i);var _=(i>>>24|o<<8)>>>0&16777215;return i=(16777215&i)+6777216*_+6710656*(o=o>>16&65535),_+=8147497*o,o*=2,1e7<=i&&(_+=Math.floor(i/1e7),i%=1e7),1e7<=_&&(o+=Math.floor(_/1e7),_%=1e7),s(o,0)+s(_,o)+s(i,1)},jspb.utils.joinSignedDecimalString=function(i,o){var s=2147483648&o;return s&&(o=~o+((i=1+~i>>>0)==0?1:0)>>>0),i=jspb.utils.joinUnsignedDecimalString(i,o),s?"-"+i:i},jspb.utils.hash64ToDecimalString=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinSignedDecimalString(i,s):jspb.utils.joinUnsignedDecimalString(i,s)},jspb.utils.hash64ArrayToDecimalStrings=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]=jspb.utils.hash64ToDecimalString(i[_],o);return s},jspb.utils.decimalStringToHash64=function(i){function o(et,rt){for(var j=0;8>j&&(et!==1||0<rt);j++)rt=et*_[j]+rt,_[j]=255&rt,rt>>>=8}goog.asserts.assert(0<i.length);var s=!1;i[0]==="-"&&(s=!0,i=i.slice(1));for(var _=[0,0,0,0,0,0,0,0],$=0;$<i.length;$++)o(10,i.charCodeAt($)-jspb.utils.ZERO_CHAR_CODE_);return s&&(function(){for(var et=0;8>et;et++)_[et]=255&~_[et]}(),o(1,1)),goog.crypt.byteArrayToString(_)},jspb.utils.splitDecimalString=function(i){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i))},jspb.utils.toHexDigit_=function(i){return String.fromCharCode(10>i?jspb.utils.ZERO_CHAR_CODE_+i:jspb.utils.A_CHAR_CODE_-10+i)},jspb.utils.fromHexCharCode_=function(i){return i>=jspb.utils.A_CHAR_CODE_?i-jspb.utils.A_CHAR_CODE_+10:i-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(i){var o=Array(18);o[0]="0",o[1]="x";for(var s=0;8>s;s++){var _=i.charCodeAt(7-s);o[2*s+2]=jspb.utils.toHexDigit_(_>>4),o[2*s+3]=jspb.utils.toHexDigit_(15&_)}return o.join("")},jspb.utils.hexStringToHash64=function(i){i=i.toLowerCase(),goog.asserts.assert(i.length==18),goog.asserts.assert(i[0]=="0"),goog.asserts.assert(i[1]=="x");for(var o="",s=0;8>s;s++){var _=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+2)),$=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+3));o=String.fromCharCode(16*_+$)+o}return o},jspb.utils.hash64ToNumber=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinInt64(i,s):jspb.utils.joinUint64(i,s)},jspb.utils.numberToHash64=function(i){return jspb.utils.splitInt64(i),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(i,o,s){for(var _=0,$=o;$<s;$++)_+=i[$]>>7;return s-o-_},jspb.utils.countVarintFields=function(i,o,s,_){var $=0;if(128>(_=8*_+jspb.BinaryConstants.WireType.VARINT))for(;o<s&&i[o++]==_;)for($++;;){var et=i[o++];if(!(128&et))break}else for(;o<s;){for(et=_;128<et;){if(i[o]!=(127&et|128))return $;o++,et>>=7}if(i[o++]!=et)break;for($++;128&(et=i[o++]););}return $},jspb.utils.countFixedFields_=function(i,o,s,_,$){var et=0;if(128>_)for(;o<s&&i[o++]==_;)et++,o+=$;else for(;o<s;){for(var rt=_;128<rt;){if(i[o++]!=(127&rt|128))return et;rt>>=7}if(i[o++]!=rt)break;et++,o+=$}return et},jspb.utils.countFixed32Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(i,o,s,_){var $=0;for(_=8*_+jspb.BinaryConstants.WireType.DELIMITED;o<s;){for(var et=_;128<et;){if(i[o++]!=(127&et|128))return $;et>>=7}if(i[o++]!=et)break;$++;for(var rt=0,j=1;rt+=(127&(et=i[o++]))*j,j*=128,(128&et)!=0;);o+=rt}return $},jspb.utils.debugBytesToTextFormat=function(i){var o='"';if(i){i=jspb.utils.byteSourceToUint8Array(i);for(var s=0;s<i.length;s++)o+="\\x",16>i[s]&&(o+="0"),o+=i[s].toString(16)}return o+'"'},jspb.utils.debugScalarToTextFormat=function(i){return typeof i=="string"?goog.string.quote(i):i.toString()},jspb.utils.stringToByteArray=function(i){for(var o=new Uint8Array(i.length),s=0;s<i.length;s++){var _=i.charCodeAt(s);if(255<_)throw Error("Conversion error: string contains codepoint outside of byte range");o[s]=_}return o},jspb.utils.byteSourceToUint8Array=function(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer||Buffer!==void 0&&i.constructor===Buffer||i.constructor===Array?new Uint8Array(i):i.constructor===String?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(i,o,s){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,i&&this.setBlock(i,o,s)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(i,o,s){if(jspb.BinaryDecoder.instanceCache_.length){var _=jspb.BinaryDecoder.instanceCache_.pop();return i&&_.setBlock(i,o,s),_}return new jspb.BinaryDecoder(i,o,s)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(i,o,s){this.bytes_=jspb.utils.byteSourceToUint8Array(i),this.start_=o!==void 0?o:0,this.end_=s!==void 0?this.start_+s:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(i){this.end_=i},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(i){this.cursor_=i},jspb.BinaryDecoder.prototype.advance=function(i){this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(i){for(var o=128,s=0,_=0,$=0;4>$&&128<=o;$++)s|=(127&(o=this.bytes_[this.cursor_++]))<<7*$;if(128<=o&&(s|=(127&(o=this.bytes_[this.cursor_++]))<<28,_|=(127&o)>>4),128<=o)for($=0;5>$&&128<=o;$++)_|=(127&(o=this.bytes_[this.cursor_++]))<<7*$+3;if(128>o)return i(s>>>0,_>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(i){return this.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(i){var o=this.bytes_,s=this.cursor_;this.cursor_+=8;for(var _=0,$=0,et=s+7;et>=s;et--)_=_<<8|o[et],$=$<<8|o[et+4];return i(_,$)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(i){for(;128<i;)this.cursor_--,i>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var i=this.bytes_,o=i[this.cursor_+0],s=127&o;return 128>o?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+1]))<<7,128>o?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+2]))<<14,128>o?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+3]))<<21,128>o?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(15&(o=i[this.cursor_+4]))<<28,128>o?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),s>>>0):(this.cursor_+=5,128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),s)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var i=this.readUnsignedVarint32();return i>>>1^-(1&i)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i},jspb.BinaryDecoder.prototype.readUint16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8|s<<16|_<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUint64(i,o)},jspb.BinaryDecoder.prototype.readUint64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUnsignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readInt8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8|s<<16|_<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinInt64(i,o)},jspb.BinaryDecoder.prototype.readInt64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinSignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readFloat=function(){var i=this.readUint32();return jspb.utils.joinFloat32(i,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinFloat64(i,o)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(i){var o=this.bytes_,s=this.cursor_;i=s+i;for(var _=[],$="";s<i;){var et=o[s++];if(128>et)_.push(et);else{if(192>et)continue;if(224>et){var rt=o[s++];_.push((31&et)<<6|63&rt)}else if(240>et){rt=o[s++];var j=o[s++];_.push((15&et)<<12|(63&rt)<<6|63&j)}else 248>et&&(et=(7&et)<<18|(63&(rt=o[s++]))<<12|(63&(j=o[s++]))<<6|63&o[s++],et-=65536,_.push(55296+(et>>10&1023),56320+(1023&et)))}8192<=_.length&&($+=String.fromCharCode.apply(null,_),_.length=0)}return $+=goog.crypt.byteArrayToString(_),this.cursor_=s,$},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var i=this.readUnsignedVarint32();return this.readString(i)},jspb.BinaryDecoder.prototype.readBytes=function(i){if(0>i||this.cursor_+i>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var o=this.bytes_.subarray(this.cursor_,this.cursor_+i);return this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_),o},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var i=this.bytes_,o=this.cursor_,s=i[o+0],_=i[o+1],$=i[o+2],et=i[o+3],rt=i[o+4],j=i[o+5],st=i[o+6];return i=i[o+7],this.cursor_+=8,String.fromCharCode(s,_,$,et,rt,j,st,i)},jspb.BinaryReader=function(i,o,s){this.decoder_=jspb.BinaryDecoder.alloc(i,o,s),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(i,o,s){if(jspb.BinaryReader.instanceCache_.length){var _=jspb.BinaryReader.instanceCache_.pop();return i&&_.decoder_.setBlock(i,o,s),_}return new jspb.BinaryReader(i,o,s)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(i,o,s){this.decoder_.setBlock(i,o,s),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(i){this.decoder_.advance(i)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var i=this.decoder_.readUnsignedVarint32(),o=i>>>3;return(i&=7)!=jspb.BinaryConstants.WireType.VARINT&&i!=jspb.BinaryConstants.WireType.FIXED32&&i!=jspb.BinaryConstants.WireType.FIXED64&&i!=jspb.BinaryConstants.WireType.DELIMITED&&i!=jspb.BinaryConstants.WireType.START_GROUP&&i!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",i,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=o,this.nextWireType_=i,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var i=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==i;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var i=this.decoder_.readUnsignedVarint32();this.decoder_.advance(i)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var i=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=i&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(i,o){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[i]),this.readCallbacks_[i]=o},jspb.BinaryReader.prototype.runReadCallback=function(i){return goog.asserts.assert(this.readCallbacks_!==null),i=this.readCallbacks_[i],goog.asserts.assert(i),i(this)},jspb.BinaryReader.prototype.readAny=function(i){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(i);var o=jspb.BinaryConstants.FieldType;switch(i){case o.DOUBLE:return this.readDouble();case o.FLOAT:return this.readFloat();case o.INT64:return this.readInt64();case o.UINT64:return this.readUint64();case o.INT32:return this.readInt32();case o.FIXED64:return this.readFixed64();case o.FIXED32:return this.readFixed32();case o.BOOL:return this.readBool();case o.STRING:return this.readString();case o.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case o.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case o.BYTES:return this.readBytes();case o.UINT32:return this.readUint32();case o.ENUM:return this.readEnum();case o.SFIXED32:return this.readSfixed32();case o.SFIXED64:return this.readSfixed64();case o.SINT32:return this.readSint32();case o.SINT64:return this.readSint64();case o.FHASH64:return this.readFixedHash64();case o.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(i,o){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.getEnd(),_=this.decoder_.readUnsignedVarint32();_=this.decoder_.getCursor()+_,this.decoder_.setEnd(_),o(i,this),this.decoder_.setCursor(_),this.decoder_.setEnd(s)},jspb.BinaryReader.prototype.readGroup=function(i,o,s){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==i),s(o,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32(),o=this.decoder_.getCursor(),s=o+i;return i=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),o,i),this.decoder_.setCursor(s),i},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(i)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(i)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(i)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(i)},jspb.BinaryReader.prototype.readPackedField_=function(i){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o;for(var s=[];this.decoder_.getCursor()<o;)s.push(i.call(this.decoder_));return s},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(i,o){this.arr_=i,this.valueCtor_=o,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var i=0;i<this.arr_.length;i++){var o=this.arr_[i],s=o[0];this.map_[s.toString()]=new jspb.Map.Entry_(s,o[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var i,o=this.map_;for(i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var s=o[i].valueWrapper;s&&s.toArray()}}}else{for(this.arr_.length=0,(o=this.stringKeys_()).sort(),i=0;i<o.length;i++){var _=this.map_[o[i]];(s=_.valueWrapper)&&s.toArray(),this.arr_.push([_.key,_.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(i,o){for(var s=this.toArray(),_=[],$=0;$<s.length;$++){var et=this.map_[s[$][0].toString()];this.wrapEntry_(et);var rt=et.valueWrapper;rt?(goog.asserts.assert(o),_.push([et.key,o(i,rt)])):_.push([et.key,et.value])}return _},jspb.Map.fromObject=function(i,o,s){o=new jspb.Map([],o);for(var _=0;_<i.length;_++){var $=i[_][0],et=s(i[_][1]);o.set($,et)}return o},jspb.Map.ArrayIteratorIterable_=function(i){this.idx_=0,this.arr_=i},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(i){i=i.toString();var o=this.map_.hasOwnProperty(i);return delete this.map_[i],this.arrClean=!1,o},jspb.Map.prototype.getEntryList=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,_.value])}return i},jspb.Map.prototype.entries=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,this.wrapEntry_(_)])}return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.keys=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.map_[o[s]].key);return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.values=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.wrapEntry_(this.map_[o[s]]));return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.forEach=function(i,o){var s=this.stringKeys_();s.sort();for(var _=0;_<s.length;_++){var $=this.map_[s[_]];i.call(o,this.wrapEntry_($),$.key,this)}},jspb.Map.prototype.set=function(i,o){var s=new jspb.Map.Entry_(i);return this.valueCtor_?(s.valueWrapper=o,s.value=o.toArray()):s.value=o,this.map_[i.toString()]=s,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(i){return this.valueCtor_?(i.valueWrapper||(i.valueWrapper=new this.valueCtor_(i.value)),i.valueWrapper):i.value},jspb.Map.prototype.get=function(i){if(i=this.map_[i.toString()])return this.wrapEntry_(i)},jspb.Map.prototype.has=function(i){return i.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(i,o,s,_,$){var et=this.stringKeys_();et.sort();for(var rt=0;rt<et.length;rt++){var j=this.map_[et[rt]];o.beginSubMessage(i),s.call(o,1,j.key),this.valueCtor_?_.call(o,2,this.wrapEntry_(j),$):_.call(o,2,j.value),o.endSubMessage()}},jspb.Map.deserializeBinary=function(i,o,s,_,$,et,rt){for(;o.nextField()&&!o.isEndGroup();){var j=o.getFieldNumber();j==1?et=s.call(o):j==2&&(i.valueCtor_?(goog.asserts.assert($),rt||(rt=new i.valueCtor_),_.call(o,rt,$)):rt=_.call(o))}goog.asserts.assert(et!=null),goog.asserts.assert(rt!=null),i.set(et,rt)},jspb.Map.prototype.stringKeys_=function(){var i,o=this.map_,s=[];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},jspb.Map.Entry_=function(i,o){this.key=i,this.value=o,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(i,o,s,_,$){this.fieldIndex=i,this.fieldName=o,this.ctor=s,this.toObjectFn=_,this.isRepeated=$},jspb.ExtensionFieldBinaryInfo=function(i,o,s,_,$,et){this.fieldInfo=i,this.binaryReaderFn=o,this.binaryWriterFn=s,this.binaryMessageSerializeFn=_,this.binaryMessageDeserializeFn=$,this.isPacked=et},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(i,o){return o+i.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(i,o){return o-i.arrayIndexOffset_},jspb.Message.initialize=function(i,o,s,_,$,et){if(i.wrappers_=null,o||(o=s?[s]:[]),i.messageId_=s?String(s):void 0,i.arrayIndexOffset_=s===0?-1:0,i.array=o,jspb.Message.initPivotAndExtensionObject_(i,_),i.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(i.repeatedFields=$),$)for(o=0;o<$.length;o++)(s=$[o])<i.pivot_?(s=jspb.Message.getIndex_(i,s),i.array[s]=i.array[s]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[s]=i.extensionObject_[s]||jspb.Message.EMPTY_LIST_SENTINEL_);if(et&&et.length)for(o=0;o<et.length;o++)jspb.Message.computeOneofCase(i,et[o])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(i){return jspb.Message.ASSUME_LOCAL_ARRAYS?i instanceof Array:Array.isArray(i)},jspb.Message.isExtensionObject_=function(i){return!(i===null||typeof i!="object"||jspb.Message.isArray_(i)||jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(i,o){var s=i.array.length,_=-1;if(s&&(_=s-1,s=i.array[_],jspb.Message.isExtensionObject_(s)))return i.pivot_=jspb.Message.getFieldNumber_(i,_),void(i.extensionObject_=s);-1<o?(i.pivot_=Math.max(o,jspb.Message.getFieldNumber_(i,_+1)),i.extensionObject_=null):i.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(i){var o=jspb.Message.getIndex_(i,i.pivot_);i.array[o]||(i.extensionObject_=i.array[o]={})},jspb.Message.toObjectList=function(i,o,s){for(var _=[],$=0;$<i.length;$++)_[$]=o.call(i[$],s,i[$]);return _},jspb.Message.toObjectExtension=function(i,o,s,_,$){for(var et in s){var rt=s[et],j=_.call(i,rt);if(j!=null){for(var st in rt.fieldName)if(rt.fieldName.hasOwnProperty(st))break;o[st]=rt.toObjectFn?rt.isRepeated?jspb.Message.toObjectList(j,rt.toObjectFn,$):rt.toObjectFn($,j):j}}},jspb.Message.serializeBinaryExtensions=function(i,o,s,_){for(var $ in s){var et=s[$],rt=et.fieldInfo;if(!et.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var j=_.call(i,rt);if(j!=null)if(rt.isMessageType()){if(!et.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");et.binaryWriterFn.call(o,rt.fieldIndex,j,et.binaryMessageSerializeFn)}else et.binaryWriterFn.call(o,rt.fieldIndex,j)}},jspb.Message.readBinaryExtension=function(i,o,s,_,$){var et=s[o.getFieldNumber()];if(et){if(s=et.fieldInfo,!et.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(s.isMessageType()){var rt=new s.ctor;et.binaryReaderFn.call(o,rt,et.binaryMessageDeserializeFn)}else rt=et.binaryReaderFn.call(o);s.isRepeated&&!et.isPacked?(o=_.call(i,s))?o.push(rt):$.call(i,s,[rt]):$.call(i,s,rt)}else o.skipField()},jspb.Message.getField=function(i,o){if(o<i.pivot_){o=jspb.Message.getIndex_(i,o);var s=i.array[o];return s===jspb.Message.EMPTY_LIST_SENTINEL_?i.array[o]=[]:s}if(i.extensionObject_)return(s=i.extensionObject_[o])===jspb.Message.EMPTY_LIST_SENTINEL_?i.extensionObject_[o]=[]:s},jspb.Message.getRepeatedField=function(i,o){return jspb.Message.getField(i,o)},jspb.Message.getOptionalFloatingPointField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:+i},jspb.Message.getBooleanField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:!!i},jspb.Message.getRepeatedFloatingPointField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=+s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.getRepeatedBooleanField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=!!s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.bytesAsB64=function(i){return i==null||typeof i=="string"?i:jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array?goog.crypt.base64.encodeByteArray(i):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(i)),null)},jspb.Message.bytesAsU8=function(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(i)),null)},jspb.Message.bytesListAsB64=function(i){return jspb.Message.assertConsistentTypes_(i),i.length&&typeof i[0]!="string"?goog.array.map(i,jspb.Message.bytesAsB64):i},jspb.Message.bytesListAsU8=function(i){return jspb.Message.assertConsistentTypes_(i),!i.length||i[0]instanceof Uint8Array?i:goog.array.map(i,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(i){if(goog.DEBUG&&i&&1<i.length){var o=goog.typeOf(i[0]);goog.array.forEach(i,function(s){goog.typeOf(s)!=o&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(s)+" expected "+o)})}},jspb.Message.getFieldWithDefault=function(i,o,s){return(i=jspb.Message.getField(i,o))==null?s:i},jspb.Message.getBooleanFieldWithDefault=function(i,o,s){return(i=jspb.Message.getBooleanField(i,o))==null?s:i},jspb.Message.getFloatingPointFieldWithDefault=function(i,o,s){return(i=jspb.Message.getOptionalFloatingPointField(i,o))==null?s:i},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),o in i.wrappers_)return i.wrappers_[o];var $=jspb.Message.getField(i,o);if(!$){if(s)return;$=[],jspb.Message.setField(i,o,$)}return i.wrappers_[o]=new jspb.Map($,_)},jspb.Message.setField=function(i,o,s){return goog.asserts.assertInstanceof(i,jspb.Message),o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=s:(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[o]=s),i},jspb.Message.setProto3IntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3FloatField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3BooleanField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,!1)},jspb.Message.setProto3StringField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3BytesField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3EnumField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3StringIntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"0")},jspb.Message.setFieldIgnoringDefault_=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),s!==_?jspb.Message.setField(i,o,s):o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(i),delete i.extensionObject_[o]),i},jspb.Message.addToRepeatedField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),o=jspb.Message.getRepeatedField(i,o),_!=null?o.splice(_,0,s):o.push(s),i},jspb.Message.setOneofField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),(s=jspb.Message.computeOneofCase(i,s))&&s!==o&&_!==void 0&&(i.wrappers_&&s in i.wrappers_&&(i.wrappers_[s]=void 0),jspb.Message.setField(i,s,void 0)),jspb.Message.setField(i,o,_)},jspb.Message.computeOneofCase=function(i,o){for(var s,_,$=0;$<o.length;$++){var et=o[$],rt=jspb.Message.getField(i,et);rt!=null&&(s=et,_=rt,jspb.Message.setField(i,et,void 0))}return s?(jspb.Message.setField(i,s,_),s):0},jspb.Message.getWrapperField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){var $=jspb.Message.getField(i,s);(_||$)&&(i.wrappers_[s]=new o($))}return i.wrappers_[s]},jspb.Message.getRepeatedWrapperField=function(i,o,s){return jspb.Message.wrapRepeatedField_(i,o,s),(o=i.wrappers_[s])==jspb.Message.EMPTY_LIST_SENTINEL_&&(o=i.wrappers_[s]=[]),o},jspb.Message.wrapRepeatedField_=function(i,o,s){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){for(var _=jspb.Message.getRepeatedField(i,s),$=[],et=0;et<_.length;et++)$[et]=new o(_[et]);i.wrappers_[s]=$}},jspb.Message.setWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var _=s&&s.toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.setOneofWrapperField=function(i,o,s,_){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var $=_&&_.toArray();return i.wrappers_[o]=_,jspb.Message.setOneofField(i,o,s,$)},jspb.Message.setRepeatedWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={}),s=s||[];for(var _=[],$=0;$<s.length;$++)_[$]=s[$].toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.addToRepeatedWrapperField=function(i,o,s,_,$){jspb.Message.wrapRepeatedField_(i,_,o);var et=i.wrappers_[o];return et||(et=i.wrappers_[o]=[]),s=s||new _,i=jspb.Message.getRepeatedField(i,o),$!=null?(et.splice($,0,s),i.splice($,0,s.toArray())):(et.push(s),i.push(s.toArray())),s},jspb.Message.toMap=function(i,o,s,_){for(var $={},et=0;et<i.length;et++)$[o.call(i[et])]=s?s.call(i[et],_,i[et]):i[et];return $},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var i in this.wrappers_){var o=this.wrappers_[i];if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]&&o[s].toArray();else o&&o.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(i){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var o=i.fieldIndex;if(i.isRepeated){if(i.isMessageType())return this.wrappers_[o]||(this.wrappers_[o]=goog.array.map(this.extensionObject_[o]||[],function(s){return new i.ctor(s)})),this.wrappers_[o]}else if(i.isMessageType())return!this.wrappers_[o]&&this.extensionObject_[o]&&(this.wrappers_[o]=new i.ctor(this.extensionObject_[o])),this.wrappers_[o];return this.extensionObject_[o]}},jspb.Message.prototype.setExtension=function(i,o){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var s=i.fieldIndex;return i.isRepeated?(o=o||[],i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=goog.array.map(o,function(_){return _.toArray()})):this.extensionObject_[s]=o):i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=o&&o.toArray()):this.extensionObject_[s]=o,this},jspb.Message.difference=function(i,o){if(!(i instanceof o.constructor))throw Error("Messages have different types.");var s=i.toArray();o=o.toArray();var _=[],$=0,et=s.length>o.length?s.length:o.length;for(i.getJsPbMessageId()&&(_[0]=i.getJsPbMessageId(),$=1);$<et;$++)jspb.Message.compareFields(s[$],o[$])||(_[$]=o[$]);return new i.constructor(_)},jspb.Message.equals=function(i,o){return i==o||!(!i||!o)&&i instanceof o.constructor&&jspb.Message.compareFields(i.toArray(),o.toArray())},jspb.Message.compareExtensions=function(i,o){i=i||{},o=o||{};var s,_={};for(s in i)_[s]=0;for(s in o)_[s]=0;for(s in _)if(!jspb.Message.compareFields(i[s],o[s]))return!1;return!0},jspb.Message.compareFields=function(i,o){if(i==o)return!0;if(!goog.isObject(i)||!goog.isObject(o))return!!(typeof i=="number"&&isNaN(i)||typeof o=="number"&&isNaN(o))&&String(i)==String(o);if(i.constructor!=o.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i.constructor===Uint8Array){if(i.length!=o.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!=o[s])return!1;return!0}if(i.constructor===Array){var _=void 0,$=void 0,et=Math.max(i.length,o.length);for(s=0;s<et;s++){var rt=i[s],j=o[s];if(rt&&rt.constructor==Object&&(goog.asserts.assert(_===void 0),goog.asserts.assert(s===i.length-1),_=rt,rt=void 0),j&&j.constructor==Object&&(goog.asserts.assert($===void 0),goog.asserts.assert(s===o.length-1),$=j,j=void 0),!jspb.Message.compareFields(rt,j))return!1}return!_&&!$||(_=_||{},$=$||{},jspb.Message.compareExtensions(_,$))}if(i.constructor===Object)return jspb.Message.compareExtensions(i,o);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(i){return jspb.Message.cloneMessage(i)},jspb.Message.cloneMessage=function(i){return new i.constructor(jspb.Message.clone_(i.toArray()))},jspb.Message.copyInto=function(i,o){goog.asserts.assertInstanceof(i,jspb.Message),goog.asserts.assertInstanceof(o,jspb.Message),goog.asserts.assert(i.constructor==o.constructor,"Copy source and target message should have the same type."),i=jspb.Message.clone(i);for(var s=o.toArray(),_=i.toArray(),$=s.length=0;$<_.length;$++)s[$]=_[$];o.wrappers_=i.wrappers_,o.extensionObject_=i.extensionObject_},jspb.Message.clone_=function(i){if(Array.isArray(i)){for(var o=Array(i.length),s=0;s<i.length;s++){var _=i[s];_!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_)}return o}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)return new Uint8Array(i);for(s in o={},i)(_=i[s])!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_);return o},jspb.Message.registerMessageType=function(i,o){o.messageId=i},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(i,o){this.lo=i,this.hi=o},jspb.arith.UInt64.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(i){return new jspb.arith.UInt64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(i){return new jspb.arith.UInt64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(i,o){var s=65535&i,_=65535&o,$=o>>>16;for(o=s*_+65536*(s*$&65535)+65536*((i>>>=16)*_&65535),s=i*$+(s*$>>>16)+(i*_>>>16);4294967296<=o;)o-=4294967296,s+=1;return new jspb.arith.UInt64(o>>>0,s>>>0)},jspb.arith.UInt64.prototype.mul=function(i){var o=jspb.arith.UInt64.mul32x32(this.lo,i);return(i=jspb.arith.UInt64.mul32x32(this.hi,i)).hi=i.lo,i.lo=0,o.add(i)},jspb.arith.UInt64.prototype.div=function(i){if(i==0)return[];var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(this.lo,this.hi);i=new jspb.arith.UInt64(i,0);for(var _=new jspb.arith.UInt64(1,0);!i.msb();)i=i.leftShift(),_=_.leftShift();for(;!_.zero();)0>=i.cmp(s)&&(o=o.add(_),s=s.sub(i)),i=i.rightShift(),_=_.rightShift();return[o,s]},jspb.arith.UInt64.prototype.toString=function(){for(var i="",o=this;!o.zero();){var s=(o=o.div(10))[0];i=o[1].lo+i,o=s}return i==""&&(i="0"),i},jspb.arith.UInt64.fromString=function(i){for(var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(0,0),_=0;_<i.length;_++){if("0">i[_]||"9"<i[_])return null;var $=parseInt(i[_],10);s.lo=$,o=o.mul(10).add(s)}return o},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(i,o){this.lo=i,this.hi=o},jspb.arith.Int64.prototype.add=function(i){return new jspb.arith.Int64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(i){return new jspb.arith.Int64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var i=(2147483648&this.hi)!=0,o=new jspb.arith.UInt64(this.lo,this.hi);return i&&(o=new jspb.arith.UInt64(0,0).sub(o)),(i?"-":"")+o.toString()},jspb.arith.Int64.fromString=function(i){var o=0<i.length&&i[0]=="-";return o&&(i=i.substring(1)),(i=jspb.arith.UInt64.fromString(i))===null?null:(o&&(i=new jspb.arith.UInt64(0,0).sub(i)),new jspb.arith.Int64(i.lo,i.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var i=this.buffer_;return this.buffer_=[],i},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(i,o){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32);0<o||127<i;)this.buffer_.push(127&i|128),i=(i>>>7|o<<25)>>>0,o>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(i,o){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(i),this.writeUint32(o)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(i){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32);127<i;)this.buffer_.push(127&i|128),i>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(i){if(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),0<=i)this.writeUnsignedVarint32(i);else{for(var o=0;9>o;o++)this.buffer_.push(127&i|128),i>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((i<<1^i>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(i){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(i))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(i){var o=this;jspb.utils.splitHash64(i),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(s,_){o.writeSplitVarint64(s>>>0,_>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&256>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&65536>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-128<=i&&128>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-32768<=i&&32768>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(+i>=-jspb.BinaryConstants.TWO_TO_63&&+i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT32_MAX&&i<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(i),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT64_MAX&&i<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(i){goog.asserts.assert(typeof i=="boolean"||typeof i=="number"),this.buffer_.push(i?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(i)},jspb.BinaryEncoder.prototype.writeBytes=function(i){this.buffer_.push.apply(this.buffer_,i)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(i){jspb.utils.splitHash64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(i){jspb.utils.splitHash64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(i){for(var o=this.buffer_.length,s=0;s<i.length;s++){var _=i.charCodeAt(s);if(128>_)this.buffer_.push(_);else if(2048>_)this.buffer_.push(_>>6|192),this.buffer_.push(63&_|128);else if(65536>_)if(55296<=_&&56319>=_&&s+1<i.length){var $=i.charCodeAt(s+1);56320<=$&&57343>=$&&(_=1024*(_-55296)+$-56320+65536,this.buffer_.push(_>>18|240),this.buffer_.push(_>>12&63|128),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128),s++)}else this.buffer_.push(_>>12|224),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128)}return this.buffer_.length-o},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(i){var o=this.encoder_.end();this.blocks_.push(o),this.blocks_.push(i),this.totalLength_+=o.length+i.length},jspb.BinaryWriter.prototype.beginDelimited_=function(i){return this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),i=this.encoder_.end(),this.blocks_.push(i),this.totalLength_+=i.length,i.push(this.totalLength_),i},jspb.BinaryWriter.prototype.endDelimited_=function(i){var o=i.pop();for(o=this.totalLength_+this.encoder_.length()-o,goog.asserts.assert(0<=o);127<o;)i.push(127&o|128),o>>>=7,this.totalLength_++;i.push(o),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(i,o,s){this.appendUint8Array_(i.subarray(o,s))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(i,o,s){i!=null&&o!=null&&s!=null&&this.writeSerializedMessage(i,o,s)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var i=new Uint8Array(this.totalLength_+this.encoder_.length()),o=this.blocks_,s=o.length,_=0,$=0;$<s;$++){var et=o[$];i.set(et,_),_+=et.length}return o=this.encoder_.end(),i.set(o,_),_+=o.length,goog.asserts.assert(_==i.length),this.blocks_=[i],i},jspb.BinaryWriter.prototype.getResultBase64String=function(i){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),i)},jspb.BinaryWriter.prototype.beginSubMessage=function(i){this.bookmarks_.push(this.beginDelimited_(i))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(i,o){goog.asserts.assert(1<=i&&i==Math.floor(i)),this.encoder_.writeUnsignedVarint32(8*i+o)},jspb.BinaryWriter.prototype.writeAny=function(i,o,s){var _=jspb.BinaryConstants.FieldType;switch(i){case _.DOUBLE:this.writeDouble(o,s);break;case _.FLOAT:this.writeFloat(o,s);break;case _.INT64:this.writeInt64(o,s);break;case _.UINT64:this.writeUint64(o,s);break;case _.INT32:this.writeInt32(o,s);break;case _.FIXED64:this.writeFixed64(o,s);break;case _.FIXED32:this.writeFixed32(o,s);break;case _.BOOL:this.writeBool(o,s);break;case _.STRING:this.writeString(o,s);break;case _.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case _.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case _.BYTES:this.writeBytes(o,s);break;case _.UINT32:this.writeUint32(o,s);break;case _.ENUM:this.writeEnum(o,s);break;case _.SFIXED32:this.writeSfixed32(o,s);break;case _.SFIXED64:this.writeSfixed64(o,s);break;case _.SINT32:this.writeSint32(o,s);break;case _.SINT64:this.writeSint64(o,s);break;case _.FHASH64:this.writeFixedHash64(o,s);break;case _.VHASH64:this.writeVarintHash64(o,s);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(o))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(o))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(o))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(o))},jspb.BinaryWriter.prototype.writeInt32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeInt64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeUint32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeUint64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSint32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(i,o))},jspb.BinaryWriter.prototype.writeSint64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(i,o))},jspb.BinaryWriter.prototype.writeSintHash64=function(i,o){o!=null&&this.writeZigzagVarintHash64_(i,o)},jspb.BinaryWriter.prototype.writeSint64String=function(i,o){o!=null&&this.writeZigzagVarint64String_(i,o)},jspb.BinaryWriter.prototype.writeFixed32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(o))},jspb.BinaryWriter.prototype.writeFixed64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(o))},jspb.BinaryWriter.prototype.writeFixed64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(o))},jspb.BinaryWriter.prototype.writeSfixed64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(o))},jspb.BinaryWriter.prototype.writeSfixed64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeFloat=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(o))},jspb.BinaryWriter.prototype.writeDouble=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(o))},jspb.BinaryWriter.prototype.writeBool=function(i,o){o!=null&&(goog.asserts.assert(typeof o=="boolean"||typeof o=="number"),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(o))},jspb.BinaryWriter.prototype.writeEnum=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeString=function(i,o){o!=null&&(i=this.beginDelimited_(i),this.encoder_.writeString(o),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeBytes=function(i,o){o!=null&&(o=jspb.utils.byteSourceToUint8Array(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),this.appendUint8Array_(o))},jspb.BinaryWriter.prototype.writeMessage=function(i,o,s){o!=null&&(i=this.beginDelimited_(i),s(o,this),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeMessageSet=function(i,o,s){o!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i),i=this.beginDelimited_(3),s(o,this),this.endDelimited_(i),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(i,o,s){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o,this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(o))},jspb.BinaryWriter.prototype.writeVarintHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(o))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o,s)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o,s)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT);var _=this.encoder_;jspb.utils.toZigzag64(o,s,function($,et){_.writeSplitVarint64($>>>0,et>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitFixed64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitZigzagVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64String_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarintHash64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFloat(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeDouble(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBool(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeEnum(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedString=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeString(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBytes(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++){var $=this.beginDelimited_(i);s(o[_],this),this.endDelimited_($)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++)this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o[_],this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixedHash64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeVarintHash64(i,o[s])},jspb.BinaryWriter.prototype.writePackedInt32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitFixed64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitVarint64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=this.encoder_,et=0;et<o.length;et++)jspb.utils.toZigzag64(s(o[et]),_(o[et]),function(rt,j){$.writeSplitVarint64(rt>>>0,j>>>0)});this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.Int64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.UInt64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(o[s]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeUint32(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeUint64(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++){var s=jspb.arith.UInt64.fromString(o[i]);this.encoder_.writeSplitFixed64(s.lo,s.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeInt32(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64String(o[i])},jspb.BinaryWriter.prototype.writePackedFloat=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeFloat(o[i])},jspb.BinaryWriter.prototype.writePackedDouble=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeDouble(o[i])},jspb.BinaryWriter.prototype.writePackedBool=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),i=0;i<o.length;i++)this.encoder_.writeBool(o[i])},jspb.BinaryWriter.prototype.writePackedEnum=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeEnum(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeFixedHash64(o[i])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeVarintHash64(o[s]);this.endDelimited_(i)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(6),__webpack_require__(5).Buffer)},function(i,o,s){const{AbortController:_,AbortSignal:$}=typeof self<"u"?self:typeof window<"u"?window:void 0;i.exports=_,i.exports.AbortSignal=$,i.exports.default=_},function(i,o){var s=function(_){function $(){this.fetch=!1,this.DOMException=_.DOMException}return $.prototype=_,new $}(typeof self<"u"?self:this);(function(_){(function($){var et="URLSearchParams"in _,rt="Symbol"in _&&"iterator"in Symbol,j="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),st="FormData"in _,lt="ArrayBuffer"in _;if(lt)var gt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],bt=ArrayBuffer.isView||function(Yt){return Yt&&gt.indexOf(Object.prototype.toString.call(Yt))>-1};function Ut(Yt){if(typeof Yt!="string"&&(Yt=String(Yt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Yt))throw new TypeError("Invalid character in header field name");return Yt.toLowerCase()}function Ft(Yt){return typeof Yt!="string"&&(Yt=String(Yt)),Yt}function yt(Yt){var Pt={next:function(){var tn=Yt.shift();return{done:tn===void 0,value:tn}}};return rt&&(Pt[Symbol.iterator]=function(){return Pt}),Pt}function Qt(Yt){this.map={},Yt instanceof Qt?Yt.forEach(function(Pt,tn){this.append(tn,Pt)},this):Array.isArray(Yt)?Yt.forEach(function(Pt){this.append(Pt[0],Pt[1])},this):Yt&&Object.getOwnPropertyNames(Yt).forEach(function(Pt){this.append(Pt,Yt[Pt])},this)}function wt(Yt){if(Yt.bodyUsed)return Promise.reject(new TypeError("Already read"));Yt.bodyUsed=!0}function Tt(Yt){return new Promise(function(Pt,tn){Yt.onload=function(){Pt(Yt.result)},Yt.onerror=function(){tn(Yt.error)}})}function Jt(Yt){var Pt=new FileReader,tn=Tt(Pt);return Pt.readAsArrayBuffer(Yt),tn}function At(Yt){if(Yt.slice)return Yt.slice(0);var Pt=new Uint8Array(Yt.byteLength);return Pt.set(new Uint8Array(Yt)),Pt.buffer}function Nt(){return this.bodyUsed=!1,this._initBody=function(Yt){var Pt;this._bodyInit=Yt,Yt?typeof Yt=="string"?this._bodyText=Yt:j&&Blob.prototype.isPrototypeOf(Yt)?this._bodyBlob=Yt:st&&FormData.prototype.isPrototypeOf(Yt)?this._bodyFormData=Yt:et&&URLSearchParams.prototype.isPrototypeOf(Yt)?this._bodyText=Yt.toString():lt&&j&&(Pt=Yt)&&DataView.prototype.isPrototypeOf(Pt)?(this._bodyArrayBuffer=At(Yt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):lt&&(ArrayBuffer.prototype.isPrototypeOf(Yt)||bt(Yt))?this._bodyArrayBuffer=At(Yt):this._bodyText=Yt=Object.prototype.toString.call(Yt):this._bodyText="",this.headers.get("content-type")||(typeof Yt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):et&&URLSearchParams.prototype.isPrototypeOf(Yt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},j&&(this.blob=function(){var Yt=wt(this);if(Yt)return Yt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?wt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Jt)}),this.text=function(){var Yt,Pt,tn,Un=wt(this);if(Un)return Un;if(this._bodyBlob)return Yt=this._bodyBlob,Pt=new FileReader,tn=Tt(Pt),Pt.readAsText(Yt),tn;if(this._bodyArrayBuffer)return Promise.resolve(function(Kt){for(var $t=new Uint8Array(Kt),hn=new Array($t.length),dn=0;dn<$t.length;dn++)hn[dn]=String.fromCharCode($t[dn]);return hn.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},st&&(this.formData=function(){return this.text().then(nn)}),this.json=function(){return this.text().then(JSON.parse)},this}Qt.prototype.append=function(Yt,Pt){Yt=Ut(Yt),Pt=Ft(Pt);var tn=this.map[Yt];this.map[Yt]=tn?tn+", "+Pt:Pt},Qt.prototype.delete=function(Yt){delete this.map[Ut(Yt)]},Qt.prototype.get=function(Yt){return Yt=Ut(Yt),this.has(Yt)?this.map[Yt]:null},Qt.prototype.has=function(Yt){return this.map.hasOwnProperty(Ut(Yt))},Qt.prototype.set=function(Yt,Pt){this.map[Ut(Yt)]=Ft(Pt)},Qt.prototype.forEach=function(Yt,Pt){for(var tn in this.map)this.map.hasOwnProperty(tn)&&Yt.call(Pt,this.map[tn],tn,this)},Qt.prototype.keys=function(){var Yt=[];return this.forEach(function(Pt,tn){Yt.push(tn)}),yt(Yt)},Qt.prototype.values=function(){var Yt=[];return this.forEach(function(Pt){Yt.push(Pt)}),yt(Yt)},Qt.prototype.entries=function(){var Yt=[];return this.forEach(function(Pt,tn){Yt.push([tn,Pt])}),yt(Yt)},rt&&(Qt.prototype[Symbol.iterator]=Qt.prototype.entries);var St=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ot(Yt,Pt){var tn,Un,Kt=(Pt=Pt||{}).body;if(Yt instanceof Ot){if(Yt.bodyUsed)throw new TypeError("Already read");this.url=Yt.url,this.credentials=Yt.credentials,Pt.headers||(this.headers=new Qt(Yt.headers)),this.method=Yt.method,this.mode=Yt.mode,this.signal=Yt.signal,Kt||Yt._bodyInit==null||(Kt=Yt._bodyInit,Yt.bodyUsed=!0)}else this.url=String(Yt);if(this.credentials=Pt.credentials||this.credentials||"same-origin",!Pt.headers&&this.headers||(this.headers=new Qt(Pt.headers)),this.method=(tn=Pt.method||this.method||"GET",Un=tn.toUpperCase(),St.indexOf(Un)>-1?Un:tn),this.mode=Pt.mode||this.mode||null,this.signal=Pt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Kt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Kt)}function nn(Yt){var Pt=new FormData;return Yt.trim().split("&").forEach(function(tn){if(tn){var Un=tn.split("="),Kt=Un.shift().replace(/\+/g," "),$t=Un.join("=").replace(/\+/g," ");Pt.append(decodeURIComponent(Kt),decodeURIComponent($t))}}),Pt}function yn(Yt,Pt){Pt||(Pt={}),this.type="default",this.status=Pt.status===void 0?200:Pt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Pt?Pt.statusText:"OK",this.headers=new Qt(Pt.headers),this.url=Pt.url||"",this._initBody(Yt)}Ot.prototype.clone=function(){return new Ot(this,{body:this._bodyInit})},Nt.call(Ot.prototype),Nt.call(yn.prototype),yn.prototype.clone=function(){return new yn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Qt(this.headers),url:this.url})},yn.error=function(){var Yt=new yn(null,{status:0,statusText:""});return Yt.type="error",Yt};var Ct=[301,302,303,307,308];yn.redirect=function(Yt,Pt){if(Ct.indexOf(Pt)===-1)throw new RangeError("Invalid status code");return new yn(null,{status:Pt,headers:{location:Yt}})},$.DOMException=_.DOMException;try{new $.DOMException}catch{$.DOMException=function(Yt,Pt){this.message=Yt,this.name=Pt;var tn=Error(Yt);this.stack=tn.stack},$.DOMException.prototype=Object.create(Error.prototype),$.DOMException.prototype.constructor=$.DOMException}function Vt(Yt,Pt){return new Promise(function(tn,Un){var Kt=new Ot(Yt,Pt);if(Kt.signal&&Kt.signal.aborted)return Un(new $.DOMException("Aborted","AbortError"));var $t=new XMLHttpRequest;function hn(){$t.abort()}$t.onload=function(){var dn,zt,It={status:$t.status,statusText:$t.statusText,headers:(dn=$t.getAllResponseHeaders()||"",zt=new Qt,dn.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(vn){var Wn=vn.split(":"),Ln=Wn.shift().trim();if(Ln){var jn=Wn.join(":").trim();zt.append(Ln,jn)}}),zt)};It.url="responseURL"in $t?$t.responseURL:It.headers.get("X-Request-URL");var gn="response"in $t?$t.response:$t.responseText;tn(new yn(gn,It))},$t.onerror=function(){Un(new TypeError("Network request failed"))},$t.ontimeout=function(){Un(new TypeError("Network request failed"))},$t.onabort=function(){Un(new $.DOMException("Aborted","AbortError"))},$t.open(Kt.method,Kt.url,!0),Kt.credentials==="include"?$t.withCredentials=!0:Kt.credentials==="omit"&&($t.withCredentials=!1),"responseType"in $t&&j&&($t.responseType="blob"),Kt.headers.forEach(function(dn,zt){$t.setRequestHeader(zt,dn)}),Kt.signal&&(Kt.signal.addEventListener("abort",hn),$t.onreadystatechange=function(){$t.readyState===4&&Kt.signal.removeEventListener("abort",hn)}),$t.send(Kt._bodyInit===void 0?null:Kt._bodyInit)})}Vt.polyfill=!0,_.fetch||(_.fetch=Vt,_.Headers=Qt,_.Request=Ot,_.Response=yn),$.Headers=Qt,$.Request=Ot,$.Response=yn,$.fetch=Vt})({})})(s),delete s.fetch.polyfill,(o=s.fetch).default=s.fetch,o.fetch=s.fetch,o.Headers=s.Headers,o.Request=s.Request,o.Response=s.Response,i.exports=o},function(i,o,s){(function(_){const $=s(211),et=s(52),rt=(j,st,lt)=>({from:rt,EnvVarError:s(52),get:function(gt){if(!gt)return j;if(arguments.length>1)throw new et("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return $(j,gt,st||{},lt||function(){})},accessors:s(94),logger:s(225)(console.log,j.NODE_ENV)});i.exports=rt(_.env)}).call(this,s(2))},function(i,o,s){var _=s(13),$=s(73),et=s(3).LEVEL,rt=i.exports=function(){var j=this,st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:st.highWaterMark}),this.format=st.format,this.level=st.level,this.handleExceptions=st.handleExceptions,this.silent=st.silent,st.log&&(this.log=st.log),st.logv&&(this.logv=st.logv),st.close&&(this.close=st.close),this.once("pipe",function(lt){j.levels=lt.levels,j.parent=lt}),this.once("unpipe",function(lt){lt===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(rt,$),rt.prototype._write=function(j,st,lt){if(this.silent||j.exception===!0&&!this.handleExceptions)return lt(null);var gt=this.level||this.parent&&this.parent.level;if(!gt||this.levels[gt]>=this.levels[j[et]]){if(j&&!this.format)return this.log(j,lt);var bt=void 0,Ut=void 0;try{Ut=this.format.transform(Object.assign({},j),this.format.options)}catch(Ft){bt=Ft}if(bt||!Ut){if(lt(),bt)throw bt;return}return this.log(Ut,lt)}return lt(null)},rt.prototype._writev=function(j,st){if(this.logv){var lt=j.filter(this._accept,this);return lt.length?this.logv(lt,st):st(null)}for(var gt=0;gt<j.length;gt++)if(this._accept(j[gt]))if(!j[gt].chunk||this.format){var bt=void 0,Ut=void 0;try{Ut=this.format.transform(Object.assign({},j[gt].chunk),this.format.options)}catch(Ft){bt=Ft}if(bt||!Ut){if(j[gt].callback(),bt)throw st(null),bt}else this.log(Ut,j[gt].callback)}else this.log(j[gt].chunk,j[gt].callback);return st(null)},rt.prototype._accept=function(j){var st=j.chunk;if(this.silent)return!1;var lt=this.level||this.parent&&this.parent.level;return!(st.exception!==!0&&lt&&!(this.levels[lt]>=this.levels[st[et]])||!this.handleExceptions&&st.exception===!0)},rt.prototype._nop=function(){}},function(i,o,s){(function(_){const $=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,et=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new st}abort(){this.signal.dispatchEvent("abort")}},rt=typeof AbortSignal=="function",j=typeof et.AbortSignal=="function",st=rt?AbortSignal:j?et.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(Nt){if(Nt==="abort"){this.aborted=!0;const St={type:Nt,target:this};this.onabort(St),this._listeners.forEach(Ot=>Ot(St),this)}}onabort(){}addEventListener(Nt,St){Nt==="abort"&&this._listeners.push(St)}removeEventListener(Nt,St){Nt==="abort"&&(this._listeners=this._listeners.filter(Ot=>Ot!==St))}},lt=new Set,gt=(Nt,St)=>{const Ot=`LRU_CACHE_OPTION_${Nt}`;Ft(Ot)&&yt(Ot,`${Nt} option`,`options.${St}`,At)},bt=(Nt,St)=>{const Ot=`LRU_CACHE_METHOD_${Nt}`;if(Ft(Ot)){const{prototype:nn}=At,{get:yn}=Object.getOwnPropertyDescriptor(nn,Nt);yt(Ot,`${Nt} method`,`cache.${St}()`,yn)}},Ut=(...Nt)=>{typeof _=="object"&&_&&typeof _.emitWarning=="function"?_.emitWarning(...Nt):console.error(...Nt)},Ft=Nt=>!lt.has(Nt),yt=(Nt,St,Ot,nn)=>{lt.add(Nt),Ut(`The ${St} is deprecated. Please use ${Ot} instead.`,"DeprecationWarning",Nt,nn)},Qt=Nt=>Nt&&Nt===Math.floor(Nt)&&Nt>0&&isFinite(Nt),wt=Nt=>Qt(Nt)?Nt<=Math.pow(2,8)?Uint8Array:Nt<=Math.pow(2,16)?Uint16Array:Nt<=Math.pow(2,32)?Uint32Array:Nt<=Number.MAX_SAFE_INTEGER?Tt:null:null;class Tt extends Array{constructor(St){super(St),this.fill(0)}}class Jt{constructor(St){if(St===0)return[];const Ot=wt(St);this.heap=new Ot(St),this.length=0}push(St){this.heap[this.length++]=St}pop(){return this.heap[--this.length]}}class At{constructor(St={}){const{max:Ot=0,ttl:nn,ttlResolution:yn=1,ttlAutopurge:Ct,updateAgeOnGet:Vt,updateAgeOnHas:Yt,allowStale:Pt,dispose:tn,disposeAfter:Un,noDisposeOnSet:Kt,noUpdateTTL:$t,maxSize:hn=0,maxEntrySize:dn=0,sizeCalculation:zt,fetchMethod:It,fetchContext:gn,noDeleteOnFetchRejection:vn,noDeleteOnStaleGet:Wn}=St,{length:Ln,maxAge:jn,stale:xn}=St instanceof At?{}:St;if(Ot!==0&&!Qt(Ot))throw new TypeError("max option must be a nonnegative integer");const Rn=Ot?wt(Ot):Array;if(!Rn)throw new Error("invalid max value: "+Ot);if(this.max=Ot,this.maxSize=hn,this.maxEntrySize=dn||this.maxSize,this.sizeCalculation=zt||Ln,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=It||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=gn,!this.fetchMethod&&gn!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(Ot).fill(null),this.valList=new Array(Ot).fill(null),this.next=new Rn(Ot),this.prev=new Rn(Ot),this.head=0,this.tail=0,this.free=new Jt(Ot),this.initialFill=1,this.size=0,typeof tn=="function"&&(this.dispose=tn),typeof Un=="function"?(this.disposeAfter=Un,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!Kt,this.noUpdateTTL=!!$t,this.noDeleteOnFetchRejection=!!vn,this.maxEntrySize!==0){if(this.maxSize!==0&&!Qt(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!Qt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!Pt||!!xn,this.noDeleteOnStaleGet=!!Wn,this.updateAgeOnGet=!!Vt,this.updateAgeOnHas=!!Yt,this.ttlResolution=Qt(yn)||yn===0?yn:1,this.ttlAutopurge=!!Ct,this.ttl=nn||jn||0,this.ttl){if(!Qt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const jt="LRU_CACHE_UNBOUNDED";Ft(jt)&&(lt.add(jt),Ut("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",jt,At))}xn&&gt("stale","allowStale"),jn&&gt("maxAge","ttl"),Ln&&gt("length","sizeCalculation")}getRemainingTTL(St){return this.has(St,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Tt(this.max),this.starts=new Tt(this.max),this.setItemTTL=(nn,yn,Ct=$.now())=>{if(this.starts[nn]=yn!==0?Ct:0,this.ttls[nn]=yn,yn!==0&&this.ttlAutopurge){const Vt=setTimeout(()=>{this.isStale(nn)&&this.delete(this.keyList[nn])},yn+1);Vt.unref&&Vt.unref()}},this.updateItemAge=nn=>{this.starts[nn]=this.ttls[nn]!==0?$.now():0};let St=0;const Ot=()=>{const nn=$.now();if(this.ttlResolution>0){St=nn;const yn=setTimeout(()=>St=0,this.ttlResolution);yn.unref&&yn.unref()}return nn};this.getRemainingTTL=nn=>{const yn=this.keyMap.get(nn);return yn===void 0?0:this.ttls[yn]===0||this.starts[yn]===0?1/0:this.starts[yn]+this.ttls[yn]-(St||Ot())},this.isStale=nn=>this.ttls[nn]!==0&&this.starts[nn]!==0&&(St||Ot())-this.starts[nn]>this.ttls[nn]}updateItemAge(St){}setItemTTL(St,Ot,nn){}isStale(St){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Tt(this.max),this.removeItemSize=St=>{this.calculatedSize-=this.sizes[St],this.sizes[St]=0},this.requireSize=(St,Ot,nn,yn)=>{if(!Qt(nn)){if(!yn)throw new TypeError("invalid size value (must be positive integer)");if(typeof yn!="function")throw new TypeError("sizeCalculation must be a function");if(nn=yn(Ot,St),!Qt(nn))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return nn},this.addItemSize=(St,Ot)=>{this.sizes[St]=Ot;const nn=this.maxSize-this.sizes[St];for(;this.calculatedSize>nn;)this.evict(!0);this.calculatedSize+=this.sizes[St]}}removeItemSize(St){}addItemSize(St,Ot){}requireSize(St,Ot,nn,yn){if(nn||yn)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:St=this.allowStale}={}){if(this.size)for(let Ot=this.tail;this.isValidIndex(Ot)&&(!St&&this.isStale(Ot)||(yield Ot),Ot!==this.head);)Ot=this.prev[Ot]}*rindexes({allowStale:St=this.allowStale}={}){if(this.size)for(let Ot=this.head;this.isValidIndex(Ot)&&(!St&&this.isStale(Ot)||(yield Ot),Ot!==this.tail);)Ot=this.next[Ot]}isValidIndex(St){return this.keyMap.get(this.keyList[St])===St}*entries(){for(const St of this.indexes())yield[this.keyList[St],this.valList[St]]}*rentries(){for(const St of this.rindexes())yield[this.keyList[St],this.valList[St]]}*keys(){for(const St of this.indexes())yield this.keyList[St]}*rkeys(){for(const St of this.rindexes())yield this.keyList[St]}*values(){for(const St of this.indexes())yield this.valList[St]}*rvalues(){for(const St of this.rindexes())yield this.valList[St]}[Symbol.iterator](){return this.entries()}find(St,Ot={}){for(const nn of this.indexes())if(St(this.valList[nn],this.keyList[nn],this))return this.get(this.keyList[nn],Ot)}forEach(St,Ot=this){for(const nn of this.indexes())St.call(Ot,this.valList[nn],this.keyList[nn],this)}rforEach(St,Ot=this){for(const nn of this.rindexes())St.call(Ot,this.valList[nn],this.keyList[nn],this)}get prune(){return bt("prune","purgeStale"),this.purgeStale}purgeStale(){let St=!1;for(const Ot of this.rindexes({allowStale:!0}))this.isStale(Ot)&&(this.delete(this.keyList[Ot]),St=!0);return St}dump(){const St=[];for(const Ot of this.indexes({allowStale:!0})){const nn=this.keyList[Ot],yn=this.valList[Ot],Ct={value:this.isBackgroundFetch(yn)?yn.__staleWhileFetching:yn};if(this.ttls){Ct.ttl=this.ttls[Ot];const Vt=$.now()-this.starts[Ot];Ct.start=Math.floor(Date.now()-Vt)}this.sizes&&(Ct.size=this.sizes[Ot]),St.unshift([nn,Ct])}return St}load(St){this.clear();for(const[Ot,nn]of St){if(nn.start){const yn=Date.now()-nn.start;nn.start=$.now()-yn}this.set(Ot,nn.value,nn)}}dispose(St,Ot,nn){}set(St,Ot,{ttl:nn=this.ttl,start:yn,noDisposeOnSet:Ct=this.noDisposeOnSet,size:Vt=0,sizeCalculation:Yt=this.sizeCalculation,noUpdateTTL:Pt=this.noUpdateTTL}={}){if(Vt=this.requireSize(St,Ot,Vt,Yt),this.maxEntrySize&&Vt>this.maxEntrySize)return this;let tn=this.size===0?void 0:this.keyMap.get(St);if(tn===void 0)tn=this.newIndex(),this.keyList[tn]=St,this.valList[tn]=Ot,this.keyMap.set(St,tn),this.next[this.tail]=tn,this.prev[tn]=this.tail,this.tail=tn,this.size++,this.addItemSize(tn,Vt),Pt=!1;else{const Un=this.valList[tn];Ot!==Un&&(this.isBackgroundFetch(Un)?Un.__abortController.abort():Ct||(this.dispose(Un,St,"set"),this.disposeAfter&&this.disposed.push([Un,St,"set"])),this.removeItemSize(tn),this.valList[tn]=Ot,this.addItemSize(tn,Vt)),this.moveToTail(tn)}if(nn===0||this.ttl!==0||this.ttls||this.initializeTTLTracking(),Pt||this.setItemTTL(tn,nn,yn),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const St=this.valList[this.head];return this.evict(!0),St}}evict(St){const Ot=this.head,nn=this.keyList[Ot],yn=this.valList[Ot];return this.isBackgroundFetch(yn)?yn.__abortController.abort():(this.dispose(yn,nn,"evict"),this.disposeAfter&&this.disposed.push([yn,nn,"evict"])),this.removeItemSize(Ot),St&&(this.keyList[Ot]=null,this.valList[Ot]=null,this.free.push(Ot)),this.head=this.next[Ot],this.keyMap.delete(nn),this.size--,Ot}has(St,{updateAgeOnHas:Ot=this.updateAgeOnHas}={}){const nn=this.keyMap.get(St);return nn!==void 0&&!this.isStale(nn)&&(Ot&&this.updateItemAge(nn),!0)}peek(St,{allowStale:Ot=this.allowStale}={}){const nn=this.keyMap.get(St);if(nn!==void 0&&(Ot||!this.isStale(nn))){const yn=this.valList[nn];return this.isBackgroundFetch(yn)?yn.__staleWhileFetching:yn}}backgroundFetch(St,Ot,nn,yn){const Ct=Ot===void 0?void 0:this.valList[Ot];if(this.isBackgroundFetch(Ct))return Ct;const Vt=new et,Yt={signal:Vt.signal,options:nn,context:yn},Pt=new Promise(tn=>tn(this.fetchMethod(St,Ct,Yt))).then(tn=>(Vt.signal.aborted||this.set(St,tn,Yt.options),tn),tn=>{if(this.valList[Ot]===Pt&&(!nn.noDeleteOnFetchRejection||Pt.__staleWhileFetching===void 0?this.delete(St):this.valList[Ot]=Pt.__staleWhileFetching),Pt.__returned===Pt)throw tn});return Pt.__abortController=Vt,Pt.__staleWhileFetching=Ct,Pt.__returned=null,Ot===void 0?(this.set(St,Pt,Yt.options),Ot=this.keyMap.get(St)):this.valList[Ot]=Pt,Pt}isBackgroundFetch(St){return St&&typeof St=="object"&&typeof St.then=="function"&&Object.prototype.hasOwnProperty.call(St,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(St,"__returned")&&(St.__returned===St||St.__returned===null)}async fetch(St,{allowStale:Ot=this.allowStale,updateAgeOnGet:nn=this.updateAgeOnGet,noDeleteOnStaleGet:yn=this.noDeleteOnStaleGet,ttl:Ct=this.ttl,noDisposeOnSet:Vt=this.noDisposeOnSet,size:Yt=0,sizeCalculation:Pt=this.sizeCalculation,noUpdateTTL:tn=this.noUpdateTTL,noDeleteOnFetchRejection:Un=this.noDeleteOnFetchRejection,fetchContext:Kt=this.fetchContext,forceRefresh:$t=!1}={}){if(!this.fetchMethod)return this.get(St,{allowStale:Ot,updateAgeOnGet:nn,noDeleteOnStaleGet:yn});const hn={allowStale:Ot,updateAgeOnGet:nn,noDeleteOnStaleGet:yn,ttl:Ct,noDisposeOnSet:Vt,size:Yt,sizeCalculation:Pt,noUpdateTTL:tn,noDeleteOnFetchRejection:Un};let dn=this.keyMap.get(St);if(dn===void 0){const zt=this.backgroundFetch(St,dn,hn,Kt);return zt.__returned=zt}{const zt=this.valList[dn];if(this.isBackgroundFetch(zt))return Ot&&zt.__staleWhileFetching!==void 0?zt.__staleWhileFetching:zt.__returned=zt;if(!$t&&!this.isStale(dn))return this.moveToTail(dn),nn&&this.updateItemAge(dn),zt;const It=this.backgroundFetch(St,dn,hn,Kt);return Ot&&It.__staleWhileFetching!==void 0?It.__staleWhileFetching:It.__returned=It}}get(St,{allowStale:Ot=this.allowStale,updateAgeOnGet:nn=this.updateAgeOnGet,noDeleteOnStaleGet:yn=this.noDeleteOnStaleGet}={}){const Ct=this.keyMap.get(St);if(Ct!==void 0){const Vt=this.valList[Ct],Yt=this.isBackgroundFetch(Vt);return this.isStale(Ct)?Yt?Ot?Vt.__staleWhileFetching:void 0:(yn||this.delete(St),Ot?Vt:void 0):Yt?void 0:(this.moveToTail(Ct),nn&&this.updateItemAge(Ct),Vt)}}connect(St,Ot){this.prev[Ot]=St,this.next[St]=Ot}moveToTail(St){St!==this.tail&&(St===this.head?this.head=this.next[St]:this.connect(this.prev[St],this.next[St]),this.connect(this.tail,St),this.tail=St)}get del(){return bt("del","delete"),this.delete}delete(St){let Ot=!1;if(this.size!==0){const nn=this.keyMap.get(St);if(nn!==void 0)if(Ot=!0,this.size===1)this.clear();else{this.removeItemSize(nn);const yn=this.valList[nn];this.isBackgroundFetch(yn)?yn.__abortController.abort():(this.dispose(yn,St,"delete"),this.disposeAfter&&this.disposed.push([yn,St,"delete"])),this.keyMap.delete(St),this.keyList[nn]=null,this.valList[nn]=null,nn===this.tail?this.tail=this.prev[nn]:nn===this.head?this.head=this.next[nn]:(this.next[this.prev[nn]]=this.next[nn],this.prev[this.next[nn]]=this.prev[nn]),this.size--,this.free.push(nn)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return Ot}clear(){for(const St of this.rindexes({allowStale:!0})){const Ot=this.valList[St];if(this.isBackgroundFetch(Ot))Ot.__abortController.abort();else{const nn=this.keyList[St];this.dispose(Ot,nn,"delete"),this.disposeAfter&&this.disposed.push([Ot,nn,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return bt("reset","clear"),this.clear}get length(){return((St,Ot)=>{const nn=`LRU_CACHE_PROPERTY_${St}`;if(Ft(nn)){const{prototype:yn}=At,{get:Ct}=Object.getOwnPropertyDescriptor(yn,St);yt(nn,`${St} property`,`cache.${Ot}`,Ct)}})("length","size"),this.size}static get AbortController(){return et}static get AbortSignal(){return st}}i.exports=At}).call(this,s(2))},function(i,o,s){var _=s(41).Colorizer;i.exports=function($){return _.addColors($.colors||$),$}},function(i,o,s){var _={};i.exports=_,_.themes={};var $=s(13),et=_.styles=s(109),rt=Object.defineProperties,j=new RegExp(/[\r\n]+/g);_.supportsColor=s(110).supportsColor,_.enabled===void 0&&(_.enabled=_.supportsColor()!==!1),_.enable=function(){_.enabled=!0},_.disable=function(){_.enabled=!1},_.stripColors=_.strip=function(wt){return(""+wt).replace(/\x1B\[\d+m/g,"")},_.stylize=function(wt,Tt){return _.enabled?et[Tt].open+wt+et[Tt].close:wt+""};var st=/[|\\{}()[\]^$+*?.]/g;function lt(wt){var Tt=function Jt(){return Ft.apply(Jt,arguments)};return Tt._styles=wt,Tt.__proto__=Ut,Tt}var gt,bt=(gt={},et.grey=et.gray,Object.keys(et).forEach(function(wt){et[wt].closeRe=new RegExp(function(Tt){if(typeof Tt!="string")throw new TypeError("Expected a string");return Tt.replace(st,"\\$&")}(et[wt].close),"g"),gt[wt]={get:function(){return lt(this._styles.concat(wt))}}}),gt),Ut=rt(function(){},bt);function Ft(){var wt=Array.prototype.slice.call(arguments),Tt=wt.map(function(Ot){return Ot!==void 0&&Ot.constructor===String?Ot:$.inspect(Ot)}).join(" ");if(!_.enabled||!Tt)return Tt;for(var Jt=Tt.indexOf(`
`)!=-1,At=this._styles,Nt=At.length;Nt--;){var St=et[At[Nt]];Tt=St.open+Tt.replace(St.closeRe,St.open)+St.close,Jt&&(Tt=Tt.replace(j,function(Ot){return St.close+Ot+St.open}))}return Tt}_.setTheme=function(wt){if(typeof wt!="string")for(var Tt in wt)(function(Jt){_[Jt]=function(At){if(typeof wt[Jt]=="object"){var Nt=At;for(var St in wt[Jt])Nt=_[wt[Jt][St]](Nt);return Nt}return _[wt[Jt]](At)}})(Tt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var yt=function(wt,Tt){var Jt=Tt.split("");return(Jt=Jt.map(wt)).join("")};for(var Qt in _.trap=s(112),_.zalgo=s(113),_.maps={},_.maps.america=s(114)(_),_.maps.zebra=s(115)(_),_.maps.rainbow=s(116)(_),_.maps.random=s(117)(_),_.maps)(function(wt){_[wt]=function(Tt){return yt(_.maps[wt],Tt)}})(Qt);rt(_,function(){var wt={};return Object.keys(bt).forEach(function(Tt){wt[Tt]={get:function(){return lt([Tt])}}}),wt}())},function(i,o){i.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(s,_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}},function(i,o){var s={};i.exports=s;var _={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(_).forEach(function($){var et=_[$],rt=s[$]=[];rt.open="\x1B["+et[0]+"m",rt.close="\x1B["+et[1]+"m"})},function(i,o,s){(function(_){var $=s(18),et=s(111),rt=_.env,j=void 0;function st(lt){return function(gt){return gt!==0&&{level:gt,hasBasic:!0,has256:gt>=2,has16m:gt>=3}}(function(gt){if(j===!1)return 0;if(et("color=16m")||et("color=full")||et("color=truecolor"))return 3;if(et("color=256"))return 2;if(gt&&!gt.isTTY&&j!==!0)return 0;var bt=j?1:0;if(_.platform==="win32"){var Ut=$.release().split(".");return Number(_.versions.node.split(".")[0])>=8&&Number(Ut[0])>=10&&Number(Ut[2])>=10586?Number(Ut[2])>=14931?3:2:1}return"CI"in rt?["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(Ft){return Ft in rt})||rt.CI_NAME==="codeship"?1:bt:"TEAMCITY_VERSION"in rt?/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(rt.TEAMCITY_VERSION)?1:0:"TERM_PROGRAM"in rt?(parseInt("445".split(".")[0],10),2):/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in rt?1:bt}(lt))}et("no-color")||et("no-colors")||et("color=false")?j=!1:(et("color")||et("colors")||et("color=true")||et("color=always"))&&(j=!0),"FORCE_COLOR"in rt&&(j=rt.FORCE_COLOR.length===0||parseInt(rt.FORCE_COLOR,10)!==0),i.exports={supportsColor:st,stdout:st(_.stdout),stderr:st(_.stderr)}}).call(this,s(2))},function(i,o,s){(function(_){i.exports=function($,et){var rt=(et=et||_.argv).indexOf("--"),j=/^-{1,2}/.test($)?"":"--",st=et.indexOf(j+$);return st!==-1&&(rt===-1||st<rt)}}).call(this,s(2))},function(i,o){i.exports=function(s,_){var $="";s=(s=s||"Run the trap, drop the bass").split("");var et={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return s.forEach(function(rt){rt=rt.toLowerCase();var j=et[rt]||[" "],st=Math.floor(Math.random()*j.length);$+=et[rt]!==void 0?et[rt][st]:rt}),$}},function(i,o){i.exports=function(s,_){s=s||"   he is here   ";var $={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},et=[].concat($.up,$.down,$.mid);function rt(st){return Math.floor(Math.random()*st)}function j(st){var lt=!1;return et.filter(function(gt){lt=gt===st}),lt}return function(st,lt){var gt,bt,Ut="";for(bt in(lt=lt||{}).up=lt.up===void 0||lt.up,lt.mid=lt.mid===void 0||lt.mid,lt.down=lt.down===void 0||lt.down,lt.size=lt.size!==void 0?lt.size:"maxi",st=st.split(""))if(!j(bt)){switch(Ut+=st[bt],gt={up:0,down:0,mid:0},lt.size){case"mini":gt.up=rt(8),gt.mid=rt(2),gt.down=rt(8);break;case"maxi":gt.up=rt(16)+3,gt.mid=rt(4)+1,gt.down=rt(64)+3;break;default:gt.up=rt(8)+1,gt.mid=rt(6)/2,gt.down=rt(8)+1}var Ft=["up","mid","down"];for(var yt in Ft)for(var Qt=Ft[yt],wt=0;wt<=gt[Qt];wt++)lt[Qt]&&(Ut+=$[Qt][rt($[Qt].length)])}return Ut}(s,_)}},function(i,o){i.exports=function(s){return function(_,$,et){if(_===" ")return _;switch($%3){case 0:return s.red(_);case 1:return s.white(_);case 2:return s.blue(_)}}}},function(i,o){i.exports=function(s){return function(_,$,et){return $%2==0?_:s.inverse(_)}}},function(i,o){i.exports=function(s){var _=["red","yellow","green","blue","magenta"];return function($,et,rt){return $===" "?$:s[_[et++%_.length]]($)}}},function(i,o){i.exports=function(s){var _=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function($,et,rt){return $===" "?$:s[_[Math.round(Math.random()*(_.length-2))]]($)}}},function(i,o,s){Object.defineProperty(o,"cli",{value:s(119)}),Object.defineProperty(o,"npm",{value:s(120)}),Object.defineProperty(o,"syslog",{value:s(121)})},function(i,o,s){o.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},o.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(i,o,s){o.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},o.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(i,o,s){o.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},o.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(i,o,s){var _=s(12);i.exports=_(function($){return $.message="	".concat($.message),$})},function(i,o,s){function _(bt,Ut){if(!(bt instanceof Ut))throw new TypeError("Cannot call a class as a function")}function $(bt,Ut){for(var Ft=0;Ft<Ut.length;Ft++){var yt=Ut[Ft];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(bt,yt.key,yt)}}var et=s(41).Colorizer,rt=s(60).Padder,j=s(3),st=j.configs,lt=j.MESSAGE,gt=function(){function bt(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,bt),yt.levels||(yt.levels=st.npm.levels),this.colorizer=new et(yt),this.padder=new rt(yt),this.options=yt}var Ut,Ft;return Ut=bt,(Ft=[{key:"transform",value:function(yt,Qt){return this.colorizer.transform(this.padder.transform(yt,Qt),Qt),yt[lt]="".concat(yt.level,":").concat(yt.message),yt}}])&&$(Ut.prototype,Ft),bt}();i.exports=function(bt){return new gt(bt)},i.exports.Format=gt},function(i,o,s){var _=s(12);function $(rt){if(rt.every(et))return function(j){for(var st=j,lt=0;lt<rt.length;lt++)if(!(st=rt[lt].transform(st,rt[lt].options)))return!1;return st}}function et(rt){if(typeof rt.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}i.exports=function(){for(var rt=arguments.length,j=new Array(rt),st=0;st<rt;st++)j[st]=arguments[st];var lt=_($(j)),gt=lt();return gt.Format=lt.Format,gt},i.exports.cascade=$},function(i,o,s){(function(_){var $=s(12),et=s(3).MESSAGE,rt=s(35);function j(st,lt){return lt instanceof _?lt.toString("base64"):typeof lt=="bigint"?lt.toString():lt}i.exports=$(function(st){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return st[et]=(lt.stable?rt.stableStringify:rt)(st,lt.replacer||j,lt.space),st})}).call(this,s(5).Buffer)},function(i,o,s){o.byteLength=function(bt){var Ut=lt(bt),Ft=Ut[0],yt=Ut[1];return 3*(Ft+yt)/4-yt},o.toByteArray=function(bt){for(var Ut,Ft=lt(bt),yt=Ft[0],Qt=Ft[1],wt=new et(function(Nt,St,Ot){return 3*(St+Ot)/4-Ot}(0,yt,Qt)),Tt=0,Jt=Qt>0?yt-4:yt,At=0;At<Jt;At+=4)Ut=$[bt.charCodeAt(At)]<<18|$[bt.charCodeAt(At+1)]<<12|$[bt.charCodeAt(At+2)]<<6|$[bt.charCodeAt(At+3)],wt[Tt++]=Ut>>16&255,wt[Tt++]=Ut>>8&255,wt[Tt++]=255&Ut;return Qt===2&&(Ut=$[bt.charCodeAt(At)]<<2|$[bt.charCodeAt(At+1)]>>4,wt[Tt++]=255&Ut),Qt===1&&(Ut=$[bt.charCodeAt(At)]<<10|$[bt.charCodeAt(At+1)]<<4|$[bt.charCodeAt(At+2)]>>2,wt[Tt++]=Ut>>8&255,wt[Tt++]=255&Ut),wt},o.fromByteArray=function(bt){for(var Ut,Ft=bt.length,yt=Ft%3,Qt=[],wt=0,Tt=Ft-yt;wt<Tt;wt+=16383)Qt.push(gt(bt,wt,wt+16383>Tt?Tt:wt+16383));return yt===1?(Ut=bt[Ft-1],Qt.push(_[Ut>>2]+_[Ut<<4&63]+"==")):yt===2&&(Ut=(bt[Ft-2]<<8)+bt[Ft-1],Qt.push(_[Ut>>10]+_[Ut>>4&63]+_[Ut<<2&63]+"=")),Qt.join("")};for(var _=[],$=[],et=typeof Uint8Array<"u"?Uint8Array:Array,rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,st=rt.length;j<st;++j)_[j]=rt[j],$[rt.charCodeAt(j)]=j;function lt(bt){var Ut=bt.length;if(Ut%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Ft=bt.indexOf("=");return Ft===-1&&(Ft=Ut),[Ft,Ft===Ut?0:4-Ft%4]}function gt(bt,Ut,Ft){for(var yt,Qt,wt=[],Tt=Ut;Tt<Ft;Tt+=3)yt=(bt[Tt]<<16&16711680)+(bt[Tt+1]<<8&65280)+(255&bt[Tt+2]),wt.push(_[(Qt=yt)>>18&63]+_[Qt>>12&63]+_[Qt>>6&63]+_[63&Qt]);return wt.join("")}$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63},function(i,o){o.read=function(s,_,$,et,rt){var j,st,lt=8*rt-et-1,gt=(1<<lt)-1,bt=gt>>1,Ut=-7,Ft=$?rt-1:0,yt=$?-1:1,Qt=s[_+Ft];for(Ft+=yt,j=Qt&(1<<-Ut)-1,Qt>>=-Ut,Ut+=lt;Ut>0;j=256*j+s[_+Ft],Ft+=yt,Ut-=8);for(st=j&(1<<-Ut)-1,j>>=-Ut,Ut+=et;Ut>0;st=256*st+s[_+Ft],Ft+=yt,Ut-=8);if(j===0)j=1-bt;else{if(j===gt)return st?NaN:1/0*(Qt?-1:1);st+=Math.pow(2,et),j-=bt}return(Qt?-1:1)*st*Math.pow(2,j-et)},o.write=function(s,_,$,et,rt,j){var st,lt,gt,bt=8*j-rt-1,Ut=(1<<bt)-1,Ft=Ut>>1,yt=rt===23?Math.pow(2,-24)-Math.pow(2,-77):0,Qt=et?0:j-1,wt=et?1:-1,Tt=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(lt=isNaN(_)?1:0,st=Ut):(st=Math.floor(Math.log(_)/Math.LN2),_*(gt=Math.pow(2,-st))<1&&(st--,gt*=2),(_+=st+Ft>=1?yt/gt:yt*Math.pow(2,1-Ft))*gt>=2&&(st++,gt/=2),st+Ft>=Ut?(lt=0,st=Ut):st+Ft>=1?(lt=(_*gt-1)*Math.pow(2,rt),st+=Ft):(lt=_*Math.pow(2,Ft-1)*Math.pow(2,rt),st=0));rt>=8;s[$+Qt]=255&lt,Qt+=wt,lt/=256,rt-=8);for(st=st<<rt|lt,bt+=rt;bt>0;s[$+Qt]=255&st,Qt+=wt,st/=256,bt-=8);s[$+Qt-wt]|=128*Tt}},function(i,o,s){var _=s(12);i.exports=_(function($,et){return et.message?($.message="[".concat(et.label,"] ").concat($.message),$):($.label=et.label,$)})},function(i,o,s){var _=s(12),$=s(3).MESSAGE,et=s(35);i.exports=_(function(rt){var j={};return rt.message&&(j["@message"]=rt.message,delete rt.message),rt.timestamp&&(j["@timestamp"]=rt.timestamp,delete rt.timestamp),j["@fields"]=rt,rt[$]=et(j),rt})},function(i,o,s){var _=s(12);function $(rt,j,st){var lt,gt,bt,Ut=j.reduce(function(yt,Qt){return yt[Qt]=rt[Qt],delete rt[Qt],yt},{}),Ft=Object.keys(rt).reduce(function(yt,Qt){return yt[Qt]=rt[Qt],delete rt[Qt],yt},{});return Object.assign(rt,Ut,(bt=Ft,(gt=st)in(lt={})?Object.defineProperty(lt,gt,{value:bt,enumerable:!0,configurable:!0,writable:!0}):lt[gt]=bt,lt)),rt}function et(rt,j,st){return rt[st]=j.reduce(function(lt,gt){return lt[gt]=rt[gt],delete rt[gt],lt},{}),rt}i.exports=_(function(rt){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},st="metadata";j.key&&(st=j.key);var lt=[];return j.fillExcept||j.fillWith||(lt.push("level"),lt.push("message")),j.fillExcept&&(lt=j.fillExcept),lt.length>0?$(rt,lt,st):j.fillWith?et(rt,j.fillWith,st):rt})},function(i,o,s){var _=s(13).inspect,$=s(12),et=s(3),rt=et.LEVEL,j=et.MESSAGE,st=et.SPLAT;i.exports=$(function(lt){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bt=Object.assign({},lt);return delete bt[rt],delete bt[j],delete bt[st],lt[j]=_(bt,!1,gt.depth||null,gt.colorize),lt})},function(i,o,s){function _(rt,j){for(var st=0;st<j.length;st++){var lt=j[st];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(rt,lt.key,lt)}}var $=s(3).MESSAGE,et=function(){function rt(lt){(function(gt,bt){if(!(gt instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,rt),this.template=lt}var j,st;return j=rt,(st=[{key:"transform",value:function(lt){return lt[$]=this.template(lt),lt}}])&&_(j.prototype,st),rt}();i.exports=function(rt){return new et(rt)},i.exports.Printf=i.exports.Format=et},function(i,o,s){var _=s(12),$=s(3).MESSAGE,et=s(35);i.exports=_(function(rt){var j=et(Object.assign({},rt,{level:void 0,message:void 0,splat:void 0})),st=rt.padding&&rt.padding[rt.level]||"";return rt[$]=j!=="{}"?"".concat(rt.level,":").concat(st," ").concat(rt.message," ").concat(j):"".concat(rt.level,":").concat(st," ").concat(rt.message),rt})},function(i,o,s){function _(bt){return function(Ut){if(Array.isArray(Ut))return $(Ut)}(bt)||function(Ut){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ut))return Array.from(Ut)}(bt)||function(Ut,Ft){if(Ut){if(typeof Ut=="string")return $(Ut,Ft);var yt=Object.prototype.toString.call(Ut).slice(8,-1);if(yt==="Object"&&Ut.constructor&&(yt=Ut.constructor.name),yt==="Map"||yt==="Set")return Array.from(Ut);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return $(Ut,Ft)}}(bt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(bt,Ut){(Ut==null||Ut>bt.length)&&(Ut=bt.length);for(var Ft=0,yt=new Array(Ut);Ft<Ut;Ft++)yt[Ft]=bt[Ft];return yt}function et(bt,Ut){for(var Ft=0;Ft<Ut.length;Ft++){var yt=Ut[Ft];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(bt,yt.key,yt)}}var rt=s(13),j=s(3).SPLAT,st=/%[scdjifoO%]/g,lt=/%%/g,gt=function(){function bt(yt){(function(Qt,wt){if(!(Qt instanceof wt))throw new TypeError("Cannot call a class as a function")})(this,bt),this.options=yt}var Ut,Ft;return Ut=bt,(Ft=[{key:"_splat",value:function(yt,Qt){var wt=yt.message,Tt=yt[j]||yt.splat||[],Jt=wt.match(lt),At=Jt&&Jt.length||0,Nt=Qt.length-At-Tt.length,St=Nt<0?Tt.splice(Nt,-1*Nt):[],Ot=St.length;if(Ot)for(var nn=0;nn<Ot;nn++)Object.assign(yt,St[nn]);return yt.message=rt.format.apply(rt,[wt].concat(_(Tt))),yt}},{key:"transform",value:function(yt){var Qt=yt.message,wt=yt[j]||yt.splat;if(!wt||!wt.length)return yt;var Tt=Qt&&Qt.match&&Qt.match(st);if(!Tt&&(wt||wt.length)){var Jt=wt.length>1?wt.splice(0):wt,At=Jt.length;if(At)for(var Nt=0;Nt<At;Nt++)Object.assign(yt,Jt[Nt]);return yt}return Tt?this._splat(yt,Tt):yt}}])&&et(Ut.prototype,Ft),bt}();i.exports=function(bt){return new gt(bt)}},function(i,o,s){var _=s(136),$=s(12);i.exports=$(function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return rt.format&&(et.timestamp=typeof rt.format=="function"?rt.format():_.format(new Date,rt.format)),et.timestamp||(et.timestamp=new Date().toISOString()),rt.alias&&(et[rt.alias]=et.timestamp),et})},function(i,o,s){s.r(o),s.d(o,"assign",function(){return st}),s.d(o,"format",function(){return Vt}),s.d(o,"parse",function(){return Yt}),s.d(o,"defaultI18n",function(){return Ut}),s.d(o,"setGlobalDateI18n",function(){return yt}),s.d(o,"setGlobalDateMasks",function(){return Ct});var _=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,$="[^\\s]+",et=/\[([^]*?)\]/gm;function rt(tn,Un){for(var Kt=[],$t=0,hn=tn.length;$t<hn;$t++)Kt.push(tn[$t].substr(0,Un));return Kt}var j=function(tn){return function(Un,Kt){var $t=Kt[tn].map(function(hn){return hn.toLowerCase()}).indexOf(Un.toLowerCase());return $t>-1?$t:null}};function st(tn){for(var Un=[],Kt=1;Kt<arguments.length;Kt++)Un[Kt-1]=arguments[Kt];for(var $t=0,hn=Un;$t<hn.length;$t++){var dn=hn[$t];for(var zt in dn)tn[zt]=dn[zt]}return tn}var lt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],gt=["January","February","March","April","May","June","July","August","September","October","November","December"],bt=rt(gt,3),Ut={dayNamesShort:rt(lt,3),dayNames:lt,monthNamesShort:bt,monthNames:gt,amPm:["am","pm"],DoFn:function(tn){return tn+["th","st","nd","rd"][tn%10>3?0:(tn-tn%10!=10?1:0)*tn%10]}},Ft=st({},Ut),yt=function(tn){return Ft=st(Ft,tn)},Qt=function(tn){return tn.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},wt=function(tn,Un){for(Un===void 0&&(Un=2),tn=String(tn);tn.length<Un;)tn="0"+tn;return tn},Tt={D:function(tn){return String(tn.getDate())},DD:function(tn){return wt(tn.getDate())},Do:function(tn,Un){return Un.DoFn(tn.getDate())},d:function(tn){return String(tn.getDay())},dd:function(tn){return wt(tn.getDay())},ddd:function(tn,Un){return Un.dayNamesShort[tn.getDay()]},dddd:function(tn,Un){return Un.dayNames[tn.getDay()]},M:function(tn){return String(tn.getMonth()+1)},MM:function(tn){return wt(tn.getMonth()+1)},MMM:function(tn,Un){return Un.monthNamesShort[tn.getMonth()]},MMMM:function(tn,Un){return Un.monthNames[tn.getMonth()]},YY:function(tn){return wt(String(tn.getFullYear()),4).substr(2)},YYYY:function(tn){return wt(tn.getFullYear(),4)},h:function(tn){return String(tn.getHours()%12||12)},hh:function(tn){return wt(tn.getHours()%12||12)},H:function(tn){return String(tn.getHours())},HH:function(tn){return wt(tn.getHours())},m:function(tn){return String(tn.getMinutes())},mm:function(tn){return wt(tn.getMinutes())},s:function(tn){return String(tn.getSeconds())},ss:function(tn){return wt(tn.getSeconds())},S:function(tn){return String(Math.round(tn.getMilliseconds()/100))},SS:function(tn){return wt(Math.round(tn.getMilliseconds()/10),2)},SSS:function(tn){return wt(tn.getMilliseconds(),3)},a:function(tn,Un){return tn.getHours()<12?Un.amPm[0]:Un.amPm[1]},A:function(tn,Un){return tn.getHours()<12?Un.amPm[0].toUpperCase():Un.amPm[1].toUpperCase()},ZZ:function(tn){var Un=tn.getTimezoneOffset();return(Un>0?"-":"+")+wt(100*Math.floor(Math.abs(Un)/60)+Math.abs(Un)%60,4)},Z:function(tn){var Un=tn.getTimezoneOffset();return(Un>0?"-":"+")+wt(Math.floor(Math.abs(Un)/60),2)+":"+wt(Math.abs(Un)%60,2)}},Jt=function(tn){return+tn-1},At=[null,"[1-9]\\d?"],Nt=[null,$],St=["isPm",$,function(tn,Un){var Kt=tn.toLowerCase();return Kt===Un.amPm[0]?0:Kt===Un.amPm[1]?1:null}],Ot=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(tn){var Un=(tn+"").match(/([+-]|\d\d)/gi);if(Un){var Kt=60*+Un[1]+parseInt(Un[2],10);return Un[0]==="+"?Kt:-Kt}return 0}],nn={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+$,function(tn){return parseInt(tn,10)}],M:["month","[1-9]\\d?",Jt],MM:["month","\\d\\d",Jt],YY:["year","\\d\\d",function(tn){var Un=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+tn>68?Un-1:Un)+tn)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(tn){return 100*+tn}],SS:["millisecond","\\d\\d",function(tn){return 10*+tn}],SSS:["millisecond","\\d{3}"],d:At,dd:At,ddd:Nt,dddd:Nt,MMM:["month",$,j("monthNamesShort")],MMMM:["month",$,j("monthNames")],a:St,A:St,ZZ:Ot,Z:Ot},yn={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ct=function(tn){return st(yn,tn)},Vt=function(tn,Un,Kt){if(Un===void 0&&(Un=yn.default),Kt===void 0&&(Kt={}),typeof tn=="number"&&(tn=new Date(tn)),Object.prototype.toString.call(tn)!=="[object Date]"||isNaN(tn.getTime()))throw new Error("Invalid Date pass to format");var $t=[];Un=(Un=yn[Un]||Un).replace(et,function(dn,zt){return $t.push(zt),"@@@"});var hn=st(st({},Ft),Kt);return(Un=Un.replace(_,function(dn){return Tt[dn](tn,hn)})).replace(/@@@/g,function(){return $t.shift()})};function Yt(tn,Un,Kt){if(Kt===void 0&&(Kt={}),typeof Un!="string")throw new Error("Invalid format in fecha parse");if(Un=yn[Un]||Un,tn.length>1e3)return null;var $t={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},hn=[],dn=[],zt=Un.replace(et,function(Tn,Xn){return dn.push(Qt(Xn)),"@@@"}),It={},gn={};zt=Qt(zt).replace(_,function(Tn){var Xn=nn[Tn],or=Xn[0],Rr=Xn[1],ao=Xn[3];if(It[or])throw new Error("Invalid format. "+or+" specified twice in format");return It[or]=!0,ao&&(gn[ao]=!0),hn.push(Xn),"("+Rr+")"}),Object.keys(gn).forEach(function(Tn){if(!It[Tn])throw new Error("Invalid format. "+Tn+" is required in specified format")}),zt=zt.replace(/@@@/g,function(){return dn.shift()});var vn=tn.match(new RegExp(zt,"i"));if(!vn)return null;for(var Wn=st(st({},Ft),Kt),Ln=1;Ln<vn.length;Ln++){var jn=hn[Ln-1],xn=jn[0],Rn=jn[2],jt=Rn?Rn(vn[Ln],Wn):+vn[Ln];if(jt==null)return null;$t[xn]=jt}$t.isPm===1&&$t.hour!=null&&+$t.hour!=12?$t.hour=+$t.hour+12:$t.isPm===0&&+$t.hour==12&&($t.hour=0);for(var Ht=new Date($t.year,$t.month,$t.day,$t.hour,$t.minute,$t.second,$t.millisecond),_n=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Dn=(Ln=0,_n.length);Ln<Dn;Ln++)if(It[_n[Ln][0]]&&$t[_n[Ln][0]]!==Ht[_n[Ln][1]]())return null;return $t.timezoneOffset==null?Ht:new Date(Date.UTC($t.year,$t.month,$t.day,$t.hour,$t.minute-$t.timezoneOffset,$t.second,$t.millisecond))}var Pt={format:Vt,parse:Yt,defaultI18n:Ut,setGlobalDateI18n:yt,setGlobalDateMasks:Ct};o.default=Pt},function(i,o,s){var _=s(59),$=s(12),et=s(3).MESSAGE;i.exports=$(function(rt,j){return j.level!==!1&&(rt.level=_.strip(rt.level)),j.message!==!1&&(rt.message=_.strip(rt.message)),j.raw!==!1&&rt[et]&&(rt[et]=_.strip(rt[et])),rt})},function(i){i.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(i,o,s){Object.defineProperty(o,"Console",{configurable:!0,enumerable:!0,get:function(){return s(140)}}),Object.defineProperty(o,"File",{configurable:!0,enumerable:!0,get:function(){return s(149)}}),Object.defineProperty(o,"Http",{configurable:!0,enumerable:!0,get:function(){return s(189)}}),Object.defineProperty(o,"Stream",{configurable:!0,enumerable:!0,get:function(){return s(201)}})},function(i,o,s){(function(_){function $(wt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tt){return typeof Tt}:function(Tt){return Tt&&typeof Symbol=="function"&&Tt.constructor===Symbol&&Tt!==Symbol.prototype?"symbol":typeof Tt})(wt)}function et(wt,Tt){if(!(wt instanceof Tt))throw new TypeError("Cannot call a class as a function")}function rt(wt,Tt){for(var Jt=0;Jt<Tt.length;Jt++){var At=Tt[Jt];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(wt,At.key,At)}}function j(wt,Tt){return(j=Object.setPrototypeOf||function(Jt,At){return Jt.__proto__=At,Jt})(wt,Tt)}function st(wt){var Tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Jt,At=gt(wt);if(Tt){var Nt=gt(this).constructor;Jt=Reflect.construct(At,arguments,Nt)}else Jt=At.apply(this,arguments);return lt(this,Jt)}}function lt(wt,Tt){return!Tt||$(Tt)!=="object"&&typeof Tt!="function"?function(Jt){if(Jt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Jt}(wt):Tt}function gt(wt){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)})(wt)}var bt=s(18),Ut=s(3),Ft=Ut.LEVEL,yt=Ut.MESSAGE,Qt=s(20);i.exports=function(wt){(function(St,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Super expression must either be null or a function");St.prototype=Object.create(Ot&&Ot.prototype,{constructor:{value:St,writable:!0,configurable:!0}}),Ot&&j(St,Ot)})(Nt,wt);var Tt,Jt,At=st(Nt);function Nt(){var St,Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return et(this,Nt),(St=At.call(this,Ot)).name=Ot.name||"console",St.stderrLevels=St._stringArrayToSet(Ot.stderrLevels),St.consoleWarnLevels=St._stringArrayToSet(Ot.consoleWarnLevels),St.eol=Ot.eol||bt.EOL,St.setMaxListeners(30),St}return Tt=Nt,(Jt=[{key:"log",value:function(St,Ot){var nn=this;return _(function(){return nn.emit("logged",St)}),this.stderrLevels[St[Ft]]?(console._stderr?console._stderr.write("".concat(St[yt]).concat(this.eol)):console.error(St[yt]),void(Ot&&Ot())):this.consoleWarnLevels[St[Ft]]?(console._stderr?console._stderr.write("".concat(St[yt]).concat(this.eol)):console.warn(St[yt]),void(Ot&&Ot())):(console._stdout?console._stdout.write("".concat(St[yt]).concat(this.eol)):console.log(St[yt]),void(Ot&&Ot()))}},{key:"_stringArrayToSet",value:function(St,Ot){if(!St)return{};if(Ot=Ot||"Cannot make set from type other than Array of string elements",!Array.isArray(St))throw new Error(Ot);return St.reduce(function(nn,yn){if(typeof yn!="string")throw new Error(Ot);return nn[yn]=!0,nn},{})}}])&&rt(Tt.prototype,Jt),Nt}(Qt)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_,$){(function(et,rt){if(!et.setImmediate){var j,st,lt,gt,bt,Ut=1,Ft={},yt=!1,Qt=et.document,wt=Object.getPrototypeOf&&Object.getPrototypeOf(et);wt=wt&&wt.setTimeout?wt:et,{}.toString.call(et.process)==="[object process]"?j=function(At){$.nextTick(function(){Jt(At)})}:function(){if(et.postMessage&&!et.importScripts){var At=!0,Nt=et.onmessage;return et.onmessage=function(){At=!1},et.postMessage("","*"),et.onmessage=Nt,At}}()?(gt="setImmediate$"+Math.random()+"$",bt=function(At){At.source===et&&typeof At.data=="string"&&At.data.indexOf(gt)===0&&Jt(+At.data.slice(gt.length))},et.addEventListener?et.addEventListener("message",bt,!1):et.attachEvent("onmessage",bt),j=function(At){et.postMessage(gt+At,"*")}):et.MessageChannel?((lt=new MessageChannel).port1.onmessage=function(At){Jt(At.data)},j=function(At){lt.port2.postMessage(At)}):Qt&&"onreadystatechange"in Qt.createElement("script")?(st=Qt.documentElement,j=function(At){var Nt=Qt.createElement("script");Nt.onreadystatechange=function(){Jt(At),Nt.onreadystatechange=null,st.removeChild(Nt),Nt=null},st.appendChild(Nt)}):j=function(At){setTimeout(Jt,0,At)},wt.setImmediate=function(At){typeof At!="function"&&(At=new Function(""+At));for(var Nt=new Array(arguments.length-1),St=0;St<Nt.length;St++)Nt[St]=arguments[St+1];var Ot={callback:At,args:Nt};return Ft[Ut]=Ot,j(Ut),Ut++},wt.clearImmediate=Tt}function Tt(At){delete Ft[At]}function Jt(At){if(yt)setTimeout(Jt,0,At);else{var Nt=Ft[At];if(Nt){yt=!0;try{(function(St){var Ot=St.callback,nn=St.args;switch(nn.length){case 0:Ot();break;case 1:Ot(nn[0]);break;case 2:Ot(nn[0],nn[1]);break;case 3:Ot(nn[0],nn[1],nn[2]);break;default:Ot.apply(void 0,nn)}})(Nt)}finally{Tt(At),yt=!1}}}}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(62)},function(i,o,s){(function(_,$){var et=s(16);i.exports=Nt;var rt,j=s(42);Nt.ReadableState=At,s(21).EventEmitter;var st=function(zt,It){return zt.listeners(It).length},lt=s(63),gt=s(44).Buffer,bt=_.Uint8Array||function(){},Ut=Object.create(s(17));Ut.inherits=s(7);var Ft=s(144),yt=void 0;yt=Ft&&Ft.debuglog?Ft.debuglog("stream"):function(){};var Qt,wt=s(145),Tt=s(64);Ut.inherits(Nt,lt);var Jt=["error","close","destroy","pause","resume"];function At(zt,It){zt=zt||{};var gn=It instanceof(rt=rt||s(36));this.objectMode=!!zt.objectMode,gn&&(this.objectMode=this.objectMode||!!zt.readableObjectMode);var vn=zt.highWaterMark,Wn=zt.readableHighWaterMark,Ln=this.objectMode?16:16384;this.highWaterMark=vn||vn===0?vn:gn&&(Wn||Wn===0)?Wn:Ln,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=zt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,zt.encoding&&(Qt||(Qt=s(22).StringDecoder),this.decoder=new Qt(zt.encoding),this.encoding=zt.encoding)}function Nt(zt){if(rt=rt||s(36),!(this instanceof Nt))return new Nt(zt);this._readableState=new At(zt,this),this.readable=!0,zt&&(typeof zt.read=="function"&&(this._read=zt.read),typeof zt.destroy=="function"&&(this._destroy=zt.destroy)),lt.call(this)}function St(zt,It,gn,vn,Wn){var Ln,jn=zt._readableState;return It===null?(jn.reading=!1,function(xn,Rn){if(!Rn.ended){if(Rn.decoder){var jt=Rn.decoder.end();jt&&jt.length&&(Rn.buffer.push(jt),Rn.length+=Rn.objectMode?1:jt.length)}Rn.ended=!0,yn(xn)}}(zt,jn)):(Wn||(Ln=function(xn,Rn){var jt;Ht=Rn,gt.isBuffer(Ht)||Ht instanceof bt||typeof Rn=="string"||Rn===void 0||xn.objectMode||(jt=new TypeError("Invalid non-string/buffer chunk"));var Ht;return jt}(jn,It)),Ln?zt.emit("error",Ln):jn.objectMode||It&&It.length>0?(typeof It=="string"||jn.objectMode||Object.getPrototypeOf(It)===gt.prototype||(It=function(xn){return gt.from(xn)}(It)),vn?jn.endEmitted?zt.emit("error",new Error("stream.unshift() after end event")):Ot(zt,jn,It,!0):jn.ended?zt.emit("error",new Error("stream.push() after EOF")):(jn.reading=!1,jn.decoder&&!gn?(It=jn.decoder.write(It),jn.objectMode||It.length!==0?Ot(zt,jn,It,!1):Vt(zt,jn)):Ot(zt,jn,It,!1))):vn||(jn.reading=!1)),function(xn){return!xn.ended&&(xn.needReadable||xn.length<xn.highWaterMark||xn.length===0)}(jn)}function Ot(zt,It,gn,vn){It.flowing&&It.length===0&&!It.sync?(zt.emit("data",gn),zt.read(0)):(It.length+=It.objectMode?1:gn.length,vn?It.buffer.unshift(gn):It.buffer.push(gn),It.needReadable&&yn(zt)),Vt(zt,It)}Object.defineProperty(Nt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(zt){this._readableState&&(this._readableState.destroyed=zt)}}),Nt.prototype.destroy=Tt.destroy,Nt.prototype._undestroy=Tt.undestroy,Nt.prototype._destroy=function(zt,It){this.push(null),It(zt)},Nt.prototype.push=function(zt,It){var gn,vn=this._readableState;return vn.objectMode?gn=!0:typeof zt=="string"&&((It=It||vn.defaultEncoding)!==vn.encoding&&(zt=gt.from(zt,It),It=""),gn=!0),St(this,zt,It,!1,gn)},Nt.prototype.unshift=function(zt){return St(this,zt,null,!0,!1)},Nt.prototype.isPaused=function(){return this._readableState.flowing===!1},Nt.prototype.setEncoding=function(zt){return Qt||(Qt=s(22).StringDecoder),this._readableState.decoder=new Qt(zt),this._readableState.encoding=zt,this};function nn(zt,It){return zt<=0||It.length===0&&It.ended?0:It.objectMode?1:zt!=zt?It.flowing&&It.length?It.buffer.head.data.length:It.length:(zt>It.highWaterMark&&(It.highWaterMark=function(gn){return gn>=8388608?gn=8388608:(gn--,gn|=gn>>>1,gn|=gn>>>2,gn|=gn>>>4,gn|=gn>>>8,gn|=gn>>>16,gn++),gn}(zt)),zt<=It.length?zt:It.ended?It.length:(It.needReadable=!0,0))}function yn(zt){var It=zt._readableState;It.needReadable=!1,It.emittedReadable||(yt("emitReadable",It.flowing),It.emittedReadable=!0,It.sync?et.nextTick(Ct,zt):Ct(zt))}function Ct(zt){yt("emit readable"),zt.emit("readable"),Un(zt)}function Vt(zt,It){It.readingMore||(It.readingMore=!0,et.nextTick(Yt,zt,It))}function Yt(zt,It){for(var gn=It.length;!It.reading&&!It.flowing&&!It.ended&&It.length<It.highWaterMark&&(yt("maybeReadMore read 0"),zt.read(0),gn!==It.length);)gn=It.length;It.readingMore=!1}function Pt(zt){yt("readable nexttick read 0"),zt.read(0)}function tn(zt,It){It.reading||(yt("resume read 0"),zt.read(0)),It.resumeScheduled=!1,It.awaitDrain=0,zt.emit("resume"),Un(zt),It.flowing&&!It.reading&&zt.read(0)}function Un(zt){var It=zt._readableState;for(yt("flow",It.flowing);It.flowing&&zt.read()!==null;);}function Kt(zt,It){return It.length===0?null:(It.objectMode?gn=It.buffer.shift():!zt||zt>=It.length?(gn=It.decoder?It.buffer.join(""):It.buffer.length===1?It.buffer.head.data:It.buffer.concat(It.length),It.buffer.clear()):gn=function(vn,Wn,Ln){var jn;return vn<Wn.head.data.length?(jn=Wn.head.data.slice(0,vn),Wn.head.data=Wn.head.data.slice(vn)):jn=vn===Wn.head.data.length?Wn.shift():Ln?function(xn,Rn){var jt=Rn.head,Ht=1,_n=jt.data;for(xn-=_n.length;jt=jt.next;){var Dn=jt.data,Tn=xn>Dn.length?Dn.length:xn;if(Tn===Dn.length?_n+=Dn:_n+=Dn.slice(0,xn),(xn-=Tn)===0){Tn===Dn.length?(++Ht,jt.next?Rn.head=jt.next:Rn.head=Rn.tail=null):(Rn.head=jt,jt.data=Dn.slice(Tn));break}++Ht}return Rn.length-=Ht,_n}(vn,Wn):function(xn,Rn){var jt=gt.allocUnsafe(xn),Ht=Rn.head,_n=1;for(Ht.data.copy(jt),xn-=Ht.data.length;Ht=Ht.next;){var Dn=Ht.data,Tn=xn>Dn.length?Dn.length:xn;if(Dn.copy(jt,jt.length-xn,0,Tn),(xn-=Tn)===0){Tn===Dn.length?(++_n,Ht.next?Rn.head=Ht.next:Rn.head=Rn.tail=null):(Rn.head=Ht,Ht.data=Dn.slice(Tn));break}++_n}return Rn.length-=_n,jt}(vn,Wn),jn}(zt,It.buffer,It.decoder),gn);var gn}function $t(zt){var It=zt._readableState;if(It.length>0)throw new Error('"endReadable()" called on non-empty stream');It.endEmitted||(It.ended=!0,et.nextTick(hn,It,zt))}function hn(zt,It){zt.endEmitted||zt.length!==0||(zt.endEmitted=!0,It.readable=!1,It.emit("end"))}function dn(zt,It){for(var gn=0,vn=zt.length;gn<vn;gn++)if(zt[gn]===It)return gn;return-1}Nt.prototype.read=function(zt){yt("read",zt),zt=parseInt(zt,10);var It=this._readableState,gn=zt;if(zt!==0&&(It.emittedReadable=!1),zt===0&&It.needReadable&&(It.length>=It.highWaterMark||It.ended))return yt("read: emitReadable",It.length,It.ended),It.length===0&&It.ended?$t(this):yn(this),null;if((zt=nn(zt,It))===0&&It.ended)return It.length===0&&$t(this),null;var vn,Wn=It.needReadable;return yt("need readable",Wn),(It.length===0||It.length-zt<It.highWaterMark)&&yt("length less than watermark",Wn=!0),It.ended||It.reading?yt("reading or ended",Wn=!1):Wn&&(yt("do read"),It.reading=!0,It.sync=!0,It.length===0&&(It.needReadable=!0),this._read(It.highWaterMark),It.sync=!1,It.reading||(zt=nn(gn,It))),(vn=zt>0?Kt(zt,It):null)===null?(It.needReadable=!0,zt=0):It.length-=zt,It.length===0&&(It.ended||(It.needReadable=!0),gn!==zt&&It.ended&&$t(this)),vn!==null&&this.emit("data",vn),vn},Nt.prototype._read=function(zt){this.emit("error",new Error("_read() is not implemented"))},Nt.prototype.pipe=function(zt,It){var gn=this,vn=this._readableState;switch(vn.pipesCount){case 0:vn.pipes=zt;break;case 1:vn.pipes=[vn.pipes,zt];break;default:vn.pipes.push(zt)}vn.pipesCount+=1,yt("pipe count=%d opts=%j",vn.pipesCount,It);var Wn=(!It||It.end!==!1)&&zt!==$.stdout&&zt!==$.stderr?jn:Xn;function Ln(or,Rr){yt("onunpipe"),or===gn&&Rr&&Rr.hasUnpiped===!1&&(Rr.hasUnpiped=!0,yt("cleanup"),zt.removeListener("close",Dn),zt.removeListener("finish",Tn),zt.removeListener("drain",xn),zt.removeListener("error",_n),zt.removeListener("unpipe",Ln),gn.removeListener("end",jn),gn.removeListener("end",Xn),gn.removeListener("data",Ht),Rn=!0,!vn.awaitDrain||zt._writableState&&!zt._writableState.needDrain||xn())}function jn(){yt("onend"),zt.end()}vn.endEmitted?et.nextTick(Wn):gn.once("end",Wn),zt.on("unpipe",Ln);var xn=function(or){return function(){var Rr=or._readableState;yt("pipeOnDrain",Rr.awaitDrain),Rr.awaitDrain&&Rr.awaitDrain--,Rr.awaitDrain===0&&st(or,"data")&&(Rr.flowing=!0,Un(or))}}(gn);zt.on("drain",xn);var Rn=!1,jt=!1;function Ht(or){yt("ondata"),jt=!1,zt.write(or)!==!1||jt||((vn.pipesCount===1&&vn.pipes===zt||vn.pipesCount>1&&dn(vn.pipes,zt)!==-1)&&!Rn&&(yt("false write response, pause",gn._readableState.awaitDrain),gn._readableState.awaitDrain++,jt=!0),gn.pause())}function _n(or){yt("onerror",or),Xn(),zt.removeListener("error",_n),st(zt,"error")===0&&zt.emit("error",or)}function Dn(){zt.removeListener("finish",Tn),Xn()}function Tn(){yt("onfinish"),zt.removeListener("close",Dn),Xn()}function Xn(){yt("unpipe"),gn.unpipe(zt)}return gn.on("data",Ht),function(or,Rr,ao){if(typeof or.prependListener=="function")return or.prependListener(Rr,ao);or._events&&or._events[Rr]?j(or._events[Rr])?or._events[Rr].unshift(ao):or._events[Rr]=[ao,or._events[Rr]]:or.on(Rr,ao)}(zt,"error",_n),zt.once("close",Dn),zt.once("finish",Tn),zt.emit("pipe",gn),vn.flowing||(yt("pipe resume"),gn.resume()),zt},Nt.prototype.unpipe=function(zt){var It=this._readableState,gn={hasUnpiped:!1};if(It.pipesCount===0)return this;if(It.pipesCount===1)return zt&&zt!==It.pipes||(zt||(zt=It.pipes),It.pipes=null,It.pipesCount=0,It.flowing=!1,zt&&zt.emit("unpipe",this,gn)),this;if(!zt){var vn=It.pipes,Wn=It.pipesCount;It.pipes=null,It.pipesCount=0,It.flowing=!1;for(var Ln=0;Ln<Wn;Ln++)vn[Ln].emit("unpipe",this,gn);return this}var jn=dn(It.pipes,zt);return jn===-1||(It.pipes.splice(jn,1),It.pipesCount-=1,It.pipesCount===1&&(It.pipes=It.pipes[0]),zt.emit("unpipe",this,gn)),this},Nt.prototype.on=function(zt,It){var gn=lt.prototype.on.call(this,zt,It);if(zt==="data")this._readableState.flowing!==!1&&this.resume();else if(zt==="readable"){var vn=this._readableState;vn.endEmitted||vn.readableListening||(vn.readableListening=vn.needReadable=!0,vn.emittedReadable=!1,vn.reading?vn.length&&yn(this):et.nextTick(Pt,this))}return gn},Nt.prototype.addListener=Nt.prototype.on,Nt.prototype.resume=function(){var zt=this._readableState;return zt.flowing||(yt("resume"),zt.flowing=!0,function(It,gn){gn.resumeScheduled||(gn.resumeScheduled=!0,et.nextTick(tn,It,gn))}(this,zt)),this},Nt.prototype.pause=function(){return yt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(yt("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Nt.prototype.wrap=function(zt){var It=this,gn=this._readableState,vn=!1;for(var Wn in zt.on("end",function(){if(yt("wrapped end"),gn.decoder&&!gn.ended){var jn=gn.decoder.end();jn&&jn.length&&It.push(jn)}It.push(null)}),zt.on("data",function(jn){yt("wrapped data"),gn.decoder&&(jn=gn.decoder.write(jn)),gn.objectMode&&jn==null||(gn.objectMode||jn&&jn.length)&&(It.push(jn)||(vn=!0,zt.pause()))}),zt)this[Wn]===void 0&&typeof zt[Wn]=="function"&&(this[Wn]=function(jn){return function(){return zt[jn].apply(zt,arguments)}}(Wn));for(var Ln=0;Ln<Jt.length;Ln++)zt.on(Jt[Ln],this.emit.bind(this,Jt[Ln]));return this._read=function(jn){yt("wrapped _read",jn),vn&&(vn=!1,zt.resume())},this},Object.defineProperty(Nt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Nt._fromList=Kt}).call(this,s(6),s(2))},function(i,o){},function(i,o,s){var _=s(44).Buffer,$=s(146);i.exports=function(){function et(){(function(rt,j){if(!(rt instanceof j))throw new TypeError("Cannot call a class as a function")})(this,et),this.head=null,this.tail=null,this.length=0}return et.prototype.push=function(rt){var j={data:rt,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},et.prototype.unshift=function(rt){var j={data:rt,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},et.prototype.shift=function(){if(this.length!==0){var rt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,rt}},et.prototype.clear=function(){this.head=this.tail=null,this.length=0},et.prototype.join=function(rt){if(this.length===0)return"";for(var j=this.head,st=""+j.data;j=j.next;)st+=rt+j.data;return st},et.prototype.concat=function(rt){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,st,lt,gt=_.allocUnsafe(rt>>>0),bt=this.head,Ut=0;bt;)j=bt.data,st=gt,lt=Ut,j.copy(st,lt),Ut+=bt.data.length,bt=bt.next;return gt},et}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var et=$.inspect({length:this.length});return this.constructor.name+" "+et})},function(i,o){},function(i,o,s){var _=s(5),$=_.Buffer;function et(j,st){for(var lt in j)st[lt]=j[lt]}function rt(j,st,lt){return $(j,st,lt)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(et(_,o),o.Buffer=rt),et($,rt),rt.from=function(j,st,lt){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,st,lt)},rt.alloc=function(j,st,lt){if(typeof j!="number")throw new TypeError("Argument must be a number");var gt=$(j);return st!==void 0?typeof lt=="string"?gt.fill(st,lt):gt.fill(st):gt.fill(0),gt},rt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},rt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){var _=s(13),$=s(3).LEVEL,et=s(20),rt=i.exports=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(et.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function st(lt){this.emit("error",lt,this.transport)}this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=st.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(rt,et),rt.prototype._write=function(j,st,lt){if(this.silent||j.exception===!0&&!this.handleExceptions)return lt(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),lt(null)},rt.prototype._writev=function(j,st){for(var lt=0;lt<j.length;lt++)this._accept(j[lt])&&(this.transport.log(j[lt].chunk[$],j[lt].chunk.message,j[lt].chunk,this._nop),j[lt].callback());return st(null)},rt.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},rt.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){(function(_,$){function et(Ct){return(et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Vt){return typeof Vt}:function(Vt){return Vt&&typeof Symbol=="function"&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt})(Ct)}function rt(Ct,Vt){if(!(Ct instanceof Vt))throw new TypeError("Cannot call a class as a function")}function j(Ct,Vt){for(var Yt=0;Yt<Vt.length;Yt++){var Pt=Vt[Yt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(Ct,Pt.key,Pt)}}function st(Ct,Vt){return(st=Object.setPrototypeOf||function(Yt,Pt){return Yt.__proto__=Pt,Yt})(Ct,Vt)}function lt(Ct){var Vt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Yt,Pt=Ut(Ct);if(Vt){var tn=Ut(this).constructor;Yt=Reflect.construct(Pt,arguments,tn)}else Yt=Pt.apply(this,arguments);return gt(this,Yt)}}function gt(Ct,Vt){return!Vt||et(Vt)!=="object"&&typeof Vt!="function"?bt(Ct):Vt}function bt(Ct){if(Ct===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ct}function Ut(Ct){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(Vt){return Vt.__proto__||Object.getPrototypeOf(Vt)})(Ct)}var Ft=s(65),yt=s(56),Qt=s(150),wt=s(160),Tt=s(3).MESSAGE,Jt=s(32),At=Jt.Stream,Nt=Jt.PassThrough,St=s(20),Ot=s(38)("winston:file"),nn=s(18),yn=s(188);i.exports=function(Ct){(function(Un,Kt){if(typeof Kt!="function"&&Kt!==null)throw new TypeError("Super expression must either be null or a function");Un.prototype=Object.create(Kt&&Kt.prototype,{constructor:{value:Un,writable:!0,configurable:!0}}),Kt&&st(Un,Kt)})(tn,Ct);var Vt,Yt,Pt=lt(tn);function tn(){var Un,Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function $t(hn){for(var dn=arguments.length,zt=new Array(dn>1?dn-1:0),It=1;It<dn;It++)zt[It-1]=arguments[It];zt.slice(1).forEach(function(gn){if(Kt[gn])throw new Error("Cannot set ".concat(gn," and ").concat(hn," together"))})}if(rt(this,tn),(Un=Pt.call(this,Kt)).name=Kt.name||"file",Un._stream=new Nt,Un._stream.setMaxListeners(30),Un._onError=Un._onError.bind(bt(Un)),Kt.filename||Kt.dirname)$t("filename or dirname","stream"),Un._basename=Un.filename=Kt.filename?yt.basename(Kt.filename):"winston.log",Un.dirname=Kt.dirname||yt.dirname(Kt.filename),Un.options=Kt.options||{flags:"a"};else{if(!Kt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),$t("stream","filename","maxsize"),Un._dest=Un._stream.pipe(Un._setupStream(Kt.stream)),Un.dirname=yt.dirname(Un._dest.path)}return Un.maxsize=Kt.maxsize||null,Un.rotationFormat=Kt.rotationFormat||!1,Un.zippedArchive=Kt.zippedArchive||!1,Un.maxFiles=Kt.maxFiles||null,Un.eol=Kt.eol||nn.EOL,Un.tailable=Kt.tailable||!1,Un._size=0,Un._pendingSize=0,Un._created=0,Un._drain=!1,Un._opening=!1,Un._ending=!1,Un.dirname&&Un._createLogDirIfNotExist(Un.dirname),Un.open(),Un}return Vt=tn,(Yt=[{key:"finishIfEnding",value:function(){var Un=this;this._ending&&(this._opening?this.once("open",function(){Un._stream.once("finish",function(){return Un.emit("finish")}),_(function(){return Un._stream.end()})}):(this._stream.once("finish",function(){return Un.emit("finish")}),_(function(){return Un._stream.end()})))}},{key:"log",value:function(Un){var Kt=this,$t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return $t(),!0;if(this._drain)this._stream.once("drain",function(){Kt._drain=!1,Kt.log(Un,$t)});else{if(!this._rotate){var hn="".concat(Un[Tt]).concat(this.eol),dn=$.byteLength(hn);this._pendingSize+=dn,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var zt=this._stream.write(hn,It.bind(this));return zt?$t():(this._drain=!0,this._stream.once("drain",function(){Kt._drain=!1,$t()})),Ot("written",zt,this._drain),this.finishIfEnding(),zt}this._stream.once("rotate",function(){Kt._rotate=!1,Kt.log(Un,$t)})}function It(){var gn=this;this._size+=dn,this._pendingSize-=dn,Ot("logged %s %s",this._size,hn),this.emit("logged",Un),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return gn._rotateFile()}))}}},{key:"query",value:function(Un,Kt){typeof Un=="function"&&(Kt=Un,Un={}),Un=function(vn){return(vn=vn||{}).rows=vn.rows||vn.limit||10,vn.start=vn.start||0,vn.until=vn.until||new Date,et(vn.until)!=="object"&&(vn.until=new Date(vn.until)),vn.from=vn.from||vn.until-864e5,et(vn.from)!=="object"&&(vn.from=new Date(vn.from)),vn.order=vn.order||"desc",vn}(Un);var $t=yt.join(this.dirname,this.filename),hn="",dn=[],zt=0,It=Ft.createReadStream($t,{encoding:"utf8"});function gn(vn,Wn){try{var Ln=JSON.parse(vn);(function(jn){if(jn&&et(jn)==="object"){var xn=new Date(jn.timestamp);if(!(Un.from&&xn<Un.from||Un.until&&xn>Un.until||Un.level&&Un.level!==jn.level))return!0}})(Ln)&&function(jn){Un.rows&&dn.length>=Un.rows&&Un.order!=="desc"?It.readable&&It.destroy():(Un.fields&&(jn=Un.fields.reduce(function(xn,Rn){return xn[Rn]=jn[Rn],xn},{})),Un.order==="desc"&&dn.length>=Un.rows&&dn.shift(),dn.push(jn))}(Ln)}catch(jn){Wn||It.emit("error",jn)}}It.on("error",function(vn){if(It.readable&&It.destroy(),Kt)return vn.code!=="ENOENT"?Kt(vn):Kt(null,dn)}),It.on("data",function(vn){for(var Wn=(vn=(hn+vn).split(/\n+/)).length-1,Ln=0;Ln<Wn;Ln++)(!Un.start||zt>=Un.start)&&gn(vn[Ln]),zt++;hn=vn[Wn]}),It.on("close",function(){hn&&gn(hn,!0),Un.order==="desc"&&(dn=dn.reverse()),Kt&&Kt(null,dn)})}},{key:"stream",value:function(){var Un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Kt=yt.join(this.dirname,this.filename),$t=new At,hn={file:Kt,start:Un.start};return $t.destroy=yn(hn,function(dn,zt){if(dn)return $t.emit("error",dn);try{$t.emit("data",zt),zt=JSON.parse(zt),$t.emit("log",zt)}catch(It){$t.emit("error",It)}}),$t}},{key:"open",value:function(){var Un=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Kt,$t){if(Kt)return Un.emit("error",Kt);Ot("stat done: %s { size: %s }",Un.filename,$t),Un._size=$t,Un._dest=Un._createStream(Un._stream),Un._opening=!1,Un.once("open",function(){Un._stream.eventNames().includes("rotate")?Un._stream.emit("rotate"):Un._rotate=!1})})))}},{key:"stat",value:function(Un){var Kt=this,$t=this._getFile(),hn=yt.join(this.dirname,$t);Ft.stat(hn,function(dn,zt){return dn&&dn.code==="ENOENT"?(Ot("ENOENTok",hn),Kt.filename=$t,Un(null,0)):dn?(Ot("err ".concat(dn.code," ").concat(hn)),Un(dn)):!zt||Kt._needsNewFile(zt.size)?Kt._incFile(function(){return Kt.stat(Un)}):(Kt.filename=$t,void Un(null,zt.size))})}},{key:"close",value:function(Un){var Kt=this;this._stream&&this._stream.end(function(){Un&&Un(),Kt.emit("flush"),Kt.emit("closed")})}},{key:"_needsNewFile",value:function(Un){return Un=Un||this._size,this.maxsize&&Un>=this.maxsize}},{key:"_onError",value:function(Un){this.emit("error",Un)}},{key:"_setupStream",value:function(Un){return Un.on("error",this._onError),Un}},{key:"_cleanupStream",value:function(Un){return Un.removeListener("error",this._onError),Un}},{key:"_rotateFile",value:function(){var Un=this;this._incFile(function(){return Un.open()})}},{key:"_endStream",value:function(){var Un=this,Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){Un._cleanupStream(Un._dest),Kt()})):Kt()}},{key:"_createStream",value:function(Un){var Kt=this,$t=yt.join(this.dirname,this.filename);Ot("create stream start",$t,this.options);var hn=Ft.createWriteStream($t,this.options).on("error",function(zt){return Ot(zt)}).on("close",function(){return Ot("close",hn.path,hn.bytesWritten)}).on("open",function(){Ot("file open ok",$t),Kt.emit("open",$t),Un.pipe(hn),Kt.rotatedWhileOpening&&(Kt._stream=new Nt,Kt._stream.setMaxListeners(30),Kt._rotateFile(),Kt.rotatedWhileOpening=!1,Kt._cleanupStream(hn),Un.end())});if(Ot("create stream ok",$t),this.zippedArchive){var dn=wt.createGzip();return dn.pipe(hn),dn}return hn}},{key:"_incFile",value:function(Un){Ot("_incFile",this.filename);var Kt=yt.extname(this._basename),$t=yt.basename(this._basename,Kt);this.tailable?this._checkMaxFilesTailable(Kt,$t,Un):(this._created+=1,this._checkMaxFilesIncrementing(Kt,$t,Un))}},{key:"_getFile",value:function(){var Un=yt.extname(this._basename),Kt=yt.basename(this._basename,Un),$t=this.rotationFormat?this.rotationFormat():this._created,hn=!this.tailable&&this._created?"".concat(Kt).concat($t).concat(Un):"".concat(Kt).concat(Un);return this.zippedArchive&&!this.tailable?"".concat(hn,".gz"):hn}},{key:"_checkMaxFilesIncrementing",value:function(Un,Kt,$t){if(!this.maxFiles||this._created<this.maxFiles)return _($t);var hn=this._created-this.maxFiles,dn=hn!==0?hn:"",zt=this.zippedArchive?".gz":"",It="".concat(Kt).concat(dn).concat(Un).concat(zt),gn=yt.join(this.dirname,It);Ft.unlink(gn,$t)}},{key:"_checkMaxFilesTailable",value:function(Un,Kt,$t){var hn=this,dn=[];if(this.maxFiles){for(var zt=this.zippedArchive?".gz":"",It=this.maxFiles-1;It>1;It--)dn.push(function(gn,vn){var Wn=this,Ln="".concat(Kt).concat(gn-1).concat(Un).concat(zt),jn=yt.join(this.dirname,Ln);Ft.exists(jn,function(xn){if(!xn)return vn(null);Ln="".concat(Kt).concat(gn).concat(Un).concat(zt),Ft.rename(jn,yt.join(Wn.dirname,Ln),vn)})}.bind(this,It));Qt(dn,function(){Ft.rename(yt.join(hn.dirname,"".concat(Kt).concat(Un)),yt.join(hn.dirname,"".concat(Kt,"1").concat(Un).concat(zt)),$t)})}}},{key:"_createLogDirIfNotExist",value:function(Un){Ft.existsSync(Un)||Ft.mkdirSync(Un,{recursive:!0})}}])&&j(Vt.prototype,Yt),tn}(St)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(rt,j){return(0,_.default)($.default,rt,j)};var _=et(s(151)),$=et(s(155));function et(rt){return rt&&rt.__esModule?rt:{default:rt}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=rt(s(45)),$=rt(s(25)),et=rt(s(30));function rt(j){return j&&j.__esModule?j:{default:j}}o.default=(0,et.default)((j,st,lt)=>{var gt=(0,_.default)(st)?[]:{};j(st,(bt,Ut,Ft)=>{(0,$.default)(bt)((yt,...Qt)=>{Qt.length<2&&([Qt]=Qt),gt[Ut]=Qt,Ft(yt)})},bt=>lt(bt,gt))},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(lt){return(0,et.isAsync)(lt)?function(...gt){const bt=gt.pop();return j(lt.apply(this,gt),bt)}:(0,_.default)(function(gt,bt){var Ut;try{Ut=lt.apply(this,gt)}catch(Ft){return bt(Ft)}if(Ut&&typeof Ut.then=="function")return j(Ut,bt);bt(null,Ut)})};var _=rt(s(153)),$=rt(s(154)),et=s(25);function rt(lt){return lt&&lt.__esModule?lt:{default:lt}}function j(lt,gt){return lt.then(bt=>{st(gt,null,bt)},bt=>{st(gt,bt&&bt.message?bt:new Error(bt))})}function st(lt,gt,bt){try{lt(gt,bt)}catch(Ut){(0,$.default)(Ft=>{throw Ft},Ut)}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){var et=$.pop();return _.call(this,$,et)}},i.exports=o.default},function(i,o,s){(function(_,$){Object.defineProperty(o,"__esModule",{value:!0}),o.fallback=lt,o.wrap=gt;var et,rt=o.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,j=o.hasSetImmediate=typeof _=="function"&&_,st=o.hasNextTick=typeof $=="object"&&typeof $.nextTick=="function";function lt(bt){setTimeout(bt,0)}function gt(bt){return(Ut,...Ft)=>bt(()=>Ut(...Ft))}et=rt?queueMicrotask:j?_:st?$.nextTick:lt,o.default=gt(et)}).call(this,s(15).setImmediate,s(2))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=et(s(66)),$=et(s(30));function et(rt){return rt&&rt.__esModule?rt:{default:rt}}o.default=(0,$.default)(function(rt,j,st){return(0,_.default)(rt,1,j,st)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=lt(s(67)),$=lt(s(157)),et=lt(s(68)),rt=s(25),j=lt(s(159)),st=lt(s(46));function lt(gt){return gt&&gt.__esModule?gt:{default:gt}}o.default=gt=>(bt,Ut,Ft)=>{if(Ft=(0,_.default)(Ft),gt<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!bt)return Ft(null);if((0,rt.isAsyncGenerator)(bt))return(0,j.default)(bt,gt,Ut,Ft);if((0,rt.isAsyncIterable)(bt))return(0,j.default)(bt[Symbol.asyncIterator](),gt,Ut,Ft);var yt=(0,$.default)(bt),Qt=!1,wt=!1,Tt=0,Jt=!1;function At(St,Ot){if(!wt)if(Tt-=1,St)Qt=!0,Ft(St);else if(St===!1)Qt=!0,wt=!0;else{if(Ot===st.default||Qt&&Tt<=0)return Qt=!0,Ft(null);Jt||Nt()}}function Nt(){for(Jt=!0;Tt<gt&&!Qt;){var St=yt();if(St===null)return Qt=!0,void(Tt<=0&&Ft(null));Tt+=1,Ut(St.value,St.key,(0,et.default)(At))}Jt=!1}Nt()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(rt){if((0,_.default)(rt))return function(Ut){var Ft=-1,yt=Ut.length;return function(){return++Ft<yt?{value:Ut[Ft],key:Ft}:null}}(rt);var j=(0,$.default)(rt);return j?function(Ut){var Ft=-1;return function(){var yt=Ut.next();return yt.done?null:(Ft++,{value:yt.value,key:Ft})}}(j):(st=rt,lt=st?Object.keys(st):[],gt=-1,bt=lt.length,function Ut(){var Ft=lt[++gt];return Ft==="__proto__"?Ut():gt<bt?{value:st[Ft],key:Ft}:null});var st,lt,gt,bt};var _=et(s(45)),$=et(s(158));function et(rt){return rt&&rt.__esModule?rt:{default:rt}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _[Symbol.iterator]&&_[Symbol.iterator]()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(rt,j,st,lt){let gt=!1,bt=!1,Ut=!1,Ft=0,yt=0;function Qt(){Ft>=j||Ut||gt||(Ut=!0,rt.next().then(({value:Jt,done:At})=>{if(!bt&&!gt){if(Ut=!1,At)return gt=!0,void(Ft<=0&&lt(null));Ft++,st(Jt,yt,wt),yt++,Qt()}}).catch(Tt))}function wt(Jt,At){if(Ft-=1,!bt)return Jt?Tt(Jt):Jt===!1?(gt=!0,void(bt=!0)):At===et.default||gt&&Ft<=0?(gt=!0,lt(null)):void Qt()}function Tt(Jt){bt||(Ut=!1,gt=!0,lt(Jt))}Qt()};var _,$=s(46),et=(_=$)&&_.__esModule?_:{default:_};i.exports=o.default},function(i,o,s){(function(_){var $=s(5).Buffer,et=s(161).Transform,rt=s(169),j=s(13),st=s(74).ok,lt=s(5).kMaxLength,gt="Cannot create final Buffer. It would be larger than 0x"+lt.toString(16)+" bytes";rt.Z_MIN_WINDOWBITS=8,rt.Z_MAX_WINDOWBITS=15,rt.Z_DEFAULT_WINDOWBITS=15,rt.Z_MIN_CHUNK=64,rt.Z_MAX_CHUNK=1/0,rt.Z_DEFAULT_CHUNK=16384,rt.Z_MIN_MEMLEVEL=1,rt.Z_MAX_MEMLEVEL=9,rt.Z_DEFAULT_MEMLEVEL=8,rt.Z_MIN_LEVEL=-1,rt.Z_MAX_LEVEL=9,rt.Z_DEFAULT_LEVEL=rt.Z_DEFAULT_COMPRESSION;for(var bt=Object.keys(rt),Ut=0;Ut<bt.length;Ut++){var Ft=bt[Ut];Ft.match(/^Z/)&&Object.defineProperty(o,Ft,{enumerable:!0,value:rt[Ft],writable:!1})}for(var yt={Z_OK:rt.Z_OK,Z_STREAM_END:rt.Z_STREAM_END,Z_NEED_DICT:rt.Z_NEED_DICT,Z_ERRNO:rt.Z_ERRNO,Z_STREAM_ERROR:rt.Z_STREAM_ERROR,Z_DATA_ERROR:rt.Z_DATA_ERROR,Z_MEM_ERROR:rt.Z_MEM_ERROR,Z_BUF_ERROR:rt.Z_BUF_ERROR,Z_VERSION_ERROR:rt.Z_VERSION_ERROR},Qt=Object.keys(yt),wt=0;wt<Qt.length;wt++){var Tt=Qt[wt];yt[yt[Tt]]=Tt}function Jt(Kt,$t,hn){var dn=[],zt=0;function It(){for(var vn;(vn=Kt.read())!==null;)dn.push(vn),zt+=vn.length;Kt.once("readable",It)}function gn(){var vn,Wn=null;zt>=lt?Wn=new RangeError(gt):vn=$.concat(dn,zt),dn=[],Kt.close(),hn(Wn,vn)}Kt.on("error",function(vn){Kt.removeListener("end",gn),Kt.removeListener("readable",It),hn(vn)}),Kt.on("end",gn),Kt.end($t),It()}function At(Kt,$t){if(typeof $t=="string"&&($t=$.from($t)),!$.isBuffer($t))throw new TypeError("Not a string or buffer");var hn=Kt._finishFlushFlag;return Kt._processChunk($t,hn)}function Nt(Kt){if(!(this instanceof Nt))return new Nt(Kt);Pt.call(this,Kt,rt.DEFLATE)}function St(Kt){if(!(this instanceof St))return new St(Kt);Pt.call(this,Kt,rt.INFLATE)}function Ot(Kt){if(!(this instanceof Ot))return new Ot(Kt);Pt.call(this,Kt,rt.GZIP)}function nn(Kt){if(!(this instanceof nn))return new nn(Kt);Pt.call(this,Kt,rt.GUNZIP)}function yn(Kt){if(!(this instanceof yn))return new yn(Kt);Pt.call(this,Kt,rt.DEFLATERAW)}function Ct(Kt){if(!(this instanceof Ct))return new Ct(Kt);Pt.call(this,Kt,rt.INFLATERAW)}function Vt(Kt){if(!(this instanceof Vt))return new Vt(Kt);Pt.call(this,Kt,rt.UNZIP)}function Yt(Kt){return Kt===rt.Z_NO_FLUSH||Kt===rt.Z_PARTIAL_FLUSH||Kt===rt.Z_SYNC_FLUSH||Kt===rt.Z_FULL_FLUSH||Kt===rt.Z_FINISH||Kt===rt.Z_BLOCK}function Pt(Kt,$t){var hn=this;if(this._opts=Kt=Kt||{},this._chunkSize=Kt.chunkSize||o.Z_DEFAULT_CHUNK,et.call(this,Kt),Kt.flush&&!Yt(Kt.flush))throw new Error("Invalid flush flag: "+Kt.flush);if(Kt.finishFlush&&!Yt(Kt.finishFlush))throw new Error("Invalid flush flag: "+Kt.finishFlush);if(this._flushFlag=Kt.flush||rt.Z_NO_FLUSH,this._finishFlushFlag=Kt.finishFlush!==void 0?Kt.finishFlush:rt.Z_FINISH,Kt.chunkSize&&(Kt.chunkSize<o.Z_MIN_CHUNK||Kt.chunkSize>o.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Kt.chunkSize);if(Kt.windowBits&&(Kt.windowBits<o.Z_MIN_WINDOWBITS||Kt.windowBits>o.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Kt.windowBits);if(Kt.level&&(Kt.level<o.Z_MIN_LEVEL||Kt.level>o.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Kt.level);if(Kt.memLevel&&(Kt.memLevel<o.Z_MIN_MEMLEVEL||Kt.memLevel>o.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Kt.memLevel);if(Kt.strategy&&Kt.strategy!=o.Z_FILTERED&&Kt.strategy!=o.Z_HUFFMAN_ONLY&&Kt.strategy!=o.Z_RLE&&Kt.strategy!=o.Z_FIXED&&Kt.strategy!=o.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Kt.strategy);if(Kt.dictionary&&!$.isBuffer(Kt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new rt.Zlib($t);var dn=this;this._hadError=!1,this._handle.onerror=function(gn,vn){tn(dn),dn._hadError=!0;var Wn=new Error(gn);Wn.errno=vn,Wn.code=o.codes[vn],dn.emit("error",Wn)};var zt=o.Z_DEFAULT_COMPRESSION;typeof Kt.level=="number"&&(zt=Kt.level);var It=o.Z_DEFAULT_STRATEGY;typeof Kt.strategy=="number"&&(It=Kt.strategy),this._handle.init(Kt.windowBits||o.Z_DEFAULT_WINDOWBITS,zt,Kt.memLevel||o.Z_DEFAULT_MEMLEVEL,It,Kt.dictionary),this._buffer=$.allocUnsafe(this._chunkSize),this._offset=0,this._level=zt,this._strategy=It,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!hn._handle},configurable:!0,enumerable:!0})}function tn(Kt,$t){$t&&_.nextTick($t),Kt._handle&&(Kt._handle.close(),Kt._handle=null)}function Un(Kt){Kt.emit("close")}Object.defineProperty(o,"codes",{enumerable:!0,value:Object.freeze(yt),writable:!1}),o.Deflate=Nt,o.Inflate=St,o.Gzip=Ot,o.Gunzip=nn,o.DeflateRaw=yn,o.InflateRaw=Ct,o.Unzip=Vt,o.createDeflate=function(Kt){return new Nt(Kt)},o.createInflate=function(Kt){return new St(Kt)},o.createDeflateRaw=function(Kt){return new yn(Kt)},o.createInflateRaw=function(Kt){return new Ct(Kt)},o.createGzip=function(Kt){return new Ot(Kt)},o.createGunzip=function(Kt){return new nn(Kt)},o.createUnzip=function(Kt){return new Vt(Kt)},o.deflate=function(Kt,$t,hn){return typeof $t=="function"&&(hn=$t,$t={}),Jt(new Nt($t),Kt,hn)},o.deflateSync=function(Kt,$t){return At(new Nt($t),Kt)},o.gzip=function(Kt,$t,hn){return typeof $t=="function"&&(hn=$t,$t={}),Jt(new Ot($t),Kt,hn)},o.gzipSync=function(Kt,$t){return At(new Ot($t),Kt)},o.deflateRaw=function(Kt,$t,hn){return typeof $t=="function"&&(hn=$t,$t={}),Jt(new yn($t),Kt,hn)},o.deflateRawSync=function(Kt,$t){return At(new yn($t),Kt)},o.unzip=function(Kt,$t,hn){return typeof $t=="function"&&(hn=$t,$t={}),Jt(new Vt($t),Kt,hn)},o.unzipSync=function(Kt,$t){return At(new Vt($t),Kt)},o.inflate=function(Kt,$t,hn){return typeof $t=="function"&&(hn=$t,$t={}),Jt(new St($t),Kt,hn)},o.inflateSync=function(Kt,$t){return At(new St($t),Kt)},o.gunzip=function(Kt,$t,hn){return typeof $t=="function"&&(hn=$t,$t={}),Jt(new nn($t),Kt,hn)},o.gunzipSync=function(Kt,$t){return At(new nn($t),Kt)},o.inflateRaw=function(Kt,$t,hn){return typeof $t=="function"&&(hn=$t,$t={}),Jt(new Ct($t),Kt,hn)},o.inflateRawSync=function(Kt,$t){return At(new Ct($t),Kt)},j.inherits(Pt,et),Pt.prototype.params=function(Kt,$t,hn){if(Kt<o.Z_MIN_LEVEL||Kt>o.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Kt);if($t!=o.Z_FILTERED&&$t!=o.Z_HUFFMAN_ONLY&&$t!=o.Z_RLE&&$t!=o.Z_FIXED&&$t!=o.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+$t);if(this._level!==Kt||this._strategy!==$t){var dn=this;this.flush(rt.Z_SYNC_FLUSH,function(){st(dn._handle,"zlib binding closed"),dn._handle.params(Kt,$t),dn._hadError||(dn._level=Kt,dn._strategy=$t,hn&&hn())})}else _.nextTick(hn)},Pt.prototype.reset=function(){return st(this._handle,"zlib binding closed"),this._handle.reset()},Pt.prototype._flush=function(Kt){this._transform($.alloc(0),"",Kt)},Pt.prototype.flush=function(Kt,$t){var hn=this,dn=this._writableState;(typeof Kt=="function"||Kt===void 0&&!$t)&&($t=Kt,Kt=rt.Z_FULL_FLUSH),dn.ended?$t&&_.nextTick($t):dn.ending?$t&&this.once("end",$t):dn.needDrain?$t&&this.once("drain",function(){return hn.flush(Kt,$t)}):(this._flushFlag=Kt,this.write($.alloc(0),"",$t))},Pt.prototype.close=function(Kt){tn(this,Kt),_.nextTick(Un,this)},Pt.prototype._transform=function(Kt,$t,hn){var dn,zt=this._writableState,It=(zt.ending||zt.ended)&&(!Kt||zt.length===Kt.length);return Kt===null||$.isBuffer(Kt)?this._handle?(It?dn=this._finishFlushFlag:(dn=this._flushFlag,Kt.length>=zt.length&&(this._flushFlag=this._opts.flush||rt.Z_NO_FLUSH)),void this._processChunk(Kt,dn,hn)):hn(new Error("zlib binding closed")):hn(new Error("invalid input"))},Pt.prototype._processChunk=function(Kt,$t,hn){var dn=Kt&&Kt.length,zt=this._chunkSize-this._offset,It=0,gn=this,vn=typeof hn=="function";if(!vn){var Wn,Ln=[],jn=0;this.on("error",function(_n){Wn=_n}),st(this._handle,"zlib binding closed");do var xn=this._handle.writeSync($t,Kt,It,dn,this._buffer,this._offset,zt);while(!this._hadError&&Ht(xn[0],xn[1]));if(this._hadError)throw Wn;if(jn>=lt)throw tn(this),new RangeError(gt);var Rn=$.concat(Ln,jn);return tn(this),Rn}st(this._handle,"zlib binding closed");var jt=this._handle.write($t,Kt,It,dn,this._buffer,this._offset,zt);function Ht(_n,Dn){if(this&&(this.buffer=null,this.callback=null),!gn._hadError){var Tn=zt-Dn;if(st(Tn>=0,"have should not go down"),Tn>0){var Xn=gn._buffer.slice(gn._offset,gn._offset+Tn);gn._offset+=Tn,vn?gn.push(Xn):(Ln.push(Xn),jn+=Xn.length)}if((Dn===0||gn._offset>=gn._chunkSize)&&(zt=gn._chunkSize,gn._offset=0,gn._buffer=$.allocUnsafe(gn._chunkSize)),Dn===0){if(It+=dn-_n,dn=_n,!vn)return!0;var or=gn._handle.write($t,Kt,It,dn,gn._buffer,gn._offset,gn._chunkSize);return or.callback=Ht,void(or.buffer=Kt)}if(!vn)return!1;hn()}}jt.buffer=Kt,jt.callback=Ht},j.inherits(Nt,Pt),j.inherits(St,Pt),j.inherits(Ot,Pt),j.inherits(nn,Pt),j.inherits(yn,Pt),j.inherits(Ct,Pt),j.inherits(Vt,Pt)}).call(this,s(2))},function(i,o,s){i.exports=$;var _=s(21).EventEmitter;function $(){_.call(this)}s(7)($,_),$.Readable=s(31),$.Writable=s(73),$.Duplex=s(166),$.Transform=s(167),$.PassThrough=s(168),$.Stream=$,$.prototype.pipe=function(et,rt){var j=this;function st(Qt){et.writable&&et.write(Qt)===!1&&j.pause&&j.pause()}function lt(){j.readable&&j.resume&&j.resume()}j.on("data",st),et.on("drain",lt),et._isStdio||rt&&rt.end===!1||(j.on("end",bt),j.on("close",Ut));var gt=!1;function bt(){gt||(gt=!0,et.end())}function Ut(){gt||(gt=!0,typeof et.destroy=="function"&&et.destroy())}function Ft(Qt){if(yt(),_.listenerCount(this,"error")===0)throw Qt}function yt(){j.removeListener("data",st),et.removeListener("drain",lt),j.removeListener("end",bt),j.removeListener("close",Ut),j.removeListener("error",Ft),et.removeListener("error",Ft),j.removeListener("end",yt),j.removeListener("close",yt),et.removeListener("close",yt)}return j.on("error",Ft),et.on("error",Ft),j.on("end",yt),j.on("close",yt),et.on("close",yt),et.emit("pipe",j),et}},function(i,o){},function(i,o,s){var _=s(47).Buffer,$=s(164);i.exports=function(){function et(){(function(rt,j){if(!(rt instanceof j))throw new TypeError("Cannot call a class as a function")})(this,et),this.head=null,this.tail=null,this.length=0}return et.prototype.push=function(rt){var j={data:rt,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},et.prototype.unshift=function(rt){var j={data:rt,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},et.prototype.shift=function(){if(this.length!==0){var rt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,rt}},et.prototype.clear=function(){this.head=this.tail=null,this.length=0},et.prototype.join=function(rt){if(this.length===0)return"";for(var j=this.head,st=""+j.data;j=j.next;)st+=rt+j.data;return st},et.prototype.concat=function(rt){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,st,lt,gt=_.allocUnsafe(rt>>>0),bt=this.head,Ut=0;bt;)j=bt.data,st=gt,lt=Ut,j.copy(st,lt),Ut+=bt.data.length,bt=bt.next;return gt},et}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var et=$.inspect({length:this.length});return this.constructor.name+" "+et})},function(i,o){},function(i,o,s){i.exports=et;var _=s(72),$=s(17);function et(rt){if(!(this instanceof et))return new et(rt);_.call(this,rt)}$.inherits=s(7),$.inherits(et,_),et.prototype._transform=function(rt,j,st){st(null,rt)}},function(i,o,s){i.exports=s(23)},function(i,o,s){i.exports=s(31).Transform},function(i,o,s){i.exports=s(31).PassThrough},function(i,o,s){(function(_,$){var et=s(74),rt=s(171),j=s(172),st=s(175),lt=s(178);for(var gt in lt)o[gt]=lt[gt];o.NONE=0,o.DEFLATE=1,o.INFLATE=2,o.GZIP=3,o.GUNZIP=4,o.DEFLATERAW=5,o.INFLATERAW=6,o.UNZIP=7;function bt(Ut){if(typeof Ut!="number"||Ut<o.DEFLATE||Ut>o.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=Ut,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}bt.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,et(this.init_done,"close before init"),et(this.mode<=o.UNZIP),this.mode===o.DEFLATE||this.mode===o.GZIP||this.mode===o.DEFLATERAW?j.deflateEnd(this.strm):this.mode!==o.INFLATE&&this.mode!==o.GUNZIP&&this.mode!==o.INFLATERAW&&this.mode!==o.UNZIP||st.inflateEnd(this.strm),this.mode=o.NONE,this.dictionary=null)},bt.prototype.write=function(Ut,Ft,yt,Qt,wt,Tt,Jt){return this._write(!0,Ut,Ft,yt,Qt,wt,Tt,Jt)},bt.prototype.writeSync=function(Ut,Ft,yt,Qt,wt,Tt,Jt){return this._write(!1,Ut,Ft,yt,Qt,wt,Tt,Jt)},bt.prototype._write=function(Ut,Ft,yt,Qt,wt,Tt,Jt,At){if(et.equal(arguments.length,8),et(this.init_done,"write before init"),et(this.mode!==o.NONE,"already finalized"),et.equal(!1,this.write_in_progress,"write already in progress"),et.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,et.equal(!1,Ft===void 0,"must provide flush value"),this.write_in_progress=!0,Ft!==o.Z_NO_FLUSH&&Ft!==o.Z_PARTIAL_FLUSH&&Ft!==o.Z_SYNC_FLUSH&&Ft!==o.Z_FULL_FLUSH&&Ft!==o.Z_FINISH&&Ft!==o.Z_BLOCK)throw new Error("Invalid flush value");if(yt==null&&(yt=_.alloc(0),wt=0,Qt=0),this.strm.avail_in=wt,this.strm.input=yt,this.strm.next_in=Qt,this.strm.avail_out=At,this.strm.output=Tt,this.strm.next_out=Jt,this.flush=Ft,!Ut)return this._process(),this._checkError()?this._afterSync():void 0;var Nt=this;return $.nextTick(function(){Nt._process(),Nt._after()}),this},bt.prototype._afterSync=function(){var Ut=this.strm.avail_out,Ft=this.strm.avail_in;return this.write_in_progress=!1,[Ft,Ut]},bt.prototype._process=function(){var Ut=null;switch(this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflate(this.strm,this.flush);break;case o.UNZIP:switch(this.strm.avail_in>0&&(Ut=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(Ut===null)break;if(this.strm.input[Ut]!==31){this.mode=o.INFLATE;break}if(this.gzip_id_bytes_read=1,Ut++,this.strm.avail_in===1)break;case 1:if(Ut===null)break;this.strm.input[Ut]===139?(this.gzip_id_bytes_read=2,this.mode=o.GUNZIP):this.mode=o.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:for(this.err=st.inflate(this.strm,this.flush),this.err===o.Z_NEED_DICT&&this.dictionary&&(this.err=st.inflateSetDictionary(this.strm,this.dictionary),this.err===o.Z_OK?this.err=st.inflate(this.strm,this.flush):this.err===o.Z_DATA_ERROR&&(this.err=o.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===o.GUNZIP&&this.err===o.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=st.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},bt.prototype._checkError=function(){switch(this.err){case o.Z_OK:case o.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===o.Z_FINISH)return this._error("unexpected end of file"),!1;break;case o.Z_STREAM_END:break;case o.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},bt.prototype._after=function(){if(this._checkError()){var Ut=this.strm.avail_out,Ft=this.strm.avail_in;this.write_in_progress=!1,this.callback(Ft,Ut),this.pending_close&&this.close()}},bt.prototype._error=function(Ut){this.strm.msg&&(Ut=this.strm.msg),this.onerror(Ut,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},bt.prototype.init=function(Ut,Ft,yt,Qt,wt){et(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),et(Ut>=8&&Ut<=15,"invalid windowBits"),et(Ft>=-1&&Ft<=9,"invalid compression level"),et(yt>=1&&yt<=9,"invalid memlevel"),et(Qt===o.Z_FILTERED||Qt===o.Z_HUFFMAN_ONLY||Qt===o.Z_RLE||Qt===o.Z_FIXED||Qt===o.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(Ft,Ut,yt,Qt,wt),this._setDictionary()},bt.prototype.params=function(){throw new Error("deflateParams Not supported")},bt.prototype.reset=function(){this._reset(),this._setDictionary()},bt.prototype._init=function(Ut,Ft,yt,Qt,wt){switch(this.level=Ut,this.windowBits=Ft,this.memLevel=yt,this.strategy=Qt,this.flush=o.Z_NO_FLUSH,this.err=o.Z_OK,this.mode!==o.GZIP&&this.mode!==o.GUNZIP||(this.windowBits+=16),this.mode===o.UNZIP&&(this.windowBits+=32),this.mode!==o.DEFLATERAW&&this.mode!==o.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new rt,this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflateInit2(this.strm,this.level,o.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:case o.UNZIP:this.err=st.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==o.Z_OK&&this._error("Init error"),this.dictionary=wt,this.write_in_progress=!1,this.init_done=!0},bt.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:this.err=j.deflateSetDictionary(this.strm,this.dictionary)}this.err!==o.Z_OK&&this._error("Failed to set dictionary")}},bt.prototype._reset=function(){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:case o.GZIP:this.err=j.deflateReset(this.strm);break;case o.INFLATE:case o.INFLATERAW:case o.GUNZIP:this.err=st.inflateReset(this.strm)}this.err!==o.Z_OK&&this._error("Failed to reset stream")},o.Zlib=bt}).call(this,s(5).Buffer,s(2))},function(i,o,s){var _=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;function rt(j){if(j==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(j)}i.exports=function(){try{if(!Object.assign)return!1;var j=new String("abc");if(j[5]="de",Object.getOwnPropertyNames(j)[0]==="5")return!1;for(var st={},lt=0;lt<10;lt++)st["_"+String.fromCharCode(lt)]=lt;if(Object.getOwnPropertyNames(st).map(function(bt){return st[bt]}).join("")!=="0123456789")return!1;var gt={};return"abcdefghijklmnopqrst".split("").forEach(function(bt){gt[bt]=bt}),Object.keys(Object.assign({},gt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(j,st){for(var lt,gt,bt=rt(j),Ut=1;Ut<arguments.length;Ut++){for(var Ft in lt=Object(arguments[Ut]))$.call(lt,Ft)&&(bt[Ft]=lt[Ft]);if(_){gt=_(lt);for(var yt=0;yt<gt.length;yt++)et.call(lt,gt[yt])&&(bt[gt[yt]]=lt[gt[yt]])}}return bt}},function(i,o,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(i,o,s){var _,$=s(37),et=s(173),rt=s(75),j=s(76),st=s(174);function lt(Ct,Vt){return Ct.msg=st[Vt],Vt}function gt(Ct){return(Ct<<1)-(Ct>4?9:0)}function bt(Ct){for(var Vt=Ct.length;--Vt>=0;)Ct[Vt]=0}function Ut(Ct){var Vt=Ct.state,Yt=Vt.pending;Yt>Ct.avail_out&&(Yt=Ct.avail_out),Yt!==0&&($.arraySet(Ct.output,Vt.pending_buf,Vt.pending_out,Yt,Ct.next_out),Ct.next_out+=Yt,Vt.pending_out+=Yt,Ct.total_out+=Yt,Ct.avail_out-=Yt,Vt.pending-=Yt,Vt.pending===0&&(Vt.pending_out=0))}function Ft(Ct,Vt){et._tr_flush_block(Ct,Ct.block_start>=0?Ct.block_start:-1,Ct.strstart-Ct.block_start,Vt),Ct.block_start=Ct.strstart,Ut(Ct.strm)}function yt(Ct,Vt){Ct.pending_buf[Ct.pending++]=Vt}function Qt(Ct,Vt){Ct.pending_buf[Ct.pending++]=Vt>>>8&255,Ct.pending_buf[Ct.pending++]=255&Vt}function wt(Ct,Vt){var Yt,Pt,tn=Ct.max_chain_length,Un=Ct.strstart,Kt=Ct.prev_length,$t=Ct.nice_match,hn=Ct.strstart>Ct.w_size-262?Ct.strstart-(Ct.w_size-262):0,dn=Ct.window,zt=Ct.w_mask,It=Ct.prev,gn=Ct.strstart+258,vn=dn[Un+Kt-1],Wn=dn[Un+Kt];Ct.prev_length>=Ct.good_match&&(tn>>=2),$t>Ct.lookahead&&($t=Ct.lookahead);do if(dn[(Yt=Vt)+Kt]===Wn&&dn[Yt+Kt-1]===vn&&dn[Yt]===dn[Un]&&dn[++Yt]===dn[Un+1]){Un+=2,Yt++;do;while(dn[++Un]===dn[++Yt]&&dn[++Un]===dn[++Yt]&&dn[++Un]===dn[++Yt]&&dn[++Un]===dn[++Yt]&&dn[++Un]===dn[++Yt]&&dn[++Un]===dn[++Yt]&&dn[++Un]===dn[++Yt]&&dn[++Un]===dn[++Yt]&&Un<gn);if(Pt=258-(gn-Un),Un=gn-258,Pt>Kt){if(Ct.match_start=Vt,Kt=Pt,Pt>=$t)break;vn=dn[Un+Kt-1],Wn=dn[Un+Kt]}}while((Vt=It[Vt&zt])>hn&&--tn!=0);return Kt<=Ct.lookahead?Kt:Ct.lookahead}function Tt(Ct){var Vt,Yt,Pt,tn,Un,Kt,$t,hn,dn,zt,It=Ct.w_size;do{if(tn=Ct.window_size-Ct.lookahead-Ct.strstart,Ct.strstart>=It+(It-262)){$.arraySet(Ct.window,Ct.window,It,It,0),Ct.match_start-=It,Ct.strstart-=It,Ct.block_start-=It,Vt=Yt=Ct.hash_size;do Pt=Ct.head[--Vt],Ct.head[Vt]=Pt>=It?Pt-It:0;while(--Yt);Vt=Yt=It;do Pt=Ct.prev[--Vt],Ct.prev[Vt]=Pt>=It?Pt-It:0;while(--Yt);tn+=It}if(Ct.strm.avail_in===0)break;if(Kt=Ct.strm,$t=Ct.window,hn=Ct.strstart+Ct.lookahead,dn=tn,zt=void 0,(zt=Kt.avail_in)>dn&&(zt=dn),Yt=zt===0?0:(Kt.avail_in-=zt,$.arraySet($t,Kt.input,Kt.next_in,zt,hn),Kt.state.wrap===1?Kt.adler=rt(Kt.adler,$t,zt,hn):Kt.state.wrap===2&&(Kt.adler=j(Kt.adler,$t,zt,hn)),Kt.next_in+=zt,Kt.total_in+=zt,zt),Ct.lookahead+=Yt,Ct.lookahead+Ct.insert>=3)for(Un=Ct.strstart-Ct.insert,Ct.ins_h=Ct.window[Un],Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Un+1])&Ct.hash_mask;Ct.insert&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Un+3-1])&Ct.hash_mask,Ct.prev[Un&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Un,Un++,Ct.insert--,!(Ct.lookahead+Ct.insert<3)););}while(Ct.lookahead<262&&Ct.strm.avail_in!==0)}function Jt(Ct,Vt){for(var Yt,Pt;;){if(Ct.lookahead<262){if(Tt(Ct),Ct.lookahead<262&&Vt===0)return 1;if(Ct.lookahead===0)break}if(Yt=0,Ct.lookahead>=3&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+3-1])&Ct.hash_mask,Yt=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart),Yt!==0&&Ct.strstart-Yt<=Ct.w_size-262&&(Ct.match_length=wt(Ct,Yt)),Ct.match_length>=3)if(Pt=et._tr_tally(Ct,Ct.strstart-Ct.match_start,Ct.match_length-3),Ct.lookahead-=Ct.match_length,Ct.match_length<=Ct.max_lazy_match&&Ct.lookahead>=3){Ct.match_length--;do Ct.strstart++,Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+3-1])&Ct.hash_mask,Yt=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart;while(--Ct.match_length!=0);Ct.strstart++}else Ct.strstart+=Ct.match_length,Ct.match_length=0,Ct.ins_h=Ct.window[Ct.strstart],Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+1])&Ct.hash_mask;else Pt=et._tr_tally(Ct,0,Ct.window[Ct.strstart]),Ct.lookahead--,Ct.strstart++;if(Pt&&(Ft(Ct,!1),Ct.strm.avail_out===0))return 1}return Ct.insert=Ct.strstart<2?Ct.strstart:2,Vt===4?(Ft(Ct,!0),Ct.strm.avail_out===0?3:4):Ct.last_lit&&(Ft(Ct,!1),Ct.strm.avail_out===0)?1:2}function At(Ct,Vt){for(var Yt,Pt,tn;;){if(Ct.lookahead<262){if(Tt(Ct),Ct.lookahead<262&&Vt===0)return 1;if(Ct.lookahead===0)break}if(Yt=0,Ct.lookahead>=3&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+3-1])&Ct.hash_mask,Yt=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart),Ct.prev_length=Ct.match_length,Ct.prev_match=Ct.match_start,Ct.match_length=2,Yt!==0&&Ct.prev_length<Ct.max_lazy_match&&Ct.strstart-Yt<=Ct.w_size-262&&(Ct.match_length=wt(Ct,Yt),Ct.match_length<=5&&(Ct.strategy===1||Ct.match_length===3&&Ct.strstart-Ct.match_start>4096)&&(Ct.match_length=2)),Ct.prev_length>=3&&Ct.match_length<=Ct.prev_length){tn=Ct.strstart+Ct.lookahead-3,Pt=et._tr_tally(Ct,Ct.strstart-1-Ct.prev_match,Ct.prev_length-3),Ct.lookahead-=Ct.prev_length-1,Ct.prev_length-=2;do++Ct.strstart<=tn&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+3-1])&Ct.hash_mask,Yt=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart);while(--Ct.prev_length!=0);if(Ct.match_available=0,Ct.match_length=2,Ct.strstart++,Pt&&(Ft(Ct,!1),Ct.strm.avail_out===0))return 1}else if(Ct.match_available){if((Pt=et._tr_tally(Ct,0,Ct.window[Ct.strstart-1]))&&Ft(Ct,!1),Ct.strstart++,Ct.lookahead--,Ct.strm.avail_out===0)return 1}else Ct.match_available=1,Ct.strstart++,Ct.lookahead--}return Ct.match_available&&(Pt=et._tr_tally(Ct,0,Ct.window[Ct.strstart-1]),Ct.match_available=0),Ct.insert=Ct.strstart<2?Ct.strstart:2,Vt===4?(Ft(Ct,!0),Ct.strm.avail_out===0?3:4):Ct.last_lit&&(Ft(Ct,!1),Ct.strm.avail_out===0)?1:2}function Nt(Ct,Vt,Yt,Pt,tn){this.good_length=Ct,this.max_lazy=Vt,this.nice_length=Yt,this.max_chain=Pt,this.func=tn}function St(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $.Buf16(1146),this.dyn_dtree=new $.Buf16(122),this.bl_tree=new $.Buf16(78),bt(this.dyn_ltree),bt(this.dyn_dtree),bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $.Buf16(16),this.heap=new $.Buf16(573),bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $.Buf16(573),bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ot(Ct){var Vt;return Ct&&Ct.state?(Ct.total_in=Ct.total_out=0,Ct.data_type=2,(Vt=Ct.state).pending=0,Vt.pending_out=0,Vt.wrap<0&&(Vt.wrap=-Vt.wrap),Vt.status=Vt.wrap?42:113,Ct.adler=Vt.wrap===2?0:1,Vt.last_flush=0,et._tr_init(Vt),0):lt(Ct,-2)}function nn(Ct){var Vt,Yt=Ot(Ct);return Yt===0&&((Vt=Ct.state).window_size=2*Vt.w_size,bt(Vt.head),Vt.max_lazy_match=_[Vt.level].max_lazy,Vt.good_match=_[Vt.level].good_length,Vt.nice_match=_[Vt.level].nice_length,Vt.max_chain_length=_[Vt.level].max_chain,Vt.strstart=0,Vt.block_start=0,Vt.lookahead=0,Vt.insert=0,Vt.match_length=Vt.prev_length=2,Vt.match_available=0,Vt.ins_h=0),Yt}function yn(Ct,Vt,Yt,Pt,tn,Un){if(!Ct)return-2;var Kt=1;if(Vt===-1&&(Vt=6),Pt<0?(Kt=0,Pt=-Pt):Pt>15&&(Kt=2,Pt-=16),tn<1||tn>9||Yt!==8||Pt<8||Pt>15||Vt<0||Vt>9||Un<0||Un>4)return lt(Ct,-2);Pt===8&&(Pt=9);var $t=new St;return Ct.state=$t,$t.strm=Ct,$t.wrap=Kt,$t.gzhead=null,$t.w_bits=Pt,$t.w_size=1<<$t.w_bits,$t.w_mask=$t.w_size-1,$t.hash_bits=tn+7,$t.hash_size=1<<$t.hash_bits,$t.hash_mask=$t.hash_size-1,$t.hash_shift=~~(($t.hash_bits+3-1)/3),$t.window=new $.Buf8(2*$t.w_size),$t.head=new $.Buf16($t.hash_size),$t.prev=new $.Buf16($t.w_size),$t.lit_bufsize=1<<tn+6,$t.pending_buf_size=4*$t.lit_bufsize,$t.pending_buf=new $.Buf8($t.pending_buf_size),$t.d_buf=1*$t.lit_bufsize,$t.l_buf=3*$t.lit_bufsize,$t.level=Vt,$t.strategy=Un,$t.method=Yt,nn(Ct)}_=[new Nt(0,0,0,0,function(Ct,Vt){var Yt=65535;for(Yt>Ct.pending_buf_size-5&&(Yt=Ct.pending_buf_size-5);;){if(Ct.lookahead<=1){if(Tt(Ct),Ct.lookahead===0&&Vt===0)return 1;if(Ct.lookahead===0)break}Ct.strstart+=Ct.lookahead,Ct.lookahead=0;var Pt=Ct.block_start+Yt;if((Ct.strstart===0||Ct.strstart>=Pt)&&(Ct.lookahead=Ct.strstart-Pt,Ct.strstart=Pt,Ft(Ct,!1),Ct.strm.avail_out===0)||Ct.strstart-Ct.block_start>=Ct.w_size-262&&(Ft(Ct,!1),Ct.strm.avail_out===0))return 1}return Ct.insert=0,Vt===4?(Ft(Ct,!0),Ct.strm.avail_out===0?3:4):(Ct.strstart>Ct.block_start&&(Ft(Ct,!1),Ct.strm.avail_out),1)}),new Nt(4,4,8,4,Jt),new Nt(4,5,16,8,Jt),new Nt(4,6,32,32,Jt),new Nt(4,4,16,16,At),new Nt(8,16,32,32,At),new Nt(8,16,128,128,At),new Nt(8,32,128,256,At),new Nt(32,128,258,1024,At),new Nt(32,258,258,4096,At)],o.deflateInit=function(Ct,Vt){return yn(Ct,Vt,8,15,8,0)},o.deflateInit2=yn,o.deflateReset=nn,o.deflateResetKeep=Ot,o.deflateSetHeader=function(Ct,Vt){return Ct&&Ct.state?Ct.state.wrap!==2?-2:(Ct.state.gzhead=Vt,0):-2},o.deflate=function(Ct,Vt){var Yt,Pt,tn,Un;if(!Ct||!Ct.state||Vt>5||Vt<0)return Ct?lt(Ct,-2):-2;if(Pt=Ct.state,!Ct.output||!Ct.input&&Ct.avail_in!==0||Pt.status===666&&Vt!==4)return lt(Ct,Ct.avail_out===0?-5:-2);if(Pt.strm=Ct,Yt=Pt.last_flush,Pt.last_flush=Vt,Pt.status===42)if(Pt.wrap===2)Ct.adler=0,yt(Pt,31),yt(Pt,139),yt(Pt,8),Pt.gzhead?(yt(Pt,(Pt.gzhead.text?1:0)+(Pt.gzhead.hcrc?2:0)+(Pt.gzhead.extra?4:0)+(Pt.gzhead.name?8:0)+(Pt.gzhead.comment?16:0)),yt(Pt,255&Pt.gzhead.time),yt(Pt,Pt.gzhead.time>>8&255),yt(Pt,Pt.gzhead.time>>16&255),yt(Pt,Pt.gzhead.time>>24&255),yt(Pt,Pt.level===9?2:Pt.strategy>=2||Pt.level<2?4:0),yt(Pt,255&Pt.gzhead.os),Pt.gzhead.extra&&Pt.gzhead.extra.length&&(yt(Pt,255&Pt.gzhead.extra.length),yt(Pt,Pt.gzhead.extra.length>>8&255)),Pt.gzhead.hcrc&&(Ct.adler=j(Ct.adler,Pt.pending_buf,Pt.pending,0)),Pt.gzindex=0,Pt.status=69):(yt(Pt,0),yt(Pt,0),yt(Pt,0),yt(Pt,0),yt(Pt,0),yt(Pt,Pt.level===9?2:Pt.strategy>=2||Pt.level<2?4:0),yt(Pt,3),Pt.status=113);else{var Kt=8+(Pt.w_bits-8<<4)<<8;Kt|=(Pt.strategy>=2||Pt.level<2?0:Pt.level<6?1:Pt.level===6?2:3)<<6,Pt.strstart!==0&&(Kt|=32),Kt+=31-Kt%31,Pt.status=113,Qt(Pt,Kt),Pt.strstart!==0&&(Qt(Pt,Ct.adler>>>16),Qt(Pt,65535&Ct.adler)),Ct.adler=1}if(Pt.status===69)if(Pt.gzhead.extra){for(tn=Pt.pending;Pt.gzindex<(65535&Pt.gzhead.extra.length)&&(Pt.pending!==Pt.pending_buf_size||(Pt.gzhead.hcrc&&Pt.pending>tn&&(Ct.adler=j(Ct.adler,Pt.pending_buf,Pt.pending-tn,tn)),Ut(Ct),tn=Pt.pending,Pt.pending!==Pt.pending_buf_size));)yt(Pt,255&Pt.gzhead.extra[Pt.gzindex]),Pt.gzindex++;Pt.gzhead.hcrc&&Pt.pending>tn&&(Ct.adler=j(Ct.adler,Pt.pending_buf,Pt.pending-tn,tn)),Pt.gzindex===Pt.gzhead.extra.length&&(Pt.gzindex=0,Pt.status=73)}else Pt.status=73;if(Pt.status===73)if(Pt.gzhead.name){tn=Pt.pending;do{if(Pt.pending===Pt.pending_buf_size&&(Pt.gzhead.hcrc&&Pt.pending>tn&&(Ct.adler=j(Ct.adler,Pt.pending_buf,Pt.pending-tn,tn)),Ut(Ct),tn=Pt.pending,Pt.pending===Pt.pending_buf_size)){Un=1;break}Un=Pt.gzindex<Pt.gzhead.name.length?255&Pt.gzhead.name.charCodeAt(Pt.gzindex++):0,yt(Pt,Un)}while(Un!==0);Pt.gzhead.hcrc&&Pt.pending>tn&&(Ct.adler=j(Ct.adler,Pt.pending_buf,Pt.pending-tn,tn)),Un===0&&(Pt.gzindex=0,Pt.status=91)}else Pt.status=91;if(Pt.status===91)if(Pt.gzhead.comment){tn=Pt.pending;do{if(Pt.pending===Pt.pending_buf_size&&(Pt.gzhead.hcrc&&Pt.pending>tn&&(Ct.adler=j(Ct.adler,Pt.pending_buf,Pt.pending-tn,tn)),Ut(Ct),tn=Pt.pending,Pt.pending===Pt.pending_buf_size)){Un=1;break}Un=Pt.gzindex<Pt.gzhead.comment.length?255&Pt.gzhead.comment.charCodeAt(Pt.gzindex++):0,yt(Pt,Un)}while(Un!==0);Pt.gzhead.hcrc&&Pt.pending>tn&&(Ct.adler=j(Ct.adler,Pt.pending_buf,Pt.pending-tn,tn)),Un===0&&(Pt.status=103)}else Pt.status=103;if(Pt.status===103&&(Pt.gzhead.hcrc?(Pt.pending+2>Pt.pending_buf_size&&Ut(Ct),Pt.pending+2<=Pt.pending_buf_size&&(yt(Pt,255&Ct.adler),yt(Pt,Ct.adler>>8&255),Ct.adler=0,Pt.status=113)):Pt.status=113),Pt.pending!==0){if(Ut(Ct),Ct.avail_out===0)return Pt.last_flush=-1,0}else if(Ct.avail_in===0&&gt(Vt)<=gt(Yt)&&Vt!==4)return lt(Ct,-5);if(Pt.status===666&&Ct.avail_in!==0)return lt(Ct,-5);if(Ct.avail_in!==0||Pt.lookahead!==0||Vt!==0&&Pt.status!==666){var $t=Pt.strategy===2?function(hn,dn){for(var zt;;){if(hn.lookahead===0&&(Tt(hn),hn.lookahead===0)){if(dn===0)return 1;break}if(hn.match_length=0,zt=et._tr_tally(hn,0,hn.window[hn.strstart]),hn.lookahead--,hn.strstart++,zt&&(Ft(hn,!1),hn.strm.avail_out===0))return 1}return hn.insert=0,dn===4?(Ft(hn,!0),hn.strm.avail_out===0?3:4):hn.last_lit&&(Ft(hn,!1),hn.strm.avail_out===0)?1:2}(Pt,Vt):Pt.strategy===3?function(hn,dn){for(var zt,It,gn,vn,Wn=hn.window;;){if(hn.lookahead<=258){if(Tt(hn),hn.lookahead<=258&&dn===0)return 1;if(hn.lookahead===0)break}if(hn.match_length=0,hn.lookahead>=3&&hn.strstart>0&&(It=Wn[gn=hn.strstart-1])===Wn[++gn]&&It===Wn[++gn]&&It===Wn[++gn]){vn=hn.strstart+258;do;while(It===Wn[++gn]&&It===Wn[++gn]&&It===Wn[++gn]&&It===Wn[++gn]&&It===Wn[++gn]&&It===Wn[++gn]&&It===Wn[++gn]&&It===Wn[++gn]&&gn<vn);hn.match_length=258-(vn-gn),hn.match_length>hn.lookahead&&(hn.match_length=hn.lookahead)}if(hn.match_length>=3?(zt=et._tr_tally(hn,1,hn.match_length-3),hn.lookahead-=hn.match_length,hn.strstart+=hn.match_length,hn.match_length=0):(zt=et._tr_tally(hn,0,hn.window[hn.strstart]),hn.lookahead--,hn.strstart++),zt&&(Ft(hn,!1),hn.strm.avail_out===0))return 1}return hn.insert=0,dn===4?(Ft(hn,!0),hn.strm.avail_out===0?3:4):hn.last_lit&&(Ft(hn,!1),hn.strm.avail_out===0)?1:2}(Pt,Vt):_[Pt.level].func(Pt,Vt);if($t!==3&&$t!==4||(Pt.status=666),$t===1||$t===3)return Ct.avail_out===0&&(Pt.last_flush=-1),0;if($t===2&&(Vt===1?et._tr_align(Pt):Vt!==5&&(et._tr_stored_block(Pt,0,0,!1),Vt===3&&(bt(Pt.head),Pt.lookahead===0&&(Pt.strstart=0,Pt.block_start=0,Pt.insert=0))),Ut(Ct),Ct.avail_out===0))return Pt.last_flush=-1,0}return Vt!==4?0:Pt.wrap<=0?1:(Pt.wrap===2?(yt(Pt,255&Ct.adler),yt(Pt,Ct.adler>>8&255),yt(Pt,Ct.adler>>16&255),yt(Pt,Ct.adler>>24&255),yt(Pt,255&Ct.total_in),yt(Pt,Ct.total_in>>8&255),yt(Pt,Ct.total_in>>16&255),yt(Pt,Ct.total_in>>24&255)):(Qt(Pt,Ct.adler>>>16),Qt(Pt,65535&Ct.adler)),Ut(Ct),Pt.wrap>0&&(Pt.wrap=-Pt.wrap),Pt.pending!==0?0:1)},o.deflateEnd=function(Ct){var Vt;return Ct&&Ct.state?(Vt=Ct.state.status)!==42&&Vt!==69&&Vt!==73&&Vt!==91&&Vt!==103&&Vt!==113&&Vt!==666?lt(Ct,-2):(Ct.state=null,Vt===113?lt(Ct,-3):0):-2},o.deflateSetDictionary=function(Ct,Vt){var Yt,Pt,tn,Un,Kt,$t,hn,dn,zt=Vt.length;if(!Ct||!Ct.state||(Un=(Yt=Ct.state).wrap)===2||Un===1&&Yt.status!==42||Yt.lookahead)return-2;for(Un===1&&(Ct.adler=rt(Ct.adler,Vt,zt,0)),Yt.wrap=0,zt>=Yt.w_size&&(Un===0&&(bt(Yt.head),Yt.strstart=0,Yt.block_start=0,Yt.insert=0),dn=new $.Buf8(Yt.w_size),$.arraySet(dn,Vt,zt-Yt.w_size,Yt.w_size,0),Vt=dn,zt=Yt.w_size),Kt=Ct.avail_in,$t=Ct.next_in,hn=Ct.input,Ct.avail_in=zt,Ct.next_in=0,Ct.input=Vt,Tt(Yt);Yt.lookahead>=3;){Pt=Yt.strstart,tn=Yt.lookahead-2;do Yt.ins_h=(Yt.ins_h<<Yt.hash_shift^Yt.window[Pt+3-1])&Yt.hash_mask,Yt.prev[Pt&Yt.w_mask]=Yt.head[Yt.ins_h],Yt.head[Yt.ins_h]=Pt,Pt++;while(--tn);Yt.strstart=Pt,Yt.lookahead=2,Tt(Yt)}return Yt.strstart+=Yt.lookahead,Yt.block_start=Yt.strstart,Yt.insert=Yt.lookahead,Yt.lookahead=0,Yt.match_length=Yt.prev_length=2,Yt.match_available=0,Ct.next_in=$t,Ct.input=hn,Ct.avail_in=Kt,Yt.wrap=Un,0},o.deflateInfo="pako deflate (from Nodeca project)"},function(i,o,s){var _=s(37);function $(It){for(var gn=It.length;--gn>=0;)It[gn]=0}var et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],rt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],st=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],lt=new Array(576);$(lt);var gt=new Array(60);$(gt);var bt=new Array(512);$(bt);var Ut=new Array(256);$(Ut);var Ft=new Array(29);$(Ft);var yt,Qt,wt,Tt=new Array(30);function Jt(It,gn,vn,Wn,Ln){this.static_tree=It,this.extra_bits=gn,this.extra_base=vn,this.elems=Wn,this.max_length=Ln,this.has_stree=It&&It.length}function At(It,gn){this.dyn_tree=It,this.max_code=0,this.stat_desc=gn}function Nt(It){return It<256?bt[It]:bt[256+(It>>>7)]}function St(It,gn){It.pending_buf[It.pending++]=255&gn,It.pending_buf[It.pending++]=gn>>>8&255}function Ot(It,gn,vn){It.bi_valid>16-vn?(It.bi_buf|=gn<<It.bi_valid&65535,St(It,It.bi_buf),It.bi_buf=gn>>16-It.bi_valid,It.bi_valid+=vn-16):(It.bi_buf|=gn<<It.bi_valid&65535,It.bi_valid+=vn)}function nn(It,gn,vn){Ot(It,vn[2*gn],vn[2*gn+1])}function yn(It,gn){var vn=0;do vn|=1&It,It>>>=1,vn<<=1;while(--gn>0);return vn>>>1}function Ct(It,gn,vn){var Wn,Ln,jn=new Array(16),xn=0;for(Wn=1;Wn<=15;Wn++)jn[Wn]=xn=xn+vn[Wn-1]<<1;for(Ln=0;Ln<=gn;Ln++){var Rn=It[2*Ln+1];Rn!==0&&(It[2*Ln]=yn(jn[Rn]++,Rn))}}function Vt(It){var gn;for(gn=0;gn<286;gn++)It.dyn_ltree[2*gn]=0;for(gn=0;gn<30;gn++)It.dyn_dtree[2*gn]=0;for(gn=0;gn<19;gn++)It.bl_tree[2*gn]=0;It.dyn_ltree[512]=1,It.opt_len=It.static_len=0,It.last_lit=It.matches=0}function Yt(It){It.bi_valid>8?St(It,It.bi_buf):It.bi_valid>0&&(It.pending_buf[It.pending++]=It.bi_buf),It.bi_buf=0,It.bi_valid=0}function Pt(It,gn,vn,Wn){var Ln=2*gn,jn=2*vn;return It[Ln]<It[jn]||It[Ln]===It[jn]&&Wn[gn]<=Wn[vn]}function tn(It,gn,vn){for(var Wn=It.heap[vn],Ln=vn<<1;Ln<=It.heap_len&&(Ln<It.heap_len&&Pt(gn,It.heap[Ln+1],It.heap[Ln],It.depth)&&Ln++,!Pt(gn,Wn,It.heap[Ln],It.depth));)It.heap[vn]=It.heap[Ln],vn=Ln,Ln<<=1;It.heap[vn]=Wn}function Un(It,gn,vn){var Wn,Ln,jn,xn,Rn=0;if(It.last_lit!==0)do Wn=It.pending_buf[It.d_buf+2*Rn]<<8|It.pending_buf[It.d_buf+2*Rn+1],Ln=It.pending_buf[It.l_buf+Rn],Rn++,Wn===0?nn(It,Ln,gn):(nn(It,(jn=Ut[Ln])+256+1,gn),(xn=et[jn])!==0&&Ot(It,Ln-=Ft[jn],xn),nn(It,jn=Nt(--Wn),vn),(xn=rt[jn])!==0&&Ot(It,Wn-=Tt[jn],xn));while(Rn<It.last_lit);nn(It,256,gn)}function Kt(It,gn){var vn,Wn,Ln,jn=gn.dyn_tree,xn=gn.stat_desc.static_tree,Rn=gn.stat_desc.has_stree,jt=gn.stat_desc.elems,Ht=-1;for(It.heap_len=0,It.heap_max=573,vn=0;vn<jt;vn++)jn[2*vn]!==0?(It.heap[++It.heap_len]=Ht=vn,It.depth[vn]=0):jn[2*vn+1]=0;for(;It.heap_len<2;)jn[2*(Ln=It.heap[++It.heap_len]=Ht<2?++Ht:0)]=1,It.depth[Ln]=0,It.opt_len--,Rn&&(It.static_len-=xn[2*Ln+1]);for(gn.max_code=Ht,vn=It.heap_len>>1;vn>=1;vn--)tn(It,jn,vn);Ln=jt;do vn=It.heap[1],It.heap[1]=It.heap[It.heap_len--],tn(It,jn,1),Wn=It.heap[1],It.heap[--It.heap_max]=vn,It.heap[--It.heap_max]=Wn,jn[2*Ln]=jn[2*vn]+jn[2*Wn],It.depth[Ln]=(It.depth[vn]>=It.depth[Wn]?It.depth[vn]:It.depth[Wn])+1,jn[2*vn+1]=jn[2*Wn+1]=Ln,It.heap[1]=Ln++,tn(It,jn,1);while(It.heap_len>=2);It.heap[--It.heap_max]=It.heap[1],function(_n,Dn){var Tn,Xn,or,Rr,ao,Vo,bo=Dn.dyn_tree,Po=Dn.max_code,_o=Dn.stat_desc.static_tree,Qo=Dn.stat_desc.has_stree,zo=Dn.stat_desc.extra_bits,Ao=Dn.stat_desc.extra_base,qo=Dn.stat_desc.max_length,Do=0;for(Rr=0;Rr<=15;Rr++)_n.bl_count[Rr]=0;for(bo[2*_n.heap[_n.heap_max]+1]=0,Tn=_n.heap_max+1;Tn<573;Tn++)(Rr=bo[2*bo[2*(Xn=_n.heap[Tn])+1]+1]+1)>qo&&(Rr=qo,Do++),bo[2*Xn+1]=Rr,Xn>Po||(_n.bl_count[Rr]++,ao=0,Xn>=Ao&&(ao=zo[Xn-Ao]),Vo=bo[2*Xn],_n.opt_len+=Vo*(Rr+ao),Qo&&(_n.static_len+=Vo*(_o[2*Xn+1]+ao)));if(Do!==0){do{for(Rr=qo-1;_n.bl_count[Rr]===0;)Rr--;_n.bl_count[Rr]--,_n.bl_count[Rr+1]+=2,_n.bl_count[qo]--,Do-=2}while(Do>0);for(Rr=qo;Rr!==0;Rr--)for(Xn=_n.bl_count[Rr];Xn!==0;)(or=_n.heap[--Tn])>Po||(bo[2*or+1]!==Rr&&(_n.opt_len+=(Rr-bo[2*or+1])*bo[2*or],bo[2*or+1]=Rr),Xn--)}}(It,gn),Ct(jn,Ht,It.bl_count)}function $t(It,gn,vn){var Wn,Ln,jn=-1,xn=gn[1],Rn=0,jt=7,Ht=4;for(xn===0&&(jt=138,Ht=3),gn[2*(vn+1)+1]=65535,Wn=0;Wn<=vn;Wn++)Ln=xn,xn=gn[2*(Wn+1)+1],++Rn<jt&&Ln===xn||(Rn<Ht?It.bl_tree[2*Ln]+=Rn:Ln!==0?(Ln!==jn&&It.bl_tree[2*Ln]++,It.bl_tree[32]++):Rn<=10?It.bl_tree[34]++:It.bl_tree[36]++,Rn=0,jn=Ln,xn===0?(jt=138,Ht=3):Ln===xn?(jt=6,Ht=3):(jt=7,Ht=4))}function hn(It,gn,vn){var Wn,Ln,jn=-1,xn=gn[1],Rn=0,jt=7,Ht=4;for(xn===0&&(jt=138,Ht=3),Wn=0;Wn<=vn;Wn++)if(Ln=xn,xn=gn[2*(Wn+1)+1],!(++Rn<jt&&Ln===xn)){if(Rn<Ht)do nn(It,Ln,It.bl_tree);while(--Rn!=0);else Ln!==0?(Ln!==jn&&(nn(It,Ln,It.bl_tree),Rn--),nn(It,16,It.bl_tree),Ot(It,Rn-3,2)):Rn<=10?(nn(It,17,It.bl_tree),Ot(It,Rn-3,3)):(nn(It,18,It.bl_tree),Ot(It,Rn-11,7));Rn=0,jn=Ln,xn===0?(jt=138,Ht=3):Ln===xn?(jt=6,Ht=3):(jt=7,Ht=4)}}$(Tt);var dn=!1;function zt(It,gn,vn,Wn){Ot(It,0+(Wn?1:0),3),function(Ln,jn,xn,Rn){Yt(Ln),Rn&&(St(Ln,xn),St(Ln,~xn)),_.arraySet(Ln.pending_buf,Ln.window,jn,xn,Ln.pending),Ln.pending+=xn}(It,gn,vn,!0)}o._tr_init=function(It){dn||(function(){var gn,vn,Wn,Ln,jn,xn=new Array(16);for(Wn=0,Ln=0;Ln<28;Ln++)for(Ft[Ln]=Wn,gn=0;gn<1<<et[Ln];gn++)Ut[Wn++]=Ln;for(Ut[Wn-1]=Ln,jn=0,Ln=0;Ln<16;Ln++)for(Tt[Ln]=jn,gn=0;gn<1<<rt[Ln];gn++)bt[jn++]=Ln;for(jn>>=7;Ln<30;Ln++)for(Tt[Ln]=jn<<7,gn=0;gn<1<<rt[Ln]-7;gn++)bt[256+jn++]=Ln;for(vn=0;vn<=15;vn++)xn[vn]=0;for(gn=0;gn<=143;)lt[2*gn+1]=8,gn++,xn[8]++;for(;gn<=255;)lt[2*gn+1]=9,gn++,xn[9]++;for(;gn<=279;)lt[2*gn+1]=7,gn++,xn[7]++;for(;gn<=287;)lt[2*gn+1]=8,gn++,xn[8]++;for(Ct(lt,287,xn),gn=0;gn<30;gn++)gt[2*gn+1]=5,gt[2*gn]=yn(gn,5);yt=new Jt(lt,et,257,286,15),Qt=new Jt(gt,rt,0,30,15),wt=new Jt(new Array(0),j,0,19,7)}(),dn=!0),It.l_desc=new At(It.dyn_ltree,yt),It.d_desc=new At(It.dyn_dtree,Qt),It.bl_desc=new At(It.bl_tree,wt),It.bi_buf=0,It.bi_valid=0,Vt(It)},o._tr_stored_block=zt,o._tr_flush_block=function(It,gn,vn,Wn){var Ln,jn,xn=0;It.level>0?(It.strm.data_type===2&&(It.strm.data_type=function(Rn){var jt,Ht=4093624447;for(jt=0;jt<=31;jt++,Ht>>>=1)if(1&Ht&&Rn.dyn_ltree[2*jt]!==0)return 0;if(Rn.dyn_ltree[18]!==0||Rn.dyn_ltree[20]!==0||Rn.dyn_ltree[26]!==0)return 1;for(jt=32;jt<256;jt++)if(Rn.dyn_ltree[2*jt]!==0)return 1;return 0}(It)),Kt(It,It.l_desc),Kt(It,It.d_desc),xn=function(Rn){var jt;for($t(Rn,Rn.dyn_ltree,Rn.l_desc.max_code),$t(Rn,Rn.dyn_dtree,Rn.d_desc.max_code),Kt(Rn,Rn.bl_desc),jt=18;jt>=3&&Rn.bl_tree[2*st[jt]+1]===0;jt--);return Rn.opt_len+=3*(jt+1)+5+5+4,jt}(It),Ln=It.opt_len+3+7>>>3,(jn=It.static_len+3+7>>>3)<=Ln&&(Ln=jn)):Ln=jn=vn+5,vn+4<=Ln&&gn!==-1?zt(It,gn,vn,Wn):It.strategy===4||jn===Ln?(Ot(It,2+(Wn?1:0),3),Un(It,lt,gt)):(Ot(It,4+(Wn?1:0),3),function(Rn,jt,Ht,_n){var Dn;for(Ot(Rn,jt-257,5),Ot(Rn,Ht-1,5),Ot(Rn,_n-4,4),Dn=0;Dn<_n;Dn++)Ot(Rn,Rn.bl_tree[2*st[Dn]+1],3);hn(Rn,Rn.dyn_ltree,jt-1),hn(Rn,Rn.dyn_dtree,Ht-1)}(It,It.l_desc.max_code+1,It.d_desc.max_code+1,xn+1),Un(It,It.dyn_ltree,It.dyn_dtree)),Vt(It),Wn&&Yt(It)},o._tr_tally=function(It,gn,vn){return It.pending_buf[It.d_buf+2*It.last_lit]=gn>>>8&255,It.pending_buf[It.d_buf+2*It.last_lit+1]=255&gn,It.pending_buf[It.l_buf+It.last_lit]=255&vn,It.last_lit++,gn===0?It.dyn_ltree[2*vn]++:(It.matches++,gn--,It.dyn_ltree[2*(Ut[vn]+256+1)]++,It.dyn_dtree[2*Nt(gn)]++),It.last_lit===It.lit_bufsize-1},o._tr_align=function(It){Ot(It,2,3),nn(It,256,lt),function(gn){gn.bi_valid===16?(St(gn,gn.bi_buf),gn.bi_buf=0,gn.bi_valid=0):gn.bi_valid>=8&&(gn.pending_buf[gn.pending++]=255&gn.bi_buf,gn.bi_buf>>=8,gn.bi_valid-=8)}(It)}},function(i,o,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(i,o,s){var _=s(37),$=s(75),et=s(76),rt=s(176),j=s(177);function st(At){return(At>>>24&255)+(At>>>8&65280)+((65280&At)<<8)+((255&At)<<24)}function lt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function gt(At){var Nt;return At&&At.state?(Nt=At.state,At.total_in=At.total_out=Nt.total=0,At.msg="",Nt.wrap&&(At.adler=1&Nt.wrap),Nt.mode=1,Nt.last=0,Nt.havedict=0,Nt.dmax=32768,Nt.head=null,Nt.hold=0,Nt.bits=0,Nt.lencode=Nt.lendyn=new _.Buf32(852),Nt.distcode=Nt.distdyn=new _.Buf32(592),Nt.sane=1,Nt.back=-1,0):-2}function bt(At){var Nt;return At&&At.state?((Nt=At.state).wsize=0,Nt.whave=0,Nt.wnext=0,gt(At)):-2}function Ut(At,Nt){var St,Ot;return At&&At.state?(Ot=At.state,Nt<0?(St=0,Nt=-Nt):(St=1+(Nt>>4),Nt<48&&(Nt&=15)),Nt&&(Nt<8||Nt>15)?-2:(Ot.window!==null&&Ot.wbits!==Nt&&(Ot.window=null),Ot.wrap=St,Ot.wbits=Nt,bt(At))):-2}function Ft(At,Nt){var St,Ot;return At?(Ot=new lt,At.state=Ot,Ot.window=null,(St=Ut(At,Nt))!==0&&(At.state=null),St):-2}var yt,Qt,wt=!0;function Tt(At){if(wt){var Nt;for(yt=new _.Buf32(512),Qt=new _.Buf32(32),Nt=0;Nt<144;)At.lens[Nt++]=8;for(;Nt<256;)At.lens[Nt++]=9;for(;Nt<280;)At.lens[Nt++]=7;for(;Nt<288;)At.lens[Nt++]=8;for(j(1,At.lens,0,288,yt,0,At.work,{bits:9}),Nt=0;Nt<32;)At.lens[Nt++]=5;j(2,At.lens,0,32,Qt,0,At.work,{bits:5}),wt=!1}At.lencode=yt,At.lenbits=9,At.distcode=Qt,At.distbits=5}function Jt(At,Nt,St,Ot){var nn,yn=At.state;return yn.window===null&&(yn.wsize=1<<yn.wbits,yn.wnext=0,yn.whave=0,yn.window=new _.Buf8(yn.wsize)),Ot>=yn.wsize?(_.arraySet(yn.window,Nt,St-yn.wsize,yn.wsize,0),yn.wnext=0,yn.whave=yn.wsize):((nn=yn.wsize-yn.wnext)>Ot&&(nn=Ot),_.arraySet(yn.window,Nt,St-Ot,nn,yn.wnext),(Ot-=nn)?(_.arraySet(yn.window,Nt,St-Ot,Ot,0),yn.wnext=Ot,yn.whave=yn.wsize):(yn.wnext+=nn,yn.wnext===yn.wsize&&(yn.wnext=0),yn.whave<yn.wsize&&(yn.whave+=nn))),0}o.inflateReset=bt,o.inflateReset2=Ut,o.inflateResetKeep=gt,o.inflateInit=function(At){return Ft(At,15)},o.inflateInit2=Ft,o.inflate=function(At,Nt){var St,Ot,nn,yn,Ct,Vt,Yt,Pt,tn,Un,Kt,$t,hn,dn,zt,It,gn,vn,Wn,Ln,jn,xn,Rn,jt,Ht=0,_n=new _.Buf8(4),Dn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!At||!At.state||!At.output||!At.input&&At.avail_in!==0)return-2;(St=At.state).mode===12&&(St.mode=13),Ct=At.next_out,nn=At.output,Yt=At.avail_out,yn=At.next_in,Ot=At.input,Vt=At.avail_in,Pt=St.hold,tn=St.bits,Un=Vt,Kt=Yt,xn=0;e:for(;;)switch(St.mode){case 1:if(St.wrap===0){St.mode=13;break}for(;tn<16;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(2&St.wrap&&Pt===35615){St.check=0,_n[0]=255&Pt,_n[1]=Pt>>>8&255,St.check=et(St.check,_n,2,0),Pt=0,tn=0,St.mode=2;break}if(St.flags=0,St.head&&(St.head.done=!1),!(1&St.wrap)||(((255&Pt)<<8)+(Pt>>8))%31){At.msg="incorrect header check",St.mode=30;break}if((15&Pt)!=8){At.msg="unknown compression method",St.mode=30;break}if(tn-=4,jn=8+(15&(Pt>>>=4)),St.wbits===0)St.wbits=jn;else if(jn>St.wbits){At.msg="invalid window size",St.mode=30;break}St.dmax=1<<jn,At.adler=St.check=1,St.mode=512&Pt?10:12,Pt=0,tn=0;break;case 2:for(;tn<16;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(St.flags=Pt,(255&St.flags)!=8){At.msg="unknown compression method",St.mode=30;break}if(57344&St.flags){At.msg="unknown header flags set",St.mode=30;break}St.head&&(St.head.text=Pt>>8&1),512&St.flags&&(_n[0]=255&Pt,_n[1]=Pt>>>8&255,St.check=et(St.check,_n,2,0)),Pt=0,tn=0,St.mode=3;case 3:for(;tn<32;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}St.head&&(St.head.time=Pt),512&St.flags&&(_n[0]=255&Pt,_n[1]=Pt>>>8&255,_n[2]=Pt>>>16&255,_n[3]=Pt>>>24&255,St.check=et(St.check,_n,4,0)),Pt=0,tn=0,St.mode=4;case 4:for(;tn<16;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}St.head&&(St.head.xflags=255&Pt,St.head.os=Pt>>8),512&St.flags&&(_n[0]=255&Pt,_n[1]=Pt>>>8&255,St.check=et(St.check,_n,2,0)),Pt=0,tn=0,St.mode=5;case 5:if(1024&St.flags){for(;tn<16;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}St.length=Pt,St.head&&(St.head.extra_len=Pt),512&St.flags&&(_n[0]=255&Pt,_n[1]=Pt>>>8&255,St.check=et(St.check,_n,2,0)),Pt=0,tn=0}else St.head&&(St.head.extra=null);St.mode=6;case 6:if(1024&St.flags&&(($t=St.length)>Vt&&($t=Vt),$t&&(St.head&&(jn=St.head.extra_len-St.length,St.head.extra||(St.head.extra=new Array(St.head.extra_len)),_.arraySet(St.head.extra,Ot,yn,$t,jn)),512&St.flags&&(St.check=et(St.check,Ot,$t,yn)),Vt-=$t,yn+=$t,St.length-=$t),St.length))break e;St.length=0,St.mode=7;case 7:if(2048&St.flags){if(Vt===0)break e;$t=0;do jn=Ot[yn+$t++],St.head&&jn&&St.length<65536&&(St.head.name+=String.fromCharCode(jn));while(jn&&$t<Vt);if(512&St.flags&&(St.check=et(St.check,Ot,$t,yn)),Vt-=$t,yn+=$t,jn)break e}else St.head&&(St.head.name=null);St.length=0,St.mode=8;case 8:if(4096&St.flags){if(Vt===0)break e;$t=0;do jn=Ot[yn+$t++],St.head&&jn&&St.length<65536&&(St.head.comment+=String.fromCharCode(jn));while(jn&&$t<Vt);if(512&St.flags&&(St.check=et(St.check,Ot,$t,yn)),Vt-=$t,yn+=$t,jn)break e}else St.head&&(St.head.comment=null);St.mode=9;case 9:if(512&St.flags){for(;tn<16;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(Pt!==(65535&St.check)){At.msg="header crc mismatch",St.mode=30;break}Pt=0,tn=0}St.head&&(St.head.hcrc=St.flags>>9&1,St.head.done=!0),At.adler=St.check=0,St.mode=12;break;case 10:for(;tn<32;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}At.adler=St.check=st(Pt),Pt=0,tn=0,St.mode=11;case 11:if(St.havedict===0)return At.next_out=Ct,At.avail_out=Yt,At.next_in=yn,At.avail_in=Vt,St.hold=Pt,St.bits=tn,2;At.adler=St.check=1,St.mode=12;case 12:if(Nt===5||Nt===6)break e;case 13:if(St.last){Pt>>>=7&tn,tn-=7&tn,St.mode=27;break}for(;tn<3;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}switch(St.last=1&Pt,tn-=1,3&(Pt>>>=1)){case 0:St.mode=14;break;case 1:if(Tt(St),St.mode=20,Nt===6){Pt>>>=2,tn-=2;break e}break;case 2:St.mode=17;break;case 3:At.msg="invalid block type",St.mode=30}Pt>>>=2,tn-=2;break;case 14:for(Pt>>>=7&tn,tn-=7&tn;tn<32;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if((65535&Pt)!=(Pt>>>16^65535)){At.msg="invalid stored block lengths",St.mode=30;break}if(St.length=65535&Pt,Pt=0,tn=0,St.mode=15,Nt===6)break e;case 15:St.mode=16;case 16:if($t=St.length){if($t>Vt&&($t=Vt),$t>Yt&&($t=Yt),$t===0)break e;_.arraySet(nn,Ot,yn,$t,Ct),Vt-=$t,yn+=$t,Yt-=$t,Ct+=$t,St.length-=$t;break}St.mode=12;break;case 17:for(;tn<14;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(St.nlen=257+(31&Pt),Pt>>>=5,tn-=5,St.ndist=1+(31&Pt),Pt>>>=5,tn-=5,St.ncode=4+(15&Pt),Pt>>>=4,tn-=4,St.nlen>286||St.ndist>30){At.msg="too many length or distance symbols",St.mode=30;break}St.have=0,St.mode=18;case 18:for(;St.have<St.ncode;){for(;tn<3;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}St.lens[Dn[St.have++]]=7&Pt,Pt>>>=3,tn-=3}for(;St.have<19;)St.lens[Dn[St.have++]]=0;if(St.lencode=St.lendyn,St.lenbits=7,Rn={bits:St.lenbits},xn=j(0,St.lens,0,19,St.lencode,0,St.work,Rn),St.lenbits=Rn.bits,xn){At.msg="invalid code lengths set",St.mode=30;break}St.have=0,St.mode=19;case 19:for(;St.have<St.nlen+St.ndist;){for(;It=(Ht=St.lencode[Pt&(1<<St.lenbits)-1])>>>16&255,gn=65535&Ht,!((zt=Ht>>>24)<=tn);){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(gn<16)Pt>>>=zt,tn-=zt,St.lens[St.have++]=gn;else{if(gn===16){for(jt=zt+2;tn<jt;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(Pt>>>=zt,tn-=zt,St.have===0){At.msg="invalid bit length repeat",St.mode=30;break}jn=St.lens[St.have-1],$t=3+(3&Pt),Pt>>>=2,tn-=2}else if(gn===17){for(jt=zt+3;tn<jt;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}tn-=zt,jn=0,$t=3+(7&(Pt>>>=zt)),Pt>>>=3,tn-=3}else{for(jt=zt+7;tn<jt;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}tn-=zt,jn=0,$t=11+(127&(Pt>>>=zt)),Pt>>>=7,tn-=7}if(St.have+$t>St.nlen+St.ndist){At.msg="invalid bit length repeat",St.mode=30;break}for(;$t--;)St.lens[St.have++]=jn}}if(St.mode===30)break;if(St.lens[256]===0){At.msg="invalid code -- missing end-of-block",St.mode=30;break}if(St.lenbits=9,Rn={bits:St.lenbits},xn=j(1,St.lens,0,St.nlen,St.lencode,0,St.work,Rn),St.lenbits=Rn.bits,xn){At.msg="invalid literal/lengths set",St.mode=30;break}if(St.distbits=6,St.distcode=St.distdyn,Rn={bits:St.distbits},xn=j(2,St.lens,St.nlen,St.ndist,St.distcode,0,St.work,Rn),St.distbits=Rn.bits,xn){At.msg="invalid distances set",St.mode=30;break}if(St.mode=20,Nt===6)break e;case 20:St.mode=21;case 21:if(Vt>=6&&Yt>=258){At.next_out=Ct,At.avail_out=Yt,At.next_in=yn,At.avail_in=Vt,St.hold=Pt,St.bits=tn,rt(At,Kt),Ct=At.next_out,nn=At.output,Yt=At.avail_out,yn=At.next_in,Ot=At.input,Vt=At.avail_in,Pt=St.hold,tn=St.bits,St.mode===12&&(St.back=-1);break}for(St.back=0;It=(Ht=St.lencode[Pt&(1<<St.lenbits)-1])>>>16&255,gn=65535&Ht,!((zt=Ht>>>24)<=tn);){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(It&&!(240&It)){for(vn=zt,Wn=It,Ln=gn;It=(Ht=St.lencode[Ln+((Pt&(1<<vn+Wn)-1)>>vn)])>>>16&255,gn=65535&Ht,!(vn+(zt=Ht>>>24)<=tn);){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}Pt>>>=vn,tn-=vn,St.back+=vn}if(Pt>>>=zt,tn-=zt,St.back+=zt,St.length=gn,It===0){St.mode=26;break}if(32&It){St.back=-1,St.mode=12;break}if(64&It){At.msg="invalid literal/length code",St.mode=30;break}St.extra=15&It,St.mode=22;case 22:if(St.extra){for(jt=St.extra;tn<jt;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}St.length+=Pt&(1<<St.extra)-1,Pt>>>=St.extra,tn-=St.extra,St.back+=St.extra}St.was=St.length,St.mode=23;case 23:for(;It=(Ht=St.distcode[Pt&(1<<St.distbits)-1])>>>16&255,gn=65535&Ht,!((zt=Ht>>>24)<=tn);){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(!(240&It)){for(vn=zt,Wn=It,Ln=gn;It=(Ht=St.distcode[Ln+((Pt&(1<<vn+Wn)-1)>>vn)])>>>16&255,gn=65535&Ht,!(vn+(zt=Ht>>>24)<=tn);){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}Pt>>>=vn,tn-=vn,St.back+=vn}if(Pt>>>=zt,tn-=zt,St.back+=zt,64&It){At.msg="invalid distance code",St.mode=30;break}St.offset=gn,St.extra=15&It,St.mode=24;case 24:if(St.extra){for(jt=St.extra;tn<jt;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}St.offset+=Pt&(1<<St.extra)-1,Pt>>>=St.extra,tn-=St.extra,St.back+=St.extra}if(St.offset>St.dmax){At.msg="invalid distance too far back",St.mode=30;break}St.mode=25;case 25:if(Yt===0)break e;if($t=Kt-Yt,St.offset>$t){if(($t=St.offset-$t)>St.whave&&St.sane){At.msg="invalid distance too far back",St.mode=30;break}$t>St.wnext?($t-=St.wnext,hn=St.wsize-$t):hn=St.wnext-$t,$t>St.length&&($t=St.length),dn=St.window}else dn=nn,hn=Ct-St.offset,$t=St.length;$t>Yt&&($t=Yt),Yt-=$t,St.length-=$t;do nn[Ct++]=dn[hn++];while(--$t);St.length===0&&(St.mode=21);break;case 26:if(Yt===0)break e;nn[Ct++]=St.length,Yt--,St.mode=21;break;case 27:if(St.wrap){for(;tn<32;){if(Vt===0)break e;Vt--,Pt|=Ot[yn++]<<tn,tn+=8}if(Kt-=Yt,At.total_out+=Kt,St.total+=Kt,Kt&&(At.adler=St.check=St.flags?et(St.check,nn,Kt,Ct-Kt):$(St.check,nn,Kt,Ct-Kt)),Kt=Yt,(St.flags?Pt:st(Pt))!==St.check){At.msg="incorrect data check",St.mode=30;break}Pt=0,tn=0}St.mode=28;case 28:if(St.wrap&&St.flags){for(;tn<32;){if(Vt===0)break e;Vt--,Pt+=Ot[yn++]<<tn,tn+=8}if(Pt!==(4294967295&St.total)){At.msg="incorrect length check",St.mode=30;break}Pt=0,tn=0}St.mode=29;case 29:xn=1;break e;case 30:xn=-3;break e;case 31:return-4;case 32:default:return-2}return At.next_out=Ct,At.avail_out=Yt,At.next_in=yn,At.avail_in=Vt,St.hold=Pt,St.bits=tn,(St.wsize||Kt!==At.avail_out&&St.mode<30&&(St.mode<27||Nt!==4))&&Jt(At,At.output,At.next_out,Kt-At.avail_out)?(St.mode=31,-4):(Un-=At.avail_in,Kt-=At.avail_out,At.total_in+=Un,At.total_out+=Kt,St.total+=Kt,St.wrap&&Kt&&(At.adler=St.check=St.flags?et(St.check,nn,Kt,At.next_out-Kt):$(St.check,nn,Kt,At.next_out-Kt)),At.data_type=St.bits+(St.last?64:0)+(St.mode===12?128:0)+(St.mode===20||St.mode===15?256:0),(Un===0&&Kt===0||Nt===4)&&xn===0&&(xn=-5),xn)},o.inflateEnd=function(At){if(!At||!At.state)return-2;var Nt=At.state;return Nt.window&&(Nt.window=null),At.state=null,0},o.inflateGetHeader=function(At,Nt){var St;return At&&At.state&&2&(St=At.state).wrap?(St.head=Nt,Nt.done=!1,0):-2},o.inflateSetDictionary=function(At,Nt){var St,Ot=Nt.length;return At&&At.state?(St=At.state).wrap!==0&&St.mode!==11?-2:St.mode===11&&$(1,Nt,Ot,0)!==St.check?-3:Jt(At,Nt,Ot,Ot)?(St.mode=31,-4):(St.havedict=1,0):-2},o.inflateInfo="pako inflate (from Nodeca project)"},function(i,o,s){i.exports=function(_,$){var et,rt,j,st,lt,gt,bt,Ut,Ft,yt,Qt,wt,Tt,Jt,At,Nt,St,Ot,nn,yn,Ct,Vt,Yt,Pt,tn;et=_.state,rt=_.next_in,Pt=_.input,j=rt+(_.avail_in-5),st=_.next_out,tn=_.output,lt=st-($-_.avail_out),gt=st+(_.avail_out-257),bt=et.dmax,Ut=et.wsize,Ft=et.whave,yt=et.wnext,Qt=et.window,wt=et.hold,Tt=et.bits,Jt=et.lencode,At=et.distcode,Nt=(1<<et.lenbits)-1,St=(1<<et.distbits)-1;e:do{Tt<15&&(wt+=Pt[rt++]<<Tt,Tt+=8,wt+=Pt[rt++]<<Tt,Tt+=8),Ot=Jt[wt&Nt];t:for(;;){if(wt>>>=nn=Ot>>>24,Tt-=nn,(nn=Ot>>>16&255)===0)tn[st++]=65535&Ot;else{if(!(16&nn)){if(!(64&nn)){Ot=Jt[(65535&Ot)+(wt&(1<<nn)-1)];continue t}if(32&nn){et.mode=12;break e}_.msg="invalid literal/length code",et.mode=30;break e}yn=65535&Ot,(nn&=15)&&(Tt<nn&&(wt+=Pt[rt++]<<Tt,Tt+=8),yn+=wt&(1<<nn)-1,wt>>>=nn,Tt-=nn),Tt<15&&(wt+=Pt[rt++]<<Tt,Tt+=8,wt+=Pt[rt++]<<Tt,Tt+=8),Ot=At[wt&St];n:for(;;){if(wt>>>=nn=Ot>>>24,Tt-=nn,!(16&(nn=Ot>>>16&255))){if(!(64&nn)){Ot=At[(65535&Ot)+(wt&(1<<nn)-1)];continue n}_.msg="invalid distance code",et.mode=30;break e}if(Ct=65535&Ot,Tt<(nn&=15)&&(wt+=Pt[rt++]<<Tt,(Tt+=8)<nn&&(wt+=Pt[rt++]<<Tt,Tt+=8)),(Ct+=wt&(1<<nn)-1)>bt){_.msg="invalid distance too far back",et.mode=30;break e}if(wt>>>=nn,Tt-=nn,Ct>(nn=st-lt)){if((nn=Ct-nn)>Ft&&et.sane){_.msg="invalid distance too far back",et.mode=30;break e}if(Vt=0,Yt=Qt,yt===0){if(Vt+=Ut-nn,nn<yn){yn-=nn;do tn[st++]=Qt[Vt++];while(--nn);Vt=st-Ct,Yt=tn}}else if(yt<nn){if(Vt+=Ut+yt-nn,(nn-=yt)<yn){yn-=nn;do tn[st++]=Qt[Vt++];while(--nn);if(Vt=0,yt<yn){yn-=nn=yt;do tn[st++]=Qt[Vt++];while(--nn);Vt=st-Ct,Yt=tn}}}else if(Vt+=yt-nn,nn<yn){yn-=nn;do tn[st++]=Qt[Vt++];while(--nn);Vt=st-Ct,Yt=tn}for(;yn>2;)tn[st++]=Yt[Vt++],tn[st++]=Yt[Vt++],tn[st++]=Yt[Vt++],yn-=3;yn&&(tn[st++]=Yt[Vt++],yn>1&&(tn[st++]=Yt[Vt++]))}else{Vt=st-Ct;do tn[st++]=tn[Vt++],tn[st++]=tn[Vt++],tn[st++]=tn[Vt++],yn-=3;while(yn>2);yn&&(tn[st++]=tn[Vt++],yn>1&&(tn[st++]=tn[Vt++]))}break}}break}}while(rt<j&&st<gt);rt-=yn=Tt>>3,wt&=(1<<(Tt-=yn<<3))-1,_.next_in=rt,_.next_out=st,_.avail_in=rt<j?j-rt+5:5-(rt-j),_.avail_out=st<gt?gt-st+257:257-(st-gt),et.hold=wt,et.bits=Tt}},function(i,o,s){var _=s(37),$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],et=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],rt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(st,lt,gt,bt,Ut,Ft,yt,Qt){var wt,Tt,Jt,At,Nt,St,Ot,nn,yn,Ct=Qt.bits,Vt=0,Yt=0,Pt=0,tn=0,Un=0,Kt=0,$t=0,hn=0,dn=0,zt=0,It=null,gn=0,vn=new _.Buf16(16),Wn=new _.Buf16(16),Ln=null,jn=0;for(Vt=0;Vt<=15;Vt++)vn[Vt]=0;for(Yt=0;Yt<bt;Yt++)vn[lt[gt+Yt]]++;for(Un=Ct,tn=15;tn>=1&&vn[tn]===0;tn--);if(Un>tn&&(Un=tn),tn===0)return Ut[Ft++]=20971520,Ut[Ft++]=20971520,Qt.bits=1,0;for(Pt=1;Pt<tn&&vn[Pt]===0;Pt++);for(Un<Pt&&(Un=Pt),hn=1,Vt=1;Vt<=15;Vt++)if(hn<<=1,(hn-=vn[Vt])<0)return-1;if(hn>0&&(st===0||tn!==1))return-1;for(Wn[1]=0,Vt=1;Vt<15;Vt++)Wn[Vt+1]=Wn[Vt]+vn[Vt];for(Yt=0;Yt<bt;Yt++)lt[gt+Yt]!==0&&(yt[Wn[lt[gt+Yt]]++]=Yt);if(st===0?(It=Ln=yt,St=19):st===1?(It=$,gn-=257,Ln=et,jn-=257,St=256):(It=rt,Ln=j,St=-1),zt=0,Yt=0,Vt=Pt,Nt=Ft,Kt=Un,$t=0,Jt=-1,At=(dn=1<<Un)-1,st===1&&dn>852||st===2&&dn>592)return 1;for(;;){Ot=Vt-$t,yt[Yt]<St?(nn=0,yn=yt[Yt]):yt[Yt]>St?(nn=Ln[jn+yt[Yt]],yn=It[gn+yt[Yt]]):(nn=96,yn=0),wt=1<<Vt-$t,Pt=Tt=1<<Kt;do Ut[Nt+(zt>>$t)+(Tt-=wt)]=Ot<<24|nn<<16|yn|0;while(Tt!==0);for(wt=1<<Vt-1;zt&wt;)wt>>=1;if(wt!==0?(zt&=wt-1,zt+=wt):zt=0,Yt++,--vn[Vt]==0){if(Vt===tn)break;Vt=lt[gt+yt[Yt]]}if(Vt>Un&&(zt&At)!==Jt){for($t===0&&($t=Un),Nt+=Pt,hn=1<<(Kt=Vt-$t);Kt+$t<tn&&!((hn-=vn[Kt+$t])<=0);)Kt++,hn<<=1;if(dn+=1<<Kt,st===1&&dn>852||st===2&&dn>592)return 1;Ut[Jt=zt&At]=Un<<24|Kt<<16|Nt-Ft|0}}return zt!==0&&(Ut[Nt+zt]=Vt-$t<<24|64<<16|0),Qt.bits=Un,0}},function(i,o,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(i,o){},function(i,o,s){function _(lt,gt){var bt=Object.keys(lt);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(lt);gt&&(Ut=Ut.filter(function(Ft){return Object.getOwnPropertyDescriptor(lt,Ft).enumerable})),bt.push.apply(bt,Ut)}return bt}function $(lt,gt,bt){return gt in lt?Object.defineProperty(lt,gt,{value:bt,enumerable:!0,configurable:!0,writable:!0}):lt[gt]=bt,lt}function et(lt,gt){for(var bt=0;bt<gt.length;bt++){var Ut=gt[bt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(lt,Ut.key,Ut)}}var rt=s(5).Buffer,j=s(181).inspect,st=j&&j.custom||"inspect";i.exports=function(){function lt(){(function(Ut,Ft){if(!(Ut instanceof Ft))throw new TypeError("Cannot call a class as a function")})(this,lt),this.head=null,this.tail=null,this.length=0}var gt,bt;return gt=lt,(bt=[{key:"push",value:function(Ut){var Ft={data:Ut,next:null};this.length>0?this.tail.next=Ft:this.head=Ft,this.tail=Ft,++this.length}},{key:"unshift",value:function(Ut){var Ft={data:Ut,next:this.head};this.length===0&&(this.tail=Ft),this.head=Ft,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Ut=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Ut}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Ut){if(this.length===0)return"";for(var Ft=this.head,yt=""+Ft.data;Ft=Ft.next;)yt+=Ut+Ft.data;return yt}},{key:"concat",value:function(Ut){if(this.length===0)return rt.alloc(0);for(var Ft,yt,Qt,wt=rt.allocUnsafe(Ut>>>0),Tt=this.head,Jt=0;Tt;)Ft=Tt.data,yt=wt,Qt=Jt,rt.prototype.copy.call(Ft,yt,Qt),Jt+=Tt.data.length,Tt=Tt.next;return wt}},{key:"consume",value:function(Ut,Ft){var yt;return Ut<this.head.data.length?(yt=this.head.data.slice(0,Ut),this.head.data=this.head.data.slice(Ut)):yt=Ut===this.head.data.length?this.shift():Ft?this._getString(Ut):this._getBuffer(Ut),yt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Ut){var Ft=this.head,yt=1,Qt=Ft.data;for(Ut-=Qt.length;Ft=Ft.next;){var wt=Ft.data,Tt=Ut>wt.length?wt.length:Ut;if(Tt===wt.length?Qt+=wt:Qt+=wt.slice(0,Ut),(Ut-=Tt)==0){Tt===wt.length?(++yt,Ft.next?this.head=Ft.next:this.head=this.tail=null):(this.head=Ft,Ft.data=wt.slice(Tt));break}++yt}return this.length-=yt,Qt}},{key:"_getBuffer",value:function(Ut){var Ft=rt.allocUnsafe(Ut),yt=this.head,Qt=1;for(yt.data.copy(Ft),Ut-=yt.data.length;yt=yt.next;){var wt=yt.data,Tt=Ut>wt.length?wt.length:Ut;if(wt.copy(Ft,Ft.length-Ut,0,Tt),(Ut-=Tt)==0){Tt===wt.length?(++Qt,yt.next?this.head=yt.next:this.head=this.tail=null):(this.head=yt,yt.data=wt.slice(Tt));break}++Qt}return this.length-=Qt,Ft}},{key:st,value:function(Ut,Ft){return j(this,function(yt){for(var Qt=1;Qt<arguments.length;Qt++){var wt=arguments[Qt]!=null?arguments[Qt]:{};Qt%2?_(Object(wt),!0).forEach(function(Tt){$(yt,Tt,wt[Tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(wt)):_(Object(wt)).forEach(function(Tt){Object.defineProperty(yt,Tt,Object.getOwnPropertyDescriptor(wt,Tt))})}return yt}({},Ft,{depth:0,customInspect:!1}))}}])&&et(gt.prototype,bt),lt}()},function(i,o){},function(i,o,s){(function(_){var $;function et(At,Nt,St){return Nt in At?Object.defineProperty(At,Nt,{value:St,enumerable:!0,configurable:!0,writable:!0}):At[Nt]=St,At}var rt=s(49),j=Symbol("lastResolve"),st=Symbol("lastReject"),lt=Symbol("error"),gt=Symbol("ended"),bt=Symbol("lastPromise"),Ut=Symbol("handlePromise"),Ft=Symbol("stream");function yt(At,Nt){return{value:At,done:Nt}}function Qt(At){var Nt=At[j];if(Nt!==null){var St=At[Ft].read();St!==null&&(At[bt]=null,At[j]=null,At[st]=null,Nt(yt(St,!1)))}}function wt(At){_.nextTick(Qt,At)}var Tt=Object.getPrototypeOf(function(){}),Jt=Object.setPrototypeOf((et($={get stream(){return this[Ft]},next:function(){var At=this,Nt=this[lt];if(Nt!==null)return Promise.reject(Nt);if(this[gt])return Promise.resolve(yt(void 0,!0));if(this[Ft].destroyed)return new Promise(function(yn,Ct){_.nextTick(function(){At[lt]?Ct(At[lt]):yn(yt(void 0,!0))})});var St,Ot=this[bt];if(Ot)St=new Promise(function(yn,Ct){return function(Vt,Yt){yn.then(function(){Ct[gt]?Vt(yt(void 0,!0)):Ct[Ut](Vt,Yt)},Yt)}}(Ot,this));else{var nn=this[Ft].read();if(nn!==null)return Promise.resolve(yt(nn,!1));St=new Promise(this[Ut])}return this[bt]=St,St}},Symbol.asyncIterator,function(){return this}),et($,"return",function(){var At=this;return new Promise(function(Nt,St){At[Ft].destroy(null,function(Ot){Ot?St(Ot):Nt(yt(void 0,!0))})})}),$),Tt);i.exports=function(At){var Nt,St=Object.create(Jt,(et(Nt={},Ft,{value:At,writable:!0}),et(Nt,j,{value:null,writable:!0}),et(Nt,st,{value:null,writable:!0}),et(Nt,lt,{value:null,writable:!0}),et(Nt,gt,{value:At._readableState.endEmitted,writable:!0}),et(Nt,Ut,{value:function(Ot,nn){var yn=St[Ft].read();yn?(St[bt]=null,St[j]=null,St[st]=null,Ot(yt(yn,!1))):(St[j]=Ot,St[st]=nn)},writable:!0}),Nt));return St[bt]=null,rt(At,function(Ot){if(Ot&&Ot.code!=="ERR_STREAM_PREMATURE_CLOSE"){var nn=St[st];return nn!==null&&(St[bt]=null,St[j]=null,St[st]=null,nn(Ot)),void(St[lt]=Ot)}var yn=St[j];yn!==null&&(St[bt]=null,St[j]=null,St[st]=null,yn(yt(void 0,!0))),St[gt]=!0}),At.on("readable",wt.bind(null,St)),St}}).call(this,s(2))},function(i,o){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(i,o,s){i.exports=$;var _=s(82);function $(et){if(!(this instanceof $))return new $(et);_.call(this,et)}s(7)($,_),$.prototype._transform=function(et,rt,j){j(null,et)}},function(i,o,s){var _,$=s(26).codes,et=$.ERR_MISSING_ARGS,rt=$.ERR_STREAM_DESTROYED;function j(Ut){if(Ut)throw Ut}function st(Ut,Ft,yt,Qt){Qt=function(Jt){var At=!1;return function(){At||(At=!0,Jt.apply(void 0,arguments))}}(Qt);var wt=!1;Ut.on("close",function(){wt=!0}),_===void 0&&(_=s(49)),_(Ut,{readable:Ft,writable:yt},function(Jt){if(Jt)return Qt(Jt);wt=!0,Qt()});var Tt=!1;return function(Jt){if(!wt&&!Tt)return Tt=!0,function(At){return At.setHeader&&typeof At.abort=="function"}(Ut)?Ut.abort():typeof Ut.destroy=="function"?Ut.destroy():void Qt(Jt||new rt("pipe"))}}function lt(Ut){Ut()}function gt(Ut,Ft){return Ut.pipe(Ft)}function bt(Ut){return Ut.length?typeof Ut[Ut.length-1]!="function"?j:Ut.pop():j}i.exports=function(){for(var Ut=arguments.length,Ft=new Array(Ut),yt=0;yt<Ut;yt++)Ft[yt]=arguments[yt];var Qt,wt=bt(Ft);if(Array.isArray(Ft[0])&&(Ft=Ft[0]),Ft.length<2)throw new et("streams");var Tt=Ft.map(function(Jt,At){var Nt=At<Ft.length-1;return st(Jt,Nt,At>0,function(St){Qt||(Qt=St),St&&Tt.forEach(lt),Nt||(Tt.forEach(lt),wt(Qt))})});return Ft.reduce(gt)}},function(i,o,s){var _=s(187)(function $(et,rt){return(rt=rt||{}).namespace=et,rt.prod=!0,rt.dev=!1,rt.force||$.force?$.yep(rt):$.nope(rt)});i.exports=_},function(i,o){var s=[],_=[],$=function(){};function et(yt){return!~s.indexOf(yt)&&(s.push(yt),!0)}function rt(yt){$=yt}function j(yt){for(var Qt=[],wt=0;wt<s.length;wt++)if(s[wt].async)Qt.push(s[wt]);else if(s[wt](yt))return!0;return!!Qt.length&&new Promise(function(Tt){Promise.all(Qt.map(function(Jt){return Jt(yt)})).then(function(Jt){Tt(Jt.some(Boolean))})})}function st(yt){return!~_.indexOf(yt)&&(_.push(yt),!0)}function lt(){$.apply($,arguments)}function gt(yt){for(var Qt=0;Qt<_.length;Qt++)yt=_[Qt].apply(_[Qt],arguments);return yt}function bt(yt,Qt){var wt=Object.prototype.hasOwnProperty;for(var Tt in Qt)wt.call(Qt,Tt)&&(yt[Tt]=Qt[Tt]);return yt}function Ut(yt){return yt.enabled=!1,yt.modify=st,yt.set=rt,yt.use=et,bt(function(){return!1},yt)}function Ft(yt){return yt.enabled=!0,yt.modify=st,yt.set=rt,yt.use=et,bt(function(){var Qt=Array.prototype.slice.call(arguments,0);return lt.call(lt,yt,gt(Qt,yt)),!0},yt)}i.exports=function(yt){return yt.introduce=bt,yt.enabled=j,yt.process=gt,yt.modify=st,yt.write=lt,yt.nope=Ut,yt.yep=Ft,yt.set=rt,yt.use=et,yt}},function(i,o,s){(function(_){var $=s(65),et=s(22).StringDecoder,rt=s(32).Stream;function j(){}i.exports=function(st,lt){var gt=_.alloc(65536),bt=new et("utf8"),Ut=new rt,Ft="",yt=0,Qt=0;return st.start===-1&&delete st.start,Ut.readable=!0,Ut.destroy=function(){Ut.destroyed=!0,Ut.emit("end"),Ut.emit("close")},$.open(st.file,"a+","0644",function(wt,Tt){if(wt)return lt?lt(wt):Ut.emit("error",wt),void Ut.destroy();(function Jt(){if(!Ut.destroyed)return $.read(Tt,gt,0,gt.length,yt,function(At,Nt){if(At)return lt?lt(At):Ut.emit("error",At),void Ut.destroy();if(!Nt)return Ft&&((st.start==null||Qt>st.start)&&(lt?lt(null,Ft):Ut.emit("line",Ft)),Qt++,Ft=""),setTimeout(Jt,1e3);var St=bt.write(gt.slice(0,Nt));lt||Ut.emit("data",St);for(var Ot=(St=(Ft+St).split(/\n+/)).length-1,nn=0;nn<Ot;nn++)(st.start==null||Qt>st.start)&&(lt?lt(null,St[nn]):Ut.emit("line",St[nn])),Qt++;return Ft=St[Ot],yt+=Nt,Jt()});$.close(Tt,j)})()}),lt?Ut.destroy:Ut}}).call(this,s(5).Buffer)},function(i,o,s){(function(_,$){function et(At){return(et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Nt){return typeof Nt}:function(Nt){return Nt&&typeof Symbol=="function"&&Nt.constructor===Symbol&&Nt!==Symbol.prototype?"symbol":typeof Nt})(At)}function rt(At,Nt){var St=Object.keys(At);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(At);Nt&&(Ot=Ot.filter(function(nn){return Object.getOwnPropertyDescriptor(At,nn).enumerable})),St.push.apply(St,Ot)}return St}function j(At){for(var Nt=1;Nt<arguments.length;Nt++){var St=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?rt(Object(St),!0).forEach(function(Ot){st(At,Ot,St[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(St)):rt(Object(St)).forEach(function(Ot){Object.defineProperty(At,Ot,Object.getOwnPropertyDescriptor(St,Ot))})}return At}function st(At,Nt,St){return Nt in At?Object.defineProperty(At,Nt,{value:St,enumerable:!0,configurable:!0,writable:!0}):At[Nt]=St,At}function lt(At,Nt){if(!(At instanceof Nt))throw new TypeError("Cannot call a class as a function")}function gt(At,Nt){for(var St=0;St<Nt.length;St++){var Ot=Nt[St];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(At,Ot.key,Ot)}}function bt(At,Nt){return(bt=Object.setPrototypeOf||function(St,Ot){return St.__proto__=Ot,St})(At,Nt)}function Ut(At){var Nt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var St,Ot=yt(At);if(Nt){var nn=yt(this).constructor;St=Reflect.construct(Ot,arguments,nn)}else St=Ot.apply(this,arguments);return Ft(this,St)}}function Ft(At,Nt){return!Nt||et(Nt)!=="object"&&typeof Nt!="function"?function(St){if(St===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return St}(At):Nt}function yt(At){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(Nt){return Nt.__proto__||Object.getPrototypeOf(Nt)})(At)}var Qt=s(83),wt=s(200),Tt=s(32).Stream,Jt=s(20);i.exports=function(At){(function(yn,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function");yn.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:yn,writable:!0,configurable:!0}}),Ct&&bt(yn,Ct)})(nn,At);var Nt,St,Ot=Ut(nn);function nn(){var yn,Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return lt(this,nn),(yn=Ot.call(this,Ct)).options=Ct,yn.name=Ct.name||"http",yn.ssl=!!Ct.ssl,yn.host=Ct.host||"localhost",yn.port=Ct.port,yn.auth=Ct.auth,yn.path=Ct.path||"",yn.agent=Ct.agent,yn.headers=Ct.headers||{},yn.headers["content-type"]="application/json",yn.port||(yn.port=yn.ssl?443:80),yn}return Nt=nn,(St=[{key:"log",value:function(yn,Ct){var Vt=this;this._request(yn,function(Yt,Pt){Pt&&Pt.statusCode!==200&&(Yt=new Error("Invalid HTTP Status Code: ".concat(Pt.statusCode))),Yt?Vt.emit("warn",Yt):Vt.emit("logged",yn)}),Ct&&_(Ct)}},{key:"query",value:function(yn,Ct){typeof yn=="function"&&(Ct=yn,yn={}),(yn={method:"query",params:this.normalizeQuery(yn)}).params.path&&(yn.path=yn.params.path,delete yn.params.path),yn.params.auth&&(yn.auth=yn.params.auth,delete yn.params.auth),this._request(yn,function(Vt,Yt,Pt){if(Yt&&Yt.statusCode!==200&&(Vt=new Error("Invalid HTTP Status Code: ".concat(Yt.statusCode))),Vt)return Ct(Vt);if(typeof Pt=="string")try{Pt=JSON.parse(Pt)}catch(tn){return Ct(tn)}Ct(null,Pt)})}},{key:"stream",value:function(){var yn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ct=new Tt;(yn={method:"stream",params:yn}).params.path&&(yn.path=yn.params.path,delete yn.params.path),yn.params.auth&&(yn.auth=yn.params.auth,delete yn.params.auth);var Vt="",Yt=this._request(yn);return Ct.destroy=function(){return Yt.destroy()},Yt.on("data",function(Pt){for(var tn=(Pt=(Vt+Pt).split(/\n+/)).length-1,Un=0;Un<tn;Un++)try{Ct.emit("log",JSON.parse(Pt[Un]))}catch(Kt){Ct.emit("error",Kt)}Vt=Pt[tn]}),Yt.on("error",function(Pt){return Ct.emit("error",Pt)}),Ct}},{key:"_request",value:function(yn,Ct){var Vt=(yn=yn||{}).auth||this.auth,Yt=yn.path||this.path||"";delete yn.auth,delete yn.path;var Pt=Object.assign({},this.headers);Vt&&Vt.bearer&&(Pt.Authorization="Bearer ".concat(Vt.bearer));var tn=(this.ssl?wt:Qt).request(j(j({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(Yt.replace(/^\//,"")),headers:Pt,auth:Vt&&Vt.username&&Vt.password?"".concat(Vt.username,":").concat(Vt.password):"",agent:this.agent}));tn.on("error",Ct),tn.on("response",function(Un){return Un.on("end",function(){return Ct(null,Un)}).resume()}),tn.end($.from(JSON.stringify(yn),"utf8"))}}])&&gt(Nt.prototype,St),nn}(Jt)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){(function(_,$,et){var rt=s(84),j=s(7),st=s(85),lt=s(31),gt=s(191),bt=st.IncomingMessage,Ut=st.readyStates,Ft=i.exports=function(Qt){var wt,Tt=this;lt.Writable.call(Tt),Tt._opts=Qt,Tt._body=[],Tt._headers={},Qt.auth&&Tt.setHeader("Authorization","Basic "+new _(Qt.auth).toString("base64")),Object.keys(Qt.headers).forEach(function(At){Tt.setHeader(At,Qt.headers[At])});var Jt=!0;if(Qt.mode==="disable-fetch"||"requestTimeout"in Qt&&!rt.abortController)Jt=!1,wt=!0;else if(Qt.mode==="prefer-streaming")wt=!1;else if(Qt.mode==="allow-wrong-content-type")wt=!rt.overrideMimeType;else{if(Qt.mode&&Qt.mode!=="default"&&Qt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");wt=!0}Tt._mode=function(At,Nt){return rt.fetch&&Nt?"fetch":rt.mozchunkedarraybuffer?"moz-chunked-arraybuffer":rt.msstream?"ms-stream":rt.arraybuffer&&At?"arraybuffer":rt.vbArray&&At?"text:vbarray":"text"}(wt,Jt),Tt._fetchTimer=null,Tt.on("finish",function(){Tt._onFinish()})};j(Ft,lt.Writable),Ft.prototype.setHeader=function(Qt,wt){var Tt=Qt.toLowerCase();yt.indexOf(Tt)===-1&&(this._headers[Tt]={name:Qt,value:wt})},Ft.prototype.getHeader=function(Qt){var wt=this._headers[Qt.toLowerCase()];return wt?wt.value:null},Ft.prototype.removeHeader=function(Qt){delete this._headers[Qt.toLowerCase()]},Ft.prototype._onFinish=function(){var Qt=this;if(!Qt._destroyed){var wt=Qt._opts,Tt=Qt._headers,Jt=null;wt.method!=="GET"&&wt.method!=="HEAD"&&(Jt=rt.arraybuffer?gt(_.concat(Qt._body)):rt.blobConstructor?new $.Blob(Qt._body.map(function(nn){return gt(nn)}),{type:(Tt["content-type"]||{}).value||""}):_.concat(Qt._body).toString());var At=[];if(Object.keys(Tt).forEach(function(nn){var yn=Tt[nn].name,Ct=Tt[nn].value;Array.isArray(Ct)?Ct.forEach(function(Vt){At.push([yn,Vt])}):At.push([yn,Ct])}),Qt._mode==="fetch"){var Nt=null;if(rt.abortController){var St=new AbortController;Nt=St.signal,Qt._fetchAbortController=St,"requestTimeout"in wt&&wt.requestTimeout!==0&&(Qt._fetchTimer=$.setTimeout(function(){Qt.emit("requestTimeout"),Qt._fetchAbortController&&Qt._fetchAbortController.abort()},wt.requestTimeout))}$.fetch(Qt._opts.url,{method:Qt._opts.method,headers:At,body:Jt||void 0,mode:"cors",credentials:wt.withCredentials?"include":"same-origin",signal:Nt}).then(function(nn){Qt._fetchResponse=nn,Qt._connect()},function(nn){$.clearTimeout(Qt._fetchTimer),Qt._destroyed||Qt.emit("error",nn)})}else{var Ot=Qt._xhr=new $.XMLHttpRequest;try{Ot.open(Qt._opts.method,Qt._opts.url,!0)}catch(nn){return void et.nextTick(function(){Qt.emit("error",nn)})}"responseType"in Ot&&(Ot.responseType=Qt._mode.split(":")[0]),"withCredentials"in Ot&&(Ot.withCredentials=!!wt.withCredentials),Qt._mode==="text"&&"overrideMimeType"in Ot&&Ot.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in wt&&(Ot.timeout=wt.requestTimeout,Ot.ontimeout=function(){Qt.emit("requestTimeout")}),At.forEach(function(nn){Ot.setRequestHeader(nn[0],nn[1])}),Qt._response=null,Ot.onreadystatechange=function(){switch(Ot.readyState){case Ut.LOADING:case Ut.DONE:Qt._onXHRProgress()}},Qt._mode==="moz-chunked-arraybuffer"&&(Ot.onprogress=function(){Qt._onXHRProgress()}),Ot.onerror=function(){Qt._destroyed||Qt.emit("error",new Error("XHR error"))};try{Ot.send(Jt)}catch(nn){return void et.nextTick(function(){Qt.emit("error",nn)})}}}},Ft.prototype._onXHRProgress=function(){(function(Qt){try{var wt=Qt.status;return wt!==null&&wt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},Ft.prototype._connect=function(){var Qt=this;Qt._destroyed||(Qt._response=new bt(Qt._xhr,Qt._fetchResponse,Qt._mode,Qt._fetchTimer),Qt._response.on("error",function(wt){Qt.emit("error",wt)}),Qt.emit("response",Qt._response))},Ft.prototype._write=function(Qt,wt,Tt){this._body.push(Qt),Tt()},Ft.prototype.abort=Ft.prototype.destroy=function(){this._destroyed=!0,$.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},Ft.prototype.end=function(Qt,wt,Tt){typeof Qt=="function"&&(Tt=Qt,Qt=void 0),lt.Writable.prototype.end.call(this,Qt,wt,Tt)},Ft.prototype.flushHeaders=function(){},Ft.prototype.setTimeout=function(){},Ft.prototype.setNoDelay=function(){},Ft.prototype.setSocketKeepAlive=function(){};var yt=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,s(5).Buffer,s(6),s(2))},function(i,o,s){var _=s(5).Buffer;i.exports=function($){if($ instanceof Uint8Array){if($.byteOffset===0&&$.byteLength===$.buffer.byteLength)return $.buffer;if(typeof $.buffer.slice=="function")return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}if(_.isBuffer($)){for(var et=new Uint8Array($.length),rt=$.length,j=0;j<rt;j++)et[j]=$[j];return et.buffer}throw new Error("Argument must be a Buffer")}},function(i,o){i.exports=function(){for(var _={},$=0;$<arguments.length;$++){var et=arguments[$];for(var rt in et)s.call(et,rt)&&(_[rt]=et[rt])}return _};var s=Object.prototype.hasOwnProperty},function(i,o){i.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(i,o,s){(function(_,$){var et;(function(rt){o&&o.nodeType,_&&_.nodeType;var j=typeof $=="object"&&$;j.global!==j&&j.window!==j&&j.self;var st,lt=2147483647,gt=/^xn--/,bt=/[^\x20-\x7E]/,Ut=/[\x2E\u3002\uFF0E\uFF61]/g,Ft={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},yt=Math.floor,Qt=String.fromCharCode;function wt(Ct){throw new RangeError(Ft[Ct])}function Tt(Ct,Vt){for(var Yt=Ct.length,Pt=[];Yt--;)Pt[Yt]=Vt(Ct[Yt]);return Pt}function Jt(Ct,Vt){var Yt=Ct.split("@"),Pt="";return Yt.length>1&&(Pt=Yt[0]+"@",Ct=Yt[1]),Pt+Tt((Ct=Ct.replace(Ut,".")).split("."),Vt).join(".")}function At(Ct){for(var Vt,Yt,Pt=[],tn=0,Un=Ct.length;tn<Un;)(Vt=Ct.charCodeAt(tn++))>=55296&&Vt<=56319&&tn<Un?(64512&(Yt=Ct.charCodeAt(tn++)))==56320?Pt.push(((1023&Vt)<<10)+(1023&Yt)+65536):(Pt.push(Vt),tn--):Pt.push(Vt);return Pt}function Nt(Ct){return Tt(Ct,function(Vt){var Yt="";return Vt>65535&&(Yt+=Qt((Vt-=65536)>>>10&1023|55296),Vt=56320|1023&Vt),Yt+=Qt(Vt)}).join("")}function St(Ct,Vt){return Ct+22+75*(Ct<26)-((Vt!=0)<<5)}function Ot(Ct,Vt,Yt){var Pt=0;for(Ct=Yt?yt(Ct/700):Ct>>1,Ct+=yt(Ct/Vt);Ct>455;Pt+=36)Ct=yt(Ct/35);return yt(Pt+36*Ct/(Ct+38))}function nn(Ct){var Vt,Yt,Pt,tn,Un,Kt,$t,hn,dn,zt,It,gn=[],vn=Ct.length,Wn=0,Ln=128,jn=72;for((Yt=Ct.lastIndexOf("-"))<0&&(Yt=0),Pt=0;Pt<Yt;++Pt)Ct.charCodeAt(Pt)>=128&&wt("not-basic"),gn.push(Ct.charCodeAt(Pt));for(tn=Yt>0?Yt+1:0;tn<vn;){for(Un=Wn,Kt=1,$t=36;tn>=vn&&wt("invalid-input"),((hn=(It=Ct.charCodeAt(tn++))-48<10?It-22:It-65<26?It-65:It-97<26?It-97:36)>=36||hn>yt((lt-Wn)/Kt))&&wt("overflow"),Wn+=hn*Kt,!(hn<(dn=$t<=jn?1:$t>=jn+26?26:$t-jn));$t+=36)Kt>yt(lt/(zt=36-dn))&&wt("overflow"),Kt*=zt;jn=Ot(Wn-Un,Vt=gn.length+1,Un==0),yt(Wn/Vt)>lt-Ln&&wt("overflow"),Ln+=yt(Wn/Vt),Wn%=Vt,gn.splice(Wn++,0,Ln)}return Nt(gn)}function yn(Ct){var Vt,Yt,Pt,tn,Un,Kt,$t,hn,dn,zt,It,gn,vn,Wn,Ln,jn=[];for(gn=(Ct=At(Ct)).length,Vt=128,Yt=0,Un=72,Kt=0;Kt<gn;++Kt)(It=Ct[Kt])<128&&jn.push(Qt(It));for(Pt=tn=jn.length,tn&&jn.push("-");Pt<gn;){for($t=lt,Kt=0;Kt<gn;++Kt)(It=Ct[Kt])>=Vt&&It<$t&&($t=It);for($t-Vt>yt((lt-Yt)/(vn=Pt+1))&&wt("overflow"),Yt+=($t-Vt)*vn,Vt=$t,Kt=0;Kt<gn;++Kt)if((It=Ct[Kt])<Vt&&++Yt>lt&&wt("overflow"),It==Vt){for(hn=Yt,dn=36;!(hn<(zt=dn<=Un?1:dn>=Un+26?26:dn-Un));dn+=36)Ln=hn-zt,Wn=36-zt,jn.push(Qt(St(zt+Ln%Wn,0))),hn=yt(Ln/Wn);jn.push(Qt(St(hn,0))),Un=Ot(Yt,vn,Pt==tn),Yt=0,++Pt}++Yt,++Vt}return jn.join("")}st={version:"1.4.1",ucs2:{decode:At,encode:Nt},decode:nn,encode:yn,toASCII:function(Ct){return Jt(Ct,function(Vt){return bt.test(Vt)?"xn--"+yn(Vt):Vt})},toUnicode:function(Ct){return Jt(Ct,function(Vt){return gt.test(Vt)?nn(Vt.slice(4).toLowerCase()):Vt})}},(et=function(){return st}.call(o,s,o,_))===void 0||(_.exports=et)})()}).call(this,s(195)(i),s(6))},function(i,o){i.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(i,o,s){i.exports={isString:function(_){return typeof _=="string"},isObject:function(_){return typeof _=="object"&&_!==null},isNull:function(_){return _===null},isNullOrUndefined:function(_){return _==null}}},function(i,o,s){o.decode=o.parse=s(198),o.encode=o.stringify=s(199)},function(i,o,s){function _(et,rt){return Object.prototype.hasOwnProperty.call(et,rt)}i.exports=function(et,rt,j,st){rt=rt||"&",j=j||"=";var lt={};if(typeof et!="string"||et.length===0)return lt;var gt=/\+/g;et=et.split(rt);var bt=1e3;st&&typeof st.maxKeys=="number"&&(bt=st.maxKeys);var Ut=et.length;bt>0&&Ut>bt&&(Ut=bt);for(var Ft=0;Ft<Ut;++Ft){var yt,Qt,wt,Tt,Jt=et[Ft].replace(gt,"%20"),At=Jt.indexOf(j);At>=0?(yt=Jt.substr(0,At),Qt=Jt.substr(At+1)):(yt=Jt,Qt=""),wt=decodeURIComponent(yt),Tt=decodeURIComponent(Qt),_(lt,wt)?$(lt[wt])?lt[wt].push(Tt):lt[wt]=[lt[wt],Tt]:lt[wt]=Tt}return lt};var $=Array.isArray||function(et){return Object.prototype.toString.call(et)==="[object Array]"}},function(i,o,s){var _=function(j){switch(typeof j){case"string":return j;case"boolean":return j?"true":"false";case"number":return isFinite(j)?j:"";default:return""}};i.exports=function(j,st,lt,gt){return st=st||"&",lt=lt||"=",j===null&&(j=void 0),typeof j=="object"?et(rt(j),function(bt){var Ut=encodeURIComponent(_(bt))+lt;return $(j[bt])?et(j[bt],function(Ft){return Ut+encodeURIComponent(_(Ft))}).join(st):Ut+encodeURIComponent(_(j[bt]))}).join(st):gt?encodeURIComponent(_(gt))+lt+encodeURIComponent(_(j)):""};var $=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"};function et(j,st){if(j.map)return j.map(st);for(var lt=[],gt=0;gt<j.length;gt++)lt.push(st(j[gt],gt));return lt}var rt=Object.keys||function(j){var st=[];for(var lt in j)Object.prototype.hasOwnProperty.call(j,lt)&&st.push(lt);return st}},function(i,o,s){var _=s(83),$=s(86),et=i.exports;for(var rt in _)_.hasOwnProperty(rt)&&(et[rt]=_[rt]);function j(st){if(typeof st=="string"&&(st=$.parse(st)),st.protocol||(st.protocol="https:"),st.protocol!=="https:")throw new Error('Protocol "'+st.protocol+'" not supported. Expected "https:"');return st}et.request=function(st,lt){return st=j(st),_.request.call(this,st,lt)},et.get=function(st,lt){return st=j(st),_.get.call(this,st,lt)}},function(i,o,s){(function(_){function $(Qt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(Qt)}function et(Qt,wt){if(!(Qt instanceof wt))throw new TypeError("Cannot call a class as a function")}function rt(Qt,wt){for(var Tt=0;Tt<wt.length;Tt++){var Jt=wt[Tt];Jt.enumerable=Jt.enumerable||!1,Jt.configurable=!0,"value"in Jt&&(Jt.writable=!0),Object.defineProperty(Qt,Jt.key,Jt)}}function j(Qt,wt){return(j=Object.setPrototypeOf||function(Tt,Jt){return Tt.__proto__=Jt,Tt})(Qt,wt)}function st(Qt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Tt,Jt=gt(Qt);if(wt){var At=gt(this).constructor;Tt=Reflect.construct(Jt,arguments,At)}else Tt=Jt.apply(this,arguments);return lt(this,Tt)}}function lt(Qt,wt){return!wt||$(wt)!=="object"&&typeof wt!="function"?function(Tt){if(Tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tt}(Qt):wt}function gt(Qt){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(Qt)}var bt=s(87),Ut=s(3).MESSAGE,Ft=s(18),yt=s(20);i.exports=function(Qt){(function(Nt,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(St&&St.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),St&&j(Nt,St)})(At,Qt);var wt,Tt,Jt=st(At);function At(){var Nt,St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(et(this,At),Nt=Jt.call(this,St),!St.stream||!bt(St.stream))throw new Error("options.stream is required.");return Nt._stream=St.stream,Nt._stream.setMaxListeners(1/0),Nt.isObjectMode=St.stream._writableState.objectMode,Nt.eol=St.eol||Ft.EOL,Nt}return wt=At,(Tt=[{key:"log",value:function(Nt,St){var Ot=this;if(_(function(){return Ot.emit("logged",Nt)}),this.isObjectMode)return this._stream.write(Nt),void(St&&St());this._stream.write("".concat(Nt[Ut]).concat(this.eol)),St&&St()}}])&&rt(wt.prototype,Tt),At}(yt)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_){function $(Pt,tn,Un){return tn in Pt?Object.defineProperty(Pt,tn,{value:Un,enumerable:!0,configurable:!0,writable:!0}):Pt[tn]=Un,Pt}function et(Pt){return(et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tn){return typeof tn}:function(tn){return tn&&typeof Symbol=="function"&&tn.constructor===Symbol&&tn!==Symbol.prototype?"symbol":typeof tn})(Pt)}function rt(Pt,tn){for(var Un=0;Un<tn.length;Un++){var Kt=tn[Un];Kt.enumerable=Kt.enumerable||!1,Kt.configurable=!0,"value"in Kt&&(Kt.writable=!0),Object.defineProperty(Pt,Kt.key,Kt)}}function j(Pt,tn){return(j=Object.setPrototypeOf||function(Un,Kt){return Un.__proto__=Kt,Un})(Pt,tn)}function st(Pt){var tn=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Un,Kt=gt(Pt);if(tn){var $t=gt(this).constructor;Un=Reflect.construct(Kt,arguments,$t)}else Un=Kt.apply(this,arguments);return lt(this,Un)}}function lt(Pt,tn){return!tn||et(tn)!=="object"&&typeof tn!="function"?function(Un){if(Un===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Un}(Pt):tn}function gt(Pt){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(tn){return tn.__proto__||Object.getPrototypeOf(tn)})(Pt)}var bt=s(32),Ut=bt.Stream,Ft=bt.Transform,yt=s(51),Qt=s(3),wt=Qt.LEVEL,Tt=Qt.SPLAT,Jt=s(87),At=s(89),Nt=s(93),St=s(206),Ot=s(207),nn=s(61).warn,yn=s(50),Ct=/%[scdjifoO%]/g,Vt=function(Pt){(function(hn,dn){if(typeof dn!="function"&&dn!==null)throw new TypeError("Super expression must either be null or a function");hn.prototype=Object.create(dn&&dn.prototype,{constructor:{value:hn,writable:!0,configurable:!0}}),dn&&j(hn,dn)})($t,Pt);var tn,Un,Kt=st($t);function $t(hn){var dn;return function(zt,It){if(!(zt instanceof It))throw new TypeError("Cannot call a class as a function")}(this,$t),(dn=Kt.call(this,{objectMode:!0})).configure(hn),dn}return tn=$t,(Un=[{key:"child",value:function(hn){var dn=this;return Object.create(dn,{write:{value:function(zt){var It=Object.assign({},hn,zt);zt instanceof Error&&(It.stack=zt.stack,It.message=zt.message),dn.write(It)}}})}},{key:"configure",value:function(){var hn=this,dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zt=dn.silent,It=dn.format,gn=dn.defaultMeta,vn=dn.levels,Wn=dn.level,Ln=Wn===void 0?"info":Wn,jn=dn.exitOnError,xn=jn===void 0||jn,Rn=dn.transports,jt=dn.colors,Ht=dn.emitErrs,_n=dn.formatters,Dn=dn.padLevels,Tn=dn.rewriters,Xn=dn.stripColors,or=dn.exceptionHandlers,Rr=dn.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=zt,this.format=It||this.format||s(208)(),this.defaultMeta=gn||null,this.levels=vn||this.levels||yn.npm.levels,this.level=Ln,this.exceptions=new At(this),this.rejections=new Nt(this),this.profilers={},this.exitOnError=xn,Rn&&(Rn=Array.isArray(Rn)?Rn:[Rn]).forEach(function(ao){return hn.add(ao)}),jt||Ht||_n||Dn||Tn||Xn)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));or&&this.exceptions.handle(or),Rr&&this.rejections.handle(Rr)}},{key:"isLevelEnabled",value:function(hn){var dn=this,zt=Yt(this.levels,hn);if(zt===null)return!1;var It=Yt(this.levels,this.level);return It!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function(gn){var vn=Yt(dn.levels,gn.level);return vn===null&&(vn=It),vn>=zt})!==-1:It>=zt)}},{key:"log",value:function(hn,dn){for(var zt,It,gn=arguments.length,vn=new Array(gn>2?gn-2:0),Wn=2;Wn<gn;Wn++)vn[Wn-2]=arguments[Wn];if(arguments.length===1)return hn[wt]=hn.level,this._addDefaultMeta(hn),this.write(hn),this;if(arguments.length===2)return dn&&et(dn)==="object"?(dn[wt]=dn.level=hn,this._addDefaultMeta(dn),this.write(dn),this):(this.write(($(It={},wt,hn),$(It,"level",hn),$(It,"message",dn),It)),this);var Ln=vn[0];if(et(Ln)==="object"&&Ln!==null){var jn=dn&&dn.match&&dn.match(Ct);if(!jn){var xn,Rn=Object.assign({},this.defaultMeta,Ln,($(xn={},wt,hn),$(xn,Tt,vn),$(xn,"level",hn),$(xn,"message",dn),xn));return Ln.message&&(Rn.message="".concat(Rn.message," ").concat(Ln.message)),Ln.stack&&(Rn.stack=Ln.stack),this.write(Rn),this}}return this.write(Object.assign({},this.defaultMeta,($(zt={},wt,hn),$(zt,Tt,vn),$(zt,"level",hn),$(zt,"message",dn),zt))),this}},{key:"_transform",value:function(hn,dn,zt){if(this.silent)return zt();hn[wt]||(hn[wt]=hn.level),this.levels[hn[wt]]||this.levels[hn[wt]]===0||console.error("[winston] Unknown logger level: %s",hn[wt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",hn);try{this.push(this.format.transform(hn,this.format.options))}catch(It){throw It}finally{zt()}}},{key:"_final",value:function(hn){var dn=this.transports.slice();yt(dn,function(zt,It){if(!zt||zt.finished)return _(It);zt.once("finish",It),zt.end()},hn)}},{key:"add",value:function(hn){var dn=!Jt(hn)||hn.log.length>2?new St({transport:hn}):hn;if(!dn._writableState||!dn._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",dn),this._onEvent("warn",dn),this.pipe(dn),hn.handleExceptions&&this.exceptions.handle(),hn.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(hn){if(!hn)return this;var dn=hn;return(!Jt(hn)||hn.log.length>2)&&(dn=this.transports.filter(function(zt){return zt.transport===hn})[0]),dn&&this.unpipe(dn),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){nn.deprecated("setLevels")}},{key:"query",value:function(hn,dn){typeof hn=="function"&&(dn=hn,hn={}),hn=hn||{};var zt={},It=Object.assign({},hn.query||{});yt(this.transports.filter(function(gn){return!!gn.query}),function(gn,vn){(function(Wn,Ln){hn.query&&typeof Wn.formatQuery=="function"&&(hn.query=Wn.formatQuery(It)),Wn.query(hn,function(jn,xn){if(jn)return Ln(jn);typeof Wn.formatResults=="function"&&(xn=Wn.formatResults(xn,hn.format)),Ln(null,xn)})})(gn,function(Wn,Ln){vn&&((Ln=Wn||Ln)&&(zt[gn.name]=Ln),vn()),vn=null})},function(){return dn(null,zt)})}},{key:"stream",value:function(){var hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},dn=new Ut,zt=[];return dn._streams=zt,dn.destroy=function(){for(var It=zt.length;It--;)zt[It].destroy()},this.transports.filter(function(It){return!!It.stream}).forEach(function(It){var gn=It.stream(hn);gn&&(zt.push(gn),gn.on("log",function(vn){vn.transport=vn.transport||[],vn.transport.push(It.name),dn.emit("log",vn)}),gn.on("error",function(vn){vn.transport=vn.transport||[],vn.transport.push(It.name),dn.emit("error",vn)}))}),dn}},{key:"startTimer",value:function(){return new Ot(this)}},{key:"profile",value:function(hn){var dn=Date.now();if(this.profilers[hn]){var zt=this.profilers[hn];delete this.profilers[hn];for(var It=arguments.length,gn=new Array(It>1?It-1:0),vn=1;vn<It;vn++)gn[vn-1]=arguments[vn];typeof gn[gn.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),gn.pop());var Wn=et(gn[gn.length-1])==="object"?gn.pop():{};return Wn.level=Wn.level||"info",Wn.durationMs=dn-zt,Wn.message=Wn.message||hn,this.write(Wn)}return this.profilers[hn]=dn,this}},{key:"handleExceptions",value:function(){var hn;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(hn=this.exceptions).handle.apply(hn,arguments)}},{key:"unhandleExceptions",value:function(){var hn;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(hn=this.exceptions).unhandle.apply(hn,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(hn,dn){dn["__winston"+hn]||(dn["__winston"+hn]=function(zt){hn!=="error"||this.transports.includes(dn)||this.add(dn),this.emit(hn,zt,dn)}.bind(this),dn.on(hn,dn["__winston"+hn]))}},{key:"_addDefaultMeta",value:function(hn){this.defaultMeta&&Object.assign(hn,this.defaultMeta)}}])&&rt(tn.prototype,Un),$t}(Ft);function Yt(Pt,tn){var Un=Pt[tn];return Un||Un===0?Un:null}Object.defineProperty(Vt.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var Pt=this._readableState.pipes;return Array.isArray(Pt)?Pt:[Pt].filter(Boolean)}}),i.exports=Vt}).call(this,s(15).setImmediate)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=gt(s(45)),$=gt(s(46)),et=gt(s(66)),rt=gt(s(67)),j=gt(s(68)),st=gt(s(25)),lt=gt(s(30));function gt(Ft){return Ft&&Ft.__esModule?Ft:{default:Ft}}function bt(Ft,yt,Qt){Qt=(0,rt.default)(Qt);var wt=0,Tt=0,{length:Jt}=Ft,At=!1;function Nt(St,Ot){St===!1&&(At=!0),At!==!0&&(St?Qt(St):++Tt!==Jt&&Ot!==$.default||Qt(null))}for(Jt===0&&Qt(null);wt<Jt;wt++)yt(Ft[wt],wt,(0,j.default)(Nt))}function Ut(Ft,yt,Qt){return(0,et.default)(Ft,1/0,yt,Qt)}o.default=(0,lt.default)(function(Ft,yt,Qt){return((0,_.default)(Ft)?bt:Ut)(Ft,(0,st.default)(yt),Qt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return($,et,rt)=>_($,rt)},i.exports=o.default},function(i,o,s){var _=Object.prototype.toString;i.exports=function($){if(typeof $.displayName=="string"&&$.constructor.name)return $.displayName;if(typeof $.name=="string"&&$.name)return $.name;if(typeof $=="object"&&$.constructor&&typeof $.constructor.name=="string")return $.constructor.name;var et=$.toString(),rt=_.call($).slice(8,-1);return(et=rt==="Function"?et.substring(et.indexOf("(")+1,et.indexOf(")")):rt)||"anonymous"}},function(i,o,s){const _=s(13),{LEVEL:$}=s(3),et=s(20),rt=i.exports=function(j={}){if(et.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(st){this.emit("error",st,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(rt,et),rt.prototype._write=function(j,st,lt){if(this.silent||j.exception===!0&&!this.handleExceptions)return lt(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),lt(null)},rt.prototype._writev=function(j,st){for(let lt=0;lt<j.length;lt++)this._accept(j[lt])&&(this.transport.log(j[lt].chunk[$],j[lt].chunk.message,j[lt].chunk,this._nop),j[lt].callback());return st(null)},rt.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},rt.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){function _(et){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt})(et)}function $(et,rt){for(var j=0;j<rt.length;j++){var st=rt[j];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(et,st.key,st)}}i.exports=function(){function et(st){if(function(lt,gt){if(!(lt instanceof gt))throw new TypeError("Cannot call a class as a function")}(this,et),!st)throw new Error("Logger is required for profiling.");this.logger=st,this.start=Date.now()}var rt,j;return rt=et,(j=[{key:"done",value:function(){for(var st=arguments.length,lt=new Array(st),gt=0;gt<st;gt++)lt[gt]=arguments[gt];typeof lt[lt.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),lt.pop());var bt=_(lt[lt.length-1])==="object"?lt.pop():{};return bt.level=bt.level||"info",bt.durationMs=Date.now()-this.start,this.logger.write(bt)}}])&&$(rt.prototype,j),et}()},function(i,o,s){(function(_){const $=s(209),{MESSAGE:et}=s(3),rt=s(35);function j(st,lt){return lt instanceof _?lt.toString("base64"):typeof lt=="bigint"?lt.toString():lt}i.exports=$((st,lt={})=>(st[et]=(lt.stable?rt.stableStringify:rt)(st,lt.replacer||j,lt.space),st))}).call(this,s(5).Buffer)},function(i,o,s){class _ extends Error{constructor(et){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${et.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,_)}}i.exports=$=>{if($.length>2)throw new _($);function et(j={}){this.options=j}function rt(j){return new et(j)}return et.prototype.transform=$,rt.Format=et,rt}},function(i,o,s){function _(rt,j){if(!(rt instanceof j))throw new TypeError("Cannot call a class as a function")}function $(rt,j){for(var st=0;st<j.length;st++){var lt=j[st];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(rt,lt.key,lt)}}var et=s(88);i.exports=function(){function rt(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,rt),this.loggers=new Map,this.options=lt}var j,st;return j=rt,(st=[{key:"add",value:function(lt,gt){var bt=this;if(!this.loggers.has(lt)){var Ut=(gt=Object.assign({},gt||this.options)).transports||this.options.transports;gt.transports=Ut?Ut.slice():[];var Ft=et(gt);Ft.on("close",function(){return bt._delete(lt)}),this.loggers.set(lt,Ft)}return this.loggers.get(lt)}},{key:"get",value:function(lt,gt){return this.add(lt,gt)}},{key:"has",value:function(lt){return!!this.loggers.has(lt)}},{key:"close",value:function(lt){var gt=this;if(lt)return this._removeLogger(lt);this.loggers.forEach(function(bt,Ut){return gt._removeLogger(Ut)})}},{key:"_removeLogger",value:function(lt){this.loggers.has(lt)&&(this.loggers.get(lt).close(),this._delete(lt))}},{key:"_delete",value:function(lt){this.loggers.delete(lt)}}])&&$(j.prototype,st),rt}()},function(i,o,s){(function(_){const $=s(52),et=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;i.exports=function(rt,j,st,lt){let gt,bt,Ut=!1,Ft=!1;const yt=s(94);function Qt(Jt){lt(j,Jt)}function wt(Jt,At){let Nt=`"${j}" ${At}`;throw Jt&&(Nt=`${Nt}`),bt&&(Nt=`${Nt}. An example of a valid value would be: ${bt}`),new $(Nt)}const Tt={convertFromBase64:function(){return Qt("marking for base64 conversion"),Ut=!0,Tt},default:function(Jt){if(typeof Jt=="number")gt=Jt.toString();else if(Array.isArray(Jt)||typeof Jt=="object"&&Jt!==null)gt=JSON.stringify(Jt);else{if(typeof Jt!="string")throw new $("values passed to default() must be of Number, String, Array, or Object type");gt=Jt}return Qt(`setting default value to "${gt}"`),Tt},required:function(Jt){return Jt===void 0?(Qt("marked as required"),Ft=!0):(Qt(`setting required flag to ${Jt}`),Ft=Jt),Tt},example:function(Jt){return bt=Jt,Tt}};return Object.entries({...yt,...st}).forEach(([Jt,At])=>{Tt[Jt]=function(Nt){return function(){let St=rt[j];if(Qt(`will be read from the environment using "${Nt.name}" accessor`),St===void 0)if(gt===void 0&&Ft)Qt("was not found in the environment, but is required to be set"),wt(void 0,"is a required variable, but it was not set");else{if(gt===void 0)return void Qt("was not found in the environment, but is not required. returning undefined");Qt(`was not found in the environment, parsing default value "${gt}" instead`),St=gt}Ft&&(Qt("verifying variable value is not an empty string"),St.trim().length===0&&wt(void 0,"is a required variable, but its value was empty")),Ut&&(Qt("verifying variable is a valid base64 string"),St.match(et)||wt(St,"should be a valid base64 string if using convertFromBase64"),Qt("converting from base64 to utf8 string"),St=_.from(St,"base64").toString());const Ot=[St].concat(Array.prototype.slice.call(arguments));try{Qt(`passing value "${St}" to "${Nt.name}" accessor`);const nn=Nt.apply(Nt,Ot);return Qt(`parsed successfully, returning ${nn}`),nn}catch(nn){wt(St,nn.message)}}}(At)}),Tt}}).call(this,s(5).Buffer)},function(i,o,s){const _=s(33);i.exports=function($,et){return et=et||",",$.length?_($).split(et).filter(Boolean):[]}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if($!=="false"&&$!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return $!=="false"}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if(["false","0","true","1"].indexOf($)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!($==="0"||$==="false")}},function(i,o,s){const _=s(95);i.exports=function($){var et=_($);if(et>65535)throw new Error("cannot assign a port number greater than 65535");return et}},function(i,o,s){const _=s(33);i.exports=function($,et){const rt=_($);if(et.indexOf(rt)<0)throw new Error(`should be one of [${et.join(", ")}]`);return rt}},function(i,o,s){const _=s(54);i.exports=function($){const et=_($);if(et>0)throw new Error("should be a negative float");return et}},function(i,o,s){const _=s(54);i.exports=function($){const et=_($);if(et<0)throw new Error("should be a positive float");return et}},function(i,o,s){const _=s(53);i.exports=function($){const et=_($);if(et>0)throw new Error("should be a negative integer");return et}},function(i,o,s){const _=s(55);i.exports=function($){var et=_($);if(!Array.isArray(et))throw new Error("should be a parseable JSON Array");return et}},function(i,o,s){const _=s(55);i.exports=function($){var et=_($);if(Array.isArray(et))throw new Error("should be a parseable JSON Object");return et}},function(i,o,s){i.exports=function(_,$){try{RegExp(void 0,$)}catch{throw new Error("invalid regexp flags")}try{return new RegExp(_,$)}catch{throw new Error("should be a valid regexp")}}},function(i,o,s){const _=s(96);i.exports=function($){return _($).toString()}},function(i,o,s){const _=s(33),$=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021\u0023-\u005b\u005d-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021-\u005a\u0053-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])+)\])$/;i.exports=function(et){const rt=_(et);if(!$.test(rt))throw new Error("should be a valid email address");return rt}},function(i,o,s){i.exports=function(_,$){return function(et,rt){$&&$.match(/prod|production/)||_(`env-var (${et}): ${rt}`)}}},function(i,o,s){(function(_){(function(){var $,et,rt,j,st,lt;typeof performance<"u"&&performance!==null&&performance.now?i.exports=function(){return performance.now()}:_!=null&&_.hrtime?(i.exports=function(){return($()-st)/1e6},et=_.hrtime,j=($=function(){var gt;return 1e9*(gt=et())[0]+gt[1]})(),lt=1e9*_.uptime(),st=j-lt):Date.now?(i.exports=function(){return Date.now()-rt},rt=Date.now()):(i.exports=function(){return new Date().getTime()-rt},rt=new Date().getTime())}).call(this)}).call(this,s(2))},function(i,o,s){(function(_){(function($){function et(j){if((j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+j+"') is invalid.")}function rt(j,st){if(st=st===void 0?{fatal:!1}:st,(j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+j+"') is invalid.");if(st.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if($.TextEncoder&&$.TextDecoder)return!1;Object.defineProperty(et.prototype,"encoding",{value:"utf-8"}),et.prototype.encode=function(j,st){if((st=st===void 0?{stream:!1}:st).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");st=0;for(var lt=j.length,gt=0,bt=Math.max(32,lt+(lt>>1)+7),Ut=new Uint8Array(bt>>3<<3);st<lt;){var Ft=j.charCodeAt(st++);if(55296<=Ft&&56319>=Ft){if(st<lt){var yt=j.charCodeAt(st);(64512&yt)==56320&&(++st,Ft=((1023&Ft)<<10)+(1023&yt)+65536)}if(55296<=Ft&&56319>=Ft)continue}if(gt+4>Ut.length&&(bt+=8,bt=(bt*=1+st/j.length*2)>>3<<3,(yt=new Uint8Array(bt)).set(Ut),Ut=yt),(4294967168&Ft)==0)Ut[gt++]=Ft;else{if(!(4294965248&Ft))Ut[gt++]=Ft>>6&31|192;else if(!(4294901760&Ft))Ut[gt++]=Ft>>12&15|224,Ut[gt++]=Ft>>6&63|128;else{if(4292870144&Ft)continue;Ut[gt++]=Ft>>18&7|240,Ut[gt++]=Ft>>12&63|128,Ut[gt++]=Ft>>6&63|128}Ut[gt++]=63&Ft|128}}return Ut.slice(0,gt)},Object.defineProperty(rt.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(rt.prototype,"fatal",{value:!1}),Object.defineProperty(rt.prototype,"ignoreBOM",{value:!1}),rt.prototype.decode=function(j,st){if((st=st===void 0?{stream:!1}:st).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");st=0;for(var lt=(j=new Uint8Array(j)).length,gt=[];st<lt;){var bt=j[st++];if(bt===0)break;if(!(128&bt))gt.push(bt);else if((224&bt)==192){var Ut=63&j[st++];gt.push((31&bt)<<6|Ut)}else if((240&bt)==224){Ut=63&j[st++];var Ft=63&j[st++];gt.push((31&bt)<<12|Ut<<6|Ft)}else(248&bt)==240&&(65535<(bt=(7&bt)<<18|(Ut=63&j[st++])<<12|(Ft=63&j[st++])<<6|63&j[st++])&&(bt-=65536,gt.push(bt>>>10&1023|55296),bt=56320|1023&bt),gt.push(bt))}return String.fromCharCode.apply(null,gt)},$.TextEncoder=et,$.TextDecoder=rt})(typeof window<"u"?window:_!==void 0?_:this)}).call(this,s(6))},function(i,o,s){s.r(o),s.d(o,"AuthClient",function(){return et}),s.d(o,"RtcSignalingClient",function(){return j}),s.d(o,"Credentials",function(){return tn}),s.d(o,"IRtcStream",function(){}),s.d(o,"SignalingPromiseClient",function(){return Un.SignalingPromiseClient}),s.d(o,"IRtcClientConfigurationV1",function(){}),s.d(o,"IRtcClientConfiguration",function(){}),s.d(o,"IRtcConnectionStatsInfo",function(){}),s.d(o,"IRtcSendConfiguration",function(){}),s.d(o,"IRtcSessionMetricsMessageCounts",function(){}),s.d(o,"IRtcStreamMessage",function(){}),s.d(o,"IRtcStreamPayload",function(){}),s.d(o,"IStreamControl",function(){}),s.d(o,"RtcClient",function(){return su}),s.d(o,"RtcClientV1",function(){return zl}),s.d(o,"createRtcStreamMessage",function(){return zo});var _=s(28),$=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class et extends _.a{adminSignup(mn,bn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:bn,method:"POST",body:JSON.stringify(mn)})})}login(mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(mn),allowUnsafeRetries:!0})})}loginWithGoogleToken(mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(mn),allowUnsafeRetries:!0})})}refresh(mn,bn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:mn,tokenExpirationSeconds:bn}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(mn)})})}forgotPassword(mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:mn})})})}confirmForgotPassword(mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(mn)})})}resendInvitation(mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:mn})})})}changePassword({token:mn,refreshToken:bn,currentPassword:An,newPassword:ir}){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:mn,method:"POST",body:JSON.stringify({refreshToken:bn,currentPassword:An,newPassword:ir})})})}getDeviceCredentials(mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:mn,method:"POST",allowUnsafeRetries:!0})})}impersonate(mn,bn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:mn,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:bn})})})}createServiceAccount(mn,bn,An,ir){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:mn,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:bn,roleId:An,tags:ir})})})}getFeatures(mn){return $(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:mn})).features})}}var rt=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class j extends _.a{createPeer(mn,bn){return rt(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:mn,method:"POST",body:JSON.stringify(bn)})})}getPeers(mn){return rt(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:mn})).items})}refreshPeer(mn,bn){return rt(this,void 0,void 0,function*(){yield this.fetch(`peers/${bn}/refresh`,{token:mn,method:"POST",allowUnsafeRetries:!0})})}createSession(mn,bn){return rt(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:mn,method:"POST",body:JSON.stringify(bn)})})}refreshSession(mn,bn){return rt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${bn}/refresh`,{token:mn,method:"POST",allowUnsafeRetries:!0})})}deleteSession(mn,bn){return rt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${bn}`,{token:mn,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(mn){return rt(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:mn})).items})}getIceServers(mn){return rt(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:mn})).items})}addSignals(mn,bn,An){return rt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${bn}/add-signals`,{token:mn,method:"POST",body:JSON.stringify(An)})})}takeSignals(mn,bn){return rt(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${bn}/take-signals`,{token:mn,method:"POST"})).items})}}var st=s(1),lt=s(8),gt=s(14),bt=s.n(gt),Ut=s(104),Ft=s.n(Ut),yt=s(0),Qt=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class wt{constructor(mn){this.name="LogReporter",this.type="simple",this.message=mn}send(mn){return Qt(this,void 0,void 0,function*(){var bn,An;yt.a.info(this.message,(bn=mn.reduce((ir,cr)=>Object.assign(Object.assign({},ir),{[cr.name]:cr.stat}),{}),An=ir=>{const{sum:cr,count:Nr}=ir,Jr=cr/Nr;return Object.assign(Object.assign({},ir),{average:Jr})},Object.keys(bn).reduce((ir,cr)=>Object.assign(Object.assign({},ir),{[cr]:An(bn[cr])}),{})))})}}var Tt=s(4),Jt=s(39);function At(Mr){return!!Mr.match(/^[a-zA-Z0-9-_.,:?'"()@\/\\#$+ ]{1,255}$/)}var Nt=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};function St({func:Mr,delay:mn,immediate:bn=!1}){let An=!1,ir=setTimeout(function Nr(){return Nt(this,void 0,void 0,function*(){if(An)return;const Jr=new Date().getTime();try{cr=Mr(),yield cr}finally{if(!An){const Qn=new Date().getTime();ir=setTimeout(Nr,Math.max(mn-(Qn-Jr),0))}}})},bn?0:mn),cr=Promise.resolve();return{stop(){return Nt(this,void 0,void 0,function*(){An=!0,clearTimeout(ir),yield cr})}}}var Ot=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};const nn=s(226),yn=!!Tt.c,Ct=new class{constructor(Mr){this.samplePeriodSeconds=60,this.buffer={},this.reporters=[],this.flushInterval=St({func:()=>this.flushStats(),delay:this.samplePeriodSeconds*st.a.second}),this.tags=this.filterTags((Mr==null?void 0:Mr.tags)||{app:Tt.a,version:Tt.j,namespace:Tt.i,instanceId:Jt.a})}shutdown(){return Ot(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(lt.a)(2*st.a.second)})}aggregate(Mr,mn,bn){this.addToBuffer(this.buffer,this.encodeKey({metric:Mr,tags:this.filterTags(bn||{})}),typeof mn=="number"?{min:mn,max:mn,sum:mn,count:1}:mn)}increment(Mr,mn){this.aggregate(Mr,1,mn)}timer(Mr,mn,bn){return Ot(this,void 0,void 0,function*(){const An=nn(),ir=yield mn(),cr=nn();return this.aggregate(Mr,cr-An,bn),ir})}registerStatsReporter(Mr){this.reporters.push(Mr)}setTag(Mr,mn){const bn=this.filterTags({[Mr]:mn});this.tags=Object.assign(Object.assign({},this.tags),bn)}addToBuffer(Mr,mn,bn){if(Mr[mn]){const{min:An,max:ir,sum:cr,count:Nr}=Mr[mn];Mr[mn]={min:Math.min(An,bn.min),max:Math.max(ir,bn.max),sum:cr+bn.sum,count:Nr+bn.count}}else Mr[mn]=bn}write(Mr){return Ot(this,void 0,void 0,function*(){yield Promise.all(this.reporters.map(mn=>Ot(this,void 0,void 0,function*(){let bn;const An={};switch(mn.type){case"simple":for(const[cr,Nr]of Object.entries(Mr)){const{metric:Jr}=this.decodeKey(cr);this.addToBuffer(An,this.encodeKey({metric:Jr}),Nr)}bn=An;break;case"tagged":bn=Mr;break;default:(function(cr){throw new Error(`Unreachable type encountered (${cr})`)})(mn.type)}const ir=Object.entries(bn);if(ir.length>0)return mn.send(ir.map(([cr,Nr])=>{const{metric:Jr,tags:Qn}=this.decodeKey(cr);return{name:Jr,tags:Object.assign(Object.assign({},Qn),this.tags),stat:Nr}}),this.samplePeriodSeconds).catch(cr=>{yt.a.debug(`Failed to write stats to ${mn.name}`,{error:cr})})})))})}flushStats(){return Ot(this,void 0,void 0,function*(){yield this.write(this.buffer),this.buffer={}})}encodeKey(Mr){return bt()(Object.assign(Object.assign({},Mr),Object.keys(Mr.tags||{}).length>0?{tags:Mr.tags}:{}))}decodeKey(Mr){return JSON.parse(Mr)}filterTags(Mr){return Object.entries(Mr||{}).reduce((mn,[bn,An])=>(At(bn)&&At(An)&&(mn[bn]=An),mn),{})}};yn||["local","on-prem"].includes(Tt.i)||Ct.registerStatsReporter(new wt("stats"));var Vt=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class Yt extends class{constructor(mn){this.options=mn,this.cache=new Ft.a(Object.assign(Object.assign(Object.assign({},mn.dispose||mn.disposeAfter?{ttlAutopurge:!0}:{}),mn),{dispose:(...bn)=>{var An;bn[2]==="evict"&&Ct.increment("lru-eviction",{name:mn.name}),(An=mn.dispose)===null||An===void 0||An.call(mn,...bn)},disposeAfter:(...bn)=>{var An;this.updateStats(),(An=mn.disposeAfter)===null||An===void 0||An.call(mn,...bn)}})),this.stringify=mn.fastStringify?JSON.stringify:bt.a}set(mn,bn,An){const ir=this.stringify(mn);if(!this.cache.set(ir,bn,{ttl:An})){const cr=this.cache.sizeCalculation?this.cache.sizeCalculation(bn,ir):"unknown";throw Error(`Value too large (${cr} > ${this.cache.max})`)}this.updateStats()}get(mn){const{name:bn}=this.options,An=this.stringify(mn),ir=this.cache.getRemainingTTL(An);return ir<=0?Ct.increment("cache-miss",{name:bn}):ir!==1/0&&Ct.aggregate("cache-item-ttl",ir,{name:bn}),this.cache.get(An)}delete(mn){this.cache.delete(this.stringify(mn))}peek(mn){return this.cache.peek(this.stringify(mn))}size(){return this.cache.size}clear(){this.cache.clear()}forEach(mn){this.cache.forEach(mn)}purgeStale(){return this.cache.purgeStale()}updateStats(){const{name:mn}=this.options;Ct.aggregate("cache-item-count",this.cache.size,{name:mn}),this.cache.calculatedSize!==void 0&&Ct.aggregate("cache-length",this.cache.calculatedSize,{name:mn})}}{constructor(mn){if(super(mn),this.expireRejectedPromiseValues=mn.expireRejectedPromiseValues===void 0||mn.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=mn.rejectedPromiseValueTtl!==void 0?mn.rejectedPromiseValueTtl:st.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(mn,bn,An){super.set(mn,bn,An),this.expireRejectedPromiseValues&&bn.catch(()=>Vt(this,void 0,void 0,function*(){yield Object(lt.a)(this.rejectedPromiseValueTtl),this.peek(mn)===bn&&this.delete(mn)}))}}var Pt=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class tn{constructor(mn,bn,An){this.authClient=mn,this.email=bn,this.password=An,this.tokenTtlMs=1*st.a.hour,this.tokenCache=new Yt({name:"Credentials-tokenCache",max:100,ttl:this.tokenTtlMs-5*st.a.minute,fastStringify:!0})}getToken(){return Pt(this,void 0,void 0,function*(){let mn=this.tokenCache.get(this.email);return mn||(mn=(()=>Pt(this,void 0,void 0,function*(){const{authentication:bn}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/st.a.second});if(!bn)throw new Error("User account not verified.");return bn.accessToken}))(),this.tokenCache.set(this.email,mn)),mn})}}var Un=s(97),Kt=s(40),$t=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class hn extends Kt.a{constructor(mn){super(mn)}postLanRtcOffer(mn){return $t(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(mn)})})}}var dn=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};function zt(Mr){return dn(this,void 0,void 0,function*(){return(yield Promise.all(Mr.map(mn=>mn.catch(bn=>bn)))).filter(mn=>mn instanceof Error)})}function It(Mr){if(Mr!==void 0)return Mr;throw new Error("Value is undefined")}function gn(Mr,mn){const bn=Mr.reduce((An,ir)=>[...An,...ir.urls],[]).filter(An=>vn(An,mn)).sort(An=>Wn(An,"udp")?-1:0).shift();if(bn)return Object.assign(Object.assign({},It(Mr.find(An=>An.urls.includes(bn)))),{urls:[bn]})}function vn(Mr,mn){switch(mn){case"stun":return/^stuns?:/.test(Mr);case"turn":return/^turns?:/.test(Mr)}}function Wn(Mr,mn){return Mr.endsWith(`transport=${mn}`)}var Ln=s(9),jn=s(24),xn=s(229);class Rn extends Error{constructor(mn,bn){super(`Deadline expired after ${mn}ms + ${bn}ms`)}}class jt{static withDeadline(mn,bn){const An=new Promise((ir,cr)=>{setTimeout(()=>{cr(new Rn(bn,this.grpcCallDeadlineSlopMs))},bn+this.grpcCallDeadlineSlopMs)});return Promise.race([mn,An])}}jt.grpcCallDeadlineSlopMs=500*st.a.millisecond;var Ht=s(29);const _n={ordered:!1,maxPacketLifeTime:300*st.a.millisecond},Dn={ordered:!0},Tn={ordered:!0},Xn={ordered:!1,maxRetransmits:0},or={ordered:!1,maxRetransmits:0},Rr=Mr=>"received"in Mr&&Mr.received!==void 0,ao=Mr=>!("received"in Mr)||Mr.received===void 0,Vo=2*st.a.second;function bo(Mr,mn={}){const bn=Array.from(Mr.values()),An=bn.filter(Rr),ir=An.length>0,cr=Math.max(...An.map(qt=>qt.received));let Nr;if(ir){const qt=bn.length,rn=An.length,Cn=An.map(kr=>kr.received-kr.sent),{standardDeviation:Gn,mean:er,jitter:pr}=function(kr){const Xr=kr.length;if(Xr===0)return{mean:NaN,standardDeviation:-1,jitter:NaN};const Lr=kr.reduce((mo,wo)=>mo+wo,0)/Xr,Fo=Math.sqrt(kr.map(mo=>Math.pow(mo-Lr,2)).reduce((mo,wo)=>mo+wo)/Xr);if(Xr===1)return{mean:Lr,standardDeviation:Fo,jitter:NaN};let Uo=0;for(let mo=1;mo<Xr;mo++)Uo+=Math.abs(kr[mo]-kr[mo-1]);return{mean:Lr,standardDeviation:Fo,jitter:Uo/(Xr-1)}}(Cn),yr=bn.filter(kr=>kr.sent<cr-Vo),hr=yr.filter(ao),Fr=hr.length===0?0:hr.length/yr.length;Nr={pingsSent:qt,pongsReceived:rn,average:er,standardDeviation:Gn,jitter:pr,max:Math.max(...Cn),min:Math.min(...Cn),loss:Fr}}else Nr=null;const{temporalNow:Jr=Date.now()}=mn,Qn=(ir?cr:Jr)-4*Vo;return Array.from(Mr.entries()).forEach(qt=>{const[rn,Cn]=qt;Cn.sent<Qn&&Mr.delete(rn)}),Nr}function Po({entityId:Mr,streamName:mn,streamType:bn}){return`${Mr}.${mn}.${bn}`}var _o=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class Qo{constructor(mn,bn){this.sessionId=mn,this.connection=bn,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=mn,this.connection=bn}updateRemoteMessagesCounts(mn){if(mn.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const bn of mn.payload.streamsInfo.items)this.counts.remoteSent.set(bn.streamId,bn.sentCount),this.counts.remoteReceived.set(bn.streamId,bn.receivedCount)}}getLocalStreamsInfo(mn){const{localSent:bn,localReceived:An}=this.counts;return{items:[...new Set([...bn.keys(),...An.keys()])].map(ir=>{var cr,Nr;return{streamId:ir,sentCount:(cr=bn.get(ir))!==null&&cr!==void 0?cr:0,receivedCount:(Nr=An.get(ir))!==null&&Nr!==void 0?Nr:0}}),timestamp:mn}}incrementLocalSent(mn){const{localSent:bn}=this.counts,An=Po(mn.header.stream);bn.set(An,(bn.get(An)||0)+1)}incrementLocalReceived(mn){const{localReceived:bn}=this.counts,An=Po(mn.header.stream),ir=bn.get(An)||0;if(ir===0){const{streamName:cr,streamType:Nr}=mn.header.stream;yt.a.debug("RTC client received first message for stream",{streamName:cr,streamType:Nr})}bn.set(An,ir+1)}uploadMetrics(){return _o(this,void 0,void 0,function*(){const{sessionId:mn}=this,bn=yield this.connection.peerConnection.getStats(),An={};bn.forEach(qt=>An[qt.id]=qt),yt.a.debug("rtc-stats",Object.assign(Object.assign({},An),{sessionId:mn}));const{localSent:ir,localReceived:cr,remoteSent:Nr,remoteReceived:Jr}=this.counts,Qn=[...new Set([...ir.keys(),...cr.keys()])].reduce((qt,rn)=>{const Cn=ir.get(rn),Gn=cr.get(rn),er=Nr.get(rn),pr=Jr.get(rn);return Object.assign(Object.assign({},qt),{[`local-${rn}-sent`]:Cn,[`local-${rn}-received`]:Gn,[`remote-${rn}-sent`]:er,[`remote-${rn}-received`]:pr})},{sessionId:mn});yt.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},Qn))})}}function zo(Mr,mn,bn){return{header:{stream:Mr,created:Date.now(),frameId:bn||""},payload:mn}}function Ao(Mr){return new Set(["disconnected","failed","closed"]).has(Mr.iceConnectionState)}function qo(Mr){switch(Mr.header.stream.streamType){case"twist":{const{twist:mn}=Mr.payload;if(!mn)throw Error("twist not in payload of RTC message with type twist");return{header:Mr.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},mn.linear),angular:Object.assign({x:0,y:0,z:0},mn.angular)}}}}case"pose":{const{pose:mn}=Mr.payload;if(!mn)throw Error("pose not in payload of RTC message with type pose");return{header:Mr.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},mn.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},mn.rotation)}}}}case"pose-with-covariance":{const{poseWithCovariance:mn}=Mr.payload;if(!mn)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const bn=new Array(36).fill(0);return mn.covariance.forEach((An,ir)=>{if(ir>=36)throw Error("covariance contains more than 36 elements");bn[ir]=An}),{header:Mr.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},mn.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},mn.pose.rotation)},covariance:bn}}}}case"point":{const{point:mn}=Mr.payload;if(!mn)throw Error("point not in payload of RTC message with type point");return{header:Mr.header,payload:{point:Object.assign({x:0,y:0,z:0},mn)}}}default:return Mr}}var Do=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class ws{constructor(mn,bn,An){this.peerConnection=mn,this.config=bn,this.dataChannelNotifier=An,this.connectTimeoutMs=20*st.a.second,this.iceGatheringTimeoutMs=15*st.a.second,this.pingUpdateTimeoutMs=1*st.a.second,this.pingV2UpdateTimeoutMs=250*st.a.millisecond,this.pingV2MetricsGatherTimeoutMs=1*st.a.second,this.streamsInfoUpdateTimeoutMs=2*st.a.second,this.reassemblyTimeoutMs=500*st.a.millisecond,this.reassemblyTableCleanupMs=1*st.a.second,this.heartbeatTimeoutMs=20*st.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1,this.pingV2Map=new Map,this.sendPingV2=()=>{const{latestTryOnceStreamChannel:cr}=this;if(!cr)return;const Nr=new Date().getTime(),Jr=Object(xn.a)();this.sendSystemMessage(cr,{type:"ping-v2",payload:{timestamp:Nr,id:Jr}}),this.pingV2Map.set(Jr,{sent:Nr})},this.gatherPingV2Metrics=()=>{const cr=bo(this.pingV2Map);if(cr){const Nr=this.getRemoteDeviceId();this.pingInfo=cr,Ct.aggregate("rtc-ping-average",cr.average,Object.assign({},Nr?{deviceId:Nr}:{})),Ct.aggregate("rtc-ping-loss",cr.loss,Object.assign({},Nr?{deviceId:Nr}:{})),Ct.aggregate("rtc-jitter",cr.jitter,Object.assign({},Nr?{deviceId:Nr}:{}))}};const{isOffer:ir}=bn.baseConfig;ir?this.initializeChannels(mn):mn.ondatachannel=cr=>{switch(cr.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=cr.channel;break;case"stream.reliable":this.reliableStreamChannel=cr.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=cr.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=cr.channel;break;case"heartbeat":return void(this.heartbeatChannel=cr.channel);default:return void this.dataChannelNotifier(cr.channel)}this.setupChannel(cr.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:cr}=this;cr&&this.sendSystemMessage(cr,{type:"ping"})},this.pingUpdateTimeoutMs),this.pingV2UpdateTimeout=setInterval(this.sendPingV2,this.pingV2UpdateTimeoutMs),this.pingV2MetricsGatherTimeout=setInterval(this.gatherPingV2Metrics,this.pingV2MetricsGatherTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:cr}=this;cr&&this.sendSystemMessage(cr,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const cr=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((Nr,Jr,Qn)=>{cr>Jr+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(Nr)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:cr}=this;cr&&cr.readyState==="open"&&cr.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(mn){return Do(this,void 0,void 0,function*(){const{peerConnection:bn}=this,{track:An}=this.config.baseConfig,ir=(()=>{try{return JSON.parse(mn.getPayload())}catch{return}})();if(!ir)return void yt.a.error("Received unparseable signal.");yt.a.debug("Handling signal",{description:ir});const{sdp:cr,type:Nr}=ir;if(!cr||!Nr)return void yt.a.warn("Received non-SDP signal");const{signalingState:Jr,connectionState:Qn}=bn;if(Jr!=="stable"||Qn!=="connected")if(bn.remoteDescription)yt.a.warn(`Received SDP after remote description was set: ${cr}`);else{if(Nr==="offer"){if(Jr!=="stable")return void yt.a.warn("Received offer SDP when signaling is ongoing.");yield bn.setRemoteDescription(ir);const qt=yield bn.createAnswer();yield bn.setLocalDescription(qt);const rn=mn.clone();return An==null||An("Answer Received",rn),rn.setPayload(JSON.stringify(qt)),rn.setReceiverId(mn.getSenderId()),rn.setSenderId(mn.getReceiverId()),rn}if(Nr==="answer"){if(Jr==="stable")return void yt.a.warn("Received answer SDP when signaling hasn't started.");yield bn.setRemoteDescription(ir)}}else yt.a.warn(`Received SDP when already connected: ${cr}`)})}send(mn,bn){const An=this.getChannelFromLabel(bn.channelLabel);An?this.sendOnChannel(An,mn):yt.a.warn("Send called with unexpected channel label",{channelLabel:bn.channelLabel})}controlRemoteStream(mn){this.sendSystemMessage(It(this.reliableStreamChannel),{type:"stream-control",streamControl:mn})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:mn,latestTtlStreamChannel:bn,latestTryOnceStreamChannel:An,latestReliableStreamChannel:ir}=this;return(mn==null?void 0:mn.readyState)==="open"&&(bn==null?void 0:bn.readyState)==="open"&&(An==null?void 0:An.readyState)==="open"&&(ir==null?void 0:ir.readyState)==="open"}close(){return Do(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),Wo(this.pingUpdateTimeout),Wo(this.pingV2UpdateTimeout),Wo(this.pingV2MetricsGatherTimeout),Wo(this.reassemblyTableCleanupTimeout),Wo(this.streamsInfoUpdateTimeout),Wo(this.heartbeatTimeout);const{peerConnection:mn,reliableStreamChannel:bn,latestTtlStreamChannel:An,latestTryOnceStreamChannel:ir,latestReliableStreamChannel:cr}=this;mn.close(),bn==null||bn.close(),An==null||An.close(),ir==null||ir.close(),cr==null||cr.close()})}getPing(){return this.pingTimeMs}getPingInfo(){return this.pingInfo}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var mn;return(mn=this.config.remoteConfig)===null||mn===void 0?void 0:mn.sessionCreatedTimestamp}setSessionCreatedTimestamp(mn){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=mn)}getSessionId(){var mn;return(mn=this.config.remoteConfig)===null||mn===void 0?void 0:mn.sessionId}setSessionId(mn){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=mn,this.sessionMetrics=new Qo(mn,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var mn;return(mn=this.config.baseConfig)===null||mn===void 0?void 0:mn.remoteDeviceId}setRemoteDeviceId(mn){this.config.baseConfig.remoteDeviceId=mn}getSessionMetricsMessageCounts(){var mn;return(mn=this.sessionMetrics)===null||mn===void 0?void 0:mn.counts}getConnectionStatsInfo(){return Do(this,void 0,void 0,function*(){const{peerConnection:mn}=this;if(!mn)return;const bn=yield mn.getStats(null),An=[];bn.forEach(Qn=>{An.push(Qn)});const ir=An.find(Qn=>Qn.type==="transport");if(!ir)return;const cr=An.find(Qn=>(Qn.type==="candidate-pair"||Qn.type==="candidatepair")&&Qn.id===ir.selectedCandidatePairId);if(!cr)return;const Nr=An.find(Qn=>Qn.id===cr.localCandidateId),Jr=An.find(Qn=>Qn.id===cr.remoteCandidateId);return Nr&&Jr&&(Nr.address=Nr.address||Nr.ip,Jr.address=Jr.address||Jr.ip,Nr.address!==void 0&&Jr.address!==void 0)?{transport:ir,localCandidate:Nr,remoteCandidate:Jr}:void 0})}initializeChannels(mn){this.heartbeatChannel=mn.createDataChannel("heartbeat",or),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=mn.createDataChannel("stream.latest-ttl",_n),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=mn.createDataChannel("stream.reliable",Dn),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=mn.createDataChannel("stream.latest-reliable",Tn),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=mn.createDataChannel("stream.latest-try-once",Xn),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var mn,bn,An;return Do(this,void 0,void 0,function*(){const{gotOffer:ir}=this,{peerConnection:cr,config:Nr}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const Jr=(mn=this.config.remoteConfig)===null||mn===void 0?void 0:mn.sessionId;if(ir)return void yt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Ao(this.peerConnection))return void yt.a.debug("Failed to generate offer because the peer connection was inactive.");const Qn=Nr.baseConfig.track;cr.onicecandidate=()=>{this.hasIceCandidate=!0},cr.oniceconnectionstatechange=()=>Do(this,void 0,void 0,function*(){const er=cr.iceConnectionState;if(er==="connected"||er==="completed"){const pr=yield this.getConnectionStatsInfo(),yr=pr?function(hr){const Fr=hr.localCandidate.candidateType,kr=hr.remoteCandidate.candidateType;return Fr==="host"&&kr==="host"?"local":Fr==="relay"||kr==="relay"?"TURN":"STUN"}(pr):void 0;yt.a.info(`ICE connection state changed to ${er}`,{sessionId:Jr,connectionStatsInfo:pr,iceMode:yr}),Qn==null||Qn("ICE connection state change",{iceConnectionState:er,sessionId:Jr,connectionStatsInfo:pr,iceMode:yr})}}),yield cr.setLocalDescription(yield cr.createOffer());const qt=new Date().getTime();for(;;){const er=new Date().getTime()-qt;if(er>this.connectTimeoutMs)return void yt.a.debug("Failed to generate offer because ICE gathering timed out.");if(er>this.iceGatheringTimeoutMs&&this.hasIceCandidate){yt.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:cr.getConfiguration().iceTransportPolicy,waitTime:er}),Qn==null||Qn("ICE gathering partially completed",{sessionId:Jr,iceTransportPolicy:cr.getConfiguration().iceTransportPolicy,waitTime:er});break}if(cr.iceGatheringState==="complete"){yt.a.debug("ICE gathering complete",{iceTransportPolicy:cr.getConfiguration().iceTransportPolicy,waitTime:er}),Qn==null||Qn("ICE gathering completed",{sessionId:Jr,iceTransportPolicy:cr.getConfiguration().iceTransportPolicy,waitTime:er});break}yield Object(lt.a)(.1*st.a.second)}const rn=(bn=this.peerConnection.getConfiguration().iceServers)!==null&&bn!==void 0?bn:[];for(const er of rn)"credentialType"in er&&(er.credentialType=void 0);const Cn=JSON.stringify(rn),Gn=new Ln.Signal;return Gn.setPayload(JSON.stringify(cr.localDescription)),Gn.setSenderId(this.config.baseConfig.localPeerId),Gn.setReceiverId(this.config.baseConfig.remotePeerId),Gn.setIceServers(Cn),Gn.setIceTransportPolicy((An=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&An!==void 0?An:"all"),this.config.baseConfig.sessionType!==void 0?Gn.setSessionType(this.config.baseConfig.sessionType):Gn.setSessionType(Ln.SessionType.TELEOP),yt.a.debug("Sending offer signal with description",{description:Gn.getPayload()}),Gn})}getLanOffer(){return Do(this,void 0,void 0,function*(){const{peerConnection:mn,gotOffer:bn}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(bn)return void yt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Ao(this.peerConnection))return void yt.a.debug("Failed to generate offer because the peer connection was inactive.");yield mn.setLocalDescription(yield mn.createOffer());const An=new Date().getTime();for(;;){if(new Date().getTime()-An>this.iceGatheringTimeoutMs)return void yt.a.debug("Failed to generate offer because ICE gathering timed out.");if(mn.iceGatheringState==="complete")break;yield Object(lt.a)(.1*st.a.second)}const ir=mn.localDescription;if(ir)return yt.a.debug("Sending LAN offer signal with description",{description:ir}),ir;yt.a.error("Failed to generate LAN offer description")})}handleLanAnswer(mn){return Do(this,void 0,void 0,function*(){const{peerConnection:bn}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield bn.setRemoteDescription(mn)})}getChannelFromLabel(mn){switch(mn){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(mn,bn){let An;try{An=Object(Ht.encode)(JSON.stringify(bn))}catch(ir){return void yt.a.warn("Failed to encode RTC message",{error:ir})}try{mn.send(An),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(bn)}catch(ir){yt.a.warn("Failed to send message to channel",{error:ir,channel:mn.label})}}channelNotRecognized(mn){return mn!==this.latestTtlStreamChannel&&mn!==this.latestReliableStreamChannel&&mn!==this.latestTryOnceStreamChannel&&mn!==this.reliableStreamChannel}setupChannel(mn){mn.onmessage=bn=>{if(this.channelNotRecognized(mn))return void yt.a.warn("Received message on unrecognized data channel.");let An;try{An=JSON.parse(Object(Ht.decode)(bn.data))}catch(ir){return void yt.a.warn("Received unparseable message on RTC stream data channel",{error:ir,channel:mn.label})}An.communicationType==="message-chunk"?this.receiveChannelMessageChunk(mn,An):this.receiveChannelMessage(mn,An)},mn.onerror=bn=>{yt.a.warn(`Channel error: ${bn.error}`,{error:bn.error,sessionId:this.getSessionId(),channelLabel:mn.label})},mn.onopen=()=>{yt.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:mn.label})},mn.onclose=()=>{const bn={bufferedAmount:mn.bufferedAmount,sessionId:this.getSessionId(),channelLabel:mn.label};this.closeCalled===!1?yt.a.debug("Unexpected channel closed",bn):yt.a.debug("Channel closed",bn)}}receiveChannelMessage(mn,bn){const{config:An}=this,{remotePeerId:ir}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),bn=qo(bn),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(bn),this.handleSystemMessage(mn,bn)||(mn===this.latestTryOnceStreamChannel||mn===this.latestTtlStreamChannel||mn===this.latestReliableStreamChannel)&&!this.isLatestMessage(bn)||An.baseConfig.receive(ir,bn)}receiveChannelMessageChunk(mn,bn){const An=this.reassemblyTable.get(bn.id)||[];if(An.push(bn),An.length===bn.total){const ir=function(cr){const Nr=cr.sort((Jr,Qn)=>Jr.seq<Qn.seq?-1:1).map(Jr=>Jr.part).reduce((Jr,Qn)=>Jr+Qn);try{return JSON.parse(Nr)}catch{return void yt.a.warn("Could not reassemble RTC message chunks")}}(An);return ir&&this.receiveChannelMessage(mn,ir),void this.reassemblyTable.delete(bn.id)}this.reassemblyTable.set(bn.id,An),this.reassemblyTableLastTimestamp.set(bn.id,new Date().getTime())}handleSystemMessage(mn,bn){var An,ir;const{config:cr}=this,{baseConfig:Nr}=cr,{remotePeerId:Jr,remoteDeviceId:Qn}=Nr;switch(bn.header.stream.streamType){case"ping":return this.sendSystemMessage(mn,{type:"pong",timestamp:It(bn.payload.ping)}),!0;case"pong":{const qt=new Date().getTime()-It(bn.payload.pong);return this.pingTimeMs=qt,Ct.aggregate("rtc-ping-time",qt,Object.assign({},Qn?{deviceId:Qn}:{})),!0}case"ping-v2":return this.sendPingV2(),!0;case"pong-v2":{const qt=It(bn.payload.pongV2),rn=this.pingV2Map.get(qt.id);return(rn==null?void 0:rn.sent)!==qt.timestamp&&yt.a.warn("Pong timestamp doesn't match stored value",{currentEntry:rn,pong:qt}),this.pingV2Map.set(qt.id,{sent:qt.timestamp,received:new Date().getTime()}),!0}case"streams-info":{const{sessionMetrics:qt}=this,rn=(An=bn.payload.streamsInfo)===null||An===void 0?void 0:An.timestamp;return!!rn&&(qt==null||qt.updateRemoteMessagesCounts(bn),(ir=Nr.onStreamsInfoUpdate)===null||ir===void 0||ir.call(Nr,Jr,rn),!0)}case"stream-control":return!0;default:return!1}}sendSystemMessage(mn,bn){var An;const{localUserId:ir,localPeerId:cr}=this.config.baseConfig;if(mn.readyState!=="open")return;const Nr={entityId:ir??cr,streamName:`$.${bn.type}`,streamType:bn.type};let Jr;switch(bn.type){case"ping":Jr={ping:new Date().getTime()};break;case"pong":Jr={pong:bn.timestamp};break;case"ping-v2":Jr={pingV2:bn.payload};break;case"pong-v2":Jr={pongV2:bn.payload};break;case"stream-control":Jr={streamControl:bn.streamControl};break;case"streams-info":Jr={streamsInfo:(An=this.sessionMetrics)===null||An===void 0?void 0:An.getLocalStreamsInfo(new Date().getTime())}}this.sendOnChannel(mn,zo(Nr,Jr))}isLatestMessage(mn){const bn=Po(mn.header.stream),An=(this.streamLatestTimestamp.get(bn)||0)<=mn.header.created;return An&&this.streamLatestTimestamp.set(bn,mn.header.created),An}}function Wo(Mr){Mr&&clearInterval(Mr)}function Fl(){yt.a.debug("forceGarbageCollection() triggered"),queueMicrotask(()=>{let Mr=document.createElement("img");Mr.src=window.URL.createObjectURL(new Blob([new ArrayBuffer(5e7)])),Mr.onerror=function(){window.URL.revokeObjectURL(this.src),Mr=null}})}function ys(Mr){try{return Mr instanceof Error?`${Mr.name}: ${Mr.message}`:typeof Mr=="object"?JSON.stringify(Mr):String(Mr)}catch{return"Unknown error"}}function Ys(Mr){var mn,bn;return{userId:(mn=Mr.getUserId())===null||mn===void 0?void 0:mn.getValue(),deviceId:(bn=Mr.getDeviceId())===null||bn===void 0?void 0:bn.getValue(),organizationId:Mr.getOrganizationId(),id:Mr.getPeerId(),capabilities:[],capabilitySet:{}}}var ss=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class su{constructor(mn){this.config=mn,this.grpcCallDeadline=5*st.a.second,this.refreshIntervalDelayMs=2*st.a.second,this.iceServersTtl=30*st.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[],this.rtcInstancesConstructed=0;const{refreshIntervalDelayMs:bn}=this;this.refreshInterval=St({func:()=>ss(this,void 0,void 0,function*(){try{yield this.update()}catch(An){yt.a.warn("RTC refresh failed",{error:An})}}),delay:bn,immediate:!0})}send(mn,bn,An){const ir=this.getActiveConnection(mn);ir?ir.isReady()?ir.send(bn,An):yt.a.warn("Send called with unready connection."):yt.a.warn("Send called with no connection.")}controlRemoteStream(mn,bn){const An=this.getActiveConnection(mn);An?An.isReady()?An.controlRemoteStream(bn):yt.a.warn("controlRemoteStream called with unready connection."):yt.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return ss(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(lt.a)(.1*st.a.second);return Ys(this.localPeer)})}connect(mn,bn){var An,ir,cr;return ss(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:Nr,signalingClient:Jr}=this.config,{localPeer:Qn,receiveSignalStream:qt,iceServers:rn}=this;if(!Qn||!qt||!rn)return void yt.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(mn))return void yt.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(mn))return void yt.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(mn,!0);const Cn=function(kr,Xr,Lr){const{rtcIceTransportPolicies:Fo,rtcIceServerProtocol:Uo,useAllServers:mo}=Xr||{},wo=kr.map(Oo=>Object.assign(Object.assign({},Oo),{urls:Oo.urls.filter(ls=>{const Bo=(Fo===void 0||Fo.some(Rs=>vn(ls,Rs)))&&(Uo===void 0||Wn(ls,Uo));return Bo||yt.a.debug(`Ignoring ICE server: ${ls}`,{organizationId:Lr}),Bo})})).filter(({urls:Oo})=>Oo.filter(ls=>ls).length>0);return mo?wo:[gn(wo,"stun"),gn(wo,"turn")].filter(Oo=>Oo!==void 0).map(Oo=>It(Oo))}(rn,bn);yt.a.debug("Received ICE servers:",rn),yt.a.debug("Using ICE servers:",Cn);const Gn=new ws(yield this.createRTCPeerConnection(Cn),{baseConfig:{isOffer:!0,isLan:!1,receive:(kr,Xr)=>this.config.receive(kr,Xr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(kr,Xr)=>{var Lr,Fo;return(Fo=(Lr=this.config).onStreamsInfoUpdate)===null||Fo===void 0?void 0:Fo.call(Lr,kr,Xr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(An=Qn.getUserId())===null||An===void 0?void 0:An.getValue(),localPeerId:Qn.getPeerId(),remotePeerId:mn,sessionType:this.config.sessionType},remoteConfig:{}},kr=>this.onCustomDataChannel(mn,kr)),er=yield Gn.getOffer();if(!er)return yt.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(mn);yt.a.debug("Sending offer."),Nr==null||Nr("Sending offer",er);const pr=new Ln.SendSignalRequest;pr.setSignal(er);const yr=yield(()=>ss(this,void 0,void 0,function*(){try{return yield jt.withDeadline(Jr.sendSignal(pr,yield this.getMetadata({})),this.grpcCallDeadline)}catch(kr){yt.a.warn("Error when sending signal",{error:kr})}}))();if(!this.isOutgoingConnection.get(mn))return void yt.a.debug("No offer set after receiving offer signal response.");yt.a.debug("Offer sent.");const hr=(ir=yr==null?void 0:yr.getSessionId())===null||ir===void 0?void 0:ir.getValue(),Fr=(cr=yr==null?void 0:yr.getSessionCreatedTimestamp())===null||cr===void 0?void 0:cr.getValue();return hr&&Fr?(Gn.setSessionId(hr),Gn.setSessionCreatedTimestamp(Fr),this.isOutgoingConnection.delete(mn),this.connections.push(Gn),this.isConnectionInitiator.set(Gn,!0),this.setupHandlers(Gn),hr):(yt.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(mn))})}connectLan(mn){var bn,An;return ss(this,void 0,void 0,function*(){const ir=new hn(mn),cr=new ws(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(qt,rn)=>this.config.receive(qt,rn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(qt,rn)=>{var Cn,Gn;return(Gn=(Cn=this.config).onStreamsInfoUpdate)===null||Gn===void 0?void 0:Gn.call(Cn,qt,rn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(An=(bn=this.localPeer)===null||bn===void 0?void 0:bn.getUserId())===null||An===void 0?void 0:An.getValue(),localPeerId:"lan_client",remotePeerId:mn}},qt=>this.onCustomDataChannel(mn,qt)),Nr=yield cr.getLanOffer();if(!Nr)return yt.a.warn("Could not generate LAN offer"),!1;const Jr=yield ir.postLanRtcOffer({offer:JSON.stringify(Nr)}),Qn=new RTCSessionDescription(JSON.parse(Jr.answer));return yield cr.handleLanAnswer(Qn),this.localConnections.push(cr),this.isConnectionInitiator.set(cr,!0),Object(xn.a)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(mn,bn,An,ir,cr){const Nr=this.getActiveConnection(mn);if(Nr&&this.isConnectionInitiator.has(Nr)){const Qn=Nr.peerConnection.createDataChannel("custom."+bn,An);return ir&&(Qn.binaryType="arraybuffer"),cr(mn,Qn),()=>{}}const Jr=(Qn,qt)=>{mn===Qn&&qt.label==="custom."+bn&&cr(mn,qt)};return this.peerDataChannelListeners.push(Jr),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(Qn=>Qn!==Jr)}}onCustomDataChannel(mn,bn){this.peerDataChannelListeners.forEach(An=>An(mn,bn))}getConnectionStatus(mn){if(this.isOutgoingConnection.get(mn))return"connecting";const bn=this.getActiveConnection(mn);return bn?bn.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(mn){return ss(this,void 0,void 0,function*(){const bn=this.getActiveConnection(mn);if(bn)return yield bn.getConnectionStatsInfo()})}disconnect(mn){return ss(this,void 0,void 0,function*(){const bn=this.getActiveConnection(mn);bn&&(yield bn.close())})}getPeers(){return ss(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:mn}=this.config,bn=yield(()=>ss(this,void 0,void 0,function*(){try{return yield jt.withDeadline(mn.getPeers(new Ln.GetPeersRequest,yield this.getMetadata({})),this.grpcCallDeadline)}catch(cr){yt.a.warn("Error when getting peers",{error:cr})}}))();if(!bn)return[];const An=bn.getPeersList();if(!An)return[];const ir=cr=>{var Nr,Jr;return(Jr=(Nr=cr.getPeerCreatedTimestamp())===null||Nr===void 0?void 0:Nr.getValue())!==null&&Jr!==void 0?Jr:0};return An.sort((cr,Nr)=>ir(Nr)-ir(cr)).map(cr=>Ys(cr))})}getSessions(){return ss(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:mn}=this.config,bn=yield(()=>ss(this,void 0,void 0,function*(){try{return yield jt.withDeadline(mn.getPeers(new Ln.GetPeersRequest,yield this.getMetadata({})),this.grpcCallDeadline)}catch(cr){yt.a.warn("Error when getting peers",{error:cr})}}))();if(!bn)return{};const An=bn.getPeersList(),ir={};for(const cr of An)ir[cr.getPeerId()]=cr.getSessionIdsList();return ir})}getPing(mn){const bn=this.getActiveConnection(mn);if(bn)return bn.getPing();yt.a.warn("Attempted to get ping time from inactive peer.")}getPingInfo(mn){const bn=this.getActiveConnection(mn);if(bn)return bn.getPingInfo();yt.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(mn){const bn=this.getActiveConnection(mn);if(bn)return bn.getLastMessageTimestamp();yt.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(mn){const bn=this.getActiveConnection(mn);if(bn)return bn.getSessionMetricsMessageCounts();yt.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:mn,receiveSignalStream:bn,iceServers:An}=this;return!!(mn&&bn&&An)}shutdown(){return ss(this,void 0,void 0,function*(){yt.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const mn=this.connections;this.connections=[],yield this.closeConnections(mn);const{localPeer:bn}=this;if(!bn||this.config.lanOnlyMode)return;const{signalingClient:An}=this.config;yield(()=>ss(this,void 0,void 0,function*(){try{const ir=new Ln.DeletePeerRequest;ir.setPeerId(bn.getPeerId()),yield jt.withDeadline(An.deletePeer(ir,yield this.getMetadata({})),this.grpcCallDeadline)}catch(ir){return void yt.a.warn("Error deleting local peer",{error:ir})}}))()})}createPeer(){return ss(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:mn}=this.config,bn=yield(()=>ss(this,void 0,void 0,function*(){try{return yield jt.withDeadline(mn.createPeer(new Ln.CreatePeerRequest,yield this.getMetadata({})),this.grpcCallDeadline)}catch(ir){const cr=ir;yt.a.debug("createPeer failed",{error:cr});const Nr=ys(cr);throw new Error(`Was not able to create peer: ${Nr}`)}}))(),An=bn==null?void 0:bn.getPeer();if(!An)throw new Error("Response did not provide peer.");return this.localPeer=An})}createReceiveSignalStream(){return ss(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:mn}=this.config,{localPeer:bn,iceServers:An}=this;if(!bn||!An)return;const{receiveSignalStream:ir}=this;ir&&ir.cancel();const cr=new Ln.ReceiveSignalStreamRequest;cr.setPeerId(bn.getPeerId());const Nr=yield(()=>ss(this,void 0,void 0,function*(){try{return mn.receiveSignalStream(cr,yield this.getMetadata({hasDeadline:!1}))}catch(Jr){yt.a.debug("createReceiveSignalStream failed",{error:Jr});const Qn=ys(Jr);throw new Error(`Unable to create receive signal stream: ${Qn}`)}}))();if(!Nr)throw new Error("Response did not provide stream.");return Nr.on("data",Jr=>ss(this,void 0,void 0,function*(){var Qn,qt,rn,Cn;const Gn=Jr.getSignal(),er=(Qn=Gn==null?void 0:Gn.getSessionId())===null||Qn===void 0?void 0:Qn.getValue(),pr=Gn==null?void 0:Gn.getSenderId(),yr=Gn==null?void 0:Gn.getReceiverId(),hr=(qt=Gn==null?void 0:Gn.getSessionCreatedTimestamp())===null||qt===void 0?void 0:qt.getValue();if(!(Gn&&er&&pr&&yr&&hr))return void yt.a.warn("Received signal with missing information.");const Fr=this.getActiveConnection(pr);if(Fr)if(Fr.getSessionId()!==er){if(yt.a.debug("Received signal: different session for a peer we're already connected to."),(Fr.getSessionCreatedTimestamp()||0)>hr)return;const kr=new ws(yield this.createRTCPeerConnection(An),{baseConfig:{isOffer:!1,isLan:!1,receive:(Xr,Lr)=>this.config.receive(Xr,Lr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Xr,Lr)=>{var Fo,Uo;return(Uo=(Fo=this.config).onStreamsInfoUpdate)===null||Uo===void 0?void 0:Uo.call(Fo,Xr,Lr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:bn.getPeerId(),localUserId:(Cn=bn.getUserId())===null||Cn===void 0?void 0:Cn.getValue(),remotePeerId:pr},remoteConfig:{sessionId:er,sessionCreatedTimestamp:hr}},Xr=>this.onCustomDataChannel(pr,Xr));yield kr.handleSignal(Gn),this.connections.push(kr)}else yt.a.debug("Received signal: for an existing connection."),yield Fr.handleSignal(Gn);else{yt.a.debug("Received signal: new connection.");const kr=new ws(yield this.createRTCPeerConnection(An),{baseConfig:{isOffer:!1,isLan:!1,receive:(Xr,Lr)=>this.config.receive(Xr,Lr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Xr,Lr)=>{var Fo,Uo;return(Uo=(Fo=this.config).onStreamsInfoUpdate)===null||Uo===void 0?void 0:Uo.call(Fo,Xr,Lr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:bn.getPeerId(),localUserId:(rn=bn.getUserId())===null||rn===void 0?void 0:rn.getValue(),remotePeerId:pr},remoteConfig:{sessionId:er,sessionCreatedTimestamp:hr}},Xr=>this.onCustomDataChannel(pr,Xr));yield kr.handleSignal(Gn),this.connections.push(kr)}})),Nr.on("end",()=>{Nr.cancel(),this.receiveSignalStream=void 0}),Nr.on("error",Jr=>{switch(Jr.code){case jn.StatusCode.CANCELLED:case jn.StatusCode.UNAVAILABLE:case jn.StatusCode.UNKNOWN:yt.a.debug("Receive signal stream error",{error:Jr});break;case jn.StatusCode.UNAUTHENTICATED:yt.a.warn("Receive signal stream error",{error:Jr});break;default:yt.a.error("Receive signal stream error",{error:Jr})}Nr.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=Nr})}createRTCPeerConnection(mn){var bn;return ss(this,void 0,void 0,function*(){const An=(bn=this.config.alternateRTCPeerConnection)!==null&&bn!==void 0?bn:window.RTCPeerConnection;if(!An)throw function(){const{userAgent:ir}=navigator;return ir.includes("Firefox/")?"Firefox":ir.includes("Edg/")?"Edge":ir.includes("Chrome/")?"Chrome":ir.includes("Safari/")?"Safari":ir.includes("MSIE/")||ir.includes("Trident/")?"IE":"Other"}()!=="Chrome"?new Error("WebRTC is not enabled. Please try again with the latest version of Google Chrome."):new Error("WebRTC is not enabled. Please ensure WebRTC is not disabled by ad blocking software.");this.rtcInstancesConstructed++,this.rtcInstancesConstructed%20||Fl();try{return new An({iceServers:mn})}catch(ir){throw yt.a.debug(`Failed to create RTCPeerConnection: ${this.rtcInstancesConstructed} total allocated`),ir}})}closeConnections(mn){return ss(this,void 0,void 0,function*(){const bn=yield zt(mn.map(An=>ss(this,void 0,void 0,function*(){yield An.close()})));for(const An of bn)yt.a.warn("Request to close session failed",{error:An})})}getActiveConnection(mn){return this.getConnections().find(bn=>bn.getRemotePeerId()===mn&&bn.isActive())}update(){var mn;return ss(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(Jr=>Jr.isActive()),this.config.lanOnlyMode)return;const{signalingClient:bn}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers){const Jr=[];return this.localPeer||Jr.push(this.createPeer()),this.iceServers||Jr.push(this.updateIceServers()),yield Promise.all(Jr),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()))}yield this.closeConnections(this.connections.filter(Jr=>!Jr.isActive())),this.connections=this.connections.filter(Jr=>Jr.isActive());const{localPeer:An}=this,ir=this.connections.filter(Jr=>Jr.getSessionId).map(Jr=>It(Jr.getSessionId()));An.setSessionIdsList(ir);const cr=new Ln.RefreshPeerRequest;cr.setPeer(An);try{yield jt.withDeadline(bn.refreshPeer(cr,yield this.getMetadata({})),this.grpcCallDeadline)}catch(Jr){Jr.code===jn.StatusCode.NOT_FOUND?(yt.a.warn("Peer expired, creating new peer",{peerId:An.getPeerId()}),yield this.reset()):yt.a.warn("Error calling RefreshPeer",{error:Jr})}const Nr=yield this.getPeers();for(const Jr of this.connections)Jr.setRemoteDeviceId((mn=Nr.find(Qn=>Qn.id===Jr.getRemotePeerId()))===null||mn===void 0?void 0:mn.deviceId)})}reset(){return ss(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return ss(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:mn,iceServersTtl:bn}=this,An=new Date().getTime();if(!mn||An-mn>bn)try{const ir=(yield jt.withDeadline(this.config.signalingClient.getIceServers(new Ln.GetIceServersRequest,yield this.getMetadata({})),this.grpcCallDeadline)).getIceServers();this.iceServers=JSON.parse(ir),this.iceServersLastUpdate=An}catch(ir){yt.a.warn("Error in updateIceServers",{error:ir})}})}setupHandlers(mn){const{peerConnection:bn}=mn,An=mn.getSessionCreatedTimestamp();bn.onconnectionstatechange=()=>ss(this,void 0,void 0,function*(){const ir=bn.connectionState;if(!An)return;const cr=mn.getRemoteDeviceId();switch(ir){case"connected":Ct.aggregate("rtc-connect-time",new Date().getTime()-An,Object.assign({},cr?{deviceId:cr}:{}));break;case"failed":Ct.increment("rtc-connect-failed",Object.assign({},cr?{deviceId:cr}:{}))}})}getMetadata(mn){return ss(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:bn}=this.config,{grpcCallDeadline:An}=this,{hasDeadline:ir}=mn,cr=ir===!1?void 0:new Date().getTime()+An;try{return{authorization:yield bn(),deadline:cr}}catch(Nr){throw yt.a.error("getToken() failed",{error:Nr}),new Error("Cannot get authorization token")}})}}var Xs=s(10),_l=s(11),tp=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class Uu{constructor(mn,bn){this.sessionId=mn,this.connection=bn,this.sentMessagesCounts=new Map,this.receivedMessagesCounts=new Map,this.sessionId=mn,this.connection=bn}incrementMessageSent(mn){const bn=Po(mn.header.stream);this.sentMessagesCounts.set(bn,(this.sentMessagesCounts.get(bn)||0)+1)}incrementMessageReceived(mn){const bn=Po(mn.header.stream);this.receivedMessagesCounts.set(bn,(this.receivedMessagesCounts.get(bn)||0)+1)}uploadMetrics(){return tp(this,void 0,void 0,function*(){const{sessionId:mn}=this,bn=yield this.connection.peerConnection.getStats(),An={};bn.forEach(cr=>An[cr.id]=cr),yt.a.debug("rtc-stats",Object.assign(Object.assign({},An),{sessionId:mn}));const ir=[...new Set(Array.from(this.sentMessagesCounts.keys()).concat(Array.from(this.receivedMessagesCounts.keys())))].reduce((cr,Nr)=>{const Jr=this.sentMessagesCounts.get(Nr),Qn=this.receivedMessagesCounts.get(Nr);return Object.assign(Object.assign({},cr),{[`${Nr}-sent`]:Jr,[`${Nr}-received`]:Qn})},{sessionId:mn});yt.a.debug("rtc-message-report",ir)})}}function Su(Mr,mn){return Po(Mr)===Po(mn)}var Wl=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class Nu{constructor(mn,bn){this.peerConnection=mn,this.config=bn,this.connectTimeoutMs=10*st.a.second,this.gatherIceTimeoutMs=5*st.a.second,this.pingUpdateTimeoutMs=2*st.a.second,this.streamLatestTimestamp=new Map,this.closeCalled=!1,this.connectCalled=!1,this.sentOffer=!1,this.receivedIceCandidate=!1;const{isOffer:An}=bn;An?this.initializeChannels(mn):mn.ondatachannel=ir=>{switch(ir.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=ir.channel;break;case"stream.reliable":this.reliableStreamChannel=ir.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=ir.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=ir.channel}this.setupChannel(ir.channel)},this.sessionMetrics=new Uu(this.getSessionId(),this)}connect(){return Wl(this,void 0,void 0,function*(){if(this.connectCalled)return;this.connectCalled=!0,this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:ir}=this;ir&&this.sendSystemMessage(ir,{type:"ping"})},this.pingUpdateTimeoutMs),this.connectTimeout=setTimeout(()=>Wl(this,void 0,void 0,function*(){this.isReady()||(yt.a.warn("RTC connect timed out, closing connection"),yield this.close())}),this.connectTimeoutMs);const{peerConnection:mn,config:{isOffer:bn,sessionId:An}}=this;if(bn){const ir=yield mn.createOffer();yield mn.setLocalDescription(ir)}bn&&(this.gatherIceTimeout=setTimeout(()=>Wl(this,void 0,void 0,function*(){this.sentOffer||(yt.a.warn("ICE gathering timed out"),this.receivedIceCandidate?(yt.a.warn("Attempting to connect with partial ICE candidate pool"),yield this.sendOffer()):yield this.close())}),this.gatherIceTimeoutMs),mn.onicecandidate=ir=>Wl(this,void 0,void 0,function*(){ir.candidate?this.receivedIceCandidate=!0:yield this.sendOffer()}),mn.onicegatheringstatechange=()=>Wl(this,void 0,void 0,function*(){mn.iceGatheringState==="complete"&&(yield this.sendOffer())}),mn.onnegotiationneeded=()=>{yt.a.debug("Negotiation needed",{sessionId:An})})})}handleSignal(mn){return Wl(this,void 0,void 0,function*(){const{peerConnection:bn,config:{sessionId:An,sendSignal:ir}}=this,{description:cr}=JSON.parse(mn.payload);if(yt.a.debug("Handling signal",{sessionId:An,description:JSON.stringify(cr)}),cr)if(bn.signalingState!=="stable"||bn.connectionState!=="connected")if(bn.remoteDescription)yt.a.warn(`Received SDP signal during negotiation when remote description is already set: ${JSON.stringify(mn)}`);else if(cr.type==="offer"){yield bn.setRemoteDescription(cr);const Nr=yield bn.createAnswer();yield bn.setLocalDescription(Nr),yield ir({payload:JSON.stringify({description:Nr})})}else cr.type==="answer"&&(yield bn.setRemoteDescription(cr));else yt.a.warn(`Received SDP signal when signaling is stable and connected: ${JSON.stringify(mn)}`);else yt.a.warn(`Received non-SDP signal: ${JSON.stringify(mn)}`)})}send(mn,bn){const An=this.getChannelFromLabel(bn.channelLabel);An?this.sendOnChannel(An,mn):yt.a.warn("Send called with unexpected channel label",{channelLabel:bn.channelLabel})}controlRemoteStream(mn){this.sendSystemMessage(It(this.reliableStreamChannel),{type:"stream-control",streamControl:mn})}isActive(){return new Set(["new","connecting","connected"]).has(this.peerConnection.connectionState)}isReady(){const{peerConnection:mn,latestTtlStreamChannel:bn,reliableStreamChannel:An,latestTryOnceStreamChannel:ir}=this;return!!(An&&bn&&ir)&&mn.connectionState==="connected"&&An.readyState==="open"&&bn.readyState==="open"&&ir.readyState==="open"}isClosed(){const{peerConnection:mn,reliableStreamChannel:bn,latestTryOnceStreamChannel:An,latestTtlStreamChannel:ir}=this;return!(mn.connectionState!=="closed"||bn!==void 0&&bn.readyState!=="closed"||An!==void 0&&An.readyState!=="closed"||ir!==void 0&&ir.readyState!=="closed")}needsClosing(){const{peerConnection:mn,latestTtlStreamChannel:bn,reliableStreamChannel:An,latestTryOnceStreamChannel:ir}=this;if(this.isClosed())return!1;const cr=new Set(["closing","closed"]),Nr=Jr=>Jr&&cr.has(Jr.readyState);return Ao(mn)||Nr(bn)||Nr(An)||Nr(ir)}close(){return Wl(this,void 0,void 0,function*(){this.closeCalled||(this.closeCalled=!0,yield this.sessionMetrics.uploadMetrics(),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.connectTimeout&&clearTimeout(this.connectTimeout),this.gatherIceTimeout&&clearTimeout(this.gatherIceTimeout),this.peerConnection.close())})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionId(){return this.config.sessionId}getRemotePeer(){return this.config.remotePeer}initializeChannels(mn){this.latestTtlStreamChannel=mn.createDataChannel("stream.latest-ttl",_n),this.reliableStreamChannel=mn.createDataChannel("stream.reliable",Dn),this.latestReliableStreamChannel=mn.createDataChannel("stream.latest-reliable",Tn),this.latestTryOnceStreamChannel=mn.createDataChannel("stream.latest-try-once",Xn),this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}sendOffer(){return Wl(this,void 0,void 0,function*(){if(this.sentOffer||(this.sentOffer=!0,Ao(this.peerConnection)))return;const{peerConnection:mn,config:{sendSignal:bn}}=this,An=yield mn.createOffer();yield mn.setLocalDescription(An);const ir={payload:JSON.stringify({description:An})};yield bn(ir)})}getChannelFromLabel(mn){switch(mn){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(mn,bn){let An;try{An=Object(Ht.encode)(JSON.stringify(bn))}catch(ir){return void yt.a.warn("Failed to encode RTC message",{error:ir})}try{mn.send(An),this.sessionMetrics.incrementMessageSent(bn)}catch(ir){yt.a.warn("Failed to send message to channel",{error:ir,channel:mn.label})}}channelNotRecognized(mn){return mn!==this.latestTtlStreamChannel&&mn!==this.latestReliableStreamChannel&&mn!==this.latestTryOnceStreamChannel&&mn!==this.reliableStreamChannel}setupChannel(mn){mn.onmessage=bn=>{if(this.channelNotRecognized(mn))return void yt.a.warn("Received message on unrecognized data channel.");let An;try{An=JSON.parse(Object(Ht.decode)(bn.data))}catch(ir){return void yt.a.warn("Received unparseable RTC message",{error:ir,channel:mn.label})}if(this.lastMessageTimestamp=new Date().getTime(),An=qo(An),this.sessionMetrics.incrementMessageReceived(An),!this.handleSystemMessage(mn,An)){if(!this.hasCapabilities(An))return void yt.a.warn("Received RTC message that was not within the capability scope of the connection.");(mn===this.latestTryOnceStreamChannel||mn===this.latestTtlStreamChannel||mn===this.latestReliableStreamChannel)&&!this.isLatestMessage(An)||this.config.receive(this.config.remotePeer.id,An)}},mn.onerror=bn=>{yt.a.warn(`Channel error: ${bn.error}`,{error:bn.error,sessionId:this.getSessionId(),channelLabel:mn.label})},mn.onopen=()=>{yt.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:mn.label})},mn.onclose=()=>{const bn={bufferedAmount:mn.bufferedAmount,sessionId:this.getSessionId(),channelLabel:mn.label};this.closeCalled===!1?yt.a.debug("Unexpected channel closed",bn):yt.a.debug("Channel closed",bn)}}handleSystemMessage(mn,bn){switch(bn.header.stream.streamType){case"ping":return this.sendSystemMessage(mn,{type:"pong",timestamp:It(bn.payload.ping)}),!0;case"pong":{const An=new Date().getTime()-It(bn.payload.pong);return this.pingTimeMs=An,Ct.aggregate("rtc-ping-time",An),!0}case"stream-control":return!0;default:return!1}}sendSystemMessage(mn,bn){if(mn.readyState!=="open")return;const An={entityId:It(this.config.localPeer.deviceId||this.config.localPeer.userId),streamName:`$.${bn.type}`,streamType:bn.type};let ir;switch(bn.type){case"ping":ir={ping:new Date().getTime()};break;case"pong":ir={pong:bn.timestamp};break;case"stream-control":ir={streamControl:bn.streamControl}}this.sendOnChannel(mn,zo(An,ir))}hasCapabilities(mn){var bn,An;const{localPeer:ir,remotePeer:cr}=this.config,Nr=(bn=ir.capabilitySet.streaming)===null||bn===void 0?void 0:bn.streams,Jr=Nr&&Nr.some(rn=>rn.receive&&Su(rn.stream,mn.header.stream)),Qn=(An=cr.capabilitySet.streaming)===null||An===void 0?void 0:An.streams,qt=Qn&&Qn.some(rn=>rn.send&&Su(rn.stream,mn.header.stream));return Jr||qt}isLatestMessage(mn){const bn=Po(mn.header.stream),An=(this.streamLatestTimestamp.get(bn)||0)<=mn.header.created;return An&&this.streamLatestTimestamp.set(bn,mn.header.created),An}}var xs=function(Mr,mn,bn,An){return new(bn||(bn=Promise))(function(ir,cr){function Nr(qt){try{Qn(An.next(qt))}catch(rn){cr(rn)}}function Jr(qt){try{Qn(An.throw(qt))}catch(rn){cr(rn)}}function Qn(qt){var rn;qt.done?ir(qt.value):(rn=qt.value,rn instanceof bn?rn:new bn(function(Cn){Cn(rn)})).then(Nr,Jr)}Qn((An=An.apply(Mr,mn||[])).next())})};class zl{constructor(mn){this.config=mn,this.connections=[],this.connectingSessions=new Map,this.rtcInstancesConstructed=0,this.updateInterval=St({func:()=>xs(this,void 0,void 0,function*(){try{yield this.update()}catch(bn){yt.a.warn("RTC update failed",{error:bn})}}),delay:250*st.a.millisecond,immediate:!0}),this.localPeer=this.createPeer()}send(mn,bn,An){const ir=this.getActiveConnection(mn);ir?ir.isReady()?ir.send(bn,An):yt.a.warn("Attempted to send with an active connection to that peer which was not yet ready."):yt.a.warn("Attempted to send with no active connection to that peer.")}controlRemoteStream(mn,bn){const An=this.getActiveConnection(mn);An?An.isReady()?An.controlRemoteStream(bn):yt.a.warn("Attempted to control remote stream with an active connection to that peer which was not yet ready."):yt.a.warn("Attempted to control remote stream with no active connection to that peer.")}connect(mn){return xs(this,void 0,void 0,function*(){const bn=yield this.getLocalPeer();if(this.getActiveConnection(mn))return void yt.a.warn("Attempted to connect to peer with an already active connection.");let An;try{An=yield this.config.signalingClient.createSession(yield this.config.getToken(),{offerPeerId:bn.id,answerPeerId:mn})}catch(ir){Object(_l.a)(ir,Xs.a,cr=>cr.statusCode===404),yt.a.warn("Attempted to connect to peer that does not exist.")}if(An)for(this.connectingSessions.set(An.id,new Date().getTime()),yield this.connectToSession(An);;)switch(yield Object(lt.a)(.1),this.getConnectionStatus(mn)){case"connecting":continue;case"connected":return An.id;case"disconnected":return}})}getConnectionStatus(mn){const bn=this.getActiveConnection(mn);return bn?bn.isReady()?"connected":"connecting":"disconnected"}getIceMode(mn){const bn=this.getActiveConnection(mn);if(bn)return bn.iceMode}disconnect(mn){return xs(this,void 0,void 0,function*(){const bn=this.getActiveConnection(mn);bn&&(yield this.closeConnection(bn))})}getLocalPeer(){return xs(this,void 0,void 0,function*(){return yield this.localPeer})}getPeers(){return xs(this,void 0,void 0,function*(){return yield this.config.signalingClient.getPeers(yield this.config.getToken())})}getPing(mn){const bn=this.getActiveConnection(mn);if(bn)return bn.getPing();yt.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(mn){const bn=this.getActiveConnection(mn);if(bn)return bn.getLastMessageTimestamp();yt.a.warn("Attempted to get ping time from inactive peer.")}shutdown(){return xs(this,void 0,void 0,function*(){yield this.updateInterval.stop();const mn=this.connections;this.connections=[],yield this.closeConnections(mn)})}closeConnection(mn){return xs(this,void 0,void 0,function*(){this.connectingSessions.delete(mn.getSessionId()),yield mn.close();try{yield this.config.signalingClient.deleteSession(yield this.config.getToken(),mn.getSessionId())}catch(bn){Object(_l.a)(bn,Xs.a,An=>An.statusCode===404)}})}getSessions(){return xs(this,void 0,void 0,function*(){const mn=yield this.getLocalPeer();return(yield this.config.signalingClient.getSessions(yield this.config.getToken())).filter(bn=>bn.offer.peer.id===mn.id||bn.answer.peer.id===mn.id)})}createPeer(){return xs(this,void 0,void 0,function*(){return yield this.config.signalingClient.createPeer(yield this.config.getToken(),{capabilitySet:this.config.capabilitySet||{}})})}createRTCPeerConnection(mn={}){return xs(this,void 0,void 0,function*(){const bn=this.config.alternateRTCPeerConnection||RTCPeerConnection;this.rtcInstancesConstructed++,this.rtcInstancesConstructed%20||Fl();try{return new bn(Object.assign({iceServers:yield this.config.signalingClient.getIceServers(yield this.config.getToken())},mn))}catch(An){throw yt.a.debug(`Failed to create RTCPeerConnection: ${this.rtcInstancesConstructed} total allocated`),An}})}closeConnections(mn){return xs(this,void 0,void 0,function*(){const bn=yield zt(mn.map(An=>xs(this,void 0,void 0,function*(){yield this.closeConnection(An)})));for(const An of bn)yt.a.warn("Request to close session failed",{error:An})})}reset(){return xs(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.connectingSessions=new Map,this.localPeer=this.createPeer(),yield this.localPeer})}getActiveConnection(mn){return this.connections.find(bn=>bn.getRemotePeer().id===mn&&bn.isActive())}update(){return xs(this,void 0,void 0,function*(){const mn=yield this.getLocalPeer();try{yield this.config.signalingClient.refreshPeer(yield this.config.getToken(),mn.id)}catch(bn){Object(_l.a)(bn,Xs.a,An=>An.statusCode===404),yt.a.warn("Peer expired, creating new peer",{peerId:mn.id}),yield this.reset()}yield this.handleSessions(yield this.getSessions())})}handleSessions(mn){return xs(this,void 0,void 0,function*(){yield this.syncConnectionsAndSessions(mn);const bn=mn.map(An=>({session:An,connection:this.connections.find(ir=>ir.getSessionId()===An.id)}));yield Promise.all(bn.map(({session:An,connection:ir})=>xs(this,void 0,void 0,function*(){return yield this.maintainConnection(An,ir)})))})}syncConnectionsAndSessions(mn){return xs(this,void 0,void 0,function*(){const bn=new Set(mn.map(cr=>cr.id)),An=cr=>bn.has(cr.getSessionId())||this.connectingSessions.has(cr.getSessionId());this.connections=this.connections.filter(cr=>An(cr));const ir=this.connections.filter(cr=>!An(cr)||cr.needsClosing());yield Promise.all(ir.map(cr=>xs(this,void 0,void 0,function*(){yield this.closeConnection(cr)})))})}maintainConnection(mn,bn){return xs(this,void 0,void 0,function*(){const An=yield this.getLocalPeer(),ir=mn.offer.peer.id===An.id;if(bn){if(bn.isReady())try{yield this.config.signalingClient.refreshSession(yield this.config.getToken(),mn.id)}catch(cr){Object(_l.a)(cr,Xs.a,Nr=>Nr.statusCode===404),yt.a.debug("Refresh session not found",{sessionId:mn.id})}else if(bn.isActive())try{yield this.consumeSignals(bn)}catch(cr){yt.a.warn("Failed to ingest signals, closing connection",{error:cr}),yield this.closeConnection(bn)}}else{if(ir)return;yield this.connectToSession(mn)}})}connectToSession(mn){return xs(this,void 0,void 0,function*(){const bn=yield this.getLocalPeer(),An=mn.offer.peer.id===bn.id,ir=yield this.createRTCPeerConnection(),cr=new Nu(ir,{localPeer:An?mn.offer.peer:mn.answer.peer,remotePeer:An?mn.answer.peer:mn.offer.peer,sessionId:mn.id,isOffer:An,sendSignal:Nr=>this.sendSignal(mn.id,Nr),receive:(Nr,Jr)=>this.config.receive(Nr,Jr)});if(this.connections.find(Nr=>Nr.getSessionId()===mn.id))return yt.a.warn("connectToSession called on a session that already has a connection.",{sessionId:mn.id}),void(yield cr.close());this.setupHandlers(cr),this.connections.push(cr);try{yield cr.connect()}catch(Nr){yt.a.warn("Failed to handle negotiation, closing connection",{error:Nr}),yield this.closeConnection(cr)}})}setupHandlers(mn){const{peerConnection:bn}=mn,An=mn.getSessionId();bn.onconnectionstatechange=()=>xs(this,void 0,void 0,function*(){const ir=this.connectingSessions.get(An);if(ir===void 0)return;const cr=bn.connectionState;switch(Ao(bn)&&this.connectingSessions.delete(An),cr){case"connected":{this.connectingSessions.delete(An);const Nr=new Date().getTime()-ir;Ct.aggregate("rtc-connect-time",Nr);break}case"failed":Ct.increment("rtc-connect-failed"),yield this.closeConnection(mn)}})}consumeSignals(mn){return xs(this,void 0,void 0,function*(){let bn=[];try{bn=yield this.config.signalingClient.takeSignals(yield this.config.getToken(),mn.getSessionId())}catch(An){Object(_l.a)(An,Xs.a,ir=>ir.statusCode===404)}for(const An of bn)yield mn.handleSignal(An)})}sendSignal(mn,bn){return xs(this,void 0,void 0,function*(){try{yield this.config.signalingClient.addSignals(yield this.config.getToken(),mn,{signals:[bn]})}catch(An){Object(_l.a)(An,Xs.a,ir=>ir.statusCode===404)}})}}},function(i,o,s){var _={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $;const et=new Uint8Array(16);function rt(){if(!$&&($=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(et)}const j=[];for(let lt=0;lt<256;++lt)j.push((lt+256).toString(16).slice(1));function st(lt,gt=0){return(j[lt[gt+0]]+j[lt[gt+1]]+j[lt[gt+2]]+j[lt[gt+3]]+"-"+j[lt[gt+4]]+j[lt[gt+5]]+"-"+j[lt[gt+6]]+j[lt[gt+7]]+"-"+j[lt[gt+8]]+j[lt[gt+9]]+"-"+j[lt[gt+10]]+j[lt[gt+11]]+j[lt[gt+12]]+j[lt[gt+13]]+j[lt[gt+14]]+j[lt[gt+15]]).toLowerCase()}o.a=function(lt,gt,bt){if(_.randomUUID&&!gt&&!lt)return _.randomUUID();const Ut=(lt=lt||{}).random||(lt.rng||rt)();if(Ut[6]=15&Ut[6]|64,Ut[8]=63&Ut[8]|128,gt){bt=bt||0;for(let Ft=0;Ft<16;++Ft)gt[bt+Ft]=Ut[Ft];return gt}return st(Ut)}},,function(i,o,s){s.r(o),s.d(o,"LogClient",function(){return j});var _=s(28),$=s(11),et=s(10),rt=function(st,lt,gt,bt){return new(gt||(gt=Promise))(function(Ut,Ft){function yt(Tt){try{wt(bt.next(Tt))}catch(Jt){Ft(Jt)}}function Qt(Tt){try{wt(bt.throw(Tt))}catch(Jt){Ft(Jt)}}function wt(Tt){var Jt;Tt.done?Ut(Tt.value):(Jt=Tt.value,Jt instanceof gt?Jt:new gt(function(At){At(Jt)})).then(yt,Qt)}wt((bt=bt.apply(st,lt||[])).next())})};class j extends _.a{log(lt){return rt(this,void 0,void 0,function*(){const gt=j.token;try{yield this.fetch("logs",{token:gt,method:"POST",body:JSON.stringify({logs:lt}),allowUnsafeRetries:!0})}catch(bt){Object($.a)(bt,et.a,Ut=>Ut.statusCode===401&&gt!==void 0),j.token===gt&&delete j.token,yield this.log(lt)}})}}}])})})(dist);var distExports=dist.exports;const SessionTypes={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3},singleton=Symbol("RtcClientPool.instance");var cn;class RtcClientPool{constructor(o){Te(this,cn,null),Te(this,"createClient"),Te(this,"ttlMs"),Te(this,"proxyHandler"),Te(this,"proxyReceivers",new Map),Te(this,"teardownTimeout",null),Te(this,"dispatch",($,et)=>{this.proxyReceivers.forEach(rt=>rt==null?void 0:rt($,et))});const{createClient:s,ttlMs:_=0}=o;this.createClient=s,this.ttlMs=Math.max(_,0),this.proxyHandler={get:($,et,rt)=>{switch(et){case"shutdown":return()=>this.releaseInstance(rt);default:return Reflect.get($,et,rt)}}}}get isActive(){return this[singleton]!==null}get size(){return this.proxyReceivers.size}get(o){const s=new Proxy(this.allocate(),this.proxyHandler);return this.proxyReceivers.set(s,o??null),s}allocate(){if(this[singleton])return this.teardownTimeout&&(clearTimeout(this.teardownTimeout),this.teardownTimeout=null),this[singleton];const o=this.createClient(this.dispatch);return this[singleton]=o,o}async teardown(){const o=this[singleton];if(!o){console.warn("singleton has already been shutdown!");return}try{await o.shutdown()}finally{this[singleton]=null}}async releaseInstance(o){return this.proxyReceivers.delete(o)?this.proxyReceivers.size!==0?!1:(!this.teardownTimeout&&Number.isFinite(this.ttlMs)&&(this.ttlMs===0?await this.teardown():this.teardownTimeout=setTimeout(()=>{this.teardown().catch(s=>console.error("teardown failed",{err:s})).finally(()=>this.teardownTimeout=null)},this.ttlMs)),!0):(console.warn("this instance has already been released!"),!1)}}cn=singleton;const getToken=async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),EnumRtcClientPools={[SessionTypes.UNKNOWN]:new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.UNKNOWN,receive:i})}),[SessionTypes.TELEOP]:new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.TELEOP,receive:i})}),[SessionTypes.PORT_FORWARD]:new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.PORT_FORWARD,receive:i})}),[SessionTypes.OBSERVE]:new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.OBSERVE,receive:i})})},AppRtcClientPools={...EnumRtcClientPools,unknown:EnumRtcClientPools[SessionTypes.UNKNOWN],teleop:EnumRtcClientPools[SessionTypes.TELEOP],portForward:EnumRtcClientPools[SessionTypes.PORT_FORWARD],observe:EnumRtcClientPools[SessionTypes.OBSERVE]},defaultRtcClientPool=EnumRtcClientPools[SessionTypes.TELEOP],v1RtcClientPool=new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClientV1({signalingClient:new distExports.RtcSignalingClient(FORMANT_API_URL+"/v1/signaling"),getToken,receive:i})}),getRtcClientPool=i=>{const{version:o,sessionType:s}=i;return o==="1"?v1RtcClientPool:s?AppRtcClientPools[s]:defaultRtcClientPool};class DataChannel{constructor(o){Te(this,"ready",!1),Te(this,"listeners",[]),Te(this,"openListeners",[]),Te(this,"closeListeners",[]),Te(this,"errorListeners",[]),Te(this,"binaryListeners",[]),Te(this,"error"),Te(this,"decoder",new TextDecoder),this.dataChannel=o,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0,this.openListeners.forEach(s=>s())},this.dataChannel.onclose=()=>{this.ready=!1,this.closeListeners.forEach(s=>s())},this.dataChannel.onerror=s=>{console.error(s),this.error="An error occurred in DataChannel",this.errorListeners.forEach(_=>_(s))},this.dataChannel.onmessage=s=>{this.listeners.forEach(_=>{const $=new Uint8Array(s.data),et=this.decoder.decode($);_(et)}),this.binaryListeners.forEach(_=>{_(new Uint8Array(s.data))})}}addOpenListener(o){this.openListeners.push(o)}removeOpenListener(o){this.openListeners=this.openListeners.filter(s=>s!==o)}addCloseListener(o){this.closeListeners.push(o)}removeCloseListener(o){this.closeListeners=this.closeListeners.filter(s=>s!==o)}addErrorListener(o){this.errorListeners.push(o)}removeErrorListener(o){this.errorListeners=this.errorListeners.filter(s=>s!==o)}async waitTilReady(){return this.ready?!0:new Promise((o,s)=>{let _=window.setInterval(()=>{this.ready&&(window.clearInterval(_),o(!0)),this.error&&s(this.error)},10)})}send(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}sendBinary(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}addListener(o){this.listeners.push(o)}removeListener(o){const s=this.listeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(s,1)}addBinaryListener(o){this.binaryListeners.push(o)}removeBinaryListener(o){const s=this.binaryListeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(s,1)}}class CaptureStream{constructor(o){Te(this,"token"),this.captureSession=o}async ingestJSON(o){if(!this.token){const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"})).json();this.token=s.token}await fetch(`${FORMANT_API_URL}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(o)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}}class Manipulator{constructor(o,s){Te(this,"currentListeners",[]),Te(this,"onRealtimeMessage",(_,$)=>{$.payload.jointState&&this.currentListeners.forEach(et=>{$.payload.jointState&&et($.payload.jointState)})}),this.device=o,this.config=s}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(o){this.currentListeners.push(o)}}function delay(i){return new Promise(o=>setTimeout(o,i))}class RequestDataChannel{constructor(o,s,_){Te(this,"channel"),Te(this,"requestIdToResponseMap",new Map),this.device=o,this.channel_name=s,this.timeout=_}addOpenListener(o){defined$1(this.channel,"channel not initalized").addOpenListener(o)}removeOpenListener(o){defined$1(this.channel,"channel not initalized").removeOpenListener(o)}addCloseListener(o){defined$1(this.channel,"channel not initalized").addCloseListener(o)}removeCloseListener(o){defined$1(this.channel,"channel not initalized").removeCloseListener(o)}addErrorListener(o){defined$1(this.channel,"channel not initalized").addErrorListener(o)}removeErrorListener(o){defined$1(this.channel,"channel not initalized").removeErrorListener(o)}}class BinaryRequestDataChannel extends RequestDataChannel{constructor(){super(...arguments),Te(this,"RESPONSE_SUCCESS_BYTE",0),Te(this,"decoder",new TextDecoder)}generateBinaryId(){const o=new Uint8Array(16);for(let s=0;s<o.length;s++)o[s]=Math.floor(Math.random()*256);return o}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(o=>{const s=o.slice(0,16).toString();if(s.length===0)throw new Error("Invalid response");const _=o.slice(16);if(_.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(s)&&this.requestIdToResponseMap.set(s,_)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const et=this.generateBinaryId(),rt=et.toString();_.set(rt,!0),s.sendBinary(new Uint8Array([...et,...o]));const j=new Date().getTime();for(;new Date().getTime()<j+$;)if(await delay(50),_.has(rt)){const st=_.get(rt);if(st!==!0){_.delete(rt);const lt=st[0]===this.RESPONSE_SUCCESS_BYTE,gt=st.slice(1);if(lt)return gt;throw console.error({name:"AdapterError",message:this.decoder.decode(gt)}),new Error("Binary request datachannel adapter error")}}throw _.delete(rt),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Binary request data channel request timed out")}}class TextRequestDataChannel extends RequestDataChannel{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(o=>{const s=JSON.parse(o),{id:_,data:$,error:et}=s;if(!_)throw new Error("Invalid response");if(!$&&!et)throw new Error("Invalid response");this.requestIdToResponseMap.has(_)&&this.requestIdToResponseMap.set(_,s)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const et=this.generateTextId();_.set(et,!0),s.send(JSON.stringify({id:et,data:o}));const rt=new Date().getTime();for(;new Date().getTime()<rt+$;)if(await delay(50),_.has(et)){const j=_.get(et);if(j!==!0){_.delete(et);const{data:st,error:lt}=j;if(st)return st;if(lt)throw console.error({name:"AdapterError",message:lt}),new Error("Text request datachannel adapter error")}}throw _.delete(et),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Text request datachannel request timed out")}}const aggregateByDateFunctions={day:{interval:eachDayOfInterval,start:startOfDay,end:endOfDay,sub:subDays,get:getDay},week:{interval:eachWeekOfInterval,start:startOfWeek,end:endOfWeek,sub:subWeeks,get:getWeek},month:{interval:eachMonthOfInterval,start:startOfMonth,end:endOfMonth,sub:subMonths,get:getMonth},year:{interval:eachYearOfInterval,start:startOfYear,end:endOfYear,sub:subYears,get:getYear},hour:{interval:eachHourOfInterval,start:startOfHour,end:endOfHour,sub:subHours,get:getHours},minute:{interval:eachMinuteOfInterval,start:startOfMinute,end:endOfMinute,sub:subMinutes,get:getMinutes},quarter:{interval:eachQuarterOfInterval,start:startOfQuarter,end:endOfQuarter,sub:subQuarters,get:getQuarter}},formatTimeFrameText=(i,o)=>i.split("/")[0]+"/"+i.split("/")[1]+""+o.split("/")[0]+"/"+o.split("/")[1];function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;typeof global$1.setTimeout=="function"&&(cachedSetTimeout=setTimeout);typeof global$1.clearTimeout=="function"&&(cachedClearTimeout=clearTimeout);function runTimeout(i){if(cachedSetTimeout===setTimeout)return setTimeout(i,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(i,0);try{return cachedSetTimeout(i,0)}catch{try{return cachedSetTimeout.call(null,i,0)}catch{return cachedSetTimeout.call(this,i,0)}}}function runClearTimeout(i){if(cachedClearTimeout===clearTimeout)return clearTimeout(i);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(i);try{return cachedClearTimeout(i)}catch{try{return cachedClearTimeout.call(null,i)}catch{return cachedClearTimeout.call(this,i)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var i=runTimeout(cleanUpNextTick);draining=!0;for(var o=queue.length;o;){for(currentQueue=queue,queue=[];++queueIndex<o;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,o=queue.length}currentQueue=null,draining=!1,runClearTimeout(i)}}function nextTick(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];queue.push(new Item(i,o)),queue.length===1&&!draining&&runTimeout(drainQueue)}function Item(i,o){this.fun=i,this.array=o}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser$1=!0,env={},argv=[],version$1="",versions={},release={},config={};function noop$2(){}var on=noop$2,addListener$1=noop$2,once=noop$2,off=noop$2,removeListener$1=noop$2,removeAllListeners=noop$2,emit=noop$2;function binding$1(i){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(i){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance$1=global$1.performance||{},performanceNow=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return new Date().getTime()};function hrtime(i){var o=performanceNow.call(performance$1)*.001,s=Math.floor(o),_=Math.floor(o%1*1e9);return i&&(s=s-i[0],_=_-i[1],_<0&&(s--,_+=1e9)),[s,_]}var startTime=new Date;function uptime(){var i=new Date,o=i-startTime;return o/1e3}var browser$1$1={nextTick,title,browser:browser$1,env,argv,version:version$1,versions,on,addListener:addListener$1,once,off,removeListener:removeListener$1,removeAllListeners,emit,binding:binding$1,cwd,chdir,umask,hrtime,platform,release,config,uptime},inherits;typeof Object.create=="function"?inherits=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(i,o){i.super_=o;var s=function(){};s.prototype=o.prototype,i.prototype=new s,i.prototype.constructor=i};const inherits$1=inherits;var formatRegExp=/%[sdj%]/g;function format(i){if(!isString(i)){for(var o=[],s=0;s<arguments.length;s++)o.push(inspect(arguments[s]));return o.join(" ")}for(var s=1,_=arguments,$=_.length,et=String(i).replace(formatRegExp,function(st){if(st==="%%")return"%";if(s>=$)return st;switch(st){case"%s":return String(_[s++]);case"%d":return Number(_[s++]);case"%j":try{return JSON.stringify(_[s++])}catch{return"[Circular]"}default:return st}}),rt=_[s];s<$;rt=_[++s])isNull(rt)||!isObject$1(rt)?et+=" "+rt:et+=" "+inspect(rt);return et}function deprecate(i,o){if(isUndefined(global$1.process))return function(){return deprecate(i,o).apply(this,arguments)};if(browser$1$1.noDeprecation===!0)return i;var s=!1;function _(){if(!s){if(browser$1$1.throwDeprecation)throw new Error(o);browser$1$1.traceDeprecation?console.trace(o):console.error(o),s=!0}return i.apply(this,arguments)}return _}var debugs={},debugEnviron;function debuglog(i){if(isUndefined(debugEnviron)&&(debugEnviron=browser$1$1.env.NODE_DEBUG||""),i=i.toUpperCase(),!debugs[i])if(new RegExp("\\b"+i+"\\b","i").test(debugEnviron)){var o=0;debugs[i]=function(){var s=format.apply(null,arguments);console.error("%s %d: %s",i,o,s)}}else debugs[i]=function(){};return debugs[i]}function inspect(i,o){var s={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),isBoolean(o)?s.showHidden=o:o&&_extend(s,o),isUndefined(s.showHidden)&&(s.showHidden=!1),isUndefined(s.depth)&&(s.depth=2),isUndefined(s.colors)&&(s.colors=!1),isUndefined(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=stylizeWithColor),formatValue(s,i,s.depth)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(i,o){var s=inspect.styles[o];return s?"\x1B["+inspect.colors[s][0]+"m"+i+"\x1B["+inspect.colors[s][1]+"m":i}function stylizeNoColor(i,o){return i}function arrayToHash(i){var o={};return i.forEach(function(s,_){o[s]=!0}),o}function formatValue(i,o,s){if(i.customInspect&&o&&isFunction$1(o.inspect)&&o.inspect!==inspect&&!(o.constructor&&o.constructor.prototype===o)){var _=o.inspect(s,i);return isString(_)||(_=formatValue(i,_,s)),_}var $=formatPrimitive(i,o);if($)return $;var et=Object.keys(o),rt=arrayToHash(et);if(i.showHidden&&(et=Object.getOwnPropertyNames(o)),isError(o)&&(et.indexOf("message")>=0||et.indexOf("description")>=0))return formatError(o);if(et.length===0){if(isFunction$1(o)){var j=o.name?": "+o.name:"";return i.stylize("[Function"+j+"]","special")}if(isRegExp(o))return i.stylize(RegExp.prototype.toString.call(o),"regexp");if(isDate(o))return i.stylize(Date.prototype.toString.call(o),"date");if(isError(o))return formatError(o)}var st="",lt=!1,gt=["{","}"];if(isArray$2(o)&&(lt=!0,gt=["[","]"]),isFunction$1(o)){var bt=o.name?": "+o.name:"";st=" [Function"+bt+"]"}if(isRegExp(o)&&(st=" "+RegExp.prototype.toString.call(o)),isDate(o)&&(st=" "+Date.prototype.toUTCString.call(o)),isError(o)&&(st=" "+formatError(o)),et.length===0&&(!lt||o.length==0))return gt[0]+st+gt[1];if(s<0)return isRegExp(o)?i.stylize(RegExp.prototype.toString.call(o),"regexp"):i.stylize("[Object]","special");i.seen.push(o);var Ut;return lt?Ut=formatArray(i,o,s,rt,et):Ut=et.map(function(Ft){return formatProperty(i,o,s,rt,Ft,lt)}),i.seen.pop(),reduceToSingleString(Ut,st,gt)}function formatPrimitive(i,o){if(isUndefined(o))return i.stylize("undefined","undefined");if(isString(o)){var s="'"+JSON.stringify(o).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return i.stylize(s,"string")}if(isNumber$1(o))return i.stylize(""+o,"number");if(isBoolean(o))return i.stylize(""+o,"boolean");if(isNull(o))return i.stylize("null","null")}function formatError(i){return"["+Error.prototype.toString.call(i)+"]"}function formatArray(i,o,s,_,$){for(var et=[],rt=0,j=o.length;rt<j;++rt)hasOwnProperty$1(o,String(rt))?et.push(formatProperty(i,o,s,_,String(rt),!0)):et.push("");return $.forEach(function(st){st.match(/^\d+$/)||et.push(formatProperty(i,o,s,_,st,!0))}),et}function formatProperty(i,o,s,_,$,et){var rt,j,st;if(st=Object.getOwnPropertyDescriptor(o,$)||{value:o[$]},st.get?st.set?j=i.stylize("[Getter/Setter]","special"):j=i.stylize("[Getter]","special"):st.set&&(j=i.stylize("[Setter]","special")),hasOwnProperty$1(_,$)||(rt="["+$+"]"),j||(i.seen.indexOf(st.value)<0?(isNull(s)?j=formatValue(i,st.value,null):j=formatValue(i,st.value,s-1),j.indexOf(`
`)>-1&&(et?j=j.split(`
`).map(function(lt){return"  "+lt}).join(`
`).substr(2):j=`
`+j.split(`
`).map(function(lt){return"   "+lt}).join(`
`))):j=i.stylize("[Circular]","special")),isUndefined(rt)){if(et&&$.match(/^\d+$/))return j;rt=JSON.stringify(""+$),rt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(rt=rt.substr(1,rt.length-2),rt=i.stylize(rt,"name")):(rt=rt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),rt=i.stylize(rt,"string"))}return rt+": "+j}function reduceToSingleString(i,o,s){var _=i.reduce(function($,et){return et.indexOf(`
`)>=0,$+et.replace(/\u001b\[\d\d?m/g,"").length+1},0);return _>60?s[0]+(o===""?"":o+`
 `)+" "+i.join(`,
  `)+" "+s[1]:s[0]+o+" "+i.join(", ")+" "+s[1]}function isArray$2(i){return Array.isArray(i)}function isBoolean(i){return typeof i=="boolean"}function isNull(i){return i===null}function isNumber$1(i){return typeof i=="number"}function isString(i){return typeof i=="string"}function isUndefined(i){return i===void 0}function isRegExp(i){return isObject$1(i)&&objectToString(i)==="[object RegExp]"}function isObject$1(i){return typeof i=="object"&&i!==null}function isDate(i){return isObject$1(i)&&objectToString(i)==="[object Date]"}function isError(i){return isObject$1(i)&&(objectToString(i)==="[object Error]"||i instanceof Error)}function isFunction$1(i){return typeof i=="function"}function objectToString(i){return Object.prototype.toString.call(i)}function _extend(i,o){if(!o||!isObject$1(o))return i;for(var s=Object.keys(o),_=s.length;_--;)i[s[_]]=o[s[_]];return i}function hasOwnProperty$1(i,o){return Object.prototype.hasOwnProperty.call(i,o)}function BufferList(){this.head=null,this.tail=null,this.length=0}BufferList.prototype.push=function(i){var o={data:i,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length};BufferList.prototype.unshift=function(i){var o={data:i,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length};BufferList.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}};BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0};BufferList.prototype.join=function(i){if(this.length===0)return"";for(var o=this.head,s=""+o.data;o=o.next;)s+=i+o.data;return s};BufferList.prototype.concat=function(i){if(this.length===0)return Buffer.alloc(0);if(this.length===1)return this.head.data;for(var o=Buffer.allocUnsafe(i>>>0),s=this.head,_=0;s;)s.data.copy(o,_),_+=s.data.length,s=s.next;return o};var isBufferEncoding=Buffer.isEncoding||function(i){switch(i&&i.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(i){if(i&&!isBufferEncoding(i))throw new Error("Unknown encoding: "+i)}function StringDecoder(i){switch(this.encoding=(i||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(i),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0}StringDecoder.prototype.write=function(i){for(var o="";this.charLength;){var s=i.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:i.length;if(i.copy(this.charBuffer,this.charReceived,0,s),this.charReceived+=s,this.charReceived<this.charLength)return"";i=i.slice(s,i.length),o=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var $=o.charCodeAt(o.length-1);if($>=55296&&$<=56319){this.charLength+=this.surrogateSize,o="";continue}if(this.charReceived=this.charLength=0,i.length===0)return o;break}this.detectIncompleteChar(i);var _=i.length;this.charLength&&(i.copy(this.charBuffer,0,i.length-this.charReceived,_),_-=this.charReceived),o+=i.toString(this.encoding,0,_);var _=o.length-1,$=o.charCodeAt(_);if($>=55296&&$<=56319){var et=this.surrogateSize;return this.charLength+=et,this.charReceived+=et,this.charBuffer.copy(this.charBuffer,et,0,et),i.copy(this.charBuffer,0,0,et),o.substring(0,_)}return o};StringDecoder.prototype.detectIncompleteChar=function(i){for(var o=i.length>=3?3:i.length;o>0;o--){var s=i[i.length-o];if(o==1&&s>>5==6){this.charLength=2;break}if(o<=2&&s>>4==14){this.charLength=3;break}if(o<=3&&s>>3==30){this.charLength=4;break}}this.charReceived=o};StringDecoder.prototype.end=function(i){var o="";if(i&&i.length&&(o=this.write(i)),this.charReceived){var s=this.charReceived,_=this.charBuffer,$=this.encoding;o+=_.slice(0,s).toString($)}return o};function passThroughWrite(i){return i.toString(this.encoding)}function utf16DetectIncompleteChar(i){this.charReceived=i.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(i){this.charReceived=i.length%3,this.charLength=this.charReceived?3:0}Readable.ReadableState=ReadableState;var debug=debuglog("stream");inherits$1(Readable,EventEmitter);function prependListener(i,o,s){if(typeof i.prependListener=="function")return i.prependListener(o,s);!i._events||!i._events[o]?i.on(o,s):Array.isArray(i._events[o])?i._events[o].unshift(s):i._events[o]=[s,i._events[o]]}function listenerCount(i,o){return i.listeners(o).length}function ReadableState(i,o){i=i||{},this.objectMode=!!i.objectMode,o instanceof Duplex&&(this.objectMode=this.objectMode||!!i.readableObjectMode);var s=i.highWaterMark,_=this.objectMode?16:16*1024;this.highWaterMark=s||s===0?s:_,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(this.decoder=new StringDecoder(i.encoding),this.encoding=i.encoding)}function Readable(i){if(!(this instanceof Readable))return new Readable(i);this._readableState=new ReadableState(i,this),this.readable=!0,i&&typeof i.read=="function"&&(this._read=i.read),EventEmitter.call(this)}Readable.prototype.push=function(i,o){var s=this._readableState;return!s.objectMode&&typeof i=="string"&&(o=o||s.defaultEncoding,o!==s.encoding&&(i=Buffer.from(i,o),o="")),readableAddChunk(this,s,i,o,!1)};Readable.prototype.unshift=function(i){var o=this._readableState;return readableAddChunk(this,o,i,"",!0)};Readable.prototype.isPaused=function(){return this._readableState.flowing===!1};function readableAddChunk(i,o,s,_,$){var et=chunkInvalid(o,s);if(et)i.emit("error",et);else if(s===null)o.reading=!1,onEofChunk(i,o);else if(o.objectMode||s&&s.length>0)if(o.ended&&!$){var rt=new Error("stream.push() after EOF");i.emit("error",rt)}else if(o.endEmitted&&$){var j=new Error("stream.unshift() after end event");i.emit("error",j)}else{var st;o.decoder&&!$&&!_&&(s=o.decoder.write(s),st=!o.objectMode&&s.length===0),$||(o.reading=!1),st||(o.flowing&&o.length===0&&!o.sync?(i.emit("data",s),i.read(0)):(o.length+=o.objectMode?1:s.length,$?o.buffer.unshift(s):o.buffer.push(s),o.needReadable&&emitReadable(i))),maybeReadMore(i,o)}else $||(o.reading=!1);return needMoreData(o)}function needMoreData(i){return!i.ended&&(i.needReadable||i.length<i.highWaterMark||i.length===0)}Readable.prototype.setEncoding=function(i){return this._readableState.decoder=new StringDecoder(i),this._readableState.encoding=i,this};var MAX_HWM=8388608;function computeNewHighWaterMark(i){return i>=MAX_HWM?i=MAX_HWM:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),i}function howMuchToRead(i,o){return i<=0||o.length===0&&o.ended?0:o.objectMode?1:i!==i?o.flowing&&o.length?o.buffer.head.data.length:o.length:(i>o.highWaterMark&&(o.highWaterMark=computeNewHighWaterMark(i)),i<=o.length?i:o.ended?o.length:(o.needReadable=!0,0))}Readable.prototype.read=function(i){debug("read",i),i=parseInt(i,10);var o=this._readableState,s=i;if(i!==0&&(o.emittedReadable=!1),i===0&&o.needReadable&&(o.length>=o.highWaterMark||o.ended))return debug("read: emitReadable",o.length,o.ended),o.length===0&&o.ended?endReadable(this):emitReadable(this),null;if(i=howMuchToRead(i,o),i===0&&o.ended)return o.length===0&&endReadable(this),null;var _=o.needReadable;debug("need readable",_),(o.length===0||o.length-i<o.highWaterMark)&&(_=!0,debug("length less than watermark",_)),o.ended||o.reading?(_=!1,debug("reading or ended",_)):_&&(debug("do read"),o.reading=!0,o.sync=!0,o.length===0&&(o.needReadable=!0),this._read(o.highWaterMark),o.sync=!1,o.reading||(i=howMuchToRead(s,o)));var $;return i>0?$=fromList(i,o):$=null,$===null?(o.needReadable=!0,i=0):o.length-=i,o.length===0&&(o.ended||(o.needReadable=!0),s!==i&&o.ended&&endReadable(this)),$!==null&&this.emit("data",$),$};function chunkInvalid(i,o){var s=null;return!Buffer.isBuffer(o)&&typeof o!="string"&&o!==null&&o!==void 0&&!i.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s}function onEofChunk(i,o){if(!o.ended){if(o.decoder){var s=o.decoder.end();s&&s.length&&(o.buffer.push(s),o.length+=o.objectMode?1:s.length)}o.ended=!0,emitReadable(i)}}function emitReadable(i){var o=i._readableState;o.needReadable=!1,o.emittedReadable||(debug("emitReadable",o.flowing),o.emittedReadable=!0,o.sync?nextTick(emitReadable_,i):emitReadable_(i))}function emitReadable_(i){debug("emit readable"),i.emit("readable"),flow(i)}function maybeReadMore(i,o){o.readingMore||(o.readingMore=!0,nextTick(maybeReadMore_,i,o))}function maybeReadMore_(i,o){for(var s=o.length;!o.reading&&!o.flowing&&!o.ended&&o.length<o.highWaterMark&&(debug("maybeReadMore read 0"),i.read(0),s!==o.length);)s=o.length;o.readingMore=!1}Readable.prototype._read=function(i){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(i,o){var s=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=i;break;case 1:_.pipes=[_.pipes,i];break;default:_.pipes.push(i);break}_.pipesCount+=1,debug("pipe count=%d opts=%j",_.pipesCount,o);var $=!o||o.end!==!1,et=$?j:gt;_.endEmitted?nextTick(et):s.once("end",et),i.on("unpipe",rt);function rt(Tt){debug("onunpipe"),Tt===s&&gt()}function j(){debug("onend"),i.end()}var st=pipeOnDrain(s);i.on("drain",st);var lt=!1;function gt(){debug("cleanup"),i.removeListener("close",yt),i.removeListener("finish",Qt),i.removeListener("drain",st),i.removeListener("error",Ft),i.removeListener("unpipe",rt),s.removeListener("end",j),s.removeListener("end",gt),s.removeListener("data",Ut),lt=!0,_.awaitDrain&&(!i._writableState||i._writableState.needDrain)&&st()}var bt=!1;s.on("data",Ut);function Ut(Tt){debug("ondata"),bt=!1;var Jt=i.write(Tt);Jt===!1&&!bt&&((_.pipesCount===1&&_.pipes===i||_.pipesCount>1&&indexOf(_.pipes,i)!==-1)&&!lt&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,bt=!0),s.pause())}function Ft(Tt){debug("onerror",Tt),wt(),i.removeListener("error",Ft),listenerCount(i,"error")===0&&i.emit("error",Tt)}prependListener(i,"error",Ft);function yt(){i.removeListener("finish",Qt),wt()}i.once("close",yt);function Qt(){debug("onfinish"),i.removeListener("close",yt),wt()}i.once("finish",Qt);function wt(){debug("unpipe"),s.unpipe(i)}return i.emit("pipe",s),_.flowing||(debug("pipe resume"),s.resume()),i};function pipeOnDrain(i){return function(){var o=i._readableState;debug("pipeOnDrain",o.awaitDrain),o.awaitDrain&&o.awaitDrain--,o.awaitDrain===0&&i.listeners("data").length&&(o.flowing=!0,flow(i))}}Readable.prototype.unpipe=function(i){var o=this._readableState;if(o.pipesCount===0)return this;if(o.pipesCount===1)return i&&i!==o.pipes?this:(i||(i=o.pipes),o.pipes=null,o.pipesCount=0,o.flowing=!1,i&&i.emit("unpipe",this),this);if(!i){var s=o.pipes,_=o.pipesCount;o.pipes=null,o.pipesCount=0,o.flowing=!1;for(var $=0;$<_;$++)s[$].emit("unpipe",this);return this}var et=indexOf(o.pipes,i);return et===-1?this:(o.pipes.splice(et,1),o.pipesCount-=1,o.pipesCount===1&&(o.pipes=o.pipes[0]),i.emit("unpipe",this),this)};Readable.prototype.on=function(i,o){var s=EventEmitter.prototype.on.call(this,i,o);if(i==="data")this._readableState.flowing!==!1&&this.resume();else if(i==="readable"){var _=this._readableState;!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.emittedReadable=!1,_.reading?_.length&&emitReadable(this):nextTick(nReadingNextTick,this))}return s};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(i){debug("readable nexttick read 0"),i.read(0)}Readable.prototype.resume=function(){var i=this._readableState;return i.flowing||(debug("resume"),i.flowing=!0,resume(this,i)),this};function resume(i,o){o.resumeScheduled||(o.resumeScheduled=!0,nextTick(resume_,i,o))}function resume_(i,o){o.reading||(debug("resume read 0"),i.read(0)),o.resumeScheduled=!1,o.awaitDrain=0,i.emit("resume"),flow(i),o.flowing&&!o.reading&&i.read(0)}Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function flow(i){var o=i._readableState;for(debug("flow",o.flowing);o.flowing&&i.read()!==null;);}Readable.prototype.wrap=function(i){var o=this._readableState,s=!1,_=this;i.on("end",function(){if(debug("wrapped end"),o.decoder&&!o.ended){var rt=o.decoder.end();rt&&rt.length&&_.push(rt)}_.push(null)}),i.on("data",function(rt){if(debug("wrapped data"),o.decoder&&(rt=o.decoder.write(rt)),!(o.objectMode&&rt==null)&&!(!o.objectMode&&(!rt||!rt.length))){var j=_.push(rt);j||(s=!0,i.pause())}});for(var $ in i)this[$]===void 0&&typeof i[$]=="function"&&(this[$]=function(rt){return function(){return i[rt].apply(i,arguments)}}($));var et=["error","close","destroy","pause","resume"];return forEach(et,function(rt){i.on(rt,_.emit.bind(_,rt))}),_._read=function(rt){debug("wrapped _read",rt),s&&(s=!1,i.resume())},_};Readable._fromList=fromList;function fromList(i,o){if(o.length===0)return null;var s;return o.objectMode?s=o.buffer.shift():!i||i>=o.length?(o.decoder?s=o.buffer.join(""):o.buffer.length===1?s=o.buffer.head.data:s=o.buffer.concat(o.length),o.buffer.clear()):s=fromListPartial(i,o.buffer,o.decoder),s}function fromListPartial(i,o,s){var _;return i<o.head.data.length?(_=o.head.data.slice(0,i),o.head.data=o.head.data.slice(i)):i===o.head.data.length?_=o.shift():_=s?copyFromBufferString(i,o):copyFromBuffer(i,o),_}function copyFromBufferString(i,o){var s=o.head,_=1,$=s.data;for(i-=$.length;s=s.next;){var et=s.data,rt=i>et.length?et.length:i;if(rt===et.length?$+=et:$+=et.slice(0,i),i-=rt,i===0){rt===et.length?(++_,s.next?o.head=s.next:o.head=o.tail=null):(o.head=s,s.data=et.slice(rt));break}++_}return o.length-=_,$}function copyFromBuffer(i,o){var s=Buffer.allocUnsafe(i),_=o.head,$=1;for(_.data.copy(s),i-=_.data.length;_=_.next;){var et=_.data,rt=i>et.length?et.length:i;if(et.copy(s,s.length-i,0,rt),i-=rt,i===0){rt===et.length?(++$,_.next?o.head=_.next:o.head=o.tail=null):(o.head=_,_.data=et.slice(rt));break}++$}return o.length-=$,s}function endReadable(i){var o=i._readableState;if(o.length>0)throw new Error('"endReadable()" called on non-empty stream');o.endEmitted||(o.ended=!0,nextTick(endReadableNT,o,i))}function endReadableNT(i,o){!i.endEmitted&&i.length===0&&(i.endEmitted=!0,o.readable=!1,o.emit("end"))}function forEach(i,o){for(var s=0,_=i.length;s<_;s++)o(i[s],s)}function indexOf(i,o){for(var s=0,_=i.length;s<_;s++)if(i[s]===o)return s;return-1}Writable.WritableState=WritableState;inherits$1(Writable,EventEmitter);function nop(){}function WriteReq(i,o,s){this.chunk=i,this.encoding=o,this.callback=s,this.next=null}function WritableState(i,o){Object.defineProperty(this,"buffer",{get:deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),i=i||{},this.objectMode=!!i.objectMode,o instanceof Duplex&&(this.objectMode=this.objectMode||!!i.writableObjectMode);var s=i.highWaterMark,_=this.objectMode?16:16*1024;this.highWaterMark=s||s===0?s:_,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var $=i.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(et){onwrite(o,et)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function i(){for(var o=this.bufferedRequest,s=[];o;)s.push(o),o=o.next;return s};function Writable(i){if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(i);this._writableState=new WritableState(i,this),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev)),EventEmitter.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(i,o){var s=new Error("write after end");i.emit("error",s),nextTick(o,s)}function validChunk(i,o,s,_){var $=!0,et=!1;return s===null?et=new TypeError("May not write null values to stream"):!Buffer.isBuffer(s)&&typeof s!="string"&&s!==void 0&&!o.objectMode&&(et=new TypeError("Invalid non-string/buffer chunk")),et&&(i.emit("error",et),nextTick(_,et),$=!1),$}Writable.prototype.write=function(i,o,s){var _=this._writableState,$=!1;return typeof o=="function"&&(s=o,o=null),Buffer.isBuffer(i)?o="buffer":o||(o=_.defaultEncoding),typeof s!="function"&&(s=nop),_.ended?writeAfterEnd(this,s):validChunk(this,_,i,s)&&(_.pendingcb++,$=writeOrBuffer(this,_,i,o,s)),$};Writable.prototype.cork=function(){var i=this._writableState;i.corked++};Writable.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.finished&&!i.bufferProcessing&&i.bufferedRequest&&clearBuffer(this,i))};Writable.prototype.setDefaultEncoding=function i(o){if(typeof o=="string"&&(o=o.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((o+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+o);return this._writableState.defaultEncoding=o,this};function decodeChunk(i,o,s){return!i.objectMode&&i.decodeStrings!==!1&&typeof o=="string"&&(o=Buffer.from(o,s)),o}function writeOrBuffer(i,o,s,_,$){s=decodeChunk(o,s,_),Buffer.isBuffer(s)&&(_="buffer");var et=o.objectMode?1:s.length;o.length+=et;var rt=o.length<o.highWaterMark;if(rt||(o.needDrain=!0),o.writing||o.corked){var j=o.lastBufferedRequest;o.lastBufferedRequest=new WriteReq(s,_,$),j?j.next=o.lastBufferedRequest:o.bufferedRequest=o.lastBufferedRequest,o.bufferedRequestCount+=1}else doWrite(i,o,!1,et,s,_,$);return rt}function doWrite(i,o,s,_,$,et,rt){o.writelen=_,o.writecb=rt,o.writing=!0,o.sync=!0,s?i._writev($,o.onwrite):i._write($,et,o.onwrite),o.sync=!1}function onwriteError(i,o,s,_,$){--o.pendingcb,s?nextTick($,_):$(_),i._writableState.errorEmitted=!0,i.emit("error",_)}function onwriteStateUpdate(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}function onwrite(i,o){var s=i._writableState,_=s.sync,$=s.writecb;if(onwriteStateUpdate(s),o)onwriteError(i,s,_,o,$);else{var et=needFinish(s);!et&&!s.corked&&!s.bufferProcessing&&s.bufferedRequest&&clearBuffer(i,s),_?nextTick(afterWrite,i,s,et,$):afterWrite(i,s,et,$)}}function afterWrite(i,o,s,_){s||onwriteDrain(i,o),o.pendingcb--,_(),finishMaybe(i,o)}function onwriteDrain(i,o){o.length===0&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))}function clearBuffer(i,o){o.bufferProcessing=!0;var s=o.bufferedRequest;if(i._writev&&s&&s.next){var _=o.bufferedRequestCount,$=new Array(_),et=o.corkedRequestsFree;et.entry=s;for(var rt=0;s;)$[rt]=s,s=s.next,rt+=1;doWrite(i,o,!0,o.length,$,"",et.finish),o.pendingcb++,o.lastBufferedRequest=null,et.next?(o.corkedRequestsFree=et.next,et.next=null):o.corkedRequestsFree=new CorkedRequest(o)}else{for(;s;){var j=s.chunk,st=s.encoding,lt=s.callback,gt=o.objectMode?1:j.length;if(doWrite(i,o,!1,gt,j,st,lt),s=s.next,o.writing)break}s===null&&(o.lastBufferedRequest=null)}o.bufferedRequestCount=0,o.bufferedRequest=s,o.bufferProcessing=!1}Writable.prototype._write=function(i,o,s){s(new Error("not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(i,o,s){var _=this._writableState;typeof i=="function"?(s=i,i=null,o=null):typeof o=="function"&&(s=o,o=null),i!=null&&this.write(i,o),_.corked&&(_.corked=1,this.uncork()),!_.ending&&!_.finished&&endWritable(this,_,s)};function needFinish(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}function prefinish(i,o){o.prefinished||(o.prefinished=!0,i.emit("prefinish"))}function finishMaybe(i,o){var s=needFinish(o);return s&&(o.pendingcb===0?(prefinish(i,o),o.finished=!0,i.emit("finish")):prefinish(i,o)),s}function endWritable(i,o,s){o.ending=!0,finishMaybe(i,o),s&&(o.finished?nextTick(s):i.once("finish",s)),o.ended=!0,i.writable=!1}function CorkedRequest(i){var o=this;this.next=null,this.entry=null,this.finish=function(s){var _=o.entry;for(o.entry=null;_;){var $=_.callback;i.pendingcb--,$(s),_=_.next}i.corkedRequestsFree?i.corkedRequestsFree.next=o:i.corkedRequestsFree=o}}inherits$1(Duplex,Readable);var keys=Object.keys(Writable.prototype);for(var v$1=0;v$1<keys.length;v$1++){var method=keys[v$1];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(i){if(!(this instanceof Duplex))return new Duplex(i);Readable.call(this,i),Writable.call(this,i),i&&i.readable===!1&&(this.readable=!1),i&&i.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,i&&i.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||nextTick(onEndNT,this)}function onEndNT(i){i.end()}inherits$1(Transform,Duplex);function TransformState(i){this.afterTransform=function(o,s){return afterTransform(i,o,s)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(i,o,s){var _=i._transformState;_.transforming=!1;var $=_.writecb;if(!$)return i.emit("error",new Error("no writecb in Transform class"));_.writechunk=null,_.writecb=null,s!=null&&i.push(s),$(o);var et=i._readableState;et.reading=!1,(et.needReadable||et.length<et.highWaterMark)&&i._read(et.highWaterMark)}function Transform(i){if(!(this instanceof Transform))return new Transform(i);Duplex.call(this,i),this._transformState=new TransformState(this);var o=this;this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(s){done(o,s)}):done(o)})}Transform.prototype.push=function(i,o){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,i,o)};Transform.prototype._transform=function(i,o,s){throw new Error("Not implemented")};Transform.prototype._write=function(i,o,s){var _=this._transformState;if(_.writecb=s,_.writechunk=i,_.writeencoding=o,!_.transforming){var $=this._readableState;(_.needTransform||$.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}};Transform.prototype._read=function(i){var o=this._transformState;o.writechunk!==null&&o.writecb&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0};function done(i,o){if(o)return i.emit("error",o);var s=i._writableState,_=i._transformState;if(s.length)throw new Error("Calling transform done when ws.length != 0");if(_.transforming)throw new Error("Calling transform done when still transforming");return i.push(null)}inherits$1(PassThrough,Transform);function PassThrough(i){if(!(this instanceof PassThrough))return new PassThrough(i);Transform.call(this,i)}PassThrough.prototype._transform=function(i,o,s){s(null,i)};inherits$1(Stream,EventEmitter);Stream.Readable=Readable;Stream.Writable=Writable;Stream.Duplex=Duplex;Stream.Transform=Transform;Stream.PassThrough=PassThrough;Stream.Stream=Stream;function Stream(){EventEmitter.call(this)}Stream.prototype.pipe=function(i,o){var s=this;function _(gt){i.writable&&i.write(gt)===!1&&s.pause&&s.pause()}s.on("data",_);function $(){s.readable&&s.resume&&s.resume()}i.on("drain",$),!i._isStdio&&(!o||o.end!==!1)&&(s.on("end",rt),s.on("close",j));var et=!1;function rt(){et||(et=!0,i.end())}function j(){et||(et=!0,typeof i.destroy=="function"&&i.destroy())}function st(gt){if(lt(),EventEmitter.listenerCount(this,"error")===0)throw gt}s.on("error",st),i.on("error",st);function lt(){s.removeListener("data",_),i.removeListener("drain",$),s.removeListener("end",rt),s.removeListener("close",j),s.removeListener("error",st),i.removeListener("error",st),s.removeListener("end",lt),s.removeListener("close",lt),i.removeListener("close",lt)}return s.on("end",lt),s.on("close",lt),i.on("close",lt),i.emit("pipe",s),i};const msg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function arraySet(i,o,s,_,$){if(o.subarray&&i.subarray){i.set(o.subarray(s,s+_),$);return}for(var et=0;et<_;et++)i[$+et]=o[s+et]}var Buf8=Uint8Array,Buf16=Uint16Array,Buf32=Int32Array,Z_FIXED$2=4,Z_BINARY$1=0,Z_TEXT$1=1,Z_UNKNOWN$2=2;function zero$1(i){for(var o=i.length;--o>=0;)i[o]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(i,o,s,_,$){this.static_tree=i,this.extra_bits=o,this.extra_base=s,this.elems=_,this.max_length=$,this.has_stree=i&&i.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(i,o){this.dyn_tree=i,this.max_code=0,this.stat_desc=o}function d_code(i){return i<256?_dist_code[i]:_dist_code[256+(i>>>7)]}function put_short(i,o){i.pending_buf[i.pending++]=o&255,i.pending_buf[i.pending++]=o>>>8&255}function send_bits(i,o,s){i.bi_valid>Buf_size-s?(i.bi_buf|=o<<i.bi_valid&65535,put_short(i,i.bi_buf),i.bi_buf=o>>Buf_size-i.bi_valid,i.bi_valid+=s-Buf_size):(i.bi_buf|=o<<i.bi_valid&65535,i.bi_valid+=s)}function send_code(i,o,s){send_bits(i,s[o*2],s[o*2+1])}function bi_reverse(i,o){var s=0;do s|=i&1,i>>>=1,s<<=1;while(--o>0);return s>>>1}function bi_flush(i){i.bi_valid===16?(put_short(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)}function gen_bitlen(i,o){var s=o.dyn_tree,_=o.max_code,$=o.stat_desc.static_tree,et=o.stat_desc.has_stree,rt=o.stat_desc.extra_bits,j=o.stat_desc.extra_base,st=o.stat_desc.max_length,lt,gt,bt,Ut,Ft,yt,Qt=0;for(Ut=0;Ut<=MAX_BITS$1;Ut++)i.bl_count[Ut]=0;for(s[i.heap[i.heap_max]*2+1]=0,lt=i.heap_max+1;lt<HEAP_SIZE$1;lt++)gt=i.heap[lt],Ut=s[s[gt*2+1]*2+1]+1,Ut>st&&(Ut=st,Qt++),s[gt*2+1]=Ut,!(gt>_)&&(i.bl_count[Ut]++,Ft=0,gt>=j&&(Ft=rt[gt-j]),yt=s[gt*2],i.opt_len+=yt*(Ut+Ft),et&&(i.static_len+=yt*($[gt*2+1]+Ft)));if(Qt!==0){do{for(Ut=st-1;i.bl_count[Ut]===0;)Ut--;i.bl_count[Ut]--,i.bl_count[Ut+1]+=2,i.bl_count[st]--,Qt-=2}while(Qt>0);for(Ut=st;Ut!==0;Ut--)for(gt=i.bl_count[Ut];gt!==0;)bt=i.heap[--lt],!(bt>_)&&(s[bt*2+1]!==Ut&&(i.opt_len+=(Ut-s[bt*2+1])*s[bt*2],s[bt*2+1]=Ut),gt--)}}function gen_codes(i,o,s){var _=new Array(MAX_BITS$1+1),$=0,et,rt;for(et=1;et<=MAX_BITS$1;et++)_[et]=$=$+s[et-1]<<1;for(rt=0;rt<=o;rt++){var j=i[rt*2+1];j!==0&&(i[rt*2]=bi_reverse(_[j]++,j))}}function tr_static_init(){var i,o,s,_,$,et=new Array(MAX_BITS$1+1);for(s=0,_=0;_<LENGTH_CODES$1-1;_++)for(base_length[_]=s,i=0;i<1<<extra_lbits[_];i++)_length_code[s++]=_;for(_length_code[s-1]=_,$=0,_=0;_<16;_++)for(base_dist[_]=$,i=0;i<1<<extra_dbits[_];i++)_dist_code[$++]=_;for($>>=7;_<D_CODES$1;_++)for(base_dist[_]=$<<7,i=0;i<1<<extra_dbits[_]-7;i++)_dist_code[256+$++]=_;for(o=0;o<=MAX_BITS$1;o++)et[o]=0;for(i=0;i<=143;)static_ltree[i*2+1]=8,i++,et[8]++;for(;i<=255;)static_ltree[i*2+1]=9,i++,et[9]++;for(;i<=279;)static_ltree[i*2+1]=7,i++,et[7]++;for(;i<=287;)static_ltree[i*2+1]=8,i++,et[8]++;for(gen_codes(static_ltree,L_CODES$1+1,et),i=0;i<D_CODES$1;i++)static_dtree[i*2+1]=5,static_dtree[i*2]=bi_reverse(i,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(i){var o;for(o=0;o<L_CODES$1;o++)i.dyn_ltree[o*2]=0;for(o=0;o<D_CODES$1;o++)i.dyn_dtree[o*2]=0;for(o=0;o<BL_CODES$1;o++)i.bl_tree[o*2]=0;i.dyn_ltree[END_BLOCK*2]=1,i.opt_len=i.static_len=0,i.last_lit=i.matches=0}function bi_windup(i){i.bi_valid>8?put_short(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0}function copy_block(i,o,s,_){bi_windup(i),_&&(put_short(i,s),put_short(i,~s)),arraySet(i.pending_buf,i.window,o,s,i.pending),i.pending+=s}function smaller(i,o,s,_){var $=o*2,et=s*2;return i[$]<i[et]||i[$]===i[et]&&_[o]<=_[s]}function pqdownheap(i,o,s){for(var _=i.heap[s],$=s<<1;$<=i.heap_len&&($<i.heap_len&&smaller(o,i.heap[$+1],i.heap[$],i.depth)&&$++,!smaller(o,_,i.heap[$],i.depth));)i.heap[s]=i.heap[$],s=$,$<<=1;i.heap[s]=_}function compress_block(i,o,s){var _,$,et=0,rt,j;if(i.last_lit!==0)do _=i.pending_buf[i.d_buf+et*2]<<8|i.pending_buf[i.d_buf+et*2+1],$=i.pending_buf[i.l_buf+et],et++,_===0?send_code(i,$,o):(rt=_length_code[$],send_code(i,rt+LITERALS$1+1,o),j=extra_lbits[rt],j!==0&&($-=base_length[rt],send_bits(i,$,j)),_--,rt=d_code(_),send_code(i,rt,s),j=extra_dbits[rt],j!==0&&(_-=base_dist[rt],send_bits(i,_,j)));while(et<i.last_lit);send_code(i,END_BLOCK,o)}function build_tree(i,o){var s=o.dyn_tree,_=o.stat_desc.static_tree,$=o.stat_desc.has_stree,et=o.stat_desc.elems,rt,j,st=-1,lt;for(i.heap_len=0,i.heap_max=HEAP_SIZE$1,rt=0;rt<et;rt++)s[rt*2]!==0?(i.heap[++i.heap_len]=st=rt,i.depth[rt]=0):s[rt*2+1]=0;for(;i.heap_len<2;)lt=i.heap[++i.heap_len]=st<2?++st:0,s[lt*2]=1,i.depth[lt]=0,i.opt_len--,$&&(i.static_len-=_[lt*2+1]);for(o.max_code=st,rt=i.heap_len>>1;rt>=1;rt--)pqdownheap(i,s,rt);lt=et;do rt=i.heap[1],i.heap[1]=i.heap[i.heap_len--],pqdownheap(i,s,1),j=i.heap[1],i.heap[--i.heap_max]=rt,i.heap[--i.heap_max]=j,s[lt*2]=s[rt*2]+s[j*2],i.depth[lt]=(i.depth[rt]>=i.depth[j]?i.depth[rt]:i.depth[j])+1,s[rt*2+1]=s[j*2+1]=lt,i.heap[1]=lt++,pqdownheap(i,s,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],gen_bitlen(i,o),gen_codes(s,st,i.bl_count)}function scan_tree(i,o,s){var _,$=-1,et,rt=o[0*2+1],j=0,st=7,lt=4;for(rt===0&&(st=138,lt=3),o[(s+1)*2+1]=65535,_=0;_<=s;_++)et=rt,rt=o[(_+1)*2+1],!(++j<st&&et===rt)&&(j<lt?i.bl_tree[et*2]+=j:et!==0?(et!==$&&i.bl_tree[et*2]++,i.bl_tree[REP_3_6*2]++):j<=10?i.bl_tree[REPZ_3_10*2]++:i.bl_tree[REPZ_11_138*2]++,j=0,$=et,rt===0?(st=138,lt=3):et===rt?(st=6,lt=3):(st=7,lt=4))}function send_tree(i,o,s){var _,$=-1,et,rt=o[0*2+1],j=0,st=7,lt=4;for(rt===0&&(st=138,lt=3),_=0;_<=s;_++)if(et=rt,rt=o[(_+1)*2+1],!(++j<st&&et===rt)){if(j<lt)do send_code(i,et,i.bl_tree);while(--j!==0);else et!==0?(et!==$&&(send_code(i,et,i.bl_tree),j--),send_code(i,REP_3_6,i.bl_tree),send_bits(i,j-3,2)):j<=10?(send_code(i,REPZ_3_10,i.bl_tree),send_bits(i,j-3,3)):(send_code(i,REPZ_11_138,i.bl_tree),send_bits(i,j-11,7));j=0,$=et,rt===0?(st=138,lt=3):et===rt?(st=6,lt=3):(st=7,lt=4)}}function build_bl_tree(i){var o;for(scan_tree(i,i.dyn_ltree,i.l_desc.max_code),scan_tree(i,i.dyn_dtree,i.d_desc.max_code),build_tree(i,i.bl_desc),o=BL_CODES$1-1;o>=3&&i.bl_tree[bl_order[o]*2+1]===0;o--);return i.opt_len+=3*(o+1)+5+5+4,o}function send_all_trees(i,o,s,_){var $;for(send_bits(i,o-257,5),send_bits(i,s-1,5),send_bits(i,_-4,4),$=0;$<_;$++)send_bits(i,i.bl_tree[bl_order[$]*2+1],3);send_tree(i,i.dyn_ltree,o-1),send_tree(i,i.dyn_dtree,s-1)}function detect_data_type(i){var o=4093624447,s;for(s=0;s<=31;s++,o>>>=1)if(o&1&&i.dyn_ltree[s*2]!==0)return Z_BINARY$1;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return Z_TEXT$1;for(s=32;s<LITERALS$1;s++)if(i.dyn_ltree[s*2]!==0)return Z_TEXT$1;return Z_BINARY$1}var static_init_done=!1;function _tr_init(i){static_init_done||(tr_static_init(),static_init_done=!0),i.l_desc=new TreeDesc(i.dyn_ltree,static_l_desc),i.d_desc=new TreeDesc(i.dyn_dtree,static_d_desc),i.bl_desc=new TreeDesc(i.bl_tree,static_bl_desc),i.bi_buf=0,i.bi_valid=0,init_block(i)}function _tr_stored_block(i,o,s,_){send_bits(i,(STORED_BLOCK<<1)+(_?1:0),3),copy_block(i,o,s,!0)}function _tr_align(i){send_bits(i,STATIC_TREES<<1,3),send_code(i,END_BLOCK,static_ltree),bi_flush(i)}function _tr_flush_block(i,o,s,_){var $,et,rt=0;i.level>0?(i.strm.data_type===Z_UNKNOWN$2&&(i.strm.data_type=detect_data_type(i)),build_tree(i,i.l_desc),build_tree(i,i.d_desc),rt=build_bl_tree(i),$=i.opt_len+3+7>>>3,et=i.static_len+3+7>>>3,et<=$&&($=et)):$=et=s+5,s+4<=$&&o!==-1?_tr_stored_block(i,o,s,_):i.strategy===Z_FIXED$2||et===$?(send_bits(i,(STATIC_TREES<<1)+(_?1:0),3),compress_block(i,static_ltree,static_dtree)):(send_bits(i,(DYN_TREES<<1)+(_?1:0),3),send_all_trees(i,i.l_desc.max_code+1,i.d_desc.max_code+1,rt+1),compress_block(i,i.dyn_ltree,i.dyn_dtree)),init_block(i),_&&bi_windup(i)}function _tr_tally(i,o,s){return i.pending_buf[i.d_buf+i.last_lit*2]=o>>>8&255,i.pending_buf[i.d_buf+i.last_lit*2+1]=o&255,i.pending_buf[i.l_buf+i.last_lit]=s&255,i.last_lit++,o===0?i.dyn_ltree[s*2]++:(i.matches++,o--,i.dyn_ltree[(_length_code[s]+LITERALS$1+1)*2]++,i.dyn_dtree[d_code(o)*2]++),i.last_lit===i.lit_bufsize-1}function adler32(i,o,s,_){for(var $=i&65535|0,et=i>>>16&65535|0,rt=0;s!==0;){rt=s>2e3?2e3:s,s-=rt;do $=$+o[_++]|0,et=et+$|0;while(--rt);$%=65521,et%=65521}return $|et<<16|0}function makeTable(){for(var i,o=[],s=0;s<256;s++){i=s;for(var _=0;_<8;_++)i=i&1?3988292384^i>>>1:i>>>1;o[s]=i}return o}var crcTable=makeTable();function crc32(i,o,s,_){var $=crcTable,et=_+s;i^=-1;for(var rt=_;rt<et;rt++)i=i>>>8^$[(i^o[rt])&255];return i^-1}var Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH$1=1,Z_FULL_FLUSH$1=3,Z_FINISH$2=4,Z_BLOCK$2=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$2=-2,Z_DATA_ERROR$2=-3,Z_BUF_ERROR$2=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED$1=1,Z_HUFFMAN_ONLY$1=2,Z_RLE$1=3,Z_FIXED$1=4,Z_UNKNOWN$1=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(i,o){return i.msg=msg[o],o}function rank(i){return(i<<1)-(i>4?9:0)}function zero(i){for(var o=i.length;--o>=0;)i[o]=0}function flush_pending(i){var o=i.state,s=o.pending;s>i.avail_out&&(s=i.avail_out),s!==0&&(arraySet(i.output,o.pending_buf,o.pending_out,s,i.next_out),i.next_out+=s,o.pending_out+=s,i.total_out+=s,i.avail_out-=s,o.pending-=s,o.pending===0&&(o.pending_out=0))}function flush_block_only(i,o){_tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,o),i.block_start=i.strstart,flush_pending(i.strm)}function put_byte(i,o){i.pending_buf[i.pending++]=o}function putShortMSB(i,o){i.pending_buf[i.pending++]=o>>>8&255,i.pending_buf[i.pending++]=o&255}function read_buf(i,o,s,_){var $=i.avail_in;return $>_&&($=_),$===0?0:(i.avail_in-=$,arraySet(o,i.input,i.next_in,$,s),i.state.wrap===1?i.adler=adler32(i.adler,o,$,s):i.state.wrap===2&&(i.adler=crc32(i.adler,o,$,s)),i.next_in+=$,i.total_in+=$,$)}function longest_match(i,o){var s=i.max_chain_length,_=i.strstart,$,et,rt=i.prev_length,j=i.nice_match,st=i.strstart>i.w_size-MIN_LOOKAHEAD?i.strstart-(i.w_size-MIN_LOOKAHEAD):0,lt=i.window,gt=i.w_mask,bt=i.prev,Ut=i.strstart+MAX_MATCH,Ft=lt[_+rt-1],yt=lt[_+rt];i.prev_length>=i.good_match&&(s>>=2),j>i.lookahead&&(j=i.lookahead);do if($=o,!(lt[$+rt]!==yt||lt[$+rt-1]!==Ft||lt[$]!==lt[_]||lt[++$]!==lt[_+1])){_+=2,$++;do;while(lt[++_]===lt[++$]&&lt[++_]===lt[++$]&&lt[++_]===lt[++$]&&lt[++_]===lt[++$]&&lt[++_]===lt[++$]&&lt[++_]===lt[++$]&&lt[++_]===lt[++$]&&lt[++_]===lt[++$]&&_<Ut);if(et=MAX_MATCH-(Ut-_),_=Ut-MAX_MATCH,et>rt){if(i.match_start=o,rt=et,et>=j)break;Ft=lt[_+rt-1],yt=lt[_+rt]}}while((o=bt[o&gt])>st&&--s!==0);return rt<=i.lookahead?rt:i.lookahead}function fill_window(i){var o=i.w_size,s,_,$,et,rt;do{if(et=i.window_size-i.lookahead-i.strstart,i.strstart>=o+(o-MIN_LOOKAHEAD)){arraySet(i.window,i.window,o,o,0),i.match_start-=o,i.strstart-=o,i.block_start-=o,_=i.hash_size,s=_;do $=i.head[--s],i.head[s]=$>=o?$-o:0;while(--_);_=o,s=_;do $=i.prev[--s],i.prev[s]=$>=o?$-o:0;while(--_);et+=o}if(i.strm.avail_in===0)break;if(_=read_buf(i.strm,i.window,i.strstart+i.lookahead,et),i.lookahead+=_,i.lookahead+i.insert>=MIN_MATCH)for(rt=i.strstart-i.insert,i.ins_h=i.window[rt],i.ins_h=(i.ins_h<<i.hash_shift^i.window[rt+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[rt+MIN_MATCH-1])&i.hash_mask,i.prev[rt&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=rt,rt++,i.insert--,!(i.lookahead+i.insert<MIN_MATCH)););}while(i.lookahead<MIN_LOOKAHEAD&&i.strm.avail_in!==0)}function deflate_stored(i,o){var s=65535;for(s>i.pending_buf_size-5&&(s=i.pending_buf_size-5);;){if(i.lookahead<=1){if(fill_window(i),i.lookahead===0&&o===Z_NO_FLUSH$1)return BS_NEED_MORE;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var _=i.block_start+s;if((i.strstart===0||i.strstart>=_)&&(i.lookahead=i.strstart-_,i.strstart=_,flush_block_only(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-MIN_LOOKAHEAD&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=0,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(i.strstart>i.block_start&&(flush_block_only(i,!1),i.strm.avail_out),BS_NEED_MORE)}function deflate_fast(i,o){for(var s,_;;){if(i.lookahead<MIN_LOOKAHEAD){if(fill_window(i),i.lookahead<MIN_LOOKAHEAD&&o===Z_NO_FLUSH$1)return BS_NEED_MORE;if(i.lookahead===0)break}if(s=0,i.lookahead>=MIN_MATCH&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+MIN_MATCH-1])&i.hash_mask,s=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),s!==0&&i.strstart-s<=i.w_size-MIN_LOOKAHEAD&&(i.match_length=longest_match(i,s)),i.match_length>=MIN_MATCH)if(_=_tr_tally(i,i.strstart-i.match_start,i.match_length-MIN_MATCH),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=MIN_MATCH){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+MIN_MATCH-1])&i.hash_mask,s=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else _=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(_&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=i.strstart<MIN_MATCH-1?i.strstart:MIN_MATCH-1,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.last_lit&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(i,o){for(var s,_,$;;){if(i.lookahead<MIN_LOOKAHEAD){if(fill_window(i),i.lookahead<MIN_LOOKAHEAD&&o===Z_NO_FLUSH$1)return BS_NEED_MORE;if(i.lookahead===0)break}if(s=0,i.lookahead>=MIN_MATCH&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+MIN_MATCH-1])&i.hash_mask,s=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=MIN_MATCH-1,s!==0&&i.prev_length<i.max_lazy_match&&i.strstart-s<=i.w_size-MIN_LOOKAHEAD&&(i.match_length=longest_match(i,s),i.match_length<=5&&(i.strategy===Z_FILTERED$1||i.match_length===MIN_MATCH&&i.strstart-i.match_start>4096)&&(i.match_length=MIN_MATCH-1)),i.prev_length>=MIN_MATCH&&i.match_length<=i.prev_length){$=i.strstart+i.lookahead-MIN_MATCH,_=_tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-MIN_MATCH),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=$&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+MIN_MATCH-1])&i.hash_mask,s=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=MIN_MATCH-1,i.strstart++,_&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}else if(i.match_available){if(_=_tr_tally(i,0,i.window[i.strstart-1]),_&&flush_block_only(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return BS_NEED_MORE}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(_=_tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<MIN_MATCH-1?i.strstart:MIN_MATCH-1,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.last_lit&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(i,o){for(var s,_,$,et,rt=i.window;;){if(i.lookahead<=MAX_MATCH){if(fill_window(i),i.lookahead<=MAX_MATCH&&o===Z_NO_FLUSH$1)return BS_NEED_MORE;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=MIN_MATCH&&i.strstart>0&&($=i.strstart-1,_=rt[$],_===rt[++$]&&_===rt[++$]&&_===rt[++$])){et=i.strstart+MAX_MATCH;do;while(_===rt[++$]&&_===rt[++$]&&_===rt[++$]&&_===rt[++$]&&_===rt[++$]&&_===rt[++$]&&_===rt[++$]&&_===rt[++$]&&$<et);i.match_length=MAX_MATCH-(et-$),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=MIN_MATCH?(s=_tr_tally(i,1,i.match_length-MIN_MATCH),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(s=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),s&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=0,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.last_lit&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(i,o){for(var s;;){if(i.lookahead===0&&(fill_window(i),i.lookahead===0)){if(o===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(i.match_length=0,s=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,s&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=0,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.last_lit&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config$1(i,o,s,_,$){this.good_length=i,this.max_lazy=o,this.nice_length=s,this.max_chain=_,this.func=$}var configuration_table;configuration_table=[new Config$1(0,0,0,0,deflate_stored),new Config$1(4,4,8,4,deflate_fast),new Config$1(4,5,16,8,deflate_fast),new Config$1(4,6,32,32,deflate_fast),new Config$1(4,4,16,16,deflate_slow),new Config$1(8,16,32,32,deflate_slow),new Config$1(8,16,128,128,deflate_slow),new Config$1(8,32,128,256,deflate_slow),new Config$1(32,128,258,1024,deflate_slow),new Config$1(32,258,258,4096,deflate_slow)];function lm_init(i){i.window_size=2*i.w_size,zero(i.head),i.max_lazy_match=configuration_table[i.level].max_lazy,i.good_match=configuration_table[i.level].good_length,i.nice_match=configuration_table[i.level].nice_length,i.max_chain_length=configuration_table[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=MIN_MATCH-1,i.match_available=0,i.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Buf16(HEAP_SIZE*2),this.dyn_dtree=new Buf16((2*D_CODES+1)*2),this.bl_tree=new Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Buf16(MAX_BITS+1),this.heap=new Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(i){var o;return!i||!i.state?err(i,Z_STREAM_ERROR$2):(i.total_in=i.total_out=0,i.data_type=Z_UNKNOWN$1,o=i.state,o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap?INIT_STATE:BUSY_STATE,i.adler=o.wrap===2?0:1,o.last_flush=Z_NO_FLUSH$1,_tr_init(o),Z_OK$2)}function deflateReset(i){var o=deflateResetKeep(i);return o===Z_OK$2&&lm_init(i.state),o}function deflateInit2(i,o,s,_,$,et){if(!i)return Z_STREAM_ERROR$2;var rt=1;if(o===Z_DEFAULT_COMPRESSION$1&&(o=6),_<0?(rt=0,_=-_):_>15&&(rt=2,_-=16),$<1||$>MAX_MEM_LEVEL||s!==Z_DEFLATED$2||_<8||_>15||o<0||o>9||et<0||et>Z_FIXED$1)return err(i,Z_STREAM_ERROR$2);_===8&&(_=9);var j=new DeflateState;return i.state=j,j.strm=i,j.wrap=rt,j.gzhead=null,j.w_bits=_,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=$+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+MIN_MATCH-1)/MIN_MATCH),j.window=new Buf8(j.w_size*2),j.head=new Buf16(j.hash_size),j.prev=new Buf16(j.w_size),j.lit_bufsize=1<<$+6,j.pending_buf_size=j.lit_bufsize*4,j.pending_buf=new Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=(1+2)*j.lit_bufsize,j.level=o,j.strategy=et,j.method=s,deflateReset(i)}function deflate(i,o){var s,_,$,et;if(!i||!i.state||o>Z_BLOCK$2||o<0)return i?err(i,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;if(_=i.state,!i.output||!i.input&&i.avail_in!==0||_.status===FINISH_STATE&&o!==Z_FINISH$2)return err(i,i.avail_out===0?Z_BUF_ERROR$2:Z_STREAM_ERROR$2);if(_.strm=i,s=_.last_flush,_.last_flush=o,_.status===INIT_STATE)if(_.wrap===2)i.adler=0,put_byte(_,31),put_byte(_,139),put_byte(_,8),_.gzhead?(put_byte(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),put_byte(_,_.gzhead.time&255),put_byte(_,_.gzhead.time>>8&255),put_byte(_,_.gzhead.time>>16&255),put_byte(_,_.gzhead.time>>24&255),put_byte(_,_.level===9?2:_.strategy>=Z_HUFFMAN_ONLY$1||_.level<2?4:0),put_byte(_,_.gzhead.os&255),_.gzhead.extra&&_.gzhead.extra.length&&(put_byte(_,_.gzhead.extra.length&255),put_byte(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(i.adler=crc32(i.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=EXTRA_STATE):(put_byte(_,0),put_byte(_,0),put_byte(_,0),put_byte(_,0),put_byte(_,0),put_byte(_,_.level===9?2:_.strategy>=Z_HUFFMAN_ONLY$1||_.level<2?4:0),put_byte(_,OS_CODE),_.status=BUSY_STATE);else{var rt=Z_DEFLATED$2+(_.w_bits-8<<4)<<8,j=-1;_.strategy>=Z_HUFFMAN_ONLY$1||_.level<2?j=0:_.level<6?j=1:_.level===6?j=2:j=3,rt|=j<<6,_.strstart!==0&&(rt|=PRESET_DICT),rt+=31-rt%31,_.status=BUSY_STATE,putShortMSB(_,rt),_.strstart!==0&&(putShortMSB(_,i.adler>>>16),putShortMSB(_,i.adler&65535)),i.adler=1}if(_.status===EXTRA_STATE)if(_.gzhead.extra){for($=_.pending;_.gzindex<(_.gzhead.extra.length&65535)&&!(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),flush_pending(i),$=_.pending,_.pending===_.pending_buf_size));)put_byte(_,_.gzhead.extra[_.gzindex]&255),_.gzindex++;_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=NAME_STATE)}else _.status=NAME_STATE;if(_.status===NAME_STATE)if(_.gzhead.name){$=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),flush_pending(i),$=_.pending,_.pending===_.pending_buf_size)){et=1;break}_.gzindex<_.gzhead.name.length?et=_.gzhead.name.charCodeAt(_.gzindex++)&255:et=0,put_byte(_,et)}while(et!==0);_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),et===0&&(_.gzindex=0,_.status=COMMENT_STATE)}else _.status=COMMENT_STATE;if(_.status===COMMENT_STATE)if(_.gzhead.comment){$=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),flush_pending(i),$=_.pending,_.pending===_.pending_buf_size)){et=1;break}_.gzindex<_.gzhead.comment.length?et=_.gzhead.comment.charCodeAt(_.gzindex++)&255:et=0,put_byte(_,et)}while(et!==0);_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),et===0&&(_.status=HCRC_STATE)}else _.status=HCRC_STATE;if(_.status===HCRC_STATE&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&flush_pending(i),_.pending+2<=_.pending_buf_size&&(put_byte(_,i.adler&255),put_byte(_,i.adler>>8&255),i.adler=0,_.status=BUSY_STATE)):_.status=BUSY_STATE),_.pending!==0){if(flush_pending(i),i.avail_out===0)return _.last_flush=-1,Z_OK$2}else if(i.avail_in===0&&rank(o)<=rank(s)&&o!==Z_FINISH$2)return err(i,Z_BUF_ERROR$2);if(_.status===FINISH_STATE&&i.avail_in!==0)return err(i,Z_BUF_ERROR$2);if(i.avail_in!==0||_.lookahead!==0||o!==Z_NO_FLUSH$1&&_.status!==FINISH_STATE){var st=_.strategy===Z_HUFFMAN_ONLY$1?deflate_huff(_,o):_.strategy===Z_RLE$1?deflate_rle(_,o):configuration_table[_.level].func(_,o);if((st===BS_FINISH_STARTED||st===BS_FINISH_DONE)&&(_.status=FINISH_STATE),st===BS_NEED_MORE||st===BS_FINISH_STARTED)return i.avail_out===0&&(_.last_flush=-1),Z_OK$2;if(st===BS_BLOCK_DONE&&(o===Z_PARTIAL_FLUSH$1?_tr_align(_):o!==Z_BLOCK$2&&(_tr_stored_block(_,0,0,!1),o===Z_FULL_FLUSH$1&&(zero(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),flush_pending(i),i.avail_out===0))return _.last_flush=-1,Z_OK$2}return o!==Z_FINISH$2?Z_OK$2:_.wrap<=0?Z_STREAM_END$2:(_.wrap===2?(put_byte(_,i.adler&255),put_byte(_,i.adler>>8&255),put_byte(_,i.adler>>16&255),put_byte(_,i.adler>>24&255),put_byte(_,i.total_in&255),put_byte(_,i.total_in>>8&255),put_byte(_,i.total_in>>16&255),put_byte(_,i.total_in>>24&255)):(putShortMSB(_,i.adler>>>16),putShortMSB(_,i.adler&65535)),flush_pending(i),_.wrap>0&&(_.wrap=-_.wrap),_.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(i){var o;return!i||!i.state?Z_STREAM_ERROR$2:(o=i.state.status,o!==INIT_STATE&&o!==EXTRA_STATE&&o!==NAME_STATE&&o!==COMMENT_STATE&&o!==HCRC_STATE&&o!==BUSY_STATE&&o!==FINISH_STATE?err(i,Z_STREAM_ERROR$2):(i.state=null,o===BUSY_STATE?err(i,Z_DATA_ERROR$2):Z_OK$2))}var BAD$1=30,TYPE$1=12;function inflate_fast(i,o){var s,_,$,et,rt,j,st,lt,gt,bt,Ut,Ft,yt,Qt,wt,Tt,Jt,At,Nt,St,Ot,nn,yn,Ct,Vt;s=i.state,_=i.next_in,Ct=i.input,$=_+(i.avail_in-5),et=i.next_out,Vt=i.output,rt=et-(o-i.avail_out),j=et+(i.avail_out-257),st=s.dmax,lt=s.wsize,gt=s.whave,bt=s.wnext,Ut=s.window,Ft=s.hold,yt=s.bits,Qt=s.lencode,wt=s.distcode,Tt=(1<<s.lenbits)-1,Jt=(1<<s.distbits)-1;e:do{yt<15&&(Ft+=Ct[_++]<<yt,yt+=8,Ft+=Ct[_++]<<yt,yt+=8),At=Qt[Ft&Tt];t:for(;;){if(Nt=At>>>24,Ft>>>=Nt,yt-=Nt,Nt=At>>>16&255,Nt===0)Vt[et++]=At&65535;else if(Nt&16){St=At&65535,Nt&=15,Nt&&(yt<Nt&&(Ft+=Ct[_++]<<yt,yt+=8),St+=Ft&(1<<Nt)-1,Ft>>>=Nt,yt-=Nt),yt<15&&(Ft+=Ct[_++]<<yt,yt+=8,Ft+=Ct[_++]<<yt,yt+=8),At=wt[Ft&Jt];n:for(;;){if(Nt=At>>>24,Ft>>>=Nt,yt-=Nt,Nt=At>>>16&255,Nt&16){if(Ot=At&65535,Nt&=15,yt<Nt&&(Ft+=Ct[_++]<<yt,yt+=8,yt<Nt&&(Ft+=Ct[_++]<<yt,yt+=8)),Ot+=Ft&(1<<Nt)-1,Ot>st){i.msg="invalid distance too far back",s.mode=BAD$1;break e}if(Ft>>>=Nt,yt-=Nt,Nt=et-rt,Ot>Nt){if(Nt=Ot-Nt,Nt>gt&&s.sane){i.msg="invalid distance too far back",s.mode=BAD$1;break e}if(nn=0,yn=Ut,bt===0){if(nn+=lt-Nt,Nt<St){St-=Nt;do Vt[et++]=Ut[nn++];while(--Nt);nn=et-Ot,yn=Vt}}else if(bt<Nt){if(nn+=lt+bt-Nt,Nt-=bt,Nt<St){St-=Nt;do Vt[et++]=Ut[nn++];while(--Nt);if(nn=0,bt<St){Nt=bt,St-=Nt;do Vt[et++]=Ut[nn++];while(--Nt);nn=et-Ot,yn=Vt}}}else if(nn+=bt-Nt,Nt<St){St-=Nt;do Vt[et++]=Ut[nn++];while(--Nt);nn=et-Ot,yn=Vt}for(;St>2;)Vt[et++]=yn[nn++],Vt[et++]=yn[nn++],Vt[et++]=yn[nn++],St-=3;St&&(Vt[et++]=yn[nn++],St>1&&(Vt[et++]=yn[nn++]))}else{nn=et-Ot;do Vt[et++]=Vt[nn++],Vt[et++]=Vt[nn++],Vt[et++]=Vt[nn++],St-=3;while(St>2);St&&(Vt[et++]=Vt[nn++],St>1&&(Vt[et++]=Vt[nn++]))}}else if(Nt&64){i.msg="invalid distance code",s.mode=BAD$1;break e}else{At=wt[(At&65535)+(Ft&(1<<Nt)-1)];continue n}break}}else if(Nt&64)if(Nt&32){s.mode=TYPE$1;break e}else{i.msg="invalid literal/length code",s.mode=BAD$1;break e}else{At=Qt[(At&65535)+(Ft&(1<<Nt)-1)];continue t}break}}while(_<$&&et<j);St=yt>>3,_-=St,yt-=St<<3,Ft&=(1<<yt)-1,i.next_in=_,i.next_out=et,i.avail_in=_<$?5+($-_):5-(_-$),i.avail_out=et<j?257+(j-et):257-(et-j),s.hold=Ft,s.bits=yt}var MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function inflate_table(i,o,s,_,$,et,rt,j){var st=j.bits,lt=0,gt=0,bt=0,Ut=0,Ft=0,yt=0,Qt=0,wt=0,Tt=0,Jt=0,At,Nt,St,Ot,nn,yn=null,Ct=0,Vt,Yt=new Buf16(MAXBITS+1),Pt=new Buf16(MAXBITS+1),tn=null,Un=0,Kt,$t,hn;for(lt=0;lt<=MAXBITS;lt++)Yt[lt]=0;for(gt=0;gt<_;gt++)Yt[o[s+gt]]++;for(Ft=st,Ut=MAXBITS;Ut>=1&&Yt[Ut]===0;Ut--);if(Ft>Ut&&(Ft=Ut),Ut===0)return $[et++]=1<<24|64<<16|0,$[et++]=1<<24|64<<16|0,j.bits=1,0;for(bt=1;bt<Ut&&Yt[bt]===0;bt++);for(Ft<bt&&(Ft=bt),wt=1,lt=1;lt<=MAXBITS;lt++)if(wt<<=1,wt-=Yt[lt],wt<0)return-1;if(wt>0&&(i===CODES$1||Ut!==1))return-1;for(Pt[1]=0,lt=1;lt<MAXBITS;lt++)Pt[lt+1]=Pt[lt]+Yt[lt];for(gt=0;gt<_;gt++)o[s+gt]!==0&&(rt[Pt[o[s+gt]]++]=gt);if(i===CODES$1?(yn=tn=rt,Vt=19):i===LENS$1?(yn=lbase,Ct-=257,tn=lext,Un-=257,Vt=256):(yn=dbase,tn=dext,Vt=-1),Jt=0,gt=0,lt=bt,nn=et,yt=Ft,Qt=0,St=-1,Tt=1<<Ft,Ot=Tt-1,i===LENS$1&&Tt>ENOUGH_LENS$1||i===DISTS$1&&Tt>ENOUGH_DISTS$1)return 1;for(;;){Kt=lt-Qt,rt[gt]<Vt?($t=0,hn=rt[gt]):rt[gt]>Vt?($t=tn[Un+rt[gt]],hn=yn[Ct+rt[gt]]):($t=32+64,hn=0),At=1<<lt-Qt,Nt=1<<yt,bt=Nt;do Nt-=At,$[nn+(Jt>>Qt)+Nt]=Kt<<24|$t<<16|hn|0;while(Nt!==0);for(At=1<<lt-1;Jt&At;)At>>=1;if(At!==0?(Jt&=At-1,Jt+=At):Jt=0,gt++,--Yt[lt]===0){if(lt===Ut)break;lt=o[s+rt[gt]]}if(lt>Ft&&(Jt&Ot)!==St){for(Qt===0&&(Qt=Ft),nn+=bt,yt=lt-Qt,wt=1<<yt;yt+Qt<Ut&&(wt-=Yt[yt+Qt],!(wt<=0));)yt++,wt<<=1;if(Tt+=1<<yt,i===LENS$1&&Tt>ENOUGH_LENS$1||i===DISTS$1&&Tt>ENOUGH_DISTS$1)return 1;St=Jt&Ot,$[St]=Ft<<24|yt<<16|nn-et|0}}return Jt!==0&&($[nn+Jt]=lt-Qt<<24|64<<16|0),j.bits=Ft,0}var CODES=0,LENS=1,DISTS=2,Z_FINISH$1=4,Z_BLOCK$1=5,Z_TREES$1=6,Z_OK$1=0,Z_STREAM_END$1=1,Z_NEED_DICT$1=2,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR$1=-5,Z_DEFLATED$1=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT$1=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592;function zswap32(i){return(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Buf16(320),this.work=new Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(i){var o;return!i||!i.state?Z_STREAM_ERROR$1:(o=i.state,i.total_in=i.total_out=o.total=0,i.msg="",o.wrap&&(i.adler=o.wrap&1),o.mode=HEAD,o.last=0,o.havedict=0,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Buf32(ENOUGH_LENS),o.distcode=o.distdyn=new Buf32(ENOUGH_DISTS),o.sane=1,o.back=-1,Z_OK$1)}function inflateReset(i){var o;return!i||!i.state?Z_STREAM_ERROR$1:(o=i.state,o.wsize=0,o.whave=0,o.wnext=0,inflateResetKeep(i))}function inflateReset2(i,o){var s,_;return!i||!i.state||(_=i.state,o<0?(s=0,o=-o):(s=(o>>4)+1,o<48&&(o&=15)),o&&(o<8||o>15))?Z_STREAM_ERROR$1:(_.window!==null&&_.wbits!==o&&(_.window=null),_.wrap=s,_.wbits=o,inflateReset(i))}function inflateInit2(i,o){var s,_;return i?(_=new InflateState,i.state=_,_.window=null,s=inflateReset2(i,o),s!==Z_OK$1&&(i.state=null),s):Z_STREAM_ERROR$1}var virgin=!0,lenfix,distfix;function fixedtables(i){if(virgin){var o;for(lenfix=new Buf32(512),distfix=new Buf32(32),o=0;o<144;)i.lens[o++]=8;for(;o<256;)i.lens[o++]=9;for(;o<280;)i.lens[o++]=7;for(;o<288;)i.lens[o++]=8;for(inflate_table(LENS,i.lens,0,288,lenfix,0,i.work,{bits:9}),o=0;o<32;)i.lens[o++]=5;inflate_table(DISTS,i.lens,0,32,distfix,0,i.work,{bits:5}),virgin=!1}i.lencode=lenfix,i.lenbits=9,i.distcode=distfix,i.distbits=5}function updatewindow(i,o,s,_){var $,et=i.state;return et.window===null&&(et.wsize=1<<et.wbits,et.wnext=0,et.whave=0,et.window=new Buf8(et.wsize)),_>=et.wsize?(arraySet(et.window,o,s-et.wsize,et.wsize,0),et.wnext=0,et.whave=et.wsize):($=et.wsize-et.wnext,$>_&&($=_),arraySet(et.window,o,s-_,$,et.wnext),_-=$,_?(arraySet(et.window,o,s-_,_,0),et.wnext=_,et.whave=et.wsize):(et.wnext+=$,et.wnext===et.wsize&&(et.wnext=0),et.whave<et.wsize&&(et.whave+=$))),0}function inflate(i,o){var s,_,$,et,rt,j,st,lt,gt,bt,Ut,Ft,yt,Qt,wt=0,Tt,Jt,At,Nt,St,Ot,nn,yn,Ct=new Buf8(4),Vt,Yt,Pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!i||!i.state||!i.output||!i.input&&i.avail_in!==0)return Z_STREAM_ERROR$1;s=i.state,s.mode===TYPE&&(s.mode=TYPEDO),rt=i.next_out,$=i.output,st=i.avail_out,et=i.next_in,_=i.input,j=i.avail_in,lt=s.hold,gt=s.bits,bt=j,Ut=st,yn=Z_OK$1;e:for(;;)switch(s.mode){case HEAD:if(s.wrap===0){s.mode=TYPEDO;break}for(;gt<16;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(s.wrap&2&&lt===35615){s.check=0,Ct[0]=lt&255,Ct[1]=lt>>>8&255,s.check=crc32(s.check,Ct,2,0),lt=0,gt=0,s.mode=FLAGS;break}if(s.flags=0,s.head&&(s.head.done=!1),!(s.wrap&1)||(((lt&255)<<8)+(lt>>8))%31){i.msg="incorrect header check",s.mode=BAD;break}if((lt&15)!==Z_DEFLATED$1){i.msg="unknown compression method",s.mode=BAD;break}if(lt>>>=4,gt-=4,nn=(lt&15)+8,s.wbits===0)s.wbits=nn;else if(nn>s.wbits){i.msg="invalid window size",s.mode=BAD;break}s.dmax=1<<nn,i.adler=s.check=1,s.mode=lt&512?DICTID:TYPE,lt=0,gt=0;break;case FLAGS:for(;gt<16;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(s.flags=lt,(s.flags&255)!==Z_DEFLATED$1){i.msg="unknown compression method",s.mode=BAD;break}if(s.flags&57344){i.msg="unknown header flags set",s.mode=BAD;break}s.head&&(s.head.text=lt>>8&1),s.flags&512&&(Ct[0]=lt&255,Ct[1]=lt>>>8&255,s.check=crc32(s.check,Ct,2,0)),lt=0,gt=0,s.mode=TIME;case TIME:for(;gt<32;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}s.head&&(s.head.time=lt),s.flags&512&&(Ct[0]=lt&255,Ct[1]=lt>>>8&255,Ct[2]=lt>>>16&255,Ct[3]=lt>>>24&255,s.check=crc32(s.check,Ct,4,0)),lt=0,gt=0,s.mode=OS;case OS:for(;gt<16;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}s.head&&(s.head.xflags=lt&255,s.head.os=lt>>8),s.flags&512&&(Ct[0]=lt&255,Ct[1]=lt>>>8&255,s.check=crc32(s.check,Ct,2,0)),lt=0,gt=0,s.mode=EXLEN;case EXLEN:if(s.flags&1024){for(;gt<16;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}s.length=lt,s.head&&(s.head.extra_len=lt),s.flags&512&&(Ct[0]=lt&255,Ct[1]=lt>>>8&255,s.check=crc32(s.check,Ct,2,0)),lt=0,gt=0}else s.head&&(s.head.extra=null);s.mode=EXTRA;case EXTRA:if(s.flags&1024&&(Ft=s.length,Ft>j&&(Ft=j),Ft&&(s.head&&(nn=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),arraySet(s.head.extra,_,et,Ft,nn)),s.flags&512&&(s.check=crc32(s.check,_,Ft,et)),j-=Ft,et+=Ft,s.length-=Ft),s.length))break e;s.length=0,s.mode=NAME;case NAME:if(s.flags&2048){if(j===0)break e;Ft=0;do nn=_[et+Ft++],s.head&&nn&&s.length<65536&&(s.head.name+=String.fromCharCode(nn));while(nn&&Ft<j);if(s.flags&512&&(s.check=crc32(s.check,_,Ft,et)),j-=Ft,et+=Ft,nn)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=COMMENT$1;case COMMENT$1:if(s.flags&4096){if(j===0)break e;Ft=0;do nn=_[et+Ft++],s.head&&nn&&s.length<65536&&(s.head.comment+=String.fromCharCode(nn));while(nn&&Ft<j);if(s.flags&512&&(s.check=crc32(s.check,_,Ft,et)),j-=Ft,et+=Ft,nn)break e}else s.head&&(s.head.comment=null);s.mode=HCRC;case HCRC:if(s.flags&512){for(;gt<16;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(lt!==(s.check&65535)){i.msg="header crc mismatch",s.mode=BAD;break}lt=0,gt=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),i.adler=s.check=0,s.mode=TYPE;break;case DICTID:for(;gt<32;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}i.adler=s.check=zswap32(lt),lt=0,gt=0,s.mode=DICT;case DICT:if(s.havedict===0)return i.next_out=rt,i.avail_out=st,i.next_in=et,i.avail_in=j,s.hold=lt,s.bits=gt,Z_NEED_DICT$1;i.adler=s.check=1,s.mode=TYPE;case TYPE:if(o===Z_BLOCK$1||o===Z_TREES$1)break e;case TYPEDO:if(s.last){lt>>>=gt&7,gt-=gt&7,s.mode=CHECK;break}for(;gt<3;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}switch(s.last=lt&1,lt>>>=1,gt-=1,lt&3){case 0:s.mode=STORED;break;case 1:if(fixedtables(s),s.mode=LEN_,o===Z_TREES$1){lt>>>=2,gt-=2;break e}break;case 2:s.mode=TABLE;break;case 3:i.msg="invalid block type",s.mode=BAD}lt>>>=2,gt-=2;break;case STORED:for(lt>>>=gt&7,gt-=gt&7;gt<32;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if((lt&65535)!==(lt>>>16^65535)){i.msg="invalid stored block lengths",s.mode=BAD;break}if(s.length=lt&65535,lt=0,gt=0,s.mode=COPY_,o===Z_TREES$1)break e;case COPY_:s.mode=COPY;case COPY:if(Ft=s.length,Ft){if(Ft>j&&(Ft=j),Ft>st&&(Ft=st),Ft===0)break e;arraySet($,_,et,Ft,rt),j-=Ft,et+=Ft,st-=Ft,rt+=Ft,s.length-=Ft;break}s.mode=TYPE;break;case TABLE:for(;gt<14;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(s.nlen=(lt&31)+257,lt>>>=5,gt-=5,s.ndist=(lt&31)+1,lt>>>=5,gt-=5,s.ncode=(lt&15)+4,lt>>>=4,gt-=4,s.nlen>286||s.ndist>30){i.msg="too many length or distance symbols",s.mode=BAD;break}s.have=0,s.mode=LENLENS;case LENLENS:for(;s.have<s.ncode;){for(;gt<3;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}s.lens[Pt[s.have++]]=lt&7,lt>>>=3,gt-=3}for(;s.have<19;)s.lens[Pt[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,Vt={bits:s.lenbits},yn=inflate_table(CODES,s.lens,0,19,s.lencode,0,s.work,Vt),s.lenbits=Vt.bits,yn){i.msg="invalid code lengths set",s.mode=BAD;break}s.have=0,s.mode=CODELENS;case CODELENS:for(;s.have<s.nlen+s.ndist;){for(;wt=s.lencode[lt&(1<<s.lenbits)-1],Tt=wt>>>24,Jt=wt>>>16&255,At=wt&65535,!(Tt<=gt);){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(At<16)lt>>>=Tt,gt-=Tt,s.lens[s.have++]=At;else{if(At===16){for(Yt=Tt+2;gt<Yt;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(lt>>>=Tt,gt-=Tt,s.have===0){i.msg="invalid bit length repeat",s.mode=BAD;break}nn=s.lens[s.have-1],Ft=3+(lt&3),lt>>>=2,gt-=2}else if(At===17){for(Yt=Tt+3;gt<Yt;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}lt>>>=Tt,gt-=Tt,nn=0,Ft=3+(lt&7),lt>>>=3,gt-=3}else{for(Yt=Tt+7;gt<Yt;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}lt>>>=Tt,gt-=Tt,nn=0,Ft=11+(lt&127),lt>>>=7,gt-=7}if(s.have+Ft>s.nlen+s.ndist){i.msg="invalid bit length repeat",s.mode=BAD;break}for(;Ft--;)s.lens[s.have++]=nn}}if(s.mode===BAD)break;if(s.lens[256]===0){i.msg="invalid code -- missing end-of-block",s.mode=BAD;break}if(s.lenbits=9,Vt={bits:s.lenbits},yn=inflate_table(LENS,s.lens,0,s.nlen,s.lencode,0,s.work,Vt),s.lenbits=Vt.bits,yn){i.msg="invalid literal/lengths set",s.mode=BAD;break}if(s.distbits=6,s.distcode=s.distdyn,Vt={bits:s.distbits},yn=inflate_table(DISTS,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,Vt),s.distbits=Vt.bits,yn){i.msg="invalid distances set",s.mode=BAD;break}if(s.mode=LEN_,o===Z_TREES$1)break e;case LEN_:s.mode=LEN;case LEN:if(j>=6&&st>=258){i.next_out=rt,i.avail_out=st,i.next_in=et,i.avail_in=j,s.hold=lt,s.bits=gt,inflate_fast(i,Ut),rt=i.next_out,$=i.output,st=i.avail_out,et=i.next_in,_=i.input,j=i.avail_in,lt=s.hold,gt=s.bits,s.mode===TYPE&&(s.back=-1);break}for(s.back=0;wt=s.lencode[lt&(1<<s.lenbits)-1],Tt=wt>>>24,Jt=wt>>>16&255,At=wt&65535,!(Tt<=gt);){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(Jt&&!(Jt&240)){for(Nt=Tt,St=Jt,Ot=At;wt=s.lencode[Ot+((lt&(1<<Nt+St)-1)>>Nt)],Tt=wt>>>24,Jt=wt>>>16&255,At=wt&65535,!(Nt+Tt<=gt);){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}lt>>>=Nt,gt-=Nt,s.back+=Nt}if(lt>>>=Tt,gt-=Tt,s.back+=Tt,s.length=At,Jt===0){s.mode=LIT;break}if(Jt&32){s.back=-1,s.mode=TYPE;break}if(Jt&64){i.msg="invalid literal/length code",s.mode=BAD;break}s.extra=Jt&15,s.mode=LENEXT;case LENEXT:if(s.extra){for(Yt=s.extra;gt<Yt;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}s.length+=lt&(1<<s.extra)-1,lt>>>=s.extra,gt-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=DIST;case DIST:for(;wt=s.distcode[lt&(1<<s.distbits)-1],Tt=wt>>>24,Jt=wt>>>16&255,At=wt&65535,!(Tt<=gt);){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(!(Jt&240)){for(Nt=Tt,St=Jt,Ot=At;wt=s.distcode[Ot+((lt&(1<<Nt+St)-1)>>Nt)],Tt=wt>>>24,Jt=wt>>>16&255,At=wt&65535,!(Nt+Tt<=gt);){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}lt>>>=Nt,gt-=Nt,s.back+=Nt}if(lt>>>=Tt,gt-=Tt,s.back+=Tt,Jt&64){i.msg="invalid distance code",s.mode=BAD;break}s.offset=At,s.extra=Jt&15,s.mode=DISTEXT;case DISTEXT:if(s.extra){for(Yt=s.extra;gt<Yt;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}s.offset+=lt&(1<<s.extra)-1,lt>>>=s.extra,gt-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){i.msg="invalid distance too far back",s.mode=BAD;break}s.mode=MATCH;case MATCH:if(st===0)break e;if(Ft=Ut-st,s.offset>Ft){if(Ft=s.offset-Ft,Ft>s.whave&&s.sane){i.msg="invalid distance too far back",s.mode=BAD;break}Ft>s.wnext?(Ft-=s.wnext,yt=s.wsize-Ft):yt=s.wnext-Ft,Ft>s.length&&(Ft=s.length),Qt=s.window}else Qt=$,yt=rt-s.offset,Ft=s.length;Ft>st&&(Ft=st),st-=Ft,s.length-=Ft;do $[rt++]=Qt[yt++];while(--Ft);s.length===0&&(s.mode=LEN);break;case LIT:if(st===0)break e;$[rt++]=s.length,st--,s.mode=LEN;break;case CHECK:if(s.wrap){for(;gt<32;){if(j===0)break e;j--,lt|=_[et++]<<gt,gt+=8}if(Ut-=st,i.total_out+=Ut,s.total+=Ut,Ut&&(i.adler=s.check=s.flags?crc32(s.check,$,Ut,rt-Ut):adler32(s.check,$,Ut,rt-Ut)),Ut=st,(s.flags?lt:zswap32(lt))!==s.check){i.msg="incorrect data check",s.mode=BAD;break}lt=0,gt=0}s.mode=LENGTH;case LENGTH:if(s.wrap&&s.flags){for(;gt<32;){if(j===0)break e;j--,lt+=_[et++]<<gt,gt+=8}if(lt!==(s.total&4294967295)){i.msg="incorrect length check",s.mode=BAD;break}lt=0,gt=0}s.mode=DONE;case DONE:yn=Z_STREAM_END$1;break e;case BAD:yn=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR$1}return i.next_out=rt,i.avail_out=st,i.next_in=et,i.avail_in=j,s.hold=lt,s.bits=gt,(s.wsize||Ut!==i.avail_out&&s.mode<BAD&&(s.mode<CHECK||o!==Z_FINISH$1))&&updatewindow(i,i.output,i.next_out,Ut-i.avail_out),bt-=i.avail_in,Ut-=i.avail_out,i.total_in+=bt,i.total_out+=Ut,s.total+=Ut,s.wrap&&Ut&&(i.adler=s.check=s.flags?crc32(s.check,$,Ut,i.next_out-Ut):adler32(s.check,$,Ut,i.next_out-Ut)),i.data_type=s.bits+(s.last?64:0)+(s.mode===TYPE?128:0)+(s.mode===LEN_||s.mode===COPY_?256:0),(bt===0&&Ut===0||o===Z_FINISH$1)&&yn===Z_OK$1&&(yn=Z_BUF_ERROR$1),yn}function inflateEnd(i){if(!i||!i.state)return Z_STREAM_ERROR$1;var o=i.state;return o.window&&(o.window=null),i.state=null,Z_OK$1}var NONE=0,DEFLATE=1,INFLATE=2,GZIP=3,GUNZIP=4,DEFLATERAW=5,INFLATERAW=6,UNZIP=7,Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_SYNC_FLUSH=2,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_ERRNO=-1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_NO_COMPRESSION=0,Z_BEST_SPEED=1,Z_BEST_COMPRESSION=9,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,Z_DEFLATED=8;function Zlib$1(i){if(i<DEFLATE||i>UNZIP)throw new TypeError("Bad argument");this.mode=i,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}Zlib$1.prototype.init=function(i,o,s,_,$){this.windowBits=i,this.level=o,this.memLevel=s,this.strategy=_,(this.mode===GZIP||this.mode===GUNZIP)&&(this.windowBits+=16),this.mode===UNZIP&&(this.windowBits+=32),(this.mode===DEFLATERAW||this.mode===INFLATERAW)&&(this.windowBits=-this.windowBits),this.strm=new ZStream;var et;switch(this.mode){case DEFLATE:case GZIP:case DEFLATERAW:et=deflateInit2(this.strm,this.level,Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case INFLATE:case GUNZIP:case INFLATERAW:case UNZIP:et=inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(et!==Z_OK){this._error(et);return}this.write_in_progress=!1,this.init_done=!0};Zlib$1.prototype.params=function(){throw new Error("deflateParams Not supported")};Zlib$1.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")};Zlib$1.prototype.write=function(i,o,s,_,$,et,rt){this._writeCheck(),this.write_in_progress=!0;var j=this;return browser$1$1.nextTick(function(){j.write_in_progress=!1;var st=j._write(i,o,s,_,$,et,rt);j.callback(st[0],st[1]),j.pending_close&&j.close()}),this};function bufferSet(i,o){for(var s=0;s<i.length;s++)this[o+s]=i[s]}Zlib$1.prototype.writeSync=function(i,o,s,_,$,et,rt){return this._writeCheck(),this._write(i,o,s,_,$,et,rt)};Zlib$1.prototype._write=function(i,o,s,_,$,et,rt){if(this.write_in_progress=!0,i!==Z_NO_FLUSH&&i!==Z_PARTIAL_FLUSH&&i!==Z_SYNC_FLUSH&&i!==Z_FULL_FLUSH&&i!==Z_FINISH&&i!==Z_BLOCK)throw new Error("Invalid flush value");o==null&&(o=new Buffer(0),_=0,s=0),$._set?$.set=$._set:$.set=bufferSet;var j=this.strm;j.avail_in=_,j.input=o,j.next_in=s,j.avail_out=rt,j.output=$,j.next_out=et;var st;switch(this.mode){case DEFLATE:case GZIP:case DEFLATERAW:st=deflate(j,i);break;case UNZIP:case INFLATE:case GUNZIP:case INFLATERAW:st=inflate(j,i);break;default:throw new Error("Unknown mode "+this.mode)}return st!==Z_STREAM_END&&st!==Z_OK&&this._error(st),this.write_in_progress=!1,[j.avail_in,j.avail_out]};Zlib$1.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===DEFLATE||this.mode===GZIP||this.mode===DEFLATERAW?deflateEnd(this.strm):inflateEnd(this.strm),this.mode=NONE};var status;Zlib$1.prototype.reset=function(){switch(this.mode){case DEFLATE:case DEFLATERAW:status=deflateReset(this.strm);break;case INFLATE:case INFLATERAW:status=inflateReset(this.strm);break}status!==Z_OK&&this._error(status)};Zlib$1.prototype._error=function(i){this.onerror(msg[i]+": "+this.strm.msg,i),this.write_in_progress=!1,this.pending_close&&this.close()};const _binding=Object.freeze(Object.defineProperty({__proto__:null,DEFLATE,DEFLATERAW,GUNZIP,GZIP,INFLATE,INFLATERAW,NONE,UNZIP,Z_BEST_COMPRESSION,Z_BEST_SPEED,Z_BINARY,Z_BLOCK,Z_BUF_ERROR,Z_DATA_ERROR,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED,Z_ERRNO,Z_FILTERED,Z_FINISH,Z_FIXED,Z_FULL_FLUSH,Z_HUFFMAN_ONLY,Z_NEED_DICT,Z_NO_COMPRESSION,Z_NO_FLUSH,Z_OK,Z_PARTIAL_FLUSH,Z_RLE,Z_STREAM_END,Z_STREAM_ERROR,Z_SYNC_FLUSH,Z_TEXT,Z_TREES,Z_UNKNOWN,Zlib:Zlib$1},Symbol.toStringTag,{value:"Module"}));function assert(i,o){if(!i)throw new Error(o)}var binding={};Object.keys(_binding).forEach(function(i){binding[i]=_binding[i]});binding.Z_MIN_WINDOWBITS=8;binding.Z_MAX_WINDOWBITS=15;binding.Z_DEFAULT_WINDOWBITS=15;binding.Z_MIN_CHUNK=64;binding.Z_MAX_CHUNK=1/0;binding.Z_DEFAULT_CHUNK=16*1024;binding.Z_MIN_MEMLEVEL=1;binding.Z_MAX_MEMLEVEL=9;binding.Z_DEFAULT_MEMLEVEL=8;binding.Z_MIN_LEVEL=-1;binding.Z_MAX_LEVEL=9;binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION;var codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR};Object.keys(codes).forEach(function(i){codes[codes[i]]=i});function deflateSync(i,o){return zlibBufferSync(new Deflate(o),i)}function zlibBufferSync(i,o){if(typeof o=="string"&&(o=new Buffer(o)),!Buffer.isBuffer(o))throw new TypeError("Not a string or buffer");var s=binding.Z_FINISH;return i._processChunk(o,s)}function Deflate(i){if(!(this instanceof Deflate))return new Deflate(i);Zlib.call(this,i,binding.DEFLATE)}function Inflate(i){if(!(this instanceof Inflate))return new Inflate(i);Zlib.call(this,i,binding.INFLATE)}function Gzip(i){if(!(this instanceof Gzip))return new Gzip(i);Zlib.call(this,i,binding.GZIP)}function Gunzip(i){if(!(this instanceof Gunzip))return new Gunzip(i);Zlib.call(this,i,binding.GUNZIP)}function DeflateRaw(i){if(!(this instanceof DeflateRaw))return new DeflateRaw(i);Zlib.call(this,i,binding.DEFLATERAW)}function InflateRaw(i){if(!(this instanceof InflateRaw))return new InflateRaw(i);Zlib.call(this,i,binding.INFLATERAW)}function Unzip(i){if(!(this instanceof Unzip))return new Unzip(i);Zlib.call(this,i,binding.UNZIP)}function Zlib(i,o){if(this._opts=i=i||{},this._chunkSize=i.chunkSize||binding.Z_DEFAULT_CHUNK,Transform.call(this,i),i.flush&&i.flush!==binding.Z_NO_FLUSH&&i.flush!==binding.Z_PARTIAL_FLUSH&&i.flush!==binding.Z_SYNC_FLUSH&&i.flush!==binding.Z_FULL_FLUSH&&i.flush!==binding.Z_FINISH&&i.flush!==binding.Z_BLOCK)throw new Error("Invalid flush flag: "+i.flush);if(this._flushFlag=i.flush||binding.Z_NO_FLUSH,i.chunkSize&&(i.chunkSize<binding.Z_MIN_CHUNK||i.chunkSize>binding.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+i.chunkSize);if(i.windowBits&&(i.windowBits<binding.Z_MIN_WINDOWBITS||i.windowBits>binding.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+i.windowBits);if(i.level&&(i.level<binding.Z_MIN_LEVEL||i.level>binding.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+i.level);if(i.memLevel&&(i.memLevel<binding.Z_MIN_MEMLEVEL||i.memLevel>binding.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+i.memLevel);if(i.strategy&&i.strategy!=binding.Z_FILTERED&&i.strategy!=binding.Z_HUFFMAN_ONLY&&i.strategy!=binding.Z_RLE&&i.strategy!=binding.Z_FIXED&&i.strategy!=binding.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+i.strategy);if(i.dictionary&&!Buffer.isBuffer(i.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new binding.Zlib(o);var s=this;this._hadError=!1,this._binding.onerror=function(et,rt){s._binding=null,s._hadError=!0;var j=new Error(et);j.errno=rt,j.code=binding.codes[rt],s.emit("error",j)};var _=binding.Z_DEFAULT_COMPRESSION;typeof i.level=="number"&&(_=i.level);var $=binding.Z_DEFAULT_STRATEGY;typeof i.strategy=="number"&&($=i.strategy),this._binding.init(i.windowBits||binding.Z_DEFAULT_WINDOWBITS,_,i.memLevel||binding.Z_DEFAULT_MEMLEVEL,$,i.dictionary),this._buffer=new Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=_,this._strategy=$,this.once("end",this.close)}inherits$1(Zlib,Transform);Zlib.prototype.params=function(i,o,s){if(i<binding.Z_MIN_LEVEL||i>binding.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+i);if(o!=binding.Z_FILTERED&&o!=binding.Z_HUFFMAN_ONLY&&o!=binding.Z_RLE&&o!=binding.Z_FIXED&&o!=binding.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+o);if(this._level!==i||this._strategy!==o){var _=this;this.flush(binding.Z_SYNC_FLUSH,function(){_._binding.params(i,o),_._hadError||(_._level=i,_._strategy=o,s&&s())})}else browser$1$1.nextTick(s)};Zlib.prototype.reset=function(){return this._binding.reset()};Zlib.prototype._flush=function(i){this._transform(new Buffer(0),"",i)};Zlib.prototype.flush=function(i,o){var s=this._writableState;if((typeof i=="function"||i===void 0&&!o)&&(o=i,i=binding.Z_FULL_FLUSH),s.ended)o&&browser$1$1.nextTick(o);else if(s.ending)o&&this.once("end",o);else if(s.needDrain){var _=this;this.once("drain",function(){_.flush(o)})}else this._flushFlag=i,this.write(new Buffer(0),"",o)};Zlib.prototype.close=function(i){if(i&&browser$1$1.nextTick(i),!this._closed){this._closed=!0,this._binding.close();var o=this;browser$1$1.nextTick(function(){o.emit("close")})}};Zlib.prototype._transform=function(i,o,s){var _,$=this._writableState,et=$.ending||$.ended,rt=et&&(!i||$.length===i.length);if(!i===null&&!Buffer.isBuffer(i))return s(new Error("invalid input"));rt?_=binding.Z_FINISH:(_=this._flushFlag,i.length>=$.length&&(this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH)),this._processChunk(i,_,s)};Zlib.prototype._processChunk=function(i,o,s){var _=i&&i.length,$=this._chunkSize-this._offset,et=0,rt=this,j=typeof s=="function";if(!j){var st=[],lt=0,gt;this.on("error",function(Qt){gt=Qt});do var bt=this._binding.writeSync(o,i,et,_,this._buffer,this._offset,$);while(!this._hadError&&yt(bt[0],bt[1]));if(this._hadError)throw gt;var Ut=Buffer.concat(st,lt);return this.close(),Ut}var Ft=this._binding.write(o,i,et,_,this._buffer,this._offset,$);Ft.buffer=i,Ft.callback=yt;function yt(Qt,wt){if(!rt._hadError){var Tt=$-wt;if(assert(Tt>=0,"have should not go down"),Tt>0){var Jt=rt._buffer.slice(rt._offset,rt._offset+Tt);rt._offset+=Tt,j?rt.push(Jt):(st.push(Jt),lt+=Jt.length)}if((wt===0||rt._offset>=rt._chunkSize)&&($=rt._chunkSize,rt._offset=0,rt._buffer=new Buffer(rt._chunkSize)),wt===0){if(et+=_-Qt,_=Qt,!j)return!0;var At=rt._binding.write(o,i,et,_,rt._buffer,rt._offset,rt._chunkSize);At.callback=yt,At.buffer=i;return}if(!j)return!1;s()}}};inherits$1(Deflate,Zlib);inherits$1(Inflate,Zlib);inherits$1(Gzip,Zlib);inherits$1(Gunzip,Zlib);inherits$1(DeflateRaw,Zlib);inherits$1(InflateRaw,Zlib);inherits$1(Unzip,Zlib);function serializeHash(i){return deflateSync(Buffer.from(JSON.stringify(i),"utf8")).toString("base64")}const isRtcPeer=i=>i!==void 0&&i.capabilities!==void 0&&i.capabilitySet!==void 0;let version$2;function getRtcClientVersion(){return version$2===void 0&&(version$2=new URLSearchParams(window.location.search).get("rtc_client")),version$2}function assertNotCancelled(i){if(i)throw new Error("Cancelled by deadline")}class Device extends EventEmitter{constructor(o,s,_){super(),Te(this,"rtcClient"),Te(this,"remoteDevicePeerId",null),Te(this,"realtimeListeners",[]),Te(this,"connectionMonitorInterval"),Te(this,"handleMessage",($,et)=>{this.realtimeListeners.forEach(rt=>rt($,et))}),this.id=o,this.name=s,this.organizationId=_}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async getConfiguration(){let o=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}});const s=await o.json();if(!s.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const _=s.state.reportedConfiguration.version;return o=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}/configurations/${_}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),(await o.json()).document}async getFileUrl(o){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[o]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).fileUrls}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async startRealtimeConnection(o={}){if(console.debug(`${new Date().toISOString()} :: Connection start requested`),this.rtcClient&&this.connectionMonitorInterval!==void 0)throw new Error(`Already created realtime connection to device ${this.id}`);this.rtcClient&&console.warn("overwriting existing rtcClient due to missing connectionMonitorInterval");const{sessionType:s,deadlineMs:_=1e4,maxConnectRetries:$=3}=typeof o=="number"?{sessionType:o}:o,et=getRtcClientPool({sessionType:s,version:getRtcClientVersion()??"2"}).get(this.handleMessage);let rt=!1;const j=new Promise((lt,gt)=>setTimeout(()=>{rt=!0,gt(new Error("Connection timed out: the connection could not be finalized in time, possibly due to network issues or misconfigured settings."))},_)),st=async()=>{if("isReady"in et)for(;!et.isReady();)assertNotCancelled(rt),await delay(100);const lt=await this.getRemoteDevicePeerId(et);assertNotCancelled(rt);let gt;for(let Ut=0;Ut<$&&(gt=await et.connect(lt),!gt);Ut++)delay(100),assertNotCancelled(rt);if(!gt)throw new Error(`Session could not be created: exhausted ${$} retries`);let bt=0;for(;!rt&&et.getConnectionStatus(lt)!=="connected";)await delay(100),bt+=1;return assertNotCancelled(rt),console.debug(`${new Date().toISOString()} :: Connection completed after ${bt} retries`),lt};return Promise.race([st(),j]).then(lt=>{this.remoteDevicePeerId=lt,this.initConnectionMonitoring(),this.rtcClient=et,this.emit("connect")}).catch(lt=>{throw console.debug(`${new Date().toISOString()} :: Connection failed: %o`,lt),this.remoteDevicePeerId=null,et.shutdown().catch(gt=>{console.error("rtcClient cannot shutdown: %o",gt)}),this.emit("connection_failed",lt),lt})}async getRemoteDevicePeerId(o){const s=(await o.getPeers()).find(_=>_.deviceId===this.id);if(!isRtcPeer(s))throw new Error("Cannot find peer, is the robot offline?");return s.id}initConnectionMonitoring(){this.connectionMonitorInterval=setInterval(async()=>{if(!this.isV2Signaling(this.rtcClient))return;const o=this.rtcClient.getConnections().find(_=>_.getRemotePeerId()===this.remoteDevicePeerId&&_.isActive());let s=!1;o===void 0||!o.isReady()?(console.debug(`${new Date().toISOString()} :: data channel closed`),s=!0):console.debug(`${new Date().toISOString()} :: data channel appears active`),(!this.rtcClient||!this.remoteDevicePeerId||await this.rtcClient.getConnectionStatsInfo(this.remoteDevicePeerId)===void 0||s)&&(this.emit("disconnect"),this.stopRealtimeConnection().catch(_=>{console.error(_)}))},1e3)}isV2Signaling(o){return o.getConnectionStatsInfo!==void 0}stopConnectionMonitoring(){clearInterval(this.connectionMonitorInterval),this.connectionMonitorInterval=void 0}async sendRealtimeMessage(o,s={channelLabel:"stream.reliable"}){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeerId();_.send($,o,s)}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeAudioStreams(){var o,s,_;const $=await this.getConfiguration(),et=[];for(const rt of((o=$.teleop)==null?void 0:o.hardwareStreams)??[])rt.rtcStreamType==="audio-chunk"&&et.push({name:rt.name});for(const rt of((s=$.teleop)==null?void 0:s.rosStreams)??[])rt.topicType=="audio_common_msgs/AudioData"&&et.push({name:rt.topicName});for(const rt of((_=$.teleop)==null?void 0:_.customStreams)??[])rt.rtcStreamType==="audio-chunk"&&et.push({name:rt.name});return et}async getRealtimeVideoStreams(){var o,s,_;const $=await this.getConfiguration(),et=[];for(const rt of((o=$.teleop)==null?void 0:o.hardwareStreams)??[])rt.rtcStreamType==="h264-video-frame"&&et.push({name:rt.name});for(const rt of((s=$.teleop)==null?void 0:s.rosStreams)??[])rt.topicType=="formant/H264VideoFrame"&&et.push({name:rt.topicName}),(rt.topicType==="sensor_msgs/Image"||rt.topicType==="sensor_msgs/CompressedImage")&&rt.encodeVideo&&et.push({name:rt.topicName});for(const rt of((_=$.teleop)==null?void 0:_.customStreams)??[])rt.rtcStreamType==="h264-video-frame"&&et.push({name:rt.name});return et}async getRealtimeManipulators(){const o=await this.getConfiguration(),s=[];for(const _ of o.teleop.rosStreams??[])_.topicType=="sensor_msgs/JointState"&&s.push(new Manipulator(this,{currentJointStateStream:{name:_.topicName},plannedJointStateStream:_.plannedTopic?{name:_.plannedTopic}:void 0,planValidStream:_.planValidTopic?{name:_.planValidTopic}:void 0,endEffectorStream:_.endEffectorTopic?{name:_.endEffectorTopic}:void 0,endEffectorLinkName:_.endEffectorLinkName,baseReferenceFrame:_.baseReferenceFrame,localFrame:_.localFrame}));return s}async startListeningToRealtimeVideo(o){console.debug(`RealtimeVideo(${this.id}).start(${o.name})`);const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o.name,enable:!1,pipeline:"rtc"}),console.debug(`RealtimeVideo(${this.id}).stop(${o.name})`)}async startListeningToRealtimeDataStream(o){console.debug(`RealtimeDataStream(${this.id}).start(${o.name})`);const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o.name,enable:!1,pipeline:"rtc"}),console.debug(`RealtimeDataStream(${this.id}).stop(${o.name})`)}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async changeStreamAudioType(o,s){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeerId();_.controlRemoteStream($,{streamName:o,setAudioFormat:s})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const o=(await defined$1(this.rtcClient,"Realtime connection has not been started").getPeers()).find(s=>s.deviceId===this.id);return defined$1(o,"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){let o=!1;if(this.rtcClient){this.stopConnectionMonitoring(),this.remoteDevicePeerId?(await this.rtcClient.disconnect(this.remoteDevicePeerId),this.remoteDevicePeerId=null):o=!0;try{await this.rtcClient.shutdown()}finally{this.rtcClient=void 0}}if(o)throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async isInRealtimeSession(){const o=await Fleet.getPeers(),s=await Fleet.getRealtimeSessions(),_=o.find($=>$.deviceId===this.id);return _?s[_.id].length>0:!1}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(o=>({name:o.name,id:o.id,command:o.command,description:o.description,parameterEnabled:o.parameterEnabled,parameterValue:o.parameterValue,parameterMeta:o.parameterMeta,enabled:o.enabled}))}async sendCommand(o,s,_,$){var et;const rt=(await this.getAvailableCommands()).find(lt=>lt.name===o);if(!rt)throw new Error(`Could not find command with name "${o}"`);let j="";s===void 0?rt.parameterEnabled&&rt.parameterValue&&(j=rt.parameterValue):j=s;let st={value:j,scrubberTime:(_||new Date).toISOString(),meta:{...rt.parameterMeta,...$}};return await fetch(`${FORMANT_API_URL}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:rt.id,organizationId:this.organizationId,deviceId:this.id,command:rt.command,parameter:st,userId:(et=Authentication.currentUser)==null?void 0:et.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})}async getCommand(o){return await fetch(`${FORMANT_API_URL}/v1/admin/commands/${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})}async createCustomDataChannel(o,s){if(getRtcClientVersion()==="1")throw new Error("createCustomDataChannel is not supported in rtcClientVersion 1");const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeerId(),et=await new Promise(rt=>{_.createCustomDataChannel($,o,{ordered:!0,...s},!1,(j,st)=>{const lt=new DataChannel(st);rt(lt)})});return await et.waitTilReady(),et}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel(this,o,s)}async createCaptureStream(o){const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:o,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return new CaptureStream(s)}async getTelemetry(o,s,_,$){return await Fleet.getTelemetry(this.id,o,s,_,$)}async getTelemetryStreams(){var o,s;const _=await this.getConfiguration(),$=await fetch(`${FORMANT_API_URL}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),et=[],rt=[];return(s=(o=_.telemetry)==null?void 0:o.streams)==null||s.forEach(j=>{j.disabled!==!0&&et.push(j.name),j.onDemand===!0&&rt.push(j.name)}),console.log(rt),(await $.json()).items.filter(j=>!et.includes(j)).map(j=>({name:j,onDemand:rt.includes(j)}))}async createInterventionRequest(o,s,_,$){return await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"POST",body:JSON.stringify({message:o,interventionType:s,time:new Date().toISOString(),deviceId:this.id,tags:$,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async addInterventionResponse(o,s,_){return await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-responses`,{method:"POST",body:JSON.stringify({interventionId:o,interventionType:s,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async getAnnotationCount(o,s){return await Fleet.getAnnotationCount({...o,deviceIds:[this.id]},s)}async getAnnotationCountByIntervals(o,s,_){return await Fleet.getAnnotationCountByIntervals({...o,deviceIds:[this.id]},s,_)}async eventsCounter(o,s,_,$,et){return await Fleet.eventsCounter(o,s,_,$,{...et,deviceIds:[this.id]})}async createShareLink(o,s){return o.scope.deviceIds=[this.id],await Fleet.createShareLink(o,s)}async getRemotePeerId(){return this.remoteDevicePeerId??(await this.getRemotePeer()).id}}class PeerDevice{constructor(o){Te(this,"rtcClient"),Te(this,"remoteDevicePeerId"),Te(this,"realtimeListeners",[]),Te(this,"id"),Te(this,"handleMessage",(s,_)=>{this.realtimeListeners.forEach($=>$(s,_))}),this.peerUrl=o}async getLatestTelemetry(){const o=await(await fetch(`${this.peerUrl}/telemetry`)).json();return Object.entries(o).map(([s,_])=>({deviceId:this.id,streamName:s,streamType:"json",currentValue:_,currentValueTime:_.timestamp,tags:{}}))}async getDeviceId(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.id}async getConfiguration(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.document}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}async startRealtimeConnection(o){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const s=new distExports.RtcClient({lanOnlyMode:!0,receive:this.handleMessage,sessionType:o});for(await s.connectLan(this.peerUrl);s.getConnectionStatus(this.peerUrl)!=="connected";)await delay(100);this.rtcClient=s}}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeVideoStreams(){const o=await this.getConfiguration(),s=[];for(const _ of o.teleop.hardwareStreams??[])_.rtcStreamType==="h264-video-frame"&&s.push({name:_.name});for(const _ of o.teleop.rosStreams??[])_.topicType=="formant/H264VideoFrame"&&s.push({name:_.topicName}),(_.topicType==="sensor_msgs/Image"||_.topicType==="sensor_msgs/CompressedImage")&&_.encodeVideo&&s.push({name:_.topicName});for(const _ of o.teleop.customStreams??[])_.rtcStreamType==="h264-video-frame"&&s.push({name:_.name});return s}async getRealtimeManipulators(){const o=await this.getConfiguration(),s=[];for(const _ of o.teleop.rosStreams??[])_.topicType=="sensor_msgs/JointState"&&s.push(new Manipulator(this,{currentJointStateStream:{name:_.topicName},plannedJointStateStream:_.plannedTopic?{name:_.plannedTopic}:void 0,planValidStream:_.planValidTopic?{name:_.planValidTopic}:void 0,endEffectorStream:_.endEffectorTopic?{name:_.endEffectorTopic}:void 0,endEffectorLinkName:_.endEffectorLinkName,baseReferenceFrame:_.baseReferenceFrame,localFrame:_.localFrame}));return s}async startListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){return{id:this.peerUrl,organizationId:"",deviceId:this.id,capabilities:[],capabilitySet:{}}}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async createCustomDataChannel(o,s){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer(),et=await new Promise(rt=>{_.createCustomDataChannel(defined$1($).id,o,{ordered:!0,...s},!1,(j,st)=>{const lt=new DataChannel(st);rt(lt)})});return await et.waitTilReady(),et}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel(this,o,s)}}const at=class{static async setDefaultDevice(i){at.defaultDeviceId=i}static async getCurrentDevice(){if(!Authentication.token)throw new Error("Not authenticated");if(!at.defaultDeviceId)throw new Error("No known default device");const i=(await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.find(s=>s.id===at.defaultDeviceId).name,o=new Device(at.defaultDeviceId,i,defined$1(Authentication.currentOrganization));return at.knownContext.push(new WeakRef(o)),o}static async getPeerDevice(i){const o=new PeerDevice(i);return o.id=await o.getDeviceId(),o}static async getDevice(i){if(!Authentication.token)throw new Error("Not authenticated");const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json(),s=o.name,_=new Device(i,s,o.organizationId);return at.knownContext.push(new WeakRef(_)),_}static async getDevices(){if(!Authentication.token)throw new Error("Not authenticated");const i=await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return i.items,i.items.map(o=>new Device(o.id,o.name,o.organizationId))}static async queryDevices(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(o=>new Device(o.id,o.name,o.organizationId))}static async getOnlineDevices(){if(!Authentication.token)throw new Error("Not authenticated");const i=(await(await fetch(`${FORMANT_API_URL}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items;return(await at.getDevices()).filter(o=>i.includes(o.id))}static async getPeers(){if(!Authentication.token)throw new Error("Not authenticated");const i=defaultRtcClientPool.get();try{return await i.getPeers()}finally{await i.shutdown()}}static async getRealtimeSessions(){if(!Authentication.token)throw new Error("Not authenticated");const i=defaultRtcClientPool.get();try{return await i.getSessions()}finally{await i.shutdown()}}static async getRealtimeDevices(){if(!Authentication.token)throw new Error("Not authenticated");const i=(await(await fetch(`${FORMANT_API_URL}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(o=>o.deviceId);return(await at.getDevices()).filter(o=>i.includes(o.id))}static async getLatestTelemetry(...i){const o=i.flat().filter(s=>!!s);return o.length===0?[]:(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getTelemetry(i,o,s,_,$){let et=i;Array.isArray(i)||(et=[i]);let rt=o;return Array.isArray(o)||(rt=[o]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:et,end:_.toISOString(),names:rt,start:s.toISOString(),tags:$}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getFileUrl(i){const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[i]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();if(o.fileUrls.length===0)throw new Error("File not found");return o.fileUrls[0]}static async queryTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async aggregateTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).aggregates}static async queryEvents(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getEvent(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query/id=${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getInterventions(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getCurrentGroup(){if(!Authentication.token)throw new Error("Not authenticated");let i=new URLSearchParams("");typeof window<"u"&&(i=new URLSearchParams(window.location.search));const o=i.get("group");if(o===null||o.trim()==="")return;const s=await fetch(`${FORMANT_API_URL}/v1/admin/groups/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),{tagKey:_,tagValue:$}=await s.json();return await this.queryDevices({tags:{[_]:[$]},enabled:!0,type:"default"})}static async getAnnotationCount(i,o){return(await this.queryEvents({...i,eventTypes:["annotation"]})).filter(s=>!!s.tags&&Object.keys(s.tags).includes(o)).reduce((s,_)=>{const $=_.tags[o];return $ in s?(s[$]+=1,s):(s[$]=1,s)},{})}static async getAnnotationCountByIntervals(i,o,s){const{end:_,start:$}=i,et=aggregateByDateFunctions[s].interval({start:new Date($),end:new Date(_)}),rt=et.map((st,lt)=>{const gt=new Date(st).toISOString(),bt=lt===et.length-1?new Date(Date.now()).toISOString():new Date(et[lt+1]);return this.getAnnotationCount({...i,start:gt,end:bt},o)}),j=await Promise.all(rt);return et.map((st,lt)=>({date:new Date(st).toISOString(),annotations:j[lt]}))}static async getStreams(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/streams`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.filter(i=>i.enabled)}static async patchStream(i){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/streams/${i.id}`,{method:"PATCH",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}static async getViews(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/views`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async patchView(i){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/views/${i.id}`,{method:"PATCH",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}static async eventsCounter(i,o,s,_,$){const et=aggregateByDateFunctions[o];return await Promise.all(Array(s).fill(0).map(async(rt,j)=>{const st=new Date(_),lt=et.sub(et.start(st),s-j-1),gt=et.sub(et.end(st),s-j-1),bt=formatTimeFrameText(lt.toLocaleDateString(),gt.toLocaleDateString()),Ut=await at.queryEvents({...$,eventTypes:i,start:new Date(lt).toISOString(),end:new Date(gt).toISOString()});return{date:bt,events:Ut}}))}static async getAnalyticsModules(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/analytics-modules`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getAnalyticStreams(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics/streams`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getTaskReportTables(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics/task-reports`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async queryAnalytics(i){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}static async getAnalyticsRows(i){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics/rows`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}static async getTaskReportRows(i){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics/task-report-rows`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}static async createShareLink(i,o){if(!Authentication.token)throw new Error("Not authenticated");const s=(await this.getViews()).filter(rt=>rt.name===o);if(s.length===0)return console.warn("View does not exist or it is misspell"),null;const _=await fetch(`${FORMANT_API_URL}/v1/admin/shares`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),$=FORMANT_API_URL.replace("api","app"),{code:et}=await _.json();return`${$}/shares/${et}#${serializeHash({viewId:s[0].id})}`}};let Fleet=at;Te(Fleet,"defaultDeviceId"),Te(Fleet,"knownContext",[]);window.Buffer=Buffer;const urlParams=typeof window<"u"?new URLSearchParams(window.location.search):new URLSearchParams(""),urlDevice=urlParams.get("device");urlDevice&&Fleet.setDefaultDevice(urlDevice);const urlAuth=urlParams.get("auth");urlAuth&&Authentication.loginWithToken(urlAuth);const moduleName=urlParams.get("module");moduleName&&Authentication.listenForRefresh();typeof window<"u"&&App$1.listenForConnectionEvents();function sheetForTag(i){if(i.sheet)return i.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===i)return document.styleSheets[o]}function createStyleElement(i){var o=document.createElement("style");return o.setAttribute("data-emotion",i.key),i.nonce!==void 0&&o.setAttribute("nonce",i.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function i(s){var _=this;this._insertTag=function($){var et;_.tags.length===0?_.insertionPoint?et=_.insertionPoint.nextSibling:_.prepend?et=_.container.firstChild:et=_.before:et=_.tags[_.tags.length-1].nextSibling,_.container.insertBefore($,et),_.tags.push($)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var o=i.prototype;return o.hydrate=function(_){_.forEach(this._insertTag)},o.insert=function(_){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var $=this.tags[this.tags.length-1];if(this.isSpeedy){var et=sheetForTag($);try{et.insertRule(_,et.cssRules.length)}catch{}}else $.appendChild(document.createTextNode(_));this.ctr++},o.flush=function(){this.tags.forEach(function(_){return _.parentNode&&_.parentNode.removeChild(_)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$1=String.fromCharCode,assign=Object.assign;function hash(i,o){return charat(i,0)^45?(((o<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,o){return(i=o.exec(i))?i[0]:i}function replace(i,o,s){return i.replace(o,s)}function indexof(i,o){return i.indexOf(o)}function charat(i,o){return i.charCodeAt(o)|0}function substr(i,o,s){return i.slice(o,s)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,o){return o.push(i),i}function combine(i,o){return i.map(o).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(i,o,s,_,$,et,rt){return{value:i,root:o,parent:s,type:_,props:$,children:et,line,column,length:rt,return:""}}function copy(i,o){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},o)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(i,o){return substr(characters,i,o)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(o<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position}function commenter(i,o){for(;next()&&i+character!==47+10;)if(i+character===42+42&&peek()===47)break;return"/*"+slice(o,position-1)+"*"+from$1(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position)}function compile(i){return dealloc(parse$1("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$1(i,o,s,_,$,et,rt,j,st){for(var lt=0,gt=0,bt=rt,Ut=0,Ft=0,yt=0,Qt=1,wt=1,Tt=1,Jt=0,At="",Nt=$,St=et,Ot=_,nn=At;wt;)switch(yt=Jt,Jt=next()){case 40:if(yt!=108&&charat(nn,bt-1)==58){indexof(nn+=replace(delimit(Jt),"&","&\f"),"&\f")!=-1&&(Tt=-1);break}case 34:case 39:case 91:nn+=delimit(Jt);break;case 9:case 10:case 13:case 32:nn+=whitespace(yt);break;case 92:nn+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,s),st);break;default:nn+="/"}break;case 123*Qt:j[lt++]=strlen(nn)*Tt;case 125*Qt:case 59:case 0:switch(Jt){case 0:case 125:wt=0;case 59+gt:Tt==-1&&(nn=replace(nn,/\f/g,"")),Ft>0&&strlen(nn)-bt&&append(Ft>32?declaration(nn+";",_,s,bt-1):declaration(replace(nn," ","")+";",_,s,bt-2),st);break;case 59:nn+=";";default:if(append(Ot=ruleset(nn,o,s,lt,gt,$,j,At,Nt=[],St=[],bt),et),Jt===123)if(gt===0)parse$1(nn,o,Ot,Ot,Nt,et,bt,j,St);else switch(Ut===99&&charat(nn,3)===110?100:Ut){case 100:case 108:case 109:case 115:parse$1(i,Ot,Ot,_&&append(ruleset(i,Ot,Ot,0,0,$,j,At,$,Nt=[],bt),St),$,St,bt,j,_?Nt:St);break;default:parse$1(nn,Ot,Ot,Ot,[""],St,0,j,St)}}lt=gt=Ft=0,Qt=Tt=1,At=nn="",bt=rt;break;case 58:bt=1+strlen(nn),Ft=yt;default:if(Qt<1){if(Jt==123)--Qt;else if(Jt==125&&Qt++==0&&prev()==125)continue}switch(nn+=from$1(Jt),Jt*Qt){case 38:Tt=gt>0?1:(nn+="\f",-1);break;case 44:j[lt++]=(strlen(nn)-1)*Tt,Tt=1;break;case 64:peek()===45&&(nn+=delimit(next())),Ut=peek(),gt=bt=strlen(At=nn+=identifier(caret())),Jt++;break;case 45:yt===45&&strlen(nn)==2&&(Qt=0)}}return et}function ruleset(i,o,s,_,$,et,rt,j,st,lt,gt){for(var bt=$-1,Ut=$===0?et:[""],Ft=sizeof(Ut),yt=0,Qt=0,wt=0;yt<_;++yt)for(var Tt=0,Jt=substr(i,bt+1,bt=abs(Qt=rt[yt])),At=i;Tt<Ft;++Tt)(At=trim(Qt>0?Ut[Tt]+" "+Jt:replace(Jt,/&\f/g,Ut[Tt])))&&(st[wt++]=At);return node(i,o,s,$===0?RULESET:j,st,lt,gt)}function comment(i,o,s){return node(i,o,s,COMMENT,from$1(char()),substr(i,2,-2),0)}function declaration(i,o,s,_){return node(i,o,s,DECLARATION,substr(i,0,_),substr(i,_+1,-1),_)}function serialize(i,o){for(var s="",_=sizeof(i),$=0;$<_;$++)s+=o(i[$],$,i,o)||"";return s}function stringify(i,o,s,_){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,_)+"}";case RULESET:i.value=i.props.join(",")}return strlen(s=serialize(i.children,_))?i.return=i.value+"{"+s+"}":""}function middleware(i){var o=sizeof(i);return function(s,_,$,et){for(var rt="",j=0;j<o;j++)rt+=i[j](s,_,$,et)||"";return rt}}function rulesheet(i){return function(o){o.root||(o=o.return)&&i(o)}}function memoize$1(i){var o=Object.create(null);return function(s){return o[s]===void 0&&(o[s]=i(s)),o[s]}}var identifierWithPointTracking=function i(o,s,_){for(var $=0,et=0;$=et,et=peek(),$===38&&et===12&&(s[_]=1),!token(et);)next();return slice(o,position)},toRules=function i(o,s){var _=-1,$=44;do switch(token($)){case 0:$===38&&peek()===12&&(s[_]=1),o[_]+=identifierWithPointTracking(position-1,s,_);break;case 2:o[_]+=delimit($);break;case 4:if($===44){o[++_]=peek()===58?"&\f":"",s[_]=o[_].length;break}default:o[_]+=from$1($)}while($=next());return o},getRules=function i(o,s){return dealloc(toRules(alloc(o),s))},fixedElements=new WeakMap,compat=function i(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var s=o.value,_=o.parent,$=o.column===_.column&&o.line===_.line;_.type!=="rule";)if(_=_.parent,!_)return;if(!(o.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(_))&&!$){fixedElements.set(o,!0);for(var et=[],rt=getRules(s,et),j=_.props,st=0,lt=0;st<rt.length;st++)for(var gt=0;gt<j.length;gt++,lt++)o.props[lt]=et[st]?rt[st].replace(/&\f/g,j[gt]):j[gt]+" "+rt[st]}}},removeLabel=function i(o){if(o.type==="decl"){var s=o.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix(i,o){switch(hash(i,o)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-o>6)switch(charat(i,o+1)){case 109:if(charat(i,o+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,o+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),o)+i:i}break;case 4949:if(charat(i,o+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,o+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function i(o,s,_,$){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],$);case RULESET:if(o.length)return combine(o.props,function(et){switch(match(et,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(et,/:(read-\w+)/,":"+MOZ+"$1")]})],$);case"::placeholder":return serialize([copy(o,{props:[replace(et,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(et,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(et,/:(plac\w+)/,MS+"input-$1")]})],$)}return""})}},defaultStylisPlugins=[prefixer],createCache=function i(o){var s=o.key;if(s==="css"){var _=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(_,function(Qt){var wt=Qt.getAttribute("data-emotion");wt.indexOf(" ")!==-1&&(document.head.appendChild(Qt),Qt.setAttribute("data-s",""))})}var $=o.stylisPlugins||defaultStylisPlugins,et={},rt,j=[];rt=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(Qt){for(var wt=Qt.getAttribute("data-emotion").split(" "),Tt=1;Tt<wt.length;Tt++)et[wt[Tt]]=!0;j.push(Qt)});var st,lt=[compat,removeLabel];{var gt,bt=[stringify,rulesheet(function(Qt){gt.insert(Qt)})],Ut=middleware(lt.concat($,bt)),Ft=function(wt){return serialize(compile(wt),Ut)};st=function(wt,Tt,Jt,At){gt=Jt,Ft(wt?wt+"{"+Tt.styles+"}":Tt.styles),At&&(yt.inserted[Tt.name]=!0)}}var yt={key:s,sheet:new StyleSheet({key:s,container:rt,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:et,registered:{},insert:st};return yt.sheet.hydrate(j),yt};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])}return i},_extends$1.apply(this,arguments)}var reactIsExports={},reactIs$1={get exports(){return reactIsExports},set exports(i){reactIsExports=i}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var o=i.$$typeof;switch(o){case c:switch(i=i.type,i){case l:case m:case e:case g:case f:case p:return i;default:switch(i=i&&i.$$typeof,i){case k:case n:case t:case r$1:case h:return i;default:return o}}case d:return o}}}function A(i){return z(i)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(i){return A(i)||z(i)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(i){return z(i)===k};reactIs_production_min.isContextProvider=function(i){return z(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z(i)===n};reactIs_production_min.isFragment=function(i){return z(i)===e};reactIs_production_min.isLazy=function(i){return z(i)===t};reactIs_production_min.isMemo=function(i){return z(i)===r$1};reactIs_production_min.isPortal=function(i){return z(i)===d};reactIs_production_min.isProfiler=function(i){return z(i)===g};reactIs_production_min.isStrictMode=function(i){return z(i)===f};reactIs_production_min.isSuspense=function(i){return z(i)===p};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m||i===g||i===f||i===p||i===q||typeof i=="object"&&i!==null&&(i.$$typeof===t||i.$$typeof===r$1||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v)};reactIs_production_min.typeOf=z;(function(i){i.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(i,o,s){var _="";return s.split(" ").forEach(function($){i[$]!==void 0?o.push(i[$]+";"):_+=$+" "}),_}var registerStyles=function i(o,s,_){var $=o.key+"-"+s.name;(_===!1||isBrowser$1===!1)&&o.registered[$]===void 0&&(o.registered[$]=s.styles)},insertStyles=function i(o,s,_){registerStyles(o,s,_);var $=o.key+"-"+s.name;if(o.inserted[s.name]===void 0){var et=s;do o.insert(s===et?"."+$:"",et,o.sheet,!0),et=et.next;while(et!==void 0)}};function murmur2(i){for(var o=0,s,_=0,$=i.length;$>=4;++_,$-=4)s=i.charCodeAt(_)&255|(i.charCodeAt(++_)&255)<<8|(i.charCodeAt(++_)&255)<<16|(i.charCodeAt(++_)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,o=(s&65535)*1540483477+((s>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch($){case 3:o^=(i.charCodeAt(_+2)&255)<<16;case 2:o^=(i.charCodeAt(_+1)&255)<<8;case 1:o^=i.charCodeAt(_)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function i(o){return o.charCodeAt(1)===45},isProcessableValue=function i(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$1(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function i(o,s){switch(o){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function(_,$,et){return cursor={name:$,styles:et,next:cursor},$})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof s=="number"&&s!==0?s+"px":s},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,o,s){if(s==null)return"";if(s.__emotion_styles!==void 0)return s;switch(typeof s){case"boolean":return"";case"object":{if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;if(s.styles!==void 0){var _=s.next;if(_!==void 0)for(;_!==void 0;)cursor={name:_.name,styles:_.styles,next:cursor},_=_.next;var $=s.styles+";";return $}return createStringFromObject(i,o,s)}case"function":{if(i!==void 0){var et=cursor,rt=s(i);return cursor=et,handleInterpolation(i,o,rt)}break}}if(o==null)return s;var j=o[s];return j!==void 0?j:s}function createStringFromObject(i,o,s){var _="";if(Array.isArray(s))for(var $=0;$<s.length;$++)_+=handleInterpolation(i,o,s[$])+";";else for(var et in s){var rt=s[et];if(typeof rt!="object")o!=null&&o[rt]!==void 0?_+=et+"{"+o[rt]+"}":isProcessableValue(rt)&&(_+=processStyleName(et)+":"+processStyleValue(et,rt)+";");else if(Array.isArray(rt)&&typeof rt[0]=="string"&&(o==null||o[rt[0]]===void 0))for(var j=0;j<rt.length;j++)isProcessableValue(rt[j])&&(_+=processStyleName(et)+":"+processStyleValue(et,rt[j])+";");else{var st=handleInterpolation(i,o,rt);switch(et){case"animation":case"animationName":{_+=processStyleName(et)+":"+st+";";break}default:_+=et+"{"+st+"}"}}}return _}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function i(o,s,_){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var $=!0,et="";cursor=void 0;var rt=o[0];rt==null||rt.raw===void 0?($=!1,et+=handleInterpolation(_,s,rt)):et+=rt[0];for(var j=1;j<o.length;j++)et+=handleInterpolation(_,s,o[j]),$&&(et+=rt[j]);labelPattern.lastIndex=0;for(var st="",lt;(lt=labelPattern.exec(et))!==null;)st+="-"+lt[1];var gt=murmur2(et)+st;return{name:gt,styles:et,next:cursor}},syncFallback=function i(o){return o()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,hasOwnProperty={}.hasOwnProperty,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function i(o){return reactExports.forwardRef(function(s,_){var $=reactExports.useContext(EmotionCacheContext);return o(s,$,_)})},ThemeContext$2=reactExports.createContext({}),typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function i(o,s){var _={};for(var $ in s)hasOwnProperty.call(s,$)&&(_[$]=s[$]);return _[typePropName]=o,_},Insertion$1=function i(o){var s=o.cache,_=o.serialized,$=o.isStringTag;return registerStyles(s,_,$),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,_,$)}),null},Emotion=withEmotionCache(function(i,o,s){var _=i.css;typeof _=="string"&&o.registered[_]!==void 0&&(_=o.registered[_]);var $=i[typePropName],et=[_],rt="";typeof i.className=="string"?rt=getRegisteredStyles(o.registered,et,i.className):i.className!=null&&(rt=i.className+" ");var j=serializeStyles(et,void 0,reactExports.useContext(ThemeContext$2));rt+=o.key+"-"+j.name;var st={};for(var lt in i)hasOwnProperty.call(i,lt)&&lt!=="css"&&lt!==typePropName&&(st[lt]=i[lt]);return st.ref=s,st.className=rt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:o,serialized:j,isStringTag:typeof $=="string"}),reactExports.createElement($,st))});function jsx(i,o,s){return hasOwnProperty.call(o,"css")?jsx$1(Emotion,createEmotionProps(i,o),s):jsx$1(i,o,s)}function isPlainObject$1(i){return i!==null&&typeof i=="object"&&i.constructor===Object}function deepClone(i){if(!isPlainObject$1(i))return i;const o={};return Object.keys(i).forEach(s=>{o[s]=deepClone(i[s])}),o}function deepmerge(i,o,s={clone:!0}){const _=s.clone?_extends$1({},i):i;return isPlainObject$1(i)&&isPlainObject$1(o)&&Object.keys(o).forEach($=>{$!=="__proto__"&&(isPlainObject$1(o[$])&&$ in i&&isPlainObject$1(i[$])?_[$]=deepmerge(i[$],o[$],s):s.clone?_[$]=isPlainObject$1(o[$])?deepClone(o[$]):o[$]:_[$]=o[$])}),_}function formatMuiErrorMessage(i){let o="https://mui.com/production-error/?code="+i;for(let s=1;s<arguments.length;s+=1)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+i+"; visit "+o+" for the full message."}function capitalize(i){if(typeof i!="string")throw new Error(formatMuiErrorMessage(7));return i.charAt(0).toUpperCase()+i.slice(1)}function resolveProps(i,o){const s=_extends$1({},o);return Object.keys(i).forEach(_=>{if(_.toString().match(/^(components|slots)$/))s[_]=_extends$1({},i[_],s[_]);else if(_.toString().match(/^(componentsProps|slotProps)$/)){const $=i[_]||{},et=o[_];s[_]={},!et||!Object.keys(et)?s[_]=$:!$||!Object.keys($)?s[_]=et:(s[_]=_extends$1({},et),Object.keys($).forEach(rt=>{s[_][rt]=resolveProps($[rt],et[rt])}))}else s[_]===void 0&&(s[_]=i[_])}),s}function composeClasses(i,o,s){const _={};return Object.keys(i).forEach($=>{_[$]=i[$].reduce((et,rt)=>(rt&&(et.push(o(rt)),s&&s[rt]&&et.push(s[rt])),et),[]).join(" ")}),_}const defaultGenerator=i=>i,createClassNameGenerator=()=>{let i=defaultGenerator;return{configure(o){i=o},generate(o){return i(o)},reset(){i=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(i,o,s="Mui"){const _=globalStateClassesMapping[o];return _?`${s}-${_}`:`${ClassNameGenerator$1.generate(i)}-${o}`}function generateUtilityClasses(i,o,s="Mui"){const _={};return o.forEach($=>{_[$]=generateUtilityClass(i,$,s)}),_}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),Global=withEmotionCache(function(i,o){var s=i.styles,_=serializeStyles([s],void 0,reactExports.useContext(ThemeContext$2)),$=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var et=o.key+"-global",rt=new o.sheet.constructor({key:et,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),j=!1,st=document.querySelector('style[data-emotion="'+et+" "+_.name+'"]');return o.sheet.tags.length&&(rt.before=o.sheet.tags[0]),st!==null&&(j=!0,st.setAttribute("data-emotion",et),rt.hydrate([st])),$.current=[rt,j],function(){rt.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var et=$.current,rt=et[0],j=et[1];if(j){et[1]=!1;return}if(_.next!==void 0&&insertStyles(o,_.next,!0),rt.tags.length){var st=rt.tags[rt.tags.length-1].nextElementSibling;rt.before=st,rt.flush()}o.insert("",_,rt,!1)},[o,_.name]),null}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function i(o){return o!=="theme"},getDefaultShouldForwardProp=function i(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function i(o,s,_){var $;if(s){var et=s.shouldForwardProp;$=o.__emotion_forwardProp&&et?function(rt){return o.__emotion_forwardProp(rt)&&et(rt)}:et}return typeof $!="function"&&_&&($=o.__emotion_forwardProp),$},Insertion=function i(o){var s=o.cache,_=o.serialized,$=o.isStringTag;return registerStyles(s,_,$),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,_,$)}),null},createStyled$1=function i(o,s){var _=o.__emotion_real===o,$=_&&o.__emotion_base||o,et,rt;s!==void 0&&(et=s.label,rt=s.target);var j=composeShouldForwardProps(o,s,_),st=j||getDefaultShouldForwardProp($),lt=!st("as");return function(){var gt=arguments,bt=_&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(et!==void 0&&bt.push("label:"+et+";"),gt[0]==null||gt[0].raw===void 0)bt.push.apply(bt,gt);else{bt.push(gt[0][0]);for(var Ut=gt.length,Ft=1;Ft<Ut;Ft++)bt.push(gt[Ft],gt[0][Ft])}var yt=withEmotionCache(function(Qt,wt,Tt){var Jt=lt&&Qt.as||$,At="",Nt=[],St=Qt;if(Qt.theme==null){St={};for(var Ot in Qt)St[Ot]=Qt[Ot];St.theme=reactExports.useContext(ThemeContext$2)}typeof Qt.className=="string"?At=getRegisteredStyles(wt.registered,Nt,Qt.className):Qt.className!=null&&(At=Qt.className+" ");var nn=serializeStyles(bt.concat(Nt),wt.registered,St);At+=wt.key+"-"+nn.name,rt!==void 0&&(At+=" "+rt);var yn=lt&&j===void 0?getDefaultShouldForwardProp(Jt):st,Ct={};for(var Vt in Qt)lt&&Vt==="as"||yn(Vt)&&(Ct[Vt]=Qt[Vt]);return Ct.className=At,Ct.ref=Tt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:wt,serialized:nn,isStringTag:typeof Jt=="string"}),reactExports.createElement(Jt,Ct))});return yt.displayName=et!==void 0?et:"Styled("+(typeof $=="string"?$:$.displayName||$.name||"Component")+")",yt.defaultProps=o.defaultProps,yt.__emotion_real=yt,yt.__emotion_base=$,yt.__emotion_styles=bt,yt.__emotion_forwardProp=j,Object.defineProperty(yt,"toString",{value:function(){return"."+rt}}),yt.withComponent=function(Qt,wt){return i(Qt,_extends$1({},s,wt,{shouldForwardProp:composeShouldForwardProps(yt,wt,!0)})).apply(void 0,bt)},yt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});const emStyled=newStyled;function isEmpty$2(i){return i==null||Object.keys(i).length===0}function GlobalStyles$1(i){const{styles:o,defaultTheme:s={}}=i;return jsx$1(Global,{styles:typeof o=="function"?$=>o(isEmpty$2($)?s:$):o})}/** @license MUI v5.11.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(i,o){return emStyled(i,o)}const internal_processStyles=(i,o)=>{Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=o(i.__emotion_styles))};function merge$2(i,o){return o?deepmerge(i,o,{clone:!1}):i}const values={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values[i]}px)`};function handleBreakpoints(i,o,s){const _=i.theme||{};if(Array.isArray(o)){const et=_.breakpoints||defaultBreakpoints;return o.reduce((rt,j,st)=>(rt[et.up(et.keys[st])]=s(o[st]),rt),{})}if(typeof o=="object"){const et=_.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((rt,j)=>{if(Object.keys(et.values||values).indexOf(j)!==-1){const st=et.up(j);rt[st]=s(o[j],j)}else{const st=j;rt[st]=o[st]}return rt},{})}return s(o)}function createEmptyBreakpointObject(i={}){var o;return((o=i.keys)==null?void 0:o.reduce((_,$)=>{const et=i.up($);return _[et]={},_},{}))||{}}function removeUnusedBreakpoints(i,o){return i.reduce((s,_)=>{const $=s[_];return(!$||Object.keys($).length===0)&&delete s[_],s},o)}function getPath(i,o,s=!0){if(!o||typeof o!="string")return null;if(i&&i.vars&&s){const _=`vars.${o}`.split(".").reduce(($,et)=>$&&$[et]?$[et]:null,i);if(_!=null)return _}return o.split(".").reduce((_,$)=>_&&_[$]!=null?_[$]:null,i)}function getStyleValue(i,o,s,_=s){let $;return typeof i=="function"?$=i(s):Array.isArray(i)?$=i[s]||_:$=getPath(i,s)||_,o&&($=o($,_,i)),$}function style$1(i){const{prop:o,cssProperty:s=i.prop,themeKey:_,transform:$}=i,et=rt=>{if(rt[o]==null)return null;const j=rt[o],st=rt.theme,lt=getPath(st,_)||{};return handleBreakpoints(rt,j,bt=>{let Ut=getStyleValue(lt,$,bt);return bt===Ut&&typeof bt=="string"&&(Ut=getStyleValue(lt,$,`${o}${bt==="default"?"":capitalize(bt)}`,bt)),s===!1?Ut:{[s]:Ut}})};return et.propTypes={},et.filterProps=[o],et}function compose(...i){const o=i.reduce((_,$)=>($.filterProps.forEach(et=>{_[et]=$}),_),{}),s=_=>Object.keys(_).reduce(($,et)=>o[et]?merge$2($,o[et](_)):$,{});return s.propTypes={},s.filterProps=i.reduce((_,$)=>_.concat($.filterProps),[]),s}function memoize(i){const o={};return s=>(o[s]===void 0&&(o[s]=i(s)),o[s])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(i=>{if(i.length>2)if(aliases[i])i=aliases[i];else return[i];const[o,s]=i.split(""),_=properties[o],$=directions[s]||"";return Array.isArray($)?$.map(et=>_+et):[_+$]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(i,o,s,_){var $;const et=($=getPath(i,o,!1))!=null?$:s;return typeof et=="number"?rt=>typeof rt=="string"?rt:et*rt:Array.isArray(et)?rt=>typeof rt=="string"?rt:et[rt]:typeof et=="function"?et:()=>{}}function createUnarySpacing(i){return createUnaryUnit(i,"spacing",8)}function getValue(i,o){if(typeof o=="string"||o==null)return o;const s=Math.abs(o),_=i(s);return o>=0?_:typeof _=="number"?-_:`-${_}`}function getStyleFromPropValue(i,o){return s=>i.reduce((_,$)=>(_[$]=getValue(o,s),_),{})}function resolveCssProperty(i,o,s,_){if(o.indexOf(s)===-1)return null;const $=getCssProperties(s),et=getStyleFromPropValue($,_),rt=i[s];return handleBreakpoints(i,rt,et)}function style(i,o){const s=createUnarySpacing(i.theme);return Object.keys(i).map(_=>resolveCssProperty(i,o,_,s)).reduce(merge$2,{})}function margin(i){return style(i,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(i){return style(i,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function borderTransform(i){return typeof i!="number"?i:`${i}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const o=createUnaryUnit(i.theme,"shape.borderRadius",4),s=_=>({borderRadius:getValue(o,_)});return handleBreakpoints(i,i.borderRadius,s)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=i=>{if(i.gap!==void 0&&i.gap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({gap:getValue(o,_)});return handleBreakpoints(i,i.gap,s)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({columnGap:getValue(o,_)});return handleBreakpoints(i,i.columnGap,s)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({rowGap:getValue(o,_)});return handleBreakpoints(i,i.rowGap,s)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(i,o){return o==="grey"?o:i}const color$1=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color$1,bgcolor,backgroundColor);function sizingTransform(i){return i<=1&&i!==0?`${i*100}%`:i}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const o=s=>{var _,$,et;return{maxWidth:((_=i.theme)==null||($=_.breakpoints)==null||(et=$.values)==null?void 0:et[s])||values[s]||sizingTransform(s)}};return handleBreakpoints(i,i.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...i){const o=i.reduce((_,$)=>_.concat(Object.keys($)),[]),s=new Set(o);return i.every(_=>s.size===Object.keys(_).length)}function callIfFn(i,o){return typeof i=="function"?i(o):i}function unstable_createStyleFunctionSx(){function i(s,_,$,et){const rt={[s]:_,theme:$},j=et[s];if(!j)return{[s]:_};const{cssProperty:st=s,themeKey:lt,transform:gt,style:bt}=j;if(_==null)return null;const Ut=getPath($,lt)||{};return bt?bt(rt):handleBreakpoints(rt,_,yt=>{let Qt=getStyleValue(Ut,gt,yt);return yt===Qt&&typeof yt=="string"&&(Qt=getStyleValue(Ut,gt,`${s}${yt==="default"?"":capitalize(yt)}`,yt)),st===!1?Qt:{[st]:Qt}})}function o(s){var _;const{sx:$,theme:et={}}=s||{};if(!$)return null;const rt=(_=et.unstable_sxConfig)!=null?_:defaultSxConfig$1;function j(st){let lt=st;if(typeof st=="function")lt=st(et);else if(typeof st!="object")return st;if(!lt)return null;const gt=createEmptyBreakpointObject(et.breakpoints),bt=Object.keys(gt);let Ut=gt;return Object.keys(lt).forEach(Ft=>{const yt=callIfFn(lt[Ft],et);if(yt!=null)if(typeof yt=="object")if(rt[Ft])Ut=merge$2(Ut,i(Ft,yt,et,rt));else{const Qt=handleBreakpoints({theme:et},yt,wt=>({[Ft]:wt}));objectsHaveSameKeys(Qt,yt)?Ut[Ft]=o({sx:yt,theme:et}):Ut=merge$2(Ut,Qt)}else Ut=merge$2(Ut,i(Ft,yt,et,rt))}),removeUnusedBreakpoints(bt,Ut)}return Array.isArray($)?$.map(j):j($)}return o}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx;function _objectWithoutPropertiesLoose$1(i,o){if(i==null)return{};var s={},_=Object.keys(i),$,et;for(et=0;et<_.length;et++)$=_[et],!(o.indexOf($)>=0)&&(s[$]=i[$]);return s}const _excluded$a=["sx"],splitProps=i=>{var o,s;const _={systemProps:{},otherProps:{}},$=(o=i==null||(s=i.theme)==null?void 0:s.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys(i).forEach(et=>{$[et]?_.systemProps[et]=i[et]:_.otherProps[et]=i[et]}),_};function extendSxProp(i){const{sx:o}=i,s=_objectWithoutPropertiesLoose$1(i,_excluded$a),{systemProps:_,otherProps:$}=splitProps(s);let et;return Array.isArray(o)?et=[_,...o]:typeof o=="function"?et=(...rt)=>{const j=o(...rt);return isPlainObject$1(j)?_extends$1({},_,j):_}:et=_extends$1({},_,o),_extends$1({},$,{sx:et})}function r(i){var o,s,_="";if(typeof i=="string"||typeof i=="number")_+=i;else if(typeof i=="object")if(Array.isArray(i))for(o=0;o<i.length;o++)i[o]&&(s=r(i[o]))&&(_&&(_+=" "),_+=s);else for(o in i)i[o]&&(_&&(_+=" "),_+=o);return _}function clsx(){for(var i,o,s=0,_="";s<arguments.length;)(i=arguments[s++])&&(o=r(i))&&(_&&(_+=" "),_+=o);return _}const _excluded$9=["values","unit","step"],sortBreakpointsValues=i=>{const o=Object.keys(i).map(s=>({key:s,val:i[s]}))||[];return o.sort((s,_)=>s.val-_.val),o.reduce((s,_)=>_extends$1({},s,{[_.key]:_.val}),{})};function createBreakpoints(i){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:_=5}=i,$=_objectWithoutPropertiesLoose$1(i,_excluded$9),et=sortBreakpointsValues(o),rt=Object.keys(et);function j(Ut){return`@media (min-width:${typeof o[Ut]=="number"?o[Ut]:Ut}${s})`}function st(Ut){return`@media (max-width:${(typeof o[Ut]=="number"?o[Ut]:Ut)-_/100}${s})`}function lt(Ut,Ft){const yt=rt.indexOf(Ft);return`@media (min-width:${typeof o[Ut]=="number"?o[Ut]:Ut}${s}) and (max-width:${(yt!==-1&&typeof o[rt[yt]]=="number"?o[rt[yt]]:Ft)-_/100}${s})`}function gt(Ut){return rt.indexOf(Ut)+1<rt.length?lt(Ut,rt[rt.indexOf(Ut)+1]):j(Ut)}function bt(Ut){const Ft=rt.indexOf(Ut);return Ft===0?j(rt[1]):Ft===rt.length-1?st(rt[Ft]):lt(Ut,rt[rt.indexOf(Ut)+1]).replace("@media","@media not all and")}return _extends$1({keys:rt,values:et,up:j,down:st,between:lt,only:gt,not:bt,unit:s},$)}const shape={borderRadius:4},shape$1=shape;function createSpacing(i=8){if(i.mui)return i;const o=createUnarySpacing({spacing:i}),s=(..._)=>(_.length===0?[1]:_).map(et=>{const rt=o(et);return typeof rt=="number"?`${rt}px`:rt}).join(" ");return s.mui=!0,s}const _excluded$8=["breakpoints","palette","spacing","shape"];function createTheme$1(i={},...o){const{breakpoints:s={},palette:_={},spacing:$,shape:et={}}=i,rt=_objectWithoutPropertiesLoose$1(i,_excluded$8),j=createBreakpoints(s),st=createSpacing($);let lt=deepmerge({breakpoints:j,direction:"ltr",components:{},palette:_extends$1({mode:"light"},_),spacing:st,shape:_extends$1({},shape$1,et)},rt);return lt=o.reduce((gt,bt)=>deepmerge(gt,bt),lt),lt.unstable_sxConfig=_extends$1({},defaultSxConfig$1,rt==null?void 0:rt.unstable_sxConfig),lt.unstable_sx=function(bt){return styleFunctionSx$1({sx:bt,theme:this})},lt}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$2(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(i,o){return typeof o=="function"?o(i):_extends$1({},i,o)}function ThemeProvider$1(i){const{children:o,theme:s}=i,_=useTheme$2(),$=reactExports.useMemo(()=>{const et=_===null?s:mergeOuterLocalTheme(_,s);return et!=null&&(et[nested]=_!==null),et},[s,_]);return jsx$1(ThemeContext$1.Provider,{value:$,children:o})}function isObjectEmpty(i){return Object.keys(i).length===0}function useTheme$1(i=null){const o=useTheme$2();return!o||isObjectEmpty(o)?i:o}const systemDefaultTheme$1=createTheme$1();function useTheme(i=systemDefaultTheme$1){return useTheme$1(i)}const _excluded$7=["variant"];function isEmpty$1(i){return i.length===0}function propsToClassKey(i){const{variant:o}=i,s=_objectWithoutPropertiesLoose$1(i,_excluded$7);let _=o||"";return Object.keys(s).sort().forEach($=>{$==="color"?_+=isEmpty$1(_)?i[$]:capitalize(i[$]):_+=`${isEmpty$1(_)?$:capitalize($)}${capitalize(i[$].toString())}`}),_}const _excluded$6=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2=["theme"],_excluded3=["theme"];function isEmpty(i){return Object.keys(i).length===0}function isStringTag(i){return typeof i=="string"&&i.charCodeAt(0)>96}const getStyleOverrides=(i,o)=>o.components&&o.components[i]&&o.components[i].styleOverrides?o.components[i].styleOverrides:null,getVariantStyles=(i,o)=>{let s=[];o&&o.components&&o.components[i]&&o.components[i].variants&&(s=o.components[i].variants);const _={};return s.forEach($=>{const et=propsToClassKey($.props);_[et]=$.style}),_},variantsResolver=(i,o,s,_)=>{var $,et;const{ownerState:rt={}}=i,j=[],st=s==null||($=s.components)==null||(et=$[_])==null?void 0:et.variants;return st&&st.forEach(lt=>{let gt=!0;Object.keys(lt.props).forEach(bt=>{rt[bt]!==lt.props[bt]&&i[bt]!==lt.props[bt]&&(gt=!1)}),gt&&j.push(o[propsToClassKey(lt.props)])}),j};function shouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const systemDefaultTheme=createTheme$1();function createStyled(i={}){const{defaultTheme:o=systemDefaultTheme,rootShouldForwardProp:s=shouldForwardProp,slotShouldForwardProp:_=shouldForwardProp}=i,$=et=>{const rt=isEmpty(et.theme)?o:et.theme;return styleFunctionSx$1(_extends$1({},et,{theme:rt}))};return $.__mui_systemSx=!0,(et,rt={})=>{internal_processStyles(et,At=>At.filter(Nt=>!(Nt!=null&&Nt.__mui_systemSx)));const{name:j,slot:st,skipVariantsResolver:lt,skipSx:gt,overridesResolver:bt}=rt,Ut=_objectWithoutPropertiesLoose$1(rt,_excluded$6),Ft=lt!==void 0?lt:st&&st!=="Root"||!1,yt=gt||!1;let Qt,wt=shouldForwardProp;st==="Root"?wt=s:st?wt=_:isStringTag(et)&&(wt=void 0);const Tt=styled$2(et,_extends$1({shouldForwardProp:wt,label:Qt},Ut)),Jt=(At,...Nt)=>{const St=Nt?Nt.map(Ct=>typeof Ct=="function"&&Ct.__emotion_real!==Ct?Vt=>{let{theme:Yt}=Vt,Pt=_objectWithoutPropertiesLoose$1(Vt,_excluded2);return Ct(_extends$1({theme:isEmpty(Yt)?o:Yt},Pt))}:Ct):[];let Ot=At;j&&bt&&St.push(Ct=>{const Vt=isEmpty(Ct.theme)?o:Ct.theme,Yt=getStyleOverrides(j,Vt);if(Yt){const Pt={};return Object.entries(Yt).forEach(([tn,Un])=>{Pt[tn]=typeof Un=="function"?Un(_extends$1({},Ct,{theme:Vt})):Un}),bt(Ct,Pt)}return null}),j&&!Ft&&St.push(Ct=>{const Vt=isEmpty(Ct.theme)?o:Ct.theme;return variantsResolver(Ct,getVariantStyles(j,Vt),Vt,j)}),yt||St.push($);const nn=St.length-Nt.length;if(Array.isArray(At)&&nn>0){const Ct=new Array(nn).fill("");Ot=[...At,...Ct],Ot.raw=[...At.raw,...Ct]}else typeof At=="function"&&At.__emotion_real!==At&&(Ot=Ct=>{let{theme:Vt}=Ct,Yt=_objectWithoutPropertiesLoose$1(Ct,_excluded3);return At(_extends$1({theme:isEmpty(Vt)?o:Vt},Yt))});return Tt(Ot,...St)};return Tt.withConfig&&(Jt.withConfig=Tt.withConfig),Jt}}function getThemeProps(i){const{theme:o,name:s,props:_}=i;return!o||!o.components||!o.components[s]||!o.components[s].defaultProps?_:resolveProps(o.components[s].defaultProps,_)}function useThemeProps$1({props:i,name:o,defaultTheme:s}){const _=useTheme(s);return getThemeProps({theme:_,name:o,props:i})}function clamp(i,o=0,s=1){return Math.min(Math.max(o,i),s)}function hexToRgb(i){i=i.slice(1);const o=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let s=i.match(o);return s&&s[0].length===1&&(s=s.map(_=>_+_)),s?`rgb${s.length===4?"a":""}(${s.map((_,$)=>$<3?parseInt(_,16):Math.round(parseInt(_,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor(hexToRgb(i));const o=i.indexOf("("),s=i.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,i));let _=i.substring(o+1,i.length-1),$;if(s==="color"){if(_=_.split(" "),$=_.shift(),_.length===4&&_[3].charAt(0)==="/"&&(_[3]=_[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error(formatMuiErrorMessage(10,$))}else _=_.split(",");return _=_.map(et=>parseFloat(et)),{type:s,values:_,colorSpace:$}}function recomposeColor(i){const{type:o,colorSpace:s}=i;let{values:_}=i;return o.indexOf("rgb")!==-1?_=_.map(($,et)=>et<3?parseInt($,10):$):o.indexOf("hsl")!==-1&&(_[1]=`${_[1]}%`,_[2]=`${_[2]}%`),o.indexOf("color")!==-1?_=`${s} ${_.join(" ")}`:_=`${_.join(", ")}`,`${o}(${_})`}function hslToRgb(i){i=decomposeColor(i);const{values:o}=i,s=o[0],_=o[1]/100,$=o[2]/100,et=_*Math.min($,1-$),rt=(lt,gt=(lt+s/30)%12)=>$-et*Math.max(Math.min(gt-3,9-gt,1),-1);let j="rgb";const st=[Math.round(rt(0)*255),Math.round(rt(8)*255),Math.round(rt(4)*255)];return i.type==="hsla"&&(j+="a",st.push(o[3])),recomposeColor({type:j,values:st})}function getLuminance(i){i=decomposeColor(i);let o=i.type==="hsl"||i.type==="hsla"?decomposeColor(hslToRgb(i)).values:i.values;return o=o.map(s=>(i.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio(i,o){const s=getLuminance(i),_=getLuminance(o);return(Math.max(s,_)+.05)/(Math.min(s,_)+.05)}function darken(i,o){if(i=decomposeColor(i),o=clamp(o),i.type.indexOf("hsl")!==-1)i.values[2]*=1-o;else if(i.type.indexOf("rgb")!==-1||i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]*=1-o;return recomposeColor(i)}function lighten(i,o){if(i=decomposeColor(i),o=clamp(o),i.type.indexOf("hsl")!==-1)i.values[2]+=(100-i.values[2])*o;else if(i.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(255-i.values[s])*o;else if(i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(1-i.values[s])*o;return recomposeColor(i)}const EMPTY_THEME={};function InnerThemeProvider(i){const o=useTheme();return jsx$1(ThemeContext$2.Provider,{value:typeof o=="object"?o:EMPTY_THEME,children:i.children})}function ThemeProvider(i){const{children:o,theme:s}=i;return jsx$1(ThemeProvider$1,{theme:s,children:jsx$1(InnerThemeProvider,{children:o})})}function createMixins(i,o){return _extends$1({toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}}},o)}const common={black:"#000",white:"#fff"},common$1=common,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,_excluded$5=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(i,o,s,_){const $=_.light||_,et=_.dark||_*1.5;i[o]||(i.hasOwnProperty(s)?i[o]=i[s]:o==="light"?i.light=lighten(i.main,$):o==="dark"&&(i.dark=darken(i.main,et)))}function getDefaultPrimary(i="light"){return i==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(i="light"){return i==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(i="light"){return i==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(i="light"){return i==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(i="light"){return i==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(i="light"){return i==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(i){const{mode:o="light",contrastThreshold:s=3,tonalOffset:_=.2}=i,$=_objectWithoutPropertiesLoose$1(i,_excluded$5),et=i.primary||getDefaultPrimary(o),rt=i.secondary||getDefaultSecondary(o),j=i.error||getDefaultError(o),st=i.info||getDefaultInfo(o),lt=i.success||getDefaultSuccess(o),gt=i.warning||getDefaultWarning(o);function bt(Qt){return getContrastRatio(Qt,dark.text.primary)>=s?dark.text.primary:light.text.primary}const Ut=({color:Qt,name:wt,mainShade:Tt=500,lightShade:Jt=300,darkShade:At=700})=>{if(Qt=_extends$1({},Qt),!Qt.main&&Qt[Tt]&&(Qt.main=Qt[Tt]),!Qt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,wt?` (${wt})`:"",Tt));if(typeof Qt.main!="string")throw new Error(formatMuiErrorMessage(12,wt?` (${wt})`:"",JSON.stringify(Qt.main)));return addLightOrDark(Qt,"light",Jt,_),addLightOrDark(Qt,"dark",At,_),Qt.contrastText||(Qt.contrastText=bt(Qt.main)),Qt},Ft={dark,light};return deepmerge(_extends$1({common:_extends$1({},common$1),mode:o,primary:Ut({color:et,name:"primary"}),secondary:Ut({color:rt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:Ut({color:j,name:"error"}),warning:Ut({color:gt,name:"warning"}),info:Ut({color:st,name:"info"}),success:Ut({color:lt,name:"success"}),grey:grey$1,contrastThreshold:s,getContrastText:bt,augmentColor:Ut,tonalOffset:_},Ft[o]),$)}const _excluded$4=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$1(i){return Math.round(i*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(i,o){const s=typeof o=="function"?o(i):o,{fontFamily:_=defaultFontFamily,fontSize:$=14,fontWeightLight:et=300,fontWeightRegular:rt=400,fontWeightMedium:j=500,fontWeightBold:st=700,htmlFontSize:lt=16,allVariants:gt,pxToRem:bt}=s,Ut=_objectWithoutPropertiesLoose$1(s,_excluded$4),Ft=$/14,yt=bt||(Tt=>`${Tt/lt*Ft}rem`),Qt=(Tt,Jt,At,Nt,St)=>_extends$1({fontFamily:_,fontWeight:Tt,fontSize:yt(Jt),lineHeight:At},_===defaultFontFamily?{letterSpacing:`${round$1(Nt/Jt)}em`}:{},St,gt),wt={h1:Qt(et,96,1.167,-1.5),h2:Qt(et,60,1.2,-.5),h3:Qt(rt,48,1.167,0),h4:Qt(rt,34,1.235,.25),h5:Qt(rt,24,1.334,0),h6:Qt(j,20,1.6,.15),subtitle1:Qt(rt,16,1.75,.15),subtitle2:Qt(j,14,1.57,.1),body1:Qt(rt,16,1.5,.15),body2:Qt(rt,14,1.43,.15),button:Qt(j,14,1.75,.4,caseAllCaps),caption:Qt(rt,12,1.66,.4),overline:Qt(rt,12,2.66,1,caseAllCaps)};return deepmerge(_extends$1({htmlFontSize:lt,pxToRem:yt,fontFamily:_,fontSize:$,fontWeightLight:et,fontWeightRegular:rt,fontWeightMedium:j,fontWeightBold:st},wt),Ut,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$3=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(i){return`${Math.round(i)}ms`}function getAutoHeightDuration(i){if(!i)return 0;const o=i/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions(i){const o=_extends$1({},easing,i.easing),s=_extends$1({},duration$1,i.duration);return _extends$1({getAutoHeightDuration,create:($=["all"],et={})=>{const{duration:rt=s.standard,easing:j=o.easeInOut,delay:st=0}=et;return _objectWithoutPropertiesLoose$1(et,_excluded$3),(Array.isArray($)?$:[$]).map(lt=>`${lt} ${typeof rt=="string"?rt:formatMs(rt)} ${j} ${typeof st=="string"?st:formatMs(st)}`).join(",")}},i,{easing:o,duration:s})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$2=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(i={},...o){const{mixins:s={},palette:_={},transitions:$={},typography:et={}}=i,rt=_objectWithoutPropertiesLoose$1(i,_excluded$2);if(i.vars)throw new Error(formatMuiErrorMessage(18));const j=createPalette(_),st=createTheme$1(i);let lt=deepmerge(st,{mixins:createMixins(st.breakpoints,s),palette:j,shadows:shadows$1.slice(),typography:createTypography(j,et),transitions:createTransitions($),zIndex:_extends$1({},zIndex$1)});return lt=deepmerge(lt,rt),lt=o.reduce((gt,bt)=>deepmerge(gt,bt),lt),lt.unstable_sxConfig=_extends$1({},defaultSxConfig$1,rt==null?void 0:rt.unstable_sxConfig),lt.unstable_sx=function(bt){return styleFunctionSx$1({sx:bt,theme:this})},lt}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useThemeProps({props:i,name:o}){return useThemeProps$1({props:i,name:o,defaultTheme:defaultTheme$1})}function GlobalStyles(i){return jsx$1(GlobalStyles$1,_extends$1({},i,{defaultTheme:defaultTheme$1}))}const html=(i,o)=>_extends$1({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&!i.vars&&{colorScheme:i.palette.mode}),body=i=>_extends$1({color:(i.vars||i).palette.text.primary},i.typography.body1,{backgroundColor:(i.vars||i).palette.background.default,"@media print":{backgroundColor:(i.vars||i).palette.common.white}}),styles=(i,o=!1)=>{var s,_;const $={};o&&i.colorSchemes&&Object.entries(i.colorSchemes).forEach(([j,st])=>{var lt;$[i.getColorSchemeSelector(j).replace(/\s*&/,"")]={colorScheme:(lt=st.palette)==null?void 0:lt.mode}});let et=_extends$1({html:html(i,o),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:i.typography.fontWeightBold},body:_extends$1({margin:0},body(i),{"&::backdrop":{backgroundColor:(i.vars||i).palette.background.default}})},$);const rt=(s=i.components)==null||(_=s.MuiCssBaseline)==null?void 0:_.styleOverrides;return rt&&(et=[et,rt]),et};function CssBaseline(i){const o=useThemeProps({props:i,name:"MuiCssBaseline"}),{children:s,enableColorScheme:_=!1}=o;return jsxs(reactExports.Fragment,{children:[jsx$1(GlobalStyles,{styles:$=>styles($,_)}),s]})}const rootShouldForwardProp=i=>shouldForwardProp(i)&&i!=="classes",styled=createStyled({defaultTheme:defaultTheme$1,rootShouldForwardProp}),styled$1=styled;function getScopedCssBaselineUtilityClass(i){return generateUtilityClass("MuiScopedCssBaseline",i)}generateUtilityClasses("MuiScopedCssBaseline",["root"]);const _excluded$1=["className","component","enableColorScheme"],useUtilityClasses$1=i=>{const{classes:o}=i;return composeClasses({root:["root"]},getScopedCssBaselineUtilityClass,o)},ScopedCssBaselineRoot=styled$1("div",{name:"MuiScopedCssBaseline",slot:"Root",overridesResolver:(i,o)=>o.root})(({theme:i,ownerState:o})=>{const s={};return o.enableColorScheme&&i.colorSchemes&&Object.entries(i.colorSchemes).forEach(([_,$])=>{var et;s[`&${i.getColorSchemeSelector(_).replace(/\s*&/,"")}`]={colorScheme:(et=$.palette)==null?void 0:et.mode}}),_extends$1({},html(i,o.enableColorScheme),body(i),{"& *, & *::before, & *::after":{boxSizing:"inherit"},"& strong, & b":{fontWeight:i.typography.fontWeightBold}},s)}),ScopedCssBaseline=reactExports.forwardRef(function i(o,s){const _=useThemeProps({props:o,name:"MuiScopedCssBaseline"}),{className:$,component:et="div"}=_,rt=_objectWithoutPropertiesLoose$1(_,_excluded$1),j=_extends$1({},_,{component:et}),st=useUtilityClasses$1(j);return jsx$1(ScopedCssBaselineRoot,_extends$1({as:et,className:clsx(st.root,$),ref:s,ownerState:j},rt))}),D0=ScopedCssBaseline;function _inheritsLoose(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,_setPrototypeOf$1(i,o)}function getTypographyUtilityClass(i){return generateUtilityClass("MuiTypography",i)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses=i=>{const{align:o,gutterBottom:s,noWrap:_,paragraph:$,variant:et,classes:rt}=i,j={root:["root",et,i.align!=="inherit"&&`align${capitalize(o)}`,s&&"gutterBottom",_&&"noWrap",$&&"paragraph"]};return composeClasses(j,getTypographyUtilityClass,rt)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.variant&&o[s.variant],s.align!=="inherit"&&o[`align${capitalize(s.align)}`],s.noWrap&&o.noWrap,s.gutterBottom&&o.gutterBottom,s.paragraph&&o.paragraph]}})(({theme:i,ownerState:o})=>_extends$1({margin:0},o.variant&&i.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=i=>colorTransformations[i]||i,Typography=reactExports.forwardRef(function i(o,s){const _=useThemeProps({props:o,name:"MuiTypography"}),$=transformDeprecatedColors(_.color),et=extendSxProp(_extends$1({},_,{color:$})),{align:rt="inherit",className:j,component:st,gutterBottom:lt=!1,noWrap:gt=!1,paragraph:bt=!1,variant:Ut="body1",variantMapping:Ft=defaultVariantMapping}=et,yt=_objectWithoutPropertiesLoose$1(et,_excluded),Qt=_extends$1({},et,{align:rt,color:$,className:j,component:st,gutterBottom:lt,noWrap:gt,paragraph:bt,variant:Ut,variantMapping:Ft}),wt=st||(bt?"p":Ft[Ut]||defaultVariantMapping[Ut])||"span",Tt=useUtilityClasses(Qt);return jsx$1(TypographyRoot,_extends$1({as:wt,ref:s,ownerState:Qt,className:clsx(Tt.root,j)},yt))}),Typography$1=Typography;var lodashExports={},lodash={get exports(){return lodashExports},set exports(i){lodashExports=i}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,o){(function(){var s,_="4.17.21",$=200,et="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",rt="Expected a function",j="Invalid `variable` option passed into `_.template`",st="__lodash_hash_undefined__",lt=500,gt="__lodash_placeholder__",bt=1,Ut=2,Ft=4,yt=1,Qt=2,wt=1,Tt=2,Jt=4,At=8,Nt=16,St=32,Ot=64,nn=128,yn=256,Ct=512,Vt=30,Yt="...",Pt=800,tn=16,Un=1,Kt=2,$t=3,hn=1/0,dn=9007199254740991,zt=17976931348623157e292,It=0/0,gn=4294967295,vn=gn-1,Wn=gn>>>1,Ln=[["ary",nn],["bind",wt],["bindKey",Tt],["curry",At],["curryRight",Nt],["flip",Ct],["partial",St],["partialRight",Ot],["rearg",yn]],jn="[object Arguments]",xn="[object Array]",Rn="[object AsyncFunction]",jt="[object Boolean]",Ht="[object Date]",_n="[object DOMException]",Dn="[object Error]",Tn="[object Function]",Xn="[object GeneratorFunction]",or="[object Map]",Rr="[object Number]",ao="[object Null]",Vo="[object Object]",bo="[object Promise]",Po="[object Proxy]",_o="[object RegExp]",Qo="[object Set]",zo="[object String]",Ao="[object Symbol]",qo="[object Undefined]",Do="[object WeakMap]",ws="[object WeakSet]",Wo="[object ArrayBuffer]",Fl="[object DataView]",ys="[object Float32Array]",Ys="[object Float64Array]",ss="[object Int8Array]",su="[object Int16Array]",Xs="[object Int32Array]",_l="[object Uint8Array]",tp="[object Uint8ClampedArray]",Uu="[object Uint16Array]",Su="[object Uint32Array]",Wl=/\b__p \+= '';/g,Nu=/\b(__p \+=) '' \+/g,xs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zl=/&(?:amp|lt|gt|quot|#39);/g,Mr=/[&<>"']/g,mn=RegExp(zl.source),bn=RegExp(Mr.source),An=/<%-([\s\S]+?)%>/g,ir=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,Nr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jr=/^\w*$/,Qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qt=/[\\^$.*+?()[\]{}|]/g,rn=RegExp(qt.source),Cn=/^\s+/,Gn=/\s/,er=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pr=/\{\n\/\* \[wrapped with (.+)\] \*/,yr=/,? & /,hr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fr=/[()=,{}\[\]\/\s]/,kr=/\\(\\)?/g,Xr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lr=/\w*$/,Fo=/^[-+]0x[0-9a-f]+$/i,Uo=/^0b[01]+$/i,mo=/^\[object .+?Constructor\]$/,wo=/^0o[0-7]+$/i,Oo=/^(?:0|[1-9]\d*)$/,ls=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bo=/($^)/,Rs=/['\n\r\u2028\u2029\\]/g,Fs="\\ud800-\\udfff",np="\\u0300-\\u036f",Mu="\\ufe20-\\ufe2f",Dr="\\u20d0-\\u20ff",Gl=np+Mu+Dr,na="\\u2700-\\u27bf",Du="a-z\\xdf-\\xf6\\xf8-\\xff",Dp="\\xac\\xb1\\xd7\\xf7",Iu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",au="\\u2000-\\u206f",M0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ip="A-Z\\xc0-\\xd6\\xd8-\\xde",lo="\\ufe0e\\ufe0f",ns=Dp+Iu+au+M0,as="[']",Ju="["+Fs+"]",Jp="["+ns+"]",es="["+Gl+"]",Wp="\\d+",Op="["+na+"]",rp="["+Du+"]",Yl="[^"+Fs+ns+Wp+na+Du+Ip+"]",vs="\\ud83c[\\udffb-\\udfff]",Fy="(?:"+es+"|"+vs+")",Bl="[^"+Fs+"]",Lp="(?:\\ud83c[\\udde6-\\uddff]){2}",Rl="[\\ud800-\\udbff][\\udc00-\\udfff]",yp="["+Ip+"]",sm="\\u200d",km="(?:"+rp+"|"+Yl+")",eu="(?:"+yp+"|"+Yl+")",Wu="(?:"+as+"(?:d|ll|m|re|s|t|ve))?",lu="(?:"+as+"(?:D|LL|M|RE|S|T|VE))?",Ms=Fy+"?",$s="["+lo+"]?",$m="(?:"+sm+"(?:"+[Bl,Lp,Rl].join("|")+")"+$s+Ms+")*",Cm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wn=$s+Ms+$m,Yn="(?:"+[Op,Lp,Rl].join("|")+")"+wn,dr="(?:"+[Bl+es+"?",es,Lp,Rl,Ju].join("|")+")",Br=RegExp(as,"g"),Or=RegExp(es,"g"),vr=RegExp(vs+"(?="+vs+")|"+dr+wn,"g"),Ar=RegExp([yp+"?"+rp+"+"+Wu+"(?="+[Jp,yp,"$"].join("|")+")",eu+"+"+lu+"(?="+[Jp,yp+km,"$"].join("|")+")",yp+"?"+km+"+"+Wu,yp+"+"+lu,sn,Cm,Wp,Yn].join("|"),"g"),oo=RegExp("["+sm+Fs+Gl+lo+"]"),ho=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Eo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ps=-1,Co={};Co[ys]=Co[Ys]=Co[ss]=Co[su]=Co[Xs]=Co[_l]=Co[tp]=Co[Uu]=Co[Su]=!0,Co[jn]=Co[xn]=Co[Wo]=Co[jt]=Co[Fl]=Co[Ht]=Co[Dn]=Co[Tn]=Co[or]=Co[Rr]=Co[Vo]=Co[_o]=Co[Qo]=Co[zo]=Co[Do]=!1;var jo={};jo[jn]=jo[xn]=jo[Wo]=jo[Fl]=jo[jt]=jo[Ht]=jo[ys]=jo[Ys]=jo[ss]=jo[su]=jo[Xs]=jo[or]=jo[Rr]=jo[Vo]=jo[_o]=jo[Qo]=jo[zo]=jo[Ao]=jo[_l]=jo[tp]=jo[Uu]=jo[Su]=!0,jo[Dn]=jo[Tn]=jo[Do]=!1;var js={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Gs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ou={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pp=parseFloat,Am=parseInt,Lu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,vy=typeof self=="object"&&self&&self.Object===Object&&self,yl=Lu||vy||Function("return this")(),I0=o&&!o.nodeType&&o,_p=I0&&!0&&i&&!i.nodeType&&i,ip=_p&&_p.exports===I0,by=ip&&Lu.process,cu=function(){try{var br=_p&&_p.require&&_p.require("util").types;return br||by&&by.binding&&by.binding("util")}catch{}}(),E_=cu&&cu.isArrayBuffer,By=cu&&cu.isDate,w_=cu&&cu.isMap,Ry=cu&&cu.isRegExp,Qy=cu&&cu.isSet,am=cu&&cu.isTypedArray;function uu(br,Gr,Ir){switch(Ir.length){case 0:return br.call(Gr);case 1:return br.call(Gr,Ir[0]);case 2:return br.call(Gr,Ir[0],Ir[1]);case 3:return br.call(Gr,Ir[0],Ir[1],Ir[2])}return br.apply(Gr,Ir)}function x_(br,Gr,Ir,To){for(var cs=-1,Vs=br==null?0:br.length;++cs<Vs;){var Sl=br[cs];Gr(To,Sl,Ir(Sl),br)}return To}function hu(br,Gr){for(var Ir=-1,To=br==null?0:br.length;++Ir<To&&Gr(br[Ir],Ir,br)!==!1;);return br}function T_(br,Gr){for(var Ir=br==null?0:br.length;Ir--&&Gr(br[Ir],Ir,br)!==!1;);return br}function op(br,Gr){for(var Ir=-1,To=br==null?0:br.length;++Ir<To;)if(!Gr(br[Ir],Ir,br))return!1;return!0}function ds(br,Gr){for(var Ir=-1,To=br==null?0:br.length,cs=0,Vs=[];++Ir<To;){var Sl=br[Ir];Gr(Sl,Ir,br)&&(Vs[cs++]=Sl)}return Vs}function lm(br,Gr){var Ir=br==null?0:br.length;return!!Ir&&ap(br,Gr,0)>-1}function qm(br,Gr,Ir){for(var To=-1,cs=br==null?0:br.length;++To<cs;)if(Ir(Gr,br[To]))return!0;return!1}function qs(br,Gr){for(var Ir=-1,To=br==null?0:br.length,cs=Array(To);++Ir<To;)cs[Ir]=Gr(br[Ir],Ir,br);return cs}function sp(br,Gr){for(var Ir=-1,To=Gr.length,cs=br.length;++Ir<To;)br[cs+Ir]=Gr[Ir];return br}function Sy(br,Gr,Ir,To){var cs=-1,Vs=br==null?0:br.length;for(To&&Vs&&(Ir=br[++cs]);++cs<Vs;)Ir=Gr(Ir,br[cs],cs,br);return Ir}function Ey(br,Gr,Ir,To){var cs=br==null?0:br.length;for(To&&cs&&(Ir=br[--cs]);cs--;)Ir=Gr(Ir,br[cs],cs,br);return Ir}function W0(br,Gr){for(var Ir=-1,To=br==null?0:br.length;++Ir<To;)if(Gr(br[Ir],Ir,br))return!0;return!1}var wy=Km("length");function L0(br){return br.split("")}function cm(br){return br.match(hr)||[]}function Vm(br,Gr,Ir){var To;return Ir(br,function(cs,Vs,Sl){if(Gr(cs,Vs,Sl))return To=Vs,!1}),To}function _s(br,Gr,Ir,To){for(var cs=br.length,Vs=Ir+(To?1:-1);To?Vs--:++Vs<cs;)if(Gr(br[Vs],Vs,br))return Vs;return-1}function ap(br,Gr,Ir){return Gr===Gr?xU(br,Gr,Ir):_s(br,C_,Ir)}function k_(br,Gr,Ir,To){for(var cs=Ir-1,Vs=br.length;++cs<Vs;)if(To(br[cs],Gr))return cs;return-1}function C_(br){return br!==br}function A_(br,Gr){var Ir=br==null?0:br.length;return Ir?Z0(br,Gr)/Ir:It}function Km(br){return function(Gr){return Gr==null?s:Gr[br]}}function xy(br){return function(Gr){return br==null?s:br[Gr]}}function V_(br,Gr,Ir,To,cs){return cs(br,function(Vs,Sl,Hs){Ir=To?(To=!1,Vs):Gr(Ir,Vs,Sl,Hs)}),Ir}function EU(br,Gr){var Ir=br.length;for(br.sort(Gr);Ir--;)br[Ir]=br[Ir].value;return br}function Z0(br,Gr){for(var Ir,To=-1,cs=br.length;++To<cs;){var Vs=Gr(br[To]);Vs!==s&&(Ir=Ir===s?Vs:Ir+Vs)}return Ir}function e0(br,Gr){for(var Ir=-1,To=Array(br);++Ir<br;)To[Ir]=Gr(Ir);return To}function N_(br,Gr){return qs(Gr,function(Ir){return[Ir,br[Ir]]})}function z0(br){return br&&br.slice(0,TU(br)+1).replace(Cn,"")}function du(br){return function(Gr){return br(Gr)}}function Ty(br,Gr){return qs(Gr,function(Ir){return br[Ir]})}function j0(br,Gr){return br.has(Gr)}function t0(br,Gr){for(var Ir=-1,To=br.length;++Ir<To&&ap(Gr,br[Ir],0)>-1;);return Ir}function n0(br,Gr){for(var Ir=br.length;Ir--&&ap(Gr,br[Ir],0)>-1;);return Ir}function wU(br,Gr){for(var Ir=br.length,To=0;Ir--;)br[Ir]===Gr&&++To;return To}var ky=xy(js),Cy=xy(Gs);function Up(br){return"\\"+Ou[br]}function M_(br,Gr){return br==null?s:br[Gr]}function Nm(br){return oo.test(br)}function D_(br){return ho.test(br)}function I_(br){for(var Gr,Ir=[];!(Gr=br.next()).done;)Ir.push(Gr.value);return Ir}function r0(br){var Gr=-1,Ir=Array(br.size);return br.forEach(function(To,cs){Ir[++Gr]=[cs,To]}),Ir}function J_(br,Gr){return function(Ir){return br(Gr(Ir))}}function Fp(br,Gr){for(var Ir=-1,To=br.length,cs=0,Vs=[];++Ir<To;){var Sl=br[Ir];(Sl===Gr||Sl===gt)&&(br[Ir]=gt,Vs[cs++]=Ir)}return Vs}function Ay(br){var Gr=-1,Ir=Array(br.size);return br.forEach(function(To){Ir[++Gr]=To}),Ir}function H0(br){var Gr=-1,Ir=Array(br.size);return br.forEach(function(To){Ir[++Gr]=[To,To]}),Ir}function xU(br,Gr,Ir){for(var To=Ir-1,cs=br.length;++To<cs;)if(br[To]===Gr)return To;return-1}function Vy(br,Gr,Ir){for(var To=Ir+1;To--;)if(br[To]===Gr)return To;return To}function o0(br){return Nm(br)?My(br):wy(br)}function Eu(br){return Nm(br)?W_(br):L0(br)}function TU(br){for(var Gr=br.length;Gr--&&Gn.test(br.charAt(Gr)););return Gr}var Ny=xy(hs);function My(br){for(var Gr=vr.lastIndex=0;vr.test(br);)++Gr;return Gr}function W_(br){return br.match(vr)||[]}function O_(br){return br.match(Ar)||[]}var a0=function br(Gr){Gr=Gr==null?yl:l0.defaults(yl.Object(),Gr,l0.pick(yl,Eo));var Ir=Gr.Array,To=Gr.Date,cs=Gr.Error,Vs=Gr.Function,Sl=Gr.Math,Hs=Gr.Object,Dy=Gr.RegExp,kU=Gr.String,Fu=Gr.TypeError,vp=Ir.prototype,u0=Vs.prototype,um=Hs.prototype,Pu=Gr["__core-js_shared__"],Zp=u0.toString,Js=um.hasOwnProperty,bp=0,Qs=function(){var dt=/[^.]+$/.exec(Pu&&Pu.keys&&Pu.keys.IE_PROTO||"");return dt?"Symbol(src)_1."+dt:""}(),Zu=um.toString,jF=Zp.call(Hs),CU=yl._,h0=Dy("^"+Zp.call(Js).replace(qt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Iy=ip?Gr.Buffer:s,Bp=Gr.Symbol,f0=Gr.Uint8Array,Jy=Iy?Iy.allocUnsafe:s,hm=J_(Hs.getPrototypeOf,Hs),p0=Hs.create,dm=um.propertyIsEnumerable,Mm=vp.splice,Y0=Bp?Bp.isConcatSpreadable:s,zp=Bp?Bp.iterator:s,fu=Bp?Bp.toStringTag:s,fm=function(){try{var dt=Tu(Hs,"defineProperty");return dt({},"",{}),dt}catch{}}(),go=Gr.clearTimeout!==yl.clearTimeout&&Gr.clearTimeout,wu=To&&To.now!==yl.Date.now&&To.now,L_=Gr.setTimeout!==yl.setTimeout&&Gr.setTimeout,q0=Sl.ceil,g0=Sl.floor,lp=Hs.getOwnPropertySymbols,AU=Iy?Iy.isBuffer:s,ey=Gr.isFinite,P_=vp.join,Wy=J_(Hs.keys,Hs),Cl=Sl.max,Al=Sl.min,jp=To.now,xu=Gr.parseInt,ty=Sl.random,VU=vp.reverse,m0=Tu(Gr,"DataView"),Dm=Tu(Gr,"Map"),Oy=Tu(Gr,"Promise"),Gp=Tu(Gr,"Set"),pm=Tu(Gr,"WeakMap"),Hp=Tu(Hs,"create"),ny=pm&&new pm,Im={},Ly=rm(m0),NU=rm(Dm),Z_=rm(Oy),Jm=rm(Gp),MU=rm(pm),Wm=Bp?Bp.prototype:s,Yp=Wm?Wm.valueOf:s,Py=Wm?Wm.toString:s;function In(dt){if(Dl(dt)&&!fs(dt)&&!(dt instanceof bs)){if(dt instanceof vu)return dt;if(Js.call(dt,"__wrapped__"))return Rm(dt)}return new vu(dt)}var gm=function(){function dt(){}return function(_t){if(!xl(_t))return{};if(p0)return p0(_t);dt.prototype=_t;var Dt=new dt;return dt.prototype=s,Dt}}();function Ol(){}function vu(dt,_t){this.__wrapped__=dt,this.__actions__=[],this.__chain__=!!_t,this.__index__=0,this.__values__=s}In.templateSettings={escape:An,evaluate:ir,interpolate:cr,variable:"",imports:{_:In}},In.prototype=Ol.prototype,In.prototype.constructor=In,vu.prototype=gm(Ol.prototype),vu.prototype.constructor=vu;function bs(dt){this.__wrapped__=dt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=gn,this.__views__=[]}function GF(){var dt=new bs(this.__wrapped__);return dt.__actions__=Hu(this.__actions__),dt.__dir__=this.__dir__,dt.__filtered__=this.__filtered__,dt.__iteratees__=Hu(this.__iteratees__),dt.__takeCount__=this.__takeCount__,dt.__views__=Hu(this.__views__),dt}function HF(){if(this.__filtered__){var dt=new bs(this);dt.__dir__=-1,dt.__filtered__=!0}else dt=this.clone(),dt.__dir__*=-1;return dt}function Xp(){var dt=this.__wrapped__.value(),_t=this.__dir__,Dt=fs(dt),an=_t<0,En=Dt?dt.length:0,Zn=c1(0,En,this.__views__),ar=Zn.start,mr=Zn.end,Sr=mr-ar,$r=an?mr:ar-1,Hr=this.__iteratees__,_i=Hr.length,vo=0,ko=Al(Sr,this.__takeCount__);if(!Dt||!an&&En==Sr&&ko==Sr)return qF(dt,this.__actions__);var Ho=[];e:for(;Sr--&&vo<ko;){$r+=_t;for(var gs=-1,ts=dt[$r];++gs<_i;){var Ss=Hr[gs],Cs=Ss.iteratee,Cu=Ss.type,Au=Cs(ts);if(Cu==Kt)ts=Au;else if(!Au){if(Cu==Un)continue e;break e}}Ho[vo++]=ts}return Ho}bs.prototype=gm(Ol.prototype),bs.prototype.constructor=bs;function $p(dt){var _t=-1,Dt=dt==null?0:dt.length;for(this.clear();++_t<Dt;){var an=dt[_t];this.set(an[0],an[1])}}function y0(){this.__data__=Hp?Hp(null):{},this.size=0}function Rp(dt){var _t=this.has(dt)&&delete this.__data__[dt];return this.size-=_t?1:0,_t}function Zy(dt){var _t=this.__data__;if(Hp){var Dt=_t[dt];return Dt===st?s:Dt}return Js.call(_t,dt)?_t[dt]:s}function yo(dt){var _t=this.__data__;return Hp?_t[dt]!==s:Js.call(_t,dt)}function DU(dt,_t){var Dt=this.__data__;return this.size+=this.has(dt)?0:1,Dt[dt]=Hp&&_t===s?st:_t,this}$p.prototype.clear=y0,$p.prototype.delete=Rp,$p.prototype.get=Zy,$p.prototype.has=yo,$p.prototype.set=DU;function Qp(dt){var _t=-1,Dt=dt==null?0:dt.length;for(this.clear();++_t<Dt;){var an=dt[_t];this.set(an[0],an[1])}}function ry(){this.__data__=[],this.size=0}function mm(dt){var _t=this.__data__,Dt=Om(_t,dt);if(Dt<0)return!1;var an=_t.length-1;return Dt==an?_t.pop():Mm.call(_t,Dt,1),--this.size,!0}function IU(dt){var _t=this.__data__,Dt=Om(_t,dt);return Dt<0?s:_t[Dt][1]}function JU(dt){return Om(this.__data__,dt)>-1}function iy(dt,_t){var Dt=this.__data__,an=Om(Dt,dt);return an<0?(++this.size,Dt.push([dt,_t])):Dt[an][1]=_t,this}Qp.prototype.clear=ry,Qp.prototype.delete=mm,Qp.prototype.get=IU,Qp.prototype.has=JU,Qp.prototype.set=iy;function Sp(dt){var _t=-1,Dt=dt==null?0:dt.length;for(this.clear();++_t<Dt;){var an=dt[_t];this.set(an[0],an[1])}}function z_(){this.size=0,this.__data__={hash:new $p,map:new(Dm||Qp),string:new $p}}function WU(dt){var _t=rU(this,dt).delete(dt);return this.size-=_t?1:0,_t}function j_(dt){return rU(this,dt).get(dt)}function oy(dt){return rU(this,dt).has(dt)}function zy(dt,_t){var Dt=rU(this,dt),an=Dt.size;return Dt.set(dt,_t),this.size+=Dt.size==an?0:1,this}Sp.prototype.clear=z_,Sp.prototype.delete=WU,Sp.prototype.get=j_,Sp.prototype.has=oy,Sp.prototype.set=zy;function cp(dt){var _t=-1,Dt=dt==null?0:dt.length;for(this.__data__=new Sp;++_t<Dt;)this.add(dt[_t])}function jy(dt){return this.__data__.set(dt,st),this}function Gy(dt){return this.__data__.has(dt)}cp.prototype.add=cp.prototype.push=jy,cp.prototype.has=Gy;function zu(dt){var _t=this.__data__=new Qp(dt);this.size=_t.size}function OU(){this.__data__=new Qp,this.size=0}function G_(dt){var _t=this.__data__,Dt=_t.delete(dt);return this.size=_t.size,Dt}function LU(dt){return this.__data__.get(dt)}function PU(dt){return this.__data__.has(dt)}function H_(dt,_t){var Dt=this.__data__;if(Dt instanceof Qp){var an=Dt.__data__;if(!Dm||an.length<$-1)return an.push([dt,_t]),this.size=++Dt.size,this;Dt=this.__data__=new Sp(an)}return Dt.set(dt,_t),this.size=Dt.size,this}zu.prototype.clear=OU,zu.prototype.delete=G_,zu.prototype.get=LU,zu.prototype.has=PU,zu.prototype.set=H_;function sy(dt,_t){var Dt=fs(dt),an=!Dt&&w0(dt),En=!Dt&&!an&&x0(dt),Zn=!Dt&&!an&&!En&&p_(dt),ar=Dt||an||En||Zn,mr=ar?e0(dt.length,kU):[],Sr=mr.length;for(var $r in dt)(_t||Js.call(dt,$r))&&!(ar&&($r=="length"||En&&($r=="offset"||$r=="parent")||Zn&&($r=="buffer"||$r=="byteLength"||$r=="byteOffset")||Bm($r,Sr)))&&mr.push($r);return mr}function Y_(dt){var _t=dt.length;return _t?dt[Xl(0,_t-1)]:s}function ZU(dt,_t){return aF(Hu(dt),vt(_t,0,dt.length))}function zU(dt){return aF(Hu(dt))}function ay(dt,_t,Dt){(Dt!==s&&!Ku(dt[_t],Dt)||Dt===s&&!(_t in dt))&&ct(dt,_t,Dt)}function _0(dt,_t,Dt){var an=dt[_t];(!(Js.call(dt,_t)&&Ku(an,Dt))||Dt===s&&!(_t in dt))&&ct(dt,_t,Dt)}function Om(dt,_t){for(var Dt=dt.length;Dt--;)if(Ku(dt[Dt][0],_t))return Dt;return-1}function ly(dt,_t,Dt,an){return fn(dt,function(En,Zn,ar){_t(an,En,Dt(En),ar)}),an}function ht(dt,_t){return dt&&Um(_t,Kl(_t),dt)}function it(dt,_t){return dt&&Um(_t,ku(_t),dt)}function ct(dt,_t,Dt){_t=="__proto__"&&fm?fm(dt,_t,{configurable:!0,enumerable:!0,value:Dt,writable:!0}):dt[_t]=Dt}function pt(dt,_t){for(var Dt=-1,an=_t.length,En=Ir(an),Zn=dt==null;++Dt<an;)En[Dt]=Zn?s:EF(dt,_t[Dt]);return En}function vt(dt,_t,Dt){return dt===dt&&(Dt!==s&&(dt=dt<=Dt?dt:Dt),_t!==s&&(dt=dt>=_t?dt:_t)),dt}function Rt(dt,_t,Dt,an,En,Zn){var ar,mr=_t&bt,Sr=_t&Ut,$r=_t&Ft;if(Dt&&(ar=En?Dt(dt,an,En,Zn):Dt(dt)),ar!==s)return ar;if(!xl(dt))return dt;var Hr=fs(dt);if(Hr){if(ar=IB(dt),!mr)return Hu(dt,ar)}else{var _i=iu(dt),vo=_i==Tn||_i==Xn;if(x0(dt))return nv(dt,mr);if(_i==Vo||_i==jn||vo&&!En){if(ar=Sr||vo?{}:nF(dt),!mr)return Sr?av(dt,it(ar,dt)):NB(dt,ht(ar,dt))}else{if(!jo[_i])return En?dt:{};ar=JB(dt,_i,mr)}}Zn||(Zn=new zu);var ko=Zn.get(dt);if(ko)return ko;Zn.set(dt,ar),rB(dt)?dt.forEach(function(ts){ar.add(Rt(ts,_t,Dt,ts,dt,Zn))}):f_(dt)&&dt.forEach(function(ts,Ss){ar.set(Ss,Rt(ts,_t,Dt,Ss,dt,Zn))});var Ho=$r?Sr?nU:B0:Sr?ku:Kl,gs=Hr?s:Ho(dt);return hu(gs||dt,function(ts,Ss){gs&&(Ss=ts,ts=dt[Ss]),_0(ar,Ss,Rt(ts,_t,Dt,Ss,dt,Zn))}),ar}function kt(dt){var _t=Kl(dt);return function(Dt){return Lt(Dt,dt,_t)}}function Lt(dt,_t,Dt){var an=Dt.length;if(dt==null)return!an;for(dt=Hs(dt);an--;){var En=Dt[an],Zn=_t[En],ar=dt[En];if(ar===s&&!(En in dt)||!Zn(ar))return!1}return!0}function Zt(dt,_t,Dt){if(typeof dt!="function")throw new Fu(rt);return hy(function(){dt.apply(s,Dt)},_t)}function en(dt,_t,Dt,an){var En=-1,Zn=lm,ar=!0,mr=dt.length,Sr=[],$r=_t.length;if(!mr)return Sr;Dt&&(_t=qs(_t,du(Dt))),an?(Zn=qm,ar=!1):_t.length>=$&&(Zn=j0,ar=!1,_t=new cp(_t));e:for(;++En<mr;){var Hr=dt[En],_i=Dt==null?Hr:Dt(Hr);if(Hr=an||Hr!==0?Hr:0,ar&&_i===_i){for(var vo=$r;vo--;)if(_t[vo]===_i)continue e;Sr.push(Hr)}else Zn(_t,_i,an)||Sr.push(Hr)}return Sr}var fn=Fm(On),Bn=Fm(tr,!0);function kn(dt,_t){var Dt=!0;return fn(dt,function(an,En,Zn){return Dt=!!_t(an,En,Zn),Dt}),Dt}function Pn(dt,_t,Dt){for(var an=-1,En=dt.length;++an<En;){var Zn=dt[an],ar=_t(Zn);if(ar!=null&&(mr===s?ar===ar&&!gp(ar):Dt(ar,mr)))var mr=ar,Sr=Zn}return Sr}function Jn(dt,_t,Dt,an){var En=dt.length;for(Dt=Us(Dt),Dt<0&&(Dt=-Dt>En?0:En+Dt),an=an===s||an>En?En:Us(an),an<0&&(an+=En),an=Dt>an?0:iB(an);Dt<an;)dt[Dt++]=_t;return dt}function zn(dt,_t){var Dt=[];return fn(dt,function(an,En,Zn){_t(an,En,Zn)&&Dt.push(an)}),Dt}function Nn(dt,_t,Dt,an,En){var Zn=-1,ar=dt.length;for(Dt||(Dt=u1),En||(En=[]);++Zn<ar;){var mr=dt[Zn];_t>0&&Dt(mr)?_t>1?Nn(mr,_t-1,Dt,an,En):sp(En,mr):an||(En[En.length]=mr)}return En}var Vn=xp(),Hn=xp(!0);function On(dt,_t){return dt&&Vn(dt,_t,Kl)}function tr(dt,_t){return dt&&Hn(dt,_t,Kl)}function sr(dt,_t){return ds(_t,function(Dt){return jm(dt[Dt])})}function $n(dt,_t){_t=F0(_t,dt);for(var Dt=0,an=_t.length;dt!=null&&Dt<an;)dt=dt[nm(_t[Dt++])];return Dt&&Dt==an?dt:s}function ur(dt,_t,Dt){var an=_t(dt);return fs(dt)?an:sp(an,Dt(dt))}function Ur(dt){return dt==null?dt===s?qo:ao:fu&&fu in Hs(dt)?cy(dt):m1(dt)}function Tr(dt,_t){return dt>_t}function wr(dt,_t){return dt!=null&&Js.call(dt,_t)}function qr(dt,_t){return dt!=null&&_t in Hs(dt)}function _r(dt,_t,Dt){return dt>=Al(_t,Dt)&&dt<Cl(_t,Dt)}function Pr(dt,_t,Dt){for(var an=Dt?qm:lm,En=dt[0].length,Zn=dt.length,ar=Zn,mr=Ir(Zn),Sr=1/0,$r=[];ar--;){var Hr=dt[ar];ar&&_t&&(Hr=qs(Hr,du(_t))),Sr=Al(Hr.length,Sr),mr[ar]=!Dt&&(_t||En>=120&&Hr.length>=120)?new cp(ar&&Hr):s}Hr=dt[0];var _i=-1,vo=mr[0];e:for(;++_i<En&&$r.length<Sr;){var ko=Hr[_i],Ho=_t?_t(ko):ko;if(ko=Dt||ko!==0?ko:0,!(vo?j0(vo,Ho):an($r,Ho,Dt))){for(ar=Zn;--ar;){var gs=mr[ar];if(!(gs?j0(gs,Ho):an(dt[ar],Ho,Dt)))continue e}vo&&vo.push(Ho),$r.push(ko)}}return $r}function Zr(dt,_t,Dt,an){return On(dt,function(En,Zn,ar){_t(an,Dt(En),Zn,ar)}),an}function Qr(dt,_t,Dt){_t=F0(_t,dt),dt=sF(dt,_t);var an=dt==null?dt:dt[nm($u(_t))];return an==null?s:uu(an,dt,Dt)}function gr(dt){return Dl(dt)&&Ur(dt)==jn}function co(dt){return Dl(dt)&&Ur(dt)==Wo}function no(dt){return Dl(dt)&&Ur(dt)==Ht}function so(dt,_t,Dt,an,En){return dt===_t?!0:dt==null||_t==null||!Dl(dt)&&!Dl(_t)?dt!==dt&&_t!==_t:ro(dt,_t,Dt,an,so,En)}function ro(dt,_t,Dt,an,En,Zn){var ar=fs(dt),mr=fs(_t),Sr=ar?xn:iu(dt),$r=mr?xn:iu(_t);Sr=Sr==jn?Vo:Sr,$r=$r==jn?Vo:$r;var Hr=Sr==Vo,_i=$r==Vo,vo=Sr==$r;if(vo&&x0(dt)){if(!x0(_t))return!1;ar=!0,Hr=!1}if(vo&&!Hr)return Zn||(Zn=new zu),ar||p_(dt)?$l(dt,_t,Dt,an,En,Zn):l1(dt,_t,Sr,Dt,an,En,Zn);if(!(Dt&yt)){var ko=Hr&&Js.call(dt,"__wrapped__"),Ho=_i&&Js.call(_t,"__wrapped__");if(ko||Ho){var gs=ko?dt.value():dt,ts=Ho?_t.value():_t;return Zn||(Zn=new zu),En(gs,ts,Dt,an,Zn)}}return vo?(Zn||(Zn=new zu),vm(dt,_t,Dt,an,En,Zn)):!1}function Ro(dt){return Dl(dt)&&iu(dt)==or}function Io(dt,_t,Dt,an){var En=Dt.length,Zn=En,ar=!an;if(dt==null)return!Zn;for(dt=Hs(dt);En--;){var mr=Dt[En];if(ar&&mr[2]?mr[1]!==dt[mr[0]]:!(mr[0]in dt))return!1}for(;++En<Zn;){mr=Dt[En];var Sr=mr[0],$r=dt[Sr],Hr=mr[1];if(ar&&mr[2]){if($r===s&&!(Sr in dt))return!1}else{var _i=new zu;if(an)var vo=an($r,Hr,Sr,dt,_t,_i);if(!(vo===s?so(Hr,$r,yt|Qt,an,_i):vo))return!1}}return!0}function No(dt){if(!xl(dt)||iF(dt))return!1;var _t=jm(dt)?h0:mo;return _t.test(rm(dt))}function xo(dt){return Dl(dt)&&Ur(dt)==_o}function io(dt){return Dl(dt)&&iu(dt)==Qo}function Yo(dt){return Dl(dt)&&T0(dt.length)&&!!Co[Ur(dt)]}function rs(dt){return typeof dt=="function"?dt:dt==null?_d:typeof dt=="object"?fs(dt)?up(dt[0],dt[1]):tu(dt):wB(dt)}function Ns(dt){if(!e_(dt))return Wy(dt);var _t=[];for(var Dt in Hs(dt))Js.call(dt,Dt)&&Dt!="constructor"&&_t.push(Dt);return _t}function Ds(dt){if(!xl(dt))return g1(dt);var _t=e_(dt),Dt=[];for(var an in dt)an=="constructor"&&(_t||!Js.call(dt,an))||Dt.push(an);return Dt}function Ts(dt,_t){return dt<_t}function Vl(dt,_t){var Dt=-1,an=_h(dt)?Ir(dt.length):[];return fn(dt,function(En,Zn,ar){an[++Dt]=_t(En,Zn,ar)}),an}function tu(dt){var _t=cv(dt);return _t.length==1&&_t[0][2]?p1(_t[0][0],_t[0][1]):function(Dt){return Dt===dt||Io(Dt,dt,_t)}}function up(dt,_t){return rF(dt)&&f1(_t)?p1(nm(dt),_t):function(Dt){var an=EF(Dt,dt);return an===s&&an===_t?wF(Dt,dt):so(_t,an,yt|Qt)}}function Is(dt,_t,Dt,an,En){dt!==_t&&Vn(_t,function(Zn,ar){if(En||(En=new zu),xl(Zn))ba(dt,_t,ar,Dt,Is,an,En);else{var mr=an?an(uy(dt,ar),Zn,ar+"",dt,_t,En):s;mr===s&&(mr=Zn),ay(dt,ar,mr)}},ku)}function ba(dt,_t,Dt,an,En,Zn,ar){var mr=uy(dt,Dt),Sr=uy(_t,Dt),$r=ar.get(Sr);if($r){ay(dt,Dt,$r);return}var Hr=Zn?Zn(mr,Sr,Dt+"",dt,_t,ar):s,_i=Hr===s;if(_i){var vo=fs(Sr),ko=!vo&&x0(Sr),Ho=!vo&&!ko&&p_(Sr);Hr=Sr,vo||ko||Ho?fs(mr)?Hr=mr:Pl(mr)?Hr=Hu(mr):ko?(_i=!1,Hr=nv(Sr,!0)):Ho?(_i=!1,Hr=$_(Sr,!0)):Hr=[]:Em(Sr)||w0(Sr)?(Hr=mr,w0(mr)?Hr=QF(mr):(!xl(mr)||jm(mr))&&(Hr=nF(Sr))):_i=!1}_i&&(ar.set(Sr,Hr),En(Hr,Sr,an,Zn,ar),ar.delete(Sr)),ay(dt,Dt,Hr)}function ks(dt,_t){var Dt=dt.length;if(Dt)return _t+=_t<0?Dt:0,Bm(_t,Dt)?dt[_t]:s}function Ql(dt,_t,Dt){_t.length?_t=qs(_t,function(Zn){return fs(Zn)?function(ar){return $n(ar,Zn.length===1?Zn[0]:Zn)}:Zn}):_t=[_d];var an=-1;_t=qs(_t,du(Xo()));var En=Vl(dt,function(Zn,ar,mr){var Sr=qs(_t,function($r){return $r(Zn)});return{criteria:Sr,index:++an,value:Zn}});return EU(En,function(Zn,ar){return qU(Zn,ar,Dt)})}function nu(dt,_t){return Ws(dt,_t,function(Dt,an){return wF(dt,an)})}function Ws(dt,_t,Dt){for(var an=-1,En=_t.length,Zn={};++an<En;){var ar=_t[an],mr=$n(dt,ar);Dt(mr,ar)&&pu(Zn,F0(ar,dt),mr)}return Zn}function bu(dt){return function(_t){return $n(_t,dt)}}function qp(dt,_t,Dt,an){var En=an?k_:ap,Zn=-1,ar=_t.length,mr=dt;for(dt===_t&&(_t=Hu(_t)),Dt&&(mr=qs(dt,du(Dt)));++Zn<ar;)for(var Sr=0,$r=_t[Zn],Hr=Dt?Dt($r):$r;(Sr=En(mr,Hr,Sr,an))>-1;)mr!==dt&&Mm.call(mr,Sr,1),Mm.call(dt,Sr,1);return dt}function ju(dt,_t){for(var Dt=dt?_t.length:0,an=Dt-1;Dt--;){var En=_t[Dt];if(Dt==an||En!==Zn){var Zn=En;Bm(En)?Mm.call(dt,En,1):HU(dt,En)}}return dt}function Xl(dt,_t){return dt+g0(ty()*(_t-dt+1))}function U0(dt,_t,Dt,an){for(var En=-1,Zn=Cl(q0((_t-dt)/(Dt||1)),0),ar=Ir(Zn);Zn--;)ar[an?Zn:++En]=dt,dt+=Dt;return ar}function Ep(dt,_t){var Dt="";if(!dt||_t<1||_t>dn)return Dt;do _t%2&&(Dt+=dt),_t=g0(_t/2),_t&&(dt+=dt);while(_t);return Dt}function Go(dt,_t){return n_(tm(dt,_t,_d),dt+"")}function wp(dt){return Y_(__(dt))}function ym(dt,_t){var Dt=__(dt);return aF(Dt,vt(_t,0,Dt.length))}function pu(dt,_t,Dt,an){if(!xl(dt))return dt;_t=F0(_t,dt);for(var En=-1,Zn=_t.length,ar=Zn-1,mr=dt;mr!=null&&++En<Zn;){var Sr=nm(_t[En]),$r=Dt;if(Sr==="__proto__"||Sr==="constructor"||Sr==="prototype")return dt;if(En!=ar){var Hr=mr[Sr];$r=an?an(Hr,Sr,mr):s,$r===s&&($r=xl(Hr)?Hr:Bm(_t[En+1])?[]:{})}_0(mr,Sr,$r),mr=mr[Sr]}return dt}var Hy=ny?function(dt,_t){return ny.set(dt,_t),dt}:_d,jU=fm?function(dt,_t){return fm(dt,"toString",{configurable:!0,enumerable:!1,value:NF(_t),writable:!0})}:_d;function n1(dt){return aF(__(dt))}function hp(dt,_t,Dt){var an=-1,En=dt.length;_t<0&&(_t=-_t>En?0:En+_t),Dt=Dt>En?En:Dt,Dt<0&&(Dt+=En),En=_t>Dt?0:Dt-_t>>>0,_t>>>=0;for(var Zn=Ir(En);++an<En;)Zn[an]=dt[an+_t];return Zn}function r1(dt,_t){var Dt;return fn(dt,function(an,En,Zn){return Dt=_t(an,En,Zn),!Dt}),!!Dt}function Yy(dt,_t,Dt){var an=0,En=dt==null?an:dt.length;if(typeof _t=="number"&&_t===_t&&En<=Wn){for(;an<En;){var Zn=an+En>>>1,ar=dt[Zn];ar!==null&&!gp(ar)&&(Dt?ar<=_t:ar<_t)?an=Zn+1:En=Zn}return En}return GU(dt,_t,_d,Dt)}function GU(dt,_t,Dt,an){var En=0,Zn=dt==null?0:dt.length;if(Zn===0)return 0;_t=Dt(_t);for(var ar=_t!==_t,mr=_t===null,Sr=gp(_t),$r=_t===s;En<Zn;){var Hr=g0((En+Zn)/2),_i=Dt(dt[Hr]),vo=_i!==s,ko=_i===null,Ho=_i===_i,gs=gp(_i);if(ar)var ts=an||Ho;else $r?ts=Ho&&(an||vo):mr?ts=Ho&&vo&&(an||!ko):Sr?ts=Ho&&vo&&!ko&&(an||!gs):ko||gs?ts=!1:ts=an?_i<=_t:_i<_t;ts?En=Hr+1:Zn=Hr}return Al(Zn,vn)}function YF(dt,_t){for(var Dt=-1,an=dt.length,En=0,Zn=[];++Dt<an;){var ar=dt[Dt],mr=_t?_t(ar):ar;if(!Dt||!Ku(mr,Sr)){var Sr=mr;Zn[En++]=ar===0?0:ar}}return Zn}function XF(dt){return typeof dt=="number"?dt:gp(dt)?It:+dt}function Gu(dt){if(typeof dt=="string")return dt;if(fs(dt))return qs(dt,Gu)+"";if(gp(dt))return Py?Py.call(dt):"";var _t=dt+"";return _t=="0"&&1/dt==-hn?"-0":_t}function Lm(dt,_t,Dt){var an=-1,En=lm,Zn=dt.length,ar=!0,mr=[],Sr=mr;if(Dt)ar=!1,En=qm;else if(Zn>=$){var $r=_t?null:a1(dt);if($r)return Ay($r);ar=!1,En=j0,Sr=new cp}else Sr=_t?[]:mr;e:for(;++an<Zn;){var Hr=dt[an],_i=_t?_t(Hr):Hr;if(Hr=Dt||Hr!==0?Hr:0,ar&&_i===_i){for(var vo=Sr.length;vo--;)if(Sr[vo]===_i)continue e;_t&&Sr.push(_i),mr.push(Hr)}else En(Sr,_i,Dt)||(Sr!==mr&&Sr.push(_i),mr.push(Hr))}return mr}function HU(dt,_t){return _t=F0(_t,dt),dt=sF(dt,_t),dt==null||delete dt[nm($u(_t))]}function $F(dt,_t,Dt,an){return pu(dt,_t,Dt($n(dt,_t)),an)}function X_(dt,_t,Dt,an){for(var En=dt.length,Zn=an?En:-1;(an?Zn--:++Zn<En)&&_t(dt[Zn],Zn,dt););return Dt?hp(dt,an?0:Zn,an?Zn+1:En):hp(dt,an?Zn+1:0,an?En:Zn)}function qF(dt,_t){var Dt=dt;return Dt instanceof bs&&(Dt=Dt.value()),Sy(_t,function(an,En){return En.func.apply(En.thisArg,sp([an],En.args))},Dt)}function YU(dt,_t,Dt){var an=dt.length;if(an<2)return an?Lm(dt[0]):[];for(var En=-1,Zn=Ir(an);++En<an;)for(var ar=dt[En],mr=-1;++mr<an;)mr!=En&&(Zn[En]=en(Zn[En]||ar,dt[mr],_t,Dt));return Lm(Nn(Zn,1),_t,Dt)}function KF(dt,_t,Dt){for(var an=-1,En=dt.length,Zn=_t.length,ar={};++an<En;){var mr=an<Zn?_t[an]:s;Dt(ar,dt[an],mr)}return ar}function XU(dt){return Pl(dt)?dt:[]}function ev(dt){return typeof dt=="function"?dt:_d}function F0(dt,_t){return fs(dt)?dt:rF(dt,_t)?[dt]:lF(Ps(dt))}var Xy=Go;function Pm(dt,_t,Dt){var an=dt.length;return Dt=Dt===s?an:Dt,!_t&&Dt>=an?dt:hp(dt,_t,Dt)}var tv=go||function(dt){return yl.clearTimeout(dt)};function nv(dt,_t){if(_t)return dt.slice();var Dt=dt.length,an=Jy?Jy(Dt):new dt.constructor(Dt);return dt.copy(an),an}function rv(dt){var _t=new dt.constructor(dt.byteLength);return new f0(_t).set(new f0(dt)),_t}function $U(dt,_t){var Dt=_t?rv(dt.buffer):dt.buffer;return new dt.constructor(Dt,dt.byteOffset,dt.byteLength)}function i1(dt){var _t=new dt.constructor(dt.source,Lr.exec(dt));return _t.lastIndex=dt.lastIndex,_t}function iv(dt){return Yp?Hs(Yp.call(dt)):{}}function $_(dt,_t){var Dt=_t?rv(dt.buffer):dt.buffer;return new dt.constructor(Dt,dt.byteOffset,dt.length)}function _m(dt,_t){if(dt!==_t){var Dt=dt!==s,an=dt===null,En=dt===dt,Zn=gp(dt),ar=_t!==s,mr=_t===null,Sr=_t===_t,$r=gp(_t);if(!mr&&!$r&&!Zn&&dt>_t||Zn&&ar&&Sr&&!mr&&!$r||an&&ar&&Sr||!Dt&&Sr||!En)return 1;if(!an&&!Zn&&!$r&&dt<_t||$r&&Dt&&En&&!an&&!Zn||mr&&Dt&&En||!ar&&En||!Sr)return-1}return 0}function qU(dt,_t,Dt){for(var an=-1,En=dt.criteria,Zn=_t.criteria,ar=En.length,mr=Dt.length;++an<ar;){var Sr=_m(En[an],Zn[an]);if(Sr){if(an>=mr)return Sr;var $r=Dt[an];return Sr*($r=="desc"?-1:1)}}return dt.index-_t.index}function ov(dt,_t,Dt,an){for(var En=-1,Zn=dt.length,ar=Dt.length,mr=-1,Sr=_t.length,$r=Cl(Zn-ar,0),Hr=Ir(Sr+$r),_i=!an;++mr<Sr;)Hr[mr]=_t[mr];for(;++En<ar;)(_i||En<Zn)&&(Hr[Dt[En]]=dt[En]);for(;$r--;)Hr[mr++]=dt[En++];return Hr}function sv(dt,_t,Dt,an){for(var En=-1,Zn=dt.length,ar=-1,mr=Dt.length,Sr=-1,$r=_t.length,Hr=Cl(Zn-mr,0),_i=Ir(Hr+$r),vo=!an;++En<Hr;)_i[En]=dt[En];for(var ko=En;++Sr<$r;)_i[ko+Sr]=_t[Sr];for(;++ar<mr;)(vo||En<Zn)&&(_i[ko+Dt[ar]]=dt[En++]);return _i}function Hu(dt,_t){var Dt=-1,an=dt.length;for(_t||(_t=Ir(an));++Dt<an;)_t[Dt]=dt[Dt];return _t}function Um(dt,_t,Dt,an){var En=!Dt;Dt||(Dt={});for(var Zn=-1,ar=_t.length;++Zn<ar;){var mr=_t[Zn],Sr=an?an(Dt[mr],dt[mr],mr,Dt,dt):s;Sr===s&&(Sr=dt[mr]),En?ct(Dt,mr,Sr):_0(Dt,mr,Sr)}return Dt}function NB(dt,_t){return Um(dt,Ky(dt),_t)}function av(dt,_t){return Um(dt,iU(dt),_t)}function v0(dt,_t){return function(Dt,an){var En=fs(Dt)?x_:ly,Zn=_t?_t():{};return En(Dt,dt,Xo(an,2),Zn)}}function Kp(dt){return Go(function(_t,Dt){var an=-1,En=Dt.length,Zn=En>1?Dt[En-1]:s,ar=En>2?Dt[2]:s;for(Zn=dt.length>3&&typeof Zn=="function"?(En--,Zn):s,ar&&Ll(Dt[0],Dt[1],ar)&&(Zn=En<3?s:Zn,En=1),_t=Hs(_t);++an<En;){var mr=Dt[an];mr&&dt(_t,mr,an,Zn)}return _t})}function Fm(dt,_t){return function(Dt,an){if(Dt==null)return Dt;if(!_h(Dt))return dt(Dt,an);for(var En=Dt.length,Zn=_t?En:-1,ar=Hs(Dt);(_t?Zn--:++Zn<En)&&an(ar[Zn],Zn,ar)!==!1;);return Dt}}function xp(dt){return function(_t,Dt,an){for(var En=-1,Zn=Hs(_t),ar=an(_t),mr=ar.length;mr--;){var Sr=ar[dt?mr:++En];if(Dt(Zn[Sr],Sr,Zn)===!1)break}return _t}}function b0(dt,_t,Dt){var an=_t&wt,En=q_(dt);function Zn(){var ar=this&&this!==yl&&this instanceof Zn?En:dt;return ar.apply(an?Dt:this,arguments)}return Zn}function Zm(dt){return function(_t){_t=Ps(_t);var Dt=Nm(_t)?Eu(_t):s,an=Dt?Dt[0]:_t.charAt(0),En=Dt?Pm(Dt,1).join(""):_t.slice(1);return an[dt]()+En}}function Tp(dt){return function(_t){return Sy(b_(Ov(_t).replace(Br,"")),dt,"")}}function q_(dt){return function(){var _t=arguments;switch(_t.length){case 0:return new dt;case 1:return new dt(_t[0]);case 2:return new dt(_t[0],_t[1]);case 3:return new dt(_t[0],_t[1],_t[2]);case 4:return new dt(_t[0],_t[1],_t[2],_t[3]);case 5:return new dt(_t[0],_t[1],_t[2],_t[3],_t[4]);case 6:return new dt(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]);case 7:return new dt(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5],_t[6])}var Dt=gm(dt.prototype),an=dt.apply(Dt,_t);return xl(an)?an:Dt}}function MB(dt,_t,Dt){var an=q_(dt);function En(){for(var Zn=arguments.length,ar=Ir(Zn),mr=Zn,Sr=qy(En);mr--;)ar[mr]=arguments[mr];var $r=Zn<3&&ar[0]!==Sr&&ar[Zn-1]!==Sr?[]:Fp(ar,Sr);if(Zn-=$r.length,Zn<Dt)return tU(dt,_t,K_,En.placeholder,s,ar,$r,s,s,Dt-Zn);var Hr=this&&this!==yl&&this instanceof En?an:dt;return uu(Hr,this,ar)}return En}function o1(dt){return function(_t,Dt,an){var En=Hs(_t);if(!_h(_t)){var Zn=Xo(Dt,3);_t=Kl(_t),Dt=function(mr){return Zn(En[mr],mr,En)}}var ar=dt(_t,Dt,an);return ar>-1?En[Zn?_t[ar]:ar]:s}}function s1(dt){return bm(function(_t){var Dt=_t.length,an=Dt,En=vu.prototype.thru;for(dt&&_t.reverse();an--;){var Zn=_t[an];if(typeof Zn!="function")throw new Fu(rt);if(En&&!ar&&$y(Zn)=="wrapper")var ar=new vu([],!0)}for(an=ar?an:Dt;++an<Dt;){Zn=_t[an];var mr=$y(Zn),Sr=mr=="wrapper"?tF(Zn):s;Sr&&Q0(Sr[0])&&Sr[1]==(nn|At|St|yn)&&!Sr[4].length&&Sr[9]==1?ar=ar[$y(Sr[0])].apply(ar,Sr[3]):ar=Zn.length==1&&Q0(Zn)?ar[mr]():ar.thru(Zn)}return function(){var $r=arguments,Hr=$r[0];if(ar&&$r.length==1&&fs(Hr))return ar.plant(Hr).value();for(var _i=0,vo=Dt?_t[_i].apply(this,$r):Hr;++_i<Dt;)vo=_t[_i].call(this,vo);return vo}})}function K_(dt,_t,Dt,an,En,Zn,ar,mr,Sr,$r){var Hr=_t&nn,_i=_t&wt,vo=_t&Tt,ko=_t&(At|Nt),Ho=_t&Ct,gs=vo?s:q_(dt);function ts(){for(var Ss=arguments.length,Cs=Ir(Ss),Cu=Ss;Cu--;)Cs[Cu]=arguments[Cu];if(ko)var Au=qy(ts),_f=wU(Cs,Au);if(an&&(Cs=ov(Cs,an,En,ko)),Zn&&(Cs=sv(Cs,Zn,ar,ko)),Ss-=_f,ko&&Ss<$r){var Il=Fp(Cs,Au);return tU(dt,_t,K_,ts.placeholder,Dt,Cs,Il,mr,Sr,$r-Ss)}var Vp=_i?Dt:this,Tm=vo?Vp[dt]:dt;return Ss=Cs.length,mr?Cs=t_(Cs,mr):Ho&&Ss>1&&Cs.reverse(),Hr&&Sr<Ss&&(Cs.length=Sr),this&&this!==yl&&this instanceof ts&&(Tm=gs||q_(Tm)),Tm.apply(Vp,Cs)}return ts}function eU(dt,_t){return function(Dt,an){return Zr(Dt,dt,_t(an),{})}}function Yu(dt,_t){return function(Dt,an){var En;if(Dt===s&&an===s)return _t;if(Dt!==s&&(En=Dt),an!==s){if(En===s)return an;typeof Dt=="string"||typeof an=="string"?(Dt=Gu(Dt),an=Gu(an)):(Dt=XF(Dt),an=XF(an)),En=dt(Dt,an)}return En}}function lv(dt){return bm(function(_t){return _t=qs(_t,du(Xo())),Go(function(Dt){var an=this;return dt(_t,function(En){return uu(En,an,Dt)})})})}function KU(dt,_t){_t=_t===s?" ":Gu(_t);var Dt=_t.length;if(Dt<2)return Dt?Ep(_t,dt):_t;var an=Ep(_t,q0(dt/o0(_t)));return Nm(_t)?Pm(Eu(an),0,dt).join(""):an.slice(0,dt)}function Nl(dt,_t,Dt,an){var En=_t&wt,Zn=q_(dt);function ar(){for(var mr=-1,Sr=arguments.length,$r=-1,Hr=an.length,_i=Ir(Hr+Sr),vo=this&&this!==yl&&this instanceof ar?Zn:dt;++$r<Hr;)_i[$r]=an[$r];for(;Sr--;)_i[$r++]=arguments[++mr];return uu(vo,En?Dt:this,_i)}return ar}function Lo(dt){return function(_t,Dt,an){return an&&typeof an!="number"&&Ll(_t,Dt,an)&&(Dt=an=s),_t=wm(_t),Dt===s?(Dt=_t,_t=0):Dt=wm(Dt),an=an===s?_t<Dt?1:-1:wm(an),U0(_t,Dt,an,dt)}}function _g(dt){return function(_t,Dt){return typeof _t=="string"&&typeof Dt=="string"||(_t=Ap(_t),Dt=Ap(Dt)),dt(_t,Dt)}}function tU(dt,_t,Dt,an,En,Zn,ar,mr,Sr,$r){var Hr=_t&At,_i=Hr?ar:s,vo=Hr?s:ar,ko=Hr?Zn:s,Ho=Hr?s:Zn;_t|=Hr?St:Ot,_t&=~(Hr?Ot:St),_t&Jt||(_t&=~(wt|Tt));var gs=[dt,_t,En,ko,_i,Ho,vo,mr,Sr,$r],ts=Dt.apply(s,gs);return Q0(dt)&&S0(ts,gs),ts.placeholder=an,dv(ts,dt,_t)}function Bs(dt){var _t=Sl[dt];return function(Dt,an){if(Dt=Ap(Dt),an=an==null?0:Al(Us(an),292),an&&ey(Dt)){var En=(Ps(Dt)+"e").split("e"),Zn=_t(En[0]+"e"+(+En[1]+an));return En=(Ps(Zn)+"e").split("e"),+(En[0]+"e"+(+En[1]-an))}return _t(Dt)}}var a1=Gp&&1/Ay(new Gp([,-0]))[1]==hn?function(dt){return new Gp(dt)}:_y;function eF(dt){return function(_t){var Dt=iu(_t);return Dt==or?r0(_t):Dt==Qo?H0(_t):N_(_t,dt(_t))}}function ru(dt,_t,Dt,an,En,Zn,ar,mr){var Sr=_t&Tt;if(!Sr&&typeof dt!="function")throw new Fu(rt);var $r=an?an.length:0;if($r||(_t&=~(St|Ot),an=En=s),ar=ar===s?ar:Cl(Us(ar),0),mr=mr===s?mr:Us(mr),$r-=En?En.length:0,_t&Ot){var Hr=an,_i=En;an=En=s}var vo=Sr?s:tF(dt),ko=[dt,_t,Dt,an,En,Hr,_i,Zn,ar,mr];if(vo&&Xu(ko,vo),dt=ko[0],_t=ko[1],Dt=ko[2],an=ko[3],En=ko[4],mr=ko[9]=ko[9]===s?Sr?0:dt.length:Cl(ko[9]-$r,0),!mr&&_t&(At|Nt)&&(_t&=~(At|Nt)),!_t||_t==wt)var Ho=b0(dt,_t,Dt);else _t==At||_t==Nt?Ho=MB(dt,_t,mr):(_t==St||_t==(wt|St))&&!En.length?Ho=Nl(dt,_t,Dt,an):Ho=K_.apply(s,ko);var gs=vo?Hy:S0;return dv(gs(Ho,ko),dt,_t)}function em(dt,_t,Dt,an){return dt===s||Ku(dt,um[Dt])&&!Js.call(an,Dt)?_t:dt}function dp(dt,_t,Dt,an,En,Zn){return xl(dt)&&xl(_t)&&(Zn.set(_t,dt),Is(dt,_t,s,dp,Zn),Zn.delete(_t)),dt}function fp(dt){return Em(dt)?s:dt}function $l(dt,_t,Dt,an,En,Zn){var ar=Dt&yt,mr=dt.length,Sr=_t.length;if(mr!=Sr&&!(ar&&Sr>mr))return!1;var $r=Zn.get(dt),Hr=Zn.get(_t);if($r&&Hr)return $r==_t&&Hr==dt;var _i=-1,vo=!0,ko=Dt&Qt?new cp:s;for(Zn.set(dt,_t),Zn.set(_t,dt);++_i<mr;){var Ho=dt[_i],gs=_t[_i];if(an)var ts=ar?an(gs,Ho,_i,_t,dt,Zn):an(Ho,gs,_i,dt,_t,Zn);if(ts!==s){if(ts)continue;vo=!1;break}if(ko){if(!W0(_t,function(Ss,Cs){if(!j0(ko,Cs)&&(Ho===Ss||En(Ho,Ss,Dt,an,Zn)))return ko.push(Cs)})){vo=!1;break}}else if(!(Ho===gs||En(Ho,gs,Dt,an,Zn))){vo=!1;break}}return Zn.delete(dt),Zn.delete(_t),vo}function l1(dt,_t,Dt,an,En,Zn,ar){switch(Dt){case Fl:if(dt.byteLength!=_t.byteLength||dt.byteOffset!=_t.byteOffset)return!1;dt=dt.buffer,_t=_t.buffer;case Wo:return!(dt.byteLength!=_t.byteLength||!Zn(new f0(dt),new f0(_t)));case jt:case Ht:case Rr:return Ku(+dt,+_t);case Dn:return dt.name==_t.name&&dt.message==_t.message;case _o:case zo:return dt==_t+"";case or:var mr=r0;case Qo:var Sr=an&yt;if(mr||(mr=Ay),dt.size!=_t.size&&!Sr)return!1;var $r=ar.get(dt);if($r)return $r==_t;an|=Qt,ar.set(dt,_t);var Hr=$l(mr(dt),mr(_t),an,En,Zn,ar);return ar.delete(dt),Hr;case Ao:if(Yp)return Yp.call(dt)==Yp.call(_t)}return!1}function vm(dt,_t,Dt,an,En,Zn){var ar=Dt&yt,mr=B0(dt),Sr=mr.length,$r=B0(_t),Hr=$r.length;if(Sr!=Hr&&!ar)return!1;for(var _i=Sr;_i--;){var vo=mr[_i];if(!(ar?vo in _t:Js.call(_t,vo)))return!1}var ko=Zn.get(dt),Ho=Zn.get(_t);if(ko&&Ho)return ko==_t&&Ho==dt;var gs=!0;Zn.set(dt,_t),Zn.set(_t,dt);for(var ts=ar;++_i<Sr;){vo=mr[_i];var Ss=dt[vo],Cs=_t[vo];if(an)var Cu=ar?an(Cs,Ss,vo,_t,dt,Zn):an(Ss,Cs,vo,dt,_t,Zn);if(!(Cu===s?Ss===Cs||En(Ss,Cs,Dt,an,Zn):Cu)){gs=!1;break}ts||(ts=vo=="constructor")}if(gs&&!ts){var Au=dt.constructor,_f=_t.constructor;Au!=_f&&"constructor"in dt&&"constructor"in _t&&!(typeof Au=="function"&&Au instanceof Au&&typeof _f=="function"&&_f instanceof _f)&&(gs=!1)}return Zn.delete(dt),Zn.delete(_t),gs}function bm(dt){return n_(tm(dt,s,U1),dt+"")}function B0(dt){return ur(dt,Kl,Ky)}function nU(dt){return ur(dt,ku,iU)}var tF=ny?function(dt){return ny.get(dt)}:_y;function $y(dt){for(var _t=dt.name+"",Dt=Im[_t],an=Js.call(Im,_t)?Dt.length:0;an--;){var En=Dt[an],Zn=En.func;if(Zn==null||Zn==dt)return En.name}return _t}function qy(dt){var _t=Js.call(In,"placeholder")?In:dt;return _t.placeholder}function Xo(){var dt=In.iteratee||Gv;return dt=dt===Gv?rs:dt,arguments.length?dt(arguments[0],arguments[1]):dt}function rU(dt,_t){var Dt=dt.__data__;return WB(_t)?Dt[typeof _t=="string"?"string":"hash"]:Dt.map}function cv(dt){for(var _t=Kl(dt),Dt=_t.length;Dt--;){var an=_t[Dt],En=dt[an];_t[Dt]=[an,En,f1(En)]}return _t}function Tu(dt,_t){var Dt=M_(dt,_t);return No(Dt)?Dt:s}function cy(dt){var _t=Js.call(dt,fu),Dt=dt[fu];try{dt[fu]=s;var an=!0}catch{}var En=Zu.call(dt);return an&&(_t?dt[fu]=Dt:delete dt[fu]),En}var Ky=lp?function(dt){return dt==null?[]:(dt=Hs(dt),ds(lp(dt),function(_t){return dm.call(dt,_t)}))}:IF,iU=lp?function(dt){for(var _t=[];dt;)sp(_t,Ky(dt)),dt=hm(dt);return _t}:IF,iu=Ur;(m0&&iu(new m0(new ArrayBuffer(1)))!=Fl||Dm&&iu(new Dm)!=or||Oy&&iu(Oy.resolve())!=bo||Gp&&iu(new Gp)!=Qo||pm&&iu(new pm)!=Do)&&(iu=function(dt){var _t=Ur(dt),Dt=_t==Vo?dt.constructor:s,an=Dt?rm(Dt):"";if(an)switch(an){case Ly:return Fl;case NU:return or;case Z_:return bo;case Jm:return Qo;case MU:return Do}return _t});function c1(dt,_t,Dt){for(var an=-1,En=Dt.length;++an<En;){var Zn=Dt[an],ar=Zn.size;switch(Zn.type){case"drop":dt+=ar;break;case"dropRight":_t-=ar;break;case"take":_t=Al(_t,dt+ar);break;case"takeRight":dt=Cl(dt,_t-ar);break}}return{start:dt,end:_t}}function DB(dt){var _t=dt.match(pr);return _t?_t[1].split(yr):[]}function uv(dt,_t,Dt){_t=F0(_t,dt);for(var an=-1,En=_t.length,Zn=!1;++an<En;){var ar=nm(_t[an]);if(!(Zn=dt!=null&&Dt(dt,ar)))break;dt=dt[ar]}return Zn||++an!=En?Zn:(En=dt==null?0:dt.length,!!En&&T0(En)&&Bm(ar,En)&&(fs(dt)||w0(dt)))}function IB(dt){var _t=dt.length,Dt=new dt.constructor(_t);return _t&&typeof dt[0]=="string"&&Js.call(dt,"index")&&(Dt.index=dt.index,Dt.input=dt.input),Dt}function nF(dt){return typeof dt.constructor=="function"&&!e_(dt)?gm(hm(dt)):{}}function JB(dt,_t,Dt){var an=dt.constructor;switch(_t){case Wo:return rv(dt);case jt:case Ht:return new an(+dt);case Fl:return $U(dt,Dt);case ys:case Ys:case ss:case su:case Xs:case _l:case tp:case Uu:case Su:return $_(dt,Dt);case or:return new an;case Rr:case zo:return new an(dt);case _o:return i1(dt);case Qo:return new an;case Ao:return iv(dt)}}function hv(dt,_t){var Dt=_t.length;if(!Dt)return dt;var an=Dt-1;return _t[an]=(Dt>1?"& ":"")+_t[an],_t=_t.join(Dt>2?", ":" "),dt.replace(er,`{
/* [wrapped with `+_t+`] */
`)}function u1(dt){return fs(dt)||w0(dt)||!!(Y0&&dt&&dt[Y0])}function Bm(dt,_t){var Dt=typeof dt;return _t=_t??dn,!!_t&&(Dt=="number"||Dt!="symbol"&&Oo.test(dt))&&dt>-1&&dt%1==0&&dt<_t}function Ll(dt,_t,Dt){if(!xl(Dt))return!1;var an=typeof _t;return(an=="number"?_h(Dt)&&Bm(_t,Dt.length):an=="string"&&_t in Dt)?Ku(Dt[_t],dt):!1}function rF(dt,_t){if(fs(dt))return!1;var Dt=typeof dt;return Dt=="number"||Dt=="symbol"||Dt=="boolean"||dt==null||gp(dt)?!0:Jr.test(dt)||!Nr.test(dt)||_t!=null&&dt in Hs(_t)}function WB(dt){var _t=typeof dt;return _t=="string"||_t=="number"||_t=="symbol"||_t=="boolean"?dt!=="__proto__":dt===null}function Q0(dt){var _t=$y(dt),Dt=In[_t];if(typeof Dt!="function"||!(_t in bs.prototype))return!1;if(dt===Dt)return!0;var an=tF(Dt);return!!an&&dt===an[0]}function iF(dt){return!!Qs&&Qs in dt}var d1=Pu?jm:JF;function e_(dt){var _t=dt&&dt.constructor,Dt=typeof _t=="function"&&_t.prototype||um;return dt===Dt}function f1(dt){return dt===dt&&!xl(dt)}function p1(dt,_t){return function(Dt){return Dt==null?!1:Dt[dt]===_t&&(_t!==s||dt in Hs(Dt))}}function oF(dt){var _t=pU(dt,function(an){return Dt.size===lt&&Dt.clear(),an}),Dt=_t.cache;return _t}function Xu(dt,_t){var Dt=dt[1],an=_t[1],En=Dt|an,Zn=En<(wt|Tt|nn),ar=an==nn&&Dt==At||an==nn&&Dt==yn&&dt[7].length<=_t[8]||an==(nn|yn)&&_t[7].length<=_t[8]&&Dt==At;if(!(Zn||ar))return dt;an&wt&&(dt[2]=_t[2],En|=Dt&wt?0:Jt);var mr=_t[3];if(mr){var Sr=dt[3];dt[3]=Sr?ov(Sr,mr,_t[4]):mr,dt[4]=Sr?Fp(dt[3],gt):_t[4]}return mr=_t[5],mr&&(Sr=dt[5],dt[5]=Sr?sv(Sr,mr,_t[6]):mr,dt[6]=Sr?Fp(dt[5],gt):_t[6]),mr=_t[7],mr&&(dt[7]=mr),an&nn&&(dt[8]=dt[8]==null?_t[8]:Al(dt[8],_t[8])),dt[9]==null&&(dt[9]=_t[9]),dt[0]=_t[0],dt[1]=En,dt}function g1(dt){var _t=[];if(dt!=null)for(var Dt in Hs(dt))_t.push(Dt);return _t}function m1(dt){return Zu.call(dt)}function tm(dt,_t,Dt){return _t=Cl(_t===s?dt.length-1:_t,0),function(){for(var an=arguments,En=-1,Zn=Cl(an.length-_t,0),ar=Ir(Zn);++En<Zn;)ar[En]=an[_t+En];En=-1;for(var mr=Ir(_t+1);++En<_t;)mr[En]=an[En];return mr[_t]=Dt(ar),uu(dt,this,mr)}}function sF(dt,_t){return _t.length<2?dt:$n(dt,hp(_t,0,-1))}function t_(dt,_t){for(var Dt=dt.length,an=Al(_t.length,Dt),En=Hu(dt);an--;){var Zn=_t[an];dt[an]=Bm(Zn,Dt)?En[Zn]:s}return dt}function uy(dt,_t){if(!(_t==="constructor"&&typeof dt[_t]=="function")&&_t!="__proto__")return dt[_t]}var S0=fv(Hy),hy=L_||function(dt,_t){return yl.setTimeout(dt,_t)},n_=fv(jU);function dv(dt,_t,Dt){var an=_t+"";return n_(dt,hv(an,r_(DB(an),Dt)))}function fv(dt){var _t=0,Dt=0;return function(){var an=jp(),En=tn-(an-Dt);if(Dt=an,En>0){if(++_t>=Pt)return arguments[0]}else _t=0;return dt.apply(s,arguments)}}function aF(dt,_t){var Dt=-1,an=dt.length,En=an-1;for(_t=_t===s?an:_t;++Dt<_t;){var Zn=Xl(Dt,En),ar=dt[Zn];dt[Zn]=dt[Dt],dt[Dt]=ar}return dt.length=_t,dt}var lF=oF(function(dt){var _t=[];return dt.charCodeAt(0)===46&&_t.push(""),dt.replace(Qn,function(Dt,an,En,Zn){_t.push(En?Zn.replace(kr,"$1"):an||Dt)}),_t});function nm(dt){if(typeof dt=="string"||gp(dt))return dt;var _t=dt+"";return _t=="0"&&1/dt==-hn?"-0":_t}function rm(dt){if(dt!=null){try{return Zp.call(dt)}catch{}try{return dt+""}catch{}}return""}function r_(dt,_t){return hu(Ln,function(Dt){var an="_."+Dt[0];_t&Dt[1]&&!lm(dt,an)&&dt.push(an)}),dt.sort()}function Rm(dt){if(dt instanceof bs)return dt.clone();var _t=new vu(dt.__wrapped__,dt.__chain__);return _t.__actions__=Hu(dt.__actions__),_t.__index__=dt.__index__,_t.__values__=dt.__values__,_t}function pv(dt,_t,Dt){(Dt?Ll(dt,_t,Dt):_t===s)?_t=1:_t=Cl(Us(_t),0);var an=dt==null?0:dt.length;if(!an||_t<1)return[];for(var En=0,Zn=0,ar=Ir(q0(an/_t));En<an;)ar[Zn++]=hp(dt,En,En+=_t);return ar}function y1(dt){for(var _t=-1,Dt=dt==null?0:dt.length,an=0,En=[];++_t<Dt;){var Zn=dt[_t];Zn&&(En[an++]=Zn)}return En}function oU(){var dt=arguments.length;if(!dt)return[];for(var _t=Ir(dt-1),Dt=arguments[0],an=dt;an--;)_t[an-1]=arguments[an];return sp(fs(Dt)?Hu(Dt):[Dt],Nn(_t,1))}var sU=Go(function(dt,_t){return Pl(dt)?en(dt,Nn(_t,1,Pl,!0)):[]}),pp=Go(function(dt,_t){var Dt=$u(_t);return Pl(Dt)&&(Dt=s),Pl(dt)?en(dt,Nn(_t,1,Pl,!0),Xo(Dt,2)):[]}),aU=Go(function(dt,_t){var Dt=$u(_t);return Pl(Dt)&&(Dt=s),Pl(dt)?en(dt,Nn(_t,1,Pl,!0),s,Dt):[]});function Bu(dt,_t,Dt){var an=dt==null?0:dt.length;return an?(_t=Dt||_t===s?1:Us(_t),hp(dt,_t<0?0:_t,an)):[]}function kp(dt,_t,Dt){var an=dt==null?0:dt.length;return an?(_t=Dt||_t===s?1:Us(_t),_t=an-_t,hp(dt,0,_t<0?0:_t)):[]}function gv(dt,_t){return dt&&dt.length?X_(dt,Xo(_t,3),!0,!0):[]}function Ml(dt,_t){return dt&&dt.length?X_(dt,Xo(_t,3),!0):[]}function _1(dt,_t,Dt,an){var En=dt==null?0:dt.length;return En?(Dt&&typeof Dt!="number"&&Ll(dt,_t,Dt)&&(Dt=0,an=En),Jn(dt,_t,Dt,an)):[]}function i_(dt,_t,Dt){var an=dt==null?0:dt.length;if(!an)return-1;var En=Dt==null?0:Us(Dt);return En<0&&(En=Cl(an+En,0)),_s(dt,Xo(_t,3),En)}function Cp(dt,_t,Dt){var an=dt==null?0:dt.length;if(!an)return-1;var En=an-1;return Dt!==s&&(En=Us(Dt),En=Dt<0?Cl(an+En,0):Al(En,an-1)),_s(dt,Xo(_t,3),En,!0)}function U1(dt){var _t=dt==null?0:dt.length;return _t?Nn(dt,1):[]}function OB(dt){var _t=dt==null?0:dt.length;return _t?Nn(dt,hn):[]}function F1(dt,_t){var Dt=dt==null?0:dt.length;return Dt?(_t=_t===s?1:Us(_t),Nn(dt,_t)):[]}function v1(dt){for(var _t=-1,Dt=dt==null?0:dt.length,an={};++_t<Dt;){var En=dt[_t];an[En[0]]=En[1]}return an}function E0(dt){return dt&&dt.length?dt[0]:s}function b1(dt,_t,Dt){var an=dt==null?0:dt.length;if(!an)return-1;var En=Dt==null?0:Us(Dt);return En<0&&(En=Cl(an+En,0)),ap(dt,_t,En)}function R1(dt){var _t=dt==null?0:dt.length;return _t?hp(dt,0,-1):[]}var Q1=Go(function(dt){var _t=qs(dt,XU);return _t.length&&_t[0]===dt[0]?Pr(_t):[]}),S1=Go(function(dt){var _t=$u(dt),Dt=qs(dt,XU);return _t===$u(Dt)?_t=s:Dt.pop(),Dt.length&&Dt[0]===dt[0]?Pr(Dt,Xo(_t,2)):[]}),LB=Go(function(dt){var _t=$u(dt),Dt=qs(dt,XU);return _t=typeof _t=="function"?_t:s,_t&&Dt.pop(),Dt.length&&Dt[0]===dt[0]?Pr(Dt,s,_t):[]});function mv(dt,_t){return dt==null?"":P_.call(dt,_t)}function $u(dt){var _t=dt==null?0:dt.length;return _t?dt[_t-1]:s}function yv(dt,_t,Dt){var an=dt==null?0:dt.length;if(!an)return-1;var En=an;return Dt!==s&&(En=Us(Dt),En=En<0?Cl(an+En,0):Al(En,an-1)),_t===_t?Vy(dt,_t,En):_s(dt,C_,En,!0)}function Ru(dt,_t){return dt&&dt.length?ks(dt,Us(_t)):s}var E1=Go(w1);function w1(dt,_t){return dt&&dt.length&&_t&&_t.length?qp(dt,_t):dt}function x1(dt,_t,Dt){return dt&&dt.length&&_t&&_t.length?qp(dt,_t,Xo(Dt,2)):dt}function PB(dt,_t,Dt){return dt&&dt.length&&_t&&_t.length?qp(dt,_t,s,Dt):dt}var ZB=bm(function(dt,_t){var Dt=dt==null?0:dt.length,an=pt(dt,_t);return ju(dt,qs(_t,function(En){return Bm(En,Dt)?+En:En}).sort(_m)),an});function T1(dt,_t){var Dt=[];if(!(dt&&dt.length))return Dt;var an=-1,En=[],Zn=dt.length;for(_t=Xo(_t,3);++an<Zn;){var ar=dt[an];_t(ar,an,dt)&&(Dt.push(ar),En.push(an))}return ju(dt,En),Dt}function cF(dt){return dt==null?dt:VU.call(dt)}function k1(dt,_t,Dt){var an=dt==null?0:dt.length;return an?(Dt&&typeof Dt!="number"&&Ll(dt,_t,Dt)?(_t=0,Dt=an):(_t=_t==null?0:Us(_t),Dt=Dt===s?an:Us(Dt)),hp(dt,_t,Dt)):[]}function _v(dt,_t){return Yy(dt,_t)}function zm(dt,_t,Dt){return GU(dt,_t,Xo(Dt,2))}function qu(dt,_t){var Dt=dt==null?0:dt.length;if(Dt){var an=Yy(dt,_t);if(an<Dt&&Ku(dt[an],_t))return an}return-1}function zB(dt,_t){return Yy(dt,_t,!0)}function Uv(dt,_t,Dt){return GU(dt,_t,Xo(Dt,2),!0)}function jB(dt,_t){var Dt=dt==null?0:dt.length;if(Dt){var an=Yy(dt,_t,!0)-1;if(Ku(dt[an],_t))return an}return-1}function GB(dt){return dt&&dt.length?YF(dt):[]}function HB(dt,_t){return dt&&dt.length?YF(dt,Xo(_t,2)):[]}function lU(dt){var _t=dt==null?0:dt.length;return _t?hp(dt,1,_t):[]}function uF(dt,_t,Dt){return dt&&dt.length?(_t=Dt||_t===s?1:Us(_t),hp(dt,0,_t<0?0:_t)):[]}function C1(dt,_t,Dt){var an=dt==null?0:dt.length;return an?(_t=Dt||_t===s?1:Us(_t),_t=an-_t,hp(dt,_t<0?0:_t,an)):[]}function dy(dt,_t){return dt&&dt.length?X_(dt,Xo(_t,3),!1,!0):[]}function cU(dt,_t){return dt&&dt.length?X_(dt,Xo(_t,3)):[]}var YB=Go(function(dt){return Lm(Nn(dt,1,Pl,!0))}),XB=Go(function(dt){var _t=$u(dt);return Pl(_t)&&(_t=s),Lm(Nn(dt,1,Pl,!0),Xo(_t,2))}),$B=Go(function(dt){var _t=$u(dt);return _t=typeof _t=="function"?_t:s,Lm(Nn(dt,1,Pl,!0),s,_t)});function qB(dt){return dt&&dt.length?Lm(dt):[]}function KB(dt,_t){return dt&&dt.length?Lm(dt,Xo(_t,2)):[]}function eR(dt,_t){return _t=typeof _t=="function"?_t:s,dt&&dt.length?Lm(dt,s,_t):[]}function Fv(dt){if(!(dt&&dt.length))return[];var _t=0;return dt=ds(dt,function(Dt){if(Pl(Dt))return _t=Cl(Dt.length,_t),!0}),e0(_t,function(Dt){return qs(dt,Km(Dt))})}function hF(dt,_t){if(!(dt&&dt.length))return[];var Dt=Fv(dt);return _t==null?Dt:qs(Dt,function(an){return uu(_t,s,an)})}var tR=Go(function(dt,_t){return Pl(dt)?en(dt,_t):[]}),o_=Go(function(dt){return YU(ds(dt,Pl))}),nR=Go(function(dt){var _t=$u(dt);return Pl(_t)&&(_t=s),YU(ds(dt,Pl),Xo(_t,2))}),El=Go(function(dt){var _t=$u(dt);return _t=typeof _t=="function"?_t:s,YU(ds(dt,Pl),s,_t)}),dF=Go(Fv);function A1(dt,_t){return KF(dt||[],_t||[],_0)}function fF(dt,_t){return KF(dt||[],_t||[],pu)}var pF=Go(function(dt){var _t=dt.length,Dt=_t>1?dt[_t-1]:s;return Dt=typeof Dt=="function"?(dt.pop(),Dt):s,hF(dt,Dt)});function s_(dt){var _t=In(dt);return _t.__chain__=!0,_t}function V1(dt,_t){return _t(dt),dt}function uU(dt,_t){return _t(dt)}var hU=bm(function(dt){var _t=dt.length,Dt=_t?dt[0]:0,an=this.__wrapped__,En=function(Zn){return pt(Zn,dt)};return _t>1||this.__actions__.length||!(an instanceof bs)||!Bm(Dt)?this.thru(En):(an=an.slice(Dt,+Dt+(_t?1:0)),an.__actions__.push({func:uU,args:[En],thisArg:s}),new vu(an,this.__chain__).thru(function(Zn){return _t&&!Zn.length&&Zn.push(s),Zn}))});function vv(){return s_(this)}function bv(){return new vu(this.value(),this.__chain__)}function rR(){this.__values__===s&&(this.__values__=py(this.value()));var dt=this.__index__>=this.__values__.length,_t=dt?s:this.__values__[this.__index__++];return{done:dt,value:_t}}function N1(){return this}function dU(dt){for(var _t,Dt=this;Dt instanceof Ol;){var an=Rm(Dt);an.__index__=0,an.__values__=s,_t?En.__wrapped__=an:_t=an;var En=an;Dt=Dt.__wrapped__}return En.__wrapped__=dt,_t}function iR(){var dt=this.__wrapped__;if(dt instanceof bs){var _t=dt;return this.__actions__.length&&(_t=new bs(this)),_t=_t.reverse(),_t.__actions__.push({func:uU,args:[cF],thisArg:s}),new vu(_t,this.__chain__)}return this.thru(cF)}function Bv(){return qF(this.__wrapped__,this.__actions__)}var oR=v0(function(dt,_t,Dt){Js.call(dt,Dt)?++dt[Dt]:ct(dt,Dt,1)});function Rv(dt,_t,Dt){var an=fs(dt)?op:kn;return Dt&&Ll(dt,_t,Dt)&&(_t=s),an(dt,Xo(_t,3))}function Qv(dt,_t){var Dt=fs(dt)?ds:zn;return Dt(dt,Xo(_t,3))}var gF=o1(i_),sR=o1(Cp);function aR(dt,_t){return Nn(yF(dt,_t),1)}function lR(dt,_t){return Nn(yF(dt,_t),hn)}function cR(dt,_t,Dt){return Dt=Dt===s?1:Us(Dt),Nn(yF(dt,_t),Dt)}function M1(dt,_t){var Dt=fs(dt)?hu:fn;return Dt(dt,Xo(_t,3))}function D1(dt,_t){var Dt=fs(dt)?T_:Bn;return Dt(dt,Xo(_t,3))}var mF=v0(function(dt,_t,Dt){Js.call(dt,Dt)?dt[Dt].push(_t):ct(dt,Dt,[_t])});function uR(dt,_t,Dt,an){dt=_h(dt)?dt:__(dt),Dt=Dt&&!an?Us(Dt):0;var En=dt.length;return Dt<0&&(Dt=Cl(En+Dt,0)),BF(dt)?Dt<=En&&dt.indexOf(_t,Dt)>-1:!!En&&ap(dt,_t,Dt)>-1}var I1=Go(function(dt,_t,Dt){var an=-1,En=typeof _t=="function",Zn=_h(dt)?Ir(dt.length):[];return fn(dt,function(ar){Zn[++an]=En?uu(_t,ar,Dt):Qr(ar,_t,Dt)}),Zn}),a_=v0(function(dt,_t,Dt){ct(dt,Dt,_t)});function yF(dt,_t){var Dt=fs(dt)?qs:Vl;return Dt(dt,Xo(_t,3))}function hR(dt,_t,Dt,an){return dt==null?[]:(fs(_t)||(_t=_t==null?[]:[_t]),Dt=an?s:Dt,fs(Dt)||(Dt=Dt==null?[]:[Dt]),Ql(dt,_t,Dt))}var dR=v0(function(dt,_t,Dt){dt[Dt?0:1].push(_t)},function(){return[[],[]]});function J1(dt,_t,Dt){var an=fs(dt)?Sy:V_,En=arguments.length<3;return an(dt,Xo(_t,4),Dt,En,fn)}function W1(dt,_t,Dt){var an=fs(dt)?Ey:V_,En=arguments.length<3;return an(dt,Xo(_t,4),Dt,En,Bn)}function fR(dt,_t){var Dt=fs(dt)?ds:zn;return Dt(dt,vF(Xo(_t,3)))}function pR(dt){var _t=fs(dt)?Y_:wp;return _t(dt)}function gR(dt,_t,Dt){(Dt?Ll(dt,_t,Dt):_t===s)?_t=1:_t=Us(_t);var an=fs(dt)?ZU:ym;return an(dt,_t)}function Sv(dt){var _t=fs(dt)?zU:n1;return _t(dt)}function _F(dt){if(dt==null)return 0;if(_h(dt))return BF(dt)?o0(dt):dt.length;var _t=iu(dt);return _t==or||_t==Qo?dt.size:Ns(dt).length}function UF(dt,_t,Dt){var an=fs(dt)?W0:r1;return Dt&&Ll(dt,_t,Dt)&&(_t=s),an(dt,Xo(_t,3))}var mR=Go(function(dt,_t){if(dt==null)return[];var Dt=_t.length;return Dt>1&&Ll(dt,_t[0],_t[1])?_t=[]:Dt>2&&Ll(_t[0],_t[1],_t[2])&&(_t=[_t[0]]),Ql(dt,Nn(_t,1),[])}),FF=wu||function(){return yl.Date.now()};function fU(dt,_t){if(typeof _t!="function")throw new Fu(rt);return dt=Us(dt),function(){if(--dt<1)return _t.apply(this,arguments)}}function l_(dt,_t,Dt){return _t=Dt?s:_t,_t=dt&&_t==null?dt.length:_t,ru(dt,nn,s,s,s,s,_t)}function Ev(dt,_t){var Dt;if(typeof _t!="function")throw new Fu(rt);return dt=Us(dt),function(){return--dt>0&&(Dt=_t.apply(this,arguments)),dt<=1&&(_t=s),Dt}}var fy=Go(function(dt,_t,Dt){var an=wt;if(Dt.length){var En=Fp(Dt,qy(fy));an|=St}return ru(dt,an,_t,Dt,En)}),wv=Go(function(dt,_t,Dt){var an=wt|Tt;if(Dt.length){var En=Fp(Dt,qy(wv));an|=St}return ru(_t,an,dt,Dt,En)});function O1(dt,_t,Dt){_t=Dt?s:_t;var an=ru(dt,At,s,s,s,s,s,_t);return an.placeholder=O1.placeholder,an}function xv(dt,_t,Dt){_t=Dt?s:_t;var an=ru(dt,Nt,s,s,s,s,s,_t);return an.placeholder=xv.placeholder,an}function Tv(dt,_t,Dt){var an,En,Zn,ar,mr,Sr,$r=0,Hr=!1,_i=!1,vo=!0;if(typeof dt!="function")throw new Fu(rt);_t=Ap(_t)||0,xl(Dt)&&(Hr=!!Dt.leading,_i="maxWait"in Dt,Zn=_i?Cl(Ap(Dt.maxWait)||0,_t):Zn,vo="trailing"in Dt?!!Dt.trailing:vo);function ko(Il){var Vp=an,Tm=En;return an=En=s,$r=Il,ar=dt.apply(Tm,Vp),ar}function Ho(Il){return $r=Il,mr=hy(Ss,_t),Hr?ko(Il):ar}function gs(Il){var Vp=Il-Sr,Tm=Il-$r,qv=_t-Vp;return _i?Al(qv,Zn-Tm):qv}function ts(Il){var Vp=Il-Sr,Tm=Il-$r;return Sr===s||Vp>=_t||Vp<0||_i&&Tm>=Zn}function Ss(){var Il=FF();if(ts(Il))return Cs(Il);mr=hy(Ss,gs(Il))}function Cs(Il){return mr=s,vo&&an?ko(Il):(an=En=s,ar)}function Cu(){mr!==s&&tv(mr),$r=0,an=Sr=En=mr=s}function Au(){return mr===s?ar:Cs(FF())}function _f(){var Il=FF(),Vp=ts(Il);if(an=arguments,En=this,Sr=Il,Vp){if(mr===s)return Ho(Sr);if(_i)return tv(mr),mr=hy(Ss,_t),ko(Sr)}return mr===s&&(mr=hy(Ss,_t)),ar}return _f.cancel=Cu,_f.flush=Au,_f}var L1=Go(function(dt,_t){return Zt(dt,1,_t)}),P1=Go(function(dt,_t,Dt){return Zt(dt,Ap(_t)||0,Dt)});function Z1(dt){return ru(dt,Ct)}function pU(dt,_t){if(typeof dt!="function"||_t!=null&&typeof _t!="function")throw new Fu(rt);var Dt=function(){var an=arguments,En=_t?_t.apply(this,an):an[0],Zn=Dt.cache;if(Zn.has(En))return Zn.get(En);var ar=dt.apply(this,an);return Dt.cache=Zn.set(En,ar)||Zn,ar};return Dt.cache=new(pU.Cache||Sp),Dt}pU.Cache=Sp;function vF(dt){if(typeof dt!="function")throw new Fu(rt);return function(){var _t=arguments;switch(_t.length){case 0:return!dt.call(this);case 1:return!dt.call(this,_t[0]);case 2:return!dt.call(this,_t[0],_t[1]);case 3:return!dt.call(this,_t[0],_t[1],_t[2])}return!dt.apply(this,_t)}}function yR(dt){return Ev(2,dt)}var j1=Xy(function(dt,_t){_t=_t.length==1&&fs(_t[0])?qs(_t[0],du(Xo())):qs(Nn(_t,1),du(Xo()));var Dt=_t.length;return Go(function(an){for(var En=-1,Zn=Al(an.length,Dt);++En<Zn;)an[En]=_t[En].call(this,an[En]);return uu(dt,this,an)})}),c_=Go(function(dt,_t){var Dt=Fp(_t,qy(c_));return ru(dt,St,s,_t,Dt)}),kv=Go(function(dt,_t){var Dt=Fp(_t,qy(kv));return ru(dt,Ot,s,_t,Dt)}),Qu=bm(function(dt,_t){return ru(dt,yn,s,s,s,_t)});function gU(dt,_t){if(typeof dt!="function")throw new Fu(rt);return _t=_t===s?_t:Us(_t),Go(dt,_t)}function u_(dt,_t){if(typeof dt!="function")throw new Fu(rt);return _t=_t==null?0:Cl(Us(_t),0),Go(function(Dt){var an=Dt[_t],En=Pm(Dt,0,_t);return an&&sp(En,an),uu(dt,this,En)})}function mU(dt,_t,Dt){var an=!0,En=!0;if(typeof dt!="function")throw new Fu(rt);return xl(Dt)&&(an="leading"in Dt?!!Dt.leading:an,En="trailing"in Dt?!!Dt.trailing:En),Tv(dt,_t,{leading:an,maxWait:_t,trailing:En})}function G1(dt){return l_(dt,1)}function H1(dt,_t){return c_(ev(_t),dt)}function _R(){if(!arguments.length)return[];var dt=arguments[0];return fs(dt)?dt:[dt]}function UR(dt){return Rt(dt,Ft)}function FR(dt,_t){return _t=typeof _t=="function"?_t:s,Rt(dt,Ft,_t)}function vR(dt){return Rt(dt,bt|Ft)}function bR(dt,_t){return _t=typeof _t=="function"?_t:s,Rt(dt,bt|Ft,_t)}function BR(dt,_t){return _t==null||Lt(dt,_t,Kl(_t))}function Ku(dt,_t){return dt===_t||dt!==dt&&_t!==_t}var RR=_g(Tr),Y1=_g(function(dt,_t){return dt>=_t}),w0=gr(function(){return arguments}())?gr:function(dt){return Dl(dt)&&Js.call(dt,"callee")&&!dm.call(dt,"callee")},fs=Ir.isArray,QR=E_?du(E_):co;function _h(dt){return dt!=null&&T0(dt.length)&&!jm(dt)}function Pl(dt){return Dl(dt)&&_h(dt)}function SR(dt){return dt===!0||dt===!1||Dl(dt)&&Ur(dt)==jt}var x0=AU||JF,X1=By?du(By):no;function ER(dt){return Dl(dt)&&dt.nodeType===1&&!Em(dt)}function ou(dt){if(dt==null)return!0;if(_h(dt)&&(fs(dt)||typeof dt=="string"||typeof dt.splice=="function"||x0(dt)||p_(dt)||w0(dt)))return!dt.length;var _t=iu(dt);if(_t==or||_t==Qo)return!dt.size;if(e_(dt))return!Ns(dt).length;for(var Dt in dt)if(Js.call(dt,Dt))return!1;return!0}function Qm(dt,_t){return so(dt,_t)}function Cv(dt,_t,Dt){Dt=typeof Dt=="function"?Dt:s;var an=Dt?Dt(dt,_t):s;return an===s?so(dt,_t,s,Dt):!!an}function h_(dt){if(!Dl(dt))return!1;var _t=Ur(dt);return _t==Dn||_t==_n||typeof dt.message=="string"&&typeof dt.name=="string"&&!Em(dt)}function d_(dt){return typeof dt=="number"&&ey(dt)}function jm(dt){if(!xl(dt))return!1;var _t=Ur(dt);return _t==Tn||_t==Xn||_t==Rn||_t==Po}function q1(dt){return typeof dt=="number"&&dt==Us(dt)}function T0(dt){return typeof dt=="number"&&dt>-1&&dt%1==0&&dt<=dn}function xl(dt){var _t=typeof dt;return dt!=null&&(_t=="object"||_t=="function")}function Dl(dt){return dt!=null&&typeof dt=="object"}var f_=w_?du(w_):Ro;function K1(dt,_t){return dt===_t||Io(dt,_t,cv(_t))}function eB(dt,_t,Dt){return Dt=typeof Dt=="function"?Dt:s,Io(dt,_t,cv(_t),Dt)}function Ls(dt){return Sm(dt)&&dt!=+dt}function Av(dt){if(d1(dt))throw new cs(et);return No(dt)}function tB(dt){return dt===null}function nB(dt){return dt==null}function Sm(dt){return typeof dt=="number"||Dl(dt)&&Ur(dt)==Rr}function Em(dt){if(!Dl(dt)||Ur(dt)!=Vo)return!1;var _t=hm(dt);if(_t===null)return!0;var Dt=Js.call(_t,"constructor")&&_t.constructor;return typeof Dt=="function"&&Dt instanceof Dt&&Zp.call(Dt)==jF}var bF=Ry?du(Ry):xo;function wR(dt){return q1(dt)&&dt>=-dn&&dt<=dn}var rB=Qy?du(Qy):io;function BF(dt){return typeof dt=="string"||!fs(dt)&&Dl(dt)&&Ur(dt)==zo}function gp(dt){return typeof dt=="symbol"||Dl(dt)&&Ur(dt)==Ao}var p_=am?du(am):Yo;function xR(dt){return dt===s}function TR(dt){return Dl(dt)&&iu(dt)==Do}function kR(dt){return Dl(dt)&&Ur(dt)==ws}var CR=_g(Ts),RF=_g(function(dt,_t){return dt<=_t});function py(dt){if(!dt)return[];if(_h(dt))return BF(dt)?Eu(dt):Hu(dt);if(zp&&dt[zp])return I_(dt[zp]());var _t=iu(dt),Dt=_t==or?r0:_t==Qo?Ay:__;return Dt(dt)}function wm(dt){if(!dt)return dt===0?dt:0;if(dt=Ap(dt),dt===hn||dt===-hn){var _t=dt<0?-1:1;return _t*zt}return dt===dt?dt:0}function Us(dt){var _t=wm(dt),Dt=_t%1;return _t===_t?Dt?_t-Dt:_t:0}function iB(dt){return dt?vt(Us(dt),0,gn):0}function Ap(dt){if(typeof dt=="number")return dt;if(gp(dt))return It;if(xl(dt)){var _t=typeof dt.valueOf=="function"?dt.valueOf():dt;dt=xl(_t)?_t+"":_t}if(typeof dt!="string")return dt===0?dt:+dt;dt=z0(dt);var Dt=Uo.test(dt);return Dt||wo.test(dt)?Am(dt.slice(2),Dt?2:8):Fo.test(dt)?It:+dt}function QF(dt){return Um(dt,ku(dt))}function Vv(dt){return dt?vt(Us(dt),-dn,dn):dt===0?dt:0}function Ps(dt){return dt==null?"":Gu(dt)}var mp=Kp(function(dt,_t){if(e_(_t)||_h(_t)){Um(_t,Kl(_t),dt);return}for(var Dt in _t)Js.call(_t,Dt)&&_0(dt,Dt,_t[Dt])}),g_=Kp(function(dt,_t){Um(_t,ku(_t),dt)}),Gm=Kp(function(dt,_t,Dt,an){Um(_t,ku(_t),dt,an)}),Nv=Kp(function(dt,_t,Dt,an){Um(_t,Kl(_t),dt,an)}),SF=bm(pt);function AR(dt,_t){var Dt=gm(dt);return _t==null?Dt:ht(Dt,_t)}var oB=Go(function(dt,_t){dt=Hs(dt);var Dt=-1,an=_t.length,En=an>2?_t[2]:s;for(En&&Ll(_t[0],_t[1],En)&&(an=1);++Dt<an;)for(var Zn=_t[Dt],ar=ku(Zn),mr=-1,Sr=ar.length;++mr<Sr;){var $r=ar[mr],Hr=dt[$r];(Hr===s||Ku(Hr,um[$r])&&!Js.call(dt,$r))&&(dt[$r]=Zn[$r])}return dt}),sB=Go(function(dt){return dt.push(s,dp),uu(xF,s,dt)});function VR(dt,_t){return Vm(dt,Xo(_t,3),On)}function aB(dt,_t){return Vm(dt,Xo(_t,3),tr)}function lB(dt,_t){return dt==null?dt:Vn(dt,Xo(_t,3),ku)}function Mv(dt,_t){return dt==null?dt:Hn(dt,Xo(_t,3),ku)}function cB(dt,_t){return dt&&On(dt,Xo(_t,3))}function NR(dt,_t){return dt&&tr(dt,Xo(_t,3))}function uB(dt){return dt==null?[]:sr(dt,Kl(dt))}function Hm(dt){return dt==null?[]:sr(dt,ku(dt))}function EF(dt,_t,Dt){var an=dt==null?s:$n(dt,_t);return an===s?Dt:an}function hB(dt,_t){return dt!=null&&uv(dt,_t,wr)}function wF(dt,_t){return dt!=null&&uv(dt,_t,qr)}var dB=eU(function(dt,_t,Dt){_t!=null&&typeof _t.toString!="function"&&(_t=Zu.call(_t)),dt[_t]=Dt},NF(_d)),MR=eU(function(dt,_t,Dt){_t!=null&&typeof _t.toString!="function"&&(_t=Zu.call(_t)),Js.call(dt,_t)?dt[_t].push(Dt):dt[_t]=[Dt]},Xo),DR=Go(Qr);function Kl(dt){return _h(dt)?sy(dt):Ns(dt)}function ku(dt){return _h(dt)?sy(dt,!0):Ds(dt)}function yU(dt,_t){var Dt={};return _t=Xo(_t,3),On(dt,function(an,En,Zn){ct(Dt,_t(an,En,Zn),an)}),Dt}function fB(dt,_t){var Dt={};return _t=Xo(_t,3),On(dt,function(an,En,Zn){ct(Dt,En,_t(an,En,Zn))}),Dt}var pB=Kp(function(dt,_t,Dt){Is(dt,_t,Dt)}),xF=Kp(function(dt,_t,Dt,an){Is(dt,_t,Dt,an)}),m_=bm(function(dt,_t){var Dt={};if(dt==null)return Dt;var an=!1;_t=qs(_t,function(Zn){return Zn=F0(Zn,dt),an||(an=Zn.length>1),Zn}),Um(dt,nU(dt),Dt),an&&(Dt=Rt(Dt,bt|Ut|Ft,fp));for(var En=_t.length;En--;)HU(Dt,_t[En]);return Dt});function gB(dt,_t){return Dv(dt,vF(Xo(_t)))}var TF=bm(function(dt,_t){return dt==null?{}:nu(dt,_t)});function Dv(dt,_t){if(dt==null)return{};var Dt=qs(nU(dt),function(an){return[an]});return _t=Xo(_t),Ws(dt,Dt,function(an,En){return _t(an,En[0])})}function kF(dt,_t,Dt){_t=F0(_t,dt);var an=-1,En=_t.length;for(En||(En=1,dt=s);++an<En;){var Zn=dt==null?s:dt[nm(_t[an])];Zn===s&&(an=En,Zn=Dt),dt=jm(Zn)?Zn.call(dt):Zn}return dt}function CF(dt,_t,Dt){return dt==null?dt:pu(dt,_t,Dt)}function IR(dt,_t,Dt,an){return an=typeof an=="function"?an:s,dt==null?dt:pu(dt,_t,Dt,an)}var mB=eF(Kl),yB=eF(ku);function JR(dt,_t,Dt){var an=fs(dt),En=an||x0(dt)||p_(dt);if(_t=Xo(_t,4),Dt==null){var Zn=dt&&dt.constructor;En?Dt=an?new Zn:[]:xl(dt)?Dt=jm(Zn)?gm(hm(dt)):{}:Dt={}}return(En?hu:On)(dt,function(ar,mr,Sr){return _t(Dt,ar,mr,Sr)}),Dt}function WR(dt,_t){return dt==null?!0:HU(dt,_t)}function y_(dt,_t,Dt){return dt==null?dt:$F(dt,_t,ev(Dt))}function Iv(dt,_t,Dt,an){return an=typeof an=="function"?an:s,dt==null?dt:$F(dt,_t,ev(Dt),an)}function __(dt){return dt==null?[]:Ty(dt,Kl(dt))}function _B(dt){return dt==null?[]:Ty(dt,ku(dt))}function OR(dt,_t,Dt){return Dt===s&&(Dt=_t,_t=s),Dt!==s&&(Dt=Ap(Dt),Dt=Dt===Dt?Dt:0),_t!==s&&(_t=Ap(_t),_t=_t===_t?_t:0),vt(Ap(dt),_t,Dt)}function Jv(dt,_t,Dt){return _t=wm(_t),Dt===s?(Dt=_t,_t=0):Dt=wm(Dt),dt=Ap(dt),_r(dt,_t,Dt)}function LR(dt,_t,Dt){if(Dt&&typeof Dt!="boolean"&&Ll(dt,_t,Dt)&&(_t=Dt=s),Dt===s&&(typeof _t=="boolean"?(Dt=_t,_t=s):typeof dt=="boolean"&&(Dt=dt,dt=s)),dt===s&&_t===s?(dt=0,_t=1):(dt=wm(dt),_t===s?(_t=dt,dt=0):_t=wm(_t)),dt>_t){var an=dt;dt=_t,_t=an}if(Dt||dt%1||_t%1){var En=ty();return Al(dt+En*(_t-dt+Pp("1e-"+((En+"").length-1))),_t)}return Xl(dt,_t)}var k0=Tp(function(dt,_t,Dt){return _t=_t.toLowerCase(),dt+(Dt?Wv(_t):_t)});function Wv(dt){return my(Ps(dt).toLowerCase())}function Ov(dt){return dt=Ps(dt),dt&&dt.replace(ls,ky).replace(Or,"")}function AF(dt,_t,Dt){dt=Ps(dt),_t=Gu(_t);var an=dt.length;Dt=Dt===s?an:vt(Us(Dt),0,an);var En=Dt;return Dt-=_t.length,Dt>=0&&dt.slice(Dt,En)==_t}function Lv(dt){return dt=Ps(dt),dt&&bn.test(dt)?dt.replace(Mr,Cy):dt}function PR(dt){return dt=Ps(dt),dt&&rn.test(dt)?dt.replace(qt,"\\$&"):dt}var ZR=Tp(function(dt,_t,Dt){return dt+(Dt?"-":"")+_t.toLowerCase()}),UB=Tp(function(dt,_t,Dt){return dt+(Dt?" ":"")+_t.toLowerCase()}),FB=Zm("toLowerCase");function _U(dt,_t,Dt){dt=Ps(dt),_t=Us(_t);var an=_t?o0(dt):0;if(!_t||an>=_t)return dt;var En=(_t-an)/2;return KU(g0(En),Dt)+dt+KU(q0(En),Dt)}function Ym(dt,_t,Dt){dt=Ps(dt),_t=Us(_t);var an=_t?o0(dt):0;return _t&&an<_t?dt+KU(_t-an,Dt):dt}function Pv(dt,_t,Dt){dt=Ps(dt),_t=Us(_t);var an=_t?o0(dt):0;return _t&&an<_t?KU(_t-an,Dt)+dt:dt}function U_(dt,_t,Dt){return Dt||_t==null?_t=0:_t&&(_t=+_t),xu(Ps(dt).replace(Cn,""),_t||0)}function F_(dt,_t,Dt){return(Dt?Ll(dt,_t,Dt):_t===s)?_t=1:_t=Us(_t),Ep(Ps(dt),_t)}function im(){var dt=arguments,_t=Ps(dt[0]);return dt.length<3?_t:_t.replace(dt[1],dt[2])}var om=Tp(function(dt,_t,Dt){return dt+(Dt?"_":"")+_t.toLowerCase()});function zR(dt,_t,Dt){return Dt&&typeof Dt!="number"&&Ll(dt,_t,Dt)&&(_t=Dt=s),Dt=Dt===s?gn:Dt>>>0,Dt?(dt=Ps(dt),dt&&(typeof _t=="string"||_t!=null&&!bF(_t))&&(_t=Gu(_t),!_t&&Nm(dt))?Pm(Eu(dt),0,Dt):dt.split(_t,Dt)):[]}var vB=Tp(function(dt,_t,Dt){return dt+(Dt?" ":"")+my(_t)});function jR(dt,_t,Dt){return dt=Ps(dt),Dt=Dt==null?0:vt(Us(Dt),0,dt.length),_t=Gu(_t),dt.slice(Dt,Dt+_t.length)==_t}function Zv(dt,_t,Dt){var an=In.templateSettings;Dt&&Ll(dt,_t,Dt)&&(_t=s),dt=Ps(dt),_t=Gm({},_t,an,em);var En=Gm({},_t.imports,an.imports,em),Zn=Kl(En),ar=Ty(En,Zn),mr,Sr,$r=0,Hr=_t.interpolate||Bo,_i="__p += '",vo=Dy((_t.escape||Bo).source+"|"+Hr.source+"|"+(Hr===cr?Xr:Bo).source+"|"+(_t.evaluate||Bo).source+"|$","g"),ko="//# sourceURL="+(Js.call(_t,"sourceURL")?(_t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ps+"]")+`
`;dt.replace(vo,function(ts,Ss,Cs,Cu,Au,_f){return Cs||(Cs=Cu),_i+=dt.slice($r,_f).replace(Rs,Up),Ss&&(mr=!0,_i+=`' +
__e(`+Ss+`) +
'`),Au&&(Sr=!0,_i+=`';
`+Au+`;
__p += '`),Cs&&(_i+=`' +
((__t = (`+Cs+`)) == null ? '' : __t) +
'`),$r=_f+ts.length,ts}),_i+=`';
`;var Ho=Js.call(_t,"variable")&&_t.variable;if(!Ho)_i=`with (obj) {
`+_i+`
}
`;else if(Fr.test(Ho))throw new cs(j);_i=(Sr?_i.replace(Wl,""):_i).replace(Nu,"$1").replace(xs,"$1;"),_i="function("+(Ho||"obj")+`) {
`+(Ho?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(mr?", __e = _.escape":"")+(Sr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_i+`return __p
}`;var gs=UU(function(){return Vs(Zn,ko+"return "+_i).apply(s,ar)});if(gs.source=_i,h_(gs))throw gs;return gs}function xm(dt){return Ps(dt).toLowerCase()}function gy(dt){return Ps(dt).toUpperCase()}function bB(dt,_t,Dt){if(dt=Ps(dt),dt&&(Dt||_t===s))return z0(dt);if(!dt||!(_t=Gu(_t)))return dt;var an=Eu(dt),En=Eu(_t),Zn=t0(an,En),ar=n0(an,En)+1;return Pm(an,Zn,ar).join("")}function BB(dt,_t,Dt){if(dt=Ps(dt),dt&&(Dt||_t===s))return dt.slice(0,TU(dt)+1);if(!dt||!(_t=Gu(_t)))return dt;var an=Eu(dt),En=n0(an,Eu(_t))+1;return Pm(an,0,En).join("")}function GR(dt,_t,Dt){if(dt=Ps(dt),dt&&(Dt||_t===s))return dt.replace(Cn,"");if(!dt||!(_t=Gu(_t)))return dt;var an=Eu(dt),En=t0(an,Eu(_t));return Pm(an,En).join("")}function VF(dt,_t){var Dt=Vt,an=Yt;if(xl(_t)){var En="separator"in _t?_t.separator:En;Dt="length"in _t?Us(_t.length):Dt,an="omission"in _t?Gu(_t.omission):an}dt=Ps(dt);var Zn=dt.length;if(Nm(dt)){var ar=Eu(dt);Zn=ar.length}if(Dt>=Zn)return dt;var mr=Dt-o0(an);if(mr<1)return an;var Sr=ar?Pm(ar,0,mr).join(""):dt.slice(0,mr);if(En===s)return Sr+an;if(ar&&(mr+=Sr.length-mr),bF(En)){if(dt.slice(mr).search(En)){var $r,Hr=Sr;for(En.global||(En=Dy(En.source,Ps(Lr.exec(En))+"g")),En.lastIndex=0;$r=En.exec(Hr);)var _i=$r.index;Sr=Sr.slice(0,_i===s?mr:_i)}}else if(dt.indexOf(Gu(En),mr)!=mr){var vo=Sr.lastIndexOf(En);vo>-1&&(Sr=Sr.slice(0,vo))}return Sr+an}function zv(dt){return dt=Ps(dt),dt&&mn.test(dt)?dt.replace(zl,Ny):dt}var v_=Tp(function(dt,_t,Dt){return dt+(Dt?" ":"")+_t.toUpperCase()}),my=Zm("toUpperCase");function b_(dt,_t,Dt){return dt=Ps(dt),_t=Dt?s:_t,_t===s?D_(dt)?O_(dt):cm(dt):dt.match(_t)||[]}var UU=Go(function(dt,_t){try{return uu(dt,s,_t)}catch(Dt){return h_(Dt)?Dt:new cs(Dt)}}),RB=bm(function(dt,_t){return hu(_t,function(Dt){Dt=nm(Dt),ct(dt,Dt,fy(dt[Dt],dt))}),dt});function FU(dt){var _t=dt==null?0:dt.length,Dt=Xo();return dt=_t?qs(dt,function(an){if(typeof an[1]!="function")throw new Fu(rt);return[Dt(an[0]),an[1]]}):[],Go(function(an){for(var En=-1;++En<_t;){var Zn=dt[En];if(uu(Zn[0],this,an))return uu(Zn[1],this,an)}})}function jv(dt){return kt(Rt(dt,bt))}function NF(dt){return function(){return dt}}function B_(dt,_t){return dt==null||dt!==dt?_t:dt}var QB=s1(),SB=s1(!0);function _d(dt){return dt}function Gv(dt){return rs(typeof dt=="function"?dt:Rt(dt,bt))}function EB(dt){return tu(Rt(dt,bt))}function yy(dt,_t){return up(dt,Rt(_t,bt))}var HR=Go(function(dt,_t){return function(Dt){return Qr(Dt,dt,_t)}}),C0=Go(function(dt,_t){return function(Dt){return Qr(dt,Dt,_t)}});function Hv(dt,_t,Dt){var an=Kl(_t),En=sr(_t,an);Dt==null&&!(xl(_t)&&(En.length||!an.length))&&(Dt=_t,_t=dt,dt=this,En=sr(_t,Kl(_t)));var Zn=!(xl(Dt)&&"chain"in Dt)||!!Dt.chain,ar=jm(dt);return hu(En,function(mr){var Sr=_t[mr];dt[mr]=Sr,ar&&(dt.prototype[mr]=function(){var $r=this.__chain__;if(Zn||$r){var Hr=dt(this.__wrapped__),_i=Hr.__actions__=Hu(this.__actions__);return _i.push({func:Sr,args:arguments,thisArg:dt}),Hr.__chain__=$r,Hr}return Sr.apply(dt,sp([this.value()],arguments))})}),dt}function vU(){return yl._===this&&(yl._=CU),this}function _y(){}function bU(dt){return dt=Us(dt),Go(function(_t){return ks(_t,dt)})}var BU=lv(qs),MF=lv(op),YR=lv(W0);function wB(dt){return rF(dt)?Km(nm(dt)):bu(dt)}function R_(dt){return function(_t){return dt==null?s:$n(dt,_t)}}var DF=Lo(),XR=Lo(!0);function IF(){return[]}function JF(){return!1}function $R(){return{}}function xB(){return""}function qR(){return!0}function TB(dt,_t){if(dt=Us(dt),dt<1||dt>dn)return[];var Dt=gn,an=Al(dt,gn);_t=Xo(_t),dt-=gn;for(var En=e0(an,_t);++Dt<dt;)_t(Dt);return En}function KR(dt){return fs(dt)?qs(dt,nm):gp(dt)?[dt]:Hu(lF(Ps(dt)))}function kB(dt){var _t=++bp;return Ps(dt)+_t}var eQ=Yu(function(dt,_t){return dt+_t},0),tQ=Bs("ceil"),WF=Yu(function(dt,_t){return dt/_t},1),OF=Bs("floor");function LF(dt){return dt&&dt.length?Pn(dt,_d,Tr):s}function nQ(dt,_t){return dt&&dt.length?Pn(dt,Xo(_t,2),Tr):s}function Yv(dt){return A_(dt,_d)}function Xv(dt,_t){return A_(dt,Xo(_t,2))}function A0(dt){return dt&&dt.length?Pn(dt,_d,Ts):s}function rQ(dt,_t){return dt&&dt.length?Pn(dt,Xo(_t,2),Ts):s}var $v=Yu(function(dt,_t){return dt*_t},1),CB=Bs("round"),PF=Yu(function(dt,_t){return dt-_t},0);function iQ(dt){return dt&&dt.length?Z0(dt,_d):0}function oQ(dt,_t){return dt&&dt.length?Z0(dt,Xo(_t,2)):0}return In.after=fU,In.ary=l_,In.assign=mp,In.assignIn=g_,In.assignInWith=Gm,In.assignWith=Nv,In.at=SF,In.before=Ev,In.bind=fy,In.bindAll=RB,In.bindKey=wv,In.castArray=_R,In.chain=s_,In.chunk=pv,In.compact=y1,In.concat=oU,In.cond=FU,In.conforms=jv,In.constant=NF,In.countBy=oR,In.create=AR,In.curry=O1,In.curryRight=xv,In.debounce=Tv,In.defaults=oB,In.defaultsDeep=sB,In.defer=L1,In.delay=P1,In.difference=sU,In.differenceBy=pp,In.differenceWith=aU,In.drop=Bu,In.dropRight=kp,In.dropRightWhile=gv,In.dropWhile=Ml,In.fill=_1,In.filter=Qv,In.flatMap=aR,In.flatMapDeep=lR,In.flatMapDepth=cR,In.flatten=U1,In.flattenDeep=OB,In.flattenDepth=F1,In.flip=Z1,In.flow=QB,In.flowRight=SB,In.fromPairs=v1,In.functions=uB,In.functionsIn=Hm,In.groupBy=mF,In.initial=R1,In.intersection=Q1,In.intersectionBy=S1,In.intersectionWith=LB,In.invert=dB,In.invertBy=MR,In.invokeMap=I1,In.iteratee=Gv,In.keyBy=a_,In.keys=Kl,In.keysIn=ku,In.map=yF,In.mapKeys=yU,In.mapValues=fB,In.matches=EB,In.matchesProperty=yy,In.memoize=pU,In.merge=pB,In.mergeWith=xF,In.method=HR,In.methodOf=C0,In.mixin=Hv,In.negate=vF,In.nthArg=bU,In.omit=m_,In.omitBy=gB,In.once=yR,In.orderBy=hR,In.over=BU,In.overArgs=j1,In.overEvery=MF,In.overSome=YR,In.partial=c_,In.partialRight=kv,In.partition=dR,In.pick=TF,In.pickBy=Dv,In.property=wB,In.propertyOf=R_,In.pull=E1,In.pullAll=w1,In.pullAllBy=x1,In.pullAllWith=PB,In.pullAt=ZB,In.range=DF,In.rangeRight=XR,In.rearg=Qu,In.reject=fR,In.remove=T1,In.rest=gU,In.reverse=cF,In.sampleSize=gR,In.set=CF,In.setWith=IR,In.shuffle=Sv,In.slice=k1,In.sortBy=mR,In.sortedUniq=GB,In.sortedUniqBy=HB,In.split=zR,In.spread=u_,In.tail=lU,In.take=uF,In.takeRight=C1,In.takeRightWhile=dy,In.takeWhile=cU,In.tap=V1,In.throttle=mU,In.thru=uU,In.toArray=py,In.toPairs=mB,In.toPairsIn=yB,In.toPath=KR,In.toPlainObject=QF,In.transform=JR,In.unary=G1,In.union=YB,In.unionBy=XB,In.unionWith=$B,In.uniq=qB,In.uniqBy=KB,In.uniqWith=eR,In.unset=WR,In.unzip=Fv,In.unzipWith=hF,In.update=y_,In.updateWith=Iv,In.values=__,In.valuesIn=_B,In.without=tR,In.words=b_,In.wrap=H1,In.xor=o_,In.xorBy=nR,In.xorWith=El,In.zip=dF,In.zipObject=A1,In.zipObjectDeep=fF,In.zipWith=pF,In.entries=mB,In.entriesIn=yB,In.extend=g_,In.extendWith=Gm,Hv(In,In),In.add=eQ,In.attempt=UU,In.camelCase=k0,In.capitalize=Wv,In.ceil=tQ,In.clamp=OR,In.clone=UR,In.cloneDeep=vR,In.cloneDeepWith=bR,In.cloneWith=FR,In.conformsTo=BR,In.deburr=Ov,In.defaultTo=B_,In.divide=WF,In.endsWith=AF,In.eq=Ku,In.escape=Lv,In.escapeRegExp=PR,In.every=Rv,In.find=gF,In.findIndex=i_,In.findKey=VR,In.findLast=sR,In.findLastIndex=Cp,In.findLastKey=aB,In.floor=OF,In.forEach=M1,In.forEachRight=D1,In.forIn=lB,In.forInRight=Mv,In.forOwn=cB,In.forOwnRight=NR,In.get=EF,In.gt=RR,In.gte=Y1,In.has=hB,In.hasIn=wF,In.head=E0,In.identity=_d,In.includes=uR,In.indexOf=b1,In.inRange=Jv,In.invoke=DR,In.isArguments=w0,In.isArray=fs,In.isArrayBuffer=QR,In.isArrayLike=_h,In.isArrayLikeObject=Pl,In.isBoolean=SR,In.isBuffer=x0,In.isDate=X1,In.isElement=ER,In.isEmpty=ou,In.isEqual=Qm,In.isEqualWith=Cv,In.isError=h_,In.isFinite=d_,In.isFunction=jm,In.isInteger=q1,In.isLength=T0,In.isMap=f_,In.isMatch=K1,In.isMatchWith=eB,In.isNaN=Ls,In.isNative=Av,In.isNil=nB,In.isNull=tB,In.isNumber=Sm,In.isObject=xl,In.isObjectLike=Dl,In.isPlainObject=Em,In.isRegExp=bF,In.isSafeInteger=wR,In.isSet=rB,In.isString=BF,In.isSymbol=gp,In.isTypedArray=p_,In.isUndefined=xR,In.isWeakMap=TR,In.isWeakSet=kR,In.join=mv,In.kebabCase=ZR,In.last=$u,In.lastIndexOf=yv,In.lowerCase=UB,In.lowerFirst=FB,In.lt=CR,In.lte=RF,In.max=LF,In.maxBy=nQ,In.mean=Yv,In.meanBy=Xv,In.min=A0,In.minBy=rQ,In.stubArray=IF,In.stubFalse=JF,In.stubObject=$R,In.stubString=xB,In.stubTrue=qR,In.multiply=$v,In.nth=Ru,In.noConflict=vU,In.noop=_y,In.now=FF,In.pad=_U,In.padEnd=Ym,In.padStart=Pv,In.parseInt=U_,In.random=LR,In.reduce=J1,In.reduceRight=W1,In.repeat=F_,In.replace=im,In.result=kF,In.round=CB,In.runInContext=br,In.sample=pR,In.size=_F,In.snakeCase=om,In.some=UF,In.sortedIndex=_v,In.sortedIndexBy=zm,In.sortedIndexOf=qu,In.sortedLastIndex=zB,In.sortedLastIndexBy=Uv,In.sortedLastIndexOf=jB,In.startCase=vB,In.startsWith=jR,In.subtract=PF,In.sum=iQ,In.sumBy=oQ,In.template=Zv,In.times=TB,In.toFinite=wm,In.toInteger=Us,In.toLength=iB,In.toLower=xm,In.toNumber=Ap,In.toSafeInteger=Vv,In.toString=Ps,In.toUpper=gy,In.trim=bB,In.trimEnd=BB,In.trimStart=GR,In.truncate=VF,In.unescape=zv,In.uniqueId=kB,In.upperCase=v_,In.upperFirst=my,In.each=M1,In.eachRight=D1,In.first=E0,Hv(In,function(){var dt={};return On(In,function(_t,Dt){Js.call(In.prototype,Dt)||(dt[Dt]=_t)}),dt}(),{chain:!1}),In.VERSION=_,hu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(dt){In[dt].placeholder=In}),hu(["drop","take"],function(dt,_t){bs.prototype[dt]=function(Dt){Dt=Dt===s?1:Cl(Us(Dt),0);var an=this.__filtered__&&!_t?new bs(this):this.clone();return an.__filtered__?an.__takeCount__=Al(Dt,an.__takeCount__):an.__views__.push({size:Al(Dt,gn),type:dt+(an.__dir__<0?"Right":"")}),an},bs.prototype[dt+"Right"]=function(Dt){return this.reverse()[dt](Dt).reverse()}}),hu(["filter","map","takeWhile"],function(dt,_t){var Dt=_t+1,an=Dt==Un||Dt==$t;bs.prototype[dt]=function(En){var Zn=this.clone();return Zn.__iteratees__.push({iteratee:Xo(En,3),type:Dt}),Zn.__filtered__=Zn.__filtered__||an,Zn}}),hu(["head","last"],function(dt,_t){var Dt="take"+(_t?"Right":"");bs.prototype[dt]=function(){return this[Dt](1).value()[0]}}),hu(["initial","tail"],function(dt,_t){var Dt="drop"+(_t?"":"Right");bs.prototype[dt]=function(){return this.__filtered__?new bs(this):this[Dt](1)}}),bs.prototype.compact=function(){return this.filter(_d)},bs.prototype.find=function(dt){return this.filter(dt).head()},bs.prototype.findLast=function(dt){return this.reverse().find(dt)},bs.prototype.invokeMap=Go(function(dt,_t){return typeof dt=="function"?new bs(this):this.map(function(Dt){return Qr(Dt,dt,_t)})}),bs.prototype.reject=function(dt){return this.filter(vF(Xo(dt)))},bs.prototype.slice=function(dt,_t){dt=Us(dt);var Dt=this;return Dt.__filtered__&&(dt>0||_t<0)?new bs(Dt):(dt<0?Dt=Dt.takeRight(-dt):dt&&(Dt=Dt.drop(dt)),_t!==s&&(_t=Us(_t),Dt=_t<0?Dt.dropRight(-_t):Dt.take(_t-dt)),Dt)},bs.prototype.takeRightWhile=function(dt){return this.reverse().takeWhile(dt).reverse()},bs.prototype.toArray=function(){return this.take(gn)},On(bs.prototype,function(dt,_t){var Dt=/^(?:filter|find|map|reject)|While$/.test(_t),an=/^(?:head|last)$/.test(_t),En=In[an?"take"+(_t=="last"?"Right":""):_t],Zn=an||/^find/.test(_t);En&&(In.prototype[_t]=function(){var ar=this.__wrapped__,mr=an?[1]:arguments,Sr=ar instanceof bs,$r=mr[0],Hr=Sr||fs(ar),_i=function(Ss){var Cs=En.apply(In,sp([Ss],mr));return an&&vo?Cs[0]:Cs};Hr&&Dt&&typeof $r=="function"&&$r.length!=1&&(Sr=Hr=!1);var vo=this.__chain__,ko=!!this.__actions__.length,Ho=Zn&&!vo,gs=Sr&&!ko;if(!Zn&&Hr){ar=gs?ar:new bs(this);var ts=dt.apply(ar,mr);return ts.__actions__.push({func:uU,args:[_i],thisArg:s}),new vu(ts,vo)}return Ho&&gs?dt.apply(this,mr):(ts=this.thru(_i),Ho?an?ts.value()[0]:ts.value():ts)})}),hu(["pop","push","shift","sort","splice","unshift"],function(dt){var _t=vp[dt],Dt=/^(?:push|sort|unshift)$/.test(dt)?"tap":"thru",an=/^(?:pop|shift)$/.test(dt);In.prototype[dt]=function(){var En=arguments;if(an&&!this.__chain__){var Zn=this.value();return _t.apply(fs(Zn)?Zn:[],En)}return this[Dt](function(ar){return _t.apply(fs(ar)?ar:[],En)})}}),On(bs.prototype,function(dt,_t){var Dt=In[_t];if(Dt){var an=Dt.name+"";Js.call(Im,an)||(Im[an]=[]),Im[an].push({name:_t,func:Dt})}}),Im[K_(s,Tt).name]=[{name:"wrapper",func:s}],bs.prototype.clone=GF,bs.prototype.reverse=HF,bs.prototype.value=Xp,In.prototype.at=hU,In.prototype.chain=vv,In.prototype.commit=bv,In.prototype.next=rR,In.prototype.plant=dU,In.prototype.reverse=iR,In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=Bv,In.prototype.first=In.prototype.head,zp&&(In.prototype[zp]=N1),In},l0=a0();_p?((_p.exports=l0)._=l0,I0._=l0):yl._=l0}).call(commonjsGlobal)})(lodash,lodashExports);var lib={},uaParser_minExports={},uaParser_min={get exports(){return uaParser_minExports},set exports(i){uaParser_minExports=i}};(function(i,o){(function(s,_){var $="1.0.32",et="",rt="?",j="function",st="undefined",lt="object",gt="string",bt="major",Ut="model",Ft="name",yt="type",Qt="vendor",wt="version",Tt="architecture",Jt="console",At="mobile",Nt="tablet",St="smarttv",Ot="wearable",nn="embedded",yn=350,Ct="Amazon",Vt="Apple",Yt="ASUS",Pt="BlackBerry",tn="Browser",Un="Chrome",Kt="Edge",$t="Firefox",hn="Google",dn="Huawei",zt="LG",It="Microsoft",gn="Motorola",vn="Opera",Wn="Samsung",Ln="Sharp",jn="Sony",xn="Xiaomi",Rn="Zebra",jt="Facebook",Ht=function(Ao,qo){var Do={};for(var ws in Ao)qo[ws]&&qo[ws].length%2===0?Do[ws]=qo[ws].concat(Ao[ws]):Do[ws]=Ao[ws];return Do},_n=function(Ao){for(var qo={},Do=0;Do<Ao.length;Do++)qo[Ao[Do].toUpperCase()]=Ao[Do];return qo},Dn=function(Ao,qo){return typeof Ao===gt?Tn(qo).indexOf(Tn(Ao))!==-1:!1},Tn=function(Ao){return Ao.toLowerCase()},Xn=function(Ao){return typeof Ao===gt?Ao.replace(/[^\d\.]/g,et).split(".")[0]:_},or=function(Ao,qo){if(typeof Ao===gt)return Ao=Ao.replace(/^\s\s*/,et).replace(/\s\s*$/,et),typeof qo===st?Ao:Ao.substring(0,yn)},Rr=function(Ao,qo){for(var Do=0,ws,Wo,Fl,ys,Ys,ss;Do<qo.length&&!Ys;){var su=qo[Do],Xs=qo[Do+1];for(ws=Wo=0;ws<su.length&&!Ys;)if(Ys=su[ws++].exec(Ao),Ys)for(Fl=0;Fl<Xs.length;Fl++)ss=Ys[++Wo],ys=Xs[Fl],typeof ys===lt&&ys.length>0?ys.length===2?typeof ys[1]==j?this[ys[0]]=ys[1].call(this,ss):this[ys[0]]=ys[1]:ys.length===3?typeof ys[1]===j&&!(ys[1].exec&&ys[1].test)?this[ys[0]]=ss?ys[1].call(this,ss,ys[2]):_:this[ys[0]]=ss?ss.replace(ys[1],ys[2]):_:ys.length===4&&(this[ys[0]]=ss?ys[3].call(this,ss.replace(ys[1],ys[2])):_):this[ys]=ss||_;Do+=2}},ao=function(Ao,qo){for(var Do in qo)if(typeof qo[Do]===lt&&qo[Do].length>0){for(var ws=0;ws<qo[Do].length;ws++)if(Dn(qo[Do][ws],Ao))return Do===rt?_:Do}else if(Dn(qo[Do],Ao))return Do===rt?_:Do;return Ao},Vo={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},bo={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Po={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[wt,[Ft,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[wt,[Ft,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Ft,wt],[/opios[\/ ]+([\w\.]+)/i],[wt,[Ft,vn+" Mini"]],[/\bopr\/([\w\.]+)/i],[wt,[Ft,vn]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[Ft,wt],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[wt,[Ft,"UC"+tn]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[wt,[Ft,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[wt,[Ft,"WeChat"]],[/konqueror\/([\w\.]+)/i],[wt,[Ft,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[wt,[Ft,"IE"]],[/yabrowser\/([\w\.]+)/i],[wt,[Ft,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[Ft,/(.+)/,"$1 Secure "+tn],wt],[/\bfocus\/([\w\.]+)/i],[wt,[Ft,$t+" Focus"]],[/\bopt\/([\w\.]+)/i],[wt,[Ft,vn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[wt,[Ft,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[wt,[Ft,"Dolphin"]],[/coast\/([\w\.]+)/i],[wt,[Ft,vn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[wt,[Ft,"MIUI "+tn]],[/fxios\/([-\w\.]+)/i],[wt,[Ft,$t]],[/\bqihu|(qi?ho?o?|360)browser/i],[[Ft,"360 "+tn]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[Ft,/(.+)/,"$1 "+tn],wt],[/(comodo_dragon)\/([\w\.]+)/i],[[Ft,/_/g," "],wt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[Ft,wt],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[Ft],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Ft,jt],wt],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[Ft,wt],[/\bgsa\/([\w\.]+) .*safari\//i],[wt,[Ft,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[wt,[Ft,Un+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Ft,Un+" WebView"],wt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[wt,[Ft,"Android "+tn]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Ft,wt],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[wt,[Ft,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[wt,Ft],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Ft,[wt,ao,Vo]],[/(webkit|khtml)\/([\w\.]+)/i],[Ft,wt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Ft,"Netscape"],wt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[wt,[Ft,$t+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[Ft,wt]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Tt,"amd64"]],[/(ia32(?=;))/i],[[Tt,Tn]],[/((?:i[346]|x)86)[;\)]/i],[[Tt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Tt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Tt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Tt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Tt,/ower/,et,Tn]],[/(sun4\w)[;\)]/i],[[Tt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Tt,Tn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Ut,[Qt,Wn],[yt,Nt]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[Ut,[Qt,Wn],[yt,At]],[/\((ip(?:hone|od)[\w ]*);/i],[Ut,[Qt,Vt],[yt,At]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Ut,[Qt,Vt],[yt,Nt]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Ut,[Qt,dn],[yt,Nt]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Ut,[Qt,dn],[yt,At]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[Ut,/_/g," "],[Qt,xn],[yt,At]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Ut,/_/g," "],[Qt,xn],[yt,Nt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Ut,[Qt,"OPPO"],[yt,At]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Ut,[Qt,"Vivo"],[yt,At]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[Ut,[Qt,"Realme"],[yt,At]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Ut,[Qt,gn],[yt,At]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Ut,[Qt,gn],[yt,Nt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Ut,[Qt,zt],[yt,Nt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Ut,[Qt,zt],[yt,At]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Ut,[Qt,"Lenovo"],[yt,Nt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Ut,/_/g," "],[Qt,"Nokia"],[yt,At]],[/(pixel c)\b/i],[Ut,[Qt,hn],[yt,Nt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Ut,[Qt,hn],[yt,At]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Ut,[Qt,jn],[yt,At]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Ut,"Xperia Tablet"],[Qt,jn],[yt,Nt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Ut,[Qt,"OnePlus"],[yt,At]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Ut,[Qt,Ct],[yt,Nt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Ut,/(.+)/g,"Fire Phone $1"],[Qt,Ct],[yt,At]],[/(playbook);[-\w\),; ]+(rim)/i],[Ut,Qt,[yt,Nt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Ut,[Qt,Pt],[yt,At]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Ut,[Qt,Yt],[yt,Nt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Ut,[Qt,Yt],[yt,At]],[/(nexus 9)/i],[Ut,[Qt,"HTC"],[yt,Nt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[Qt,[Ut,/_/g," "],[yt,At]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Ut,[Qt,"Acer"],[yt,Nt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Ut,[Qt,"Meizu"],[yt,At]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Ut,[Qt,Ln],[yt,At]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Qt,Ut,[yt,At]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Qt,Ut,[yt,Nt]],[/(surface duo)/i],[Ut,[Qt,It],[yt,Nt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Ut,[Qt,"Fairphone"],[yt,At]],[/(u304aa)/i],[Ut,[Qt,"AT&T"],[yt,At]],[/\bsie-(\w*)/i],[Ut,[Qt,"Siemens"],[yt,At]],[/\b(rct\w+) b/i],[Ut,[Qt,"RCA"],[yt,Nt]],[/\b(venue[\d ]{2,7}) b/i],[Ut,[Qt,"Dell"],[yt,Nt]],[/\b(q(?:mv|ta)\w+) b/i],[Ut,[Qt,"Verizon"],[yt,Nt]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Ut,[Qt,"Barnes & Noble"],[yt,Nt]],[/\b(tm\d{3}\w+) b/i],[Ut,[Qt,"NuVision"],[yt,Nt]],[/\b(k88) b/i],[Ut,[Qt,"ZTE"],[yt,Nt]],[/\b(nx\d{3}j) b/i],[Ut,[Qt,"ZTE"],[yt,At]],[/\b(gen\d{3}) b.+49h/i],[Ut,[Qt,"Swiss"],[yt,At]],[/\b(zur\d{3}) b/i],[Ut,[Qt,"Swiss"],[yt,Nt]],[/\b((zeki)?tb.*\b) b/i],[Ut,[Qt,"Zeki"],[yt,Nt]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Qt,"Dragon Touch"],Ut,[yt,Nt]],[/\b(ns-?\w{0,9}) b/i],[Ut,[Qt,"Insignia"],[yt,Nt]],[/\b((nxa|next)-?\w{0,9}) b/i],[Ut,[Qt,"NextBook"],[yt,Nt]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Qt,"Voice"],Ut,[yt,At]],[/\b(lvtel\-)?(v1[12]) b/i],[[Qt,"LvTel"],Ut,[yt,At]],[/\b(ph-1) /i],[Ut,[Qt,"Essential"],[yt,At]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Ut,[Qt,"Envizen"],[yt,Nt]],[/\b(trio[-\w\. ]+) b/i],[Ut,[Qt,"MachSpeed"],[yt,Nt]],[/\btu_(1491) b/i],[Ut,[Qt,"Rotor"],[yt,Nt]],[/(shield[\w ]+) b/i],[Ut,[Qt,"Nvidia"],[yt,Nt]],[/(sprint) (\w+)/i],[Qt,Ut,[yt,At]],[/(kin\.[onetw]{3})/i],[[Ut,/\./g," "],[Qt,It],[yt,At]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Ut,[Qt,Rn],[yt,Nt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Ut,[Qt,Rn],[yt,At]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Qt,Ut,[yt,Jt]],[/droid.+; (shield) bui/i],[Ut,[Qt,"Nvidia"],[yt,Jt]],[/(playstation [345portablevi]+)/i],[Ut,[Qt,jn],[yt,Jt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Ut,[Qt,It],[yt,Jt]],[/smart-tv.+(samsung)/i],[Qt,[yt,St]],[/hbbtv.+maple;(\d+)/i],[[Ut,/^/,"SmartTV"],[Qt,Wn],[yt,St]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Qt,zt],[yt,St]],[/(apple) ?tv/i],[Qt,[Ut,Vt+" TV"],[yt,St]],[/crkey/i],[[Ut,Un+"cast"],[Qt,hn],[yt,St]],[/droid.+aft(\w)( bui|\))/i],[Ut,[Qt,Ct],[yt,St]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Ut,[Qt,Ln],[yt,St]],[/(bravia[\w ]+)( bui|\))/i],[Ut,[Qt,jn],[yt,St]],[/(mitv-\w{5}) bui/i],[Ut,[Qt,xn],[yt,St]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[Qt,or],[Ut,or],[yt,St]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[yt,St]],[/((pebble))app/i],[Qt,Ut,[yt,Ot]],[/droid.+; (glass) \d/i],[Ut,[Qt,hn],[yt,Ot]],[/droid.+; (wt63?0{2,3})\)/i],[Ut,[Qt,Rn],[yt,Ot]],[/(quest( 2)?)/i],[Ut,[Qt,jt],[yt,Ot]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Qt,[yt,nn]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[Ut,[yt,At]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Ut,[yt,Nt]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[yt,Nt]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[yt,At]],[/(android[-\w\. ]{0,9});.+buil/i],[Ut,[Qt,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[wt,[Ft,Kt+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[wt,[Ft,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[Ft,wt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[wt,Ft]],os:[[/microsoft (windows) (vista|xp)/i],[Ft,wt],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[Ft,[wt,ao,bo]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Ft,"Windows"],[wt,ao,bo]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[wt,/_/g,"."],[Ft,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Ft,"Mac OS"],[wt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[wt,Ft],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Ft,wt],[/\(bb(10);/i],[wt,[Ft,Pt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[wt,[Ft,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[wt,[Ft,$t+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[wt,[Ft,"webOS"]],[/crkey\/([\d\.]+)/i],[wt,[Ft,Un+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[Ft,"Chromium OS"],wt],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Ft,wt],[/(sunos) ?([\w\.\d]*)/i],[[Ft,"Solaris"],wt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[Ft,wt]]},_o=function(Ao,qo){if(typeof Ao===lt&&(qo=Ao,Ao=_),!(this instanceof _o))return new _o(Ao,qo).getResult();var Do=Ao||(typeof s!==st&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:et),ws=qo?Ht(Po,qo):Po;return this.getBrowser=function(){var Wo={};return Wo[Ft]=_,Wo[wt]=_,Rr.call(Wo,Do,ws.browser),Wo.major=Xn(Wo.version),Wo},this.getCPU=function(){var Wo={};return Wo[Tt]=_,Rr.call(Wo,Do,ws.cpu),Wo},this.getDevice=function(){var Wo={};return Wo[Qt]=_,Wo[Ut]=_,Wo[yt]=_,Rr.call(Wo,Do,ws.device),Wo},this.getEngine=function(){var Wo={};return Wo[Ft]=_,Wo[wt]=_,Rr.call(Wo,Do,ws.engine),Wo},this.getOS=function(){var Wo={};return Wo[Ft]=_,Wo[wt]=_,Rr.call(Wo,Do,ws.os),Wo},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Do},this.setUA=function(Wo){return Do=typeof Wo===gt&&Wo.length>yn?or(Wo,yn):Wo,this},this.setUA(Do),this};_o.VERSION=$,_o.BROWSER=_n([Ft,wt,bt]),_o.CPU=_n([Tt]),_o.DEVICE=_n([Ut,Qt,yt,Jt,At,St,Nt,Ot,nn]),_o.ENGINE=_o.OS=_n([Ft,wt]),i.exports&&(o=i.exports=_o),o.UAParser=_o;var Qo=typeof s!==st&&(s.jQuery||s.Zepto);if(Qo&&!Qo.ua){var zo=new _o;Qo.ua=zo.getResult(),Qo.ua.get=function(){return zo.getUA()},Qo.ua.set=function(Ao){zo.setUA(Ao);var qo=zo.getResult();for(var Do in qo)Qo.ua[Do]=qo[Do]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser_min,uaParser_minExports);Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(i){return i&&typeof i=="object"&&"default"in i?i.default:i}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function i(o){return ClientUAInstance.setUA(o)},parseUserAgent=function i(o){if(!o){console.error("No userAgent string was provided");return}var s=new UAParser(o);return{UA:s,browser:s.getBrowser(),cpu:s.getCPU(),device:s.getDevice(),engine:s.getEngine(),os:s.getOS(),ua:s.getUA(),setUserAgent:function($){return s.setUA($)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(i,o){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function($){return Object.getOwnPropertyDescriptor(i,$).enumerable})),s.push.apply(s,_)}return s}function _objectSpread2(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(s),!0).forEach(function(_){_defineProperty(i,_,s[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(s,_))})}return i}function _typeof(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(i)}function _classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,o){for(var s=0;s<o.length;s++){var _=o[s];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_.key,_)}}function _createClass(i,o,s){return o&&_defineProperties(i.prototype,o),s&&_defineProperties(i,s),i}function _defineProperty(i,o,s){return o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _extends(){return _extends=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])}return i},_extends.apply(this,arguments)}function _inherits(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&_setPrototypeOf(i,o)}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(i)}function _setPrototypeOf(i,o){return _setPrototypeOf=Object.setPrototypeOf||function(_,$){return _.__proto__=$,_},_setPrototypeOf(i,o)}function _objectWithoutPropertiesLoose(i,o){if(i==null)return{};var s={},_=Object.keys(i),$,et;for(et=0;et<_.length;et++)$=_[et],!(o.indexOf($)>=0)&&(s[$]=i[$]);return s}function _objectWithoutProperties(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose(i,o),_,$;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for($=0;$<et.length;$++)_=et[$],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(s[_]=i[_])}return s}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _possibleConstructorReturn(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _slicedToArray(i,o){return _arrayWithHoles(i)||_iterableToArrayLimit(i,o)||_unsupportedIterableToArray(i,o)||_nonIterableRest()}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _iterableToArrayLimit(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var _=[],$=!0,et=!1,rt,j;try{for(s=s.call(i);!($=(rt=s.next()).done)&&(_.push(rt.value),!(o&&_.length===o));$=!0);}catch(st){et=!0,j=st}finally{try{!$&&s.return!=null&&s.return()}finally{if(et)throw j}}return _}}function _unsupportedIterableToArray(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(i,o)}}function _arrayLikeToArray(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,_=new Array(o);s<o;s++)_[s]=i[s];return _}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function i(o){switch(o){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function i(o){return setUa(o)},setDefaults=function i(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return o||s},getNavigatorInstance=function i(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function i(o){var s=getNavigatorInstance();return s&&s.platform&&(s.platform.indexOf(o)!==-1||s.platform==="MacIntel"&&s.maxTouchPoints>1&&!window.MSStream)},browserPayload=function i(o,s,_,$,et){return{isBrowser:o,browserMajorVersion:setDefaults(s.major),browserFullVersion:setDefaults(s.version),browserName:setDefaults(s.name),engineName:setDefaults(_.name),engineVersion:setDefaults(_.version),osName:setDefaults($.name),osVersion:setDefaults($.version),userAgent:setDefaults(et)}},mobilePayload=function i(o,s,_,$){return _objectSpread2({},o,{vendor:setDefaults(s.vendor),model:setDefaults(s.model),os:setDefaults(_.name),osVersion:setDefaults(_.version),ua:setDefaults($)})},smartTvPayload=function i(o,s,_,$){return{isSmartTV:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},consolePayload=function i(o,s,_,$){return{isConsole:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},wearablePayload=function i(o,s,_,$){return{isWearable:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},embeddedPayload=function i(o,s,_,$,et){return{isEmbedded:o,vendor:setDefaults(s.vendor),model:setDefaults(s.model),engineName:setDefaults(_.name),engineVersion:setDefaults(_.version),osName:setDefaults($.name),osVersion:setDefaults($.version),userAgent:setDefaults(et)}};function deviceDetect(i){var o=i?parseUserAgent(i):UAHelper,s=o.device,_=o.browser,$=o.engine,et=o.os,rt=o.ua,j=checkDeviceType(s.type),st=j.isBrowser,lt=j.isMobile,gt=j.isTablet,bt=j.isSmartTV,Ut=j.isConsole,Ft=j.isWearable,yt=j.isEmbedded;if(st)return browserPayload(st,_,$,et,rt);if(bt)return smartTvPayload(bt,$,et,rt);if(Ut)return consolePayload(Ut,$,et,rt);if(lt||gt)return mobilePayload(j,s,et,rt);if(Ft)return wearablePayload(Ft,$,et,rt);if(yt)return embeddedPayload(yt,s,$,et,rt)}var isMobileType=function i(o){var s=o.type;return s===DeviceTypes.Mobile},isTabletType=function i(o){var s=o.type;return s===DeviceTypes.Tablet},isMobileAndTabletType=function i(o){var s=o.type;return s===DeviceTypes.Mobile||s===DeviceTypes.Tablet},isSmartTVType=function i(o){var s=o.type;return s===DeviceTypes.SmartTv},isBrowserType=function i(o){var s=o.type;return s===DeviceTypes.Browser},isWearableType=function i(o){var s=o.type;return s===DeviceTypes.Wearable},isConsoleType=function i(o){var s=o.type;return s===DeviceTypes.Console},isEmbeddedType=function i(o){var s=o.type;return s===DeviceTypes.Embedded},getMobileVendor=function i(o){var s=o.vendor;return setDefaults(s)},getMobileModel=function i(o){var s=o.model;return setDefaults(s)},getDeviceType=function i(o){var s=o.type;return setDefaults(s,"browser")},isAndroidType=function i(o){var s=o.name;return s===OsTypes.Android},isWindowsType=function i(o){var s=o.name;return s===OsTypes.Windows},isMacOsType=function i(o){var s=o.name;return s===OsTypes.MAC_OS},isWinPhoneType=function i(o){var s=o.name;return s===OsTypes.WindowsPhone},isIOSType=function i(o){var s=o.name;return s===OsTypes.IOS},getOsVersion=function i(o){var s=o.version;return setDefaults(s)},getOsName=function i(o){var s=o.name;return setDefaults(s)},isChromeType=function i(o){var s=o.name;return s===BrowserTypes.Chrome},isFirefoxType=function i(o){var s=o.name;return s===BrowserTypes.Firefox},isChromiumType=function i(o){var s=o.name;return s===BrowserTypes.Chromium},isEdgeType=function i(o){var s=o.name;return s===BrowserTypes.Edge},isYandexType=function i(o){var s=o.name;return s===BrowserTypes.Yandex},isSafariType=function i(o){var s=o.name;return s===BrowserTypes.Safari||s===BrowserTypes.MobileSafari},isMobileSafariType=function i(o){var s=o.name;return s===BrowserTypes.MobileSafari},isOperaType=function i(o){var s=o.name;return s===BrowserTypes.Opera},isIEType=function i(o){var s=o.name;return s===BrowserTypes.InternetExplorer||s===BrowserTypes.Ie},isMIUIType=function i(o){var s=o.name;return s===BrowserTypes.MIUI},isSamsungBrowserType=function i(o){var s=o.name;return s===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function i(o){var s=o.version;return setDefaults(s)},getBrowserVersion=function i(o){var s=o.major;return setDefaults(s)},getBrowserName=function i(o){var s=o.name;return setDefaults(s)},getEngineName=function i(o){var s=o.name;return setDefaults(s)},getEngineVersion=function i(o){var s=o.version;return setDefaults(s)},isElectronType=function i(){var o=getNavigatorInstance(),s=o&&o.userAgent&&o.userAgent.toLowerCase();return typeof s=="string"?/electron/.test(s):!1},isEdgeChromiumType=function i(o){return typeof o=="string"&&o.indexOf("Edg/")!==-1},getIOS13=function i(){var o=getNavigatorInstance();return o&&(/iPad|iPhone|iPod/.test(o.platform)||o.platform==="MacIntel"&&o.maxTouchPoints>1)&&!window.MSStream},getIPad13=function i(){return isIOS13Check("iPad")},getIphone13=function i(){return isIOS13Check("iPhone")},getIPod13=function i(){return isIOS13Check("iPod")},getUseragent=function i(o){return setDefaults(o)};function buildSelectorsObject(i){var o=i||UAHelper,s=o.device,_=o.browser,$=o.os,et=o.engine,rt=o.ua;return{isSmartTV:isSmartTVType(s),isConsole:isConsoleType(s),isWearable:isWearableType(s),isEmbedded:isEmbeddedType(s),isMobileSafari:isMobileSafariType(_)||getIPad13(),isChromium:isChromiumType(_),isMobile:isMobileAndTabletType(s)||getIPad13(),isMobileOnly:isMobileType(s),isTablet:isTabletType(s)||getIPad13(),isBrowser:isBrowserType(s),isDesktop:isBrowserType(s),isAndroid:isAndroidType($),isWinPhone:isWinPhoneType($),isIOS:isIOSType($)||getIPad13(),isChrome:isChromeType(_),isFirefox:isFirefoxType(_),isSafari:isSafariType(_),isOpera:isOperaType(_),isIE:isIEType(_),osVersion:getOsVersion($),osName:getOsName($),fullBrowserVersion:getBrowserFullVersion(_),browserVersion:getBrowserVersion(_),browserName:getBrowserName(_),mobileVendor:getMobileVendor(s),mobileModel:getMobileModel(s),engineName:getEngineName(et),engineVersion:getEngineVersion(et),getUA:getUseragent(rt),isEdge:isEdgeType(_)||isEdgeChromiumType(rt),isYandex:isYandexType(_),deviceType:getDeviceType(s),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(rt),isLegacyEdge:isEdgeType(_)&&!isEdgeChromiumType(rt),isWindows:isWindowsType($),isMacOs:isMacOsType($),isMIUI:isMIUIType(_),isSamsungBrowser:isSamsungBrowserType(_)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function i(o){if(!o||typeof o!="string"){console.error("No valid user agent string was provided");return}var s=parseUserAgent(o),_=s.device,$=s.browser,et=s.os,rt=s.engine,j=s.ua;return buildSelectorsObject({device:_,browser:$,os:et,engine:rt,ua:j})},AndroidView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isAndroid?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},BrowserView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isBrowser?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},IEView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIE?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},IOSView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIOS?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},MobileView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isMobile?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},TabletView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isTablet?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},WinPhoneView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWinPhone?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},MobileOnlyView=function i(o){var s=o.renderWithFragment,_=o.children;o.viewClassName,o.style;var $=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},SmartTVView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isSmartTV?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},ConsoleView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isConsole?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},WearableView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWearable?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},CustomView=function i(o){var s=o.renderWithFragment,_=o.children;o.viewClassName,o.style;var $=o.condition,et=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style","condition"]);return $?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",et,_):null};function withOrientationChange(i){return function(o){_inherits(s,o);function s(_){var $;return _classCallCheck(this,s),$=_possibleConstructorReturn(this,_getPrototypeOf(s).call(this,_)),$.isEventListenerAdded=!1,$.handleOrientationChange=$.handleOrientationChange.bind(_assertThisInitialized($)),$.onOrientationChange=$.onOrientationChange.bind(_assertThisInitialized($)),$.onPageLoad=$.onPageLoad.bind(_assertThisInitialized($)),$.state={isLandscape:!1,isPortrait:!1},$}return _createClass(s,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var $=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:$===0,isLandscape:$===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(i,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),s}(React__default.Component)}function useMobileOrientation(){var i=React.useState(function(){var et=window.innerWidth>window.innerHeight?90:0;return{isPortrait:et===0,isLandscape:et===90,orientation:et===0?"portrait":"landscape"}}),o=_slicedToArray(i,2),s=o[0],_=o[1],$=React.useCallback(function(){var et=window.innerWidth>window.innerHeight?90:0,rt={isPortrait:et===0,isLandscape:et===90,orientation:et===0?"portrait":"landscape"};s.orientation!==rt.orientation&&_(rt)},[s.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&($(),window.addEventListener("load",$,!1),window.addEventListener("resize",$,!1)),function(){window.removeEventListener("resize",$,!1),window.removeEventListener("load",$,!1)}},[$]),s}function useDeviceData(i){var o=i||window.navigator.userAgent;return parseUserAgent(o)}function useDeviceSelectors(i){var o=i||window.navigator.userAgent,s=useDeviceData(o),_=buildSelectorsObject(s);return[_,s]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function round(i){return i+.5|0}const lim=(i,o,s)=>Math.max(Math.min(i,s),o);function p2b(i){return lim(round(i*2.55),0,255)}function n2b(i){return lim(round(i*255),0,255)}function b2n(i){return lim(round(i/2.55)/100,0,1)}function n2p(i){return lim(round(i*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=i=>hex[i&15],h2=i=>hex[(i&240)>>4]+hex[i&15],eq=i=>(i&240)>>4===(i&15),isShort=i=>eq(i.r)&&eq(i.g)&&eq(i.b)&&eq(i.a);function hexParse(i){var o=i.length,s;return i[0]==="#"&&(o===4||o===5?s={r:255&map$1[i[1]]*17,g:255&map$1[i[2]]*17,b:255&map$1[i[3]]*17,a:o===5?map$1[i[4]]*17:255}:(o===7||o===9)&&(s={r:map$1[i[1]]<<4|map$1[i[2]],g:map$1[i[3]]<<4|map$1[i[4]],b:map$1[i[5]]<<4|map$1[i[6]],a:o===9?map$1[i[7]]<<4|map$1[i[8]]:255})),s}const alpha=(i,o)=>i<255?o(i):"";function hexString(i){var o=isShort(i)?h1:h2;return i?"#"+o(i.r)+o(i.g)+o(i.b)+alpha(i.a,o):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(i,o,s){const _=o*Math.min(s,1-s),$=(et,rt=(et+i/30)%12)=>s-_*Math.max(Math.min(rt-3,9-rt,1),-1);return[$(0),$(8),$(4)]}function hsv2rgbn(i,o,s){const _=($,et=($+i/60)%6)=>s-s*o*Math.max(Math.min(et,4-et,1),0);return[_(5),_(3),_(1)]}function hwb2rgbn(i,o,s){const _=hsl2rgbn(i,1,.5);let $;for(o+s>1&&($=1/(o+s),o*=$,s*=$),$=0;$<3;$++)_[$]*=1-o-s,_[$]+=o;return _}function hueValue(i,o,s,_,$){return i===$?(o-s)/_+(o<s?6:0):o===$?(s-i)/_+2:(i-o)/_+4}function rgb2hsl(i){const s=i.r/255,_=i.g/255,$=i.b/255,et=Math.max(s,_,$),rt=Math.min(s,_,$),j=(et+rt)/2;let st,lt,gt;return et!==rt&&(gt=et-rt,lt=j>.5?gt/(2-et-rt):gt/(et+rt),st=hueValue(s,_,$,gt,et),st=st*60+.5),[st|0,lt||0,j]}function calln(i,o,s,_){return(Array.isArray(o)?i(o[0],o[1],o[2]):i(o,s,_)).map(n2b)}function hsl2rgb(i,o,s){return calln(hsl2rgbn,i,o,s)}function hwb2rgb(i,o,s){return calln(hwb2rgbn,i,o,s)}function hsv2rgb(i,o,s){return calln(hsv2rgbn,i,o,s)}function hue(i){return(i%360+360)%360}function hueParse(i){const o=HUE_RE.exec(i);let s=255,_;if(!o)return;o[5]!==_&&(s=o[6]?p2b(+o[5]):n2b(+o[5]));const $=hue(+o[2]),et=+o[3]/100,rt=+o[4]/100;return o[1]==="hwb"?_=hwb2rgb($,et,rt):o[1]==="hsv"?_=hsv2rgb($,et,rt):_=hsl2rgb($,et,rt),{r:_[0],g:_[1],b:_[2],a:s}}function rotate(i,o){var s=rgb2hsl(i);s[0]=hue(s[0]+o),s=hsl2rgb(s),i.r=s[0],i.g=s[1],i.b=s[2]}function hslString(i){if(!i)return;const o=rgb2hsl(i),s=o[0],_=n2p(o[1]),$=n2p(o[2]);return i.a<255?`hsla(${s}, ${_}%, ${$}%, ${b2n(i.a)})`:`hsl(${s}, ${_}%, ${$}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const i={},o=Object.keys(names$1),s=Object.keys(map$2);let _,$,et,rt,j;for(_=0;_<o.length;_++){for(rt=j=o[_],$=0;$<s.length;$++)et=s[$],j=j.replace(et,map$2[et]);et=parseInt(names$1[rt],16),i[j]=[et>>16&255,et>>8&255,et&255]}return i}let names;function nameParse(i){names||(names=unpack(),names.transparent=[0,0,0,0]);const o=names[i.toLowerCase()];return o&&{r:o[0],g:o[1],b:o[2],a:o.length===4?o[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(i){const o=RGB_RE.exec(i);let s=255,_,$,et;if(o){if(o[7]!==_){const rt=+o[7];s=o[8]?p2b(rt):lim(rt*255,0,255)}return _=+o[1],$=+o[3],et=+o[5],_=255&(o[2]?p2b(_):lim(_,0,255)),$=255&(o[4]?p2b($):lim($,0,255)),et=255&(o[6]?p2b(et):lim(et,0,255)),{r:_,g:$,b:et,a:s}}}function rgbString(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${b2n(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const to=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,from=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function interpolate$1(i,o,s){const _=from(b2n(i.r)),$=from(b2n(i.g)),et=from(b2n(i.b));return{r:n2b(to(_+s*(from(b2n(o.r))-_))),g:n2b(to($+s*(from(b2n(o.g))-$))),b:n2b(to(et+s*(from(b2n(o.b))-et))),a:i.a+s*(o.a-i.a)}}function modHSL(i,o,s){if(i){let _=rgb2hsl(i);_[o]=Math.max(0,Math.min(_[o]+_[o]*s,o===0?360:1)),_=hsl2rgb(_),i.r=_[0],i.g=_[1],i.b=_[2]}}function clone$1(i,o){return i&&Object.assign(o||{},i)}function fromObject(i){var o={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(o={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(o.a=n2b(i[3]))):(o=clone$1(i,{r:0,g:0,b:0,a:1}),o.a=n2b(o.a)),o}function functionParse(i){return i.charAt(0)==="r"?rgbParse(i):hueParse(i)}class Color{constructor(o){if(o instanceof Color)return o;const s=typeof o;let _;s==="object"?_=fromObject(o):s==="string"&&(_=hexParse(o)||nameParse(o)||functionParse(o)),this._rgb=_,this._valid=!!_}get valid(){return this._valid}get rgb(){var o=clone$1(this._rgb);return o&&(o.a=b2n(o.a)),o}set rgb(o){this._rgb=fromObject(o)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(o,s){if(o){const _=this.rgb,$=o.rgb;let et;const rt=s===et?.5:s,j=2*rt-1,st=_.a-$.a,lt=((j*st===-1?j:(j+st)/(1+j*st))+1)/2;et=1-lt,_.r=255&lt*_.r+et*$.r+.5,_.g=255&lt*_.g+et*$.g+.5,_.b=255&lt*_.b+et*$.b+.5,_.a=rt*_.a+(1-rt)*$.a,this.rgb=_}return this}interpolate(o,s){return o&&(this._rgb=interpolate$1(this._rgb,o._rgb,s)),this}clone(){return new Color(this.rgb)}alpha(o){return this._rgb.a=n2b(o),this}clearer(o){const s=this._rgb;return s.a*=1-o,this}greyscale(){const o=this._rgb,s=round(o.r*.3+o.g*.59+o.b*.11);return o.r=o.g=o.b=s,this}opaquer(o){const s=this._rgb;return s.a*=1+o,this}negate(){const o=this._rgb;return o.r=255-o.r,o.g=255-o.g,o.b=255-o.b,this}lighten(o){return modHSL(this._rgb,2,o),this}darken(o){return modHSL(this._rgb,2,-o),this}saturate(o){return modHSL(this._rgb,1,o),this}desaturate(o){return modHSL(this._rgb,1,-o),this}rotate(o){return rotate(this._rgb,o),this}}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let i=0;return()=>i++})();function isNullOrUndef(i){return i===null||typeof i>"u"}function isArray(i){if(Array.isArray&&Array.isArray(i))return!0;const o=Object.prototype.toString.call(i);return o.slice(0,7)==="[object"&&o.slice(-6)==="Array]"}function isObject(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function isNumberFinite(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function finiteOrDefault(i,o){return isNumberFinite(i)?i:o}function valueOrDefault(i,o){return typeof i>"u"?o:i}const toPercentage=(i,o)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/o,toDimension=(i,o)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*o:+i;function callback(i,o,s){if(i&&typeof i.call=="function")return i.apply(s,o)}function each(i,o,s,_){let $,et,rt;if(isArray(i))if(et=i.length,_)for($=et-1;$>=0;$--)o.call(s,i[$],$);else for($=0;$<et;$++)o.call(s,i[$],$);else if(isObject(i))for(rt=Object.keys(i),et=rt.length,$=0;$<et;$++)o.call(s,i[rt[$]],rt[$])}function _elementsEqual(i,o){let s,_,$,et;if(!i||!o||i.length!==o.length)return!1;for(s=0,_=i.length;s<_;++s)if($=i[s],et=o[s],$.datasetIndex!==et.datasetIndex||$.index!==et.index)return!1;return!0}function clone(i){if(isArray(i))return i.map(clone);if(isObject(i)){const o=Object.create(null),s=Object.keys(i),_=s.length;let $=0;for(;$<_;++$)o[s[$]]=clone(i[s[$]]);return o}return i}function isValidKey(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function _merger(i,o,s,_){if(!isValidKey(i))return;const $=o[i],et=s[i];isObject($)&&isObject(et)?merge$1($,et,_):o[i]=clone(et)}function merge$1(i,o,s){const _=isArray(o)?o:[o],$=_.length;if(!isObject(i))return i;s=s||{};const et=s.merger||_merger;let rt;for(let j=0;j<$;++j){if(rt=_[j],!isObject(rt))continue;const st=Object.keys(rt);for(let lt=0,gt=st.length;lt<gt;++lt)et(st[lt],i,rt,s)}return i}function mergeIf(i,o){return merge$1(i,o,{merger:_mergerIf})}function _mergerIf(i,o,s){if(!isValidKey(i))return;const _=o[i],$=s[i];isObject(_)&&isObject($)?mergeIf(_,$):Object.prototype.hasOwnProperty.call(o,i)||(o[i]=clone($))}const keyResolvers={"":i=>i,x:i=>i.x,y:i=>i.y};function _splitKey(i){const o=i.split("."),s=[];let _="";for(const $ of o)_+=$,_.endsWith("\\")?_=_.slice(0,-1)+".":(s.push(_),_="");return s}function _getKeyResolver(i){const o=_splitKey(i);return s=>{for(const _ of o){if(_==="")break;s=s&&s[_]}return s}}function resolveObjectKey(i,o){return(keyResolvers[o]||(keyResolvers[o]=_getKeyResolver(o)))(i)}function _capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1)}const defined=i=>typeof i<"u",isFunction=i=>typeof i=="function",setsEqual=(i,o)=>{if(i.size!==o.size)return!1;for(const s of i)if(!o.has(s))return!1;return!0};function _isClickEvent(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(i,o,s){return Math.abs(i-o)<s}function niceNum(i){const o=Math.round(i);i=almostEquals(i,o,i/1e3)?o:i;const s=Math.pow(10,Math.floor(log10(i))),_=i/s;return(_<=1?1:_<=2?2:_<=5?5:10)*s}function _factorize(i){const o=[],s=Math.sqrt(i);let _;for(_=1;_<s;_++)i%_===0&&(o.push(_),o.push(i/_));return s===(s|0)&&o.push(s),o.sort(($,et)=>$-et).pop(),o}function isNumber(i){return!isNaN(parseFloat(i))&&isFinite(i)}function almostWhole(i,o){const s=Math.round(i);return s-o<=i&&s+o>=i}function _setMinAndMaxByKey(i,o,s){let _,$,et;for(_=0,$=i.length;_<$;_++)et=i[_][s],isNaN(et)||(o.min=Math.min(o.min,et),o.max=Math.max(o.max,et))}function toRadians(i){return i*(PI/180)}function toDegrees(i){return i*(180/PI)}function _decimalPlaces(i){if(!isNumberFinite(i))return;let o=1,s=0;for(;Math.round(i*o)/o!==i;)o*=10,s++;return s}function getAngleFromPoint(i,o){const s=o.x-i.x,_=o.y-i.y,$=Math.sqrt(s*s+_*_);let et=Math.atan2(_,s);return et<-.5*PI&&(et+=TAU),{angle:et,distance:$}}function distanceBetweenPoints(i,o){return Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))}function _angleDiff(i,o){return(i-o+PITAU)%TAU-PI}function _normalizeAngle(i){return(i%TAU+TAU)%TAU}function _angleBetween(i,o,s,_){const $=_normalizeAngle(i),et=_normalizeAngle(o),rt=_normalizeAngle(s),j=_normalizeAngle(et-$),st=_normalizeAngle(rt-$),lt=_normalizeAngle($-et),gt=_normalizeAngle($-rt);return $===et||$===rt||_&&et===rt||j>st&&lt<gt}function _limitValue(i,o,s){return Math.max(o,Math.min(s,i))}function _int16Range(i){return _limitValue(i,-32768,32767)}function _isBetween(i,o,s,_=1e-6){return i>=Math.min(o,s)-_&&i<=Math.max(o,s)+_}function _lookup(i,o,s){s=s||(rt=>i[rt]<o);let _=i.length-1,$=0,et;for(;_-$>1;)et=$+_>>1,s(et)?$=et:_=et;return{lo:$,hi:_}}const _lookupByKey=(i,o,s,_)=>_lookup(i,s,_?$=>{const et=i[$][o];return et<s||et===s&&i[$+1][o]===s}:$=>i[$][o]<s),_rlookupByKey=(i,o,s)=>_lookup(i,s,_=>i[_][o]>=s);function _filterBetween(i,o,s){let _=0,$=i.length;for(;_<$&&i[_]<o;)_++;for(;$>_&&i[$-1]>s;)$--;return _>0||$<i.length?i.slice(_,$):i}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(i,o){if(i._chartjs){i._chartjs.listeners.push(o);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),arrayEvents.forEach(s=>{const _="_onData"+_capitalize(s),$=i[s];Object.defineProperty(i,s,{configurable:!0,enumerable:!1,value(...et){const rt=$.apply(this,et);return i._chartjs.listeners.forEach(j=>{typeof j[_]=="function"&&j[_](...et)}),rt}})})}function unlistenArrayEvents(i,o){const s=i._chartjs;if(!s)return;const _=s.listeners,$=_.indexOf(o);$!==-1&&_.splice($,1),!(_.length>0)&&(arrayEvents.forEach(et=>{delete i[et]}),delete i._chartjs)}function _arrayUnique(i){const o=new Set;let s,_;for(s=0,_=i.length;s<_;++s)o.add(i[s]);return o.size===_?i:Array.from(o)}const requestAnimFrame=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function throttled(i,o){let s=[],_=!1;return function(...$){s=$,_||(_=!0,requestAnimFrame.call(window,()=>{_=!1,i.apply(o,s)}))}}function debounce(i,o){let s;return function(..._){return o?(clearTimeout(s),s=setTimeout(i,o,_)):i.apply(this,_),o}}const _toLeftRightCenter=i=>i==="start"?"left":i==="end"?"right":"center",_alignStartEnd=(i,o,s)=>i==="start"?o:i==="end"?s:(o+s)/2,_textX=(i,o,s,_)=>i===(_?"left":"right")?s:i==="center"?(o+s)/2:o;function _getStartAndCountOfVisiblePoints(i,o,s){const _=o.length;let $=0,et=_;if(i._sorted){const{iScale:rt,_parsed:j}=i,st=rt.axis,{min:lt,max:gt,minDefined:bt,maxDefined:Ut}=rt.getUserBounds();bt&&($=_limitValue(Math.min(_lookupByKey(j,rt.axis,lt).lo,s?_:_lookupByKey(o,st,rt.getPixelForValue(lt)).lo),0,_-1)),Ut?et=_limitValue(Math.max(_lookupByKey(j,rt.axis,gt,!0).hi+1,s?0:_lookupByKey(o,st,rt.getPixelForValue(gt),!0).hi+1),$,_)-$:et=_-$}return{start:$,count:et}}function _scaleRangesChanged(i){const{xScale:o,yScale:s,_scaleRanges:_}=i,$={xmin:o.min,xmax:o.max,ymin:s.min,ymax:s.max};if(!_)return i._scaleRanges=$,!0;const et=_.xmin!==o.min||_.xmax!==o.max||_.ymin!==s.min||_.ymax!==s.max;return Object.assign(_,$),et}const atEdge=i=>i===0||i===1,elasticIn=(i,o,s)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-o)*TAU/s)),elasticOut=(i,o,s)=>Math.pow(2,-10*i)*Math.sin((i-o)*TAU/s)+1,effects={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*HALF_PI)+1,easeOutSine:i=>Math.sin(i*HALF_PI),easeInOutSine:i=>-.5*(Math.cos(PI*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>atEdge(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>atEdge(i)?i:elasticIn(i,.075,.3),easeOutElastic:i=>atEdge(i)?i:elasticOut(i,.075,.3),easeInOutElastic(i){return atEdge(i)?i:i<.5?.5*elasticIn(i*2,.1125,.45):.5+.5*elasticOut(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let o=1.70158;return(i/=.5)<1?.5*(i*i*(((o*=1.525)+1)*i-o)):.5*((i-=2)*i*(((o*=1.525)+1)*i+o)+2)},easeInBounce:i=>1-effects.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?effects.easeInBounce(i*2)*.5:effects.easeOutBounce(i*2-1)*.5+.5};function isPatternOrGradient(i){if(i&&typeof i=="object"){const o=i.toString();return o==="[object CanvasPattern]"||o==="[object CanvasGradient]"}return!1}function color(i){return isPatternOrGradient(i)?i:new Color(i)}function getHoverColor(i){return isPatternOrGradient(i)?i:new Color(i).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:o=>o!=="onProgress"&&o!=="onComplete"&&o!=="fn"}),i.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:o=>o|0}}}})}function applyLayoutsDefaults(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(i,o){o=o||{};const s=i+JSON.stringify(o);let _=intlCache.get(s);return _||(_=new Intl.NumberFormat(i,o),intlCache.set(s,_)),_}function formatNumber(i,o,s){return getNumberFormat(o,s).format(i)}const formatters={values(i){return isArray(i)?i:""+i},numeric(i,o,s){if(i===0)return"0";const _=this.chart.options.locale;let $,et=i;if(s.length>1){const lt=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(lt<1e-4||lt>1e15)&&($="scientific"),et=calculateDelta(i,s)}const rt=log10(Math.abs(et)),j=Math.max(Math.min(-1*Math.floor(rt),20),0),st={notation:$,minimumFractionDigits:j,maximumFractionDigits:j};return Object.assign(st,this.options.ticks.format),formatNumber(i,_,st)},logarithmic(i,o,s){if(i===0)return"0";const _=s[o].significand||i/Math.pow(10,Math.floor(log10(i)));return[1,2,3,5,10,15].includes(_)||o>.8*s.length?formatters.numeric.call(this,i,o,s):""}};function calculateDelta(i,o){let s=o.length>3?o[2].value-o[1].value:o[1].value-o[0].value;return Math.abs(s)>=1&&i!==Math.floor(i)&&(s=i-Math.floor(i)),s}var Ticks={formatters};function applyScaleDefaults(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(o,s)=>s.lineWidth,tickColor:(o,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:o=>!o.startsWith("before")&&!o.startsWith("after")&&o!=="callback"&&o!=="parser",_indexable:o=>o!=="borderDash"&&o!=="tickBorderDash"&&o!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:o=>o!=="backdropPadding"&&o!=="callback",_indexable:o=>o!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(i,o){if(!o)return i;const s=o.split(".");for(let _=0,$=s.length;_<$;++_){const et=s[_];i=i[et]||(i[et]=Object.create(null))}return i}function set(i,o,s){return typeof o=="string"?merge$1(getScope$1(i,o),s):merge$1(getScope$1(i,""),o)}class Defaults{constructor(o,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=_=>_.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(_,$)=>getHoverColor($.backgroundColor),this.hoverBorderColor=(_,$)=>getHoverColor($.borderColor),this.hoverColor=(_,$)=>getHoverColor($.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(o),this.apply(s)}set(o,s){return set(this,o,s)}get(o){return getScope$1(this,o)}describe(o,s){return set(descriptors,o,s)}override(o,s){return set(overrides,o,s)}route(o,s,_,$){const et=getScope$1(this,o),rt=getScope$1(this,_),j="_"+s;Object.defineProperties(et,{[j]:{value:et[s],writable:!0},[s]:{enumerable:!0,get(){const st=this[j],lt=rt[$];return isObject(st)?Object.assign({},lt,st):valueOrDefault(st,lt)},set(st){this[j]=st}}})}apply(o){o.forEach(s=>s(this))}}var defaults=new Defaults({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(i){return!i||isNullOrUndef(i.size)||isNullOrUndef(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function _measureText(i,o,s,_,$){let et=o[$];return et||(et=o[$]=i.measureText($).width,s.push($)),et>_&&(_=et),_}function _longestText(i,o,s,_){_=_||{};let $=_.data=_.data||{},et=_.garbageCollect=_.garbageCollect||[];_.font!==o&&($=_.data={},et=_.garbageCollect=[],_.font=o),i.save(),i.font=o;let rt=0;const j=s.length;let st,lt,gt,bt,Ut;for(st=0;st<j;st++)if(bt=s[st],bt!=null&&isArray(bt)!==!0)rt=_measureText(i,$,et,rt,bt);else if(isArray(bt))for(lt=0,gt=bt.length;lt<gt;lt++)Ut=bt[lt],Ut!=null&&!isArray(Ut)&&(rt=_measureText(i,$,et,rt,Ut));i.restore();const Ft=et.length/2;if(Ft>s.length){for(st=0;st<Ft;st++)delete $[et[st]];et.splice(0,Ft)}return rt}function _alignPixel(i,o,s){const _=i.currentDevicePixelRatio,$=s!==0?Math.max(s/2,.5):0;return Math.round((o-$)*_)/_+$}function clearCanvas(i,o){o=o||i.getContext("2d"),o.save(),o.resetTransform(),o.clearRect(0,0,i.width,i.height),o.restore()}function drawPoint(i,o,s,_){drawPointLegend(i,o,s,_,null)}function drawPointLegend(i,o,s,_,$){let et,rt,j,st,lt,gt,bt,Ut;const Ft=o.pointStyle,yt=o.rotation,Qt=o.radius;let wt=(yt||0)*RAD_PER_DEG;if(Ft&&typeof Ft=="object"&&(et=Ft.toString(),et==="[object HTMLImageElement]"||et==="[object HTMLCanvasElement]")){i.save(),i.translate(s,_),i.rotate(wt),i.drawImage(Ft,-Ft.width/2,-Ft.height/2,Ft.width,Ft.height),i.restore();return}if(!(isNaN(Qt)||Qt<=0)){switch(i.beginPath(),Ft){default:$?i.ellipse(s,_,$/2,Qt,0,0,TAU):i.arc(s,_,Qt,0,TAU),i.closePath();break;case"triangle":gt=$?$/2:Qt,i.moveTo(s+Math.sin(wt)*gt,_-Math.cos(wt)*Qt),wt+=TWO_THIRDS_PI,i.lineTo(s+Math.sin(wt)*gt,_-Math.cos(wt)*Qt),wt+=TWO_THIRDS_PI,i.lineTo(s+Math.sin(wt)*gt,_-Math.cos(wt)*Qt),i.closePath();break;case"rectRounded":lt=Qt*.516,st=Qt-lt,rt=Math.cos(wt+QUARTER_PI)*st,bt=Math.cos(wt+QUARTER_PI)*($?$/2-lt:st),j=Math.sin(wt+QUARTER_PI)*st,Ut=Math.sin(wt+QUARTER_PI)*($?$/2-lt:st),i.arc(s-bt,_-j,lt,wt-PI,wt-HALF_PI),i.arc(s+Ut,_-rt,lt,wt-HALF_PI,wt),i.arc(s+bt,_+j,lt,wt,wt+HALF_PI),i.arc(s-Ut,_+rt,lt,wt+HALF_PI,wt+PI),i.closePath();break;case"rect":if(!yt){st=Math.SQRT1_2*Qt,gt=$?$/2:st,i.rect(s-gt,_-st,2*gt,2*st);break}wt+=QUARTER_PI;case"rectRot":bt=Math.cos(wt)*($?$/2:Qt),rt=Math.cos(wt)*Qt,j=Math.sin(wt)*Qt,Ut=Math.sin(wt)*($?$/2:Qt),i.moveTo(s-bt,_-j),i.lineTo(s+Ut,_-rt),i.lineTo(s+bt,_+j),i.lineTo(s-Ut,_+rt),i.closePath();break;case"crossRot":wt+=QUARTER_PI;case"cross":bt=Math.cos(wt)*($?$/2:Qt),rt=Math.cos(wt)*Qt,j=Math.sin(wt)*Qt,Ut=Math.sin(wt)*($?$/2:Qt),i.moveTo(s-bt,_-j),i.lineTo(s+bt,_+j),i.moveTo(s+Ut,_-rt),i.lineTo(s-Ut,_+rt);break;case"star":bt=Math.cos(wt)*($?$/2:Qt),rt=Math.cos(wt)*Qt,j=Math.sin(wt)*Qt,Ut=Math.sin(wt)*($?$/2:Qt),i.moveTo(s-bt,_-j),i.lineTo(s+bt,_+j),i.moveTo(s+Ut,_-rt),i.lineTo(s-Ut,_+rt),wt+=QUARTER_PI,bt=Math.cos(wt)*($?$/2:Qt),rt=Math.cos(wt)*Qt,j=Math.sin(wt)*Qt,Ut=Math.sin(wt)*($?$/2:Qt),i.moveTo(s-bt,_-j),i.lineTo(s+bt,_+j),i.moveTo(s+Ut,_-rt),i.lineTo(s-Ut,_+rt);break;case"line":rt=$?$/2:Math.cos(wt)*Qt,j=Math.sin(wt)*Qt,i.moveTo(s-rt,_-j),i.lineTo(s+rt,_+j);break;case"dash":i.moveTo(s,_),i.lineTo(s+Math.cos(wt)*($?$/2:Qt),_+Math.sin(wt)*Qt);break;case!1:i.closePath();break}i.fill(),o.borderWidth>0&&i.stroke()}}function _isPointInArea(i,o,s){return s=s||.5,!o||i&&i.x>o.left-s&&i.x<o.right+s&&i.y>o.top-s&&i.y<o.bottom+s}function clipArea(i,o){i.save(),i.beginPath(),i.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),i.clip()}function unclipArea(i){i.restore()}function _steppedLineTo(i,o,s,_,$){if(!o)return i.lineTo(s.x,s.y);if($==="middle"){const et=(o.x+s.x)/2;i.lineTo(et,o.y),i.lineTo(et,s.y)}else $==="after"!=!!_?i.lineTo(o.x,s.y):i.lineTo(s.x,o.y);i.lineTo(s.x,s.y)}function _bezierCurveTo(i,o,s,_){if(!o)return i.lineTo(s.x,s.y);i.bezierCurveTo(_?o.cp1x:o.cp2x,_?o.cp1y:o.cp2y,_?s.cp2x:s.cp1x,_?s.cp2y:s.cp1y,s.x,s.y)}function renderText(i,o,s,_,$,et={}){const rt=isArray(o)?o:[o],j=et.strokeWidth>0&&et.strokeColor!=="";let st,lt;for(i.save(),i.font=$.string,setRenderOpts(i,et),st=0;st<rt.length;++st)lt=rt[st],et.backdrop&&drawBackdrop(i,et.backdrop),j&&(et.strokeColor&&(i.strokeStyle=et.strokeColor),isNullOrUndef(et.strokeWidth)||(i.lineWidth=et.strokeWidth),i.strokeText(lt,s,_,et.maxWidth)),i.fillText(lt,s,_,et.maxWidth),decorateText(i,s,_,lt,et),_+=$.lineHeight;i.restore()}function setRenderOpts(i,o){o.translation&&i.translate(o.translation[0],o.translation[1]),isNullOrUndef(o.rotation)||i.rotate(o.rotation),o.color&&(i.fillStyle=o.color),o.textAlign&&(i.textAlign=o.textAlign),o.textBaseline&&(i.textBaseline=o.textBaseline)}function decorateText(i,o,s,_,$){if($.strikethrough||$.underline){const et=i.measureText(_),rt=o-et.actualBoundingBoxLeft,j=o+et.actualBoundingBoxRight,st=s-et.actualBoundingBoxAscent,lt=s+et.actualBoundingBoxDescent,gt=$.strikethrough?(st+lt)/2:lt;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=$.decorationWidth||2,i.moveTo(rt,gt),i.lineTo(j,gt),i.stroke()}}function drawBackdrop(i,o){const s=i.fillStyle;i.fillStyle=o.color,i.fillRect(o.left,o.top,o.width,o.height),i.fillStyle=s}function addRoundedRectPath(i,o){const{x:s,y:_,w:$,h:et,radius:rt}=o;i.arc(s+rt.topLeft,_+rt.topLeft,rt.topLeft,-HALF_PI,PI,!0),i.lineTo(s,_+et-rt.bottomLeft),i.arc(s+rt.bottomLeft,_+et-rt.bottomLeft,rt.bottomLeft,PI,HALF_PI,!0),i.lineTo(s+$-rt.bottomRight,_+et),i.arc(s+$-rt.bottomRight,_+et-rt.bottomRight,rt.bottomRight,HALF_PI,0,!0),i.lineTo(s+$,_+rt.topRight),i.arc(s+$-rt.topRight,_+rt.topRight,rt.topRight,0,-HALF_PI,!0),i.lineTo(s+rt.topLeft,_)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(i,o){const s=(""+i).match(LINE_HEIGHT);if(!s||s[1]==="normal")return o*1.2;switch(i=+s[2],s[3]){case"px":return i;case"%":i/=100;break}return o*i}const numberOrZero=i=>+i||0;function _readValueToProps(i,o){const s={},_=isObject(o),$=_?Object.keys(o):o,et=isObject(i)?_?rt=>valueOrDefault(i[rt],i[o[rt]]):rt=>i[rt]:()=>i;for(const rt of $)s[rt]=numberOrZero(et(rt));return s}function toTRBL(i){return _readValueToProps(i,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(i){return _readValueToProps(i,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(i){const o=toTRBL(i);return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function toFont(i,o){i=i||{},o=o||defaults.font;let s=valueOrDefault(i.size,o.size);typeof s=="string"&&(s=parseInt(s,10));let _=valueOrDefault(i.style,o.style);_&&!(""+_).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+_+'"'),_=void 0);const $={family:valueOrDefault(i.family,o.family),lineHeight:toLineHeight(valueOrDefault(i.lineHeight,o.lineHeight),s),size:s,style:_,weight:valueOrDefault(i.weight,o.weight),string:""};return $.string=toFontString($),$}function resolve(i,o,s,_){let $=!0,et,rt,j;for(et=0,rt=i.length;et<rt;++et)if(j=i[et],j!==void 0&&(o!==void 0&&typeof j=="function"&&(j=j(o),$=!1),s!==void 0&&isArray(j)&&(j=j[s%j.length],$=!1),j!==void 0))return _&&!$&&(_.cacheable=!1),j}function _addGrace(i,o,s){const{min:_,max:$}=i,et=toDimension(o,($-_)/2),rt=(j,st)=>s&&j===0?0:j+st;return{min:rt(_,-Math.abs(et)),max:rt($,et)}}function createContext(i,o){return Object.assign(Object.create(i),o)}function _createResolver(i,o=[""],s=i,_,$=()=>i[0]){defined(_)||(_=_resolve("_fallback",i));const et={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:_,_getTarget:$,override:rt=>_createResolver([rt,...i],o,s,_)};return new Proxy(et,{deleteProperty(rt,j){return delete rt[j],delete rt._keys,delete i[0][j],!0},get(rt,j){return _cached(rt,j,()=>_resolveWithPrefixes(j,o,i,rt))},getOwnPropertyDescriptor(rt,j){return Reflect.getOwnPropertyDescriptor(rt._scopes[0],j)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(rt,j){return getKeysFromAllScopes(rt).includes(j)},ownKeys(rt){return getKeysFromAllScopes(rt)},set(rt,j,st){const lt=rt._storage||(rt._storage=$());return rt[j]=lt[j]=st,delete rt._keys,!0}})}function _attachContext(i,o,s,_){const $={_cacheable:!1,_proxy:i,_context:o,_subProxy:s,_stack:new Set,_descriptors:_descriptors(i,_),setContext:et=>_attachContext(i,et,s,_),override:et=>_attachContext(i.override(et),o,s,_)};return new Proxy($,{deleteProperty(et,rt){return delete et[rt],delete i[rt],!0},get(et,rt,j){return _cached(et,rt,()=>_resolveWithContext(et,rt,j))},getOwnPropertyDescriptor(et,rt){return et._descriptors.allKeys?Reflect.has(i,rt)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,rt)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(et,rt){return Reflect.has(i,rt)},ownKeys(){return Reflect.ownKeys(i)},set(et,rt,j){return i[rt]=j,delete et[rt],!0}})}function _descriptors(i,o={scriptable:!0,indexable:!0}){const{_scriptable:s=o.scriptable,_indexable:_=o.indexable,_allKeys:$=o.allKeys}=i;return{allKeys:$,scriptable:s,indexable:_,isScriptable:isFunction(s)?s:()=>s,isIndexable:isFunction(_)?_:()=>_}}const readKey=(i,o)=>i?i+_capitalize(o):o,needsSubResolver=(i,o)=>isObject(o)&&i!=="adapters"&&(Object.getPrototypeOf(o)===null||o.constructor===Object);function _cached(i,o,s){if(Object.prototype.hasOwnProperty.call(i,o))return i[o];const _=s();return i[o]=_,_}function _resolveWithContext(i,o,s){const{_proxy:_,_context:$,_subProxy:et,_descriptors:rt}=i;let j=_[o];return isFunction(j)&&rt.isScriptable(o)&&(j=_resolveScriptable(o,j,i,s)),isArray(j)&&j.length&&(j=_resolveArray(o,j,i,rt.isIndexable)),needsSubResolver(o,j)&&(j=_attachContext(j,$,et&&et[o],rt)),j}function _resolveScriptable(i,o,s,_){const{_proxy:$,_context:et,_subProxy:rt,_stack:j}=s;if(j.has(i))throw new Error("Recursion detected: "+Array.from(j).join("->")+"->"+i);return j.add(i),o=o(et,rt||_),j.delete(i),needsSubResolver(i,o)&&(o=createSubResolver($._scopes,$,i,o)),o}function _resolveArray(i,o,s,_){const{_proxy:$,_context:et,_subProxy:rt,_descriptors:j}=s;if(defined(et.index)&&_(i))o=o[et.index%o.length];else if(isObject(o[0])){const st=o,lt=$._scopes.filter(gt=>gt!==st);o=[];for(const gt of st){const bt=createSubResolver(lt,$,i,gt);o.push(_attachContext(bt,et,rt&&rt[i],j))}}return o}function resolveFallback(i,o,s){return isFunction(i)?i(o,s):i}const getScope=(i,o)=>i===!0?o:typeof i=="string"?resolveObjectKey(o,i):void 0;function addScopes(i,o,s,_,$){for(const et of o){const rt=getScope(s,et);if(rt){i.add(rt);const j=resolveFallback(rt._fallback,s,$);if(defined(j)&&j!==s&&j!==_)return j}else if(rt===!1&&defined(_)&&s!==_)return null}return!1}function createSubResolver(i,o,s,_){const $=o._rootScopes,et=resolveFallback(o._fallback,s,_),rt=[...i,...$],j=new Set;j.add(_);let st=addScopesFromKey(j,rt,s,et||s,_);return st===null||defined(et)&&et!==s&&(st=addScopesFromKey(j,rt,et,st,_),st===null)?!1:_createResolver(Array.from(j),[""],$,et,()=>subGetTarget(o,s,_))}function addScopesFromKey(i,o,s,_,$){for(;s;)s=addScopes(i,o,s,_,$);return s}function subGetTarget(i,o,s){const _=i._getTarget();o in _||(_[o]={});const $=_[o];return isArray($)&&isObject(s)?s:$||{}}function _resolveWithPrefixes(i,o,s,_){let $;for(const et of o)if($=_resolve(readKey(et,i),s),defined($))return needsSubResolver(i,$)?createSubResolver(s,_,i,$):$}function _resolve(i,o){for(const s of o){if(!s)continue;const _=s[i];if(defined(_))return _}}function getKeysFromAllScopes(i){let o=i._keys;return o||(o=i._keys=resolveKeysFromAllScopes(i._scopes)),o}function resolveKeysFromAllScopes(i){const o=new Set;for(const s of i)for(const _ of Object.keys(s).filter($=>!$.startsWith("_")))o.add(_);return Array.from(o)}function _parseObjectDataRadialScale(i,o,s,_){const{iScale:$}=i,{key:et="r"}=this._parsing,rt=new Array(_);let j,st,lt,gt;for(j=0,st=_;j<st;++j)lt=j+s,gt=o[lt],rt[j]={r:$.parse(resolveObjectKey(gt,et),lt)};return rt}const EPSILON=Number.EPSILON||1e-14,getPoint=(i,o)=>o<i.length&&!i[o].skip&&i[o],getValueAxis=i=>i==="x"?"y":"x";function splineCurve(i,o,s,_){const $=i.skip?o:i,et=o,rt=s.skip?o:s,j=distanceBetweenPoints(et,$),st=distanceBetweenPoints(rt,et);let lt=j/(j+st),gt=st/(j+st);lt=isNaN(lt)?0:lt,gt=isNaN(gt)?0:gt;const bt=_*lt,Ut=_*gt;return{previous:{x:et.x-bt*(rt.x-$.x),y:et.y-bt*(rt.y-$.y)},next:{x:et.x+Ut*(rt.x-$.x),y:et.y+Ut*(rt.y-$.y)}}}function monotoneAdjust(i,o,s){const _=i.length;let $,et,rt,j,st,lt=getPoint(i,0);for(let gt=0;gt<_-1;++gt)if(st=lt,lt=getPoint(i,gt+1),!(!st||!lt)){if(almostEquals(o[gt],0,EPSILON)){s[gt]=s[gt+1]=0;continue}$=s[gt]/o[gt],et=s[gt+1]/o[gt],j=Math.pow($,2)+Math.pow(et,2),!(j<=9)&&(rt=3/Math.sqrt(j),s[gt]=$*rt*o[gt],s[gt+1]=et*rt*o[gt])}}function monotoneCompute(i,o,s="x"){const _=getValueAxis(s),$=i.length;let et,rt,j,st=getPoint(i,0);for(let lt=0;lt<$;++lt){if(rt=j,j=st,st=getPoint(i,lt+1),!j)continue;const gt=j[s],bt=j[_];rt&&(et=(gt-rt[s])/3,j[`cp1${s}`]=gt-et,j[`cp1${_}`]=bt-et*o[lt]),st&&(et=(st[s]-gt)/3,j[`cp2${s}`]=gt+et,j[`cp2${_}`]=bt+et*o[lt])}}function splineCurveMonotone(i,o="x"){const s=getValueAxis(o),_=i.length,$=Array(_).fill(0),et=Array(_);let rt,j,st,lt=getPoint(i,0);for(rt=0;rt<_;++rt)if(j=st,st=lt,lt=getPoint(i,rt+1),!!st){if(lt){const gt=lt[o]-st[o];$[rt]=gt!==0?(lt[s]-st[s])/gt:0}et[rt]=j?lt?sign($[rt-1])!==sign($[rt])?0:($[rt-1]+$[rt])/2:$[rt-1]:$[rt]}monotoneAdjust(i,$,et),monotoneCompute(i,et,o)}function capControlPoint(i,o,s){return Math.max(Math.min(i,s),o)}function capBezierPoints(i,o){let s,_,$,et,rt,j=_isPointInArea(i[0],o);for(s=0,_=i.length;s<_;++s)rt=et,et=j,j=s<_-1&&_isPointInArea(i[s+1],o),et&&($=i[s],rt&&($.cp1x=capControlPoint($.cp1x,o.left,o.right),$.cp1y=capControlPoint($.cp1y,o.top,o.bottom)),j&&($.cp2x=capControlPoint($.cp2x,o.left,o.right),$.cp2y=capControlPoint($.cp2y,o.top,o.bottom)))}function _updateBezierControlPoints(i,o,s,_,$){let et,rt,j,st;if(o.spanGaps&&(i=i.filter(lt=>!lt.skip)),o.cubicInterpolationMode==="monotone")splineCurveMonotone(i,$);else{let lt=_?i[i.length-1]:i[0];for(et=0,rt=i.length;et<rt;++et)j=i[et],st=splineCurve(lt,j,i[Math.min(et+1,rt-(_?0:1))%rt],o.tension),j.cp1x=st.previous.x,j.cp1y=st.previous.y,j.cp2x=st.next.x,j.cp2y=st.next.y,lt=j}o.capBezierPoints&&capBezierPoints(i,s)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(i){let o=i.parentNode;return o&&o.toString()==="[object ShadowRoot]"&&(o=o.host),o}function parseMaxStyle(i,o,s){let _;return typeof i=="string"?(_=parseInt(i,10),i.indexOf("%")!==-1&&(_=_/100*o.parentNode[s])):_=i,_}const getComputedStyle=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function getStyle(i,o){return getComputedStyle(i).getPropertyValue(o)}const positions=["top","right","bottom","left"];function getPositionedStyle(i,o,s){const _={};s=s?"-"+s:"";for(let $=0;$<4;$++){const et=positions[$];_[et]=parseFloat(i[o+"-"+et+s])||0}return _.width=_.left+_.right,_.height=_.top+_.bottom,_}const useOffsetPos=(i,o,s)=>(i>0||o>0)&&(!s||!s.shadowRoot);function getCanvasPosition(i,o){const s=i.touches,_=s&&s.length?s[0]:i,{offsetX:$,offsetY:et}=_;let rt=!1,j,st;if(useOffsetPos($,et,i.target))j=$,st=et;else{const lt=o.getBoundingClientRect();j=_.clientX-lt.left,st=_.clientY-lt.top,rt=!0}return{x:j,y:st,box:rt}}function getRelativePosition(i,o){if("native"in i)return i;const{canvas:s,currentDevicePixelRatio:_}=o,$=getComputedStyle(s),et=$.boxSizing==="border-box",rt=getPositionedStyle($,"padding"),j=getPositionedStyle($,"border","width"),{x:st,y:lt,box:gt}=getCanvasPosition(i,s),bt=rt.left+(gt&&j.left),Ut=rt.top+(gt&&j.top);let{width:Ft,height:yt}=o;return et&&(Ft-=rt.width+j.width,yt-=rt.height+j.height),{x:Math.round((st-bt)/Ft*s.width/_),y:Math.round((lt-Ut)/yt*s.height/_)}}function getContainerSize(i,o,s){let _,$;if(o===void 0||s===void 0){const et=_getParentNode(i);if(!et)o=i.clientWidth,s=i.clientHeight;else{const rt=et.getBoundingClientRect(),j=getComputedStyle(et),st=getPositionedStyle(j,"border","width"),lt=getPositionedStyle(j,"padding");o=rt.width-lt.width-st.width,s=rt.height-lt.height-st.height,_=parseMaxStyle(j.maxWidth,et,"clientWidth"),$=parseMaxStyle(j.maxHeight,et,"clientHeight")}}return{width:o,height:s,maxWidth:_||INFINITY,maxHeight:$||INFINITY}}const round1=i=>Math.round(i*10)/10;function getMaximumSize(i,o,s,_){const $=getComputedStyle(i),et=getPositionedStyle($,"margin"),rt=parseMaxStyle($.maxWidth,i,"clientWidth")||INFINITY,j=parseMaxStyle($.maxHeight,i,"clientHeight")||INFINITY,st=getContainerSize(i,o,s);let{width:lt,height:gt}=st;if($.boxSizing==="content-box"){const Ut=getPositionedStyle($,"border","width"),Ft=getPositionedStyle($,"padding");lt-=Ft.width+Ut.width,gt-=Ft.height+Ut.height}return lt=Math.max(0,lt-et.width),gt=Math.max(0,_?lt/_:gt-et.height),lt=round1(Math.min(lt,rt,st.maxWidth)),gt=round1(Math.min(gt,j,st.maxHeight)),lt&&!gt&&(gt=round1(lt/2)),(o!==void 0||s!==void 0)&&_&&st.height&&gt>st.height&&(gt=st.height,lt=round1(Math.floor(gt*_))),{width:lt,height:gt}}function retinaScale(i,o,s){const _=o||1,$=Math.floor(i.height*_),et=Math.floor(i.width*_);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const rt=i.canvas;return rt.style&&(s||!rt.style.height&&!rt.style.width)&&(rt.style.height=`${i.height}px`,rt.style.width=`${i.width}px`),i.currentDevicePixelRatio!==_||rt.height!==$||rt.width!==et?(i.currentDevicePixelRatio=_,rt.height=$,rt.width=et,i.ctx.setTransform(_,0,0,_,0,0),!0):!1}const supportsEventListenerOptions=function(){let i=!1;try{const o={get passive(){return i=!0,!1}};window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{}return i}();function readUsedSize(i,o){const s=getStyle(i,o),_=s&&s.match(/^(\d+)(\.\d+)?px$/);return _?+_[1]:void 0}function _pointInLine(i,o,s,_){return{x:i.x+s*(o.x-i.x),y:i.y+s*(o.y-i.y)}}function _steppedInterpolation(i,o,s,_){return{x:i.x+s*(o.x-i.x),y:_==="middle"?s<.5?i.y:o.y:_==="after"?s<1?i.y:o.y:s>0?o.y:i.y}}function _bezierInterpolation(i,o,s,_){const $={x:i.cp2x,y:i.cp2y},et={x:o.cp1x,y:o.cp1y},rt=_pointInLine(i,$,s),j=_pointInLine($,et,s),st=_pointInLine(et,o,s),lt=_pointInLine(rt,j,s),gt=_pointInLine(j,st,s);return _pointInLine(lt,gt,s)}const getRightToLeftAdapter=function(i,o){return{x(s){return i+i+o-s},setWidth(s){o=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,_){return s-_},leftForLtr(s,_){return s-_}}},getLeftToRightAdapter=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,o){return i+o},leftForLtr(i,o){return i}}};function getRtlAdapter(i,o,s){return i?getRightToLeftAdapter(o,s):getLeftToRightAdapter()}function overrideTextDirection(i,o){let s,_;(o==="ltr"||o==="rtl")&&(s=i.canvas.style,_=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",o,"important"),i.prevTextDirection=_)}function restoreTextDirection(i,o){o!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",o[0],o[1]))}function propertyFn(i){return i==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(o,s)=>o-s,normalize:o=>o}}function normalizeSegment({start:i,end:o,count:s,loop:_,style:$}){return{start:i%s,end:o%s,loop:_&&(o-i+1)%s===0,style:$}}function getSegment(i,o,s){const{property:_,start:$,end:et}=s,{between:rt,normalize:j}=propertyFn(_),st=o.length;let{start:lt,end:gt,loop:bt}=i,Ut,Ft;if(bt){for(lt+=st,gt+=st,Ut=0,Ft=st;Ut<Ft&&rt(j(o[lt%st][_]),$,et);++Ut)lt--,gt--;lt%=st,gt%=st}return gt<lt&&(gt+=st),{start:lt,end:gt,loop:bt,style:i.style}}function _boundSegment(i,o,s){if(!s)return[i];const{property:_,start:$,end:et}=s,rt=o.length,{compare:j,between:st,normalize:lt}=propertyFn(_),{start:gt,end:bt,loop:Ut,style:Ft}=getSegment(i,o,s),yt=[];let Qt=!1,wt=null,Tt,Jt,At;const Nt=()=>st($,At,Tt)&&j($,At)!==0,St=()=>j(et,Tt)===0||st(et,At,Tt),Ot=()=>Qt||Nt(),nn=()=>!Qt||St();for(let yn=gt,Ct=gt;yn<=bt;++yn)Jt=o[yn%rt],!Jt.skip&&(Tt=lt(Jt[_]),Tt!==At&&(Qt=st(Tt,$,et),wt===null&&Ot()&&(wt=j(Tt,$)===0?yn:Ct),wt!==null&&nn()&&(yt.push(normalizeSegment({start:wt,end:yn,loop:Ut,count:rt,style:Ft})),wt=null),Ct=yn,At=Tt));return wt!==null&&yt.push(normalizeSegment({start:wt,end:bt,loop:Ut,count:rt,style:Ft})),yt}function _boundSegments(i,o){const s=[],_=i.segments;for(let $=0;$<_.length;$++){const et=_boundSegment(_[$],i.points,o);et.length&&s.push(...et)}return s}function findStartAndEnd(i,o,s,_){let $=0,et=o-1;if(s&&!_)for(;$<o&&!i[$].skip;)$++;for(;$<o&&i[$].skip;)$++;for($%=o,s&&(et+=$);et>$&&i[et%o].skip;)et--;return et%=o,{start:$,end:et}}function solidSegments(i,o,s,_){const $=i.length,et=[];let rt=o,j=i[o],st;for(st=o+1;st<=s;++st){const lt=i[st%$];lt.skip||lt.stop?j.skip||(_=!1,et.push({start:o%$,end:(st-1)%$,loop:_}),o=rt=lt.stop?st:null):(rt=st,j.skip&&(o=st)),j=lt}return rt!==null&&et.push({start:o%$,end:rt%$,loop:_}),et}function _computeSegments(i,o){const s=i.points,_=i.options.spanGaps,$=s.length;if(!$)return[];const et=!!i._loop,{start:rt,end:j}=findStartAndEnd(s,$,et,_);if(_===!0)return splitByStyles(i,[{start:rt,end:j,loop:et}],s,o);const st=j<rt?j+$:j,lt=!!i._fullLoop&&rt===0&&j===$-1;return splitByStyles(i,solidSegments(s,rt,st,lt),s,o)}function splitByStyles(i,o,s,_){return!_||!_.setContext||!s?o:doSplitByStyles(i,o,s,_)}function doSplitByStyles(i,o,s,_){const $=i._chart.getContext(),et=readStyle(i.options),{_datasetIndex:rt,options:{spanGaps:j}}=i,st=s.length,lt=[];let gt=et,bt=o[0].start,Ut=bt;function Ft(yt,Qt,wt,Tt){const Jt=j?-1:1;if(yt!==Qt){for(yt+=st;s[yt%st].skip;)yt-=Jt;for(;s[Qt%st].skip;)Qt+=Jt;yt%st!==Qt%st&&(lt.push({start:yt%st,end:Qt%st,loop:wt,style:Tt}),gt=Tt,bt=Qt%st)}}for(const yt of o){bt=j?bt:yt.start;let Qt=s[bt%st],wt;for(Ut=bt+1;Ut<=yt.end;Ut++){const Tt=s[Ut%st];wt=readStyle(_.setContext(createContext($,{type:"segment",p0:Qt,p1:Tt,p0DataIndex:(Ut-1)%st,p1DataIndex:Ut%st,datasetIndex:rt}))),styleChanged(wt,gt)&&Ft(bt,Ut-1,yt.loop,gt),Qt=Tt,gt=wt}bt<Ut-1&&Ft(bt,Ut-1,yt.loop,gt)}return lt}function readStyle(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function styleChanged(i,o){return o&&JSON.stringify(i)!==JSON.stringify(o)}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(o,s,_,$){const et=s.listeners[$],rt=s.duration;et.forEach(j=>j({chart:o,initial:s.initial,numSteps:rt,currentStep:Math.min(_-s.start,rt)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(o=Date.now()){let s=0;this._charts.forEach((_,$)=>{if(!_.running||!_.items.length)return;const et=_.items;let rt=et.length-1,j=!1,st;for(;rt>=0;--rt)st=et[rt],st._active?(st._total>_.duration&&(_.duration=st._total),st.tick(o),j=!0):(et[rt]=et[et.length-1],et.pop());j&&($.draw(),this._notify($,_,o,"progress")),et.length||(_.running=!1,this._notify($,_,o,"complete"),_.initial=!1),s+=et.length}),this._lastDate=o,s===0&&(this._running=!1)}_getAnims(o){const s=this._charts;let _=s.get(o);return _||(_={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(o,_)),_}listen(o,s,_){this._getAnims(o).listeners[s].push(_)}add(o,s){!s||!s.length||this._getAnims(o).items.push(...s)}has(o){return this._getAnims(o).items.length>0}start(o){const s=this._charts.get(o);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((_,$)=>Math.max(_,$._duration),0),this._refresh())}running(o){if(!this._running)return!1;const s=this._charts.get(o);return!(!s||!s.running||!s.items.length)}stop(o){const s=this._charts.get(o);if(!s||!s.items.length)return;const _=s.items;let $=_.length-1;for(;$>=0;--$)_[$].cancel();s.items=[],this._notify(o,s,Date.now(),"complete")}remove(o){return this._charts.delete(o)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(i,o,s){return s>.5?o:i},color(i,o,s){const _=color(i||transparent),$=_.valid&&color(o||transparent);return $&&$.valid?$.mix(_,s).hexString():o},number(i,o,s){return i+(o-i)*s}};class Animation{constructor(o,s,_,$){const et=s[_];$=resolve([o.to,$,et,o.from]);const rt=resolve([o.from,et,$]);this._active=!0,this._fn=o.fn||interpolators[o.type||typeof rt],this._easing=effects[o.easing]||effects.linear,this._start=Math.floor(Date.now()+(o.delay||0)),this._duration=this._total=Math.floor(o.duration),this._loop=!!o.loop,this._target=s,this._prop=_,this._from=rt,this._to=$,this._promises=void 0}active(){return this._active}update(o,s,_){if(this._active){this._notify(!1);const $=this._target[this._prop],et=_-this._start,rt=this._duration-et;this._start=_,this._duration=Math.floor(Math.max(rt,o.duration)),this._total+=et,this._loop=!!o.loop,this._to=resolve([o.to,s,$,o.from]),this._from=resolve([o.from,$,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(o){const s=o-this._start,_=this._duration,$=this._prop,et=this._from,rt=this._loop,j=this._to;let st;if(this._active=et!==j&&(rt||s<_),!this._active){this._target[$]=j,this._notify(!0);return}if(s<0){this._target[$]=et;return}st=s/_%2,st=rt&&st>1?2-st:st,st=this._easing(Math.min(1,Math.max(0,st))),this._target[$]=this._fn(et,j,st)}wait(){const o=this._promises||(this._promises=[]);return new Promise((s,_)=>{o.push({res:s,rej:_})})}_notify(o){const s=o?"res":"rej",_=this._promises||[];for(let $=0;$<_.length;$++)_[$][s]()}}class Animations{constructor(o,s){this._chart=o,this._properties=new Map,this.configure(s)}configure(o){if(!isObject(o))return;const s=Object.keys(defaults.animation),_=this._properties;Object.getOwnPropertyNames(o).forEach($=>{const et=o[$];if(!isObject(et))return;const rt={};for(const j of s)rt[j]=et[j];(isArray(et.properties)&&et.properties||[$]).forEach(j=>{(j===$||!_.has(j))&&_.set(j,rt)})})}_animateOptions(o,s){const _=s.options,$=resolveTargetOptions(o,_);if(!$)return[];const et=this._createAnimations($,_);return _.$shared&&awaitAll(o.options.$animations,_).then(()=>{o.options=_},()=>{}),et}_createAnimations(o,s){const _=this._properties,$=[],et=o.$animations||(o.$animations={}),rt=Object.keys(s),j=Date.now();let st;for(st=rt.length-1;st>=0;--st){const lt=rt[st];if(lt.charAt(0)==="$")continue;if(lt==="options"){$.push(...this._animateOptions(o,s));continue}const gt=s[lt];let bt=et[lt];const Ut=_.get(lt);if(bt)if(Ut&&bt.active()){bt.update(Ut,gt,j);continue}else bt.cancel();if(!Ut||!Ut.duration){o[lt]=gt;continue}et[lt]=bt=new Animation(Ut,o,lt,gt),$.push(bt)}return $}update(o,s){if(this._properties.size===0){Object.assign(o,s);return}const _=this._createAnimations(o,s);if(_.length)return animator.add(this._chart,_),!0}}function awaitAll(i,o){const s=[],_=Object.keys(o);for(let $=0;$<_.length;$++){const et=i[_[$]];et&&et.active()&&s.push(et.wait())}return Promise.all(s)}function resolveTargetOptions(i,o){if(!o)return;let s=i.options;if(!s){i.options=o;return}return s.$shared&&(i.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function scaleClip(i,o){const s=i&&i.options||{},_=s.reverse,$=s.min===void 0?o:0,et=s.max===void 0?o:0;return{start:_?et:$,end:_?$:et}}function defaultClip(i,o,s){if(s===!1)return!1;const _=scaleClip(i,s),$=scaleClip(o,s);return{top:$.end,right:_.end,bottom:$.start,left:_.start}}function toClip(i){let o,s,_,$;return isObject(i)?(o=i.top,s=i.right,_=i.bottom,$=i.left):o=s=_=$=i,{top:o,right:s,bottom:_,left:$,disabled:i===!1}}function getSortedDatasetIndices(i,o){const s=[],_=i._getSortedDatasetMetas(o);let $,et;for($=0,et=_.length;$<et;++$)s.push(_[$].index);return s}function applyStack(i,o,s,_={}){const $=i.keys,et=_.mode==="single";let rt,j,st,lt;if(o!==null){for(rt=0,j=$.length;rt<j;++rt){if(st=+$[rt],st===s){if(_.all)continue;break}lt=i.values[st],isNumberFinite(lt)&&(et||o===0||sign(o)===sign(lt))&&(o+=lt)}return o}}function convertObjectDataToArray(i){const o=Object.keys(i),s=new Array(o.length);let _,$,et;for(_=0,$=o.length;_<$;++_)et=o[_],s[_]={x:et,y:i[et]};return s}function isStacked(i,o){const s=i&&i.options.stacked;return s||s===void 0&&o.stack!==void 0}function getStackKey(i,o,s){return`${i.id}.${o.id}.${s.stack||s.type}`}function getUserBounds(i){const{min:o,max:s,minDefined:_,maxDefined:$}=i.getUserBounds();return{min:_?o:Number.NEGATIVE_INFINITY,max:$?s:Number.POSITIVE_INFINITY}}function getOrCreateStack(i,o,s){const _=i[o]||(i[o]={});return _[s]||(_[s]={})}function getLastIndexInStack(i,o,s,_){for(const $ of o.getMatchingVisibleMetas(_).reverse()){const et=i[$.index];if(s&&et>0||!s&&et<0)return $.index}return null}function updateStacks(i,o){const{chart:s,_cachedMeta:_}=i,$=s._stacks||(s._stacks={}),{iScale:et,vScale:rt,index:j}=_,st=et.axis,lt=rt.axis,gt=getStackKey(et,rt,_),bt=o.length;let Ut;for(let Ft=0;Ft<bt;++Ft){const yt=o[Ft],{[st]:Qt,[lt]:wt}=yt,Tt=yt._stacks||(yt._stacks={});Ut=Tt[lt]=getOrCreateStack($,gt,Qt),Ut[j]=wt,Ut._top=getLastIndexInStack(Ut,rt,!0,_.type),Ut._bottom=getLastIndexInStack(Ut,rt,!1,_.type);const Jt=Ut._visualValues||(Ut._visualValues={});Jt[j]=wt}}function getFirstScaleId(i,o){const s=i.scales;return Object.keys(s).filter(_=>s[_].axis===o).shift()}function createDatasetContext(i,o){return createContext(i,{active:!1,dataset:void 0,datasetIndex:o,index:o,mode:"default",type:"dataset"})}function createDataContext(i,o,s){return createContext(i,{active:!1,dataIndex:o,parsed:void 0,raw:void 0,element:s,index:o,mode:"default",type:"data"})}function clearStacks(i,o){const s=i.controller.index,_=i.vScale&&i.vScale.axis;if(_){o=o||i._parsed;for(const $ of o){const et=$._stacks;if(!et||et[_]===void 0||et[_][s]===void 0)return;delete et[_][s],et[_]._visualValues!==void 0&&et[_]._visualValues[s]!==void 0&&delete et[_]._visualValues[s]}}}const isDirectUpdateMode=i=>i==="reset"||i==="none",cloneIfNotShared=(i,o)=>o?i:Object.assign({},i),createStack=(i,o,s)=>i&&!o.hidden&&o._stacked&&{keys:getSortedDatasetIndices(s,!0),values:null};class DatasetController{constructor(o,s){this.chart=o,this._ctx=o.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const o=this._cachedMeta;this.configure(),this.linkScales(),o._stacked=isStacked(o.vScale,o),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(o){this.index!==o&&clearStacks(this._cachedMeta),this.index=o}linkScales(){const o=this.chart,s=this._cachedMeta,_=this.getDataset(),$=(bt,Ut,Ft,yt)=>bt==="x"?Ut:bt==="r"?yt:Ft,et=s.xAxisID=valueOrDefault(_.xAxisID,getFirstScaleId(o,"x")),rt=s.yAxisID=valueOrDefault(_.yAxisID,getFirstScaleId(o,"y")),j=s.rAxisID=valueOrDefault(_.rAxisID,getFirstScaleId(o,"r")),st=s.indexAxis,lt=s.iAxisID=$(st,et,rt,j),gt=s.vAxisID=$(st,rt,et,j);s.xScale=this.getScaleForId(et),s.yScale=this.getScaleForId(rt),s.rScale=this.getScaleForId(j),s.iScale=this.getScaleForId(lt),s.vScale=this.getScaleForId(gt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(o){return this.chart.scales[o]}_getOtherScale(o){const s=this._cachedMeta;return o===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const o=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),o._stacked&&clearStacks(o)}_dataCheck(){const o=this.getDataset(),s=o.data||(o.data=[]),_=this._data;if(isObject(s))this._data=convertObjectDataToArray(s);else if(_!==s){if(_){unlistenArrayEvents(_,this);const $=this._cachedMeta;clearStacks($),$._parsed=[]}s&&Object.isExtensible(s)&&listenArrayEvents(s,this),this._syncList=[],this._data=s}}addElements(){const o=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(o.dataset=new this.datasetElementType)}buildOrUpdateElements(o){const s=this._cachedMeta,_=this.getDataset();let $=!1;this._dataCheck();const et=s._stacked;s._stacked=isStacked(s.vScale,s),s.stack!==_.stack&&($=!0,clearStacks(s),s.stack=_.stack),this._resyncElements(o),($||et!==s._stacked)&&updateStacks(this,s._parsed)}configure(){const o=this.chart.config,s=o.datasetScopeKeys(this._type),_=o.getOptionScopes(this.getDataset(),s,!0);this.options=o.createResolver(_,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(o,s){const{_cachedMeta:_,_data:$}=this,{iScale:et,_stacked:rt}=_,j=et.axis;let st=o===0&&s===$.length?!0:_._sorted,lt=o>0&&_._parsed[o-1],gt,bt,Ut;if(this._parsing===!1)_._parsed=$,_._sorted=!0,Ut=$;else{isArray($[o])?Ut=this.parseArrayData(_,$,o,s):isObject($[o])?Ut=this.parseObjectData(_,$,o,s):Ut=this.parsePrimitiveData(_,$,o,s);const Ft=()=>bt[j]===null||lt&&bt[j]<lt[j];for(gt=0;gt<s;++gt)_._parsed[gt+o]=bt=Ut[gt],st&&(Ft()&&(st=!1),lt=bt);_._sorted=st}rt&&updateStacks(this,Ut)}parsePrimitiveData(o,s,_,$){const{iScale:et,vScale:rt}=o,j=et.axis,st=rt.axis,lt=et.getLabels(),gt=et===rt,bt=new Array($);let Ut,Ft,yt;for(Ut=0,Ft=$;Ut<Ft;++Ut)yt=Ut+_,bt[Ut]={[j]:gt||et.parse(lt[yt],yt),[st]:rt.parse(s[yt],yt)};return bt}parseArrayData(o,s,_,$){const{xScale:et,yScale:rt}=o,j=new Array($);let st,lt,gt,bt;for(st=0,lt=$;st<lt;++st)gt=st+_,bt=s[gt],j[st]={x:et.parse(bt[0],gt),y:rt.parse(bt[1],gt)};return j}parseObjectData(o,s,_,$){const{xScale:et,yScale:rt}=o,{xAxisKey:j="x",yAxisKey:st="y"}=this._parsing,lt=new Array($);let gt,bt,Ut,Ft;for(gt=0,bt=$;gt<bt;++gt)Ut=gt+_,Ft=s[Ut],lt[gt]={x:et.parse(resolveObjectKey(Ft,j),Ut),y:rt.parse(resolveObjectKey(Ft,st),Ut)};return lt}getParsed(o){return this._cachedMeta._parsed[o]}getDataElement(o){return this._cachedMeta.data[o]}applyStack(o,s,_){const $=this.chart,et=this._cachedMeta,rt=s[o.axis],j={keys:getSortedDatasetIndices($,!0),values:s._stacks[o.axis]._visualValues};return applyStack(j,rt,et.index,{mode:_})}updateRangeFromParsed(o,s,_,$){const et=_[s.axis];let rt=et===null?NaN:et;const j=$&&_._stacks[s.axis];$&&j&&($.values=j,rt=applyStack($,et,this._cachedMeta.index)),o.min=Math.min(o.min,rt),o.max=Math.max(o.max,rt)}getMinMax(o,s){const _=this._cachedMeta,$=_._parsed,et=_._sorted&&o===_.iScale,rt=$.length,j=this._getOtherScale(o),st=createStack(s,_,this.chart),lt={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:gt,max:bt}=getUserBounds(j);let Ut,Ft;function yt(){Ft=$[Ut];const Qt=Ft[j.axis];return!isNumberFinite(Ft[o.axis])||gt>Qt||bt<Qt}for(Ut=0;Ut<rt&&!(!yt()&&(this.updateRangeFromParsed(lt,o,Ft,st),et));++Ut);if(et){for(Ut=rt-1;Ut>=0;--Ut)if(!yt()){this.updateRangeFromParsed(lt,o,Ft,st);break}}return lt}getAllParsedValues(o){const s=this._cachedMeta._parsed,_=[];let $,et,rt;for($=0,et=s.length;$<et;++$)rt=s[$][o.axis],isNumberFinite(rt)&&_.push(rt);return _}getMaxOverflow(){return!1}getLabelAndValue(o){const s=this._cachedMeta,_=s.iScale,$=s.vScale,et=this.getParsed(o);return{label:_?""+_.getLabelForValue(et[_.axis]):"",value:$?""+$.getLabelForValue(et[$.axis]):""}}_update(o){const s=this._cachedMeta;this.update(o||"default"),s._clip=toClip(valueOrDefault(this.options.clip,defaultClip(s.xScale,s.yScale,this.getMaxOverflow())))}update(o){}draw(){const o=this._ctx,s=this.chart,_=this._cachedMeta,$=_.data||[],et=s.chartArea,rt=[],j=this._drawStart||0,st=this._drawCount||$.length-j,lt=this.options.drawActiveElementsOnTop;let gt;for(_.dataset&&_.dataset.draw(o,et,j,st),gt=j;gt<j+st;++gt){const bt=$[gt];bt.hidden||(bt.active&&lt?rt.push(bt):bt.draw(o,et))}for(gt=0;gt<rt.length;++gt)rt[gt].draw(o,et)}getStyle(o,s){const _=s?"active":"default";return o===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(_):this.resolveDataElementOptions(o||0,_)}getContext(o,s,_){const $=this.getDataset();let et;if(o>=0&&o<this._cachedMeta.data.length){const rt=this._cachedMeta.data[o];et=rt.$context||(rt.$context=createDataContext(this.getContext(),o,rt)),et.parsed=this.getParsed(o),et.raw=$.data[o],et.index=et.dataIndex=o}else et=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),et.dataset=$,et.index=et.datasetIndex=this.index;return et.active=!!s,et.mode=_,et}resolveDatasetElementOptions(o){return this._resolveElementOptions(this.datasetElementType.id,o)}resolveDataElementOptions(o,s){return this._resolveElementOptions(this.dataElementType.id,s,o)}_resolveElementOptions(o,s="default",_){const $=s==="active",et=this._cachedDataOpts,rt=o+"-"+s,j=et[rt],st=this.enableOptionSharing&&defined(_);if(j)return cloneIfNotShared(j,st);const lt=this.chart.config,gt=lt.datasetElementScopeKeys(this._type,o),bt=$?[`${o}Hover`,"hover",o,""]:[o,""],Ut=lt.getOptionScopes(this.getDataset(),gt),Ft=Object.keys(defaults.elements[o]),yt=()=>this.getContext(_,$,s),Qt=lt.resolveNamedOptions(Ut,Ft,yt,bt);return Qt.$shared&&(Qt.$shared=st,et[rt]=Object.freeze(cloneIfNotShared(Qt,st))),Qt}_resolveAnimations(o,s,_){const $=this.chart,et=this._cachedDataOpts,rt=`animation-${s}`,j=et[rt];if(j)return j;let st;if($.options.animation!==!1){const gt=this.chart.config,bt=gt.datasetAnimationScopeKeys(this._type,s),Ut=gt.getOptionScopes(this.getDataset(),bt);st=gt.createResolver(Ut,this.getContext(o,_,s))}const lt=new Animations($,st&&st.animations);return st&&st._cacheable&&(et[rt]=Object.freeze(lt)),lt}getSharedOptions(o){if(o.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},o))}includeOptions(o,s){return!s||isDirectUpdateMode(o)||this.chart._animationsDisabled}_getSharedOptions(o,s){const _=this.resolveDataElementOptions(o,s),$=this._sharedOptions,et=this.getSharedOptions(_),rt=this.includeOptions(s,et)||et!==$;return this.updateSharedOptions(et,s,_),{sharedOptions:et,includeOptions:rt}}updateElement(o,s,_,$){isDirectUpdateMode($)?Object.assign(o,_):this._resolveAnimations(s,$).update(o,_)}updateSharedOptions(o,s,_){o&&!isDirectUpdateMode(s)&&this._resolveAnimations(void 0,s).update(o,_)}_setStyle(o,s,_,$){o.active=$;const et=this.getStyle(s,$);this._resolveAnimations(s,_,$).update(o,{options:!$&&this.getSharedOptions(et)||et})}removeHoverStyle(o,s,_){this._setStyle(o,_,"active",!1)}setHoverStyle(o,s,_){this._setStyle(o,_,"active",!0)}_removeDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!1)}_setDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!0)}_resyncElements(o){const s=this._data,_=this._cachedMeta.data;for(const[j,st,lt]of this._syncList)this[j](st,lt);this._syncList=[];const $=_.length,et=s.length,rt=Math.min(et,$);rt&&this.parse(0,rt),et>$?this._insertElements($,et-$,o):et<$&&this._removeElements(et,$-et)}_insertElements(o,s,_=!0){const $=this._cachedMeta,et=$.data,rt=o+s;let j;const st=lt=>{for(lt.length+=s,j=lt.length-1;j>=rt;j--)lt[j]=lt[j-s]};for(st(et),j=o;j<rt;++j)et[j]=new this.dataElementType;this._parsing&&st($._parsed),this.parse(o,s),_&&this.updateElements(et,o,s,"reset")}updateElements(o,s,_,$){}_removeElements(o,s){const _=this._cachedMeta;if(this._parsing){const $=_._parsed.splice(o,s);_._stacked&&clearStacks(_,$)}_.data.splice(o,s)}_sync(o){if(this._parsing)this._syncList.push(o);else{const[s,_,$]=o;this[s](_,$)}this.chart._dataChanges.push([this.index,...o])}_onDataPush(){const o=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-o,o])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(o,s){s&&this._sync(["_removeElements",o,s]);const _=arguments.length-2;_&&this._sync(["_insertElements",o,_])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Mo(DatasetController,"defaults",{}),Mo(DatasetController,"datasetElementType",null),Mo(DatasetController,"dataElementType",null);function getAllScaleValues(i,o){if(!i._cache.$bar){const s=i.getMatchingVisibleMetas(o);let _=[];for(let $=0,et=s.length;$<et;$++)_=_.concat(s[$].controller.getAllParsedValues(i));i._cache.$bar=_arrayUnique(_.sort(($,et)=>$-et))}return i._cache.$bar}function computeMinSampleSize(i){const o=i.iScale,s=getAllScaleValues(o,i.type);let _=o._length,$,et,rt,j;const st=()=>{rt===32767||rt===-32768||(defined(j)&&(_=Math.min(_,Math.abs(rt-j)||_)),j=rt)};for($=0,et=s.length;$<et;++$)rt=o.getPixelForValue(s[$]),st();for(j=void 0,$=0,et=o.ticks.length;$<et;++$)rt=o.getPixelForTick($),st();return _}function computeFitCategoryTraits(i,o,s,_){const $=s.barThickness;let et,rt;return isNullOrUndef($)?(et=o.min*s.categoryPercentage,rt=s.barPercentage):(et=$*_,rt=1),{chunk:et/_,ratio:rt,start:o.pixels[i]-et/2}}function computeFlexCategoryTraits(i,o,s,_){const $=o.pixels,et=$[i];let rt=i>0?$[i-1]:null,j=i<$.length-1?$[i+1]:null;const st=s.categoryPercentage;rt===null&&(rt=et-(j===null?o.end-o.start:j-et)),j===null&&(j=et+et-rt);const lt=et-(et-Math.min(rt,j))/2*st;return{chunk:Math.abs(j-rt)/2*st/_,ratio:s.barPercentage,start:lt}}function parseFloatBar(i,o,s,_){const $=s.parse(i[0],_),et=s.parse(i[1],_),rt=Math.min($,et),j=Math.max($,et);let st=rt,lt=j;Math.abs(rt)>Math.abs(j)&&(st=j,lt=rt),o[s.axis]=lt,o._custom={barStart:st,barEnd:lt,start:$,end:et,min:rt,max:j}}function parseValue(i,o,s,_){return isArray(i)?parseFloatBar(i,o,s,_):o[s.axis]=s.parse(i,_),o}function parseArrayOrPrimitive(i,o,s,_){const $=i.iScale,et=i.vScale,rt=$.getLabels(),j=$===et,st=[];let lt,gt,bt,Ut;for(lt=s,gt=s+_;lt<gt;++lt)Ut=o[lt],bt={},bt[$.axis]=j||$.parse(rt[lt],lt),st.push(parseValue(Ut,bt,et,lt));return st}function isFloatBar(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function barSign(i,o,s){return i!==0?sign(i):(o.isHorizontal()?1:-1)*(o.min>=s?1:-1)}function borderProps(i){let o,s,_,$,et;return i.horizontal?(o=i.base>i.x,s="left",_="right"):(o=i.base<i.y,s="bottom",_="top"),o?($="end",et="start"):($="start",et="end"),{start:s,end:_,reverse:o,top:$,bottom:et}}function setBorderSkipped(i,o,s,_){let $=o.borderSkipped;const et={};if(!$){i.borderSkipped=et;return}if($===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:rt,end:j,reverse:st,top:lt,bottom:gt}=borderProps(i);$==="middle"&&s&&(i.enableBorderRadius=!0,(s._top||0)===_?$=lt:(s._bottom||0)===_?$=gt:(et[parseEdge(gt,rt,j,st)]=!0,$=lt)),et[parseEdge($,rt,j,st)]=!0,i.borderSkipped=et}function parseEdge(i,o,s,_){return _?(i=swap(i,o,s),i=startEnd(i,s,o)):i=startEnd(i,o,s),i}function swap(i,o,s){return i===o?s:i===s?o:i}function startEnd(i,o,s){return i==="start"?o:i==="end"?s:i}function setInflateAmount(i,{inflateAmount:o},s){i.inflateAmount=o==="auto"?s===1?.33:0:o}class BarController extends DatasetController{parsePrimitiveData(o,s,_,$){return parseArrayOrPrimitive(o,s,_,$)}parseArrayData(o,s,_,$){return parseArrayOrPrimitive(o,s,_,$)}parseObjectData(o,s,_,$){const{iScale:et,vScale:rt}=o,{xAxisKey:j="x",yAxisKey:st="y"}=this._parsing,lt=et.axis==="x"?j:st,gt=rt.axis==="x"?j:st,bt=[];let Ut,Ft,yt,Qt;for(Ut=_,Ft=_+$;Ut<Ft;++Ut)Qt=s[Ut],yt={},yt[et.axis]=et.parse(resolveObjectKey(Qt,lt),Ut),bt.push(parseValue(resolveObjectKey(Qt,gt),yt,rt,Ut));return bt}updateRangeFromParsed(o,s,_,$){super.updateRangeFromParsed(o,s,_,$);const et=_._custom;et&&s===this._cachedMeta.vScale&&(o.min=Math.min(o.min,et.min),o.max=Math.max(o.max,et.max))}getMaxOverflow(){return 0}getLabelAndValue(o){const s=this._cachedMeta,{iScale:_,vScale:$}=s,et=this.getParsed(o),rt=et._custom,j=isFloatBar(rt)?"["+rt.start+", "+rt.end+"]":""+$.getLabelForValue(et[$.axis]);return{label:""+_.getLabelForValue(et[_.axis]),value:j}}initialize(){this.enableOptionSharing=!0,super.initialize();const o=this._cachedMeta;o.stack=this.getDataset().stack}update(o){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,o)}updateElements(o,s,_,$){const et=$==="reset",{index:rt,_cachedMeta:{vScale:j}}=this,st=j.getBasePixel(),lt=j.isHorizontal(),gt=this._getRuler(),{sharedOptions:bt,includeOptions:Ut}=this._getSharedOptions(s,$);for(let Ft=s;Ft<s+_;Ft++){const yt=this.getParsed(Ft),Qt=et||isNullOrUndef(yt[j.axis])?{base:st,head:st}:this._calculateBarValuePixels(Ft),wt=this._calculateBarIndexPixels(Ft,gt),Tt=(yt._stacks||{})[j.axis],Jt={horizontal:lt,base:Qt.base,enableBorderRadius:!Tt||isFloatBar(yt._custom)||rt===Tt._top||rt===Tt._bottom,x:lt?Qt.head:wt.center,y:lt?wt.center:Qt.head,height:lt?wt.size:Math.abs(Qt.size),width:lt?Math.abs(Qt.size):wt.size};Ut&&(Jt.options=bt||this.resolveDataElementOptions(Ft,o[Ft].active?"active":$));const At=Jt.options||o[Ft].options;setBorderSkipped(Jt,At,Tt,rt),setInflateAmount(Jt,At,gt.ratio),this.updateElement(o[Ft],Ft,Jt,$)}}_getStacks(o,s){const{iScale:_}=this._cachedMeta,$=_.getMatchingVisibleMetas(this._type).filter(st=>st.controller.options.grouped),et=_.options.stacked,rt=[],j=st=>{const lt=st.controller.getParsed(s),gt=lt&&lt[st.vScale.axis];if(isNullOrUndef(gt)||isNaN(gt))return!0};for(const st of $)if(!(s!==void 0&&j(st))&&((et===!1||rt.indexOf(st.stack)===-1||et===void 0&&st.stack===void 0)&&rt.push(st.stack),st.index===o))break;return rt.length||rt.push(void 0),rt}_getStackCount(o){return this._getStacks(void 0,o).length}_getStackIndex(o,s,_){const $=this._getStacks(o,_),et=s!==void 0?$.indexOf(s):-1;return et===-1?$.length-1:et}_getRuler(){const o=this.options,s=this._cachedMeta,_=s.iScale,$=[];let et,rt;for(et=0,rt=s.data.length;et<rt;++et)$.push(_.getPixelForValue(this.getParsed(et)[_.axis],et));const j=o.barThickness;return{min:j||computeMinSampleSize(s),pixels:$,start:_._startPixel,end:_._endPixel,stackCount:this._getStackCount(),scale:_,grouped:o.grouped,ratio:j?1:o.categoryPercentage*o.barPercentage}}_calculateBarValuePixels(o){const{_cachedMeta:{vScale:s,_stacked:_,index:$},options:{base:et,minBarLength:rt}}=this,j=et||0,st=this.getParsed(o),lt=st._custom,gt=isFloatBar(lt);let bt=st[s.axis],Ut=0,Ft=_?this.applyStack(s,st,_):bt,yt,Qt;Ft!==bt&&(Ut=Ft-bt,Ft=bt),gt&&(bt=lt.barStart,Ft=lt.barEnd-lt.barStart,bt!==0&&sign(bt)!==sign(lt.barEnd)&&(Ut=0),Ut+=bt);const wt=!isNullOrUndef(et)&&!gt?et:Ut;let Tt=s.getPixelForValue(wt);if(this.chart.getDataVisibility(o)?yt=s.getPixelForValue(Ut+Ft):yt=Tt,Qt=yt-Tt,Math.abs(Qt)<rt){Qt=barSign(Qt,s,j)*rt,bt===j&&(Tt-=Qt/2);const Jt=s.getPixelForDecimal(0),At=s.getPixelForDecimal(1),Nt=Math.min(Jt,At),St=Math.max(Jt,At);Tt=Math.max(Math.min(Tt,St),Nt),yt=Tt+Qt,_&&!gt&&(st._stacks[s.axis]._visualValues[$]=s.getValueForPixel(yt)-s.getValueForPixel(Tt))}if(Tt===s.getPixelForValue(j)){const Jt=sign(Qt)*s.getLineWidthForValue(j)/2;Tt+=Jt,Qt-=Jt}return{size:Qt,base:Tt,head:yt,center:yt+Qt/2}}_calculateBarIndexPixels(o,s){const _=s.scale,$=this.options,et=$.skipNull,rt=valueOrDefault($.maxBarThickness,1/0);let j,st;if(s.grouped){const lt=et?this._getStackCount(o):s.stackCount,gt=$.barThickness==="flex"?computeFlexCategoryTraits(o,s,$,lt):computeFitCategoryTraits(o,s,$,lt),bt=this._getStackIndex(this.index,this._cachedMeta.stack,et?o:void 0);j=gt.start+gt.chunk*bt+gt.chunk/2,st=Math.min(rt,gt.chunk*gt.ratio)}else j=_.getPixelForValue(this.getParsed(o)[_.axis],o),st=Math.min(rt,s.min*s.ratio);return{base:j-st/2,head:j+st/2,center:j,size:st}}draw(){const o=this._cachedMeta,s=o.vScale,_=o.data,$=_.length;let et=0;for(;et<$;++et)this.getParsed(et)[s.axis]!==null&&_[et].draw(this._ctx)}}Mo(BarController,"id","bar"),Mo(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Mo(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(o,s,_,$){const et=super.parsePrimitiveData(o,s,_,$);for(let rt=0;rt<et.length;rt++)et[rt]._custom=this.resolveDataElementOptions(rt+_).radius;return et}parseArrayData(o,s,_,$){const et=super.parseArrayData(o,s,_,$);for(let rt=0;rt<et.length;rt++){const j=s[_+rt];et[rt]._custom=valueOrDefault(j[2],this.resolveDataElementOptions(rt+_).radius)}return et}parseObjectData(o,s,_,$){const et=super.parseObjectData(o,s,_,$);for(let rt=0;rt<et.length;rt++){const j=s[_+rt];et[rt]._custom=valueOrDefault(j&&j.r&&+j.r,this.resolveDataElementOptions(rt+_).radius)}return et}getMaxOverflow(){const o=this._cachedMeta.data;let s=0;for(let _=o.length-1;_>=0;--_)s=Math.max(s,o[_].size(this.resolveDataElementOptions(_))/2);return s>0&&s}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart.data.labels||[],{xScale:$,yScale:et}=s,rt=this.getParsed(o),j=$.getLabelForValue(rt.x),st=et.getLabelForValue(rt.y),lt=rt._custom;return{label:_[o]||"",value:"("+j+", "+st+(lt?", "+lt:"")+")"}}update(o){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,o)}updateElements(o,s,_,$){const et=$==="reset",{iScale:rt,vScale:j}=this._cachedMeta,{sharedOptions:st,includeOptions:lt}=this._getSharedOptions(s,$),gt=rt.axis,bt=j.axis;for(let Ut=s;Ut<s+_;Ut++){const Ft=o[Ut],yt=!et&&this.getParsed(Ut),Qt={},wt=Qt[gt]=et?rt.getPixelForDecimal(.5):rt.getPixelForValue(yt[gt]),Tt=Qt[bt]=et?j.getBasePixel():j.getPixelForValue(yt[bt]);Qt.skip=isNaN(wt)||isNaN(Tt),lt&&(Qt.options=st||this.resolveDataElementOptions(Ut,Ft.active?"active":$),et&&(Qt.options.radius=0)),this.updateElement(Ft,Ut,Qt,$)}}resolveDataElementOptions(o,s){const _=this.getParsed(o);let $=super.resolveDataElementOptions(o,s);$.$shared&&($=Object.assign({},$,{$shared:!1}));const et=$.radius;return s!=="active"&&($.radius=0),$.radius+=valueOrDefault(_&&_._custom,et),$}}Mo(BubbleController,"id","bubble"),Mo(BubbleController,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Mo(BubbleController,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function getRatioAndOffset(i,o,s){let _=1,$=1,et=0,rt=0;if(o<TAU){const j=i,st=j+o,lt=Math.cos(j),gt=Math.sin(j),bt=Math.cos(st),Ut=Math.sin(st),Ft=(At,Nt,St)=>_angleBetween(At,j,st,!0)?1:Math.max(Nt,Nt*s,St,St*s),yt=(At,Nt,St)=>_angleBetween(At,j,st,!0)?-1:Math.min(Nt,Nt*s,St,St*s),Qt=Ft(0,lt,bt),wt=Ft(HALF_PI,gt,Ut),Tt=yt(PI,lt,bt),Jt=yt(PI+HALF_PI,gt,Ut);_=(Qt-Tt)/2,$=(wt-Jt)/2,et=-(Qt+Tt)/2,rt=-(wt+Jt)/2}return{ratioX:_,ratioY:$,offsetX:et,offsetY:rt}}class DoughnutController extends DatasetController{constructor(o,s){super(o,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(o,s){const _=this.getDataset().data,$=this._cachedMeta;if(this._parsing===!1)$._parsed=_;else{let et=st=>+_[st];if(isObject(_[o])){const{key:st="value"}=this._parsing;et=lt=>+resolveObjectKey(_[lt],st)}let rt,j;for(rt=o,j=o+s;rt<j;++rt)$._parsed[rt]=et(rt)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let o=TAU,s=-TAU;for(let _=0;_<this.chart.data.datasets.length;++_)if(this.chart.isDatasetVisible(_)&&this.chart.getDatasetMeta(_).type===this._type){const $=this.chart.getDatasetMeta(_).controller,et=$._getRotation(),rt=$._getCircumference();o=Math.min(o,et),s=Math.max(s,et+rt)}return{rotation:o,circumference:s-o}}update(o){const s=this.chart,{chartArea:_}=s,$=this._cachedMeta,et=$.data,rt=this.getMaxBorderWidth()+this.getMaxOffset(et)+this.options.spacing,j=Math.max((Math.min(_.width,_.height)-rt)/2,0),st=Math.min(toPercentage(this.options.cutout,j),1),lt=this._getRingWeight(this.index),{circumference:gt,rotation:bt}=this._getRotationExtents(),{ratioX:Ut,ratioY:Ft,offsetX:yt,offsetY:Qt}=getRatioAndOffset(bt,gt,st),wt=(_.width-rt)/Ut,Tt=(_.height-rt)/Ft,Jt=Math.max(Math.min(wt,Tt)/2,0),At=toDimension(this.options.radius,Jt),Nt=Math.max(At*st,0),St=(At-Nt)/this._getVisibleDatasetWeightTotal();this.offsetX=yt*At,this.offsetY=Qt*At,$.total=this.calculateTotal(),this.outerRadius=At-St*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-St*lt,0),this.updateElements(et,0,et.length,o)}_circumference(o,s){const _=this.options,$=this._cachedMeta,et=this._getCircumference();return s&&_.animation.animateRotate||!this.chart.getDataVisibility(o)||$._parsed[o]===null||$.data[o].hidden?0:this.calculateCircumference($._parsed[o]*et/TAU)}updateElements(o,s,_,$){const et=$==="reset",rt=this.chart,j=rt.chartArea,lt=rt.options.animation,gt=(j.left+j.right)/2,bt=(j.top+j.bottom)/2,Ut=et&&lt.animateScale,Ft=Ut?0:this.innerRadius,yt=Ut?0:this.outerRadius,{sharedOptions:Qt,includeOptions:wt}=this._getSharedOptions(s,$);let Tt=this._getRotation(),Jt;for(Jt=0;Jt<s;++Jt)Tt+=this._circumference(Jt,et);for(Jt=s;Jt<s+_;++Jt){const At=this._circumference(Jt,et),Nt=o[Jt],St={x:gt+this.offsetX,y:bt+this.offsetY,startAngle:Tt,endAngle:Tt+At,circumference:At,outerRadius:yt,innerRadius:Ft};wt&&(St.options=Qt||this.resolveDataElementOptions(Jt,Nt.active?"active":$)),Tt+=At,this.updateElement(Nt,Jt,St,$)}}calculateTotal(){const o=this._cachedMeta,s=o.data;let _=0,$;for($=0;$<s.length;$++){const et=o._parsed[$];et!==null&&!isNaN(et)&&this.chart.getDataVisibility($)&&!s[$].hidden&&(_+=Math.abs(et))}return _}calculateCircumference(o){const s=this._cachedMeta.total;return s>0&&!isNaN(o)?TAU*(Math.abs(o)/s):0}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart,$=_.data.labels||[],et=formatNumber(s._parsed[o],_.options.locale);return{label:$[o]||"",value:et}}getMaxBorderWidth(o){let s=0;const _=this.chart;let $,et,rt,j,st;if(!o){for($=0,et=_.data.datasets.length;$<et;++$)if(_.isDatasetVisible($)){rt=_.getDatasetMeta($),o=rt.data,j=rt.controller;break}}if(!o)return 0;for($=0,et=o.length;$<et;++$)st=j.resolveDataElementOptions($),st.borderAlign!=="inner"&&(s=Math.max(s,st.borderWidth||0,st.hoverBorderWidth||0));return s}getMaxOffset(o){let s=0;for(let _=0,$=o.length;_<$;++_){const et=this.resolveDataElementOptions(_);s=Math.max(s,et.offset||0,et.hoverOffset||0)}return s}_getRingWeightOffset(o){let s=0;for(let _=0;_<o;++_)this.chart.isDatasetVisible(_)&&(s+=this._getRingWeight(_));return s}_getRingWeight(o){return Math.max(valueOrDefault(this.chart.data.datasets[o].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Mo(DoughnutController,"id","doughnut"),Mo(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Mo(DoughnutController,"descriptors",{_scriptable:o=>o!=="spacing",_indexable:o=>o!=="spacing"}),Mo(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){const s=o.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:_,color:$}}=o.legend.options;return s.labels.map((et,rt)=>{const st=o.getDatasetMeta(0).controller.getStyle(rt);return{text:et,fillStyle:st.backgroundColor,strokeStyle:st.borderColor,fontColor:$,lineWidth:st.borderWidth,pointStyle:_,hidden:!o.getDataVisibility(rt),index:rt}})}return[]}},onClick(o,s,_){_.chart.toggleDataVisibility(s.index),_.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(o){const s=this._cachedMeta,{dataset:_,data:$=[],_dataset:et}=s,rt=this.chart._animationsDisabled;let{start:j,count:st}=_getStartAndCountOfVisiblePoints(s,$,rt);this._drawStart=j,this._drawCount=st,_scaleRangesChanged(s)&&(j=0,st=$.length),_._chart=this.chart,_._datasetIndex=this.index,_._decimated=!!et._decimated,_.points=$;const lt=this.resolveDatasetElementOptions(o);this.options.showLine||(lt.borderWidth=0),lt.segment=this.options.segment,this.updateElement(_,void 0,{animated:!rt,options:lt},o),this.updateElements($,j,st,o)}updateElements(o,s,_,$){const et=$==="reset",{iScale:rt,vScale:j,_stacked:st,_dataset:lt}=this._cachedMeta,{sharedOptions:gt,includeOptions:bt}=this._getSharedOptions(s,$),Ut=rt.axis,Ft=j.axis,{spanGaps:yt,segment:Qt}=this.options,wt=isNumber(yt)?yt:Number.POSITIVE_INFINITY,Tt=this.chart._animationsDisabled||et||$==="none",Jt=s+_,At=o.length;let Nt=s>0&&this.getParsed(s-1);for(let St=0;St<At;++St){const Ot=o[St],nn=Tt?Ot:{};if(St<s||St>=Jt){nn.skip=!0;continue}const yn=this.getParsed(St),Ct=isNullOrUndef(yn[Ft]),Vt=nn[Ut]=rt.getPixelForValue(yn[Ut],St),Yt=nn[Ft]=et||Ct?j.getBasePixel():j.getPixelForValue(st?this.applyStack(j,yn,st):yn[Ft],St);nn.skip=isNaN(Vt)||isNaN(Yt)||Ct,nn.stop=St>0&&Math.abs(yn[Ut]-Nt[Ut])>wt,Qt&&(nn.parsed=yn,nn.raw=lt.data[St]),bt&&(nn.options=gt||this.resolveDataElementOptions(St,Ot.active?"active":$)),Tt||this.updateElement(Ot,St,nn,$),Nt=yn}}getMaxOverflow(){const o=this._cachedMeta,s=o.dataset,_=s.options&&s.options.borderWidth||0,$=o.data||[];if(!$.length)return _;const et=$[0].size(this.resolveDataElementOptions(0)),rt=$[$.length-1].size(this.resolveDataElementOptions($.length-1));return Math.max(_,et,rt)/2}draw(){const o=this._cachedMeta;o.dataset.updateControlPoints(this.chart.chartArea,o.iScale.axis),super.draw()}}Mo(LineController,"id","line"),Mo(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Mo(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PolarAreaController extends DatasetController{constructor(o,s){super(o,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart,$=_.data.labels||[],et=formatNumber(s._parsed[o].r,_.options.locale);return{label:$[o]||"",value:et}}parseObjectData(o,s,_,$){return _parseObjectDataRadialScale.bind(this)(o,s,_,$)}update(o){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,o)}getMinMax(){const o=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return o.data.forEach((_,$)=>{const et=this.getParsed($).r;!isNaN(et)&&this.chart.getDataVisibility($)&&(et<s.min&&(s.min=et),et>s.max&&(s.max=et))}),s}_updateRadius(){const o=this.chart,s=o.chartArea,_=o.options,$=Math.min(s.right-s.left,s.bottom-s.top),et=Math.max($/2,0),rt=Math.max(_.cutoutPercentage?et/100*_.cutoutPercentage:1,0),j=(et-rt)/o.getVisibleDatasetCount();this.outerRadius=et-j*this.index,this.innerRadius=this.outerRadius-j}updateElements(o,s,_,$){const et=$==="reset",rt=this.chart,st=rt.options.animation,lt=this._cachedMeta.rScale,gt=lt.xCenter,bt=lt.yCenter,Ut=lt.getIndexAngle(0)-.5*PI;let Ft=Ut,yt;const Qt=360/this.countVisibleElements();for(yt=0;yt<s;++yt)Ft+=this._computeAngle(yt,$,Qt);for(yt=s;yt<s+_;yt++){const wt=o[yt];let Tt=Ft,Jt=Ft+this._computeAngle(yt,$,Qt),At=rt.getDataVisibility(yt)?lt.getDistanceFromCenterForValue(this.getParsed(yt).r):0;Ft=Jt,et&&(st.animateScale&&(At=0),st.animateRotate&&(Tt=Jt=Ut));const Nt={x:gt,y:bt,innerRadius:0,outerRadius:At,startAngle:Tt,endAngle:Jt,options:this.resolveDataElementOptions(yt,wt.active?"active":$)};this.updateElement(wt,yt,Nt,$)}}countVisibleElements(){const o=this._cachedMeta;let s=0;return o.data.forEach((_,$)=>{!isNaN(this.getParsed($).r)&&this.chart.getDataVisibility($)&&s++}),s}_computeAngle(o,s,_){return this.chart.getDataVisibility(o)?toRadians(this.resolveDataElementOptions(o,s).angle||_):0}}Mo(PolarAreaController,"id","polarArea"),Mo(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Mo(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){const s=o.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:_,color:$}}=o.legend.options;return s.labels.map((et,rt)=>{const st=o.getDatasetMeta(0).controller.getStyle(rt);return{text:et,fillStyle:st.backgroundColor,strokeStyle:st.borderColor,fontColor:$,lineWidth:st.borderWidth,pointStyle:_,hidden:!o.getDataVisibility(rt),index:rt}})}return[]}},onClick(o,s,_){_.chart.toggleDataVisibility(s.index),_.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PieController extends DoughnutController{}Mo(PieController,"id","pie"),Mo(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class RadarController extends DatasetController{getLabelAndValue(o){const s=this._cachedMeta.vScale,_=this.getParsed(o);return{label:s.getLabels()[o],value:""+s.getLabelForValue(_[s.axis])}}parseObjectData(o,s,_,$){return _parseObjectDataRadialScale.bind(this)(o,s,_,$)}update(o){const s=this._cachedMeta,_=s.dataset,$=s.data||[],et=s.iScale.getLabels();if(_.points=$,o!=="resize"){const rt=this.resolveDatasetElementOptions(o);this.options.showLine||(rt.borderWidth=0);const j={_loop:!0,_fullLoop:et.length===$.length,options:rt};this.updateElement(_,void 0,j,o)}this.updateElements($,0,$.length,o)}updateElements(o,s,_,$){const et=this._cachedMeta.rScale,rt=$==="reset";for(let j=s;j<s+_;j++){const st=o[j],lt=this.resolveDataElementOptions(j,st.active?"active":$),gt=et.getPointPositionForValue(j,this.getParsed(j).r),bt=rt?et.xCenter:gt.x,Ut=rt?et.yCenter:gt.y,Ft={x:bt,y:Ut,angle:gt.angle,skip:isNaN(bt)||isNaN(Ut),options:lt};this.updateElement(st,j,Ft,$)}}}Mo(RadarController,"id","radar"),Mo(RadarController,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Mo(RadarController,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ScatterController extends DatasetController{getLabelAndValue(o){const s=this._cachedMeta,_=this.chart.data.labels||[],{xScale:$,yScale:et}=s,rt=this.getParsed(o),j=$.getLabelForValue(rt.x),st=et.getLabelForValue(rt.y);return{label:_[o]||"",value:"("+j+", "+st+")"}}update(o){const s=this._cachedMeta,{data:_=[]}=s,$=this.chart._animationsDisabled;let{start:et,count:rt}=_getStartAndCountOfVisiblePoints(s,_,$);if(this._drawStart=et,this._drawCount=rt,_scaleRangesChanged(s)&&(et=0,rt=_.length),this.options.showLine){const{dataset:j,_dataset:st}=s;j._chart=this.chart,j._datasetIndex=this.index,j._decimated=!!st._decimated,j.points=_;const lt=this.resolveDatasetElementOptions(o);lt.segment=this.options.segment,this.updateElement(j,void 0,{animated:!$,options:lt},o)}this.updateElements(_,et,rt,o)}addElements(){const{showLine:o}=this.options;!this.datasetElementType&&o&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(o,s,_,$){const et=$==="reset",{iScale:rt,vScale:j,_stacked:st,_dataset:lt}=this._cachedMeta,gt=this.resolveDataElementOptions(s,$),bt=this.getSharedOptions(gt),Ut=this.includeOptions($,bt),Ft=rt.axis,yt=j.axis,{spanGaps:Qt,segment:wt}=this.options,Tt=isNumber(Qt)?Qt:Number.POSITIVE_INFINITY,Jt=this.chart._animationsDisabled||et||$==="none";let At=s>0&&this.getParsed(s-1);for(let Nt=s;Nt<s+_;++Nt){const St=o[Nt],Ot=this.getParsed(Nt),nn=Jt?St:{},yn=isNullOrUndef(Ot[yt]),Ct=nn[Ft]=rt.getPixelForValue(Ot[Ft],Nt),Vt=nn[yt]=et||yn?j.getBasePixel():j.getPixelForValue(st?this.applyStack(j,Ot,st):Ot[yt],Nt);nn.skip=isNaN(Ct)||isNaN(Vt)||yn,nn.stop=Nt>0&&Math.abs(Ot[Ft]-At[Ft])>Tt,wt&&(nn.parsed=Ot,nn.raw=lt.data[Nt]),Ut&&(nn.options=bt||this.resolveDataElementOptions(Nt,St.active?"active":$)),Jt||this.updateElement(St,Nt,nn,$),At=Ot}this.updateSharedOptions(bt,$,gt)}getMaxOverflow(){const o=this._cachedMeta,s=o.data||[];if(!this.options.showLine){let j=0;for(let st=s.length-1;st>=0;--st)j=Math.max(j,s[st].size(this.resolveDataElementOptions(st))/2);return j>0&&j}const _=o.dataset,$=_.options&&_.options.borderWidth||0;if(!s.length)return $;const et=s[0].size(this.resolveDataElementOptions(0)),rt=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max($,et,rt)/2}}Mo(ScatterController,"id","scatter"),Mo(ScatterController,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Mo(ScatterController,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(o){Object.assign(DateAdapterBase.prototype,o)}constructor(o){this.options=o||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(i,o,s,_){const{controller:$,data:et,_sorted:rt}=i,j=$._cachedMeta.iScale;if(j&&o===j.axis&&o!=="r"&&rt&&et.length){const st=j._reversePixels?_rlookupByKey:_lookupByKey;if(_){if($._sharedOptions){const lt=et[0],gt=typeof lt.getRange=="function"&&lt.getRange(o);if(gt){const bt=st(et,o,s-gt),Ut=st(et,o,s+gt);return{lo:bt.lo,hi:Ut.hi}}}}else return st(et,o,s)}return{lo:0,hi:et.length-1}}function evaluateInteractionItems(i,o,s,_,$){const et=i.getSortedVisibleDatasetMetas(),rt=s[o];for(let j=0,st=et.length;j<st;++j){const{index:lt,data:gt}=et[j],{lo:bt,hi:Ut}=binarySearch(et[j],o,rt,$);for(let Ft=bt;Ft<=Ut;++Ft){const yt=gt[Ft];yt.skip||_(yt,lt,Ft)}}}function getDistanceMetricForAxis(i){const o=i.indexOf("x")!==-1,s=i.indexOf("y")!==-1;return function(_,$){const et=o?Math.abs(_.x-$.x):0,rt=s?Math.abs(_.y-$.y):0;return Math.sqrt(Math.pow(et,2)+Math.pow(rt,2))}}function getIntersectItems(i,o,s,_,$){const et=[];return!$&&!i.isPointInArea(o)||evaluateInteractionItems(i,s,o,function(j,st,lt){!$&&!_isPointInArea(j,i.chartArea,0)||j.inRange(o.x,o.y,_)&&et.push({element:j,datasetIndex:st,index:lt})},!0),et}function getNearestRadialItems(i,o,s,_){let $=[];function et(rt,j,st){const{startAngle:lt,endAngle:gt}=rt.getProps(["startAngle","endAngle"],_),{angle:bt}=getAngleFromPoint(rt,{x:o.x,y:o.y});_angleBetween(bt,lt,gt)&&$.push({element:rt,datasetIndex:j,index:st})}return evaluateInteractionItems(i,s,o,et),$}function getNearestCartesianItems(i,o,s,_,$,et){let rt=[];const j=getDistanceMetricForAxis(s);let st=Number.POSITIVE_INFINITY;function lt(gt,bt,Ut){const Ft=gt.inRange(o.x,o.y,$);if(_&&!Ft)return;const yt=gt.getCenterPoint($);if(!(!!et||i.isPointInArea(yt))&&!Ft)return;const wt=j(o,yt);wt<st?(rt=[{element:gt,datasetIndex:bt,index:Ut}],st=wt):wt===st&&rt.push({element:gt,datasetIndex:bt,index:Ut})}return evaluateInteractionItems(i,s,o,lt),rt}function getNearestItems(i,o,s,_,$,et){return!et&&!i.isPointInArea(o)?[]:s==="r"&&!_?getNearestRadialItems(i,o,s,$):getNearestCartesianItems(i,o,s,_,$,et)}function getAxisItems(i,o,s,_,$){const et=[],rt=s==="x"?"inXRange":"inYRange";let j=!1;return evaluateInteractionItems(i,s,o,(st,lt,gt)=>{st[rt](o[s],$)&&(et.push({element:st,datasetIndex:lt,index:gt}),j=j||st.inRange(o.x,o.y,$))}),_&&!j?[]:et}var Interaction={evaluateInteractionItems,modes:{index(i,o,s,_){const $=getRelativePosition(o,i),et=s.axis||"x",rt=s.includeInvisible||!1,j=s.intersect?getIntersectItems(i,$,et,_,rt):getNearestItems(i,$,et,!1,_,rt),st=[];return j.length?(i.getSortedVisibleDatasetMetas().forEach(lt=>{const gt=j[0].index,bt=lt.data[gt];bt&&!bt.skip&&st.push({element:bt,datasetIndex:lt.index,index:gt})}),st):[]},dataset(i,o,s,_){const $=getRelativePosition(o,i),et=s.axis||"xy",rt=s.includeInvisible||!1;let j=s.intersect?getIntersectItems(i,$,et,_,rt):getNearestItems(i,$,et,!1,_,rt);if(j.length>0){const st=j[0].datasetIndex,lt=i.getDatasetMeta(st).data;j=[];for(let gt=0;gt<lt.length;++gt)j.push({element:lt[gt],datasetIndex:st,index:gt})}return j},point(i,o,s,_){const $=getRelativePosition(o,i),et=s.axis||"xy",rt=s.includeInvisible||!1;return getIntersectItems(i,$,et,_,rt)},nearest(i,o,s,_){const $=getRelativePosition(o,i),et=s.axis||"xy",rt=s.includeInvisible||!1;return getNearestItems(i,$,et,s.intersect,_,rt)},x(i,o,s,_){const $=getRelativePosition(o,i);return getAxisItems(i,$,"x",s.intersect,_)},y(i,o,s,_){const $=getRelativePosition(o,i);return getAxisItems(i,$,"y",s.intersect,_)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(i,o){return i.filter(s=>s.pos===o)}function filterDynamicPositionByAxis(i,o){return i.filter(s=>STATIC_POSITIONS.indexOf(s.pos)===-1&&s.box.axis===o)}function sortByWeight(i,o){return i.sort((s,_)=>{const $=o?_:s,et=o?s:_;return $.weight===et.weight?$.index-et.index:$.weight-et.weight})}function wrapBoxes(i){const o=[];let s,_,$,et,rt,j;for(s=0,_=(i||[]).length;s<_;++s)$=i[s],{position:et,options:{stack:rt,stackWeight:j=1}}=$,o.push({index:s,box:$,pos:et,horizontal:$.isHorizontal(),weight:$.weight,stack:rt&&et+rt,stackWeight:j});return o}function buildStacks(i){const o={};for(const s of i){const{stack:_,pos:$,stackWeight:et}=s;if(!_||!STATIC_POSITIONS.includes($))continue;const rt=o[_]||(o[_]={count:0,placed:0,weight:0,size:0});rt.count++,rt.weight+=et}return o}function setLayoutDims(i,o){const s=buildStacks(i),{vBoxMaxWidth:_,hBoxMaxHeight:$}=o;let et,rt,j;for(et=0,rt=i.length;et<rt;++et){j=i[et];const{fullSize:st}=j.box,lt=s[j.stack],gt=lt&&j.stackWeight/lt.weight;j.horizontal?(j.width=gt?gt*_:st&&o.availableWidth,j.height=$):(j.width=_,j.height=gt?gt*$:st&&o.availableHeight)}return s}function buildLayoutBoxes(i){const o=wrapBoxes(i),s=sortByWeight(o.filter(lt=>lt.box.fullSize),!0),_=sortByWeight(filterByPosition(o,"left"),!0),$=sortByWeight(filterByPosition(o,"right")),et=sortByWeight(filterByPosition(o,"top"),!0),rt=sortByWeight(filterByPosition(o,"bottom")),j=filterDynamicPositionByAxis(o,"x"),st=filterDynamicPositionByAxis(o,"y");return{fullSize:s,leftAndTop:_.concat(et),rightAndBottom:$.concat(st).concat(rt).concat(j),chartArea:filterByPosition(o,"chartArea"),vertical:_.concat($).concat(st),horizontal:et.concat(rt).concat(j)}}function getCombinedMax(i,o,s,_){return Math.max(i[s],o[s])+Math.max(i[_],o[_])}function updateMaxPadding(i,o){i.top=Math.max(i.top,o.top),i.left=Math.max(i.left,o.left),i.bottom=Math.max(i.bottom,o.bottom),i.right=Math.max(i.right,o.right)}function updateDims(i,o,s,_){const{pos:$,box:et}=s,rt=i.maxPadding;if(!isObject($)){s.size&&(i[$]-=s.size);const bt=_[s.stack]||{size:0,count:1};bt.size=Math.max(bt.size,s.horizontal?et.height:et.width),s.size=bt.size/bt.count,i[$]+=s.size}et.getPadding&&updateMaxPadding(rt,et.getPadding());const j=Math.max(0,o.outerWidth-getCombinedMax(rt,i,"left","right")),st=Math.max(0,o.outerHeight-getCombinedMax(rt,i,"top","bottom")),lt=j!==i.w,gt=st!==i.h;return i.w=j,i.h=st,s.horizontal?{same:lt,other:gt}:{same:gt,other:lt}}function handleMaxPadding(i){const o=i.maxPadding;function s(_){const $=Math.max(o[_]-i[_],0);return i[_]+=$,$}i.y+=s("top"),i.x+=s("left"),s("right"),s("bottom")}function getMargins(i,o){const s=o.maxPadding;function _($){const et={left:0,top:0,right:0,bottom:0};return $.forEach(rt=>{et[rt]=Math.max(o[rt],s[rt])}),et}return _(i?["left","right"]:["top","bottom"])}function fitBoxes(i,o,s,_){const $=[];let et,rt,j,st,lt,gt;for(et=0,rt=i.length,lt=0;et<rt;++et){j=i[et],st=j.box,st.update(j.width||o.w,j.height||o.h,getMargins(j.horizontal,o));const{same:bt,other:Ut}=updateDims(o,s,j,_);lt|=bt&&$.length,gt=gt||Ut,st.fullSize||$.push(j)}return lt&&fitBoxes($,o,s,_)||gt}function setBoxDims(i,o,s,_,$){i.top=s,i.left=o,i.right=o+_,i.bottom=s+$,i.width=_,i.height=$}function placeBoxes(i,o,s,_){const $=s.padding;let{x:et,y:rt}=o;for(const j of i){const st=j.box,lt=_[j.stack]||{count:1,placed:0,weight:1},gt=j.stackWeight/lt.weight||1;if(j.horizontal){const bt=o.w*gt,Ut=lt.size||st.height;defined(lt.start)&&(rt=lt.start),st.fullSize?setBoxDims(st,$.left,rt,s.outerWidth-$.right-$.left,Ut):setBoxDims(st,o.left+lt.placed,rt,bt,Ut),lt.start=rt,lt.placed+=bt,rt=st.bottom}else{const bt=o.h*gt,Ut=lt.size||st.width;defined(lt.start)&&(et=lt.start),st.fullSize?setBoxDims(st,et,$.top,Ut,s.outerHeight-$.bottom-$.top):setBoxDims(st,et,o.top+lt.placed,Ut,bt),lt.start=et,lt.placed+=bt,et=st.right}}o.x=et,o.y=rt}var layouts={addBox(i,o){i.boxes||(i.boxes=[]),o.fullSize=o.fullSize||!1,o.position=o.position||"top",o.weight=o.weight||0,o._layers=o._layers||function(){return[{z:0,draw(s){o.draw(s)}}]},i.boxes.push(o)},removeBox(i,o){const s=i.boxes?i.boxes.indexOf(o):-1;s!==-1&&i.boxes.splice(s,1)},configure(i,o,s){o.fullSize=s.fullSize,o.position=s.position,o.weight=s.weight},update(i,o,s,_){if(!i)return;const $=toPadding(i.options.layout.padding),et=Math.max(o-$.width,0),rt=Math.max(s-$.height,0),j=buildLayoutBoxes(i.boxes),st=j.vertical,lt=j.horizontal;each(i.boxes,Qt=>{typeof Qt.beforeLayout=="function"&&Qt.beforeLayout()});const gt=st.reduce((Qt,wt)=>wt.box.options&&wt.box.options.display===!1?Qt:Qt+1,0)||1,bt=Object.freeze({outerWidth:o,outerHeight:s,padding:$,availableWidth:et,availableHeight:rt,vBoxMaxWidth:et/2/gt,hBoxMaxHeight:rt/2}),Ut=Object.assign({},$);updateMaxPadding(Ut,toPadding(_));const Ft=Object.assign({maxPadding:Ut,w:et,h:rt,x:$.left,y:$.top},$),yt=setLayoutDims(st.concat(lt),bt);fitBoxes(j.fullSize,Ft,bt,yt),fitBoxes(st,Ft,bt,yt),fitBoxes(lt,Ft,bt,yt)&&fitBoxes(st,Ft,bt,yt),handleMaxPadding(Ft),placeBoxes(j.leftAndTop,Ft,bt,yt),Ft.x+=Ft.w,Ft.y+=Ft.h,placeBoxes(j.rightAndBottom,Ft,bt,yt),i.chartArea={left:Ft.left,top:Ft.top,right:Ft.left+Ft.w,bottom:Ft.top+Ft.h,height:Ft.h,width:Ft.w},each(j.chartArea,Qt=>{const wt=Qt.box;Object.assign(wt,i.chartArea),wt.update(Ft.w,Ft.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(o,s){}releaseContext(o){return!1}addEventListener(o,s,_){}removeEventListener(o,s,_){}getDevicePixelRatio(){return 1}getMaximumSize(o,s,_,$){return s=Math.max(0,s||o.width),_=_||o.height,{width:s,height:Math.max(0,$?Math.floor(s/$):_)}}isAttached(o){return!0}updateConfig(o){}}class BasicPlatform extends BasePlatform{acquireContext(o){return o&&o.getContext&&o.getContext("2d")||null}updateConfig(o){o.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=i=>i===null||i==="";function initCanvas(i,o){const s=i.style,_=i.getAttribute("height"),$=i.getAttribute("width");if(i[EXPANDO_KEY]={initial:{height:_,width:$,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",isNullOrEmpty($)){const et=readUsedSize(i,"width");et!==void 0&&(i.width=et)}if(isNullOrEmpty(_))if(i.style.height==="")i.height=i.width/(o||2);else{const et=readUsedSize(i,"height");et!==void 0&&(i.height=et)}return i}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(i,o,s){i.addEventListener(o,s,eventListenerOptions)}function removeListener(i,o,s){i.canvas.removeEventListener(o,s,eventListenerOptions)}function fromNativeEvent(i,o){const s=EVENT_TYPES[i.type]||i.type,{x:_,y:$}=getRelativePosition(i,o);return{type:s,chart:o,native:i,x:_!==void 0?_:null,y:$!==void 0?$:null}}function nodeListContains(i,o){for(const s of i)if(s===o||s.contains(o))return!0}function createAttachObserver(i,o,s){const _=i.canvas,$=new MutationObserver(et=>{let rt=!1;for(const j of et)rt=rt||nodeListContains(j.addedNodes,_),rt=rt&&!nodeListContains(j.removedNodes,_);rt&&s()});return $.observe(document,{childList:!0,subtree:!0}),$}function createDetachObserver(i,o,s){const _=i.canvas,$=new MutationObserver(et=>{let rt=!1;for(const j of et)rt=rt||nodeListContains(j.removedNodes,_),rt=rt&&!nodeListContains(j.addedNodes,_);rt&&s()});return $.observe(document,{childList:!0,subtree:!0}),$}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const i=window.devicePixelRatio;i!==oldDevicePixelRatio&&(oldDevicePixelRatio=i,drpListeningCharts.forEach((o,s)=>{s.currentDevicePixelRatio!==i&&o()}))}function listenDevicePixelRatioChanges(i,o){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(i,o)}function unlistenDevicePixelRatioChanges(i){drpListeningCharts.delete(i),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(i,o,s){const _=i.canvas,$=_&&_getParentNode(_);if(!$)return;const et=throttled((j,st)=>{const lt=$.clientWidth;s(j,st),lt<$.clientWidth&&s()},window),rt=new ResizeObserver(j=>{const st=j[0],lt=st.contentRect.width,gt=st.contentRect.height;lt===0&&gt===0||et(lt,gt)});return rt.observe($),listenDevicePixelRatioChanges(i,et),rt}function releaseObserver(i,o,s){s&&s.disconnect(),o==="resize"&&unlistenDevicePixelRatioChanges(i)}function createProxyAndListen(i,o,s){const _=i.canvas,$=throttled(et=>{i.ctx!==null&&s(fromNativeEvent(et,i))},i);return addListener(_,o,$),$}class DomPlatform extends BasePlatform{acquireContext(o,s){const _=o&&o.getContext&&o.getContext("2d");return _&&_.canvas===o?(initCanvas(o,s),_):null}releaseContext(o){const s=o.canvas;if(!s[EXPANDO_KEY])return!1;const _=s[EXPANDO_KEY].initial;["height","width"].forEach(et=>{const rt=_[et];isNullOrUndef(rt)?s.removeAttribute(et):s.setAttribute(et,rt)});const $=_.style||{};return Object.keys($).forEach(et=>{s.style[et]=$[et]}),s.width=s.width,delete s[EXPANDO_KEY],!0}addEventListener(o,s,_){this.removeEventListener(o,s);const $=o.$proxies||(o.$proxies={}),rt={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[s]||createProxyAndListen;$[s]=rt(o,s,_)}removeEventListener(o,s){const _=o.$proxies||(o.$proxies={}),$=_[s];if(!$)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[s]||removeListener)(o,s,$),_[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(o,s,_,$){return getMaximumSize(o,s,_,$)}isAttached(o){const s=_getParentNode(o);return!!(s&&s.isConnected)}}function _detectPlatform(i){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){Mo(this,"active",!1)}tooltipPosition(o){const{x:s,y:_}=this.getProps(["x","y"],o);return{x:s,y:_}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(o,s){const _=this.$animations;if(!s||!_)return this;const $={};return o.forEach(et=>{$[et]=_[et]&&_[et].active()?_[et]._to:this[et]}),$}}Mo(Element,"defaults",{}),Mo(Element,"defaultRoutes");function autoSkip(i,o){const s=i.options.ticks,_=determineMaxTicks(i),$=Math.min(s.maxTicksLimit||_,_),et=s.major.enabled?getMajorIndices(o):[],rt=et.length,j=et[0],st=et[rt-1],lt=[];if(rt>$)return skipMajors(o,lt,et,rt/$),lt;const gt=calculateSpacing(et,o,$);if(rt>0){let bt,Ut;const Ft=rt>1?Math.round((st-j)/(rt-1)):null;for(skip(o,lt,gt,isNullOrUndef(Ft)?0:j-Ft,j),bt=0,Ut=rt-1;bt<Ut;bt++)skip(o,lt,gt,et[bt],et[bt+1]);return skip(o,lt,gt,st,isNullOrUndef(Ft)?o.length:st+Ft),lt}return skip(o,lt,gt),lt}function determineMaxTicks(i){const o=i.options.offset,s=i._tickSize(),_=i._length/s+(o?0:1),$=i._maxLength/s;return Math.floor(Math.min(_,$))}function calculateSpacing(i,o,s){const _=getEvenSpacing(i),$=o.length/s;if(!_)return Math.max($,1);const et=_factorize(_);for(let rt=0,j=et.length-1;rt<j;rt++){const st=et[rt];if(st>$)return st}return Math.max($,1)}function getMajorIndices(i){const o=[];let s,_;for(s=0,_=i.length;s<_;s++)i[s].major&&o.push(s);return o}function skipMajors(i,o,s,_){let $=0,et=s[0],rt;for(_=Math.ceil(_),rt=0;rt<i.length;rt++)rt===et&&(o.push(i[rt]),$++,et=s[$*_])}function skip(i,o,s,_,$){const et=valueOrDefault(_,0),rt=Math.min(valueOrDefault($,i.length),i.length);let j=0,st,lt,gt;for(s=Math.ceil(s),$&&(st=$-_,s=st/Math.floor(st/s)),gt=et;gt<0;)j++,gt=Math.round(et+j*s);for(lt=Math.max(et,0);lt<rt;lt++)lt===gt&&(o.push(i[lt]),j++,gt=Math.round(et+j*s))}function getEvenSpacing(i){const o=i.length;let s,_;if(o<2)return!1;for(_=i[0],s=1;s<o;++s)if(i[s]-i[s-1]!==_)return!1;return _}const reverseAlign=i=>i==="left"?"right":i==="right"?"left":i,offsetFromEdge=(i,o,s)=>o==="top"||o==="left"?i[o]+s:i[o]-s;function sample(i,o){const s=[],_=i.length/o,$=i.length;let et=0;for(;et<$;et+=_)s.push(i[Math.floor(et)]);return s}function getPixelForGridLine(i,o,s){const _=i.ticks.length,$=Math.min(o,_-1),et=i._startPixel,rt=i._endPixel,j=1e-6;let st=i.getPixelForTick($),lt;if(!(s&&(_===1?lt=Math.max(st-et,rt-st):o===0?lt=(i.getPixelForTick(1)-st)/2:lt=(st-i.getPixelForTick($-1))/2,st+=$<o?lt:-lt,st<et-j||st>rt+j)))return st}function garbageCollect(i,o){each(i,s=>{const _=s.gc,$=_.length/2;let et;if($>o){for(et=0;et<$;++et)delete s.data[_[et]];_.splice(0,$)}})}function getTickMarkLength(i){return i.drawTicks?i.tickLength:0}function getTitleHeight(i,o){if(!i.display)return 0;const s=toFont(i.font,o),_=toPadding(i.padding);return(isArray(i.text)?i.text.length:1)*s.lineHeight+_.height}function createScaleContext(i,o){return createContext(i,{scale:o,type:"scale"})}function createTickContext(i,o,s){return createContext(i,{tick:s,index:o,type:"tick"})}function titleAlign(i,o,s){let _=_toLeftRightCenter(i);return(s&&o!=="right"||!s&&o==="right")&&(_=reverseAlign(_)),_}function titleArgs(i,o,s,_){const{top:$,left:et,bottom:rt,right:j,chart:st}=i,{chartArea:lt,scales:gt}=st;let bt=0,Ut,Ft,yt;const Qt=rt-$,wt=j-et;if(i.isHorizontal()){if(Ft=_alignStartEnd(_,et,j),isObject(s)){const Tt=Object.keys(s)[0],Jt=s[Tt];yt=gt[Tt].getPixelForValue(Jt)+Qt-o}else s==="center"?yt=(lt.bottom+lt.top)/2+Qt-o:yt=offsetFromEdge(i,s,o);Ut=j-et}else{if(isObject(s)){const Tt=Object.keys(s)[0],Jt=s[Tt];Ft=gt[Tt].getPixelForValue(Jt)-wt+o}else s==="center"?Ft=(lt.left+lt.right)/2-wt+o:Ft=offsetFromEdge(i,s,o);yt=_alignStartEnd(_,rt,$),bt=s==="left"?-HALF_PI:HALF_PI}return{titleX:Ft,titleY:yt,maxWidth:Ut,rotation:bt}}class Scale extends Element{constructor(o){super(),this.id=o.id,this.type=o.type,this.options=void 0,this.ctx=o.ctx,this.chart=o.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(o){this.options=o.setContext(this.getContext()),this.axis=o.axis,this._userMin=this.parse(o.min),this._userMax=this.parse(o.max),this._suggestedMin=this.parse(o.suggestedMin),this._suggestedMax=this.parse(o.suggestedMax)}parse(o,s){return o}getUserBounds(){let{_userMin:o,_userMax:s,_suggestedMin:_,_suggestedMax:$}=this;return o=finiteOrDefault(o,Number.POSITIVE_INFINITY),s=finiteOrDefault(s,Number.NEGATIVE_INFINITY),_=finiteOrDefault(_,Number.POSITIVE_INFINITY),$=finiteOrDefault($,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(o,_),max:finiteOrDefault(s,$),minDefined:isNumberFinite(o),maxDefined:isNumberFinite(s)}}getMinMax(o){let{min:s,max:_,minDefined:$,maxDefined:et}=this.getUserBounds(),rt;if($&&et)return{min:s,max:_};const j=this.getMatchingVisibleMetas();for(let st=0,lt=j.length;st<lt;++st)rt=j[st].controller.getMinMax(this,o),$||(s=Math.min(s,rt.min)),et||(_=Math.max(_,rt.max));return s=et&&s>_?_:s,_=$&&s>_?s:_,{min:finiteOrDefault(s,finiteOrDefault(_,s)),max:finiteOrDefault(_,finiteOrDefault(s,_))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]}getLabelItems(o=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(o))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(o,s,_){const{beginAtZero:$,grace:et,ticks:rt}=this.options,j=rt.sampleSize;this.beforeUpdate(),this.maxWidth=o,this.maxHeight=s,this._margins=_=Object.assign({left:0,right:0,top:0,bottom:0},_),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+_.left+_.right:this.height+_.top+_.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,et,$),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const st=j<this.ticks.length;this._convertTicksToLabels(st?sample(this.ticks,j):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),rt.display&&(rt.autoSkip||rt.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),st&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let o=this.options.reverse,s,_;this.isHorizontal()?(s=this.left,_=this.right):(s=this.top,_=this.bottom,o=!o),this._startPixel=s,this._endPixel=_,this._reversePixels=o,this._length=_-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(o){this.chart.notifyPlugins(o,this.getContext()),callback(this.options[o],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(o){const s=this.options.ticks;let _,$,et;for(_=0,$=o.length;_<$;_++)et=o[_],et.label=callback(s.callback,[et.value,_,o],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const o=this.options,s=o.ticks,_=this.ticks.length,$=s.minRotation||0,et=s.maxRotation;let rt=$,j,st,lt;if(!this._isVisible()||!s.display||$>=et||_<=1||!this.isHorizontal()){this.labelRotation=$;return}const gt=this._getLabelSizes(),bt=gt.widest.width,Ut=gt.highest.height,Ft=_limitValue(this.chart.width-bt,0,this.maxWidth);j=o.offset?this.maxWidth/_:Ft/(_-1),bt+6>j&&(j=Ft/(_-(o.offset?.5:1)),st=this.maxHeight-getTickMarkLength(o.grid)-s.padding-getTitleHeight(o.title,this.chart.options.font),lt=Math.sqrt(bt*bt+Ut*Ut),rt=toDegrees(Math.min(Math.asin(_limitValue((gt.highest.height+6)/j,-1,1)),Math.asin(_limitValue(st/lt,-1,1))-Math.asin(_limitValue(Ut/lt,-1,1)))),rt=Math.max($,Math.min(et,rt))),this.labelRotation=rt}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const o={width:0,height:0},{chart:s,options:{ticks:_,title:$,grid:et}}=this,rt=this._isVisible(),j=this.isHorizontal();if(rt){const st=getTitleHeight($,s.options.font);if(j?(o.width=this.maxWidth,o.height=getTickMarkLength(et)+st):(o.height=this.maxHeight,o.width=getTickMarkLength(et)+st),_.display&&this.ticks.length){const{first:lt,last:gt,widest:bt,highest:Ut}=this._getLabelSizes(),Ft=_.padding*2,yt=toRadians(this.labelRotation),Qt=Math.cos(yt),wt=Math.sin(yt);if(j){const Tt=_.mirror?0:wt*bt.width+Qt*Ut.height;o.height=Math.min(this.maxHeight,o.height+Tt+Ft)}else{const Tt=_.mirror?0:Qt*bt.width+wt*Ut.height;o.width=Math.min(this.maxWidth,o.width+Tt+Ft)}this._calculatePadding(lt,gt,wt,Qt)}}this._handleMargins(),j?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=o.height):(this.width=o.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(o,s,_,$){const{ticks:{align:et,padding:rt},position:j}=this.options,st=this.labelRotation!==0,lt=j!=="top"&&this.axis==="x";if(this.isHorizontal()){const gt=this.getPixelForTick(0)-this.left,bt=this.right-this.getPixelForTick(this.ticks.length-1);let Ut=0,Ft=0;st?lt?(Ut=$*o.width,Ft=_*s.height):(Ut=_*o.height,Ft=$*s.width):et==="start"?Ft=s.width:et==="end"?Ut=o.width:et!=="inner"&&(Ut=o.width/2,Ft=s.width/2),this.paddingLeft=Math.max((Ut-gt+rt)*this.width/(this.width-gt),0),this.paddingRight=Math.max((Ft-bt+rt)*this.width/(this.width-bt),0)}else{let gt=s.height/2,bt=o.height/2;et==="start"?(gt=0,bt=o.height):et==="end"&&(gt=s.height,bt=0),this.paddingTop=gt+rt,this.paddingBottom=bt+rt}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:o,position:s}=this.options;return s==="top"||s==="bottom"||o==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(o){this.beforeTickToLabelConversion(),this.generateTickLabels(o);let s,_;for(s=0,_=o.length;s<_;s++)isNullOrUndef(o[s].label)&&(o.splice(s,1),_--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let o=this._labelSizes;if(!o){const s=this.options.ticks.sampleSize;let _=this.ticks;s<_.length&&(_=sample(_,s)),this._labelSizes=o=this._computeLabelSizes(_,_.length)}return o}_computeLabelSizes(o,s){const{ctx:_,_longestTextCache:$}=this,et=[],rt=[];let j=0,st=0,lt,gt,bt,Ut,Ft,yt,Qt,wt,Tt,Jt,At;for(lt=0;lt<s;++lt){if(Ut=o[lt].label,Ft=this._resolveTickFontOptions(lt),_.font=yt=Ft.string,Qt=$[yt]=$[yt]||{data:{},gc:[]},wt=Ft.lineHeight,Tt=Jt=0,!isNullOrUndef(Ut)&&!isArray(Ut))Tt=_measureText(_,Qt.data,Qt.gc,Tt,Ut),Jt=wt;else if(isArray(Ut))for(gt=0,bt=Ut.length;gt<bt;++gt)At=Ut[gt],!isNullOrUndef(At)&&!isArray(At)&&(Tt=_measureText(_,Qt.data,Qt.gc,Tt,At),Jt+=wt);et.push(Tt),rt.push(Jt),j=Math.max(Tt,j),st=Math.max(Jt,st)}garbageCollect($,s);const Nt=et.indexOf(j),St=rt.indexOf(st),Ot=nn=>({width:et[nn]||0,height:rt[nn]||0});return{first:Ot(0),last:Ot(s-1),widest:Ot(Nt),highest:Ot(St),widths:et,heights:rt}}getLabelForValue(o){return o}getPixelForValue(o,s){return NaN}getValueForPixel(o){}getPixelForTick(o){const s=this.ticks;return o<0||o>s.length-1?null:this.getPixelForValue(s[o].value)}getPixelForDecimal(o){this._reversePixels&&(o=1-o);const s=this._startPixel+o*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,s,0):s)}getDecimalForPixel(o){const s=(o-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:o,max:s}=this;return o<0&&s<0?s:o>0&&s>0?o:0}getContext(o){const s=this.ticks||[];if(o>=0&&o<s.length){const _=s[o];return _.$context||(_.$context=createTickContext(this.getContext(),o,_))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const o=this.options.ticks,s=toRadians(this.labelRotation),_=Math.abs(Math.cos(s)),$=Math.abs(Math.sin(s)),et=this._getLabelSizes(),rt=o.autoSkipPadding||0,j=et?et.widest.width+rt:0,st=et?et.highest.height+rt:0;return this.isHorizontal()?st*_>j*$?j/_:st/$:st*$<j*_?st/_:j/$}_isVisible(){const o=this.options.display;return o!=="auto"?!!o:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(o){const s=this.axis,_=this.chart,$=this.options,{grid:et,position:rt,border:j}=$,st=et.offset,lt=this.isHorizontal(),bt=this.ticks.length+(st?1:0),Ut=getTickMarkLength(et),Ft=[],yt=j.setContext(this.getContext()),Qt=yt.display?yt.width:0,wt=Qt/2,Tt=function($t){return _alignPixel(_,$t,Qt)};let Jt,At,Nt,St,Ot,nn,yn,Ct,Vt,Yt,Pt,tn;if(rt==="top")Jt=Tt(this.bottom),nn=this.bottom-Ut,Ct=Jt-wt,Yt=Tt(o.top)+wt,tn=o.bottom;else if(rt==="bottom")Jt=Tt(this.top),Yt=o.top,tn=Tt(o.bottom)-wt,nn=Jt+wt,Ct=this.top+Ut;else if(rt==="left")Jt=Tt(this.right),Ot=this.right-Ut,yn=Jt-wt,Vt=Tt(o.left)+wt,Pt=o.right;else if(rt==="right")Jt=Tt(this.left),Vt=o.left,Pt=Tt(o.right)-wt,Ot=Jt+wt,yn=this.left+Ut;else if(s==="x"){if(rt==="center")Jt=Tt((o.top+o.bottom)/2+.5);else if(isObject(rt)){const $t=Object.keys(rt)[0],hn=rt[$t];Jt=Tt(this.chart.scales[$t].getPixelForValue(hn))}Yt=o.top,tn=o.bottom,nn=Jt+wt,Ct=nn+Ut}else if(s==="y"){if(rt==="center")Jt=Tt((o.left+o.right)/2);else if(isObject(rt)){const $t=Object.keys(rt)[0],hn=rt[$t];Jt=Tt(this.chart.scales[$t].getPixelForValue(hn))}Ot=Jt-wt,yn=Ot-Ut,Vt=o.left,Pt=o.right}const Un=valueOrDefault($.ticks.maxTicksLimit,bt),Kt=Math.max(1,Math.ceil(bt/Un));for(At=0;At<bt;At+=Kt){const $t=this.getContext(At),hn=et.setContext($t),dn=j.setContext($t),zt=hn.lineWidth,It=hn.color,gn=dn.dash||[],vn=dn.dashOffset,Wn=hn.tickWidth,Ln=hn.tickColor,jn=hn.tickBorderDash||[],xn=hn.tickBorderDashOffset;Nt=getPixelForGridLine(this,At,st),Nt!==void 0&&(St=_alignPixel(_,Nt,zt),lt?Ot=yn=Vt=Pt=St:nn=Ct=Yt=tn=St,Ft.push({tx1:Ot,ty1:nn,tx2:yn,ty2:Ct,x1:Vt,y1:Yt,x2:Pt,y2:tn,width:zt,color:It,borderDash:gn,borderDashOffset:vn,tickWidth:Wn,tickColor:Ln,tickBorderDash:jn,tickBorderDashOffset:xn}))}return this._ticksLength=bt,this._borderValue=Jt,Ft}_computeLabelItems(o){const s=this.axis,_=this.options,{position:$,ticks:et}=_,rt=this.isHorizontal(),j=this.ticks,{align:st,crossAlign:lt,padding:gt,mirror:bt}=et,Ut=getTickMarkLength(_.grid),Ft=Ut+gt,yt=bt?-gt:Ft,Qt=-toRadians(this.labelRotation),wt=[];let Tt,Jt,At,Nt,St,Ot,nn,yn,Ct,Vt,Yt,Pt,tn="middle";if($==="top")Ot=this.bottom-yt,nn=this._getXAxisLabelAlignment();else if($==="bottom")Ot=this.top+yt,nn=this._getXAxisLabelAlignment();else if($==="left"){const Kt=this._getYAxisLabelAlignment(Ut);nn=Kt.textAlign,St=Kt.x}else if($==="right"){const Kt=this._getYAxisLabelAlignment(Ut);nn=Kt.textAlign,St=Kt.x}else if(s==="x"){if($==="center")Ot=(o.top+o.bottom)/2+Ft;else if(isObject($)){const Kt=Object.keys($)[0],$t=$[Kt];Ot=this.chart.scales[Kt].getPixelForValue($t)+Ft}nn=this._getXAxisLabelAlignment()}else if(s==="y"){if($==="center")St=(o.left+o.right)/2-Ft;else if(isObject($)){const Kt=Object.keys($)[0],$t=$[Kt];St=this.chart.scales[Kt].getPixelForValue($t)}nn=this._getYAxisLabelAlignment(Ut).textAlign}s==="y"&&(st==="start"?tn="top":st==="end"&&(tn="bottom"));const Un=this._getLabelSizes();for(Tt=0,Jt=j.length;Tt<Jt;++Tt){At=j[Tt],Nt=At.label;const Kt=et.setContext(this.getContext(Tt));yn=this.getPixelForTick(Tt)+et.labelOffset,Ct=this._resolveTickFontOptions(Tt),Vt=Ct.lineHeight,Yt=isArray(Nt)?Nt.length:1;const $t=Yt/2,hn=Kt.color,dn=Kt.textStrokeColor,zt=Kt.textStrokeWidth;let It=nn;rt?(St=yn,nn==="inner"&&(Tt===Jt-1?It=this.options.reverse?"left":"right":Tt===0?It=this.options.reverse?"right":"left":It="center"),$==="top"?lt==="near"||Qt!==0?Pt=-Yt*Vt+Vt/2:lt==="center"?Pt=-Un.highest.height/2-$t*Vt+Vt:Pt=-Un.highest.height+Vt/2:lt==="near"||Qt!==0?Pt=Vt/2:lt==="center"?Pt=Un.highest.height/2-$t*Vt:Pt=Un.highest.height-Yt*Vt,bt&&(Pt*=-1),Qt!==0&&!Kt.showLabelBackdrop&&(St+=Vt/2*Math.sin(Qt))):(Ot=yn,Pt=(1-Yt)*Vt/2);let gn;if(Kt.showLabelBackdrop){const vn=toPadding(Kt.backdropPadding),Wn=Un.heights[Tt],Ln=Un.widths[Tt];let jn=Pt-vn.top,xn=0-vn.left;switch(tn){case"middle":jn-=Wn/2;break;case"bottom":jn-=Wn;break}switch(nn){case"center":xn-=Ln/2;break;case"right":xn-=Ln;break}gn={left:xn,top:jn,width:Ln+vn.width,height:Wn+vn.height,color:Kt.backdropColor}}wt.push({label:Nt,font:Ct,textOffset:Pt,options:{rotation:Qt,color:hn,strokeColor:dn,strokeWidth:zt,textAlign:It,textBaseline:tn,translation:[St,Ot],backdrop:gn}})}return wt}_getXAxisLabelAlignment(){const{position:o,ticks:s}=this.options;if(-toRadians(this.labelRotation))return o==="top"?"left":"right";let $="center";return s.align==="start"?$="left":s.align==="end"?$="right":s.align==="inner"&&($="inner"),$}_getYAxisLabelAlignment(o){const{position:s,ticks:{crossAlign:_,mirror:$,padding:et}}=this.options,rt=this._getLabelSizes(),j=o+et,st=rt.widest.width;let lt,gt;return s==="left"?$?(gt=this.right+et,_==="near"?lt="left":_==="center"?(lt="center",gt+=st/2):(lt="right",gt+=st)):(gt=this.right-j,_==="near"?lt="right":_==="center"?(lt="center",gt-=st/2):(lt="left",gt=this.left)):s==="right"?$?(gt=this.left+et,_==="near"?lt="right":_==="center"?(lt="center",gt-=st/2):(lt="left",gt-=st)):(gt=this.left+j,_==="near"?lt="left":_==="center"?(lt="center",gt+=st/2):(lt="right",gt=this.right)):lt="right",{textAlign:lt,x:gt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const o=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:o.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:o.width}}drawBackground(){const{ctx:o,options:{backgroundColor:s},left:_,top:$,width:et,height:rt}=this;s&&(o.save(),o.fillStyle=s,o.fillRect(_,$,et,rt),o.restore())}getLineWidthForValue(o){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const $=this.ticks.findIndex(et=>et.value===o);return $>=0?s.setContext(this.getContext($)).lineWidth:0}drawGrid(o){const s=this.options.grid,_=this.ctx,$=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(o));let et,rt;const j=(st,lt,gt)=>{!gt.width||!gt.color||(_.save(),_.lineWidth=gt.width,_.strokeStyle=gt.color,_.setLineDash(gt.borderDash||[]),_.lineDashOffset=gt.borderDashOffset,_.beginPath(),_.moveTo(st.x,st.y),_.lineTo(lt.x,lt.y),_.stroke(),_.restore())};if(s.display)for(et=0,rt=$.length;et<rt;++et){const st=$[et];s.drawOnChartArea&&j({x:st.x1,y:st.y1},{x:st.x2,y:st.y2},st),s.drawTicks&&j({x:st.tx1,y:st.ty1},{x:st.tx2,y:st.ty2},{color:st.tickColor,width:st.tickWidth,borderDash:st.tickBorderDash,borderDashOffset:st.tickBorderDashOffset})}}drawBorder(){const{chart:o,ctx:s,options:{border:_,grid:$}}=this,et=_.setContext(this.getContext()),rt=_.display?et.width:0;if(!rt)return;const j=$.setContext(this.getContext(0)).lineWidth,st=this._borderValue;let lt,gt,bt,Ut;this.isHorizontal()?(lt=_alignPixel(o,this.left,rt)-rt/2,gt=_alignPixel(o,this.right,j)+j/2,bt=Ut=st):(bt=_alignPixel(o,this.top,rt)-rt/2,Ut=_alignPixel(o,this.bottom,j)+j/2,lt=gt=st),s.save(),s.lineWidth=et.width,s.strokeStyle=et.color,s.beginPath(),s.moveTo(lt,bt),s.lineTo(gt,Ut),s.stroke(),s.restore()}drawLabels(o){if(!this.options.ticks.display)return;const _=this.ctx,$=this._computeLabelArea();$&&clipArea(_,$);const et=this.getLabelItems(o);for(const rt of et){const j=rt.options,st=rt.font,lt=rt.label,gt=rt.textOffset;renderText(_,lt,0,gt,st,j)}$&&unclipArea(_)}drawTitle(){const{ctx:o,options:{position:s,title:_,reverse:$}}=this;if(!_.display)return;const et=toFont(_.font),rt=toPadding(_.padding),j=_.align;let st=et.lineHeight/2;s==="bottom"||s==="center"||isObject(s)?(st+=rt.bottom,isArray(_.text)&&(st+=et.lineHeight*(_.text.length-1))):st+=rt.top;const{titleX:lt,titleY:gt,maxWidth:bt,rotation:Ut}=titleArgs(this,st,s,j);renderText(o,_.text,0,0,et,{color:_.color,maxWidth:bt,rotation:Ut,textAlign:titleAlign(j,s,$),textBaseline:"middle",translation:[lt,gt]})}draw(o){this._isVisible()&&(this.drawBackground(),this.drawGrid(o),this.drawBorder(),this.drawTitle(),this.drawLabels(o))}_layers(){const o=this.options,s=o.ticks&&o.ticks.z||0,_=valueOrDefault(o.grid&&o.grid.z,-1),$=valueOrDefault(o.border&&o.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:s,draw:et=>{this.draw(et)}}]:[{z:_,draw:et=>{this.drawBackground(),this.drawGrid(et),this.drawTitle()}},{z:$,draw:()=>{this.drawBorder()}},{z:s,draw:et=>{this.drawLabels(et)}}]}getMatchingVisibleMetas(o){const s=this.chart.getSortedVisibleDatasetMetas(),_=this.axis+"AxisID",$=[];let et,rt;for(et=0,rt=s.length;et<rt;++et){const j=s[et];j[_]===this.id&&(!o||j.type===o)&&$.push(j)}return $}_resolveTickFontOptions(o){const s=this.options.ticks.setContext(this.getContext(o));return toFont(s.font)}_maxDigits(){const o=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/o}}class TypedRegistry{constructor(o,s,_){this.type=o,this.scope=s,this.override=_,this.items=Object.create(null)}isForType(o){return Object.prototype.isPrototypeOf.call(this.type.prototype,o.prototype)}register(o){const s=Object.getPrototypeOf(o);let _;isIChartComponent(s)&&(_=this.register(s));const $=this.items,et=o.id,rt=this.scope+"."+et;if(!et)throw new Error("class does not have id: "+o);return et in $||($[et]=o,registerDefaults(o,rt,_),this.override&&defaults.override(o.id,o.overrides)),rt}get(o){return this.items[o]}unregister(o){const s=this.items,_=o.id,$=this.scope;_ in s&&delete s[_],$&&_ in defaults[$]&&(delete defaults[$][_],this.override&&delete overrides[_])}}function registerDefaults(i,o,s){const _=merge$1(Object.create(null),[s?defaults.get(s):{},defaults.get(o),i.defaults]);defaults.set(o,_),i.defaultRoutes&&routeDefaults(o,i.defaultRoutes),i.descriptors&&defaults.describe(o,i.descriptors)}function routeDefaults(i,o){Object.keys(o).forEach(s=>{const _=s.split("."),$=_.pop(),et=[i].concat(_).join("."),rt=o[s].split("."),j=rt.pop(),st=rt.join(".");defaults.route(et,$,st,j)})}function isIChartComponent(i){return"id"in i&&"defaults"in i}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...o){this._each("register",o)}remove(...o){this._each("unregister",o)}addControllers(...o){this._each("register",o,this.controllers)}addElements(...o){this._each("register",o,this.elements)}addPlugins(...o){this._each("register",o,this.plugins)}addScales(...o){this._each("register",o,this.scales)}getController(o){return this._get(o,this.controllers,"controller")}getElement(o){return this._get(o,this.elements,"element")}getPlugin(o){return this._get(o,this.plugins,"plugin")}getScale(o){return this._get(o,this.scales,"scale")}removeControllers(...o){this._each("unregister",o,this.controllers)}removeElements(...o){this._each("unregister",o,this.elements)}removePlugins(...o){this._each("unregister",o,this.plugins)}removeScales(...o){this._each("unregister",o,this.scales)}_each(o,s,_){[...s].forEach($=>{const et=_||this._getRegistryForType($);_||et.isForType($)||et===this.plugins&&$.id?this._exec(o,et,$):each($,rt=>{const j=_||this._getRegistryForType(rt);this._exec(o,j,rt)})})}_exec(o,s,_){const $=_capitalize(o);callback(_["before"+$],[],_),s[o](_),callback(_["after"+$],[],_)}_getRegistryForType(o){for(let s=0;s<this._typedRegistries.length;s++){const _=this._typedRegistries[s];if(_.isForType(o))return _}return this.plugins}_get(o,s,_){const $=s.get(o);if($===void 0)throw new Error('"'+o+'" is not a registered '+_+".");return $}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(o,s,_,$){s==="beforeInit"&&(this._init=this._createDescriptors(o,!0),this._notify(this._init,o,"install"));const et=$?this._descriptors(o).filter($):this._descriptors(o),rt=this._notify(et,o,s,_);return s==="afterDestroy"&&(this._notify(et,o,"stop"),this._notify(this._init,o,"uninstall")),rt}_notify(o,s,_,$){$=$||{};for(const et of o){const rt=et.plugin,j=rt[_],st=[s,$,et.options];if(callback(j,st,rt)===!1&&$.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(o){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(o);return this._notifyStateChanges(o),s}_createDescriptors(o,s){const _=o&&o.config,$=valueOrDefault(_.options&&_.options.plugins,{}),et=allPlugins(_);return $===!1&&!s?[]:createDescriptors(o,et,$,s)}_notifyStateChanges(o){const s=this._oldCache||[],_=this._cache,$=(et,rt)=>et.filter(j=>!rt.some(st=>j.plugin.id===st.plugin.id));this._notify($(s,_),o,"stop"),this._notify($(_,s),o,"start")}}function allPlugins(i){const o={},s=[],_=Object.keys(registry.plugins.items);for(let et=0;et<_.length;et++)s.push(registry.getPlugin(_[et]));const $=i.plugins||[];for(let et=0;et<$.length;et++){const rt=$[et];s.indexOf(rt)===-1&&(s.push(rt),o[rt.id]=!0)}return{plugins:s,localIds:o}}function getOpts(i,o){return!o&&i===!1?null:i===!0?{}:i}function createDescriptors(i,{plugins:o,localIds:s},_,$){const et=[],rt=i.getContext();for(const j of o){const st=j.id,lt=getOpts(_[st],$);lt!==null&&et.push({plugin:j,options:pluginOpts(i.config,{plugin:j,local:s[st]},lt,rt)})}return et}function pluginOpts(i,{plugin:o,local:s},_,$){const et=i.pluginScopeKeys(o),rt=i.getOptionScopes(_,et);return s&&o.defaults&&rt.push(o.defaults),i.createResolver(rt,$,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(i,o){const s=defaults.datasets[i]||{};return((o.datasets||{})[i]||{}).indexAxis||o.indexAxis||s.indexAxis||"x"}function getAxisFromDefaultScaleID(i,o){let s=i;return i==="_index_"?s=o:i==="_value_"&&(s=o==="x"?"y":"x"),s}function getDefaultScaleIDFromAxis(i,o){return i===o?"_index_":"_value_"}function axisFromPosition(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function determineAxis(i,o){if(i==="x"||i==="y"||i==="r"||(i=o.axis||axisFromPosition(o.position)||i.length>1&&determineAxis(i[0].toLowerCase(),o),i))return i;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function mergeScaleConfig(i,o){const s=overrides[i.type]||{scales:{}},_=o.scales||{},$=getIndexAxis(i.type,o),et=Object.create(null);return Object.keys(_).forEach(rt=>{const j=_[rt];if(!isObject(j))return console.error(`Invalid scale configuration for scale: ${rt}`);if(j._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${rt}`);const st=determineAxis(rt,j),lt=getDefaultScaleIDFromAxis(st,$),gt=s.scales||{};et[rt]=mergeIf(Object.create(null),[{axis:st},j,gt[st],gt[lt]])}),i.data.datasets.forEach(rt=>{const j=rt.type||i.type,st=rt.indexAxis||getIndexAxis(j,o),gt=(overrides[j]||{}).scales||{};Object.keys(gt).forEach(bt=>{const Ut=getAxisFromDefaultScaleID(bt,st),Ft=rt[Ut+"AxisID"]||Ut;et[Ft]=et[Ft]||Object.create(null),mergeIf(et[Ft],[{axis:Ut},_[Ft],gt[bt]])})}),Object.keys(et).forEach(rt=>{const j=et[rt];mergeIf(j,[defaults.scales[j.type],defaults.scale])}),et}function initOptions(i){const o=i.options||(i.options={});o.plugins=valueOrDefault(o.plugins,{}),o.scales=mergeScaleConfig(i,o)}function initData(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function initConfig(i){return i=i||{},i.data=initData(i.data),initOptions(i),i}const keyCache=new Map,keysCached=new Set;function cachedKeys(i,o){let s=keyCache.get(i);return s||(s=o(),keyCache.set(i,s),keysCached.add(s)),s}const addIfFound=(i,o,s)=>{const _=resolveObjectKey(o,s);_!==void 0&&i.add(_)};class Config{constructor(o){this._config=initConfig(o),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(o){this._config.type=o}get data(){return this._config.data}set data(o){this._config.data=initData(o)}get options(){return this._config.options}set options(o){this._config.options=o}get plugins(){return this._config.plugins}update(){const o=this._config;this.clearCache(),initOptions(o)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(o){return cachedKeys(o,()=>[[`datasets.${o}`,""]])}datasetAnimationScopeKeys(o,s){return cachedKeys(`${o}.transition.${s}`,()=>[[`datasets.${o}.transitions.${s}`,`transitions.${s}`],[`datasets.${o}`,""]])}datasetElementScopeKeys(o,s){return cachedKeys(`${o}-${s}`,()=>[[`datasets.${o}.elements.${s}`,`datasets.${o}`,`elements.${s}`,""]])}pluginScopeKeys(o){const s=o.id,_=this.type;return cachedKeys(`${_}-plugin-${s}`,()=>[[`plugins.${s}`,...o.additionalOptionScopes||[]]])}_cachedScopes(o,s){const _=this._scopeCache;let $=_.get(o);return(!$||s)&&($=new Map,_.set(o,$)),$}getOptionScopes(o,s,_){const{options:$,type:et}=this,rt=this._cachedScopes(o,_),j=rt.get(s);if(j)return j;const st=new Set;s.forEach(gt=>{o&&(st.add(o),gt.forEach(bt=>addIfFound(st,o,bt))),gt.forEach(bt=>addIfFound(st,$,bt)),gt.forEach(bt=>addIfFound(st,overrides[et]||{},bt)),gt.forEach(bt=>addIfFound(st,defaults,bt)),gt.forEach(bt=>addIfFound(st,descriptors,bt))});const lt=Array.from(st);return lt.length===0&&lt.push(Object.create(null)),keysCached.has(s)&&rt.set(s,lt),lt}chartOptionScopes(){const{options:o,type:s}=this;return[o,overrides[s]||{},defaults.datasets[s]||{},{type:s},defaults,descriptors]}resolveNamedOptions(o,s,_,$=[""]){const et={$shared:!0},{resolver:rt,subPrefixes:j}=getResolver(this._resolverCache,o,$);let st=rt;if(needContext(rt,s)){et.$shared=!1,_=isFunction(_)?_():_;const lt=this.createResolver(o,_,j);st=_attachContext(rt,_,lt)}for(const lt of s)et[lt]=st[lt];return et}createResolver(o,s,_=[""],$){const{resolver:et}=getResolver(this._resolverCache,o,_);return isObject(s)?_attachContext(et,s,void 0,$):et}}function getResolver(i,o,s){let _=i.get(o);_||(_=new Map,i.set(o,_));const $=s.join();let et=_.get($);return et||(et={resolver:_createResolver(o,s),subPrefixes:s.filter(j=>!j.toLowerCase().includes("hover"))},_.set($,et)),et}const hasFunction=i=>isObject(i)&&Object.getOwnPropertyNames(i).reduce((o,s)=>o||isFunction(i[s]),!1);function needContext(i,o){const{isScriptable:s,isIndexable:_}=_descriptors(i);for(const $ of o){const et=s($),rt=_($),j=(rt||et)&&i[$];if(et&&(isFunction(j)||hasFunction(j))||rt&&isArray(j))return!0}return!1}var version="4.2.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(i,o){return i==="top"||i==="bottom"||KNOWN_POSITIONS.indexOf(i)===-1&&o==="x"}function compare2Level(i,o){return function(s,_){return s[i]===_[i]?s[o]-_[o]:s[i]-_[i]}}function onAnimationsComplete(i){const o=i.chart,s=o.options.animation;o.notifyPlugins("afterRender"),callback(s&&s.onComplete,[i],o)}function onAnimationProgress(i){const o=i.chart,s=o.options.animation;callback(s&&s.onProgress,[i],o)}function getCanvas(i){return _isDomSupported()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const instances={},getChart=i=>{const o=getCanvas(i);return Object.values(instances).filter(s=>s.canvas===o).pop()};function moveNumericKeys(i,o,s){const _=Object.keys(i);for(const $ of _){const et=+$;if(et>=o){const rt=i[$];delete i[$],(s>0||et>o)&&(i[et+s]=rt)}}}function determineLastEvent(i,o,s,_){return!s||i.type==="mouseout"?null:_?o:i}function getDatasetArea(i){const{xScale:o,yScale:s}=i;if(o&&s)return{left:o.left,right:o.right,top:s.top,bottom:s.bottom}}class Chart{static register(...o){registry.add(...o),invalidatePlugins()}static unregister(...o){registry.remove(...o),invalidatePlugins()}constructor(o,s){const _=this.config=new Config(s),$=getCanvas(o),et=getChart($);if(et)throw new Error("Canvas is already in use. Chart with ID '"+et.id+"' must be destroyed before the canvas with ID '"+et.canvas.id+"' can be reused.");const rt=_.createResolver(_.chartOptionScopes(),this.getContext());this.platform=new(_.platform||_detectPlatform($)),this.platform.updateConfig(_);const j=this.platform.acquireContext($,rt.aspectRatio),st=j&&j.canvas,lt=st&&st.height,gt=st&&st.width;if(this.id=uid(),this.ctx=j,this.canvas=st,this.width=gt,this.height=lt,this._options=rt,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(bt=>this.update(bt),rt.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!j||!st){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:o,maintainAspectRatio:s},width:_,height:$,_aspectRatio:et}=this;return isNullOrUndef(o)?s&&et?et:$?_/$:null:o}get data(){return this.config.data}set data(o){this.config.data=o}get options(){return this._options}set options(o){this.config.options=o}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(o,s){animator.running(this)?this._resizeBeforeDraw={width:o,height:s}:this._resize(o,s)}_resize(o,s){const _=this.options,$=this.canvas,et=_.maintainAspectRatio&&this.aspectRatio,rt=this.platform.getMaximumSize($,o,s,et),j=_.devicePixelRatio||this.platform.getDevicePixelRatio(),st=this.width?"resize":"attach";this.width=rt.width,this.height=rt.height,this._aspectRatio=this.aspectRatio,retinaScale(this,j,!0)&&(this.notifyPlugins("resize",{size:rt}),callback(_.onResize,[this,rt],this),this.attached&&this._doResize(st)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};each(s,(_,$)=>{_.id=$})}buildOrUpdateScales(){const o=this.options,s=o.scales,_=this.scales,$=Object.keys(_).reduce((rt,j)=>(rt[j]=!1,rt),{});let et=[];s&&(et=et.concat(Object.keys(s).map(rt=>{const j=s[rt],st=determineAxis(rt,j),lt=st==="r",gt=st==="x";return{options:j,dposition:lt?"chartArea":gt?"bottom":"left",dtype:lt?"radialLinear":gt?"category":"linear"}}))),each(et,rt=>{const j=rt.options,st=j.id,lt=determineAxis(st,j),gt=valueOrDefault(j.type,rt.dtype);(j.position===void 0||positionIsHorizontal(j.position,lt)!==positionIsHorizontal(rt.dposition))&&(j.position=rt.dposition),$[st]=!0;let bt=null;if(st in _&&_[st].type===gt)bt=_[st];else{const Ut=registry.getScale(gt);bt=new Ut({id:st,type:gt,ctx:this.ctx,chart:this}),_[bt.id]=bt}bt.init(j,o)}),each($,(rt,j)=>{rt||delete _[j]}),each(_,rt=>{layouts.configure(this,rt,rt.options),layouts.addBox(this,rt)})}_updateMetasets(){const o=this._metasets,s=this.data.datasets.length,_=o.length;if(o.sort(($,et)=>$.index-et.index),_>s){for(let $=s;$<_;++$)this._destroyDatasetMeta($);o.splice(s,_-s)}this._sortedMetasets=o.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:o,data:{datasets:s}}=this;o.length>s.length&&delete this._stacks,o.forEach((_,$)=>{s.filter(et=>et===_._dataset).length===0&&this._destroyDatasetMeta($)})}buildOrUpdateControllers(){const o=[],s=this.data.datasets;let _,$;for(this._removeUnreferencedMetasets(),_=0,$=s.length;_<$;_++){const et=s[_];let rt=this.getDatasetMeta(_);const j=et.type||this.config.type;if(rt.type&&rt.type!==j&&(this._destroyDatasetMeta(_),rt=this.getDatasetMeta(_)),rt.type=j,rt.indexAxis=et.indexAxis||getIndexAxis(j,this.options),rt.order=et.order||0,rt.index=_,rt.label=""+et.label,rt.visible=this.isDatasetVisible(_),rt.controller)rt.controller.updateIndex(_),rt.controller.linkScales();else{const st=registry.getController(j),{datasetElementType:lt,dataElementType:gt}=defaults.datasets[j];Object.assign(st,{dataElementType:registry.getElement(gt),datasetElementType:lt&&registry.getElement(lt)}),rt.controller=new st(this,_),o.push(rt.controller)}}return this._updateMetasets(),o}_resetElements(){each(this.data.datasets,(o,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(o){const s=this.config;s.update();const _=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),$=this._animationsDisabled=!_.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:o,cancelable:!0})===!1)return;const et=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let rt=0;for(let lt=0,gt=this.data.datasets.length;lt<gt;lt++){const{controller:bt}=this.getDatasetMeta(lt),Ut=!$&&et.indexOf(bt)===-1;bt.buildOrUpdateElements(Ut),rt=Math.max(+bt.getMaxOverflow(),rt)}rt=this._minPadding=_.layout.autoPadding?rt:0,this._updateLayout(rt),$||each(et,lt=>{lt.reset()}),this._updateDatasets(o),this.notifyPlugins("afterUpdate",{mode:o}),this._layers.sort(compare2Level("z","_idx"));const{_active:j,_lastEvent:st}=this;st?this._eventHandler(st,!0):j.length&&this._updateHoverStyles(j,j,!0),this.render()}_updateScales(){each(this.scales,o=>{layouts.removeBox(this,o)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const o=this.options,s=new Set(Object.keys(this._listeners)),_=new Set(o.events);(!setsEqual(s,_)||!!this._responsiveListeners!==o.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:o}=this,s=this._getUniformDataChanges()||[];for(const{method:_,start:$,count:et}of s){const rt=_==="_removeElements"?-et:et;moveNumericKeys(o,$,rt)}}_getUniformDataChanges(){const o=this._dataChanges;if(!o||!o.length)return;this._dataChanges=[];const s=this.data.datasets.length,_=et=>new Set(o.filter(rt=>rt[0]===et).map((rt,j)=>j+","+rt.splice(1).join(","))),$=_(0);for(let et=1;et<s;et++)if(!setsEqual($,_(et)))return;return Array.from($).map(et=>et.split(",")).map(et=>({method:et[1],start:+et[2],count:+et[3]}))}_updateLayout(o){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,o);const s=this.chartArea,_=s.width<=0||s.height<=0;this._layers=[],each(this.boxes,$=>{_&&$.position==="chartArea"||($.configure&&$.configure(),this._layers.push(...$._layers()))},this),this._layers.forEach(($,et)=>{$._idx=et}),this.notifyPlugins("afterLayout")}_updateDatasets(o){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:o,cancelable:!0})!==!1){for(let s=0,_=this.data.datasets.length;s<_;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,_=this.data.datasets.length;s<_;++s)this._updateDataset(s,isFunction(o)?o({datasetIndex:s}):o);this.notifyPlugins("afterDatasetsUpdate",{mode:o})}}_updateDataset(o,s){const _=this.getDatasetMeta(o),$={meta:_,index:o,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",$)!==!1&&(_.controller._update(s),$.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",$))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let o;if(this._resizeBeforeDraw){const{width:_,height:$}=this._resizeBeforeDraw;this._resize(_,$),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(o=0;o<s.length&&s[o].z<=0;++o)s[o].draw(this.chartArea);for(this._drawDatasets();o<s.length;++o)s[o].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(o){const s=this._sortedMetasets,_=[];let $,et;for($=0,et=s.length;$<et;++$){const rt=s[$];(!o||rt.visible)&&_.push(rt)}return _}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const o=this.getSortedVisibleDatasetMetas();for(let s=o.length-1;s>=0;--s)this._drawDataset(o[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(o){const s=this.ctx,_=o._clip,$=!_.disabled,et=getDatasetArea(o)||this.chartArea,rt={meta:o,index:o.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",rt)!==!1&&($&&clipArea(s,{left:_.left===!1?0:et.left-_.left,right:_.right===!1?this.width:et.right+_.right,top:_.top===!1?0:et.top-_.top,bottom:_.bottom===!1?this.height:et.bottom+_.bottom}),o.controller.draw(),$&&unclipArea(s),rt.cancelable=!1,this.notifyPlugins("afterDatasetDraw",rt))}isPointInArea(o){return _isPointInArea(o,this.chartArea,this._minPadding)}getElementsAtEventForMode(o,s,_,$){const et=Interaction.modes[s];return typeof et=="function"?et(this,o,_,$):[]}getDatasetMeta(o){const s=this.data.datasets[o],_=this._metasets;let $=_.filter(et=>et&&et._dataset===s).pop();return $||($={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:o,_dataset:s,_parsed:[],_sorted:!1},_.push($)),$}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(o){const s=this.data.datasets[o];if(!s)return!1;const _=this.getDatasetMeta(o);return typeof _.hidden=="boolean"?!_.hidden:!s.hidden}setDatasetVisibility(o,s){const _=this.getDatasetMeta(o);_.hidden=!s}toggleDataVisibility(o){this._hiddenIndices[o]=!this._hiddenIndices[o]}getDataVisibility(o){return!this._hiddenIndices[o]}_updateVisibility(o,s,_){const $=_?"show":"hide",et=this.getDatasetMeta(o),rt=et.controller._resolveAnimations(void 0,$);defined(s)?(et.data[s].hidden=!_,this.update()):(this.setDatasetVisibility(o,_),rt.update(et,{visible:_}),this.update(j=>j.datasetIndex===o?$:void 0))}hide(o,s){this._updateVisibility(o,s,!1)}show(o,s){this._updateVisibility(o,s,!0)}_destroyDatasetMeta(o){const s=this._metasets[o];s&&s.controller&&s.controller._destroy(),delete this._metasets[o]}_stop(){let o,s;for(this.stop(),animator.remove(this),o=0,s=this.data.datasets.length;o<s;++o)this._destroyDatasetMeta(o)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:o,ctx:s}=this;this._stop(),this.config.clearCache(),o&&(this.unbindEvents(),clearCanvas(o,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...o){return this.canvas.toDataURL(...o)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const o=this._listeners,s=this.platform,_=(et,rt)=>{s.addEventListener(this,et,rt),o[et]=rt},$=(et,rt,j)=>{et.offsetX=rt,et.offsetY=j,this._eventHandler(et)};each(this.options.events,et=>_(et,$))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const o=this._responsiveListeners,s=this.platform,_=(st,lt)=>{s.addEventListener(this,st,lt),o[st]=lt},$=(st,lt)=>{o[st]&&(s.removeEventListener(this,st,lt),delete o[st])},et=(st,lt)=>{this.canvas&&this.resize(st,lt)};let rt;const j=()=>{$("attach",j),this.attached=!0,this.resize(),_("resize",et),_("detach",rt)};rt=()=>{this.attached=!1,$("resize",et),this._stop(),this._resize(0,0),_("attach",j)},s.isAttached(this.canvas)?j():rt()}unbindEvents(){each(this._listeners,(o,s)=>{this.platform.removeEventListener(this,s,o)}),this._listeners={},each(this._responsiveListeners,(o,s)=>{this.platform.removeEventListener(this,s,o)}),this._responsiveListeners=void 0}updateHoverStyle(o,s,_){const $=_?"set":"remove";let et,rt,j,st;for(s==="dataset"&&(et=this.getDatasetMeta(o[0].datasetIndex),et.controller["_"+$+"DatasetHoverStyle"]()),j=0,st=o.length;j<st;++j){rt=o[j];const lt=rt&&this.getDatasetMeta(rt.datasetIndex).controller;lt&&lt[$+"HoverStyle"](rt.element,rt.datasetIndex,rt.index)}}getActiveElements(){return this._active||[]}setActiveElements(o){const s=this._active||[],_=o.map(({datasetIndex:et,index:rt})=>{const j=this.getDatasetMeta(et);if(!j)throw new Error("No dataset found at index "+et);return{datasetIndex:et,element:j.data[rt],index:rt}});!_elementsEqual(_,s)&&(this._active=_,this._lastEvent=null,this._updateHoverStyles(_,s))}notifyPlugins(o,s,_){return this._plugins.notify(this,o,s,_)}isPluginEnabled(o){return this._plugins._cache.filter(s=>s.plugin.id===o).length===1}_updateHoverStyles(o,s,_){const $=this.options.hover,et=(st,lt)=>st.filter(gt=>!lt.some(bt=>gt.datasetIndex===bt.datasetIndex&&gt.index===bt.index)),rt=et(s,o),j=_?o:et(o,s);rt.length&&this.updateHoverStyle(rt,$.mode,!1),j.length&&$.mode&&this.updateHoverStyle(j,$.mode,!0)}_eventHandler(o,s){const _={event:o,replay:s,cancelable:!0,inChartArea:this.isPointInArea(o)},$=rt=>(rt.options.events||this.options.events).includes(o.native.type);if(this.notifyPlugins("beforeEvent",_,$)===!1)return;const et=this._handleEvent(o,s,_.inChartArea);return _.cancelable=!1,this.notifyPlugins("afterEvent",_,$),(et||_.changed)&&this.render(),this}_handleEvent(o,s,_){const{_active:$=[],options:et}=this,rt=s,j=this._getActiveElements(o,$,_,rt),st=_isClickEvent(o),lt=determineLastEvent(o,this._lastEvent,_,st);_&&(this._lastEvent=null,callback(et.onHover,[o,j,this],this),st&&callback(et.onClick,[o,j,this],this));const gt=!_elementsEqual(j,$);return(gt||s)&&(this._active=j,this._updateHoverStyles(j,$,s)),this._lastEvent=lt,gt}_getActiveElements(o,s,_,$){if(o.type==="mouseout")return[];if(!_)return s;const et=this.options.hover;return this.getElementsAtEventForMode(o,et.mode,et,$)}}Mo(Chart,"defaults",defaults),Mo(Chart,"instances",instances),Mo(Chart,"overrides",overrides),Mo(Chart,"registry",registry),Mo(Chart,"version",version),Mo(Chart,"getChart",getChart);function invalidatePlugins(){return each(Chart.instances,i=>i._plugins.invalidate())}function clipArc(i,o,s){const{startAngle:_,pixelMargin:$,x:et,y:rt,outerRadius:j,innerRadius:st}=o;let lt=$/j;i.beginPath(),i.arc(et,rt,j,_-lt,s+lt),st>$?(lt=$/st,i.arc(et,rt,st,s+lt,_-lt,!0)):i.arc(et,rt,$,s+HALF_PI,_-HALF_PI),i.closePath(),i.clip()}function toRadiusCorners(i){return _readValueToProps(i,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(i,o,s,_){const $=toRadiusCorners(i.options.borderRadius),et=(s-o)/2,rt=Math.min(et,_*o/2),j=st=>{const lt=(s-Math.min(et,st))*_/2;return _limitValue(st,0,Math.min(et,lt))};return{outerStart:j($.outerStart),outerEnd:j($.outerEnd),innerStart:_limitValue($.innerStart,0,rt),innerEnd:_limitValue($.innerEnd,0,rt)}}function rThetaToXY(i,o,s,_){return{x:s+i*Math.cos(o),y:_+i*Math.sin(o)}}function pathArc(i,o,s,_,$,et){const{x:rt,y:j,startAngle:st,pixelMargin:lt,innerRadius:gt}=o,bt=Math.max(o.outerRadius+_+s-lt,0),Ut=gt>0?gt+_+s+lt:0;let Ft=0;const yt=$-st;if(_){const Kt=gt>0?gt-_:0,$t=bt>0?bt-_:0,hn=(Kt+$t)/2,dn=hn!==0?yt*hn/(hn+_):yt;Ft=(yt-dn)/2}const Qt=Math.max(.001,yt*bt-s/PI)/bt,wt=(yt-Qt)/2,Tt=st+wt+Ft,Jt=$-wt-Ft,{outerStart:At,outerEnd:Nt,innerStart:St,innerEnd:Ot}=parseBorderRadius$1(o,Ut,bt,Jt-Tt),nn=bt-At,yn=bt-Nt,Ct=Tt+At/nn,Vt=Jt-Nt/yn,Yt=Ut+St,Pt=Ut+Ot,tn=Tt+St/Yt,Un=Jt-Ot/Pt;if(i.beginPath(),et){const Kt=(Ct+Vt)/2;if(i.arc(rt,j,bt,Ct,Kt),i.arc(rt,j,bt,Kt,Vt),Nt>0){const zt=rThetaToXY(yn,Vt,rt,j);i.arc(zt.x,zt.y,Nt,Vt,Jt+HALF_PI)}const $t=rThetaToXY(Pt,Jt,rt,j);if(i.lineTo($t.x,$t.y),Ot>0){const zt=rThetaToXY(Pt,Un,rt,j);i.arc(zt.x,zt.y,Ot,Jt+HALF_PI,Un+Math.PI)}const hn=(Jt-Ot/Ut+(Tt+St/Ut))/2;if(i.arc(rt,j,Ut,Jt-Ot/Ut,hn,!0),i.arc(rt,j,Ut,hn,Tt+St/Ut,!0),St>0){const zt=rThetaToXY(Yt,tn,rt,j);i.arc(zt.x,zt.y,St,tn+Math.PI,Tt-HALF_PI)}const dn=rThetaToXY(nn,Tt,rt,j);if(i.lineTo(dn.x,dn.y),At>0){const zt=rThetaToXY(nn,Ct,rt,j);i.arc(zt.x,zt.y,At,Tt-HALF_PI,Ct)}}else{i.moveTo(rt,j);const Kt=Math.cos(Ct)*bt+rt,$t=Math.sin(Ct)*bt+j;i.lineTo(Kt,$t);const hn=Math.cos(Vt)*bt+rt,dn=Math.sin(Vt)*bt+j;i.lineTo(hn,dn)}i.closePath()}function drawArc(i,o,s,_,$){const{fullCircles:et,startAngle:rt,circumference:j}=o;let st=o.endAngle;if(et){pathArc(i,o,s,_,st,$);for(let lt=0;lt<et;++lt)i.fill();isNaN(j)||(st=rt+(j%TAU||TAU))}return pathArc(i,o,s,_,st,$),i.fill(),st}function drawBorder(i,o,s,_,$){const{fullCircles:et,startAngle:rt,circumference:j,options:st}=o,{borderWidth:lt,borderJoinStyle:gt}=st,bt=st.borderAlign==="inner";if(!lt)return;bt?(i.lineWidth=lt*2,i.lineJoin=gt||"round"):(i.lineWidth=lt,i.lineJoin=gt||"bevel");let Ut=o.endAngle;if(et){pathArc(i,o,s,_,Ut,$);for(let Ft=0;Ft<et;++Ft)i.stroke();isNaN(j)||(Ut=rt+(j%TAU||TAU))}bt&&clipArc(i,o,Ut),et||(pathArc(i,o,s,_,Ut,$),i.stroke())}class ArcElement extends Element{constructor(o){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,o&&Object.assign(this,o)}inRange(o,s,_){const $=this.getProps(["x","y"],_),{angle:et,distance:rt}=getAngleFromPoint($,{x:o,y:s}),{startAngle:j,endAngle:st,innerRadius:lt,outerRadius:gt,circumference:bt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],_),Ut=this.options.spacing/2,yt=valueOrDefault(bt,st-j)>=TAU||_angleBetween(et,j,st),Qt=_isBetween(rt,lt+Ut,gt+Ut);return yt&&Qt}getCenterPoint(o){const{x:s,y:_,startAngle:$,endAngle:et,innerRadius:rt,outerRadius:j}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],o),{offset:st,spacing:lt}=this.options,gt=($+et)/2,bt=(rt+j+lt+st)/2;return{x:s+Math.cos(gt)*bt,y:_+Math.sin(gt)*bt}}tooltipPosition(o){return this.getCenterPoint(o)}draw(o){const{options:s,circumference:_}=this,$=(s.offset||0)/4,et=(s.spacing||0)/2,rt=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=_>TAU?Math.floor(_/TAU):0,_===0||this.innerRadius<0||this.outerRadius<0)return;o.save();const j=(this.startAngle+this.endAngle)/2;o.translate(Math.cos(j)*$,Math.sin(j)*$);const st=1-Math.sin(Math.min(PI,_||0)),lt=$*st;o.fillStyle=s.backgroundColor,o.strokeStyle=s.borderColor,drawArc(o,this,lt,et,rt),drawBorder(o,this,lt,et,rt),o.restore()}}Mo(ArcElement,"id","arc"),Mo(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Mo(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"});function setStyle(i,o,s=o){i.lineCap=valueOrDefault(s.borderCapStyle,o.borderCapStyle),i.setLineDash(valueOrDefault(s.borderDash,o.borderDash)),i.lineDashOffset=valueOrDefault(s.borderDashOffset,o.borderDashOffset),i.lineJoin=valueOrDefault(s.borderJoinStyle,o.borderJoinStyle),i.lineWidth=valueOrDefault(s.borderWidth,o.borderWidth),i.strokeStyle=valueOrDefault(s.borderColor,o.borderColor)}function lineTo(i,o,s){i.lineTo(s.x,s.y)}function getLineMethod(i){return i.stepped?_steppedLineTo:i.tension||i.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(i,o,s={}){const _=i.length,{start:$=0,end:et=_-1}=s,{start:rt,end:j}=o,st=Math.max($,rt),lt=Math.min(et,j),gt=$<rt&&et<rt||$>j&&et>j;return{count:_,start:st,loop:o.loop,ilen:lt<st&&!gt?_+lt-st:lt-st}}function pathSegment(i,o,s,_){const{points:$,options:et}=o,{count:rt,start:j,loop:st,ilen:lt}=pathVars($,s,_),gt=getLineMethod(et);let{move:bt=!0,reverse:Ut}=_||{},Ft,yt,Qt;for(Ft=0;Ft<=lt;++Ft)yt=$[(j+(Ut?lt-Ft:Ft))%rt],!yt.skip&&(bt?(i.moveTo(yt.x,yt.y),bt=!1):gt(i,Qt,yt,Ut,et.stepped),Qt=yt);return st&&(yt=$[(j+(Ut?lt:0))%rt],gt(i,Qt,yt,Ut,et.stepped)),!!st}function fastPathSegment(i,o,s,_){const $=o.points,{count:et,start:rt,ilen:j}=pathVars($,s,_),{move:st=!0,reverse:lt}=_||{};let gt=0,bt=0,Ut,Ft,yt,Qt,wt,Tt;const Jt=Nt=>(rt+(lt?j-Nt:Nt))%et,At=()=>{Qt!==wt&&(i.lineTo(gt,wt),i.lineTo(gt,Qt),i.lineTo(gt,Tt))};for(st&&(Ft=$[Jt(0)],i.moveTo(Ft.x,Ft.y)),Ut=0;Ut<=j;++Ut){if(Ft=$[Jt(Ut)],Ft.skip)continue;const Nt=Ft.x,St=Ft.y,Ot=Nt|0;Ot===yt?(St<Qt?Qt=St:St>wt&&(wt=St),gt=(bt*gt+Nt)/++bt):(At(),i.lineTo(Nt,St),yt=Ot,bt=0,Qt=wt=St),Tt=St}At()}function _getSegmentMethod(i){const o=i.options,s=o.borderDash&&o.borderDash.length;return!i._decimated&&!i._loop&&!o.tension&&o.cubicInterpolationMode!=="monotone"&&!o.stepped&&!s?fastPathSegment:pathSegment}function _getInterpolationMethod(i){return i.stepped?_steppedInterpolation:i.tension||i.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(i,o,s,_){let $=o._path;$||($=o._path=new Path2D,o.path($,s,_)&&$.closePath()),setStyle(i,o.options),i.stroke($)}function strokePathDirect(i,o,s,_){const{segments:$,options:et}=o,rt=_getSegmentMethod(o);for(const j of $)setStyle(i,et,j.style),i.beginPath(),rt(i,o,j,{start:s,end:s+_-1})&&i.closePath(),i.stroke()}const usePath2D=typeof Path2D=="function";function draw(i,o,s,_){usePath2D&&!o.options.segment?strokePathWithCache(i,o,s,_):strokePathDirect(i,o,s,_)}class LineElement extends Element{constructor(o){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,o&&Object.assign(this,o)}updateControlPoints(o,s){const _=this.options;if((_.tension||_.cubicInterpolationMode==="monotone")&&!_.stepped&&!this._pointsUpdated){const $=_.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,_,o,$,s),this._pointsUpdated=!0}}set points(o){this._points=o,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const o=this.segments,s=this.points;return o.length&&s[o[0].start]}last(){const o=this.segments,s=this.points,_=o.length;return _&&s[o[_-1].end]}interpolate(o,s){const _=this.options,$=o[s],et=this.points,rt=_boundSegments(this,{property:s,start:$,end:$});if(!rt.length)return;const j=[],st=_getInterpolationMethod(_);let lt,gt;for(lt=0,gt=rt.length;lt<gt;++lt){const{start:bt,end:Ut}=rt[lt],Ft=et[bt],yt=et[Ut];if(Ft===yt){j.push(Ft);continue}const Qt=Math.abs(($-Ft[s])/(yt[s]-Ft[s])),wt=st(Ft,yt,Qt,_.stepped);wt[s]=o[s],j.push(wt)}return j.length===1?j[0]:j}pathSegment(o,s,_){return _getSegmentMethod(this)(o,this,s,_)}path(o,s,_){const $=this.segments,et=_getSegmentMethod(this);let rt=this._loop;s=s||0,_=_||this.points.length-s;for(const j of $)rt&=et(o,this,j,{start:s,end:s+_-1});return!!rt}draw(o,s,_,$){const et=this.options||{};(this.points||[]).length&&et.borderWidth&&(o.save(),draw(o,this,_,$),o.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Mo(LineElement,"id","line"),Mo(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Mo(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Mo(LineElement,"descriptors",{_scriptable:!0,_indexable:o=>o!=="borderDash"&&o!=="fill"});function inRange$1(i,o,s,_){const $=i.options,{[s]:et}=i.getProps([s],_);return Math.abs(o-et)<$.radius+$.hitRadius}class PointElement extends Element{constructor(o){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,o&&Object.assign(this,o)}inRange(o,s,_){const $=this.options,{x:et,y:rt}=this.getProps(["x","y"],_);return Math.pow(o-et,2)+Math.pow(s-rt,2)<Math.pow($.hitRadius+$.radius,2)}inXRange(o,s){return inRange$1(this,o,"x",s)}inYRange(o,s){return inRange$1(this,o,"y",s)}getCenterPoint(o){const{x:s,y:_}=this.getProps(["x","y"],o);return{x:s,y:_}}size(o){o=o||this.options||{};let s=o.radius||0;s=Math.max(s,s&&o.hoverRadius||0);const _=s&&o.borderWidth||0;return(s+_)*2}draw(o,s){const _=this.options;this.skip||_.radius<.1||!_isPointInArea(this,s,this.size(_)/2)||(o.strokeStyle=_.borderColor,o.lineWidth=_.borderWidth,o.fillStyle=_.backgroundColor,drawPoint(o,_,this.x,this.y))}getRange(){const o=this.options||{};return o.radius+o.hitRadius}}Mo(PointElement,"id","point"),Mo(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Mo(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(i,o){const{x:s,y:_,base:$,width:et,height:rt}=i.getProps(["x","y","base","width","height"],o);let j,st,lt,gt,bt;return i.horizontal?(bt=rt/2,j=Math.min(s,$),st=Math.max(s,$),lt=_-bt,gt=_+bt):(bt=et/2,j=s-bt,st=s+bt,lt=Math.min(_,$),gt=Math.max(_,$)),{left:j,top:lt,right:st,bottom:gt}}function skipOrLimit(i,o,s,_){return i?0:_limitValue(o,s,_)}function parseBorderWidth(i,o,s){const _=i.options.borderWidth,$=i.borderSkipped,et=toTRBL(_);return{t:skipOrLimit($.top,et.top,0,s),r:skipOrLimit($.right,et.right,0,o),b:skipOrLimit($.bottom,et.bottom,0,s),l:skipOrLimit($.left,et.left,0,o)}}function parseBorderRadius(i,o,s){const{enableBorderRadius:_}=i.getProps(["enableBorderRadius"]),$=i.options.borderRadius,et=toTRBLCorners($),rt=Math.min(o,s),j=i.borderSkipped,st=_||isObject($);return{topLeft:skipOrLimit(!st||j.top||j.left,et.topLeft,0,rt),topRight:skipOrLimit(!st||j.top||j.right,et.topRight,0,rt),bottomLeft:skipOrLimit(!st||j.bottom||j.left,et.bottomLeft,0,rt),bottomRight:skipOrLimit(!st||j.bottom||j.right,et.bottomRight,0,rt)}}function boundingRects(i){const o=getBarBounds(i),s=o.right-o.left,_=o.bottom-o.top,$=parseBorderWidth(i,s/2,_/2),et=parseBorderRadius(i,s/2,_/2);return{outer:{x:o.left,y:o.top,w:s,h:_,radius:et},inner:{x:o.left+$.l,y:o.top+$.t,w:s-$.l-$.r,h:_-$.t-$.b,radius:{topLeft:Math.max(0,et.topLeft-Math.max($.t,$.l)),topRight:Math.max(0,et.topRight-Math.max($.t,$.r)),bottomLeft:Math.max(0,et.bottomLeft-Math.max($.b,$.l)),bottomRight:Math.max(0,et.bottomRight-Math.max($.b,$.r))}}}}function inRange(i,o,s,_){const $=o===null,et=s===null,j=i&&!($&&et)&&getBarBounds(i,_);return j&&($||_isBetween(o,j.left,j.right))&&(et||_isBetween(s,j.top,j.bottom))}function hasRadius(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function addNormalRectPath(i,o){i.rect(o.x,o.y,o.w,o.h)}function inflateRect(i,o,s={}){const _=i.x!==s.x?-o:0,$=i.y!==s.y?-o:0,et=(i.x+i.w!==s.x+s.w?o:0)-_,rt=(i.y+i.h!==s.y+s.h?o:0)-$;return{x:i.x+_,y:i.y+$,w:i.w+et,h:i.h+rt,radius:i.radius}}class BarElement extends Element{constructor(o){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,o&&Object.assign(this,o)}draw(o){const{inflateAmount:s,options:{borderColor:_,backgroundColor:$}}=this,{inner:et,outer:rt}=boundingRects(this),j=hasRadius(rt.radius)?addRoundedRectPath:addNormalRectPath;o.save(),(rt.w!==et.w||rt.h!==et.h)&&(o.beginPath(),j(o,inflateRect(rt,s,et)),o.clip(),j(o,inflateRect(et,-s,rt)),o.fillStyle=_,o.fill("evenodd")),o.beginPath(),j(o,inflateRect(et,s)),o.fillStyle=$,o.fill(),o.restore()}inRange(o,s,_){return inRange(this,o,s,_)}inXRange(o,s){return inRange(this,o,null,s)}inYRange(o,s){return inRange(this,null,o,s)}getCenterPoint(o){const{x:s,y:_,base:$,horizontal:et}=this.getProps(["x","y","base","horizontal"],o);return{x:et?(s+$)/2:s,y:et?_:(_+$)/2}}getRange(o){return o==="x"?this.width/2:this.height/2}}Mo(BarElement,"id","bar"),Mo(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Mo(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var elements=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(i){return BORDER_COLORS[i%BORDER_COLORS.length]}function getBackgroundColor(i){return BACKGROUND_COLORS[i%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(i,o){return i.borderColor=getBorderColor(o),i.backgroundColor=getBackgroundColor(o),++o}function colorizeDoughnutDataset(i,o){return i.backgroundColor=i.data.map(()=>getBorderColor(o++)),o}function colorizePolarAreaDataset(i,o){return i.backgroundColor=i.data.map(()=>getBackgroundColor(o++)),o}function getColorizer(i){let o=0;return(s,_)=>{const $=i.getDatasetMeta(_).controller;$ instanceof DoughnutController?o=colorizeDoughnutDataset(s,o):$ instanceof PolarAreaController?o=colorizePolarAreaDataset(s,o):$&&(o=colorizeDefaultDataset(s,o))}}function containsColorsDefinitions(i){let o;for(o in i)if(i[o].borderColor||i[o].backgroundColor)return!0;return!1}function containsColorsDefinition(i){return i&&(i.borderColor||i.backgroundColor)}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,o,s){if(!s.enabled)return;const{data:{datasets:_},options:$}=i.config,{elements:et}=$;if(!s.forceOverride&&(containsColorsDefinitions(_)||containsColorsDefinition($)||et&&containsColorsDefinitions(et)))return;const rt=getColorizer(i);_.forEach(rt)}};function lttbDecimation(i,o,s,_,$){const et=$.samples||_;if(et>=s)return i.slice(o,o+s);const rt=[],j=(s-2)/(et-2);let st=0;const lt=o+s-1;let gt=o,bt,Ut,Ft,yt,Qt;for(rt[st++]=i[gt],bt=0;bt<et-2;bt++){let wt=0,Tt=0,Jt;const At=Math.floor((bt+1)*j)+1+o,Nt=Math.min(Math.floor((bt+2)*j)+1,s)+o,St=Nt-At;for(Jt=At;Jt<Nt;Jt++)wt+=i[Jt].x,Tt+=i[Jt].y;wt/=St,Tt/=St;const Ot=Math.floor(bt*j)+1+o,nn=Math.min(Math.floor((bt+1)*j)+1,s)+o,{x:yn,y:Ct}=i[gt];for(Ft=yt=-1,Jt=Ot;Jt<nn;Jt++)yt=.5*Math.abs((yn-wt)*(i[Jt].y-Ct)-(yn-i[Jt].x)*(Tt-Ct)),yt>Ft&&(Ft=yt,Ut=i[Jt],Qt=Jt);rt[st++]=Ut,gt=Qt}return rt[st++]=i[lt],rt}function minMaxDecimation(i,o,s,_){let $=0,et=0,rt,j,st,lt,gt,bt,Ut,Ft,yt,Qt;const wt=[],Tt=o+s-1,Jt=i[o].x,Nt=i[Tt].x-Jt;for(rt=o;rt<o+s;++rt){j=i[rt],st=(j.x-Jt)/Nt*_,lt=j.y;const St=st|0;if(St===gt)lt<yt?(yt=lt,bt=rt):lt>Qt&&(Qt=lt,Ut=rt),$=(et*$+j.x)/++et;else{const Ot=rt-1;if(!isNullOrUndef(bt)&&!isNullOrUndef(Ut)){const nn=Math.min(bt,Ut),yn=Math.max(bt,Ut);nn!==Ft&&nn!==Ot&&wt.push({...i[nn],x:$}),yn!==Ft&&yn!==Ot&&wt.push({...i[yn],x:$})}rt>0&&Ot!==Ft&&wt.push(i[Ot]),wt.push(j),gt=St,et=0,yt=Qt=lt,bt=Ut=Ft=rt}}return wt}function cleanDecimatedDataset(i){if(i._decimated){const o=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{value:o})}}function cleanDecimatedData(i){i.data.datasets.forEach(o=>{cleanDecimatedDataset(o)})}function getStartAndCountOfVisiblePointsSimplified(i,o){const s=o.length;let _=0,$;const{iScale:et}=i,{min:rt,max:j,minDefined:st,maxDefined:lt}=et.getUserBounds();return st&&(_=_limitValue(_lookupByKey(o,et.axis,rt).lo,0,s-1)),lt?$=_limitValue(_lookupByKey(o,et.axis,j).hi+1,_,s)-_:$=s-_,{start:_,count:$}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,o,s)=>{if(!s.enabled){cleanDecimatedData(i);return}const _=i.width;i.data.datasets.forEach(($,et)=>{const{_data:rt,indexAxis:j}=$,st=i.getDatasetMeta(et),lt=rt||$.data;if(resolve([j,i.options.indexAxis])==="y"||!st.controller.supportsDecimation)return;const gt=i.scales[st.xAxisID];if(gt.type!=="linear"&&gt.type!=="time"||i.options.parsing)return;let{start:bt,count:Ut}=getStartAndCountOfVisiblePointsSimplified(st,lt);const Ft=s.threshold||4*_;if(Ut<=Ft){cleanDecimatedDataset($);return}isNullOrUndef(rt)&&($._data=lt,delete $.data,Object.defineProperty($,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Qt){this._data=Qt}}));let yt;switch(s.algorithm){case"lttb":yt=lttbDecimation(lt,bt,Ut,_,s);break;case"min-max":yt=minMaxDecimation(lt,bt,Ut,_);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}$._decimated=yt})},destroy(i){cleanDecimatedData(i)}};function _segments(i,o,s){const _=i.segments,$=i.points,et=o.points,rt=[];for(const j of _){let{start:st,end:lt}=j;lt=_findSegmentEnd(st,lt,$);const gt=_getBounds(s,$[st],$[lt],j.loop);if(!o.segments){rt.push({source:j,target:gt,start:$[st],end:$[lt]});continue}const bt=_boundSegments(o,gt);for(const Ut of bt){const Ft=_getBounds(s,et[Ut.start],et[Ut.end],Ut.loop),yt=_boundSegment(j,$,Ft);for(const Qt of yt)rt.push({source:Qt,target:Ut,start:{[s]:_getEdge(gt,Ft,"start",Math.max)},end:{[s]:_getEdge(gt,Ft,"end",Math.min)}})}}return rt}function _getBounds(i,o,s,_){if(_)return;let $=o[i],et=s[i];return i==="angle"&&($=_normalizeAngle($),et=_normalizeAngle(et)),{property:i,start:$,end:et}}function _pointsFromSegments(i,o){const{x:s=null,y:_=null}=i||{},$=o.points,et=[];return o.segments.forEach(({start:rt,end:j})=>{j=_findSegmentEnd(rt,j,$);const st=$[rt],lt=$[j];_!==null?(et.push({x:st.x,y:_}),et.push({x:lt.x,y:_})):s!==null&&(et.push({x:s,y:st.y}),et.push({x:s,y:lt.y}))}),et}function _findSegmentEnd(i,o,s){for(;o>i;o--){const _=s[o];if(!isNaN(_.x)&&!isNaN(_.y))break}return o}function _getEdge(i,o,s,_){return i&&o?_(i[s],o[s]):i?i[s]:o?o[s]:0}function _createBoundaryLine(i,o){let s=[],_=!1;return isArray(i)?(_=!0,s=i):s=_pointsFromSegments(i,o),s.length?new LineElement({points:s,options:{tension:0},_loop:_,_fullLoop:_}):null}function _shouldApplyFill(i){return i&&i.fill!==!1}function _resolveTarget(i,o,s){let $=i[o].fill;const et=[o];let rt;if(!s)return $;for(;$!==!1&&et.indexOf($)===-1;){if(!isNumberFinite($))return $;if(rt=i[$],!rt)return!1;if(rt.visible)return $;et.push($),$=rt.fill}return!1}function _decodeFill(i,o,s){const _=parseFillOption(i);if(isObject(_))return isNaN(_.value)?!1:_;let $=parseFloat(_);return isNumberFinite($)&&Math.floor($)===$?decodeTargetIndex(_[0],o,$,s):["origin","start","end","stack","shape"].indexOf(_)>=0&&_}function decodeTargetIndex(i,o,s,_){return(i==="-"||i==="+")&&(s=o+s),s===o||s<0||s>=_?!1:s}function _getTargetPixel(i,o){let s=null;return i==="start"?s=o.bottom:i==="end"?s=o.top:isObject(i)?s=o.getPixelForValue(i.value):o.getBasePixel&&(s=o.getBasePixel()),s}function _getTargetValue(i,o,s){let _;return i==="start"?_=s:i==="end"?_=o.options.reverse?o.min:o.max:isObject(i)?_=i.value:_=o.getBaseValue(),_}function parseFillOption(i){const o=i.options,s=o.fill;let _=valueOrDefault(s&&s.target,s);return _===void 0&&(_=!!o.backgroundColor),_===!1||_===null?!1:_===!0?"origin":_}function _buildStackLine(i){const{scale:o,index:s,line:_}=i,$=[],et=_.segments,rt=_.points,j=getLinesBelow(o,s);j.push(_createBoundaryLine({x:null,y:o.bottom},_));for(let st=0;st<et.length;st++){const lt=et[st];for(let gt=lt.start;gt<=lt.end;gt++)addPointsBelow($,rt[gt],j)}return new LineElement({points:$,options:{}})}function getLinesBelow(i,o){const s=[],_=i.getMatchingVisibleMetas("line");for(let $=0;$<_.length;$++){const et=_[$];if(et.index===o)break;et.hidden||s.unshift(et.dataset)}return s}function addPointsBelow(i,o,s){const _=[];for(let $=0;$<s.length;$++){const et=s[$],{first:rt,last:j,point:st}=findPoint(et,o,"x");if(!(!st||rt&&j)){if(rt)_.unshift(st);else if(i.push(st),!j)break}}i.push(..._)}function findPoint(i,o,s){const _=i.interpolate(o,s);if(!_)return{};const $=_[s],et=i.segments,rt=i.points;let j=!1,st=!1;for(let lt=0;lt<et.length;lt++){const gt=et[lt],bt=rt[gt.start][s],Ut=rt[gt.end][s];if(_isBetween($,bt,Ut)){j=$===bt,st=$===Ut;break}}return{first:j,last:st,point:_}}class simpleArc{constructor(o){this.x=o.x,this.y=o.y,this.radius=o.radius}pathSegment(o,s,_){const{x:$,y:et,radius:rt}=this;return s=s||{start:0,end:TAU},o.arc($,et,rt,s.end,s.start,!0),!_.bounds}interpolate(o){const{x:s,y:_,radius:$}=this,et=o.angle;return{x:s+Math.cos(et)*$,y:_+Math.sin(et)*$,angle:et}}}function _getTarget(i){const{chart:o,fill:s,line:_}=i;if(isNumberFinite(s))return getLineByIndex(o,s);if(s==="stack")return _buildStackLine(i);if(s==="shape")return!0;const $=computeBoundary(i);return $ instanceof simpleArc?$:_createBoundaryLine($,_)}function getLineByIndex(i,o){const s=i.getDatasetMeta(o);return s&&i.isDatasetVisible(o)?s.dataset:null}function computeBoundary(i){return(i.scale||{}).getPointPositionForValue?computeCircularBoundary(i):computeLinearBoundary(i)}function computeLinearBoundary(i){const{scale:o={},fill:s}=i,_=_getTargetPixel(s,o);if(isNumberFinite(_)){const $=o.isHorizontal();return{x:$?_:null,y:$?null:_}}return null}function computeCircularBoundary(i){const{scale:o,fill:s}=i,_=o.options,$=o.getLabels().length,et=_.reverse?o.max:o.min,rt=_getTargetValue(s,o,et),j=[];if(_.grid.circular){const st=o.getPointPositionForValue(0,et);return new simpleArc({x:st.x,y:st.y,radius:o.getDistanceFromCenterForValue(rt)})}for(let st=0;st<$;++st)j.push(o.getPointPositionForValue(st,rt));return j}function _drawfill(i,o,s){const _=_getTarget(o),{line:$,scale:et,axis:rt}=o,j=$.options,st=j.fill,lt=j.backgroundColor,{above:gt=lt,below:bt=lt}=st||{};_&&$.points.length&&(clipArea(i,s),doFill(i,{line:$,target:_,above:gt,below:bt,area:s,scale:et,axis:rt}),unclipArea(i))}function doFill(i,o){const{line:s,target:_,above:$,below:et,area:rt,scale:j}=o,st=s._loop?"angle":o.axis;i.save(),st==="x"&&et!==$&&(clipVertical(i,_,rt.top),fill(i,{line:s,target:_,color:$,scale:j,property:st}),i.restore(),i.save(),clipVertical(i,_,rt.bottom)),fill(i,{line:s,target:_,color:et,scale:j,property:st}),i.restore()}function clipVertical(i,o,s){const{segments:_,points:$}=o;let et=!0,rt=!1;i.beginPath();for(const j of _){const{start:st,end:lt}=j,gt=$[st],bt=$[_findSegmentEnd(st,lt,$)];et?(i.moveTo(gt.x,gt.y),et=!1):(i.lineTo(gt.x,s),i.lineTo(gt.x,gt.y)),rt=!!o.pathSegment(i,j,{move:rt}),rt?i.closePath():i.lineTo(bt.x,s)}i.lineTo(o.first().x,s),i.closePath(),i.clip()}function fill(i,o){const{line:s,target:_,property:$,color:et,scale:rt}=o,j=_segments(s,_,$);for(const{source:st,target:lt,start:gt,end:bt}of j){const{style:{backgroundColor:Ut=et}={}}=st,Ft=_!==!0;i.save(),i.fillStyle=Ut,clipBounds(i,rt,Ft&&_getBounds($,gt,bt)),i.beginPath();const yt=!!s.pathSegment(i,st);let Qt;if(Ft){yt?i.closePath():interpolatedLineTo(i,_,bt,$);const wt=!!_.pathSegment(i,lt,{move:yt,reverse:!0});Qt=yt&&wt,Qt||interpolatedLineTo(i,_,gt,$)}i.closePath(),i.fill(Qt?"evenodd":"nonzero"),i.restore()}}function clipBounds(i,o,s){const{top:_,bottom:$}=o.chart.chartArea,{property:et,start:rt,end:j}=s||{};et==="x"&&(i.beginPath(),i.rect(rt,_,j-rt,$-_),i.clip())}function interpolatedLineTo(i,o,s,_){const $=o.interpolate(s,_);$&&i.lineTo($.x,$.y)}var index={id:"filler",afterDatasetsUpdate(i,o,s){const _=(i.data.datasets||[]).length,$=[];let et,rt,j,st;for(rt=0;rt<_;++rt)et=i.getDatasetMeta(rt),j=et.dataset,st=null,j&&j.options&&j instanceof LineElement&&(st={visible:i.isDatasetVisible(rt),index:rt,fill:_decodeFill(j,rt,_),chart:i,axis:et.controller.options.indexAxis,scale:et.vScale,line:j}),et.$filler=st,$.push(st);for(rt=0;rt<_;++rt)st=$[rt],!(!st||st.fill===!1)&&(st.fill=_resolveTarget($,rt,s.propagate))},beforeDraw(i,o,s){const _=s.drawTime==="beforeDraw",$=i.getSortedVisibleDatasetMetas(),et=i.chartArea;for(let rt=$.length-1;rt>=0;--rt){const j=$[rt].$filler;j&&(j.line.updateControlPoints(et,j.axis),_&&j.fill&&_drawfill(i.ctx,j,et))}},beforeDatasetsDraw(i,o,s){if(s.drawTime!=="beforeDatasetsDraw")return;const _=i.getSortedVisibleDatasetMetas();for(let $=_.length-1;$>=0;--$){const et=_[$].$filler;_shouldApplyFill(et)&&_drawfill(i.ctx,et,i.chartArea)}},beforeDatasetDraw(i,o,s){const _=o.meta.$filler;!_shouldApplyFill(_)||s.drawTime!=="beforeDatasetDraw"||_drawfill(i.ctx,_,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(i,o)=>{let{boxHeight:s=o,boxWidth:_=o}=i;return i.usePointStyle&&(s=Math.min(s,o),_=i.pointStyleWidth||Math.min(_,o)),{boxWidth:_,boxHeight:s,itemHeight:Math.max(o,s)}},itemsEqual=(i,o)=>i!==null&&o!==null&&i.datasetIndex===o.datasetIndex&&i.index===o.index;class Legend extends Element{constructor(o){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,s,_){this.maxWidth=o,this.maxHeight=s,this._margins=_,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const o=this.options.labels||{};let s=callback(o.generateLabels,[this.chart],this)||[];o.filter&&(s=s.filter(_=>o.filter(_,this.chart.data))),o.sort&&(s=s.sort((_,$)=>o.sort(_,$,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:o,ctx:s}=this;if(!o.display){this.width=this.height=0;return}const _=o.labels,$=toFont(_.font),et=$.size,rt=this._computeTitleHeight(),{boxWidth:j,itemHeight:st}=getBoxSize(_,et);let lt,gt;s.font=$.string,this.isHorizontal()?(lt=this.maxWidth,gt=this._fitRows(rt,et,j,st)+10):(gt=this.maxHeight,lt=this._fitCols(rt,$,j,st)+10),this.width=Math.min(lt,o.maxWidth||this.maxWidth),this.height=Math.min(gt,o.maxHeight||this.maxHeight)}_fitRows(o,s,_,$){const{ctx:et,maxWidth:rt,options:{labels:{padding:j}}}=this,st=this.legendHitBoxes=[],lt=this.lineWidths=[0],gt=$+j;let bt=o;et.textAlign="left",et.textBaseline="middle";let Ut=-1,Ft=-gt;return this.legendItems.forEach((yt,Qt)=>{const wt=_+s/2+et.measureText(yt.text).width;(Qt===0||lt[lt.length-1]+wt+2*j>rt)&&(bt+=gt,lt[lt.length-(Qt>0?0:1)]=0,Ft+=gt,Ut++),st[Qt]={left:0,top:Ft,row:Ut,width:wt,height:$},lt[lt.length-1]+=wt+j}),bt}_fitCols(o,s,_,$){const{ctx:et,maxHeight:rt,options:{labels:{padding:j}}}=this,st=this.legendHitBoxes=[],lt=this.columnSizes=[],gt=rt-o;let bt=j,Ut=0,Ft=0,yt=0,Qt=0;return this.legendItems.forEach((wt,Tt)=>{const{itemWidth:Jt,itemHeight:At}=calculateItemSize(_,s,et,wt,$);Tt>0&&Ft+At+2*j>gt&&(bt+=Ut+j,lt.push({width:Ut,height:Ft}),yt+=Ut+j,Qt++,Ut=Ft=0),st[Tt]={left:yt,top:Ft,col:Qt,width:Jt,height:At},Ut=Math.max(Ut,Jt),Ft+=At+j}),bt+=Ut,lt.push({width:Ut,height:Ft}),bt}adjustHitBoxes(){if(!this.options.display)return;const o=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:_,labels:{padding:$},rtl:et}}=this,rt=getRtlAdapter(et,this.left,this.width);if(this.isHorizontal()){let j=0,st=_alignStartEnd(_,this.left+$,this.right-this.lineWidths[j]);for(const lt of s)j!==lt.row&&(j=lt.row,st=_alignStartEnd(_,this.left+$,this.right-this.lineWidths[j])),lt.top+=this.top+o+$,lt.left=rt.leftForLtr(rt.x(st),lt.width),st+=lt.width+$}else{let j=0,st=_alignStartEnd(_,this.top+o+$,this.bottom-this.columnSizes[j].height);for(const lt of s)lt.col!==j&&(j=lt.col,st=_alignStartEnd(_,this.top+o+$,this.bottom-this.columnSizes[j].height)),lt.top=st,lt.left+=this.left+$,lt.left=rt.leftForLtr(rt.x(lt.left),lt.width),st+=lt.height+$}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const o=this.ctx;clipArea(o,this),this._draw(),unclipArea(o)}}_draw(){const{options:o,columnSizes:s,lineWidths:_,ctx:$}=this,{align:et,labels:rt}=o,j=defaults.color,st=getRtlAdapter(o.rtl,this.left,this.width),lt=toFont(rt.font),{padding:gt}=rt,bt=lt.size,Ut=bt/2;let Ft;this.drawTitle(),$.textAlign=st.textAlign("left"),$.textBaseline="middle",$.lineWidth=.5,$.font=lt.string;const{boxWidth:yt,boxHeight:Qt,itemHeight:wt}=getBoxSize(rt,bt),Tt=function(Ot,nn,yn){if(isNaN(yt)||yt<=0||isNaN(Qt)||Qt<0)return;$.save();const Ct=valueOrDefault(yn.lineWidth,1);if($.fillStyle=valueOrDefault(yn.fillStyle,j),$.lineCap=valueOrDefault(yn.lineCap,"butt"),$.lineDashOffset=valueOrDefault(yn.lineDashOffset,0),$.lineJoin=valueOrDefault(yn.lineJoin,"miter"),$.lineWidth=Ct,$.strokeStyle=valueOrDefault(yn.strokeStyle,j),$.setLineDash(valueOrDefault(yn.lineDash,[])),rt.usePointStyle){const Vt={radius:Qt*Math.SQRT2/2,pointStyle:yn.pointStyle,rotation:yn.rotation,borderWidth:Ct},Yt=st.xPlus(Ot,yt/2),Pt=nn+Ut;drawPointLegend($,Vt,Yt,Pt,rt.pointStyleWidth&&yt)}else{const Vt=nn+Math.max((bt-Qt)/2,0),Yt=st.leftForLtr(Ot,yt),Pt=toTRBLCorners(yn.borderRadius);$.beginPath(),Object.values(Pt).some(tn=>tn!==0)?addRoundedRectPath($,{x:Yt,y:Vt,w:yt,h:Qt,radius:Pt}):$.rect(Yt,Vt,yt,Qt),$.fill(),Ct!==0&&$.stroke()}$.restore()},Jt=function(Ot,nn,yn){renderText($,yn.text,Ot,nn+wt/2,lt,{strikethrough:yn.hidden,textAlign:st.textAlign(yn.textAlign)})},At=this.isHorizontal(),Nt=this._computeTitleHeight();At?Ft={x:_alignStartEnd(et,this.left+gt,this.right-_[0]),y:this.top+gt+Nt,line:0}:Ft={x:this.left+gt,y:_alignStartEnd(et,this.top+Nt+gt,this.bottom-s[0].height),line:0},overrideTextDirection(this.ctx,o.textDirection);const St=wt+gt;this.legendItems.forEach((Ot,nn)=>{$.strokeStyle=Ot.fontColor,$.fillStyle=Ot.fontColor;const yn=$.measureText(Ot.text).width,Ct=st.textAlign(Ot.textAlign||(Ot.textAlign=rt.textAlign)),Vt=yt+Ut+yn;let Yt=Ft.x,Pt=Ft.y;st.setWidth(this.width),At?nn>0&&Yt+Vt+gt>this.right&&(Pt=Ft.y+=St,Ft.line++,Yt=Ft.x=_alignStartEnd(et,this.left+gt,this.right-_[Ft.line])):nn>0&&Pt+St>this.bottom&&(Yt=Ft.x=Yt+s[Ft.line].width+gt,Ft.line++,Pt=Ft.y=_alignStartEnd(et,this.top+Nt+gt,this.bottom-s[Ft.line].height));const tn=st.x(Yt);if(Tt(tn,Pt,Ot),Yt=_textX(Ct,Yt+yt+Ut,At?Yt+Vt:this.right,o.rtl),Jt(st.x(Yt),Pt,Ot),At)Ft.x+=Vt+gt;else if(typeof Ot.text!="string"){const Un=lt.lineHeight;Ft.y+=calculateLegendItemHeight(Ot,Un)}else Ft.y+=St}),restoreTextDirection(this.ctx,o.textDirection)}drawTitle(){const o=this.options,s=o.title,_=toFont(s.font),$=toPadding(s.padding);if(!s.display)return;const et=getRtlAdapter(o.rtl,this.left,this.width),rt=this.ctx,j=s.position,st=_.size/2,lt=$.top+st;let gt,bt=this.left,Ut=this.width;if(this.isHorizontal())Ut=Math.max(...this.lineWidths),gt=this.top+lt,bt=_alignStartEnd(o.align,bt,this.right-Ut);else{const yt=this.columnSizes.reduce((Qt,wt)=>Math.max(Qt,wt.height),0);gt=lt+_alignStartEnd(o.align,this.top,this.bottom-yt-o.labels.padding-this._computeTitleHeight())}const Ft=_alignStartEnd(j,bt,bt+Ut);rt.textAlign=et.textAlign(_toLeftRightCenter(j)),rt.textBaseline="middle",rt.strokeStyle=s.color,rt.fillStyle=s.color,rt.font=_.string,renderText(rt,s.text,Ft,gt,_)}_computeTitleHeight(){const o=this.options.title,s=toFont(o.font),_=toPadding(o.padding);return o.display?s.lineHeight+_.height:0}_getLegendItemAt(o,s){let _,$,et;if(_isBetween(o,this.left,this.right)&&_isBetween(s,this.top,this.bottom)){for(et=this.legendHitBoxes,_=0;_<et.length;++_)if($=et[_],_isBetween(o,$.left,$.left+$.width)&&_isBetween(s,$.top,$.top+$.height))return this.legendItems[_]}return null}handleEvent(o){const s=this.options;if(!isListened(o.type,s))return;const _=this._getLegendItemAt(o.x,o.y);if(o.type==="mousemove"||o.type==="mouseout"){const $=this._hoveredItem,et=itemsEqual($,_);$&&!et&&callback(s.onLeave,[o,$,this],this),this._hoveredItem=_,_&&!et&&callback(s.onHover,[o,_,this],this)}else _&&callback(s.onClick,[o,_,this],this)}}function calculateItemSize(i,o,s,_,$){const et=calculateItemWidth(_,i,o,s),rt=calculateItemHeight($,_,o.lineHeight);return{itemWidth:et,itemHeight:rt}}function calculateItemWidth(i,o,s,_){let $=i.text;return $&&typeof $!="string"&&($=$.reduce((et,rt)=>et.length>rt.length?et:rt)),o+s.size/2+_.measureText($).width}function calculateItemHeight(i,o,s){let _=i;return typeof o.text!="string"&&(_=calculateLegendItemHeight(o,s)),_}function calculateLegendItemHeight(i,o){const s=i.text?i.text.length+.5:0;return o*s}function isListened(i,o){return!!((i==="mousemove"||i==="mouseout")&&(o.onHover||o.onLeave)||o.onClick&&(i==="click"||i==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(i,o,s){const _=i.legend=new Legend({ctx:i.ctx,options:s,chart:i});layouts.configure(i,_,s),layouts.addBox(i,_)},stop(i){layouts.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,o,s){const _=i.legend;layouts.configure(i,_,s),_.options=s},afterUpdate(i){const o=i.legend;o.buildLabels(),o.adjustHitBoxes()},afterEvent(i,o){o.replay||i.legend.handleEvent(o.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,o,s){const _=o.datasetIndex,$=s.chart;$.isDatasetVisible(_)?($.hide(_),o.hidden=!0):($.show(_),o.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const o=i.data.datasets,{labels:{usePointStyle:s,pointStyle:_,textAlign:$,color:et,useBorderRadius:rt,borderRadius:j}}=i.legend.options;return i._getSortedDatasetMetas().map(st=>{const lt=st.controller.getStyle(s?0:void 0),gt=toPadding(lt.borderWidth);return{text:o[st.index].label,fillStyle:lt.backgroundColor,fontColor:et,hidden:!st.visible,lineCap:lt.borderCapStyle,lineDash:lt.borderDash,lineDashOffset:lt.borderDashOffset,lineJoin:lt.borderJoinStyle,lineWidth:(gt.width+gt.height)/4,strokeStyle:lt.borderColor,pointStyle:_||lt.pointStyle,rotation:lt.rotation,textAlign:$||lt.textAlign,borderRadius:rt&&(j||lt.borderRadius),datasetIndex:st.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Title extends Element{constructor(o){super(),this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,s){const _=this.options;if(this.left=0,this.top=0,!_.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=o,this.height=this.bottom=s;const $=isArray(_.text)?_.text.length:1;this._padding=toPadding(_.padding);const et=$*toFont(_.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=et:this.width=et}isHorizontal(){const o=this.options.position;return o==="top"||o==="bottom"}_drawArgs(o){const{top:s,left:_,bottom:$,right:et,options:rt}=this,j=rt.align;let st=0,lt,gt,bt;return this.isHorizontal()?(gt=_alignStartEnd(j,_,et),bt=s+o,lt=et-_):(rt.position==="left"?(gt=_+o,bt=_alignStartEnd(j,$,s),st=PI*-.5):(gt=et-o,bt=_alignStartEnd(j,s,$),st=PI*.5),lt=$-s),{titleX:gt,titleY:bt,maxWidth:lt,rotation:st}}draw(){const o=this.ctx,s=this.options;if(!s.display)return;const _=toFont(s.font),et=_.lineHeight/2+this._padding.top,{titleX:rt,titleY:j,maxWidth:st,rotation:lt}=this._drawArgs(et);renderText(o,s.text,0,0,_,{color:s.color,maxWidth:st,rotation:lt,textAlign:_toLeftRightCenter(s.align),textBaseline:"middle",translation:[rt,j]})}}function createTitle(i,o){const s=new Title({ctx:i.ctx,options:o,chart:i});layouts.configure(i,s,o),layouts.addBox(i,s),i.titleBlock=s}var plugin_title={id:"title",_element:Title,start(i,o,s){createTitle(i,s)},stop(i){const o=i.titleBlock;layouts.removeBox(i,o),delete i.titleBlock},beforeUpdate(i,o,s){const _=i.titleBlock;layouts.configure(i,_,s),_.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(i,o,s){const _=new Title({ctx:i.ctx,options:s,chart:i});layouts.configure(i,_,s),layouts.addBox(i,_),map.set(i,_)},stop(i){layouts.removeBox(i,map.get(i)),map.delete(i)},beforeUpdate(i,o,s){const _=map.get(i);layouts.configure(i,_,s),_.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(i){if(!i.length)return!1;let o,s,_=0,$=0,et=0;for(o=0,s=i.length;o<s;++o){const rt=i[o].element;if(rt&&rt.hasValue()){const j=rt.tooltipPosition();_+=j.x,$+=j.y,++et}}return{x:_/et,y:$/et}},nearest(i,o){if(!i.length)return!1;let s=o.x,_=o.y,$=Number.POSITIVE_INFINITY,et,rt,j;for(et=0,rt=i.length;et<rt;++et){const st=i[et].element;if(st&&st.hasValue()){const lt=st.getCenterPoint(),gt=distanceBetweenPoints(o,lt);gt<$&&($=gt,j=st)}}if(j){const st=j.tooltipPosition();s=st.x,_=st.y}return{x:s,y:_}}};function pushOrConcat(i,o){return o&&(isArray(o)?Array.prototype.push.apply(i,o):i.push(o)),i}function splitNewlines(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function createTooltipItem(i,o){const{element:s,datasetIndex:_,index:$}=o,et=i.getDatasetMeta(_).controller,{label:rt,value:j}=et.getLabelAndValue($);return{chart:i,label:rt,parsed:et.getParsed($),raw:i.data.datasets[_].data[$],formattedValue:j,dataset:et.getDataset(),dataIndex:$,datasetIndex:_,element:s}}function getTooltipSize(i,o){const s=i.chart.ctx,{body:_,footer:$,title:et}=i,{boxWidth:rt,boxHeight:j}=o,st=toFont(o.bodyFont),lt=toFont(o.titleFont),gt=toFont(o.footerFont),bt=et.length,Ut=$.length,Ft=_.length,yt=toPadding(o.padding);let Qt=yt.height,wt=0,Tt=_.reduce((Nt,St)=>Nt+St.before.length+St.lines.length+St.after.length,0);if(Tt+=i.beforeBody.length+i.afterBody.length,bt&&(Qt+=bt*lt.lineHeight+(bt-1)*o.titleSpacing+o.titleMarginBottom),Tt){const Nt=o.displayColors?Math.max(j,st.lineHeight):st.lineHeight;Qt+=Ft*Nt+(Tt-Ft)*st.lineHeight+(Tt-1)*o.bodySpacing}Ut&&(Qt+=o.footerMarginTop+Ut*gt.lineHeight+(Ut-1)*o.footerSpacing);let Jt=0;const At=function(Nt){wt=Math.max(wt,s.measureText(Nt).width+Jt)};return s.save(),s.font=lt.string,each(i.title,At),s.font=st.string,each(i.beforeBody.concat(i.afterBody),At),Jt=o.displayColors?rt+2+o.boxPadding:0,each(_,Nt=>{each(Nt.before,At),each(Nt.lines,At),each(Nt.after,At)}),Jt=0,s.font=gt.string,each(i.footer,At),s.restore(),wt+=yt.width,{width:wt,height:Qt}}function determineYAlign(i,o){const{y:s,height:_}=o;return s<_/2?"top":s>i.height-_/2?"bottom":"center"}function doesNotFitWithAlign(i,o,s,_){const{x:$,width:et}=_,rt=s.caretSize+s.caretPadding;if(i==="left"&&$+et+rt>o.width||i==="right"&&$-et-rt<0)return!0}function determineXAlign(i,o,s,_){const{x:$,width:et}=s,{width:rt,chartArea:{left:j,right:st}}=i;let lt="center";return _==="center"?lt=$<=(j+st)/2?"left":"right":$<=et/2?lt="left":$>=rt-et/2&&(lt="right"),doesNotFitWithAlign(lt,i,o,s)&&(lt="center"),lt}function determineAlignment(i,o,s){const _=s.yAlign||o.yAlign||determineYAlign(i,s);return{xAlign:s.xAlign||o.xAlign||determineXAlign(i,o,s,_),yAlign:_}}function alignX(i,o){let{x:s,width:_}=i;return o==="right"?s-=_:o==="center"&&(s-=_/2),s}function alignY(i,o,s){let{y:_,height:$}=i;return o==="top"?_+=s:o==="bottom"?_-=$+s:_-=$/2,_}function getBackgroundPoint(i,o,s,_){const{caretSize:$,caretPadding:et,cornerRadius:rt}=i,{xAlign:j,yAlign:st}=s,lt=$+et,{topLeft:gt,topRight:bt,bottomLeft:Ut,bottomRight:Ft}=toTRBLCorners(rt);let yt=alignX(o,j);const Qt=alignY(o,st,lt);return st==="center"?j==="left"?yt+=lt:j==="right"&&(yt-=lt):j==="left"?yt-=Math.max(gt,Ut)+$:j==="right"&&(yt+=Math.max(bt,Ft)+$),{x:_limitValue(yt,0,_.width-o.width),y:_limitValue(Qt,0,_.height-o.height)}}function getAlignedX(i,o,s){const _=toPadding(s.padding);return o==="center"?i.x+i.width/2:o==="right"?i.x+i.width-_.right:i.x+_.left}function getBeforeAfterBodyLines(i){return pushOrConcat([],splitNewlines(i))}function createTooltipContext(i,o,s){return createContext(i,{tooltip:o,tooltipItems:s,type:"tooltip"})}function overrideCallbacks(i,o){const s=o&&o.dataset&&o.dataset.tooltip&&o.dataset.tooltip.callbacks;return s?i.override(s):i}const defaultCallbacks={beforeTitle:noop$1,title(i){if(i.length>0){const o=i[0],s=o.chart.data.labels,_=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return o.dataset.label||"";if(o.label)return o.label;if(_>0&&o.dataIndex<_)return s[o.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let o=i.dataset.label||"";o&&(o+=": ");const s=i.formattedValue;return isNullOrUndef(s)||(o+=s),o},labelColor(i){const s=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const s=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(i,o,s,_){const $=i[o].call(s,_);return typeof $>"u"?defaultCallbacks[o].call(s,_):$}class Tooltip extends Element{constructor(o){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=o.chart,this.options=o.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(o){this.options=o,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const o=this._cachedAnimations;if(o)return o;const s=this.chart,_=this.options.setContext(this.getContext()),$=_.enabled&&s.options.animation&&_.animations,et=new Animations(this.chart,$);return $._cacheable&&(this._cachedAnimations=Object.freeze(et)),et}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(o,s){const{callbacks:_}=s,$=invokeCallbackWithFallback(_,"beforeTitle",this,o),et=invokeCallbackWithFallback(_,"title",this,o),rt=invokeCallbackWithFallback(_,"afterTitle",this,o);let j=[];return j=pushOrConcat(j,splitNewlines($)),j=pushOrConcat(j,splitNewlines(et)),j=pushOrConcat(j,splitNewlines(rt)),j}getBeforeBody(o,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"beforeBody",this,o))}getBody(o,s){const{callbacks:_}=s,$=[];return each(o,et=>{const rt={before:[],lines:[],after:[]},j=overrideCallbacks(_,et);pushOrConcat(rt.before,splitNewlines(invokeCallbackWithFallback(j,"beforeLabel",this,et))),pushOrConcat(rt.lines,invokeCallbackWithFallback(j,"label",this,et)),pushOrConcat(rt.after,splitNewlines(invokeCallbackWithFallback(j,"afterLabel",this,et))),$.push(rt)}),$}getAfterBody(o,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"afterBody",this,o))}getFooter(o,s){const{callbacks:_}=s,$=invokeCallbackWithFallback(_,"beforeFooter",this,o),et=invokeCallbackWithFallback(_,"footer",this,o),rt=invokeCallbackWithFallback(_,"afterFooter",this,o);let j=[];return j=pushOrConcat(j,splitNewlines($)),j=pushOrConcat(j,splitNewlines(et)),j=pushOrConcat(j,splitNewlines(rt)),j}_createItems(o){const s=this._active,_=this.chart.data,$=[],et=[],rt=[];let j=[],st,lt;for(st=0,lt=s.length;st<lt;++st)j.push(createTooltipItem(this.chart,s[st]));return o.filter&&(j=j.filter((gt,bt,Ut)=>o.filter(gt,bt,Ut,_))),o.itemSort&&(j=j.sort((gt,bt)=>o.itemSort(gt,bt,_))),each(j,gt=>{const bt=overrideCallbacks(o.callbacks,gt);$.push(invokeCallbackWithFallback(bt,"labelColor",this,gt)),et.push(invokeCallbackWithFallback(bt,"labelPointStyle",this,gt)),rt.push(invokeCallbackWithFallback(bt,"labelTextColor",this,gt))}),this.labelColors=$,this.labelPointStyles=et,this.labelTextColors=rt,this.dataPoints=j,j}update(o,s){const _=this.options.setContext(this.getContext()),$=this._active;let et,rt=[];if(!$.length)this.opacity!==0&&(et={opacity:0});else{const j=positioners[_.position].call(this,$,this._eventPosition);rt=this._createItems(_),this.title=this.getTitle(rt,_),this.beforeBody=this.getBeforeBody(rt,_),this.body=this.getBody(rt,_),this.afterBody=this.getAfterBody(rt,_),this.footer=this.getFooter(rt,_);const st=this._size=getTooltipSize(this,_),lt=Object.assign({},j,st),gt=determineAlignment(this.chart,_,lt),bt=getBackgroundPoint(_,lt,gt,this.chart);this.xAlign=gt.xAlign,this.yAlign=gt.yAlign,et={opacity:1,x:bt.x,y:bt.y,width:st.width,height:st.height,caretX:j.x,caretY:j.y}}this._tooltipItems=rt,this.$context=void 0,et&&this._resolveAnimations().update(this,et),o&&_.external&&_.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(o,s,_,$){const et=this.getCaretPosition(o,_,$);s.lineTo(et.x1,et.y1),s.lineTo(et.x2,et.y2),s.lineTo(et.x3,et.y3)}getCaretPosition(o,s,_){const{xAlign:$,yAlign:et}=this,{caretSize:rt,cornerRadius:j}=_,{topLeft:st,topRight:lt,bottomLeft:gt,bottomRight:bt}=toTRBLCorners(j),{x:Ut,y:Ft}=o,{width:yt,height:Qt}=s;let wt,Tt,Jt,At,Nt,St;return et==="center"?(Nt=Ft+Qt/2,$==="left"?(wt=Ut,Tt=wt-rt,At=Nt+rt,St=Nt-rt):(wt=Ut+yt,Tt=wt+rt,At=Nt-rt,St=Nt+rt),Jt=wt):($==="left"?Tt=Ut+Math.max(st,gt)+rt:$==="right"?Tt=Ut+yt-Math.max(lt,bt)-rt:Tt=this.caretX,et==="top"?(At=Ft,Nt=At-rt,wt=Tt-rt,Jt=Tt+rt):(At=Ft+Qt,Nt=At+rt,wt=Tt+rt,Jt=Tt-rt),St=At),{x1:wt,x2:Tt,x3:Jt,y1:At,y2:Nt,y3:St}}drawTitle(o,s,_){const $=this.title,et=$.length;let rt,j,st;if(et){const lt=getRtlAdapter(_.rtl,this.x,this.width);for(o.x=getAlignedX(this,_.titleAlign,_),s.textAlign=lt.textAlign(_.titleAlign),s.textBaseline="middle",rt=toFont(_.titleFont),j=_.titleSpacing,s.fillStyle=_.titleColor,s.font=rt.string,st=0;st<et;++st)s.fillText($[st],lt.x(o.x),o.y+rt.lineHeight/2),o.y+=rt.lineHeight+j,st+1===et&&(o.y+=_.titleMarginBottom-j)}}_drawColorBox(o,s,_,$,et){const rt=this.labelColors[_],j=this.labelPointStyles[_],{boxHeight:st,boxWidth:lt,boxPadding:gt}=et,bt=toFont(et.bodyFont),Ut=getAlignedX(this,"left",et),Ft=$.x(Ut),yt=st<bt.lineHeight?(bt.lineHeight-st)/2:0,Qt=s.y+yt;if(et.usePointStyle){const wt={radius:Math.min(lt,st)/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:1},Tt=$.leftForLtr(Ft,lt)+lt/2,Jt=Qt+st/2;o.strokeStyle=et.multiKeyBackground,o.fillStyle=et.multiKeyBackground,drawPoint(o,wt,Tt,Jt),o.strokeStyle=rt.borderColor,o.fillStyle=rt.backgroundColor,drawPoint(o,wt,Tt,Jt)}else{o.lineWidth=isObject(rt.borderWidth)?Math.max(...Object.values(rt.borderWidth)):rt.borderWidth||1,o.strokeStyle=rt.borderColor,o.setLineDash(rt.borderDash||[]),o.lineDashOffset=rt.borderDashOffset||0;const wt=$.leftForLtr(Ft,lt-gt),Tt=$.leftForLtr($.xPlus(Ft,1),lt-gt-2),Jt=toTRBLCorners(rt.borderRadius);Object.values(Jt).some(At=>At!==0)?(o.beginPath(),o.fillStyle=et.multiKeyBackground,addRoundedRectPath(o,{x:wt,y:Qt,w:lt,h:st,radius:Jt}),o.fill(),o.stroke(),o.fillStyle=rt.backgroundColor,o.beginPath(),addRoundedRectPath(o,{x:Tt,y:Qt+1,w:lt-2,h:st-2,radius:Jt}),o.fill()):(o.fillStyle=et.multiKeyBackground,o.fillRect(wt,Qt,lt,st),o.strokeRect(wt,Qt,lt,st),o.fillStyle=rt.backgroundColor,o.fillRect(Tt,Qt+1,lt-2,st-2))}o.fillStyle=this.labelTextColors[_]}drawBody(o,s,_){const{body:$}=this,{bodySpacing:et,bodyAlign:rt,displayColors:j,boxHeight:st,boxWidth:lt,boxPadding:gt}=_,bt=toFont(_.bodyFont);let Ut=bt.lineHeight,Ft=0;const yt=getRtlAdapter(_.rtl,this.x,this.width),Qt=function(yn){s.fillText(yn,yt.x(o.x+Ft),o.y+Ut/2),o.y+=Ut+et},wt=yt.textAlign(rt);let Tt,Jt,At,Nt,St,Ot,nn;for(s.textAlign=rt,s.textBaseline="middle",s.font=bt.string,o.x=getAlignedX(this,wt,_),s.fillStyle=_.bodyColor,each(this.beforeBody,Qt),Ft=j&&wt!=="right"?rt==="center"?lt/2+gt:lt+2+gt:0,Nt=0,Ot=$.length;Nt<Ot;++Nt){for(Tt=$[Nt],Jt=this.labelTextColors[Nt],s.fillStyle=Jt,each(Tt.before,Qt),At=Tt.lines,j&&At.length&&(this._drawColorBox(s,o,Nt,yt,_),Ut=Math.max(bt.lineHeight,st)),St=0,nn=At.length;St<nn;++St)Qt(At[St]),Ut=bt.lineHeight;each(Tt.after,Qt)}Ft=0,Ut=bt.lineHeight,each(this.afterBody,Qt),o.y-=et}drawFooter(o,s,_){const $=this.footer,et=$.length;let rt,j;if(et){const st=getRtlAdapter(_.rtl,this.x,this.width);for(o.x=getAlignedX(this,_.footerAlign,_),o.y+=_.footerMarginTop,s.textAlign=st.textAlign(_.footerAlign),s.textBaseline="middle",rt=toFont(_.footerFont),s.fillStyle=_.footerColor,s.font=rt.string,j=0;j<et;++j)s.fillText($[j],st.x(o.x),o.y+rt.lineHeight/2),o.y+=rt.lineHeight+_.footerSpacing}}drawBackground(o,s,_,$){const{xAlign:et,yAlign:rt}=this,{x:j,y:st}=o,{width:lt,height:gt}=_,{topLeft:bt,topRight:Ut,bottomLeft:Ft,bottomRight:yt}=toTRBLCorners($.cornerRadius);s.fillStyle=$.backgroundColor,s.strokeStyle=$.borderColor,s.lineWidth=$.borderWidth,s.beginPath(),s.moveTo(j+bt,st),rt==="top"&&this.drawCaret(o,s,_,$),s.lineTo(j+lt-Ut,st),s.quadraticCurveTo(j+lt,st,j+lt,st+Ut),rt==="center"&&et==="right"&&this.drawCaret(o,s,_,$),s.lineTo(j+lt,st+gt-yt),s.quadraticCurveTo(j+lt,st+gt,j+lt-yt,st+gt),rt==="bottom"&&this.drawCaret(o,s,_,$),s.lineTo(j+Ft,st+gt),s.quadraticCurveTo(j,st+gt,j,st+gt-Ft),rt==="center"&&et==="left"&&this.drawCaret(o,s,_,$),s.lineTo(j,st+bt),s.quadraticCurveTo(j,st,j+bt,st),s.closePath(),s.fill(),$.borderWidth>0&&s.stroke()}_updateAnimationTarget(o){const s=this.chart,_=this.$animations,$=_&&_.x,et=_&&_.y;if($||et){const rt=positioners[o.position].call(this,this._active,this._eventPosition);if(!rt)return;const j=this._size=getTooltipSize(this,o),st=Object.assign({},rt,this._size),lt=determineAlignment(s,o,st),gt=getBackgroundPoint(o,st,lt,s);($._to!==gt.x||et._to!==gt.y)&&(this.xAlign=lt.xAlign,this.yAlign=lt.yAlign,this.width=j.width,this.height=j.height,this.caretX=rt.x,this.caretY=rt.y,this._resolveAnimations().update(this,gt))}}_willRender(){return!!this.opacity}draw(o){const s=this.options.setContext(this.getContext());let _=this.opacity;if(!_)return;this._updateAnimationTarget(s);const $={width:this.width,height:this.height},et={x:this.x,y:this.y};_=Math.abs(_)<.001?0:_;const rt=toPadding(s.padding),j=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&j&&(o.save(),o.globalAlpha=_,this.drawBackground(et,o,$,s),overrideTextDirection(o,s.textDirection),et.y+=rt.top,this.drawTitle(et,o,s),this.drawBody(et,o,s),this.drawFooter(et,o,s),restoreTextDirection(o,s.textDirection),o.restore())}getActiveElements(){return this._active||[]}setActiveElements(o,s){const _=this._active,$=o.map(({datasetIndex:j,index:st})=>{const lt=this.chart.getDatasetMeta(j);if(!lt)throw new Error("Cannot find a dataset at index "+j);return{datasetIndex:j,element:lt.data[st],index:st}}),et=!_elementsEqual(_,$),rt=this._positionChanged($,s);(et||rt)&&(this._active=$,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(o,s,_=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const $=this.options,et=this._active||[],rt=this._getActiveElements(o,et,s,_),j=this._positionChanged(rt,o),st=s||!_elementsEqual(rt,et)||j;return st&&(this._active=rt,($.enabled||$.external)&&(this._eventPosition={x:o.x,y:o.y},this.update(!0,s))),st}_getActiveElements(o,s,_,$){const et=this.options;if(o.type==="mouseout")return[];if(!$)return s;const rt=this.chart.getElementsAtEventForMode(o,et.mode,et,_);return et.reverse&&rt.reverse(),rt}_positionChanged(o,s){const{caretX:_,caretY:$,options:et}=this,rt=positioners[et.position].call(this,o,s);return rt!==!1&&(_!==rt.x||$!==rt.y)}}Mo(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(i,o,s){s&&(i.tooltip=new Tooltip({chart:i,options:s}))},beforeUpdate(i,o,s){i.tooltip&&i.tooltip.initialize(s)},reset(i,o,s){i.tooltip&&i.tooltip.initialize(s)},afterDraw(i){const o=i.tooltip;if(o&&o._willRender()){const s={tooltip:o};if(i.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;o.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",s)}},afterEvent(i,o){if(i.tooltip){const s=o.replay;i.tooltip.handleEvent(o.event,s,o.inChartArea)&&(o.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,o)=>o.bodyFont.size,boxWidth:(i,o)=>o.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(i,o,s,_)=>(typeof o=="string"?(s=i.push(o)-1,_.unshift({index:s,label:o})):isNaN(o)&&(s=null),s);function findOrAddLabel(i,o,s,_){const $=i.indexOf(o);if($===-1)return addIfString(i,o,s,_);const et=i.lastIndexOf(o);return $!==et?s:$}const validIndex=(i,o)=>i===null?null:_limitValue(Math.round(i),0,o);function _getLabelForValue(i){const o=this.getLabels();return i>=0&&i<o.length?o[i]:i}class CategoryScale extends Scale{constructor(o){super(o),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(o){const s=this._addedLabels;if(s.length){const _=this.getLabels();for(const{index:$,label:et}of s)_[$]===et&&_.splice($,1);this._addedLabels=[]}super.init(o)}parse(o,s){if(isNullOrUndef(o))return null;const _=this.getLabels();return s=isFinite(s)&&_[s]===o?s:findOrAddLabel(_,o,valueOrDefault(s,o),this._addedLabels),validIndex(s,_.length-1)}determineDataLimits(){const{minDefined:o,maxDefined:s}=this.getUserBounds();let{min:_,max:$}=this.getMinMax(!0);this.options.bounds==="ticks"&&(o||(_=0),s||($=this.getLabels().length-1)),this.min=_,this.max=$}buildTicks(){const o=this.min,s=this.max,_=this.options.offset,$=[];let et=this.getLabels();et=o===0&&s===et.length-1?et:et.slice(o,s+1),this._valueRange=Math.max(et.length-(_?0:1),1),this._startValue=this.min-(_?.5:0);for(let rt=o;rt<=s;rt++)$.push({value:rt});return $}getLabelForValue(o){return _getLabelForValue.call(this,o)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(o){return typeof o!="number"&&(o=this.parse(o)),o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getPixelForTick(o){const s=this.ticks;return o<0||o>s.length-1?null:this.getPixelForValue(s[o].value)}getValueForPixel(o){return Math.round(this._startValue+this.getDecimalForPixel(o)*this._valueRange)}getBasePixel(){return this.bottom}}Mo(CategoryScale,"id","category"),Mo(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(i,o){const s=[],{bounds:$,step:et,min:rt,max:j,precision:st,count:lt,maxTicks:gt,maxDigits:bt,includeBounds:Ut}=i,Ft=et||1,yt=gt-1,{min:Qt,max:wt}=o,Tt=!isNullOrUndef(rt),Jt=!isNullOrUndef(j),At=!isNullOrUndef(lt),Nt=(wt-Qt)/(bt+1);let St=niceNum((wt-Qt)/yt/Ft)*Ft,Ot,nn,yn,Ct;if(St<1e-14&&!Tt&&!Jt)return[{value:Qt},{value:wt}];Ct=Math.ceil(wt/St)-Math.floor(Qt/St),Ct>yt&&(St=niceNum(Ct*St/yt/Ft)*Ft),isNullOrUndef(st)||(Ot=Math.pow(10,st),St=Math.ceil(St*Ot)/Ot),$==="ticks"?(nn=Math.floor(Qt/St)*St,yn=Math.ceil(wt/St)*St):(nn=Qt,yn=wt),Tt&&Jt&&et&&almostWhole((j-rt)/et,St/1e3)?(Ct=Math.round(Math.min((j-rt)/St,gt)),St=(j-rt)/Ct,nn=rt,yn=j):At?(nn=Tt?rt:nn,yn=Jt?j:yn,Ct=lt-1,St=(yn-nn)/Ct):(Ct=(yn-nn)/St,almostEquals(Ct,Math.round(Ct),St/1e3)?Ct=Math.round(Ct):Ct=Math.ceil(Ct));const Vt=Math.max(_decimalPlaces(St),_decimalPlaces(nn));Ot=Math.pow(10,isNullOrUndef(st)?Vt:st),nn=Math.round(nn*Ot)/Ot,yn=Math.round(yn*Ot)/Ot;let Yt=0;for(Tt&&(Ut&&nn!==rt?(s.push({value:rt}),nn<rt&&Yt++,almostEquals(Math.round((nn+Yt*St)*Ot)/Ot,rt,relativeLabelSize(rt,Nt,i))&&Yt++):nn<rt&&Yt++);Yt<Ct;++Yt)s.push({value:Math.round((nn+Yt*St)*Ot)/Ot});return Jt&&Ut&&yn!==j?s.length&&almostEquals(s[s.length-1].value,j,relativeLabelSize(j,Nt,i))?s[s.length-1].value=j:s.push({value:j}):(!Jt||yn===j)&&s.push({value:yn}),s}function relativeLabelSize(i,o,{horizontal:s,minRotation:_}){const $=toRadians(_),et=(s?Math.sin($):Math.cos($))||.001,rt=.75*o*(""+i).length;return Math.min(o/et,rt)}class LinearScaleBase extends Scale{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(o,s){return isNullOrUndef(o)||(typeof o=="number"||o instanceof Number)&&!isFinite(+o)?null:+o}handleTickRangeOptions(){const{beginAtZero:o}=this.options,{minDefined:s,maxDefined:_}=this.getUserBounds();let{min:$,max:et}=this;const rt=st=>$=s?$:st,j=st=>et=_?et:st;if(o){const st=sign($),lt=sign(et);st<0&&lt<0?j(0):st>0&&lt>0&&rt(0)}if($===et){let st=et===0?1:Math.abs(et*.05);j(et+st),o||rt($-st)}this.min=$,this.max=et}getTickLimit(){const o=this.options.ticks;let{maxTicksLimit:s,stepSize:_}=o,$;return _?($=Math.ceil(this.max/_)-Math.floor(this.min/_)+1,$>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${_} would result generating up to ${$} ticks. Limiting to 1000.`),$=1e3)):($=this.computeTickLimit(),s=s||11),s&&($=Math.min(s,$)),$}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const o=this.options,s=o.ticks;let _=this.getTickLimit();_=Math.max(2,_);const $={maxTicks:_,bounds:o.bounds,min:o.min,max:o.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},et=this._range||this,rt=generateTicks$1($,et);return o.bounds==="ticks"&&_setMinAndMaxByKey(rt,this,"value"),o.reverse?(rt.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),rt}configure(){const o=this.ticks;let s=this.min,_=this.max;if(super.configure(),this.options.offset&&o.length){const $=(_-s)/Math.max(o.length-1,1)/2;s-=$,_+=$}this._startValue=s,this._endValue=_,this._valueRange=_-s}getLabelForValue(o){return formatNumber(o,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:o,max:s}=this.getMinMax(!0);this.min=isNumberFinite(o)?o:0,this.max=isNumberFinite(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const o=this.isHorizontal(),s=o?this.width:this.height,_=toRadians(this.options.ticks.minRotation),$=(o?Math.sin(_):Math.cos(_))||.001,et=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,et.lineHeight/$))}getPixelForValue(o){return o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getValueForPixel(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange}}Mo(LinearScale,"id","linear"),Mo(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const log10Floor=i=>Math.floor(log10(i)),changeExponent=(i,o)=>Math.pow(10,log10Floor(i)+o);function isMajor(i){return i/Math.pow(10,log10Floor(i))===1}function steps(i,o,s){const _=Math.pow(10,s),$=Math.floor(i/_);return Math.ceil(o/_)-$}function startExp(i,o){const s=o-i;let _=log10Floor(s);for(;steps(i,o,_)>10;)_++;for(;steps(i,o,_)<10;)_--;return Math.min(_,log10Floor(i))}function generateTicks(i,{min:o,max:s}){o=finiteOrDefault(i.min,o);const _=[],$=log10Floor(o);let et=startExp(o,s),rt=et<0?Math.pow(10,Math.abs(et)):1;const j=Math.pow(10,et),st=$>et?Math.pow(10,$):0,lt=Math.round((o-st)*rt)/rt,gt=Math.floor((o-st)/j/10)*j*10;let bt=Math.floor((lt-gt)/Math.pow(10,et)),Ut=finiteOrDefault(i.min,Math.round((st+gt+bt*Math.pow(10,et))*rt)/rt);for(;Ut<s;)_.push({value:Ut,major:isMajor(Ut),significand:bt}),bt>=10?bt=bt<15?15:20:bt++,bt>=20&&(et++,bt=2,rt=et>=0?1:rt),Ut=Math.round((st+gt+bt*Math.pow(10,et))*rt)/rt;const Ft=finiteOrDefault(i.max,Ut);return _.push({value:Ft,major:isMajor(Ft),significand:bt}),_}class LogarithmicScale extends Scale{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(o,s){const _=LinearScaleBase.prototype.parse.apply(this,[o,s]);if(_===0){this._zero=!0;return}return isNumberFinite(_)&&_>0?_:null}determineDataLimits(){const{min:o,max:s}=this.getMinMax(!0);this.min=isNumberFinite(o)?Math.max(0,o):null,this.max=isNumberFinite(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=o===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:o,maxDefined:s}=this.getUserBounds();let _=this.min,$=this.max;const et=j=>_=o?_:j,rt=j=>$=s?$:j;_===$&&(_<=0?(et(1),rt(10)):(et(changeExponent(_,-1)),rt(changeExponent($,1)))),_<=0&&et(changeExponent($,-1)),$<=0&&rt(changeExponent(_,1)),this.min=_,this.max=$}buildTicks(){const o=this.options,s={min:this._userMin,max:this._userMax},_=generateTicks(s,this);return o.bounds==="ticks"&&_setMinAndMaxByKey(_,this,"value"),o.reverse?(_.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),_}getLabelForValue(o){return o===void 0?"0":formatNumber(o,this.chart.options.locale,this.options.ticks.format)}configure(){const o=this.min;super.configure(),this._startValue=log10(o),this._valueRange=log10(this.max)-log10(o)}getPixelForValue(o){return(o===void 0||o===0)&&(o=this.min),o===null||isNaN(o)?NaN:this.getPixelForDecimal(o===this.min?0:(log10(o)-this._startValue)/this._valueRange)}getValueForPixel(o){const s=this.getDecimalForPixel(o);return Math.pow(10,this._startValue+s*this._valueRange)}}Mo(LogarithmicScale,"id","logarithmic"),Mo(LogarithmicScale,"defaults",{ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}});function getTickBackdropHeight(i){const o=i.ticks;if(o.display&&i.display){const s=toPadding(o.backdropPadding);return valueOrDefault(o.font&&o.font.size,defaults.font.size)+s.height}return 0}function measureLabelSize(i,o,s){return s=isArray(s)?s:[s],{w:_longestText(i,o.string,s),h:s.length*o.lineHeight}}function determineLimits(i,o,s,_,$){return i===_||i===$?{start:o-s/2,end:o+s/2}:i<_||i>$?{start:o-s,end:o}:{start:o,end:o+s}}function fitWithPointLabels(i){const o={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},s=Object.assign({},o),_=[],$=[],et=i._pointLabels.length,rt=i.options.pointLabels,j=rt.centerPointLabels?PI/et:0;for(let st=0;st<et;st++){const lt=rt.setContext(i.getPointLabelContext(st));$[st]=lt.padding;const gt=i.getPointPosition(st,i.drawingArea+$[st],j),bt=toFont(lt.font),Ut=measureLabelSize(i.ctx,bt,i._pointLabels[st]);_[st]=Ut;const Ft=_normalizeAngle(i.getIndexAngle(st)+j),yt=Math.round(toDegrees(Ft)),Qt=determineLimits(yt,gt.x,Ut.w,0,180),wt=determineLimits(yt,gt.y,Ut.h,90,270);updateLimits(s,o,Ft,Qt,wt)}i.setCenterPoint(o.l-s.l,s.r-o.r,o.t-s.t,s.b-o.b),i._pointLabelItems=buildPointLabelItems(i,_,$)}function updateLimits(i,o,s,_,$){const et=Math.abs(Math.sin(s)),rt=Math.abs(Math.cos(s));let j=0,st=0;_.start<o.l?(j=(o.l-_.start)/et,i.l=Math.min(i.l,o.l-j)):_.end>o.r&&(j=(_.end-o.r)/et,i.r=Math.max(i.r,o.r+j)),$.start<o.t?(st=(o.t-$.start)/rt,i.t=Math.min(i.t,o.t-st)):$.end>o.b&&(st=($.end-o.b)/rt,i.b=Math.max(i.b,o.b+st))}function buildPointLabelItems(i,o,s){const _=[],$=i._pointLabels.length,et=i.options,rt=getTickBackdropHeight(et)/2,j=i.drawingArea,st=et.pointLabels.centerPointLabels?PI/$:0;for(let lt=0;lt<$;lt++){const gt=i.getPointPosition(lt,j+rt+s[lt],st),bt=Math.round(toDegrees(_normalizeAngle(gt.angle+HALF_PI))),Ut=o[lt],Ft=yForAngle(gt.y,Ut.h,bt),yt=getTextAlignForAngle(bt),Qt=leftForTextAlign(gt.x,Ut.w,yt);_.push({x:gt.x,y:Ft,textAlign:yt,left:Qt,top:Ft,right:Qt+Ut.w,bottom:Ft+Ut.h})}return _}function getTextAlignForAngle(i){return i===0||i===180?"center":i<180?"left":"right"}function leftForTextAlign(i,o,s){return s==="right"?i-=o:s==="center"&&(i-=o/2),i}function yForAngle(i,o,s){return s===90||s===270?i-=o/2:(s>270||s<90)&&(i-=o),i}function drawPointLabels(i,o){const{ctx:s,options:{pointLabels:_}}=i;for(let $=o-1;$>=0;$--){const et=_.setContext(i.getPointLabelContext($)),rt=toFont(et.font),{x:j,y:st,textAlign:lt,left:gt,top:bt,right:Ut,bottom:Ft}=i._pointLabelItems[$],{backdropColor:yt}=et;if(!isNullOrUndef(yt)){const Qt=toTRBLCorners(et.borderRadius),wt=toPadding(et.backdropPadding);s.fillStyle=yt;const Tt=gt-wt.left,Jt=bt-wt.top,At=Ut-gt+wt.width,Nt=Ft-bt+wt.height;Object.values(Qt).some(St=>St!==0)?(s.beginPath(),addRoundedRectPath(s,{x:Tt,y:Jt,w:At,h:Nt,radius:Qt}),s.fill()):s.fillRect(Tt,Jt,At,Nt)}renderText(s,i._pointLabels[$],j,st+rt.lineHeight/2,rt,{color:et.color,textAlign:lt,textBaseline:"middle"})}}function pathRadiusLine(i,o,s,_){const{ctx:$}=i;if(s)$.arc(i.xCenter,i.yCenter,o,0,TAU);else{let et=i.getPointPosition(0,o);$.moveTo(et.x,et.y);for(let rt=1;rt<_;rt++)et=i.getPointPosition(rt,o),$.lineTo(et.x,et.y)}}function drawRadiusLine(i,o,s,_,$){const et=i.ctx,rt=o.circular,{color:j,lineWidth:st}=o;!rt&&!_||!j||!st||s<0||(et.save(),et.strokeStyle=j,et.lineWidth=st,et.setLineDash($.dash),et.lineDashOffset=$.dashOffset,et.beginPath(),pathRadiusLine(i,s,rt,_),et.closePath(),et.stroke(),et.restore())}function createPointLabelContext(i,o,s){return createContext(i,{label:s,index:o,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(o){super(o),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const o=this._padding=toPadding(getTickBackdropHeight(this.options)/2),s=this.width=this.maxWidth-o.width,_=this.height=this.maxHeight-o.height;this.xCenter=Math.floor(this.left+s/2+o.left),this.yCenter=Math.floor(this.top+_/2+o.top),this.drawingArea=Math.floor(Math.min(s,_)/2)}determineDataLimits(){const{min:o,max:s}=this.getMinMax(!1);this.min=isNumberFinite(o)&&!isNaN(o)?o:0,this.max=isNumberFinite(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(o){LinearScaleBase.prototype.generateTickLabels.call(this,o),this._pointLabels=this.getLabels().map((s,_)=>{const $=callback(this.options.pointLabels.callback,[s,_],this);return $||$===0?$:""}).filter((s,_)=>this.chart.getDataVisibility(_))}fit(){const o=this.options;o.display&&o.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(o,s,_,$){this.xCenter+=Math.floor((o-s)/2),this.yCenter+=Math.floor((_-$)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(o,s,_,$))}getIndexAngle(o){const s=TAU/(this._pointLabels.length||1),_=this.options.startAngle||0;return _normalizeAngle(o*s+toRadians(_))}getDistanceFromCenterForValue(o){if(isNullOrUndef(o))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-o)*s:(o-this.min)*s}getValueForDistanceFromCenter(o){if(isNullOrUndef(o))return NaN;const s=o/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(o){const s=this._pointLabels||[];if(o>=0&&o<s.length){const _=s[o];return createPointLabelContext(this.getContext(),o,_)}}getPointPosition(o,s,_=0){const $=this.getIndexAngle(o)-HALF_PI+_;return{x:Math.cos($)*s+this.xCenter,y:Math.sin($)*s+this.yCenter,angle:$}}getPointPositionForValue(o,s){return this.getPointPosition(o,this.getDistanceFromCenterForValue(s))}getBasePosition(o){return this.getPointPositionForValue(o||0,this.getBaseValue())}getPointLabelPosition(o){const{left:s,top:_,right:$,bottom:et}=this._pointLabelItems[o];return{left:s,top:_,right:$,bottom:et}}drawBackground(){const{backgroundColor:o,grid:{circular:s}}=this.options;if(o){const _=this.ctx;_.save(),_.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),_.closePath(),_.fillStyle=o,_.fill(),_.restore()}}drawGrid(){const o=this.ctx,s=this.options,{angleLines:_,grid:$,border:et}=s,rt=this._pointLabels.length;let j,st,lt;if(s.pointLabels.display&&drawPointLabels(this,rt),$.display&&this.ticks.forEach((gt,bt)=>{if(bt!==0){st=this.getDistanceFromCenterForValue(gt.value);const Ut=this.getContext(bt),Ft=$.setContext(Ut),yt=et.setContext(Ut);drawRadiusLine(this,Ft,st,rt,yt)}}),_.display){for(o.save(),j=rt-1;j>=0;j--){const gt=_.setContext(this.getPointLabelContext(j)),{color:bt,lineWidth:Ut}=gt;!Ut||!bt||(o.lineWidth=Ut,o.strokeStyle=bt,o.setLineDash(gt.borderDash),o.lineDashOffset=gt.borderDashOffset,st=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),lt=this.getPointPosition(j,st),o.beginPath(),o.moveTo(this.xCenter,this.yCenter),o.lineTo(lt.x,lt.y),o.stroke())}o.restore()}}drawBorder(){}drawLabels(){const o=this.ctx,s=this.options,_=s.ticks;if(!_.display)return;const $=this.getIndexAngle(0);let et,rt;o.save(),o.translate(this.xCenter,this.yCenter),o.rotate($),o.textAlign="center",o.textBaseline="middle",this.ticks.forEach((j,st)=>{if(st===0&&!s.reverse)return;const lt=_.setContext(this.getContext(st)),gt=toFont(lt.font);if(et=this.getDistanceFromCenterForValue(this.ticks[st].value),lt.showLabelBackdrop){o.font=gt.string,rt=o.measureText(j.label).width,o.fillStyle=lt.backdropColor;const bt=toPadding(lt.backdropPadding);o.fillRect(-rt/2-bt.left,-et-gt.size/2-bt.top,rt+bt.width,gt.size+bt.height)}renderText(o,j.label,0,-et,gt,{color:lt.color})}),o.restore()}drawTitle(){}}Mo(RadialLinearScale,"id","radialLinear"),Mo(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(o){return o},padding:5,centerPointLabels:!1}}),Mo(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Mo(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(i,o){return i-o}function parse(i,o){if(isNullOrUndef(o))return null;const s=i._adapter,{parser:_,round:$,isoWeekday:et}=i._parseOpts;let rt=o;return typeof _=="function"&&(rt=_(rt)),isNumberFinite(rt)||(rt=typeof _=="string"?s.parse(rt,_):s.parse(rt)),rt===null?null:($&&(rt=$==="week"&&(isNumber(et)||et===!0)?s.startOf(rt,"isoWeek",et):s.startOf(rt,$)),+rt)}function determineUnitForAutoTicks(i,o,s,_){const $=UNITS.length;for(let et=UNITS.indexOf(i);et<$-1;++et){const rt=INTERVALS[UNITS[et]],j=rt.steps?rt.steps:Number.MAX_SAFE_INTEGER;if(rt.common&&Math.ceil((s-o)/(j*rt.size))<=_)return UNITS[et]}return UNITS[$-1]}function determineUnitForFormatting(i,o,s,_,$){for(let et=UNITS.length-1;et>=UNITS.indexOf(s);et--){const rt=UNITS[et];if(INTERVALS[rt].common&&i._adapter.diff($,_,rt)>=o-1)return rt}return UNITS[s?UNITS.indexOf(s):0]}function determineMajorUnit(i){for(let o=UNITS.indexOf(i)+1,s=UNITS.length;o<s;++o)if(INTERVALS[UNITS[o]].common)return UNITS[o]}function addTick(i,o,s){if(!s)i[o]=!0;else if(s.length){const{lo:_,hi:$}=_lookup(s,o),et=s[_]>=o?s[_]:s[$];i[et]=!0}}function setMajorTicks(i,o,s,_){const $=i._adapter,et=+$.startOf(o[0].value,_),rt=o[o.length-1].value;let j,st;for(j=et;j<=rt;j=+$.add(j,1,_))st=s[j],st>=0&&(o[st].major=!0);return o}function ticksFromTimestamps(i,o,s){const _=[],$={},et=o.length;let rt,j;for(rt=0;rt<et;++rt)j=o[rt],$[j]=rt,_.push({value:j,major:!1});return et===0||!s?_:setMajorTicks(i,_,$,s)}class TimeScale extends Scale{constructor(o){super(o),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(o,s={}){const _=o.time||(o.time={}),$=this._adapter=new adapters._date(o.adapters.date);$.init(s),mergeIf(_.displayFormats,$.formats()),this._parseOpts={parser:_.parser,round:_.round,isoWeekday:_.isoWeekday},super.init(o),this._normalized=s.normalized}parse(o,s){return o===void 0?null:parse(this,o)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const o=this.options,s=this._adapter,_=o.time.unit||"day";let{min:$,max:et,minDefined:rt,maxDefined:j}=this.getUserBounds();function st(lt){!rt&&!isNaN(lt.min)&&($=Math.min($,lt.min)),!j&&!isNaN(lt.max)&&(et=Math.max(et,lt.max))}(!rt||!j)&&(st(this._getLabelBounds()),(o.bounds!=="ticks"||o.ticks.source!=="labels")&&st(this.getMinMax(!1))),$=isNumberFinite($)&&!isNaN($)?$:+s.startOf(Date.now(),_),et=isNumberFinite(et)&&!isNaN(et)?et:+s.endOf(Date.now(),_)+1,this.min=Math.min($,et-1),this.max=Math.max($+1,et)}_getLabelBounds(){const o=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY;return o.length&&(s=o[0],_=o[o.length-1]),{min:s,max:_}}buildTicks(){const o=this.options,s=o.time,_=o.ticks,$=_.source==="labels"?this.getLabelTimestamps():this._generate();o.bounds==="ticks"&&$.length&&(this.min=this._userMin||$[0],this.max=this._userMax||$[$.length-1]);const et=this.min,rt=this.max,j=_filterBetween($,et,rt);return this._unit=s.unit||(_.autoSkip?determineUnitForAutoTicks(s.minUnit,this.min,this.max,this._getLabelCapacity(et)):determineUnitForFormatting(this,j.length,s.minUnit,this.min,this.max)),this._majorUnit=!_.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets($),o.reverse&&j.reverse(),ticksFromTimestamps(this,j,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(o=>+o.value))}initOffsets(o=[]){let s=0,_=0,$,et;this.options.offset&&o.length&&($=this.getDecimalForValue(o[0]),o.length===1?s=1-$:s=(this.getDecimalForValue(o[1])-$)/2,et=this.getDecimalForValue(o[o.length-1]),o.length===1?_=et:_=(et-this.getDecimalForValue(o[o.length-2]))/2);const rt=o.length<3?.5:.25;s=_limitValue(s,0,rt),_=_limitValue(_,0,rt),this._offsets={start:s,end:_,factor:1/(s+1+_)}}_generate(){const o=this._adapter,s=this.min,_=this.max,$=this.options,et=$.time,rt=et.unit||determineUnitForAutoTicks(et.minUnit,s,_,this._getLabelCapacity(s)),j=valueOrDefault($.ticks.stepSize,1),st=rt==="week"?et.isoWeekday:!1,lt=isNumber(st)||st===!0,gt={};let bt=s,Ut,Ft;if(lt&&(bt=+o.startOf(bt,"isoWeek",st)),bt=+o.startOf(bt,lt?"day":rt),o.diff(_,s,rt)>1e5*j)throw new Error(s+" and "+_+" are too far apart with stepSize of "+j+" "+rt);const yt=$.ticks.source==="data"&&this.getDataTimestamps();for(Ut=bt,Ft=0;Ut<_;Ut=+o.add(Ut,j,rt),Ft++)addTick(gt,Ut,yt);return(Ut===_||$.bounds==="ticks"||Ft===1)&&addTick(gt,Ut,yt),Object.keys(gt).sort((Qt,wt)=>Qt-wt).map(Qt=>+Qt)}getLabelForValue(o){const s=this._adapter,_=this.options.time;return _.tooltipFormat?s.format(o,_.tooltipFormat):s.format(o,_.displayFormats.datetime)}format(o,s){const $=this.options.time.displayFormats,et=this._unit,rt=s||$[et];return this._adapter.format(o,rt)}_tickFormatFunction(o,s,_,$){const et=this.options,rt=et.ticks.callback;if(rt)return callback(rt,[o,s,_],this);const j=et.time.displayFormats,st=this._unit,lt=this._majorUnit,gt=st&&j[st],bt=lt&&j[lt],Ut=_[s],Ft=lt&&bt&&Ut&&Ut.major;return this._adapter.format(o,$||(Ft?bt:gt))}generateTickLabels(o){let s,_,$;for(s=0,_=o.length;s<_;++s)$=o[s],$.label=this._tickFormatFunction($.value,s,o)}getDecimalForValue(o){return o===null?NaN:(o-this.min)/(this.max-this.min)}getPixelForValue(o){const s=this._offsets,_=this.getDecimalForValue(o);return this.getPixelForDecimal((s.start+_)*s.factor)}getValueForPixel(o){const s=this._offsets,_=this.getDecimalForPixel(o)/s.factor-s.end;return this.min+_*(this.max-this.min)}_getLabelSize(o){const s=this.options.ticks,_=this.ctx.measureText(o).width,$=toRadians(this.isHorizontal()?s.maxRotation:s.minRotation),et=Math.cos($),rt=Math.sin($),j=this._resolveTickFontOptions(0).size;return{w:_*et+j*rt,h:_*rt+j*et}}_getLabelCapacity(o){const s=this.options.time,_=s.displayFormats,$=_[s.unit]||_.millisecond,et=this._tickFormatFunction(o,0,ticksFromTimestamps(this,[o],this._majorUnit),$),rt=this._getLabelSize(et),j=Math.floor(this.isHorizontal()?this.width/rt.w:this.height/rt.h)-1;return j>0?j:1}getDataTimestamps(){let o=this._cache.data||[],s,_;if(o.length)return o;const $=this.getMatchingVisibleMetas();if(this._normalized&&$.length)return this._cache.data=$[0].controller.getAllParsedValues(this);for(s=0,_=$.length;s<_;++s)o=o.concat($[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(o)}getLabelTimestamps(){const o=this._cache.labels||[];let s,_;if(o.length)return o;const $=this.getLabels();for(s=0,_=$.length;s<_;++s)o.push(parse(this,$[s]));return this._cache.labels=this._normalized?o:this.normalize(o)}normalize(o){return _arrayUnique(o.sort(sorter))}}Mo(TimeScale,"id","time"),Mo(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(i,o,s){let _=0,$=i.length-1,et,rt,j,st;s?(o>=i[_].pos&&o<=i[$].pos&&({lo:_,hi:$}=_lookupByKey(i,"pos",o)),{pos:et,time:j}=i[_],{pos:rt,time:st}=i[$]):(o>=i[_].time&&o<=i[$].time&&({lo:_,hi:$}=_lookupByKey(i,"time",o)),{time:et,pos:j}=i[_],{time:rt,pos:st}=i[$]);const lt=rt-et;return lt?j+(st-j)*(o-et)/lt:j}class TimeSeriesScale extends TimeScale{constructor(o){super(o),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const o=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(o);this._minPos=interpolate(s,this.min),this._tableRange=interpolate(s,this.max)-this._minPos,super.initOffsets(o)}buildLookupTable(o){const{min:s,max:_}=this,$=[],et=[];let rt,j,st,lt,gt;for(rt=0,j=o.length;rt<j;++rt)lt=o[rt],lt>=s&&lt<=_&&$.push(lt);if($.length<2)return[{time:s,pos:0},{time:_,pos:1}];for(rt=0,j=$.length;rt<j;++rt)gt=$[rt+1],st=$[rt-1],lt=$[rt],Math.round((gt+st)/2)!==lt&&et.push({time:lt,pos:rt/(j-1)});return et}_getTimestampsForTable(){let o=this._cache.all||[];if(o.length)return o;const s=this.getDataTimestamps(),_=this.getLabelTimestamps();return s.length&&_.length?o=this.normalize(s.concat(_)):o=s.length?s:_,o=this._cache.all=o,o}getDecimalForValue(o){return(interpolate(this._table,o)-this._minPos)/this._tableRange}getValueForPixel(o){const s=this._offsets,_=this.getDecimalForPixel(o)/s.factor-s.end;return interpolate(this._table,_*this._tableRange+this._minPos,!0)}}Mo(TimeSeriesScale,"id","timeseries"),Mo(TimeSeriesScale,"defaults",TimeScale.defaults);var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];var __defProp=Object.defineProperty,__defNormalProp=(i,o,s)=>o in i?__defProp(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField=(i,o,s)=>(__defNormalProp(i,typeof o!="symbol"?o+"":o,s),s),__defProp2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp2=(i,o,s)=>o in i?__defProp2(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__spreadValues=(i,o)=>{for(var s in o||(o={}))__hasOwnProp.call(o,s)&&__defNormalProp2(i,s,o[s]);if(__getOwnPropSymbols)for(var s of __getOwnPropSymbols(o))__propIsEnum.call(o,s)&&__defNormalProp2(i,s,o[s]);return i},__spreadProps=(i,o)=>__defProps(i,__getOwnPropDescs(o)),__publicField2=(i,o,s)=>(__defNormalProp2(i,typeof o!="symbol"?o+"":o,s),s);const millisecond=1,second=1e3,minute=60*second,hour=60*minute,day=24*hour,week=7*day,month=30*day,year=365*day,duration={millisecond,second,minute,hour,day,week,month,year};class H264Decoder{constructor(o,s,_){__publicField2(this,"worker"),__publicField2(this,"onReceive"),__publicField2(this,"onError"),__publicField2(this,"onReceiveMessage",et=>{const{data:rt}=et;if(rt.error){const j=new Error(`${rt.error}`);j.cause=rt.error,console.warn("H264 worker failure",{error:j}),this.onError(rt.index);return}this.onReceive(rt)});var $;this.worker=o,($=this.worker)==null||$.addEventListener("message",this.onReceiveMessage),this.onReceive=s,this.onError=_}post(o,s,_,$){var et;(et=this.worker)==null||et.postMessage({timestamp:o,encodedFrame:s,flags:_,index:$})}release(){var o,s;(o=this.worker)==null||o.removeEventListener("message",this.onReceiveMessage),(s=this.worker)==null||s.terminate(),this.worker=void 0}}class YUVCanvas{constructor(o){__publicField2(this,"gl"),__publicField2(this,"program"),__publicField2(this,"texturePosBuffer"),__publicField2(this,"textureRef"),__publicField2(this,"height",0),__publicField2(this,"width",0),this.gl=o,this.program=this.initProgram();const{texturePosBuffer:s}=this.initBuffers();this.texturePosBuffer=s;const{textureRef:_}=this.initTextures();this.textureRef=_}draw(o){const{gl:s,height:_,width:$,texturePosBuffer:et,textureRef:rt}=this;s.viewport(0,0,$,_);const j=new Float32Array([1,0,0,0,1,1,0,1]);return s.bindBuffer(s.ARRAY_BUFFER,et),s.bufferData(s.ARRAY_BUFFER,j,s.DYNAMIC_DRAW),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,rt),s.texImage2D(s.TEXTURE_2D,0,s.LUMINANCE,$,_+_/2,0,s.LUMINANCE,s.UNSIGNED_BYTE,o),s.drawArrays(s.TRIANGLE_STRIP,0,4),s.getError()}initProgram(){const{gl:o}=this,s=`
            attribute vec4 vertexPos;
            attribute vec4 texturePos;
            varying vec2 textureCoord;

            void main() {
                gl_Position = vertexPos;
                textureCoord = texturePos.xy;
            }
        `,_=`
            precision highp float;
            varying highp vec2 textureCoord;
            uniform sampler2D yuvSampler;
            uniform mat4 YUV2RGB;

            void main(void) {
                highp vec2 yScale = vec2(1.0, 2.0 / 3.0);
                highp vec2 yTextureCoord = textureCoord * yScale;

                highp vec2 uScale = vec2(0.5, 0.5 / 3.0);
                highp vec2 uOffset = vec2(0.0, 2.0 / 3.0);
                highp vec2 uTextureCoord = (textureCoord * uScale) +  uOffset;

                highp vec2 vScale = vec2(0.5, 0.5 / 3.0);
                highp vec2 vOffset = vec2(0.0, 2.5 / 3.0);
                highp vec2 vTextureCoord = (textureCoord * vScale) +  vOffset;

                highp float y = texture2D(yuvSampler, yTextureCoord).r;
                highp float u = texture2D(yuvSampler, uTextureCoord).r;
                highp float v = texture2D(yuvSampler, vTextureCoord).r;

                gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;
            }
        `,$=[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1],et=o.createShader(o.VERTEX_SHADER);if(!et)throw new Error("Failed to create vertex shader");o.shaderSource(et,s),o.compileShader(et);const rt=o.createShader(o.FRAGMENT_SHADER);if(!rt)throw new Error("Failed to create fragment shader");o.shaderSource(rt,_),o.compileShader(rt);const j=o.createProgram();if(!j)throw new Error("Failed to create webgl program");o.attachShader(j,et),o.attachShader(j,rt),o.linkProgram(j),o.useProgram(j);const st=o.getUniformLocation(j,"YUV2RGB");return o.uniformMatrix4fv(st,!1,$),j}initBuffers(){const{gl:o,program:s}=this,_=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,_),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),o.STATIC_DRAW);const $=o.getAttribLocation(s,"vertexPos");o.enableVertexAttribArray($),o.vertexAttribPointer($,2,o.FLOAT,!1,0,0);const et=o.createBuffer();if(!et)throw new Error("Failed to create WebGL buffer");o.bindBuffer(o.ARRAY_BUFFER,et),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),o.STATIC_DRAW);const rt=o.getAttribLocation(s,"texturePos");return o.enableVertexAttribArray(rt),o.vertexAttribPointer(rt,2,o.FLOAT,!1,0,0),{texturePosBuffer:et}}initTextures(){const{gl:o,program:s}=this,_=this.initTexture(),$=o.getUniformLocation(s,"yuvSampler");return o.uniform1i($,0),{textureRef:_}}initTexture(){const{gl:o}=this,s=o.createTexture();if(!s)throw new Error("Failed to initialize texture");return o.bindTexture(o.TEXTURE_2D,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.bindTexture(o.TEXTURE_2D,null),s}}const decoderNotWorkingThreshold=duration.second*2.5,warnPerformanceThreshold=duration.second/3,noSignalThreshold=duration.second*2,maxQueueSize=5,maxDropRatio=30/25,numRetries=5,hardwareIncompatibleErrorCode=1282;class H264BytestreamCanvasDrawer{constructor(o,s,_,$,et){__publicField2(this,"_waitingForDecoder",!0),__publicField2(this,"_noSignal",!0),__publicField2(this,"_lostSignal",!1),__publicField2(this,"_overWaitingThreshold",!1),__publicField2(this,"_retries",0),__publicField2(this,"_webglYUVSupported"),__publicField2(this,"lastDecodedFrameTime"),__publicField2(this,"lastReceivedFrameTime"),__publicField2(this,"lastNoSignalTime",new Date().getTime()),__publicField2(this,"moduleStartTime",Date.now()),__publicField2(this,"moduleCreateTime",Date.now()),__publicField2(this,"timesRestarted",0),__publicField2(this,"canvas"),__publicField2(this,"decoder"),__publicField2(this,"yuvCanvas"),__publicField2(this,"webglContext"),__publicField2(this,"frameQueue",[]),__publicField2(this,"minFrameSize",1/0),__publicField2(this,"maxFrameSize",0),__publicField2(this,"decoderQueue",[]),__publicField2(this,"decoderQueueLocked",!1),__publicField2(this,"decodeNextFrameAttempted",!1),__publicField2(this,"numFramesDecoded",0),__publicField2(this,"numFramesReceived",0),__publicField2(this,"hasReceivedKeyframe",!1),__publicField2(this,"medianFrameSize",0),__publicField2(this,"currentFrameIndex"),__publicField2(this,"frameCheckpointMap",new Map),__publicField2(this,"lastDrawnFrameTime"),__publicField2(this,"minJitter"),__publicField2(this,"maxJitter"),__publicField2(this,"start",()=>{const{canvas:rt}=this;if(!rt)return;const j=rt.getContext("webgl");this.webglContext=j||void 0,this.lastDecodedFrameTime=void 0,this.lastReceivedFrameTime=void 0,this.hasReceivedKeyframe=!1,this.currentFrameIndex=void 0,!(!this.canvas||!this.webglContext)&&(this.yuvCanvas||(this.yuvCanvas=new YUVCanvas(this.webglContext)),this.moduleStartTime=Date.now())}),__publicField2(this,"stop",()=>{var rt;(rt=this.decoder)==null||rt.release(),this.webglContext=void 0,this.decoderQueueLocked=!1}),__publicField2(this,"reset",()=>{this.retries=0,this.restart()}),__publicField2(this,"notifyWarningTextChanged",()=>{var rt;(rt=this.onWarningTextChanged)==null||rt.call(this,this.getWarningText())}),__publicField2(this,"restart",()=>{console.info("Restarting decoder"),console.info("BytestreamPlayer restarting",__spreadProps(__spreadValues({},this.trackInfo),{Restart:this.timesRestarted})),this.frameQueue=[],this.decoderQueue=[],this.stop(),this.decoder=new H264Decoder(this.workerFactory(),this.onReceiveDecodedFrame,this.onDecoderError),this.start(),this.retries++,this.timesRestarted++}),__publicField2(this,"onTrackTick",()=>{if(this.numFramesDecoded===0){if(this.lastDecodedFrameTime===void 0){const gt=Date.now();console.info("BytestreamPlayer waiting for video",__spreadProps(__spreadValues({},this.trackInfo),{"Time Waited":gt-this.moduleCreateTime}))}return}this.numFramesReceived/this.numFramesDecoded>maxDropRatio&&this.warnPerformanceProblems(),this.numFramesReceived=0,this.numFramesDecoded=0;const j=Array.from(this.frameCheckpointMap.entries()).reduce((gt,[bt,Ut])=>{var Ft;return!this.currentFrameIndex||bt>this.currentFrameIndex-60||Ut==="FrameDrawn"||(gt[Ut]=((Ft=gt[Ut])!=null?Ft:0)+1,this.frameCheckpointMap.delete(bt)),gt},{});Object.keys(j).map(gt=>{console.info("BytestreamPlayer Frame Dropped",__spreadProps(__spreadValues({},this.trackInfo),{"Num Dropped":j[gt],"Frame State":gt}))});const{minJitter:st,maxJitter:lt}=this;st&&lt&&(console.info("BytestreamPlayer Jitter",__spreadProps(__spreadValues({},this.trackInfo),{minJitter:st,maxJitter:lt})),this.minJitter=void 0,this.maxJitter=void 0)}),__publicField2(this,"onTick",()=>{var rt;const{lastReceivedFrameTime:j,lastDecodedFrameTime:st,moduleStartTime:lt,noSignal:gt,retries:bt}=this,Ut=new Date().getTime();gt&&(this.lastNoSignalTime=Ut),this.overWaitingThreshold=Ut-lt>noSignalThreshold;const Ft=Ut-lt>decoderNotWorkingThreshold;if(!st){j&&Ft&&bt<numRetries&&(this.waitingForDecoder=!0,this.restart());return}if(j){const yt=Ut-j,Qt=Ut-st;Ut-this.lastNoSignalTime>noSignalThreshold&&yt<warnPerformanceThreshold&&Qt>warnPerformanceThreshold&&this.warnPerformanceProblems(),yt>noSignalThreshold&&(this.lostSignal=!0)}this.overWaitingThreshold&&(this.waitingForDecoder||this.noSignal||this.lostSignal)&&((rt=this.onCanvasDrawerWarning)==null||rt.call(this,"ShouldDisableControl"))}),__publicField2(this,"receiveEncodedFrame",rt=>{if(!rt)return;const j=rt.index;if(j&&this.frameCheckpointMap.set(j,"FrameReceived"),!(!rt||!this.canvas||!this.webglContext)){if(this.isKeyframe(rt),!this.hasReceivedKeyframe)return console.info("Dropping frame because no keyframe detected"),!1;this.lastReceivedFrameTime===void 0&&console.debug("Received first frame on bytestream player",__spreadValues({},this.trackInfo)),this.checkOrder(rt),this.numFramesReceived++,this.lastReceivedFrameTime=Date.now(),this.lostSignal&&this.restart(),this.noSignal=!1,this.lostSignal=!1,this.frameQueue.push(rt),j&&this.frameCheckpointMap.set(j,"FrameQueued"),this.frameQueue.length>maxQueueSize&&(this.frameQueue=this.frameQueue.filter(st=>this.isKeyframe(st))),this.frameQueue.length>maxQueueSize&&(this.frameQueue=[],this.decoderQueue=[]),this.decodeNextFrame()}}),__publicField2(this,"onDecoderError",rt=>{this.frameQueue=[],this.decoderQueue=[],this.hasReceivedKeyframe=!1,console.info("BytestreamPlayer decode error",__spreadProps(__spreadValues({},this.trackInfo),{"Frame Index":rt}))}),__publicField2(this,"onReceiveDecodedFrame",rt=>{var j,st;const{canvas:lt,yuvCanvas:gt,decoderQueue:bt}=this,{timestamp:Ut,yuv:Ft,height:yt,width:Qt,index:wt}=rt;this.frameCheckpointMap.set(wt,"FrameDecoded"),this.numFramesDecoded++;const Tt=Date.now();if(this.lastDecodedFrameTime===void 0&&console.info("BytestreamPlayer started video",__spreadProps(__spreadValues({},this.trackInfo),{"Time Until Video":Tt-this.moduleCreateTime})),this.lastDecodedFrameTime=Tt,this.waitingForDecoder=!1,this.decoderQueue=bt.filter(Nt=>Tt-Nt<duration.second*.5&&Nt!==Ut),!bt.includes(Ut)||Tt-Ut>duration.second||!gt||!lt||yt===0||Qt===0)return;yt!==lt.height&&(lt.height=yt,gt.height=yt),Qt!==lt.width&&(lt.width=Qt,gt.width=Qt);const Jt=gt.draw(Ft),At=Date.now();if(this.lastDrawnFrameTime){const Nt=At-this.lastDrawnFrameTime;this.minJitter=Math.min(Nt,(j=this.minJitter)!=null?j:Number.MAX_SAFE_INTEGER),this.maxJitter=Math.max(Nt,(st=this.maxJitter)!=null?st:0)}this.lastDrawnFrameTime=At,this.frameCheckpointMap.set(wt,"FrameDrawn"),Jt===0&&(this.webglYUVSupported=!0),Jt===hardwareIncompatibleErrorCode&&(this.webglYUVSupported=!1),this.frameQueue.length>0&&this.decodeNextFrame()}),this.workerFactory=o,this.onWebglYUVSupportedChanged=s,this.onWarningTextChanged=_,this.onCanvasDrawerWarning=$,this.trackInfo=et,this.decoder=new H264Decoder(this.workerFactory(),this.onReceiveDecodedFrame,this.onDecoderError),setInterval(this.onTick,duration.millisecond*200),setInterval(this.onTrackTick,duration.second*5)}get waitingForDecoder(){return this._waitingForDecoder}set waitingForDecoder(o){this._waitingForDecoder=o,this.notifyWarningTextChanged()}get noSignal(){return this._noSignal}set noSignal(o){this._noSignal=o,this.notifyWarningTextChanged()}get lostSignal(){return this._lostSignal}set lostSignal(o){this._lostSignal=o,this.notifyWarningTextChanged()}get overWaitingThreshold(){return this._overWaitingThreshold}set overWaitingThreshold(o){this._overWaitingThreshold=o,this.notifyWarningTextChanged()}get retries(){return this._retries}set retries(o){this._retries=o,this.notifyWarningTextChanged()}get webglYUVSupported(){return this._webglYUVSupported}set webglYUVSupported(o){var s;this._webglYUVSupported=o,(s=this.onWebglYUVSupportedChanged)==null||s.call(this,o),this.notifyWarningTextChanged()}setCanvas(o){this.canvas=o}getWarningText(){var o;const{waitingForDecoder:s,noSignal:_,overWaitingThreshold:$,lostSignal:et,retries:rt,webglYUVSupported:j}=this,st=j===!1,gt=s?rt===numRetries?"Decoder failed to start":"Starting decoder":void 0,bt=st?"Hardware decoding not supported on this device":void 0;return(o=bt??(et?"Lost signal":_?$?"No signal":"Waiting for signal":void 0))!=null?o:gt}decodeNextFrame(){if(this.decoderQueueLocked&&(this.decodeNextFrameAttempted=!0),this.decoderQueueLocked=!0,this.decoderQueue.length>maxQueueSize){this.decoderQueueLocked=!1,this.decodeNextFrameAttempted=!1;return}const o=this.frameQueue.shift();if(!o){this.decoderQueueLocked=!1,this.decodeNextFrameAttempted=!1;return}const s=Date.now();this.frameCheckpointMap.set(o.index,"FrameSentToDecoder"),this.decoder.post(s,o.frame_data,o.flags,o.index),this.decoderQueue.push(s),this.decoderQueueLocked=!1,this.decodeNextFrameAttempted&&(this.decodeNextFrameAttempted=!1,this.decodeNextFrame())}warnPerformanceProblems(){var o;this.lastDecodedFrameTime&&this.overWaitingThreshold&&!this.lostSignal&&!this.noSignal&&((o=this.onCanvasDrawerWarning)==null||o.call(this,"ShouldDegradeVideo"))}checkOrder(o){if(this.currentFrameIndex!==void 0&&o.index<this.currentFrameIndex){console.info("Out of order frame detected"),console.info("Frame out of order",__spreadValues({},this.trackInfo));return}this.currentFrameIndex=o.index}isKeyframe(o){const{maxFrameSize:s,minFrameSize:_}=this;if(o.flags===3)return this.hasReceivedKeyframe||(this.frameCheckpointMap=new Map),this.hasReceivedKeyframe=!0,!0;const $=o.frame_data.length;return this.maxFrameSize=Math.max($,s),this.minFrameSize=Math.min($,_),this.medianFrameSize=(this.maxFrameSize+this.minFrameSize)/2,this.moduleStartTime+duration.second*2>Date.now()?!1:$>this.medianFrameSize?(this.hasReceivedKeyframe=!0,!0):!1}}const encodedJs="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiOyhmdW5jdGlvbihTKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShTKTpTKCl9KShmdW5jdGlvbigpe2NvbnN0IEo9e21pbGxpc2Vjb25kOjEsc2Vjb25kOjFlMyxtaW51dGU6NmU0LGhvdXI6MzZlNSxkYXk6ODY0ZTUsd2Vlazo2MDQ4ZTUsbW9udGg6MjU5MmU2LHllYXI6MzE1MzZlNn07dmFyIHk9e30sRj17fSxhPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBHPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7ZnVuY3Rpb24gaChBKXtsZXQgST1BLmxlbmd0aDtBW0EubGVuZ3RoLTJdPT09Ij0iP0ktPTI6QVtBLmxlbmd0aC0xXT09PSI9IiYmSS0tO2NvbnN0IGc9SS80KjN8MCxCPW5ldyBVaW50OEFycmF5KGcpO2ZvcihsZXQgUT0wLEM9MDtRPGc7USs9Myl7Y29uc3QgRD1HLmluZGV4T2YoQVtDKytdKSxFPUcuaW5kZXhPZihBW0MrK10pO2lmKEJbUV09RDw8MnxFPj40LEM9PT1JKWJyZWFrO2NvbnN0IHc9Ry5pbmRleE9mKEFbQysrXXx8Ij0iKTtpZihCW1ErMV09KEUmMTUpPDw0fHc+PjIsQz09PUkpYnJlYWs7Y29uc3Qgbz1HLmluZGV4T2YoQVtDKytdfHwiPSIpO0JbUSsyXT0odyYzKTw8NnxvfXJldHVybiBCfWEuZGVjb2RlPWgsT2JqZWN0LmRlZmluZVByb3BlcnR5KEYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IEw9IkFHRnpiUUVBQUFBQmx3RVRZQUovZndGL1lBUi9mMzkvQVg5Z0FuOS9BR0FEZjM5L0FYOWdBWDhBWUFsL2YzOS9mMzkvZjM4QVlBRi9BWDlnQkg5L2YzOEFZQVovZjM5L2YzOEJmMkFJZjM5L2YzOS9mMzhBWUFOL2YzOEFZQVYvZjM5L2Z3Ri9ZQUFBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQ245L2YzOS9mMzkvZjM4QVlBQUJmMkFIZjM5L2YzOS9md0YvWUFoL2YzOS9mMzkvZndGL0FqQURCR2d5TmpRR2JXVnRZM0I1QUFNRWFESTJOQVp5WlhOcGVtVUFCZ1JvTWpZMEJtMWxiVzl5ZVFJQmdBS0FnQUlEWTJJQUFBUUFBUU1LQVFZQUJRTUZCZ2NBQndZQUF3NERCd2NGQWdBQ0F3UUFCUVVGQlFvRUFnUUpBUWNBQXdZR0FnSUJCZ1FEQWdJQkN3RUJBd01MRFFJQkFBQUNDUWtKRHdJRkJRQUJDZ0FTQ3hFSUNBY0lDQWNFQVFRSUNBWUJFQWdBQVFZSkFYOEJRYkRFd0FJTEJ5WUVCbTFoYkd4dll3QUtDV2d5TmpSaGJHeHZZd0JnQm1SbFkyOWtaUUJoQkdsdWFYUUFZZ3IycFFWaXdBSUJBbjhnQUJBUElnSkJmMHdFUUNBQVFRRVFDeG9nQVVFQU5nSUFRUUFQQ3dKQUFrQWdBa0dBZ0lDQUJFOEVRQ0FBUVFNUUMwRi9SZ1JBUVFFUEN5QUJJQUpCSFhaQkFYRkJBV28yQWdBTUFRc2dBa0dBZ0lDQUFrOEVRQ0FBUVFVUUMwRi9SZ1JBUVFFUEN5QUJJQUpCRzNaQkEzRkJBMm8yQWdBTUFRc2dBa0dBZ0lDQUFVOEVRQ0FBUVFjUUMwRi9SZ1JBUVFFUEN5QUJJQUpCR1haQkIzRkJCMm8yQWdBTUFRc2dBaEF2SWdOQkJHb2lBa0VnUmdSQUlBRkJBRFlDQUNBQVFTQVFDeHBCQVNFQ0lBQkJBUkFEUVFGSERRSWdBQkFQSVFNZ0FFRWdFQXRCZjBZTkFpQURRUUZMRFFJZ0EwRUJhd1JBSUFGQmZ6WUNBQXdDQ3lBQlFYODJBZ0JCQVE4TElBQWdBMEVGYWhBTEdpQUFJQUlRQXlJQVFYOUdCRUJCQVE4TElBRWdBRUYvSUFKMFFYOXphallDQUF0QkFDRUNDeUFDQzRnQ0FRZC9JQUFvQWdRaEJBSkFJQUFvQWd4QkEzUWlCeUFBS0FJUUlnaHJJZ0pCSUU0RVFDQUVLQUFBSWdOQkdIUWdBMEVJZEVHQWdQd0hjWElnQTBFSWRrR0EvZ054SUFOQkdIWnljaUVESUFBb0FnZ2lBa1VOQVNBRElBSjBJQVF0QUFSQkNDQUNhM1p5SVFNTUFRc2dBa0VCU0FSQURBRUxJQVF0QUFBZ0FDZ0NDQ0lGUVJocUlnWjBJUU1nQWlBRmFrRjRhaUlDUVFGSURRQURRQ0FFTFFBQklBWkJlR29pQm5RZ0EzSWhBeUFDUVFoS0lRVWdCRUVCYWlFRUlBSkJlR29oQWlBRkRRQUxDeUFBSUFFZ0NHb2lCRFlDRUNBQUlBUkJCM0UyQWdoQmZ5RUNJQVFnQjAwRWZ5QUFJQUFvQWdBZ0JFRURkbW8yQWdRZ0EwRWdJQUZyZGdWQmZ3c0xxZzBCQjM4Q1FDQUFSUTBBSUFCQmVHb2lBeUFBUVh4cUtBSUFJZ0ZCZUhFaUFHb2hCUUpBSUFGQkFYRU5BQ0FCUVFOeFJRMEJJQU1nQXlnQ0FDSUNheUlEUWNUQUFDZ0NBQ0lFU1EwQklBQWdBbW9oQUNBRFFjakFBQ2dDQUVjRVFDQUNRZjhCVFFSQUlBTW9BZ2dpQkNBQ1FRTjJJZ0pCQTNSQjNNQUFha2NhSUFRZ0F5Z0NEQ0lCUmdSQVFiVEFBRUcwd0FBb0FnQkJmaUFDZDNFMkFnQU1Bd3NnQkNBQk5nSU1JQUVnQkRZQ0NBd0NDeUFES0FJWUlRWUNRQ0FESUFNb0Fnd2lBVWNFUUNBRUlBTW9BZ2dpQWswRVFDQUNLQUlNR2dzZ0FpQUJOZ0lNSUFFZ0FqWUNDQXdCQ3dKQUlBTkJGR29pQWlnQ0FDSUVEUUFnQTBFUWFpSUNLQUlBSWdRTkFFRUFJUUVNQVFzRFFDQUNJUWNnQkNJQlFSUnFJZ0lvQWdBaUJBMEFJQUZCRUdvaEFpQUJLQUlRSWdRTkFBc2dCMEVBTmdJQUN5QUdSUTBCQWtBZ0F5QURLQUljSWdKQkFuUkI1TUlBYWlJRUtBSUFSZ1JBSUFRZ0FUWUNBQ0FCRFFGQnVNQUFRYmpBQUNnQ0FFRitJQUozY1RZQ0FBd0RDeUFHUVJCQkZDQUdLQUlRSUFOR0cyb2dBVFlDQUNBQlJRMENDeUFCSUFZMkFoZ2dBeWdDRUNJQ0JFQWdBU0FDTmdJUUlBSWdBVFlDR0FzZ0F5Z0NGQ0lDUlEwQklBRWdBallDRkNBQ0lBRTJBaGdNQVFzZ0JTZ0NCQ0lCUVFOeFFRTkhEUUJCdk1BQUlBQTJBZ0FnQlNBQlFYNXhOZ0lFSUFNZ0FFRUJjallDQkNBQUlBTnFJQUEyQWdBUEN5QUZJQU5ORFFBZ0JTZ0NCQ0lCUVFGeFJRMEFBa0FnQVVFQ2NVVUVRQ0FGUWN6QUFDZ0NBRVlFUUVITXdBQWdBellDQUVIQXdBQkJ3TUFBS0FJQUlBQnFJZ0EyQWdBZ0F5QUFRUUZ5TmdJRUlBTkJ5TUFBS0FJQVJ3MERRYnpBQUVFQU5nSUFRY2pBQUVFQU5nSUFEd3NnQlVISXdBQW9BZ0JHQkVCQnlNQUFJQU0yQWdCQnZNQUFRYnpBQUNnQ0FDQUFhaUlBTmdJQUlBTWdBRUVCY2pZQ0JDQUFJQU5xSUFBMkFnQVBDeUFCUVhoeElBQnFJUUFDUUNBQlFmOEJUUVJBSUFVb0Fnd2hBaUFGS0FJSUlnUWdBVUVEZGlJQlFRTjBRZHpBQUdvaUIwY0VRRUhFd0FBb0FnQWFDeUFDSUFSR0JFQkJ0TUFBUWJUQUFDZ0NBRUYrSUFGM2NUWUNBQXdDQ3lBQ0lBZEhCRUJCeE1BQUtBSUFHZ3NnQkNBQ05nSU1JQUlnQkRZQ0NBd0JDeUFGS0FJWUlRWUNRQ0FGSUFVb0Fnd2lBVWNFUUVIRXdBQW9BZ0FnQlNnQ0NDSUNUUVJBSUFJb0Fnd2FDeUFDSUFFMkFnd2dBU0FDTmdJSURBRUxBa0FnQlVFVWFpSUNLQUlBSWdRTkFDQUZRUkJxSWdJb0FnQWlCQTBBUVFBaEFRd0JDd05BSUFJaEJ5QUVJZ0ZCRkdvaUFpZ0NBQ0lFRFFBZ0FVRVFhaUVDSUFFb0FoQWlCQTBBQ3lBSFFRQTJBZ0FMSUFaRkRRQUNRQ0FGSUFVb0Fod2lBa0VDZEVIa3dnQnFJZ1FvQWdCR0JFQWdCQ0FCTmdJQUlBRU5BVUc0d0FCQnVNQUFLQUlBUVg0Z0FuZHhOZ0lBREFJTElBWkJFRUVVSUFZb0FoQWdCVVliYWlBQk5nSUFJQUZGRFFFTElBRWdCallDR0NBRktBSVFJZ0lFUUNBQklBSTJBaEFnQWlBQk5nSVlDeUFGS0FJVUlnSkZEUUFnQVNBQ05nSVVJQUlnQVRZQ0dBc2dBeUFBUVFGeU5nSUVJQUFnQTJvZ0FEWUNBQ0FEUWNqQUFDZ0NBRWNOQVVHOHdBQWdBRFlDQUE4TElBVWdBVUYrY1RZQ0JDQURJQUJCQVhJMkFnUWdBQ0FEYWlBQU5nSUFDeUFBUWY4QlRRUkFJQUJCQTNZaUFVRURkRUhjd0FCcUlRQUNmMEcwd0FBb0FnQWlBa0VCSUFGMElnRnhSUVJBUWJUQUFDQUJJQUp5TmdJQUlBQU1BUXNnQUNnQ0NBc2hBaUFBSUFNMkFnZ2dBaUFETmdJTUlBTWdBRFlDRENBRElBSTJBZ2dQQ3lBRFFnQTNBaEFnQXdKL1FRQWdBRUVJZGlJQlJRMEFHa0VmSUFCQi8vLy9CMHNOQUJvZ0FTQUJRWUQrUDJwQkVIWkJDSEVpQVhRaUFpQUNRWURnSDJwQkVIWkJCSEVpQW5RaUJDQUVRWUNBRDJwQkVIWkJBbkVpQkhSQkQzWWdBU0FDY2lBRWNtc2lBVUVCZENBQUlBRkJGV3AyUVFGeGNrRWNhZ3NpQWpZQ0hDQUNRUUowUWVUQ0FHb2hBUUpBQWtBQ1FFRzR3QUFvQWdBaUJFRUJJQUowSWdkeFJRUkFRYmpBQUNBRUlBZHlOZ0lBSUFFZ0F6WUNBQ0FESUFFMkFoZ01BUXNnQUVFQVFSa2dBa0VCZG1zZ0FrRWZSaHQwSVFJZ0FTZ0NBQ0VCQTBBZ0FTSUVLQUlFUVhoeElBQkdEUUlnQWtFZGRpRUJJQUpCQVhRaEFpQUVJQUZCQkhGcUlnZEJFR29vQWdBaUFRMEFDeUFISUFNMkFoQWdBeUFFTmdJWUN5QURJQU0yQWd3Z0F5QUROZ0lJREFFTElBUW9BZ2dpQUNBRE5nSU1JQVFnQXpZQ0NDQURRUUEyQWhnZ0F5QUVOZ0lNSUFNZ0FEWUNDQXRCMU1BQVFkVEFBQ2dDQUVGL2FpSUFOZ0lBSUFBTkFFSDh3d0FoQXdOQUlBTW9BZ0FpQUVFSWFpRURJQUFOQUF0QjFNQUFRWDgyQWdBTEMzUUJBbjhqQUVFUWF5SUNKQUFnQWtFQU5nSU1JQUFnQWtFTWFoQUNJUUFDZnlBQ0tBSU1JZ05CZjBZRVFFRUJJQUJGRFFFYUlBRkJnSUNBZ0hnMkFnQkJBQXdCQzBFQklBQU5BQm9nQVNBRFFRRnFRUUYySWdGQkFDQUJheUFEUVFGeEd6WUNBRUVBQ3lFQUlBSkJFR29rQUNBQUM4Y0xBUlIvSUFGQm9EMXFMUUFBUVF4c0lnWkIxRHhxS0FJQUlRVWdCa0hRUEdvb0FnQWdBVUdRUEdvdEFBQWlCM1FoQkNBQ1JRUkFJQUFnQUNnQ0FDQUViRFlDQUFzZ0JTQUhkQ0VCQWtBQ1FDQURRWnovQTNFRVFDQUFJQVpCMkR4cUtBSUFJQWQwSWdNZ0FDZ0NQR3cyQWp3Z0FDQUFLQUk0SUFGc05nSTRRUUVoQWlBQUlBQW9BaXdnQkd3aUJ5QUFLQUlNSUFSc0lnVnFJZ2tnQUNnQ0lDQUJiQ0lLSUFBb0FqUWdBV3dpRDBFQmRXb2lFR3NpQmpZQ0xDQUFLQUlvSVFnZ0FDQUZJQWRySWdVZ0NrRUJkU0FQYXlJS2F5SUhOZ0lvSUFBb0FpUWhEaUFBSUFVZ0Ntb2lCVFlDSkNBQUlBQW9BaHdnQVd3aUR5QUFLQUlJSUFGc0lndHFJaE1nQUNnQ0VDQURiQ0lSSUFBb0FqQWdBMndpREVFQmRXb2lGV3NpQ2pZQ0hDQUFLQUlZSVEwZ0FDQUxJQTlySWdzZ0VVRUJkU0FNYXlJUmF5SVBOZ0lZSUFBb0FoUWhEQ0FBSUFzZ0VXb2lDellDRkNBQUlBUWdER3dpQkNBQUtBSUFJZ3hxSWhRZ0FDZ0NCQ0FCYkNJU0lBRWdEV3dpRFVFQmRXb2lGbXNpRVRZQ0RDQUFJQXdnQkdzaUJDQVNRUUYxSUExcklnMXJJZ3cyQWdnZ0FDQUVJQTFxSWcwMkFnUWdBQ0FCSUE1c0lnUWdBQ2dDT0NJT2F5SVNJQU1nQ0d3aUNFRUJkU0FBS0FJOEloZHJJZ05ySWdFMkFqZ2dBQ0FESUJKcUlnTTJBalFnQUNBRUlBNXFJZzRnRjBFQmRTQUlhaUlJYXlJRU5nSThJQUFnRkNBV2FpSVVJQWtnRUdvaUVHdEJJR29pRWlBSUlBNXFJZ2tnRXlBVmFpSUlRUUYxSWc1cmFrRUdkU0lUTmdJZ0lBQWdFaUFPSUFscmFrRUdkU0lPTmdJUUlBQWdFQ0FVYWtFZ2FpSVFJQWxCQVhVZ0NHb2lDV3RCQm5VaUNEWUNNQ0FBSUFrZ0VHcEJCblVpQ1RZQ0FDQUpRWUFFYWlBT1FZQUVhbkpCL3dkTERRSWdDRUdBQkdvZ0UwR0FCR3B5UWY4SFN3MENJQUFnQlNBTmFrRWdhaUlKSUFOQkFYVWdDMm9pRUd0QkJuVWlDRFlDTkNBQUlBMGdCV3RCSUdvaUJTQURJQXRCQVhVaUMydHFRUVoxSWcwMkFpUWdBQ0FGSUFzZ0EydHFRUVoxSWdNMkFoUWdBQ0FKSUJCcVFRWjFJZ1UyQWdRZ0JVR0FCR29nQTBHQUJHcHlRZjhIU3cwQ0lBaEJnQVJxSUExQmdBUnFja0gvQjBzTkFpQUFJQWNnREdwQklHb2lBeUFCUVFGMUlBOXFJZ1ZyUVFaMUlnczJBamdnQUNBTUlBZHJRU0JxSWdjZ0FTQVBRUUYxSWc5cmFrRUdkU0lNTmdJb0lBQWdCeUFQSUFGcmFrRUdkU0lCTmdJWUlBQWdBeUFGYWtFR2RTSUROZ0lJSUFOQmdBUnFJQUZCZ0FScWNrSC9CMHNOQWlBTFFZQUVhaUFNUVlBRWFuSkIvd2RMRFFJZ0FDQUdJQkZxUVNCcUlnRWdCRUVCZFNBS2FpSURhMEVHZFNJSE5nSThJQUFnRVNBR2EwRWdhaUlHSUFRZ0NrRUJkU0lGYTJwQkJuVWlDallDTENBQUlBWWdCU0FFYTJwQkJuVWlCRFlDSENBQUlBRWdBMnBCQm5VaUFEWUNEQ0FBUVlBRWFpQUVRWUFFYW5KQi93ZExEUUlnQjBHQUJHb2dDa0dBQkdweVFmOEhUUTBCREFJTElBTkI0Z0J4UlFSQVFRRWhBaUFBS0FJQVFTQnFRUVoxSWdGQmdBUnFRZjhIU3cwQ0lBQWdBVFlDT0NBQUlBRTJBandnQUNBQk5nSTBJQUFnQVRZQ01DQUFJQUUyQWl3Z0FDQUJOZ0lvSUFBZ0FUWUNKQ0FBSUFFMkFpQWdBQ0FCTmdJY0lBQWdBVFlDR0NBQUlBRTJBaFFnQUNBQk5nSVFJQUFnQVRZQ0RDQUFJQUUyQWdnZ0FDQUJOZ0lFSUFBZ0FUWUNBQXdCQzBFQklRSWdBQ0FBS0FJRUlBRnNJZ2NnQUNnQ0dDQUJiQ0lHUVFGMWFpSURJQUFvQWdBaUJTQUFLQUlVSUFSc0lnUnFJZ3BxUVNCcVFRWjFJZ0UyQWpBZ0FDQUtJQU5yUVNCcVFRWjFJZ00yQWd3Z0FDQUZJQVJySWdVZ0JpQUhRUUYxSWdkcmFrRWdha0VHZFNJRU5nSUlJQUFnQnlBR2F5QUZha0VnYWtFR2RTSUdOZ0lFSUFBZ0FUWUNBQ0FBSUFFMkFpQWdBQ0FHTmdJMElBQWdBVFlDRUNBQUlBWTJBaVFnQUNBRU5nSTRJQUFnQmpZQ0ZDQUFJQVEyQWlnZ0FDQUROZ0k4SUFBZ0JEWUNHQ0FBSUFNMkFpd2dBQ0FETmdJY0lBTkJnQVJxSUFGQmdBUnFJQVJCZ0FScUlBWkJnQVJxY25KeVFmOEhTdzBCQzBFQUlRSUxJQUlMOHdJQ0FuOEJmZ0pBSUFKRkRRQWdBQ0FDYWlJRFFYOXFJQUU2QUFBZ0FDQUJPZ0FBSUFKQkEwa05BQ0FEUVg1cUlBRTZBQUFnQUNBQk9nQUJJQU5CZldvZ0FUb0FBQ0FBSUFFNkFBSWdBa0VIU1EwQUlBTkJmR29nQVRvQUFDQUFJQUU2QUFNZ0FrRUpTUTBBSUFCQkFDQUFhMEVEY1NJRWFpSURJQUZCL3dGeFFZR0NoQWhzSWdFMkFnQWdBeUFDSUFSclFYeHhJZ1JxSWdKQmZHb2dBVFlDQUNBRVFRbEpEUUFnQXlBQk5nSUlJQU1nQVRZQ0JDQUNRWGhxSUFFMkFnQWdBa0YwYWlBQk5nSUFJQVJCR1VrTkFDQURJQUUyQWhnZ0F5QUJOZ0lVSUFNZ0FUWUNFQ0FESUFFMkFnd2dBa0Z3YWlBQk5nSUFJQUpCYkdvZ0FUWUNBQ0FDUVdocUlBRTJBZ0FnQWtGa2FpQUJOZ0lBSUFRZ0EwRUVjVUVZY2lJRWF5SUNRU0JKRFFBZ0FhMGlCVUlnaGlBRmhDRUZJQU1nQkdvaEFRTkFJQUVnQlRjREdDQUJJQVUzQXhBZ0FTQUZOd01JSUFFZ0JUY0RBQ0FCUVNCcUlRRWdBa0ZnYWlJQ1FSOUxEUUFMQ3lBQUMvSURBUU4vSUFFb0FnQWlBMEgvLy84SFJ3UkFJQUVvQWdRaEJDQUFJQUlnQWtFRGNTQUNRUkJKSWdJYlFRSjBJZ1ZCOENscUtBSUFRUkJCQ0NBQ0d5SUNiR29nQlVHd0tXb29BZ0JxSWdBZ0F5QUFMUUFBYWtHd0xtb3RBQUE2QUFBZ0FTZ0NDQ0VESUFBZ0JDQUFMUUFCYWtHd0xtb3RBQUE2QUFFZ0FTZ0NEQ0VFSUFBZ0F5QUFMUUFDYWtHd0xtb3RBQUE2QUFJZ0FDQUVJQUF0QUFOcVFiQXVhaTBBQURvQUF5QUJLQUlVSVFNZ0FDQUNhaUlBSUFFb0FoQWdBQzBBQUdwQnNDNXFMUUFBT2dBQUlBRW9BaGdoQkNBQUlBTWdBQzBBQVdwQnNDNXFMUUFBT2dBQklBRW9BaHdoQXlBQUlBUWdBQzBBQW1wQnNDNXFMUUFBT2dBQ0lBQWdBeUFBTFFBRGFrR3dMbW90QUFBNkFBTWdBU2dDSkNFRElBQWdBbW9pQUNBQktBSWdJQUF0QUFCcVFiQXVhaTBBQURvQUFDQUJLQUlvSVFRZ0FDQURJQUF0QUFGcVFiQXVhaTBBQURvQUFTQUJLQUlzSVFNZ0FDQUVJQUF0QUFKcVFiQXVhaTBBQURvQUFpQUFJQU1nQUMwQUEycEJzQzVxTFFBQU9nQURJQUVvQWpRaEF5QUFJQUpxSWdBZ0FTZ0NNQ0FBTFFBQWFrR3dMbW90QUFBNkFBQWdBU2dDT0NFQ0lBQWdBeUFBTFFBQmFrR3dMbW90QUFBNkFBRWdBU2dDUENFQklBQWdBaUFBTFFBQ2FrR3dMbW90QUFBNkFBSWdBQ0FCSUFBdEFBTnFRYkF1YWkwQUFEb0FBd3NMMHhBQkRIOGpBRUdBQVdzaUNpUUFJQUFRRHlFRVFRRWhCUUpBQWtBQ2Z5QUNRUUZOQkVBZ0JFRUFTQTBDSUFSQkdYWkIvZ0J4UVlBSWFpQUVRWUNBZ09BQVR3MEJHaUFFUVJWMlFmNFBjVUhBQ0dvZ0JFR0FnSUFJVHcwQkdpQUVRUkYyUWY3L0FYRkJrQWxxSUFSQmdJQ0FBVThOQVJvZ0JFRVFka0VCZEVHUUNtb01BUXNnQWtFRFRRUkFJQVJCZjB3RVFFRUNRYUlRSUFSQmdJQ0FnQVJ4R3lFRkRBTUxJQVJCR1haQi9nQnhRZEFLYWlBRVFZQ0FnSUFCVHcwQkdpQUVRUloyUWY0SGNVR1FDMm9nQkVHQWdJQVFUdzBCR2lBRVFSRjJRZjcvQVhGQjBBdHFEQUVMSUFKQkIwMEVRQ0FFUVJwMklnSkJlR3BCT0VrRVFDQUNRUUYwUWRBTmFnd0NDeUFFUVJWMlFmNFBjVUhRRG1vTUFRc2dCRUVaZGtIK0FIRkIwQkJxSUFKQkVFME5BQm9nQkVFZGRpSUNCRUFnQWtFQmRFSFFFV29NQVFzZ0JFRVhka0grQTNGQjRCRnFDeThCQUNJRkRRQkJBU0VMREFFTFFRRWhDeUFGUVF0Mklna2dBMHNOQUVFZ0lBVkJIM0VpQm1zaEFnSkFJQWxGQkVBTUFRc2dCQ0FHZENFRUFrQWdCVUVGZGtFL2NTSU1SUVJBREFFTElBSWdERWtFUUNBQUlBWVFDMEYvUmcwRElBQVFEeUVFUVNBaEFnc2dCQ0FNZENFR1FRRWdERUYvYW5RaEJ5QUVRU0FnREd0MklRUURRQ0FLUVVCcklBaEJBblJxUVg5QkFTQUVJQWR4R3pZQ0FDQUlRUUZxSVFnZ0IwRUJkaUlIRFFBTElBSWdER3NoQWlBR0lRUUxJQWdnQ1VrRVFDQU1RUU5KSWc4Z0JVSC9yd0ZMY1NFRkEwQWdBa0VQVFFSQUlBQkJJQ0FDYXhBTFFYOUdCRUFNQlFzZ0FCQVBJUVJCSUNFQ0MwRUFJUVlDUUFKQUFuOENRQ0FFUVFCSURRQkJBU0VHSUFSQi8vLy8vd05MRFFCQkFpRUdJQVJCLy8vLy93RkxEUUJCQXlFR0lBUkIvLy8vL3dCTERRQkJCQ0VHSUFSQi8vLy9QMHNOQUVFRklRWWdCRUgvLy84ZlN3MEFRUVloQmlBRVFmLy8vdzlMRFFCQkJ5RUdJQVJCLy8vL0Iwc05BRUVJSVFZZ0JFSC8vLzhEU3cwQVFRa2hCaUFFUWYvLy93RkxEUUJCQ2lFR0lBUkIvLy8vQUVzTkFFRUxJUVlnQkVILy96OUxEUUJCRENFR0lBUkIvLzhmU3cwQVFRMGhCaUFFUWYvL0Qwc05BQUovQWtBZ0JFSC8vd2ROQkVBZ0JFR0FnSHh4UVlDQUJFWU5BUXdLQ3lBRlFRUWdCUnNoQmlBRVFROTBJUVJCRGlFSElBSkJjV29NQVFzZ0JVRUJJQVViSVFVZ0JFRVFkQ0VFUVF3aEJrRVBJUWNnQWtGd2Fnc2hBaUFISUFWMElRY2dCVVVNQVFzZ0JpQUZkQ0VIUVFFaERpQUNJQVpCQVdvaUJtc2hBaUFFSUFaMElRUWdCVVVOQVNBRklRWkJBQXNoRGlBQ0lBWlBCSDhnQkFVZ0FFRWdJQUpyRUF0QmYwWUVRQXdIQzBFZ0lRSWdBQkFQQ3lFTklBSWdCbXNoQWlBTklBWjBJUVFnRFVFZ0lBWnJkaUFIYWlFSERBRUxRUUFoQlFzZ0NrRkFheUFJUVFKMGFrRUFJQWRCQW1vZ0J5QUlJQXhHR3lBSElBOGJJZzFCQW1wQkFYWWlCbXNnQmlBTlFRRnhHellDQUVFQklBVWdEaHNpQlNBRlFRWkpJQVpCQXlBRlFYOXFkRXB4YWlFRklBaEJBV29pQ0NBSlJ3MEFDd3RCQUNFSEFrQWdDU0FEVHdSQVFRQWhDQXdCQ3dKQUlBSkJDRXNFUUNBQ0lRVU1BUXRCSUNFRklBQkJJQ0FDYXhBTFFYOUdEUU1nQUJBUElRUUxBa0FDUUFKL0FrQWdBMEVFUndSQUlBbEJmMm9pQWtFTlN3MERBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQWdBa0VCYXc0TkFBRUNBd1FGQmdjSUNRb0xEQTRMSUFSQkduWkI0QkpxREE0TElBUkJHblpCb0JOcURBMExJQVJCRzNaQjRCTnFEQXdMSUFSQkczWkJnQlJxREFzTElBUkJHblpCb0JScURBb0xJQVJCR25aQjRCUnFEQWtMSUFSQkduWkJvQlZxREFnTElBUkJHblpCNEJWcURBY0xJQVJCRzNaQm9CWnFEQVlMSUFSQkhIWkJ3QlpxREFVTElBUkJISFpCMEJacURBUUxJQVJCSFhaQjRCWnFEQU1MSUFSQkhuWkI2QlpxREFJTElBUkJBRWdFUUVFQklRSU1CQXRCRVNFQ0lBbEJBMFlOQTBFU0lRSWdCRUgvLy8vL0Ewc05BMEVpSVFJZ0NVRUNSZzBEUVNOQk15QUVRZi8vLy84QlN4c2hBZ3dEQ3lBRVFSdDJRYUFTYWlBRVFSZDJRY0FTYWlBRVFmLy8vLzhBU3hzTExRQUFJZ0lOQVF3RUMwRVJRUUVnQkVFQVNCc2hBZ3NnQWtFRWRpRUlJQVVnQWtFUGNTSURheUVDSUFRZ0EzUWhCQXNnQ1VGL2FpSURCRUFEUUFKL0lBZ0VRQ0FDUVFwTkJFQWdBRUVnSUFKckVBdEJmMFlFUUF3SEN5QUFFQThoQkVFZ0lRSUxBa0FDZndKQUlBaEJmMm9pQlVFRlRRUkFBa0FDUUFKQUFrQUNRQ0FGUVFGckRnVUFBUUlEQkFZTElBUkJIblpCN2hacURBWUxJQVJCSG5aQjhoWnFEQVVMSUFSQkhYWkI5aFpxREFRTElBUkJIWFpCL2hacURBTUxJQVJCSFhaQmhoZHFEQUlMQW45Qjh3QWdCRUVaZGtId0FIRnJJQVJCZ0lDQWdBSlBEUUFhUWZRQUlBUkIvLy8vL3dCTERRQWFRWVVCSUFSQi8vLy9QMHNOQUJwQmxnRWdCRUgvLy84ZlN3MEFHa0duQVNBRVFmLy8vdzlMRFFBYVFiZ0JJQVJCLy8vL0Iwc05BQnBCeVFFZ0JFSC8vLzhEU3cwQUdrSGFBU0FFUWYvLy93RkxEUUFhUVFCQjZ3RWdCRUdBZ0lBQlNSc0xJZ1ZCQkhZZ0NFME5BZ3dJQ3lBRVFSOTJRZXdXYWdzdEFBQWhCUXNnQlVVRVFBd0dDeUFLSUFkQkFuUnFJQVZCQkhZaUJrRUJhallDQUNBQ0lBVkJEM0VpQldzaEFpQUVJQVYwSVFRZ0NDQUdhd3dCQ3lBS0lBZEJBblJxUVFFMkFnQkJBQXNoQ0NBSFFRRnFJZ2NnQTBjTkFBc2dBU0FJUVFKMGFpQUtRVUJySUFOQkFuUnFLQUlBTmdJQUlBbEJmbW9oQlVFQklBaDBJUWNEUUNBQklBb2dCU0lEUVFKMElnVnFLQUlBSUFocUlnaEJBblJxSUFwQlFHc2dCV29vQWdBMkFnQWdBMEYvYWlFRlFRRWdDSFFnQjNJaEJ5QUREUUFMREFFTElBRWdDRUVDZEdvZ0NrRkFheUFEUVFKMGFpZ0NBRFlDQUVFQklBaDBJUWNMSUFCQklDQUNheEFMRFFBZ0IwRVFkQ0FKUVFSMGNpRUxDeUFLUVlBQmFpUUFJQXNMelM0QkMzOGpBRUVRYXlJTEpBQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFCQjlBRk5CRUJCdE1BQUtBSUFJZ1pCRUNBQVFRdHFRWGh4SUFCQkMwa2JJZ1ZCQTNZaUFIWWlBVUVEY1FSQUlBRkJmM05CQVhFZ0FHb2lBa0VEZENJRVFlVEFBR29vQWdBaUFVRUlhaUVBQWtBZ0FTZ0NDQ0lESUFSQjNNQUFhaUlFUmdSQVFiVEFBQ0FHUVg0Z0FuZHhOZ0lBREFFTFFjVEFBQ2dDQUJvZ0F5QUVOZ0lNSUFRZ0F6WUNDQXNnQVNBQ1FRTjBJZ0pCQTNJMkFnUWdBU0FDYWlJQklBRW9BZ1JCQVhJMkFnUU1EQXNnQlVHOHdBQW9BZ0FpQ0UwTkFTQUJCRUFDUUVFQ0lBQjBJZ0pCQUNBQ2EzSWdBU0FBZEhFaUFFRUFJQUJyY1VGL2FpSUFJQUJCREhaQkVIRWlBSFlpQVVFRmRrRUljU0lDSUFCeUlBRWdBbllpQUVFQ2RrRUVjU0lCY2lBQUlBRjJJZ0JCQVhaQkFuRWlBWElnQUNBQmRpSUFRUUYyUVFGeElnRnlJQUFnQVhacUlnSkJBM1FpQTBIa3dBQnFLQUlBSWdFb0FnZ2lBQ0FEUWR6QUFHb2lBMFlFUUVHMHdBQWdCa0YrSUFKM2NTSUdOZ0lBREFFTFFjVEFBQ2dDQUJvZ0FDQUROZ0lNSUFNZ0FEWUNDQXNnQVVFSWFpRUFJQUVnQlVFRGNqWUNCQ0FCSUFWcUlnY2dBa0VEZENJQ0lBVnJJZ05CQVhJMkFnUWdBU0FDYWlBRE5nSUFJQWdFUUNBSVFRTjJJZ1JCQTNSQjNNQUFhaUVCUWNqQUFDZ0NBQ0VDQW44Z0JrRUJJQVIwSWdSeFJRUkFRYlRBQUNBRUlBWnlOZ0lBSUFFTUFRc2dBU2dDQ0FzaEJDQUJJQUkyQWdnZ0JDQUNOZ0lNSUFJZ0FUWUNEQ0FDSUFRMkFnZ0xRY2pBQUNBSE5nSUFRYnpBQUNBRE5nSUFEQXdMUWJqQUFDZ0NBQ0lLUlEwQklBcEJBQ0FLYTNGQmYyb2lBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQWlBQWNpQUJJQUoySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhrd2dCcUtBSUFJZ0VvQWdSQmVIRWdCV3NoQXlBQklRSURRQUpBSUFJb0FoQWlBRVVFUUNBQ0tBSVVJZ0JGRFFFTElBQW9BZ1JCZUhFZ0JXc2lBaUFESUFJZ0Ewa2lBaHNoQXlBQUlBRWdBaHNoQVNBQUlRSU1BUXNMSUFFb0FoZ2hDU0FCSUFFb0Fnd2lCRWNFUUVIRXdBQW9BZ0FnQVNnQ0NDSUFUUVJBSUFBb0Fnd2FDeUFBSUFRMkFnd2dCQ0FBTmdJSURBc0xJQUZCRkdvaUFpZ0NBQ0lBUlFSQUlBRW9BaEFpQUVVTkF5QUJRUkJxSVFJTEEwQWdBaUVISUFBaUJFRVVhaUlDS0FJQUlnQU5BQ0FFUVJCcUlRSWdCQ2dDRUNJQURRQUxJQWRCQURZQ0FBd0tDMEYvSVFVZ0FFRy9mMHNOQUNBQVFRdHFJZ0JCZUhFaEJVRzR3QUFvQWdBaUIwVU5BRUVBSUFWcklRSUNRQUpBQWtBQ2YwRUFJQUJCQ0hZaUFFVU5BQnBCSHlBRlFmLy8vd2RMRFFBYUlBQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnTWdBMEdBZ0E5cVFSQjJRUUp4SWdOMFFROTJJQUFnQVhJZ0EzSnJJZ0JCQVhRZ0JTQUFRUlZxZGtFQmNYSkJIR29MSWdoQkFuUkI1TUlBYWlnQ0FDSURSUVJBUVFBaEFBd0JDeUFGUVFCQkdTQUlRUUYyYXlBSVFSOUdHM1FoQVVFQUlRQURRQUpBSUFNb0FnUkJlSEVnQldzaUJpQUNUdzBBSUFNaEJDQUdJZ0lOQUVFQUlRSWdBeUVBREFNTElBQWdBeWdDRkNJR0lBWWdBeUFCUVIxMlFRUnhhaWdDRUNJRFJoc2dBQ0FHR3lFQUlBRWdBMEVBUjNRaEFTQUREUUFMQ3lBQUlBUnlSUVJBUVFJZ0NIUWlBRUVBSUFCcmNpQUhjU0lBUlEwRElBQkJBQ0FBYTNGQmYyb2lBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQXlBQWNpQUJJQU4ySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhrd2dCcUtBSUFJUUFMSUFCRkRRRUxBMEFnQUNnQ0JFRjRjU0FGYXlJRElBSkpJUUVnQXlBQ0lBRWJJUUlnQUNBRUlBRWJJUVFnQUNnQ0VDSUJCSDhnQVFVZ0FDZ0NGQXNpQUEwQUN3c2dCRVVOQUNBQ1FiekFBQ2dDQUNBRmEwOE5BQ0FFS0FJWUlRZ2dCQ0FFS0FJTUlnRkhCRUJCeE1BQUtBSUFJQVFvQWdnaUFFMEVRQ0FBS0FJTUdnc2dBQ0FCTmdJTUlBRWdBRFlDQ0F3SkN5QUVRUlJxSWdNb0FnQWlBRVVFUUNBRUtBSVFJZ0JGRFFNZ0JFRVFhaUVEQ3dOQUlBTWhCaUFBSWdGQkZHb2lBeWdDQUNJQURRQWdBVUVRYWlFRElBRW9BaEFpQUEwQUN5QUdRUUEyQWdBTUNBdEJ2TUFBS0FJQUlnRWdCVThFUUVISXdBQW9BZ0FoQUFKQUlBRWdCV3NpQWtFUVR3UkFRYnpBQUNBQ05nSUFRY2pBQUNBQUlBVnFJZ00yQWdBZ0F5QUNRUUZ5TmdJRUlBQWdBV29nQWpZQ0FDQUFJQVZCQTNJMkFnUU1BUXRCeU1BQVFRQTJBZ0JCdk1BQVFRQTJBZ0FnQUNBQlFRTnlOZ0lFSUFBZ0FXb2lBU0FCS0FJRVFRRnlOZ0lFQ3lBQVFRaHFJUUFNQ2d0QndNQUFLQUlBSWdFZ0JVc0VRRUhBd0FBZ0FTQUZheUlCTmdJQVFjekFBRUhNd0FBb0FnQWlBQ0FGYWlJQ05nSUFJQUlnQVVFQmNqWUNCQ0FBSUFWQkEzSTJBZ1FnQUVFSWFpRUFEQW9MUVFBaEFDQUZRUzlxSWdRQ2YwR014QUFvQWdBRVFFR1V4QUFvQWdBTUFRdEJtTVFBUW44M0FnQkJrTVFBUW9DZ2dJQ0FnQVEzQWdCQmpNUUFJQXRCREdwQmNIRkIyS3JWcWdWek5nSUFRYURFQUVFQU5nSUFRZkREQUVFQU5nSUFRWUFnQ3lJQ2FpSUdRUUFnQW1zaUIzRWlBaUFGVFEwSlFlekRBQ2dDQUNJREJFQkI1TU1BS0FJQUlnZ2dBbW9pQ1NBSVRRMEtJQWtnQTBzTkNndEI4TU1BTFFBQVFRUnhEUVFDUUFKQVFjekFBQ2dDQUNJREJFQkI5TU1BSVFBRFFDQUFLQUlBSWdnZ0EwMEVRQ0FJSUFBb0FnUnFJQU5MRFFNTElBQW9BZ2dpQUEwQUN3dEJBQkFUSWdGQmYwWU5CU0FDSVFaQmtNUUFLQUlBSWdCQmYyb2lBeUFCY1FSQUlBSWdBV3NnQVNBRGFrRUFJQUJyY1dvaEJnc2dCaUFGVFEwRklBWkIvdi8vL3dkTERRVkI3TU1BS0FJQUlnQUVRRUhrd3dBb0FnQWlBeUFHYWlJSElBTk5EUVlnQnlBQVN3MEdDeUFHRUJNaUFDQUJSdzBCREFjTElBWWdBV3NnQjNFaUJrSCsvLy8vQjBzTkJDQUdFQk1pQVNBQUtBSUFJQUFvQWdScVJnMERJQUVoQUFzQ1FDQUZRVEJxSUFaTkRRQWdBRUYvUmcwQVFaVEVBQ2dDQUNJQklBUWdCbXRxUVFBZ0FXdHhJZ0ZCL3YvLy93ZExCRUFnQUNFQkRBY0xJQUVRRTBGL1J3UkFJQUVnQm1vaEJpQUFJUUVNQnd0QkFDQUdheEFUR2d3RUN5QUFJZ0ZCZjBjTkJRd0RDMEVBSVFRTUJ3dEJBQ0VCREFVTElBRkJmMGNOQWd0QjhNTUFRZkREQUNnQ0FFRUVjallDQUFzZ0FrSCsvLy8vQjBzTkFTQUNFQk1pQVVFQUVCTWlBRThOQVNBQlFYOUdEUUVnQUVGL1JnMEJJQUFnQVdzaUJpQUZRU2hxVFEwQkMwSGt3d0JCNU1NQUtBSUFJQVpxSWdBMkFnQWdBRUhvd3dBb0FnQkxCRUJCNk1NQUlBQTJBZ0FMQWtBQ1FBSkFRY3pBQUNnQ0FDSURCRUJCOU1NQUlRQURRQ0FCSUFBb0FnQWlBaUFBS0FJRUlnUnFSZzBDSUFBb0FnZ2lBQTBBQ3d3Q0MwSEV3QUFvQWdBaUFFRUFJQUVnQUU4YlJRUkFRY1RBQUNBQk5nSUFDMEVBSVFCQitNTUFJQVkyQWdCQjlNTUFJQUUyQWdCQjFNQUFRWDgyQWdCQjJNQUFRWXpFQUNnQ0FEWUNBRUdBeEFCQkFEWUNBQU5BSUFCQkEzUWlBa0hrd0FCcUlBSkIzTUFBYWlJRE5nSUFJQUpCNk1BQWFpQUROZ0lBSUFCQkFXb2lBRUVnUncwQUMwSEF3QUFnQmtGWWFpSUFRWGdnQVd0QkIzRkJBQ0FCUVFocVFRZHhHeUlDYXlJRE5nSUFRY3pBQUNBQklBSnFJZ0kyQWdBZ0FpQURRUUZ5TmdJRUlBQWdBV3BCS0RZQ0JFSFF3QUJCbk1RQUtBSUFOZ0lBREFJTElBQXRBQXhCQ0hFTkFDQUJJQU5ORFFBZ0FpQURTdzBBSUFBZ0JDQUdhallDQkVITXdBQWdBMEY0SUFOclFRZHhRUUFnQTBFSWFrRUhjUnNpQUdvaUFUWUNBRUhBd0FCQndNQUFLQUlBSUFacUlnSWdBR3NpQURZQ0FDQUJJQUJCQVhJMkFnUWdBaUFEYWtFb05nSUVRZERBQUVHY3hBQW9BZ0EyQWdBTUFRc2dBVUhFd0FBb0FnQWlCRWtFUUVIRXdBQWdBVFlDQUNBQklRUUxJQUVnQm1vaEFrSDB3d0FoQUFKQUFrQUNRQUpBQWtBQ1FBTkFJQUlnQUNnQ0FFY0VRQ0FBS0FJSUlnQU5BUXdDQ3dzZ0FDMEFERUVJY1VVTkFRdEI5TU1BSVFBRFFDQUFLQUlBSWdJZ0EwMEVRQ0FDSUFBb0FnUnFJZ1FnQTBzTkF3c2dBQ2dDQ0NFQURBQUFDd0FMSUFBZ0FUWUNBQ0FBSUFBb0FnUWdCbW8yQWdRZ0FVRjRJQUZyUVFkeFFRQWdBVUVJYWtFSGNSdHFJZ2tnQlVFRGNqWUNCQ0FDUVhnZ0FtdEJCM0ZCQUNBQ1FRaHFRUWR4RzJvaUFTQUpheUFGYXlFQUlBVWdDV29oQnlBQklBTkdCRUJCek1BQUlBYzJBZ0JCd01BQVFjREFBQ2dDQUNBQWFpSUFOZ0lBSUFjZ0FFRUJjallDQkF3REN5QUJRY2pBQUNnQ0FFWUVRRUhJd0FBZ0J6WUNBRUc4d0FCQnZNQUFLQUlBSUFCcUlnQTJBZ0FnQnlBQVFRRnlOZ0lFSUFBZ0Iyb2dBRFlDQUF3REN5QUJLQUlFSWdKQkEzRkJBVVlFUUNBQ1FYaHhJUW9DUUNBQ1FmOEJUUVJBSUFFb0FnZ2lBeUFDUVFOMklnUkJBM1JCM01BQWFrY2FJQU1nQVNnQ0RDSUNSZ1JBUWJUQUFFRzB3QUFvQWdCQmZpQUVkM0UyQWdBTUFnc2dBeUFDTmdJTUlBSWdBellDQ0F3QkN5QUJLQUlZSVFnQ1FDQUJJQUVvQWd3aUJrY0VRQ0FFSUFFb0FnZ2lBazBFUUNBQ0tBSU1HZ3NnQWlBR05nSU1JQVlnQWpZQ0NBd0JDd0pBSUFGQkZHb2lBeWdDQUNJRkRRQWdBVUVRYWlJREtBSUFJZ1VOQUVFQUlRWU1BUXNEUUNBRElRSWdCU0lHUVJScUlnTW9BZ0FpQlEwQUlBWkJFR29oQXlBR0tBSVFJZ1VOQUFzZ0FrRUFOZ0lBQ3lBSVJRMEFBa0FnQVNBQktBSWNJZ0pCQW5SQjVNSUFhaUlES0FJQVJnUkFJQU1nQmpZQ0FDQUdEUUZCdU1BQVFiakFBQ2dDQUVGK0lBSjNjVFlDQUF3Q0N5QUlRUkJCRkNBSUtBSVFJQUZHRzJvZ0JqWUNBQ0FHUlEwQkN5QUdJQWcyQWhnZ0FTZ0NFQ0lDQkVBZ0JpQUNOZ0lRSUFJZ0JqWUNHQXNnQVNnQ0ZDSUNSUTBBSUFZZ0FqWUNGQ0FDSUFZMkFoZ0xJQUVnQ21vaEFTQUFJQXBxSVFBTElBRWdBU2dDQkVGK2NUWUNCQ0FISUFCQkFYSTJBZ1FnQUNBSGFpQUFOZ0lBSUFCQi93Rk5CRUFnQUVFRGRpSUJRUU4wUWR6QUFHb2hBQUovUWJUQUFDZ0NBQ0lDUVFFZ0FYUWlBWEZGQkVCQnRNQUFJQUVnQW5JMkFnQWdBQXdCQ3lBQUtBSUlDeUVCSUFBZ0J6WUNDQ0FCSUFjMkFnd2dCeUFBTmdJTUlBY2dBVFlDQ0F3REN5QUhBbjlCQUNBQVFRaDJJZ0ZGRFFBYVFSOGdBRUgvLy84SFN3MEFHaUFCSUFGQmdQNC9ha0VRZGtFSWNTSUJkQ0lDSUFKQmdPQWZha0VRZGtFRWNTSUNkQ0lESUFOQmdJQVBha0VRZGtFQ2NTSURkRUVQZGlBQklBSnlJQU55YXlJQlFRRjBJQUFnQVVFVmFuWkJBWEZ5UVJ4cUN5SUJOZ0ljSUFkQ0FEY0NFQ0FCUVFKMFFlVENBR29oQWdKQVFiakFBQ2dDQUNJRFFRRWdBWFFpQkhGRkJFQkJ1TUFBSUFNZ0JISTJBZ0FnQWlBSE5nSUFEQUVMSUFCQkFFRVpJQUZCQVhacklBRkJIMFliZENFRElBSW9BZ0FoQVFOQUlBRWlBaWdDQkVGNGNTQUFSZzBESUFOQkhYWWhBU0FEUVFGMElRTWdBaUFCUVFSeGFpSUVLQUlRSWdFTkFBc2dCQ0FITmdJUUN5QUhJQUkyQWhnZ0J5QUhOZ0lNSUFjZ0J6WUNDQXdDQzBIQXdBQWdCa0ZZYWlJQVFYZ2dBV3RCQjNGQkFDQUJRUWhxUVFkeEd5SUNheUlITmdJQVFjekFBQ0FCSUFKcUlnSTJBZ0FnQWlBSFFRRnlOZ0lFSUFBZ0FXcEJLRFlDQkVIUXdBQkJuTVFBS0FJQU5nSUFJQU1nQkVFbklBUnJRUWR4UVFBZ0JFRlpha0VIY1J0cVFWRnFJZ0FnQUNBRFFSQnFTUnNpQWtFYk5nSUVJQUpCL01NQUtRSUFOd0lRSUFKQjlNTUFLUUlBTndJSVFmekRBQ0FDUVFocU5nSUFRZmpEQUNBR05nSUFRZlREQUNBQk5nSUFRWURFQUVFQU5nSUFJQUpCR0dvaEFBTkFJQUJCQnpZQ0JDQUFRUWhxSVFFZ0FFRUVhaUVBSUFRZ0FVc05BQXNnQWlBRFJnMERJQUlnQWlnQ0JFRitjVFlDQkNBRElBSWdBMnNpQkVFQmNqWUNCQ0FDSUFRMkFnQWdCRUgvQVUwRVFDQUVRUU4ySWdGQkEzUkIzTUFBYWlFQUFuOUJ0TUFBS0FJQUlnSkJBU0FCZENJQmNVVUVRRUcwd0FBZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQVFMSUFOQ0FEY0NFQ0FEQW45QkFDQUVRUWgySWdCRkRRQWFRUjhnQkVILy8vOEhTdzBBR2lBQUlBQkJnUDQvYWtFUWRrRUljU0lBZENJQklBRkJnT0FmYWtFUWRrRUVjU0lCZENJQ0lBSkJnSUFQYWtFUWRrRUNjU0lDZEVFUGRpQUFJQUZ5SUFKeWF5SUFRUUYwSUFRZ0FFRVZhblpCQVhGeVFSeHFDeUlBTmdJY0lBQkJBblJCNU1JQWFpRUJBa0JCdU1BQUtBSUFJZ0pCQVNBQWRDSUdjVVVFUUVHNHdBQWdBaUFHY2pZQ0FDQUJJQU0yQWdBZ0F5QUJOZ0lZREFFTElBUkJBRUVaSUFCQkFYWnJJQUJCSDBZYmRDRUFJQUVvQWdBaEFRTkFJQUVpQWlnQ0JFRjRjU0FFUmcwRUlBQkJIWFloQVNBQVFRRjBJUUFnQWlBQlFRUnhhaUlHS0FJUUlnRU5BQXNnQmlBRE5nSVFJQU1nQWpZQ0dBc2dBeUFETmdJTUlBTWdBellDQ0F3REN5QUNLQUlJSWdBZ0J6WUNEQ0FDSUFjMkFnZ2dCMEVBTmdJWUlBY2dBallDRENBSElBQTJBZ2dMSUFsQkNHb2hBQXdGQ3lBQ0tBSUlJZ0FnQXpZQ0RDQUNJQU0yQWdnZ0EwRUFOZ0lZSUFNZ0FqWUNEQ0FESUFBMkFnZ0xRY0RBQUNnQ0FDSUFJQVZORFFCQndNQUFJQUFnQldzaUFUWUNBRUhNd0FCQnpNQUFLQUlBSWdBZ0JXb2lBallDQUNBQ0lBRkJBWEkyQWdRZ0FDQUZRUU55TmdJRUlBQkJDR29oQUF3REMwR3d3QUJCTURZQ0FFRUFJUUFNQWdzQ1FDQUlSUTBBQWtBZ0JDZ0NIQ0lBUVFKMFFlVENBR29pQXlnQ0FDQUVSZ1JBSUFNZ0FUWUNBQ0FCRFFGQnVNQUFJQWRCZmlBQWQzRWlCellDQUF3Q0N5QUlRUkJCRkNBSUtBSVFJQVJHRzJvZ0FUWUNBQ0FCUlEwQkN5QUJJQWcyQWhnZ0JDZ0NFQ0lBQkVBZ0FTQUFOZ0lRSUFBZ0FUWUNHQXNnQkNnQ0ZDSUFSUTBBSUFFZ0FEWUNGQ0FBSUFFMkFoZ0xBa0FnQWtFUFRRUkFJQVFnQWlBRmFpSUFRUU55TmdJRUlBQWdCR29pQUNBQUtBSUVRUUZ5TmdJRURBRUxJQVFnQlVFRGNqWUNCQ0FFSUFWcUlnTWdBa0VCY2pZQ0JDQUNJQU5xSUFJMkFnQWdBa0gvQVUwRVFDQUNRUU4ySWdGQkEzUkIzTUFBYWlFQUFuOUJ0TUFBS0FJQUlnSkJBU0FCZENJQmNVVUVRRUcwd0FBZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQUVMSUFNQ2YwRUFJQUpCQ0hZaUFFVU5BQnBCSHlBQ1FmLy8vd2RMRFFBYUlBQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnVWdCVUdBZ0E5cVFSQjJRUUp4SWdWMFFROTJJQUFnQVhJZ0JYSnJJZ0JCQVhRZ0FpQUFRUlZxZGtFQmNYSkJIR29MSWdBMkFod2dBMElBTndJUUlBQkJBblJCNU1JQWFpRUJBa0FDUUNBSFFRRWdBSFFpQlhGRkJFQkJ1TUFBSUFVZ0IzSTJBZ0FnQVNBRE5nSUFEQUVMSUFKQkFFRVpJQUJCQVhacklBQkJIMFliZENFQUlBRW9BZ0FoQlFOQUlBVWlBU2dDQkVGNGNTQUNSZzBDSUFCQkhYWWhCU0FBUVFGMElRQWdBU0FGUVFSeGFpSUdLQUlRSWdVTkFBc2dCaUFETmdJUUN5QURJQUUyQWhnZ0F5QUROZ0lNSUFNZ0F6WUNDQXdCQ3lBQktBSUlJZ0FnQXpZQ0RDQUJJQU0yQWdnZ0EwRUFOZ0lZSUFNZ0FUWUNEQ0FESUFBMkFnZ0xJQVJCQ0dvaEFBd0JDd0pBSUFsRkRRQUNRQ0FCS0FJY0lnQkJBblJCNU1JQWFpSUNLQUlBSUFGR0JFQWdBaUFFTmdJQUlBUU5BVUc0d0FBZ0NrRitJQUIzY1RZQ0FBd0NDeUFKUVJCQkZDQUpLQUlRSUFGR0cyb2dCRFlDQUNBRVJRMEJDeUFFSUFrMkFoZ2dBU2dDRUNJQUJFQWdCQ0FBTmdJUUlBQWdCRFlDR0FzZ0FTZ0NGQ0lBUlEwQUlBUWdBRFlDRkNBQUlBUTJBaGdMQWtBZ0EwRVBUUVJBSUFFZ0F5QUZhaUlBUVFOeU5nSUVJQUFnQVdvaUFDQUFLQUlFUVFGeU5nSUVEQUVMSUFFZ0JVRURjallDQkNBQklBVnFJZ1FnQTBFQmNqWUNCQ0FESUFScUlBTTJBZ0FnQ0FSQUlBaEJBM1lpQlVFRGRFSGN3QUJxSVFCQnlNQUFLQUlBSVFJQ2YwRUJJQVYwSWdVZ0JuRkZCRUJCdE1BQUlBVWdCbkkyQWdBZ0FBd0JDeUFBS0FJSUN5RUZJQUFnQWpZQ0NDQUZJQUkyQWd3Z0FpQUFOZ0lNSUFJZ0JUWUNDQXRCeU1BQUlBUTJBZ0JCdk1BQUlBTTJBZ0FMSUFGQkNHb2hBQXNnQzBFUWFpUUFJQUFMUkFFQmZ5QUFJQUFvQWhBZ0FXb2lBVFlDRUNBQUlBRkJCM0UyQWdoQmZ5RUNJQUVnQUNnQ0RFRURkRTBFZnlBQUlBQW9BZ0FnQVVFRGRtbzJBZ1JCQUFWQmZ3c0w1UWNCQ0g4Z0FDQUVRUUFnQm1zZ0FpQUNJQVpxUVFCSUd5SUNJQUlnQkVvYklnSnFJQUFnQWtFQVNoc2lDU0FGUVFBZ0Iyc2dBeUFESUFkcVFRQklHeUlBSUFBZ0JVb2JJZ0FnQkd4cUlBa2dBRUVBU2hzaEF5QUhRUUFnQUdzZ0FFRWZkWEVpQ1dzZ0FDQUhhaUlBSUFWcklneEJBQ0FBSUFWS0d5SVBheUVMSUFaQkFDQUNheUlPSUFKQkgzVnhJZzFySUFJZ0Jtb2lBQ0FFYTBFQUlBQWdCRW9pQlJzaUNtc2hBQUpBSUFKQkFFZ2dCWElpRUVVRVFDQUpCRUFEUUNBQklBTWdBQkFWSUFocUlRRWdDVUYvYWlJSkRRQUxDeUFMUlEwQkEwQWdBU0FESUFBUUZTQUlhaUVCSUFNZ0JHb2hBeUFMUVg5cUlnc05BQXNNQVFzQ1FDQUpSUTBBSUExRkJFQURRQ0FBSVFjZ0FTRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQVNBSWFpRUJJQWxCZjJvaUNRMEFEQUlBQ3dBTElBRWdEbW9oQmdOQUlBRWdBeTBBQUNBTkVBY2hBU0FBSVFjZ0JpRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQmlBSWFpRUdJQUVnQ0dvaEFTQUpRWDlxSWdrTkFBc0xJQXRGRFFBZ0RVVUVRQU5BSUFBaEJ5QUJJUUlnQXlFRklBQUVRQU5BSUFJZ0JTMEFBRG9BQUNBQ1FRRnFJUUlnQlVFQmFpRUZJQWRCZjJvaUJ3MEFDd3NnQ2dSQUlBSWdCVUYvYWkwQUFDQUtFQWNhQ3lBQklBaHFJUUVnQXlBRWFpRURJQXRCZjJvaUN3MEFEQUlBQ3dBTElBRWdEbW9oQ1FOQUlBRWdBeTBBQUNBTkVBY2hBU0FBSVFjZ0NTRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQ0NBSmFpRUpJQUVnQ0dvaEFTQURJQVJxSVFNZ0MwRi9haUlMRFFBTEN3SkFJQTlGRFFBZ0F5QUVheUVESUJCRkJFQURRQ0FCSUFNZ0FCQVZJQWhxSVFFZ0RFRi9haUlNRFFBTUFnQUxBQXNnRFVVRVFBTkFJQU1oQWlBQklRVWdBQ0VISUFBRVFBTkFJQVVnQWkwQUFEb0FBQ0FGUVFGcUlRVWdBa0VCYWlFQ0lBZEJmMm9pQncwQUN3c2dDZ1JBSUFVZ0FrRi9haTBBQUNBS0VBY2FDeUFCSUFocUlRRWdERUYvYWlJTURRQU1BZ0FMQUFzZ0FTQU9haUVKQTBBZ0FTQURMUUFBSUEwUUJ5RUJJQUFoQnlBSklRSWdBeUVGSUFBRVFBTkFJQUlnQlMwQUFEb0FBQ0FDUVFGcUlRSWdCVUVCYWlFRklBZEJmMm9pQncwQUN3c2dDZ1JBSUFJZ0JVRi9haTBBQUNBS0VBY2FDeUFJSUFscUlRa2dBU0FJYWlFQklBeEJmMm9pREEwQUN3c0w5QUlCQTM4Z0FVRURkRUh3Tm1vaUF5Z0NBQ0VGSUFNdEFBUWhBeUFCUVFOMFFiQTFhaUlCTFFBRUlRUUNRQ0FCS0FJQVFRUkdCRUFnQWlBRVFRRjBhaTRCQUNFQklBVkJCRVlFUUNBQklBSWdBMEVCZEdvdUFRQnFRUUZxUVFGMUR3c0NmeUFBS0FMTUFTSUNCRUFnQUNnQ0JDQUNLQUlFUmd3QkMwRUFDMFVOQVNBQklBQW9Bc3dCSUFOQkFYUnFMZ0VjYWtFQmFrRUJkUThMSUFWQkJFWUVRQ0FDSUFOQkFYUnFMZ0VBSVFFQ2Z5QUFLQUxJQVNJQ0JFQWdBQ2dDQkNBQ0tBSUVSZ3dCQzBFQUMwVU5BU0FCSUFBb0FzZ0JJQVJCQVhScUxnRWNha0VCYWtFQmRROExBbjhDZnlBQUtBTElBU0lCQkVBZ0FDZ0NCQ0FCS0FJRVJnd0JDMEVBQzBVRVFFRUFJUUpCQUF3QkMwRUJJUUlnQUNnQ3lBRWdCRUVCZEdvdUFSd0xJUUVDZnlBQUtBTE1BU0lFQkVBZ0FDZ0NCQ0FFS0FJRVJnd0JDMEVBQzBVTkFDQUFLQUxNQVNBRFFRRjBhaTRCSENFQUlBSkZCRUFnQUE4TElBQWdBV3BCQVdwQkFYVWhBUXNnQVF1SkJ3RUhmeUFESUFWcUlnMGdBUzRCQUNJTVFRSjFhaUVESUFRZ0Jtb2lEaUFCTGdFQ0lnOUJBblZxSVFRZ0FpZ0NDRUVFZENFSklBSW9BZ1JCQkhRaENpQUFJQVpCQkhScUlBVnFJUXNDUUNBTVFRTnhRUVIwSUE5QkEzRkJBblJ5UWRBN2FpZ0NBQ0lNUVE1TkJFQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnREVFQmF3NE9BUUlEQkFVR0J3Z0pDZ3NNRFE0QUN5QUNLQUlBSUFzZ0F5QUVJQW9nQ1NBSElBaEJFQkFNREE4TElBSW9BZ0FnQ3lBRElBUkJmbW9nQ2lBSklBY2dDRUVBRUNRTURnc2dBaWdDQUNBTElBTWdCRUYrYWlBS0lBa2dCeUFJRUVjTURRc2dBaWdDQUNBTElBTWdCRUYrYWlBS0lBa2dCeUFJUVFFUUpBd01DeUFDS0FJQUlBc2dBMEYrYWlBRUlBb2dDU0FISUFoQkFCQWpEQXNMSUFJb0FnQWdDeUFEUVg1cUlBUkJmbW9nQ2lBSklBY2dDRUVBRUJvTUNnc2dBaWdDQUNBTElBTkJmbW9nQkVGK2FpQUtJQWtnQnlBSVFRQVFJUXdKQ3lBQ0tBSUFJQXNnQTBGK2FpQUVRWDVxSUFvZ0NTQUhJQWhCQWhBYURBZ0xJQUlvQWdBZ0N5QURRWDVxSUFRZ0NpQUpJQWNnQ0JCR0RBY0xJQUlvQWdBZ0N5QURRWDVxSUFSQmZtb2dDaUFKSUFjZ0NFRUFFQ0lNQmdzZ0FpZ0NBQ0FMSUFOQmZtb2dCRUYrYWlBS0lBa2dCeUFJRUVVTUJRc2dBaWdDQUNBTElBTkJmbW9nQkVGK2FpQUtJQWtnQnlBSVFRRVFJZ3dFQ3lBQ0tBSUFJQXNnQTBGK2FpQUVJQW9nQ1NBSElBaEJBUkFqREFNTElBSW9BZ0FnQ3lBRFFYNXFJQVJCZm1vZ0NpQUpJQWNnQ0VFQkVCb01BZ3NnQWlnQ0FDQUxJQU5CZm1vZ0JFRithaUFLSUFrZ0J5QUlRUUVRSVF3QkN5QUNLQUlBSUFzZ0EwRithaUFFUVg1cUlBb2dDU0FISUFoQkF4QWFDeUFOUVFGMklBRXVBUUFpQ1VFRGRXb2hBeUFPUVFGMklBRXVBUUlpQVVFRGRXb2hCQ0FDS0FJQUlBSW9BZ1FpQ2lBQ0tBSUlJZ3RzUVFoMGFpRUNJQUFnQmtFQ2RFRjRjV29nQlVFQmRtcEJnQUpxSVFVZ0NFRUJkaUVHSUFkQkFYWWhCeUFCUVFkeElRZ2dDMEVEZENFQUlBcEJBM1FoQVFKQUlBbEJCM0VpQ1VVTkFDQUlSUTBBSUFJZ0JTQURJQVFnQVNBQUlBa2dDQ0FISUFZUVNBOExJQWtFUUNBQ0lBVWdBeUFFSUFFZ0FDQUpJQWNnQmhCTER3c2dDQVJBSUFJZ0JTQURJQVFnQVNBQUlBZ2dCeUFHRUVvUEN5QUNJQVVnQXlBRUlBRWdBQ0FISUFaQkNCQU1JQUlnQUNBQmJHb2dCVUZBYXlBRElBUWdBU0FBSUFjZ0JrRUlFQXdMeHdFQkJIOGdBQ2dDQkNFQ0FrQWdBQ2dDREVFRGRDQUFLQUlRYXlJRFFTQk9CRUFnQWlnQUFDSUJRUmgwSUFGQkNIUkJnSUQ4QjNGeUlBRkJDSFpCZ1A0RGNTQUJRUmgyY25JaEFTQUFLQUlJSWdCRkRRRWdBU0FBZENBQ0xRQUVRUWdnQUd0MmNnOExJQU5CQVVnRVFFRUFEd3NnQWkwQUFDQUFLQUlJSWdCQkdHb2lCSFFoQVNBQUlBTnFRWGhxSWdCQkFVZ05BQU5BSUFJdEFBRWdCRUY0YWlJRWRDQUJjaUVCSUFCQkNFb2hBeUFDUVFGcUlRSWdBRUY0YWlFQUlBTU5BQXNMSUFFTGpBUUJCMzhDUUNBQVFYOXFJZ2d0QUFBaUJTQUFMUUFBSWdacklnUWdCRUVmZFNJRWFpQUVjeUFDS0FJRVR3MEFJQUJCZm1vdEFBQWlCQ0FGYXlJSElBZEJIM1VpQjJvZ0IzTWdBaWdDQ0NJSlR3MEFJQUF0QUFFaUJ5QUdheUlLSUFwQkgzVWlDbW9nQ25NZ0NVOE5BQ0FCUVFOTkJFQWdDQ0FGSUFFZ0FpZ0NBR3BCZjJvdEFBQWlDRUYvY3lJSklBaEJBV29pQ0NBR0lBVnJRUUowSUFkcklBUnFRUVJxUVFOMUlnVWdCU0FJU2hzZ0JTQUpTQnNpQldwQnNDNXFMUUFBT2dBQUlBQWdCaUFGYTBHd0xtb3RBQUE2QUFBTUFRc2dDQ0FGSUFkcUlBUkJBWFJxUVFKcVFRSjJPZ0FBSUFBZ0JpQUhRUUYwYWlBRWFrRUNha0VDZGpvQUFBc0NRQ0FBSUFOcUlnQkJmMm9pQnkwQUFDSURJQUF0QUFBaUJXc2lCaUFHUVI5MUlnWnFJQVp6SUFJb0FnUlBEUUFnQUVGK2FpMEFBQ0lHSUFOcklnUWdCRUVmZFNJRWFpQUVjeUFDS0FJSUlnaFBEUUFnQUMwQUFTSUVJQVZySWdrZ0NVRWZkU0lKYWlBSmN5QUlUdzBBSUFGQkEwMEVRQ0FISUFFZ0FpZ0NBR3BCZjJvdEFBQWlBVUYvY3lJQ0lBRkJBV29pQnlBRklBTnJRUUowSUFScklBWnFRUVJxUVFOMUlnRWdBU0FIU2hzZ0FTQUNTQnNpQVNBRGFrR3dMbW90QUFBNkFBQWdBQ0FGSUFGclFiQXVhaTBBQURvQUFBOExJQWNnQXlBRWFpQUdRUUYwYWtFQ2FrRUNkam9BQUNBQUlBVWdCRUVCZEdvZ0JtcEJBbXBCQW5ZNkFBQUxDMGNBQWtBZ0FVRUVUUVJBQWtBQ1FBSkFBa0FnQVVFQmF3NEVBUUlEQlFBTElBQW9Bc2dCRHdzZ0FDZ0N6QUVQQ3lBQUtBTFFBUThMSUFBb0F0UUJEd3RCQUNFQUN5QUFDNlVEQVF0L1FRQWdBMnNpQzBFQmRDRUVJQUVnQWlnQ0FHcEJmMm90QUFBaUFVRUJhaUVKSUFGQmYzTWhDZ0pBSUFBZ0Eyc2lCeTBBQUNJRklBQXRBQUFpQm1zaUFTQUJRUjkxSWdGcUlBRnpJQUlvQWdRaUFVOE5BQ0FBSUFScUxRQUFJZzBnQldzaUNDQUlRUjkxSWdocUlBaHpJQUlvQWdnaUNFOE5BQ0FBSUFOcUxRQUFJZzRnQm1zaURDQU1RUjkxSWd4cUlBeHpJQWhQRFFBZ0J5QUtJQWtnQmlBRmEwRUNkQ0FPYXlBTmFrRUVha0VEZFNJQklBRWdDVW9iSUFFZ0NrZ2JJZ0VnQldwQnNDNXFMUUFBT2dBQUlBQWdCaUFCYTBHd0xtb3RBQUE2QUFBZ0FpZ0NCQ0VCQ3dKQUlBQkJBV29pQlNBTGFpSUxMUUFBSWdZZ0FDMEFBU0lBYXlJSElBZEJIM1VpQjJvZ0IzTWdBVThOQUNBRUlBVnFMUUFBSWdFZ0Jtc2lCQ0FFUVI5MUlnUnFJQVJ6SUFJb0FnZ2lBazhOQUNBRElBVnFMUUFBSWdNZ0FHc2lCQ0FFUVI5MUlnUnFJQVJ6SUFKUERRQWdDeUFLSUFrZ0FDQUdhMEVDZENBRGF5QUJha0VFYWtFRGRTSUJJQUVnQ1VvYklBRWdDa2diSWdFZ0JtcEJzQzVxTFFBQU9nQUFJQVVnQUNBQmEwR3dMbW90QUFBNkFBQUxDMFFCQW44L0FDRUJBa0JCc01RQUtBSUFJZ0lnQUVFRGFrRjhjV29pQUNBQlFSQjBUUTBBSUFBUUFRMEFRYkRBQUVFd05nSUFRWDhQQzBHd3hBQWdBRFlDQUNBQ0N6UUJBWDhDUUNBQlFSQkxEUUFnQUNnQ0JDQUJRUUowYWlnQ0FDSUFSUTBBSUFBb0FoUkJBa2tOQUNBQUtBSUFJUUlMSUFJTGdnUUJBMzhnQWtHQUJFOEVRQ0FBSUFFZ0FoQUFHaUFBRHdzZ0FDQUNhaUVEQWtBZ0FDQUJjMEVEY1VVRVFBSkFJQUpCQVVnRVFDQUFJUUlNQVFzZ0FFRURjVVVFUUNBQUlRSU1BUXNnQUNFQ0EwQWdBaUFCTFFBQU9nQUFJQUZCQVdvaEFTQUNRUUZxSWdJZ0EwOE5BU0FDUVFOeERRQUxDd0pBSUFOQmZIRWlCRUhBQUVrTkFDQUNJQVJCUUdvaUJVc05BQU5BSUFJZ0FTZ0NBRFlDQUNBQ0lBRW9BZ1EyQWdRZ0FpQUJLQUlJTmdJSUlBSWdBU2dDRERZQ0RDQUNJQUVvQWhBMkFoQWdBaUFCS0FJVU5nSVVJQUlnQVNnQ0dEWUNHQ0FDSUFFb0FodzJBaHdnQWlBQktBSWdOZ0lnSUFJZ0FTZ0NKRFlDSkNBQ0lBRW9BaWcyQWlnZ0FpQUJLQUlzTmdJc0lBSWdBU2dDTURZQ01DQUNJQUVvQWpRMkFqUWdBaUFCS0FJNE5nSTRJQUlnQVNnQ1BEWUNQQ0FCUVVCcklRRWdBa0ZBYXlJQ0lBVk5EUUFMQ3lBQ0lBUlBEUUVEUUNBQ0lBRW9BZ0EyQWdBZ0FVRUVhaUVCSUFKQkJHb2lBaUFFU1EwQUN3d0JDeUFEUVFSSkJFQWdBQ0VDREFFTElBTkJmR29pQkNBQVNRUkFJQUFoQWd3QkN5QUFJUUlEUUNBQ0lBRXRBQUE2QUFBZ0FpQUJMUUFCT2dBQklBSWdBUzBBQWpvQUFpQUNJQUV0QUFNNkFBTWdBVUVFYWlFQklBSkJCR29pQWlBRVRRMEFDd3NnQWlBRFNRUkFBMEFnQWlBQkxRQUFPZ0FBSUFGQkFXb2hBU0FDUVFGcUlnSWdBMGNOQUFzTElBQUx3UmdCSUg4akFFSFFBMnNpQmlRQUlBRW9BZ2doRkNBQklBRW9BZ1FpQ2lBQ2JDSWFJQU5xRUIwZ0FTZ0NBQ0VKSUFCQkFEWUNDQ0FBUWlnM0FoUWdBRUlBTndJTUlBQkJCallDQUNBRFFRUjBJUWNDUUFKQUFrQWdCRUYrYWlJRVFRVkxEUUFDUUNBRVFRRnJEZ1FCQVFFQkFBc01BUXNnQmtFQU5nSU1JQVlnRkRZQ0dDQUdJQW8yQWhRZ0JpQUZOZ0lRSUFVRVFDQUdRZEFBYWlBR1FReHFJQVpCRUdvZ0J5QUNRUVIwUVFCQkFFRVFRUkFRRGd3Q0N3c2dCa0hRQUdwQkFFR0FBeEFIR2lBSklCcEJDSFJxSUFkcUlRd2dCa0lBTndOSUlBWkJRR3RDQURjREFDQUdRZ0EzQXpnZ0JrSUFOd013SUFaQ0FEY0RLQ0FHUWdBM0F5QWdCa0lBTndNWUlBWkNBRGNERUVFQUlRa0NmMEVBSUFKRkRRQWFRUUFnQUVFQUlBcHJRZGdCYkdvb0FzUUJSUTBBR2lBR0lBd2dDa0VFZEdzaUJDMEFCU0FFTFFBRWFpQUVMUUFHYWlBRUxRQUhhaUlYSUFRdEFBTWdCQzBBQWlBRUxRQUJJQVF0QUFCcWFtb2lGbW9pQlNBRUxRQUxJQVF0QUFvZ0JDMEFDU0FFTFFBSWFtcHFJaEpySUFRdEFBOGdCQzBBRGlBRUxRQU5JQVF0QUF4cWFtb2lFMnNpQ0RZQ0ZDQUdJQVVnRW1vZ0Uyb2lDVFlDRUVFQkN5RUZBbjhDUUNBQ0lCUkJmMnBIQkVBZ0FDQUtRZGdCYkdvb0FzUUJEUUVMSUFVTUFRc2dCaUFNSUFwQkNIUnFJZ0l0QUFVZ0FpMEFCR29nQWkwQUJtb2dBaTBBQjJvaUhpQUNMUUFESUFJdEFBSWdBaTBBQVNBQ0xRQUFhbXBxSWg5cUlnUWdBaTBBQ3lBQ0xRQUtJQUl0QUFrZ0FpMEFDR3BxYWlJWWF5QUNMUUFQSUFJdEFBNGdBaTBBRFNBQ0xRQU1hbXBxSWhscklBaHFJZ2cyQWhRZ0JpQUVJQmhxSUFscUlCbHFJZ2syQWhCQkFTRVFJQVZCQVdvTElRZEJBQ0VFQW44Q1FDQURSUTBBSUFCQmJHb29BZ0JGRFFBZ0JpQU1RWDlxSWdJZ0NrRUdkQ0lPYWlJRUlBcEJCSFFpQzJvdEFBQWdCQzBBQUdvZ0JDQUtRUVYwSWc5cUxRQUFhaUFFSUFwQk1Hd2lEV290QUFCcUloc2dBaUFOYWkwQUFDQUNJQTlxTFFBQUlBSWdDMm90QUFBZ0FpMEFBR3BxYWlJY2FpSVJJQVFnRG1vaUFpQUxhaTBBQUNBQ0xRQUFhaUFDSUE5cUxRQUFhaUFDSUExcUxRQUFhaUlWYXlBQ0lBNXFJZ0lnQzJvdEFBQWdBaTBBQUdvZ0FpQVBhaTBBQUdvZ0FpQU5haTBBQUdvaUQyc2lCRFlDSUNBR0lCRWdGV29nQ1dvZ0Qyb2lDVFlDRUNBSFFRRnFJUXRCQVF3QkN5QUhJUXRCQUFzaEFnSkFBa0FDUUFKQUFrQUNRQ0FESUFwQmYycEhCRUFnQUNnQ25BTU5BUXRCQUNFT0lBSkJBRWNoRVNBSERRRU1BZ3NnQmlBRUlBeEJFR29pQkNBS1FRWjBJaDFxSWdBZ0NrRUVkQ0lOYWkwQUFDQUFMUUFBYWlBQUlBcEJCWFFpRG1vdEFBQnFJQUFnQ2tFd2JDSVJhaTBBQUdvaUlDQUVJQkZxTFFBQUlBUWdEbW90QUFBZ0JDQU5haTBBQUNBTUxRQVFhbXBxSWlGcUlpSWdBQ0FkYWlJQUlBMXFMUUFBSUFBdEFBQnFJQUFnRG1vdEFBQnFJQUFnRVdvdEFBQnFJZ3hySUFBZ0hXb2lBQ0FOYWkwQUFDQUFMUUFBYWlBQUlBNXFMUUFBYWlBQUlCRnFMUUFBYWlJTmEyb2lCRFlDSUNBR0lBd2dJbW9nQ1dvZ0RXb2lDVFlDRUNBQ1FRQkhJUkZCQVNFT0lBSkJBV29oQUNBTFFRRnFJUXNDUUNBSERRQWdBa1VOQUNBR0lCc2dIR29nRldvZ0Qyb2dJV3NnSUdzZ0RHc2dEV3RCQlhVaUNEWUNGQXdEQ3lBSFJRMENJQUFoQWdzZ0JpQUlJQWRCQTJwMUlnZzJBaFFMQWtBZ0VFVU5BQ0FGUlEwQUlBSU5BQ0FHSUJZZ0Yyb2dFbW9nRTJvZ0dXc2dHR3NnSG1zZ0gydEJCWFVpQkRZQ0lFRUJJUkJCQVNFTkRBTUxJQkJCQUVjaEVDQUZRUUJISVEwZ0FrVU5BZ3dCQ3lBUVFRQkhJUkFnQlVFQVJ5RU5JQUFoQWdzZ0JpQUVJQUpCQTJwMUlnUTJBaUFMSUFZQ2Z5QUxRWDlxSWdCQkFrMEVRQUpBQWtBQ1FDQUFRUUZyRGdJQkFnQUxJQWxCQkhZTUF3c2dDVUVGZGd3Q0N5QUpRUlZzUVFwMURBRUxJQWxCQm5ZTElnQTJBaEFDUUNBRUlBaHlSUVJBSUFZZ0FEWUNTQ0FHSUFBMkFrd2dCaUFBTmdKRUlBWWdBRFlDUUNBR0lBQTJBandnQmlBQU5nSTRJQVlnQURZQ05DQUdJQUEyQWpBZ0JpQUFOZ0lzSUFZZ0FEWUNLQ0FHSUFBMkFpUWdCaUFBTmdJZ0lBWWdBRFlDSENBR0lBQTJBaGdnQmlBQU5nSVVEQUVMSUFZZ0FDQUlhaUlGSUFSck5nSkFJQVlnQlNBRVFRRjFJZ0pyTmdJd0lBWWdBaUFGYWpZQ0lDQUdJQVFnQldvMkFoQWdCaUFBSUFocklnVWdCR3MyQWt3Z0JpQUZJQUpyTmdJOElBWWdBaUFGYWpZQ0xDQUdJQVFnQldvMkFod2dCaUFBSUFoQkFYVWlCMm9pQlNBRWF6WUNSQ0FHSUFVZ0FtczJBalFnQmlBQ0lBVnFOZ0lrSUFZZ0JDQUZhallDRkNBR0lBQWdCMnNpQUNBRWF6WUNTQ0FHSUFBZ0FtczJBamdnQmlBQUlBSnFOZ0lvSUFZZ0FDQUVhallDR0FzZ0JrSFFBR29oQ0NBR1FSQnFJUUJCQUNFRUEwQWdDQ0FBSUFSQkRIRnFLQUlBSWdKQi93RWdBa0gvQVVnYklnSkJBQ0FDUVFCS0d6b0FBQ0FBSUFCQkVHb2dCRUVCYWlJRVFUOXhHeUVBSUFoQkFXb2hDQ0FFUVlBQ1J3MEFDeUFCS0FJQUlBb2dGR3dpQUVFSWRHb2dHa0VHZEdvZ0EwRURkR29oQXlBS1FRUjBJUXdnQ2tFR2RDRWFJQUJCQm5RaEhVRUFJQXBCQTNRaUMyc2hJQ0FHUWRBQ2FpRWhJQVpCUUdzaElrRUFJUVVEUUNBR1FnQTNBMGdnSWtJQU53TUFJQVpDQURjRE9DQUdRZ0EzQXpBZ0JrSUFOd01vSUFaQ0FEY0RJQ0FHUWdBM0F4Z2dCa0lBTndNUVFRQWhDRUVBSVFSQkFDRUpJQTBFUUNBR0lBTWdJR29pQUMwQUF5QUFMUUFDYWlJWElBQXRBQUVnQUMwQUFHb2lGbW9pQWlBQUxRQUZJQUF0QUFScUloSnJJQUF0QUFjZ0FDMEFCbW9pRTJzaUNEWUNGQ0FHSUFJZ0Vtb2dFMm9pQkRZQ0VFRUJJUWtMSUJBRVFDQUdJQU1nR21vaUFDMEFBeUFBTFFBQ2FpSWVJQUF0QUFFZ0FDMEFBR29pSDJvaUFpQUFMUUFGSUFBdEFBUnFJaGhySUFBdEFBY2dBQzBBQm1vaUdXc2dDR29pQ0RZQ0ZDQUdJQUlnR0dvZ0JHb2dHV29pQkRZQ0VDQUpRUUZxSVFrTFFRQWhBQUovSUJGRkJFQWdDU0VIUVFBTUFRc2dCaUFEUVg5cUlnQWdER29pQWlBTGFpMEFBQ0FDTFFBQWFpSWJJQUFnQzJvdEFBQWdBQzBBQUdvaUhHb2lCeUFDSUF4cUlnQWdDMm90QUFBZ0FDMEFBR29pRldzZ0FDQU1haUlBSUF0cUxRQUFJQUF0QUFCcUlnOXJJZ0EyQWlBZ0JpQUhJQlZxSUFScUlBOXFJZ1EyQWhBZ0NVRUJhaUVIUVFFTElRSUNRQ0FHQW44Q1FBSkFBa0FnRGtVRVFDQUpEUUVNQWdzZ0JpQUFJQU5CQ0dvaUNpQU1haUlBSUF0cUxRQUFJQUF0QUFCcUlpTWdDaUFMYWkwQUFDQURMUUFJYWlJa2FpSWxJQUFnREdvaUFDQUxhaTBBQUNBQUxRQUFhaUlLYXlBQUlBeHFJZ0FnQzJvdEFBQWdBQzBBQUdvaUZHdHFJZ0EyQWlBZ0JpQUtJQ1ZxSUFScUlCUnFJZ1EyQWhBZ0FrRUJhaUVDSUFkQkFXb2hCeUFSUVFGeklBbEJBRWR5UlFSQUlBWWdHeUFjYWlBVmFpQVBhaUFrYXlBamF5QUtheUFVYTBFRWRTSUlOZ0lVREFNTElBbEZEUUlMSUFZZ0NDQUpRUUpxZFNJSU5nSVVDeUFXSUJkcUlCSnFJQk5xSUJscklCaHJJQjVySUI5clFRUjFJQkFnRFNBQ1JYRnhRUUZHRFFFYUlBSkZEUUlMSUFBZ0FrRUNhblVMSWdBMkFpQUxJQVlDZnlBSFFYOXFJZ0pCQWswRVFBSkFBa0FDUUNBQ1FRRnJEZ0lCQWdBTElBUkJBM1lNQXdzZ0JFRUVkZ3dDQ3lBRVFSVnNRUWwyREFFTElBUkJCWFlMSWdRMkFoQUNRQ0FBSUFoeVJRUkFJQVlnQkRZQ1NDQUdJQVEyQWt3Z0JpQUVOZ0pFSUFZZ0JEWUNRQ0FHSUFRMkFqd2dCaUFFTmdJNElBWWdCRFlDTkNBR0lBUTJBakFnQmlBRU5nSXNJQVlnQkRZQ0tDQUdJQVEyQWlRZ0JpQUVOZ0lnSUFZZ0JEWUNIQ0FHSUFRMkFoZ2dCaUFFTmdJVURBRUxJQVlnQkNBSWFpSUhJQUJyTmdKQUlBWWdCeUFBUVFGMUlnSnJOZ0l3SUFZZ0FpQUhhallDSUNBR0lBQWdCMm8yQWhBZ0JpQUVJQWhySWdjZ0FHczJBa3dnQmlBSElBSnJOZ0k4SUFZZ0FpQUhhallDTENBR0lBQWdCMm8yQWh3Z0JpQUVJQWhCQVhVaUNXb2lCeUFBYXpZQ1JDQUdJQWNnQW1zMkFqUWdCaUFDSUFkcU5nSWtJQVlnQUNBSGFqWUNGQ0FHSUFRZ0NXc2lCQ0FBYXpZQ1NDQUdJQVFnQW1zMkFqZ2dCaUFDSUFScU5nSW9JQVlnQUNBRWFqWUNHQXNnSVNBRlFRWjBhaUVJUVFBaEFDQUdRUkJxSVFRRFFDQUlJQVFnQUVFQmRFRU1jV29vQWdBaUFrSC9BU0FDUWY4QlNCc2lBa0VBSUFKQkFFb2JPZ0FBSUFRZ0JFRVFhaUFBUVFGcUlnQkJEM0ViSVFRZ0NFRUJhaUVJSUFCQndBQkhEUUFMSUFNZ0hXb2hBeUFGUVFGcUlnVkJBa2NOQUFzTElBRWdCa0hRQUdvUUd5QUdRZEFEYWlRQUN6WUFJQUlFUUNBQUlBRVFBZzhMUVFFaEFpQUJJQUJCQVJBRElnQTJBZ0FnQUVGL1J3Ui9JQUVnQUVFQmN6WUNBRUVBQlVFQkN3dk1Bd0VTZnlBRFFRRjBJUThnQTBGOWJDRVFRUUFnQTJzaUVVRUJkQ0VTSUFFZ0FpZ0NBR3BCZjJvdEFBQWlCMEVCYWlFVFFRQWdCMnNoQ2tFRUlRRURRQUpBSUFBZ0VXb2lGQzBBQUNJRklBQXRBQUFpQ0dzaUJDQUVRUjkxSWdScUlBUnpJQUlvQWdSUERRQWdBQ0FTYWlJTExRQUFJZ3dnQldzaUJDQUVRUjkxSWdScUlBUnpJQUlvQWdnaUJrOE5BQ0FBSUFOcUloVXRBQUFpRFNBSWF5SUVJQVJCSDNVaUJHb2dCSE1nQms4TkFDQUhJUVFnQUNBUWFpMEFBQ0lKSUFWcklnNGdEa0VmZFNJT2FpQU9jeUFHU1FSQUlBc2dEQ0FLSUFjZ0JTQUlha0VCYWtFQmRpQU1RUUYwYXlBSmFrRUJkU0lFSUFRZ0Iwb2JJQVFnQ2tnYmFqb0FBQ0FDS0FJSUlRWWdFeUVFQ3lBVUlBVUNmeUFBSUE5cUxRQUFJZ3NnQ0dzaUNTQUpRUjkxSWdscUlBbHpJQVpKQkVBZ0ZTQU5JQW9nQnlBRklBaHFRUUZxUVFGMklBMUJBWFJySUF0cVFRRjFJZ1lnQmlBSFNoc2dCaUFLU0J0cU9nQUFJQVJCQVdvaEJBdEJBQ0FFYXlJR0N5QUVJQWdnQld0QkFuUWdEV3NnREdwQkJHcEJBM1VpQlNBRklBUktHeUFGSUFaSUd5SUVha0d3TG1vdEFBQTZBQUFnQUNBSUlBUnJRYkF1YWkwQUFEb0FBQXNnQUVFQmFpRUFJQUZCZjJvaUFRMEFDd3Y3QmdFT2Z5QUNLQUlJSVFvZ0FpZ0NCQ0VQQWtBZ0FVRUVUd1JBSUE5QkFuWkJBbW9oRUVFRUlRSURRQUpBSUFCQmYyb2lCUzBBQUNJSElBQXRBQUFpQ0dzaUFTQUJRUjkxSWdGcUlBRnpJZzBnRDA4TkFDQUFRWDVxSWc0dEFBQWlBU0FIYXlJRUlBUkJIM1VpQkdvZ0JITWdDazhOQUNBQUxRQUJJZ2tnQ0dzaUJDQUVRUjkxSWdScUlBUnpJQXBQRFFBQ1FDQU5JQkJKQkVBZ0FDMEFBaUVMQW44Z0FFRjlhaUlOTFFBQUlnUWdCMnNpQmlBR1FSOTFJZ1pxSUFaeklBcEpCRUJCQXlFR0lBVWdDU0FISUFocUlBRnFJZ1ZCQVhScUlBUnFRUVJxUVFOMk9nQUFJQTRnQkNBRmFrRUNha0VDZGpvQUFDQUVRUU5zSVE0Z0JVRUVhaUVNSUFCQmZHb3RBQUFNQVFzZ0J5QUphaUVNUVFJaERrRUNJUVlnQlNFTklBRUxJUVFnRFNBTUlBNXFJQVJCQVhScUlBWjJPZ0FBSUFzZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6SUFwUERRRWdBQ0FISUFscUlBaHFJZ1VnQzJwQkFtcEJBblk2QUFFZ0FDQUZJQXRCQTJ4cUlBQXRBQU5CQVhScVFRUnFRUU4yT2dBQ0lBQWdBU0FGUVFGMGFpQUxha0VFYWtFRGRqb0FBQXdDQ3lBRklBY2dDV29nQVVFQmRHcEJBbXBCQW5ZNkFBQUxJQUFnQVNBSWFpQUpRUUYwYWtFQ2FrRUNkam9BQUFzZ0FDQURhaUVBSUFKQmYyb2lBZzBBQ3d3QkN5QUJJQUlvQWdCcVFYOXFMUUFBSWdWQkFXb2hEVUVBSUFWcklRaEJCQ0VDQTBBQ1FDQUFRWDlxSWc0dEFBQWlCQ0FBTFFBQUlnZHJJZ0VnQVVFZmRTSUJhaUFCY3lBUFR3MEFJQUJCZm1vaURDMEFBQ0lKSUFScklnRWdBVUVmZFNJQmFpQUJjeUFLVHcwQUlBQXRBQUVpQ3lBSGF5SUJJQUZCSDNVaUFXb2dBWE1nQ2s4TkFDQUFMUUFDSVFZZ0JTRUJJQUJCZldvdEFBQWlFQ0FFYXlJUklCRkJIM1VpRVdvZ0VYTWdDa2tFUUNBTUlBa2dDQ0FGSUFRZ0IycEJBV3BCQVhZZ0NVRUJkR3NnRUdwQkFYVWlBU0FCSUFWS0d5QUJJQWhJRzJvNkFBQWdEU0VCQ3lBT0lBUUNmeUFHSUFkcklnd2dERUVmZFNJTWFpQU1jeUFLU1FSQUlBQWdDeUFJSUFVZ0JDQUhha0VCYWtFQmRpQUxRUUYwYXlBR2FrRUJkU0lHSUFZZ0JVb2JJQVlnQ0VnYmFqb0FBU0FCUVFGcUlRRUxRUUFnQVdzaUJnc2dBU0FKSUF0cklBY2dCR3RCQW5ScVFRUnFRUU4xSWdRZ0JDQUJTaHNnQkNBR1NCc2lBV3BCc0M1cUxRQUFPZ0FBSUFBZ0J5QUJhMEd3TG1vdEFBQTZBQUFMSUFBZ0Eyb2hBQ0FDUVg5cUlnSU5BQXNMQzlvSEFRMS9Jd0JCd0FOckloRWtBQ0FHUVFWcUlRa0NRQUpBSUFKQkFFZ05BQ0FEUVFCSURRQWdBaUFKYWlBRVN3MEFJQU1nQjJwQkJXb2dCVXNOQUNBRUlRa2dBeUVLREFFTElBQWdFU0FDSUFNZ0JDQUZJQWtnQjBFRmFpQUpFQXdnRVNFQVFRQWhBZ3NDUUNBSFJRMEFJQUFnQ1NBS2JDQUNhbW9oRTBFUUlBWnJJUlFDUUNBR1FRSjJJaElFUUNBSklBWnJJUlVnRXlBSklBaEJBWFpCQVhGQkFuSnNha0VGYWlFQ0lBY2hCQU5BSUFKQmYyb3RBQUFoQUNBQ1FYNXFMUUFBSVFNZ0FrRjlhaTBBQUNFRklBSkJmR290QUFBaEN5QUNRWHRxTFFBQUlRMGdFaUVQQTBBZ0FTQUNMUUFBSWdvZ0RTQUFJQXRxSWd4cklBTWdCV3BCRkd4cUlBeEJBblJyYWtFUWFrRUZkVUd3TG1vdEFBQTZBQUFnQVNBQ0xRQUJJZ3dnQ3lBQUlBTnFRUlJzYWlBRklBcHFJZ3RySUF0QkFuUnJha0VRYWtFRmRVR3dMbW90QUFBNkFBRWdBU0FDTFFBQ0loQWdCU0FBSUFwcVFSUnNhaUFESUF4cUlnVnJJQVZCQW5ScmFrRVFha0VGZFVHd0xtb3RBQUE2QUFJZ0FTQUNMUUFESWc0Z0F5QUtJQXhxUVJSc2FpQUFJQkJxSWdOcklBTkJBblJyYWtFUWFrRUZkVUd3TG1vdEFBQTZBQU1nQVVFRWFpRUJJQUpCQkdvaEFpQUFJUTBnQ2lFTElBd2hCU0FRSVFNZ0RpRUFJQTlCZjJvaUR3MEFDeUFCSUJScUlRRWdBaUFWYWlFQ0lBUkJmMm9pQkEwQUN3d0JDeUFIUVg5cUlCUnNJQVpySUFGcVFSQnFJUUVMSUFkQkFuWWlCRVVOQUVIQUFDQUdheUVRSUFsQkFYUWhDaUFKUVFKMElBWnJJUXRCQUNBSmF5SU1RUUYwSVJJZ0FTQUhRUVIwYXlFQ0lBa2dFMm9nQ0VFQmNXcEJBbW9pQUNBSlFRVnNhaUVCQTBBZ0JpSURCRUFEUUNBQ0lBQWdDbW90QUFBaUJTQUJJQXBxTFFBQUlBRWdDV290QUFBaURpQUJJQkpxTFFBQUlnZHFJZ2hySUFoQkFuUnJhaUFCTFFBQUlnMGdBU0FNYWkwQUFDSUlha0VVYkdwQkVHcEJCWFZCc0M1cUxRQUFJQUl0QURCcVFRRnFRUUYyT2dBd0lBSWdBQ0FKYWkwQUFDSVBJQTRnQnlBSWFrRVViR29nQlNBTmFpSU9heUFPUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBSUFJdEFDQnFRUUZxUVFGMk9nQWdJQUlnQUMwQUFDSU9JQTBnQlNBSGFrRVViR29nQ0NBUGFpSU5heUFOUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBSUFJdEFCQnFRUUZxUVFGMk9nQVFJQUlnQUNBTWFpMEFBQ0FJSUFVZ0QycEJGR3hxSUFjZ0Rtb2lCV3NnQlVFQ2RHdHFRUkJxUVFWMVFiQXVhaTBBQUNBQ0xRQUFha0VCYWtFQmRqb0FBQ0FBUVFGcUlRQWdBa0VCYWlFQ0lBRkJBV29oQVNBRFFYOXFJZ01OQUFzTElBSWdFR29oQWlBQklBdHFJUUVnQUNBTGFpRUFJQVJCZjJvaUJBMEFDd3NnRVVIQUEyb2tBQXUxQlFFRWZ5QUFLQUlVSVFNZ0FDZ0NFQ0VFSUFBb0FnUWhCU0FBS0FJTUlnSWdBU2tDQURjQ0FDQUNJQUVwQWdnM0FnZ2dBaUFGUVFSMElnQnFJZ0lnQVNrQ0VEY0NBQ0FDSUFFcEFoZzNBZ2dnQUNBQ2FpSUNJQUVwQWlBM0FnQWdBaUFCS1FJb053SUlJQUFnQW1vaUFpQUJLUUl3TndJQUlBSWdBU2tDT0RjQ0NDQUFJQUpxSWdJZ0FTa0NRRGNDQUNBQ0lBRXBBa2czQWdnZ0FDQUNhaUlDSUFFcEFsQTNBZ0FnQWlBQktRSllOd0lJSUFBZ0Ftb2lBaUFCS1FKZ053SUFJQUlnQVNrQ2FEY0NDQ0FBSUFKcUlnSWdBU2tDY0RjQ0FDQUNJQUVwQW5nM0FnZ2dBQ0FDYWlJQ0lBRXBBb0FCTndJQUlBSWdBU2tDaUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBcEFCTndJQUlBSWdBU2tDbUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBcUFCTndJQUlBSWdBU2tDcUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBckFCTndJQUlBSWdBU2tDdUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBc0FCTndJQUlBSWdBU2tDeUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBdEFCTndJQUlBSWdBU2tDMkFFM0FnZ2dBQ0FDYWlJQ0lBRXBBdUFCTndJQUlBSWdBU2tDNkFFM0FnZ2dBQ0FDYWlJQUlBRXBBdkFCTndJQUlBQWdBU2tDK0FFM0FnZ2dCQ0FCS1FLQUFqY0NBQ0FFSUFWQkEzUWlBR29pQkNBQktRS0lBamNDQUNBQUlBUnFJZ1FnQVNrQ2tBSTNBZ0FnQUNBRWFpSUVJQUVwQXBnQ053SUFJQUFnQkdvaUJDQUJLUUtnQWpjQ0FDQUFJQVJxSWdRZ0FTa0NxQUkzQWdBZ0FDQUVhaUlFSUFFcEFyQUNOd0lBSUFBZ0JHb2dBU2tDdUFJM0FnQWdBeUFCS1FMQUFqY0NBQ0FBSUFOcUlnTWdBU2tDeUFJM0FnQWdBQ0FEYWlJRElBRXBBdEFDTndJQUlBQWdBMm9pQXlBQktRTFlBamNDQUNBQUlBTnFJZ01nQVNrQzRBSTNBZ0FnQUNBRGFpSURJQUVwQXVnQ053SUFJQUFnQTJvaUF5QUJLUUx3QWpjQ0FDQUFJQU5xSUFFcEF2Z0NOd0lBQytnQ0FRVi9Ba0FnQUNBQkVBSWlBdzBBUVFFaEF5QUJJQUVvQWdCQkFXb2lBallDQUNBQ1FTQkxEUUFnQUVFRUVBTWlBa0YvUmcwQUlBRWdBallDQkNBQVFRUVFBeUlDUVg5R0RRQWdBU0FDTmdJSUlBRW9BZ0FFUUFOQUlBQWdBU0FGUVFKMGFpSUNJZ1JCREdvUUFpSUREUUpCQVNFRElBUW9BZ3dpQmtGL1JnMENJQVFnQmtFQmFpSUROZ0lNSUFRZ0F5QUJLQUlFUVFacWREWUNEQ0FBSUFKQmpBRnFFQUlpQXcwQ1FRRWhBeUFDS0FLTUFTSUVRWDlHRFFJZ0FpQUVRUUZxSWdRMkFvd0JJQUlnQkNBQktBSUlRUVJxZERZQ2pBRWdBRUVCRUFNaUJFRi9SZzBDSUFJZ0JFRUJSallDakFJZ0JVRUJhaUlGSUFFb0FnQkpEUUFMQ3lBQVFRVVFBeUlDUVg5R0RRQWdBU0FDUVFGcU5nS01BeUFBUVFVUUF5SUNRWDlHRFFBZ0FTQUNRUUZxTmdLUUF5QUFRUVVRQXlJQ1FYOUdEUUFnQVNBQ1FRRnFOZ0tVQXlBQVFRVVFBeUlBUVg5R0RRQWdBU0FBTmdLWUEwRUFJUU1MSUFNTFd3RURmeUFBSUFBb0FnQWlCQ0FCSUFBb0FnUWlBbkFpQTBFRWRHb2dBU0FEYXlJQlFRaDBhallDRENBQUlBUWdBaUFBS0FJSWJDSUNRUWgwYWlBQlFRWjBhaUFEUVFOMGFpSUJOZ0lRSUFBZ0FTQUNRUVowYWpZQ0ZBdFZBUUovSUFFZ0FrRUJhaUlESUFNZ0FVa2JJUU1nQUNBQ1FRSjBhaWdDQUNFRUEwQUNRQ0FDUVFGcUlnSWdBVThFUUNBRElRSU1BUXNnQUNBQ1FRSjBhaWdDQUNBRVJ3MEJDd3RCQUNBQ0lBRWdBa1liQ3ljQUlBQkJDQ0FBS0FJSUlnQnJFQU5CZjBZRVFBOExRUUFnQUd0QkFuUkJ6RDlxS0FJQUdndDZBUUovSXdCQklHc2lBaVFBSUFJZ0FDZ0NFRFlDRUNBQ0lBQXBBZ2czQXdnZ0FpQUFLUUlBTndNQUFrQWdBaUFDUVJ4cUVBSWlBQTBBSUFJZ0FrRWNhaEFDSWdBTkFDQUNJQUpCSEdvUUFpSUFEUUJCQVNFQUlBSW9BaHdpQTBIL0FVc05BQ0FCSUFNMkFnQkJBQ0VBQ3lBQ1FTQnFKQUFnQUF2bkJ3RVNmeU1BUVlBT2F5SU1KQUFnQmtFRmFpRUpBa0FDUUNBQ1FRQklEUUFnQTBFQVNBMEFJQUlnQ1dvZ0JFc05BQ0FESUFkcVFRVnFJQVZMRFFBZ0F5RUtEQUVMSUFBZ0RFSEFDbW9nQWlBRElBUWdCU0FKSUFkQkJXb2dDUkFNSUF4QndBcHFJUUFnQ1NFRVFRQWhBZ3NDUUNBSFFRSjJJaFJGRFFBZ0NVVU5BQ0FFUVFGMElSVkJBQ0FFYXlJV1FRRjBJUm9nQkVFQ2RDQUdhMEY3YWlFWElBQWdCQ0FLYkNBQ2Ftb2dCR29pQUNBRVFRVnNhaUVDSUF3Z0NVRUNkQ0lRYWlFRElBbEJBM1FoRFVFQUlBbHJRUUowSVE0Z0NVRURiRUVDZENFUEEwQWdDU0VGQTBBZ0F5QU5haUFBSUJWcUxRQUFJaEVnQWlBVmFpMEFBQ0FDSUFScUxRQUFJZ3NnQWlBYWFpMEFBQ0lTYWlJS2F5QUtRUUowYTJvZ0FpMEFBQ0lZSUFJZ0Ztb3RBQUFpRTJwQkZHeHFOZ0lBSUFNZ0VHb2dBQ0FFYWkwQUFDSVpJQXNnRWlBVGFrRVViR29nRVNBWWFpSUtheUFLUVFKMGEybzJBZ0FnQXlBQUxRQUFJZ3NnR0NBUklCSnFRUlJzYWlBVElCbHFJZ3BySUFwQkFuUnJhallDQUNBRElBNXFJQUFnRm1vdEFBQWdFeUFSSUJscVFSUnNhaUFMSUJKcUlncHJJQXBCQW5ScmFqWUNBQ0FBUVFGcUlRQWdBMEVFYWlFRElBSkJBV29oQWlBRlFYOXFJZ1VOQUFzZ0FpQVhhaUVDSUFBZ0Yyb2hBQ0FESUE5cUlRTWdGRUYvYWlJVURRQUxDeUFIQkVCQkVDQUdheUVRSUFaQkFuWWhDaUFNSUFoQkFuUnFRUWhxSVFBZ0RFRVVhaUVDQTBBZ0NnUkFJQUpCYkdvb0FnQWhCQ0FDUVhCcUtBSUFJUThnQWtGMGFpZ0NBQ0VOSUFKQmVHb29BZ0FoQlNBQ1FYeHFLQUlBSVFNZ0NpRUpBMEFnQVNBQ0tBSUFJZzRnQkNBRElBOXFJZ1JySUFVZ0RXcEJGR3hxSUFSQkFuUnJha0dBQkdwQkNuVkJzQzVxTFFBQUlBQW9BZ0JCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFDQUJJQUlvQWdRaUN5QVBJQU1nQldwQkZHeHFJQTBnRG1vaUJHc2dCRUVDZEd0cVFZQUVha0VLZFVHd0xtb3RBQUFnQUNnQ0JFRVFha0VGZFVHd0xtb3RBQUJxUVFGcVFRRjJPZ0FCSUFFZ0FpZ0NDQ0lJSUEwZ0F5QU9ha0VVYkdvZ0JTQUxhaUlFYXlBRVFRSjBhMnBCZ0FScVFRcDFRYkF1YWkwQUFDQUFLQUlJUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFBSWdBU0FDS0FJTUlnWWdCU0FMSUE1cVFSUnNhaUFESUFocUlnUnJJQVJCQW5ScmFrR0FCR3BCQ25WQnNDNXFMUUFBSUFBb0FneEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQXlBQlFRUnFJUUVnQUVFUWFpRUFJQUpCRUdvaEFpQURJUVFnRGlFUElBc2hEU0FJSVFVZ0JpRURJQWxCZjJvaUNRMEFDd3NnQVNBUWFpRUJJQUJCRkdvaEFDQUNRUlJxSVFJZ0IwRi9haUlIRFFBTEN5QU1RWUFPYWlRQUM5RUhBUXgvSXdCQmdBNXJJZzhrQUNBR1FRVnFJUWtDUUFKQUlBSkJBRWdOQUNBRFFRQklEUUFnQWlBSmFpQUVTdzBBSUFkQkJXb2lEaUFEYWlBRlN3MEFJQVFoQ1NBRElRb01BUXNnQUNBUFFjQUthaUFDSUFNZ0JDQUZJQWtnQjBFRmFpSU9JQWtRRENBUFFjQUthaUVBUVFBaEFnc0NRQ0FPUlEwQUlBWkJBbllpRWtVTkFDQUpJQVpySVJNZ0FDQUpJQXBzSUFKcWFrRUZhaUVDSUE4aEFBTkFJQUpCZjJvdEFBQWhDU0FDUVg1cUxRQUFJUU1nQWtGOWFpMEFBQ0VGSUFKQmZHb3RBQUFoQ2lBQ1FYdHFMUUFBSVF3Z0VpRU5BMEFnQUNBQ0xRQUFJZ1FnRENBSklBcHFJZ3RySUFNZ0JXcEJGR3hxSUF0QkFuUnJhallDQUNBQUlBSXRBQUVpQ3lBRElBbHFRUlJzSUFwcUlBUWdCV29pQ21zZ0NrRUNkR3RxTmdJRUlBQWdBaTBBQWlJUUlBUWdDV3BCRkd3Z0JXb2dBeUFMYWlJRmF5QUZRUUowYTJvMkFnZ2dBQ0FDTFFBREloUWdCQ0FMYWtFVWJDQURhaUFKSUJCcUlnTnJJQU5CQW5ScmFqWUNEQ0FBUVJCcUlRQWdBa0VFYWlFQ0lBa2hEQ0FFSVFvZ0N5RUZJQkFoQXlBVUlRa2dEVUYvYWlJTkRRQUxJQUlnRTJvaEFpQU9RWDlxSWc0TkFBc0xJQWRCQW5ZaUJ3UkFRY0FBSUFacklSUWdEeUFHUVFKMElnUnFJZ2tnQmtFVWJHb2hBaUFKSUFoQkFtb2dCbXhCQW5ScUlRQWdCa0VEYkVFQ2RDRUZRUUFnQm1zaURrRURkQ0VUSUFaQkEzUWhDQU5BSUFZaEF5QUdCRUFEUUNBQklBZ2dDV29vQWdBaUNpQUNJQWhxS0FJQUlBSWdCR29vQWdBaUVTQUNJQk5xS0FJQUlndHFJZ3hySUF4QkFuUnJhaUFDS0FJQUlnMGdBaUFPUVFKMEloQnFLQUlBSWd4cVFSUnNha0dBQkdwQkNuVkJzQzVxTFFBQUlBQWdDR29vQWdCQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FNQ0FCSUFRZ0NXb29BZ0FpRWlBUklBc2dER3BCRkd4cUlBb2dEV29pRVdzZ0VVRUNkR3RxUVlBRWFrRUtkVUd3TG1vdEFBQWdBQ0FFYWlnQ0FFRVFha0VGZFVHd0xtb3RBQUJxUVFGcVFRRjJPZ0FnSUFFZ0NTZ0NBQ0lSSUEwZ0NpQUxha0VVYkdvZ0RDQVNhaUlOYXlBTlFRSjBhMnBCZ0FScVFRcDFRYkF1YWkwQUFDQUFLQUlBUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFCQWdBU0FKSUJCcUtBSUFJQXdnQ2lBU2FrRVViR29nQ3lBUmFpSUtheUFLUVFKMGEycEJnQVJxUVFwMVFiQXVhaTBBQUNBQUlCQnFLQUlBUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFBQWdBRUVFYWlFQUlBbEJCR29oQ1NBQlFRRnFJUUVnQWtFRWFpRUNJQU5CZjJvaUF3MEFDd3NnQVNBVWFpRUJJQUFnQldvaEFDQUNJQVZxSVFJZ0JTQUphaUVKSUFkQmYyb2lCdzBBQ3dzZ0QwR0FEbW9rQUF1MEJnRUpmeU1BUWNBRGF5SU5KQUFnQmtFRmFpRUpBa0FDUUNBQ1FRQklEUUFnQXlBSGFpQUZTdzBBSUFOQkFFZ05BQ0FDSUFscUlBUkxEUUFnQkNFSklBTWhDZ3dCQ3lBQUlBMGdBaUFESUFRZ0JTQUpJQWNnQ1JBTUlBMGhBRUVBSVFJTElBY0VRRUVRSUFacklSQWdDU0FHYXlFUklBWkJBblloRHlBQUlBa2dDbXdnQW1wcVFRVnFJUWtEUUFKQUlBOUZEUUFnQ1VGL2FpMEFBQ0VDSUFsQmZtb3RBQUFoQmlBSlFYMXFMUUFBSVFNZ0NVRjhhaTBBQUNFRklBbEJlMm90QUFBaENpQVBJZ0FoQ3lBSUJFQURRQ0FCSUFZZ0NTMEFBQ0lFSUFvZ0FpQUZhaUlLYXlBRElBWnFRUlJzYWlBS1FRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFDQUJJQUlnQ1MwQUFTSUxJQVVnQWlBR2FrRVViR29nQXlBRWFpSUZheUFGUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQVNBQklBUWdDUzBBQWlJTUlBTWdBaUFFYWtFVWJHb2dCaUFMYWlJRGF5QURRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBaUFCSUFzZ0NTMEFBeUlPSUFZZ0JDQUxha0VVYkdvZ0FpQU1haUlEYXlBRFFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUF5QUJRUVJxSVFFZ0NVRUVhaUVKSUFJaENpQUVJUVVnQ3lFRElBd2hCaUFPSVFJZ0FFRi9haUlBRFFBTUFnQUxBQXNEUUNBQklBTWdDUzBBQUNJQUlBb2dBaUFGYWlJRWF5QURJQVpxUVJSc2FpQUVRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBQ0FCSUFZZ0NTMEFBU0lFSUFVZ0FpQUdha0VVYkdvZ0FDQURhaUlGYXlBRlFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFTQUJJQUlnQ1MwQUFpSU1JQU1nQUNBQ2FrRVViR29nQkNBR2FpSURheUFEUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQWlBQklBQWdDUzBBQXlJT0lBWWdBQ0FFYWtFVWJHb2dBaUFNYWlJRGF5QURRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBeUFCUVFScUlRRWdDVUVFYWlFSklBSWhDaUFBSVFVZ0JDRURJQXdoQmlBT0lRSWdDMEYvYWlJTERRQUxDeUFCSUJCcUlRRWdDU0FSYWlFSklBZEJmMm9pQncwQUN3c2dEVUhBQTJva0FBdkdCQUVMZnlNQVFjQURheUlOSkFBQ1FBSkFJQUpCQUVnTkFDQURRUUJJRFFBZ0FpQUdhaUFFU3cwQUlBTWdCMnBCQldvZ0JVc05BQ0FESVFrTUFRc2dBQ0FOSUFJZ0F5QUVJQVVnQmlBSFFRVnFJQVlRRENBTklRQWdCaUVFUVFBaEFnc2dCMEVDZGlJUUJFQkJ3QUFnQm1zaEVpQUVRUUYwSVFVZ0JFRUNkQ0FHYXlFT1FRQWdCR3NpRDBFQmRDRVRJQUFnQkNBSmJDQUNhbW9nQkdvaUFDQUVRUVZzYWlFQ0lBQWdCQ0FJUVFKcWJHb2hCd05BSUFZaEF5QUdCRUFEUUNBQklBQWdCV290QUFBaUNDQUNJQVZxTFFBQUlBSWdCR290QUFBaUNpQUNJQk5xTFFBQUlnbHFJZ3RySUF0QkFuUnJhaUFDTFFBQUlnd2dBaUFQYWkwQUFDSUxha0VVYkdwQkVHcEJCWFZCc0M1cUxRQUFJQVVnQjJvdEFBQnFRUUZxUVFGMk9nQXdJQUVnQUNBRWFpMEFBQ0lSSUFvZ0NTQUxha0VVYkdvZ0NDQU1haUlLYXlBS1FRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQUlBUWdCMm90QUFCcVFRRnFRUUYyT2dBZ0lBRWdBQzBBQUNJS0lBd2dDQ0FKYWtFVWJHb2dDeUFSYWlJTWF5QU1RUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFJQWN0QUFCcVFRRnFRUUYyT2dBUUlBRWdBQ0FQYWkwQUFDQUxJQWdnRVdwQkZHeHFJQWtnQ21vaUNHc2dDRUVDZEd0cVFSQnFRUVYxUWJBdWFpMEFBQ0FISUE5cUxRQUFha0VCYWtFQmRqb0FBQ0FIUVFGcUlRY2dBRUVCYWlFQUlBRkJBV29oQVNBQ1FRRnFJUUlnQTBGL2FpSUREUUFMQ3lBQklCSnFJUUVnQnlBT2FpRUhJQUlnRG1vaEFpQUFJQTVxSVFBZ0VFRi9haUlRRFFBTEN5QU5RY0FEYWlRQUM0OEhBUXgvSUFFb0FnZ2hDeUFCS0FJRUlRWUNRQUpBQWtBZ0FrRUZTdzBBSUFKQkFXc09CQUFBQUFBQkN5QUFLQUs0R2cwQURBRUxJQUJCeEFscUlRUURRQ0FFSUFNUUZDRUhJQU5CRGtzTkFTQURRUUZxSVFNZ0IwVU5BQXNMQWtBQ1FBSkFBa0FnQUNnQ21Ba2lDQVJBSUFBb0Fyd0pJUXBCQUNFRFFRQWhCQU5BSUFvZ0EwSFlBV3hxS0FMRUFVVUVRRUVBSUFSQkFXb2lCQ0FFSUFaR0lnVWJJUVFnQlNBSmFpRUpJQU5CQVdvaUF5QUlTUTBCQ3dzZ0F5QUlSdzBCQ3dKQUFrQWdBa0YrYWlJQ1FRVkxEUUFDUUNBQ1FRRnJEZ1FCQVFFQkFBc2dCMFVOQVNBQUtBSzRHa1VOQVF3REN5QUhEUUlMSUFFb0FnQkJnQUVnQmlBTGJFR0FBMndRQnhvTUFnc2dBQ2dDdkFrZ0JpQUpiRUhZQVd4cUlRZ2dCQVJBSUFRaEF3TkFJQWdnQTBGL2FpSURRZGdCYkdvaUNpQUJJQWtnQXlBQ0lBY1FGaUFLUVFFMkFzUUJJQUFnQUNnQ3RBbEJBV28yQXJRSklBTU5BQXNMSUFSQkFXb2lBeUFHU1FSQUEwQWdDQ0FEUWRnQmJHb2lCQ2dDeEFGRkJFQWdCQ0FCSUFrZ0F5QUNJQWNRRmlBRVFRRTJBc1FCSUFBZ0FDZ0N0QWxCQVdvMkFyUUpDeUFEUVFGcUlnTWdCa2NOQUFzTEFrQWdDVVVOQUNBR1JRMEFRUUFoQlNBSlFYOXFJZ3dnQm13aERTQU1SUVJBQTBBZ0FDZ0N2QWtnRFVIWUFXeHFJQVZCMkFGc2FpSUVJQUZCQUNBRklBSWdCeEFXSUFSQkFUWUN4QUVnQUNBQUtBSzBDVUVCYWpZQ3RBa2dCVUVCYWlJRklBWkhEUUFNQWdBTEFBc2dDVUYrYWlFSVFRQWdCbXRCMkFGc0lRNERRQ0FBS0FLOENTQU5RZGdCYkdvZ0JVSFlBV3hxSWdNZ0FTQU1JQVVnQWlBSEVCWWdBMEVCTmdMRUFTQUFJQUFvQXJRSlFRRnFOZ0swQ1NBSUlRUURRQ0FESUE1cUlnTWdBU0FFSWdvZ0JTQUNJQWNRRmlBRFFRRTJBc1FCSUFBZ0FDZ0N0QWxCQVdvMkFyUUpJQVJCZjJvaEJDQUtEUUFMSUFWQkFXb2lCU0FHUncwQUN3c2dDVUVCYWlJRklBdFBEUUlnQmtVTkFnTkFJQUFvQXJ3SklBVWdCbXhCMkFGc2FpRUlRUUFoQXdOQUlBZ2dBMEhZQVd4cUlnUW9Bc1FCUlFSQUlBUWdBU0FGSUFNZ0FpQUhFQllnQkVFQk5nTEVBU0FBSUFBb0FyUUpRUUZxTmdLMENRc2dBMEVCYWlJRElBWkhEUUFMSUFWQkFXb2lCU0FMUncwQUN3d0NDeUFCS0FJQUlBY2dCaUFMYkVHQUEyd1FGUm9MSUFBZ0FDZ0NtQWtpQVRZQ3RBa2dBVVVOQUNBQUtBSzhDU0VBUVFBaEF3TkFJQUFnQTBIWUFXeHFRUUUyQWdnZ0EwRUJhaUlESUFGSERRQUxDd3MyQVFKL0lBQW9BaWdpQWdSQUEwQWdBQ2dDQkNBQlFRSjBhaUFBS0FJQUlBRkJLR3hxTmdJQUlBRkJBV29pQVNBQ1J3MEFDd3NMOXdRQ0RIOEJma0VISVFVakFFRWdheUlJSVF3RFFDQUZJQUZKQkVBZ0FFRUFJQVZyUVNoc2FpRUtJQVVoQmdOQUlBQWdCa0VvYkdvaUFpZ0NDQ0VKSUFJcEFnQWhEaUFJSUFJcEFndzNBeGdnQWlnQ0dDRU5JQUlvQWhRaEN5QU1JQUlvQWlRMkFoQWdDQ0FDS1FJY053TUlBa0FnQmlJRElBVkpEUUFDUUNBTFJRUkFBMEFnQ2lBRFFTaHNJZ0pxSWdRb0FoUU5BaUFOUlEwQ0lBUW9BaGdOQWlBQUlBSnFJZ1FnQUNBRElBVnJJZ05CS0d4cUlnSXBBZ0EzQWdBZ0JDQUNLUUlnTndJZ0lBUWdBaWtDR0RjQ0dDQUVJQUlwQWhBM0FoQWdCQ0FDS1FJSU53SUlJQU1nQlU4TkFBd0RBQXNBQ3lBTFFYOXFRUUZOQkVBRFFBSi9Ba0FnQ2lBRFFTaHNJZ0pxSWdRb0FoUWlCMFVOQUNBSFFYOXFRUUZMRFFBZ0JDZ0NDQ0lISUFsS0RRUWdBQ0FDYWlJRUlBY2dDVWdOQVJvZ0JDRUNEQVVMSUFBZ0Ftb0xJZ1FnQUNBRElBVnJJZ05CS0d4cUlnSXBBZ0EzQWdBZ0JDQUNLUUlnTndJZ0lBUWdBaWtDR0RjQ0dDQUVJQUlwQWhBM0FoQWdCQ0FDS1FJSU53SUlJQU1nQlU4TkFBd0RBQXNBQ3dOQUlBb2dBMEVvYkNJQ2FpSUVLQUlVSWdjRVFDQUhRWDlxUVFKSkRRSWdCQ2dDQ0NBSlRBMENDeUFBSUFKcUlnUWdBQ0FESUFWcklnTkJLR3hxSWdJcEFnQTNBZ0FnQkNBQ0tRSWdOd0lnSUFRZ0Fpa0NHRGNDR0NBRUlBSXBBaEEzQWhBZ0JDQUNLUUlJTndJSUlBTWdCVThOQUFzTUFRc2dBQ0FEUVNoc2FpRUNDeUFDSUE0M0FnQWdBQ0FEUVNoc2FpSURJQWsyQWdnZ0NDa0RHQ0VPSUFNZ0RUWUNHQ0FESUFzMkFoUWdBeUFPTndJTUlBTWdDQ2tEQ0RjQ0hDQURJQXdvQWhBMkFpUWdCa0VCYWlJR0lBRkhEUUFMQ3lBRlFRRjJJZ1VOQUFzTHJRVUJBWDhDUUNBQUtBSUFJZ0VvQWhSRkRRQWdBVUVBTmdJVUlBRW9BaGdOQUNBQUlBQW9BaXhCZjJvMkFpd0xBa0FnQVNnQ1BFVU5BQ0FCUVFBMkFqd2dBVUZBYXlnQ0FBMEFJQUFnQUNnQ0xFRi9hallDTEFzQ1FDQUJLQUprUlEwQUlBRkJBRFlDWkNBQktBSm9EUUFnQUNBQUtBSXNRWDlxTmdJc0N3SkFJQUVvQW93QlJRMEFJQUZCQURZQ2pBRWdBU2dDa0FFTkFDQUFJQUFvQWl4QmYybzJBaXdMQWtBZ0FTZ0N0QUZGRFFBZ0FVRUFOZ0swQVNBQktBSzRBUTBBSUFBZ0FDZ0NMRUYvYWpZQ0xBc0NRQ0FCS0FMY0FVVU5BQ0FCUVFBMkF0d0JJQUVvQXVBQkRRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3dKQUlBRW9Bb1FDUlEwQUlBRkJBRFlDaEFJZ0FTZ0NpQUlOQUNBQUlBQW9BaXhCZjJvMkFpd0xBa0FnQVNnQ3JBSkZEUUFnQVVFQU5nS3NBaUFCS0FLd0FnMEFJQUFnQUNnQ0xFRi9hallDTEFzQ1FDQUJLQUxVQWtVTkFDQUJRUUEyQXRRQ0lBRW9BdGdDRFFBZ0FDQUFLQUlzUVg5cU5nSXNDd0pBSUFFb0F2d0NSUTBBSUFGQkFEWUMvQUlnQVNnQ2dBTU5BQ0FBSUFBb0FpeEJmMm8yQWl3TEFrQWdBU2dDcEFORkRRQWdBVUVBTmdLa0F5QUJLQUtvQXcwQUlBQWdBQ2dDTEVGL2FqWUNMQXNDUUNBQktBTE1BMFVOQUNBQlFRQTJBc3dESUFFb0F0QUREUUFnQUNBQUtBSXNRWDlxTmdJc0N3SkFJQUVvQXZRRFJRMEFJQUZCQURZQzlBTWdBU2dDK0FNTkFDQUFJQUFvQWl4QmYybzJBaXdMQWtBZ0FTZ0NuQVJGRFFBZ0FVRUFOZ0tjQkNBQktBS2dCQTBBSUFBZ0FDZ0NMRUYvYWpZQ0xBc0NRQ0FCS0FMRUJFVU5BQ0FCUVFBMkFzUUVJQUVvQXNnRURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3dKQUlBRW9BdXdFUlEwQUlBRkJBRFlDN0FRZ0FTZ0M4QVFOQUNBQUlBQW9BaXhCZjJvMkFpd0xBMEFnQUJCZVJRMEFDeUFBUVFBMkFqQWdBRUwvL3dNM0FpUUwzUTRCQ1g4Z0FpZ0NBQ0FBS0FJSUlnSW9BZ0JHQkVBZ0FFRUFOZ0kwSUFBb0FqZ2lDMFVoRFFKQUlBRkZCRUFnQWlBRE5nSU1JQUpCQURZQ0ZDQUNJQTAyQWhnZ0FpQUVOZ0lRSUFJZ0F6WUNDQ0FMRFFFZ0FDQUFLQUlzUVFGcU5nSXNEQUVMSUFVRVFDQUFRZ0EzQWhBZ0FCQW9Ba0FnQVNnQ0FFVUVRQ0FBS0FJNFJRMEJDeUFBUWdBM0FoQUxJQUFvQWdnaUFrRURRUUlnQVNnQ0JDSUJHellDRkNBQVFRQkIvLzhESUFFYk5nSWtJQUlnRFRZQ0dDQUNRUUEyQWhBZ0FrSUFOd0lJSUFCQ2dZQ0FnQkEzQWlnTUFRc0NRQUpBQWtBZ0FTZ0NDQVJBUVFBaEN3TkFJQUVnQzBFVWJHb2lDQ2dDRENJQ1FRWkxEUUlDUUFKQUFrQUNRQUpBQWtBQ1FDQUNRUUZyRGdZQUFRSURCQVVKQ3lBQUtBSVlJZ2xGRFFnZ0F5QUlLQUlRYXlFTUlBQW9BZ0FoQ2tFQUlRZ0RRQUpBSUFvZ0NFRW9iR29pQWlnQ0ZFRi9ha0VCVFFSQUlBSW9BZ2dnREVZTkFRc2dDRUVCYWlJSUlBbEhEUUVNQ2dzTElBaEJBRWdOQ0NBQ1FRQTJBaFFnQUNBQUtBSW9RWDlxTmdJb0lBSW9BaGdOQlNBQUlBQW9BaXhCZjJvMkFpd2dDMEVCYWlFTERBWUxJQUFvQWhnaUNVVU5CeUFJS0FJVUlRd2dBQ2dDQUNFS1FRQWhDQU5BQWtBZ0NpQUlRU2hzYWlJQ0tBSVVRUU5HQkVBZ0FpZ0NDQ0FNUmcwQkN5QUlRUUZxSWdnZ0NVY05BUXdKQ3dzZ0NFRUFTQTBISUFKQkFEWUNGQ0FBSUFBb0FpaEJmMm8yQWlnZ0FpZ0NHQTBFSUFBZ0FDZ0NMRUYvYWpZQ0xDQUxRUUZxSVFzTUJRc2dBQ2dDSkNJQ1FmLy9BMFlOQmlBQ0lBZ29BaGdpREVrTkJpQUFLQUlZSWdsRkRRWWdDQ2dDRUNFT0lBQW9BZ0FoQ2tFQUlRSURRQUpBQWtBZ0NpQUNRU2hzYWlJSUtBSVVRUU5IRFFBZ0NDZ0NDQ0FNUncwQUlBaEJBRFlDRkNBQUlBQW9BaWhCZjJvMkFpZ2dDQ2dDR0EwQklBQWdBQ2dDTEVGL2FqWUNMQXdCQ3lBQ1FRRnFJZ0lnQ1VjTkFRc0xJQWxCQVNBSlFRRkxHeUVKSUFNZ0Rtc2hEa0VBSVFnRFFBSkFJQW9nQ0VFb2JHb2lBaWdDRkNJUFFYOXFRUUZOQkVBZ0FpZ0NDQ0FPUmcwQkN5QUlRUUZxSWdnZ0NVY05BUXdJQ3dzZ0NFRUFTQTBHSUE5QkFra05CaUFDUVFNMkFoUWdBaUFNTmdJSUlBdEJBV29oQ3d3RUN5QUFJQWdvQWh3aUNUWUNKQ0FBS0FJWUlneEZEUUlnQUNnQ0FDRUtRUUFoQWlBSlFmLy9BMFlFUUFOQUFrQWdDaUFDUVNoc2FpSUlLQUlVUVFOSERRQWdDRUVBTmdJVUlBQWdBQ2dDS0VGL2FqWUNLQ0FJS0FJWURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3lBQ1FRRnFJZ0lnREVjTkFBd0VBQXNBQ3dOQUFrQWdDaUFDUVNoc2FpSUlLQUlVUVFOSERRQWdDQ2dDQ0NBSlRRMEFJQWhCQURZQ0ZDQUFJQUFvQWloQmYybzJBaWdnQ0NnQ0dBMEFJQUFnQUNnQ0xFRi9hallDTEFzZ0FrRUJhaUlDSUF4SERRQUxEQUlMSUFBUUtDQUFRUUUyQWpSQkFDRURJQXRCQVdvaEN3d0NDeUFBS0FJa0lnSkIvLzhEUmcwRElBSWdDQ2dDR0NJTVNRMERJQUFvQWhnaUNrVU5BeUFBS0FJQUlRaEJBQ0VDQWtBRFFBSkFJQWdnQWtFb2JHb2lDU2dDRkVFRFJ3MEFJQWtvQWdnZ0RFY05BQ0FKUVFBMkFoUWdBQ0FBS0FJb1FYOXFJZ2cyQWlnZ0NTZ0NHQTBDSUFBZ0FDZ0NMRUYvYWpZQ0xBd0NDeUFDUVFGcUlnSWdDa2NOQUFzZ0FDZ0NLQ0VJQ3lBSUlBcFBEUU1nQUNnQ0NDSUNRUU0yQWhRZ0FpQUVOZ0lRSUFJZ0REWUNDQ0FDSUFNMkFnd2dBaUFBS0FJNFJUWUNHRUVCSVJBZ0FDQUlRUUZxTmdJb0lBQWdBQ2dDTEVFQmFqWUNMQXNnQzBFQmFpRUxEQUFBQ3dBTFFRQWhBaUFBS0FJb0lna2dBQ2dDR0NJTFNRMEJJQWxGQkVCQkFDRUpEQUlMSUFBb0FnQWhERUYvSVFFRFFDQU1JQUpCS0d4cUlnb29BaFJCZjJwQkFVMEVRQ0FLS0FJSUlnb2dDQ0FCUVg5R0lBb2dDRWh5SWdvYklRZ2dBaUFCSUFvYklRRUxJQUpCQVdvaUFpQUpSdzBBQ3lBQlFRQklEUUVnRENBQlFTaHNhaUlCUVFBMkFoUWdBQ0FKUVg5cUlnazJBaWdnQVNnQ0dBMEJJQUFnQUNnQ0xFRi9hallDTEF3QkN5QVFEUUVnQUNnQ0dDRUxJQUFvQWlnaENRc2dDU0FMVHcwQklBQW9BZ2dpQVNBTk5nSVlJQUZCQWpZQ0ZDQUJJQVEyQWhBZ0FTQUROZ0lJSUFFZ0F6WUNEQ0FBSUFsQkFXbzJBaWdnQUNBQUtBSXNRUUZxTmdJc0N3c2dBQ2dDQ0NJQklBYzJBaUFnQVNBR05nSWNJQUVnQlRZQ0pBSkFJQUFvQWpoRkJFQWdBQ2dDTENJSklBQW9BaHdpQTAwTkFTQUFLQUlBSVFRRFFFSC8vLy8vQnlFRlFRQWhCa0VBSVFJRFFDQUVJQUpCS0d4cUlnRW9BaGdFUUNBQklBWWdBU2dDRUNJQklBVklJZ2NiSVFZZ0FTQUZJQWNiSVFVTElBSkJBV29pQWlBRFRRMEFDd0pBSUFaRkRRQWdBQ2dDRENBQUtBSVFJZ0pCQkhScUlnRWdCaWdDQURZQ0FDQUJJQVlvQWlRMkFnd2dBU0FHS0FJY05nSUVJQUVnQmlnQ0lEWUNDQ0FBSUFKQkFXbzJBaEFnQmtFQU5nSVlJQVlvQWhRTkFDQUFJQWxCZjJvaUNUWUNMQXNnQ1NBRFN3MEFDd3dCQ3lBQktBSUFJUUlnQUNnQ0RDQUFLQUlRSWdOQkJIUnFJZ0VnQlRZQ0RDQUJJQUkyQWdBZ0FTQUhOZ0lJSUFFZ0JqWUNCQ0FBSUFOQkFXbzJBaEFnQUNnQ0hDRURDeUFBS0FJQUlBTkJBV29RSndzTDFBc0NBbjhCZmlNQVFaQUJheUlFSkFBZ0JFRUFOZ0lNQWtBQ1FBSkFJQUFvQXBBYVJRMEFJQUFvQXBRYUlBRkhEUUFnQkNBQVFhUWFhaWtDQURjREdDQUFLUUtjR2lFR0lBUkJBRFlDR0NBRUlBWTNBeEFnQkVFQU5nSWdJQVFnQmo0Q0ZDQURJQUFvQXBnYU5nSUFEQUVMUVFNaEJTQUJJQUlnQkVFUWFpQURFR01OQVNBQUlBUXBBeEEzQXB3YUlBQkJyQnBxSUFRb0FpQTJBZ0FnQUVHa0dtb2dCQ2tER0RjQ0FDQURLQUlBSVFJZ0FDQUJOZ0tVR2lBQUlBSTJBcGdhQzBFQUlRVWdBRUVBTmdLUUdpQUVRUkJxSUFSQmlBRnFFRThFUUVFRElRVU1BUXNnQkNnQ2lBRkJmMnBCQzBzTkFDQUVRUkJxSUFSQmlBRnFJQUFnQkVFTWFoQXlJZ0VFUUVFRUlRVWdBVUh3L3dOR0RRRkJBeUVGREFFTEFrQWdCQ2dDREFSQUFrQWdBQ2dDb0FsRkRRQWdBQ2dDRUVVTkFFRURJUVVnQUNnQ3RCb05Bd0pBSUFBb0FxUUpSUVJBSUFCQnhBbHFJZ0lpQVNBQktBSUFJQUVvQWh4QktHeHFJZ0UyQWdnZ0FDQUJLQUlBTmdLNENpQUNFQ1lnQUNBQVFiZ0tha0VBRUNVTUFRc2dBQ0FBUWJnS2FpQUFRZHdLYWlnQ0FCQWxDeUFEUVFBMkFnQWdBRUVBTmdLY0NTQUFRUUUyQXBBYURBSUxJQUJCQURZQ25Ba2dBRUVBTmdLa0NRc2dCQ2dDaUFGQmYyb2lBVUVIU3cwQkFrQUNRQUpBSUFGQkFXc09Cd1FFQkFJRUFBRUNDeUFFUVJCcUlBUkJLR29RUXdSQUlBUW9BbEFRQkNBRVFRQTJBbEFnQkNnQ2ZCQUVJQVJCQURZQ2ZFRURJUVVNQkFzZ0FDQUVRU2hxRURjTUF3c2dCRUVRYWlBRVFTaHFFRXdFUUNBRUtBSThFQVFnQkVFQU5nSThJQVFvQWtBUUJDQUVRUUEyQWtBZ0JDZ0NSQkFFSUFSQkFEWUNSQ0FFS0FKVUVBUWdCRUVBTmdKVVFRTWhCUXdEQ3lBQUlBUkJLR29RTmd3Q0N5QUFLQUtjQ1EwQklBQkJBVFlDb0FrQ1FDQUFLQUtrQ1EwQUlBQkNBRGNDdEFrZ0JFRVFhaUFFUVNocUVDQWFJQUFvQWdnaEFTQUFJQVFvQWlnZ0JDZ0NpQUZCQlVZUU5TSUNCRUFnQUVLQWdvQ0FnQVEzQWdRZ0FFRUFOZ0swR2lBQVFnQTNBZ3hCQlVFRUlBSkIvLzhEUmhzaEJRd0RDeUFCSUFBb0FnaEdEUUFnQUNnQ0VDRUJJQVJCQVRZQ0NDQUFLQUlBSWdKQkgwMEVRQ0FBSUFKQkFuUnFLQUlVSVFVTElBTkJBRFlDQUNBQVFRRTJBcEFhQWtBQ1FBSkFJQVFvQW9nQlFRVkhEUUFnQkVFSWFpQUVRUkJxSUFFZ0FDZ0NEQkE0SUFRb0FnaHlEUUFnQlVVTkFDQUFRZndKYWlnQ0FBMEFJQVVvQWpRZ0FTZ0NORWNOQUNBRktBSTRJQUVvQWpoSERRQWdCU2dDV0NBQktBSllSZzBCQ3lBQVFZQUtha0VBTmdJQURBRUxJQUJCeEFscUVGa0xJQUFnQUNnQ0NEWUNBRUVDSVFVTUFnc2dBQ2dDdEJvRVFFRURJUVVNQWdzZ0JFRVFhaUFBUWJRU2FpSUNJQUFvQWhBZ0FDZ0NEQ0FFUVlnQmFoQStCRUJCQXlFRkRBSUxJQUFvQXFRSlJRUkFBa0FnQkNnQ2lBRkJCVVlOQUNBQVFjUUphaUFBUWNBU2FpZ0NBQ0FFS0FLTUFVRUFSeUFBS0FJUUtBSXdFRnBGRFFCQkF5RUZEQU1MSUFCQnhBbHFJZ0VnQVNnQ0FDQUJLQUljUVNoc2FpSUJOZ0lJSUFBZ0FTZ0NBRFlDdUFvTElBQkIyQXBxSUFKQjNBY1FGU0VCSUFCQkFUWUNwQWtnQUNBRUtRT0lBVGNDMEFvZ0FDZ0NsQWtnQUNnQ0RDQUFRWmdMYWlnQ0FDQUFLQUlRSWdJb0FqUWdBaWdDT0JBL0lBQkJ4QWxxSWdJUUppQUNJQUJCbkF0cUlBQkI1QXBxS0FJQUlBQkJoQXRxS0FJQUVGOEVRRUVESVFVTUFnc2dCRUVRYWlBQUlBQkJ1QXBxSUFFUVFRUkFJQUFnQUNnQzJBb1FRRUVESVFVTUFnc2dBQkF6UlEwQklBQkJBVFlDbkFrTElBQkJ1QXBxSWdFZ0FDZ0N2QWtRU1NBQUVEUWdBRUdFQ21vZ0FDZ0NFQ0FBUWRnS2FpQUFRZEFLYWhCTklRSUNRQ0FBS0FLa0NVVU5BQ0FBUWNRSmFpRURJQUJCMUFwcUtBSUFCRUFnQXlBQVFld01haUFCSUFCQjVBcHFLQUlBSUFJZ0FDZ0MwQXBCQlVZZ0FDZ0N1QWtnQUNnQ3RBa1FLUXdCQ3lBRFFRQWdBU0FBUWVRS2FpZ0NBQ0FDSUFBb0F0QUtRUVZHSUFBb0FyZ0pJQUFvQXJRSkVDa0xJQUJDQURjQ29BbEJBU0VGQ3lBRVFaQUJhaVFBSUFVTHFBd0JDMzhDUUNBQlFRUlBCRUJCQUNBRGF5SU5RUUYwSVFvQ1FDQUFJQU5ySWdVdEFBQWlCaUFBTFFBQUlnaHJJZ0VnQVVFZmRTSUJhaUFCY3lBQ0tBSUVJZ0ZQRFFBZ0FDQUthaTBBQUNJSElBWnJJZ1FnQkVFZmRTSUVhaUFFY3lBQ0tBSUlJZ3hQRFFBZ0FDQURhaTBBQUNJRUlBaHJJZ3NnQzBFZmRTSUxhaUFMY3lBTVR3MEFJQVVnQkNBR2FpQUhRUUYwYWtFQ2FrRUNkam9BQUNBQUlBZ2dCRUVCZEdvZ0IycEJBbXBCQW5ZNkFBQWdBaWdDQkNFQkN3SkFJQUJCQVdvaUJpQU5haUlNTFFBQUlnZ2dBQzBBQVNJSGF5SUVJQVJCSDNVaUJHb2dCSE1nQVU4TkFDQUdJQXBxTFFBQUlnUWdDR3NpQlNBRlFSOTFJZ1ZxSUFWeklBSW9BZ2dpQzA4TkFDQURJQVpxTFFBQUlnVWdCMnNpQ1NBSlFSOTFJZ2xxSUFseklBdFBEUUFnRENBRklBaHFJQVJCQVhScVFRSnFRUUoyT2dBQUlBWWdCeUFGUVFGMGFpQUVha0VDYWtFQ2Rqb0FBQ0FDS0FJRUlRRUxBa0FnQUVFQ2FpSUdJQTFxSWd3dEFBQWlDQ0FBTFFBQ0lnZHJJZ1FnQkVFZmRTSUVhaUFFY3lBQlR3MEFJQVlnQ21vdEFBQWlCQ0FJYXlJRklBVkJIM1VpQldvZ0JYTWdBaWdDQ0NJTFR3MEFJQU1nQm1vdEFBQWlCU0FIYXlJSklBbEJIM1VpQ1dvZ0NYTWdDMDhOQUNBTUlBVWdDR29nQkVFQmRHcEJBbXBCQW5ZNkFBQWdCaUFISUFWQkFYUnFJQVJxUVFKcVFRSjJPZ0FBSUFJb0FnUWhBUXNDUUNBQVFRTnFJZ1lnRFdvaURDMEFBQ0lJSUFBdEFBTWlCMnNpQkNBRVFSOTFJZ1JxSUFSeklBRlBEUUFnQmlBS2FpMEFBQ0lFSUFocklnVWdCVUVmZFNJRmFpQUZjeUFDS0FJSUlndFBEUUFnQXlBR2FpMEFBQ0lGSUFkcklna2dDVUVmZFNJSmFpQUpjeUFMVHcwQUlBd2dCU0FJYWlBRVFRRjBha0VDYWtFQ2Rqb0FBQ0FHSUFjZ0JVRUJkR29nQkdwQkFtcEJBblk2QUFBZ0FpZ0NCQ0VCQ3dKQUlBQkJCR29pQmlBTmFpSU1MUUFBSWdnZ0FDMEFCQ0lIYXlJRUlBUkJIM1VpQkdvZ0JITWdBVThOQUNBR0lBcHFMUUFBSWdRZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6SUFJb0FnZ2lDMDhOQUNBRElBWnFMUUFBSWdVZ0Iyc2lDU0FKUVI5MUlnbHFJQWx6SUF0UERRQWdEQ0FGSUFocUlBUkJBWFJxUVFKcVFRSjJPZ0FBSUFZZ0J5QUZRUUYwYWlBRWFrRUNha0VDZGpvQUFDQUNLQUlFSVFFTEFrQWdBRUVGYWlJR0lBMXFJZ3d0QUFBaUNDQUFMUUFGSWdkcklnUWdCRUVmZFNJRWFpQUVjeUFCVHcwQUlBWWdDbW90QUFBaUJDQUlheUlGSUFWQkgzVWlCV29nQlhNZ0FpZ0NDQ0lMVHcwQUlBTWdCbW90QUFBaUJTQUhheUlKSUFsQkgzVWlDV29nQ1hNZ0MwOE5BQ0FNSUFVZ0NHb2dCRUVCZEdwQkFtcEJBblk2QUFBZ0JpQUhJQVZCQVhScUlBUnFRUUpxUVFKMk9nQUFJQUlvQWdRaEFRc0NRQ0FBUVFacUlnWWdEV29pREMwQUFDSUlJQUF0QUFZaUIyc2lCQ0FFUVI5MUlnUnFJQVJ6SUFGUERRQWdCaUFLYWkwQUFDSUVJQWhySWdVZ0JVRWZkU0lGYWlBRmN5QUNLQUlJSWd0UERRQWdBeUFHYWkwQUFDSUZJQWRySWdrZ0NVRWZkU0lKYWlBSmN5QUxUdzBBSUF3Z0JTQUlhaUFFUVFGMGFrRUNha0VDZGpvQUFDQUdJQWNnQlVFQmRHb2dCR3BCQW1wQkFuWTZBQUFnQWlnQ0JDRUJDeUFOSUFCQkIyb2lEV29pQ0MwQUFDSUdJQUF0QUFjaUFHc2lCeUFIUVI5MUlnZHFJQWR6SUFGUERRRWdDaUFOYWkwQUFDSUJJQVpySWdvZ0NrRWZkU0lLYWlBS2N5QUNLQUlJSWdwUERRRWdBeUFOYWkwQUFDSUNJQUJySWdNZ0EwRWZkU0lEYWlBRGN5QUtUdzBCSUFnZ0FpQUdhaUFCUVFGMGFrRUNha0VDZGpvQUFDQU5JQUFnQWtFQmRHb2dBV3BCQW1wQkFuWTZBQUFQQzBFQUlBTnJJZ2RCQVhRaEJDQUJJQUlvQWdCcVFYOXFMUUFBSWdGQkFXb2hCaUFCUVg5eklRaEJDQ0VCQTBBQ1FDQUFJQWRxSWdVdEFBQWlDaUFBTFFBQUlnMXJJZ3dnREVFZmRTSU1haUFNY3lBQ0tBSUVUdzBBSUFBZ0JHb3RBQUFpRENBS2F5SUxJQXRCSDNVaUMyb2dDM01nQWlnQ0NDSUxUdzBBSUFBZ0Eyb3RBQUFpQ1NBTmF5SU9JQTVCSDNVaURtb2dEbk1nQzA4TkFDQUZJQW9nQ0NBR0lBMGdDbXRCQW5RZ0NXc2dER3BCQkdwQkEzVWlDaUFLSUFaS0d5QUtJQWhJR3lJS2FrR3dMbW90QUFBNkFBQWdBQ0FOSUFwclFiQXVhaTBBQURvQUFBc2dBRUVCYWlFQUlBRkJmMm9pQVEwQUN3c0w2Z2dCQW44Z0FVRUFRYmdIRUFjaEFrRUJJUUVDUUFKQUlBQkJBUkFESWdOQmYwWU5BQ0FDSUFOQkFVWTJBZ0FDUUNBRFFRRkhEUUFnQUVFSUVBTWlBMEYvUmcwQklBSWdBellDQkNBRFFmOEJSdzBBSUFCQkVCQURJZ05CZjBZTkFTQUNJQU0yQWdnZ0FFRVFFQU1pQTBGL1JnMEJJQUlnQXpZQ0RBc2dBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDRUNBRFFRRkdCRUFnQUVFQkVBTWlBMEYvUmcwQklBSWdBMEVCUmpZQ0ZBc2dBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDR0FKQUFrQWdBMEVCUmdSQUlBQkJBeEFESWdOQmYwWU5BeUFDSUFNMkFod2dBRUVCRUFNaUEwRi9SZzBESUFJZ0EwRUJSallDSUNBQVFRRVFBeUlEUVg5R0RRTWdBaUFEUVFGR05nSWtJQU5CQVVjTkFTQUFRUWdRQXlJRFFYOUdEUU1nQWlBRE5nSW9JQUJCQ0JBRElnTkJmMFlOQXlBQ0lBTTJBaXdnQUVFSUVBTWlBMEYvUncwQ0RBTUxJQUpCQlRZQ0hBc2dBa0tDZ0lDQUlEY0NLRUVDSVFNTElBSWdBellDTUNBQVFRRVFBeUlEUVg5R0RRQWdBaUFEUVFGR05nSTBBa0FnQTBFQlJ3MEFJQUFnQWtFNGFoQUNJZ0VOQVNBQ0tBSTRRUVZMRFFJZ0FDQUNRVHhxRUFJaUFRMEJJQUlvQWp4QkJVME5BQXdDQzBFQklRRWdBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDUUNBRFFRRkdCRUFnQUJBUElRRWdBRUVnRUFzaEF5QUJSUTBDSUFOQmYwWU5BaUFDSUFFMkFrUWdBQkFQSVFFZ0FFRWdFQXNoQXlBQlJRMENJQU5CZjBZTkFpQUNJQUUyQWtoQkFTRUJJQUJCQVJBRElnTkJmMFlOQVNBQ0lBTkJBVVkyQWt3TElBQkJBUkFESWdOQmYwWU5BQ0FDSUFOQkFVWTJBbEFDUUNBRFFRRkdCRUFnQUNBQ1FkUUFhaEFjSWdGRkRRRU1BZ3NnQWtFQk5nSlVJQUpDbUlDQWdJQUROd0xvQXlBQ1FwaUFnSUNBQXpjQzRBTWdBa0dCa0txSkFUWUM0QUVnQWtHQmtLcUpBVFlDWUF0QkFTRUJJQUJCQVJBRElnTkJmMFlOQUNBQ0lBTkJBVVkyQXZBREFrQWdBMEVCUmdSQUlBQWdBa0gwQTJvUUhDSUJSUTBCREFJTElBSkJBVFlDOUFNZ0FrS1lnSUNBZ0FNM0FvZ0hJQUpDbUlDQWdJQUROd0tBQnlBQ1FZRzR1UElBTmdLQUJTQUNRWUc0dVBJQU5nS0FCQXNDUUNBQ0tBSlFSUVJBSUFJb0F2QURSUTBCQzBFQklRRWdBRUVCRUFNaUEwRi9SZzBCSUFJZ0EwRUJSallDa0FjTFFRRWhBU0FBUVFFUUF5SURRWDlHRFFBZ0FpQURRUUZHTmdLVUJ5QUFRUUVRQXlJRFFYOUdEUUFnQWlBRFFRRkdOZ0tZQndKQUlBTkJBVVlFUUNBQVFRRVFBeUlEUVg5R0RRSWdBaUFEUVFGR05nS2NCeUFBSUFKQm9BZHFFQUlpQVEwQ0lBSW9BcUFIUVJCTERRTWdBQ0FDUWFRSGFoQUNJZ0VOQWlBQ0tBS2tCMEVRU3cwRElBQWdBa0dvQjJvUUFpSUJEUUlnQWlnQ3FBZEJFRXNOQXlBQUlBSkJyQWRxRUFJaUFRMENRUUVoQVNBQ0tBS3NCMEVRU3cwQ0lBQWdBa0d3QjJvUUFpSUJEUUlnQUNBQ1FiUUhhaEFDSWdGRkRRRU1BZ3NnQWtFUU5nSzBCeUFDUXBDQWdJQ0FBamNDckFjZ0FrS0JnSUNBZ0FJM0FxUUhJQUpDZ1lDQWdDQTNBcHdIQzBFQUlRRUxJQUVQQzBFQkMwMEJBbjhqQUVFUWF5SURKQUJCQVNFRUFrQWdBQ0FEUVF4cUVBSU5BQ0FES0FJTUlnQkJMMHNOQUNBQlFkQS9RWURBQUNBQ0d5QUFhaTBBQURZQ0FFRUFJUVFMSUFOQkVHb2tBQ0FFQ3o0QkFuOENRQ0FBS0FJTVFRTjBJQUFvQWhCcklnRkZCRUFNQVF0QkFTRUNJQUZCQ0VzTkFFRUJJQUZCZjJwMElBQVFEMEVnSUFGcmRrY1BDeUFDQ3pJQkFuOENRRUdBZ0lEQUFDSUJJQUJ4RFFBRFFDQUNRUUZxSVFJZ0FVRUJkaUlCUlEwQklBQWdBWEZGRFFBTEN5QUNDNG9DQVFkL0lBRkJvRDFxTFFBQVFReHNRZEE4YWlnQ0FDRUNRUUVoQXlBQlFRWlBCRUJCQUNFRElBSWdBVUdRUEdvdEFBQkJmMnAwSVFJTElBQWdBQ2dDQUNJQklBQW9BZ2dpQkdzaUJTQUFLQUlFSWdZZ0FDZ0NEQ0lIYXlJSWF5QUNiQ0FEZFRZQ0RDQUFJQVVnQ0dvZ0Ftd2dBM1UyQWdnZ0FDQUJJQVJxSWdFZ0JpQUhhaUlFYXlBQ2JDQURkVFlDQkNBQUlBRWdCR29nQW13Z0EzVTJBZ0FnQUNBQUtBSWNJZ0VnQUNnQ0ZDSUVhaUlGSUFBb0FoZ2lCaUFBS0FJUUlnZHFJZ2hxSUFKc0lBTjFOZ0lRSUFBZ0JDQUJheUlCSUFjZ0Jtc2lCR29nQW13Z0EzVTJBaGdnQUNBSUlBVnJJQUpzSUFOMU5nSVVJQUFnQkNBQmF5QUNiQ0FEZFRZQ0hBdlBDQUVVZnlBQUlBQW9BaXdpQWlBQUtBSU1JZ1pxSWdVZ0FDZ0NOQ0lFSUFBb0FpQWlFR29pQ21zaUVUWUNMQ0FBS0FJb0lRTWdBQ0FHSUFKcklnY2dFQ0FFYXlJRWF5SUdOZ0lvSUFBb0FpUWhBaUFBSUFRZ0Iyb2lCRFlDSkNBQUlBVWdDbW9pQlRZQ0lDQUFJQUFvQWh3aUNpQUFLQUlJSWdkcUlnZ2dBQ2dDTUNJTUlBQW9BaEFpQ1dvaUMyc2lFRFlDSENBQUtBSVlJUThnQUNBSElBcHJJZ2NnQ1NBTWF5SU1heUlLTmdJWUlBQW9BaFFoQ1NBQUlBY2dER29pQnpZQ0ZDQUFJQWdnQzJvaUNEWUNFQ0FBSUFrZ0FDZ0NBQ0lMYWlJU0lBOGdBQ2dDQkNJTmFpSU9heUlNTmdJTUlBQWdDeUFKYXlJSklBMGdEMnNpQzJzaUR6WUNDQ0FBSUFrZ0Myb2lDVFlDQkNBQUlBNGdFbW9pQ3pZQ0FDQUFJQUlnQUNnQ09DSU5haUlUSUFNZ0FDZ0NQQ0lPYWlJVWF5SVNOZ0k4SUFBZ0FpQU5heUlDSUFNZ0Rtc2lBMnNpRFRZQ09DQUFJQUlnQTJvaURqWUNOQ0FBSUJNZ0ZHb2lFellDTUNBQlFaQThhaTBBQUNFQ0lBRkJvRDFxTFFBQVFReHNRZEE4YWlnQ0FDRURJQUZCREU4RVFDQUFJQU1nQWtGK2FuUWlBU0FGSUF0cUlnTWdDQ0FUYWlJQ2EydzJBakFnQUNBTElBVnJJZ1VnQ0NBVGF5SUlheUFCYkRZQ0lDQUFJQVVnQ0dvZ0FXdzJBaEFnQUNBQ0lBTnFJQUZzTmdJQUlBQWdCQ0FKYWlJRElBY2dEbW9pQW1zZ0FXdzJBalFnQUNBSklBUnJJZ1FnQnlBT2F5SUZheUFCYkRZQ0pDQUFJQVFnQldvZ0FXdzJBaFFnQUNBQ0lBTnFJQUZzTmdJRUlBQWdCaUFQYWlJRElBb2dEV29pQW1zZ0FXdzJBamdnQUNBUElBWnJJZ1lnQ2lBTmF5SUVheUFCYkRZQ0tDQUFJQVFnQm1vZ0FXdzJBaGdnQUNBQ0lBTnFJQUZzTmdJSUlBQWdEQ0FSYXlJRElCQWdFbXNpQW1zZ0FXdzJBaXdnQUNBQ0lBTnFJQUZzTmdJY0lBQWdFQ0FTYWlJRElBd2dFV29pQW1vZ0FXdzJBZ3dnQUNBQ0lBTnJJQUZzTmdJOER3c2dBRUVCUVFJZ0FVRjZha0VHU1JzaUFTQUZJQXRxSWhRZ0NDQVRhaUlWYXlBRGJHcEJBaUFDYXlJQ2RUWUNNQ0FBSUFzZ0JXc2lCU0FJSUJOcklnaHJJQU5zSUFGcUlBSjFOZ0lnSUFBZ0JTQUlhaUFEYkNBQmFpQUNkVFlDRUNBQUlCUWdGV29nQTJ3Z0FXb2dBblUyQWdBZ0FDQUVJQWxxSWdVZ0J5QU9haUlJYXlBRGJDQUJhaUFDZFRZQ05DQUFJQWtnQkdzaUJDQUhJQTVySWdkcklBTnNJQUZxSUFKMU5nSWtJQUFnQkNBSGFpQURiQ0FCYWlBQ2RUWUNGQ0FBSUFVZ0NHb2dBMndnQVdvZ0FuVTJBZ1FnQUNBR0lBOXFJZ1FnQ2lBTmFpSUZheUFEYkNBQmFpQUNkVFlDT0NBQUlBOGdCbXNpQmlBS0lBMXJJZ3BySUFOc0lBRnFJQUoxTmdJb0lBQWdCaUFLYWlBRGJDQUJhaUFDZFRZQ0dDQUFJQVFnQldvZ0Eyd2dBV29nQW5VMkFnZ2dBQ0FNSUJGcklnWWdFQ0FTYXlJRWF5QURiQ0FCYWlBQ2RUWUNMQ0FBSUFRZ0Jtb2dBMndnQVdvZ0FuVTJBaHdnQUNBUUlCSnFJZ1lnRENBUmFpSVJhaUFEYkNBQmFpQUNkVFlDRENBQUlCRWdCbXNnQTJ3Z0FXb2dBblUyQWp3THZRVUJCbjhqQUVFZ2F5SUZKQUFnQTBFQU5nSUFBa0FnQVNnQ0FDSUdRUkpMRFFCQkFTQUdkQ0lHUWNEZkgzRkZCRUFnQmtFaWNVVU5BU0FDUWJRS2FpZ0NBQVJBSUFOQkFUWUNBQ0FDUVFBMkFyUUtDeUFBSUFWQkhHb1FJQ0lFRFFGQjhQOERJUVFnQWlBRktBSWNRUUowYWlnQ2xBRWlDRVVOQVNBQ0lBZ29BZ1FpQmtFQ2RHb29BaFFpQjBVTkFRSkFJQUlvQWdnaUNVRWdSZzBBSUFZZ0NVWU5BQ0FCS0FJQVFRVkhEUUlMQWtBZ0FrR1lDbW9vQWdBaUJDQUJLQUlFSWdaR0RRQWdCRUVBSUFZYkRRQWdBMEVCTmdJQUN5QUJLQUlBSVFRQ1FBSkFJQUlvQXBRS1FRVkdCRUFnQkVFRlJ3MEJEQUlMSUFSQkJVY05BUXNnQTBFQk5nSUFDMEVCSVFRZ0FDQUhLQUlNSUFWQkdHb1FQUTBCSUFVb0FoZ2lCaUFDUVp3S2FpZ0NBRWNFUUNBQ0lBWTJBcHdLSUFOQkFUWUNBQXNnQVNnQ0FFRUZSZ1JBSUFBZ0J5Z0NEQ0FGUVJScUVEd05BZ0pBSUFJb0FwUUtRUVZIQkVBZ0JTZ0NGQ0VFREFFTElBSkJvQXBxS0FJQUlnUWdCU2dDRkNJR1JnMEFJQU5CQVRZQ0FDQUdJUVFMSUFKQm9BcHFJQVEyQWdBTEFrQWdCeWdDRUNJRVFRRkxEUUFnQkVFQmF3UkFRUUVoQkNBQUlBY2dBU2dDQUNBRlFRaHFFRHNOQXlBRktBSUlJZ1FnQWtHa0Ntb29BZ0JIQkVBZ0FpQUVOZ0trQ2lBRFFRRTJBZ0FMSUFnb0FnaEZEUUVnQUNBSElBRW9BZ0FnQlVFUWFoQTZJZ1FOQXlBRktBSVFJZ0FnQWtHb0Ntb29BZ0JHRFFFZ0FpQUFOZ0tvQ2lBRFFRRTJBZ0FNQVFzZ0J5Z0NHQTBBSUFBZ0J5QUJLQUlBSUFnb0FnZ2dCVUVJYWhBNUlnUU5BaUFGS0FJSUlnQWdBa0dzQ21vb0FnQkhCRUFnQWlBQU5nS3NDaUFEUVFFMkFnQUxJQWdvQWdoRkRRQWdCU2dDRENJQUlBSkJzQXBxS0FJQVJnMEFJQUlnQURZQ3NBb2dBMEVCTmdJQUN5QUNJQUVwQWdBM0FwUUtRUUFoQkF3QkN5QURRUUUyQWdBTElBVkJJR29rQUNBRUMzOEJBMzhDUUFKQUFrQWdBRUg4Q21vb0FnQUVRQ0FBS0FLWUNTSUREUUZCQVE4TFFRRWhBU0FBUWF3SmFpZ0NBQ0FBS0FLWUNVY05BUXdDQ3lBQUtBSzhDU0VCUVFBaEFBTkFJQUlnQVNBQVFkZ0JiR29vQXNRQlFRQkhhaUVDSUFCQkFXb2lBQ0FEUncwQUMwRUJJUUVnQWlBRFJnMEJDMEVBSVFFTElBRUxTZ0VEZnlBQVFnQTNBcWdKSUFBb0FwZ0pJZ0VFUUNBQUtBSzhDU0VDUVFBaEFBTkFJQUlnQUVIWUFXeHFJZ05CQURZQ3hBRWdBMEVBTmdJRUlBQkJBV29pQUNBQlJ3MEFDd3NMZ3dZQkRIOUJBU0VHQWtBZ0FDQUJRUUowYWlnQ2xBRWlCRVVOQUNBQUlBUW9BZ1FpQ1VFQ2RHb2lDa0VVYWlnQ0FDSURSUTBBQWtBZ0JDZ0NEQ0lGUVFKSkRRQWdBeWdDTkNJSElBTW9BamhzSVFnQ1FDQUVLQUlRSWdOQkFrc05BQUpBQWtBQ1FDQURRUUZyRGdJREFBRUxJQVZCZjJvaEN5QUVLQUljSVF3Z0JDZ0NHQ0VOUVFBaEF3d0JDeUFFS0FJVUlRZEJBQ0VEQTBBZ0J5QURRUUowYWlnQ0FDQUlUUVJBSUFVZ0EwRUJhaUlEUncwQkRBUUxDMEVCRHdzRFFDQU5JQU5CQW5RaUJXb29BZ0FpRGlBRklBeHFLQUlBSWdWTERRTWdCU0FJVHcwRElBNGdCM0FnQlNBSGNFMEVRQ0FEUVFGcUlnTWdDMFlOQXd3QkN3dEJBUThMSUFOQmZXcEJBazBFUUNBRUtBSWtJQWhORFFFTUFnc2dBMEVHUncwQUlBUW9BaWdnQ0VrTkFRc0NRQ0FBS0FJRUlnTkJnQUpHQkVBZ0FDQUVOZ0lNSUFBZ0FUWUNCQ0FBSUFrMkFnZ2dBQ0FLS0FJVUlnRTJBaEFnQVNnQ05DRUNJQUVvQWpnaEFTQUFRUUUyQXJRYUlBQkJ3QXBxSUFFMkFnQWdBRUc4Q21vZ0FqWUNBQ0FBSUFFZ0FtdzJBcGdKREFFTElBQW9BclFhQkVBZ0FFRUFOZ0swR2lBQUtBSzhDUkFFSUFCQkFEWUN2QWtnQUNnQ2xBa1FCQ0FBSUFBb0FwZ0pJZ0ZCMkFGc0lnUVFDaUlDTmdLOENTQUFJQUZCQW5RUUNpSUROZ0tVQ1VILy93TWhCaUFDUlEwQ0lBTkZEUUlnQWtFQUlBUVFCeUFBS0FJUUtBSTBJQUVRVGlBQUtBSVFJUUZCQVNFQ0FrQWdBQ2dDd0FrTkFDQUJLQUlRUVFKR0RRQUNRQ0FCS0FKUVJRMEFJQUVvQWxRaUJDZ0NtQWRGRFFBZ0JDZ0NzQWRGRFFFTFFRQWhBZ3NnQUVIRUNXb2dBU2dDT0NBQktBSTBiQ0FCS0FKWUlBRW9BaXdnQVNnQ0RDQUNFRndpQmtVTkFRd0NDeUFCSUFOR0RRQWdBQ2dDQ0NBSlJ3UkFJQUpGRFFJZ0FDQUVOZ0lNSUFBZ0FUWUNCQ0FBSUFrMkFnZ2dBQ0FLS0FJVUlnRTJBaEFnQVNnQ05DRUNJQUVvQWpnaEFTQUFRUUUyQXJRYUlBQkJ3QXBxSUFFMkFnQWdBRUc4Q21vZ0FqWUNBQ0FBSUFFZ0FtdzJBcGdKREFFTElBQWdCRFlDRENBQUlBRTJBZ1FMUVFBaEJnc2dCZ3UyQVFFRGZ3SkFJQUFnQVNnQ0FDSURRUUowYWlJQ0tBS1VBU0lFUlFSQUlBSkJ5QUFRQ2lJQU5nS1VBU0FBRFFFUEN3SkFJQU1nQUNnQ0JFY05BQ0FCS0FJRUlBQW9BZ2hHRFFBZ0FFR0JBallDQkFzZ0JDZ0NGQkFFSUFJb0FwUUJRUUEyQWhRZ0FpZ0NsQUVvQWhnUUJDQUNLQUtVQVVFQU5nSVlJQUlvQXBRQktBSWNFQVFnQWlnQ2xBRkJBRFlDSENBQ0tBS1VBU2dDTEJBRUlBSW9BcFFCUVFBMkFpd0xJQUlvQXBRQklBRkJ5QUFRRlJvTDFnRUJBMzhDUUNBQUlBRW9BZ2dpQTBFQ2RHb2lBaWdDRkNJRVJRUkFJQUpCM0FBUUNpSUFOZ0lVSUFBTkFROExJQUFvQWdnZ0EwWUVRQ0FCSUFBb0FoQVFRZ1JBSUFJb0FoUW9BaWdRQkNBQ0tBSVVRUUEyQWlnZ0FpZ0NGQ2dDVkJBRUlBSW9BaFJCQURZQ1ZDQUFRUUEyQWhBZ0FFR0JBallDQkNBQVFpRTNBZ2dNQWdzZ0FTZ0NLQkFFSUFGQkFEWUNLQ0FCS0FKVUVBUWdBVUVBTmdKVUR3c2dCQ2dDS0JBRUlBSW9BaFJCQURZQ0tDQUNLQUlVS0FKVUVBUWdBaWdDRkVFQU5nSlVDeUFDS0FJVUlBRkIzQUFRRlJvTDBnSUJBMzhqQUVFZ2F5SUVKQUFnQkNBQktBSVFOZ0lRSUFRZ0FTa0NDRGNEQ0NBRUlBRXBBZ0EzQXdBQ1FDQUVJQVJCSEdvUUFpSUJEUUFnQkNBRVFSeHFFQUlpQVEwQUlBUWdCRUVjYWhBQ0lnRU5BQ0FDS0FJTUlRWkJBQ0VCQTBBZ0FTSUZRUUZxSVFFZ0JpQUZkZzBBQ3lBRUlBVkJmMm9RQTBGL1JnUkFRUUVoQVF3QkN5QUVJQVJCSEdvUUFpSUJEUUFDUUNBQ0tBSVFJZ0VFZnlBQkJTQUNLQUlVSVFaQkFDRUJBMEFnQVNJRlFRRnFJUUVnQmlBRmRnMEFDeUFFSUFWQmYyb1FBMEYvUmdSQVFRRWhBUXdEQ3lBREtBSUlCRUFnQkNBRVFSaHFFQVVpQVEwREN5QUNLQUlRQzBFQlJ3MEFJQUlvQWhnTkFDQUVJQVJCR0dvUUJTSUJEUUVnQXlnQ0NFVU5BQ0FFSUFSQkdHb1FCU0lCRFFFTElBTW9Ba1FFUUNBRUlBUkJIR29RQWlJQkRRRUxJQUFnQkVFQkVBTWlBRFlDQUNBQVFYOUdJUUVMSUFSQklHb2tBQ0FCQzhZQkFRSi9Jd0JCSUdzaUJTUUFJQVVnQUNnQ0VEWUNFQ0FGSUFBcEFnZzNBd2dnQlNBQUtRSUFOd01BQWtBZ0JTQUZRUnhxRUFJaUFBMEFJQVVnQlVFY2FoQUNJZ0FOQUNBRklBVkJIR29RQWlJQURRQWdBU2dDRENFR1FRQWhBQU5BSUFBaUFVRUJhaUVBSUFZZ0FYWU5BQXNnQlNBQlFYOXFFQU5CZjBZRVFFRUJJUUFNQVFzZ0FrRUZSZ1JBSUFVZ0JVRWNhaEFDSWdBTkFRc2dCU0FFRUFVaUFBMEFJQU1FUUNBRklBUkJCR29RQlNJQURRRUxRUUFoQUFzZ0JVRWdhaVFBSUFBTDRRRUJBMzhqQUVFZ2F5SUVKQUFnQkNBQUtBSVFOZ0lRSUFRZ0FDa0NDRGNEQ0NBRUlBQXBBZ0EzQXdBQ1FDQUVJQVJCSEdvUUFpSUFEUUFnQkNBRVFSeHFFQUlpQUEwQUlBUWdCRUVjYWhBQ0lnQU5BQ0FCS0FJTUlRWkJBQ0VBQTBBZ0FDSUZRUUZxSVFBZ0JpQUZkZzBBQ3lBRUlBVkJmMm9RQTBGL1JnUkFRUUVoQUF3QkN5QUNRUVZHQkVBZ0JDQUVRUnhxRUFJaUFBMEJDeUFCS0FJVUlRSkJBQ0VBQTBBZ0FDSUJRUUZxSVFBZ0FpQUJkZzBBQ3lBRUlBRkJmMm9RQTBGL1JnUkFRUUVoQUF3QkN5QUVJQU1RQlNFQUN5QUVRU0JxSkFBZ0FBdm1BUUVEZnlNQVFTQnJJZ1FrQUNBRUlBQW9BaEEyQWhBZ0JDQUFLUUlJTndNSUlBUWdBQ2tDQURjREFBSkFJQVFnQkVFY2FoQUNJZ0FOQUNBRUlBUkJIR29RQWlJQURRQWdCQ0FFUVJ4cUVBSWlBQTBBSUFFb0Fnd2hCa0VBSVFBRFFDQUFJZ1ZCQVdvaEFDQUdJQVYyRFFBTElBUWdCVUYvYWhBRFFYOUdCRUJCQVNFQURBRUxJQUpCQlVZRVFDQUVJQVJCSEdvUUFpSUFEUUVMSUFFb0FoUWhBa0VBSVFBRFFDQUFJZ0ZCQVdvaEFDQUNJQUYyRFFBTElBUWdBVUYvYWhBRElnQkJmMFlFUUVFQklRQU1BUXNnQXlBQU5nSUFRUUFoQUFzZ0JFRWdhaVFBSUFBTGtnRUJBbjhqQUVFZ2F5SURKQUFnQXlBQUtBSVFOZ0lRSUFNZ0FDa0NBRGNEQUNBRElBQXBBZ2czQXdnQ1FDQURJQU5CSEdvUUFpSUFEUUFnQXlBRFFSeHFFQUlpQUEwQUlBTWdBMEVjYWhBQ0lnQU5BRUVBSVFBRFFDQUFJZ1JCQVdvaEFDQUJJQVIyRFFBTElBTWdCRUYvYWhBRFFYOUdCRUJCQVNFQURBRUxJQU1nQWhBQ0lRQUxJQU5CSUdva0FDQUFDNWNCQVFKL0l3QkJJR3NpQXlRQUlBTWdBQ2dDRURZQ0VDQURJQUFwQWdnM0F3Z2dBeUFBS1FJQU53TUFBa0FnQXlBRFFSeHFFQUlpQUEwQUlBTWdBMEVjYWhBQ0lnQU5BQ0FESUFOQkhHb1FBaUlBRFFCQkFDRUFBMEFnQUNJRVFRRnFJUUFnQVNBRWRnMEFDeUFESUFSQmYyb1FBeUlBUVg5R0JFQkJBU0VBREFFTElBSWdBRFlDQUVFQUlRQUxJQU5CSUdva0FDQUFDNjhPQVFwL0l3QkJFR3NpQlNRQUlBRkJBRUhjQnhBSElRY2dBaWdDTkNFR0lBSW9BamdoQ0FKQUlBQWdCVUVFYWhBQ0lnRU5BQ0FISUFVb0FnUWlBVFlDQUNBQklBWWdDR3dpQzA4RVFFRUJJUUVNQVFzZ0FDQUZRUVJxRUFJaUFRMEFJQWNnQlNnQ0JDSUdOZ0lFSUFaQkIwc0VRRUVCSVFFTUFRdEJBU0VCQWtBQ1FDQUdRUUZyRGdjQ0FRSUNBQUlCQUFzZ0JDZ0NBRUVGUmdSQURBSUxJQUlvQWl3TkFBd0JDeUFBSUFWQkJHb1FBaUlCRFFBZ0J5QUZLQUlFSWdZMkFnaEJBU0VCSUFZZ0F5Z0NBRWNOQUNBQ0tBSU1JUWhCQUNFQkEwQWdBU0lHUVFGcUlRRWdDQ0FHZGcwQUMwRUJJUUVnQUNBR1FYOXFFQU1pQmtGL1JnMEFJQVpCQUNBRUtBSUFJZ2hCQlVZYkRRQWdCeUFHTmdJTUlBaEJCVVlFUUNBQUlBVkJCR29RQWlJQkRRRWdCeUFGS0FJRUlnWTJBaEJCQVNFQklBWkIvLzhEU3cwQkN3SkFJQUlvQWhBaUFRUi9JQUVGSUFJb0FoUWhDRUVBSVFFRFFDQUJJZ1pCQVdvaEFTQUlJQVoyRFFBTElBQWdCa0YvYWhBRElnRkJmMFlFUUVFQklRRU1Bd3NnQnlBQk5nSVVJQU1vQWdnRVFDQUFJQVVRQlNJQkRRTWdCeUFGS0FJQU5nSVlDeUFFS0FJQVFRVkdCRUJCQVNFQklBY29BaFFpQmlBQ0tBSVVRUUYyU3cwRElBWkJBQ0FIS0FJWUlnaEJIM1VnQ0hGclJ3MERDeUFDS0FJUUMwRUJSdzBBSUFJb0FoZ05BQ0FBSUFVUUJTSUJEUUVnQnlBRktBSUFOZ0ljSUFNb0FnZ0VRQ0FBSUFVUUJTSUJEUUlnQnlBRktBSUFOZ0lnQ3lBRUtBSUFRUVZIRFFCQkFTRUJJQWNvQWh3aUJpQUhLQUlnSUFZZ0FpZ0NJR3BxSWdnZ0JpQUlTQnNOQVFzZ0F5Z0NSQVJBSUFBZ0JVRUVhaEFDSWdFTkFTQUhJQVVvQWdRaUJqWUNKRUVCSVFFZ0JrSC9BRXNOQVFzQ1FDQUhLQUlFSWdGQkJVc05BQUpBSUFGQkFXc09CQUVCQVFFQUMwRUJJUUVnQUVFQkVBTWlCa0YvUmcwQklBY2dCallDS0FKQUlBWUVRQ0FBSUFWQkJHb1FBaUlCRFFOQkFTRUJJQVVvQWdRaUJrRVBTdzBESUFaQkFXb2hCZ3dCQ3lBREtBSXdJZ1pCRUVzTkFnc2dCeUFHTmdJc0lBY29BZ1FoQVFzQ1FDQUJRUVZMRFFBQ1FDQUJRUUZyRGdRQkFRRUJBQXNnQWlnQ0RDRUpJQWNvQWl3aENrRUJJUUVnQUVFQkVBTWlCa0YvUmcwQklBY2dCallDUkNBR1JRMEFRUUFoQVFOQUlBRWlCaUFLU3dSQVFRRWhBUXdEQ3lBQUlBVkJDR29RQWlJQkRRSWdCU2dDQ0NJQlFRTkxCRUJCQVNFQkRBTUxJQWNnQmtFTWJHb2lDQ0FCTmdKSUFrQWdBVUVCVFFSQUlBQWdCVUVNYWhBQ0lnRU5CQ0FGS0FJTUlnRWdDVThFUUVFQklRRU1CUXNnQ0NBQlFRRnFOZ0pNREFFTElBRkJBa2NOQUNBQUlBVkJER29RQWlJQkRRTWdDQ0FGS0FJTU5nSlFDeUFHUVFGcUlRRWdCU2dDQ0VFRFJ3MEFDMEVCSVFFZ0JrVU5BUXNDUUNBRUtBSUVSUTBBSUFRb0FnQWhCQ0FDS0FJc0lRbEJBU0VCSUFCQkFSQURJUUlnQkVFRlJnUkFJQUpCZjBZTkFpQUhJQUkyQXBRQ0lBQkJBUkFESWdKQmYwWU5BaUFISUFJMkFwZ0NJQWtOQVNBQ1JRMEJEQUlMSUFKQmYwWU5BU0FISUFJMkFwd0NJQUpGRFFBZ0NVRUJkRUVEYWlFT1FRQWhCa0VBSVFwQkFDRUVBMEFnQmlBT1JnUkFRUUVoQVF3REN5QUFJQVZCQ0dvUUFpSUJEUUlnQlNnQ0NDSUNRUVpMQkVCQkFTRUJEQU1MSUFjZ0JrRVViR29pQ0NBQ05nS2dBZ0ovSUFKQkFuSkJBMFlFUUNBQUlBVkJER29RQWlJQkRRUWdDQ0FGS0FJTVFRRnFOZ0trQWlBRktBSUlJUUlMSUFKQkFrWUxCRUFnQUNBRlFReHFFQUlpQVEwRElBZ2dCU2dDRERZQ3FBSWdCU2dDQ0NFQ0N3SkFJQUpCZldvaUFVRURTdzBBQWtBZ0FVRUJhdzRDQVFFQUN5QUFJQVZCREdvUUFpSUJEUU1nQ0NBRktBSU1OZ0tzQWlBRktBSUlJUUlMSUFKQkJFWUVRQ0FBSUFWQkRHb1FBaUlCRFFNZ0JTZ0NEQ0lCSUFsTEJFQkJBU0VCREFRTElBZ2dBVUYvYWtILy93TWdBUnMyQXJBQ0lBcEJBV29oQ2lBRktBSUlJUUlMSUFaQkFXb2hCaUFNSUFKQkJrWnFJUXdnQkNBQ1FRVkdhaUVFSUEwZ0FrRi9ha0VEU1dvaERTQUNEUUFMUVFFaEFTQUVJQXB5SUF4eVFRRkxEUUVnQkVVTkFDQU5EUUVMSUFBZ0JSQUZJZ0VOQUNBSElBVW9BZ0FpQVRZQ01DQUZJQUVnQXlnQ05Hb2lBallDQUVFQklRRWdBa0V6U3cwQUFrQWdBeWdDUEVVTkFDQUFJQVZCQkdvUUFpSUJEUUVnQnlBRktBSUVJZ0kyQWpSQkFTRUJJQUpCQWtzTkFTQUNRUUZHRFFBZ0FDQUZFQVVpQVEwQlFRRWhBU0FGS0FJQUlnSkJCbXBCREVzTkFTQUhJQUpCQVhRMkFqZ2dBQ0FGRUFVaUFRMEJRUUVoQVNBRktBSUFJZ0pCQm1wQkRFc05BU0FISUFKQkFYUTJBandMQWtBZ0F5Z0NERUVDU1EwQUlBTW9BaEJCZldwQkFrc05BRUVDUVFFZ0N5QUxJQU1vQWlRaUFXNGlBaUFCYkdzYklBSnFJUVJCQUNFQ0EwQWdCQ0FDSWdGQkFXb2lBbllOQUFzZ0JTQUFJQUlnQVNBRVFYOGdBWFJCZjNOeEd4QURJZ0EyQWdSQkFTRUJJQUJCZjBZTkFTQUhJQUEyQWtBZ0FDQUxJQU1vQWlRaUFHcEJmMm9nQUc1TERRRUxRUUFoQVFzZ0JVRVFhaVFBSUFFTHdRa0JEWDhnQXlBRWJDRUZJQUVvQWd3aUNVRUJSZ1JBSUFCQkFDQUZRUUowRUFjYUR3c0NRQUpBQWtBQ1FDQUJLQUlRSWdaQmZXcEJBazBFUUNBQktBSWtJQUpzSWdJZ0JTQUNJQVZKR3lFTElBWkJmbkZCQkVjTkFTQUZJQXRySUFzZ0FTZ0NJQnNoQndzQ1FBSkFBa0FnQmtFRlRRUkFJQVpCQVdzT0JRWUZCQU1DQVFzZ0JVVU5CaUFCS0FJc0lRSkJBQ0VCQTBBZ0FDQUJRUUowSWdOcUlBSWdBMm9vQWdBMkFnQWdBVUVCYWlJQklBVkhEUUFMREFZTEFrQWdDUVJBSUFFb0FoUWhBa0VBSVFZTUFRc2dCVVVOQmdOQURBQUFDd0FMQTBCQkFDRUVJQVlnQlU4TkJnTkFRUUFoQndKQUlBSWdCRUVDZEdvaUF5Z0NBQ0lCUlEwQUlBRWhCeUFGSUFaTkRRQkJBQ0VCUVFBZ0JTQUdheUlISUFjZ0JVc2JJUWdEUUNBQUlBRWdCbXBCQW5ScUlBUTJBZ0FnQVVFQmFpSUJJQU1vQWdBaUIwOE5BU0FCSUFoSERRQUxDeUFFUVFGcUlnUWdDVWxCQUNBR0lBZHFJZ1lnQlVrYkRRQUxJQVlnQlVrTkFBc01CUXNnQTBVTkJDQUVSUTBFUVFFZ0FTZ0NJQ0lKYXlFSVFRQWhCVUVBSVFJRFFFRUFJUUVnQlNFR0EwQWdBQ0FCSUFOc0lBSnFRUUowYWlBSklBZ2dCaUFIU1JzMkFnQWdCa0VCYWlFR0lBRkJBV29pQVNBRVJ3MEFDeUFFSUFWcUlRVWdBa0VCYWlJQ0lBTkhEUUFMREFRTElBVkZEUU5CQVNBQktBSWdJZ0pySVFOQkFDRUJBMEFnQUNBQlFRSjBhaUFDSUFNZ0FTQUhTUnMyQWdBZ0FVRUJhaUlCSUFWSERRQUxEQU1MSUFFb0FpQWhBaUFGQkVCQkFDRUJBMEFnQUNBQlFRSjBha0VCTmdJQUlBRkJBV29pQVNBRlJ3MEFDd3NnQzBVTkFpQURRWDlxSVE4Z0JFRi9haUVRSUFKQmYyb2hCa0VCSUFKQkFYUWlBV3NoQlNBQlFYOXFJUWtnQkNBQ2EwRUJkaUlLSVF3Z0F5QUNhMEVCZGlJTklRUWdDaUVJSUEwaEFVRUFJUWNEUUNBQUlBTWdDR3dnQVdwQkFuUnFJZzRvQWdBaUVVRUJSZ1JBSUE1QkFEWUNBQXNnRVVFQlJpRU9Ba0FDUUNBR1FYOUhEUUFnQVNBRVJ3MEFRUUFoQmlBSklRSWdCRUVCSUFSQkFVb2JRWDlxSWdFaEJBd0JDd0pBSUFaQkFVY05BQ0FCSUExSERRQkJBQ0VHSUFVaEFpQU5RUUZxSWdFZ0R5QUJJQTlJR3lJQklRME1BUXNDUUNBQ1FYOUhEUUFnQ0NBTVJ3MEFRUUFoQWlBRklRWWdERUVCSUF4QkFVb2JRWDlxSWdnaERBd0JDd0pBSUFKQkFVY05BQ0FJSUFwSERRQkJBQ0VDSUFraEJpQUtRUUZxSWdnZ0VDQUlJQkJJR3lJSUlRb01BUXNnQWlBSWFpRUlJQUVnQm1vaEFRc2dCeUFPYWlJSElBdEpEUUFMREFJTElBRW9BaHdoQnlBQktBSVlJUWdnQlFSQUlBbEJmMm9oQWtFQUlRRURRQ0FBSUFGQkFuUnFJQUkyQWdBZ0FVRUJhaUlCSUFWSERRQUxJQUpGRFFJTElBbEJmbW9oQVFOQUFrQWdDQ0FCSWdSQkFuUWlBV29vQWdBaUJpQURiaUlDSUFFZ0Iyb29BZ0FpQVNBRGJpSUZTdzBBSUFZZ0FpQURiR3NpQmlBQklBTWdCV3hySWdsTEJFQURRQ0FDUVFGcUlnSWdCVTBOQUF3Q0FBc0FDd05BSUFJZ0Eyd2hDaUFHSVFFRFFDQUFJQUVnQ21wQkFuUnFJQVEyQWdBZ0FVRUJhaUlCSUFsTkRRQUxJQUpCQVdvaUFpQUZUUTBBQ3dzZ0JFRi9haUVCSUFRTkFBc01BUXNnQlVVTkFFRUFJUUVEUUNBQUlBRkJBblJxSUFFZ0EyNGlBaUFKYkVFQmRpQUJJQUlnQTJ4cmFpQUpjRFlDQUNBQlFRRnFJZ0VnQlVjTkFBc0xDOFFCQVFWL0lBQW9BcWdKSVFRQ1FDQUFRYkFKYWlnQ0FDSUNSUTBBSUFKQmYyb2lBaUFCVFFSQUlBSWhBUXdCQ3lBQUtBSzhDU0VGQTBBQ1FDQUZJQUpCMkFGc2FpZ0NCQ0FFUncwQUlBTkJBV29pQXlBQUtBSVFLQUkwSWdaQkNpQUdRUXBMRzBrTkFDQUNJUUVNQWdzZ0FrRi9haUlDSUFGTERRQUxDd05BQWtBZ0FDZ0N2QWtnQVVIWUFXeHFJZ0lvQWdRZ0JFY05BQ0FDS0FMRUFTSURSUTBBSUFJZ0EwRi9hallDeEFFZ0FDZ0NsQWtnQUNnQ21Ba2dBUkFlSWdFTkFRc0xDNzBFQWd0L0FYNGpBRUhBQTJzaUJTUUFJQU1vQWdBaEJ5QUJLQUt3R2lFSUlBVkJBRFlDRENBQlFiQUpha0VBTmdJQUlBRWdBU2dDcUFsQkFXbzJBcWdKSUFVZ0F5Z0NNQ0FCS0FJTUtBSTBhallDQ0NBQlFjUUphaUVOSUFoQkRHb2hEZ0pBQTBBZ0FTZ0N2QWtoQkFKQUlBTW9BaVFOQUNBRUlBZEIyQUZzYWlnQ3hBRkZEUUJCQVNFRURBSUxJQU1wQWpRaER5QURLQUk4SVFzZ0FTZ0NxQWtoRENBRUlBZEIyQUZzSWdacUlnUWdBU2dDRENnQ09EWUNHQ0FFSUFzMkFoQWdCQ0FQTndJSUlBUWdERFlDQkFKQUlBTW9BZ1FpQkVFQ1JnMEFJQWtOQUNBRVFRZEdEUUFnQUNBRlFReHFFQUlpQkEwQ0lBVW9BZ3dpQkNBQktBS1lDU0FIYTBzRVFFRUJJUVFNQXdzZ0JFVUVRRUVBSVFrTUFRc2dEa0VBUWFRQkVBY2FJQWhCQURZQ0FFRUJJUWtMQWtBZ0JTZ0NEQ0lFQkVBZ0JTQUVRWDlxTmdJTURBRUxRUUFoQ1NBQUlBZ2dBU2dDdkFrZ0Jtb2dBeWdDQkNBREtBSXNFRkVpQkEwQ0N5QUJLQUs4Q1NBR2FpQUlJQUlnRFNBRlFRaHFJQWNnQVNnQ0RDZ0NRQ0FGUVJCcUVGQWlCQTBCSUFFb0Fyd0pJQVpxS0FMRUFTRUxJQUFRTGlFRUlBVW9BZ3doQmdKQUlBTW9BZ1JCZm1vaURFRUZTdzBBQWtBZ0RFRUJhdzRFQVFFQkFRQUxJQUVnQnpZQ3NBa0xJQVFnQm5JaEJrRUJJUVFnQVNnQ2xBa2dBU2dDbUFrZ0J4QWVJZ2RGUVFBZ0Joc05BU0FLSUF0QkFVWnFJUW9nQmcwQUN5QUJRYXdKYWlnQ0FDQUthaUlBSUFFb0FwZ0pTdzBBSUFFZ0FEWUNyQWxCQUNFRUN5QUZRY0FEYWlRQUlBUUw1Z0lCQjM5QkFTRUNBa0FnQUNnQ0FDQUJLQUlBUncwQUlBQW9BZ1FnQVNnQ0JFY05BQ0FBS0FJTUlBRW9BZ3hIRFFBZ0FDZ0NFQ0lESUFFb0FoQkhEUUFnQUNnQ0xDQUJLQUlzUncwQUlBQW9BakFnQVNnQ01FY05BQ0FBS0FJMElBRW9BalJIRFFBZ0FDZ0NPQ0FCS0FJNFJ3MEFJQUFvQWp3aUJTQUJLQUk4UncwQUlBQW9BbEFnQVNnQ1VFY05BQUpBSUFOQkFVc05BQ0FEUVFGclJRUkFJQUFvQWhnZ0FTZ0NHRWNOQWlBQUtBSWNJQUVvQWh4SERRSWdBQ2dDSUNBQktBSWdSdzBDSUFBb0FpUWlCQ0FCS0FJa1J3MENJQVJGRFFFZ0FTZ0NLQ0VHSUFBb0FpZ2hCMEVBSVFNRFFDQUhJQU5CQW5RaUNHb29BZ0FnQmlBSWFpZ0NBRWNOQXlBRUlBTkJBV29pQTBjTkFBc01BUXNnQUNnQ0ZDQUJLQUlVUncwQkN5QUZCRUFnQUNnQ1FDQUJLQUpBUncwQklBQW9Ba1FnQVNnQ1JFY05BU0FBS0FKSUlBRW9Ba2hIRFFFZ0FDZ0NUQ0FCS0FKTVJ3MEJDMEVBSVFJTElBSUwvd2tCQm44akFFRVFheUlFSkFBZ0FVRUFRZHdBRUFjaEF3SkFJQUJCQ0JBRElnRkJmMFlFUUVFQklRRU1BUXNnQXlBQk5nSUFJQUJCQVJBREdpQUFRUUVRQXhvZ0FFRUJFQU5CZjBZRVFFRUJJUUVNQVFzZ0FFRUZFQU5CZjBZRVFFRUJJUUVNQVFzZ0FFRUlFQU1pQVVGL1JnUkFRUUVoQVF3QkN5QURJQUUyQWdRZ0FDQURRUWhxRUFJaUFRMEFJQU1vQWdoQkgwc0VRRUVCSVFFTUFRc2dBQ0FFUVF4cUVBSWlBUTBBUVFFaEFTQUVLQUlNSWdKQkRFc05BQ0FEUVFFZ0FrRUVhblEyQWd3Z0FDQUVRUXhxRUFJaUFRMEFRUUVoQVNBRUtBSU1JZ0pCQWtzTkFDQURJQUkyQWhBQ1FDQUNRUUZMRFFBZ0FrRUJhd1JBSUFBZ0JFRU1haEFDSWdFTkFrRUJJUUVnQkNnQ0RDSUNRUXhMRFFJZ0EwRUJJQUpCQkdwME5nSVVEQUVMSUFCQkFSQURJZ0pCZjBZTkFTQURJQUpCQVVZMkFoZ2dBQ0FEUVJ4cUVBVWlBUTBCSUFBZ0EwRWdhaEFGSWdFTkFTQUFJQU5CSkdvUUFpSUJEUUZCQVNFQklBTW9BaVFpQWtIL0FVc05BU0FDQkVBZ0F5QUNRUUowRUFvaUFUWUNLQ0FCUlFSQVFmLy9BeUVCREFNTElBQWdBUkFGSWdFTkFrRUJJUUlEUUNBQ0lBTW9BaVJQRFFJZ0FrRUNkQ0VCSUFKQkFXb2hBaUFBSUFFZ0F5Z0NLR29RQlNJQlJRMEFDd3dDQ3lBRFFRQTJBaWdMSUFBZ0EwRXNhaEFDSWdFTkFFRUJJUUVnQXlnQ0xFRVFTdzBBSUFCQkFSQURJZ0pCZjBZTkFDQURJQUpCQVVZMkFqQWdBQ0FFUVF4cUVBSWlBUTBBSUFNZ0JDZ0NERUVCYWpZQ05DQUFJQVJCREdvUUFpSUJEUUJCQVNFQklBTWdCQ2dDREVFQmFqWUNPQ0FBUVFFUUEwRUJha0VDU1EwQUlBQkJBUkFEUVg5R0RRQWdBRUVCRUFNaUFrRi9SZzBBSUFNZ0FrRUJSaUlCTmdJOEFrQWdBVVVFUUNBREtBSTRJUVVnQXlnQ05DRUdEQUVMSUFBZ0EwRkFheEFDSWdFTkFTQUFJQU5CeEFCcUVBSWlBUTBCSUFBZ0EwSElBR29RQWlJQkRRRWdBQ0FEUWN3QWFoQUNJZ0VOQVVFQklRRWdBeWdDUUNBREtBSkVRWDl6SUFNb0FqUWlCa0VEZEdwS0RRRWdBeWdDU0NBREtBSk1RWDl6SUFNb0FqZ2lCVUVEZEdwS0RRRUxBa0FDUUFKQUFrQWdBeWdDQkVGMmFpSUhRU2xMRFFCQjR3QWhBVUdBcEFraEFnSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnQjBFQmF3NHBBQUVCQ3dzTEN3c0xBUUlEQ3dzTEN3c0xDd01FQlFzTEN3c0xDd3NHQmdjTEN3c0xDd3NMQ0FrS0MwR01BeUVCUVlDTUZTRUNEQWtMUVl3RElRRkJnTmczSVFJTUNBdEJtQVloQVVHQXNPOEFJUUlNQnd0QjFBd2hBVUdBN0wwQklRSU1CZ3RCa0J3aEFVR0E4S1VESVFJTUJRdEJnQ2doQVVHQWdPQURJUUlNQkF0QmdNQUFJUUZCZ0lDQUJpRUNEQU1MUVlERUFDRUJRWUNBc0FZaEFnd0NDMEhBckFFaEFVR0F3SnNVSVFJTUFRdEJnS0FDSVFGQmdJRGdJU0VDQ3lBQklBVWdCbXdpQVU4TkFRc2dCRUgvLy8vL0J6WUNEQ0FES0FJc0lRSU1BUXNnQkNBQ0lBRkJnQU5zYmlJQlFSQWdBVUVRU1JzaUFUWUNEQ0FES0FJc0lnSWdBVTBOQVFzZ0JDQUNOZ0lNSUFJaEFRc2dBeUFCTmdKWVFRRWhBU0FBUVFFUUF5SUNRWDlHRFFBZ0F5QUNRUUZHTmdKUUFrQWdBa0VCUncwQUlBTkJ1QWNRQ2lJQk5nSlVJQUZGQkVCQi8vOERJUUVNQWdzZ0FDQUJFQ3dpQVEwQklBTW9BbFFpQWlnQ21BZEZEUUJCQVNFQklBSW9BckFISUFJb0FyUUhJZ0pMRFFFZ0FpQURLQUlzU1EwQklBSWdBeWdDV0VzTkFTQURJQUpCQVNBQ0d6WUNXQXNnQUJBZlFRQWhBUXNnQkVFUWFpUUFJQUVMalFRQkRuOGdBUUovQWtBZ0FDOEJJQ0lIRFFBZ0FDOEJIQTBBUVFBTUFRdEJBZ3MyQWlBZ0FRSi9Ba0FnQUM4QklpSUNEUUFnQUM4QkhnMEFRUUFNQVF0QkFnczJBaWdnQVFKL0FrQWdBQzhCS0NJRERRQWdBQzhCSkEwQVFRQU1BUXRCQWdzMkFqQWdBUUovQWtBZ0FDOEJLaUlJRFFBZ0FDOEJKZzBBUVFBTUFRdEJBZ3MyQWpnZ0FTQUhJQUF2QVN3aUNYSkJBRWRCQVhRMkFrQWdBU0FDSUFBdkFTNGlCSEpCQUVkQkFYUTJBa2dnQVNBRElBQXZBVFFpQlhKQkFFZEJBWFEyQWxBZ0FTQUlJQUF2QVRZaUNuSkJBRWRCQVhRMkFsZ2dBU0FBTHdFd0lnMGdDWEpCQUVkQkFYUTJBbUFnQVNBQUx3RXlJZ3NnQkhKQkFFZEJBWFEyQW1nZ0FTQUFMd0U0SWd3Z0JYSkJBRWRCQVhRMkFuQWdBU0FBTHdFNklnNGdDbkpCQUVkQkFYUTJBbmhCQWlFR0lBRWdBQzhCSGlJUEJIOUJBZ1VnQUM4QkhFRUFSMEVCZEFzMkFnd2dBU0FQSUFBdkFTUWlCbkpCQUVkQkFYUTJBaFFnQUM4QkppRUFJQUVnRENBT2NrRUFSMEVCZERZQ2ZDQUJJQXNnREhKQkFFZEJBWFEyQW5RZ0FTQUxJQTF5UVFCSFFRRjBOZ0pzSUFFZ0JTQUtja0VBUjBFQmREWUNYQ0FCSUFRZ0JYSkJBRWRCQVhRMkFsUWdBU0FFSUFseVFRQkhRUUYwTmdKTUlBRWdBeUFJY2tFQVIwRUJkRFlDUENBQklBSWdBM0pCQUVkQkFYUTJBalFnQVNBQ0lBZHlRUUJIUVFGME5nSXNJQUVnQUNBR2NrRUFSMEVCZERZQ0hBdk1CZ0VMZnlNQVFZQU9heUlPSkFBZ0JrRUZhaUVJQWtBQ1FDQUNRUUJJRFFBZ0EwRUFTQTBBSUFJZ0NHb2dCRXNOQUNBSFFRVnFJZ29nQTJvZ0JVc05BQ0FFSVFnZ0F5RUpEQUVMSUFBZ0RrSEFDbW9nQWlBRElBUWdCU0FJSUFkQkJXb2lDaUFJRUF3Z0RrSEFDbW9oQUVFQUlRSUxBa0FnQ2tVTkFDQUdRUUoySWhCRkRRQWdDQ0FHYXlFUklBQWdDQ0FKYkNBQ2FtcEJCV29oQWlBT0lRQURRQ0FDUVg5cUxRQUFJUWdnQWtGK2FpMEFBQ0VESUFKQmZXb3RBQUFoQlNBQ1FYeHFMUUFBSVFRZ0FrRjdhaTBBQUNFTUlCQWhEUU5BSUFBZ0FpMEFBQ0lKSUF3Z0JDQUlhaUlMYXlBRElBVnFRUlJzYWlBTFFRSjBhMm8yQWdBZ0FDQUNMUUFCSWdzZ0F5QUlha0VVYkNBRWFpQUZJQWxxSWdScklBUkJBblJyYWpZQ0JDQUFJQUl0QUFJaUR5QUlJQWxxUVJSc0lBVnFJQU1nQzJvaUJHc2dCRUVDZEd0cU5nSUlJQUFnQWkwQUF5SVNJQWtnQzJwQkZHd2dBMm9nQ0NBUGFpSURheUFEUVFKMGEybzJBZ3dnQUVFUWFpRUFJQUpCQkdvaEFpQUlJUXdnQ1NFRUlBc2hCU0FQSVFNZ0VpRUlJQTFCZjJvaURRMEFDeUFDSUJGcUlRSWdDa0YvYWlJS0RRQUxDd0pBSUFkQkFuWWlCMFVOQUNBR1JRMEFRY0FBSUFacklROGdEaUFHUVFKMGFpSUlJQVpCRkd4cUlRSkJBQ0FHYXlJUVFRTjBJUklnQmtFRGRDRUpJQVpCQTJ4QkFuUWhDd05BSUFZaEJBTkFJQUVnQ0NBSmFpZ0NBQ0lBSUFJZ0NXb29BZ0FnQWlBR1FRSjBJZzFxS0FJQUlnb2dBaUFTYWlnQ0FDSURhaUlGYXlBRlFRSjBhMm9nQWlnQ0FDSU1JQUlnRUVFQ2RDSVJhaWdDQUNJRmFrRVViR3BCZ0FScVFRcDFRYkF1YWkwQUFEb0FNQ0FCSUFnZ0RXb29BZ0FpRFNBS0lBTWdCV3BCRkd4cUlBQWdER29pQ21zZ0NrRUNkR3RxUVlBRWFrRUtkVUd3TG1vdEFBQTZBQ0FnQVNBSUtBSUFJZ29nRENBQUlBTnFRUlJzYWlBRklBMXFJZ3hySUF4QkFuUnJha0dBQkdwQkNuVkJzQzVxTFFBQU9nQVFJQUVnQ0NBUmFpZ0NBQ0FGSUFBZ0RXcEJGR3hxSUFNZ0Ntb2lBR3NnQUVFQ2RHdHFRWUFFYWtFS2RVR3dMbW90QUFBNkFBQWdDRUVFYWlFSUlBRkJBV29oQVNBQ1FRUnFJUUlnQkVGL2FpSUVEUUFMSUFFZ0Qyb2hBU0FDSUF0cUlRSWdDQ0FMYWlFSUlBZEJmMm9pQncwQUN3c2dEa0dBRG1va0FBdmxBd0VKZnlNQVFjQURheUlLSkFBZ0JrRUZhaUVJQWtBQ1FDQUNRUUJJRFFBZ0F5QUhhaUFGU3cwQUlBTkJBRWdOQUNBQ0lBaHFJQVJMRFFBZ0JDRUlJQU1oQ1F3QkN5QUFJQW9nQWlBRElBUWdCU0FJSUFjZ0NCQU1JQW9oQUVFQUlRSUxBa0FnQjBVTkFDQUdRUUoySWcxRkRRQkJFQ0FHYXlFT0lBZ2dCbXNoRHlBQUlBZ2dDV3dnQW1wcVFRVnFJUUlEUUNBQ1FYOXFMUUFBSVFnZ0FrRithaTBBQUNFR0lBSkJmV290QUFBaEFDQUNRWHhxTFFBQUlRVWdBa0Y3YWkwQUFDRUpJQTBoQ3dOQUlBRWdBaTBBQUNJRElBa2dCU0FJYWlJRWF5QUFJQVpxUVJSc2FpQUVRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFPZ0FBSUFFZ0FpMEFBU0lFSUFVZ0JpQUlha0VVYkdvZ0FDQURhaUlGYXlBRlFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQU9nQUJJQUVnQWkwQUFpSU1JQUFnQXlBSWFrRVViR29nQkNBR2FpSUFheUFBUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBT2dBQ0lBRWdBaTBBQXlJUUlBWWdBeUFFYWtFVWJHb2dDQ0FNYWlJQWF5QUFRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFPZ0FESUFGQkJHb2hBU0FDUVFScUlRSWdDQ0VKSUFNaEJTQUVJUUFnRENFR0lCQWhDQ0FMUVg5cUlnc05BQXNnQVNBT2FpRUJJQUlnRDJvaEFpQUhRWDlxSWdjTkFBc0xJQXBCd0FOcUpBQUw5UU1CQzM4akFFSEFBMnNpQ3lRQUFrQUNRQ0FDUVFCSURRQWdBMEVBU0EwQUlBSWdCbW9nQkVzTkFDQURJQWRxUVFWcUlBVkxEUUFnQXlFSURBRUxJQUFnQ3lBQ0lBTWdCQ0FGSUFZZ0IwRUZhaUFHRUF3Z0N5RUFJQVloQkVFQUlRSUxBa0FnQjBFQ2RpSU1SUTBBSUFaRkRRQkJ3QUFnQm1zaEVTQUVRUUYwSVEwZ0JFRUNkQ0FHYXlFT1FRQWdCR3NpRDBFQmRDRVNJQUFnQkNBSWJDQUNhbW9nQkdvaUJ5QUVRUVZzYWlFQ0EwQWdCaUVBQTBBZ0FTQUhJQTFxTFFBQUlnTWdBaUFOYWkwQUFDQUNJQVJxTFFBQUlna2dBaUFTYWkwQUFDSUZhaUlJYXlBSVFRSjBhMm9nQWkwQUFDSUtJQUlnRDJvdEFBQWlDR3BCRkd4cVFSQnFRUVYxUWJBdWFpMEFBRG9BTUNBQklBUWdCMm90QUFBaUVDQUpJQVVnQ0dwQkZHeHFJQU1nQ21vaUNXc2dDVUVDZEd0cVFSQnFRUVYxUWJBdWFpMEFBRG9BSUNBQklBY3RBQUFpQ1NBS0lBTWdCV3BCRkd4cUlBZ2dFR29pQ21zZ0NrRUNkR3RxUVJCcVFRVjFRYkF1YWkwQUFEb0FFQ0FCSUFjZ0Qyb3RBQUFnQ0NBRElCQnFRUlJzYWlBRklBbHFJZ05ySUFOQkFuUnJha0VRYWtFRmRVR3dMbW90QUFBNkFBQWdCMEVCYWlFSElBRkJBV29oQVNBQ1FRRnFJUUlnQUVGL2FpSUFEUUFMSUFFZ0VXb2hBU0FDSUE1cUlRSWdCeUFPYWlFSElBeEJmMm9pREEwQUN3c2dDMEhBQTJva0FBdXFCZ0VOZnlNQVFiQUJheUlSSkFBZ0NFRUJhaUVLQWtBQ1FDQUNRUUJJRFFBZ0EwRUFTQTBBSUFJZ0Ntb2dCRXNOQUNBRElBbHFRUUZxSUFWTERRQWdCU0VNSUFRaENpQURJUThNQVFzZ0FDQVJJQUlnQXlBRUlBVWdDaUFKUVFGcUlnd2dDaEFNSUFBZ0JDQUZiR29nRVNBS0lBeHNhaUFDSUFNZ0JDQUZJQW9nRENBS0VBd2dFU0VBUVFBaEFnc0NRQ0FKUVFGMklnVkZEUUFnQ0VFQmRpSUVSUTBBUVJBZ0NHc2hFMEVJSUFkcklRdEJDQ0FHYXlFTklBcEJBWFFpRGlBSWF5RVVJQUFnQW1vaUZpQUtJQTlzYWlFQ0lBRWhBQ0FGSVJVRFFDQUNJQTVxTFFBQUlBZHNJQXNnQWlBS2FpMEFBQ0lEYkdvaENDQURJQWRzSUFzZ0FpMEFBR3hxSVFrZ0JDRURBMEFnQWtFQmFpSVFJQTVxTFFBQUlSSWdBQ0FKSUExc0lBb2dFR290QUFBaUNTQUhiQ0FMSUFJdEFBRnNhaUlRSUFac2FrRWdha0VHZGpvQUFDQUFJQWdnRFd3Z0J5QVNiQ0FKSUF0c2FpSUlJQVpzYWtFZ2FrRUdkam9BQ0NBQ0xRQUNJUWtnQWtFQ2FpSUNJQTVxTFFBQUlSSWdBQ0FOSUJCc0lBSWdDbW90QUFBaUVDQUhiQ0FKSUF0c2FpSUpJQVpzYWtFZ2FrRUdkam9BQVNBQUlBZ2dEV3dnQnlBU2JDQUxJQkJzYWlJSUlBWnNha0VnYWtFR2Rqb0FDU0FBUVFKcUlRQWdBMEYvYWlJRERRQUxJQUlnRkdvaEFpQUFJQk5xSVFBZ0ZVRi9haUlWRFFBTElBRkJRR3NoQUNBV0lBd2dEMm9nQ214cUlRSURRQ0FDSUE1cUxRQUFJQWRzSUFzZ0FpQUthaTBBQUNJQmJHb2hDQ0FCSUFkc0lBc2dBaTBBQUd4cUlRa2dCQ0VEQTBBZ0FrRUJhaUlCSUE1cUxRQUFJUXdnQUNBSklBMXNJQUVnQ21vdEFBQWlBU0FIYkNBTElBSXRBQUZzYWlJSklBWnNha0VnYWtFR2Rqb0FBQ0FBSUFnZ0RXd2dCeUFNYkNBQklBdHNhaUlCSUFac2FrRWdha0VHZGpvQUNDQUNMUUFDSVFnZ0FrRUNhaUlDSUE1cUxRQUFJUXdnQUNBSklBMXNJQUlnQ21vdEFBQWlEeUFIYkNBSUlBdHNhaUlKSUFac2FrRWdha0VHZGpvQUFTQUFJQUVnRFd3Z0J5QU1iQ0FMSUE5c2FpSUlJQVpzYWtFZ2FrRUdkam9BQ1NBQVFRSnFJUUFnQTBGL2FpSUREUUFMSUFJZ0ZHb2hBaUFBSUJOcUlRQWdCVUYvYWlJRkRRQUxDeUFSUWJBQmFpUUFDLzlFQVVGL0l3QkJzQUZySWdNa0FDQUFLQUlJSWdRRVFDQUFLQUlFSWg5QkEzUWhGaUFFSUI5c0lnUkJCblFoT3lBRVFRaDBJVHdnSDBFR2RDRTlJQjlCTUd3aFBpQWZRUVYwSVNVZ0gwRlFiQ0VyUVFBZ0gwRUVkQ0lhYXlJb1FRSjBJVDhnS0VFQmRDRXNJQU5CR0dvaElpQURRUXh5SVNNRFFBSkFJQUVvQWdnaUNVRUJSZzBBQWtBQ1FBSkFBa0FnQVNnQ3lBRWlBa1VFUUVFQklRWU1BUXRCQlNFR0lBbEJBa2NOQUVFRlFRRWdBU2dDQkNJSklBSW9BZ1JHR3lFR0lBRW9Bc3dCSWdRTkFVRUFJUVFNQXdzZ0FTZ0N6QUVpQkVVRVFFRUFJUVFNQXdzZ0NVRUNSdzBCSUFFb0FnUWhDUXNnQ1NBRUtBSUVSdzBCQ3lBR1FRSnlJUVlMQW44Z0JrRUNjU0l0QkVBQ1FDQUJLQUlBUVFWTkJFQWdCQ2dDQUVFR1NRMEJDeUFEUVFRMkFrQWdBMEVFTmdKSUlBTkJCRFlDT0NBRFFRUTJBakJCQVF3Q0MwRUNJUTlCQWlFSkFrQWdBUzhCSEEwQUlBUXZBVEFOQUVFQklRa2dBU2dDZENBRUtBSjhSdzBBSUFFdUFZUUJJQVF1QWF3QmF5SUZJQVZCSDNVaUJXb2dCWE5CQTBzTkFDQUJMZ0dHQVNBRUxnR3VBV3NpQ1NBSlFSOTFJZ2xxSUFselFRTkxJUWtMSUFNZ0NUWUNNQUpBSUFFdkFSNE5BQ0FFTHdFeURRQkJBU0VQSUFFb0FuUWdCQ2dDZkVjTkFDQUJMZ0dJQVNBRUxnR3dBV3NpQlNBRlFSOTFJZ1ZxSUFWelFRTkxEUUFnQVM0QmlnRWdCQzRCc2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFUEN5QURJQTgyQWpoQkFpRUZRUUloQ2dKQUlBRXZBU1FOQUNBRUx3RTREUUJCQVNFS0lBRW9BbmdnQkNnQ2dBRkhEUUFnQVM0QmxBRWdCQzRCdkFGcklnZ2dDRUVmZFNJSWFpQUljMEVEU3cwQUlBRXVBWllCSUFRdUFiNEJheUlJSUFoQkgzVWlDR29nQ0hOQkEwc2hDZ3NnQXlBS05nSkFBa0FnQVM4QkpnMEFJQVF2QVRvTkFFRUJJUVVnQVNnQ2VDQUVLQUtBQVVjTkFDQUJMZ0dZQVNBRUxnSEFBV3NpQ0NBSVFSOTFJZ2hxSUFoelFRTkxEUUFnQVM0Qm1nRWdCQzRCd2dGcklnUWdCRUVmZFNJRWFpQUVjMEVEU3lFRkN5QURJQVUyQWtnZ0NTQVBjaUFLY2lBRmNrRUFSd3dCQ3lBRFFRQTJBa0FnQTBFQU5nSklJQU5CQURZQ09DQURRUUEyQWpCQkFBc2hDUUpBQWtBQ1FBSkFJQVpCQkhFaUxnUkFBa0FnQVNnQ0FDSUdRUVZOQkVBZ0FpZ0NBRUVHU1EwQkN5QURRUVEyQW5RZ0EwRUVOZ0tVQVNBRFFRUTJBbFFnQTBFRU5nSTBRUUVoQ1F3Q0MwRUNJUTlCQWlFRUFrQWdBUzhCSEEwQUlBSXZBU1lOQUVFQklRUWdBU2dDZENBQ0tBSjRSdzBBSUFFdUFZUUJJQUl1QVpnQmF5SUZJQVZCSDNVaUJXb2dCWE5CQTBzTkFDQUJMZ0dHQVNBQ0xnR2FBV3NpQkNBRVFSOTFJZ1JxSUFSelFRTkxJUVFMSUFNZ0JEWUNOQUpBSUFFdkFTQU5BQ0FDTHdFcURRQkJBU0VQSUFFb0FuUWdBaWdDZUVjTkFDQUJMZ0dNQVNBQ0xnR2dBV3NpQlNBRlFSOTFJZ1ZxSUFWelFRTkxEUUFnQVM0QmpnRWdBaTRCb2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFUEN5QURJQTgyQWxSQkFpRUZRUUloQ2dKQUlBRXZBU3dOQUNBQ0x3RTJEUUJCQVNFS0lBRW9BbndnQWlnQ2dBRkhEUUFnQVM0QnBBRWdBaTRCdUFGcklnZ2dDRUVmZFNJSWFpQUljMEVEU3cwQUlBRXVBYVlCSUFJdUFib0JheUlJSUFoQkgzVWlDR29nQ0hOQkEwc2hDZ3NnQXlBS05nSjBBa0FnQVM4Qk1BMEFJQUl2QVRvTkFFRUJJUVVnQVNnQ2ZDQUNLQUtBQVVjTkFDQUJMZ0dzQVNBQ0xnSEFBV3NpQ0NBSVFSOTFJZ2hxSUFoelFRTkxEUUFnQVM0QnJnRWdBaTRCd2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFRkN5QURJQVUyQXBRQklBbEZEUUpCQVNFSkRBTUxJQU5CQURZQ2RDQURRUUEyQXBRQklBTkJBRFlDVkNBRFFRQTJBalFnQVNnQ0FDRUdDeUFHUVFaSkRRRWdBMEVETmdLZ0FTQURRb09BZ0lBd053S2tBU0FEUVFNMkFwQUJJQU5CQXpZQ2NDQURRUU0yQXF3QklBTkNnNENBZ0RBM0E1Z0JJQU5DZzRDQWdEQTNBNGdCSUFOQ2c0Q0FnREEzQTRBQklBTkNnNENBZ0RBM0EzZ2dBMEtEZ0lDQU1EY0RhQ0FEUW9PQWdJQXdOd05nSUFOQ2c0Q0FnREEzQTFnZ0EwS0RnSUNBTURjQ1RDQURRUU0yQWtRZ0EwRUROZ0k4REFJTElBUWdEM0lnQ25JZ0JYSkJBRWNoQ1FzQ1FBSi9JQVpCQTAwRVFDQUdRUUowUVl3MWFpZ0NBQXdCQzBFRUMwRUJSZ1JBSUFFZ0EwRXdhaEJFSUFNb0Fxd0JJUWNnQXlnQ3BBRWhEaUFES0FLY0FTRVFJQU1vQW93QklSa2dBeWdDaEFFaEJpQURLQUo4SVJjZ0F5Z0NiQ0VJSUFNb0FtUWhCQ0FES0FKY0lSUWdBeWdDVENFTUlBTW9Ba1FoQWlBREtBSThJUkVnQXlnQ3FBRWhIQ0FES0FLZ0FTRW1JQU1vQXBnQklRMGdBeWdDa0FFaEhTQURLQUtJQVNFU0lBTW9Bb0FCSVJVZ0F5Z0NlQ0ViSUFNb0FuQWhFeUFES0FKb0lRb2dBeWdDWUNFUElBTW9BbGdoQlNBREtBSlFJU2NNQVFzZ0F3Si9Ba0FnQXdKL0FrQUNRQ0FCS0FJQVFYNXFJZ1JCQVUwRVFDQUVRUUZyQkVBZ0F3Si9Ba0FnQVM4QklDSUVEUUFnQVM4QkhBMEFRUUFNQVF0QkFnc2lKellDVUNBREFuOENRQ0FCTHdFaUlnY05BQ0FCTHdFZURRQkJBQXdCQzBFQ0N5SUZOZ0pZSUFNQ2Z3SkFJQUV2QVNnaUJnMEFJQUV2QVNRTkFFRUFEQUVMUVFJTElnODJBbUFnQXdKL0FrQWdBUzhCS2lJT0RRQWdBUzhCSmcwQVFRQU1BUXRCQWdzaUNqWUNhQ0FEQW44Q1FDQUJMd0V3SWg0TkFDQUJMd0VzRFFCQkFBd0JDMEVDQ3lJZE5nS1FBU0FEQW44Q1FDQUJMd0V5SWhBTkFDQUJMd0V1RFFCQkFBd0JDMEVDQ3lJTk5nS1lBU0FEQW44Q1FDQUJMd0U0SWdzTkFDQUJMd0UwRFFCQkFBd0JDMEVDQ3lJbU5nS2dBU0FEQW44Q1FDQUJMd0U2SWhnTkFDQUJMd0UyRFFCQkFBd0JDMEVDQ3lJY05nS29BVUVDSVJ0QkFpRVRBa0FnQkNBQkx3RXNJaGR5RFFCQkFTRVRJQUV1QWFRQklBRXVBWXdCYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBQkxnR21BU0FCTGdHT0FXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWdBU2dDZkNBQktBSjBSeUVUQ3lBRElCTTJBbkFDUUNBSElBRXZBUzRpSUhJTkFFRUJJUnNnQVM0QnFBRWdBUzRCa0FGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRXVBYW9CSUFFdUFaSUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQ0FCS0FKOElBRW9BblJISVJzTElBTWdHellDZUVFQ0lSSkJBaUVWQWtBZ0JpQUJMd0UwSWhseURRQkJBU0VWSUFFdUFiUUJJQUV1QVp3QmF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTkFDQUJMZ0cyQVNBQkxnR2VBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVNnQ2dBRWdBU2dDZUVjaEZRc2dBeUFWTmdLQUFRSkFJQTRnQVM4Qk5pSWhjZzBBUVFFaEVpQUJMZ0c0QVNBQkxnR2dBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVM0QnVnRWdBUzRCb2dGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRW9Bb0FCSUFFb0FuaEhJUklMSUFNZ0VqWUNpQUVnQVM4QkhnMENJQUV2QVJ3RVFFRUNJUkVnQTBFQ05nSThJQUV2QVNRaUNBMEdRUUFoREVFQURBY0xRUUFoRVNBRFFRQTJBanhCQUNFTVFRQWdBUzhCSkNJSVJRMEdHZ3dGQ3lBREFuOENRQ0FCTHdFZ0lnSU5BQ0FCTHdFY0RRQkJBQXdCQzBFQ0N5SW5OZ0pRSUFNQ2Z3SkFJQUV2QVNJaUJnMEFJQUV2QVI0TkFFRUFEQUVMUVFJTElnVTJBbGdnQXdKL0FrQWdBUzhCS0NJT0RRQWdBUzhCSkEwQVFRQU1BUXRCQWdzaUR6WUNZQ0FEQW44Q1FDQUJMd0VxSWdnTkFDQUJMd0VtRFFCQkFBd0JDMEVDQ3lJS05nSm9JQU1nQWlBQkx3RXNJaGR5UVFCSFFRRjBJaE0yQW5BZ0F5QUdJQUV2QVM0aUMzSkJBRWRCQVhRaUd6WUNlQ0FESUE0Z0FTOEJOQ0llY2tFQVIwRUJkQ0lWTmdLQUFTQURJQWdnQVM4Qk5pSVpja0VBUjBFQmRDSVNOZ0tJQVNBRElBRXZBVEFpRUNBWGNrRUFSMEVCZENJZE5nS1FBU0FESUFFdkFUSWlJQ0FMY2tFQVIwRUJkQ0lOTmdLWUFTQURJQUV2QVRnaUlTQWVja0VBUjBFQmRDSW1OZ0tnQVNBRElBRXZBVG9pQnlBWmNrRUFSMEVCZENJY05nS29BU0FEQW44Q1FDQUJMd0VlSWlRTkFDQUJMd0VjRFFCQkFBd0JDMEVDQ3lJUk5nSThJQUV2QVNZRVFDQUJMd0VrSVJnTUF3c2dBUzhCSkNJWURRSkJBQ0VZUVFBTUF3c2dBUzRCaGdFaEZDQUJMZ0dPQVNFRVFRSWhCU0FEQW45QkFpQUJMd0VjSWhFZ0FTOEJJQ0l2Y2cwQUdrRUJJQUV1QVl3QklBRXVBWVFCYXlJR0lBWkJIM1VpQm1vZ0JuTkJBMHNOQUJvZ0JDQVVheUlHSUFaQkgzVWlCbW9nQm5OQkEwc0xJaWMyQWxBZ0FTNEJpZ0VoQ0NBQkxnR1NBU0VHQWtBZ0FTOEJIaUl3SUFFdkFTSWlFSElOQUVFQklRVWdBUzRCa0FFZ0FTNEJpQUZySWdJZ0FrRWZkU0lDYWlBQ2MwRURTdzBBSUFZZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6UVFOTElRVUxJQU1nQlRZQ1dDQUJMZ0dXQVNFTUlBRXVBWjRCSVFkQkFpRUtJQU1DZjBFQ0lBRXZBU1FpTVNBQkx3RW9JaGR5RFFBYVFRRWdBUzRCbkFFZ0FTNEJsQUZySWdJZ0FrRWZkU0lDYWlBQ2MwRURTdzBBR2lBSElBeHJJZ0lnQWtFZmRTSUNhaUFDYzBFRFN3c2lEellDWUNBQkxnR2FBU0V5SUFFdUFhSUJJUXNDUUNBQkx3RW1Ja0FnQVM4QktpSXpjZzBBUVFFaENpQUJMZ0dnQVNBQkxnR1lBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQ3lBeWF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzaENnc2dBeUFLTmdKb0lBRXVBYVlCSVI1QkFpRWJRUUloRXdKQUlDOGdBUzhCTENJMGNnMEFRUUVoRXlBQkxnR2tBU0FCTGdHTUFXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWdIaUFFYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBQktBSjhJQUVvQW5SSElSTUxJQU1nRXpZQ2NDQUJMZ0dxQVNFT0FrQWdFQ0FCTHdFdUloaHlEUUJCQVNFYklBRXVBYWdCSUFFdUFaQUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQ0FPSUFacklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRW9BbndnQVNnQ2RFY2hHd3NnQXlBYk5nSjRJQUV1QWJZQklSbEJBaUVTUVFJaEZRSkFJQmNnQVM4Qk5DSWdjZzBBUVFFaEZTQUJMZ0cwQVNBQkxnR2NBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnR1NBSGF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTkFDQUJLQUtBQVNBQktBSjRSeUVWQ3lBRElCVTJBb0FCSUFFdUFib0JJU0VDUUNBeklBRXZBVFlpTlhJTkFFRUJJUklnQVM0QnVBRWdBUzRCb0FGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlDRWdDMnNpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVNnQ2dBRWdBU2dDZUVjaEVnc2dBeUFTTmdLSUFTQUJMZ0d1QVNFMlFRSWhEU0FEQW45QkFpQTBJQUV2QVRBaVFYSU5BQnBCQVNBQkxnR3NBU0FCTGdHa0FXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWFJRFlnSG1zaUFpQUNRUjkxSWdKcUlBSnpRUU5MQ3lJZE5nS1FBU0FCTGdHeUFTRWtBa0FnR0NBQkx3RXlJamR5RFFCQkFTRU5JQUV1QWJBQklBRXVBYWdCYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBa0lBNXJJZ0lnQWtFZmRTSUNhaUFDYzBFRFN5RU5DeUFESUEwMkFwZ0JJQUV1QWI0QklTbEJBaUVjSUFNQ2YwRUNJQ0FnQVM4Qk9DSTRjZzBBR2tFQklBRXVBYndCSUFFdUFiUUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQm9nS1NBWmF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTElpWTJBcUFCSUFFdUFjSUJJVGtDUUNBMUlBRXZBVG9pUW5JTkFFRUJJUndnQVM0QndBRWdBUzRCdUFGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlEa2dJV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxJUndMSUFNZ0hEWUNxQUZCQWlFQ0lBTUNmMEVDSUJFZ01ISU5BQnBCQVNBQkxnR0lBU0FCTGdHRUFXc2lFU0FSUVI5MUloRnFJQkZ6UVFOTERRQWFJQWdnRkdzaUZDQVVRUjkxSWhScUlCUnpRUU5MQ3lJUk5nSThBa0FnTUNBeGNnMEFRUUVoQWlBQkxnR1VBU0FCTGdHSUFXc2lGQ0FVUVI5MUloUnFJQlJ6UVFOTERRQWdEQ0FJYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUNBQktBSjRJQUVvQW5SSElRSUxJQU1nQWpZQ1JFRUNJUlFnQXdKL1FRSWdNU0JBY2cwQUdrRUJJQUV1QVpnQklBRXVBWlFCYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUJvZ01pQU1heUlJSUFoQkgzVWlDR29nQ0hOQkEwc0xJZ3cyQWt3Q1FDQVFJQzl5RFFCQkFTRVVJQUV1QVpBQklBRXVBWXdCYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUNBR0lBUnJJZ1FnQkVFZmRTSUVhaUFFYzBFRFN5RVVDeUFESUJRMkFseEJBaUVJUVFJaEJBSkFJQkFnRjNJTkFFRUJJUVFnQVM0Qm5BRWdBUzRCa0FGckloQWdFRUVmZFNJUWFpQVFjMEVEU3cwQUlBY2dCbXNpQmlBR1FSOTFJZ1pxSUFaelFRTkxEUUFnQVNnQ2VDQUJLQUowUnlFRUN5QURJQVEyQW1RQ1FDQVhJRE55RFFCQkFTRUlJQUV1QWFBQklBRXVBWndCYXlJR0lBWkJIM1VpQm1vZ0JuTkJBMHNOQUNBTElBZHJJZ1lnQmtFZmRTSUdhaUFHYzBFRFN5RUlDeUFESUFnMkFteEJBaUVHSUFNQ2YwRUNJQmdnTkhJTkFCcEJBU0FCTGdHb0FTQUJMZ0drQVdzaUJ5QUhRUjkxSWdkcUlBZHpRUU5MRFFBYUlBNGdIbXNpQnlBSFFSOTFJZ2RxSUFkelFRTkxDeUlYTmdKOEFrQWdHQ0FnY2cwQVFRRWhCaUFCTGdHMEFTQUJMZ0dvQVdzaUJ5QUhRUjkxSWdkcUlBZHpRUU5MRFFBZ0dTQU9heUlISUFkQkgzVWlCMm9nQjNOQkEwc05BQ0FCS0FLQUFTQUJLQUo4UnlFR0N5QURJQVkyQW9RQlFRSWhFQ0FEQW45QkFpQWdJRFZ5RFFBYVFRRWdBUzRCdUFFZ0FTNEJ0QUZySWdjZ0IwRWZkU0lIYWlBSGMwRURTdzBBR2lBaElCbHJJZ2NnQjBFZmRTSUhhaUFIYzBFRFN3c2lHVFlDakFFQ1FDQTNJRUZ5RFFCQkFTRVFJQUV1QWJBQklBRXVBYXdCYXlJSElBZEJIM1VpQjJvZ0IzTkJBMHNOQUNBa0lEWnJJZ2NnQjBFZmRTSUhhaUFIYzBFRFN5RVFDeUFESUJBMkFwd0JRUUloQjBFQ0lRNENRQ0EzSURoeURRQkJBU0VPSUFFdUFid0JJQUV1QWJBQmF5SUxJQXRCSDNVaUMyb2dDM05CQTBzTkFDQXBJQ1JySWdzZ0MwRWZkU0lMYWlBTGMwRURTdzBBSUFFb0FvQUJJQUVvQW54SElRNExJQU1nRGpZQ3BBRUNRQ0E0SUVKeURRQkJBU0VISUFFdUFjQUJJQUV1QWJ3QmF5SUxJQXRCSDNVaUMyb2dDM05CQTBzTkFDQTVJQ2xySWdjZ0IwRWZkU0lIYWlBSGMwRURTeUVIQ3lBRElBYzJBcXdCREFVTFFRSWhFU0FEUVFJMkFqd2dBUzhCSkNFSURBSUxRUUlMSWd3MkFreEJBaUVFSUFOQkFpQUlRUUJIUVFGMElBNGJJZ2cyQW13Z0EwRUNJQVpCQUVkQkFYUWdBaHNpRkRZQ1hDQURJQWNnSVhKQkFFZEJBWFFpQnpZQ3JBRWdBeUFRSUNCeVFRQkhRUUYwSWhBMkFwd0JJQU1nR1NBZWNrRUFSMEVCZENJWk5nS01BU0FESUFzZ0YzSkJBRWRCQVhRaUZ6WUNmRUVDSVFJQ1FDQVlJQ1J5RFFCQkFTRUNJQUV1QVpRQklBRXVBWWdCYXlJWUlCaEJIM1VpR0dvZ0dITkJBMHNOQUNBQkxnR1dBU0FCTGdHS0FXc2lHQ0FZUVI5MUloaHFJQmh6UVFOTERRQWdBU2dDZUNBQktBSjBSeUVDQ3lBRElBSTJBa1FDUUNBR0lBNXlEUUJCQVNFRUlBRXVBWndCSUFFdUFaQUJheUlHSUFaQkgzVWlCbW9nQm5OQkEwc05BQ0FCTGdHZUFTQUJMZ0dTQVdzaUJpQUdRUjkxSWdacUlBWnpRUU5MRFFBZ0FTZ0NlQ0FCS0FKMFJ5RUVDeUFESUFRMkFtUkJBaUVPUVFJaEJnSkFJQXNnSG5JTkFFRUJJUVlnQVM0QnRBRWdBUzRCcUFGcklnc2dDMEVmZFNJTGFpQUxjMEVEU3cwQUlBRXVBYllCSUFFdUFhb0JheUlMSUF0QkgzVWlDMm9nQzNOQkEwc05BQ0FCS0FLQUFTQUJLQUo4UnlFR0N5QURJQVkyQW9RQkFrQWdJQ0FoY2cwQVFRRWhEaUFCTGdHOEFTQUJMZ0d3QVdzaUN5QUxRUjkxSWd0cUlBdHpRUU5MRFFBZ0FTNEJ2Z0VnQVM0QnNnRnJJZ3NnQzBFZmRTSUxhaUFMYzBFRFN3MEFJQUVvQW9BQklBRW9BbnhISVE0TElBTWdEallDcEFFTUFnc2dDQ0VNUVFJTElnSTJBa1FnQXlBQkx3RW1JQXhCLy84RGNYSkJBRWRCQVhRaUREWUNUQ0FEQW44Q1FDQUhSUVJBSUFRRVFFRUNJUlFnQTBFQ05nSmNJQVlOQWtFQURBTUxRUUFoRkNBRFFRQTJBbHhCQUNBR1JRMENHZ3dCQzBFQ0lSUWdBMEVDTmdKY0MwRUNDeUlFTmdKa0lBTkJBaUFPUVFCSFFRRjBJQVliSWdnMkFtd2dBd0ovQWtBZ0lFVUVRQ0FYQkVCQkFpRVhJQU5CQWpZQ2ZDQVpEUUpCQUF3REMwRUFJUmNnQTBFQU5nSjhRUUFnR1VVTkFob01BUXRCQWlFWElBTkJBallDZkF0QkFnc2lCallDaEFFZ0F5QUxJQmh5UVFCSFFRRjBJZ2MyQXF3QklBTWdDeUFRY2tFQVIwRUJkQ0lPTmdLa0FTQURRUUlnRUVFQVIwRUJkQ0FlR3lJUU5nS2NBU0FESUJrZ0lYSkJBRWRCQVhRaUdUWUNqQUVMSUFrZ0ozSWdCWElnRDNJZ0NuSWdFM0lnRzNJZ0ZYSWdFbklnSFhJZ0RYSWdKbklnSEhJZ0VYSWdBbklnREhJZ0ZISWdCSElnQ0hJZ0YzSWdCbklnR1hJZ0VISWdEbklnQjNKRkRRRUxJQUVvQWd3aENTQURJQUVvQWhBaUJTQUJLQUlVSWdScUlnWkJNeUFHUVROSUd5SUdRUUFnQmtFQVNodEIwQmRxTFFBQUlnWTJBaUFnQXlBRUlBbHFJZ0pCTXlBQ1FUTklHeUlDUVFBZ0FrRUFTaHNpQ0VHUUYyb3RBQUFpQWpZQ0hDQURJQWhCQTJ4QmtCaHFJZ2cyQWhnQ1FDQXRSUTBBSUFRZ0FTZ0N6QUVvQWhRaUIwY0VRQ0FESUFRZ0IycEJBV3BCQVhZaUJ5QUZhaUlOUVRNZ0RVRXpTQnNpRFVFQUlBMUJBRW9iUWRBWGFpMEFBRFlDQ0NBRElBY2dDV29pQjBFeklBZEJNMGdiSWdkQkFDQUhRUUJLR3lJSFFaQVhhaTBBQURZQ0JDQURJQWRCQTJ4QmtCaHFOZ0lBREFFTElBTWdCallDQ0NBRElBSTJBZ1FnQXlBSU5nSUFDd0pBSUM1RkRRQWdCQ0FCS0FMSUFTZ0NGQ0lIUndSQUlBTWdCQ0FIYWtFQmFrRUJkaUlFSUFWcUlnVkJNeUFGUVROSUd5SUZRUUFnQlVFQVNodEIwQmRxTFFBQU5nSVVJQU1nQkNBSmFpSUVRVE1nQkVFelNCc2lCRUVBSUFSQkFFb2JJZ1JCa0JkcUxRQUFOZ0lRSUFNZ0JFRURiRUdRR0dvMkFnd01BUXNnQXlBR05nSVVJQU1nQWpZQ0VDQURJQWcyQWd3TElBQW9BZ0FnSHlBNmJDSVVRUWgwYWlBcVFRUjBhaUVKUVFBaEFrRURJUVFnQTBFd2FpRUdBMEFnQmlnQ0JDSUZCRUFnQ1NBRklDTWdHaEFaQ3lBR0tBSU1JZ1VFUUNBSlFRUnFJQVVnSWlBYUVCa0xJQVlvQWhRaUJRUkFJQWxCQ0dvZ0JTQWlJQm9RR1FzZ0JpZ0NIQ0lGQkVBZ0NVRU1haUFGSUNJZ0doQVpDeUFFSVFnQ1FBSkFBa0FnQmlnQ0FDSUVJQVlvQWdnaUQwY05BQ0FFSUFZb0FoQkhEUUFnQkNBR0tBSVlSdzBBSUFSRkRRSWdBeUFDUVF4c2FpSUZLQUlJSVF3Z0JTZ0NCQ0ViSUFSQkJFa05BU0FiUVFKMlFRSnFJUkJCRUNFUElBa2hCQU5BQWtBZ0JDQW9haUlDTFFBQUlnb2dCQzBBQUNJT2F5SUZJQVZCSDNVaUJXb2dCWE1pQnlBYlR3MEFJQVFnTEdvaUVTMEFBQ0lGSUFwcklnMGdEVUVmZFNJTmFpQU5jeUFNVHcwQUlBUWdHbW9pSEMwQUFDSVNJQTVySWcwZ0RVRWZkU0lOYWlBTmN5QU1UdzBBQWtBZ0J5QVFTUVJBSUFRZ0pXb2lGeTBBQUNFVkFuOGdCQ0FyYWlJTkxRQUFJaE1nQ21zaUJ5QUhRUjkxSWdkcUlBZHpJQXhKQkVCQkF5RWRJQUlnRWlBS0lBNXFJQVZxSWdKQkFYUnFJQk5xUVFScVFRTjJPZ0FBSUJFZ0FpQVRha0VDYWtFQ2Rqb0FBQ0FDUVFScUlSRWdCQ0EvYWkwQUFDRUhJQk5CQTJ3TUFRc2dDaUFTYWlFUklBVWhCMEVDSVIwZ0FpRU5RUUlMSVFJZ0RTQUNJQkZxSUFkQkFYUnFJQjEyT2dBQUlCVWdEbXNpQWlBQ1FSOTFJZ0pxSUFKeklBeFBEUUVnQkNBRklBb2dFbW9nRG1vaUFrRUJkR29nRldwQkJHcEJBM1k2QUFBZ0hDQUNJQlZxUVFKcVFRSjJPZ0FBSUJjZ0FpQVZRUU5zYWlBRUlENXFMUUFBUVFGMGFrRUVha0VEZGpvQUFBd0NDeUFDSUFvZ0Vtb2dCVUVCZEdwQkFtcEJBblk2QUFBTElBUWdCU0FPYWlBU1FRRjBha0VDYWtFQ2Rqb0FBQXNnQkVFQmFpRUVJQTlCZjJvaUR3MEFDd3dDQ3dKL0lBUUVRQ0FKSUFRZ0F5QUNRUXhzYWlBYUVCZ2dCaWdDQ0NFUEN5QVBDd1JBSUFsQkJHb2dEeUFESUFKQkRHeHFJQm9RR0FzZ0JpZ0NFQ0lFQkVBZ0NVRUlhaUFFSUFNZ0FrRU1iR29nR2hBWUN5QUdLQUlZSWdSRkRRRWdDVUVNYWlBRUlBTWdBa0VNYkdvZ0doQVlEQUVMSUFRZ0JTZ0NBR3BCZjJvdEFBQWlBa0VCYWlFSFFRQWdBbXNoRGtFUUlROGdDU0VFQTBBQ1FDQUVJQ2hxSWhNdEFBQWlEU0FFTFFBQUlncHJJZ1VnQlVFZmRTSUZhaUFGY3lBYlR3MEFJQVFnTEdvaUVTMEFBQ0lTSUExcklnVWdCVUVmZFNJRmFpQUZjeUFNVHcwQUlBUWdHbW9pRUMwQUFDSVZJQXBySWdVZ0JVRWZkU0lGYWlBRmN5QU1UdzBBSUFJaEJTQUVJQ3RxTFFBQUlod2dEV3NpSFNBZFFSOTFJaDFxSUIxeklBeEpCRUFnRVNBU0lBNGdBaUFLSUExcVFRRnFRUUYySUJKQkFYUnJJQnhxUVFGMUlnVWdCU0FDU2hzZ0JTQU9TQnRxT2dBQUlBY2hCUXNnRXlBTkFuOGdCQ0FsYWkwQUFDSVRJQXBySWhFZ0VVRWZkU0lSYWlBUmN5QU1TUVJBSUJBZ0ZTQU9JQUlnQ2lBTmFrRUJha0VCZGlBVlFRRjBheUFUYWtFQmRTSVRJQk1nQWtvYklCTWdEa2diYWpvQUFDQUZRUUZxSVFVTFFRQWdCV3NpRXdzZ0JTQVNJQlZySUFvZ0RXdEJBblJxUVFScVFRTjFJaElnRWlBRlNoc2dFaUFUU0JzaUJXcEJzQzVxTFFBQU9nQUFJQVFnQ2lBRmEwR3dMbW90QUFBNkFBQUxJQVJCQVdvaEJDQVBRWDlxSWc4TkFBc0xJQWhCZjJvaEJDQUdRU0JxSVFZZ0NTQTlhaUVKUVFJaEFpQUlEUUFMSUFFb0Fnd2hCQ0FESUFFb0FoQWlCU0FCS0FJVUlnWWdBU2dDR0NJQ2FpSUpRVE1nQ1VFelNCc2lDVUVBSUFsQkFFb2JRUUowUWVBOWFpZ0NBQ0lKYWlJSVFUTWdDRUV6U0JzaUNFRUFJQWhCQUVvYlFkQVhhaTBBQUNJSU5nSWdJQU1nQkNBSmFpSUhRVE1nQjBFelNCc2lCMEVBSUFkQkFFb2JJZzFCa0JkcUxRQUFJZ2MyQWh3Z0F5QU5RUU5zUVpBWWFpSU5OZ0lZQWtBZ0xVVU5BQ0FHSUFFb0Fzd0JLQUlVSWd4SEJFQWdBeUFKSUFJZ0RHb2lERUV6SUF4Qk0wZ2JJZ3hCQUNBTVFRQktHMEVDZEVIZ1BXb29BZ0JxUVFGcVFRRjJJZ3dnQldvaUQwRXpJQTlCTTBnYklnOUJBQ0FQUVFCS0cwSFFGMm90QUFBMkFnZ2dBeUFFSUF4cUlneEJNeUFNUVROSUd5SU1RUUFnREVFQVNoc2lERUdRRjJvdEFBQTJBZ1FnQXlBTVFRTnNRWkFZYWpZQ0FBd0JDeUFESUFnMkFnZ2dBeUFITmdJRUlBTWdEVFlDQUFzQ1FDQXVSUTBBSUFZZ0FTZ0N5QUVvQWhRaURFY0VRQ0FESUFVZ0NTQUNJQXhxSWdaQk15QUdRVE5JR3lJR1FRQWdCa0VBU2h0QkFuUkI0RDFxS0FJQWFrRUJha0VCZGlJSmFpSUZRVE1nQlVFelNCc2lCVUVBSUFWQkFFb2JRZEFYYWkwQUFEWUNGQ0FESUFRZ0NXb2lCRUV6SUFSQk0wZ2JJZ1JCQUNBRVFRQktHeUlFUVpBWGFpMEFBRFlDRUNBRElBUkJBMnhCa0JocU5nSU1EQUVMSUFNZ0NEWUNGQ0FESUFjMkFoQWdBeUFOTmdJTUN5QUFLQUlBSUR4cUlCUkJCblJxSUNwQkEzUnFJZ2tnTzJvaEJFRUFJUW9nQTBFd2FpRUdRUUFoQWdOQUlBWW9BZ1FpQlFSQUlBa2dCU0FqSUJZUUVDQUVJQVlvQWdRZ0l5QVdFQkFMSUFZb0FpUWlCUVJBSUFrZ0dtb2dCU0FqSUJZUUVDQUVJQnBxSUFZb0FpUWdJeUFXRUJBTElBWW9BaFFpQlFSQUlBbEJCR29nQlNBaUlCWVFFQ0FFUVFScUlBWW9BaFFnSWlBV0VCQUxJQVlvQWpRaUJRUkFJQWtnR21wQkJHb2dCU0FpSUJZUUVDQUVJQnBxUVFScUlBWW9BalFnSWlBV0VCQUxJQUloQlFKQUFrQWdCaWdDQUNJQ0lBWW9BZ2dpRDBjTkFDQUNJQVlvQWhCSERRQWdBaUFHS0FJWVJ3MEFJQUpGRFFFZ0NTQUNJQU1nQ2tFTWJHb2lBaUFXRUNzZ0JDQUdLQUlBSUFJZ0ZoQXJEQUVMQW44Z0FnUkFJQWtnQWlBRElBcEJER3hxSWdJZ0ZoQVNJQVFnQmlnQ0FDQUNJQllRRWlBR0tBSUlJUThMSUE4TEJFQWdDVUVDYWlBUElBTWdDa0VNYkdvaUFpQVdFQklnQkVFQ2FpQUdLQUlJSUFJZ0ZoQVNDeUFHS0FJUUlnSUVRQ0FKUVFScUlBSWdBeUFLUVF4c2FpSUNJQllRRWlBRVFRUnFJQVlvQWhBZ0FpQVdFQklMSUFZb0FoZ2lBa1VOQUNBSlFRWnFJQUlnQXlBS1FReHNhaUlDSUJZUUVpQUVRUVpxSUFZb0FoZ2dBaUFXRUJJTElBUWdKV29oQkNBSklDVnFJUWtnQmtGQWF5RUdRUUVoQWtFQ0lRb2dCVVVOQUFzTFFRQWdLa0VCYWlJRUlBUWdIMFlpQkJzaEtpQUJRZGdCYWlFQklBUWdPbW9pT2lBQUtBSUlTUTBBQ3dzZ0EwR3dBV29rQUF1Q0JRRUtmeU1BUVpBQmF5SUxKQUFDUUFKQUlBSkJBRWdOQUNBRFFRQklEUUFnQWlBSGFpQUVTdzBBSUFNZ0NHcEJBV29nQlVzTkFDQUZJUXdnQXlFT0RBRUxJQUFnQ3lBQ0lBTWdCQ0FGSUFjZ0NFRUJhaUlNSUFjUURDQUFJQVFnQld4cUlBc2dCeUFNYkdvZ0FpQURJQVFnQlNBSElBd2dCeEFNSUFzaEFDQUhJUVJCQUNFQ0N3SkFJQWhCQVhZaUJVVU5BQ0FIUVFGMklnTkZEUUJCRUNBSGF5RVFRUWdnQm1zaENTQUVRUUYwSWcwZ0Iyc2hFU0FBSUFKcUloSWdCQ0FPYkdvaEJ5QUJJUUlnQlNFSUEwQWdBeUVBQTBBZ0J5QU5haTBBQUNFS0lBSWdDU0FITFFBQWJDQUVJQWRxTFFBQUlnOGdCbXhxUVFOMFFTQnFRUVoyT2dBQUlBSWdDU0FQYkNBR0lBcHNha0VEZEVFZ2FrRUdkam9BQ0NBSFFRRnFJZ29nRFdvdEFBQWhEeUFDSUFrZ0J5MEFBV3dnQkNBS2FpMEFBQ0lLSUFac2FrRURkRUVnYWtFR2Rqb0FBU0FDSUFrZ0Ntd2dCaUFQYkdwQkEzUkJJR3BCQm5ZNkFBa2dBa0VDYWlFQ0lBZEJBbW9oQnlBQVFYOXFJZ0FOQUFzZ0J5QVJhaUVISUFJZ0VHb2hBaUFJUVg5cUlnZ05BQXNnQVVGQWF5RUNJQklnRENBT2FpQUViR29oQndOQUlBTWhBQU5BSUFjZ0RXb3RBQUFoQVNBQ0lBa2dCeTBBQUd3Z0JDQUhhaTBBQUNJSUlBWnNha0VEZEVFZ2FrRUdkam9BQUNBQ0lBZ2dDV3dnQVNBR2JHcEJBM1JCSUdwQkJuWTZBQWdnQjBFQmFpSUJJQTFxTFFBQUlRZ2dBaUFKSUFjdEFBRnNJQUVnQkdvdEFBQWlBU0FHYkdwQkEzUkJJR3BCQm5ZNkFBRWdBaUFCSUFsc0lBWWdDR3hxUVFOMFFTQnFRUVoyT2dBSklBSkJBbW9oQWlBSFFRSnFJUWNnQUVGL2FpSUFEUUFMSUFjZ0VXb2hCeUFDSUJCcUlRSWdCVUYvYWlJRkRRQUxDeUFMUVpBQmFpUUFDLzBFQVF0L0l3QkJrQUZySWd3a0FDQUhRUUZxSVFrQ1FBSkFJQUpCQUVnTkFDQURJQWhxSUFWTERRQWdBMEVBU0EwQUlBSWdDV29nQkVzTkFDQUVJUWtnQXlFTERBRUxJQUFnRENBQ0lBTWdCQ0FGSUFrZ0NDQUpFQXdnQUNBRUlBVnNhaUFNSUFnZ0NXeHFJQUlnQXlBRUlBVWdDU0FJSUFrUURDQU1JUUFnQ0NFRlFRQWhBZ3NDUUNBSVFRRjJJZ2hGRFFBZ0IwRUJkaUlFUlEwQVFSQWdCMnNoRGtFSUlBWnJJUW9nQ1VFQmRDQUhheUVQSUFBZ0Ftb2lFU0FKSUF0c2FpRUNJQUVoQXlBSUlRQURRQ0FFSVFjRFFDQUNRUUZxSUFscUxRQUFJUkFnQWlBSmFpMEFBQ0VOSUFNZ0FpMEFBU0lTSUFac0lBb2dBaTBBQUd4cVFRTjBRU0JxUVFaMk9nQUFJQU1nQmlBUWJDQUtJQTFzYWtFRGRFRWdha0VHZGpvQUNDQUNMUUFDSVEwZ0FrRUNhaUlDSUFscUxRQUFJUk1nQXlBR0lBMXNJQW9nRW14cVFRTjBRU0JxUVFaMk9nQUJJQU1nQmlBVGJDQUtJQkJzYWtFRGRFRWdha0VHZGpvQUNTQURRUUpxSVFNZ0IwRi9haUlIRFFBTElBSWdEMm9oQWlBRElBNXFJUU1nQUVGL2FpSUFEUUFMSUFGQlFHc2hBeUFSSUFVZ0Myb2dDV3hxSVFJRFFDQUVJUWNEUUNBQ1FRRnFJQWxxTFFBQUlRQWdBaUFKYWkwQUFDRUJJQU1nQWkwQUFTSUZJQVpzSUFvZ0FpMEFBR3hxUVFOMFFTQnFRUVoyT2dBQUlBTWdBQ0FHYkNBQklBcHNha0VEZEVFZ2FrRUdkam9BQ0NBQ0xRQUNJUUVnQWtFQ2FpSUNJQWxxTFFBQUlRc2dBeUFCSUFac0lBVWdDbXhxUVFOMFFTQnFRUVoyT2dBQklBTWdCaUFMYkNBQUlBcHNha0VEZEVFZ2FrRUdkam9BQ1NBRFFRSnFJUU1nQjBGL2FpSUhEUUFMSUFJZ0Qyb2hBaUFESUE1cUlRTWdDRUYvYWlJSURRQUxDeUFNUVpBQmFpUUFDN2tIQVFWL0l3QkJFR3NpQkNRQUFrQWdBQ0FCUVFCQnlBQVFCeUlERUFJaUFRMEFRUUVoQVNBREtBSUFRZjhCU3cwQUlBQWdBMEVFYWhBQ0lnRU5BRUVCSVFFZ0F5Z0NCRUVmU3cwQUlBQkJBUkFERFFBZ0FFRUJFQU1pQWtGL1JnMEFJQU1nQWtFQlJqWUNDQ0FBSUFSQkRHb1FBaUlCRFFBZ0F5QUVLQUlNUVFGcUlnRTJBZ3dnQVVFSVN3UkFRUUVoQVF3QkN3SkFJQUZCQWtrTkFDQUFJQU5CRUdvUUFpSUJEUUVnQXlnQ0VDSUJRUVpMSWdJRVFFRUJJUUVNQWdzZ0FnMEFBa0FDUUFKQUFrQWdBVUVCYXc0R0JBRUNBZ0lEQUFzZ0F5QURLQUlNSWdGQkFuUVFDaUlDTmdJVUlBSkZCRUJCLy84RElRRU1CUXNnQVVVTkEwRUFJUUlEUUNBQUlBUkJER29RQWlJQkRRVWdBeWdDRkNBQ1FRSjBhaUFFS0FJTVFRRnFOZ0lBSUFKQkFXb2lBaUFES0FJTVNRMEFDd3dEQ3lBRElBTW9BZ3dpQWtFQ2RFRjhhaUlCRUFvaUJUWUNHQ0FESUFFUUNpSUdOZ0ljUWYvL0F5RUJJQVZGRFFNZ0JrVU5BeUFDUVFGR0RRSkJBQ0VDQTBBZ0FDQUVRUXhxRUFJaUFRMEVJQUpCQW5RaUJTQURLQUlZYWlBRUtBSU1OZ0lBSUFBZ0JFRU1haEFDSWdFTkJDQURLQUljSUFWcUlBUW9BZ3cyQWdBZ0FrRUJhaUlDSUFNb0FneEJmMnBKRFFBTERBSUxRUUVoQVNBQVFRRVFBeUlDUVg5R0RRSWdBeUFDUVFGR05nSWdJQUFnQkVFTWFoQUNJZ0VOQWlBRElBUW9BZ3hCQVdvMkFpUU1BUXNnQUNBRVFReHFFQUlpQVEwQklBTWdCQ2dDREVFQmFpSUJOZ0lvSUFNZ0FVRUNkQkFLSWdJMkFpd2dBa1VFUUVILy93TWhBUXdDQ3lBQlJRMEFJQU1vQWd4QkFuUkJyRHRxS0FJQUlRWkJBQ0VDQTBBZ0FDQUdFQU1oQlNBREtBSXNJQUpCQW5ScUlBVTJBZ0JCQVNFQklBVWdBeWdDREU4TkFpQUNRUUZxSWdJZ0F5Z0NLRWtOQUFzTElBQWdCRUVNYWhBQ0lnRU5BRUVCSVFFZ0JDZ0NEQ0lDUVI5TERRQWdBeUFDUVFGcU5nSXdJQUFnQkVFTWFoQUNJZ0VOQUVFQklRRWdCQ2dDREVFZlN3MEFJQUJCQVJBREJFQU1BUXNnQUVFQ0VBTkJBa3NFUUF3QkN5QUFJQVJCQ0dvUUJTSUJEUUFnQkNnQ0NFRWFhaUlCUVROTEJFQkJBU0VCREFFTElBTWdBVFlDTkNBQUlBUkJDR29RQlNJQkRRQWdCQ2dDQ0VFYWFrRXpTd1JBUVFFaEFRd0JDeUFBSUFSQkNHb1FCU0lCRFFCQkFTRUJJQVFvQWdnaUFrRU1ha0VZU3cwQUlBTWdBallDT0NBQVFRRVFBeUlDUVg5R0RRQWdBeUFDUVFGR05nSThJQUJCQVJBRElnSkJmMFlOQUNBRElBSkJBVVkyQWtBZ0FFRUJFQU1pQWtGL1JnMEFJQU1nQWtFQlJqWUNSQ0FBRUI5QkFDRUJDeUFFUVJCcUpBQWdBUXZxQlFFSmZ3SkFJQUlvQXB3Q1JRUkFEQUVMUVFFaEJnTkFBa0FDUUNBQ0lBVkJGR3hxS0FLZ0FpSUVRUVZMRFFBZ0JFRUJhdzRGQUFBQUFBTUJDeUFGUVFGcUlRVU1BUXNMSUFRaEJnc0Nmd0pBSUFFb0FoQWlCRUVCVFFSQUlBUkJBV3NFUUNBREtBSUFRUVZHQkVBZ0FFSUFOd0lBSUFJb0FoUWhCVUVBSVFRTUF3c2dBQ2dDQUNJRUlBSW9BaFFpQlUwTkFpQUVJQVZySUFFb0FoUWlCMEVCZGtrTkFpQUFLQUlFSUFkcURBTUxRUUFoQlFKL1FRQWdBeWdDQUVFRlJnMEFHaUFBS0FJTUlnY2dBQ2dDQ0NBQ0tBSU1UUTBBR2lBQktBSU1JQWRxQ3lFSFFRQWhCQUovSUFFb0FpUWlDQVJBSUFJb0Fnd2dCMm9oQlFzZ0JTQURLQUlFSWdwRklBVkJBRWR4YXlJSkN3UkFJQWxCZjJvaUF5QURJQWh1SWdzZ0NHeHJJUU1MSUFnRVFDQUJLQUlvSVF4QkFDRUZBMEFnRENBRlFRSjBhaWdDQUNBRWFpRUVJQVZCQVdvaUJTQUlSdzBBQ3dzQ1FDQUpSUVJBUVFBaEJBd0JDeUFFSUF0c0lRUWdBU2dDS0NFSVFRQWhCUU5BSUFnZ0JVRUNkR29vQWdBZ0JHb2hCQ0FGUVFGcUlnVWdBMDBOQUFzTElBcEZCRUFnQVNnQ0hDQUVhaUVFQ3lBR1JRUkFJQUlvQWlBaEF5QUJLQUlnSVFFZ0FpZ0NIQ0VHSUFBZ0J6WUNEQ0FBSUFJb0FndzJBZ2dnQmlBQklBTnFJZ0JCSDNVZ0FIRWdCR3BxRHdzZ0FFSUFOd0lJUVFBUEMwRUFJUVZCQUNFRUlBTW9BZ0JCQlVjRVFDQUFLQUlNSVFVZ0FDZ0NDQ0FDS0FJTUlnUkxCRUFnQVNnQ0RDQUZhaUVGQ3lBRUlBVnFRUUYwSUFNb0FnUkZheUVFQ3lBR1JRUkFJQUFnQlRZQ0RDQUFJQUlvQWd3MkFnZ2dCQThMSUFCQ0FEY0NDRUVBRHdzQ1FDQUZJQVJORFFBZ0JTQUVheUFCS0FJVUlnRkJBWFpORFFBZ0FDZ0NCQ0FCYXd3QkN5QUFLQUlFQ3lFRUlBTW9BZ1JGQkVBZ0JDQUZhaUFDS0FJWUlnQkJIM1VnQUhGcUR3c2dBQ0FFTmdJRUlBSW9BaGdoQVNBR0JFQWdBRUVBTmdJRUlBQkJBQ0FCYXlBQlFSOTFjVFlDQUVFQUR3c2dBQ0FGTmdJQUlBUWdCV29nQVVFZmRTQUJjV29MdkFFQkNIOGdBZ1JBSUFGQmYyb2hCMEVBSUFGclFkZ0JiQ0VJUVFFZ0FXdEIyQUZzSVFrZ0FVRi9jMEhZQVd3aENnTkFJQUFnQmtIWUFXeHFJZ01nQTBHb2ZtcEJBQ0FFR3pZQ3lBRWdBd0ovSUFWRkJFQWdBMEVBTmdMTUFVRUFEQUVMSUFNZ0F5QUlhallDekFFZ0F5QUpha0VBSUFRZ0Iwa2JDellDMEFFZ0F5QURJQXBxUVFBZ0JCdEJBQ0FGR3pZQzFBRkJBQ0FFUVFGcUlnTWdBU0FEUmlJREd5RUVJQU1nQldvaEJTQUdRUUZxSWdZZ0FrY05BQXNMQzNjQkFuOUJBU0VDQWtBZ0FFRUJFQU5CZjBZTkFDQUJJQUJCQWhBRE5nSUVJQUVnQUVFRkVBTWlBRFlDQUNBQVFYNXFRUU5KRFFBQ1FDQUFRUXhMRFFCQkFTQUFkQ0lEUWNBOGNVVUVRQ0FEUWFBRGNVVU5BU0FBUVFaR0RRSWdBU2dDQkEwQkRBSUxJQUVvQWdRTkFRdEJBQ0VDQ3lBQ0M1SVRBUVovSUFBZ0FTZ0NBQ0lOTmdJQUlBQWdBQ2dDeEFGQkFXbzJBc1FCSUFJZ0JSQWRBa0FDUUFKQUFrQUNRQ0FOUVI5R0JFQWdBRUVBTmdJVUlBQW9Bc1FCUVFGTERRRWdBRUVjYWlFSklBRkJ5QUpxSVFSQkZ5RUJJQWNoQUFOQUlBbEJFRHNCQUNBQUlBUW9BZ0E2QUFBZ0FDQUVLQUlFT2dBQklBQWdCQ2dDQ0RvQUFpQUFJQVFvQWd3NkFBTWdBQ0FFS0FJUU9nQUVJQUFnQkNnQ0ZEb0FCU0FBSUFRb0FoZzZBQVlnQUNBRUtBSWNPZ0FISUFBZ0JDZ0NJRG9BQ0NBQUlBUW9BaVE2QUFrZ0FDQUVLQUlvT2dBS0lBQWdCQ2dDTERvQUN5QUFJQVFvQWpBNkFBd2dBQ0FFS0FJME9nQU5JQUFnQkNnQ09Eb0FEaUFBSUFRb0FqdzZBQThnQVNJRFFYOXFJUUVnQ1VFQ2FpRUpJQUJCRUdvaEFDQUVRVUJySVFRZ0F3MEFDeUFDSUFjUUd3d0VDeUFBUVJ4cUlRa2dEUVJBSUFrZ0FTa0NrQUkzQWdBZ0NTQUJLUUcrQWpjQkxpQUpJQUVwQXJnQ053SW9JQWtnQVNrQ3NBSTNBaUFnQ1NBQktRS29BamNDR0NBSklBRXBBcUFDTndJUUlBa2dBU2tDbUFJM0FnZ2dCQ2dDQUNFS0FrQWdBU2dDQ0NJTFJRMEFJQVFnQ2lBTGFpSUtOZ0lBSUFRZ0NrRi9UQVIvSUFwQk5Hb0ZJQXBCTkVnTkFTQUtRVXhxQ3lJS05nSUFDeUFBSUFvMkFoUWdBVUhJRDJvaERDQUJRY2dDYWlFRUFrQUNRQ0FBS0FJQVFRWk5CRUFnQ1M4QkFFVU5BVUVCSVFnZ0JDQUtRUUFnRENnQ0FCQUdSUTBDREFnTElBQXZBVXdFUUNBQlFjZ09haUFLRURFTFFiQTBJUXBCRHlFSUEwQWdDQ0VMSUFRZ0FTQUtLQUlBUVFKMGFrSElEbW9vQWdBaUNEWUNBQUpBQWtBZ0NFVUVRQ0FKTHdFQVJRMEJDMEVCSVFnZ0JDQUFLQUlVUVFFZ0RDZ0NBQkFHUlEwQkRBb0xJQVJCLy8vL0J6WUNBQXNnQ2tFRWFpRUtJQXRCZjJvaENDQU1RUVJxSVF3Z0NVRUNhaUVKSUFSQlFHc2hCQ0FMRFFBTERBUUxJQVJCLy8vL0J6WUNBQXNnQVVHSUEyb2hCQUpBSUFBdkFSNEVRRUVCSVFnZ0JDQUFLQUlVUVFBZ0FVSE1EMm9vQWdBUUJrVU5BUXdIQ3lBRVFmLy8vd2MyQWdBTElBRkJ5QU5xSVFRQ1FDQUFMd0VnQkVCQkFTRUlJQVFnQUNnQ0ZFRUFJQUZCMEE5cUtBSUFFQVpGRFFFTUJ3c2dCRUgvLy84SE5nSUFDeUFCUVlnRWFpRUVBa0FnQUM4QklnUkFRUUVoQ0NBRUlBQW9BaFJCQUNBQlFkUVBhaWdDQUJBR1JRMEJEQWNMSUFSQi8vLy9CellDQUFzZ0FVSElCR29oQkFKQUlBQXZBU1FFUUVFQklRZ2dCQ0FBS0FJVVFRQWdBVUhZRDJvb0FnQVFCa1VOQVF3SEN5QUVRZi8vL3djMkFnQUxJQUZCaUFWcUlRUUNRQ0FBTHdFbUJFQkJBU0VJSUFRZ0FDZ0NGRUVBSUFGQjNBOXFLQUlBRUFaRkRRRU1Cd3NnQkVILy8vOEhOZ0lBQ3lBQlFjZ0ZhaUVFQWtBZ0FDOEJLQVJBUVFFaENDQUVJQUFvQWhSQkFDQUJRZUFQYWlnQ0FCQUdSUTBCREFjTElBUkIvLy8vQnpZQ0FBc2dBVUdJQm1vaEJBSkFJQUF2QVNvRVFFRUJJUWdnQkNBQUtBSVVRUUFnQVVIa0Qyb29BZ0FRQmtVTkFRd0hDeUFFUWYvLy93YzJBZ0FMSUFGQnlBWnFJUVFDUUNBQUx3RXNCRUJCQVNFSUlBUWdBQ2dDRkVFQUlBRkI2QTlxS0FJQUVBWkZEUUVNQndzZ0JFSC8vLzhITmdJQUN5QUJRWWdIYWlFRUFrQWdBQzhCTGdSQVFRRWhDQ0FFSUFBb0FoUkJBQ0FCUWV3UGFpZ0NBQkFHUlEwQkRBY0xJQVJCLy8vL0J6WUNBQXNnQVVISUIyb2hCQUpBSUFBdkFUQUVRRUVCSVFnZ0JDQUFLQUlVUVFBZ0FVSHdEMm9vQWdBUUJrVU5BUXdIQ3lBRVFmLy8vd2MyQWdBTElBRkJpQWhxSVFRQ1FDQUFMd0V5QkVCQkFTRUlJQVFnQUNnQ0ZFRUFJQUZCOUE5cUtBSUFFQVpGRFFFTUJ3c2dCRUgvLy84SE5nSUFDeUFCUWNnSWFpRUVBa0FnQUM4Qk5BUkFRUUVoQ0NBRUlBQW9BaFJCQUNBQlFmZ1BhaWdDQUJBR1JRMEJEQWNMSUFSQi8vLy9CellDQUFzZ0FVR0lDV29oQkFKQUlBQXZBVFlFUUVFQklRZ2dCQ0FBS0FJVVFRQWdBVUg4RDJvb0FnQVFCa1VOQVF3SEN5QUVRZi8vL3djMkFnQUxJQUZCeUFscUlRUUNRQ0FBTHdFNEJFQkJBU0VJSUFRZ0FDZ0NGRUVBSUFGQmdCQnFLQUlBRUFaRkRRRU1Cd3NnQkVILy8vOEhOZ0lBQ3lBQlFZZ0thaUVFQWtBZ0FDOEJPZ1JBUVFFaENDQUVJQUFvQWhSQkFDQUJRWVFRYWlnQ0FCQUdSUTBCREFjTElBUkIvLy8vQnpZQ0FBc2dBVUdJRUdvaERDQUJRY2dLYWlFRURBSUxJQWxDQURjQ0FDQUpRZ0EzQVM0Z0NVSUFOd0lvSUFsQ0FEY0NJQ0FKUWdBM0FoZ2dDVUlBTndJUUlBbENBRGNDQ0NBQUlBUW9BZ0EyQWhRTUFnc2dBRUtRZ01DQWdJS0FDRGNCSENBQVFwQ0F3SUNBZ29BSU53RkVJQUJDa0lEQWdJQ0NnQWczQVR3Z0FFS1FnTUNBZ0lLQUNEY0JOQ0FBUXBDQXdJQ0Fnb0FJTndFc0lBQkNrSURBZ0lDQ2dBZzNBU1JCQUE4TElBQW9BaGdnQUNnQ0ZHb2lDMEV6SUF0Qk0wZ2JJZ3RCQUNBTFFRQktHMEVDZEVIZ1BXb29BZ0FoQ1FKQUlBQXZBVTVGQkVBZ0FDOEJVRVVOQVFzZ0FVR0lEMm9nQ1JBd0N5QUVJQUZCaUE5cUtBSUFJZ3MyQWdBQ1FBSkFJQXRGQkVBZ0FDOEJQRVVOQVF0QkFTRUlJQVFnQ1VFQklBd29BZ0FRQmtVTkFRd0VDeUFFUWYvLy93YzJBZ0FMSUFRZ0FTZ0NqQThpQ3pZQ1FDQUVRVUJySVFvQ1FBSkFJQXRGQkVBZ0FDOEJQa1VOQVF0QkFTRUlJQW9nQ1VFQklBd29BZ1FRQmtVTkFRd0VDeUFLUWYvLy93YzJBZ0FMSUFRZ0FTZ0NrQThpQ3pZQ2dBRWdCRUdBQVdvaENnSkFBa0FnQzBVRVFDQUFRVUJyTHdFQVJRMEJDMEVCSVFnZ0NpQUpRUUVnRENnQ0NCQUdSUTBCREFRTElBcEIvLy8vQnpZQ0FBc2dCQ0FCS0FLVUR5SUxOZ0xBQVNBRVFjQUJhaUVLQWtBQ1FDQUxSUVJBSUFBdkFVSkZEUUVMUVFFaENDQUtJQWxCQVNBTUtBSU1FQVpGRFFFTUJBc2dDa0gvLy84SE5nSUFDeUFFSUFFb0FwZ1BJZ3MyQW9BQ0lBUkJnQUpxSVFvQ1FBSkFJQXRGQkVBZ0FDOEJSRVVOQVF0QkFTRUlJQW9nQ1VFQklBd29BaEFRQmtVTkFRd0VDeUFLUWYvLy93YzJBZ0FMSUFRZ0FTZ0NuQThpQ3pZQ3dBSWdCRUhBQW1vaENnSkFBa0FnQzBVRVFDQUFMd0ZHUlEwQkMwRUJJUWdnQ2lBSlFRRWdEQ2dDRkJBR1JRMEJEQVFMSUFwQi8vLy9CellDQUFzZ0JDQUJLQUtnRHlJTE5nS0FBeUFFUVlBRGFpRUtBa0FDUUNBTFJRUkFJQUF2QVVoRkRRRUxRUUVoQ0NBS0lBbEJBU0FNS0FJWUVBWkZEUUVNQkFzZ0NrSC8vLzhITmdJQUN5QUVJQUVvQXFRUElnczJBc0FESUFSQndBTnFJUVFDUUFKQUlBdEZCRUFnQUM4QlNrVU5BUXRCQVNFSUlBUWdDVUVCSUF3b0Fod1FCa1VOQVF3RUN5QUVRZi8vL3djMkFnQUxJQTFCQmtrTkFDQUFJQUVnQWlBRklBWWdCeEJXSWdoRkRRRU1BZ3NnQUNBQklBTWdCU0FDSUFjUVZ5SUlEUUVMUVFBaENBc2dDQXVXSFFFSGZ5TUFRUkJySWdja0FDQUJRUUJCcUJBUUJ5RUZJQUFnQjBFRWFoQUNJUUVnQnlnQ0JDRUlBa0FDUUFKQUlBTkJmbW9pQTBFRlN3MEFBa0FnQTBFQmF3NEVBUUVCQVFBTFFRRWhBeUFCRFFJZ0NFRUdhaUlHUVI5TkRRRU1BZ3RCQVNFRElBRU5BU0FJUVFGcUlnWkJIMHNOQVFzZ0JTQUdOZ0lBQWtBZ0JrRWZSZ1JBQTBBZ0FDZ0NDQVJBSUFCQkFSQURSUTBCREFRTEN5QUZRY2dDYWlFR0EwQWdCeUFBUVFnUUF5SUJOZ0lFSUFGQmYwWU5BeUFHSUFFMkFnQWdCa0VFYWlFR0lBbEJBV29pQ1VHQUEwY05BQXNNQVF0QkFpQUdRUVpISUFaQkJra2JJUW9DUUFKQUlBWkJCRWtOQUNBR1FRVkxEUUFnQUNBSFFReHFFQUlOQVNBSEtBSU1JZ0ZCQTBzTkFTQUZJQUUyQXJBQklBQWdCMEVNYWhBQ0RRRWdCeWdDRENJQlFRTkxEUUVnQlNBQk5nSzBBU0FBSUFkQkRHb1FBZzBCSUFjb0Fnd2lBVUVEU3cwQklBVWdBVFlDdUFFZ0FDQUhRUXhxRUFJTkFTQUhLQUlNSWdGQkEwc05BU0FGSUFFMkFyd0JBa0FnQkVFQ1NRMEFJQVpCQlVZTkFDQUFJQWRCREdvZ0JFRUNTeUlCRUJjTkFpQUhLQUlNSWdnZ0JFOE5BaUFGSUFnMkFzQUJJQUFnQjBFTWFpQUJFQmNOQWlBSEtBSU1JZ2dnQkU4TkFpQUZJQWcyQXNRQklBQWdCMEVNYWlBQkVCY05BaUFIS0FJTUlnZ2dCRThOQWlBRklBZzJBc2dCSUFBZ0IwRU1haUFCRUJjTkFpQUhLQUlNSWdFZ0JFOE5BaUFGSUFFMkFzd0JDeUFISUFVb0FyQUJJZ0ZCQWswRWZ5QUJRUUowUWZBMGFpZ0NBQVZCQXdzMkFneEJBQ0VHQTBBZ0FDQUhRUWhxRUFVaUF3MENJQVVnQmtFQ2RHb2lBU0FIS0FJSU93SFFBU0FBSUFkQkNHb1FCU0lERFFJZ0FTQUhLQUlJT3dIU0FTQUhJQWNvQWd3aUFVRi9hallDRENBR1FRRnFJUVlnQVEwQUN5QUhJQVVvQXJRQklnRkJBazBFZnlBQlFRSjBRZkEwYWlnQ0FBVkJBd3MyQWd4QkFDRUdBMEFnQUNBSFFRaHFFQVVpQXcwQ0lBVWdCa0VDZEdvaUFTQUhLQUlJT3dIZ0FTQUFJQWRCQ0dvUUJTSUREUUlnQVNBSEtBSUlPd0hpQVNBSElBY29BZ3dpQVVGL2FqWUNEQ0FHUVFGcUlRWWdBUTBBQ3lBSElBVW9BcmdCSWdGQkFrMEVmeUFCUVFKMFFmQTBhaWdDQUFWQkF3czJBZ3hCQUNFR0EwQWdBQ0FIUVFocUVBVWlBdzBDSUFVZ0JrRUNkR29pQVNBSEtBSUlPd0h3QVNBQUlBZEJDR29RQlNJRERRSWdBU0FIS0FJSU93SHlBU0FISUFjb0Fnd2lBVUYvYWpZQ0RDQUdRUUZxSVFZZ0FRMEFDeUFISUFVb0Fyd0JJZ0ZCQWswRWZ5QUJRUUowUWZBMGFpZ0NBQVZCQXdzMkFneEJBQ0VHQTBBZ0FDQUhRUWhxRUFVaUF3MENJQVVnQmtFQ2RHb2lBU0FIS0FJSU93R0FBaUFBSUFkQkNHb1FCU0lERFFJZ0FTQUhLQUlJT3dHQ0FpQUhJQWNvQWd3aUFVRi9hallDRENBR1FRRnFJUVpCQUNFRElBRU5BQXNNQVF0QkFDRURJQXBCQWtzTkFBSkFBbjhDUUFKQUFrQWdDa0VCYXc0Q0JBRUFDeUFIUVFBMkFnZ2dCU0FBRUE4aUFVRWZkallDRENBQlFRQk9EUUVnQVVFQmRDRUdRUUFNQWdzZ0JFRUNUd1JBUVFNaEFTQUdRUU5OQkVBZ0JrRUNkRUg4Tkdvb0FnQWhBUXNnQkVFQ1N5RUxRUUVoQXdOQUlBQWdCMEVNYWlBTEVCY05CU0FIS0FJTUlnZ2dCRThOQlNBRklBbEJBblJxSUFnMkFwQUJJQUVpQ0VGL2FpRUJJQWxCQVdvaENTQUlEUUFMQzBFRElRTWdCa0VEVFFSQUlBWkJBblJCL0RScUtBSUFJUU1MUVFBaEJnTkFJQU1oQVNBQUlBZEJDR29RQlNJRERRUWdCU0FHUVFKMGFpSUVJQWNvQWdnN0FhQUJJQUFnQjBFSWFoQUZJZ01OQkNBRUlBY29BZ2c3QWFJQklBRkJmMm9oQXlBR1FRRnFJUVlnQVEwQUMwRUFJUU1NQXdzZ0JTQUJRUngyTmdKTUlBRkJCSFFoQmtFQkN5RURJQVVnQmtFZmRqWUNFQ0FGSUFaQkFFZ0VmeUFHUVFGMEJTQUZJQVpCSEhZMkFsQWdBMEVCYWlFRElBWkJCSFFMSWdGQkgzWTJBaFFnQlNBQlFRQklCSDhnQVVFQmRBVWdCU0FCUVJ4Mk5nSlVJQU5CQVdvaEF5QUJRUVIwQ3lJQlFSOTJOZ0lZSUFVZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNXQ0FEUVFGcUlRTWdBVUVFZEFzaUFVRWZkallDSENBRklBRkJBRWdFZnlBQlFRRjBCU0FGSUFGQkhIWTJBbHdnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWlBZ0JTQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0pnSUFOQkFXb2hBeUFCUVFSMEN5SUJRUjkyTmdJa0lBVWdBVUVBU0FSL0lBRkJBWFFGSUFVZ0FVRWNkallDWkNBRFFRRnFJUU1nQVVFRWRBc2lBVUVmZGpZQ0tDQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0pvSUFOQkFXb2hBeUFCUVFSMEN5RUdBa0FnQUNBRFFRTnNRUWhxRUF0QmYwWU5BQ0FIUVFFMkFnZ2dCU0FBRUE4aUFVRWZkallDTEFKL0lBRkJBRWdFUUNBQlFRRjBJUVpCQUF3QkN5QUZJQUZCSEhZMkFtd2dBVUVFZENFR1FRRUxJUU1nQlNBR1FSOTJOZ0l3SUFVZ0JrRUFTQVIvSUFaQkFYUUZJQVVnQmtFY2RqWUNjQ0FEUVFGcUlRTWdCa0VFZEFzaUFVRWZkallDTkNBRklBRkJBRWdFZnlBQlFRRjBCU0FGSUFGQkhIWTJBblFnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWpnZ0JTQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0o0SUFOQkFXb2hBeUFCUVFSMEN5SUJRUjkyTmdJOElBVkJRR3NnQVVFQVNBUi9JQUZCQVhRRklBVWdBVUVjZGpZQ2ZDQURRUUZxSVFNZ0FVRUVkQXNpQVVFZmRqWUNBQ0FGSUFGQkFFZ0VmeUFCUVFGMEJTQUZJQUZCSEhZMkFvQUJJQU5CQVdvaEF5QUJRUVIwQ3lJQlFSOTJOZ0pFSUFVZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNoQUVnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWtnZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNpQUVnQTBFQmFpRURJQUZCQkhRTElRWWdBQ0FEUVFOc1FRaHFFQXRCZjBZTkFDQUhJQVkyQWd3Z0IwRUNOZ0lJREFFTElBY2dCallDREVFQklRTU1BUXRCQVNFRElBQWdCMEVNYWhBQ0RRQWdCeWdDRENJQlFRTkxEUUFnQlNBQk5nS01BVUVBSVFNTElBTU5BUUpBSUFwQkFVY0VRQ0FBSUFkQkJHb2dDa1VRTFNJRERRTWdCU0FIS0FJRUlnRTJBZ1FnQVVVTkFnd0JDeUFGSUFVb0FnQWlBVUY1YWlJRFFRSjBRWEJ4SWdSQlVHb2dCQ0FEUVF0TEcwRVBRUUFnQVVFU1N4dHlOZ0lFQzBFQklRTWdBQ0FIUVF4cUVBVU5BU0FIS0FJTUlnRkJHbXBCTTBzTkFTQUZJQUUyQWdnZ0JVR1FBbW9oQ0NBRktBSUVJUVFDUUFKQUlBVW9BZ0JCQjBrRVFFRUFJUWxCQXlFREEwQWdBeUVCSUFSQkFYRUVRQ0FJSUFsQkFuUnFRYmdOYWlBQUlBZ2dDVUVHZEdwQk9Hb2dBaUFKSUFnUURVRVFFQWtpQTBFUWRqWUNBQ0FEUVE5eERRUWdDQ0FKUVFGMGFpQURRUVIyUWY4QmNUc0JBQ0FJSUFsQkFYSWlCa0VDZEdwQnVBMXFJQUFnQ0NBR1FRWjBha0U0YWlBQ0lBWWdDQkFOUVJBUUNTSURRUkIyTmdJQUlBTkJEM0VOQkNBSUlBWkJBWFJxSUFOQkJIWkIvd0Z4T3dFQUlBZ2dDVUVDY2lJR1FRSjBha0c0RFdvZ0FDQUlJQVpCQm5ScVFUaHFJQUlnQmlBSUVBMUJFQkFKSWdOQkVIWTJBZ0FnQTBFUGNRMEVJQWdnQmtFQmRHb2dBMEVFZGtIL0FYRTdBUUFnQ0NBSlFRTnlJZ1pCQW5ScVFiZ05haUFBSUFnZ0JrRUdkR3BCT0dvZ0FpQUdJQWdRRFVFUUVBa2lBMEVRZGpZQ0FDQURRUTl4RFFRZ0JTQUdRUUYwYWlBRFFRUjJRZjhCY1RzQmtBSUxJQVJCQVhZaEJDQUJRWDlxSVFNZ0NVRUVhaUVKSUFFTkFBc01BUXRCQUNFSklBQWdCVUhJRG1vZ0FrRUFJQWdRRFVFUUVBa2lBMEVQY1EwQklBVWdBMEVFZGtIL0FYRTdBY0FDSUFWQmtBSnFJUVpCQXlFREEwQWdBeUVCSUFSQkFYRUVRQ0FHSUFsQkFuUnFRYmdOYWlBQUlBWWdDVUVHZEdwQlBHb2dBaUFKSUFnUURVRVBFQWtpQTBFUGRqWUNBQ0FEUVE5eERRTWdCaUFKUVFGMGFpQURRUVIyUWY4QmNUc0JBQ0FHSUFsQkFYSWlDa0VDZEdwQnVBMXFJQUFnQmlBS1FRWjBha0U4YWlBQ0lBb2dDQkFOUVE4UUNTSURRUTkyTmdJQUlBTkJEM0VOQXlBR0lBcEJBWFJxSUFOQkJIWkIvd0Z4T3dFQUlBWWdDVUVDY2lJS1FRSjBha0c0RFdvZ0FDQUdJQXBCQm5ScVFUeHFJQUlnQ2lBSUVBMUJEeEFKSWdOQkQzWTJBZ0FnQTBFUGNRMERJQVlnQ2tFQmRHb2dBMEVFZGtIL0FYRTdBUUFnQmlBSlFRTnlJZ3BCQW5ScVFiZ05haUFBSUFZZ0NrRUdkR3BCUEdvZ0FpQUtJQWdRRFVFUEVBa2lBMEVQZGpZQ0FDQURRUTl4RFFNZ0JTQUtRUUYwYWlBRFFRUjJRZjhCY1RzQmtBSUxJQVJCQVhZaEJDQUJRWDlxSVFNZ0NVRUVhaUVKSUFFTkFBc0xJQVJCQTNFRVFDQUFJQVZCaUE5cVFYOUJCQkFKSWdOQkQzRU5BU0FGSUFOQkJIWkIvd0Z4T3dIQ0FpQUFJQVZCbUE5cVFYOUJCQkFKSWdOQkQzRU5BU0FGSUFOQkJIWkIvd0Z4T3dIRUFndEJBQ0VESUFSQkFuRkZEUUFnQUNBRlFjd0thaUFDUVJBZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCaUJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0JzQUlnQUNBRlFZd0xhaUFDUVJFZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCakJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0JzZ0lnQUNBRlFjd0xhaUFDUVJJZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCa0JCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J0QUlnQUNBRlFZd01haUFDUVJNZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbEJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J0Z0lnQUNBRlFjd01haUFDUVJRZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbUJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J1QUlnQUNBRlFZd05haUFDUVJVZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbkJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J1Z0lnQUNBRlFjd05haUFDUVJZZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCb0JCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J2QUlnQUNBRlFZd09haUFDUVJjZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCcEJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J2Z0lMSUFBZ0FDZ0NDQ0FBS0FJRUlBQW9BZ0JyUVFOMGFqWUNFQ0FERFFFTFFRQWhBd3NnQjBFUWFpUUFJQU1McFJRQkRIOENmeUFBS0FMSUFTSUhCRUFnQUNnQ0JDQUhLQUlFUmd3QkMwRUFDeUVLQWtBZ0JrVU5BQ0FLUlEwQVFRQWdDa0VDSUFBb0FzZ0JLQUlBSWdkQkJrY2dCMEVHU1J0QkFrWWJJUW9MQW44Z0FDZ0N6QUVpQndSQUlBQW9BZ1FnQnlnQ0JFWU1BUXRCQUFzaEJ3SkFJQVpGRFFBZ0IwVU5BRUVBSUFkQkFpQUFLQUxNQVNnQ0FDSUhRUVpISUFkQkJra2JRUUpHR3lFSEN3Si9JQUFvQXRRQklna0VRQ0FBS0FJRUlBa29BZ1JHREFFTFFRQUxJUWtDUUNBR1JRMEFJQWxGRFFCQkFpQUFLQUxVQVNnQ0FDSUFRUVpISUFCQkJra2JRUUpISVFrTElBcEJBRWNnQjBFQVIzRWlEU0FKUVFCSGNTRU9JQVZCQWtzaEQwRVFJUXNEUUFKQUlBOUZCRUFDUUFKQUFrQWdCVUVCYXc0Q0FRSUFDeUFCQW44Z0RRUkFJQVF0QUFNZ0JDMEFBaUFFTFFBQklBUXRBQUFnQXkwQUJDQURMUUFESUFNdEFBRWdBeTBBQW1wcWFtcHFhbXBCQkdwQkEzWWhCaUFETFFBSUlBTXRBQWNnQXkwQUJTQURMUUFHYW1wcVFRSnFRUUoyREFFTElBY0VRQ0FETFFBRUlBTXRBQU1nQXkwQUFTQURMUUFDYW1wcVFRSnFRUUoySVFZZ0F5MEFDQ0FETFFBSElBTXRBQVVnQXkwQUJtcHFha0VDYWtFQ2Rnd0JDeUFLUlFSQVFZQUJJUVpCZ0FFTUFRc2dCQzBBQXlBRUxRQUNJQVF0QUFBZ0JDMEFBV3BxYWtFQ2FrRUNkaUlHQzBIL0FYRkJnWUtFQ0d3aUFEWUFIQ0FCSUFaQi93RnhRWUdDaEFoc0lnWTJBQmdnQVNBQU5nQVVJQUVnQmpZQUVDQUJJQUEyQUF3Z0FTQUdOZ0FJSUFFZ0FEWUFCQ0FCSUFZMkFBQUNmeUFLQkVBZ0JDMEFCeUFFTFFBR0lBUXRBQVVnQkMwQUJHcHFhaUlHUVFKcVFRSjJJZ0FnQjBVTkFSb2dBeTBBQ0NBRExRQUhJQU10QUFZZ0JpQURMUUFGYW1wcWFrRUVha0VEZGd3QkN5QUhSUVJBUVlBQklRQkJnQUVNQVFzZ0F5MEFCQ0FETFFBRElBTXRBQUVnQXkwQUFtcHFha0VDYWtFQ2RpRUFJQU10QUFnZ0F5MEFCeUFETFFBRklBTXRBQVpxYW1wQkFtcEJBbllMSVFZZ0FTQUFRZjhCY1VHQmdvUUliQ0lBTmdBZ0lBRWdCa0gvQVhGQmdZS0VDR3dpQmpZQVBDQUJJQUEyQURnZ0FTQUdOZ0EwSUFFZ0FEWUFNQ0FCSUFZMkFDd2dBU0FBTmdBb0lBRWdCallBSkF3REN5QUtSUVJBUVFFUEN5QUJJQVF0QUFBNkFBQWdBU0FFTFFBQU9nQUJJQUVnQkMwQUFEb0FBaUFCSUFRdEFBQTZBQU1nQVNBRUxRQUFPZ0FFSUFFZ0JDMEFBRG9BQlNBQklBUXRBQUE2QUFZZ0FTQUVMUUFBT2dBSElBRWdCQzBBQVRvQUNDQUJJQVF0QUFFNkFBa2dBU0FFTFFBQk9nQUtJQUVnQkMwQUFUb0FDeUFCSUFRdEFBRTZBQXdnQVNBRUxRQUJPZ0FOSUFFZ0JDMEFBVG9BRGlBQklBUXRBQUU2QUE4Z0FTQUVMUUFDT2dBUUlBRWdCQzBBQWpvQUVTQUJJQVF0QUFJNkFCSWdBU0FFTFFBQ09nQVRJQUVnQkMwQUFqb0FGQ0FCSUFRdEFBSTZBQlVnQVNBRUxRQUNPZ0FXSUFFZ0JDMEFBam9BRnlBQklBUXRBQU02QUJnZ0FTQUVMUUFET2dBWklBRWdCQzBBQXpvQUdpQUJJQVF0QUFNNkFCc2dBU0FFTFFBRE9nQWNJQUVnQkMwQUF6b0FIU0FCSUFRdEFBTTZBQjRnQVNBRUxRQURPZ0FmSUFFZ0JDMEFCRG9BSUNBQklBUXRBQVE2QUNFZ0FTQUVMUUFFT2dBaUlBRWdCQzBBQkRvQUl5QUJJQVF0QUFRNkFDUWdBU0FFTFFBRU9nQWxJQUVnQkMwQUJEb0FKaUFCSUFRdEFBUTZBQ2NnQVNBRUxRQUZPZ0FvSUFFZ0JDMEFCVG9BS1NBQklBUXRBQVU2QUNvZ0FTQUVMUUFGT2dBcklBRWdCQzBBQlRvQUxDQUJJQVF0QUFVNkFDMGdBU0FFTFFBRk9nQXVJQUVnQkMwQUJUb0FMeUFCSUFRdEFBWTZBREFnQVNBRUxRQUdPZ0F4SUFFZ0JDMEFCam9BTWlBQklBUXRBQVk2QURNZ0FTQUVMUUFHT2dBMElBRWdCQzBBQmpvQU5TQUJJQVF0QUFZNkFEWWdBU0FFTFFBR09nQTNJQUVnQkMwQUJ6b0FPQ0FCSUFRdEFBYzZBRGtnQVNBRUxRQUhPZ0E2SUFFZ0JDMEFCem9BT3lBQklBUXRBQWM2QUR3Z0FTQUVMUUFIT2dBOUlBRWdCQzBBQnpvQVBpQUJJQVF0QUFjNkFEOE1BZ3NnQjBVRVFFRUJEd3NnQVNBRExRQUJPZ0FBSUFFZ0F5MEFBVG9BQ0NBQklBTXRBQUU2QUJBZ0FTQURMUUFCT2dBWUlBRWdBeTBBQVRvQUlDQUJJQU10QUFFNkFDZ2dBU0FETFFBQk9nQXdJQUVnQXkwQUFUb0FPQ0FCSUFNdEFBSTZBQUVnQVNBRExRQUNPZ0FKSUFFZ0F5MEFBam9BRVNBQklBTXRBQUk2QUJrZ0FTQURMUUFDT2dBaElBRWdBeTBBQWpvQUtTQUJJQU10QUFJNkFERWdBU0FETFFBQ09nQTVJQUVnQXkwQUF6b0FBaUFCSUFNdEFBTTZBQW9nQVNBRExRQURPZ0FTSUFFZ0F5MEFBem9BR2lBQklBTXRBQU02QUNJZ0FTQURMUUFET2dBcUlBRWdBeTBBQXpvQU1pQUJJQU10QUFNNkFEb2dBU0FETFFBRU9nQURJQUVnQXkwQUJEb0FDeUFCSUFNdEFBUTZBQk1nQVNBRExRQUVPZ0FiSUFFZ0F5MEFCRG9BSXlBQklBTXRBQVE2QUNzZ0FTQURMUUFFT2dBeklBRWdBeTBBQkRvQU95QUJJQU10QUFVNkFBUWdBU0FETFFBRk9nQU1JQUVnQXkwQUJUb0FGQ0FCSUFNdEFBVTZBQndnQVNBRExRQUZPZ0FrSUFFZ0F5MEFCVG9BTENBQklBTXRBQVU2QURRZ0FTQURMUUFGT2dBOElBRWdBeTBBQmpvQUJTQUJJQU10QUFZNkFBMGdBU0FETFFBR09nQVZJQUVnQXkwQUJqb0FIU0FCSUFNdEFBWTZBQ1VnQVNBRExRQUdPZ0F0SUFFZ0F5MEFCam9BTlNBQklBTXRBQVk2QUQwZ0FTQURMUUFIT2dBR0lBRWdBeTBBQnpvQURpQUJJQU10QUFjNkFCWWdBU0FETFFBSE9nQWVJQUVnQXkwQUJ6b0FKaUFCSUFNdEFBYzZBQzRnQVNBRExRQUhPZ0EySUFFZ0F5MEFCem9BUGlBQklBTXRBQWc2QUFjZ0FTQURMUUFJT2dBUElBRWdBeTBBQ0RvQUZ5QUJJQU10QUFnNkFCOGdBU0FETFFBSU9nQW5JQUVnQXkwQUNEb0FMeUFCSUFNdEFBZzZBRGNnQVNBRExRQUlPZ0EvREFFTElBNUZCRUJCQVE4TElBTXRBQVVnQXkwQUEyc2dBeTBBQmlBRExRQUNhMEVCZEdvZ0F5MEFCeUFETFFBQmEwRURiR29nQXkwQUNDSUFJQU10QUFBaUNXdEJBblJxUVJGc1FSQnFRUVYxSWdaQmZXd2hFQ0FBSUFRdEFBY2lER3BCQkhRZ0JDMEFCQ0FFTFFBQ2F5QU1JQWxyUVFKMGFpQUVMUUFGSUFRdEFBRnJRUUYwYWlBRUxRQUdJQVF0QUFCclFRTnNha0VSYkVFUWFrRUZkU0lSUVgxc2FrRVFhaUVKUVFnaERDQUJJUUFEUUNBQUlBa2dFR29pQ0VFRmRVR3dMbW90QUFBNkFBQWdBQ0FHSUFocUlnaEJCWFZCc0M1cUxRQUFPZ0FCSUFBZ0JpQUlhaUlJUVFWMVFiQXVhaTBBQURvQUFpQUFJQVlnQ0dvaUNFRUZkVUd3TG1vdEFBQTZBQU1nQUNBR0lBaHFJZ2hCQlhWQnNDNXFMUUFBT2dBRUlBQWdCaUFJYWlJSVFRVjFRYkF1YWkwQUFEb0FCU0FBSUFZZ0NHb2lDRUVGZFVHd0xtb3RBQUE2QUFZZ0FDQUdJQWhxUVFWMVFiQXVhaTBBQURvQUJ5QUpJQkZxSVFrZ0FFRUlhaUVBSUF4QmYyb2lEQTBBQ3dzZ0FTQUNJQXNRQ0NBQklBSkJRR3NnQzBFQmNoQUlJQUVnQWtHQUFXb2dDMEVDY2hBSUlBRWdBa0hBQVdvZ0MwRURjaEFJSUFKQmdBSnFJUUlnQkVFSWFpRUVJQU5CQ1dvaEF5QUJRVUJySVFFZ0MwRUVhaUVMSUJKQkFXb2lFa0VDUncwQUMwRUFDNkVWQWhoL0FuNENmd05BQW44Z0FDSUlJQlpCQTNSQnNEVnFLUUlBSWg2bkVCRWlDU0lHQkVBZ0NDZ0NCQ0FHS0FJRVJnd0JDMEVBQ3lFTkFrQWdCVVVOQUNBTlJRMEFRUUFnRFVFQ0lBa29BZ0FpQmtFR1J5QUdRUVpKRzBFQ1Joc2hEUXNDZnlBSUlCWkJBM1JCOERacUtRSUFJaCtuRUJFaUJ5SUdCRUFnQ0NnQ0JDQUdLQUlFUmd3QkMwRUFDeUVQQWtBZ0JVVU5BQ0FQUlEwQVFRQWdEMEVDSUFjb0FnQWlCa0VHUnlBR1FRWkpHMEVDUmhzaER3dEJBaUVNSUExQkFFY2dEMEVBUjNFaUVrRUJSZ1JBUVFJaEJnSi9RUUlnQ1NnQ0FDSUxRUVpISUF0QkJra2JSUVJBSUFrZ0hrSWdpS2RCL3dGeGFpMEFVaUVHQ3lBR0N3Si9RUUlnQnlnQ0FDSUpRUVpISUFsQkJra2JSUVJBSUFjZ0gwSWdpS2RCL3dGeGFpMEFVaUVNQ3lBTUN5QUdJQXhKR3lFTUN5QUNJQlpCQW5RaUNXb2lCaWdDREVVRVFDQUdLQUpNSWdZZ0JpQU1UMm9oREFzZ0NDQVdhaUFNT2dCU0FuOGdDQ0FXUVFOMFFiQTRhaWdDQUJBUklnWWlCd1JBSUFnb0FnUWdCeWdDQkVZTUFRdEJBQXNoRGdKQUlBVkZEUUFnRGtVTkFFRUFJQTVCQWlBR0tBSUFJZ1pCQmtjZ0JrRUdTUnRCQWtZYklRNExBbjhnQUNBV1FRTjBRZkE1YWlnQ0FCQVJJZ2dpQmdSQUlBQW9BZ1FnQmlnQ0JFWU1BUXRCQUFzaEVRSkFJQVZGRFFBZ0VVVU5BRUVBSUJGQkFpQUlLQUlBSWdoQkJrY2dDRUVHU1J0QkFrWWJJUkVMSUFsQjhDbHFLQUlBSVJjZ0NVR3dLV29vQWdBaEdBSi9RWVVLSUJaMlFRRnhJaHdFUUNBWFFRTnFJUWNnQkNBWGFpSUlRUUpxSVFZZ0NFRUJhaUVMSUFRTUFRc2dGMEVFZENBWWFpSUlRUzlxSVFjZ0FTQUlhaUlJUVI5cUlRWWdDRUVQYWlFTElBaEJmMm9oQ0NBQkN5RUpJQWNnQ1dvdEFBQWhDaUFHTFFBQUlSQWdDeTBBQUNFVElBZ3RBQUFoRkFKQVFUTWdGblpCQVhFRVFDQURJQmhxSWdjdEFBZ2hHeUFITFFBSElSa2dCeTBBQmlFVklBY3RBQVVoR2lBSExRQUVJUVlnQnkwQUF5RUxJQWN0QUFJaENTQUhMUUFCSVFnTUFRc2dBU0FYUVg5cUloMUJCSFFnR0dwcUlnY3RBQUFoQ0NBSExRQUhJUnNnQnkwQUJpRVpJQWN0QUFVaEZTQUhMUUFFSVJvZ0J5MEFBeUVHSUFjdEFBSWhDeUFITFFBQklRa2dIQVJBSUFRZ0hXb2hCd3dCQ3lBSFFYOXFJUWNMQWtBZ0RFRUhUUVJBSUFjdEFBQWhCd0pBQWtBQ1FBSkFBa0FDUUFKQUFrQWdERUVCYXc0SEFRSURCQVVHQndBTElBOUZCRUJCQVE4TElBaEIvd0Z4SUF0Qi93RnhRUkIwSUFaQkdIUnljaUFKUWY4QmNVRUlkSEloRlNBSUlnd2hEU0FKSWc0aEVpQUxJZzhoQ2lBR0loRWhCd3dJQ3lBTlJRUkFRUUVQQ3lBS1FZR0NoQWhzSVJVZ0VFR0Jnb1FJYkNJTlFSaDJJUWNnRFVFUWRpRUtJQTFCQ0hZaEVpQVRRWUdDaEFoc0lneEJHSFloRVNBTVFSQjJJUThnREVFSWRpRU9JQlJCZ1lLRUNHd2lDRUVZZGlFR0lBaEJFSFloQ3lBSVFRaDJJUWtNQndzQ2Z5QVRJQlJxSUFwcUlCQnFJQVpCL3dGeGFpQUxRZjhCY1dvZ0NVSC9BWEZxSUFoQi93Rnhha0VFYWtFRGRpQVNEUUFhSUJNZ0ZHb2dDbW9nRUdwQkFtcEJBbllnRFEwQUdrR0FBU0FQUlEwQUdpQUdRZjhCY1NBTFFmOEJjV29nQ1VIL0FYRnFJQWhCL3dGeGFrRUNha0VDZGdzaUNFR0Jnb1FJYkNFVklBZ2lDU0lMSWdZaURDSU9JZzhpRVNJTkloSWlDaUVIREFZTElBOUZCRUJCQVE4TElBWkIvd0Z4SWcxQkFtb2lFU0FWSUFZZ0RodEIvd0Z4SWdkcUlCb2dCaUFPRzBIL0FYRWlDa0VCZEdwQkFuWWlEeUFaSUFZZ0RodEIvd0Z4SWd3Z0d5QUdJQTRiUWY4QmNTSUdRUU5zYWtFV2RFR0FnSUFFYWtHQWdJQjRjWElnQ2lBTWFpQUhRUUYwYWtFQ2FpSVFRUVowUVlEK0EzRnlJQVlnQjJvZ0RFRUJkR3BCQW1vaUJrRU9kRUdBZ1B3SGNYSWhGU0FHUVFKMklRY2dDMEgvQVhFaUJrRUNhaUlMSUFoQi93RnhhaUFKUWY4QmNTSUpRUUYwYWtFQ2RpRUlJQWtnRVdvZ0JrRUJkR3BCQW5ZaUNTRU1JQW9nQzJvZ0RVRUJkR3BCQW5ZaUN5RU9JQXNoRFNBUElnWWhFaUFRUVFKMkloRWhDZ3dGQzBFQklCRkZJQkpCQVhOeURRWWFJQlFnRTBFQmRHb2dFR3BCQW1vaURrRUdkRUdBL2dOeElBb2dFMEVDYWlJUGFpQVFRUUYwYWtFQ2RuSWdDRUgvQVhFaUNrRUNhaUlNSUJScUlBZEJBWFJxUVFKMklnaEJHSFJ5SUE4Z0ZFRUJkR29nQjJvaUVFRU9kRUdBZ1B3SGNYSWhGU0FKUWY4QmNTSVJRUUpxSWdrZ0JrSC9BWEZxSUF0Qi93RnhJZ3RCQVhScVFRSjJJUVlnRGtFQ2RpRU5JQWtnQ2tFQmRHb2dCMnBCQW5ZaUNTRVBJQkZCQVhRZ0Myb2dER3BCQW5ZaUN5RVJJQkJCQW5ZaURDRVNJQWdpRGlFS0lBa2hCd3dFQzBFQklCRkZJQkpCQVhOeURRVWFJQWhCL3dGeElncEJBbW9pRGlBTFFmOEJjU0lJSUFsQi93RnhJZ3RCQVhScWFrRUNkaUlQUVJoMElCUWdFMEVCZEdvZ0VHcEJBbXBCQW5aeUlBNGdGR29nQjBFQmRHb2lDVUVHZEVHQS9nTnhjaUFMUVFKcUlnNGdDa0VCZEdvZ0Iyb2lEVUVPZEVHQWdQd0hjWEloRlNBSVFRRnFJaEFnQmtIL0FYRWlER3BCQVhZaEJpQU1JQTVxSUFoQkFYUnFRUUoySVJFZ0NVRUNkaUVNSUExQkFuWWhEaUFUSUJSQkFYUnFJQWRxUVFKcVFRSjJJUTBnQnlBS2FrRUJha0VCZGlJSUlSSWdDaUFMYWtFQmFrRUJkaUlKSVFvZ0N5QVFha0VCZGlJTElRY01Bd3RCQVNBUlJTQVNRUUZ6Y2cwRUdpQVRRUUpxSWc0Z0Ntb2dFRUVCZEdwQkJuUkJnUDREY1NBUUlCTnFRUUZxSWc5QkQzUkJnSUQ4QjNFZ0ZFRUNhaUlNSUJOQkFYUnFJQkJxUVFKMkloSkJHSFJ5SUFvZ0VHcEJBV3BCQVhaeWNpRVZJQWhCL3dGeElnZ2dDMEgvQVhGcUlBbEIvd0Z4SWdsQkFYUnFRUUpxUVFKMklRWWdDU0FJUVFGMGFpQUhha0VDYWtFQ2RpRUxJQTlCQVhZaERTQUlJQXhxSUFkQkFYUnFRUUoySWhFaENTQVVRUUZxSWdvZ0IycEJBWFlpQ0NFUElBb2dFMnBCQVhZaURDRUtJQTRnRkVFQmRHb2dCMnBCQW5ZaURpRUhEQUlMSUE5RkJFQkJBUThMSUJvZ0JpQU9HMEgvQVhFaUNpQVpJQVlnRGh0Qi93RnhhaUFWSUFZZ0RodEIvd0Z4SWdkQkFYUnFRUlowSUF0Qi93RnhJZ3RCQW1vaURDQUthaUFHUWY4QmNTSUdRUUYwYWlJUFFRWjBja0dBZ0lBRWFrR0Evb040Y1NBR1FRSnFJZzBnQ1VIL0FYRWlDV29nQzBFQmRHcEJBbllpRG5JZ0J5QU5haUFLUVFGMGFpSU5RUTUwUVlDQS9BZHhjaUVWSUFjZ0NtcEJBV3BCQVhZaEJ5QU5RUUoySVJFZ0NTQUlRZjhCY1NJTmFrRUJha0VCZGlFSUlBOUJBblloRHlBTUlBMXFJQWxCQVhScVFRSjJJUXdnQ1NBTGFrRUJha0VCZGlJSklRMGdCa0VCYWlJR0lBdHFRUUYySWdzaEVpQUdJQXBxUVFGMklnWWhDZ3dCQ3lBTlJRUkFRUUVQQ3lBS1FRaDBJQXB5SUFwQkVIUnlJQXBCR0hSeUlSVWdFRUVDYWlJSElCUnFJQk5CQVhScVFRSjJJUWtnRTBFQmFpSUdJQlJxUVFGMklRZ2dCaUFRYWtFQmRpSUxJUXdnQ2lBVGFpQVFRUUYwYWtFQ2FrRUNkaUlHSVE0Z0NpQVFha0VCYWtFQmRpSVBJUTBnQnlBS1FRTnNha0VDZGlJUklSSWdDaUVIQ3lBQklCZEJCSFFnR0dwcUloQWdGVFlDTUNBUUlBMUIvd0Z4SUJKQi93RnhRUWgwY2lBS1FmOEJjVUVRZEhJZ0IwRVlkSEkyQWlBZ0VDQU1RZjhCY1NBT1FmOEJjVUVJZEhJZ0QwSC9BWEZCRUhSeUlCRkJHSFJ5TmdJUUlCQWdDRUgvQVhFZ0NVSC9BWEZCQ0hSeUlBdEIvd0Z4UVJCMGNpQUdRUmgwY2pZQ0FDQUJJQUlnRmtFR2RHcEJ5QUpxSUJZUUNDQVdRUUZxSWhaQkVFY05BQXRCQUFzTHhSSUJFSDhDZnlBQUtBTElBU0lIQkVBZ0FDZ0NCQ0FIS0FJRVJnd0JDMEVBQ3lFSEFrQWdCVVVOQUNBSFJRMEFRUUFnQjBFQ0lBQW9Bc2dCS0FJQUlnZEJCa2NnQjBFR1NSdEJBa1liSVFjTEFuOGdBQ2dDekFFaUNBUkFJQUFvQWdRZ0NDZ0NCRVlNQVF0QkFBc2hDQUpBSUFWRkRRQWdDRVVOQUVFQUlBaEJBaUFBS0FMTUFTZ0NBQ0lJUVFaSElBaEJCa2tiUVFKR0d5RUlDd0ovSUFBb0F0UUJJZ2tFUUNBQUtBSUVJQWtvQWdSR0RBRUxRUUFMSVFrQ1FDQUZSUTBBSUFsRkRRQkJBaUFBS0FMVUFTZ0NBQ0lGUVFaSElBVkJCa2tiUVFKSElRa0xBa0FDUUNBQUtBSUFRUUZxUVFOeElnQkJBazBFUUFKQUFrQUNRQ0FBUVFGckRnSUJBZ0FMSUFoRkJFQkJBUThMUVFBaEJTQUJJUUFEUUNBQUlBTXRBQUU2QUFBZ0FDQURMUUFDT2dBQklBQWdBeTBBQXpvQUFpQUFJQU10QUFRNkFBTWdBQ0FETFFBRk9nQUVJQUFnQXkwQUJqb0FCU0FBSUFNdEFBYzZBQVlnQUNBRExRQUlPZ0FISUFBZ0F5MEFDVG9BQ0NBQUlBTXRBQW82QUFrZ0FDQURMUUFMT2dBS0lBQWdBeTBBRERvQUN5QUFJQU10QUEwNkFBd2dBQ0FETFFBT09nQU5JQUFnQXkwQUR6b0FEaUFBSUFNdEFCQTZBQThnQUVFUWFpRUFJQVZCQVdvaUJVRVFSdzBBQ3d3REN5QUhSUVJBUVFFUEMwRUFJUVVnQVNFQUEwQWdBQ0FFSUFWcUlnTXRBQUE2QUFBZ0FDQURMUUFBT2dBQklBQWdBeTBBQURvQUFpQUFJQU10QUFBNkFBTWdBQ0FETFFBQU9nQUVJQUFnQXkwQUFEb0FCU0FBSUFNdEFBQTZBQVlnQUNBRExRQUFPZ0FISUFBZ0F5MEFBRG9BQ0NBQUlBTXRBQUE2QUFrZ0FDQURMUUFBT2dBS0lBQWdBeTBBQURvQUN5QUFJQU10QUFBNkFBd2dBQ0FETFFBQU9nQU5JQUFnQXkwQUFEb0FEaUFBSUFNdEFBQTZBQThnQUVFUWFpRUFJQVZCQVdvaUJVRVFSdzBBQ3d3Q0N5QUJBbjhDUUNBSFJRMEFJQWhGRFFBZ0JDMEFEeUFETFFBUUlBUXRBQTRnQXkwQUR5QUVMUUFOSUFNdEFBNGdCQzBBRENBRExRQU5JQVF0QUFzZ0F5MEFEQ0FFTFFBS0lBTXRBQXNnQkMwQUNTQURMUUFLSUFRdEFBZ2dBeTBBQ1NBRUxRQUhJQU10QUFnZ0JDMEFCaUFETFFBSElBUXRBQVVnQXkwQUJpQUVMUUFFSUFNdEFBVWdCQzBBQXlBRExRQUVJQVF0QUFJZ0F5MEFBeUFFTFFBQklBTXRBQUlnQXkwQUFTQUVMUUFBYW1wcWFtcHFhbXBxYW1wcWFtcHFhbXBxYW1wcWFtcHFhbXBxYW1wcWFrRVFha0VGZGd3QkN5QUhCRUFnQkMwQUR5QUVMUUFPSUFRdEFBMGdCQzBBRENBRUxRQUxJQVF0QUFvZ0JDMEFDU0FFTFFBSUlBUXRBQWNnQkMwQUJpQUVMUUFGSUFRdEFBUWdCQzBBQXlBRUxRQUNJQVF0QUFBZ0JDMEFBV3BxYW1wcWFtcHFhbXBxYW1wcWFrRUlha0VFZGd3QkMwR0FBU0FJUlEwQUdpQURMUUFRSUFNdEFBOGdBeTBBRGlBRExRQU5JQU10QUF3Z0F5MEFDeUFETFFBS0lBTXRBQWtnQXkwQUNDQURMUUFISUFNdEFBWWdBeTBBQlNBRExRQUVJQU10QUFNZ0F5MEFBU0FETFFBQ2FtcHFhbXBxYW1wcWFtcHFhbXBxUVFocVFRUjJDMEdBQWhBSEdnd0JDMEVCSVFBZ0IwVU5BU0FJUlEwQklBbEZEUUVnQkMwQUNDQUVMUUFHYXlBRUxRQVBJZ0FnQXkwQUFDSUZhMEVEZEdvZ0JDMEFDU0FFTFFBRmEwRUJkR29nQkMwQUNpQUVMUUFFYTBFRGJHb2dCQzBBQ3lBRUxRQURhMEVDZEdvZ0JDMEFEQ0FFTFFBQ2EwRUZiR29nQkMwQURTQUVMUUFCYTBFR2JHb2dCQzBBRGlBRUxRQUFhMEVIYkdwQkJXeEJJR3BCQm5VaEJ5QURMUUFKSUFNdEFBZHJJQU10QUFvZ0F5MEFCbXRCQVhScUlBTXRBQXNnQXkwQUJXdEJBMnhxSUFNdEFBd2dBeTBBQkd0QkFuUnFJQU10QUEwZ0F5MEFBMnRCQld4cUlBTXRBQTRnQXkwQUFtdEJCbXhxSUFNdEFBOGdBeTBBQVd0QkIyeHFJQU10QUJBaUF5QUZhMEVEZEdwQkJXeEJJR3BCQm5VaUJFRURkQ0VJSUFSQkIyd2hDU0FFUVFac0lRb2dCRUVGYkNFTElBUkJBMndoRENBRVFYMXNJUTBnQkVGN2JDRU9JQVJCZW13aER5QUVRWGxzSVJCQkFDQUVRUUYwSWhGcklSSkJBQ0FFUVFKMEloTnJJUlFnQUNBRGFrRUVkRUVRYWlFVlFRQWhCUU5BSUFFZ0JVRUVkQ0lBYWlBVklBVkJlV29nQjJ4cUlnTWdFR3BCQlhVaUJrSC9BU0FHUWY4QlNCc2lCa0VBSUFaQkFFb2JPZ0FBSUFFZ0FFRUJjbW9nQXlBUGFrRUZkU0lHUWY4QklBWkIvd0ZJR3lJR1FRQWdCa0VBU2hzNkFBQWdBU0FBUVFKeWFpQURJQTVxUVFWMUlnWkIvd0VnQmtIL0FVZ2JJZ1pCQUNBR1FRQktHem9BQUNBQklBQkJBM0pxSUFNZ0ZHcEJCWFVpQmtIL0FTQUdRZjhCU0JzaUJrRUFJQVpCQUVvYk9nQUFJQUVnQUVFRWNtb2dBeUFOYWtFRmRTSUdRZjhCSUFaQi93RklHeUlHUVFBZ0JrRUFTaHM2QUFBZ0FTQUFRUVZ5YWlBRElCSnFRUVYxSWdaQi93RWdCa0gvQVVnYklnWkJBQ0FHUVFCS0d6b0FBQ0FCSUFCQkJuSnFJQU1nQkd0QkJYVWlCa0gvQVNBR1FmOEJTQnNpQmtFQUlBWkJBRW9iT2dBQUlBRWdBRUVIY21vZ0EwRUZkU0lHUWY4QklBWkIvd0ZJR3lJR1FRQWdCa0VBU2hzNkFBQWdBU0FBUVFoeWFpQURJQVJxUVFWMUlnWkIvd0VnQmtIL0FVZ2JJZ1pCQUNBR1FRQktHem9BQUNBQklBQkJDWEpxSUFNZ0VXcEJCWFVpQmtIL0FTQUdRZjhCU0JzaUJrRUFJQVpCQUVvYk9nQUFJQUVnQUVFS2Ntb2dBeUFNYWtFRmRTSUdRZjhCSUFaQi93RklHeUlHUVFBZ0JrRUFTaHM2QUFBZ0FTQUFRUXR5YWlBRElCTnFRUVYxSWdaQi93RWdCa0gvQVVnYklnWkJBQ0FHUVFCS0d6b0FBQ0FCSUFCQkRISnFJQU1nQzJwQkJYVWlCa0gvQVNBR1FmOEJTQnNpQmtFQUlBWkJBRW9iT2dBQUlBRWdBRUVOY21vZ0F5QUtha0VGZFNJR1FmOEJJQVpCL3dGSUd5SUdRUUFnQmtFQVNoczZBQUFnQVNBQVFRNXlhaUFESUFscVFRVjFJZ1pCL3dFZ0JrSC9BVWdiSWdaQkFDQUdRUUJLR3pvQUFDQUJJQUJCRDNKcUlBTWdDR3BCQlhVaUFFSC9BU0FBUWY4QlNCc2lBRUVBSUFCQkFFb2JPZ0FBSUFWQkFXb2lCVUVRUncwQUN3dEJBQ0VBSUFFZ0FrRUFFQWdnQVNBQ1FVQnJRUUVRQ0NBQklBSkJnQUZxUVFJUUNDQUJJQUpCd0FGcVFRTVFDQ0FCSUFKQmdBSnFRUVFRQ0NBQklBSkJ3QUpxUVFVUUNDQUJJQUpCZ0FOcVFRWVFDQ0FCSUFKQndBTnFRUWNRQ0NBQklBSkJnQVJxUVFnUUNDQUJJQUpCd0FScVFRa1FDQ0FCSUFKQmdBVnFRUW9RQ0NBQklBSkJ3QVZxUVFzUUNDQUJJQUpCZ0FacVFRd1FDQ0FCSUFKQndBWnFRUTBRQ0NBQklBSkJnQWRxUVE0UUNDQUJJQUpCd0FkcVFROFFDQXNnQUF1N0NBRUhmd0pBSUFORkRRQWdBQ2dDQUNBRElBQW9BZ1FpQlc0aUNDQUZiQ0lFUVFoMGFpQURJQVJySWdkQkJIUnFJUVlnQlVFRWRDRUVJQUFvQWdnaENTQUZJQU5MSWdwRkJFQWdBU0FHSUFSQkFYSnJJZ010QUFBNkFBQWdBU0FETFFBQk9nQUJJQUVnQXkwQUFqb0FBaUFCSUFNdEFBTTZBQU1nQVNBRExRQUVPZ0FFSUFFZ0F5MEFCVG9BQlNBQklBTXRBQVk2QUFZZ0FTQURMUUFIT2dBSElBRWdBeTBBQ0RvQUNDQUJJQU10QUFrNkFBa2dBU0FETFFBS09nQUtJQUVnQXkwQUN6b0FDeUFCSUFNdEFBdzZBQXdnQVNBRExRQU5PZ0FOSUFFZ0F5MEFEam9BRGlBQklBTXRBQTg2QUE4Z0FTQURMUUFRT2dBUUlBRWdBeTBBRVRvQUVTQUJJQU10QUJJNkFCSWdBU0FETFFBVE9nQVRJQUVnQXkwQUZEb0FGQ0FCUVJWcUlRRUxJQWNFUUNBQ0lBWkJmMm9pQXkwQUFEb0FBQ0FDSUFNZ0JHb2lBeTBBQURvQUFTQUNJQU1nQkdvaUF5MEFBRG9BQWlBQ0lBTWdCR29pQXkwQUFEb0FBeUFDSUFNZ0JHb2lBeTBBQURvQUJDQUNJQU1nQkdvaUF5MEFBRG9BQlNBQ0lBTWdCR29pQXkwQUFEb0FCaUFDSUFNZ0JHb2lBeTBBQURvQUJ5QUNJQU1nQkdvaUF5MEFBRG9BQ0NBQ0lBTWdCR29pQXkwQUFEb0FDU0FDSUFNZ0JHb2lBeTBBQURvQUNpQUNJQU1nQkdvaUF5MEFBRG9BQ3lBQ0lBTWdCR29pQXkwQUFEb0FEQ0FDSUFNZ0JHb2lBeTBBQURvQURTQUNJQU1nQkdvaUF5MEFBRG9BRGlBQ0lBTWdCR290QUFBNkFBOGdBa0VRYWlFQ0N5QUFLQUlBSUFVZ0NXd2lCRUVJZEdvZ0NDQUZRUU4wSWdCc1FRTjBhaUFIUVFOMGFpRUdJQUJCK1AvLy93ZHhJUUFnQ2tVRVFDQUJJQVlnQUVFQmNtc2lBeTBBQURvQUFDQUJJQU10QUFFNkFBRWdBU0FETFFBQ09nQUNJQUVnQXkwQUF6b0FBeUFCSUFNdEFBUTZBQVFnQVNBRExRQUZPZ0FGSUFFZ0F5MEFCam9BQmlBQklBTXRBQWM2QUFjZ0FTQURRUWhxSWdNdEFBQTZBQWdnQVNBRVFRWjBJQU5xSWdOQmVHb3RBQUE2QUFrZ0FTQURRWGxxTFFBQU9nQUtJQUVnQTBGNmFpMEFBRG9BQ3lBQklBTkJlMm90QUFBNkFBd2dBU0FEUVh4cUxRQUFPZ0FOSUFFZ0EwRjlhaTBBQURvQURpQUJJQU5CZm1vdEFBQTZBQThnQVNBRFFYOXFMUUFBT2dBUUlBRWdBeTBBQURvQUVRc2dCMFVOQUNBQ0lBWkJmMm9pQVMwQUFEb0FBQ0FDSUFBZ0FXb2lBUzBBQURvQUFTQUNJQUFnQVdvaUFTMEFBRG9BQWlBQ0lBQWdBV29pQVMwQUFEb0FBeUFDSUFBZ0FXb2lBUzBBQURvQUJDQUNJQUFnQVdvaUFTMEFBRG9BQlNBQ0lBQWdBV29pQVMwQUFEb0FCaUFDSUFBZ0FXb2lBUzBBQURvQUJ5QUNJQUFnQVdvZ0JDQUZhMEVHZEdvaUFTMEFBRG9BQ0NBQ0lBQWdBV29pQVMwQUFEb0FDU0FDSUFBZ0FXb2lBUzBBQURvQUNpQUNJQUFnQVdvaUFTMEFBRG9BQ3lBQ0lBQWdBV29pQVMwQUFEb0FEQ0FDSUFBZ0FXb2lBUzBBQURvQURTQUNJQUFnQVdvaUFTMEFBRG9BRGlBQ0lBQWdBV290QUFBNkFBOExDNjhCQVFGL0l3QkIwQUJySWdZa0FDQUNJQVpCSUdvZ0JpQURFRlVDUUFKQVFRSWdBQ2dDQUNJRFFRWkhJQU5CQmtrYlFRRkdCRUFnQUNBRklBRkJ5QUpxSUFaQklHb2dCaUFFRUZRaUEwVU5BUXdDQ3lBQUlBVWdBU0FHUVNCcUlBWWdCQkJUSWdNTkFRc2dBQ0FGUVlBQ2FpQUJRY2dLYWlBR1FUVnFJQVpCRUdvZ0FTZ0NqQUVnQkJCU0lnTU5BRUVBSVFNZ0FDZ0N4QUZCQVVzTkFDQUNJQVVRR3dzZ0JrSFFBR29rQUNBREM2TXFBU1IvSXdCQklHc2lFQ1FBSUJBZ0JDZ0NCQ0lJTmdJTUlCQWdCQ2dDQ0RZQ0VDQURJQWh1SWdaQkJIUWhGQ0FESUFZZ0NHeHJRUVIwSVJVQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFBb0FnQWlCa0VEVFFSQUFrQUNRQUpBSUFaQkFtc09BZ0VDQUFzZ0FTZ0NrQUVoRXlBQUtBSUVJUTVCZnlFUEFuOGdBQ2dDeUFFaUNVVUVRRUVBSVFoQmZ3d0JDMEVBSVFoQmZ5QUpLQUlFSUE1SERRQWFRUUVoRWtGL0lBa29BZ0JCQlVzTkFCb2dDU2dDbUFFaUNFRVFkaUVISUFrb0FtZ0xJUTBnQUNnQ3pBRWlDVVVOQ0NBSktBSUVJQTVIRFFoQkFTRVdJQWtvQWdCQkJVc05DQ0FKS0FLc0FTSVJRUkIySVFvZ0NTZ0NiQ0VQREFnTElBRW9BcEFCSVJNZ0FTOEJvZ0VoRFNBQkx3R2dBU0VNSUFBb0FnUWhDMEYvSVFjQ1FDQUFLQUxNQVNJR1JRMEFJQXNnQmlnQ0JFY0VRQXdCQzBFQklSSWdCaWdDQUVFRlN3MEFJQVlvQXF3QklnbEJFSFloQ2lBR0tBSnNJUWNMSUFjZ0UwWUVRQ0FLSVFjZ0NTRUdEQWNMUVg4aER3SkFBa0FDUUNBQUtBTElBU0lJUlFSQVFRQWhCd3dCQzBFQUlRY2dDQ2dDQkNBTFJnMEJDMEVBSVFZTUFRdEJBU0VYSUFnb0FnQkJCVXNFUUVFQUlRWU1BUXNnQ0NnQ21BRWlCa0VRZGlFSElBZ29BbWdoRHdzQ1FBSkFJQUFvQXRBQklnaEZEUUFnQ0NnQ0JDQUxSdzBBSUFnb0FnQkJCVTBOQVF3R0N3SkFJQUFvQXRRQklnaEZEUUFnQ0NnQ0JDQUxSdzBBSUFnb0FnQkJCVXNOQmlBSUtBSndJUllnQ0NnQ3dBRWhDQXdIQzBFQUlRaEJmeUVXSUJJTkJpQVhSUTBHREFjTElBZ29BbXdoRmlBSUtBS3NBU0VJREFVTElBRW9BcEFCSVE4Z0FTOEJvZ0VoRFNBQkx3R2dBU0VNSUFBb0FnUWhCa0YvSVFjQ1FDQUFLQUxJQVNJS1JRUkFRUUFoQ0F3QkMwRUFJUWdnQmlBS0tBSUVSd1JBREFFTFFRRWhFU0FLS0FJQVFRVkxEUUFnQ2lnQ21BRWlDVUVRZGlFSUlBb29BbWdoQndzZ0J5QVBSZzBCQW44Q2Z3SkFBa0FnQUNnQ3pBRWlCMFVOQUNBSEtBSUVJQVpIRFFBZ0J5Z0NBRUVGU3cwQklBY29BbkFoRVNBSEtBSzhBU0VLSUFjb0Ftd2hFaUFIS0FLc0FTSUdRUkIyREFNTEFrQWdBQ2dDMUFFaUIwVU5BQ0FIS0FJRUlBWkhEUUJCQUNFR1FYOGhFaUFIS0FJQVFRVkxCRUJCZnlFUlFRQU1Bd3NnQnlnQ2NDRVJJQWNvQXNBQkRBSUxJQkVOQkF0QmZ5RVJRWDhoRWtFQUlRWkJBQXNoQ2tFQUN5RUhJQThnRWtZaUN5QVBJQkZHYWtFQlJ3UkFJQWNnQ0NBSFFSQjBRUkIxSWdzZ0NFRVFkRUVRZFNJT1NpSUlHeUlISUE0Z0N5QU9JQXNnRGtnYklBZ2JJZ2dnQ2tFUWRTSUxJQWdnQzBvYklBZEJFSFJCRUhVZ0MwZ2JJUWNnQmlBSklBWkJFSFJCRUhVaUN5QUpRUkIwUVJCMUlnbEtJZ1liSWdoQi8vOERjU0FKSUFzZ0NTQUxJQWxJR3lBR0d5SUdJQXBCRUhSQkVIVWlDU0FHSUFsS0d5QUlRUkIwUVJCMUlBbElHeUVHREFNTElBc05BaUFLUVJCMklRY2dDaUVHREFJTFFRRWhHeUFBUVlRQmFpRWNBMEFDZnlBQklCMUJBblFpSG1vaUlDSWtLQUt3QVNJR1FRSk5CRUFnQmtFQ2RFR2NOV29vQWdBTUFRdEJCQXNoSWlBQUlCNXFJZ1lnSUNnQ3dBRTJBbVFnQmlBQ0lDQW9Bc0FCRUJRaUJqWUNkQ0FHUlEwSUlDSUVRQ0FjSUIxQkJIUWlIMm9pSlNFbUlCd2dIMEVNY21vaUowRUNhaUVvSUJ3Z0gwRUljbW9pS1NFUklCd2dIMEVFY21vaUZpRVRRUUFoQmdOQUlBRWdIMm9nQmtFQ2RHb2lDQzhCMGdFaER5QUlMd0hRQVNFT0lDQW9Bc0FCSVNGQmZ5RVhBbjhnQUNBZFFRZDBJQ1FvQXJBQklpTkJCWFJxSUFaQkEzUnFJaHBCc0JscUtBSUFFQkVpQ1VVRVFFRUFJUXhCQUNFSVFRQWhDa0YvREFFTFFRQWhERUVBSVFoQkFDRUtRWDhnQ1NnQ0JDQUFLQUlFUncwQUdrRUJJUXBCZnlBSktBSUFRUVZMRFFBYUlBa2dHa0cwR1dvdEFBQWlCMEVDZEdvb0FvUUJJZ2hCRUhZaERDQUpJQWRCL0FGeGFpZ0NaQXNoRFFKQUFrQUNRQ0FBSUJwQnNCMXFLQUlBRUJFaUdFVUVRRUVBSVFrTUFRdEJBQ0VKSUJnb0FnUWdBQ2dDQkVZTkFRdEJBQ0VTUVFBaEN3d0JDMEVCSVFzZ0dDZ0NBRUVGU3dSQVFRQWhFZ3dCQ3lBWUlCcEJ0QjFxTFFBQUlnZEJBblJxS0FLRUFTSVNRUkIySVFrZ0dDQUhRZndCY1dvb0FtUWhGd3NDUUFKQUFrQUNRQUpBSUFBZ0drR3dJV29vQWdBUUVTSVpSUTBBSUJrb0FnUWdBQ2dDQkVjTkFDQVpLQUlBUVFWTkRRRU1BZ3NDUUNBQUlCcEJzQ1ZxS0FJQUVCRWlHVVVOQUNBWktBSUVJQUFvQWdSSERRQWdHU2dDQUVFRlN3MENJQmtnR2tHMEpXb3RBQUFpQjBIOEFYRnFLQUprSVJnZ0dTQUhRUUowYWlnQ2hBRWhCd3dEQzBFQUlRZEJmeUVZSUFwRkRRSWdDdzBDREFNTElCa2dHa0cwSVdvdEFBQWlCMEg4QVhGcUtBSmtJUmdnR1NBSFFRSjBhaWdDaEFFaEJ3d0JDMEVBSVFkQmZ5RVlDeUFYSUNGR0lnb2dEU0FoUmlJTGFpQVlJQ0ZHYWtFQlJ3UkFJQWtnRENBSlFSQjBRUkIxSWdzZ0RFRVFkRUVRZFNJTVNpSUpHeUlLSUF3Z0N5QU1JQXNnREVnYklBa2JJZ2tnQjBFUWRTSUxJQWtnQzBvYklBcEJFSFJCRUhVZ0MwZ2JJUXdnRWlBSUlCSkJFSFJCRUhVaUNpQUlRUkIwUVJCMUlndEtJZ2diSWdsQi8vOERjU0FMSUFvZ0N5QUtJQXRJR3lBSUd5SUlJQWRCRUhSQkVIVWlCeUFJSUFkS0d5QUpRUkIwUVJCMUlBZElHeUVJREFFTElBZ2dFaUFMR3lFSUlBd2dDU0FMR3lFTUlBc05BQ0FLRFFBZ0IwRVFkaUVNSUFjaENBc2dDQ0FPYWlJS1FSQjBRUkIxUVlCQWEwSC8vd0JMRFFvZ0RDQVBhaUlKUVJCMFFSQjFRWUFRYWtIL0gwc05DaUFqUVFOTkJFQUNmd0pBQWtBQ1FBSkFJQ05CQVdzT0F3RUNBd0FMSUNVZ0Nqc0JBQ0FtSUFrN0FRSWdGaUFLT3dFQUlCTWdDVHNCQWlBcElBbzdBUUFnRVNBSk93RUNJQ2NnQ2pzQkFDQW9EQU1MSUJ3Z0JrRUJkQ0FlYWtFQ2RDSUhhaUlJSUFrN0FRSWdDQ0FLT3dFQUlCd2dCMEVFY21vaUNDQUtPd0VBSUFoQkFtb01BZ3NnQUNBR0lCNXFRUUowYWlJSUlBbzdBWXdCSUFnZ0NUc0JoZ0VnQ0NBS093R0VBU0FJUVk0QmFnd0JDeUFBSUFZZ0htcEJBblJxSWdnZ0Nqc0JoQUVnQ0VHR0FXb0xJQWs3QVFBTElBWkJBV29pQmlBaVJ3MEFDd3NnSFVFQmFpSWRRUVJIRFFBTFFRQWhEQU5BSUJBZ0FDQU1RUUowSWdKcUtBSjBOZ0lJSUF4QkFVdEJBM1FoQ1NBTVFRTjBRUWh4SVFjQ1FDQUJJQUpxS0FLd0FTSUNRUUpOQkVBQ1FBSkFBa0FnQWtFQmF3NENBUUlBQ3lBRklBQWdERUVFZEdwQmhBRnFJQkJCQ0dvZ0ZTQVVJQWNnQ1VFSVFRZ1FEZ3dEQ3lBRklBQWdERUVFZEdvaUFrR0VBV29nRUVFSWFpQVZJQlFnQnlBSlFRaEJCQkFPSUFVZ0FrR01BV29nRUVFSWFpQVZJQlFnQnlBSlFRUnlRUWhCQkJBT0RBSUxJQVVnQUNBTVFRUjBhaUlDUVlRQmFpQVFRUWhxSUJVZ0ZDQUhJQWxCQkVFSUVBNGdCU0FDUVlnQmFpQVFRUWhxSUJVZ0ZDQUhRUVJ5SUFsQkJFRUlFQTRNQVFzZ0JTQUFJQXhCQkhScUlnaEJoQUZxSUJCQkNHb2dGU0FVSUFjZ0NVRUVRUVFRRGlBRklBaEJpQUZxSUJCQkNHb2dGU0FVSUFkQkJISWlCaUFKUVFSQkJCQU9JQVVnQ0VHTUFXb2dFRUVJYWlBVklCUWdCeUFKUVFSeUlnSkJCRUVFRUE0Z0JTQUlRWkFCYWlBUVFRaHFJQlVnRkNBR0lBSkJCRUVFRUE0TElBeEJBV29pREVFRVJ3MEFDd3dHQ3lBSUlRY2dDU0VHQzBFQklSc2dCaUFNYWlJSVFSQjBRUkIxUVlCQWEwSC8vd0JMRFFVZ0J5QU5haUlHUVJCMFFSQjFRWUFRYWtIL0gwc05CU0FDSUE4UUZDSUhSUTBGSUFBZ0Jqc0JzZ0VnQUNBSU93R3dBU0FBSUFjMkFuUWdBQ0FQTmdKa0lBQWdCellDZkNBQUlBODJBbXdnQUNBQUtBS3dBU0lHTmdLc0FTQUFJQVkyQXFnQklBQWdCallDcEFFZ0FDQUdOZ0tRQVNBQUlBWTJBb3dCSUFBZ0JqWUNpQUVnQUNBR05nS0VBU0FCS0FLVUFTRU9JQUV2QWFZQklRd2dBUzhCcEFFaEN5QUFLQUlFSVFrQ1FBSkFJQUFvQXRBQklnZEZEUUFnQnlnQ0JDQUpSdzBBUVFFaEVTQUhLQUlBUVFWTEJFQkJmeUVJUVFBaEJ3d0NDeUFIS0FKc0lRZ2dCeWdDckFFaEJ3d0JDMEYvSVFoQkFDRUhJQUFvQXN3QklncEZCRUJCQUNFUkRBRUxJQWtnQ2lnQ0JFY0VRRUVBSVJFTUFRdEJBU0VSSUFvb0FnQkJCVXNOQUNBS0tBSnNJUWdnQ2lnQ3NBRWhCd3NDUUNBSUlBNUdSUVJBSUFaQkVIWWhDQUovQWtBQ1FDQUFLQUxNQVNJTlJRMEFJQTBvQWdRZ0NVY05BQ0FOS0FJQVFRVkxEUUVnRFNnQ3ZBRWlFVUVRZGlFS0lBMG9BbkFNQWdzZ0VVVU5Bd3RCQUNFUlFRQWhDa0YvQ3lFTklBNGdEMFlpQ1NBTklBNUdha0VCUndSQUlBb2dDQ0FLUVJCMFFSQjFJZzBnQ0VFUWRFRVFkVW9pQ0JzaUNTQUdRUkIxSWdvZ0RTQUtJQW9nRFVvYklBZ2JJZ2dnQjBFUWRTSUtJQWdnQ2tvYklBbEJFSFJCRUhVZ0NrZ2JJUWdnRVNBR0lCRkJFSFJCRUhVaUNpQUdRUkIwUVJCMUlnMUtJZ1liSWdsQi8vOERjU0FOSUFvZ0RTQU5JQXBLR3lBR0d5SUdJQWRCRUhSQkVIVWlCeUFHSUFkS0d5QUpRUkIwUVJCMUlBZElHeUVHREFJTElBa05BU0FOSUE1R0JFQWdFVUgvL3dOeElBcEJFSFJ5SVFZZ0NpRUlEQUlMQ3lBSFFSQjJJUWdnQnlFR0N5QUdJQXRxSWdkQkVIUkJFSFZCZ0VCclFmLy9BRXNOQlNBSUlBeHFJZ1pCRUhSQkVIVkJnQkJxUWY4ZlN3MEZJQUlnRGhBVUlnSkZEUVVnQUNBR093SENBU0FBSUFjN0FjQUJJQUFnQWpZQ2dBRWdBQ0FDTmdKNElBQWdEallDY0NBQUlBNDJBbWdnQUNBQUtBTEFBU0lHTmdLOEFTQUFJQVkyQXJnQklBQWdCallDdEFFZ0FDQUdOZ0tnQVNBQUlBWTJBcHdCSUFBZ0JqWUNtQUVnQUVHVUFXb2lBaUFHTmdJQUlCQWdBQ2dDZERZQ0NDQUZJQUJCaEFGcUlCQkJDR29nRlNBVVFRQkJBRUVJUVJBUURpQVFJQUFvQW5nMkFnZ2dCU0FDSUJCQkNHb2dGU0FVUVFoQkFFRUlRUkFRRGd3RUMwRUFJUWhCZnlFV0N5QVBJQk5HSWdzZ0V5QVdSbXBCQVVjRVFDQUtJQWNnQ2tFUWRFRVFkU0lMSUFkQkVIUkJFSFVpRGtvaUJ4c2lDaUFPSUFzZ0RpQUxJQTVJR3lBSEd5SUhJQWhCRUhVaUN5QUhJQXRLR3lBS1FSQjBRUkIxSUF0SUd5RUhJQWtnQmlBSlFSQjBRUkIxSWdvZ0JrRVFkRUVRZFNJTFNpSUdHeUlKUWYvL0EzRWdDeUFLSUFzZ0NpQUxTQnNnQmhzaUJpQUlRUkIwUVJCMUlnZ2dCaUFJU2hzZ0NVRVFkRUVRZFNBSVNCc2hCZ3dCQ3lBTERRQWdDRUVRZGlFSElBZ2hCZ3RCQVNFYklBWWdER29pQ0VFUWRFRVFkVUdBUUd0Qi8vOEFTdzBDSUFjZ0RXb2lCa0VRZEVFUWRVR0FFR3BCL3g5TERRSWdBaUFURUJRaUIwVU5BaUFBSUFZN0FhSUJJQUFnQ0RzQm9BRWdBQ0FITmdKMElBQWdFellDWkNBQUlBYzJBbmdnQUNBVE5nSm9JQUFnQUNnQ29BRWlEellDbkFFZ0FDQVBOZ0tZQVNBQUlBODJBcFFCSUFBZ0R6WUNrQUVnQUNBUE5nS01BU0FBSUE4MkFvZ0JJQUFnRHpZQ2hBRWdBU2dDbEFFaERpQUJMd0dtQVNFTklBRXZBYVFCSVF3Q2Z3SkFBa0FDUUNBQUtBTElBU0lHQkVBZ0JpZ0NCQ0FBS0FJRVJnUkFJQVlvQWdCQkJVMEVRQ0FHS0FLNEFTSUxRUkIySVFjZ0JpZ0NjQ0FPUncwRUlBc2hDUXdEQzBGL0lSSkJBQ0VKUVFBaEIwRUFJUXRCQUNFS0lBNUJmMFlOQWd3RUMwRi9JUkpCQUNFSlFRQWhCMEVBSVF0QkFDRUtJQTVCZjBZTkFRd0RDMEYvSVJKQkFDRUpRUUFoQjBFQUlRdEJBQ0VLSUE1QmYwY05BZ3NnQ1VILy93TnhJQWRCRUhSeURBSUxJQVlvQW1naEVpQUdLQUtnQVNFS0lBY2hDUXNnRDBFUWRpRUlJQTRnRTBZaUJpQU9JQkpHYWtFQlJ3UkFJQWdnQ1NBSlFSQjBRUkIxSWdrZ0NFRVFkRUVRZFVnaUJ4c2lDQ0FKSUE5QkVIVWlCaUFKSUFZZ0NVZ2JJQWNiSWdZZ0NrRVFkU0lISUFZZ0Iwb2JJQWhCRUhSQkVIVWdCMGdiSVFjZ0R5QUxJQXRCRUhSQkVIVWlDeUFQUVJCMFFSQjFJZ2xJSWdZYklnaEIvLzhEY1NBTElBa2dDeUFKSUF0SUd5QUdHeUlHSUFwQkVIUkJFSFVpQ1NBR0lBbEtHeUFJUVJCMFFSQjFJQWxJR3d3QkN5QUlJQXBCRUhZZ0Joc2hCeUFQSUFvZ0Joc0xJQXhxSWdoQkVIUkJFSFZCZ0VCclFmLy9BRXNOQWlBSElBMXFJZ1pCRUhSQkVIVkJnQkJxUWY4ZlN3MENJQUlnRGhBVUlnSkZEUUlnQUNBR093SENBU0FBSUFnN0FjQUJJQUFnQWpZQ2dBRWdBQ0FDTmdKOElBQWdEallDY0NBQUlBNDJBbXdnQUNBQUtBTEFBU0lHTmdLOEFTQUFJQVkyQXJnQklBQWdCallDdEFFZ0FDQUdOZ0t3QVNBQUlBWTJBcXdCSUFBZ0JqWUNxQUVnQUVHa0FXb2lBaUFHTmdJQUlCQWdBQ2dDZERZQ0NDQUZJQUJCaEFGcUlCQkJDR29nRlNBVVFRQkJBRUVRUVFnUURpQVFJQUFvQW53MkFnZ2dCU0FDSUJCQkNHb2dGU0FVUVFCQkNFRVFRUWdRRGd3QkN3SkFJQVpGQkVBZ0VrVUVRRUVBSVFrTUFnc2dGa1VFUUVFQUlRa01BZ3NnQ0VILy93TnhJQWRCRUhSeUlBMXlSUVJBUVFBaENRd0NDMEVBSVFrZ0VVSC8vd054SUFwQkVIUnlJQTl5UlEwQkN5QUJMd0dpQVNFTElBRXZBYUFCSVFrQ1FBSkFBa0FDUUFKQUlBQW9BdEFCSWdaRkRRQWdCaWdDQkNBT1J3MEFJQVlvQWdCQkJVME5BUXdDQ3dKQUlBQW9BdFFCSWdaRkRRQWdCaWdDQkNBT1J3MEFJQVlvQWdCQkJVc05BaUFHS0FKd0lSY2dCaWdDd0FFaERBd0RDMEYvSVJjZ0VrVU5BaUFXRFFJTUF3c2dCaWdDYkNFWElBWW9BcXdCSVF3TUFRdEJmeUVYQ3lBUElCTkdJZ1lnRFNBVFJpSU5haUFUSUJkR2FrRUJSd1JBSUFvZ0J5QUtRUkIwUVJCMUlnb2dCMEVRZEVFUWRTSU5TaUlHR3lJSElBMGdDaUFOSUFvZ0RVZ2JJQVliSWdZZ0RFRVFkU0lLSUFZZ0Nrb2JJQWRCRUhSQkVIVWdDa2diSVFjZ0VTQUlJQkZCRUhSQkVIVWlDaUFJUVJCMFFSQjFJZzFLSWdZYklnaEIvLzhEY1NBTklBb2dEU0FLSUExSUd5QUdHeUlHSUF4QkVIUkJFSFVpQ2lBR0lBcEtHeUFJUVJCMFFSQjFJQXBJR3lFSURBRUxJQWdnRVNBTkd5RUlJQWNnQ2lBTkd5RUhJQTBOQUNBR0RRQWdERUVRZGlFSElBd2hDQXRCQVNFYklBZ2dDV29pREVFUWRFRVFkVUdBUUd0Qi8vOEFTdzBDSUFjZ0Myb2lDVUVRZEVFUWRVR0FFR3BCL3g5TERRSUxJQUlnRXhBVUlnSkZCRUJCQVNFYkRBSUxJQUFnQ1RzQndnRWdBQ0FNT3dIQUFTQUFJQUkyQW5RZ0FDQVROZ0prSUFBZ0FqWUNnQUVnQUNBQ05nSjhJQUFnQWpZQ2VDQUFJQk0yQW5BZ0FDQVROZ0pzSUFBZ0V6WUNhQ0FBSUFBb0FzQUJJZ1kyQXJ3QklBQWdCallDdUFFZ0FDQUdOZ0swQVNBQUlBWTJBckFCSUFBZ0JqWUNyQUVnQUNBR05nS29BU0FBSUFZMkFxUUJJQUFnQmpZQ29BRWdBQ0FHTmdLY0FTQUFJQVkyQXBnQklBQWdCallDbEFFZ0FDQUdOZ0tRQVNBQUlBWTJBb3dCSUFBZ0JqWUNpQUVnQUNBR05nS0VBU0FRSUFJMkFnZ2dCU0FBUVlRQmFpQVFRUWhxSUJVZ0ZFRUFRUUJCRUVFUUVBNExRUUFoR3lBQUtBTEVBVUVCU3cwQUlBQW9BZ0FFUUNBRUlBTWdCU0FCUWNnQ2FoQllEQUVMSUFRZ0JSQWJDeUFRUVNCcUpBQWdHd3VUQ3dFUGZ5QUFLQUlBSWhFZ0FTQUJJQUFvQWdRaUNuQWlBV3NpQkVFSWRHb2dBVUVFZEdvaEJTQUtRUVIwSVFzZ0FDZ0NDQ0FLYkNJQVFRWjBJUVlnQVVFRGRDRUpJQUJCQ0hRaERDQUVRUVowSVJJZ0NrRUNkRUg4Ly8vL0EzRkJBblFoRUFOQUlBVWdEa0VDZENJQVFmQXBhaWdDQUNJQklBdHNhaUFBUWJBcGFpZ0NBQ0lBYWlFRUlBSWdBVUVFZEdvZ0FHb2hBQUpBSUFNZ0RrRUdkR29pQVNnQ0FDSUhRZi8vL3dkSEJFQWdBU2dDQkNFSUlBQXRBQUVoRFNBRUlBY2dBQzBBQUdwQnNDNXFMUUFBT2dBQUlBRW9BZ2doQnlBQUxRQUNJUThnQkNBSUlBMXFRYkF1YWkwQUFEb0FBU0FCS0FJTUlRZ2dBQzBBQXlFTklBUWdCeUFQYWtHd0xtb3RBQUE2QUFJZ0JDQUlJQTFxUWJBdWFpMEFBRG9BQXlBQktBSVVJUWNnQUMwQUVTRUlJQVFnQzJvaUJDQUJLQUlRSUFBdEFCQnFRYkF1YWkwQUFEb0FBQ0FCS0FJWUlRMGdBQzBBRWlFUElBUWdCeUFJYWtHd0xtb3RBQUE2QUFFZ0FTZ0NIQ0VISUFBdEFCTWhDQ0FFSUEwZ0QycEJzQzVxTFFBQU9nQUNJQVFnQnlBSWFrR3dMbW90QUFBNkFBTWdBU2dDSkNFSElBQXRBQ0VoQ0NBRUlBdHFJZ1FnQVNnQ0lDQUFMUUFnYWtHd0xtb3RBQUE2QUFBZ0FTZ0NLQ0VOSUFBdEFDSWhEeUFFSUFjZ0NHcEJzQzVxTFFBQU9nQUJJQUVvQWl3aEJ5QUFMUUFqSVFnZ0JDQU5JQTlxUWJBdWFpMEFBRG9BQWlBRUlBY2dDR3BCc0M1cUxRQUFPZ0FESUFFb0FqUWhCeUFBTFFBeElRZ2dCQ0FMYWlJRUlBRW9BakFnQUMwQU1HcEJzQzVxTFFBQU9nQUFJQUVvQWpnaERTQUFMUUF5SVE4Z0JDQUhJQWhxUWJBdWFpMEFBRG9BQVNBQktBSThJUUVnQUMwQU15RUFJQVFnRFNBUGFrR3dMbW90QUFBNkFBSWdCQ0FBSUFGcVFiQXVhaTBBQURvQUF3d0JDeUFBS0FJUUlRRWdCQ0FBS0FJQU5nSUFJQVFnRUdvaUJDQUJOZ0lBSUFBb0FqQWhBU0FFSUJCcUlnUWdBQ2dDSURZQ0FDQUVJQkJxSUFFMkFnQUxJQTVCQVdvaURrRVFSdzBBQ3lBTUlCRnFJQkpxSUFscUloQWdCbW9oRVNBS1FRTjBRZmovLy84SGNTSUxRUUoyUVFKMElRNUJFQ0VLQTBBZ0NrRUNkRUVNY1NJQVFmQXBhaWdDQUNJQklBdHNJQUJCc0NscUtBSUFJZ0JxSUJFZ0VDQUtRUk5MSWdVYmFpRUVJQUpCd0FKQmdBSWdCUnRxSUFGQkEzUWdBR3BxSVFBQ1FDQURJQXBCQm5ScUlnRW9BZ0FpQlVILy8vOEhSd1JBSUFFb0FnUWhCaUFBTFFBQklRa2dCQ0FGSUFBdEFBQnFRYkF1YWkwQUFEb0FBQ0FCS0FJSUlRVWdBQzBBQWlFTUlBUWdCaUFKYWtHd0xtb3RBQUE2QUFFZ0FTZ0NEQ0VHSUFBdEFBTWhDU0FFSUFVZ0RHcEJzQzVxTFFBQU9nQUNJQVFnQmlBSmFrR3dMbW90QUFBNkFBTWdBU2dDRkNFRklBQXRBQWtoQmlBRUlBdHFJZ1FnQVNnQ0VDQUFMUUFJYWtHd0xtb3RBQUE2QUFBZ0FTZ0NHQ0VKSUFBdEFBb2hEQ0FFSUFVZ0JtcEJzQzVxTFFBQU9nQUJJQUVvQWh3aEJTQUFMUUFMSVFZZ0JDQUpJQXhxUWJBdWFpMEFBRG9BQWlBRUlBVWdCbXBCc0M1cUxRQUFPZ0FESUFFb0FpUWhCU0FBTFFBUklRWWdCQ0FMYWlJRUlBRW9BaUFnQUMwQUVHcEJzQzVxTFFBQU9nQUFJQUVvQWlnaENTQUFMUUFTSVF3Z0JDQUZJQVpxUWJBdWFpMEFBRG9BQVNBQktBSXNJUVVnQUMwQUV5RUdJQVFnQ1NBTWFrR3dMbW90QUFBNkFBSWdCQ0FGSUFacVFiQXVhaTBBQURvQUF5QUJLQUkwSVFVZ0FDMEFHU0VHSUFRZ0Myb2lCQ0FCS0FJd0lBQXRBQmhxUWJBdWFpMEFBRG9BQUNBQktBSTRJUWtnQUMwQUdpRU1JQVFnQlNBR2FrR3dMbW90QUFBNkFBRWdBU2dDUENFQklBQXRBQnNoQUNBRUlBa2dER3BCc0M1cUxRQUFPZ0FDSUFRZ0FDQUJha0d3TG1vdEFBQTZBQU1NQVFzZ0FDZ0NDQ0VCSUFRZ0FDZ0NBRFlDQUNBRUlBNXFJZ1FnQVRZQ0FDQUFLQUlZSVFFZ0JDQU9haUlFSUFBb0FoQTJBZ0FnQkNBT2FpQUJOZ0lBQ3lBS1FRRnFJZ3BCR0VjTkFBc0w1Z0VCQjM4Q1FDQUFLQUlBSWdWRkRRQWdBRUVCTmdJOElBQW9BamdOQUNBQUtBSWNJUVpCLy8vLy93Y2hBZ05BQTBBZ0JTQURRU2hzYWlJRUtBSVlCRUFnQkNBQklBUW9BaEFpQkNBQ1NDSUhHeUVCSUFRZ0FpQUhHeUVDQ3lBRFFRRnFJZ01nQmswTkFDQUJSUTBDSUFBb0Fnd2dBQ2dDRUNJRFFRUjBhaUlDSUFFb0FnQTJBZ0FnQWlBQktBSWtOZ0lNSUFJZ0FTZ0NIRFlDQkNBQ0lBRW9BaUEyQWdnZ0FDQURRUUZxTmdJUVFRQWhBeUFCUVFBMkFoZ2dBU2dDRkNFRVFRQWhBVUgvLy8vL0J5RUNJQVFOQUFzZ0FDQUFLQUlzUVg5cU5nSXNEQUFBQ3dBTEM5d0dBUXAvSUFCQ0FEY0NFQUpBQWtBQ1FDQURSUTBBQWtBQ1FDQUJJQUFvQWpBaUEwY0VRQ0FEUVFGcUlBQW9BaUFpQkhBaUNTQUJSZzBCSUFBb0FnQWdBQ2dDSEVFb2JHb29BZ0FoQ3dOQUFrQUNRQ0FBS0FJb0lnY0VRQ0FBS0FJQUlRaEJBQ0VEQTBBZ0NDQURRU2hzYWlJRktBSVVRWDlxUVFGTkJFQWdCU0FGS0FJTUlnVWdCRUVBSUFVZ0NVc2JhellDQ0FzZ0EwRUJhaUlESUFkSERRQUxJQWNnQUNnQ0dFa05Ba0YvSVFWQkFDRURRUUFoQkFOQUlBZ2dBMEVvYkdvaUJpZ0NGRUYvYWtFQlRRUkFJQVlvQWdnaUJpQUVJQVZCZjBZZ0JpQUVTSElpQmhzaEJDQURJQVVnQmhzaEJRc2dBMEVCYWlJRElBZEhEUUFMSUFWQkFFNE5BVUVCRHd0QkFDRUhJQUFvQWhnTkFVRUJEd3NnQ0NBRlFTaHNhaUlEUVFBMkFoUWdBQ0FIUVg5cUlnYzJBaWdnQXlnQ0dBMEFJQUFnQUNnQ0xFRi9hallDTEFzZ0FDZ0NMQ0lGSUFBb0Fod2lDRThFUUNBQUtBSTREUVlnQUNnQ0FDRU1BMEJCQUNFRVFmLy8vLzhISVFaQkFDRURBMEFnRENBRFFTaHNhaUlLS0FJWUJFQWdDaUFFSUFvb0FoQWlDaUFHU0NJTkd5RUVJQW9nQmlBTkd5RUdDeUFEUVFGcUlnTWdDRTBOQUFzQ1FDQUVSUTBBSUFBb0Fnd2dBQ2dDRUNJR1FRUjBhaUlESUFRb0FnQTJBZ0FnQXlBRUtBSWtOZ0lNSUFNZ0JDZ0NIRFlDQkNBRElBUW9BaUEyQWdnZ0FDQUdRUUZxTmdJUUlBUkJBRFlDR0NBRUtBSVVEUUFnQUNBRlFYOXFJZ1UyQWl3TElBVWdDRThOQUFzTElBQW9BZ0FpQkNBSVFTaHNhaUlESUFrMkFnd2dBMEtBZ0lDQUVEY0NFQ0FEUVFBMkFoZ2dBeUFKTmdJSUlBQWdCMEVCYWpZQ0tDQUFJQVZCQVdvMkFpd2dCQ0FJUVFGcUVDY2dDVUVCYWlBQUtBSWdJZ1J3SWdrZ0FVY05BQXNDUUNBQUtBSVFJZ2xGRFFBZ0FDZ0NBQ0lGSUFBb0Fod2lCRUVvYkdvaUNDZ0NBQ0VISUFBb0Fnd2hCa0VBSVFNRFFDQUhJQVlnQTBFRWRHb29BZ0JIQkVBZ0NTQURRUUZxSWdOSERRRU1BZ3NMSUFSRkRRQkJBQ0VEQTBBZ0N5QUZJQU5CS0d4cUlna29BZ0JIQkVBZ0JDQURRUUZxSWdOSERRRU1BZ3NMSUFrZ0J6WUNBQ0FJSUFzMkFnQUxJQUlOQlNBQUtBSXdJUU1NQWdzZ0FrRUFSdzhMSUFJTkF3c2dBU0FEUmcwQUlBQWdBU0FBS0FJZ0lnQnFRWDlxSUFCd05nSXdDMEVBRHdzRFFBd0FBQXNBQ3lBQUlBRTJBakJCQUF0MUFRTi9Ba0FnQUNnQ0FDSUJSUTBBSUFBb0FoeEJmMFlOQUFOQUlBRWdBa0VvYkNJRGFpZ0NCQkFFSUFBb0FnQWlBU0FEYWtFQU5nSUVJQUpCQVdvaUFpQUFLQUljUVFGcVNRMEFDd3NnQVJBRUlBQkJBRFlDQUNBQUtBSUVFQVFnQUVFQU5nSUVJQUFvQWd3UUJDQUFRUUEyQWd3TGd3RUJBMzhDUUNBQUtBSUFJZ1pGRFFBZ0FDZ0NIRUYvUmcwQUEwQWdCaUFIUVNoc0lnaHFLQUlFRUFRZ0FDZ0NBQ0lHSUFocVFRQTJBZ1FnQjBFQmFpSUhJQUFvQWh4QkFXcEpEUUFMQ3lBR0VBUWdBRUVBTmdJQUlBQW9BZ1FRQkNBQVFRQTJBZ1FnQUNnQ0RCQUVJQUJCQURZQ0RDQUFJQUVnQWlBRElBUWdCUkJkQzRBQ0FRSi9JQUFnQlRZQ09DQUFJQVEyQWlBZ0FFTC8vd00zQWlRZ0FFSUFOd0lzSUFBZ0EwRUJJQU5CQVVzYklnTTJBaGdnQUNBRElBSWdCUnNpQWpZQ0hDQUFRYWdGRUFvaUF6WUNBRUgvL3dNaEJBSkFJQU5GRFFCQkFDRUZJQU5CQUVHb0JSQUhJUVlnQWtGL1J3UkFJQUZCZ0FOc1FTOXlJUVZCQUNFREEwQWdCaUFEUVNoc2FpSUhJQVVRQ2lJQk5nSUVJQUZGRFFJZ0J5QUJRUUFnQVd0QkQzRnFOZ0lBSUFNZ0Fra2hBU0FEUVFGcUlRTWdBUTBBQ3lBQ1FRUjBRUkJxSVFVTElBQkJ4QUFRQ2lJQk5nSUVJQUFnQlJBS0lnSTJBZ3dnQWtVTkFDQUJSUTBBUVFBaEJDQUJRUUJCeEFBUUJ4b2dBRUlBTndJUUN5QUVDOU1CQVFkL1FRRWhBUUpBSUFBb0FqZ05BQ0FBS0FJY0lRVWdBQ2dDQUNFR1FmLy8vLzhISVFOQkFDRUJBMEFnQmlBQlFTaHNhaUlFS0FJWUJFQWdCQ0FDSUFRb0FoQWlCQ0FEU0NJSEd5RUNJQVFnQXlBSEd5RURDeUFCUVFGcUlnRWdCVTBOQUFzZ0FrVUVRRUVCRHdzZ0FDZ0NEQ0FBS0FJUUlnTkJCSFJxSWdFZ0FpZ0NBRFlDQUNBQklBSW9BaVEyQWd3Z0FTQUNLQUljTmdJRUlBRWdBaWdDSURZQ0NDQUFJQU5CQVdvMkFoQkJBQ0VCSUFKQkFEWUNHQ0FDS0FJVURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3lBQkMvVUVBUWgvSUFBb0FpZ2lCQVJBSUFBb0FnQWhCd05BSUFjZ0JVRW9iR29pQmlnQ0ZFRi9ha0VCVFFSQUlBWWdCaWdDRENJSUlBSkxCSDhnQ0NBQUtBSWdhd1VnQ0FzMkFnZ0xJQVZCQVdvaUJTQUVSdzBBQ3d0QkFDRUVBa0FnQVNnQ0FFVU5BQ0FCS0FJRUlnVkJBa3NOQUVFQUlRY2dBaUVHQTBBQ1FBSkFBa0FnQlVFQ1J3UkFJQUVnQjBFTWJHb29BZ2doQkFKQUlBVkZCRUFnQmlBRWF5SUdRWDlLRFFFZ0FDZ0NJQ0FHYWlFR0RBRUxJQVFnQm1vaUJrRUFJQUFvQWlBaUJTQUdJQVZJRzJzaEJnc2dCaUVKSUFZZ0Frc0VRQ0FHSUFBb0FpQnJJUWtMSUFBb0FoZ2lDa1VFUUVFQkR3c2dBQ2dDQUNFSVFRQWhCUU5BSUFnZ0JVRW9iR29pQkNnQ0ZDSUxRWDlxUVFGTkJFQWdCQ2dDQ0NBSlJnMERDMEVCSVFRZ0JVRUJhaUlGSUFwSERRQUxEQVVMUVFFaEJDQUFLQUlZSWdsRkRRUWdBU0FIUVF4c2FpZ0NEQ0VLSUFBb0FnQWhDRUVBSVFVRFFDQUlJQVZCS0d4cUlnUW9BaFJCQTBZRVFDQUVLQUlJSUFwR0RRTUxRUUVoQkNBRlFRRnFJZ1VnQ1VjTkFBc01CQXNnQlVFQVNBUkFRUUVQQzBFQklRUWdDMEVCU3cwQkRBTUxRUUVoQkNBRlFRQklEUUlMSUFjZ0F5SUVTUVJBQTBBZ0FDZ0NCQ0lKSUFSQkFuUnFJQWtnQkVGL2FpSUVRUUowYWlnQ0FEWUNBQ0FFSUFkTERRQUxJQUFvQWdBaENBc2dBQ2dDQkNBSFFRSjBhaUFJSUFWQktHd2lDV28yQWdBZ0IwRUJhaUlISVFRZ0J5SUZJQU5OQkVBRFFDQUFLQUlFSWdnZ0JVRUNkR29vQWdBaUNpQUFLQUlBSUFscVJ3UkFJQWdnQkVFQ2RHb2dDallDQUNBRVFRRnFJUVFMSUFWQkFXb2lCU0FEVFEwQUN3dEJBQ0VFSUFFZ0IwRU1iR29vQWdRaUJVRURTUTBBQ3dzZ0JBc0hBRUhFR2hBS0M3Y0JBUUovSXdCQkVHc2lCaVFBSUFaQkFEWUNEQ0FBSUFFZ0FpQUdRUXhxRUNvaUIwRjljVVVFUUFOQUlBQWdBU0FHS0FJTUlnZHFJZ0VnQWlBSGF5SUNJQVpCREdvUUtpSUhRWDF4UlEwQUN3c2dCMEVCUmdSQUlBUWdBQ2dDRUNJQktBSTBRUVIwTmdJQUlBVWdBU2dDT0VFRWREWUNBQ0FESUFCQnhBbHFJZ0FvQWhRaUFTQUFLQUlRU1FSL0lBQWdBVUVCYWpZQ0ZDQUFLQUlNSUFGQkJIUnFCVUVBQ3lnQ0FEWUNBQXNnQmtFUWFpUUFJQWNMU1FFQmZ5QUFRUUJCeEJvUUJ5SUNRYlFLYWtFQk5nSUFJQUpDZ0lLQWdJQUVOd0lFSUFCQndCQVFDaUlDTmdLd0dpQUNSUVJBUVFFUEN5QUJCRUFnQUVFQk5nTEFDUXRCQUF1NkJBRUpmd0pBQWtBZ0FVRUVTUTBBSUFBdEFBQU5BQ0FBTFFBQkRRQWdBQzBBQWlJSFFRRkxEUUJCQXlFRUlBQkJBMm9oQlVFQ0lRaEJmU0VNQWtBRFFDQUZJUVlDZnlBSVFRRnFJQWRCL3dGeElnVkZEUUFhUVFBaEJ5QUZRUUZHUVFBZ0NFRUJTeHNOQWtFQUN5RUlJQVJCZjNNaERDQUdRUUZxSVFVZ0JpMEFBQ0VISUFSQkFXb2lCQ0FCUncwQUN5QURJQUUyQWdCQkFROExJQVFoQ2tFQUlRaEJBQ0VGQTBCQkFTQUlJQWNnQmkwQUFDSUxSV29pQ1VFQ1Joc2dDQ0FMUVFOR0d5RUlJQXBCQVdvaENnSkFJQXRCQVVjTkFDQUpRUUpKRFFBZ0FpQUtJQXhxSUFsQmYzTnFJZ0UyQWd4QkFDQUpRWDFxSWdZZ0JpQUpTeHNoQnd3REMwRUFJQWtnQ3hzaEIwRUJJQVVnQ1VFQ1N4c2dCU0FMR3lFRklBWkJBV29oQmlBQklBcEhEUUFMSUFJZ0FTQU1haUFIYXlJQk5nSU1EQUVMSUFJZ0FUWUNERUVCSVFoQkFDRUhDeUFDUVFBMkFoQWdBa0VBTmdJSUlBSWdBQ0FFYWlJQU5nSUVJQUlnQURZQ0FDQURJQVFnQjJvZ0FXbzJBZ0JCQVNFREFrQWdCUTBBUVFBaEF5QUlSUTBBSUFJQ2Z5QUNLQUlNSWdGRkJFQWdBQ0VFUVFBTUFRc2dBQ0VFUVFBaEJnTkFJQUZCZjJvaEFTQUVMUUFBSVFVQ2Z3SkFJQVpCQWtjTkFDQUZRUU5HQkVBZ0FVVUVRRUVCRHdzZ0JDMEFBVUVEU3dSQVFRRVBDMEVBSVFZZ0JFRUJhZ3dDQ3lBRlFRTlBEUUJCQVE4TElBQWdCVG9BQUVFQUlBWkJBV29nQlJzaEJpQUFRUUZxSVFBZ0JFRUJhZ3NoQkNBQkRRQUxJQUlvQWd3TElBQWdCR3RxTmdJTUN5QURDd3Z0TWhrQVFZWUlDOG9GWmlBbUVBWUlaUmhsR0VNUVF4QkRFRU1RUXhCREVFTVFReEFpQ0NJSUlnZ2lDQ0lJSWdnaUNDSUlJZ2dpQ0NJSUlnZ2lDQ0lJSWdnaUNBQUFBQUFBQUFBQWFrQktNQ29vQ2lCcE9HazRTU2hKS0NrZ0tTQUpHQWtZYURCb01HZ3dhREJJSUVnZ1NDQklJQ2dZS0Jnb0dDZ1lDQkFJRUFnUUNCQm5LR2NvWnlobktHY29aeWhuS0djb1J4aEhHRWNZUnhoSEdFY1lSeGhIR0c1Z1RsZ3VVQTVRYmxoT1VDNUlEa2dOUUExQVRVaE5TQzFBTFVBTk9BMDRiVkJ0VUUxQVRVQXRPQzA0RFRBTk1HdElhMGhyU0d0SWEwaHJTR3RJYTBoTE9FczRTemhMT0VzNFN6aExPRXM0S3pBck1Dc3dLekFyTUNzd0t6QXJNQXNvQ3lnTEtBc29DeWdMS0Fzb0N5Z0FBQUFBTDJndmFCQ0FVSUF3Z0JCNGNJQlFlREI0RUhCd2VGQndNSEFRYUc5d2IzQlBhRTlvTDJBdllBOWdEMkJ2YUc5b1QyQlBZQzlZTDFnUFdBOVlBQUFBQUFBQUFBQm1PRVlnSmlBR0VHWXdSaGdtR0FZSVpTaGxLQ1VRSlJCa0lHUWdaQ0JrSUdRWVpCaGtHR1FZUXhCREVFTVFReEJERUVNUVF4QkRFQUFBQUFBQUFBQUFhVWhKT0NrNENUQUlLQWdvU0RCSU1DZ3dLREFJSUFnZ1owQm5RR2RBWjBCSEtFY29SeWhIS0Njb0p5Z25LQ2NvQnhnSEdBY1lCeGdBQUFBQWJYaHRlRzZBVG9BdWdBNkFMbmdPZUU1NExuQk5jRTF3RFhBTmNHMXdiWEJOYUUxb0xXZ3RhQTFvRFdodGFHMW9UV0JOWUMxZ0xXQU5ZQTFnREZnTVdBeFlERmhNV0V4WVRGaE1XQ3hZTEZnc1dDeFlERkFNVUF4UURGQnNZR3hnYkdCc1lFeFFURkJNVUV4UUxGQXNVQ3hRTEZBTVNBeElERWdNU0d0WWExaHJXR3RZYTFocldHdFlhMWhMU0V0SVMwaExTRXRJUzBoTFNFdElLMGdyU0N0SUswZ3JTQ3RJSzBnclNBdEFDMEFMUUF0QUMwQUxRQXRBQzBCclVHdFFhMUJyVUd0UWExQnJVR3RRUzBCTFFFdEFTMEJMUUV0QVMwQkxRQ3RBSzBBclFDdEFLMEFyUUN0QUswQUxPQXM0Q3pnTE9BczRDemdMT0FzNEFFSGdEUXV1Q1FZWVJqZ21PQVlRWmtoR01DWXdCZ2dsS0NVb1JTaEZLQ1VnSlNCRklFVWdKUmdsR0dWQVpVQkZHRVVZSlJBbEVHUTRaRGhrT0dRNFpEQmtNR1F3WkRCa0tHUW9aQ2hrS0dRZ1pDQmtJR1FnWkJoa0dHUVlaQmhFRUVRUVJCQkVFQ1FJSkFna0NDUUlCQUFFQUFRQUJBQUFBQXFBYW9CS2dDcUFDbmhxZUVwNEtuZ0tjR3B3U25BcWNBcG9LV2dwYUFsZ0NXQkphRWxvS1dBcFlBbFlDVmhwYUdsb1NXQkpZQ2xZS1ZnSlVBbFFhR0JvWUdoZ2FHQklXRWhZU0ZoSVdDaFFLRkFvVUNoUUNFZ0lTQWhJQ0Vob1dHaFlhRmhvV0VoUVNGQklVRWhRS0Vnb1NDaElLRWdJUUFoQUNFQUlRQWM0QnpnSE9BYzRCemdIT0FjNEJ6Z0hNQWN3QnpBSE1BY3dCekFITUFjd1IwaEhTRWRJUjBoSFNFZElSMGhIU0Fjb0J5Z0hLQWNvQnlnSEtBY29CeWhuVUdkUVoxQm5VR2RRWjFCblVHZFFSMEJIUUVkQVIwQkhRRWRBUjBCSFFDZEFKMEFuUUNkQUowQW5RQ2RBSjBBSElBY2dCeUFISUFjZ0J5QUhJQWNnQmdnbUNBQUFCZ0FHRUNZUVJoQUFBQVlZSmhoR0dHWVlCaUFtSUVZZ1ppQUdLQ1lvUmlobUtBWXdKakJHTUdZd0JqZ21PRVk0WmpnR1FDWkFSa0JtUUFaSUpraEdTR1pJQmxBbVVFWlFabEFHV0NaWVJsaG1XQVpnSm1CR1lHWmdCbWdtYUVab1ptZ0djQ1p3Um5CbWNBWjRKbmhHZUdaNEJvQW1nRWFBWm9BQUFFTVFBZ0FDQUNFSUlRZ2hDQ0VJWnlCbklFZ2dLQ0JIR0VjWUp4Z25HQVlnQmlBR0lBWWdCaGdHR0FZWUJoZ0dFQVlRQmhBR0VHWVlaaGhtR0dZWUpoQW1FQ1lRSmhBR0NBWUlCZ2dHQ0FBQVpWVkVSRFEwSXlNakl4TVRFeE1CQVFFQkFRRUJBUUVCQVFFQkFRRUJBUG5wMmNqSXVMaW5wNmVubDVlWGw0YUdob2FHaG9hR2RuWjJkbloyZG5ibTFzYTJwYVdWbFlTRWhJUjBkSFIwWkdSa1pGUlVWRlJEUTBORFEwTkRRek16TXpNek16TXpJeU1qSXlNakl5TVRFeE1URXhNVEV3TURBd01EQXdNRDFyYkZ4YVdsbFpXRWhJU0VWRlJVVkVSRVJFUUVCQVFFYzNOemMzTnpjM05qWTJOalkyTmpZek16TXpNek16TXpJeU1qSXlNakl5TVRFeE1URXhNVEU4VzFwUVdVbEhSME5EUWtKSU9EZzROalkyTmpVMU5UVTBORFEwTVRFeE1UdFpXa3BJU0VKQ1FVRkFRRWMzTnpjMk5qWTJOVFUxTlRRME5EUXpNek16T21CaFVWaElTRWhKT1RrNU9UazVPVGMzTnpjM056YzNOalkyTmpZMk5qWTFOVFUxTlRVMU5UUTBORFEwTkRRME16TXpNek16TXpNeU1qSXlNakl5TWpsZ1lWRlhSMGRIU0RnNE9EZzRPRGcyTmpZMk5qWTJOalEwTkRRME5EUTBNek16TXpNek16TXlNakl5TWpJeU1qVWxKU1VsSlNVbEpTVWxKU1VsSlNVb1lHSlNVVUZCUVVjM056YzNOemMzTmpZMk5qWTJOall6TXpNek16TXpNelVsSlNVbEpTVWxKU1VsSlNVbEpTVWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0lXQm5WMUpDUWtKRk5UVTFOVFUxTlRZbUppWW1KaVltSmlZbUppWW1KaVlrSkNRa0pDUWtKQ1FrSkNRa0pDUWtJeU1qSXlNakl5TWpJeU1qSXlNakl5RlFWa1pDTWpJeU5TVWxKU1VsSlNVa0pDUWtKQ1FrSkNNakl5TWpJeU1qSUVGQ01qTXpOVFUwRkJRVUZCUVVGQkJCUkRReUlpSWlJeE1URXhNVEV4TVFNVE1qSWhJU0VoQWhJaElSRUJJaElCQVRJaUVnSkRNeUlpRWhJQ0FsTkRNeU1TRWdJQ0V5TkRNMk5UQWdJQVFhQVhDeVFFQkFVR0J3Z0pDZ3dORHhFVUZoa2NJQ1FvTFRJNFAwZFFXbVZ4ZjVDaXRzdmkvLzhBUWVBWEN5UUNBZ0lEQXdNREJBUUVCZ1lIQndnSUNRa0tDZ3NMREF3TkRRNE9EdzhRRUJFUkVoSUFRY1VZQzRRQkFRQUFBUUFBQVFBQUFRQUJBUUFCQVFFQkFRRUJBUUVCQVFFQkFRRUJBZ0VCQWdFQkFnRUJBZ0VDQXdFQ0F3SUNBd0lDQkFJREJBSURCQU1EQlFNRUJnTUVCZ1FGQndRRkNBUUdDUVVIQ2dZSUN3WUlEUWNLRGdnTEVBa01FZ29ORkFzUEZ3MFJHUUFBQUFBQUFBQUFCUUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUVIVUdRc1ZCUUFBQUFBQUFBQUhBQUFBL3dBQUFBQUFBQUQvQUVIMEdRc1ZCUUFBQUFRQUFBQUFBQUFBL3dBQUFBQUFBQUQvQUVHVUdnc0ZCUUFBQUFRQVFhUWFDNlVCQndBQUFBUUFBQUFDQUFBQUJBQUFBQUVBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUFRQUFBQVFBQUFBREFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFCQUFBQUJBQUFBQVFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBRUFBQUFFQUFBQUJBQUFBQVFBQUFBREFBQUFCQUFBQUFZQUFBQUFBQUFBRFFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FFSFVHd3NWRFFBQUFBQUFBQUFQQUFBQS93QUFBQUFBQUFEL0FFSDBHd3NWRFFBQUFBUUFBQUFJQUFBQS93QUFBQUFBQUFEL0FFR1VIQXUxQ3cwQUFBQUVBQUFBQ0FBQUFBQUFBQUFQQUFBQUJBQUFBQW9BQUFBRUFBQUFDUUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQVFBQUFBSkFBQUFCQUFBQUFzQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUJBQUFBQWtBQUFBRUFBQUFEQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUNRQUFBQVFBQUFBTUFBQUFCQUFBQUFzQUFBQUVBQUFBRGdBQUFBRUFBQUFLQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBb0FBQUFFQUFBQUFBQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQ2dBQUFBRUFBQUFMQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFFQUFBQUtBQUFBQVFBQUFBc0FBQUFFQUFBQUFBQUFBQVFBQUFBQkFBQUFBUUFBQUE0QUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFEZ0FBQUFRQUFBQUVBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQUVBQUFBT0FBQUFBUUFBQUE4QUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUFRQUFBQTRBQUFBQkFBQUFEd0FBQUFRQUFBQUVBQUFBQkFBQUFBVUFBQUFFQUFBQUFnQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFDQUFBQUJBQUFBQWdBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBSUFBQUFFQUFBQUF3QUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUVBQUFBQWdBQUFBUUFBQUFEQUFBQUJBQUFBQWdBQUFBRUFBQUFDUUFBQUFRQUFBQUdBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFCQUFBQUFZQUFBQUVBQUFBREFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBRUFBQUFCZ0FBQUFRQUFBQUhBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQVFBQUFBR0FBQUFCQUFBQUFjQUFBQUVBQUFBREFBQUFBUUFBQUFOQUFBQUFRQUFBQTRBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFCQUFBQURnQUFBUDhBQUFBRUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBRUFBQUFMQUFBQUFRQUFBQTRBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBc0FBQUFCQUFBQURnQUFBQVFBQUFBQkFBQUEvd0FBQUFRQUFBQUNBQUFBQ2dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFJQUFBQUtBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFBUUFBQUE4QUFBQUNBQUFBQ2dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFEd0FBQUFJQUFBQUtBQUFBQkFBQUFBVUFBQUQvQUFBQUFBQUFBQVFBQUFBR0FBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUJBQUFBQVlBQUFEL0FBQUFEQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUF3QUFBQVFBQUFBR0FBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFEQUFBQUJBQUFBQVlBQUFBRUFBQUFDUUFBQVA4QUFBQU1BQUFBL3dBQUFBSUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQWdBQUFQOEFBQUFJQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFRQUFBQUhBQUFBL3dBQUFBSUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFCQUFBQUFjQUFBRC9BQUFBQWdBQUFBUUFBQUFOQUFBQS93QUFBQWdBQUFBREFBQUFEd0FBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQU1BQUFBUEFBQUFBQUFBQUFVQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUF3QUFBQThBQUFBQkFBQUFDZ0FBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFEQUFBQUR3QUFBQUVBQUFBS0FBQUFBQUFBQUFVQUFBQUVBQUFBQUFBQUFBRUFBQUFMQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBc0FBQUFFQUFBQUFRQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQ3dBQUFBRUFBQUFPQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFFQUFBQUxBQUFBQVFBQUFBNEFBQUFFQUFBQUFRQUFBQVFBQUFBRUFBQUFBQUFBQUFjQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQS93QkIxQ2NMRlFjQUFBQUFBQUFBRFFBQUFQOEFBQUFBQUFBQS93QkI5Q2NMRlFjQUFBQUVBQUFBQWdBQUFQOEFBQUFBQUFBQS93QkJsQ2dMMlFFSEFBQUFCQUFBQUFJQUFBQUFBQUFBRFFBQUFBUUFBQUFJQUFBQUJBQUFBQU1BQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUF3QUFBQVFBQUFBSkFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFEQUFBQUJBQUFBQVlBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBTUFBQUFFQUFBQUJnQUFBQVFBQUFBSkFBQUFCQUFBQUF3QUFBQUFBQUFBQkFBQUFBQUFBQUFFQUFBQUNBQUFBQXdBQUFBSUFBQUFEQUFBQUFBQUFBQUVBQUFBQUFBQUFBUUFBQUFJQUFBQURBQUFBQWdBQUFBTUFFSDRLUXNGQkFBQUFBUUFRWWdxQ3lVRUFBQUFCQUFBQUFnQUFBQUlBQUFBREFBQUFBd0FBQUFJQUFBQUNBQUFBQXdBQUFBTUFFR3hMZ3ZJQmdFQ0F3UUZCZ2NJQ1FvTERBME9EeEFSRWhNVUZSWVhHQmthR3h3ZEhoOGdJU0lqSkNVbUp5Z3BLaXNzTFM0dk1ERXlNelExTmpjNE9UbzdQRDArUDBCQlFrTkVSVVpIU0VsS1MweE5UazlRVVZKVFZGVldWMWhaV2x0Y1hWNWZZR0ZpWTJSbFptZG9hV3ByYkcxdWIzQnhjbk4wZFhaM2VIbDZlM3g5Zm4rQWdZS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2s1U1ZscGVZbVpxYm5KMmVuNkNob3FPa3BhYW5xS21xcTZ5dHJxK3dzYkt6dExXMnQ3aTV1cnU4dmI2L3dNSEN3OFRGeHNmSXljckx6TTNPejlEUjB0UFUxZGJYMk5uYTI5emQzdC9nNGVMajVPWG01K2pwNnV2czdlN3Y4UEh5OC9UMTl2ZjQrZnI3L1AzKy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0FBQUFBQUVBQUFBRUFBQUFCUUFBQUFJQUFBQURBQUFBQmdBQUFBY0FBQUFJQUFBQUNRQUFBQXdBQUFBTkFBQUFDZ0FBQUFzQUFBQU9BQUFBRHdBQUFBQUFBQUFCQUFBQUFRQkJoRFVMSVFFQUFBQUJBQUFBQVFBQUFBRUFBQUFDQUFBQUFnQUFBQUVBQUFBQ0FBQUFBZ0JCdERVTEJRVUFBQUFFQUVIRU5RdkpCZ2NBQUFBRUFBQUFBZ0FBQUFRQUFBQUJBQUFBQkFBQUFBUUFBQUFFQUFBQUF3QUFBQVFBQUFBR0FBQUFBQUFBQUEwQUFBQUVBQUFBQ0FBQUFBQUFBQUFQQUFBQUJBQUFBQW9BQUFBRUFBQUFDUUFBQUFRQUFBQU1BQUFBQkFBQUFBc0FBQUFFQUFBQURnQUFBQUFBQUFBUkFBQUFCQUFBQUJBQUFBQUFBQUFBRXdBQUFBUUFBQUFTQUFBQUFBQUFBQlVBQUFBRUFBQUFGQUFBQUFBQUFBQVhBQUFBQkFBQUFCWUFBQUFCQUFBQUNnQUFBQUVBQUFBTEFBQUFCQUFBQUFBQUFBQUVBQUFBQVFBQUFBRUFBQUFPQUFBQUFRQUFBQThBQUFBRUFBQUFCQUFBQUFRQUFBQUZBQUFBQkFBQUFBSUFBQUFFQUFBQUF3QUFBQVFBQUFBSUFBQUFCQUFBQUFrQUFBQUVBQUFBQmdBQUFBUUFBQUFIQUFBQUJBQUFBQXdBQUFBRUFBQUFEUUFBQUFFQUFBQVNBQUFBQVFBQUFCTUFBQUFFQUFBQUVBQUFBQVFBQUFBUkFBQUFBUUFBQUJZQUFBQUJBQUFBRndBQUFBUUFBQUFVQUFBQUJBQUFBQlVBQUFBQkFBQUFDd0FBQUFFQUFBQU9BQUFBQkFBQUFBRUFBQUQvQUFBQUJBQUFBQUVBQUFBUEFBQUFBZ0FBQUFvQUFBQUVBQUFBQlFBQUFQOEFBQUFBQUFBQUJBQUFBQU1BQUFBRUFBQUFCZ0FBQUFRQUFBQUpBQUFBL3dBQUFBd0FBQUFFQUFBQUJ3QUFBUDhBQUFBQ0FBQUFCQUFBQUEwQUFBRC9BQUFBQ0FBQUFBRUFBQUFUQUFBQUFnQUFBQklBQUFBRUFBQUFFUUFBQVA4QUFBQVFBQUFBQVFBQUFCY0FBQUFDQUFBQUZnQUFBQVFBQUFBVkFBQUEvd0FBQUJRQUFBQURBQUFBRHdBQUFBRUFBQUFLQUFBQUFBQUFBQVVBQUFBRUFBQUFBQUFBQUFFQUFBQUxBQUFBQVFBQUFBNEFBQUFFQUFBQUFRQUFBQVFBQUFBRUFBQUFBQUFBQUFjQUFBQUVBQUFBQWdBQUFBQUFBQUFOQUFBQUJBQUFBQWdBQUFBRUFBQUFBd0FBQUFRQUFBQUdBQUFBQkFBQUFBa0FBQUFFQUFBQURBQUFBQU1BQUFBVEFBQUFBUUFBQUJJQUFBQUFBQUFBRVFBQUFBUUFBQUFRQUFBQUF3QUFBQmNBQUFBQkFBQUFGZ0FBQUFBQUFBQVZBQUFBQkFBQUFCUUFBQUFCQUFBQUFRQUFBQUlBQUFBQ0FBQUFBd0FBQUFNQUFBQURBQUFBQXdBQUFBQUFBQUFCQUFBQUFnQUFBQU1BQUFBRUFBQUFCUUFBQUFZQUFBQUhBQUFBQ0FBQUFBa0FBQUFLQUFBQUN3QUFBQXdBQUFBTkFBQUFEZ0FBQUE4QVFaWThDeTRCQVFFQkFRRUNBZ0lDQWdJREF3TURBd01FQkFRRUJBUUZCUVVGQlFVR0JnWUdCZ1lIQndjSEJ3Y0lDQWdJQUVIUVBBdEZDZ0FBQUEwQUFBQVFBQUFBQ3dBQUFBNEFBQUFTQUFBQURRQUFBQkFBQUFBVUFBQUFEZ0FBQUJJQUFBQVhBQUFBRUFBQUFCUUFBQUFaQUFBQUVnQUFBQmNBQUFBZEFFR2hQUXN6QVFJREJBVUFBUUlEQkFVQUFRSURCQVVBQVFJREJBVUFBUUlEQkFVQUFRSURCQVVBQVFJREJBVUFBUUlEQkFVQUFRSURBRUhrUFF2TUFnRUFBQUFDQUFBQUF3QUFBQVFBQUFBRkFBQUFCZ0FBQUFjQUFBQUlBQUFBQ1FBQUFBb0FBQUFMQUFBQURBQUFBQTBBQUFBT0FBQUFEd0FBQUJBQUFBQVJBQUFBRWdBQUFCTUFBQUFVQUFBQUZRQUFBQllBQUFBWEFBQUFHQUFBQUJrQUFBQWFBQUFBR3dBQUFCd0FBQUFkQUFBQUhRQUFBQjRBQUFBZkFBQUFJQUFBQUNBQUFBQWhBQUFBSWdBQUFDSUFBQUFqQUFBQUl3QUFBQ1FBQUFBa0FBQUFKUUFBQUNVQUFBQWxBQUFBSmdBQUFDWUFBQUFtQUFBQUp3QUFBQ2NBQUFBbkFBQUFKd0FBQUFFQUFBQUNBQUFBQkFBQUFBZ0FBQUFRQUFBQUlBQUFBRUFBQUFDQUFBQUFMeDhQQUJjYkhSNEhDdzBPSnlzdExoQURCUW9NRXhVYUhDTWxLaXdCQWdRSUVSSVVHQVlKRmhrZ0lTSWtLQ1lwQUJBQkFnUUlJQU1GQ2d3UEx3Y0xEUTRHQ1I4akpTb3NJU0lrS0NjckxTNFJFaFFZRXhVYUhCY2JIUjRXR1NZcEFMQXRCRzVoYldVQjZ3TmtBQVp0WlcxamNIa0JCbkpsYzJsNlpRSUNaaklEQW1ZekJBRm1CUUptTlFZQ1pqWUhBbVkzQ0FKbU9Ba0NaamtLQVdVTEEyWXhNUXdEWmpFeURRTm1NVE1PQTJZeE5BOERaakUxRUFObU1UWVJBMll4TnhJRFpqRTRFd05tTVRrVUEyWXlNQlVEWmpJeEZnTm1NaklYQTJZeU14Z0RaakkwR1FObU1qVWFBMll5TmhzRFpqSTNIQU5tTWpnZEEyWXlPUjREWmpNd0h3Tm1NekVnQTJZek1pRURaak16SWdObU16UWpBMll6TlNRRFpqTTJKUU5tTXpjbUEyWXpPQ2NEWmpNNUtBTm1OREFwQTJZME1Tb0RaalF5S3dObU5ETXNBMlkwTkMwRFpqUTFMZ05tTkRZdkEyWTBOekFEWmpRNE1RTm1ORGt5QTJZMU1ETURaalV4TkFObU5USTFBMlkxTXpZRFpqVTBOd05tTlRVNEEyWTFOamtEWmpVM09nTm1OVGc3QTJZMU9Ud0Raall3UFFObU5qRStBMlkyTWo4RFpqWXpRQU5tTmpSQkEyWTJOVUlEWmpZMlF3Tm1OamRFQTJZMk9FVURaalk1UmdObU56QkhBMlkzTVVnRFpqY3lTUU5tTnpOS0EyWTNORXNEWmpjMVRBTm1OelpOQTJZM04wNERaamM0VHdObU56bFFBMlk0TUZFRFpqZ3hVZ05tT0RKVEEyWTRNMVFEWmpnMFZRTm1PRFZXQTJZNE5sY0RaamczV0FObU9EaFpBMlk0T1ZvRFpqa3dXd05tT1RGY0EyWTVNbDBEWmprelhnTm1PVFJmQTJZNU5XQUJhV0VCWjJJQlpHTUVaakV3TVFLNktXUUFBd0FBQVFBQ0FBRUJBQUFDQkFBQ2NEQUJBbkF4QWdKc01nTUNiRE1EQ1FBQ2NEQUJBbkF4QWdKc01nTUNiRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FRSUFBSndNQUVDYkRFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNGQkFBQ2NEQUJBbkF4QWdKc01nTUNiRE1HR0FBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpFV0Eyd3lNaGNEYkRJekJ3WUFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQVVDYkRVSUJnQUNjREFCQW5BeEFnSndNZ01DYkRNRUFtdzBCUUpzTlFrUUFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUVBBMnd4TlFvTUFBSndNQUVDYkRFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVMQXdBQ2NEQUJBbkF4QWdKc01nd1JBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRFFZQUFuQXdBUUp3TVFJQ2NESURBbXd6QkFKc05BVUNiRFVPRUFBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDY0RZSEFuQTNDQUp3T0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVQQlFBQ2NEQUJBbXd4QWdKc01nTUNiRE1FQW13MEVBc0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQVJBZ0FDY0RBQkFuQXhFZzhBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkJNREFBSndNQUVDYkRFQ0Ftd3lGQU1BQW5Bd0FRSndNUUlDYkRJVkJnQUNjREFCQW5BeEFnSndNZ01DYkRNRUFtdzBCUUpzTlJZbUFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2NEUUZBbkExQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUVBBMnd4TlJBRGJERTJFUU5zTVRjU0Eyd3hPQk1EYkRFNUZBTnNNakFWQTJ3eU1SWURiREl5RndOc01qTVlBMnd5TkJrRGJESTFHZ05zTWpZYkEyd3lOeHdEYkRJNEhRTnNNamtlQTJ3ek1COERiRE14SUFOc016SWhBMnd6TXlJRGJETTBJd05zTXpVa0Eyd3pOaVVEYkRNM0Z3TUFBbkF3QVFKd01RSUNjRElZRmdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpFWkVnQUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaEVEYkRFM0doWUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0p3TndnQ2NEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0RXdOc01Ua1VBMnd5TUJVRGJESXhHd1lBQW5Bd0FRSndNUUlDYkRJREFtd3pCQUpzTkFVQ2JEVWNCd0FDY0RBQkFuQXhBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlkQlFBQ2NEQUJBbkF4QWdKc01nTUNiRE1FQW13MEhnVUFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQjhCQUFKd01DQUVBQUp3TUFFQ2NERUNBbXd5QXdKc015RWJBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRVFOc01UY1NBMnd4T0JNRGJERTVGQU5zTWpBVkEyd3lNUllEYkRJeUZ3TnNNak1ZQTJ3eU5Ca0RiREkxR2dOc01qWWlGUUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNjRFlIQW5BM0NBSndPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPUlFEYkRJd0l4SUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0p3TndnQ2NEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE55UVVBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRVFOc01UY1NBMnd4T0JNRGJERTVKUThBQW5Bd0FRSndNUUlDY0RJREFtd3pCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkNZREFBSndNQUVDYkRFQ0Ftd3lKdzhBQW5Bd0FRSndNUUlDYkRJREFtd3pCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkNnQ0FBSndNQUVDYkRFcEVRQUNjREFCQW5BeEFnSndNZ01DY0RNRUFuQTBCUUp3TlFZQ2NEWUhBbkEzQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaW9IQUFKd01BRUNjREVDQW5BeUF3SndNd1FDYkRRRkFtdzFCZ0pzTmlzUEFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUXNCQUFDY0RBQkFuQXhBZ0pzTWdNQ2JETXRCUUFDY0RBQkFuQXhBZ0p3TWdNQ2JETUVBbXcwTGdNQUFuQXdBUUpzTVFJQ2JESXZBd0FDY0RBQkFtd3hBZ0pzTWpBSkFBSndNQUVDY0RFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NE1SWUFBbkF3QVFKd01RSUNiRElEQW13ekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0RXdOc01Ua1VBMnd5TUJVRGJESXhNZ29BQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NU13UUFBbkF3QVFKc01RSUNiRElEQW13ek5BUUFBbkF3QVFKc01RSUNiRElEQW13ek5ROEFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hORFlGQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRM0JRQUNjREFCQW5BeEFnSnNNZ01DYkRNRUFtdzBPQWNBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyT1FjQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNiRFVHQW13Mk9nY0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJPd2NBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyUEFVQUFuQXdBUUp3TVFJQ2NESURBbXd6QkFKc05EMEZBQUp3TUFFQ2NERUNBbkF5QXdKc013UUNiRFErRHdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMFB4SUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE4wQUhBQUp3TUFFQ2NERUNBbXd5QXdKc013UUNiRFFGQW13MUJnSnNOa0VRQUFKd01BRUNjREVDQW5BeUF3SndNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOVUlKQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0UXdnQUFuQXdBUUp3TVFJQ2JESURBbXd6QkFKc05BVUNiRFVHQW13MkJ3SnNOMFFRQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOVVVUQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0p3TmdjQ2NEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOUkFEYkRFMkVRTnNNVGNTQTJ3eE9FWVJBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFtdzRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyUnhNQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNjRFVHQW5BMkJ3SndOd2dDYkRnSkFtdzVDZ05zTVRBTEEyd3hNUXdEYkRFeURRTnNNVE1PQTJ3eE5BOERiREUxRUFOc01UWVJBMnd4TnhJRGJERTRTQmNBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUp3TkFVQ2NEVUdBbkEyQndKd053Z0NjRGdKQW5BNUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkE4RGJERTFFQU5zTVRZUkEyd3hOeElEYkRFNEV3TnNNVGtVQTJ3eU1CVURiREl4RmdOc01qSkpRd0FDY0RBQkFuQXhBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlIQW13M0NBSnNPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPUlFEYkRJd0ZRTnNNakVXQTJ3eU1oY0RiREl6R0FOc01qUVpBMnd5TlJvRGJESTJHd05zTWpjY0Eyd3lPQjBEYkRJNUhnTnNNekFmQTJ3ek1TQURiRE15SVFOc016TWlBMnd6TkNNRGJETTFKQU5zTXpZbEEyd3pOeVlEYkRNNEp3TnNNemtvQTJ3ME1Da0RiRFF4S2dOc05ESXJBMncwTXl3RGJEUTBMUU5zTkRVdUEydzBOaThEYkRRM01BTnNORGd4QTJ3ME9USURiRFV3TXdOc05URTBBMncxTWpVRGJEVXpOZ05zTlRRM0EydzFOVGdEYkRVMk9RTnNOVGM2QTJ3MU9Ec0RiRFU1UEFOc05qQTlBMncyTVQ0RGJEWXlQd05zTmpOQUEydzJORUVEYkRZMVFnTnNOalpLRXdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDY0RZSEFuQTNDQUp3T0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UaExGQUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNjRFlIQW5BM0NBSndPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPVXdIQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmswTkFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1rNExBQUp3TUFFQ2NERUNBbkF5QXdKc013UUNiRFFGQW13MUJnSnNOZ2NDYkRjSUFtdzRDUUpzT1FvRGJERXdUd1FBQW5Bd0FRSndNUUlDYkRJREFtd3pVQTRBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUp3TkFVQ2NEVUdBbkEyQndKd053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTlJEQUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKc05RWUNiRFlIQW13M0NBSnNPQWtDYkRrS0Eyd3hNQXNEYkRFeFVoTUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0VXlBQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNjRFVHQW13MkJ3SnNOd2dDYkRnSkFtdzVDZ05zTVRBTEEyd3hNUXdEYkRFeURRTnNNVE1PQTJ3eE5BOERiREUxRUFOc01UWVJBMnd4TnhJRGJERTRFd05zTVRrVUEyd3lNQlVEYkRJeEZnTnNNaklYQTJ3eU14Z0RiREkwR1FOc01qVWFBMnd5TmhzRGJESTNIQU5zTWpnZEEyd3lPUjREYkRNd0h3TnNNekZVRmdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpGVkN3QUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1GWUhBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSnNObGNxQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOUkFEYkRFMkVRTnNNVGNTQTJ3eE9CTURiREU1RkFOc01qQVZBMnd5TVJZRGJESXlGd05zTWpNWUEyd3lOQmtEYkRJMUdnTnNNalliQTJ3eU54d0RiREk0SFFOc01qa2VBMnd6TUI4RGJETXhJQU5zTXpJaEEyd3pNeUlEYkRNMEl3TnNNelVrQTJ3ek5pVURiRE0zSmdOc016Z25BMnd6T1NnRGJEUXdLUU5zTkRGWUV3QUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaEVEYkRFM0VnTnNNVGhaQ0FBQ2NEQUJBbXd4QWdKc01nTUNiRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNXZzRBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTmJCQUFDY0RBQkFtd3hBZ0pzTWdNQ2JETmNDUUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNiRFlIQW13M0NBSnNPRjBJQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0pzTmdjQ2JEZGVDQUFDY0RBQkFtd3hBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlIQW13M1h3d0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVdBQVlRZ0FBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FtdzJCd0pzTjJJREFBSndNQUVDY0RFQ0Ftd3lZdzBBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5IixVPWE7Ri5oMjY0TW9kdWxlPW5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoVS5kZWNvZGUoTCkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBZPUYscT1BPT4oSSxnLEIpPT57QS5IRUFQVTguY29weVdpdGhpbihJLGcsZytCKX07ZnVuY3Rpb24gSyhBLEkpe2NvbnN0IGc9QSVJO3JldHVybiBnPjA/QStJLWc6QX1jb25zdCBIPUE9Pkk9Pntjb25zdCBnPUEuSEVBUFU4Lmxlbmd0aCxCPTY1NTM2LFE9MjE0NzQ4MzY0ODtpZihJPlEpcmV0dXJuITE7Y29uc3QgQz0xNjc3NzIxNjtmb3IobGV0IEQ9MTtEPD00O0QqPTIpe2xldCBFPWcqKDErLjIvRCk7RT1NYXRoLm1pbihFLEkrMTAwNjYzMjk2KTtjb25zdCB3PU1hdGgubWluKFEsSyhNYXRoLm1heChDLEksRSksQikpO3RyeXtjb25zdHttZW1vcnk6b309QTtvLmdyb3cody1vLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpO2NvbnN0e2J1ZmZlcjpOfT1vO3JldHVybiBBLkhFQVA4PW5ldyBJbnQ4QXJyYXkoTiksQS5IRUFQVTg9bmV3IFVpbnQ4QXJyYXkoTiksQS5IRUFQMzI9bmV3IEludDMyQXJyYXkoTiksITB9Y2F0Y2h7fX1yZXR1cm4hMX0sUj02NTUzNixjPTUyNTE3OTIsZD04NzUyLHQ9MTY3NzcyMTY7Y2xhc3MgaXtjb25zdHJ1Y3Rvcigpe3RoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMucGljPW5ldyBVaW50OEFycmF5KDApO2NvbnN0IEk9bmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7aW5pdGlhbDp0L1IsbWF4aW11bToyMTQ3NDgzNjQ4L1J9KSxnPXttZW1vcnk6SSxIRUFQODpuZXcgSW50OEFycmF5KEkuYnVmZmVyKSxIRUFQVTg6bmV3IFVpbnQ4QXJyYXkoSS5idWZmZXIpLEhFQVAzMjpuZXcgSW50MzJBcnJheShJLmJ1ZmZlcil9O2cuSEVBUDMyW2Q+PjJdPWM7Y29uc3R7ZXhwb3J0czpCfT1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoWS5oMjY0TW9kdWxlLHtoMjY0OnttZW1vcnk6SSxtZW1jcHk6cShnKSxyZXNpemU6SChnKX19KTt0aGlzLm1lbW9yeT1nLHRoaXMuYXNtPUIsdGhpcy5wU3RvcmFnZT1CLmgyNjRhbGxvYygpLHRoaXMucFdpZHRoPUIubWFsbG9jKDQpLHRoaXMucEhlaWdodD1CLm1hbGxvYyg0KSx0aGlzLnBQaWN0dXJlPUIubWFsbG9jKDQpLHRoaXMuZGVjQnVmZmVyPUIubWFsbG9jKDEwMjQqMTAyNCksQi5pbml0KHRoaXMucFN0b3JhZ2UsMCl9ZGVjb2RlKEkpe2NvbnN0e21lbW9yeTpnLGFzbTpCfT10aGlzO2cuSEVBUFU4LnNldChJLHRoaXMuZGVjQnVmZmVyKTtjb25zdCBRPUIuZGVjb2RlKHRoaXMucFN0b3JhZ2UsdGhpcy5kZWNCdWZmZXIsSS5ieXRlTGVuZ3RoLHRoaXMucFBpY3R1cmUsdGhpcy5wV2lkdGgsdGhpcy5wSGVpZ2h0KTtpZihRPT09aS5QSUNfUkRZKXtjb25zdCBDPXRoaXMud2lkdGg9Zy5IRUFQMzJbdGhpcy5wV2lkdGg+Pj4yXSxEPXRoaXMuaGVpZ2h0PWcuSEVBUDMyW3RoaXMucEhlaWdodD4+PjJdLEU9Zy5IRUFQMzJbdGhpcy5wUGljdHVyZT4+Ml0sdz1DKkQqMy8yO3RoaXMucGljPWcuSEVBUFU4LnN1YmFycmF5KEUsRSt3KX1yZXR1cm4gUX19dmFyIGI9eS5IMjY0RGVjb2Rlcj1pO2kuUkRZPTAsaS5QSUNfUkRZPTEsaS5IRFJTX1JEWT0yLGkuRVJST1I9MyxpLlBBUkFNX1NFVF9FUlJPUj00LGkuTUVNQUxMT0NfRVJST1I9NTtmdW5jdGlvbiB4KEEpe3JldHVybiBVaW50OEFycmF5LmZyb20oYXRvYihBKSxJPT5JLmNoYXJDb2RlQXQoMCkpfWNvbnN0IHM9c2VsZixrPW5ldyBiLG09Si5zZWNvbmQvNTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixBPT57Y29uc3R7dGltZXN0YW1wOkksZmxhZ3M6ZyxpbmRleDpCfT1BLmRhdGEsUT1EYXRlLm5vdygpLUk7aWYoUT5tJiZnIT09Myl7TShgRnJhbWUgaXMgJHtRfW1zIGxhdGUsIGRyb3BwaW5nYCxCKTtyZXR1cm59Y29uc3QgQz14KEEuZGF0YS5lbmNvZGVkRnJhbWUpLEQ9ay5kZWNvZGUoQyk7dHJ5e2lmKEQhPT0xKXtNKGBmYWlsZWQgdG8gZGVjb2RlIGZyYW1lLCBzdGF0dXM6ICR7bihEKX1gLEIsQyk7cmV0dXJufWNvbnN0e3BpYzpFLGhlaWdodDp3LHdpZHRoOm99PWs7aWYoRS5sZW5ndGg9PT0wfHx3PT09MHx8bz09PTApe00oImRlY29kZWQgZnJhbWUgaGFzIG5vIGRhdGEiLEIsQyk7cmV0dXJufWNvbnN0IE49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KEUpO3MucG9zdE1lc3NhZ2Uoe3RpbWVzdGFtcDpBLmRhdGEudGltZXN0YW1wLHl1djpOLGhlaWdodDp3LHdpZHRoOm8saW5kZXg6Qn0pfWNhdGNoKEUpe00oRSxCKX19KTtmdW5jdGlvbiBNKEEsSSxnKXtzLnBvc3RNZXNzYWdlKHtlcnJvcjpgaDI2NCBkZWNvZGVyIHdvcmtlcjogJHtBfWAsaW5kZXg6SX0pfWZ1bmN0aW9uIG4oQSl7c3dpdGNoKEEpe2Nhc2UgMDpyZXR1cm4iUkRZIjtjYXNlIDE6cmV0dXJuIlBJQ19SRFkiO2Nhc2UgMjpyZXR1cm4iSERSU19SRFkiO2Nhc2UgMzpyZXR1cm4iRVJST1IiO2Nhc2UgNDpyZXR1cm4iUEFSQU1fU0VUX0VSUk9SIjtjYXNlIDU6cmV0dXJuIk1FTUFMTE9DX0VSUk9SIjtkZWZhdWx0OnJldHVybiBBLnRvU3RyaW5nKCl9fX0pfSkoKTsK",blob=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(){const i=blob&&(window.URL||window.webkitURL).createObjectURL(blob);try{return i?new Worker(i,{}):new Worker("data:application/javascript;base64,"+encodedJs,{type:"module"})}finally{i&&(window.URL||window.webkitURL).revokeObjectURL(i)}}class RealtimePlayer extends HTMLElement{constructor(){super(),__publicField(this,"drawer"),this.drawer=new H264BytestreamCanvasDrawer(()=>new WorkerWrapper,()=>{},()=>{})}connectedCallback(){this.style.background="black",this.innerHTML='<canvas style="height: 100%; width: 100%; object-fit: contain;"></canvas>',this.drawer.start(),this.drawer.setCanvas(this.querySelector("canvas"))}drawVideoFrame(o){this.drawer.receiveEncodedFrame(o)}}customElements.define("formant-realtime-player",RealtimePlayer);var classnamesExports={},classnames$1={get exports(){return classnamesExports},set exports(i){classnamesExports=i}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var o={}.hasOwnProperty;function s(){for(var _=[],$=0;$<arguments.length;$++){var et=arguments[$];if(et){var rt=typeof et;if(rt==="string"||rt==="number")_.push(et);else if(Array.isArray(et)){if(et.length){var j=s.apply(null,et);j&&_.push(j)}}else if(rt==="object"){if(et.toString!==Object.prototype.toString&&!et.toString.toString().includes("[native code]")){_.push(et.toString());continue}for(var st in et)o.call(et,st)&&et[st]&&_.push(st)}}}return _.join(" ")}i.exports?(s.default=s,i.exports=s):window.classNames=s})()})(classnames$1);function insertWithoutScoping(i,o){if(i.inserted[o.name]===void 0)return i.insert("",o,i.sheet,!0)}function merge(i,o,s){var _=[],$=getRegisteredStyles(i,_,s);return _.length<2?s:$+o(_)}var createEmotion=function i(o){var s=createCache(o);s.sheet.speedy=function(j){this.isSpeedy=j},s.compat=!0;var _=function(){for(var st=arguments.length,lt=new Array(st),gt=0;gt<st;gt++)lt[gt]=arguments[gt];var bt=serializeStyles(lt,s.registered,void 0);return insertStyles(s,bt,!1),s.key+"-"+bt.name},$=function(){for(var st=arguments.length,lt=new Array(st),gt=0;gt<st;gt++)lt[gt]=arguments[gt];var bt=serializeStyles(lt,s.registered),Ut="animation-"+bt.name;return insertWithoutScoping(s,{name:bt.name,styles:"@keyframes "+Ut+"{"+bt.styles+"}"}),Ut},et=function(){for(var st=arguments.length,lt=new Array(st),gt=0;gt<st;gt++)lt[gt]=arguments[gt];var bt=serializeStyles(lt,s.registered);insertWithoutScoping(s,bt)},rt=function(){for(var st=arguments.length,lt=new Array(st),gt=0;gt<st;gt++)lt[gt]=arguments[gt];return merge(s.registered,_,classnames(lt))};return{css:_,cx:rt,injectGlobal:et,keyframes:$,hydrate:function(st){st.forEach(function(lt){s.inserted[lt]=!0})},flush:function(){s.registered={},s.inserted={},s.sheet.flush()},sheet:s.sheet,cache:s,getRegisteredStyles:getRegisteredStyles.bind(null,s.registered),merge:merge.bind(null,s.registered,_)}},classnames=function i(o){for(var s="",_=0;_<o.length;_++){var $=o[_];if($!=null){var et=void 0;switch(typeof $){case"boolean":break;case"object":{if(Array.isArray($))et=i($);else{et="";for(var rt in $)$[rt]&&rt&&(et&&(et+=" "),et+=rt)}break}default:et=$}et&&(s&&(s+=" "),s+=et)}}return s};createEmotion({key:"css"});const B1=createTheme({typography:{fontFamily:"'Moderat', 'Inter', 'Source Sans Pro', sans-serif",h1:{fontStyle:"normal",fontWeight:"normal",fontSize:"2rem",lineHeight:"2.5rem",letterSpacing:0},h2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1.5rem",lineHeight:"2.125rem",letterSpacing:"0.069rem",fontFeatureSettings:'"zero" on'},h3:{fontStyle:"normal",fontWeight:500,fontSize:"1.125rem",lineHeight:"1.688rem",letterSpacing:"0.069rem"},h4:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.375rem",letterSpacing:"0.069rem",textTransform:"uppercase"},h5:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.125rem",letterSpacing:"0.038rem",textTransform:"uppercase"},h6:{fontStyle:"normal",fontWeight:"normal",fontSize:"0.625rem",lineHeight:"0.938rem",letterSpacing:"0.063rem"},body1:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on'},body2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on',fontVariantNumeric:"tabular-nums"},button:{fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053.rem",textTransform:"uppercase"}}}),R0={palette:{mode:"light",success:{main:"#34dea9",dark:"#2d8376"},info:{main:"#297ceb",dark:"#256faf",light:"#3BABFF"},error:{main:"#fd76a7",dark:"#7f5072"},warning:{main:"#ffb179",dark:"#94645f"},primary:{main:"#657197",light:"#BAC4E2",dark:"#3B4668"},secondary:{main:"#3babff",dark:"#76a7dc"},background:{default:"#FFFFFF",paper:"#F1F3F9"},common:{black:"#ffffff",white:"#000000"}}},G0={palette:{mode:"dark",primary:{main:"#657197",dark:"#3B4668",light:"#BAC4E2",contrastText:"#ffffff"},secondary:{main:"#18d2ff",light:"#18d2ff",dark:"#256faf"},background:{default:"#2d3855",paper:"#2d3855"},common:{black:"#000000",white:"#ffffff"},text:{primary:"#bac4e2"},error:{main:"#ea719d",dark:"#7F5072"},warning:{main:"#a961e4",dark:"#564A94"},info:{main:"#20a0ff",dark:"#256FAF"},success:{main:"#2ec495",dark:"#2D8376"}}};function i0(i){const o={components:{MuiCssBaseline:{styleOverrides:{body:{"&::-webkit-scrollbar, & *::-webkit-scrollbar":{background:"transparent",width:"0.5rem",height:"0.5rem"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{background:i.palette.primary.light,borderRadius:"0.25rem"},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:i.palette.primary.light},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:i.palette.primary.light}}}},MuiLink:{styleOverrides:{root:{color:i.palette.secondary.main}}},MuiDialogActions:{styleOverrides:{root:{padding:B1.spacing(3)}}},MuiInputLabel:{styleOverrides:{root:{color:i.palette.primary.light,"&.Mui-focused":{color:i.palette.secondary.main}},outlined:{borderRadius:4,padding:"0.125rem 0.375rem","&.Mui-focused":{backgroundColor:"#2d3855"}}}},MuiFilledInput:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderTop:"1px solid transparent",":before":{borderBottom:`1px dotted ${i.palette.primary.light}`},"&.Mui-focused":{background:i.palette.common.black,border:`1px solid ${i.palette.secondary.main}`,borderBottom:"none !important",borderTop:`1px solid ${i.palette.secondary.main}`}}}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:`1px dotted ${i.palette.primary.light}`,"&.Mui-focused":{border:`1px solid ${i.palette.secondary.main}`,backgroundColor:i.palette.common.black}},notchedOutline:{border:"transparent"},input:{"&:-webkit-autofill":{"-webkit-box-shadow":`0 0 0 100px ${i.palette.primary.dark} inset`,"-webkit-text-fill-color":i.palette.primary.light}}}},MuiFormHelperText:{styleOverrides:{root:{color:i.palette.error.main}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.87)",color:"white",padding:B1.spacing(1.2)}}},MuiDialogTitle:{styleOverrides:{root:{color:i.palette.common.white,fontStyle:"normal",fontWeight:500,...B1.typography.h3}}},MuiDialogContentText:{styleOverrides:{root:{color:i.palette.primary.light}}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{willChange:"background-color , color , border-color , box-shadow",transition:"background-color 200ms ease-in-out 0ms , color 200ms ease-in-out 0ms , border-color 200ms ease-in-out 0ms , box-shadow 200ms ease-in-out 0ms",borderRadius:40,boxShadow:`0 0 0 0rem ${i.palette.primary.main}`,"&.Mui-disabled":{color:i.palette.primary.main}},sizeSmall:{height:"1.25rem",fontWeight:500,fontSize:"0.688rem",lineHeight:"0.825rem",letterSpacing:"0.047rem"},sizeMedium:{height:"1.813rem",fontWeight:500},sizeLarge:{height:"2.563rem",fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053rem"},containedPrimary:{background:i.palette.primary.light,color:i.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${i.palette.primary.light}`,background:i.palette.primary.light}}},containedSecondary:{color:i.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${i.palette.secondary.main}`,background:i.palette.secondary.main}}},outlinedPrimary:{color:i.palette.primary.light}}},MuiDialog:{styleOverrides:{paper:{background:i.palette.background.paper}}},MuiNativeSelect:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderTop:"1px solid transparent"},icon:{color:i.palette.primary.light}}},MuiSelect:{styleOverrides:{icon:{color:i.palette.primary.light}}},MuiSnackbarContent:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,color:i.palette.primary.light}}},MuiSwitch:{styleOverrides:{switchBase:{"&.Mui-checked+.MuiSwitch-track":{backgroundColor:i.palette.common.black},"&.Mui-checked .MuiSwitch-thumb":{backgroundColor:i.palette.secondary.main}},thumb:{backgroundColor:i.palette.primary.light},track:{backgroundColor:i.palette.common.black}}}}};return createTheme(i,o)}const c0=i0(createTheme(B1,G0)),P0=i0(createTheme(B1,R0)),O0=c0;async function K0(i){if(!await Authentication.waitTilAuthenticated())throw new Error("Unauthenticated");return i?await Fleet.getDevice(i):await Fleet.getCurrentDevice()}const s0=i=>{const[o,s]=reactExports.useState();return reactExports.useEffect(()=>{K0(i).then(_=>s(_)).catch(_=>{throw console.log("Failed fetching device",{err:_}),new Error("Authentication failed, please authenticate and try again")})},[i]),o},z1=async i=>{try{if(await Authentication.waitTilAuthenticated())return i()}catch(o){throw o}},$1=(i,o)=>o?JSON.parse(i):i,J0=async(i,o)=>{await z1(async()=>{try{const s=await App$1.getCurrentModuleConfiguration();if(!s)return;const _=$1(s,o);i(_),App$1.addModuleConfigurationListener($=>{const et=$1($.configuration,o);i(et)})}catch(s){throw s}})},X0=i=>{const[o,s]=reactExports.useState("");return reactExports.useEffect(()=>{J0(s,i==null?void 0:i.parse)},[]),o},$0=async i=>{await z1(async()=>{App$1.addModuleDataListener(o=>i(o.time))})},Ue=()=>{const[i,o]=reactExports.useState();return reactExports.useEffect(()=>{$0(o)},[]),i};function Oe(){return reactExports.useContext(d0)}const d0=reactExports.createContext(void 0);function Ke({theme:i,children:o,parseConfiguration:s,scoped:_=!1}){const $=X0({parse:!!s}),et=createTheme(i==="dark"?c0:i==="light"?P0:O0),rt={configuration:$};return jsx(ThemeProvider,{theme:et,children:jsx(_?D0:CssBaseline,{children:jsx(d0.Provider,{value:rt,children:o})})})}Chart.register(...registerables);Chart.register(...registerables);Chart.register(...registerables);Chart.register(...registerables);Chart.register(...registerables);Chart.register(...registerables);Chart.register(...registerables);const I2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACGFjVEwAAAAwAAAAAChseJYAAAAaZmNUTAAAAAAAAAAwAAAAMAAAAAAAAAAAAAQAZAAAR67u9QAAAK9JREFUaN7t0zEKwkAQheEVCxvPYGFla+UFbD1CwNY6ra23sPEAxgRNNKBpLWITA6IsBCV6A/txV1svsPB/8GCYah/LKAUA/4hI4xQWAxs7O/X4JNGtY1BkeXCWX4pMm50zBUZx5U3WWmbRVRbhRQ6rUvJl6bnzBbun397W0kvuMowrGZsy0+jmu1Ng/+iaEm8TsWmaubMxO7cO4dVXaT3/xs4AAAAAAAAAAAAAYH0AgOhTVFHYG+UAAAAaZmNUTAAAAAEAAAALAAAADwAAABUAAAAGAAQAZAAAZ7Lt7AAAAWFmZEFUAAAAAmjefZG/S0JxFMXPveKv7wu0paBcAh0iaHYKHGsIJBD6LyQS2qopsCGClpZoaWp6BZo0uDcIEUE/ECG33veJkz6R926DT9OUDlwuX/icA+d+qVT6DBuOU1aQDAAAUo1H1GZqK9XDH7Hu9XOaOGMTowsCQJm209nHDLFmWrCJoImgidEihgM+qJm1pSn4G0FTE/c1sW8gaKI5yw2d/IUJAPbuPs4UJG+IQEGgRGBAJCpIZ7NrT6NkAGi5wWObWA/SGfZgk010LiI0AV9nV9oW4XAIj036wnzbnYABgDrJS030Ml7WJobNXDytPBsT8G2OXIsD+d/UgckiWracSGFUcFzrpYapBNuGX1RBYIh0oxxYnYITD81kxPNeDUjIv4pv8q5o1k/Nl5tFBSlMwqjPhPFYj4Xd8Lsh3qIC/Lt797NhAKh8bUD4JgJJREVqMbg7+FdHwqg24sPnD+oal8W6KwosAAAAGmZjVEwAAAADAAAAEQAAABkAAAAVAAAABQAEAGQAALMDT1sAAAImZmRBVAAAAARo3p3UPWgUQRQH8FUEbcQvLPRACxVRiU2QJGDwNKD4BRHR4oIYJIpK1OJSKBI5gqASBY1E8AOSIim8Yr9mdu4M5FIIKiJiuK/dzO3ebQ4EwUrSqJjn2xyrG6sZH/xhmeK3b94woyhYALDkrT7d8gETfCuyxRhfnlULuUktD6/VPLxTp3Mc16SQtFY6o2pFIFoBXmFyDeymFDKqlZNjehFeYjTEaAObmySfYsLIkMa3PNNLP0b0EowjlF7ACkD1/JhUN4+M8oNhowzPERr9i83rerFdGLln2CsHDfszYvBkMfYxlYKlwtAAcXruGDbcx0SxEaN4ThgJ/thvOu8HTBv+wb48TburhKE+wtuum848YhDFHuvlQakhXyUz40lzBhCDELtr2N8fGvZ2YeQicWKXCJ9DDELsFua26UxIddNNK/09hANiEGB9iN1AKEWcI+LIVHVFgrreWVKBALuMudbA+BWZe9VpuSdP0QokMN2InQ8x6iSltnWUuhOd1IXTCHUtYDzAvl3IljYII/uzfNdBy/t5DKETUYzyF1Ld7LW84QOWB4cwEexXl+nuEUaaqL+mlVW/tltVWIx5bxSZV7CJ1XqbWQ1aEfqDUQ+OW25CGIlPwbIdrJbfjVAzIiHWYXn1wzJHvinjd2xlPiAGIdaGiZNqXGrIGzOz6maEolgL83dKIetIPbY+M1tBDAJsG/OHlP8qnMFqVt+3NtLBb68GzUQnZ+QFAAAAGmZjVEwAAAAFAAAAFgAAACIAAAAVAAAABQAEAGQAAAaksUUAAALMZmRBVAAAAAZo3q3WW0gUYRTAcQu6EUQPUZAVZQhGF6noRkJiYWiKRVgYGEuJSWQkFsUuxYqaUVQqRkp2sSxSY+c+m5BW9JhBsM7uzM7szmw+JD1E0I2k9nRGZ2va19PAgWUe/r8z3zzMZmTgBQDThlllyysc+3fG/7hkWZ8lBUaHB5lReMaE4EUgNGzfI4f7mXAlwyjAY1jCsYGhQMhHDvcySv1jVoEBHAajNiAzo1+GhLeZpPA9JrSyhw1PPMSwDTz5AygPyFt3M8rVO2wY7uO4gGQgoOSRwu2yPu8mF3l/C8NuoI9R3vj9MJ0Ub+Mj1R1cBDpxbOBuCmAUDylsb3aNi7xuw3AaMN6LT0SKX+TU7Zc5NYkA2MANB7jNKi3kF9nIq30tnApXcFIAPsGPTiGcTQr7WGOpn1e/NvEquIF2LsySt/bxWsN5XoMGnCYMX3KAVjaymxSu6x+bc47XLC+GL7gBXg13dY3MIMVP8dGKej4KZzHqBpr5SC35SE7w0ZcIwGkH8E0C0Y9+QVtACtdw+vrjgv6rVoiCG/ByWgd56ypR764WdEAAbKBuCvjp5dR1pHBlwFjoEYxPRzF8zAFOTgL6EHnrCsk4UykY4MHov4C2jxQu71dmHhANrUI0IAVUTQExz3NzNileJsRL94sxQAAOuQFR95KPpESIyWUYTwM+H+HUxaRwoWDmFInxiRIM73WAgzYgGT3krQvk2PVCKQ4IgAtIlgsx2mcsnzHn75DiHwowngJKp4AR8mdsq2TW5EkmIAA7HaAY4yWCcZh2HrjZJskc2YbxNGC8iPoZyw0m8jbIVhIBSAH5NiDGm8kvcrVsDeTKFiAAm/8C33eJiSxSOCdoLs+RrW8IQBrQSt56hfSuMVtOAAKwxgE2StYjcnjR4PjcZcGEkYVxG1iF5742aBX/l//YS4SxzEx5rBWB3qyn1h773m+SXYWCYYXpgQAAABpmY1RMAAAABwAAABsAAAArAAAAFQAAAAUABABkAACqa+X8AAADYGZkQVQAAAAIaN612GlIFVEUB3CLKCgqqA8RFQmStBethPEorGglizLbLJFKLLV9p16FFZK2K9FitFhJvlnuzJgUBkVfwqLSmTfvzbx572W0QH1opYU8nZtvcPTzvRcODPPlx/9yuPdwk5JwAUCnOlGfXI9Fv5N4LU2zuimBpnpNaII6rPuBxnr6jwtWIxirBUEHCSEF6z8aaNzHBasS9G3Vog53sQSEEuhXQl4MYI5dFRpTbor671uIeVFZ0K9xSXdVNMquiQYgCi5aI+gtgYA+lTl2Q7N6XRaNd4iCi95uRRv8fujMHKwQ9Q0XEbqCRdHrCfSO1LSGOUYTlMvBhguIdEDf0+TMwbOSmXZOCraUS0HwopVisJhLs5yUgtWnEUMUXPSSaPyqJMYQ5lipaA8qlczviIKLVlBUMGq4pDsqmUdKJBNOYFH0TAI9T4Kz2DcLaeheLJnxY4hRtLQN1f0PH3ZhD0rmqsOyCYjCcQ9aJhv57PcSr5oDcuixXw7BES8qm5/OBYJ9mXt7iTVunxz6iyh0QE9xaZZdcrhyD0KIggf9U6wYI5ljRZLTb7sc/rxTDoMXPSSHHnBJt5mE9mxBDFHYiRBF91OUWAuYY0ur9a6bSDhcRMLgorsoSkJ2AY8RIo/Yi/KJBQUIUnRrAt1Nwju4bOc6YtXlIdgB/bK5xujPHMsRreG5xPqDKHjRQmJd5JIuW4mcX4sIouCiG4n1t0gOTWTfLPea+6xU7I/ZxAYXXd+KPkniMeBmqnbhcsWGlQhSNMdNqthZzLFpePIvUSKvMhGk6Ko2tHl13csezMEMEklfpEQAUVjWDrX8XJplvmJLCxFb3B79sUJ1BjPH5mhWylwl8nMBQl40S7GruKSboTolsxUHEAUvmqmGfcyxNMnsma46b2eqDnjRDOI85zJN+5RY7jTEEAUXnfcfdXLZ7yUmSFOjT31qFFx0FkWJ82HG/Uhv5t4kEpsyRY22TEXQh9D0NrSES7NMUKNVkxFDFDzor3Q1ksocG629GThOi31DFNqhmiNxSTeyNn5wjBYDRKEDOps5Np687T5ci8VHIeaiE1vRF1zSpda+zhqKCKJA0bEJlM/jCt5rKWr80RAtDhQd0Yo2c3vMSa6NJidr8WcpCKZq8eZhquP7ByfqQHlEWABmAAAAGmZjVEwAAAAJAAAAMAAAACUAAAAAAAAACwAEAGQAAKmGMjkAAANYZmRBVAAAAApo3tXYaUgUYRgH8C2kKDuwqOy+sMNOpAMzFsOSLumgzNKskFLssKL73AorJLtLwsqgg1qoZuadmd2lwA/Rl5CoaHdn59rdRjqgPhSdSD49kw6Osn6M7X3h//35vc/zMMPrcPyjc0tUelxjAu9uMAG4ibnN+OEuxs3461wu6Oig4VQx/uJqLP46xg65x75eQwXAvOnLXLDuChbeBvLe7BAViAuslHGRDTZeZoNgh9QwwXIHLecMG3SfQwBCwIJcZQK/akgghQpAJaMOrmSlbwgBC1JlQh4G7lPTheOsdKyCleAUxoScb4ZcIsFsOhaa1HUtZ6XoCQSYkMoWiN9VW5tAB4KVCo5yEiAETtogp7lAKR1zBNDhEBd64uJCcMwO4aRPFx8Ee1Nh2EeUtP1c6DdCoA3kLDULvZuTa/Zi8QgBG6ShnA+MpwJQxur9dnDy512cDHbIES70mJoubCWhvdsQgBDYhcWbkAMmhCg5VACWu/2dNhFZLiMyWJDdJoSE1M2i0pkKRAlRl5QSBTYjwoRsb4bsIfJOakZpPVF8JYhoA/my9X6gPxWAdYySWkSUBoSAHbKFKNXUdKGQ1y6txcIRAhZkI1F+l3GhqXQstNfolc+rHwuJChZkQxPkqfn1pgKRK6hbVvIq5CPChKyzOsKreVQAMvGPdBmvvcpFhAkpaIEYq30vE6lALCZa1hJeA4TAilYQxUXNQi/kVXYRApa2hnxfJehDqQDME5WR83ntZw4Wb4fk8eodarowW9Ar5vI6IATskFxBdlIByGCl7lmC/naOoIMdspjoz6l51XPykaJMBCAELMiCvxC9iI45wpvOEMLPnEIYLEi2CSH6h9mPtJ5UGKaRSHq6EG6ciQgnFj+rBVJBzUJPEcJ3piMAIWCD/MoStFFUACaK9YPSxMhXhEAriKiz/82sJ3vfHBzgMYKDPVFtmBjVhmNSMKMxqWJEmyBGfkwSI4AQsENmiHr8X/V6euqLe3veQB9MMmYgBiGAEBiBQQiMwcIRAggBCzK1CfLCMZOPJsUTkOgx3D08BiRhTEjfGJCRMSCTmyF/WxhPQCefcbiL14BuCGgPMiQGZFwTxIj/DvjeJyZ469nOXqOxPUj/GJBRYtQYK+jOP0moWT95E2zZAAAAGmZjVEwAAAALAAAADgAAAAUAAAAVAAAAKwAEAGQAAH1y1dMAAAB5ZmRBVAAAAAxo3n3MsQ3CQAxG4c93qZmAOeip2IE9WINpKLJBJmCCjBGIKe4UoQhh6cmy/fsFGOcrcYt0KKhSwYCykSobYZxPxNTvIPpQe7hkC++l5+8nSLyxCitKZOvZdhWDiKf0sxIvxE6wJsXl+MAdC/8Fi2gEHzF0I+cJ3N4OAAAAGmZjVEwAAAANAAAAJgAAACsAAAAKAAAABQAEAGQAAHinmB8AAAQvZmRBVAAAAA5o3sWYXYhVVRTHf/9976iZZfmgYL2kTOaYhigZJcFQWI2pZWZICX1ARUWTfSmIcDFRQ/xAqpcQ66UHH2oUHbGQiR56yAStRHQaxFQsSCGl6c7Z557Vw73n3jNnxmAg716wH849m3t++7/W2nvtJUZoZqaje3+6F2DOklk/SDKug2kkk7u7e0dPKPcfFGp3VcyeW8aMfay1o3Xg/wZzI5k8dqC83OPaPcIDFdR+udz/7vVQbERgMUz0Ai+owgmPW/P9nmO3BQWLoMsj76nBCWIxLm4pbAoK1vHkzD5vfNRQq+rSCJ7r+fLE/GBgAG7M6JIXv3ugOoRHisSOUslcMLCOjtYrHpVStRrD5sybdWJlMDCAE8faPvXiqJfwyrhUfNjd3XtzMLBSSUmsQqcHaySC8NKkcjla3fQNNm+fd53cI+xpAQ7DVVcaFQq6e9mitt6mK5ZahfgdD/2ZJMDDqIGYzUFcmdqLT8w858W2wUkgvFj62VcnFwQDA5Dr3+Sl3xqJUAWsyLaXenqKwcBeWTS3P0Zr64qlgFLb5L8mvRwk+LOl0NZ9p75z2HxX+1MHSFwm5s43lk6/1HTFACTZgEs6PUqyR1VsTKgUbF0wxVLb0HVqt5M9nypWG3GxkMzufLztl6Yrllq/WtZ46Uq1LKqPYjl2O4K4MrWNS6b84Y3N1S0jHeDFQxu6Ti4KBgZQHIi3etQ7eF8TlYLbvrO7d3QwsNLyGVEsWz2k+jCm/lmxN4MEf9be2nf6kIMFje3DcHBVvjJt41NtF5uuWP0cTbTKi7iRCMKjm+KWlvVBFQN4dX/vx854TY3KA2ckDrtv6+JpR4IoBuCL0boILg26IwgXiR2YKRjYrkdnXPZo/ZDqA3f/6wf6ngkGBnB23LlPKujnfJZGZltWHjp+YzCwb9vb4witqpffjbP09pZo7HtBgj9ry/b/utfB4mz14Yx/Rjk3fdfCKWebrli9veDsbY8GstWHFzeULdkUxJWpdXW09nnTTl/tgdRdGsGK5QdOPxgMDMAl0QceXcxnaZQUh9zimwq2b8ldVyNYl0sCYtnso3PPvBAMDODwj3fsjuBIvZ1Vg4yNjQ9/0zc+GBglJVHiOj2yxgUGvGOii7S26dtF3uYdOPNFAVakZ2jtPI0cNvPwwqmnXSgwFL/v4e9cO2uUl9vSUOzrCw+Q2GaMyYM2QIzcxaJeWwkoZOYW6rFhOGvESCGjSHa+qmNyAcY4G/wdyR4R+8/eSrFwBhg/3F6ShXSALA9qOejcOxvu3bUWDDXI40WKxTlg44dTO6k3T8Ch9BLb6OwYqPZ7HrL6LJwyMPVFaeiC02cJwT1FxCmMGPjPPkOSAU0hnTIwOcihqqi2qKGQufIbB+erMXbwwkso2QYaUTdQ14pHu0YYDOe6mrsz785jevZfJmHP8r30AXEAAAAaZmNUTAAAAA8AAAAwAAAAKgAAAAAAAAAGAAQAZAAAcRPiHgAABDJmZEFUAAAAEGje1ZlvaFV1GMc/z+9e3TSt6IWC+cZkmbMVli9EJBiK1WxaVqtRUb2ooMhhWRPG4GLgjLUc9udFIb4L8UXN4VYSMojozQomNsStYX8Ui9CW4vXu/M45Ty/uufeec3YnBS5+PvB7cQ6/+/x+n/M83/M893eEWbDxwfGayUL+S5DG4h0durV2/sN1TXVT13stMxsAk1cLLZXNA0jjZCG/czbWmhUADxb5QAhoBWLXd4dHbr8hAAqGPotYi1AcEMCCzBzpuiEANjzWMGHRD62AFSiDqHn2289H1zsPADBVOy/nifxuiSCKQwIJezWnxnmApqa6Sz6Sq6RRcXhw//F7Rp9zHgBgeKT+Ux/5wQKVIfjCu4OD4zc7D5DLSWiNtllES2KOxuKw4LVfjzWE/8EO9Y0eNvCkRAsaBUG9bGDubn6iftzZCJRMCd+0kC9HQMCKzC1k2Ot0CpWs9dGG36zK+/G6UATRbYe+OLnJeQCAqWy+y8KvJSGXh2T2DQ0NZZ0HeKV5Td4T05F8I4GF+p//Xvyy0yIua0FVPug/9U0GWV8RtCJwsSaUO5/ftvKCsxEAEBENDG0WwooOBCtyWz6jnc5HoGTv9Z0+iOgLgmKiTQj4ZHR12yP1PzobgbKgxdtl4VKqzcgGvul1OoVK1rG14Q8f3VvsVGND2NDdd6rZeQCAYCrssZjxSAPljtUT2bd/cLzGeYBcyyrPE22PN3nFuiDL/wp0u9Mijlt7/9gx0E0SPc1I0JdDG6zY83j9eWcjUDI/lB0W8ZOCZiFzMrtviAgAbD96+iNUXi12qVGBg1DRtT1bVgw7HQGAK1m/0yIX4mK2ggmFXlTFeYADD626aNHd6UbPw6x7bWDsKecBAJYuOPexhZPpZs9X073z2ImbnAfINTb6HmZHSsxYWDrpzX/LaRHH7emjPx0R2GIA0bKgr2aNWXlg8x2/OBuBkhWMvmGRqdR50ryChl1Op1DJ+prqJqzK/iqp1NoyMPaA8wAAGnrv+HA+3Wb4YbY3lzrVcxKgf+tdly3SmTpLwoquHllz5kXnAQDWfr/soBWGy91qqTao7tn49cQtzgPkchL6oWmzoAlBG1lkPOlw9jWatnUDZz4z0Frskcp/QT2DNhzfvHzMuA4QiP+2hSupNmOuJ6a7GIEjfy6kxusBbUQxJhaWDBrvDsv5luzdNXEd6+mnz9G478o8idaiio/oeomo1k7zL/qg8NW5T0BfmqlMJzeTBIpVyth9rfK76UDx1vlaPgwzzFPFwIkswsbYl7jk+5jKR7oAECTpRDTlFEw059qbEYzEN5YEivuo+uCKZ0wYuDdLoKMYlv2rAhONsByh6UBJmMqc9GaST1wQicFMi67MlLZns0jmdQiWAPf954pZBagCk0onrbYZrZImkQ9JRVCTERQ4KyrP/APT7dIdHNFWEAAAABpmY1RMAAAAEQAAACwAAAAMAAAAAAAAACEABABkAgD8ivGfAAACBmZkQVQAAAASaN7Flb1rFEEYh5/f3AWDhQSCEBRJYnIgNiI2MYUggpADPwoRxT9B1CaxCcoJ2gSLQFoh2NhLNKeNH4WIeJWIFjkS9UBRG5EouZvdfS12b+/2ONvNDwZm2HdmnnfejxX/0eTq2o7dFKci3M835dEP5KBLK2snHXoqwAHCSOaVe6dKtwDUb+OhlcZeVwhfCiacGUhLtfLY1TygLzyqPxScdoCMNvBfF3Jg+exkw/XbFBTCRQ8THvASAVw5vPr5YB7A3jTrUSu+Ox07fZGFvi88Wf101JleCeSSkAiQ7Pj7mfEXeUCfWVlfcLK59t0Jh5npWPaFzRSgux7kAY/a4+uWBa/JSa1CeNvD95gh5VAkFjPAI0++nPNo2ktxKJINAXajXi418wKulku/AzQfg3Y4WnCkA1yrDQSmOxmvJLz0bn1z9D45a6o2vuzF24QhjXYKvOvHyGUvlXq98sYc5xXmDVypKAoid82DdRegAIaebww1m8W6jGHXLrK4nTz7NbPvBNuo6ccbDxxcVNKXHcDmVnHeo+E0d+MRtczNss0KFVz38KedpqL6bQyFH4FB0j8MCLwza3S9dpo/ythZZt0ToayNdfpooctOQAHrc3a63iOzQQFFFN5swwJEHecGJO3PXm5ZGAMlhdDTM3ugFc/VcSCyLFSY2PSekZ6t+Ps/kTTHxalO1YsAAAAaZmNUTAAAABMAAAAnAAAAFQAAAAAAAAAYAAQAZAIAtADR+wAAAwVmZEFUAAAAFGjexZZNaBVXFMd/5848Y56hxSCI+IXGBCXdCFnUjRBdNJoYhFJRsKtCLYJBrREJ2EZLm42gNigoSLtrURdqYlT8WkpBFyIVk/hJWosFIyjSvrkzc7qYybyZmNQYX5I/nMUMh3P+93/OufcI74CvunrnGpxWIZxlhF86m2rOM07s7+rdI6odRkGIzABGtbl1/bIu4n9jwueXbs8o8/K3DVTFwdTBNB1ZV9UzHnLbevrLZvrhXQOLo3iKAUTpt4Xgo/YNtZ4ZazDx8q0+UmWB2MQT3Txe5TrXVhc8YVcxnkQmUm2m51rGrNxnXb1zc+L0CeQlW4bDP69bsp33wO5zfVcEXT1U1jj2y1BzNWNSLjC5HzwkbwEriXn/ONrJe8KGwQ6L+IlyCBY+ULHfv1W55p7+5YTmpoBJnQxBD5xuWtJKCdDS3XsEla3DhiN8q3KF0DlkEZPqNTwYFLesgxLhtevvtchzK5KujPlfcvXnH3zqCysjZ4kMIRD55lTD/MFSkTvRUDto0f2ZwUAYlVztyd+nWUxH3ANF1YR7z2YPHqfEmFfx51ELd9K5RiVXkS9vsVA9/DS+MV/fqquzpSbXXl/ve5gd6VwjDkTtxYHKaWHQL1BpVJMmdeDajcZFq5lAbOy+f1ag2YyqXBjss1AZXR0yZIGHu50Jxr9Gd1qkMGJZay49WmqRLRbBz0yonrjVOP/ORJM7s7b6gVX5ccSBsL45YCE3rNdeoXzLJEFD7zsf/sr03Oyex6tcMVeThzi+FI3S9rBxYQeTiIbuh1+4yddJdQIZOKjJCyAYAYEBDdzDTDI+vrnop0S5Dy/88SXoMROrluxXsOnZmgW/MgWIyF3/u6K8UOgTZU76/XSE3158Mm8FIjoV5FwA1/PaLDJHBAzJvaaq4a6pIhYpd/npAsLwHko52Z0qMKpPMit0Su6in2a+08q/4aPFBdLJbDjgoG/EdgnCdoiIAYRF4o6ILM4m0mxijQcnQ0gzSU08XAJDA4aghJolF8Q+6Rj/AQB4LsR2B2nNAAAAGmZjVEwAAAAVAAAAIgAAAB4AAAAAAAAADwAEAGQAACn7SAcAAAOxZmRBVAAAABZo3r1XT2gcZRT//b7ZLc1APfRqttSmEDSkHgKBiJdSikibiGxJQYh/DlLwYPEQO2CkkZYQuhZXRA+C1autpqlbElAQFL15CWiT7aLm0Cw0h/6xSZudb+Z7PUxmdmbapLubrA++wwxv3veb3/d+772P2KJ9dWVhF8Sct4CDBK8Zwcm3Xn12Me7z7fRflwgcIwACUAIoyprvm558/sA/AKC2CkTDfOEBb7vAfg0ZMpDv0z73RY1q4IEGoAFoAi6406hMIfThVkB8Oj3/giJ+I0Cu/xUBGEvvfufogdtx328uXztDYizwE4TsQOHQa0M9P7fMiIjQU/xEA4z+NFhLy3/03k37K1tPusBS4MNo+YbFixfFahnIxJXrI1rQHw+qQbjAR+PjNGn/1196flVTOSnQ0EDv6o75Ey0dzXipalPuLShIjgAo60kIzO2rdfcND9PfiMXPfpj/1QJfrCeugMCtlhjxsOJoIBcxwWDVYEY3AgEAJMVXOKkBU09cQpO7m2bk/ZlKJzwpE2KHybnOxtSZoe58IzE+ni5/DcqbhEQJ3jQjNV8KGrBTueGu0XcajkHX0cB/8RhNATlRqgx44HHNoBZoBvR6RLEw+Fyl0TgfvNJ704NMht/rphgRoQ8UA7nG2CCXV3ZaE80y69fMeQ1VCfOrYSBvXP17xAP70/JzwbEvD3fdbVp5wz2uSznVFCODpartKpwNqIznBubuPOi60GotmhzsvuyBPzYMJMs1RwtzYZ8Il6es0UubyLWhUmD4nga9J8r35ZlKZ9aoMoGEXAlMfXe0K49tsHevlj/PPDFHjSpo0I5rnoBrBA62yVYz3oebMnKotDgAZX5PdFcBSDk3e6TrFLbR1GZyrSkpajDZXYllvQMT2Gbb8Gj6Z/8d0WB/cByMyrCijP3SglxbAtJXqtoa+iwpYXeMumtu5ZkLaIM9Fsia5ToEcgSgyAiIJdyyXDfszOkX+2dudFrwywDs+EhHwdSfR/bm0SbLPDpreAUftIOjiNhwLaMctNESQJ6evTGgYY4HmwtUffIqXh/MVdoJRCXkClOsD8Ph5KWWkfUm0GaLGHlqdmlEM5Sr1OUqGFtqg1wfn6ylqt2R9RcoyKXGv7k79zr70CalPMJIJmscDebI5OVH0Yz+HyACRn6q7oExCxB0IHZbI2CUyGKMnSihmPCTxHOK0aSP1OuFlezkyMD3TwPsCJHFbkaK5L5kUEluIkH5T24uiQ0SLYJ1YEaSQB4CgnuSISYCxzkAAAAaZmNUTAAAABcAAAAhAAAAIwAAAAEAAAAHAAQAZAAApfNfPQAABAtmZEFUAAAAGGjetVddaBxVFP6+u5u0a2IffBGbkGgVEhNrS6VarYp5UMTmpw1tqI1FwScJKIltU4mBQLtNlPQnWPsgiogUyqJ2w6apCBKQIEKfRLPNpmDEbYSqhBqSmJ07M8eH3UxmNj/sJjsHDiyzc8/97nfOd88ZosB245ufuwCe9j6V93c37wivtoaFBDA6OL5VWUaCQKnKBM9sMKtNu/qZlp1TK61ThQShbeOMBks1iCUHLKA0UMRe35n49uv4roCybhBQzJyOACjObwHU88821476woSI0FL2BQ2qbBY0HadF+4L0iPIFRDQ6dlgDz2kAXqfHDeCJ7x8fO1rwdEQiyZBdPHMzAFR66Zd4hoQd7iJVwJ+bNKvqWmpnC8aEUTx73AQqndNndjaJDlOhTYPipCbtW+eCeK9gTHwRS5RZlpUgUOI5LTHU2lTTAABXomMRBRxy/hOAECNoqccaDtbc2jATC5b0aqAkqxb0AtQxp2hhv6uBeS9TLF4IoG/D6bgYi+8yKK2ahMeBi282VScW33t1//akFp7zKAaApjRfufrLS+sGISJM2WpAA8rDAjE9Z8jp7PdTwfleDfyxTDEMnB8ZGQmuqybC0ZtHAuRleqsepN3W0VhzaaU1lwbHX1Nif6my1wBteTNxLpIMmUqdcS4hhwmJz9x755PV1r3VWHXZIEazUgcNnMobxD+h+RMaqFyiNO2pADp66urMVfsDKZbCOxqwl9JHaPK+vNLRHkuUFQkThHglCYmdaqxuzCVGfzTxOShvEOL0l/yYEPSlJekuLmozIMdyDZGicVIDM+4YOYNouzbxlEHV6mpI0AAMmx/17nt0Itc4XU3b75iQPnc9qRw1yZTwrAaYxcI0NxnhfOvKStlnNdStxXrKCcTrQ78dMYV7s7ukCek6/3LtdL4gelpqDYPSmTMThyLJkKakJellIf5A6dSn671x+xqqrprgdzmBkJDRaYAVWQMKtEj7WpLMxUyb7Ro015RofSxRphhc1iUJDn5Vv21/IQait4cSHwfXRMqiDwiUuDVNwAhQThRqNp0Lmt2rMvHC8OSegMiPBOjc8wIQ6L9ev+14Iad0tZokTZF+DdKtBoP4+z/NMApsK6Zj97XJVk3uTaeA7o7X/cOBh+76DuLpSDK0oKxwehQTd9uNb77n98/ggy0DMVNqniRYkZ4V6QJht/+0QUnm9AX2yPDtcgVrPC1JcUkS0V9fefAAfDIPE6aYH5IsSZ/cYcFQEuiEj+aAuH/49h5N+3B6Y8mM5gAFA5P7yif8BKEWJWnRHkh3SbgmJvUXi80wfLYgAGy5PnVUk09mPt8cSSrY3VMvPvyv3yCISDIU2oJxCiqyJuGxu5vLd6KOpt8g/gfmUtaG5klergAAABpmY1RMAAAAGQAAAB8AAAAjAAAADwAAAAcABABkAAC7TR7vAAADymZkQVQAAAAaaN61V11sFFUU/r47C1ipUR8koiGSWLBLRZO69UFsDG8KJUvAWGLE6IM2UQnUStDU2JXUoobKopLYxpioMUoNv21Rn4xBTQho1MTWtStEEGOr1loxdefO3OPDzuzPQGF3s3OS83Jzz3z3O/c795whZrHj+7/tBNhdtCh8sGn98ndRJVMXWvz80A/XafBpB4ABIN46gQWookUutKiN3aPAWnqnIwBCNCLqUKjgH+8baXTgbiSzoHlw7Lkr3pCuJnhR2kWErjJJDSoNIu+Y1DKnG1W2IuYHD36/gUAz82yzpxM+t3pd9M/QwAcGztRkOL3D8oHFT7mMjv/+Xz9CsBy4PffcVgA3GB+cWXAFtLe1xXQY4ASAtwdT17uumyIwv0BgIGT4gbUNLYUB7x8YXRyh2a0EyyzKp2SkIx6v/6di5jPG9BCYH1C3FlodwQADs88BGhUBF6wj3BoAGytinjycarLEHGM204V1nWyLL2sv3Pze0HdXO05kMrtP/EOKRWlujd/8Rdml5ookNUANwHcb+MO1nO3BzWMnlv9tA2ez+3KlSFvU7kRCVNngGrijuKYJh9L1WMstfwU3JxI0GkgUHtTz2xbfOvpw+eAENAs/JCPTV4zPWloT30TfssnjmkTOAdhkT9/AT1eWydxj7H0oY+HJxMqVzmwBiQSNFmzRgOQOTEITC9x5mc5y055j7UAGu1qin1wqqGNt9EsN7PWe3gLn5tf3jy6thLl2LHmq1EDjRLZq4N+AXubaFnrLu3MAtuFrO1ZHfyw1cNv6Jb/YkJ3FegE02LLzcOqe0pmTk5xnv1CuWqcytS9p8Oe8+LLizYi80td3Yk5Jd+5AOnfd3TBZLviu+xbN2MS2Atb+FdaPL6x9vIS0c2Rh7dk3K20OL665aa8GPwvWvg12PXNk7JqLg4u0X6y0SjHbwhYNuoEB5Cpqd/slu1o1bNPgWD8hjygpGkSMKHV7b0vdVyVPr5WY1nxWg1OFwtOEco1JQoShgr+xrm5Ck92BpgNN3vnEcPreUMEBQF079aoGU+c1HkHvo4O/Xh4qeH8sprVRmwLCgwYWGZ7rCE1whdY6lB5WwCrlDaKe+GYErH9nzY2nQ2Gee/ddbNZgJtvxcl5jaHpCS7tvH8br0g6xJ5h+G7x/w9DJ5lDBASBD87wGfgs8vbQhSX/kCg38o1VLpm2orvN7Phq/jp18KDTB5aceUUebTh0jECsSn8iEfRmWhgoOAM1H0iuUqKPKG8398VxBXg4dHABWDJ/6gECr9z/g/xvY/wMSR7zfnh0m2AAAABpmY1RMAAAAGwAAACcAAAAdAAAACQAAAA8ABABkAACQMqAdAAADhWZkQVQAAAAcaN7FmF1oHFUUx///u8nqdpFCHwStobRpNVp8qAgigtiHomaThvpQjClSEPTBB9102ypRWdQ0taUmLXlSFMWPhwpq2AbrB6QK+qI+CBLcxYRiqqJGUUp2mzkz9/iwXzOTzTbNx/TAebgzw8zvno//vXeIJvZ2Lr/R87w8gaQBwIob4kxfz23dWGNraXbzkqdDAJIE4IMThckgAlsUbjQ3eYdjtY8gAnCqo0/0dOSjgDONLqoq5605KYARADUn/plz9GVEZLFGF+M7Hn5EybQFUXUFYamZ/oe2fxUV3IK0vnp6JnHRFI9YaCWNlSaATl667o/XEKEtgJtNFA8ZxSZTqTWyDAej/dmdO90o4egfpHP5ja3KPKFB6YDmXtrdsRsRWzByiqMCJAnWu5OQmLEZXAWrwT05XrjLsexjpdZMtd5UR4+lbi0s9wODY4WUge0lMBs3PN7ffcuvVyYlqpy3HBaAAqLm5Kx68ReXC5bN5Ttdak6IPpd4qmT1y+Of/pC8IrhHz0z3uuDdAU0r69oLI3s2/7tcOFHsC0yYbC86icNLhuvO/bZOjB4VAv6oOeCPNyYvvL6SmnHJPxdMWDUzMD65aUlwraZ0UJRtlUj5nOmVSodDnBJwPlAqQMJ6sWNLgnMVB8uz8r/AjL3f1f7FSrttuOvmaQFGylmpOiHg3gNjhXsvCydgMhR6x6MeWi05mFM7KDC/CxnIjEuMZLNqmsOVU1j28qxOfZRqL6wW3Js9HRcd6nPh7Ljkjr/v/Hn/ZSJXj5pD/FUSDq62mLZ9t/UtgX4bbg5HMfT451Prm6W1Phvw+XMrkI5F9S5LKzRPC6i+xoAA13sl++xSIjdp1p1/Y62Wone7tn4jBqdrdVdPb3p/bmrbIjVXqTdq+twa7zocakbAYki24kJ9pVnkPv6+c8tna72Qf9i57YIDngjpHgTY0zs+vatRzTmuthxGRHZNsXVIgF9Cuod51eH7JiZagnCKkz+lbipEBffB3raSCw74olb17euLbY8F4Bh3BxGxnU1tfs8hvg7pK0R55P6zMxtqcNO72v+LfBdJqgMeEECDzcEN8GSg4TY9artn/Pw7hO4rHwe0uvsWGNw+8eCWvLmacNbGnhFgLrS0tboWJwCA134yM2V8p+vgrwcNjIOHntAzWk9DzPccAcSgDd5dG99A1cSCe4oH/geA/qt59cXVmAAAABpmY1RMAAAAHQAAACkAAAAOAAAABAAAABgABABkAADVd96AAAABxGZkQVQAAAAeaN7N1E1PE0EAxvE1mhg9Ga/GBF+KaSkB1AIK2k0LKqRo0VaBKm0VtLE06Dfo3XjxM8ClB8DOS/XEhS+gCQc7s7tdqx5IuOGhl47PgjUYE4+bmeR32jn8D7OPYfznFFl9qEhEe4nUVQmW4VUV3ou3hhZHqSMLVGw9J0K9gAK8BETvvv6wfVqLxiyxMjkiVR5hT+EZLO4H1wtaBKYrzRNzVLoZKtVjhD6BechRuV3e3DymRWSKWOUUtdRDRD6CGZiFDBG3tAhMkC9n7lJr7x4ip+E+PIAUtTcMXc4daq9MUFtNIiwBU4Do1jSzurUINLkzHGd2e4zZahxuA6IVot9oMzmjzN66yRwVRZwJsQM75rpzSovGCG9khhB4Da7DCNw44Nvk5DdEKF8V0RIXx//5eIX8ODnAG83LvKGuIiwCgzDMnM/pijrqRyDm7l1n7rJEynn8wH9dCDOnHEZgL/RBPwx4am7cl13mInR47ua8uaNy7c+FCx+/n73E3Z+ggggLQY+n5vo2OUkizMNzl0akFz3LZWz/Qhf/unoOgefhIgSgm7utIGkG/IqcwBvE3H37PXcq2dloZn3yntsv5ZpZTXufdM4AAAAaZmNUTAAAAB8AAAAvAAAADAAAAAEAAAAhAAQAZAAAQRf7KAAAAX9mZEFUAAAAIGjezZUxa1NhFIaf9yRIYiS4FUoIiv0BLpZ2M0OXZnITrLuT4GQXoUsWt44OTt261EFau3bqD2hLcLCF3CxO1UFK7809DrnJvUluO38vfHDPx7mH57x8nCNK9OL7ry2T9gxQdrLvdyfdp18IRNX5i/X9Qf3GRj0B5l6Ev6g9vPpKQFqA//so2RZqCzCpAJ9+OO10kpDgVQxWDqOWMeoLGkbuuuDb2eaTVwSmGecTTz5Laoydnrp+a175SICawi8dRmux0tdjYMc8c93Zvey2foYIbwC4a6R0NwbFQIyIJWLZbz1IegSqKkDzaPg2llYtc30yGo3003Dj2Z9Q4cX+oF5v0pfTnpvr59e11nM6SkKFt2qT7Ri1x8+E6Ulc70MEf3lw+Zgdt7Hzx9E/nDr5FkWQmvtVcbtaYbbmeT4Tl2zkPMfzuVwp5Amo4CW1C/FkWYqaOctCkZG+ET8iv2sBzIL4XMEyYC/5b7GZ6STj/hqljWTNGIr+A3aWb1YDMT8GAAAAGmZjVEwAAAAhAAAAMAAAACgAAAAAAAAACAAEAGQBAH8nJFcAAAQ9ZmRBVAAAACJo3s2ZT2gcVRzHv9/frKnrxnhvNGlpDq1BsGmwleAhoCht2pqqEBN6qJd6EUmJbaW0eGhSK1aM1oNFBS8eFgoJadeDnkoFT0XBxmyotrBpQYvRRpRk3sz8PMzs7OxmTTfJ/pkvPBbmzbx5n/f7895vlqiyrk1e2+i6iSyA5uh1Kke6X3riXLXfJ9UecMlNjHklkwdgmJBJ1ECJag525eKPXQ54kAAECglWiMQnO/Z33qgFQNUsoKq0xfrQEGIIGDDf5j194DRqpKpZIDNxfUCAZwQEoRD6q2MpT/Uc2PZHrQCqYoF0Opc0wBkDwG/h6v+curt4ATVUdSzQtPCWAdtFA5/P+z8x3H2429QSgOsd4MupbGvCdbIEUvmgFQBQXnq5//G9qLHWbQHHdc8omGI4eYUAxhIZQR20LoBPp6a7HBdDXmBKH4AQ4Pyr+7dm6wGw5iBWVS55GDekGBKGDAIY87atp1EnWWt9sHn7wKCSwwpAAXgAlIQnGHn9QOeVegGsyYU+SOeSi/hnLBq0hILA9MLDv11AHbUmgL+T/x6Fsl2gKKROAqpH3untdeoJsOo0emIq2wpFVoCizANg6tS+rftQZ63aAkuKdwVMie8ywYZFY4k3ggZoVQBvXp7daTwM+W7DEICefnx277bZRgBUnkZVuaQ8Z0AaAmED5u0NzigapIot8NqlG4MG6IlsVr4FqCfOv9A5H2uAV9K5pMHSWJlCZbo1dfszNFAVATC5eMyQbcyvvuYPbDpc77S56jTaN5VtbWIiyzBthhaY/Kqv40U0WPe1gDJx1g6Oyiz4v50gjiIGWhHg2czNXbbqoAAQLRQqFvSji3s6ZuMAICulTVv1fQPQwE+ZDgkD3qWxRhET/a8Fdl6+OeSQPSWFCoQ8OdG/+a9YAzydziVtOqNlCpXpxEO3PkeMVBZgodk5boFtYeBqfvV1+GqD0+Z902hHZu5RC+6MQCOZBxBg4ofdm/oRMy2zgKPOex6ZKjouQG1V9xhiqCKA1szcLkNvoLhQAagc/2XPltk4Akg0bRp64w5Ag6BIJ2ETv2uTM4qYKrRAy9e3D9rkU0WFit9O/vrclntxBfCDOJ1LJlswI4q24sDV6/MPPvYkeunE2gLSwrcN0CbUQuAqkBAdjvPkfQt8c6cNnjcDRTIsEf3V90RxS4quhX0ovZ7frRmem/yPTvl+K+iL3g8AlkbGUt6B8Pj3u9u/qxwgM/cFBIfK+Vb0m084SV2hr9j9lt1bugDL+nyYextUNl/ta/+zIheioFfLneUAuEFjsCcEu3HhxRrtK50UIYxMWKMALA9PQoBHHAs7AHxbEYB6+AmCTSvWBBGY6NeIEEZL6uRlLsbwHxtGYIrGKmQ/hzTZyoOY1huAuxFAVyUPeMGvG11JRiwQgSnvYgUYgQb3hzALFvVI9vmOXKUA/wHPJ3pHqnUMtAAAABpmY1RMAAAAIwAAABsAAAAoAAAAAAAAAAgABABkAAAH2SvHAAADw2ZkQVQAAAAkaN6t1n2IFHUcx/ExlbpQz8cyT82uy/OhujxFvRCpRDMtkkCs6zCCMEsKQ3ugUE+xIktFCPEBQzqT2Lyd55k9jBa74+jsfLrd2b19mN2d2yUpuL86Ag/uvn3GnTnX88R/vgPvf+fFb/jMMILAfF2WL8/4M9j1L6LSOpsjO7gt4WKw6/RwCPVfkq0qVqiz+VotbjxwByZ2HWaFiGgUTvX7CKfq7QjGp7BirWL0jXbc/I87sW2sUHugvew3MZK7IEaoNRghF+0oQrHO451jWTEjaO1uEaP0KzCgdAFgm4ueu/oiK6SqVysUMdqnATORj4bFiMo+9YBk/dgsWiQCAUoe2m/K16pZoSY1VvuTZA38LFkElIbQYPQQ+9RPybHW01KMmhBQctFfJKs3ELAms2JHpXj9MSAn0Q/IR89KsfdZoUOBfNkRKZ77Xo7TUXT8FmqFw+ExrNg3cmLPd3I3HQZ0BPnoCSnOO/X9aqJiv9zd9zWwA2gIVeIK+9R3KYmmPUqC9ind9CUgD+0/GIzPZYV2SsllnymJwc+BAaVGD/1Kjh8UmLc+aruSatuhJOljBJS+KKK9jSHmqW9VU29uU5P0IdoOzEU/cVE1uZUV2oipv6OmnC1qit5DPvqRkrQauafeoKYa31LT9DYgoOSjH6ipNbynwtQ3aXZfvZamBoBDqJaS2Kf+qmafeU2zaSOwTchDb2zWbd6pv2Rkl6/T7MFXgG1APvq6lv6Wfeov6Jm21XqG1moZWg/IQ//ZIGYnslrPapmGlXqWnge2Cq3x0HV6+l1WqA5TX6pnnTpgK9BKQEXUtp7jnnqNkd27yMjREkDL0BBqZHinXmUUZi4wcn1PAqtBtbdQkX3qlXru7BOGQ9UIKD1VRG/UcE+9wigsn2U6g3MAVSIXnQdsoZ47wD71h8yejulmD1UgoOSijxvO35Xn7XJWa4JR2DzJzNMUQEDJR2ebzhbmP818WVko74wDNgGVoFEhTLxTvy9U2DcmVKD7Q3kCSj46ucVZzXuq83/NFloK/wnAgFIJOgDULkeTzB57KnoYPYJmIjxe+zHDsavQXITl2gvR0+gZtFjP2vgw2HhlrqzQc/VFLJQ/5UKluehYD33QO2m5e1I8WqAElIASUHoUIwJKQAkozcd63XcUKPkfBqADdWpmKbBCejh2N3T8COiMm6hzG1pdgtZ46GIt+6kgmAXlbthw9AEXNW9Hp42AVpagC3xUd14Gdn0ObnjpXqDb6BHQiSXodA+dVYLiw9A/z8zd/NX7HzEvJHngoXNkAAAAGmZjVEwAAAAlAAAADgAAAAUAAAANAAAAKwAEAGQBAJ/K/NgAAABTZmRBVAAAACZo3mOQ2f74uvyOB7UMDf+ZGEgB4tsf/ZcEYuntD9NJ0igE1CQCxOLbH68iSSPv9sf/+YFYaPvjepI0cux4/I9r+5ON4jtfcJOiDwCu9COhqRjjzAAAABpmY1RMAAAAJwAAAA0AAAAFAAAAAAAAACsABABkAQAanuSfAAAAYGZkQVQAAAAoaN5jYNj2RIZhx5OvQPyfCYhZgJh9x+P/nDsfr2PACXY8ngvSgIyBmn8ANarg0fTkDromhp2Puxjwgu1PNqFpesGw+y4/AU3PFYAKz0I1PGbY+ciOgQAAAF9eSoCTwHWxAAAAGmZjVEwAAAApAAAAGgAAACMAAAABAAAACAAEAGQAACJuQm4AAAK1ZmRBVAAAACpo3u3VW0gUYRTA8cmNLqggGmSJYCYUCUKBoBTZBQJNIioqhCipEIokySCwixRZgd2IioouqGRsOLNz25nNaCkwNAV1173O7s6us0ZFPRRhkeTpTO7m4vPpqQ78nwa+H99whmEYwnltHcrr73J97WddkNpAl/sYpcPgoe0zEezHAOdeSob0sa5yPHRyJvSGG24lQ5qbIe0l6+7rYd3Qm4qwrveD3GAWGaTaPLXdnBteYK8QM8G+KeggGcLz/kyeG3krcSOgYiboxPCGg1ar1UIGddq8F602D7CcBxCEJPiMdVWQIQ+6goWPbN7v7TYvdCKWBAXO84R0nW/xPv4OIvcxBKEDIQTHOzlfARlyWQxsvMr74AaGINxNgA85TzPdOjuds1t4v+sS74dWLAne5n1Gm2M4nQxqEoP1p4UAnBX8cB6hJHid9+4mQxpUT3ajEPx4AqEm7EwCvMD7ewBgFhl0SNJu1otBaBCCcBwzwZNC4OcpIVBKhtTatBUHRG2iTtTgMDYNavdI17lGDjv2iCHYhwiCkAC/HFW9i8iQLVJ423YpDDulENRgJliL0H4h1EiGVNq1uZVSJFiN0FbMBHdNgaEj+IwMWitFmjbIEdiEIQhJcIccriZDSmU9t0zWP6+WdahAKAlWSZFu0gUoUaJtK+1RQBAQhDVT4MR6VSsmQ4rsetkye2yyGKESbFUCLJf1K3RXwa88X432LrHHoAhbjkgC/FSuGtlkTo4S27tQGYXFWL4Sgz+gotfR3cb5ISNDMcayFANyEJoGR4cYK9D9ntMc8ZY5qgHzsUzETHABQrmKsY7uNs9jhYwa/4aBBUsBn5KuMwLXTCQ1iyM+Pk/RC4gh4/FMiHHEzzHkoxhVePhkChRiHO/Smb8yanwzo4x1/H6NopHH/J9/Yn4ByYxYN7/uQDkAAAAaZmNUTAAAACsAAAAVAAAAHgAAAAUAAAAJAAQAZAEAs3ud4wAAAfBmZEFUAAAALGje7dRPSBRhGMfx8Q9pggUZFoqBEQgSgQSCZbSQXhQURA8S5GE7FJUHFfKgsHkxaS9FeglBUC97mNnZd+Yd96Kgl7IlaLfR3XF23d1xV7xIFyFEfXpGZmnxEjx63B98rx/emRdeQTjHvonhhe9iGM50SAY1MdyyLEVO1sQIfM1D16WfXhLo8UCxJOnrivQLghji4OB7IV/oKgmdkzbci34dfJiEaA5fkSJuEjglRyun5c3sF/8GzGF5+A/7C0jopBzzfpCj8FHehBnMwU/m/fojEjgqm3fGArE/7wIxmETY6+B48gXyjb9mhjoUMOAtouPYRCBq4wfvmX6LBA4o8U4324IX2BtmwDDiozbOjDES2OfTL/WyeLRfMeEZM8HGX2KDzEh5WLaChLYpiZEOJQ7dWC9m4wOIP1eMHhL4IGhWt6rbv11qAtqxHN6nxJfJl9PIk7NNPAnN6jY8xBz8qEtO3COBNTzZVM9Txw08BXcR/ocnPtOOCFB0TUuv3tDSUKel4DbCDr5/n2Wvk8ySoPW0fMmCSs2CKoRvOni9mnxFOyXfKhOWdiwMSrDLiF+xcZ6OCCtQSnwsLZcN5leKlWs7T+hPOt9tPIsKwYwonHta5lMeagrMqhUuZPaJufX49B8XVlhh/99fDnKESFU/MpsAAAAaZmNUTAAAAC0AAAALAAAADQAAABAAAAAIAAQAZAEA9UdUDgAAAThmZEFUAAAALmjefZBPK0RhFMZ/58wted+ZspYssFCWslBKFkpZsGEhn0EpCwsLyp+NBWXFN7DRlBQb38ByjJpYkJKbycJcZsY9FjNu103z1Ls4T7/zvKdHyOiqWO4tfNfvAsinfTFZC7Jw1Zp7X6J5j+HMyLXshgRa/APvn92OhsKyx4gwHEZ76WhsbqSiCWkmrzk9CEU1FCX13qrN3DZAkrx0fr8Uik60UsEBHiGCjYXF4bcEHj997H7Vxq4zTb53rVNKXYXnk9/AAKCaj9c/0f7srZ/Y6vHUVDNppPviqc9JXHaY92Y4wJnhseLl7MB8uoAgUtuKUB/9SaVe0++1bK0ByCRADaEmgjejJvFhODNUycKKUUobHyIvYdDc4R8p5FaAm/b8hMSLTA++01HXDz1smnZCfgAx7nr6AIqbTAAAABpmY1RMAAAALwAAAAYAAAAEAAAAFQAAAAcABABkAADHjO1dAAAAQGZkQVQAAAAwaN5jOL32cuzpdZf+o2CgGMOZtZeL0SVAYgyn115SAuIvCNVANlCMAQROr7lgeHrtxTlgDGSDxAAF5EHBroZQLgAAABpmY1RMAAAAMQAAAA8AAAAJAAAAFQAAAAUABABkAACeX6S1AAABHWZkQVQAAAAyaN6Nj0ErRGEYhZ/3u/d+N5ntWFpM2ZgNo252UhaSYiFlMT/BD7DzF+QPyMKsJKXLykZJjVm4UmpCMigsxuY2zL3zWhjCqJlnc+qczqkjAKoqld0oaCkZJzXP4jVfCnOFB7og1bDq1xvxPsjkn+xVIRLkSFvpVrAwctFRLm+fFxHdpDsVQdf7EreUX8y/A5hD1x04djxOHY/IuFwal2vjUBPDkxjqIsQICYwpshG76U1552wJQKb2bnMeaWTRfotiAattRbH6qf5vX63qrAAQ3o9ao8u+as6iWR8GrWrme6BjULFQkn/fraphvJYDMw1aBIKfsQF8dE3ohYO7AFgBmW87VzR1orfyF+HjMCRZaJwwM/T2AQyzafxz+v/6AAAAGmZjVEwAAAAzAAAAFgAAAA8AAAAVAAAABgAEAGQAAK3aH+QAAAHSZmRBVAAAADRo3q2Sv2uTURSGn3PviSVEu0h1cwhULEG0igHHDoI/0IBWQaEKXcRBSgfBRcg/UEUUXIMFhThUqSZxdq2KFQcbRDEZFFOhQ0oa/b7jkDb9Uqsl2hcul3Pv5TnvuedIoVDu6WssFkGG6NSCwawgLywMHqSH97+jC8mzqbcjHrnvMRTwBorhAdf59qVgd+I/9WHqXKq5Edh9Q3fURKiJ+219F8eCCHURGsjBH0iursHHmak3V/L5vP+r41tP55ISBLMKCQ+otdwq0K4ich65e+UCLg8N751ZFwxw40l50Etw1UNSzfoU2eWxrauQPyZsaMjFzOnUo3XBa5XNmmsMfkjGCI6qMOLN0u0ERBKYoRCqyNilzMDdDcFrNT79Pu1DuaZiZzxI27W1v8YUxscye253BV7R6HT5cAzuKezrBBseTJHR7Kndua7BAMcK5Z7e0E167GwLHGkwVt/iggM3TwzMuW7BxeP9S+Fi8vy8SK4mwvzyaC7via9hLIeZdO14tcPm0oc+TSpc6Ghqq4oj/w4Gdj7/kugNll4r1h8dSzWu/xcYYHvpc8Ybj9uuDWLGSTZDrlSdiJWqzXip0txWrE6wqcpX4uQr8ZXwF/buq2nt8Lx5AAAAGmZjVEwAAAA1AAAAGQAAABkAAAAVAAAABQAEAGQAAFT/qnAAAAKNZmRBVAAAADZo3q2UT0iUURTFz3nvUxOFKKyFRgvD0PzXTDLYrhZhRFJqDrWwRUHQosIoajm7Ni3KJLdmYDAFkxgTQUTQpiIxLbUU0ijaJIHZ92b8M99tMc44M/ZHne/AXbzN+3HPvecSAESEL/uGfVpQqGPqO3MWpr1HvN/gkhgOT+TlRqOPNbFfC6ABaAg0MCPAMMEX4sR6fcd2j6wbEgqNtmk4PfHPk4B4yfKbwAAht/IXrXuV/sr5tUCUDdlqSBgSBhnF5YqCe+bBbtuKTb4JDZ0NBoN61ZB5JydkQDv+KZAOxAqgTRYbUbdLrIrXrx68q1uVXQDQ0TfiyaU6p0RKtWCLBrZroPBv1iVtJaLKkZP7mmvu/xeSqUBA1DbPaCmgDmqRNg34/gF0LPDCgabKzjVBMtUV+uiz6FzWkBYN8A9A0ZD2xqbqm+uGJNTZP7ZXO+jSIrXLtiW7EktwqqWpsjsrCAB0hCfynIXFuxpojXeSOifYuQ69x5srxtO2a62Q84fK5ornyk/Yoroz19yQBbNK7gQCorKCAIDfz1j07c7ThuhNzxZgyPoiz5g/K7tSdenJUEHeXP6ghpQlZxNfhFEzWF4dCNBZdycJXW+otW3yTFpwSRiqXdrz4WhWdqXqRmPZ8wj5bMVporriGgQAZqmu2SBsEDaT58nX/nCs2jVIz+EdTw04mOgiAYzonHrXIABgk/0Z6wwD1ACA5RYkQgxr4VL6GQ8nWeUuRPG9coi0cyNSlXVOUtUaFP2pYOqXBjak3rSY6M2uQQCgIjz1VQMlKZ3A0SxWbkIMOJlxYn6iaHraVUgEuGrImaXtWjTExYG6ugVX7QKAjY8+b4KGVytr/EdDyRcA+A3D0hL1rKSxAAAAABpmY1RMAAAANwAAABkAAAAiAAAAFQAAAAUABABkAACrOn62AAADL2ZkQVQAAAA4aN6t1llIVFEcx3FLWqAeCgLDoEXKAsnQ9oVWi6IgKgwLRSEKFNswKorKQikyipKixcwsra7jXeYu0+KWWWpOonM9M+M4zThD9dJLkNBLzb+fmS2itHgOfGFA8MOZ//9eJiwMh4iGVMlsfq3UuqrBYsbWKc2RYTyPYXSMsIltVY+kNqqQTKpGtaJJz0XzQ4PoqG0SzdyXlpaYQSHlkjNFAmBFOnqIngCqQk+B1aF60UFNosNuF1tTmcCG/zNSKrGsBzIjC5Ik1j8m/cReio63dqk1XRCE8L9GCss9UcWys6sEyH1UhkRgChAN2dBjVAmoBj0D9qIHe9VoMef8NVSgsLhC2VV4W3HW3JUZuyezjwKwcmAyABUZqJ+5fWoUHYn/NafsbBp6R2FT7yssE1jjH7AvdZIjc9AbWCKxeZhbGeYWGmBJQpjbXi7rXiq6FuJ2Lf3PzQxVSo40LtAlPFdYEmGAJemqEF3RXCBBoPAimd3CkhCWhH5bEtms754pF6j7HxXKrKRIdtIdVAqo93kTxbYkbq+k4keto65LTs9NIH0wxu023Sdfci2/orjoGoACdAvh4aYSxdzM9SV7QXFVXgJ0GV0FcKMHa+SK5MmehHOKm4DRD+zb7VwzuUI5iqv5DKA8dB7AxR5sJ1fkhLX95ClrO+UC+QXL54octnq2HAVyHJ1EOVY3nba6q7kiexX39ANWDx0CcAQdQ9nW9vdckUS8Bfaonk/7Af2KHdYcY7lCu9SOtxlqB+1WPbQPUBY6qLj5/ihJU73vdgABRukoE1gmTySt2j9yu+b9nKJ6CRh9x0IZAhvNDdmk+mZt0V7TVs1L21AyoFTVG+T6Va3VfMkbgGxEm1EioCTNa+OKJBi+vDW6j9ZpPurFcLuz3IDZdvuwJbo/sAzISrQa4Wa0HrfjhsTbAslzdT8tQIvRUiArdN8XgJO4AJOxVTFGp3+W0UnxqBdbpPslbreYogdSphkBmgEAGMWiODTHCCzmhkx4GMyaaAvQFEBT0XQUo3dqXLcqQgtEjbcFuybYgvQd64rS30SH8T5jjM64cbZgQQSKxOe+f/8KwVMMQUzpBO4AAAAaZmNUTAAAADkAAAAZAAAAKQAAABUAAAAFAAQAZAAAmL3pFAAAA+1mZEFUAAAAOmjerddrbFNlHMfx6jKQiC5DvOEUMycacUNAmQuKI6BGYzQi4I0Fb4iYEYKXKF5ivRAFJBIVvOEmOHAetnO/tCIdDpAVq1l7+uy0Xdv17AzemBiMBF4o+/sbQ6yAyVifk3xfrp895/88zzqfDw8RnRWSWXVIis5qb7GrdiuJcT6ej2l2j9TFeMiS4vQd2iHZtBPtFu2DP4qx9rBor9zX0jmxIESQuupEiZECQEeDmH0C2yXaBIzCYiwSEaMLmcBGnDGyVWLPfyszakESABUZKIC2AwmhH8RjK6O9wPaJsf0RKbpEEISiISMNranyJpkd+gaIgFqxKhmAhkwURN8DakPtgPagDmA/ibGfwy32jUOGNips8ibZafhaYTu3yowB+2OI2JGIGJs3rDn5/XS2oLAKVI95hf87r/jJ8zoalmL1Be9AQWLTRJFtw7z6T5nX4E7s75Ciy7hsd0F0arA5Ov9nc/TvkWKPcTtXrTLGdvp5Hdoldk7gsyKBirDlG089X8Bkey9hplyggc3RLLMt27DtT8aCYvwhblfS5mD0XBzm1GkOM/PzWs3A0yg5tU1yF504zPLg+dJFew7XS7ZBcnZsAoSbg/JujjBX5HO5a/ZGII1oM9oCpPkY5lRyhTYozi+fAcjHmpT4Iq7IOtV582PFoU8QVkZfoq8k9hFXZK3qPPABgA/RevQp+kLuauOKvK0krlmlJOh9lIf9yhUZuAXeURJH3gWyGq0Fsg5t0GOlXKE31OT+t9QErQTyHlqDVvH+UrJCSx54TU0SMPoH44r423rOeUFN/fUSgFfQ68ivJvv9AhvNDVmqJSct01L0nJqiF9HLQF5Vk71cX9VivXvBEq2b6gH9iyUtrsjjemrNU0AWo2fRUkDLldRqbsDTkUjxAi3tLtTS9ASAReiZgVVhddyQuVrm0fl6mh5GwOg4dvRJIzue21/Ie/UMu1/P0Fz0IKBHUJ2Wlrit4k4jW3eXnqV7ANyH5qB5aL6Zns4FqDW7y2qN7G+zjCzdgfKwEBdg6vZMyc1GT3i60UMz0EwgsxFWRncb2RkFA5W6WzrJzHVMMXN0EwBgdAu6DQCw5oKBci1zxQTTjV8HoBLdgKYCmIZqjJxXE/DGDPvDK/DN8TLLXTHedH8vN126Gl0LYCKqQpPN3OEpevbW4f/6+J/yAssNXWT10qWozHIJGOVhh6833NsLekWjDK/6fMujUgBj0cVoHLoc2JWme/AqPTez4DkUB73qUQGPRgMqQWMAXIgusXq9Msur4nPi8LqKAn2hEYCOY3+WWH3rz9MOjOV6y/oweF+gr6442Ld8ZMCrOJMf/RuAQ7maj2/maQAAABpmY1RMAAAAOwAAABkAAAArAAAAFQAAAAUABABkAADdrYtsAAAEPmZkQVQAAAA8aN6tl01oXFUUx//nnjdNUlMkgl2EGtqhak2aSWvbMYW6iAjmo9Km1QErqVAholJEQQKCMAvBjS7EqktThYijJq2RaWnVVLPQSkQz6aS0oYSQGBctxZSkybyPe1y8eW8+Mm2TybvwmDswc3/vfP3vOQQAIkLnTo9HQ2JXG466rkKhG/sObJtFQIuSyYkKZylzhgktDIAhYAAsmGNQSkGGWTt90ed2pMuGJAbGuwzIF/7h/uPDvP2fDPm4yja+aog1mKuBKBuy0SLAIoIF5D3Z7+TtaZcF6l0wnMmRgdFXE4kErxiypEMDFrDgHki5w30QuaAcrNYW+nSLse2Pi9+O7V6RuwDg5On0Tog6bpAOs+BBBupYUF3owrx9zoVLDBzdfSjyzT0hxSseF1W/czysgFbW0sVAtHSsAIZog/DGns7IiVVBitfAQDpKIm8z4TADVAImTPrN5s6mj8qGeKu///JeJuczBppKuFAMkmN7OyO9a4IAQDI5UWGamS+V4PllLtRYUOQ8/uShHVcLsmu1kPb2hzOm2fCCBepdloUK99mKT0pc1JogABCLkTM2Wv+yTdS3LOUFzT9F0rE1Q9wMJH27yu42gYnCQibYhHfjedaotQjf0WeaFizo7hKFXP9E5NLBQCAA0NXZeMES9bMvQR6MqCcwCADYJO/7wc/CTKLoqVOpxsAgxw7W/2gBfxUIK4AMqebAIABgKRosTmlbUwQAjKAgJpAyiKABaBH3k2h7oJCM0CWBf7gH2l6WrNxpJRLCUxVX5hlSmX/DClsPBBaTWIwcC7hZkGUAHGddVWDuygaftAi0ABpufNYFmV3xoclKS7AxW4ieJaIyzq3ALLk1bz4aAlgDueBDZl6PNcwHBnFINcJL3WyWOaB0oClsQZo0Za0QNx5K9FhgFd89MhKyhGIFLRQAG5wKzJLb/9bEDEid5yYNgibRJvNwIJbE46IckndyzZ+vX99/0hGeCsSSv/dMvshC9QyBplw8ROODsruV/NWWnNiktEoxUFPUuQz17d/6lPe7si15+vy1+02TvmNCjVvhuXgIOfH835YF2ffDVM2iqc8wENWem5BVXqKv+zse+XVNkF2D1+oWoZMMNPiZlJP4GYdDrxX/Z+WQhPBjG6ZeWRK8x0BNweXkiuGiI3Lkl9aHbq66Ta0dnF3PbL+kIG8ZwNZlPTAAFllUkAMXO8LnV9ZwJ6arqtc7m1mpCBNaGXKYQRv8w2XZyDenNDpH928euvvocHb6CEA9BIQZecOPlBiA3Df39v8octqvtIVTdx+Czk5HAfotv/pV/psKSk1bwoTPqyyj5+qztTfu5XIDQEuxvPh3gqtBWWUFNEg05BxExWfbNv2+0pwxQJSG3OGOyGXOfxqSEI0Tcx11Y6ue492YzHwI4DiAUFbfrgO4DGAMIsOotJNo2bJUrjr8DzgKCvJ3CR9TAAAAGmZjVEwAAAA9AAAAIgAAACsAAAAMAAAABQAEAGQAAHrt1WoAAAS9ZmRBVAAAAD5o3r2Yb2iVZRjGf/f9nunmZrbAPoiKDu2Pc5t/h4J+MKJsM3SaByxUMDCKIgoi6NP5EAQRQWT1yVADo1M2TZuW2aQRWExkm1NKzcbUCEUU57Zz3vM+dx/On51zXDVl573h4cB77ufl4rru+3qf5xbGGGYmJw90Nzqjygv0qpT51xatXXSFcQoZS1Jb27mJ1cODhxVZpYV/3TToFqTDXLC38ZkFvSUFcry1Z7MaexRQjPTvqJtPCvZhRSryeW20Nnk3QHQsSUl40BfwBXwkt1KAK0xdbMiuwUhwsbO168V4PO6NLxBnrT5y20fIASoABQFgI1ummcnHsyOP/PrLVz1Lxk0agAMHehdGAveKitZ42FTBZipUKaBGTq586TIxLLBlyfr6L8cFSHHEYqbLFp6p8VywWpDNCo2FoApqySG8urSlfse4AymOI629jWrBG57IBgUZhSUTsdcaWxo+KCmQbBz+unu5J/KJQkMOyAhLJsK25S31u0oOJOs7kkx8psbGfInUQI3bSLBo5foFv99119xtNDXNTdxKntnkw678zvIFfKUyUG+3xUxLDgQgGo0GnV21z6dgr0+h//jGsmP1vdGSS5Mfe77rqqwajJxSbO5I8YLCmRNdtXWxmLiSMpKNLU823E7gtvuSJ1F6zVtSf3pdyaXJj00tdcd948e0IwtZUCmRN0MFAuCLvFPAiEBKpHH//rN1oQLZum7eDz6cSn8s0x9MH0hIsCxUIAAp7GAqVyMZeZzUA0TCBJJQ7Y4YqI2YXCAyP3Qggclpw1CRPLe1+aH4SH7E4+b1T/xtQLHyfE8Rz38g1BqJRiXw4XqB7QNBMKEiVGkAfEXUZdlIS5QIW5pY+8Vydys5oODlzimGJRPBfaEyMjSQfHgERIYR4VIsWjsQKhDfaZ2KFR8le0Nv36RnDZ5lT2zp+hBzPaE66/bOzrKUSbTgSgKk8LpDZST115SowMz8blHB4XkdoTESi5kmRd4q9g8fvvmouaYvNEZ6l55/Tk3mqWRtPc0IjvdCOyqubzs33TntVqgu6pb2vWvmPJbNKykjjx+9MGU4IfsEqy7wDsCTIJafWzIgKw71VbtkcDgpNCqSadk0GyLyxcHmh34qOZAVBy/MNFybj9TmpJAcG5fwyl4q3hMBmHKor8Y8b60K1264oThNcxP3AmBj3Lw/Jve9kHD2tuRqQvLvwEOe8eyx1TOu33HlLGu7vFDVdShUZu6o59Xs/cogsvvK09MGxwJg8cErkwa9xFZFXleYk3foyb/HDCm29ufmmqOjX8KP9O9UZFvxKEGNW4rsE3NHIs51Vwx6f16KzhgCmB7vr/AmBbOcar1ntlqFDQqT73jHyLopjpaTa2a1//tY4kj/TpBt2V6+Y+BSMF5gIPO8SotzjVEAGAqXRVzT6adquv97dOV0B8IQmdFTUHTKLhxVUeUjVUXumMnLrtxz89FP/WDCgv8DMWJoh/vrEX0X7IlikxsDS8VymMD3YkHsctPsE/c23vy2vw6VlxGiwP2jTf5GqaVse95QI17m2PF384ye8Zmztl8sZzjShMhKoA54FJgKlGU2+QpXFc4qrkdNOobKU22smj18r97zD55t9cK/Y9FxAAAAGmZjVEwAAAA/AAAAKAAAACoAAAAFAAAABgAEAGQAABkw4gcAAAUQZmRBVAAAAEBo3s3Ye0yVdRzH8ccbitc0BS+EhCh5AWaa6PA6pcuareFMVzKrpYU6rbTbWo1yrmY1ui1npdSapUd5nnN4riiCl0oOUIPznEeQA+f2HPynDZk43Fzy7fPAOXm42JDg8Py293Z2+D0Pr/34nd+eA8P8z+GSXCMr2OqSCtZBXWouZx0XKlj1QPmpqvnMYI2yAjW7vDuupyor2eqtmkWLiijwYoG69zdWpUtAlKFeYBsrueoci8UyLCLA4gJH4jlOvXEByIvIwP7eO+wf9lPq4oggz9i0hWdZ9WgJp54DVjvPqi29xN6sZB0bI74vc3NpaKlNSyrlHLuAtXfF2jsjb1dgHjOY4yynLTnHOk4C22Zgf+2ObSvnqvcwgz2KWccybIOqUk6l88E9G4YF0vH8oCMlnJunrU5LMZDAUidsgXrDzlbNGXSkccTInDO/iHPSaQA7Ya3qJcIeHnSk8UHiOecxEUhgKRxbzDo3M2YYRUXVYzjOWVcInIBCWIVzarlmWEVjnOTU1QWcRhyyAmdgeQPMqlmMWcYJTjtrsWp0EoVh7aYB/mi9vO4YcD+j4yiEtVprUkyD/MF6+U9A6ScUwp6wObeZBvitVfvge+COImCpHctpX5kGeKiwZsMhWw0dBuw7FMSWmgb4ua02+UsAv0bfoCD2L9MALRYa9pmt5mYeYF+gEJYx0/jYVtt40FZLnyJgKc9swP187dUDwH2EgCUDaxpcbqln1PuFV/7OLbxCH6L9hbUEbJtpgG/xV9LeAexd9B4CloD1mwb4us215Y3COnoTvQ1cECubBrhbqPvkVb6OXgNwL9pnYG11B02B215ZOSKHd/l28i7aBeRutAcZq9oxg2hIquhJX4SM15EGvsi7nnsJuO3oZQQs7eBdt3eK7plMEr4jzJO9JfMlL6WgNLw23ovkk3W2UK9t5evpBcCAJQO7jXdx7ROSRF/2bMlHc9BDAM5DC0TPK5ECbhZd2ZuFenoWbQEyGxnYrbb6jPYJMyXvvgTgHkSzUBDblCQF4gYalyW54jYIDU2INgK4CQWxJf9Omi55F86Q/RQn+ygehbBYWXvimYYJA4Vbh3s/KTTY1wP3FHoaZSED+4xYt7LT5Cmy/5dYIKehcCxWtyxe8E3sb9xy3DNTdJc9KrrpccFNTwAFLBnY9aL7eLcLxiv6pEmyX58MXAwKYae3Y/1OrGR8v+H4hvhVgse5Grg1aC1ah4JY/TFYerxwnOJfMUHWWyfKOgFLXbBNwO5g8EjUV9hGXPuI4N2RLnqalokeykDL0Uq0qgPbulZwr/jPm4wp8mWOBXIckMBSOHZKB9Y1VfLnTOevju4tbBHmpkqenDTJ61qIE+JhtBioJQhYCmJbM0R3Zq9uOEoJrIlW9ObRik7AUgh7Xyes7zpWNz9W8m+aJnjnxln06ND1xuuZeG8WfjZb9OUnS77rc0PHV+isRWHY5nTBu+ae/hxRsp46vCgQGAnkKGRgx/SAvf/OytJU2d+CbdCCPUsPtH/AOk6ERONECB5fyeFnbQc2sEB2p/Zt0/BXJw9V9CPDlEDbCCVAUfeGbf+Azbg7ti1Z8h+Zg9/RD/8vCyxllEZlCKDA0t2w43vAxnTHtsVLPiVB8izt/5NV1FMYOXCYUQLXgKWu2OgesBNDWMV/LUbWD8ca9xjwgUdzRtazAM1DxcA2Antr+B3sLWAbgS0eq/jzAM1KMK7p4/gHhfht8rs3/k0AAAAaZmNUTAAAAEEAAAArAAAAKQAAAAIAAAAHAAQAZAAAz3myWAAABXlmZEFUAAAAQmjezZhtTJVlGMf///s5xwAxZFM+kJKedL4Qh0wF23JFs0zAEp3HmlqrNluu1mpzbs4P50Nf2lxby16/qLWsKCIlEULFjbVpUY5DUFMZAidaL5NShMPzdvXhwHl5eBEQOefant3bc5499++5z/++7uv6E1MYP1Y07wTl43E8+hMh76Sars9yfbn6eN+vphJWB7JMADYAGfvRlQIe7nNZ7Y2VTS+Vl5dr0w5rQyoN4Q0DhAHCBGCNDZ4twvcWupb+cP6r5lU3ez8xxVF3rGWFZtmvaISHgrkEchSQTgjU4ISjrFCIwDOrNnu/nDZYZ/j9oh5a0erRbOtxCncSKFCQCDTjIWwQr64u8x5MCKwzTle2FGhi7VHgFgUwDB0HL0J5raAs/+2Eww7Fqa8DD2jk+wTylSAGVqAAUcTzBWXew0kBCwDV1ZfumKEPfEKRrRFYiYw33LTuL9x838Xbkg0mGsXFiweu6q1PG+DhcAYBDA5eCjND0I6IX1RSwAKAz+ezzjXlvqADR4dSXgz4mtPeFl9SyCA2amubZob6tAsEFsemOAKt55py8/x+2ipZYNevz7+hQ3ZFVjV6LV/l/WVTUsggNraW5Z01gTMGCZNDpyBhknuTSgZD8ek3resAqXNIAW4or0o22O2blp8ywAtxGw3AAK01SQcbrt6kKqrZMLRu0+tKRlhLqYAtACWm+CHvdQHArqrutD7071GQZZqg/tDGez4CKQmDNdEsGkAyplKTXAUAPew7alL8BrFNV/hgx4m2/Ylc2SxzaZsBhOJTGOeqrXVtGSb4hEPQOxJ7qtEywKvOTeYa6HPPtDWD0eUmCMxKtG4NBdIeSl1hOahrd16/ZoDiODmyHq5vT0kUqL++PcUUZhlktLABRJ0tyu3ViWD4JsMXqKX3ypJEwfb36kt0QItNXQYZVABggi1xYiYwQOQlTAK2ynPq1QBaVDgJs3lYeaaQnyhYU5N856FgCJsVABhiBxxpAobQt7Kx0T3doLsaG92G0BenVwImGFAAIESDQdpRzQIGkOP+a45v2lf1jwyfAeTErSpoD7i0BgUAF0o8HSZwPKrZMLQO7ENMWzEdbbtF7huhpj3+bomnIwJigAdGKnzzV3duny7Y31Zf3q4Dy8OpirFFzIFh9aznZMcZJShytMU9Lri8geJ5wdsJurn60jzaKkAg0+He1B8tXfTIsE7BsOkfttHAzJBYFZ66tozbBbquri1Dt1WFDmQ6tAqTtn/UhjG7pvNzCrZFXBIZsnjkvGlzQ2fp3T1TCVrybUemTuukAgrDnkHUnQH5RVWJ56lRW/FecLcBBGNOjnDqIAup0OCpasuZKtAHq9pyemE3GEBh1DOInKJBXXPvvqkjk1nTuVYJagmkOnshBfQQ2N91ff6H8NGaVGNYLlpnWseLpLyhgEzHHgGBfiVYf7rU0zAu+yijtuNR2OqYAlKdduXgeJmCt8RyHenemN03HsiVVd1phjbwrAJfV8CiuE4gOvYD8uT3JZ66CRlz6TXBIohUEsiIqdgdL5frCqyAoMZt2wGrT7sS9M3vB4B55V2pqWnWAirlhcjjirJFAbMccIN7Q0DgP01Ydr50Qf2kLM8ZJ7u8SqFaCe6KmGbD/zbn2Dv4e3q8Qxj3kc77v7toF/+8wRO4NTO5qnuO2229SeC5iKcqN508MkY+bGRw0SCHLGvG3osbs/8ZC2NiJkd1cI2m6CfkMQWJdhcjQoy66kMfJkrwHWD7rxQvPDee6SfnyJzoylOKL5PwEZg9DG6sVSf+pbAcNg7+WTK/eSLT3pp9VN+egpCrWJFrBcjTgGUE5iqIexDOoOBvDfgVlGYlbJidYlZfKVoYmsx0/wMN5mfvJKM07gAAABpmY1RMAAAAQwAAACsAAAAMAAAAAgAAAA8ABABkAACqQq/DAAABy2ZkQVQAAABEaN7Flb9rFEEYhp939k7QQhC0sbQwel4uihYRIRCIpL0IHng2VmlFUayELQOp7O1EkUsTibExqKUIGjgTA0YL/4FgYSB7s7ufxW72stff3QvDwvxgHmaeb1YMZHl1px1IjwU4s+X7zYuvGGI6nU5wslp7LrjnMAQ4yL7G55lu/YZCpeR9RZbe/Jwx0o8OXL4odamuP1yY+DJM4DA0d3Vq+0UA7T6s4QBMd+Zu1V+T9xcLIuyZF84LPODBRYHNMuSEodJjJ5JFD7v5vniER8TiaRiaK8FGV3abXlw+nOQlvCDGthlB5uen9nvYYrY/R1vtWmOrWYKNxaOBSXjc1+TbhXeMKLcXJj/F8MFLxMpPFhFLTwpnH6zvTFoSdAuxD51JdXOpeX6DEebl6o85sPdlFqjiGg4gSqvTXlC0zJnNUYMC3G3WNjzaLHTMbzlSMu0APNboD2a+xs7WGFN62NpgofVSNSoZLPXBY3epuuOCTZzrpgYy6/NI9UpWXLokK/taCYLv44KNTFsBhqQjPwiru/bbP6d6cKbsrA7+7p/7PS7Ys9HELw8HpZdJOu3+JTpe8hXwYm+lpWRcsK2WEo/2BovsP/LZyUqNvyewAAAAGmZjVEwAAABFAAAADQAAAAwAAAAFAAAACAAEAGQAABBMi7MAAAFBZmRBVAAAAEZo3n2STSuEURiGr/vxamws/QKbySTEwlYWVlNGGSULRWyUhY2NmrK0kI+yQ8LGYhpZSfIPSIMiSxtsKd5557GYDzMac+p06vRc57rPeY5oMtxdF9l8CmPMnHeCaG042fui/4Cz7G2/S9vmGhRggOA5isUSDaGT3N24OQdy2gynBqIFHwr+Ake5u4XQ2TAwCQyVIAfhFGSvddBe7n4xdNYFKp3sVYMJQFsTo4n7aryd04dpK/qugWrjlNe8ebQ0leo+p7zPZvap06xwDbRXi90rsXJR8Dk5nxz4rAiCTMbt2x4PDdrrDBJy9jvC+Gw6paj2Gtba95gO8cEQ8TuhII7fbuIz6XQ9ABAUxErV4BWTnoqxr7lMRsVGLQlC6BIqFQsMR/K55ZGej/8aH4T1r4Shy9Vk/KrZ9/oBXY1omw5NKvUAAAAaZmNUTAAAAEcAAAAgAAAAKQAAAAsAAAAFAAQAZAAAZJZ0ogAABJ5mZEFUAAAASGjexVhdbFRVEP6+ubtY/mxqJCYVGmwEhA1bfrdoNBpDFIuEtOBNwKiJJBBJfNCEF+PDPpj4QGJCJDH6QEpIUBZL25QAK5ImEuVHLG1xG40U+an1AUJCKOz2nnvv+LA/7K5tLbRcJzm5D+ec+31nZs6cmSHGKV3tXdVqwo97lj8LACxPrjNsbixbv2wQExCONnH22+4Ixdqs0BcIRAFUjrL0lgK9BE+q7+2PbVySemACqURqyo2QbhLo+wIsJxSSWyTj/+cvhH4+1Q19HbEjzrgIJBIJqyq8cCugHwtYnQekooiAFohwLNXdk0FSP7lkfv/Ktm1vVALt7RdWiI8vBVxWDFAO+F+ExnIf3+e2+o2Lz41IoKUtlaaiYkTAwlchwBCBqwJcz5GZRaBGgBnjMFWGwNsrmqIHyydCBqggAQGzP9ACIAicJbgvLDz20/lFl+Jx+sWb43GVF5f21Vq+t4bKtwjERjFVhQLf/Nza+8TKxujuEg3sa+vTshMogRYodtqNkbP349EnWlMxS70dAm4QgCOYSpX6QayxbleBwJ62Pi0sIHtCHt7b3LTw1ETu9veHep+1yC8I1GU1WmJKFeLdWGO0GQDEADAAjKI9LXeemyg4AKxuip5KP1JR75IHDYHCAGFAOj53nznUPT9LgIQBmx81CzdsW7fiLiZJGhrmDd90+jYZsDkLXEREMD0Da6/GVcQl9l/vfmaLbdPDJItt297pnsgWB9ifOz2KyKw6EU3Z3Jnsmb7j1bo7eIiSTPZMz9y1zhOYV3bN+4iA5GDrhZcE0vkAEXXy5EBr6gSJl/PxRu7vjZm4uOSnBoBb5JCBagAAmtv6ugRYmg9SEjQBB9pRiD0gQkET8ER6fQWo2dMHTmBY+asFBcngnRAAqocXXDRAJm+GwAnYNj0D3sxHxcBNAABGQPrjyqYmX+Kdf1bgtjMEwPpfnDA95CywACsfjgMnYHxZ7FMLiW3gBFxL63w//yIy2Fuw9dy5sFHahiy8BYFqwP270vazqTyIgANRPK7ikR8VMqLcCEwDv628+CaVi0hAlIWkRKJHBmY/bPCmI3/MNiq7/pWcEp2SUa+l9nh/5cMCX328v9LxpcUBqvJPcH649ONiiBiMlaw5fKVqssHXHr5SRYdJQ8bKbe+QBxJr5/8ghoBL1lNwsrajv2aywJ/v6K8Zgn/SAPX31E7k6pABxwpvz1VGOZWQEScU7p5z9Op2JNR6UOA3EmrVH7683RXpNkSkpBbIjrQBNifXzLkJAHzs6FUdoSS/SMVn6oX2Dq6rHle1tLxjcJqxht8R8EMBns5nPGX/TQO6/se1tccLxenMo9d09KaE3hawBYpjYd/v9e5alwfsOWkAmJ24NnXqNG8uRaJQXSPUDQLMHLHHoAoCtyxl45nX53aWlOcVyWsDoniytPtR0iMo/w7l5meUVr5jdlf+CtFv6Hqttrdcc5JxrCUG2GMIvVfFll6XYu81wIzsyDqUm4vrbm7eze11s3vVA/ZkvClLRgIv7ZIdGVhlCeOEviJQFiKVjtqyGev0KorvAD9+ueGp02P5zj9F+PJVVhzSogAAABpmY1RMAAAASQAAAA0AAAAJAAAAGAAAAAUABABkAAAnmz+BAAAAvWZkQVQAAABKaN5jOLPhovn///8ZGUgBp9dd+n963cV9t7fdZidRExCvvRxLtKZTUE1n1l4uRpc7tuqC9Jl1lyecWXdpyal1l4Pg3ji67vL/42svfTm99pISsgaQc4GG3YG7BIiBFhw/u/6SMcOBdZfnHVxz1RDdluPrLzsga0DC33E6+9CGq1rHgIqOA/FJiC1wjXj9e2j95UmHgM4/AsRgbwA1nCCkCQT2rr/stn/95csH1l/+DzLgMBADAOTpoMvneFgUAAAAGmZjVEwAAABLAAAADQAAAAwAAAAeAAAACAAEAGQBAGnzyCEAAAB4ZmRBVAAAAExo3u3OoQ3CUACE4f+uzENQtaQz4NiDKVAsQepKXRMGAE1SdgHxDlH/cCh+fV9y8O/H6dvgennsm+ggwCXH7W59rqJpmNuQm8EiGIqcblVDb6Uj2IAQBqvoVEWvktkyJghYMJvqvSTqx+e9gVaAs8APAjUhlh67PNsAAAAaZmNUTAAAAE0AAAATAAAAHAAAABsAAAARAAQAZAEAxHV91wAAAgZmZEFUAAAATmje7ZQ9aJNRFIaf935plUgt2bVoKREsouLP5KI4tKbiH1bQwa0FR0dxCOIiOrjo6CgqOLSVOhQJKA5CcYhIK1okpeomiNGafF/ucciPSe3fl7kHLme55+U57zn3wkZsxLKhdorMTPfHZkfkdFRmM879uj168uDvRDtid8dnriPdcGYIcD65HzjdFtmtsdkPgrQDhOHASqXOVFtkoaNLHqpiwoG0KdwSmyyb+7yZn+UiEDTIDAtLla2xyRaL5V0BBKKJTCxkh/uLscVC7/Z41YynnnkPEFssCmyv99REVM3GO2qk646R6emO0DQcSoSicSKUj00Wfese9tDTNEUEPkoEr2KRZbPmKtK1EBFC8xm/l+ktxCKbPfTpkky7JXCmuvHguRPrbZ6d/LhN3uUFqdrG18VyD4f6jtXvrUl2fGquu1ziqSC1xCsCVbLNd1cVyzwrpMrlyvNQHJa17BVIjycy6ZfrEjsyMddTxE8K+h0gtezVggUdV5bW/Cd2/okF88nCaCS76SH1r62GV4sOLr4Y2P59xc/xwMTXZBiULjt01UGfrMXoel4EO/U60zu17E+bnpy/gNmAk51z0LWkuNaWIfgRmM68GdqRW8maRBl75NQ6pWajBTjpS0L+xPTgzvxqA3P1dxbVNrqaRYQIkVXgwZ9K5763g735tdboL3R+tcS6Adb4AAAAGmZjVEwAAABPAAAAKAAAACkAAAADAAAABwAEAGQBAFnJ6ywAAAUEZmRBVAAAAFBo3s2YW2xUVRiF1/rPmdISSJ0IPFSug1EotIRbig8kNlGRUmILMgZMVKKBKBCjkfiCySSaGKPBeEkML6KihgypTa29IEo1jREJiLYpJC0FWgaMYqiGXpieOef3YWbOXCvl0nZWcjInM3Nyvqz97/3vvYibUEewI6/P1M2A7hLocgFAADLSA8qnVm4sOYDbkDmaPwWDQcPrWbjtD9h7BCwiAFEiAajIBktgBm5TNwSsq2tfYTjYZ4HLiCiUQEEiAZUGG/0OAwKtHVPAQ3UdmyKKzxxofrJDArr3hEKisP0C9BK8QsU5U+WDsscXnbtdQI70wxd1HTtF8R4BkTiMZgzncQEPiKD52Knic4EAHdxhZQXcX3f6RSreFYBZakwJ1JiKt6urFx3HGCsD8KOvzzxjOPoxAbrOxT/J3w0bz2/ZsPBnjJNSAN+v7ZovEjlFYKpbbxoteirqbHNwy/b1KwYxjnInSSCgMiydnwswNWVCkBDFJ3dbC57zV9PGOMtdtjxLO/0R6CoLROICLOLLP39b8KzfP/5w7hAHAipc1tku0OLoTHUd7JL88NLda5YMYIJkAkB4aVeVARQLmLQAK2jrttcmEM4FjBCvOOkzFjz6evWCHzDBMl9qOFNi2XhAkNauHL6JHJAZdjyrSAep3YKn9lbd911OAFrQ0sQmACAVQq1Hjsi0wMWMtbJY7UEctOUMYIRYBE1yEArTMNpzBnAYmB5fWqI1yOv9A77uXBripH2egsTVQxPUNUYATF7/CP7PHnEiJBapbt+NXjMebDmfnzOAw0DIImCR0Qs0pvTr/TkDGAE7ktyDRSBMlOSQg2zP2GIJluRODarTluIgCEvpX37ihCcnAJVotUgnWn8u6GzPX9P8406jym0NnWU7GjrLoEp3w7q48UItgKq0Q9Lpk8fnlGAMjpLZtKuxa9KAjSYC5TGGlkkG1gqiw/pO2lIDCyhesrL3yfEy76otWy2wPGkulA9G4HcXZV9Tz1FRlz4eYfSZMEvbKmaGxhJuQ2PXTNNhmwBeJm37DMVu99BkOQxkTBbQG1a7xneku3Cs4DYd6S60HamxQG/aYQ1hU79PaWtFzb0HRfEEoRBNzmL0l2GHa3sr5/TdSbh13/R4HdhNhJZlhATAwa8q529Oifb6wReGgZAFJjoLAQssE0Grr7579p2Ce6i+e/YQnFaLKIt1MCTNg5Bh5u3IGn14m3tXi+KwAAUJB9267BNwT8+1WftwizueTUE1Lk3u2S7UNwh43bgu8Z4hUaw5XOlrHTE8Kjzc8zAdqSO0IN362P1ZUey1bfPTy+uLRhWFLK+/PBlG+Gk4fFmo96YNZ7yUhgA89uM635Ebxm9TmkPlVK0lUOjmgBl1otcErBFFszhOmz1oXAj5Zw0BwMzgxYKCyfZcU7SUKo+SulGSMx8A1JTU7F9DWf1T5dyWUeWDAJDXdLHUEDSKg3tSHdRsrsZd6I8lrFOylMgIz+AS6FT8utbXNuoA01X95Wl5HvstAlsFYPLszpZPpzkcS8iyDicYzRr3F9h5r55cX/T3TSWsGWoMrTKFAYHziJsd3gA2q+vR7EcF+JZwAmcr5h27pQh4RDVcLBHhTiH8AtyV9uLsDsa/I/4RZZAOPgytmzWqk+Otnz9azufjulkh5GoBSgAsNKDTBfDEYC0CVwQ4Y1DbqWydmh9pvFA+7/rNvOY/L9Lne0Dh1moAAAAaZmNUTAAAAFEAAAAiAAAAKQAAAAIAAAAHAAQAZAEACVOYiAAABG5mZEFUAAAAUmjexZhdTFxFFMf/58xdCtiKKO0DSqtoVBahUkqkMTzw4AdtSYrVNdZE22hqNBgToyYaHvZNjUbjx0t9INYa06yhZEUoVdPW8GBsGlE2iIFCC2yIESOmLCwwe+/x4S67e7fAbgl7Pclks7tzZ35z7pnzPzOE67TBwGDeVSP2FINeZqA24wNCz9QdrDqRqZuRLUAgEFC3eCqOTsNsY+FSBsAQ2J8ArfIcAduyGT8rkO5gaDdbOBYD7bIAMNmTs1ACJBUq6Q3MCaRzQ0BOnRp8Qot8wUC+PVHK5JScPA4VYciEAqYJGCOxPql7/P6xbEBorT9PBgdbSfARA8ziXHVKu8CwThisen/s9475/WRhHbYqyPHg76+Q4EOG0DWTC4RFOhTRe80tlRewAbYiyGedQ4eJpJ2BNAgBE35TJr/oe6ziJ2ygXQPycefIncyxfga22KtP2RmC4JIxf+iF5t3z2GBzBKvfL6x5+MsEBAAmikNYn9+svc8faSETOTDHbvPUDPs0pF6DYDdAA1gifPXnr97nfL7cQDhejd8vTLuGQwzx2jsk0UaQv1jz+iM755BDS7yaxZqRAwrwMiiesAQsgLLk6Js5hnCAxAivWY4dQmDC2baWe8/DBTMAoLV7qEqb2OPImhAYFr0Nl8wAAMvy1GuSZOYUgEH97xy4+wdXQTSkmlJ1hASKpAsumgEAS6D7nDpCiFkYcB1EEyqTkm4DKaVCroIc+na8WENvTdQYILBgYXaufNRVkIhJBawoXdj++TqHWXRFkCiAvPT8kaFOyYnW6Btnr2oiSdUWDWw7fO5yvqsg5xsrIxoIawI0LYsdqb8jco+rIHYeocGEN8hui4Sq/wMklJT++Cti7HQfhGkgJT6gQYgJ+WovXvS4ChK1zD5NZNkxkgDa7vmrxOcqyNC+8nENfGPHCCWbyFvwC7sGAgAm6P20LYwYkbembuJpN0Aciav89PhZFjSmHSFnGEb1wN7bwq54BAC0Rf7UgI23Yi1mR+33o0WueQQASnsnTrLIk8kCKaFBP2+yqCm0f8dMzj0CABHQS0ugsMZy0MbjBfRAlNFX3jW63RWPAEBx70SDEpxRQIFDlW0PzSiitkuzZcewToVu6hnZFBPlI0iJR4xg9/4dY6uqbNGZ8YeURUF2wCShSHBJgT5YMI3jU82lWR1Ba7umCgvV4rNk0atM1l3x8eZA3LCm3G/uDTcqkU4Gila+khCwYFYJOoioly1rIDqvroR9ZVEA2BOYLFgsNG8HSzUJP8qwDjqOs4kxqD1j3XHD6clqAnoYuDX9ZmgFqOXvkfhvm1fsK5J+zdGeVQG0pWuqxPSY75LgiPOqQjIBYc2+NlDUIHrwuioxT0+4XrH4GXiYJRPQalCJvsKg7wwy3/ilqXxgXSVhXvdkFTFameBjwU0ZV+4E+peBgBL+9I99ZaGs7tAy2rnL+XkLxl4iaWBQlRJUMLCVAU8cSDMwzaAhRRIioT4jP9ZzpfGOhfSh/gMVwbrySbrr8QAAABpmY1RMAAAAUwAAABkAAAApAAAAAgAAAAcABABkAABi76wSAAAD82ZkQVQAAABUaN6tl19oW3UUx7/nd25qx+i2yLqHyWqpaFlqMtturnvYQxEVVwKraEAHMlEGSsUHFYbsIS8iQ1F0T/NB1MnASC2x3daqbMMJwzGpa4kdq22Xtfig4sD+W/O7+R0ffkmam9k2ae6B30O4uefD+Z7f+XMJFVoqkapZdNznBPQagPY1XxB6wSnXeSKR4B2B5iPzkj1GoO3lvkfANirnj98lR3c7BidZ0MYAGAK2DtaIAvMAImtGMvBN6llX5AsBag0JDAAjBFMEK7I5Am4J8BeASYg5seeZRyZXhSSSqZ6MwUcsUAaAgXVeArvCJKccxYNtw6FJipMp9bMi5FTyt9ddkQ+FQAYEIznHFiZZMb1M/N5j3S1XysjL3fZJ39hhh+RTBigvCQNgARzINSXmlejTkcsVJN9rH/eNP+Aod5hF6grO8/oLkhudxeej0d0LlVx7j1zxuChXXf9SgDpDOf2XZfosoEMvR7spW2ltqeIfgdYbMQ3q0CBowB4iZBSdvvlr6KVYrHKAR654XBS13RhlkZBHImBc12Za33py1zzWaQW5llrHDzIQsjIJjOSurJEj1QA8EE14s+iKwhBgIOePdu+8iCrNAYCeM2NhbbAvX8kGNtkw6l34YA4AuCbQYSC2kqVQ2cPvHHzoB98gS5CIU5Ap3zKkHz6ZjQT0sEDg6U/AiK8QTWix/Wk5Hy7zqG+QroF0UMOttzkpdNY7C/NNE75BOEsbNN/Vxv/5ep3V/b+QRQAOqCCThQnBR1N60+y/miCefgXadvjCVK1vkIudLXMamNFkm2EOxn/PSbNvkNwVThUiycFcQthXiAaN5mQqSOYq7PIVsqRopCgf9ghi7VevBnyDZEz2kiYyNicFWMPGP7fGfIOMdTWlNfBtfhLmYRmRtxEX5QsEADKg90vHrgZCe/dMHaoW4im6pnPp8yzodIrXIOB2ADry84EHZ6qOBAC0obhbnHwbVXBJanrbv5/Y7Atkuqvhx4yir7w3DdAkj2rNQ+GBdLBqiNWPXtVEtgN4o9oLJZfa+ycaqspJ3uoHb+1nwRADG3KbY/EmedshHGuevf9kuZ16xW5771D6ccdQ0oIAFkHJPvY7Qz4IZO/5/Jfo9oV1QQBgy+BMpyOmj4HNRftwKWyWhXqZzGCNoRFa4JuXYzsWy4YAQPDcdIQgZxm4r2T5LoUtH4M5Jplk0PGfuhpPlzWc6vr/2MqB7HEWedF+TuQ/JWRlkH1mlJF9FU3ATWdnOpgkzpAnlmGrR+UYObquMRs8Mx0mhR4mibFgy2owJRStapY3Xpiqnb3jHFAk+1ko7EB2skg9AwEGNJOcuP5U4xv/AaU65cQdibPpAAAAGmZjVEwAAABVAAAAGQAAACcAAAACAAAACQAEAGQAADJpvUAAAAOJZmRBVAAAAFZo3t2WS2hcZRiGn+//T0wKtiWg4iKNEK9M2tTEFuNCMbiwTRxsREfQjaAUFMGNLhQXs/KCoqgg6EK8IVKsYazSeKEpZCENhWhCFBKTknQ2XrBQc5tz+T8X58zNVJPMnJUvHGZz5n/O+36Xc4Qt6JvC9AHreMdCn1WwKBYwm/1RWQF6vM3uK3w+80Cg+qGDNofiBJwKjipMqrcvCywp/A4soO6tg/ffvPCfkGOFmSdDxxuqGAc44sOdaPwbwyY80Y88Y0f7JjMLkhf3z3Pk3wAfFH56yqq+bkEsUBuTBbXKcU/klbuGuyc2S+OSkHdHfn7EiL5XAVQPxyo/tmj0ePa+nu/ZojZA3hyZu9aYcNLCTqs1hwOeauFyb+2hbPbAKttQXU3yeTXrZvZjD3ZawIokT69Y9P3WIPNYdlgitqm6LjS9s7kQ7Q8Q4gsCwDfyyfkfMo/mctsH1MWVz6txfbPTFjIWTQoNHsxFbaXeZ+7ev0KDqsS12jt3xEAmzl+wEscUOT36bBOAOogvPG3Lc0AyByKnnh++6TRNygM4+tX8vsC52xyK0/LQKTh5kRTkAYRO+7USU9K2KpMvH7nhu/Qg0BPHVF0datwJUpKX1GOvRZKo4nqok6l0IUi3ReOOQrAKvjXTqUGGvlxsDwivdLWdJayHK13zqUH8SHYYKzVLUPDQPz9rcLovCVkFWiUpeKUmIqQo07Lrr4sBogEQCAQiBMhVd46da0sNcnqge9mHoo8QX+ALtnVZb0wNAhAYmSlv3PL2LQn7UoX4julAJIkqBkXG7E/byZQPSVRxZCXV3C1nz7ak6CQaDxBXiSx21Wl+uyKXGuTcUNdigH6x4Y0Iz5FXkwokWS2v+pJEVu20zN6DSw83C6kbuqtPLp6yyEDt69fChVZsz9RgR7FpJwCRk3yljSudRvuaRse7vp3fnYoTgPbR4qdG3YPV762yKz0TOjm8dM81F5pyAhChT/hIsW4442671RjGu07MdzbtBKBtdOl2T+VrCzvqPlFjZxc9x0tG/Nd+Gby+1JATgPVDneOBcff6hrW6nRZ33q6SkRd8uewkqtKwk8p7YLQ4YNERC7ur3VbjzEl/cWjPmYaclBUe6hgrKXf4SDGQ2gVaHdiG46rT4T1TYWB6fZG3fZGwPLAlZOzXwY6JpuPaoNHz1xmRrFX+CNzaMbZY+P+P/gZjNJnGDOT1EQAAABpmY1RMAAAAVwAAABMAAAAmAAAAAgAAAAgABABkAQCkfZTAAAACtmZkQVQAAABYaN7tlF1oT3EYxz/P7zn/mYtdSEYWeSkzMwu74I4bJMqUv+JGWZMoJa642J28lCgXSigvabI1TJJQklqrsTVqa5mQi2kXspdz5n8eF+f/Nm32P3O7b/3q/OqcT8/zPd/nEQpUY2OjliXK69XktMLCid6RQkDPWrpqXMhVhXVqoIBi6F/v6VSgpqbuPaHwKEQWhQihEB2EMF2L5J1Jdael+6galxRcVJHhMb4yhTbFbjmnTyeFXWv5cEyNiwqS9yFpqKnxwBM5v622su2fnl1++PGAGtcVRC0PhKHCe025w8ndFW+n/AHnmnuXO5fqUKwkBwE1Q42WMW9436GdNcMTFeHlXxoazI1oz23PKFHkL2/kZunYyrpkraQms8blX0bW9iQD2OCL4IvgAz6CL3L3x7uVB5PJyUHjotHQYG5k4eA9Q+YZYICJYOJ6i2aN7jhVtyCYKkbZNr/X9O7yTFYphlquxYSk6k9urR4qJNxZWGByIhV5g0raK3Mvzu4sf1XoyHkA+1v7qgKzjZlgpg3HOTtDDHkAw6FsUAEViyoz8LCOGztWPI8NCyRc4xCycRDjNzwipjwA37nVaulgZn2TzunBTCqjUZHs/AnWFRtW9fjzHJ9w3rjEC6Nzh5b1xYZ5RTI7+C25+YuiMXh/irRPCBtOz1RkfBYqTENuMFH800fMJzOL4IuUbnr5qTg2bGBz6a9A5GsABEj6oAO+lceGEVXTnd0Ukt4UplXTggVIV7ZFMutHqqdbWWeuRSEAAiO5vr09ERs2GuprXyT0hVybIov7B+bvjQPLReDpl2aQXfmr2pn0DxWPVbB56WjBlUVP7gJAKu+vjoktKfYTe2K1CcCWsjdAa+aag1IaHxYRjgP5K3oo9FLN8T3L6Mm3tWh4JIK7K2wv62BGM/o//QFuzQanlLTaOQAAABpmY1RMAAAAWQAAABQAAAAWAAAAAgAAAAgABABkAQDPl48GAAAB/2ZkQVQAAABaaN6dlL9rU2EUhp/zna/SpYOgi0UcioGmVlHuUP8ClxZUMIOToBQFQRAFB4dsDgri2EXEFikRkagVBREHQSnYUIMorYmIOAgVUdqbSJsch+ZHbzBtcl84cO/H5eE953vPFTpUJpPR/p7BcWd2VWGXtPlOOoHNZPOBqzKhcEgBBdRAMRRw3QCnsx9OOOOuGr11QLOsFb68KXAi+/G8N7ul4CIAQK3xPKvIJI5nb3PJYlvgjeynCx67qSAtABTMYw+8cT11bGh2yxmmHy2cUqq31WqwDe48zLsK584eH3zT0aVcfrg4IGo5xfoiMAOFbNktn0yPBWG7znzEWdrcD/95SqFPkTpkvYQ7C+XEmfspqWw29403TiEopEJkJEQIEUIRQoFQ5F7PXOL0VrBIy+m0ufmgmPdYsiVri2vbwoOTRw6sdJLZRsuvg+JRjyQjORPwZuPTHcIiwJJzl9ajIU13Zi+fju19RRfyAMMz34ZDKodb3Sl2jS7lAUKpjnikBmlsQu7d6MCLWMASsl/FUJMG0Is9JoZqDmVfs81akKvyPjawJAy5liA7NB8P+OTr9r/ITgDXnGG5vNJfiAf01lt/qdZqVeQnHWzF/1dvx9IS2J/IqfGFmHIEwSrmLgJrtbPfOLkSF9j8fT3/vpuqJahU5hjd8ysu8B/6h7Fbz1BUNQAAABpmY1RMAAAAWwAAABUAAAANAAAABQAAAAgABABkAQBGTvCFAAABdmZkQVQAAABcaN6tkcsrrVEYh593rfdzGVBmcimlk8gIfwIx2RNlIspIKWXCzMDEhHLSGZ2JtJXBV9KXS+r8Aaf2RAaKhHIZyOiULdvlew32pYNNmzy1Wq3eelq/3yt8QBiGviZoHQ2waW9SpxgeED7m3XkyOujy8dNvFTo8oJYVekABj6GWf2dnABjpotK56GBAsaSHCs2LctKCEPAGit14OAuQa2fxSZl3v95IJ6PDcSeyqJgrSCwnyf9KLBWYrATEOxe7bSczMxK/G39o43jCYz8VkyIxzRtr6mx+NtGSKqnTnq3TEW+25DF58ats9D2BsWTix19KQADat8+alXhXzape96YQlccVgxuJultKxGMm7vjfZkak+Q4hI8KdZO8Mbrk+3TS03l99zycQ3bnsFuyPYrltFnpcvUo1DvNqCaWgj8SdIDwg/zUsRzgd/YoQwCGyXyTAFL21ab6Io7dhE1gAHnJngb76iG8hPK8kPK/8DtUztGqCyuea2MoAAAAaZmNUTAAAAF0AAAAPAAAABgAAAAwAAAAIAAQAZAAAeXELuwAAAMFmZEFUAAAAXmjejY4xTgJRGIS/yXv7HlcQsDK21FyAxNBQk3AMD2BHY6VH8AIGjJBY2e4BoCBsAR3barbZ3d9iSTRbqF8zyZ+Z+UcAD4vtNBr3iVk3YAQg2FkxgjXq+EamW41W+3FS8RJAP42xFWwVfrrSDfybwsx56RcjoeYjyA4JlkeUeZWPq8l15kGnCigQhQB03kUKeoJ6TdrPuFNNC7E89kj0Dlw1J3sG5txcpvxB8+Z1F6EzBJ8zvtjwT74AljFC6d2II+4AAAASdEVYdFNvZnR3YXJlAGV6Z2lmLmNvbaDDs1gAAAAxdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIGV6Z2lmLmNvbSBBbmltYXRlZCBQTkcgbWFrZXKphWVeAAAAAElFTkSuQmCC",z2=()=>jsx(D2,{children:jsx("img",{src:I2})}),D2=createStyled$1("div",{target:"e1ho5dd50"})({name:"hmtpto",styles:"height:24px;width:24px;overflow:hidden;img{height:100%;}"});Chart.register(...registerables);const SECONDS$1=1e3,generateFeaturesObject=i=>({type:"FeatureCollection",features:i.map(o=>({type:"Feature",properties:{weight:o.weight??15},geometry:{type:"Point",coordinates:[o.longitude,o.latitude]}}))}),getEvents=async(i,o)=>{try{return await Authentication.waitTilAuthenticated()?await Fleet.queryEvents({names:[i],deviceIds:[o]}):[]}catch(s){throw s}},getDataPoints=async(i,o,s,_,$)=>{try{if(await Authentication.waitTilAuthenticated())return await Fleet.queryTelemetry({start:s,end:_,names:[i,$??""],deviceIds:[o]})}catch(et){console.log(et)}},generateStreamsMap=i=>i.reduce((o,s)=>s.type==="location"?(o.locationStream=s.points,o):(o.numericStream=s.points,o),{locationStream:[],numericStream:[]}),areDatapointsWithInValidRange=(i,o)=>Math.abs(i)>=o*SECONDS$1,updateDifference=(i,o)=>i<o?i:o,isoDateToMilliseconds=i=>new Date(i).getTime(),millisecondsToISODate=i=>new Date(i).toISOString(),isScrubberConfiguration=i=>i.scrubber!==void 0,isAnnotationConfiguration=i=>i.annotation!==void 0,isEventConfiguration=i=>i.eventsQuery!==void 0,getTypedConfiguration=i=>isScrubberConfiguration(i)||isAnnotationConfiguration(i)||isEventConfiguration(i)?i:null,isTimeDeltaScrubber=i=>i.scrubber.startFrom==="Time Delta",isTimeDeltaEvent=i=>i.eventsQuery.startFrom==="Time Delta",SECONDS=1e3,MINUTES=60*SECONDS,HOURS=MINUTES*60,handleNumericStream=(i,o=MINUTES*1)=>{const s=generateStreamsMap(i),_=[];let $=0,et=0;return s.locationStream.forEach((rt,j)=>{const st=s.numericStream[$][0],lt=rt[0],gt=st-lt;areDatapointsWithInValidRange(gt,o)&&(gt<0&&(Math.abs(gt)<et?_.push({latitude:rt[1].latitude,longitude:rt[1].longitude,weight:s.numericStream[$][1]}):_.push({latitude:s.locationStream[j-1][1].latitude,longitude:s.locationStream[j-1][1].longitude,weight:s.numericStream[$][1]}),$+=1,$===s.numericStream.length&&($=s.numericStream.length-1),et=0),et=updateDifference(gt,et))}),_},handleEventConfiguration=async(i,o)=>isTimeDeltaEvent(i)?handleEventTimeDelta(i,o):handeFromEventToEvent(i,o),handeFromEventToEvent=async(i,o)=>{const s=i.eventsQuery,_=s.endEvent,$=s.startEvent,et=await Fleet.queryEvents({names:[_,$],deviceIds:[o]});et.length<1&&console.error("No events");const rt=[];let j=0;for(;rt.length<2;){if(et[j].message===_&&rt.length===0&&rt.push(et[j].time),rt.length===1&&et[j].message===$){const st=isoDateToMilliseconds(rt[0]);isoDateToMilliseconds(et[j].time)<st&&rt.push(et[j].time)}j===et.length-1&&rt.push("",""),j+=1}return{start:rt[1],end:rt[0]}},handleEventTimeDelta=async(i,o)=>{const s=i.eventsQuery,_=s.endEvent,$=s.hours?s.hours*HOURS:0,et=s.minutes?s.minutes*MINUTES:0,rt=$+et,j=await Fleet.queryEvents({names:[_],deviceIds:[o]});j.length<1&&console.error("No events");const st=j[0].time,lt=isoDateToMilliseconds(st)-rt;return{start:millisecondsToISODate(lt),end:st}},handleScrubberConfiguration=async(i,o,s)=>isTimeDeltaScrubber(i)?handleScrrubberDeltaTime(i,o):handleEventScrubber(i,s,o),handleScrrubberDeltaTime=(i,o)=>{const s=i.scrubber,_=s.hours?s.hours*HOURS:0,$=s.minutes?s.minutes*MINUTES:0,et=o-_-$;return{start:millisecondsToISODate(et),end:millisecondsToISODate(o)}},handleEventScrubber=async(i,o,s)=>{const _=i.scrubber,$=await getEvents(_.eventName,o);return $.length<1&&console.error("No events"),{start:$[0].time,end:millisecondsToISODate(s)}},handleAnnotationConfiguration=async(i,o)=>{const s=i.annotation,_=await Fleet.queryEvents({deviceIds:[o],eventTypes:["annotation"],names:[s]});return{start:_[0].time,end:_[0].endTime}},useDataPoints=()=>{const i=s0(),o=Oe(),s=getTypedConfiguration(o.configuration),_=Ue(),[$,et]=reactExports.useState([]),[rt,j]=reactExports.useState(),[st,lt]=reactExports.useState();return reactExports.useEffect(()=>{!s||!isAnnotationConfiguration(s)||!i||handleAnnotationConfiguration(s,i.id).then(bt=>{bt!==null&&(j(bt.start),lt(bt.end))})},[s,i]),reactExports.useEffect(()=>{!s||!isScrubberConfiguration(s)||!i||handleScrubberConfiguration(s,_,i.id).then(bt=>{bt!==null&&(j(bt.start),lt(bt.end))})},[s,_,i]),reactExports.useEffect(()=>{!s||!isEventConfiguration(s)||!i||handleEventConfiguration(s,i.id).then(bt=>{bt!==null&&(j(bt.start),lt(bt.end))})},[s]),reactExports.useEffect(()=>{if(!rt||!st||!s||!i)return;const{locationStream:gt,numericStream:bt}=s;getDataPoints(gt,i.id,rt,st,bt).then(Ut=>{if(Ut===void 0){console.warn("No streams");return}if(Ut.length===0){et([]);return}if(bt){const Ft=handleNumericStream(Ut,s.weightSearchWindow);et(Ft);return}et(Ut[0].points.map(Ft=>Ft[1]))})},[i,rt,st]),$},useFeatures=i=>{const[o,s]=reactExports.useState({type:"FeatureCollection",features:[]});return reactExports.useEffect(()=>{i.length<1||s({...generateFeaturesObject(i)})},[i]),o},DEFAULT_DISTINCT_ZOOM_LEVEL=15,DEFAULT_HEATMAP_INTENSITY=5,HeatmapLayer=({map:i,featureCollection:o,distinctZoomLevel:s,circleRadius:_,intensity:$})=>{const[et,rt]=reactExports.useState(!1),j=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{i&&(i.on("load",()=>{i.addSource("numeric",{type:"geojson",data:o}),i.addLayer({id:"numeric-heat",type:"heatmap",source:"numeric",maxzoom:24,paint:{"heatmap-weight":{property:"weight",type:"exponential",stops:[[1,0],[100,1]]},"heatmap-intensity":$??DEFAULT_HEATMAP_INTENSITY,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(236,222,239,0)",.2,"rgb(169,97,228)",.4,"rgb(46,196,149)",.6,"rgb(249,195,110)",.8,"rgb(234,113,157)"],"heatmap-radius":{stops:[[11,s??10],[14,s?s+2:20]]},"heatmap-opacity":{default:1,stops:[[s?s-1:DEFAULT_DISTINCT_ZOOM_LEVEL-1,1],[s??DEFAULT_DISTINCT_ZOOM_LEVEL+1,0]]}}},"waterway-label"),i.addLayer({id:"numeric-point",type:"circle",source:"numeric",minzoom:s?s-1:DEFAULT_DISTINCT_ZOOM_LEVEL-1,paint:{"circle-radius":{property:"weight",type:"exponential",stops:[[{zoom:DEFAULT_DISTINCT_ZOOM_LEVEL,value:1},_??5],[{zoom:22,value:100},_??20]]},"circle-color":{property:"weight",type:"exponential",stops:[[0,"rgba(236,222,239,0)"],[25,"rgb(169,97,228)"],[50,"rgb(46,196,149)"],[75,"rgb(249,195,110)"],[100,"rgb(234,113,157)"]]},"circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":{stops:[[14,0],[15,1]]}}},"waterway-label")}),rt(!0))},[i]),reactExports.useLayoutEffect(()=>{!i||o.features.length<1||!et||setTimeout(()=>{const st=i.getSource("numeric");i.addLayer,st&&(st.setData(o),j.current===0&&(i.flyTo({center:o.features[0].geometry.coordinates,zoom:DEFAULT_DISTINCT_ZOOM_LEVEL-3,duration:5e3,essential:!0}),j.current=1))},3e3)},[JSON.stringify(o.features),et]),jsx$1(Fragment,{})},DetailsCard=({map:i})=>{const s=Oe().configuration,[_,$]=reactExports.useState(1);return reactExports.useEffect(()=>{if(!i)return;const et=document.getElementById("card");setTimeout(()=>{i.on("mouseover","numeric-point",rt=>{const{x:j,y:st}=rt.point;if($(1),s.numericStream){const{weight:lt}=rt.features[0].properties;$(lt)}et.style.top=`${st}px`,et.style.left=`${j}px`,et.style.opacity="1",et.style.zIndex="2"}),i.on("mouseout","numeric-point",rt=>{et.style.opacity="0",et.style.zIndex="-1"})},6e3)},[i]),jsx$1("div",{id:"card",className:styles$1.card,children:jsx$1(Typography$1,{children:`${s.tooltipLabel??"Weight"}: ${_}`})})};function App(){const i=Oe(),o=getTypedConfiguration(i.configuration),s=useDataPoints(),_=useFeatures(s),$=reactExports.useRef(null),et=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{et.current||!o||(et.current=new mapboxgl.Map({accessToken:o.mapboxKey??"pk.eyJ1IjoiYWxlbmpkZXYiLCJhIjoiY2t3NWt5ZmExMTcxMDJvbW5kdDR2eGs1diJ9.aYT7nc_i5rp2hY4dt3CLrw",container:$.current,style:"mapbox://styles/alenjdev/ckwcflbv8201814n10hxbqz6q",center:[(o==null?void 0:o.longitude)??-77.47419738769531,(o==null?void 0:o.latitude)??39.043701171875],zoom:o.defaultZoomLevel&&o.latitude&&o.longitude?o.defaultZoomLevel:0}))},[o]),jsx$1("div",{className:styles$1.app,children:o?jsxs(Fragment,{children:[jsx$1("div",{ref:$,className:styles$1["map-container"]}),jsx$1(HeatmapLayer,{map:et.current,featureCollection:_,distinctZoomLevel:o.distinctZoomLevel,circleRadius:o.circleRadius,intensity:o.heatmapIntensity}),jsx$1(DetailsCard,{map:et.current})]}):jsx$1(z2,{})})}var Subscribable=function(){function i(){this.listeners=[]}var o=i.prototype;return o.subscribe=function(_){var $=this,et=_||function(){};return this.listeners.push(et),this.onSubscribe(),function(){$.listeners=$.listeners.filter(function(rt){return rt!==et}),$.onUnsubscribe()}},o.hasListeners=function(){return this.listeners.length>0},o.onSubscribe=function(){},o.onUnsubscribe=function(){},i}(),isServer=typeof window>"u";function noop(){}function functionalUpdate(i,o){return typeof i=="function"?i(o):i}function isValidTimeout(i){return typeof i=="number"&&i>=0&&i!==1/0}function ensureQueryKeyArray(i){return Array.isArray(i)?i:[i]}function timeUntilStale(i,o){return Math.max(i+(o||0)-Date.now(),0)}function parseQueryArgs(i,o,s){return isQueryKey(i)?typeof o=="function"?_extends$1({},s,{queryKey:i,queryFn:o}):_extends$1({},o,{queryKey:i}):i}function parseFilterArgs(i,o,s){return isQueryKey(i)?[_extends$1({},o,{queryKey:i}),s]:[i||{},o]}function mapQueryStatusFilter(i,o){if(i===!0&&o===!0||i==null&&o==null)return"all";if(i===!1&&o===!1)return"none";var s=i??!o;return s?"active":"inactive"}function matchQuery(i,o){var s=i.active,_=i.exact,$=i.fetching,et=i.inactive,rt=i.predicate,j=i.queryKey,st=i.stale;if(isQueryKey(j)){if(_){if(o.queryHash!==hashQueryKeyByOptions(j,o.options))return!1}else if(!partialMatchKey(o.queryKey,j))return!1}var lt=mapQueryStatusFilter(s,et);if(lt==="none")return!1;if(lt!=="all"){var gt=o.isActive();if(lt==="active"&&!gt||lt==="inactive"&&gt)return!1}return!(typeof st=="boolean"&&o.isStale()!==st||typeof $=="boolean"&&o.isFetching()!==$||rt&&!rt(o))}function matchMutation(i,o){var s=i.exact,_=i.fetching,$=i.predicate,et=i.mutationKey;if(isQueryKey(et)){if(!o.options.mutationKey)return!1;if(s){if(hashQueryKey(o.options.mutationKey)!==hashQueryKey(et))return!1}else if(!partialMatchKey(o.options.mutationKey,et))return!1}return!(typeof _=="boolean"&&o.state.status==="loading"!==_||$&&!$(o))}function hashQueryKeyByOptions(i,o){var s=(o==null?void 0:o.queryKeyHashFn)||hashQueryKey;return s(i)}function hashQueryKey(i){var o=ensureQueryKeyArray(i);return stableValueHash(o)}function stableValueHash(i){return JSON.stringify(i,function(o,s){return isPlainObject(s)?Object.keys(s).sort().reduce(function(_,$){return _[$]=s[$],_},{}):s})}function partialMatchKey(i,o){return partialDeepEqual(ensureQueryKeyArray(i),ensureQueryKeyArray(o))}function partialDeepEqual(i,o){return i===o?!0:typeof i!=typeof o?!1:i&&o&&typeof i=="object"&&typeof o=="object"?!Object.keys(o).some(function(s){return!partialDeepEqual(i[s],o[s])}):!1}function replaceEqualDeep(i,o){if(i===o)return i;var s=Array.isArray(i)&&Array.isArray(o);if(s||isPlainObject(i)&&isPlainObject(o)){for(var _=s?i.length:Object.keys(i).length,$=s?o:Object.keys(o),et=$.length,rt=s?[]:{},j=0,st=0;st<et;st++){var lt=s?st:$[st];rt[lt]=replaceEqualDeep(i[lt],o[lt]),rt[lt]===i[lt]&&j++}return _===et&&j===_?i:rt}return o}function isPlainObject(i){if(!hasObjectPrototype(i))return!1;var o=i.constructor;if(typeof o>"u")return!0;var s=o.prototype;return!(!hasObjectPrototype(s)||!s.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(i){return Object.prototype.toString.call(i)==="[object Object]"}function isQueryKey(i){return typeof i=="string"||Array.isArray(i)}function sleep(i){return new Promise(function(o){setTimeout(o,i)})}function scheduleMicrotask(i){Promise.resolve().then(i).catch(function(o){return setTimeout(function(){throw o})})}function getAbortController(){if(typeof AbortController=="function")return new AbortController}var FocusManager=function(i){_inheritsLoose(o,i);function o(){var _;return _=i.call(this)||this,_.setup=function($){var et;if(!isServer&&((et=window)!=null&&et.addEventListener)){var rt=function(){return $()};return window.addEventListener("visibilitychange",rt,!1),window.addEventListener("focus",rt,!1),function(){window.removeEventListener("visibilitychange",rt),window.removeEventListener("focus",rt)}}},_}var s=o.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var $;($=this.cleanup)==null||$.call(this),this.cleanup=void 0}},s.setEventListener=function($){var et,rt=this;this.setup=$,(et=this.cleanup)==null||et.call(this),this.cleanup=$(function(j){typeof j=="boolean"?rt.setFocused(j):rt.onFocus()})},s.setFocused=function($){this.focused=$,$&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function($){$()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},o}(Subscribable),focusManager=new FocusManager,OnlineManager=function(i){_inheritsLoose(o,i);function o(){var _;return _=i.call(this)||this,_.setup=function($){var et;if(!isServer&&((et=window)!=null&&et.addEventListener)){var rt=function(){return $()};return window.addEventListener("online",rt,!1),window.addEventListener("offline",rt,!1),function(){window.removeEventListener("online",rt),window.removeEventListener("offline",rt)}}},_}var s=o.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var $;($=this.cleanup)==null||$.call(this),this.cleanup=void 0}},s.setEventListener=function($){var et,rt=this;this.setup=$,(et=this.cleanup)==null||et.call(this),this.cleanup=$(function(j){typeof j=="boolean"?rt.setOnline(j):rt.onOnline()})},s.setOnline=function($){this.online=$,$&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function($){$()})},s.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},o}(Subscribable),onlineManager=new OnlineManager;function defaultRetryDelay(i){return Math.min(1e3*Math.pow(2,i),3e4)}function isCancelable(i){return typeof(i==null?void 0:i.cancel)=="function"}var CancelledError=function i(o){this.revert=o==null?void 0:o.revert,this.silent=o==null?void 0:o.silent};function isCancelledError(i){return i instanceof CancelledError}var Retryer=function i(o){var s=this,_=!1,$,et,rt,j;this.abort=o.abort,this.cancel=function(Ut){return $==null?void 0:$(Ut)},this.cancelRetry=function(){_=!0},this.continueRetry=function(){_=!1},this.continue=function(){return et==null?void 0:et()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(Ut,Ft){rt=Ut,j=Ft});var st=function(Ft){s.isResolved||(s.isResolved=!0,o.onSuccess==null||o.onSuccess(Ft),et==null||et(),rt(Ft))},lt=function(Ft){s.isResolved||(s.isResolved=!0,o.onError==null||o.onError(Ft),et==null||et(),j(Ft))},gt=function(){return new Promise(function(Ft){et=Ft,s.isPaused=!0,o.onPause==null||o.onPause()}).then(function(){et=void 0,s.isPaused=!1,o.onContinue==null||o.onContinue()})},bt=function Ut(){if(!s.isResolved){var Ft;try{Ft=o.fn()}catch(yt){Ft=Promise.reject(yt)}$=function(Qt){if(!s.isResolved&&(lt(new CancelledError(Qt)),s.abort==null||s.abort(),isCancelable(Ft)))try{Ft.cancel()}catch{}},s.isTransportCancelable=isCancelable(Ft),Promise.resolve(Ft).then(st).catch(function(yt){var Qt,wt;if(!s.isResolved){var Tt=(Qt=o.retry)!=null?Qt:3,Jt=(wt=o.retryDelay)!=null?wt:defaultRetryDelay,At=typeof Jt=="function"?Jt(s.failureCount,yt):Jt,Nt=Tt===!0||typeof Tt=="number"&&s.failureCount<Tt||typeof Tt=="function"&&Tt(s.failureCount,yt);if(_||!Nt){lt(yt);return}s.failureCount++,o.onFail==null||o.onFail(s.failureCount,yt),sleep(At).then(function(){if(!focusManager.isFocused()||!onlineManager.isOnline())return gt()}).then(function(){_?lt(yt):Ut()})}})}};bt()},NotifyManager=function(){function i(){this.queue=[],this.transactions=0,this.notifyFn=function(s){s()},this.batchNotifyFn=function(s){s()}}var o=i.prototype;return o.batch=function(_){var $;this.transactions++;try{$=_()}finally{this.transactions--,this.transactions||this.flush()}return $},o.schedule=function(_){var $=this;this.transactions?this.queue.push(_):scheduleMicrotask(function(){$.notifyFn(_)})},o.batchCalls=function(_){var $=this;return function(){for(var et=arguments.length,rt=new Array(et),j=0;j<et;j++)rt[j]=arguments[j];$.schedule(function(){_.apply(void 0,rt)})}},o.flush=function(){var _=this,$=this.queue;this.queue=[],$.length&&scheduleMicrotask(function(){_.batchNotifyFn(function(){$.forEach(function(et){_.notifyFn(et)})})})},o.setNotifyFunction=function(_){this.notifyFn=_},o.setBatchNotifyFunction=function(_){this.batchNotifyFn=_},i}(),notifyManager=new NotifyManager,logger$1=console;function getLogger(){return logger$1}function setLogger(i){logger$1=i}var Query=function(){function i(s){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=s.meta,this.scheduleGc()}var o=i.prototype;return o.setOptions=function(_){var $;this.options=_extends$1({},this.defaultOptions,_),this.meta=_==null?void 0:_.meta,this.cacheTime=Math.max(this.cacheTime||0,($=this.options.cacheTime)!=null?$:5*60*1e3)},o.setDefaultOptions=function(_){this.defaultOptions=_},o.scheduleGc=function(){var _=this;this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){_.optionalRemove()},this.cacheTime))},o.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},o.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},o.setData=function(_,$){var et,rt,j=this.state.data,st=functionalUpdate(_,j);return(et=(rt=this.options).isDataEqual)!=null&&et.call(rt,j,st)?st=j:this.options.structuralSharing!==!1&&(st=replaceEqualDeep(j,st)),this.dispatch({data:st,type:"success",dataUpdatedAt:$==null?void 0:$.updatedAt}),st},o.setState=function(_,$){this.dispatch({type:"setState",state:_,setStateOptions:$})},o.cancel=function(_){var $,et=this.promise;return($=this.retryer)==null||$.cancel(_),et?et.then(noop).catch(noop):Promise.resolve()},o.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},o.reset=function(){this.destroy(),this.setState(this.initialState)},o.isActive=function(){return this.observers.some(function(_){return _.options.enabled!==!1})},o.isFetching=function(){return this.state.isFetching},o.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(_){return _.getCurrentResult().isStale})},o.isStaleByTime=function(_){return _===void 0&&(_=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,_)},o.onFocus=function(){var _,$=this.observers.find(function(et){return et.shouldFetchOnWindowFocus()});$&&$.refetch(),(_=this.retryer)==null||_.continue()},o.onOnline=function(){var _,$=this.observers.find(function(et){return et.shouldFetchOnReconnect()});$&&$.refetch(),(_=this.retryer)==null||_.continue()},o.addObserver=function(_){this.observers.indexOf(_)===-1&&(this.observers.push(_),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:_}))},o.removeObserver=function(_){this.observers.indexOf(_)!==-1&&(this.observers=this.observers.filter(function($){return $!==_}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:_}))},o.getObserversCount=function(){return this.observers.length},o.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},o.fetch=function(_,$){var et=this,rt,j,st;if(this.state.isFetching){if(this.state.dataUpdatedAt&&($!=null&&$.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var lt;return(lt=this.retryer)==null||lt.continueRetry(),this.promise}}if(_&&this.setOptions(_),!this.options.queryFn){var gt=this.observers.find(function(Jt){return Jt.options.queryFn});gt&&this.setOptions(gt.options)}var bt=ensureQueryKeyArray(this.queryKey),Ut=getAbortController(),Ft={queryKey:bt,pageParam:void 0,meta:this.meta};Object.defineProperty(Ft,"signal",{enumerable:!0,get:function(){if(Ut)return et.abortSignalConsumed=!0,Ut.signal}});var yt=function(){return et.options.queryFn?(et.abortSignalConsumed=!1,et.options.queryFn(Ft)):Promise.reject("Missing queryFn")},Qt={fetchOptions:$,options:this.options,queryKey:bt,state:this.state,fetchFn:yt,meta:this.meta};if((rt=this.options.behavior)!=null&&rt.onFetch){var wt;(wt=this.options.behavior)==null||wt.onFetch(Qt)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((j=Qt.fetchOptions)==null?void 0:j.meta)){var Tt;this.dispatch({type:"fetch",meta:(Tt=Qt.fetchOptions)==null?void 0:Tt.meta})}return this.retryer=new Retryer({fn:Qt.fetchFn,abort:Ut==null||(st=Ut.abort)==null?void 0:st.bind(Ut),onSuccess:function(At){et.setData(At),et.cache.config.onSuccess==null||et.cache.config.onSuccess(At,et),et.cacheTime===0&&et.optionalRemove()},onError:function(At){isCancelledError(At)&&At.silent||et.dispatch({type:"error",error:At}),isCancelledError(At)||(et.cache.config.onError==null||et.cache.config.onError(At,et),getLogger().error(At)),et.cacheTime===0&&et.optionalRemove()},onFail:function(){et.dispatch({type:"failed"})},onPause:function(){et.dispatch({type:"pause"})},onContinue:function(){et.dispatch({type:"continue"})},retry:Qt.options.retry,retryDelay:Qt.options.retryDelay}),this.promise=this.retryer.promise,this.promise},o.dispatch=function(_){var $=this;this.state=this.reducer(this.state,_),notifyManager.batch(function(){$.observers.forEach(function(et){et.onQueryUpdate(_)}),$.cache.notify({query:$,type:"queryUpdated",action:_})})},o.getDefaultState=function(_){var $=typeof _.initialData=="function"?_.initialData():_.initialData,et=typeof _.initialData<"u",rt=et?typeof _.initialDataUpdatedAt=="function"?_.initialDataUpdatedAt():_.initialDataUpdatedAt:0,j=typeof $<"u";return{data:$,dataUpdateCount:0,dataUpdatedAt:j?rt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:j?"success":"idle"}},o.reducer=function(_,$){var et,rt;switch($.type){case"failed":return _extends$1({},_,{fetchFailureCount:_.fetchFailureCount+1});case"pause":return _extends$1({},_,{isPaused:!0});case"continue":return _extends$1({},_,{isPaused:!1});case"fetch":return _extends$1({},_,{fetchFailureCount:0,fetchMeta:(et=$.meta)!=null?et:null,isFetching:!0,isPaused:!1},!_.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _extends$1({},_,{data:$.data,dataUpdateCount:_.dataUpdateCount+1,dataUpdatedAt:(rt=$.dataUpdatedAt)!=null?rt:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var j=$.error;return isCancelledError(j)&&j.revert&&this.revertState?_extends$1({},this.revertState):_extends$1({},_,{error:j,errorUpdateCount:_.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:_.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _extends$1({},_,{isInvalidated:!0});case"setState":return _extends$1({},_,$.state);default:return _}},i}(),QueryCache=function(i){_inheritsLoose(o,i);function o(_){var $;return $=i.call(this)||this,$.config=_||{},$.queries=[],$.queriesMap={},$}var s=o.prototype;return s.build=function($,et,rt){var j,st=et.queryKey,lt=(j=et.queryHash)!=null?j:hashQueryKeyByOptions(st,et),gt=this.get(lt);return gt||(gt=new Query({cache:this,queryKey:st,queryHash:lt,options:$.defaultQueryOptions(et),state:rt,defaultOptions:$.getQueryDefaults(st),meta:et.meta}),this.add(gt)),gt},s.add=function($){this.queriesMap[$.queryHash]||(this.queriesMap[$.queryHash]=$,this.queries.push($),this.notify({type:"queryAdded",query:$}))},s.remove=function($){var et=this.queriesMap[$.queryHash];et&&($.destroy(),this.queries=this.queries.filter(function(rt){return rt!==$}),et===$&&delete this.queriesMap[$.queryHash],this.notify({type:"queryRemoved",query:$}))},s.clear=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(et){$.remove(et)})})},s.get=function($){return this.queriesMap[$]},s.getAll=function(){return this.queries},s.find=function($,et){var rt=parseFilterArgs($,et),j=rt[0];return typeof j.exact>"u"&&(j.exact=!0),this.queries.find(function(st){return matchQuery(j,st)})},s.findAll=function($,et){var rt=parseFilterArgs($,et),j=rt[0];return Object.keys(j).length>0?this.queries.filter(function(st){return matchQuery(j,st)}):this.queries},s.notify=function($){var et=this;notifyManager.batch(function(){et.listeners.forEach(function(rt){rt($)})})},s.onFocus=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(et){et.onFocus()})})},s.onOnline=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(et){et.onOnline()})})},o}(Subscribable),Mutation=function(){function i(s){this.options=_extends$1({},s.defaultOptions,s.options),this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.observers=[],this.state=s.state||getDefaultState(),this.meta=s.meta}var o=i.prototype;return o.setState=function(_){this.dispatch({type:"setState",state:_})},o.addObserver=function(_){this.observers.indexOf(_)===-1&&this.observers.push(_)},o.removeObserver=function(_){this.observers=this.observers.filter(function($){return $!==_})},o.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(noop).catch(noop)):Promise.resolve()},o.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},o.execute=function(){var _=this,$,et=this.state.status==="loading",rt=Promise.resolve();return et||(this.dispatch({type:"loading",variables:this.options.variables}),rt=rt.then(function(){_.mutationCache.config.onMutate==null||_.mutationCache.config.onMutate(_.state.variables,_)}).then(function(){return _.options.onMutate==null?void 0:_.options.onMutate(_.state.variables)}).then(function(j){j!==_.state.context&&_.dispatch({type:"loading",context:j,variables:_.state.variables})})),rt.then(function(){return _.executeMutation()}).then(function(j){$=j,_.mutationCache.config.onSuccess==null||_.mutationCache.config.onSuccess($,_.state.variables,_.state.context,_)}).then(function(){return _.options.onSuccess==null?void 0:_.options.onSuccess($,_.state.variables,_.state.context)}).then(function(){return _.options.onSettled==null?void 0:_.options.onSettled($,null,_.state.variables,_.state.context)}).then(function(){return _.dispatch({type:"success",data:$}),$}).catch(function(j){return _.mutationCache.config.onError==null||_.mutationCache.config.onError(j,_.state.variables,_.state.context,_),getLogger().error(j),Promise.resolve().then(function(){return _.options.onError==null?void 0:_.options.onError(j,_.state.variables,_.state.context)}).then(function(){return _.options.onSettled==null?void 0:_.options.onSettled(void 0,j,_.state.variables,_.state.context)}).then(function(){throw _.dispatch({type:"error",error:j}),j})})},o.executeMutation=function(){var _=this,$;return this.retryer=new Retryer({fn:function(){return _.options.mutationFn?_.options.mutationFn(_.state.variables):Promise.reject("No mutationFn found")},onFail:function(){_.dispatch({type:"failed"})},onPause:function(){_.dispatch({type:"pause"})},onContinue:function(){_.dispatch({type:"continue"})},retry:($=this.options.retry)!=null?$:0,retryDelay:this.options.retryDelay}),this.retryer.promise},o.dispatch=function(_){var $=this;this.state=reducer(this.state,_),notifyManager.batch(function(){$.observers.forEach(function(et){et.onMutationUpdate(_)}),$.mutationCache.notify($)})},i}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function reducer(i,o){switch(o.type){case"failed":return _extends$1({},i,{failureCount:i.failureCount+1});case"pause":return _extends$1({},i,{isPaused:!0});case"continue":return _extends$1({},i,{isPaused:!1});case"loading":return _extends$1({},i,{context:o.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:o.variables});case"success":return _extends$1({},i,{data:o.data,error:null,status:"success",isPaused:!1});case"error":return _extends$1({},i,{data:void 0,error:o.error,failureCount:i.failureCount+1,isPaused:!1,status:"error"});case"setState":return _extends$1({},i,o.state);default:return i}}var MutationCache=function(i){_inheritsLoose(o,i);function o(_){var $;return $=i.call(this)||this,$.config=_||{},$.mutations=[],$.mutationId=0,$}var s=o.prototype;return s.build=function($,et,rt){var j=new Mutation({mutationCache:this,mutationId:++this.mutationId,options:$.defaultMutationOptions(et),state:rt,defaultOptions:et.mutationKey?$.getMutationDefaults(et.mutationKey):void 0,meta:et.meta});return this.add(j),j},s.add=function($){this.mutations.push($),this.notify($)},s.remove=function($){this.mutations=this.mutations.filter(function(et){return et!==$}),$.cancel(),this.notify($)},s.clear=function(){var $=this;notifyManager.batch(function(){$.mutations.forEach(function(et){$.remove(et)})})},s.getAll=function(){return this.mutations},s.find=function($){return typeof $.exact>"u"&&($.exact=!0),this.mutations.find(function(et){return matchMutation($,et)})},s.findAll=function($){return this.mutations.filter(function(et){return matchMutation($,et)})},s.notify=function($){var et=this;notifyManager.batch(function(){et.listeners.forEach(function(rt){rt($)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var $=this.mutations.filter(function(et){return et.state.isPaused});return notifyManager.batch(function(){return $.reduce(function(et,rt){return et.then(function(){return rt.continue().catch(noop)})},Promise.resolve())})},o}(Subscribable);function infiniteQueryBehavior(){return{onFetch:function(o){o.fetchFn=function(){var s,_,$,et,rt,j,st=(s=o.fetchOptions)==null||(_=s.meta)==null?void 0:_.refetchPage,lt=($=o.fetchOptions)==null||(et=$.meta)==null?void 0:et.fetchMore,gt=lt==null?void 0:lt.pageParam,bt=(lt==null?void 0:lt.direction)==="forward",Ut=(lt==null?void 0:lt.direction)==="backward",Ft=((rt=o.state.data)==null?void 0:rt.pages)||[],yt=((j=o.state.data)==null?void 0:j.pageParams)||[],Qt=getAbortController(),wt=Qt==null?void 0:Qt.signal,Tt=yt,Jt=!1,At=o.options.queryFn||function(){return Promise.reject("Missing queryFn")},Nt=function(Un,Kt,$t,hn){return Tt=hn?[Kt].concat(Tt):[].concat(Tt,[Kt]),hn?[$t].concat(Un):[].concat(Un,[$t])},St=function(Un,Kt,$t,hn){if(Jt)return Promise.reject("Cancelled");if(typeof $t>"u"&&!Kt&&Un.length)return Promise.resolve(Un);var dn={queryKey:o.queryKey,signal:wt,pageParam:$t,meta:o.meta},zt=At(dn),It=Promise.resolve(zt).then(function(vn){return Nt(Un,$t,vn,hn)});if(isCancelable(zt)){var gn=It;gn.cancel=zt.cancel}return It},Ot;if(!Ft.length)Ot=St([]);else if(bt){var nn=typeof gt<"u",yn=nn?gt:getNextPageParam(o.options,Ft);Ot=St(Ft,nn,yn)}else if(Ut){var Ct=typeof gt<"u",Vt=Ct?gt:getPreviousPageParam(o.options,Ft);Ot=St(Ft,Ct,Vt,!0)}else(function(){Tt=[];var tn=typeof o.options.getNextPageParam>"u",Un=st&&Ft[0]?st(Ft[0],0,Ft):!0;Ot=Un?St([],tn,yt[0]):Promise.resolve(Nt([],yt[0],Ft[0]));for(var Kt=function(dn){Ot=Ot.then(function(zt){var It=st&&Ft[dn]?st(Ft[dn],dn,Ft):!0;if(It){var gn=tn?yt[dn]:getNextPageParam(o.options,zt);return St(zt,tn,gn)}return Promise.resolve(Nt(zt,yt[dn],Ft[dn]))})},$t=1;$t<Ft.length;$t++)Kt($t)})();var Yt=Ot.then(function(tn){return{pages:tn,pageParams:Tt}}),Pt=Yt;return Pt.cancel=function(){Jt=!0,Qt==null||Qt.abort(),isCancelable(Ot)&&Ot.cancel()},Yt}}}}function getNextPageParam(i,o){return i.getNextPageParam==null?void 0:i.getNextPageParam(o[o.length-1],o)}function getPreviousPageParam(i,o){return i.getPreviousPageParam==null?void 0:i.getPreviousPageParam(o[0],o)}var QueryClient=function(){function i(s){s===void 0&&(s={}),this.queryCache=s.queryCache||new QueryCache,this.mutationCache=s.mutationCache||new MutationCache,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var o=i.prototype;return o.mount=function(){var _=this;this.unsubscribeFocus=focusManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(_.mutationCache.onFocus(),_.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(_.mutationCache.onOnline(),_.queryCache.onOnline())})},o.unmount=function(){var _,$;(_=this.unsubscribeFocus)==null||_.call(this),($=this.unsubscribeOnline)==null||$.call(this)},o.isFetching=function(_,$){var et=parseFilterArgs(_,$),rt=et[0];return rt.fetching=!0,this.queryCache.findAll(rt).length},o.isMutating=function(_){return this.mutationCache.findAll(_extends$1({},_,{fetching:!0})).length},o.getQueryData=function(_,$){var et;return(et=this.queryCache.find(_,$))==null?void 0:et.state.data},o.getQueriesData=function(_){return this.getQueryCache().findAll(_).map(function($){var et=$.queryKey,rt=$.state,j=rt.data;return[et,j]})},o.setQueryData=function(_,$,et){var rt=parseQueryArgs(_),j=this.defaultQueryOptions(rt);return this.queryCache.build(this,j).setData($,et)},o.setQueriesData=function(_,$,et){var rt=this;return notifyManager.batch(function(){return rt.getQueryCache().findAll(_).map(function(j){var st=j.queryKey;return[st,rt.setQueryData(st,$,et)]})})},o.getQueryState=function(_,$){var et;return(et=this.queryCache.find(_,$))==null?void 0:et.state},o.removeQueries=function(_,$){var et=parseFilterArgs(_,$),rt=et[0],j=this.queryCache;notifyManager.batch(function(){j.findAll(rt).forEach(function(st){j.remove(st)})})},o.resetQueries=function(_,$,et){var rt=this,j=parseFilterArgs(_,$,et),st=j[0],lt=j[1],gt=this.queryCache,bt=_extends$1({},st,{active:!0});return notifyManager.batch(function(){return gt.findAll(st).forEach(function(Ut){Ut.reset()}),rt.refetchQueries(bt,lt)})},o.cancelQueries=function(_,$,et){var rt=this,j=parseFilterArgs(_,$,et),st=j[0],lt=j[1],gt=lt===void 0?{}:lt;typeof gt.revert>"u"&&(gt.revert=!0);var bt=notifyManager.batch(function(){return rt.queryCache.findAll(st).map(function(Ut){return Ut.cancel(gt)})});return Promise.all(bt).then(noop).catch(noop)},o.invalidateQueries=function(_,$,et){var rt,j,st,lt=this,gt=parseFilterArgs(_,$,et),bt=gt[0],Ut=gt[1],Ft=_extends$1({},bt,{active:(rt=(j=bt.refetchActive)!=null?j:bt.active)!=null?rt:!0,inactive:(st=bt.refetchInactive)!=null?st:!1});return notifyManager.batch(function(){return lt.queryCache.findAll(bt).forEach(function(yt){yt.invalidate()}),lt.refetchQueries(Ft,Ut)})},o.refetchQueries=function(_,$,et){var rt=this,j=parseFilterArgs(_,$,et),st=j[0],lt=j[1],gt=notifyManager.batch(function(){return rt.queryCache.findAll(st).map(function(Ut){return Ut.fetch(void 0,_extends$1({},lt,{meta:{refetchPage:st==null?void 0:st.refetchPage}}))})}),bt=Promise.all(gt).then(noop);return lt!=null&&lt.throwOnError||(bt=bt.catch(noop)),bt},o.fetchQuery=function(_,$,et){var rt=parseQueryArgs(_,$,et),j=this.defaultQueryOptions(rt);typeof j.retry>"u"&&(j.retry=!1);var st=this.queryCache.build(this,j);return st.isStaleByTime(j.staleTime)?st.fetch(j):Promise.resolve(st.state.data)},o.prefetchQuery=function(_,$,et){return this.fetchQuery(_,$,et).then(noop).catch(noop)},o.fetchInfiniteQuery=function(_,$,et){var rt=parseQueryArgs(_,$,et);return rt.behavior=infiniteQueryBehavior(),this.fetchQuery(rt)},o.prefetchInfiniteQuery=function(_,$,et){return this.fetchInfiniteQuery(_,$,et).then(noop).catch(noop)},o.cancelMutations=function(){var _=this,$=notifyManager.batch(function(){return _.mutationCache.getAll().map(function(et){return et.cancel()})});return Promise.all($).then(noop).catch(noop)},o.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},o.executeMutation=function(_){return this.mutationCache.build(this,_).execute()},o.getQueryCache=function(){return this.queryCache},o.getMutationCache=function(){return this.mutationCache},o.getDefaultOptions=function(){return this.defaultOptions},o.setDefaultOptions=function(_){this.defaultOptions=_},o.setQueryDefaults=function(_,$){var et=this.queryDefaults.find(function(rt){return hashQueryKey(_)===hashQueryKey(rt.queryKey)});et?et.defaultOptions=$:this.queryDefaults.push({queryKey:_,defaultOptions:$})},o.getQueryDefaults=function(_){var $;return _?($=this.queryDefaults.find(function(et){return partialMatchKey(_,et.queryKey)}))==null?void 0:$.defaultOptions:void 0},o.setMutationDefaults=function(_,$){var et=this.mutationDefaults.find(function(rt){return hashQueryKey(_)===hashQueryKey(rt.mutationKey)});et?et.defaultOptions=$:this.mutationDefaults.push({mutationKey:_,defaultOptions:$})},o.getMutationDefaults=function(_){var $;return _?($=this.mutationDefaults.find(function(et){return partialMatchKey(_,et.mutationKey)}))==null?void 0:$.defaultOptions:void 0},o.defaultQueryOptions=function(_){if(_!=null&&_._defaulted)return _;var $=_extends$1({},this.defaultOptions.queries,this.getQueryDefaults(_==null?void 0:_.queryKey),_,{_defaulted:!0});return!$.queryHash&&$.queryKey&&($.queryHash=hashQueryKeyByOptions($.queryKey,$)),$},o.defaultQueryObserverOptions=function(_){return this.defaultQueryOptions(_)},o.defaultMutationOptions=function(_){return _!=null&&_._defaulted?_:_extends$1({},this.defaultOptions.mutations,this.getMutationDefaults(_==null?void 0:_.mutationKey),_,{_defaulted:!0})},o.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},i}(),unstable_batchedUpdates=ReactDOM.unstable_batchedUpdates;notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);var logger=console;setLogger(logger);var defaultContext=React$1.createContext(void 0),QueryClientSharingContext=React$1.createContext(!1);function getQueryClientContext(i){return i&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}var QueryClientProvider=function i(o){var s=o.client,_=o.contextSharing,$=_===void 0?!1:_,et=o.children;React$1.useEffect(function(){return s.mount(),function(){s.unmount()}},[s]);var rt=getQueryClientContext($);return React$1.createElement(QueryClientSharingContext.Provider,{value:$},React$1.createElement(rt.Provider,{value:s},et))};const index_module={"mapboxgl-control-container":"_mapboxgl-control-container_1csz9_6","mapboxgl-ctrl":"_mapboxgl-ctrl_1csz9_10","mapboxgl-ctrl-bottom-left":"_mapboxgl-ctrl-bottom-left_1csz9_14","mapboxgl-ctrl-bottom-right":"_mapboxgl-ctrl-bottom-right_1csz9_18"},queryClient=new QueryClient;client.createRoot(document.getElementById("root")).render(jsx$1(Ke,{parseConfiguration:!0,children:jsx$1(QueryClientProvider,{client:queryClient,children:jsx$1(React$1.StrictMode,{children:jsx$1(App,{})})})}));
