function _mergeNamespaces(i,o){for(var s=0;s<o.length;s++){const _=o[s];if(typeof _!="string"&&!Array.isArray(_)){for(const $ in _)if($!=="default"&&!($ in i)){const _e=Object.getOwnPropertyDescriptor(_,$);_e&&Object.defineProperty(i,$,_e.get?_e:{enumerable:!0,get:()=>_[$]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))_($);new MutationObserver($=>{for(const _e of $)if(_e.type==="childList")for(const et of _e.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&_(et)}).observe(document,{childList:!0,subtree:!0});function s($){const _e={};return $.integrity&&(_e.integrity=$.integrity),$.referrerpolicy&&(_e.referrerPolicy=$.referrerpolicy),$.crossorigin==="use-credentials"?_e.credentials="include":$.crossorigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function _($){if($.ep)return;$.ep=!0;const _e=s($);fetch($.href,_e)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntimeExports={},jsxRuntime$1={get exports(){return jsxRuntimeExports},set exports(i){jsxRuntimeExports=i}},reactJsxRuntime_production_min$1={},reactExports={},react={get exports(){return reactExports},set exports(i){reactExports=i}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,o){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,o,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,o,s){var _,$={},_e=null,et=null;if(o!=null)for(_ in o.ref!==void 0&&(et=o.ref),o.key!==void 0&&(_e=""+o.key),o)J.call(o,_)&&!L$1.hasOwnProperty(_)&&($[_]=o[_]);var j=arguments.length-2;if(j===1)$.children=s;else if(1<j){for(var nt=Array(j),ot=0;ot<j;ot++)nt[ot]=arguments[ot+2];$.children=nt}if(i&&i.defaultProps)for(_ in j=i.defaultProps,j)$[_]===void 0&&($[_]=j[_]);return{$$typeof:l$3,type:i,key:_e,ref:et,props:$,_owner:K$1.current}}function N$1(i,o){return{$$typeof:l$3,type:i.type,key:o,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$3}function escape$1(i){var o={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return o[s]})}var P$1=/\/+/g;function Q$1(i,o){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):o.toString(36)}function R$1(i,o,s,_,$){var _e=typeof i;(_e==="undefined"||_e==="boolean")&&(i=null);var et=!1;if(i===null)et=!0;else switch(_e){case"string":case"number":et=!0;break;case"object":switch(i.$$typeof){case l$3:case n$3:et=!0}}if(et)return et=i,$=$(et),i=_===""?"."+Q$1(et,0):_,I$1($)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1($,o,s,"",function(ot){return ot})):$!=null&&(O$1($)&&($=N$1($,s+(!$.key||et&&et.key===$.key?"":(""+$.key).replace(P$1,"$&/")+"/")+i)),o.push($)),1;if(et=0,_=_===""?".":_+":",I$1(i))for(var j=0;j<i.length;j++){_e=i[j];var nt=_+Q$1(_e,j);et+=R$1(_e,o,s,nt,$)}else if(nt=A$2(i),typeof nt=="function")for(i=nt.call(i),j=0;!(_e=i.next()).done;)_e=_e.value,nt=_+Q$1(_e,j++),et+=R$1(_e,o,s,nt,$);else if(_e==="object")throw o=String(i),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return et}function S$1(i,o,s){if(i==null)return i;var _=[],$=0;return R$1(i,_,"","",function(_e){return o.call(s,_e,$++)}),_}function T$1(i){if(i._status===-1){var o=i._result;o=o(),o.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=o)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,o,s){S$1(i,function(){o.apply(this,arguments)},s)},count:function(i){var o=0;return S$1(i,function(){o++}),o},toArray:function(i){return S$1(i,function(o){return o})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,o,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var _=C$1({},i.props),$=i.key,_e=i.ref,et=i._owner;if(o!=null){if(o.ref!==void 0&&(_e=o.ref,et=K$1.current),o.key!==void 0&&($=""+o.key),i.type&&i.type.defaultProps)var j=i.type.defaultProps;for(nt in o)J.call(o,nt)&&!L$1.hasOwnProperty(nt)&&(_[nt]=o[nt]===void 0&&j!==void 0?j[nt]:o[nt])}var nt=arguments.length-2;if(nt===1)_.children=s;else if(1<nt){j=Array(nt);for(var ot=0;ot<nt;ot++)j[ot]=arguments[ot+2];_.children=j}return{$$typeof:l$3,type:i.type,key:$,ref:_e,props:_,_owner:et}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$1,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var o=M$1.bind(null,i);return o.type=i,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,o){return{$$typeof:x$1,type:i,compare:o===void 0?null:o}};react_production_min.startTransition=function(i){var o=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,o){return U$1.current.useCallback(i,o)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,o){return U$1.current.useEffect(i,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,o,s){return U$1.current.useImperativeHandle(i,o,s)};react_production_min.useInsertionEffect=function(i,o){return U$1.current.useInsertionEffect(i,o)};react_production_min.useLayoutEffect=function(i,o){return U$1.current.useLayoutEffect(i,o)};react_production_min.useMemo=function(i,o){return U$1.current.useMemo(i,o)};react_production_min.useReducer=function(i,o,s){return U$1.current.useReducer(i,o,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,o,s){return U$1.current.useSyncExternalStore(i,o,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(i){i.exports=react_production_min})(react);const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,o,s){var _,$={},_e=null,et=null;s!==void 0&&(_e=""+s),o.key!==void 0&&(_e=""+o.key),o.ref!==void 0&&(et=o.ref);for(_ in o)m$3.call(o,_)&&!p$3.hasOwnProperty(_)&&($[_]=o[_]);if(i&&i.defaultProps)for(_ in o=i.defaultProps,o)$[_]===void 0&&($[_]=o[_]);return{$$typeof:k$2,type:i,key:_e,ref:et,props:$,_owner:n$2.current}}reactJsxRuntime_production_min$1.Fragment=l$2;reactJsxRuntime_production_min$1.jsx=q$2;reactJsxRuntime_production_min$1.jsxs=q$2;(function(i){i.exports=reactJsxRuntime_production_min$1})(jsxRuntime$1);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(i){reactDomExports=i}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(i){schedulerExports=i}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function o(Ht,kt){var Rt=Ht.length;Ht.push(kt);e:for(;0<Rt;){var $t=Rt-1>>>1,nn=Ht[$t];if(0<$(nn,kt))Ht[$t]=kt,Ht[Rt]=nn,Rt=$t;else break e}}function s(Ht){return Ht.length===0?null:Ht[0]}function _(Ht){if(Ht.length===0)return null;var kt=Ht[0],Rt=Ht.pop();if(Rt!==kt){Ht[0]=Rt;e:for(var $t=0,nn=Ht.length,Un=nn>>>1;$t<Un;){var Fn=2*($t+1)-1,En=Ht[Fn],fn=Fn+1,sn=Ht[fn];if(0>$(En,Rt))fn<nn&&0>$(sn,En)?(Ht[$t]=sn,Ht[fn]=Rt,$t=fn):(Ht[$t]=En,Ht[Fn]=Rt,$t=Fn);else if(fn<nn&&0>$(sn,Rt))Ht[$t]=sn,Ht[fn]=Rt,$t=fn;else break e}}return kt}function $(Ht,kt){var Rt=Ht.sortIndex-kt.sortIndex;return Rt!==0?Rt:Ht.id-kt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;i.unstable_now=function(){return _e.now()}}else{var et=Date,j=et.now();i.unstable_now=function(){return et.now()-j}}var nt=[],ot=[],ct=1,gt=null,pt=3,ft=!1,ut=!1,yt=!1,wt=typeof setTimeout=="function"?setTimeout:null,Qt=typeof clearTimeout=="function"?clearTimeout:null,It=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xt(Ht){for(var kt=s(ot);kt!==null;){if(kt.callback===null)_(ot);else if(kt.startTime<=Ht)_(ot),kt.sortIndex=kt.expirationTime,o(nt,kt);else break;kt=s(ot)}}function Tt(Ht){if(yt=!1,xt(Ht),!ut)if(s(nt)!==null)ut=!0,Wt(mt);else{var kt=s(ot);kt!==null&&Gt(Tt,kt.startTime-Ht)}}function mt(Ht,kt){ut=!1,yt&&(yt=!1,Qt(rn),rn=-1),ft=!0;var Rt=pt;try{for(xt(kt),gt=s(nt);gt!==null&&(!(gt.expirationTime>kt)||Ht&&!Pt());){var $t=gt.callback;if(typeof $t=="function"){gt.callback=null,pt=gt.priorityLevel;var nn=$t(gt.expirationTime<=kt);kt=i.unstable_now(),typeof nn=="function"?gt.callback=nn:gt===s(nt)&&_(nt),xt(kt)}else _(nt);gt=s(nt)}if(gt!==null)var Un=!0;else{var Fn=s(ot);Fn!==null&&Gt(Tt,Fn.startTime-kt),Un=!1}return Un}finally{gt=null,pt=Rt,ft=!1}}var Nt=!1,en=null,rn=-1,Ft=5,St=-1;function Pt(){return!(i.unstable_now()-St<Ft)}function Bt(){if(en!==null){var Ht=i.unstable_now();St=Ht;var kt=!0;try{kt=en(!0,Ht)}finally{kt?jt():(Nt=!1,en=null)}}else Nt=!1}var jt;if(typeof It=="function")jt=function(){It(Bt)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,Zt=qt.port2;qt.port1.onmessage=Bt,jt=function(){Zt.postMessage(null)}}else jt=function(){wt(Bt,0)};function Wt(Ht){en=Ht,Nt||(Nt=!0,jt())}function Gt(Ht,kt){rn=wt(function(){Ht(i.unstable_now())},kt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Ht){Ht.callback=null},i.unstable_continueExecution=function(){ut||ft||(ut=!0,Wt(mt))},i.unstable_forceFrameRate=function(Ht){0>Ht||125<Ht?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ft=0<Ht?Math.floor(1e3/Ht):5},i.unstable_getCurrentPriorityLevel=function(){return pt},i.unstable_getFirstCallbackNode=function(){return s(nt)},i.unstable_next=function(Ht){switch(pt){case 1:case 2:case 3:var kt=3;break;default:kt=pt}var Rt=pt;pt=kt;try{return Ht()}finally{pt=Rt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Ht,kt){switch(Ht){case 1:case 2:case 3:case 4:case 5:break;default:Ht=3}var Rt=pt;pt=Ht;try{return kt()}finally{pt=Rt}},i.unstable_scheduleCallback=function(Ht,kt,Rt){var $t=i.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?$t+Rt:$t):Rt=$t,Ht){case 1:var nn=-1;break;case 2:nn=250;break;case 5:nn=1073741823;break;case 4:nn=1e4;break;default:nn=5e3}return nn=Rt+nn,Ht={id:ct++,callback:kt,priorityLevel:Ht,startTime:Rt,expirationTime:nn,sortIndex:-1},Rt>$t?(Ht.sortIndex=Rt,o(ot,Ht),s(nt)===null&&Ht===s(ot)&&(yt?(Qt(rn),rn=-1):yt=!0,Gt(Tt,Rt-$t))):(Ht.sortIndex=nn,o(nt,Ht),ut||ft||(ut=!0,Wt(mt))),Ht},i.unstable_shouldYield=Pt,i.unstable_wrapCallback=function(Ht){var kt=pt;return function(){var Rt=pt;pt=kt;try{return Ht.apply(this,arguments)}finally{pt=Rt}}}})(scheduler_production_min);(function(i){i.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,o){ha(i,o),ha(i+"Capture",o)}function ha(i,o){for(ea[i]=o,i=0;i<o.length;i++)da.add(o[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,o,s,_){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return _?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,o,s,_){if(o===null||typeof o>"u"||pa(i,o,s,_))return!0;if(_)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$2(i,o,s,_,$,_e,et){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=_,this.attributeNamespace=$,this.mustUseProperty=s,this.propertyName=i,this.type=o,this.sanitizeURL=_e,this.removeEmptyString=et}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$2(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];z$1[o]=new v$2(o,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$2(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$2(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$2(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$2(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$2(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,o,s,_){var $=z$1.hasOwnProperty(o)?z$1[o]:null;($!==null?$.type!==0:_||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,s,$,_)&&(s=null),_||$===null?oa(o)&&(s===null?i.removeAttribute(o):i.setAttribute(o,""+s)):$.mustUseProperty?i[$.propertyName]=s===null?$.type===3?!1:"":s:(o=$.attributeName,_=$.attributeNamespace,s===null?i.removeAttribute(o):($=$.type,s=$===3||$===4&&s===!0?"":""+s,_?i.setAttributeNS(_,o,s):i.setAttribute(o,s))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+i}var Na=!1;function Oa(i,o){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ot){var _=ot}Reflect.construct(i,[],o)}else{try{o.call()}catch(ot){_=ot}i.call(o.prototype)}else{try{throw Error()}catch(ot){_=ot}i()}}catch(ot){if(ot&&_&&typeof ot.stack=="string"){for(var $=ot.stack.split(`
`),_e=_.stack.split(`
`),et=$.length-1,j=_e.length-1;1<=et&&0<=j&&$[et]!==_e[j];)j--;for(;1<=et&&0<=j;et--,j--)if($[et]!==_e[j]){if(et!==1||j!==1)do if(et--,j--,0>j||$[et]!==_e[j]){var nt=`
`+$[et].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=et&&0<=j);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return o=i.displayName||null,o!==null?o:Qa(i.type)||"Memo";case Ha:o=i._payload,i=i._init;try{return Qa(i(o))}catch{}}return null}function Ra(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(i){var o=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),_=""+i[o];if(!i.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var $=s.get,_e=s.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return $.call(this)},set:function(et){_=""+et,_e.call(this,et)}}),Object.defineProperty(i,o,{enumerable:s.enumerable}),{getValue:function(){return _},setValue:function(et){_=""+et},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var s=o.getValue(),_="";return i&&(_=Ta(i)?i.checked?"true":"false":i.value),i=_,i!==s?(o.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,o){var s=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,o){var s=o.defaultValue==null?"":o.defaultValue,_=o.checked!=null?o.checked:o.defaultChecked;s=Sa(o.value!=null?o.value:s),i._wrapperState={initialChecked:_,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(i,o){o=o.checked,o!=null&&ta(i,"checked",o,!1)}function bb(i,o){ab(i,o);var s=Sa(o.value),_=o.type;if(s!=null)_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(_==="submit"||_==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?cb(i,o.type,s):o.hasOwnProperty("defaultValue")&&cb(i,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function db(i,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var _=o.type;if(!(_!=="submit"&&_!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,s||o===i.value||(i.value=o),i.defaultValue=o}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,o,s){(o!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,o,s,_){if(i=i.options,o){o={};for(var $=0;$<s.length;$++)o["$"+s[$]]=!0;for(s=0;s<i.length;s++)$=o.hasOwnProperty("$"+i[s].value),i[s].selected!==$&&(i[s].selected=$),$&&_&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),o=null,$=0;$<i.length;$++){if(i[$].value===s){i[$].selected=!0,_&&(i[$].defaultSelected=!0);return}o!==null||i[$].disabled||(o=i[$])}o!==null&&(o.selected=!0)}}function gb(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(p$2(92));if(eb(s)){if(1<s.length)throw Error(p$2(93));s=s[0]}o=s}o==null&&(o=""),s=o}i._wrapperState={initialValue:Sa(s)}}function ib(i,o){var s=Sa(o.value),_=Sa(o.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),o.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),_!=null&&(i.defaultValue=""+_)}function jb(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,_,$){MSApp.execUnsafeLocalFunction(function(){return i(o,s,_,$)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ob(i,o){if(o){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=o;return}}i.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),pb[o]=pb[i]})});function rb(i,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||pb.hasOwnProperty(i)&&pb[i]?(""+o).trim():o+"px"}function sb(i,o){i=i.style;for(var s in o)if(o.hasOwnProperty(s)){var _=s.indexOf("--")===0,$=rb(s,o[s],_);s==="float"&&(s="cssFloat"),_?i.setProperty(s,$):i[s]=$}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,o){if(o){if(tb[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$2(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$2(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$2(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$2(62))}}function vb(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$2(280));var o=i.stateNode;o&&(o=Db(o),yb(i.stateNode,i.type,o))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,o=Ab;if(Ab=zb=null,Bb(i),o)for(i=0;i<o.length;i++)Bb(o[i])}}function Gb(i,o){return i(o)}function Hb(){}var Ib=!1;function Jb(i,o,s){if(Ib)return i(o,s);Ib=!0;try{return Gb(i,o,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,o){var s=i.stateNode;if(s===null)return null;var _=Db(s);if(_===null)return null;s=_[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(i=i.type,_=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!_;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p$2(231,o,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,o,s,_,$,_e,et,j,nt){var ot=Array.prototype.slice.call(arguments,3);try{o.apply(s,ot)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,o,s,_,$,_e,et,j,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,o,s,_,$,_e,et,j,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var ot=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=ot)}}function Vb(i){var o=i,s=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(s=o.return),i=o.return;while(i)}return o.tag===3?s:null}function Wb(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$2(188))}function Yb(i){var o=i.alternate;if(!o){if(o=Vb(i),o===null)throw Error(p$2(188));return o!==i?null:i}for(var s=i,_=o;;){var $=s.return;if($===null)break;var _e=$.alternate;if(_e===null){if(_=$.return,_!==null){s=_;continue}break}if($.child===_e.child){for(_e=$.child;_e;){if(_e===s)return Xb($),i;if(_e===_)return Xb($),o;_e=_e.sibling}throw Error(p$2(188))}if(s.return!==_.return)s=$,_=_e;else{for(var et=!1,j=$.child;j;){if(j===s){et=!0,s=$,_=_e;break}if(j===_){et=!0,_=$,s=_e;break}j=j.sibling}if(!et){for(j=_e.child;j;){if(j===s){et=!0,s=_e,_=$;break}if(j===_){et=!0,_=_e,s=$;break}j=j.sibling}if(!et)throw Error(p$2(189))}}if(s.alternate!==_)throw Error(p$2(190))}if(s.tag!==3)throw Error(p$2(188));return s.stateNode.current===s?i:o}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$b(i);if(o!==null)return o;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,o){var s=i.pendingLanes;if(s===0)return 0;var _=0,$=i.suspendedLanes,_e=i.pingedLanes,et=s&268435455;if(et!==0){var j=et&~$;j!==0?_=tc(j):(_e&=et,_e!==0&&(_=tc(_e)))}else et=s&~$,et!==0?_=tc(et):_e!==0&&(_=tc(_e));if(_===0)return 0;if(o!==0&&o!==_&&!(o&$)&&($=_&-_,_e=o&-o,$>=_e||$===16&&(_e&4194240)!==0))return o;if(_&4&&(_|=s&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=_;0<o;)s=31-oc(o),$=1<<s,_|=i[s],o&=~$;return _}function vc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,o){for(var s=i.suspendedLanes,_=i.pingedLanes,$=i.expirationTimes,_e=i.pendingLanes;0<_e;){var et=31-oc(_e),j=1<<et,nt=$[et];nt===-1?(!(j&s)||j&_)&&($[et]=vc(j,o)):nt<=o&&(i.expiredLanes|=j),_e&=~j}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var o=[],s=0;31>s;s++)o.push(i);return o}function Ac(i,o,s){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-oc(o),i[o]=s}function Bc(i,o){var s=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var _=i.eventTimes;for(i=i.expirationTimes;0<s;){var $=31-oc(s),_e=1<<$;o[$]=0,_[$]=-1,i[$]=-1,s&=~_e}}function Cc(i,o){var s=i.entangledLanes|=o;for(i=i.entanglements;s;){var _=31-oc(s),$=1<<_;$&o|i[_]&o&&(i[_]|=o),s&=~$}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,o){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(i,o,s,_,$,_e){return i===null||i.nativeEvent!==_e?(i={blockedOn:o,domEventName:s,eventSystemFlags:_,nativeEvent:_e,targetContainers:[$]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),i):(i.eventSystemFlags|=_,o=i.targetContainers,$!==null&&o.indexOf($)===-1&&o.push($),i)}function Uc(i,o,s,_,$){switch(o){case"focusin":return Lc=Tc(Lc,i,o,s,_,$),!0;case"dragenter":return Mc=Tc(Mc,i,o,s,_,$),!0;case"mouseover":return Nc=Tc(Nc,i,o,s,_,$),!0;case"pointerover":var _e=$.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,i,o,s,_,$)),!0;case"gotpointercapture":return _e=$.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,i,o,s,_,$)),!0}return!1}function Vc(i){var o=Wc(i.target);if(o!==null){var s=Vb(o);if(s!==null){if(o=s.tag,o===13){if(o=Wb(s),o!==null){i.blockedOn=o,Ic(i.priority,function(){Gc(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var s=Yc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var _=new s.constructor(s.type,s);wb=_,s.target.dispatchEvent(_),wb=null}else return o=Cb(s),o!==null&&Fc(o),i.blockedOn=s,!1;o.shift()}return!0}function Zc(i,o,s){Xc(i)&&s.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,o){i.blockedOn===o&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function o($){return ad($,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var _=Kc[s];_.blockedOn===i&&(_.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(o),Pc.forEach(o),s=0;s<Qc.length;s++)_=Qc[s],_.blockedOn===i&&(_.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(i,o,s,_){var $=C,_e=cd.transition;cd.transition=null;try{C=1,fd(i,o,s,_)}finally{C=$,cd.transition=_e}}function gd(i,o,s,_){var $=C,_e=cd.transition;cd.transition=null;try{C=4,fd(i,o,s,_)}finally{C=$,cd.transition=_e}}function fd(i,o,s,_){if(dd){var $=Yc(i,o,s,_);if($===null)hd(i,o,_,id,s),Sc(i,_);else if(Uc($,i,o,s,_))_.stopPropagation();else if(Sc(i,_),o&4&&-1<Rc.indexOf(i)){for(;$!==null;){var _e=Cb($);if(_e!==null&&Ec(_e),_e=Yc(i,o,s,_),_e===null&&hd(i,o,_,id,s),_e===$)break;$=_e}$!==null&&_.stopPropagation()}else hd(i,o,_,null,s)}}var id=null;function Yc(i,o,s,_){if(id=null,i=xb(_),i=Wc(i),i!==null)if(o=Vb(i),o===null)i=null;else if(s=o.tag,s===13){if(i=Wb(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,o=ld,s=o.length,_,$="value"in kd?kd.value:kd.textContent,_e=$.length;for(i=0;i<s&&o[i]===$[i];i++);var et=s-i;for(_=1;_<=et&&o[s-_]===$[_e-_];_++);return md=$.slice(i,1<_?1-_:void 0)}function od(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function o(s,_,$,_e,et){this._reactName=s,this._targetInst=$,this.type=_,this.nativeEvent=_e,this.target=et,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(s=i[j],this[j]=s?s(_e):_e[j]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Od[i])?!!o[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var o=Md[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,o){switch(i){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,o){switch(i){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return i=o.data,i===ee&&fe?null:i;default:return null}}function ke(i,o){if(ie)return i==="compositionend"||!ae&&ge(i,o)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!le[i.type]:o==="textarea"}function ne(i,o,s,_){Eb(_),o=oe(o,"onChange"),0<o.length&&(s=new td("onChange","change",null,s,_),i.push({event:s,listeners:o}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var o=ue(i);if(Wa(o))return i}function ve(i,o){if(i==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,i,xb(i)),Jb(re,o)}}function Ce(i,o,s){i==="focusin"?(Ae(),pe=o,qe=s,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,o){if(i==="click")return te(o)}function Fe(i,o){if(i==="input"||i==="change")return te(o)}function Ge(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,o){if(He(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var s=Object.keys(i),_=Object.keys(o);if(s.length!==_.length)return!1;for(_=0;_<s.length;_++){var $=s[_];if(!ja.call(o,$)||!He(i[$],o[$]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,o){var s=Je(i);i=0;for(var _;s;){if(s.nodeType===3){if(_=i+s.textContent.length,i<=o&&_>=o)return{node:s,offset:o-i};i=_}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Le(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var i=window,o=Xa();o instanceof i.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)i=o.contentWindow;else break;o=Xa(i.document)}return o}function Ne(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Oe(i){var o=Me(),s=i.focusedElem,_=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(_!==null&&Ne(s)){if(o=_.start,i=_.end,i===void 0&&(i=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(i,s.value.length);else if(i=(o=s.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var $=s.textContent.length,_e=Math.min(_.start,$);_=_.end===void 0?_e:Math.min(_.end,$),!i.extend&&_e>_&&($=_,_=_e,_e=$),$=Ke(s,_e);var et=Ke(s,_);$&&et&&(i.rangeCount!==1||i.anchorNode!==$.node||i.anchorOffset!==$.offset||i.focusNode!==et.node||i.focusOffset!==et.offset)&&(o=o.createRange(),o.setStart($.node,$.offset),i.removeAllRanges(),_e>_?(i.addRange(o),i.extend(et.node,et.offset)):(o.setEnd(et.node,et.offset),i.addRange(o)))}}for(o=[],i=s;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)i=o[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(i,o,s){var _=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$1||Qe==null||Qe!==Xa(_)||(_=Qe,"selectionStart"in _&&Ne(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Se&&Ie(Se,_)||(Se=_,_=oe(Re,"onSelect"),0<_.length&&(o=new td("onSelect","select",null,o,s),i.push({event:o,listeners:_}),o.target=Qe)))}function Ve(i,o){var s={};return s[i.toLowerCase()]=o.toLowerCase(),s["Webkit"+i]="webkit"+o,s["Moz"+i]="moz"+o,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var o=We[i],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ye)return Xe[i]=o[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,o){df.set(i,o),fa(o,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,o,s){var _=i.type||"unknown-event";i.currentTarget=s,Ub(_,o,void 0,i),i.currentTarget=null}function se(i,o){o=(o&4)!==0;for(var s=0;s<i.length;s++){var _=i[s],$=_.event;_=_.listeners;e:{var _e=void 0;if(o)for(var et=_.length-1;0<=et;et--){var j=_[et],nt=j.instance,ot=j.currentTarget;if(j=j.listener,nt!==_e&&$.isPropagationStopped())break e;nf($,j,ot),_e=nt}else for(et=0;et<_.length;et++){if(j=_[et],nt=j.instance,ot=j.currentTarget,j=j.listener,nt!==_e&&$.isPropagationStopped())break e;nf($,j,ot),_e=nt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,o){var s=o[of];s===void 0&&(s=o[of]=new Set);var _=i+"__bubble";s.has(_)||(pf(o,i,2,!1),s.add(_))}function qf(i,o,s){var _=0;o&&(_|=4),pf(s,i,_,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(i,o,s,_){switch(jd(o)){case 1:var $=ed;break;case 4:$=gd;break;default:$=fd}s=$.bind(null,o,s,i),$=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||($=!0),_?$!==void 0?i.addEventListener(o,s,{capture:!0,passive:$}):i.addEventListener(o,s,!0):$!==void 0?i.addEventListener(o,s,{passive:$}):i.addEventListener(o,s,!1)}function hd(i,o,s,_,$){var _e=_;if(!(o&1)&&!(o&2)&&_!==null)e:for(;;){if(_===null)return;var et=_.tag;if(et===3||et===4){var j=_.stateNode.containerInfo;if(j===$||j.nodeType===8&&j.parentNode===$)break;if(et===4)for(et=_.return;et!==null;){var nt=et.tag;if((nt===3||nt===4)&&(nt=et.stateNode.containerInfo,nt===$||nt.nodeType===8&&nt.parentNode===$))return;et=et.return}for(;j!==null;){if(et=Wc(j),et===null)return;if(nt=et.tag,nt===5||nt===6){_=_e=et;continue e}j=j.parentNode}}_=_.return}Jb(function(){var ot=_e,ct=xb(s),gt=[];e:{var pt=df.get(i);if(pt!==void 0){var ft=td,ut=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":ut="focus",ft=Fd;break;case"focusout":ut="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var yt=(o&4)!==0,wt=!yt&&i==="scroll",Qt=yt?pt!==null?pt+"Capture":null:pt;yt=[];for(var It=ot,xt;It!==null;){xt=It;var Tt=xt.stateNode;if(xt.tag===5&&Tt!==null&&(xt=Tt,Qt!==null&&(Tt=Kb(It,Qt),Tt!=null&&yt.push(tf(It,Tt,xt)))),wt)break;It=It.return}0<yt.length&&(pt=new ft(pt,ut,null,s,ct),gt.push({event:pt,listeners:yt}))}}if(!(o&7)){e:{if(pt=i==="mouseover"||i==="pointerover",ft=i==="mouseout"||i==="pointerout",pt&&s!==wb&&(ut=s.relatedTarget||s.fromElement)&&(Wc(ut)||ut[uf]))break e;if((ft||pt)&&(pt=ct.window===ct?ct:(pt=ct.ownerDocument)?pt.defaultView||pt.parentWindow:window,ft?(ut=s.relatedTarget||s.toElement,ft=ot,ut=ut?Wc(ut):null,ut!==null&&(wt=Vb(ut),ut!==wt||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(ft=null,ut=ot),ft!==ut)){if(yt=Bd,Tt="onMouseLeave",Qt="onMouseEnter",It="mouse",(i==="pointerout"||i==="pointerover")&&(yt=Td,Tt="onPointerLeave",Qt="onPointerEnter",It="pointer"),wt=ft==null?pt:ue(ft),xt=ut==null?pt:ue(ut),pt=new yt(Tt,It+"leave",ft,s,ct),pt.target=wt,pt.relatedTarget=xt,Tt=null,Wc(ct)===ot&&(yt=new yt(Qt,It+"enter",ut,s,ct),yt.target=xt,yt.relatedTarget=wt,Tt=yt),wt=Tt,ft&&ut)t:{for(yt=ft,Qt=ut,It=0,xt=yt;xt;xt=vf(xt))It++;for(xt=0,Tt=Qt;Tt;Tt=vf(Tt))xt++;for(;0<It-xt;)yt=vf(yt),It--;for(;0<xt-It;)Qt=vf(Qt),xt--;for(;It--;){if(yt===Qt||Qt!==null&&yt===Qt.alternate)break t;yt=vf(yt),Qt=vf(Qt)}yt=null}else yt=null;ft!==null&&wf(gt,pt,ft,yt,!1),ut!==null&&wt!==null&&wf(gt,wt,ut,yt,!0)}}e:{if(pt=ot?ue(ot):window,ft=pt.nodeName&&pt.nodeName.toLowerCase(),ft==="select"||ft==="input"&&pt.type==="file")var mt=ve;else if(me(pt))if(we)mt=Fe;else{mt=De;var Nt=Ce}else(ft=pt.nodeName)&&ft.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&(mt=Ee);if(mt&&(mt=mt(i,ot))){ne(gt,mt,s,ct);break e}Nt&&Nt(i,pt,ot),i==="focusout"&&(Nt=pt._wrapperState)&&Nt.controlled&&pt.type==="number"&&cb(pt,"number",pt.value)}switch(Nt=ot?ue(ot):window,i){case"focusin":(me(Nt)||Nt.contentEditable==="true")&&(Qe=Nt,Re=ot,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(gt,s,ct);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(gt,s,ct)}var en;if(ae)e:{switch(i){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else ie?ge(i,s)&&(rn="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(rn="onCompositionStart");rn&&(de&&s.locale!=="ko"&&(ie||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&ie&&(en=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Nt=oe(ot,rn),0<Nt.length&&(rn=new Ld(rn,i,null,s,ct),gt.push({event:rn,listeners:Nt}),en?rn.data=en:(en=he(s),en!==null&&(rn.data=en)))),(en=ce?je(i,s):ke(i,s))&&(ot=oe(ot,"onBeforeInput"),0<ot.length&&(ct=new Ld("onBeforeInput","beforeinput",null,s,ct),gt.push({event:ct,listeners:ot}),ct.data=en))}se(gt,o)})}function tf(i,o,s){return{instance:i,listener:o,currentTarget:s}}function oe(i,o){for(var s=o+"Capture",_=[];i!==null;){var $=i,_e=$.stateNode;$.tag===5&&_e!==null&&($=_e,_e=Kb(i,s),_e!=null&&_.unshift(tf(i,_e,$)),_e=Kb(i,o),_e!=null&&_.push(tf(i,_e,$))),i=i.return}return _}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,o,s,_,$){for(var _e=o._reactName,et=[];s!==null&&s!==_;){var j=s,nt=j.alternate,ot=j.stateNode;if(nt!==null&&nt===_)break;j.tag===5&&ot!==null&&(j=ot,$?(nt=Kb(s,_e),nt!=null&&et.unshift(tf(s,nt,j))):$||(nt=Kb(s,_e),nt!=null&&et.push(tf(s,nt,j)))),s=s.return}et.length!==0&&i.push({event:o,listeners:et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,o,s){if(o=zf(o),zf(i)!==o&&s)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,o){var s=o,_=0;do{var $=s.nextSibling;if(i.removeChild(s),$&&$.nodeType===8)if(s=$.data,s==="/$"){if(_===0){i.removeChild($),bd(o);return}_--}else s!=="$"&&s!=="$?"&&s!=="$!"||_++;s=$}while(s);bd(o)}function Lf(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return i;o--}else s==="/$"&&o++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var o=i[Of];if(o)return o;for(var s=i.parentNode;s;){if(o=s[uf]||s[Of]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return o}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$2(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,o){Tf++,Sf[Tf]=i.current,i.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,o){var s=i.type.contextTypes;if(!s)return Vf;var _=i.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===o)return _.__reactInternalMemoizedMaskedChildContext;var $={},_e;for(_e in s)$[_e]=o[_e];return _&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=$),$}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,o,s){if(H.current!==Vf)throw Error(p$2(168));G(H,o),G(Wf,s)}function bg(i,o,s){var _=i.stateNode;if(o=o.childContextTypes,typeof _.getChildContext!="function")return s;_=_.getChildContext();for(var $ in _)if(!($ in o))throw Error(p$2(108,Ra(i)||"Unknown",$));return A$1({},s,_)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,o,s){var _=i.stateNode;if(!_)throw Error(p$2(169));s?(i=bg(i,o,Xf),_.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,o=C;try{var s=eg;for(C=1;i<s.length;i++){var _=s[i];do _=_(!0);while(_!==null)}eg=null,fg=!1}catch($){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),$}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,o){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=o}function ug(i,o,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var _=rg;i=sg;var $=32-oc(_)-1;_&=~(1<<$),s+=1;var _e=32-oc(o)+$;if(30<_e){var et=$-$%5;_e=(_&(1<<et)-1).toString(32),_>>=et,$-=et,rg=1<<32-oc(o)+$|s<<$|_,sg=_e+i}else rg=1<<_e|s<<$|_,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,o){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=i,o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)}function Cg(i,o){switch(i.tag){case 5:var s=i.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,xg=i,yg=Lf(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,xg=i,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=o,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var o=yg;if(o){var s=o;if(!Cg(i,o)){if(Dg(i))throw Error(p$2(418));o=Lf(s.nextSibling);var _=xg;o&&Cg(i,o)?Ag(_,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$2(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ef(i.type,i.memoizedProps)),o&&(o=yg)){if(Dg(i))throw Hg(),Error(p$2(418));for(;o;)Ag(i,o),o=Lf(o.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$2(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(o===0){yg=Lf(i.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(i,o){if(i&&i.defaultProps){o=A$1({},o),i=i.defaultProps;for(var s in i)o[s]===void 0&&(o[s]=i[s]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var o=Mg.current;E(Mg),i._currentValue=o}function Sg(i,o,s){for(;i!==null;){var _=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,_!==null&&(_.childLanes|=o)):_!==null&&(_.childLanes&o)!==o&&(_.childLanes|=o),i===s)break;i=i.return}}function Tg(i,o){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Ug=!0),i.firstContext=null)}function Vg(i){var o=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return o}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,o,s,_){var $=o.interleaved;return $===null?(s.next=s,Xg(o)):(s.next=$.next,$.next=s),o.interleaved=s,Zg(i,_)}function Zg(i,o){i.lanes|=o;var s=i.alternate;for(s!==null&&(s.lanes|=o),s=i,i=i.return;i!==null;)i.childLanes|=o,s=i.alternate,s!==null&&(s.childLanes|=o),s=i,i=i.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(i,o,s){var _=i.updateQueue;if(_===null)return null;if(_=_.shared,K&2){var $=_.pending;return $===null?o.next=o:(o.next=$.next,$.next=o),_.pending=o,Zg(i,s)}return $=_.interleaved,$===null?(o.next=o,Xg(_)):(o.next=$.next,$.next=o),_.interleaved=o,Zg(i,s)}function eh(i,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var _=o.lanes;_&=i.pendingLanes,s|=_,o.lanes=s,Cc(i,s)}}function fh(i,o){var s=i.updateQueue,_=i.alternate;if(_!==null&&(_=_.updateQueue,s===_)){var $=null,_e=null;if(s=s.firstBaseUpdate,s!==null){do{var et={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};_e===null?$=_e=et:_e=_e.next=et,s=s.next}while(s!==null);_e===null?$=_e=o:_e=_e.next=o}else $=_e=o;s={baseState:_.baseState,firstBaseUpdate:$,lastBaseUpdate:_e,shared:_.shared,effects:_.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=o:i.next=o,s.lastBaseUpdate=o}function gh(i,o,s,_){var $=i.updateQueue;$g=!1;var _e=$.firstBaseUpdate,et=$.lastBaseUpdate,j=$.shared.pending;if(j!==null){$.shared.pending=null;var nt=j,ot=nt.next;nt.next=null,et===null?_e=ot:et.next=ot,et=nt;var ct=i.alternate;ct!==null&&(ct=ct.updateQueue,j=ct.lastBaseUpdate,j!==et&&(j===null?ct.firstBaseUpdate=ot:j.next=ot,ct.lastBaseUpdate=nt))}if(_e!==null){var gt=$.baseState;et=0,ct=ot=nt=null,j=_e;do{var pt=j.lane,ft=j.eventTime;if((_&pt)===pt){ct!==null&&(ct=ct.next={eventTime:ft,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ut=i,yt=j;switch(pt=o,ft=s,yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){gt=ut.call(ft,gt,pt);break e}gt=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,pt=typeof ut=="function"?ut.call(ft,gt,pt):ut,pt==null)break e;gt=A$1({},gt,pt);break e;case 2:$g=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,pt=$.effects,pt===null?$.effects=[j]:pt.push(j))}else ft={eventTime:ft,lane:pt,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ct===null?(ot=ct=ft,nt=gt):ct=ct.next=ft,et|=pt;if(j=j.next,j===null){if(j=$.shared.pending,j===null)break;pt=j,j=pt.next,pt.next=null,$.lastBaseUpdate=pt,$.shared.pending=null}}while(1);if(ct===null&&(nt=gt),$.baseState=nt,$.firstBaseUpdate=ot,$.lastBaseUpdate=ct,o=$.shared.interleaved,o!==null){$=o;do et|=$.lane,$=$.next;while($!==o)}else _e===null&&($.shared.lanes=0);hh|=et,i.lanes=et,i.memoizedState=gt}}function ih(i,o,s){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var _=i[o],$=_.callback;if($!==null){if(_.callback=null,_=s,typeof $!="function")throw Error(p$2(191,$));$.call(_)}}}var jh=new aa.Component().refs;function kh(i,o,s,_){o=i.memoizedState,s=s(_,o),s=s==null?o:A$1({},o,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,o,s){i=i._reactInternals;var _=L(),$=lh(i),_e=ch(_,$);_e.payload=o,s!=null&&(_e.callback=s),o=dh(i,_e,$),o!==null&&(mh(o,i,$,_),eh(o,i,$))},enqueueReplaceState:function(i,o,s){i=i._reactInternals;var _=L(),$=lh(i),_e=ch(_,$);_e.tag=1,_e.payload=o,s!=null&&(_e.callback=s),o=dh(i,_e,$),o!==null&&(mh(o,i,$,_),eh(o,i,$))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var s=L(),_=lh(i),$=ch(s,_);$.tag=2,o!=null&&($.callback=o),o=dh(i,$,_),o!==null&&(mh(o,i,_,s),eh(o,i,_))}};function oh(i,o,s,_,$,_e,et){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(_,_e,et):o.prototype&&o.prototype.isPureReactComponent?!Ie(s,_)||!Ie($,_e):!0}function ph(i,o,s){var _=!1,$=Vf,_e=o.contextType;return typeof _e=="object"&&_e!==null?_e=Vg(_e):($=Zf(o)?Xf:H.current,_=o.contextTypes,_e=(_=_!=null)?Yf(i,$):Vf),o=new o(s,_e),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,i.stateNode=o,o._reactInternals=i,_&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=$,i.__reactInternalMemoizedMaskedChildContext=_e),o}function qh(i,o,s,_){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,_),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,_),o.state!==i&&nh.enqueueReplaceState(o,o.state,null)}function rh(i,o,s,_){var $=i.stateNode;$.props=s,$.state=i.memoizedState,$.refs=jh,ah(i);var _e=o.contextType;typeof _e=="object"&&_e!==null?$.context=Vg(_e):(_e=Zf(o)?Xf:H.current,$.context=Yf(i,_e)),$.state=i.memoizedState,_e=o.getDerivedStateFromProps,typeof _e=="function"&&(kh(i,o,_e,s),$.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(o=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),o!==$.state&&nh.enqueueReplaceState($,$.state,null),gh(i,s,$,_),$.state=i.memoizedState),typeof $.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,o,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$2(309));var _=s.stateNode}if(!_)throw Error(p$2(147,i));var $=_,_e=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_e?o.ref:(o=function(et){var j=$.refs;j===jh&&(j=$.refs={}),et===null?delete j[_e]:j[_e]=et},o._stringRef=_e,o)}if(typeof i!="string")throw Error(p$2(284));if(!s._owner)throw Error(p$2(290,i))}return i}function th(i,o){throw i=Object.prototype.toString.call(o),Error(p$2(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function uh(i){var o=i._init;return o(i._payload)}function vh(i){function o(Qt,It){if(i){var xt=Qt.deletions;xt===null?(Qt.deletions=[It],Qt.flags|=16):xt.push(It)}}function s(Qt,It){if(!i)return null;for(;It!==null;)o(Qt,It),It=It.sibling;return null}function _(Qt,It){for(Qt=new Map;It!==null;)It.key!==null?Qt.set(It.key,It):Qt.set(It.index,It),It=It.sibling;return Qt}function $(Qt,It){return Qt=wh(Qt,It),Qt.index=0,Qt.sibling=null,Qt}function _e(Qt,It,xt){return Qt.index=xt,i?(xt=Qt.alternate,xt!==null?(xt=xt.index,xt<It?(Qt.flags|=2,It):xt):(Qt.flags|=2,It)):(Qt.flags|=1048576,It)}function et(Qt){return i&&Qt.alternate===null&&(Qt.flags|=2),Qt}function j(Qt,It,xt,Tt){return It===null||It.tag!==6?(It=xh(xt,Qt.mode,Tt),It.return=Qt,It):(It=$(It,xt),It.return=Qt,It)}function nt(Qt,It,xt,Tt){var mt=xt.type;return mt===ya?ct(Qt,It,xt.props.children,Tt,xt.key):It!==null&&(It.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===Ha&&uh(mt)===It.type)?(Tt=$(It,xt.props),Tt.ref=sh(Qt,It,xt),Tt.return=Qt,Tt):(Tt=yh(xt.type,xt.key,xt.props,null,Qt.mode,Tt),Tt.ref=sh(Qt,It,xt),Tt.return=Qt,Tt)}function ot(Qt,It,xt,Tt){return It===null||It.tag!==4||It.stateNode.containerInfo!==xt.containerInfo||It.stateNode.implementation!==xt.implementation?(It=zh(xt,Qt.mode,Tt),It.return=Qt,It):(It=$(It,xt.children||[]),It.return=Qt,It)}function ct(Qt,It,xt,Tt,mt){return It===null||It.tag!==7?(It=Ah(xt,Qt.mode,Tt,mt),It.return=Qt,It):(It=$(It,xt),It.return=Qt,It)}function gt(Qt,It,xt){if(typeof It=="string"&&It!==""||typeof It=="number")return It=xh(""+It,Qt.mode,xt),It.return=Qt,It;if(typeof It=="object"&&It!==null){switch(It.$$typeof){case va:return xt=yh(It.type,It.key,It.props,null,Qt.mode,xt),xt.ref=sh(Qt,null,It),xt.return=Qt,xt;case wa:return It=zh(It,Qt.mode,xt),It.return=Qt,It;case Ha:var Tt=It._init;return gt(Qt,Tt(It._payload),xt)}if(eb(It)||Ka(It))return It=Ah(It,Qt.mode,xt,null),It.return=Qt,It;th(Qt,It)}return null}function pt(Qt,It,xt,Tt){var mt=It!==null?It.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return mt!==null?null:j(Qt,It,""+xt,Tt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return xt.key===mt?nt(Qt,It,xt,Tt):null;case wa:return xt.key===mt?ot(Qt,It,xt,Tt):null;case Ha:return mt=xt._init,pt(Qt,It,mt(xt._payload),Tt)}if(eb(xt)||Ka(xt))return mt!==null?null:ct(Qt,It,xt,Tt,null);th(Qt,xt)}return null}function ft(Qt,It,xt,Tt,mt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return Qt=Qt.get(xt)||null,j(It,Qt,""+Tt,mt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case va:return Qt=Qt.get(Tt.key===null?xt:Tt.key)||null,nt(It,Qt,Tt,mt);case wa:return Qt=Qt.get(Tt.key===null?xt:Tt.key)||null,ot(It,Qt,Tt,mt);case Ha:var Nt=Tt._init;return ft(Qt,It,xt,Nt(Tt._payload),mt)}if(eb(Tt)||Ka(Tt))return Qt=Qt.get(xt)||null,ct(It,Qt,Tt,mt,null);th(It,Tt)}return null}function ut(Qt,It,xt,Tt){for(var mt=null,Nt=null,en=It,rn=It=0,Ft=null;en!==null&&rn<xt.length;rn++){en.index>rn?(Ft=en,en=null):Ft=en.sibling;var St=pt(Qt,en,xt[rn],Tt);if(St===null){en===null&&(en=Ft);break}i&&en&&St.alternate===null&&o(Qt,en),It=_e(St,It,rn),Nt===null?mt=St:Nt.sibling=St,Nt=St,en=Ft}if(rn===xt.length)return s(Qt,en),I&&tg(Qt,rn),mt;if(en===null){for(;rn<xt.length;rn++)en=gt(Qt,xt[rn],Tt),en!==null&&(It=_e(en,It,rn),Nt===null?mt=en:Nt.sibling=en,Nt=en);return I&&tg(Qt,rn),mt}for(en=_(Qt,en);rn<xt.length;rn++)Ft=ft(en,Qt,rn,xt[rn],Tt),Ft!==null&&(i&&Ft.alternate!==null&&en.delete(Ft.key===null?rn:Ft.key),It=_e(Ft,It,rn),Nt===null?mt=Ft:Nt.sibling=Ft,Nt=Ft);return i&&en.forEach(function(Pt){return o(Qt,Pt)}),I&&tg(Qt,rn),mt}function yt(Qt,It,xt,Tt){var mt=Ka(xt);if(typeof mt!="function")throw Error(p$2(150));if(xt=mt.call(xt),xt==null)throw Error(p$2(151));for(var Nt=mt=null,en=It,rn=It=0,Ft=null,St=xt.next();en!==null&&!St.done;rn++,St=xt.next()){en.index>rn?(Ft=en,en=null):Ft=en.sibling;var Pt=pt(Qt,en,St.value,Tt);if(Pt===null){en===null&&(en=Ft);break}i&&en&&Pt.alternate===null&&o(Qt,en),It=_e(Pt,It,rn),Nt===null?mt=Pt:Nt.sibling=Pt,Nt=Pt,en=Ft}if(St.done)return s(Qt,en),I&&tg(Qt,rn),mt;if(en===null){for(;!St.done;rn++,St=xt.next())St=gt(Qt,St.value,Tt),St!==null&&(It=_e(St,It,rn),Nt===null?mt=St:Nt.sibling=St,Nt=St);return I&&tg(Qt,rn),mt}for(en=_(Qt,en);!St.done;rn++,St=xt.next())St=ft(en,Qt,rn,St.value,Tt),St!==null&&(i&&St.alternate!==null&&en.delete(St.key===null?rn:St.key),It=_e(St,It,rn),Nt===null?mt=St:Nt.sibling=St,Nt=St);return i&&en.forEach(function(Bt){return o(Qt,Bt)}),I&&tg(Qt,rn),mt}function wt(Qt,It,xt,Tt){if(typeof xt=="object"&&xt!==null&&xt.type===ya&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:e:{for(var mt=xt.key,Nt=It;Nt!==null;){if(Nt.key===mt){if(mt=xt.type,mt===ya){if(Nt.tag===7){s(Qt,Nt.sibling),It=$(Nt,xt.props.children),It.return=Qt,Qt=It;break e}}else if(Nt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===Ha&&uh(mt)===Nt.type){s(Qt,Nt.sibling),It=$(Nt,xt.props),It.ref=sh(Qt,Nt,xt),It.return=Qt,Qt=It;break e}s(Qt,Nt);break}else o(Qt,Nt);Nt=Nt.sibling}xt.type===ya?(It=Ah(xt.props.children,Qt.mode,Tt,xt.key),It.return=Qt,Qt=It):(Tt=yh(xt.type,xt.key,xt.props,null,Qt.mode,Tt),Tt.ref=sh(Qt,It,xt),Tt.return=Qt,Qt=Tt)}return et(Qt);case wa:e:{for(Nt=xt.key;It!==null;){if(It.key===Nt)if(It.tag===4&&It.stateNode.containerInfo===xt.containerInfo&&It.stateNode.implementation===xt.implementation){s(Qt,It.sibling),It=$(It,xt.children||[]),It.return=Qt,Qt=It;break e}else{s(Qt,It);break}else o(Qt,It);It=It.sibling}It=zh(xt,Qt.mode,Tt),It.return=Qt,Qt=It}return et(Qt);case Ha:return Nt=xt._init,wt(Qt,It,Nt(xt._payload),Tt)}if(eb(xt))return ut(Qt,It,xt,Tt);if(Ka(xt))return yt(Qt,It,xt,Tt);th(Qt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,It!==null&&It.tag===6?(s(Qt,It.sibling),It=$(It,xt),It.return=Qt,Qt=It):(s(Qt,It),It=xh(xt,Qt.mode,Tt),It.return=Qt,Qt=It),et(Qt)):s(Qt,It)}return wt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$2(174));return i}function Ih(i,o){switch(G(Gh,o),G(Fh,i),G(Eh,Dh),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=lb(o,i)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var o=Hh(Eh.current),s=lb(o,i.type);o!==s&&(G(Fh,i),G(Eh,s))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var o=i;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$2(321))}function Wh(i,o){if(o===null)return!1;for(var s=0;s<o.length&&s<i.length;s++)if(!He(i[s],o[s]))return!1;return!0}function Xh(i,o,s,_,$,_e){if(Rh=_e,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=s(_,$),Th){_e=0;do{if(Th=!1,Uh=0,25<=_e)throw Error(p$2(301));_e+=1,P=O=null,o.updateQueue=null,Ph.current=$h,i=s(_,$)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$2(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=i;else{if(i===null)throw Error(p$2(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,o){return typeof o=="function"?o(i):o}function fi(i){var o=di(),s=o.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=i;var _=O,$=_.baseQueue,_e=s.pending;if(_e!==null){if($!==null){var et=$.next;$.next=_e.next,_e.next=et}_.baseQueue=$=_e,s.pending=null}if($!==null){_e=$.next,_=_.baseState;var j=et=null,nt=null,ot=_e;do{var ct=ot.lane;if((Rh&ct)===ct)nt!==null&&(nt=nt.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),_=ot.hasEagerState?ot.eagerState:i(_,ot.action);else{var gt={lane:ct,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};nt===null?(j=nt=gt,et=_):nt=nt.next=gt,N.lanes|=ct,hh|=ct}ot=ot.next}while(ot!==null&&ot!==_e);nt===null?et=_:nt.next=j,He(_,o.memoizedState)||(Ug=!0),o.memoizedState=_,o.baseState=et,o.baseQueue=nt,s.lastRenderedState=_}if(i=s.interleaved,i!==null){$=i;do _e=$.lane,N.lanes|=_e,hh|=_e,$=$.next;while($!==i)}else $===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function gi(i){var o=di(),s=o.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=i;var _=s.dispatch,$=s.pending,_e=o.memoizedState;if($!==null){s.pending=null;var et=$=$.next;do _e=i(_e,et.action),et=et.next;while(et!==$);He(_e,o.memoizedState)||(Ug=!0),o.memoizedState=_e,o.baseQueue===null&&(o.baseState=_e),s.lastRenderedState=_e}return[_e,_]}function hi(){}function ii(i,o){var s=N,_=di(),$=o(),_e=!He(_.memoizedState,$);if(_e&&(_.memoizedState=$,Ug=!0),_=_.queue,ji(ki.bind(null,s,_,i),[i]),_.getSnapshot!==o||_e||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,_,$,o),void 0,null),R===null)throw Error(p$2(349));Rh&30||ni(s,o,$)}return $}function ni(i,o,s){i.flags|=16384,i={getSnapshot:o,value:s},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[i]):(s=o.stores,s===null?o.stores=[i]:s.push(i))}function mi(i,o,s,_){o.value=s,o.getSnapshot=_,oi(o)&&pi(i)}function ki(i,o,s){return s(function(){oi(o)&&pi(i)})}function oi(i){var o=i.getSnapshot;i=i.value;try{var s=o();return!He(i,s)}catch{return!0}}function pi(i){var o=Zg(i,1);o!==null&&mh(o,i,1,-1)}function qi(i){var o=ci();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},o.queue=i,i=i.dispatch=ri.bind(null,N,i),[o.memoizedState,i]}function li(i,o,s,_){return i={tag:i,create:o,destroy:s,deps:_,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=i.next=i):(s=o.lastEffect,s===null?o.lastEffect=i.next=i:(_=s.next,s.next=i,i.next=_,o.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,o,s,_){var $=ci();N.flags|=i,$.memoizedState=li(1|o,s,void 0,_===void 0?null:_)}function ui(i,o,s,_){var $=di();_=_===void 0?null:_;var _e=void 0;if(O!==null){var et=O.memoizedState;if(_e=et.destroy,_!==null&&Wh(_,et.deps)){$.memoizedState=li(o,s,_e,_);return}}N.flags|=i,$.memoizedState=li(1|o,s,_e,_)}function vi(i,o){return ti(8390656,8,i,o)}function ji(i,o){return ui(2048,8,i,o)}function wi(i,o){return ui(4,2,i,o)}function xi(i,o){return ui(4,4,i,o)}function yi(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zi(i,o,s){return s=s!=null?s.concat([i]):null,ui(4,4,yi.bind(null,o,i),s)}function Ai(){}function Bi(i,o){var s=di();o=o===void 0?null:o;var _=s.memoizedState;return _!==null&&o!==null&&Wh(o,_[1])?_[0]:(s.memoizedState=[i,o],i)}function Ci(i,o){var s=di();o=o===void 0?null:o;var _=s.memoizedState;return _!==null&&o!==null&&Wh(o,_[1])?_[0]:(i=i(),s.memoizedState=[i,o],i)}function Di(i,o,s){return Rh&21?(He(s,o)||(s=yc(),N.lanes|=s,hh|=s,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=s)}function Ei(i,o){var s=C;C=s!==0&&4>s?s:4,i(!0);var _=Qh.transition;Qh.transition={};try{i(!1),o()}finally{C=s,Qh.transition=_}}function Fi(){return di().memoizedState}function Gi(i,o,s){var _=lh(i);if(s={lane:_,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(o,s);else if(s=Yg(i,o,s,_),s!==null){var $=L();mh(s,i,_,$),Ji(s,o,_)}}function ri(i,o,s){var _=lh(i),$={lane:_,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(o,$);else{var _e=i.alternate;if(i.lanes===0&&(_e===null||_e.lanes===0)&&(_e=o.lastRenderedReducer,_e!==null))try{var et=o.lastRenderedState,j=_e(et,s);if($.hasEagerState=!0,$.eagerState=j,He(j,et)){var nt=o.interleaved;nt===null?($.next=$,Xg(o)):($.next=nt.next,nt.next=$),o.interleaved=$;return}}catch{}finally{}s=Yg(i,o,$,_),s!==null&&($=L(),mh(s,i,_,$),Ji(s,o,_))}}function Hi(i){var o=i.alternate;return i===N||o!==null&&o===N}function Ii(i,o){Th=Sh=!0;var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}function Ji(i,o,s){if(s&4194240){var _=o.lanes;_&=i.pendingLanes,s|=_,o.lanes=s,Cc(i,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,o){return ci().memoizedState=[i,o===void 0?null:o],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,o,s){return s=s!=null?s.concat([i]):null,ti(4194308,4,yi.bind(null,o,i),s)},useLayoutEffect:function(i,o){return ti(4194308,4,i,o)},useInsertionEffect:function(i,o){return ti(4,2,i,o)},useMemo:function(i,o){var s=ci();return o=o===void 0?null:o,i=i(),s.memoizedState=[i,o],i},useReducer:function(i,o,s){var _=ci();return o=s!==void 0?s(o):o,_.memoizedState=_.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},_.queue=i,i=i.dispatch=Gi.bind(null,N,i),[_.memoizedState,i]},useRef:function(i){var o=ci();return i={current:i},o.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),o=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,s){var _=N,$=ci();if(I){if(s===void 0)throw Error(p$2(407));s=s()}else{if(s=o(),R===null)throw Error(p$2(349));Rh&30||ni(_,o,s)}$.memoizedState=s;var _e={value:s,getSnapshot:o};return $.queue=_e,vi(ki.bind(null,_,_e,i),[i]),_.flags|=2048,li(9,mi.bind(null,_,_e,s,o),void 0,null),s},useId:function(){var i=ci(),o=R.identifierPrefix;if(I){var s=sg,_=rg;s=(_&~(1<<32-oc(_)-1)).toString(32)+s,o=":"+o+"R"+s,s=Uh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Vh++,o=":"+o+"r"+s.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var o=di();return Di(o,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],o=di().memoizedState;return[i,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var o=di();return O===null?o.memoizedState=i:Di(o,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],o=di().memoizedState;return[i,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,o){try{var s="",_=o;do s+=Pa(_),_=_.return;while(_);var $=s}catch(_e){$=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:i,source:o,stack:$,digest:null}}function Li(i,o,s){return{value:i,source:null,stack:s??null,digest:o??null}}function Mi(i,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,o,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var _=o.value;return s.callback=function(){Pi||(Pi=!0,Qi=_),Mi(i,o)},s}function Ri(i,o,s){s=ch(-1,s),s.tag=3;var _=i.type.getDerivedStateFromError;if(typeof _=="function"){var $=o.value;s.payload=function(){return _($)},s.callback=function(){Mi(i,o)}}var _e=i.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(s.callback=function(){Mi(i,o),typeof _!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var et=o.stack;this.componentDidCatch(o.value,{componentStack:et!==null?et:""})}),s}function Ti(i,o,s){var _=i.pingCache;if(_===null){_=i.pingCache=new Ni;var $=new Set;_.set(o,$)}else $=_.get(o),$===void 0&&($=new Set,_.set(o,$));$.has(s)||($.add(s),i=Ui.bind(null,i,o,s),o.then(i,i))}function Vi(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Wi(i,o,s,_,$){return i.mode&1?(i.flags|=65536,i.lanes=$,i):(i===o?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=ch(-1,1),o.tag=2,dh(s,o,1))),s.lanes|=1),i)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi(i,o,s,_){o.child=i===null?Ch(o,null,s,_):Bh(o,i.child,s,_)}function Zi(i,o,s,_,$){s=s.render;var _e=o.ref;return Tg(o,$),_=Xh(i,o,s,_,_e,$),s=bi(),i!==null&&!Ug?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~$,$i(i,o,$)):(I&&s&&vg(o),o.flags|=1,Yi(i,o,_,$),o.child)}function aj(i,o,s,_,$){if(i===null){var _e=s.type;return typeof _e=="function"&&!bj(_e)&&_e.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=_e,cj(i,o,_e,_,$)):(i=yh(s.type,null,_,o,o.mode,$),i.ref=o.ref,i.return=o,o.child=i)}if(_e=i.child,!(i.lanes&$)){var et=_e.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(et,_)&&i.ref===o.ref)return $i(i,o,$)}return o.flags|=1,i=wh(_e,_),i.ref=o.ref,i.return=o,o.child=i}function cj(i,o,s,_,$){if(i!==null){var _e=i.memoizedProps;if(Ie(_e,_)&&i.ref===o.ref)if(Ug=!1,o.pendingProps=_=_e,(i.lanes&$)!==0)i.flags&131072&&(Ug=!0);else return o.lanes=i.lanes,$i(i,o,$)}return dj(i,o,s,_,$)}function ej(i,o,s){var _=o.pendingProps,$=_.children,_e=i!==null?i.memoizedState:null;if(_.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return i=_e!==null?_e.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=_e!==null?_e.baseLanes:s,G(fj,gj),gj|=_}else _e!==null?(_=_e.baseLanes|s,o.memoizedState=null):_=s,G(fj,gj),gj|=_;return Yi(i,o,$,s),o.child}function hj(i,o){var s=o.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function dj(i,o,s,_,$){var _e=Zf(s)?Xf:H.current;return _e=Yf(o,_e),Tg(o,$),s=Xh(i,o,s,_,_e,$),_=bi(),i!==null&&!Ug?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~$,$i(i,o,$)):(I&&_&&vg(o),o.flags|=1,Yi(i,o,s,$),o.child)}function ij(i,o,s,_,$){if(Zf(s)){var _e=!0;cg(o)}else _e=!1;if(Tg(o,$),o.stateNode===null)jj(i,o),ph(o,s,_),rh(o,s,_,$),_=!0;else if(i===null){var et=o.stateNode,j=o.memoizedProps;et.props=j;var nt=et.context,ot=s.contextType;typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(s)?Xf:H.current,ot=Yf(o,ot));var ct=s.getDerivedStateFromProps,gt=typeof ct=="function"||typeof et.getSnapshotBeforeUpdate=="function";gt||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(j!==_||nt!==ot)&&qh(o,et,_,ot),$g=!1;var pt=o.memoizedState;et.state=pt,gh(o,_,et,$),nt=o.memoizedState,j!==_||pt!==nt||Wf.current||$g?(typeof ct=="function"&&(kh(o,s,ct,_),nt=o.memoizedState),(j=$g||oh(o,s,j,_,pt,nt,ot))?(gt||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(o.flags|=4194308)):(typeof et.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=_,o.memoizedState=nt),et.props=_,et.state=nt,et.context=ot,_=j):(typeof et.componentDidMount=="function"&&(o.flags|=4194308),_=!1)}else{et=o.stateNode,bh(i,o),j=o.memoizedProps,ot=o.type===o.elementType?j:Lg(o.type,j),et.props=ot,gt=o.pendingProps,pt=et.context,nt=s.contextType,typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(s)?Xf:H.current,nt=Yf(o,nt));var ft=s.getDerivedStateFromProps;(ct=typeof ft=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(j!==gt||pt!==nt)&&qh(o,et,_,nt),$g=!1,pt=o.memoizedState,et.state=pt,gh(o,_,et,$);var ut=o.memoizedState;j!==gt||pt!==ut||Wf.current||$g?(typeof ft=="function"&&(kh(o,s,ft,_),ut=o.memoizedState),(ot=$g||oh(o,s,ot,_,pt,ut,nt)||!1)?(ct||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(_,ut,nt),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(_,ut,nt)),typeof et.componentDidUpdate=="function"&&(o.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof et.componentDidUpdate!="function"||j===i.memoizedProps&&pt===i.memoizedState||(o.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&pt===i.memoizedState||(o.flags|=1024),o.memoizedProps=_,o.memoizedState=ut),et.props=_,et.state=ut,et.context=nt,_=ot):(typeof et.componentDidUpdate!="function"||j===i.memoizedProps&&pt===i.memoizedState||(o.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&pt===i.memoizedState||(o.flags|=1024),_=!1)}return kj(i,o,s,_,_e,$)}function kj(i,o,s,_,$,_e){hj(i,o);var et=(o.flags&128)!==0;if(!_&&!et)return $&&dg(o,s,!1),$i(i,o,_e);_=o.stateNode,Xi.current=o;var j=et&&typeof s.getDerivedStateFromError!="function"?null:_.render();return o.flags|=1,i!==null&&et?(o.child=Bh(o,i.child,null,_e),o.child=Bh(o,null,j,_e)):Yi(i,o,j,_e),o.memoizedState=_.state,$&&dg(o,s,!0),o.child}function lj(i){var o=i.stateNode;o.pendingContext?ag(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(i,o.context,!1),Ih(i,o.containerInfo)}function mj(i,o,s,_,$){return Ig(),Jg($),o.flags|=256,Yi(i,o,s,_),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,o,s){var _=o.pendingProps,$=M.current,_e=!1,et=(o.flags&128)!==0,j;if((j=et)||(j=i!==null&&i.memoizedState===null?!1:($&2)!==0),j?(_e=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&($|=1),G(M,$&1),i===null)return Eg(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(et=_.children,i=_.fallback,_e?(_=o.mode,_e=o.child,et={mode:"hidden",children:et},!(_&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=et):_e=qj(et,_,0,null),i=Ah(i,_,s,null),_e.return=o,i.return=o,_e.sibling=i,o.child=_e,o.child.memoizedState=oj(s),o.memoizedState=nj,i):rj(o,et));if($=i.memoizedState,$!==null&&(j=$.dehydrated,j!==null))return sj(i,o,et,_,j,$,s);if(_e){_e=_.fallback,et=o.mode,$=i.child,j=$.sibling;var nt={mode:"hidden",children:_.children};return!(et&1)&&o.child!==$?(_=o.child,_.childLanes=0,_.pendingProps=nt,o.deletions=null):(_=wh($,nt),_.subtreeFlags=$.subtreeFlags&14680064),j!==null?_e=wh(j,_e):(_e=Ah(_e,et,s,null),_e.flags|=2),_e.return=o,_.return=o,_.sibling=_e,o.child=_,_=_e,_e=o.child,et=i.child.memoizedState,et=et===null?oj(s):{baseLanes:et.baseLanes|s,cachePool:null,transitions:et.transitions},_e.memoizedState=et,_e.childLanes=i.childLanes&~s,o.memoizedState=nj,_}return _e=i.child,i=_e.sibling,_=wh(_e,{mode:"visible",children:_.children}),!(o.mode&1)&&(_.lanes=s),_.return=o,_.sibling=null,i!==null&&(s=o.deletions,s===null?(o.deletions=[i],o.flags|=16):s.push(i)),o.child=_,o.memoizedState=null,_}function rj(i,o){return o=qj({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function tj(i,o,s,_){return _!==null&&Jg(_),Bh(o,i.child,null,s),i=rj(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function sj(i,o,s,_,$,_e,et){if(s)return o.flags&256?(o.flags&=-257,_=Li(Error(p$2(422))),tj(i,o,et,_)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_e=_.fallback,$=o.mode,_=qj({mode:"visible",children:_.children},$,0,null),_e=Ah(_e,$,et,null),_e.flags|=2,_.return=o,_e.return=o,_.sibling=_e,o.child=_,o.mode&1&&Bh(o,i.child,null,et),o.child.memoizedState=oj(et),o.memoizedState=nj,_e);if(!(o.mode&1))return tj(i,o,et,null);if($.data==="$!"){if(_=$.nextSibling&&$.nextSibling.dataset,_)var j=_.dgst;return _=j,_e=Error(p$2(419)),_=Li(_e,_,void 0),tj(i,o,et,_)}if(j=(et&i.childLanes)!==0,Ug||j){if(_=R,_!==null){switch(et&-et){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(_.suspendedLanes|et)?0:$,$!==0&&$!==_e.retryLane&&(_e.retryLane=$,Zg(i,$),mh(_,i,$,-1))}return uj(),_=Li(Error(p$2(421))),tj(i,o,et,_)}return $.data==="$?"?(o.flags|=128,o.child=i.child,o=vj.bind(null,i),$._reactRetry=o,null):(i=_e.treeContext,yg=Lf($.nextSibling),xg=o,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=o),o=rj(o,_.children),o.flags|=4096,o)}function wj(i,o,s){i.lanes|=o;var _=i.alternate;_!==null&&(_.lanes|=o),Sg(i.return,o,s)}function xj(i,o,s,_,$){var _e=i.memoizedState;_e===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:_,tail:s,tailMode:$}:(_e.isBackwards=o,_e.rendering=null,_e.renderingStartTime=0,_e.last=_,_e.tail=s,_e.tailMode=$)}function yj(i,o,s){var _=o.pendingProps,$=_.revealOrder,_e=_.tail;if(Yi(i,o,_.children,s),_=M.current,_&2)_=_&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,s,o);else if(i.tag===19)wj(i,s,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}_&=1}if(G(M,_),!(o.mode&1))o.memoizedState=null;else switch($){case"forwards":for(s=o.child,$=null;s!==null;)i=s.alternate,i!==null&&Mh(i)===null&&($=s),s=s.sibling;s=$,s===null?($=o.child,o.child=null):($=s.sibling,s.sibling=null),xj(o,!1,$,s,_e);break;case"backwards":for(s=null,$=o.child,o.child=null;$!==null;){if(i=$.alternate,i!==null&&Mh(i)===null){o.child=$;break}i=$.sibling,$.sibling=s,s=$,$=i}xj(o,!0,s,null,_e);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function $i(i,o,s){if(i!==null&&(o.dependencies=i.dependencies),hh|=o.lanes,!(s&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(p$2(153));if(o.child!==null){for(i=o.child,s=wh(i,i.pendingProps),o.child=s,s.return=o;i.sibling!==null;)i=i.sibling,s=s.sibling=wh(i,i.pendingProps),s.return=o;s.sibling=null}return o.child}function zj(i,o,s){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var _=o.type._context,$=o.memoizedProps.value;G(Mg,_._currentValue),_._currentValue=$;break;case 13:if(_=o.memoizedState,_!==null)return _.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):s&o.child.childLanes?pj(i,o,s):(G(M,M.current&1),i=$i(i,o,s),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(_=(s&o.childLanes)!==0,i.flags&128){if(_)return yj(i,o,s);o.flags|=128}if($=o.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),G(M,M.current),_)break;return null;case 22:case 23:return o.lanes=0,ej(i,o,s)}return $i(i,o,s)}var Aj,Bj,Cj,Dj;Aj=function(i,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(i,o,s,_){var $=i.memoizedProps;if($!==_){i=o.stateNode,Hh(Eh.current);var _e=null;switch(s){case"input":$=Ya(i,$),_=Ya(i,_),_e=[];break;case"select":$=A$1({},$,{value:void 0}),_=A$1({},_,{value:void 0}),_e=[];break;case"textarea":$=gb(i,$),_=gb(i,_),_e=[];break;default:typeof $.onClick!="function"&&typeof _.onClick=="function"&&(i.onclick=Bf)}ub(s,_);var et;s=null;for(ot in $)if(!_.hasOwnProperty(ot)&&$.hasOwnProperty(ot)&&$[ot]!=null)if(ot==="style"){var j=$[ot];for(et in j)j.hasOwnProperty(et)&&(s||(s={}),s[et]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?_e||(_e=[]):(_e=_e||[]).push(ot,null));for(ot in _){var nt=_[ot];if(j=$!=null?$[ot]:void 0,_.hasOwnProperty(ot)&&nt!==j&&(nt!=null||j!=null))if(ot==="style")if(j){for(et in j)!j.hasOwnProperty(et)||nt&&nt.hasOwnProperty(et)||(s||(s={}),s[et]="");for(et in nt)nt.hasOwnProperty(et)&&j[et]!==nt[et]&&(s||(s={}),s[et]=nt[et])}else s||(_e||(_e=[]),_e.push(ot,s)),s=nt;else ot==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,j=j?j.__html:void 0,nt!=null&&j!==nt&&(_e=_e||[]).push(ot,nt)):ot==="children"?typeof nt!="string"&&typeof nt!="number"||(_e=_e||[]).push(ot,""+nt):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ot)?(nt!=null&&ot==="onScroll"&&D("scroll",i),_e||j===nt||(_e=[])):(_e=_e||[]).push(ot,nt))}s&&(_e=_e||[]).push("style",s);var ot=_e;(o.updateQueue=ot)&&(o.flags|=4)}};Dj=function(i,o,s,_){s!==_&&(o.flags|=4)};function Ej(i,o){if(!I)switch(i.tailMode){case"hidden":o=i.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var _=null;s!==null;)s.alternate!==null&&(_=s),s=s.sibling;_===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:_.sibling=null}}function S(i){var o=i.alternate!==null&&i.alternate.child===i.child,s=0,_=0;if(o)for(var $=i.child;$!==null;)s|=$.lanes|$.childLanes,_|=$.subtreeFlags&14680064,_|=$.flags&14680064,$.return=i,$=$.sibling;else for($=i.child;$!==null;)s|=$.lanes|$.childLanes,_|=$.subtreeFlags,_|=$.flags,$.return=i,$=$.sibling;return i.subtreeFlags|=_,i.childLanes=s,o}function Fj(i,o,s){var _=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return _=o.stateNode,Jh(),E(Wf),E(H),Oh(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(i===null||i.child===null)&&(Gg(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,o),S(o),null;case 5:Lh(o);var $=Hh(Gh.current);if(s=o.type,i!==null&&o.stateNode!=null)Cj(i,o,s,_,$),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!_){if(o.stateNode===null)throw Error(p$2(166));return S(o),null}if(i=Hh(Eh.current),Gg(o)){_=o.stateNode,s=o.type;var _e=o.memoizedProps;switch(_[Of]=o,_[Pf]=_e,i=(o.mode&1)!==0,s){case"dialog":D("cancel",_),D("close",_);break;case"iframe":case"object":case"embed":D("load",_);break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],_);break;case"source":D("error",_);break;case"img":case"image":case"link":D("error",_),D("load",_);break;case"details":D("toggle",_);break;case"input":Za(_,_e),D("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!_e.multiple},D("invalid",_);break;case"textarea":hb(_,_e),D("invalid",_)}ub(s,_e),$=null;for(var et in _e)if(_e.hasOwnProperty(et)){var j=_e[et];et==="children"?typeof j=="string"?_.textContent!==j&&(_e.suppressHydrationWarning!==!0&&Af(_.textContent,j,i),$=["children",j]):typeof j=="number"&&_.textContent!==""+j&&(_e.suppressHydrationWarning!==!0&&Af(_.textContent,j,i),$=["children",""+j]):ea.hasOwnProperty(et)&&j!=null&&et==="onScroll"&&D("scroll",_)}switch(s){case"input":Va(_),db(_,_e,!0);break;case"textarea":Va(_),jb(_);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&(_.onclick=Bf)}_=$,o.updateQueue=_,_!==null&&(o.flags|=4)}else{et=$.nodeType===9?$:$.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=et.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof _.is=="string"?i=et.createElement(s,{is:_.is}):(i=et.createElement(s),s==="select"&&(et=i,_.multiple?et.multiple=!0:_.size&&(et.size=_.size))):i=et.createElementNS(i,s),i[Of]=o,i[Pf]=_,Aj(i,o,!1,!1),o.stateNode=i;e:{switch(et=vb(s,_),s){case"dialog":D("cancel",i),D("close",i),$=_;break;case"iframe":case"object":case"embed":D("load",i),$=_;break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],i);$=_;break;case"source":D("error",i),$=_;break;case"img":case"image":case"link":D("error",i),D("load",i),$=_;break;case"details":D("toggle",i),$=_;break;case"input":Za(i,_),$=Ya(i,_),D("invalid",i);break;case"option":$=_;break;case"select":i._wrapperState={wasMultiple:!!_.multiple},$=A$1({},_,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,_),$=gb(i,_),D("invalid",i);break;default:$=_}ub(s,$),j=$;for(_e in j)if(j.hasOwnProperty(_e)){var nt=j[_e];_e==="style"?sb(i,nt):_e==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(i,nt)):_e==="children"?typeof nt=="string"?(s!=="textarea"||nt!=="")&&ob(i,nt):typeof nt=="number"&&ob(i,""+nt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?nt!=null&&_e==="onScroll"&&D("scroll",i):nt!=null&&ta(i,_e,nt,et))}switch(s){case"input":Va(i),db(i,_,!1);break;case"textarea":Va(i),jb(i);break;case"option":_.value!=null&&i.setAttribute("value",""+Sa(_.value));break;case"select":i.multiple=!!_.multiple,_e=_.value,_e!=null?fb(i,!!_.multiple,_e,!1):_.defaultValue!=null&&fb(i,!!_.multiple,_.defaultValue,!0);break;default:typeof $.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(i&&o.stateNode!=null)Dj(i,o,i.memoizedProps,_);else{if(typeof _!="string"&&o.stateNode===null)throw Error(p$2(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(_=o.stateNode,s=o.memoizedProps,_[Of]=o,(_e=_.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(_.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(_.nodeValue,s,(i.mode&1)!==0)}_e&&(o.flags|=4)}else _=(s.nodeType===9?s:s.ownerDocument).createTextNode(_),_[Of]=o,o.stateNode=_}return S(o),null;case 13:if(E(M),_=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,_e=!1;else if(_e=Gg(o),_!==null&&_.dehydrated!==null){if(i===null){if(!_e)throw Error(p$2(318));if(_e=o.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$2(317));_e[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),_e=!1}else zg!==null&&(Gj(zg),zg=null),_e=!0;if(!_e)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):(_=_!==null,_!==(i!==null&&i.memoizedState!==null)&&_&&(o.child.flags|=8192,o.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(i,o),i===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),_e=o.memoizedState,_e===null)return S(o),null;if(_=(o.flags&128)!==0,et=_e.rendering,et===null)if(_)Ej(_e,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(et=Mh(i),et!==null){for(o.flags|=128,Ej(_e,!1),_=et.updateQueue,_!==null&&(o.updateQueue=_,o.flags|=4),o.subtreeFlags=0,_=s,s=o.child;s!==null;)_e=s,i=_,_e.flags&=14680066,et=_e.alternate,et===null?(_e.childLanes=0,_e.lanes=i,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=et.childLanes,_e.lanes=et.lanes,_e.child=et.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=et.memoizedProps,_e.memoizedState=et.memoizedState,_e.updateQueue=et.updateQueue,_e.type=et.type,i=et.dependencies,_e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(M,M.current&1|2),o.child}i=i.sibling}_e.tail!==null&&B()>Hj&&(o.flags|=128,_=!0,Ej(_e,!1),o.lanes=4194304)}else{if(!_)if(i=Mh(et),i!==null){if(o.flags|=128,_=!0,s=i.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Ej(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!et.alternate&&!I)return S(o),null}else 2*B()-_e.renderingStartTime>Hj&&s!==1073741824&&(o.flags|=128,_=!0,Ej(_e,!1),o.lanes=4194304);_e.isBackwards?(et.sibling=o.child,o.child=et):(s=_e.last,s!==null?s.sibling=et:o.child=et,_e.last=et)}return _e.tail!==null?(o=_e.tail,_e.rendering=o,_e.tail=o.sibling,_e.renderingStartTime=B(),o.sibling=null,s=M.current,G(M,_?s&1|2:s&1),o):(S(o),null);case 22:case 23:return Ij(),_=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==_&&(o.flags|=8192),_&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$2(156,o.tag))}function Jj(i,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(p$2(340));Ig()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,o){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(_){W(i,o,_)}else s.current=null}function Nj(i,o,s){try{s()}catch(_){W(i,o,_)}}var Oj=!1;function Pj(i,o){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var _=s.getSelection&&s.getSelection();if(_&&_.rangeCount!==0){s=_.anchorNode;var $=_.anchorOffset,_e=_.focusNode;_=_.focusOffset;try{s.nodeType,_e.nodeType}catch{s=null;break e}var et=0,j=-1,nt=-1,ot=0,ct=0,gt=i,pt=null;t:for(;;){for(var ft;gt!==s||$!==0&&gt.nodeType!==3||(j=et+$),gt!==_e||_!==0&&gt.nodeType!==3||(nt=et+_),gt.nodeType===3&&(et+=gt.nodeValue.length),(ft=gt.firstChild)!==null;)pt=gt,gt=ft;for(;;){if(gt===i)break t;if(pt===s&&++ot===$&&(j=et),pt===_e&&++ct===_&&(nt=et),(ft=gt.nextSibling)!==null)break;gt=pt,pt=gt.parentNode}gt=ft}s=j===-1||nt===-1?null:{start:j,end:nt}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=o;V!==null;)if(o=V,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,V=i;else for(;V!==null;){o=V;try{var ut=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var yt=ut.memoizedProps,wt=ut.memoizedState,Qt=o.stateNode,It=Qt.getSnapshotBeforeUpdate(o.elementType===o.type?yt:Lg(o.type,yt),wt);Qt.__reactInternalSnapshotBeforeUpdate=It}break;case 3:var xt=o.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Tt){W(o,o.return,Tt)}if(i=o.sibling,i!==null){i.return=o.return,V=i;break}V=o.return}return ut=Oj,Oj=!1,ut}function Qj(i,o,s){var _=o.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var $=_=_.next;do{if(($.tag&i)===i){var _e=$.destroy;$.destroy=void 0,_e!==void 0&&Nj(o,s,_e)}$=$.next}while($!==_)}}function Rj(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&i)===i){var _=s.create;s.destroy=_()}s=s.next}while(s!==o)}}function Sj(i){var o=i.ref;if(o!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof o=="function"?o(i):o.current=i}}function Tj(i){var o=i.alternate;o!==null&&(i.alternate=null,Tj(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,o,s){var _=i.tag;if(_===5||_===6)i=i.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(i,o):s.insertBefore(i,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(i,s)):(o=s,o.appendChild(i)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Bf));else if(_!==4&&(i=i.child,i!==null))for(Wj(i,o,s),i=i.sibling;i!==null;)Wj(i,o,s),i=i.sibling}function Xj(i,o,s){var _=i.tag;if(_===5||_===6)i=i.stateNode,o?s.insertBefore(i,o):s.appendChild(i);else if(_!==4&&(i=i.child,i!==null))for(Xj(i,o,s),i=i.sibling;i!==null;)Xj(i,o,s),i=i.sibling}var X=null,Yj=!1;function Zj(i,o,s){for(s=s.child;s!==null;)ak(i,o,s),s=s.sibling}function ak(i,o,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,o);case 6:var _=X,$=Yj;X=null,Zj(i,o,s),X=_,Yj=$,X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X,s.stateNode));break;case 4:_=X,$=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(i,o,s),X=_,Yj=$;break;case 0:case 11:case 14:case 15:if(!U&&(_=s.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){$=_=_.next;do{var _e=$,et=_e.destroy;_e=_e.tag,et!==void 0&&(_e&2||_e&4)&&Nj(s,o,et),$=$.next}while($!==_)}Zj(i,o,s);break;case 1:if(!U&&(Mj(s,o),_=s.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=s.memoizedProps,_.state=s.memoizedState,_.componentWillUnmount()}catch(j){W(s,o,j)}Zj(i,o,s);break;case 21:Zj(i,o,s);break;case 22:s.mode&1?(U=(_=U)||s.memoizedState!==null,Zj(i,o,s),U=_):Zj(i,o,s);break;default:Zj(i,o,s)}}function bk(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Lj),o.forEach(function(_){var $=ck.bind(null,i,_);s.has(_)||(s.add(_),_.then($,$))})}}function dk(i,o){var s=o.deletions;if(s!==null)for(var _=0;_<s.length;_++){var $=s[_];try{var _e=i,et=o,j=et;e:for(;j!==null;){switch(j.tag){case 5:X=j.stateNode,Yj=!1;break e;case 3:X=j.stateNode.containerInfo,Yj=!0;break e;case 4:X=j.stateNode.containerInfo,Yj=!0;break e}j=j.return}if(X===null)throw Error(p$2(160));ak(_e,et,$),X=null,Yj=!1;var nt=$.alternate;nt!==null&&(nt.return=null),$.return=null}catch(ot){W($,o,ot)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,i),o=o.sibling}function ek(i,o){var s=i.alternate,_=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(o,i),fk(i),_&4){try{Qj(3,i,i.return),Rj(3,i)}catch(yt){W(i,i.return,yt)}try{Qj(5,i,i.return)}catch(yt){W(i,i.return,yt)}}break;case 1:dk(o,i),fk(i),_&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(o,i),fk(i),_&512&&s!==null&&Mj(s,s.return),i.flags&32){var $=i.stateNode;try{ob($,"")}catch(yt){W(i,i.return,yt)}}if(_&4&&($=i.stateNode,$!=null)){var _e=i.memoizedProps,et=s!==null?s.memoizedProps:_e,j=i.type,nt=i.updateQueue;if(i.updateQueue=null,nt!==null)try{j==="input"&&_e.type==="radio"&&_e.name!=null&&ab($,_e),vb(j,et);var ot=vb(j,_e);for(et=0;et<nt.length;et+=2){var ct=nt[et],gt=nt[et+1];ct==="style"?sb($,gt):ct==="dangerouslySetInnerHTML"?nb($,gt):ct==="children"?ob($,gt):ta($,ct,gt,ot)}switch(j){case"input":bb($,_e);break;case"textarea":ib($,_e);break;case"select":var pt=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!_e.multiple;var ft=_e.value;ft!=null?fb($,!!_e.multiple,ft,!1):pt!==!!_e.multiple&&(_e.defaultValue!=null?fb($,!!_e.multiple,_e.defaultValue,!0):fb($,!!_e.multiple,_e.multiple?[]:"",!1))}$[Pf]=_e}catch(yt){W(i,i.return,yt)}}break;case 6:if(dk(o,i),fk(i),_&4){if(i.stateNode===null)throw Error(p$2(162));$=i.stateNode,_e=i.memoizedProps;try{$.nodeValue=_e}catch(yt){W(i,i.return,yt)}}break;case 3:if(dk(o,i),fk(i),_&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(yt){W(i,i.return,yt)}break;case 4:dk(o,i),fk(i);break;case 13:dk(o,i),fk(i),$=i.child,$.flags&8192&&(_e=$.memoizedState!==null,$.stateNode.isHidden=_e,!_e||$.alternate!==null&&$.alternate.memoizedState!==null||(gk=B())),_&4&&bk(i);break;case 22:if(ct=s!==null&&s.memoizedState!==null,i.mode&1?(U=(ot=U)||ct,dk(o,i),U=ot):dk(o,i),fk(i),_&8192){if(ot=i.memoizedState!==null,(i.stateNode.isHidden=ot)&&!ct&&i.mode&1)for(V=i,ct=i.child;ct!==null;){for(gt=V=ct;V!==null;){switch(pt=V,ft=pt.child,pt.tag){case 0:case 11:case 14:case 15:Qj(4,pt,pt.return);break;case 1:Mj(pt,pt.return);var ut=pt.stateNode;if(typeof ut.componentWillUnmount=="function"){_=pt,s=pt.return;try{o=_,ut.props=o.memoizedProps,ut.state=o.memoizedState,ut.componentWillUnmount()}catch(yt){W(_,s,yt)}}break;case 5:Mj(pt,pt.return);break;case 22:if(pt.memoizedState!==null){hk(gt);continue}}ft!==null?(ft.return=pt,V=ft):hk(gt)}ct=ct.sibling}e:for(ct=null,gt=i;;){if(gt.tag===5){if(ct===null){ct=gt;try{$=gt.stateNode,ot?(_e=$.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(j=gt.stateNode,nt=gt.memoizedProps.style,et=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,j.style.display=rb("display",et))}catch(yt){W(i,i.return,yt)}}}else if(gt.tag===6){if(ct===null)try{gt.stateNode.nodeValue=ot?"":gt.memoizedProps}catch(yt){W(i,i.return,yt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===i)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===i)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===i)break e;ct===gt&&(ct=null),gt=gt.return}ct===gt&&(ct=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:dk(o,i),fk(i),_&4&&bk(i);break;case 21:break;default:dk(o,i),fk(i)}}function fk(i){var o=i.flags;if(o&2){try{e:{for(var s=i.return;s!==null;){if(Uj(s)){var _=s;break e}s=s.return}throw Error(p$2(160))}switch(_.tag){case 5:var $=_.stateNode;_.flags&32&&(ob($,""),_.flags&=-33);var _e=Vj(i);Xj(i,_e,$);break;case 3:case 4:var et=_.stateNode.containerInfo,j=Vj(i);Wj(i,j,et);break;default:throw Error(p$2(161))}}catch(nt){W(i,i.return,nt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ik(i,o,s){V=i,jk(i)}function jk(i,o,s){for(var _=(i.mode&1)!==0;V!==null;){var $=V,_e=$.child;if($.tag===22&&_){var et=$.memoizedState!==null||Kj;if(!et){var j=$.alternate,nt=j!==null&&j.memoizedState!==null||U;j=Kj;var ot=U;if(Kj=et,(U=nt)&&!ot)for(V=$;V!==null;)et=V,nt=et.child,et.tag===22&&et.memoizedState!==null?kk($):nt!==null?(nt.return=et,V=nt):kk($);for(;_e!==null;)V=_e,jk(_e),_e=_e.sibling;V=$,Kj=j,U=ot}lk(i)}else $.subtreeFlags&8772&&_e!==null?(_e.return=$,V=_e):lk(i)}}function lk(i){for(;V!==null;){var o=V;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var _=o.stateNode;if(o.flags&4&&!U)if(s===null)_.componentDidMount();else{var $=o.elementType===o.type?s.memoizedProps:Lg(o.type,s.memoizedProps);_.componentDidUpdate($,s.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var _e=o.updateQueue;_e!==null&&ih(o,_e,_);break;case 3:var et=o.updateQueue;if(et!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ih(o,et,s)}break;case 5:var j=o.stateNode;if(s===null&&o.flags&4){s=j;var nt=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&s.focus();break;case"img":nt.src&&(s.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ot=o.alternate;if(ot!==null){var ct=ot.memoizedState;if(ct!==null){var gt=ct.dehydrated;gt!==null&&bd(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||o.flags&512&&Sj(o)}catch(pt){W(o,o.return,pt)}}if(o===i){V=null;break}if(s=o.sibling,s!==null){s.return=o.return,V=s;break}V=o.return}}function hk(i){for(;V!==null;){var o=V;if(o===i){V=null;break}var s=o.sibling;if(s!==null){s.return=o.return,V=s;break}V=o.return}}function kk(i){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Rj(4,o)}catch(nt){W(o,s,nt)}break;case 1:var _=o.stateNode;if(typeof _.componentDidMount=="function"){var $=o.return;try{_.componentDidMount()}catch(nt){W(o,$,nt)}}var _e=o.return;try{Sj(o)}catch(nt){W(o,_e,nt)}break;case 5:var et=o.return;try{Sj(o)}catch(nt){W(o,et,nt)}}}catch(nt){W(o,o.return,nt)}if(o===i){V=null;break}var j=o.sibling;if(j!==null){j.return=o.return,V=j;break}V=o.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,o,s,_){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(i,s,_),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=s),T===4&&Dk(i,Z)),Ek(i,_),s===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,o){var s=i.callbackNode;wc(i,o);var _=uc(i,i===R?Z:0);if(_===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(o=_&-_,i.callbackPriority!==o){if(s!=null&&bc(s),o===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(_)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,i))}i.callbackPriority=o,i.callbackNode=s}}function Hk(i,o){if(Bk=-1,Ck=0,K&6)throw Error(p$2(327));var s=i.callbackNode;if(Ik()&&i.callbackNode!==s)return null;var _=uc(i,i===R?Z:0);if(_===0)return null;if(_&30||_&i.expiredLanes||o)o=Jk(i,_);else{o=_;var $=K;K|=2;var _e=Kk();(R!==i||Z!==o)&&(vk=null,Hj=B()+500,Lk(i,o));do try{Mk();break}catch(j){Nk(i,j)}while(1);Qg(),nk.current=_e,K=$,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&($=xc(i),$!==0&&(_=$,o=Ok(i,$))),o===1)throw s=qk,Lk(i,0),Dk(i,_),Ek(i,B()),s;if(o===6)Dk(i,_);else{if($=i.current.alternate,!(_&30)&&!Pk($)&&(o=Jk(i,_),o===2&&(_e=xc(i),_e!==0&&(_=_e,o=Ok(i,_e))),o===1))throw s=qk,Lk(i,0),Dk(i,_),Ek(i,B()),s;switch(i.finishedWork=$,i.finishedLanes=_,o){case 0:case 1:throw Error(p$2(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,_),(_&130023424)===_&&(o=gk+500-B(),10<o)){if(uc(i,0)!==0)break;if($=i.suspendedLanes,($&_)!==_){L(),i.pingedLanes|=i.suspendedLanes&$;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 4:if(Dk(i,_),(_&4194240)===_)break;for(o=i.eventTimes,$=-1;0<_;){var et=31-oc(_);_e=1<<et,et=o[et],et>$&&($=et),_&=~_e}if(_=$,_=B()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*mk(_/1960))-_,10<_){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),_);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(i,B()),i.callbackNode===s?Hk.bind(null,i):null}function Ok(i,o){var s=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,o).flags|=256),i=Jk(i,o),i!==2&&(o=uk,uk=s,o!==null&&Gj(o)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var o=i;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var _=0;_<s.length;_++){var $=s[_],_e=$.getSnapshot;$=$.value;try{if(!He(_e(),$))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(i,o){for(o&=~sk,o&=~rk,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var s=31-oc(o),_=1<<s;i[s]=-1,o&=~_}}function Fk(i){if(K&6)throw Error(p$2(327));Ik();var o=uc(i,0);if(!(o&1))return Ek(i,B()),null;var s=Jk(i,o);if(i.tag!==0&&s===2){var _=xc(i);_!==0&&(o=_,s=Ok(i,_))}if(s===1)throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;if(s===6)throw Error(p$2(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,o){var s=K;K|=1;try{return i(o)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var s=pk.transition,_=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=_,pk.transition=s,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,o){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var _=s;switch(wg(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(_);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(_.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=i,Y=i=wh(i.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(s=Wg[o],_=s.interleaved,_!==null){s.interleaved=null;var $=_.next,_e=s.pending;if(_e!==null){var et=_e.next;_e.next=$,_.next=et}s.pending=_}Wg=null}return i}function Nk(i,o){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var _=N.memoizedState;_!==null;){var $=_.queue;$!==null&&($.pending=null),_=_.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=o,Y=null;break}e:{var _e=i,et=s.return,j=s,nt=o;if(o=Z,j.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var ot=nt,ct=j,gt=ct.tag;if(!(ct.mode&1)&&(gt===0||gt===11||gt===15)){var pt=ct.alternate;pt?(ct.updateQueue=pt.updateQueue,ct.memoizedState=pt.memoizedState,ct.lanes=pt.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var ft=Vi(et);if(ft!==null){ft.flags&=-257,Wi(ft,et,j,_e,o),ft.mode&1&&Ti(_e,ot,o),o=ft,nt=ot;var ut=o.updateQueue;if(ut===null){var yt=new Set;yt.add(nt),o.updateQueue=yt}else ut.add(nt);break e}else{if(!(o&1)){Ti(_e,ot,o),uj();break e}nt=Error(p$2(426))}}else if(I&&j.mode&1){var wt=Vi(et);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),Wi(wt,et,j,_e,o),Jg(Ki(nt,j));break e}}_e=nt=Ki(nt,j),T!==4&&(T=2),tk===null?tk=[_e]:tk.push(_e),_e=et;do{switch(_e.tag){case 3:_e.flags|=65536,o&=-o,_e.lanes|=o;var Qt=Oi(_e,nt,o);fh(_e,Qt);break e;case 1:j=nt;var It=_e.type,xt=_e.stateNode;if(!(_e.flags&128)&&(typeof It.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(Si===null||!Si.has(xt)))){_e.flags|=65536,o&=-o,_e.lanes|=o;var Tt=Ri(_e,j,o);fh(_e,Tt);break e}}_e=_e.return}while(_e!==null)}Tk(s)}catch(mt){o=mt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,o){var s=K;K|=2;var _=Kk();(R!==i||Z!==o)&&(vk=null,Lk(i,o));do try{Uk();break}catch($){Nk(i,$)}while(1);if(Qg(),K=s,nk.current=_,Y!==null)throw Error(p$2(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var o=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,o===null?Tk(i):Y=o,ok.current=null}function Tk(i){var o=i;do{var s=o.alternate;if(i=o.return,o.flags&32768){if(s=Jj(s,o),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,o,gj),s!==null){Y=s;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=i}while(o!==null);T===0&&(T=5)}function Qk(i,o,s){var _=C,$=pk.transition;try{pk.transition=null,C=1,Xk(i,o,s,_)}finally{pk.transition=$,C=_}return null}function Xk(i,o,s,_){do Ik();while(xk!==null);if(K&6)throw Error(p$2(327));s=i.finishedWork;var $=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p$2(177));i.callbackNode=null,i.callbackPriority=0;var _e=s.lanes|s.childLanes;if(Bc(i,_e),i===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),_e=(s.flags&15990)!==0,s.subtreeFlags&15990||_e){_e=pk.transition,pk.transition=null;var et=C;C=1;var j=K;K|=4,ok.current=null,Pj(i,s),ek(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,ik(s),dc(),K=j,C=et,pk.transition=_e}else i.current=s;if(wk&&(wk=!1,xk=i,yk=$),_e=i.pendingLanes,_e===0&&(Si=null),mc(s.stateNode),Ek(i,B()),o!==null)for(_=i.onRecoverableError,s=0;s<o.length;s++)$=o[s],_($.value,{componentStack:$.stack,digest:$.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),_e=i.pendingLanes,_e&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),o=pk.transition,s=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var _=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p$2(331));var $=K;for(K|=4,V=i.current;V!==null;){var _e=V,et=_e.child;if(V.flags&16){var j=_e.deletions;if(j!==null){for(var nt=0;nt<j.length;nt++){var ot=j[nt];for(V=ot;V!==null;){var ct=V;switch(ct.tag){case 0:case 11:case 15:Qj(8,ct,_e)}var gt=ct.child;if(gt!==null)gt.return=ct,V=gt;else for(;V!==null;){ct=V;var pt=ct.sibling,ft=ct.return;if(Tj(ct),ct===ot){V=null;break}if(pt!==null){pt.return=ft,V=pt;break}V=ft}}}var ut=_e.alternate;if(ut!==null){var yt=ut.child;if(yt!==null){ut.child=null;do{var wt=yt.sibling;yt.sibling=null,yt=wt}while(yt!==null)}}V=_e}}if(_e.subtreeFlags&2064&&et!==null)et.return=_e,V=et;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Qj(9,_e,_e.return)}var Qt=_e.sibling;if(Qt!==null){Qt.return=_e.return,V=Qt;break e}V=_e.return}}var It=i.current;for(V=It;V!==null;){et=V;var xt=et.child;if(et.subtreeFlags&2064&&xt!==null)xt.return=et,V=xt;else e:for(et=It;V!==null;){if(j=V,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Rj(9,j)}}catch(mt){W(j,j.return,mt)}if(j===et){V=null;break e}var Tt=j.sibling;if(Tt!==null){Tt.return=j.return,V=Tt;break e}V=j.return}}if(K=$,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}_=!0}return _}finally{C=s,pk.transition=o}}return!1}function Yk(i,o,s){o=Ki(s,o),o=Oi(i,o,1),i=dh(i,o,1),o=L(),i!==null&&(Ac(i,1,o),Ek(i,o))}function W(i,o,s){if(i.tag===3)Yk(i,i,s);else for(;o!==null;){if(o.tag===3){Yk(o,i,s);break}else if(o.tag===1){var _=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Si===null||!Si.has(_))){i=Ki(s,i),i=Ri(o,i,1),o=dh(o,i,1),i=L(),o!==null&&(Ac(o,1,i),Ek(o,i));break}}o=o.return}}function Ui(i,o,s){var _=i.pingCache;_!==null&&_.delete(o),o=L(),i.pingedLanes|=i.suspendedLanes&s,R===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=s),Ek(i,o)}function Zk(i,o){o===0&&(i.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var s=L();i=Zg(i,o),i!==null&&(Ac(i,o,s),Ek(i,s))}function vj(i){var o=i.memoizedState,s=0;o!==null&&(s=o.retryLane),Zk(i,s)}function ck(i,o){var s=0;switch(i.tag){case 13:var _=i.stateNode,$=i.memoizedState;$!==null&&(s=$.retryLane);break;case 19:_=i.stateNode;break;default:throw Error(p$2(314))}_!==null&&_.delete(o),Zk(i,s)}var Wk;Wk=function(i,o,s){if(i!==null)if(i.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&s)&&!(o.flags&128))return Ug=!1,zj(i,o,s);Ug=!!(i.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var _=o.type;jj(i,o),i=o.pendingProps;var $=Yf(o,H.current);Tg(o,s),$=Xh(null,o,_,i,$,s);var _e=bi();return o.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(_)?(_e=!0,cg(o)):_e=!1,o.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,ah(o),$.updater=nh,o.stateNode=$,$._reactInternals=o,rh(o,_,i,s),o=kj(null,o,_,!0,_e,s)):(o.tag=0,I&&_e&&vg(o),Yi(null,o,$,s),o=o.child),o;case 16:_=o.elementType;e:{switch(jj(i,o),i=o.pendingProps,$=_._init,_=$(_._payload),o.type=_,$=o.tag=$k(_),i=Lg(_,i),$){case 0:o=dj(null,o,_,i,s);break e;case 1:o=ij(null,o,_,i,s);break e;case 11:o=Zi(null,o,_,i,s);break e;case 14:o=aj(null,o,_,Lg(_.type,i),s);break e}throw Error(p$2(306,_,""))}return o;case 0:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),dj(i,o,_,$,s);case 1:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),ij(i,o,_,$,s);case 3:e:{if(lj(o),i===null)throw Error(p$2(387));_=o.pendingProps,_e=o.memoizedState,$=_e.element,bh(i,o),gh(o,_,null,s);var et=o.memoizedState;if(_=et.element,_e.isDehydrated)if(_e={element:_,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},o.updateQueue.baseState=_e,o.memoizedState=_e,o.flags&256){$=Ki(Error(p$2(423)),o),o=mj(i,o,_,s,$);break e}else if(_!==$){$=Ki(Error(p$2(424)),o),o=mj(i,o,_,s,$);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,s=Ch(o,null,_,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),_===$){o=$i(i,o,s);break e}Yi(i,o,_,s)}o=o.child}return o;case 5:return Kh(o),i===null&&Eg(o),_=o.type,$=o.pendingProps,_e=i!==null?i.memoizedProps:null,et=$.children,Ef(_,$)?et=null:_e!==null&&Ef(_,_e)&&(o.flags|=32),hj(i,o),Yi(i,o,et,s),o.child;case 6:return i===null&&Eg(o),null;case 13:return pj(i,o,s);case 4:return Ih(o,o.stateNode.containerInfo),_=o.pendingProps,i===null?o.child=Bh(o,null,_,s):Yi(i,o,_,s),o.child;case 11:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),Zi(i,o,_,$,s);case 7:return Yi(i,o,o.pendingProps,s),o.child;case 8:return Yi(i,o,o.pendingProps.children,s),o.child;case 12:return Yi(i,o,o.pendingProps.children,s),o.child;case 10:e:{if(_=o.type._context,$=o.pendingProps,_e=o.memoizedProps,et=$.value,G(Mg,_._currentValue),_._currentValue=et,_e!==null)if(He(_e.value,et)){if(_e.children===$.children&&!Wf.current){o=$i(i,o,s);break e}}else for(_e=o.child,_e!==null&&(_e.return=o);_e!==null;){var j=_e.dependencies;if(j!==null){et=_e.child;for(var nt=j.firstContext;nt!==null;){if(nt.context===_){if(_e.tag===1){nt=ch(-1,s&-s),nt.tag=2;var ot=_e.updateQueue;if(ot!==null){ot=ot.shared;var ct=ot.pending;ct===null?nt.next=nt:(nt.next=ct.next,ct.next=nt),ot.pending=nt}}_e.lanes|=s,nt=_e.alternate,nt!==null&&(nt.lanes|=s),Sg(_e.return,s,o),j.lanes|=s;break}nt=nt.next}}else if(_e.tag===10)et=_e.type===o.type?null:_e.child;else if(_e.tag===18){if(et=_e.return,et===null)throw Error(p$2(341));et.lanes|=s,j=et.alternate,j!==null&&(j.lanes|=s),Sg(et,s,o),et=_e.sibling}else et=_e.child;if(et!==null)et.return=_e;else for(et=_e;et!==null;){if(et===o){et=null;break}if(_e=et.sibling,_e!==null){_e.return=et.return,et=_e;break}et=et.return}_e=et}Yi(i,o,$.children,s),o=o.child}return o;case 9:return $=o.type,_=o.pendingProps.children,Tg(o,s),$=Vg($),_=_($),o.flags|=1,Yi(i,o,_,s),o.child;case 14:return _=o.type,$=Lg(_,o.pendingProps),$=Lg(_.type,$),aj(i,o,_,$,s);case 15:return cj(i,o,o.type,o.pendingProps,s);case 17:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),jj(i,o),o.tag=1,Zf(_)?(i=!0,cg(o)):i=!1,Tg(o,s),ph(o,_,$),rh(o,_,$,s),kj(null,o,_,!0,i,s);case 19:return yj(i,o,s);case 22:return ej(i,o,s)}throw Error(p$2(156,o.tag))};function Gk(i,o){return ac(i,o)}function al(i,o,s,_){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,o,s,_){return new al(i,o,s,_)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,o){var s=i.alternate;return s===null?(s=Bg(i.tag,o,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=o,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,o=i.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function yh(i,o,s,_,$,_e){var et=2;if(_=i,typeof i=="function")bj(i)&&(et=1);else if(typeof i=="string")et=5;else e:switch(i){case ya:return Ah(s.children,$,_e,o);case za:et=8,$|=8;break;case Aa:return i=Bg(12,s,o,$|2),i.elementType=Aa,i.lanes=_e,i;case Ea:return i=Bg(13,s,o,$),i.elementType=Ea,i.lanes=_e,i;case Fa:return i=Bg(19,s,o,$),i.elementType=Fa,i.lanes=_e,i;case Ia:return qj(s,$,_e,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:et=10;break e;case Ca:et=9;break e;case Da:et=11;break e;case Ga:et=14;break e;case Ha:et=16,_=null;break e}throw Error(p$2(130,i==null?i:typeof i,""))}return o=Bg(et,s,o,$),o.elementType=i,o.type=_,o.lanes=_e,o}function Ah(i,o,s,_){return i=Bg(7,i,_,o),i.lanes=s,i}function qj(i,o,s,_){return i=Bg(22,i,_,o),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function xh(i,o,s){return i=Bg(6,i,null,o),i.lanes=s,i}function zh(i,o,s){return o=Bg(4,i.children!==null?i.children:[],i.key,o),o.lanes=s,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function bl(i,o,s,_,$){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function cl(i,o,s,_,$,_e,et,j,nt){return i=new bl(i,o,s,j,nt),o===1?(o=1,_e===!0&&(o|=8)):o=0,_e=Bg(3,null,null,o),i.current=_e,_e.stateNode=i,_e.memoizedState={element:_,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(_e),i}function dl(i,o,s){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_==null?null:""+_,children:i,containerInfo:o,implementation:s}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$2(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$2(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,o)}return o}function fl(i,o,s,_,$,_e,et,j,nt){return i=cl(s,_,!0,i,$,_e,et,j,nt),i.context=el(null),s=i.current,_=L(),$=lh(s),_e=ch(_,$),_e.callback=o??null,dh(s,_e,$),i.current.lanes=$,Ac(i,$,_),Ek(i,_),i}function gl(i,o,s,_){var $=o.current,_e=L(),et=lh($);return s=el(s),o.context===null?o.context=s:o.pendingContext=s,o=ch(_e,et),o.payload={element:i},_=_===void 0?null:_,_!==null&&(o.callback=_),i=dh($,o,et),i!==null&&(mh(i,$,et,_e),eh(i,$,et)),et}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<o?s:o}}function jl(i,o){il(i,o),(i=i.alternate)&&il(i,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(p$2(409));gl(i,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Sk(function(){gl(null,i,null,null)}),o[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hc();i={blockedOn:null,target:i,priority:o};for(var s=0;s<Qc.length&&o!==0&&o<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,o,s,_,$){if($){if(typeof _=="function"){var _e=_;_=function(){var ot=hl(et);_e.call(ot)}}var et=fl(o,_,i,0,null,!1,!1,"",ql);return i._reactRootContainer=et,i[uf]=et.current,sf(i.nodeType===8?i.parentNode:i),Sk(),et}for(;$=i.lastChild;)i.removeChild($);if(typeof _=="function"){var j=_;_=function(){var ot=hl(nt);j.call(ot)}}var nt=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=nt,i[uf]=nt.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(o,nt,s,_)}),nt}function sl(i,o,s,_,$){var _e=s._reactRootContainer;if(_e){var et=_e;if(typeof $=="function"){var j=$;$=function(){var nt=hl(et);j.call(nt)}}gl(o,et,i,$)}else et=rl(s,o,i,$,_);return hl(et)}Ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var s=tc(o.pendingLanes);s!==0&&(Cc(o,s|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var _=Zg(i,1);if(_!==null){var $=L();mh(_,i,1,$)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var o=Zg(i,134217728);if(o!==null){var s=L();mh(o,i,134217728,s)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var o=lh(i),s=Zg(i,o);if(s!==null){var _=L();mh(s,i,o,_)}jl(i,o)}};Hc=function(){return C};Ic=function(i,o){var s=C;try{return C=i,o()}finally{C=s}};yb=function(i,o,s){switch(o){case"input":if(bb(i,s),o=s.name,s.type==="radio"&&o!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var _=s[o];if(_!==i&&_.form===i.form){var $=Db(_);if(!$)throw Error(p$2(90));Wa(_),bb(_,$)}}}break;case"textarea":ib(i,s);break;case"select":o=s.value,o!=null&&fb(i,!!s.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$2(200));return dl(i,o,null,s)};reactDom_production_min.createRoot=function(i,o){if(!ol(i))throw Error(p$2(299));var s=!1,_="",$=ll;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(_=o.identifierPrefix),o.onRecoverableError!==void 0&&($=o.onRecoverableError)),o=cl(i,1,!1,null,null,s,!1,_,$),i[uf]=o.current,sf(i.nodeType===8?i.parentNode:i),new ml(o)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(p$2(188)):(i=Object.keys(i).join(","),Error(p$2(268,i)));return i=Zb(o),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,o,s){if(!pl(o))throw Error(p$2(200));return sl(null,i,o,!0,s)};reactDom_production_min.hydrateRoot=function(i,o,s){if(!ol(i))throw Error(p$2(405));var _=s!=null&&s.hydratedSources||null,$=!1,_e="",et=ll;if(s!=null&&(s.unstable_strictMode===!0&&($=!0),s.identifierPrefix!==void 0&&(_e=s.identifierPrefix),s.onRecoverableError!==void 0&&(et=s.onRecoverableError)),o=fl(o,null,i,1,s??null,$,!1,_e,et),i[uf]=o.current,sf(i),_)for(i=0;i<_.length;i++)s=_[i],$=s._getVersion,$=$(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,$]:o.mutableSourceEagerHydrationData.push(s,$);return new nl(o)};reactDom_production_min.render=function(i,o,s){if(!pl(o))throw Error(p$2(200));return sl(null,i,o,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$2(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,o,s,_){if(!pl(s))throw Error(p$2(200));if(i==null||i._reactInternals===void 0)throw Error(p$2(38));return sl(i,o,s,!1,_)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(i){function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}o(),i.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;var mapboxGlExports={},mapboxGl={get exports(){return mapboxGlExports},set exports(i){mapboxGlExports=i}};(function(i,o){(function(s,_){i.exports=_()})(commonjsGlobal$1,function(){var s,_,$;function _e(j,nt){if(!s)s=nt;else if(!_)_=nt;else{var ot="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+s+")(sharedChunk); ("+_+")(sharedChunk); self.onerror = null;",ct={};s(ct),$=nt(ct),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&($.workerUrl=window.URL.createObjectURL(new Blob([ot],{type:"text/javascript"})))}}_e(["exports"],function(j){var nt=typeof self<"u"?self:{},ot="2.11.1";let ct;const gt={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(ct==null){const rt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ct={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):rt}catch{ct=rt}}return ct},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},pt={supported:!1,testSupport:function(rt){!yt&&ut&&(wt?Qt(rt):ft=rt)}};let ft,ut,yt=!1,wt=!1;function Qt(rt){const tt=rt.createTexture();rt.bindTexture(rt.TEXTURE_2D,tt);try{if(rt.texImage2D(rt.TEXTURE_2D,0,rt.RGBA,rt.RGBA,rt.UNSIGNED_BYTE,ut),rt.isContextLost())return;pt.supported=!0}catch{}rt.deleteTexture(tt),yt=!0}nt.document&&(ut=nt.document.createElement("img"),ut.onload=function(){ft&&Qt(ft),ft=null,wt=!0},ut.onerror=function(){yt=!0,ft=null},ut.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const It="01";var xt=Tt;function Tt(rt,tt,it,lt){this.cx=3*rt,this.bx=3*(it-rt)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*tt,this.by=3*(lt-tt)-this.cy,this.ay=1-this.cy-this.by,this.p1x=rt,this.p1y=tt,this.p2x=it,this.p2y=lt}Tt.prototype={sampleCurveX:function(rt){return((this.ax*rt+this.bx)*rt+this.cx)*rt},sampleCurveY:function(rt){return((this.ay*rt+this.by)*rt+this.cy)*rt},sampleCurveDerivativeX:function(rt){return(3*this.ax*rt+2*this.bx)*rt+this.cx},solveCurveX:function(rt,tt){if(tt===void 0&&(tt=1e-6),rt<0)return 0;if(rt>1)return 1;for(var it=rt,lt=0;lt<8;lt++){var dt=this.sampleCurveX(it)-rt;if(Math.abs(dt)<tt)return it;var bt=this.sampleCurveDerivativeX(it);if(Math.abs(bt)<1e-6)break;it-=dt/bt}var Et=0,Ot=1;for(it=rt,lt=0;lt<20&&(dt=this.sampleCurveX(it),!(Math.abs(dt-rt)<tt));lt++)rt>dt?Et=it:Ot=it,it=.5*(Ot-Et)+Et;return it},solve:function(rt,tt){return this.sampleCurveY(this.solveCurveX(rt,tt))}};var mt=Nt;function Nt(rt,tt){this.x=rt,this.y=tt}Nt.prototype={clone:function(){return new Nt(this.x,this.y)},add:function(rt){return this.clone()._add(rt)},sub:function(rt){return this.clone()._sub(rt)},multByPoint:function(rt){return this.clone()._multByPoint(rt)},divByPoint:function(rt){return this.clone()._divByPoint(rt)},mult:function(rt){return this.clone()._mult(rt)},div:function(rt){return this.clone()._div(rt)},rotate:function(rt){return this.clone()._rotate(rt)},rotateAround:function(rt,tt){return this.clone()._rotateAround(rt,tt)},matMult:function(rt){return this.clone()._matMult(rt)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(rt){return this.x===rt.x&&this.y===rt.y},dist:function(rt){return Math.sqrt(this.distSqr(rt))},distSqr:function(rt){var tt=rt.x-this.x,it=rt.y-this.y;return tt*tt+it*it},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(rt){return Math.atan2(this.y-rt.y,this.x-rt.x)},angleWith:function(rt){return this.angleWithSep(rt.x,rt.y)},angleWithSep:function(rt,tt){return Math.atan2(this.x*tt-this.y*rt,this.x*rt+this.y*tt)},_matMult:function(rt){var tt=rt[2]*this.x+rt[3]*this.y;return this.x=rt[0]*this.x+rt[1]*this.y,this.y=tt,this},_add:function(rt){return this.x+=rt.x,this.y+=rt.y,this},_sub:function(rt){return this.x-=rt.x,this.y-=rt.y,this},_mult:function(rt){return this.x*=rt,this.y*=rt,this},_div:function(rt){return this.x/=rt,this.y/=rt,this},_multByPoint:function(rt){return this.x*=rt.x,this.y*=rt.y,this},_divByPoint:function(rt){return this.x/=rt.x,this.y/=rt.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var rt=this.y;return this.y=this.x,this.x=-rt,this},_rotate:function(rt){var tt=Math.cos(rt),it=Math.sin(rt),lt=it*this.x+tt*this.y;return this.x=tt*this.x-it*this.y,this.y=lt,this},_rotateAround:function(rt,tt){var it=Math.cos(rt),lt=Math.sin(rt),dt=tt.y+lt*(this.x-tt.x)+it*(this.y-tt.y);return this.x=tt.x+it*(this.x-tt.x)-lt*(this.y-tt.y),this.y=dt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Nt.convert=function(rt){return rt instanceof Nt?rt:Array.isArray(rt)?new Nt(rt[0],rt[1]):rt};const en=Math.PI/180,rn=180/Math.PI;function Ft(rt){return rt*en}function St(rt){return rt*rn}const Pt=[[0,0],[1,0],[1,1],[0,1]];function Bt(rt){if(rt<=0)return 0;if(rt>=1)return 1;const tt=rt*rt,it=tt*rt;return 4*(rt<.5?it:3*(rt-tt)+it-.75)}function jt(rt,tt,it,lt){const dt=new xt(rt,tt,it,lt);return function(bt){return dt.solve(bt)}}const qt=jt(.25,.1,.25,1);function Zt(rt,tt,it){return Math.min(it,Math.max(tt,rt))}function Wt(rt,tt,it){return(it=Zt((it-rt)/(tt-rt),0,1))*it*(3-2*it)}function Gt(rt,tt,it){const lt=it-tt,dt=((rt-tt)%lt+lt)%lt+tt;return dt===tt?it:dt}function Ht(rt,tt,it){if(!rt.length)return it(null,[]);let lt=rt.length;const dt=new Array(rt.length);let bt=null;rt.forEach((Et,Ot)=>{tt(Et,(zt,Yt)=>{zt&&(bt=zt),dt[Ot]=Yt,--lt==0&&it(bt,dt)})})}function kt(rt){const tt=[];for(const it in rt)tt.push(rt[it]);return tt}function Rt(rt,...tt){for(const it of tt)for(const lt in it)rt[lt]=it[lt];return rt}let $t=1;function nn(){return $t++}function Un(){return function rt(tt){return tt?(tt^Math.random()*(16>>tt/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,rt)}()}function Fn(rt){return rt<=1?1:Math.pow(2,Math.ceil(Math.log(rt)/Math.LN2))}function En(rt){return!!rt&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(rt)}function fn(rt,tt){rt.forEach(it=>{tt[it]&&(tt[it]=tt[it].bind(tt))})}function sn(rt,tt){return rt.indexOf(tt,rt.length-tt.length)!==-1}function Ct(rt,tt,it){const lt={};for(const dt in rt)lt[dt]=tt.call(it||this,rt[dt],dt,rt);return lt}function Dt(rt,tt,it){const lt={};for(const dt in rt)tt.call(it||this,rt[dt],dt,rt)&&(lt[dt]=rt[dt]);return lt}function Xt(rt){return Array.isArray(rt)?rt.map(Xt):typeof rt=="object"&&rt?Ct(rt,Xt):rt}const _n={};function mn(rt){_n[rt]||(typeof console<"u"&&console.warn(rt),_n[rt]=!0)}function xn(rt,tt,it){return(it.y-rt.y)*(tt.x-rt.x)>(tt.y-rt.y)*(it.x-rt.x)}function On(rt){let tt=0;for(let it,lt,dt=0,bt=rt.length,Et=bt-1;dt<bt;Et=dt++)it=rt[dt],lt=rt[Et],tt+=(lt.x-it.x)*(it.y+lt.y);return tt}function nr(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Nr(rt){const tt={};if(rt.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(it,lt,dt,bt)=>{const Et=dt||bt;return tt[lt]=!Et||Et.toLowerCase(),""}),tt["max-age"]){const it=parseInt(tt["max-age"],10);isNaN(it)?delete tt["max-age"]:tt["max-age"]=it}return tt}let co=null;function Zr(rt){if(co==null){const tt=rt.navigator?rt.navigator.userAgent:null;co=!!rt.safari||!(!tt||!(/\b(iPad|iPhone|iPod)\b/.test(tt)||tt.match("Safari")&&!tt.match("Chrome")))}return co}function mo(rt){try{const tt=nt[rt];return tt.setItem("_mapbox_test_",1),tt.removeItem("_mapbox_test_"),!0}catch{return!1}}function qr(rt,tt){return[rt[4*tt],rt[4*tt+1],rt[4*tt+2],rt[4*tt+3]]}const io="mapbox-tiles";let lo,Vo,Io=500,Go=50;function rs(){try{return nt.caches}catch{}}function $o(){rs()&&!lo&&(lo=nt.caches.open(io))}function ds(rt){const tt=rt.indexOf("?");if(tt<0)return rt;const it=function(dt){const bt=dt.indexOf("?");return bt>0?dt.slice(bt+1).split("&"):[]}(rt),lt=it.filter(dt=>{const bt=dt.split("=");return bt[0]==="language"||bt[0]==="worldview"});return lt.length?`${rt.slice(0,tt)}?${lt.join("&")}`:rt.slice(0,tt)}let ba=1/0;const Ss={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ss);class Fs extends Error{constructor(tt,it,lt){it===401&&Jn(lt)&&(tt+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(tt),this.status=it,this.url=lt}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Yl=nr()?()=>self.worker&&self.worker.referrer:()=>(nt.location.protocol==="blob:"?nt.parent:nt).location.href,Ps=function(rt,tt){if(!(/^file:/.test(it=rt.url)||/^file:/.test(Yl())&&!/^\w+:/.test(it))){if(nt.fetch&&nt.Request&&nt.AbortController&&nt.Request.prototype.hasOwnProperty("signal"))return function(lt,dt){const bt=new nt.AbortController,Et=new nt.Request(lt.url,{method:lt.method||"GET",body:lt.body,credentials:lt.credentials,headers:lt.headers,referrer:Yl(),signal:bt.signal});let Ot=!1,zt=!1;const Yt=(an=Et.url).indexOf("sku=")>0&&Jn(an);var an;lt.type==="json"&&Et.headers.set("Accept","application/json");const yn=(An,kn,Pn)=>{if(zt)return;if(An&&An.message!=="SecurityError"&&mn(An),kn&&Pn)return vn(kn);const Xn=Date.now();nt.fetch(Et).then(fr=>{if(fr.ok){const Fr=Yt?fr.clone():null;return vn(fr,Fr,Xn)}return dt(new Fs(fr.statusText,fr.status,lt.url))}).catch(fr=>{fr.code!==20&&dt(new Error(fr.message))})},vn=(An,kn,Pn)=>{(lt.type==="arrayBuffer"?An.arrayBuffer():lt.type==="json"?An.json():An.text()).then(Xn=>{zt||(kn&&Pn&&function(fr,Fr,dr){if($o(),!lo)return;const _r={status:Fr.status,statusText:Fr.statusText,headers:new nt.Headers};Fr.headers.forEach((Lr,Ir)=>_r.headers.set(Ir,Lr));const wr=Nr(Fr.headers.get("Cache-Control")||"");if(wr["no-store"])return;wr["max-age"]&&_r.headers.set("Expires",new Date(dr+1e3*wr["max-age"]).toUTCString());const vr=_r.headers.get("Expires");vr&&(new Date(vr).getTime()-dr<42e4||function(Lr,Ir){if(Vo===void 0)try{new Response(new ReadableStream),Vo=!0}catch{Vo=!1}Vo?Ir(Lr.body):Lr.blob().then(Ir)}(Fr,Lr=>{const Ir=new nt.Response(Lr,_r);$o(),lo&&lo.then(Xr=>Xr.put(ds(fr.url),Ir)).catch(Xr=>mn(Xr.message))}))}(Et,kn,Pn),Ot=!0,dt(null,Xn,An.headers.get("Cache-Control"),An.headers.get("Expires")))}).catch(Xn=>{zt||dt(new Error(Xn.message))})};return Yt?function(An,kn){if($o(),!lo)return kn(null);const Pn=ds(An.url);lo.then(Xn=>{Xn.match(Pn).then(fr=>{const Fr=function(dr){if(!dr)return!1;const _r=new Date(dr.headers.get("Expires")||0),wr=Nr(dr.headers.get("Cache-Control")||"");return _r>Date.now()&&!wr["no-cache"]}(fr);Xn.delete(Pn),Fr&&Xn.put(Pn,fr.clone()),kn(null,fr,Fr)}).catch(kn)}).catch(kn)}(Et,yn):yn(null,null),{cancel:()=>{zt=!0,Ot||bt.abort()}}}(rt,tt);if(nr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",rt,tt,void 0,!0)}var it;return function(lt,dt){const bt=new nt.XMLHttpRequest;bt.open(lt.method||"GET",lt.url,!0),lt.type==="arrayBuffer"&&(bt.responseType="arraybuffer");for(const Et in lt.headers)bt.setRequestHeader(Et,lt.headers[Et]);return lt.type==="json"&&(bt.responseType="text",bt.setRequestHeader("Accept","application/json")),bt.withCredentials=lt.credentials==="include",bt.onerror=()=>{dt(new Error(bt.statusText))},bt.onload=()=>{if((bt.status>=200&&bt.status<300||bt.status===0)&&bt.response!==null){let Et=bt.response;if(lt.type==="json")try{Et=JSON.parse(bt.response)}catch(Ot){return dt(Ot)}dt(null,Et,bt.getResponseHeader("Cache-Control"),bt.getResponseHeader("Expires"))}else dt(new Fs(bt.statusText,bt.status,lt.url))},bt.send(lt.body),{cancel:()=>bt.abort()}}(rt,tt)},Cs=function(rt,tt){return Ps(Rt(rt,{type:"arrayBuffer"}),tt)};function gu(rt){const tt=nt.document.createElement("a");return tt.href=rt,tt.protocol===nt.document.location.protocol&&tt.host===nt.document.location.host}const Us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ru,Gr;ru=[],Gr=0;const Cn=function(rt,tt){if(pt.supported&&(rt.headers||(rt.headers={}),rt.headers.accept="image/webp,*/*"),Gr>=gt.MAX_PARALLEL_IMAGE_REQUESTS){const bt={requestParameters:rt,callback:tt,cancelled:!1,cancel(){this.cancelled=!0}};return ru.push(bt),bt}Gr++;let it=!1;const lt=()=>{if(!it)for(it=!0,Gr--;ru.length&&Gr<gt.MAX_PARALLEL_IMAGE_REQUESTS;){const bt=ru.shift(),{requestParameters:Et,callback:Ot,cancelled:zt}=bt;zt||(bt.cancel=Cn(Et,Ot).cancel)}},dt=Cs(rt,(bt,Et,Ot,zt)=>{lt(),bt?tt(bt):Et&&(nt.createImageBitmap?function(Yt,an){const yn=new nt.Blob([new Uint8Array(Yt)],{type:"image/png"});nt.createImageBitmap(yn).then(vn=>{an(null,vn)}).catch(vn=>{an(new Error(`Could not load image because of ${vn.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(Et,(Yt,an)=>tt(Yt,an,Ot,zt)):function(Yt,an){const yn=new nt.Image,vn=nt.URL;yn.onload=()=>{an(null,yn),vn.revokeObjectURL(yn.src),yn.onload=null,nt.requestAnimationFrame(()=>{yn.src=Us})},yn.onerror=()=>an(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const An=new nt.Blob([new Uint8Array(Yt)],{type:"image/png"});yn.src=Yt.byteLength?vn.createObjectURL(An):Us}(Et,(Yt,an)=>tt(Yt,an,Ot,zt)))});return{cancel:()=>{dt.cancel(),lt()}}},Mn="NO_ACCESS_TOKEN";function Hn(rt){return rt.indexOf("mapbox:")===0}function Jn(rt){return gt.API_URL_REGEX.test(rt)}function pn(rt){return gt.API_STYLE_REGEX.test(rt)&&!wn(rt)}function wn(rt){return gt.API_SPRITE_REGEX.test(rt)}const Nn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function jn(rt){const tt=rt.match(Nn);if(!tt)throw new Error("Unable to parse URL object");return{protocol:tt[1],authority:tt[2],path:tt[3]||"/",params:tt[4]?tt[4].split("&"):[]}}function Wn(rt){const tt=rt.params.length?`?${rt.params.join("&")}`:"";return`${rt.protocol}://${rt.authority}${rt.path}${tt}`}function rr(rt){if(!rt)return null;const tt=rt.split(".");if(!tt||tt.length!==3)return null;try{return JSON.parse(decodeURIComponent(nt.atob(tt[1]).split("").map(it=>"%"+("00"+it.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Qr{constructor(tt){this.type=tt,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(tt){const it=rr(gt.ACCESS_TOKEN);let lt="";return lt=it&&it.u?nt.btoa(encodeURIComponent(it.u).replace(/%([0-9A-F]{2})/g,(dt,bt)=>String.fromCharCode(Number("0x"+bt)))):gt.ACCESS_TOKEN||"",tt?`mapbox.eventData.${tt}:${lt}`:`mapbox.eventData:${lt}`}fetchEventData(){const tt=mo("localStorage"),it=this.getStorageKey(),lt=this.getStorageKey("uuid");if(tt)try{const dt=nt.localStorage.getItem(it);dt&&(this.eventData=JSON.parse(dt));const bt=nt.localStorage.getItem(lt);bt&&(this.anonId=bt)}catch{mn("Unable to read from LocalStorage")}}saveEventData(){const tt=mo("localStorage"),it=this.getStorageKey(),lt=this.getStorageKey("uuid");if(tt)try{nt.localStorage.setItem(lt,this.anonId),Object.keys(this.eventData).length>=1&&nt.localStorage.setItem(it,JSON.stringify(this.eventData))}catch{mn("Unable to write to LocalStorage")}}processRequests(tt){}postEvent(tt,it,lt,dt){if(!gt.EVENTS_URL)return;const bt=jn(gt.EVENTS_URL);bt.params.push(`access_token=${dt||gt.ACCESS_TOKEN||""}`);const Et={event:this.type,created:new Date(tt).toISOString()},Ot=it?Rt(Et,it):Et,zt={url:Wn(bt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Ot])};this.pendingRequest=function(Yt,an){return Ps(Rt(Yt,{method:"POST"}),an)}(zt,Yt=>{this.pendingRequest=null,lt(Yt),this.saveEventData(),this.processRequests(dt)})}queueRequest(tt,it){this.queue.push(tt),this.processRequests(it)}}const Vn=new class extends Qr{constructor(rt){super("appUserTurnstile"),this._customAccessToken=rt}postTurnstileEvent(rt,tt){gt.EVENTS_URL&&gt.ACCESS_TOKEN&&Array.isArray(rt)&&rt.some(it=>Hn(it)||Jn(it))&&this.queueRequest(Date.now(),tt)}processRequests(rt){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const tt=rr(gt.ACCESS_TOKEN),it=tt?tt.u:gt.ACCESS_TOKEN;let lt=it!==this.eventData.tokenU;En(this.anonId)||(this.anonId=Un(),lt=!0);const dt=this.queue.shift();if(this.eventData.lastSuccess){const bt=new Date(this.eventData.lastSuccess),Et=new Date(dt),Ot=(dt-this.eventData.lastSuccess)/864e5;lt=lt||Ot>=1||Ot<-1||bt.getDate()!==Et.getDate()}else lt=!0;lt?this.postEvent(dt,{sdkIdentifier:"mapbox-gl-js",sdkVersion:ot,skuId:It,"enabled.telemetry":!1,userId:this.anonId},bt=>{bt||(this.eventData.lastSuccess=dt,this.eventData.tokenU=it)},rt):this.processRequests()}},bn=Vn.postTurnstileEvent.bind(Vn),Sn=new class extends Qr{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(rt,tt,it,lt){this.skuToken=tt,this.errorCb=lt,gt.EVENTS_URL&&(it||gt.ACCESS_TOKEN?this.queueRequest({id:rt,timestamp:Date.now()},it):this.errorCb(new Error(Mn)))}processRequests(rt){if(this.pendingRequest||this.queue.length===0)return;const{id:tt,timestamp:it}=this.queue.shift();tt&&this.success[tt]||(this.anonId||this.fetchEventData(),En(this.anonId)||(this.anonId=Un()),this.postEvent(it,{sdkIdentifier:"mapbox-gl-js",sdkVersion:ot,skuId:It,skuToken:this.skuToken,userId:this.anonId},lt=>{lt?this.errorCb(lt):tt&&(this.success[tt]=!0)},rt))}},Zn=Sn.postMapLoadEvent.bind(Sn),ir=new class extends Qr{constructor(){super("gljs.performance")}postPerformanceEvent(rt,tt){gt.EVENTS_URL&&(rt||gt.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:tt},rt)}processRequests(rt){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:tt,performanceData:it}=this.queue.shift(),lt=function(dt){const bt=nt.performance.getEntriesByType("resource"),Et=nt.performance.getEntriesByType("mark"),Ot=function(vn){const An={};if(vn){for(const kn in vn)if(kn!=="other")for(const Pn of vn[kn]){const Xn=`${kn}RequestCount`,fr=`${kn}ResolveRangeMin`,Fr=`${kn}ResolveRangeMax`;An[fr]=Math.min(An[fr]||1/0,Pn.startTime),An[Fr]=Math.max(An[Fr]||-1/0,Pn.responseEnd),An[Xn]===void 0&&(An[Xn]=0),++An[Xn]}}return An}(function(vn,An){const kn={};if(vn)for(const Pn of vn){const Xn=An(Pn);kn[Xn]===void 0&&(kn[Xn]=[]),kn[Xn].push(Pn)}return kn}(bt,Kr)),zt=nt.devicePixelRatio,Yt=nt.navigator.connection||nt.navigator.mozConnection||nt.navigator.webkitConnection,an={counters:[],metadata:[],attributes:[]},yn=(vn,An,kn)=>{kn!=null&&vn.push({name:An,value:kn.toString()})};for(const vn in Ot)yn(an.counters,vn,Ot[vn]);if(dt.interactionRange[0]!==1/0&&dt.interactionRange[1]!==-1/0&&(yn(an.counters,"interactionRangeMin",dt.interactionRange[0]),yn(an.counters,"interactionRangeMax",dt.interactionRange[1])),Et)for(const vn of Object.keys(Er)){const An=Er[vn],kn=Et.find(Pn=>Pn.name===An);kn&&yn(an.counters,An,kn.startTime)}return yn(an.counters,"visibilityHidden",dt.visibilityHidden),yn(an.attributes,"style",function(vn){if(vn)for(const An of vn){const kn=An.name.split("?")[0];if(pn(kn)){const Pn=kn.split("/").slice(-2);if(Pn.length===2)return`mapbox://styles/${Pn[0]}/${Pn[1]}`}}}(bt)),yn(an.attributes,"terrainEnabled",dt.terrainEnabled?"true":"false"),yn(an.attributes,"fogEnabled",dt.fogEnabled?"true":"false"),yn(an.attributes,"projection",dt.projection.name),yn(an.attributes,"zoom",dt.zoom),yn(an.metadata,"devicePixelRatio",zt),yn(an.metadata,"connectionEffectiveType",Yt?Yt.effectiveType:void 0),yn(an.metadata,"navigatorUserAgent",nt.navigator.userAgent),yn(an.metadata,"screenWidth",nt.screen.width),yn(an.metadata,"screenHeight",nt.screen.height),yn(an.metadata,"windowWidth",nt.innerWidth),yn(an.metadata,"windowHeight",nt.innerHeight),yn(an.metadata,"mapWidth",dt.width/zt),yn(an.metadata,"mapHeight",dt.height/zt),yn(an.metadata,"webglRenderer",dt.renderer),yn(an.metadata,"webglVendor",dt.vendor),yn(an.metadata,"sdkVersion",ot),yn(an.metadata,"sdkIdentifier","mapbox-gl-js"),an}(it);for(const dt of lt.metadata);for(const dt of lt.counters);for(const dt of lt.attributes);this.postEvent(tt,lt,()=>{},rt)}},hr=ir.postPerformanceEvent.bind(ir),gr=new class extends Qr{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(rt,tt,it,lt){if(!gt.API_URL||!gt.SESSION_PATH)return;const dt=jn(gt.API_URL+gt.SESSION_PATH);dt.params.push(`sku=${tt||""}`),dt.params.push(`access_token=${lt||gt.ACCESS_TOKEN||""}`);const bt={url:Wn(dt),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(Et,Ot){return Ps(Rt(Et,{method:"GET"}),Ot)}(bt,Et=>{this.pendingRequest=null,it(Et),this.saveEventData(),this.processRequests(lt)})}getSessionAPI(rt,tt,it,lt){this.skuToken=tt,this.errorCb=lt,gt.SESSION_PATH&&gt.API_URL&&(it||gt.ACCESS_TOKEN?this.queueRequest({id:rt,timestamp:Date.now()},it):this.errorCb(new Error(Mn)))}processRequests(rt){if(this.pendingRequest||this.queue.length===0)return;const{id:tt,timestamp:it}=this.queue.shift();tt&&this.success[tt]||this.getSession(it,this.skuToken,lt=>{lt?this.errorCb(lt):tt&&(this.success[tt]=!0)},rt)}},Rr=gr.getSessionAPI.bind(gr),mr=new Set,Er={create:"create",load:"load",fullLoad:"fullLoad"},Dr={mark(rt){nt.performance.mark(rt)},measure(rt,tt,it){nt.performance.measure(rt,tt,it)}};function Kr(rt){const tt=rt.name.split("?")[0];return tt.includes("mapbox-gl.js")?"javascript":tt.includes("mapbox-gl.css")?"css":function(it){return gt.API_FONTS_REGEX.test(it)}(tt)?"fontRange":wn(tt)?"sprite":pn(tt)?"style":function(it){return gt.API_TILEJSON_REGEX.test(it)}(tt)?"tilejson":"other"}const Hr=nt.performance;function wo(rt){const tt=rt?rt.url.toString():void 0;return Hr.getEntriesByName(tt)}let To,Qo,Do,Zo;const as={now:()=>Do!==void 0?Do:nt.performance.now(),setNow(rt){Do=rt},restoreNow(){Do=void 0},frame(rt){const tt=nt.requestAnimationFrame(rt);return{cancel:()=>nt.cancelAnimationFrame(tt)}},getImageData(rt,tt=0){const{width:it,height:lt}=rt;Zo||(Zo=nt.document.createElement("canvas"));const dt=Zo.getContext("2d");if(!dt)throw new Error("failed to create canvas 2d context");return(it>Zo.width||lt>Zo.height)&&(Zo.width=it,Zo.height=lt),dt.clearRect(-tt,-tt,it+2*tt,lt+2*tt),dt.drawImage(rt,0,0,it,lt),dt.getImageData(-tt,-tt,it+2*tt,lt+2*tt)},resolveURL:rt=>(To||(To=nt.document.createElement("a")),To.href=rt,To.href),get devicePixelRatio(){return nt.devicePixelRatio},get prefersReducedMotion(){return!!nt.matchMedia&&(Qo==null&&(Qo=nt.matchMedia("(prefers-reduced-motion: reduce)")),Qo.matches)}};function Eo(rt,tt,it){it[rt]&&it[rt].indexOf(tt)!==-1||(it[rt]=it[rt]||[],it[rt].push(tt))}function Qs(rt,tt,it){if(it&&it[rt]){const lt=it[rt].indexOf(tt);lt!==-1&&it[rt].splice(lt,1)}}class Bs{constructor(tt,it={}){Rt(this,it),this.type=tt}}class Qu extends Bs{constructor(tt,it={}){super("error",Rt({error:tt},it))}}class mu{on(tt,it){return this._listeners=this._listeners||{},Eo(tt,it,this._listeners),this}off(tt,it){return Qs(tt,it,this._listeners),Qs(tt,it,this._oneTimeListeners),this}once(tt,it){return it?(this._oneTimeListeners=this._oneTimeListeners||{},Eo(tt,it,this._oneTimeListeners),this):new Promise(lt=>this.once(tt,lt))}fire(tt,it){typeof tt=="string"&&(tt=new Bs(tt,it||{}));const lt=tt.type;if(this.listens(lt)){tt.target=this;const dt=this._listeners&&this._listeners[lt]?this._listeners[lt].slice():[];for(const Ot of dt)Ot.call(this,tt);const bt=this._oneTimeListeners&&this._oneTimeListeners[lt]?this._oneTimeListeners[lt].slice():[];for(const Ot of bt)Qs(lt,Ot,this._oneTimeListeners),Ot.call(this,tt);const Et=this._eventedParent;Et&&(Rt(tt,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),Et.fire(tt))}else tt instanceof Qu&&console.error(tt.error);return this}listens(tt){return!!(this._listeners&&this._listeners[tt]&&this._listeners[tt].length>0||this._oneTimeListeners&&this._oneTimeListeners[tt]&&this._oneTimeListeners[tt].length>0||this._eventedParent&&this._eventedParent.listens(tt))}setEventedParent(tt,it){return this._eventedParent=tt,this._eventedParentData=it,this}}var zr=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Fl(rt,...tt){for(const it of tt)for(const lt in it)rt[lt]=it[lt];return rt}function $s(rt){return rt instanceof Number||rt instanceof String||rt instanceof Boolean?rt.valueOf():rt}function yu(rt){if(Array.isArray(rt))return rt.map(yu);if(rt instanceof Object&&!(rt instanceof Number||rt instanceof String||rt instanceof Boolean)){const tt={};for(const it in rt)tt[it]=yu(rt[it]);return tt}return $s(rt)}class lu extends Error{constructor(tt,it){super(it),this.message=it,this.key=tt}}var xu=lu;class Ql{constructor(tt,it=[]){this.parent=tt,this.bindings={};for(const[lt,dt]of it)this.bindings[lt]=dt}concat(tt){return new Ql(this,tt)}get(tt){if(this.bindings[tt])return this.bindings[tt];if(this.parent)return this.parent.get(tt);throw new Error(`${tt} not found in scope.`)}has(tt){return!!this.bindings[tt]||!!this.parent&&this.parent.has(tt)}}var cm=Ql;const cp={kind:"null"},Fo={kind:"number"},us={kind:"string"},fs={kind:"boolean"},Au={kind:"color"},up={kind:"object"},ss={kind:"value"},Zu={kind:"collator"},Gu={kind:"formatted"},_u={kind:"resolvedImage"};function Pl(rt,tt){return{kind:"array",itemType:rt,N:tt}}function _s(rt){if(rt.kind==="array"){const tt=_s(rt.itemType);return typeof rt.N=="number"?`array<${tt}, ${rt.N}>`:rt.itemType.kind==="value"?"array":`array<${tt}>`}return rt.kind}const Mm=[cp,Fo,us,fs,Au,Gu,up,Pl(ss),_u];function zs(rt,tt){if(tt.kind==="error")return null;if(rt.kind==="array"){if(tt.kind==="array"&&(tt.N===0&&tt.itemType.kind==="value"||!zs(rt.itemType,tt.itemType))&&(typeof rt.N!="number"||rt.N===tt.N))return null}else{if(rt.kind===tt.kind)return null;if(rt.kind==="value"){for(const it of Mm)if(!zs(it,tt))return null}}return`Expected ${_s(rt)} but found ${_s(tt)} instead.`}function Hu(rt,tt){return tt.some(it=>it.kind===rt.kind)}function xa(rt,tt){return tt.some(it=>it==="null"?rt===null:it==="array"?Array.isArray(rt):it==="object"?rt&&!Array.isArray(rt)&&typeof rt=="object":it===typeof rt)}var $u,hp={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function zp(rt){return(rt=Math.round(rt))<0?0:rt>255?255:rt}function yl(rt){return zp(rt[rt.length-1]==="%"?parseFloat(rt)/100*255:parseInt(rt))}function tu(rt){return(tt=rt[rt.length-1]==="%"?parseFloat(rt)/100:parseFloat(rt))<0?0:tt>1?1:tt;var tt}function Ml(rt,tt,it){return it<0?it+=1:it>1&&(it-=1),6*it<1?rt+(tt-rt)*it*6:2*it<1?tt:3*it<2?rt+(tt-rt)*(2/3-it)*6:rt}try{$u={}.parseCSSColor=function(rt){var tt,it=rt.replace(/ /g,"").toLowerCase();if(it in hp)return hp[it].slice();if(it[0]==="#")return it.length===4?(tt=parseInt(it.substr(1),16))>=0&&tt<=4095?[(3840&tt)>>4|(3840&tt)>>8,240&tt|(240&tt)>>4,15&tt|(15&tt)<<4,1]:null:it.length===7&&(tt=parseInt(it.substr(1),16))>=0&&tt<=16777215?[(16711680&tt)>>16,(65280&tt)>>8,255&tt,1]:null;var lt=it.indexOf("("),dt=it.indexOf(")");if(lt!==-1&&dt+1===it.length){var bt=it.substr(0,lt),Et=it.substr(lt+1,dt-(lt+1)).split(","),Ot=1;switch(bt){case"rgba":if(Et.length!==4)return null;Ot=tu(Et.pop());case"rgb":return Et.length!==3?null:[yl(Et[0]),yl(Et[1]),yl(Et[2]),Ot];case"hsla":if(Et.length!==4)return null;Ot=tu(Et.pop());case"hsl":if(Et.length!==3)return null;var zt=(parseFloat(Et[0])%360+360)%360/360,Yt=tu(Et[1]),an=tu(Et[2]),yn=an<=.5?an*(Yt+1):an+Yt-an*Yt,vn=2*an-yn;return[zp(255*Ml(vn,yn,zt+1/3)),zp(255*Ml(vn,yn,zt)),zp(255*Ml(vn,yn,zt-1/3)),Ot];default:return null}}return null}}catch{}class vs{constructor(tt,it,lt,dt=1){this.r=tt,this.g=it,this.b=lt,this.a=dt}static parse(tt){if(!tt)return;if(tt instanceof vs)return tt;if(typeof tt!="string")return;const it=$u(tt);return it?new vs(it[0]/255*it[3],it[1]/255*it[3],it[2]/255*it[3],it[3]):void 0}toString(){const[tt,it,lt,dt]=this.toArray();return`rgba(${Math.round(tt)},${Math.round(it)},${Math.round(lt)},${dt})`}toArray(){const{r:tt,g:it,b:lt,a:dt}=this;return dt===0?[0,0,0,0]:[255*tt/dt,255*it/dt,255*lt/dt,dt]}toArray01(){const{r:tt,g:it,b:lt,a:dt}=this;return dt===0?[0,0,0,0]:[tt/dt,it/dt,lt/dt,dt]}toArray01PremultipliedAlpha(){const{r:tt,g:it,b:lt,a:dt}=this;return[tt,it,lt,dt]}}vs.black=new vs(0,0,0,1),vs.white=new vs(1,1,1,1),vs.transparent=new vs(0,0,0,0),vs.red=new vs(1,0,0,1),vs.blue=new vs(0,0,1,1);var Zs=vs;class Zp{constructor(tt,it,lt){this.sensitivity=tt?it?"variant":"case":it?"accent":"base",this.locale=lt,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(tt,it){return this.collator.compare(tt,it)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class dp{constructor(tt,it,lt,dt,bt){this.text=tt.normalize?tt.normalize():tt,this.image=it,this.scale=lt,this.fontStack=dt,this.textColor=bt}}class Jt{constructor(tt){this.sections=tt}static fromString(tt){return new Jt([new dp(tt,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(tt=>tt.text.length!==0||tt.image&&tt.image.name.length!==0)}static factory(tt){return tt instanceof Jt?tt:Jt.fromString(tt)}toString(){return this.sections.length===0?"":this.sections.map(tt=>tt.text).join("")}serialize(){const tt=["format"];for(const it of this.sections){if(it.image){tt.push(["image",it.image.name]);continue}tt.push(it.text);const lt={};it.fontStack&&(lt["text-font"]=["literal",it.fontStack.split(",")]),it.scale&&(lt["font-scale"]=it.scale),it.textColor&&(lt["text-color"]=["rgba"].concat(it.textColor.toArray())),tt.push(lt)}return tt}}class dn{constructor(tt){this.name=tt.name,this.available=tt.available}toString(){return this.name}static fromString(tt){return tt?new dn({name:tt,available:!1}):null}serialize(){return["image",this.name]}}function Qn(rt,tt,it,lt){return typeof rt=="number"&&rt>=0&&rt<=255&&typeof tt=="number"&&tt>=0&&tt<=255&&typeof it=="number"&&it>=0&&it<=255?lt===void 0||typeof lt=="number"&&lt>=0&&lt<=1?null:`Invalid rgba value [${[rt,tt,it,lt].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof lt=="number"?[rt,tt,it,lt]:[rt,tt,it]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function In(rt){if(rt===null||typeof rt=="string"||typeof rt=="boolean"||typeof rt=="number"||rt instanceof Zs||rt instanceof Zp||rt instanceof Jt||rt instanceof dn)return!0;if(Array.isArray(rt)){for(const tt of rt)if(!In(tt))return!1;return!0}if(typeof rt=="object"){for(const tt in rt)if(!In(rt[tt]))return!1;return!0}return!1}function qn(rt){if(rt===null)return cp;if(typeof rt=="string")return us;if(typeof rt=="boolean")return fs;if(typeof rt=="number")return Fo;if(rt instanceof Zs)return Au;if(rt instanceof Zp)return Zu;if(rt instanceof Jt)return Gu;if(rt instanceof dn)return _u;if(Array.isArray(rt)){const tt=rt.length;let it;for(const lt of rt){const dt=qn(lt);if(it){if(it===dt)continue;it=ss;break}it=dt}return Pl(it||ss,tt)}return up}function pr(rt){const tt=typeof rt;return rt===null?"":tt==="string"||tt==="number"||tt==="boolean"?String(rt):rt instanceof Zs||rt instanceof Jt||rt instanceof dn?rt.toString():JSON.stringify(rt)}class Gn{constructor(tt,it){this.type=tt,this.value=it}static parse(tt,it){if(tt.length!==2)return it.error(`'literal' expression requires exactly one argument, but found ${tt.length-1} instead.`);if(!In(tt[1]))return it.error("invalid value");const lt=tt[1];let dt=qn(lt);const bt=it.expectedType;return dt.kind!=="array"||dt.N!==0||!bt||bt.kind!=="array"||typeof bt.N=="number"&&bt.N!==0||(dt=bt),new Gn(dt,lt)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Zs?["rgba"].concat(this.value.toArray()):this.value instanceof Jt?this.value.serialize():this.value}}var lr=Gn,Cr=class{constructor(rt){this.name="ExpressionEvaluationError",this.message=rt}toJSON(){return this.message}};const Mr={string:us,number:Fo,boolean:fs,object:up};class Yr{constructor(tt,it){this.type=tt,this.args=it}static parse(tt,it){if(tt.length<2)return it.error("Expected at least one argument.");let lt,dt=1;const bt=tt[0];if(bt==="array"){let Ot,zt;if(tt.length>2){const Yt=tt[1];if(typeof Yt!="string"||!(Yt in Mr)||Yt==="object")return it.error('The item type argument of "array" must be one of string, number, boolean',1);Ot=Mr[Yt],dt++}else Ot=ss;if(tt.length>3){if(tt[2]!==null&&(typeof tt[2]!="number"||tt[2]<0||tt[2]!==Math.floor(tt[2])))return it.error('The length argument to "array" must be a positive integer literal',2);zt=tt[2],dt++}lt=Pl(Ot,zt)}else lt=Mr[bt];const Et=[];for(;dt<tt.length;dt++){const Ot=it.parse(tt[dt],dt,ss);if(!Ot)return null;Et.push(Ot)}return new Yr(lt,Et)}evaluate(tt){for(let it=0;it<this.args.length;it++){const lt=this.args[it].evaluate(tt);if(!zs(this.type,qn(lt)))return lt;if(it===this.args.length-1)throw new Cr(`Expected value to be of type ${_s(this.type)}, but found ${_s(qn(lt))} instead.`)}return null}eachChild(tt){this.args.forEach(tt)}outputDefined(){return this.args.every(tt=>tt.outputDefined())}serialize(){const tt=this.type,it=[tt.kind];if(tt.kind==="array"){const lt=tt.itemType;if(lt.kind==="string"||lt.kind==="number"||lt.kind==="boolean"){it.push(lt.kind);const dt=tt.N;(typeof dt=="number"||this.args.length>1)&&it.push(dt)}}return it.concat(this.args.map(lt=>lt.serialize()))}}var Po=Yr;class Uo{constructor(tt){this.type=Gu,this.sections=tt}static parse(tt,it){if(tt.length<2)return it.error("Expected at least one argument.");const lt=tt[1];if(!Array.isArray(lt)&&typeof lt=="object")return it.error("First argument must be an image or text section.");const dt=[];let bt=!1;for(let Et=1;Et<=tt.length-1;++Et){const Ot=tt[Et];if(bt&&typeof Ot=="object"&&!Array.isArray(Ot)){bt=!1;let zt=null;if(Ot["font-scale"]&&(zt=it.parse(Ot["font-scale"],1,Fo),!zt))return null;let Yt=null;if(Ot["text-font"]&&(Yt=it.parse(Ot["text-font"],1,Pl(us)),!Yt))return null;let an=null;if(Ot["text-color"]&&(an=it.parse(Ot["text-color"],1,Au),!an))return null;const yn=dt[dt.length-1];yn.scale=zt,yn.font=Yt,yn.textColor=an}else{const zt=it.parse(tt[Et],1,ss);if(!zt)return null;const Yt=zt.type.kind;if(Yt!=="string"&&Yt!=="value"&&Yt!=="null"&&Yt!=="resolvedImage")return it.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");bt=!0,dt.push({content:zt,scale:null,font:null,textColor:null})}}return new Uo(dt)}evaluate(tt){return new Jt(this.sections.map(it=>{const lt=it.content.evaluate(tt);return qn(lt)===_u?new dp("",lt,null,null,null):new dp(pr(lt),null,it.scale?it.scale.evaluate(tt):null,it.font?it.font.evaluate(tt).join(","):null,it.textColor?it.textColor.evaluate(tt):null)}))}eachChild(tt){for(const it of this.sections)tt(it.content),it.scale&&tt(it.scale),it.font&&tt(it.font),it.textColor&&tt(it.textColor)}outputDefined(){return!1}serialize(){const tt=["format"];for(const it of this.sections){tt.push(it.content.serialize());const lt={};it.scale&&(lt["font-scale"]=it.scale.serialize()),it.font&&(lt["text-font"]=it.font.serialize()),it.textColor&&(lt["text-color"]=it.textColor.serialize()),tt.push(lt)}return tt}}class Mo{constructor(tt){this.type=_u,this.input=tt}static parse(tt,it){if(tt.length!==2)return it.error("Expected two arguments.");const lt=it.parse(tt[1],1,us);return lt?new Mo(lt):it.error("No image name provided.")}evaluate(tt){const it=this.input.evaluate(tt),lt=dn.fromString(it);return lt&&tt.availableImages&&(lt.available=tt.availableImages.indexOf(it)>-1),lt}eachChild(tt){tt(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ko={"to-boolean":fs,"to-color":Au,"to-number":Fo,"to-string":us};class is{constructor(tt,it){this.type=tt,this.args=it}static parse(tt,it){if(tt.length<2)return it.error("Expected at least one argument.");const lt=tt[0];if((lt==="to-boolean"||lt==="to-string")&&tt.length!==2)return it.error("Expected one argument.");const dt=Ko[lt],bt=[];for(let Et=1;Et<tt.length;Et++){const Ot=it.parse(tt[Et],Et,ss);if(!Ot)return null;bt.push(Ot)}return new is(dt,bt)}evaluate(tt){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(tt));if(this.type.kind==="color"){let it,lt;for(const dt of this.args){if(it=dt.evaluate(tt),lt=null,it instanceof Zs)return it;if(typeof it=="string"){const bt=tt.parseColor(it);if(bt)return bt}else if(Array.isArray(it)&&(lt=it.length<3||it.length>4?`Invalid rbga value ${JSON.stringify(it)}: expected an array containing either three or four numeric values.`:Qn(it[0],it[1],it[2],it[3]),!lt))return new Zs(it[0]/255,it[1]/255,it[2]/255,it[3])}throw new Cr(lt||`Could not parse color from value '${typeof it=="string"?it:String(JSON.stringify(it))}'`)}if(this.type.kind==="number"){let it=null;for(const lt of this.args){if(it=lt.evaluate(tt),it===null)return 0;const dt=Number(it);if(!isNaN(dt))return dt}throw new Cr(`Could not convert ${JSON.stringify(it)} to number.`)}return this.type.kind==="formatted"?Jt.fromString(pr(this.args[0].evaluate(tt))):this.type.kind==="resolvedImage"?dn.fromString(pr(this.args[0].evaluate(tt))):pr(this.args[0].evaluate(tt))}eachChild(tt){this.args.forEach(tt)}outputDefined(){return this.args.every(tt=>tt.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Uo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Mo(this.args[0]).serialize();const tt=[`to-${this.type.kind}`];return this.eachChild(it=>{tt.push(it.serialize())}),tt}}var Co=is;const Al=["Unknown","Point","LineString","Polygon"];var cu=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Al[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const rt=this.featureDistanceData.center,tt=this.featureDistanceData.scale,{x:it,y:lt}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(it*tt-rt[0])+this.featureDistanceData.bearing[1]*(lt*tt-rt[1])}return 0}parseColor(rt){let tt=this._parseColorCache[rt];return tt||(tt=this._parseColorCache[rt]=Zs.parse(rt)),tt}};class Nm{constructor(tt,it,lt,dt){this.name=tt,this.type=it,this._evaluate=lt,this.args=dt}evaluate(tt){return this._evaluate(tt,this.args)}eachChild(tt){this.args.forEach(tt)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(tt=>tt.serialize()))}static parse(tt,it){const lt=tt[0],dt=Nm.definitions[lt];if(!dt)return it.error(`Unknown expression "${lt}". If you wanted a literal array, use ["literal", [...]].`,0);const bt=Array.isArray(dt)?dt[0]:dt.type,Et=Array.isArray(dt)?[[dt[1],dt[2]]]:dt.overloads,Ot=Et.filter(([Yt])=>!Array.isArray(Yt)||Yt.length===tt.length-1);let zt=null;for(const[Yt,an]of Ot){zt=new ky(it.registry,it.path,null,it.scope);const yn=[];let vn=!1;for(let An=1;An<tt.length;An++){const kn=tt[An],Pn=Array.isArray(Yt)?Yt[An-1]:Yt.type,Xn=zt.parse(kn,1+yn.length,Pn);if(!Xn){vn=!0;break}yn.push(Xn)}if(!vn)if(Array.isArray(Yt)&&Yt.length!==yn.length)zt.error(`Expected ${Yt.length} arguments, but found ${yn.length} instead.`);else{for(let An=0;An<yn.length;An++){const kn=Array.isArray(Yt)?Yt[An]:Yt.type,Pn=yn[An];zt.concat(An+1).checkSubtype(kn,Pn.type)}if(zt.errors.length===0)return new Nm(lt,bt,an,yn)}}if(Ot.length===1)it.errors.push(...zt.errors);else{const Yt=(Ot.length?Ot:Et).map(([yn])=>{return vn=yn,Array.isArray(vn)?`(${vn.map(_s).join(", ")})`:`(${_s(vn.type)}...)`;var vn}).join(" | "),an=[];for(let yn=1;yn<tt.length;yn++){const vn=it.parse(tt[yn],1+an.length);if(!vn)return null;an.push(_s(vn.type))}it.error(`Expected arguments of type ${Yt}, but found (${an.join(", ")}) instead.`)}return null}static register(tt,it){Nm.definitions=it;for(const lt in it)tt[lt]=Nm}}var Yu=Nm;class a0{constructor(tt,it,lt){this.type=Zu,this.locale=lt,this.caseSensitive=tt,this.diacriticSensitive=it}static parse(tt,it){if(tt.length!==2)return it.error("Expected one argument.");const lt=tt[1];if(typeof lt!="object"||Array.isArray(lt))return it.error("Collator options argument must be an object.");const dt=it.parse(lt["case-sensitive"]!==void 0&&lt["case-sensitive"],1,fs);if(!dt)return null;const bt=it.parse(lt["diacritic-sensitive"]!==void 0&&lt["diacritic-sensitive"],1,fs);if(!bt)return null;let Et=null;return lt.locale&&(Et=it.parse(lt.locale,1,us),!Et)?null:new a0(dt,bt,Et)}evaluate(tt){return new Zp(this.caseSensitive.evaluate(tt),this.diacriticSensitive.evaluate(tt),this.locale?this.locale.evaluate(tt):null)}eachChild(tt){tt(this.caseSensitive),tt(this.diacriticSensitive),this.locale&&tt(this.locale)}outputDefined(){return!1}serialize(){const tt={};return tt["case-sensitive"]=this.caseSensitive.serialize(),tt["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(tt.locale=this.locale.serialize()),["collator",tt]}}const xl=8192;function Cy(rt,tt){rt[0]=Math.min(rt[0],tt[0]),rt[1]=Math.min(rt[1],tt[1]),rt[2]=Math.max(rt[2],tt[0]),rt[3]=Math.max(rt[3],tt[1])}function Ep(rt,tt){return!(rt[0]<=tt[0]||rt[2]>=tt[2]||rt[1]<=tt[1]||rt[3]>=tt[3])}function fp(rt,tt){const it=(180+rt[0])/360,lt=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+rt[1]*Math.PI/360)))/360,dt=Math.pow(2,tt.z);return[Math.round(it*dt*xl),Math.round(lt*dt*xl)]}function l0(rt,tt,it){const lt=rt[0]-tt[0],dt=rt[1]-tt[1],bt=rt[0]-it[0],Et=rt[1]-it[1];return lt*Et-bt*dt==0&&lt*bt<=0&&dt*Et<=0}function vu(rt,tt){let it=!1;for(let Et=0,Ot=tt.length;Et<Ot;Et++){const zt=tt[Et];for(let Yt=0,an=zt.length;Yt<an-1;Yt++){if(l0(rt,zt[Yt],zt[Yt+1]))return!1;(dt=zt[Yt])[1]>(lt=rt)[1]!=(bt=zt[Yt+1])[1]>lt[1]&&lt[0]<(bt[0]-dt[0])*(lt[1]-dt[1])/(bt[1]-dt[1])+dt[0]&&(it=!it)}}var lt,dt,bt;return it}function f_(rt,tt){for(let it=0;it<tt.length;it++)if(vu(rt,tt[it]))return!0;return!1}function c0(rt,tt,it,lt){const dt=lt[0]-it[0],bt=lt[1]-it[1],Et=(rt[0]-it[0])*bt-dt*(rt[1]-it[1]),Ot=(tt[0]-it[0])*bt-dt*(tt[1]-it[1]);return Et>0&&Ot<0||Et<0&&Ot>0}function p_(rt,tt,it){for(const Yt of it)for(let an=0;an<Yt.length-1;++an)if((Ot=[(Et=Yt[an+1])[0]-(bt=Yt[an])[0],Et[1]-bt[1]])[0]*(zt=[(dt=tt)[0]-(lt=rt)[0],dt[1]-lt[1]])[1]-Ot[1]*zt[0]!=0&&c0(lt,dt,bt,Et)&&c0(bt,Et,lt,dt))return!0;var lt,dt,bt,Et,Ot,zt;return!1}function u0(rt,tt){for(let it=0;it<rt.length;++it)if(!vu(rt[it],tt))return!1;for(let it=0;it<rt.length-1;++it)if(p_(rt[it],rt[it+1],tt))return!1;return!0}function h0(rt,tt){for(let it=0;it<tt.length;it++)if(u0(rt,tt[it]))return!0;return!1}function um(rt,tt,it){const lt=[];for(let dt=0;dt<rt.length;dt++){const bt=[];for(let Et=0;Et<rt[dt].length;Et++){const Ot=fp(rt[dt][Et],it);Cy(tt,Ot),bt.push(Ot)}lt.push(bt)}return lt}function bu(rt,tt,it){const lt=[];for(let dt=0;dt<rt.length;dt++){const bt=um(rt[dt],tt,it);lt.push(bt)}return lt}function g_(rt,tt,it,lt){if(rt[0]<it[0]||rt[0]>it[2]){const dt=.5*lt;let bt=rt[0]-it[0]>dt?-lt:it[0]-rt[0]>dt?lt:0;bt===0&&(bt=rt[0]-it[2]>dt?-lt:it[2]-rt[0]>dt?lt:0),rt[0]+=bt}Cy(tt,rt)}function Uu(rt,tt,it,lt){const dt=Math.pow(2,lt.z)*xl,bt=[lt.x*xl,lt.y*xl],Et=[];if(!rt)return Et;for(const Ot of rt)for(const zt of Ot){const Yt=[zt.x+bt[0],zt.y+bt[1]];g_(Yt,tt,it,dt),Et.push(Yt)}return Et}function m_(rt,tt,it,lt){const dt=Math.pow(2,lt.z)*xl,bt=[lt.x*xl,lt.y*xl],Et=[];if(!rt)return Et;for(const zt of rt){const Yt=[];for(const an of zt){const yn=[an.x+bt[0],an.y+bt[1]];Cy(tt,yn),Yt.push(yn)}Et.push(Yt)}if(tt[2]-tt[0]<=dt/2){(Ot=tt)[0]=Ot[1]=1/0,Ot[2]=Ot[3]=-1/0;for(const zt of Et)for(const Yt of zt)g_(Yt,tt,it,dt)}var Ot;return Et}class pp{constructor(tt,it){this.type=fs,this.geojson=tt,this.geometries=it}static parse(tt,it){if(tt.length!==2)return it.error(`'within' expression requires exactly one argument, but found ${tt.length-1} instead.`);if(In(tt[1])){const lt=tt[1];if(lt.type==="FeatureCollection")for(let dt=0;dt<lt.features.length;++dt){const bt=lt.features[dt].geometry.type;if(bt==="Polygon"||bt==="MultiPolygon")return new pp(lt,lt.features[dt].geometry)}else if(lt.type==="Feature"){const dt=lt.geometry.type;if(dt==="Polygon"||dt==="MultiPolygon")return new pp(lt,lt.geometry)}else if(lt.type==="Polygon"||lt.type==="MultiPolygon")return new pp(lt,lt)}return it.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(tt){if(tt.geometry()!=null&&tt.canonicalID()!=null){if(tt.geometryType()==="Point")return function(it,lt){const dt=[1/0,1/0,-1/0,-1/0],bt=[1/0,1/0,-1/0,-1/0],Et=it.canonicalID();if(!Et)return!1;if(lt.type==="Polygon"){const Ot=um(lt.coordinates,bt,Et),zt=Uu(it.geometry(),dt,bt,Et);if(!Ep(dt,bt))return!1;for(const Yt of zt)if(!vu(Yt,Ot))return!1}if(lt.type==="MultiPolygon"){const Ot=bu(lt.coordinates,bt,Et),zt=Uu(it.geometry(),dt,bt,Et);if(!Ep(dt,bt))return!1;for(const Yt of zt)if(!f_(Yt,Ot))return!1}return!0}(tt,this.geometries);if(tt.geometryType()==="LineString")return function(it,lt){const dt=[1/0,1/0,-1/0,-1/0],bt=[1/0,1/0,-1/0,-1/0],Et=it.canonicalID();if(!Et)return!1;if(lt.type==="Polygon"){const Ot=um(lt.coordinates,bt,Et),zt=m_(it.geometry(),dt,bt,Et);if(!Ep(dt,bt))return!1;for(const Yt of zt)if(!u0(Yt,Ot))return!1}if(lt.type==="MultiPolygon"){const Ot=bu(lt.coordinates,bt,Et),zt=m_(it.geometry(),dt,bt,Et);if(!Ep(dt,bt))return!1;for(const Yt of zt)if(!h0(Yt,Ot))return!1}return!0}(tt,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Rs=pp;function hm(rt){if(rt instanceof Yu&&(rt.name==="get"&&rt.args.length===1||rt.name==="feature-state"||rt.name==="has"&&rt.args.length===1||rt.name==="properties"||rt.name==="geometry-type"||rt.name==="id"||/^filter-/.test(rt.name))||rt instanceof Rs)return!1;let tt=!0;return rt.eachChild(it=>{tt&&!hm(it)&&(tt=!1)}),tt}function Km(rt){if(rt instanceof Yu&&rt.name==="feature-state")return!1;let tt=!0;return rt.eachChild(it=>{tt&&!Km(it)&&(tt=!1)}),tt}function _l(rt,tt){if(rt instanceof Yu&&tt.indexOf(rt.name)>=0)return!1;let it=!0;return rt.eachChild(lt=>{it&&!_l(lt,tt)&&(it=!1)}),it}class gp{constructor(tt,it){this.type=it.type,this.name=tt,this.boundExpression=it}static parse(tt,it){if(tt.length!==2||typeof tt[1]!="string")return it.error("'var' expression requires exactly one string literal argument.");const lt=tt[1];return it.scope.has(lt)?new gp(lt,it.scope.get(lt)):it.error(`Unknown variable "${lt}". Make sure "${lt}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(tt){return this.boundExpression.evaluate(tt)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var d0=gp;class f0{constructor(tt,it=[],lt,dt=new cm,bt=[]){this.registry=tt,this.path=it,this.key=it.map(Et=>`[${Et}]`).join(""),this.scope=dt,this.errors=bt,this.expectedType=lt}parse(tt,it,lt,dt,bt={}){return it?this.concat(it,lt,dt)._parse(tt,bt):this._parse(tt,bt)}_parse(tt,it){function lt(dt,bt,Et){return Et==="assert"?new Po(bt,[dt]):Et==="coerce"?new Co(bt,[dt]):dt}if(tt!==null&&typeof tt!="string"&&typeof tt!="boolean"&&typeof tt!="number"||(tt=["literal",tt]),Array.isArray(tt)){if(tt.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const dt=tt[0];if(typeof dt!="string")return this.error(`Expression name must be a string, but found ${typeof dt} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const bt=this.registry[dt];if(bt){let Et=bt.parse(tt,this);if(!Et)return null;if(this.expectedType){const Ot=this.expectedType,zt=Et.type;if(Ot.kind!=="string"&&Ot.kind!=="number"&&Ot.kind!=="boolean"&&Ot.kind!=="object"&&Ot.kind!=="array"||zt.kind!=="value")if(Ot.kind!=="color"&&Ot.kind!=="formatted"&&Ot.kind!=="resolvedImage"||zt.kind!=="value"&&zt.kind!=="string"){if(this.checkSubtype(Ot,zt))return null}else Et=lt(Et,Ot,it.typeAnnotation||"coerce");else Et=lt(Et,Ot,it.typeAnnotation||"assert")}if(!(Et instanceof lr)&&Et.type.kind!=="resolvedImage"&&p0(Et)){const Ot=new cu;try{Et=new lr(Et.type,Et.evaluate(Ot))}catch(zt){return this.error(zt.message),null}}return Et}return this.error(`Unknown expression "${dt}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(tt===void 0?"'undefined' value invalid. Use null instead.":typeof tt=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof tt} instead.`)}concat(tt,it,lt){const dt=typeof tt=="number"?this.path.concat(tt):this.path,bt=lt?this.scope.concat(lt):this.scope;return new f0(this.registry,dt,it||null,bt,this.errors)}error(tt,...it){const lt=`${this.key}${it.map(dt=>`[${dt}]`).join("")}`;this.errors.push(new xu(lt,tt))}checkSubtype(tt,it){const lt=zs(tt,it);return lt&&this.error(lt),lt}}var ky=f0;function p0(rt){if(rt instanceof d0)return p0(rt.boundExpression);if(rt instanceof Yu&&rt.name==="error"||rt instanceof a0||rt instanceof Rs)return!1;const tt=rt instanceof Co||rt instanceof Po;let it=!0;return rt.eachChild(lt=>{it=tt?it&&p0(lt):it&&lt instanceof lr}),!!it&&hm(rt)&&_l(rt,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function My(rt,tt){const it=rt.length-1;let lt,dt,bt=0,Et=it,Ot=0;for(;bt<=Et;)if(Ot=Math.floor((bt+Et)/2),lt=rt[Ot],dt=rt[Ot+1],lt<=tt){if(Ot===it||tt<dt)return Ot;bt=Ot+1}else{if(!(lt>tt))throw new Cr("Input is not a number.");Et=Ot-1}return 0}class dm{constructor(tt,it,lt){this.type=tt,this.input=it,this.labels=[],this.outputs=[];for(const[dt,bt]of lt)this.labels.push(dt),this.outputs.push(bt)}static parse(tt,it){if(tt.length-1<4)return it.error(`Expected at least 4 arguments, but found only ${tt.length-1}.`);if((tt.length-1)%2!=0)return it.error("Expected an even number of arguments.");const lt=it.parse(tt[1],1,Fo);if(!lt)return null;const dt=[];let bt=null;it.expectedType&&it.expectedType.kind!=="value"&&(bt=it.expectedType);for(let Et=1;Et<tt.length;Et+=2){const Ot=Et===1?-1/0:tt[Et],zt=tt[Et+1],Yt=Et,an=Et+1;if(typeof Ot!="number")return it.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Yt);if(dt.length&&dt[dt.length-1][0]>=Ot)return it.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Yt);const yn=it.parse(zt,an,bt);if(!yn)return null;bt=bt||yn.type,dt.push([Ot,yn])}return new dm(bt,lt,dt)}evaluate(tt){const it=this.labels,lt=this.outputs;if(it.length===1)return lt[0].evaluate(tt);const dt=this.input.evaluate(tt);if(dt<=it[0])return lt[0].evaluate(tt);const bt=it.length;return dt>=it[bt-1]?lt[bt-1].evaluate(tt):lt[My(it,dt)].evaluate(tt)}eachChild(tt){tt(this.input);for(const it of this.outputs)tt(it)}outputDefined(){return this.outputs.every(tt=>tt.outputDefined())}serialize(){const tt=["step",this.input.serialize()];for(let it=0;it<this.labels.length;it++)it>0&&tt.push(this.labels[it]),tt.push(this.outputs[it].serialize());return tt}}var Vm=dm;function xs(rt,tt,it){return rt*(1-it)+tt*it}var mp=Object.freeze({__proto__:null,number:xs,color:function(rt,tt,it){return new Zs(xs(rt.r,tt.r,it),xs(rt.g,tt.g,it),xs(rt.b,tt.b,it),xs(rt.a,tt.a,it))},array:function(rt,tt,it){return rt.map((lt,dt)=>xs(lt,tt[dt],it))}});const y_=.95047,__=1.08883,v_=4/29,ey=6/29,g0=3*ey*ey,b_=Math.PI/180,fv=180/Math.PI;function Ny(rt){return rt>.008856451679035631?Math.pow(rt,1/3):rt/g0+v_}function ty(rt){return rt>ey?rt*rt*rt:g0*(rt-v_)}function U_(rt){return 255*(rt<=.0031308?12.92*rt:1.055*Math.pow(rt,1/2.4)-.055)}function Vy(rt){return(rt/=255)<=.04045?rt/12.92:Math.pow((rt+.055)/1.055,2.4)}function Fu(rt){const tt=Vy(rt.r),it=Vy(rt.g),lt=Vy(rt.b),dt=Ny((.4124564*tt+.3575761*it+.1804375*lt)/y_),bt=Ny((.2126729*tt+.7151522*it+.072175*lt)/1);return{l:116*bt-16,a:500*(dt-bt),b:200*(bt-Ny((.0193339*tt+.119192*it+.9503041*lt)/__)),alpha:rt.a}}function m0(rt){let tt=(rt.l+16)/116,it=isNaN(rt.a)?tt:tt+rt.a/500,lt=isNaN(rt.b)?tt:tt-rt.b/200;return tt=1*ty(tt),it=y_*ty(it),lt=__*ty(lt),new Zs(U_(3.2404542*it-1.5371385*tt-.4985314*lt),U_(-.969266*it+1.8760108*tt+.041556*lt),U_(.0556434*it-.2040259*tt+1.0572252*lt),rt.alpha)}function Dy(rt,tt,it){const lt=tt-rt;return rt+it*(lt>180||lt<-180?lt-360*Math.round(lt/360):lt)}const ny={forward:Fu,reverse:m0,interpolate:function(rt,tt,it){return{l:xs(rt.l,tt.l,it),a:xs(rt.a,tt.a,it),b:xs(rt.b,tt.b,it),alpha:xs(rt.alpha,tt.alpha,it)}}},ry={forward:function(rt){const{l:tt,a:it,b:lt}=Fu(rt),dt=Math.atan2(lt,it)*fv;return{h:dt<0?dt+360:dt,c:Math.sqrt(it*it+lt*lt),l:tt,alpha:rt.a}},reverse:function(rt){const tt=rt.h*b_,it=rt.c;return m0({l:rt.l,a:Math.cos(tt)*it,b:Math.sin(tt)*it,alpha:rt.alpha})},interpolate:function(rt,tt,it){return{h:Dy(rt.h,tt.h,it),c:xs(rt.c,tt.c,it),l:xs(rt.l,tt.l,it),alpha:xs(rt.alpha,tt.alpha,it)}}};var pv=Object.freeze({__proto__:null,lab:ny,hcl:ry});class y0{constructor(tt,it,lt,dt,bt){this.type=tt,this.operator=it,this.interpolation=lt,this.input=dt,this.labels=[],this.outputs=[];for(const[Et,Ot]of bt)this.labels.push(Et),this.outputs.push(Ot)}static interpolationFactor(tt,it,lt,dt){let bt=0;if(tt.name==="exponential")bt=_0(it,tt.base,lt,dt);else if(tt.name==="linear")bt=_0(it,1,lt,dt);else if(tt.name==="cubic-bezier"){const Et=tt.controlPoints;bt=new xt(Et[0],Et[1],Et[2],Et[3]).solve(_0(it,1,lt,dt))}return bt}static parse(tt,it){let[lt,dt,bt,...Et]=tt;if(!Array.isArray(dt)||dt.length===0)return it.error("Expected an interpolation type expression.",1);if(dt[0]==="linear")dt={name:"linear"};else if(dt[0]==="exponential"){const Yt=dt[1];if(typeof Yt!="number")return it.error("Exponential interpolation requires a numeric base.",1,1);dt={name:"exponential",base:Yt}}else{if(dt[0]!=="cubic-bezier")return it.error(`Unknown interpolation type ${String(dt[0])}`,1,0);{const Yt=dt.slice(1);if(Yt.length!==4||Yt.some(an=>typeof an!="number"||an<0||an>1))return it.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);dt={name:"cubic-bezier",controlPoints:Yt}}}if(tt.length-1<4)return it.error(`Expected at least 4 arguments, but found only ${tt.length-1}.`);if((tt.length-1)%2!=0)return it.error("Expected an even number of arguments.");if(bt=it.parse(bt,2,Fo),!bt)return null;const Ot=[];let zt=null;lt==="interpolate-hcl"||lt==="interpolate-lab"?zt=Au:it.expectedType&&it.expectedType.kind!=="value"&&(zt=it.expectedType);for(let Yt=0;Yt<Et.length;Yt+=2){const an=Et[Yt],yn=Et[Yt+1],vn=Yt+3,An=Yt+4;if(typeof an!="number")return it.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',vn);if(Ot.length&&Ot[Ot.length-1][0]>=an)return it.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',vn);const kn=it.parse(yn,An,zt);if(!kn)return null;zt=zt||kn.type,Ot.push([an,kn])}return zt.kind==="number"||zt.kind==="color"||zt.kind==="array"&&zt.itemType.kind==="number"&&typeof zt.N=="number"?new y0(zt,lt,dt,bt,Ot):it.error(`Type ${_s(zt)} is not interpolatable.`)}evaluate(tt){const it=this.labels,lt=this.outputs;if(it.length===1)return lt[0].evaluate(tt);const dt=this.input.evaluate(tt);if(dt<=it[0])return lt[0].evaluate(tt);const bt=it.length;if(dt>=it[bt-1])return lt[bt-1].evaluate(tt);const Et=My(it,dt),Ot=y0.interpolationFactor(this.interpolation,dt,it[Et],it[Et+1]),zt=lt[Et].evaluate(tt),Yt=lt[Et+1].evaluate(tt);return this.operator==="interpolate"?mp[this.type.kind.toLowerCase()](zt,Yt,Ot):this.operator==="interpolate-hcl"?ry.reverse(ry.interpolate(ry.forward(zt),ry.forward(Yt),Ot)):ny.reverse(ny.interpolate(ny.forward(zt),ny.forward(Yt),Ot))}eachChild(tt){tt(this.input);for(const it of this.outputs)tt(it)}outputDefined(){return this.outputs.every(tt=>tt.outputDefined())}serialize(){let tt;tt=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const it=[this.operator,tt,this.input.serialize()];for(let lt=0;lt<this.labels.length;lt++)it.push(this.labels[lt],this.outputs[lt].serialize());return it}}function _0(rt,tt,it,lt){const dt=lt-it,bt=rt-it;return dt===0?0:tt===1?bt/dt:(Math.pow(tt,bt)-1)/(Math.pow(tt,dt)-1)}var Bp=y0;class F_{constructor(tt,it){this.type=tt,this.args=it}static parse(tt,it){if(tt.length<2)return it.error("Expectected at least one argument.");let lt=null;const dt=it.expectedType;dt&&dt.kind!=="value"&&(lt=dt);const bt=[];for(const Ot of tt.slice(1)){const zt=it.parse(Ot,1+bt.length,lt,void 0,{typeAnnotation:"omit"});if(!zt)return null;lt=lt||zt.type,bt.push(zt)}const Et=dt&&bt.some(Ot=>zs(dt,Ot.type));return new F_(Et?ss:lt,bt)}evaluate(tt){let it,lt=null,dt=0;for(const bt of this.args){if(dt++,lt=bt.evaluate(tt),lt&&lt instanceof dn&&!lt.available&&(it||(it=lt),lt=null,dt===this.args.length))return it;if(lt!==null)break}return lt}eachChild(tt){this.args.forEach(tt)}outputDefined(){return this.args.every(tt=>tt.outputDefined())}serialize(){const tt=["coalesce"];return this.eachChild(it=>{tt.push(it.serialize())}),tt}}var Dm=F_;class S_{constructor(tt,it){this.type=it.type,this.bindings=[].concat(tt),this.result=it}evaluate(tt){return this.result.evaluate(tt)}eachChild(tt){for(const it of this.bindings)tt(it[1]);tt(this.result)}static parse(tt,it){if(tt.length<4)return it.error(`Expected at least 3 arguments, but found ${tt.length-1} instead.`);const lt=[];for(let bt=1;bt<tt.length-1;bt+=2){const Et=tt[bt];if(typeof Et!="string")return it.error(`Expected string, but found ${typeof Et} instead.`,bt);if(/[^a-zA-Z0-9_]/.test(Et))return it.error("Variable names must contain only alphanumeric characters or '_'.",bt);const Ot=it.parse(tt[bt+1],bt+1);if(!Ot)return null;lt.push([Et,Ot])}const dt=it.parse(tt[tt.length-1],tt.length-1,it.expectedType,lt);return dt?new S_(lt,dt):null}outputDefined(){return this.result.outputDefined()}serialize(){const tt=["let"];for(const[it,lt]of this.bindings)tt.push(it,lt.serialize());return tt.push(this.result.serialize()),tt}}var R_=S_;class iy{constructor(tt,it,lt){this.type=tt,this.index=it,this.input=lt}static parse(tt,it){if(tt.length!==3)return it.error(`Expected 2 arguments, but found ${tt.length-1} instead.`);const lt=it.parse(tt[1],1,Fo),dt=it.parse(tt[2],2,Pl(it.expectedType||ss));return lt&&dt?new iy(dt.type.itemType,lt,dt):null}evaluate(tt){const it=this.index.evaluate(tt),lt=this.input.evaluate(tt);if(it<0)throw new Cr(`Array index out of bounds: ${it} < 0.`);if(it>=lt.length)throw new Cr(`Array index out of bounds: ${it} > ${lt.length-1}.`);if(it!==Math.floor(it))throw new Cr(`Array index must be an integer, but found ${it} instead.`);return lt[it]}eachChild(tt){tt(this.index),tt(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var w_=iy;class Tp{constructor(tt,it){this.type=fs,this.needle=tt,this.haystack=it}static parse(tt,it){if(tt.length!==3)return it.error(`Expected 2 arguments, but found ${tt.length-1} instead.`);const lt=it.parse(tt[1],1,ss),dt=it.parse(tt[2],2,ss);return lt&&dt?Hu(lt.type,[fs,us,Fo,cp,ss])?new Tp(lt,dt):it.error(`Expected first argument to be of type boolean, string, number or null, but found ${_s(lt.type)} instead`):null}evaluate(tt){const it=this.needle.evaluate(tt),lt=this.haystack.evaluate(tt);if(lt==null)return!1;if(!xa(it,["boolean","string","number","null"]))throw new Cr(`Expected first argument to be of type boolean, string, number or null, but found ${_s(qn(it))} instead.`);if(!xa(lt,["string","array"]))throw new Cr(`Expected second argument to be of type array or string, but found ${_s(qn(lt))} instead.`);return lt.indexOf(it)>=0}eachChild(tt){tt(this.needle),tt(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var v0=Tp;class Oy{constructor(tt,it,lt){this.type=Fo,this.needle=tt,this.haystack=it,this.fromIndex=lt}static parse(tt,it){if(tt.length<=2||tt.length>=5)return it.error(`Expected 3 or 4 arguments, but found ${tt.length-1} instead.`);const lt=it.parse(tt[1],1,ss),dt=it.parse(tt[2],2,ss);if(!lt||!dt)return null;if(!Hu(lt.type,[fs,us,Fo,cp,ss]))return it.error(`Expected first argument to be of type boolean, string, number or null, but found ${_s(lt.type)} instead`);if(tt.length===4){const bt=it.parse(tt[3],3,Fo);return bt?new Oy(lt,dt,bt):null}return new Oy(lt,dt)}evaluate(tt){const it=this.needle.evaluate(tt),lt=this.haystack.evaluate(tt);if(!xa(it,["boolean","string","number","null"]))throw new Cr(`Expected first argument to be of type boolean, string, number or null, but found ${_s(qn(it))} instead.`);if(!xa(lt,["string","array"]))throw new Cr(`Expected second argument to be of type array or string, but found ${_s(qn(lt))} instead.`);if(this.fromIndex){const dt=this.fromIndex.evaluate(tt);return lt.indexOf(it,dt)}return lt.indexOf(it)}eachChild(tt){tt(this.needle),tt(this.haystack),this.fromIndex&&tt(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const tt=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),tt]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var gv=Oy;class b0{constructor(tt,it,lt,dt,bt,Et){this.inputType=tt,this.type=it,this.input=lt,this.cases=dt,this.outputs=bt,this.otherwise=Et}static parse(tt,it){if(tt.length<5)return it.error(`Expected at least 4 arguments, but found only ${tt.length-1}.`);if(tt.length%2!=1)return it.error("Expected an even number of arguments.");let lt,dt;it.expectedType&&it.expectedType.kind!=="value"&&(dt=it.expectedType);const bt={},Et=[];for(let Yt=2;Yt<tt.length-1;Yt+=2){let an=tt[Yt];const yn=tt[Yt+1];Array.isArray(an)||(an=[an]);const vn=it.concat(Yt);if(an.length===0)return vn.error("Expected at least one branch label.");for(const kn of an){if(typeof kn!="number"&&typeof kn!="string")return vn.error("Branch labels must be numbers or strings.");if(typeof kn=="number"&&Math.abs(kn)>Number.MAX_SAFE_INTEGER)return vn.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof kn=="number"&&Math.floor(kn)!==kn)return vn.error("Numeric branch labels must be integer values.");if(lt){if(vn.checkSubtype(lt,qn(kn)))return null}else lt=qn(kn);if(bt[String(kn)]!==void 0)return vn.error("Branch labels must be unique.");bt[String(kn)]=Et.length}const An=it.parse(yn,Yt,dt);if(!An)return null;dt=dt||An.type,Et.push(An)}const Ot=it.parse(tt[1],1,ss);if(!Ot)return null;const zt=it.parse(tt[tt.length-1],tt.length-1,dt);return zt?Ot.type.kind!=="value"&&it.concat(1).checkSubtype(lt,Ot.type)?null:new b0(lt,dt,Ot,bt,Et,zt):null}evaluate(tt){const it=this.input.evaluate(tt);return(qn(it)===this.inputType&&this.outputs[this.cases[it]]||this.otherwise).evaluate(tt)}eachChild(tt){tt(this.input),this.outputs.forEach(tt),tt(this.otherwise)}outputDefined(){return this.outputs.every(tt=>tt.outputDefined())&&this.otherwise.outputDefined()}serialize(){const tt=["match",this.input.serialize()],it=Object.keys(this.cases).sort(),lt=[],dt={};for(const Et of it){const Ot=dt[this.cases[Et]];Ot===void 0?(dt[this.cases[Et]]=lt.length,lt.push([this.cases[Et],[Et]])):lt[Ot][1].push(Et)}const bt=Et=>this.inputType.kind==="number"?Number(Et):Et;for(const[Et,Ot]of lt)tt.push(Ot.length===1?bt(Ot[0]):Ot.map(bt)),tt.push(this.outputs[Et].serialize());return tt.push(this.otherwise.serialize()),tt}}var oy=b0;class Ou{constructor(tt,it,lt){this.type=tt,this.branches=it,this.otherwise=lt}static parse(tt,it){if(tt.length<4)return it.error(`Expected at least 3 arguments, but found only ${tt.length-1}.`);if(tt.length%2!=0)return it.error("Expected an odd number of arguments.");let lt;it.expectedType&&it.expectedType.kind!=="value"&&(lt=it.expectedType);const dt=[];for(let Et=1;Et<tt.length-1;Et+=2){const Ot=it.parse(tt[Et],Et,fs);if(!Ot)return null;const zt=it.parse(tt[Et+1],Et+1,lt);if(!zt)return null;dt.push([Ot,zt]),lt=lt||zt.type}const bt=it.parse(tt[tt.length-1],tt.length-1,lt);return bt?new Ou(lt,dt,bt):null}evaluate(tt){for(const[it,lt]of this.branches)if(it.evaluate(tt))return lt.evaluate(tt);return this.otherwise.evaluate(tt)}eachChild(tt){for(const[it,lt]of this.branches)tt(it),tt(lt);tt(this.otherwise)}outputDefined(){return this.branches.every(([tt,it])=>it.outputDefined())&&this.otherwise.outputDefined()}serialize(){const tt=["case"];return this.eachChild(it=>{tt.push(it.serialize())}),tt}}var mv=Ou;class U0{constructor(tt,it,lt,dt){this.type=tt,this.input=it,this.beginIndex=lt,this.endIndex=dt}static parse(tt,it){if(tt.length<=2||tt.length>=5)return it.error(`Expected 3 or 4 arguments, but found ${tt.length-1} instead.`);const lt=it.parse(tt[1],1,ss),dt=it.parse(tt[2],2,Fo);if(!lt||!dt)return null;if(!Hu(lt.type,[Pl(ss),us,ss]))return it.error(`Expected first argument to be of type array or string, but found ${_s(lt.type)} instead`);if(tt.length===4){const bt=it.parse(tt[3],3,Fo);return bt?new U0(lt.type,lt,dt,bt):null}return new U0(lt.type,lt,dt)}evaluate(tt){const it=this.input.evaluate(tt),lt=this.beginIndex.evaluate(tt);if(!xa(it,["string","array"]))throw new Cr(`Expected first argument to be of type array or string, but found ${_s(qn(it))} instead.`);if(this.endIndex){const dt=this.endIndex.evaluate(tt);return it.slice(lt,dt)}return it.slice(lt)}eachChild(tt){tt(this.input),tt(this.beginIndex),this.endIndex&&tt(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const tt=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),tt]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var F0=U0;function E_(rt,tt){return rt==="=="||rt==="!="?tt.kind==="boolean"||tt.kind==="string"||tt.kind==="number"||tt.kind==="null"||tt.kind==="value":tt.kind==="string"||tt.kind==="number"||tt.kind==="value"}function B_(rt,tt,it,lt){return lt.compare(tt,it)===0}function sy(rt,tt,it){const lt=rt!=="=="&&rt!=="!=";return class _w{constructor(bt,Et,Ot){this.type=fs,this.lhs=bt,this.rhs=Et,this.collator=Ot,this.hasUntypedArgument=bt.type.kind==="value"||Et.type.kind==="value"}static parse(bt,Et){if(bt.length!==3&&bt.length!==4)return Et.error("Expected two or three arguments.");const Ot=bt[0];let zt=Et.parse(bt[1],1,ss);if(!zt)return null;if(!E_(Ot,zt.type))return Et.concat(1).error(`"${Ot}" comparisons are not supported for type '${_s(zt.type)}'.`);let Yt=Et.parse(bt[2],2,ss);if(!Yt)return null;if(!E_(Ot,Yt.type))return Et.concat(2).error(`"${Ot}" comparisons are not supported for type '${_s(Yt.type)}'.`);if(zt.type.kind!==Yt.type.kind&&zt.type.kind!=="value"&&Yt.type.kind!=="value")return Et.error(`Cannot compare types '${_s(zt.type)}' and '${_s(Yt.type)}'.`);lt&&(zt.type.kind==="value"&&Yt.type.kind!=="value"?zt=new Po(Yt.type,[zt]):zt.type.kind!=="value"&&Yt.type.kind==="value"&&(Yt=new Po(zt.type,[Yt])));let an=null;if(bt.length===4){if(zt.type.kind!=="string"&&Yt.type.kind!=="string"&&zt.type.kind!=="value"&&Yt.type.kind!=="value")return Et.error("Cannot use collator to compare non-string types.");if(an=Et.parse(bt[3],3,Zu),!an)return null}return new _w(zt,Yt,an)}evaluate(bt){const Et=this.lhs.evaluate(bt),Ot=this.rhs.evaluate(bt);if(lt&&this.hasUntypedArgument){const zt=qn(Et),Yt=qn(Ot);if(zt.kind!==Yt.kind||zt.kind!=="string"&&zt.kind!=="number")throw new Cr(`Expected arguments for "${rt}" to be (string, string) or (number, number), but found (${zt.kind}, ${Yt.kind}) instead.`)}if(this.collator&&!lt&&this.hasUntypedArgument){const zt=qn(Et),Yt=qn(Ot);if(zt.kind!=="string"||Yt.kind!=="string")return tt(bt,Et,Ot)}return this.collator?it(bt,Et,Ot,this.collator.evaluate(bt)):tt(bt,Et,Ot)}eachChild(bt){bt(this.lhs),bt(this.rhs),this.collator&&bt(this.collator)}outputDefined(){return!0}serialize(){const bt=[rt];return this.eachChild(Et=>{bt.push(Et.serialize())}),bt}}}const ay=sy("==",function(rt,tt,it){return tt===it},B_),kr=sy("!=",function(rt,tt,it){return tt!==it},function(rt,tt,it,lt){return!B_(0,tt,it,lt)}),oo=sy("<",function(rt,tt,it){return tt<it},function(rt,tt,it,lt){return lt.compare(tt,it)<0}),$r=sy(">",function(rt,tt,it){return tt>it},function(rt,tt,it,lt){return lt.compare(tt,it)>0}),Jo=sy("<=",function(rt,tt,it){return tt<=it},function(rt,tt,it,lt){return lt.compare(tt,it)<=0}),ys=sy(">=",function(rt,tt,it){return tt>=it},function(rt,tt,it,lt){return lt.compare(tt,it)>=0});class Js{constructor(tt,it,lt,dt,bt,Et){this.type=us,this.number=tt,this.locale=it,this.currency=lt,this.unit=dt,this.minFractionDigits=bt,this.maxFractionDigits=Et}static parse(tt,it){if(tt.length!==3)return it.error("Expected two arguments.");const lt=it.parse(tt[1],1,Fo);if(!lt)return null;const dt=tt[2];if(typeof dt!="object"||Array.isArray(dt))return it.error("NumberFormat options argument must be an object.");let bt=null;if(dt.locale&&(bt=it.parse(dt.locale,1,us),!bt))return null;let Et=null;if(dt.currency&&(Et=it.parse(dt.currency,1,us),!Et))return null;let Ot=null;if(dt.unit&&(Ot=it.parse(dt.unit,1,us),!Ot))return null;let zt=null;if(dt["min-fraction-digits"]&&(zt=it.parse(dt["min-fraction-digits"],1,Fo),!zt))return null;let Yt=null;return dt["max-fraction-digits"]&&(Yt=it.parse(dt["max-fraction-digits"],1,Fo),!Yt)?null:new Js(lt,bt,Et,Ot,zt,Yt)}evaluate(tt){return new Intl.NumberFormat(this.locale?this.locale.evaluate(tt):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(tt):void 0,unit:this.unit?this.unit.evaluate(tt):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(tt):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(tt):void 0}).format(this.number.evaluate(tt))}eachChild(tt){tt(this.number),this.locale&&tt(this.locale),this.currency&&tt(this.currency),this.unit&&tt(this.unit),this.minFractionDigits&&tt(this.minFractionDigits),this.maxFractionDigits&&tt(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const tt={};return this.locale&&(tt.locale=this.locale.serialize()),this.currency&&(tt.currency=this.currency.serialize()),this.unit&&(tt.unit=this.unit.serialize()),this.minFractionDigits&&(tt["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(tt["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),tt]}}class Vl{constructor(tt){this.type=Fo,this.input=tt}static parse(tt,it){if(tt.length!==2)return it.error(`Expected 1 argument, but found ${tt.length-1} instead.`);const lt=it.parse(tt[1],1);return lt?lt.type.kind!=="array"&&lt.type.kind!=="string"&&lt.type.kind!=="value"?it.error(`Expected argument of type string or array, but found ${_s(lt.type)} instead.`):new Vl(lt):null}evaluate(tt){const it=this.input.evaluate(tt);if(typeof it=="string"||Array.isArray(it))return it.length;throw new Cr(`Expected value to be of type string or array, but found ${_s(qn(it))} instead.`)}eachChild(tt){tt(this.input)}outputDefined(){return!1}serialize(){const tt=["length"];return this.eachChild(it=>{tt.push(it.serialize())}),tt}}const $a={"==":ay,"!=":kr,">":$r,"<":oo,">=":ys,"<=":Jo,array:Po,at:w_,boolean:Po,case:mv,coalesce:Dm,collator:a0,format:Uo,image:Mo,in:v0,"index-of":gv,interpolate:Bp,"interpolate-hcl":Bp,"interpolate-lab":Bp,length:Vl,let:R_,literal:lr,match:oy,number:Po,"number-format":Js,object:Po,slice:F0,step:Vm,string:Po,"to-boolean":Co,"to-color":Co,"to-number":Co,"to-string":Co,var:d0,within:Rs};function S0(rt,[tt,it,lt,dt]){tt=tt.evaluate(rt),it=it.evaluate(rt),lt=lt.evaluate(rt);const bt=dt?dt.evaluate(rt):1,Et=Qn(tt,it,lt,bt);if(Et)throw new Cr(Et);return new Zs(tt/255*bt,it/255*bt,lt/255*bt,bt)}function yv(rt,tt){return rt in tt}function Cu(rt,tt){const it=tt[rt];return it===void 0?null:it}function Qp(rt){return{type:rt}}Yu.register($a,{error:[{kind:"error"},[us],(rt,[tt])=>{throw new Cr(tt.evaluate(rt))}],typeof:[us,[ss],(rt,[tt])=>_s(qn(tt.evaluate(rt)))],"to-rgba":[Pl(Fo,4),[Au],(rt,[tt])=>tt.evaluate(rt).toArray()],rgb:[Au,[Fo,Fo,Fo],S0],rgba:[Au,[Fo,Fo,Fo,Fo],S0],has:{type:fs,overloads:[[[us],(rt,[tt])=>yv(tt.evaluate(rt),rt.properties())],[[us,up],(rt,[tt,it])=>yv(tt.evaluate(rt),it.evaluate(rt))]]},get:{type:ss,overloads:[[[us],(rt,[tt])=>Cu(tt.evaluate(rt),rt.properties())],[[us,up],(rt,[tt,it])=>Cu(tt.evaluate(rt),it.evaluate(rt))]]},"feature-state":[ss,[us],(rt,[tt])=>Cu(tt.evaluate(rt),rt.featureState||{})],properties:[up,[],rt=>rt.properties()],"geometry-type":[us,[],rt=>rt.geometryType()],id:[ss,[],rt=>rt.id()],zoom:[Fo,[],rt=>rt.globals.zoom],pitch:[Fo,[],rt=>rt.globals.pitch||0],"distance-from-center":[Fo,[],rt=>rt.distanceFromCenter()],"heatmap-density":[Fo,[],rt=>rt.globals.heatmapDensity||0],"line-progress":[Fo,[],rt=>rt.globals.lineProgress||0],"sky-radial-progress":[Fo,[],rt=>rt.globals.skyRadialProgress||0],accumulated:[ss,[],rt=>rt.globals.accumulated===void 0?null:rt.globals.accumulated],"+":[Fo,Qp(Fo),(rt,tt)=>{let it=0;for(const lt of tt)it+=lt.evaluate(rt);return it}],"*":[Fo,Qp(Fo),(rt,tt)=>{let it=1;for(const lt of tt)it*=lt.evaluate(rt);return it}],"-":{type:Fo,overloads:[[[Fo,Fo],(rt,[tt,it])=>tt.evaluate(rt)-it.evaluate(rt)],[[Fo],(rt,[tt])=>-tt.evaluate(rt)]]},"/":[Fo,[Fo,Fo],(rt,[tt,it])=>tt.evaluate(rt)/it.evaluate(rt)],"%":[Fo,[Fo,Fo],(rt,[tt,it])=>tt.evaluate(rt)%it.evaluate(rt)],ln2:[Fo,[],()=>Math.LN2],pi:[Fo,[],()=>Math.PI],e:[Fo,[],()=>Math.E],"^":[Fo,[Fo,Fo],(rt,[tt,it])=>Math.pow(tt.evaluate(rt),it.evaluate(rt))],sqrt:[Fo,[Fo],(rt,[tt])=>Math.sqrt(tt.evaluate(rt))],log10:[Fo,[Fo],(rt,[tt])=>Math.log(tt.evaluate(rt))/Math.LN10],ln:[Fo,[Fo],(rt,[tt])=>Math.log(tt.evaluate(rt))],log2:[Fo,[Fo],(rt,[tt])=>Math.log(tt.evaluate(rt))/Math.LN2],sin:[Fo,[Fo],(rt,[tt])=>Math.sin(tt.evaluate(rt))],cos:[Fo,[Fo],(rt,[tt])=>Math.cos(tt.evaluate(rt))],tan:[Fo,[Fo],(rt,[tt])=>Math.tan(tt.evaluate(rt))],asin:[Fo,[Fo],(rt,[tt])=>Math.asin(tt.evaluate(rt))],acos:[Fo,[Fo],(rt,[tt])=>Math.acos(tt.evaluate(rt))],atan:[Fo,[Fo],(rt,[tt])=>Math.atan(tt.evaluate(rt))],min:[Fo,Qp(Fo),(rt,tt)=>Math.min(...tt.map(it=>it.evaluate(rt)))],max:[Fo,Qp(Fo),(rt,tt)=>Math.max(...tt.map(it=>it.evaluate(rt)))],abs:[Fo,[Fo],(rt,[tt])=>Math.abs(tt.evaluate(rt))],round:[Fo,[Fo],(rt,[tt])=>{const it=tt.evaluate(rt);return it<0?-Math.round(-it):Math.round(it)}],floor:[Fo,[Fo],(rt,[tt])=>Math.floor(tt.evaluate(rt))],ceil:[Fo,[Fo],(rt,[tt])=>Math.ceil(tt.evaluate(rt))],"filter-==":[fs,[us,ss],(rt,[tt,it])=>rt.properties()[tt.value]===it.value],"filter-id-==":[fs,[ss],(rt,[tt])=>rt.id()===tt.value],"filter-type-==":[fs,[us],(rt,[tt])=>rt.geometryType()===tt.value],"filter-<":[fs,[us,ss],(rt,[tt,it])=>{const lt=rt.properties()[tt.value],dt=it.value;return typeof lt==typeof dt&&lt<dt}],"filter-id-<":[fs,[ss],(rt,[tt])=>{const it=rt.id(),lt=tt.value;return typeof it==typeof lt&&it<lt}],"filter->":[fs,[us,ss],(rt,[tt,it])=>{const lt=rt.properties()[tt.value],dt=it.value;return typeof lt==typeof dt&&lt>dt}],"filter-id->":[fs,[ss],(rt,[tt])=>{const it=rt.id(),lt=tt.value;return typeof it==typeof lt&&it>lt}],"filter-<=":[fs,[us,ss],(rt,[tt,it])=>{const lt=rt.properties()[tt.value],dt=it.value;return typeof lt==typeof dt&&lt<=dt}],"filter-id-<=":[fs,[ss],(rt,[tt])=>{const it=rt.id(),lt=tt.value;return typeof it==typeof lt&&it<=lt}],"filter->=":[fs,[us,ss],(rt,[tt,it])=>{const lt=rt.properties()[tt.value],dt=it.value;return typeof lt==typeof dt&&lt>=dt}],"filter-id->=":[fs,[ss],(rt,[tt])=>{const it=rt.id(),lt=tt.value;return typeof it==typeof lt&&it>=lt}],"filter-has":[fs,[ss],(rt,[tt])=>tt.value in rt.properties()],"filter-has-id":[fs,[],rt=>rt.id()!==null&&rt.id()!==void 0],"filter-type-in":[fs,[Pl(us)],(rt,[tt])=>tt.value.indexOf(rt.geometryType())>=0],"filter-id-in":[fs,[Pl(ss)],(rt,[tt])=>tt.value.indexOf(rt.id())>=0],"filter-in-small":[fs,[us,Pl(ss)],(rt,[tt,it])=>it.value.indexOf(rt.properties()[tt.value])>=0],"filter-in-large":[fs,[us,Pl(ss)],(rt,[tt,it])=>function(lt,dt,bt,Et){for(;bt<=Et;){const Ot=bt+Et>>1;if(dt[Ot]===lt)return!0;dt[Ot]>lt?Et=Ot-1:bt=Ot+1}return!1}(rt.properties()[tt.value],it.value,0,it.value.length-1)],all:{type:fs,overloads:[[[fs,fs],(rt,[tt,it])=>tt.evaluate(rt)&&it.evaluate(rt)],[Qp(fs),(rt,tt)=>{for(const it of tt)if(!it.evaluate(rt))return!1;return!0}]]},any:{type:fs,overloads:[[[fs,fs],(rt,[tt,it])=>tt.evaluate(rt)||it.evaluate(rt)],[Qp(fs),(rt,tt)=>{for(const it of tt)if(it.evaluate(rt))return!0;return!1}]]},"!":[fs,[fs],(rt,[tt])=>!tt.evaluate(rt)],"is-supported-script":[fs,[us],(rt,[tt])=>{const it=rt.globals&&rt.globals.isSupportedScript;return!it||it(tt.evaluate(rt))}],upcase:[us,[us],(rt,[tt])=>tt.evaluate(rt).toUpperCase()],downcase:[us,[us],(rt,[tt])=>tt.evaluate(rt).toLowerCase()],concat:[us,Qp(ss),(rt,tt)=>tt.map(it=>pr(it.evaluate(rt))).join("")],"resolved-locale":[us,[Zu],(rt,[tt])=>tt.evaluate(rt).resolvedLocale()]});var ly=$a;function fm(rt){return{result:"success",value:rt}}function Xu(rt){return{result:"error",value:rt}}function Gp(rt){return rt["property-type"]==="data-driven"||rt["property-type"]==="cross-faded-data-driven"}function Ys(rt){return!!rt.expression&&rt.expression.parameters.indexOf("zoom")>-1}function xp(rt){return!!rt.expression&&rt.expression.interpolated}function Ns(rt){return rt instanceof Number?"number":rt instanceof String?"string":rt instanceof Boolean?"boolean":Array.isArray(rt)?"array":rt===null?"null":typeof rt}function qu(rt){return typeof rt=="object"&&rt!==null&&!Array.isArray(rt)}function AU(rt){return rt}function _v(rt,tt){const it=tt.type==="color",lt=rt.stops&&typeof rt.stops[0][0]=="object",dt=lt||!(lt||rt.property!==void 0),bt=rt.type||(xp(tt)?"exponential":"interval");if(it&&((rt=Fl({},rt)).stops&&(rt.stops=rt.stops.map(Yt=>[Yt[0],Zs.parse(Yt[1])])),rt.default=Zs.parse(rt.default?rt.default:tt.default)),rt.colorSpace&&rt.colorSpace!=="rgb"&&!pv[rt.colorSpace])throw new Error(`Unknown color space: ${rt.colorSpace}`);let Et,Ot,zt;if(bt==="exponential")Et=uy;else if(bt==="interval")Et=Ap;else if(bt==="categorical"){Et=R0,Ot=Object.create(null);for(const Yt of rt.stops)Ot[Yt[0]]=Yt[1];zt=typeof rt.stops[0][0]}else{if(bt!=="identity")throw new Error(`Unknown function type "${bt}"`);Et=w0}if(lt){const Yt={},an=[];for(let An=0;An<rt.stops.length;An++){const kn=rt.stops[An],Pn=kn[0].zoom;Yt[Pn]===void 0&&(Yt[Pn]={zoom:Pn,type:rt.type,property:rt.property,default:rt.default,stops:[]},an.push(Pn)),Yt[Pn].stops.push([kn[0].value,kn[1]])}const yn=[];for(const An of an)yn.push([Yt[An].zoom,_v(Yt[An],tt)]);const vn={name:"linear"};return{kind:"composite",interpolationType:vn,interpolationFactor:Bp.interpolationFactor.bind(void 0,vn),zoomStops:yn.map(An=>An[0]),evaluate:({zoom:An},kn)=>uy({stops:yn,base:rt.base},tt,An).evaluate(An,kn)}}if(dt){const Yt=bt==="exponential"?{name:"exponential",base:rt.base!==void 0?rt.base:1}:null;return{kind:"camera",interpolationType:Yt,interpolationFactor:Bp.interpolationFactor.bind(void 0,Yt),zoomStops:rt.stops.map(an=>an[0]),evaluate:({zoom:an})=>Et(rt,tt,an,Ot,zt)}}return{kind:"source",evaluate(Yt,an){const yn=an&&an.properties?an.properties[rt.property]:void 0;return yn===void 0?cy(rt.default,tt.default):Et(rt,tt,yn,Ot,zt)}}}function cy(rt,tt,it){return rt!==void 0?rt:tt!==void 0?tt:it!==void 0?it:void 0}function R0(rt,tt,it,lt,dt){return cy(typeof it===dt?lt[it]:void 0,rt.default,tt.default)}function Ap(rt,tt,it){if(Ns(it)!=="number")return cy(rt.default,tt.default);const lt=rt.stops.length;if(lt===1||it<=rt.stops[0][0])return rt.stops[0][1];if(it>=rt.stops[lt-1][0])return rt.stops[lt-1][1];const dt=My(rt.stops.map(bt=>bt[0]),it);return rt.stops[dt][1]}function uy(rt,tt,it){const lt=rt.base!==void 0?rt.base:1;if(Ns(it)!=="number")return cy(rt.default,tt.default);const dt=rt.stops.length;if(dt===1||it<=rt.stops[0][0])return rt.stops[0][1];if(it>=rt.stops[dt-1][0])return rt.stops[dt-1][1];const bt=My(rt.stops.map(an=>an[0]),it),Et=function(an,yn,vn,An){const kn=An-vn,Pn=an-vn;return kn===0?0:yn===1?Pn/kn:(Math.pow(yn,Pn)-1)/(Math.pow(yn,kn)-1)}(it,lt,rt.stops[bt][0],rt.stops[bt+1][0]),Ot=rt.stops[bt][1],zt=rt.stops[bt+1][1];let Yt=mp[tt.type]||AU;if(rt.colorSpace&&rt.colorSpace!=="rgb"){const an=pv[rt.colorSpace];Yt=(yn,vn)=>an.reverse(an.interpolate(an.forward(yn),an.forward(vn),Et))}return typeof Ot.evaluate=="function"?{evaluate(...an){const yn=Ot.evaluate.apply(void 0,an),vn=zt.evaluate.apply(void 0,an);if(yn!==void 0&&vn!==void 0)return Yt(yn,vn,Et)}}:Yt(Ot,zt,Et)}function w0(rt,tt,it){return tt.type==="color"?it=Zs.parse(it):tt.type==="formatted"?it=Jt.fromString(it.toString()):tt.type==="resolvedImage"?it=dn.fromString(it.toString()):Ns(it)===tt.type||tt.type==="enum"&&tt.values[it]||(it=void 0),cy(it,rt.default,tt.default)}class pm{constructor(tt,it){this.expression=tt,this._warningHistory={},this._evaluator=new cu,this._defaultValue=it?function(lt){return lt.type==="color"&&(qu(lt.default)||Array.isArray(lt.default))?new Zs(0,0,0,0):lt.type==="color"?Zs.parse(lt.default)||null:lt.default===void 0?null:lt.default}(it):null,this._enumValues=it&&it.type==="enum"?it.values:null}evaluateWithoutErrorHandling(tt,it,lt,dt,bt,Et,Ot,zt){return this._evaluator.globals=tt,this._evaluator.feature=it,this._evaluator.featureState=lt,this._evaluator.canonical=dt||null,this._evaluator.availableImages=bt||null,this._evaluator.formattedSection=Et,this._evaluator.featureTileCoord=Ot||null,this._evaluator.featureDistanceData=zt||null,this.expression.evaluate(this._evaluator)}evaluate(tt,it,lt,dt,bt,Et,Ot,zt){this._evaluator.globals=tt,this._evaluator.feature=it||null,this._evaluator.featureState=lt||null,this._evaluator.canonical=dt||null,this._evaluator.availableImages=bt||null,this._evaluator.formattedSection=Et||null,this._evaluator.featureTileCoord=Ot||null,this._evaluator.featureDistanceData=zt||null;try{const Yt=this.expression.evaluate(this._evaluator);if(Yt==null||typeof Yt=="number"&&Yt!=Yt)return this._defaultValue;if(this._enumValues&&!(Yt in this._enumValues))throw new Cr(`Expected value to be one of ${Object.keys(this._enumValues).map(an=>JSON.stringify(an)).join(", ")}, but found ${JSON.stringify(Yt)} instead.`);return Yt}catch(Yt){return this._warningHistory[Yt.message]||(this._warningHistory[Yt.message]=!0,typeof console<"u"&&console.warn(Yt.message)),this._defaultValue}}}function hy(rt){return Array.isArray(rt)&&rt.length>0&&typeof rt[0]=="string"&&rt[0]in ly}function gm(rt,tt){const it=new ky(ly,[],tt?function(dt){const bt={color:Au,string:us,number:Fo,enum:us,boolean:fs,formatted:Gu,resolvedImage:_u};return dt.type==="array"?Pl(bt[dt.value]||ss,dt.length):bt[dt.type]}(tt):void 0),lt=it.parse(rt,void 0,void 0,void 0,tt&&tt.type==="string"?{typeAnnotation:"coerce"}:void 0);return lt?fm(new pm(lt,tt)):Xu(it.errors)}class Om{constructor(tt,it){this.kind=tt,this._styleExpression=it,this.isStateDependent=tt!=="constant"&&!Km(it.expression)}evaluateWithoutErrorHandling(tt,it,lt,dt,bt,Et){return this._styleExpression.evaluateWithoutErrorHandling(tt,it,lt,dt,bt,Et)}evaluate(tt,it,lt,dt,bt,Et){return this._styleExpression.evaluate(tt,it,lt,dt,bt,Et)}}class Iy{constructor(tt,it,lt,dt){this.kind=tt,this.zoomStops=lt,this._styleExpression=it,this.isStateDependent=tt!=="camera"&&!Km(it.expression),this.interpolationType=dt}evaluateWithoutErrorHandling(tt,it,lt,dt,bt,Et){return this._styleExpression.evaluateWithoutErrorHandling(tt,it,lt,dt,bt,Et)}evaluate(tt,it,lt,dt,bt,Et){return this._styleExpression.evaluate(tt,it,lt,dt,bt,Et)}interpolationFactor(tt,it,lt){return this.interpolationType?Bp.interpolationFactor(this.interpolationType,tt,it,lt):0}}function Hp(rt,tt){if((rt=gm(rt,tt)).result==="error")return rt;const it=rt.value.expression,lt=hm(it);if(!lt&&!Gp(tt))return Xu([new xu("","data expressions not supported")]);const dt=_l(it,["zoom","pitch","distance-from-center"]);if(!dt&&!Ys(tt))return Xu([new xu("","zoom expressions not supported")]);const bt=mm(it);return bt||dt?bt instanceof xu?Xu([bt]):bt instanceof Bp&&!xp(tt)?Xu([new xu("",'"interpolate" expressions cannot be used with this property')]):fm(bt?new Iy(lt?"camera":"composite",rt.value,bt.labels,bt instanceof Bp?bt.interpolation:void 0):new Om(lt?"constant":"source",rt.value)):Xu([new xu("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Su{constructor(tt,it){this._parameters=tt,this._specification=it,Fl(this,_v(this._parameters,this._specification))}static deserialize(tt){return new Su(tt._parameters,tt._specification)}static serialize(tt){return{_parameters:tt._parameters,_specification:tt._specification}}}function mm(rt){let tt=null;if(rt instanceof R_)tt=mm(rt.result);else if(rt instanceof Dm){for(const it of rt.args)if(tt=mm(it),tt)break}else(rt instanceof Vm||rt instanceof Bp)&&rt.input instanceof Yu&&rt.input.name==="zoom"&&(tt=rt);return tt instanceof xu||rt.eachChild(it=>{const lt=mm(it);lt instanceof xu?tt=lt:!tt&&lt?tt=new xu("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):tt&&lt&&tt!==lt&&(tt=new xu("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),tt}class Ao{constructor(tt,it,lt,dt){this.message=(tt?`${tt}: `:"")+lt,dt&&(this.identifier=dt),it!=null&&it.__line__&&(this.line=it.__line__)}}function Iu(rt){const tt=rt.key,it=rt.value,lt=rt.valueSpec||{},dt=rt.objectElementValidators||{},bt=rt.style,Et=rt.styleSpec;let Ot=[];const zt=Ns(it);if(zt!=="object")return[new Ao(tt,it,`object expected, ${zt} found`)];for(const Yt in it){const an=Yt.split(".")[0],yn=lt[an]||lt["*"];let vn;dt[an]?vn=dt[an]:lt[an]?vn=Xl:dt["*"]?vn=dt["*"]:lt["*"]&&(vn=Xl),vn?Ot=Ot.concat(vn({key:(tt&&`${tt}.`)+Yt,value:it[Yt],valueSpec:yn,style:bt,styleSpec:Et,object:it,objectKey:Yt},it)):Ot.push(new Ao(tt,it[Yt],`unknown property "${Yt}"`))}for(const Yt in lt)dt[Yt]||lt[Yt].required&&lt[Yt].default===void 0&&it[Yt]===void 0&&Ot.push(new Ao(tt,it,`missing required property "${Yt}"`));return Ot}function T_(rt){const tt=rt.value,it=rt.valueSpec,lt=rt.style,dt=rt.styleSpec,bt=rt.key,Et=rt.arrayElementValidator||Xl;if(Ns(tt)!=="array")return[new Ao(bt,tt,`array expected, ${Ns(tt)} found`)];if(it.length&&tt.length!==it.length)return[new Ao(bt,tt,`array length ${it.length} expected, length ${tt.length} found`)];if(it["min-length"]&&tt.length<it["min-length"])return[new Ao(bt,tt,`array length at least ${it["min-length"]} expected, length ${tt.length} found`)];let Ot={type:it.value,values:it.values,minimum:it.minimum,maximum:it.maximum,function:void 0};dt.$version<7&&(Ot.function=it.function),Ns(it.value)==="object"&&(Ot=it.value);let zt=[];for(let Yt=0;Yt<tt.length;Yt++)zt=zt.concat(Et({array:tt,arrayIndex:Yt,value:tt[Yt],valueSpec:Ot,style:lt,styleSpec:dt,key:`${bt}[${Yt}]`}));return zt}function Py(rt){const tt=rt.key,it=rt.value,lt=rt.valueSpec;let dt=Ns(it);if(dt==="number"&&it!=it&&(dt="NaN"),dt!=="number")return[new Ao(tt,it,`number expected, ${dt} found`)];if("minimum"in lt){let bt=lt.minimum;if(Ns(lt.minimum)==="array"&&(bt=lt.minimum[rt.arrayIndex]),it<bt)return[new Ao(tt,it,`${it} is less than the minimum value ${bt}`)]}if("maximum"in lt){let bt=lt.maximum;if(Ns(lt.maximum)==="array"&&(bt=lt.maximum[rt.arrayIndex]),it>bt)return[new Ao(tt,it,`${it} is greater than the maximum value ${bt}`)]}return[]}function dy(rt){const tt=rt.valueSpec,it=$s(rt.value.type);let lt,dt,bt,Et={};const Ot=it!=="categorical"&&rt.value.property===void 0,zt=!Ot,Yt=Ns(rt.value.stops)==="array"&&Ns(rt.value.stops[0])==="array"&&Ns(rt.value.stops[0][0])==="object",an=Iu({key:rt.key,value:rt.value,valueSpec:rt.styleSpec.function,style:rt.style,styleSpec:rt.styleSpec,objectElementValidators:{stops:function(An){if(it==="identity")return[new Ao(An.key,An.value,'identity function may not have a "stops" property')];let kn=[];const Pn=An.value;return kn=kn.concat(T_({key:An.key,value:Pn,valueSpec:An.valueSpec,style:An.style,styleSpec:An.styleSpec,arrayElementValidator:yn})),Ns(Pn)==="array"&&Pn.length===0&&kn.push(new Ao(An.key,Pn,"array must have at least one stop")),kn},default:function(An){return Xl({key:An.key,value:An.value,valueSpec:tt,style:An.style,styleSpec:An.styleSpec})}}});return it==="identity"&&Ot&&an.push(new Ao(rt.key,rt.value,'missing required property "property"')),it==="identity"||rt.value.stops||an.push(new Ao(rt.key,rt.value,'missing required property "stops"')),it==="exponential"&&rt.valueSpec.expression&&!xp(rt.valueSpec)&&an.push(new Ao(rt.key,rt.value,"exponential functions not supported")),rt.styleSpec.$version>=8&&(zt&&!Gp(rt.valueSpec)?an.push(new Ao(rt.key,rt.value,"property functions not supported")):Ot&&!Ys(rt.valueSpec)&&an.push(new Ao(rt.key,rt.value,"zoom functions not supported"))),it!=="categorical"&&!Yt||rt.value.property!==void 0||an.push(new Ao(rt.key,rt.value,'"property" property is required')),an;function yn(An){let kn=[];const Pn=An.value,Xn=An.key;if(Ns(Pn)!=="array")return[new Ao(Xn,Pn,`array expected, ${Ns(Pn)} found`)];if(Pn.length!==2)return[new Ao(Xn,Pn,`array length 2 expected, length ${Pn.length} found`)];if(Yt){if(Ns(Pn[0])!=="object")return[new Ao(Xn,Pn,`object expected, ${Ns(Pn[0])} found`)];if(Pn[0].zoom===void 0)return[new Ao(Xn,Pn,"object stop key must have zoom")];if(Pn[0].value===void 0)return[new Ao(Xn,Pn,"object stop key must have value")];const fr=$s(Pn[0].zoom);if(typeof fr!="number")return[new Ao(Xn,Pn[0].zoom,"stop zoom values must be numbers")];if(bt&&bt>fr)return[new Ao(Xn,Pn[0].zoom,"stop zoom values must appear in ascending order")];fr!==bt&&(bt=fr,dt=void 0,Et={}),kn=kn.concat(Iu({key:`${Xn}[0]`,value:Pn[0],valueSpec:{zoom:{}},style:An.style,styleSpec:An.styleSpec,objectElementValidators:{zoom:Py,value:vn}}))}else kn=kn.concat(vn({key:`${Xn}[0]`,value:Pn[0],valueSpec:{},style:An.style,styleSpec:An.styleSpec},Pn));return hy(yu(Pn[1]))?kn.concat([new Ao(`${Xn}[1]`,Pn[1],"expressions are not allowed in function stops.")]):kn.concat(Xl({key:`${Xn}[1]`,value:Pn[1],valueSpec:tt,style:An.style,styleSpec:An.styleSpec}))}function vn(An,kn){const Pn=Ns(An.value),Xn=$s(An.value),fr=An.value!==null?An.value:kn;if(lt){if(Pn!==lt)return[new Ao(An.key,fr,`${Pn} stop domain type must match previous stop domain type ${lt}`)]}else lt=Pn;if(Pn!=="number"&&Pn!=="string"&&Pn!=="boolean"&&typeof Xn!="number"&&typeof Xn!="string"&&typeof Xn!="boolean")return[new Ao(An.key,fr,"stop domain value must be a number, string, or boolean")];if(Pn!=="number"&&it!=="categorical"){let Fr=`number expected, ${Pn} found`;return Gp(tt)&&it===void 0&&(Fr+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ao(An.key,fr,Fr)]}return it!=="categorical"||Pn!=="number"||typeof Xn=="number"&&isFinite(Xn)&&Math.floor(Xn)===Xn?it!=="categorical"&&Pn==="number"&&typeof Xn=="number"&&typeof dt=="number"&&dt!==void 0&&Xn<dt?[new Ao(An.key,fr,"stop domain values must appear in ascending order")]:(dt=Xn,it==="categorical"&&Xn in Et?[new Ao(An.key,fr,"stop domain values must be unique")]:(Et[Xn]=!0,[])):[new Ao(An.key,fr,`integer expected, found ${String(Xn)}`)]}}function yp(rt){const tt=(rt.expressionContext==="property"?Hp:gm)(yu(rt.value),rt.valueSpec);if(tt.result==="error")return tt.value.map(lt=>new Ao(`${rt.key}${lt.key}`,rt.value,lt.message));const it=tt.value.expression||tt.value._styleExpression.expression;if(rt.expressionContext==="property"&&rt.propertyKey==="text-font"&&!it.outputDefined())return[new Ao(rt.key,rt.value,`Invalid data expression for "${rt.propertyKey}". Output values must be contained as literals within the expression.`)];if(rt.expressionContext==="property"&&rt.propertyType==="layout"&&!Km(it))return[new Ao(rt.key,rt.value,'"feature-state" data expressions are not supported with layout properties.')];if(rt.expressionContext==="filter")return vv(it,rt);if(rt.expressionContext&&rt.expressionContext.indexOf("cluster")===0){if(!_l(it,["zoom","feature-state"]))return[new Ao(rt.key,rt.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(rt.expressionContext==="cluster-initial"&&!hm(it))return[new Ao(rt.key,rt.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vv(rt,tt){const it=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(tt.valueSpec&&tt.valueSpec.expression)for(const dt of tt.valueSpec.expression.parameters)it.delete(dt);if(it.size===0)return[];const lt=[];return rt instanceof Yu&&it.has(rt.name)?[new Ao(tt.key,tt.value,`["${rt.name}"] expression is not supported in a filter for a ${tt.object.type} layer with id: ${tt.object.id}`)]:(rt.eachChild(dt=>{lt.push(...vv(dt,tt))}),lt)}function Ly(rt){const tt=rt.key,it=rt.value,lt=rt.valueSpec,dt=[];return Array.isArray(lt.values)?lt.values.indexOf($s(it))===-1&&dt.push(new Ao(tt,it,`expected one of [${lt.values.join(", ")}], ${JSON.stringify(it)} found`)):Object.keys(lt.values).indexOf($s(it))===-1&&dt.push(new Ao(tt,it,`expected one of [${Object.keys(lt.values).join(", ")}], ${JSON.stringify(it)} found`)),dt}function Q_(rt){if(rt===!0||rt===!1)return!0;if(!Array.isArray(rt)||rt.length===0)return!1;switch(rt[0]){case"has":return rt.length>=2&&rt[1]!=="$id"&&rt[1]!=="$type";case"in":return rt.length>=3&&(typeof rt[1]!="string"||Array.isArray(rt[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return rt.length!==3||Array.isArray(rt[1])||Array.isArray(rt[2]);case"any":case"all":for(const tt of rt.slice(1))if(!Q_(tt)&&typeof tt!="boolean")return!1;return!0;default:return!0}}function E0(rt,tt="fill"){if(rt==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Q_(rt)||(rt=fy(rt));const it=rt;let lt=!0;try{lt=function(Yt){if(!$p(Yt))return Yt;let an=yu(Yt);return Wl(an),an=Ll(an),an}(it)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(it,null,2)}
        `)}const dt=zr[`filter_${tt}`],bt=gm(lt,dt);let Et=null;if(bt.result==="error")throw new Error(bt.value.map(Yt=>`${Yt.key}: ${Yt.message}`).join(", "));Et=(Yt,an,yn)=>bt.value.evaluate(Yt,an,{},yn);let Ot=null,zt=null;if(lt!==it){const Yt=gm(it,dt);if(Yt.result==="error")throw new Error(Yt.value.map(an=>`${an.key}: ${an.message}`).join(", "));Ot=(an,yn,vn,An,kn)=>Yt.value.evaluate(an,yn,{},vn,void 0,void 0,An,kn),zt=!hm(Yt.value.expression)}return{filter:Et,dynamicFilter:Ot||void 0,needGeometry:bv(lt),needFeature:!!zt}}function Ll(rt){if(!Array.isArray(rt))return rt;const tt=function(it){if(Pu.has(it[0])){for(let lt=1;lt<it.length;lt++)if($p(it[lt]))return!0}return it}(rt);return tt===!0?tt:tt.map(it=>Ll(it))}function Wl(rt){let tt=!1;const it=[];if(rt[0]==="case"){for(let lt=1;lt<rt.length-1;lt+=2)tt=tt||$p(rt[lt]),it.push(rt[lt+1]);it.push(rt[rt.length-1])}else if(rt[0]==="match"){tt=tt||$p(rt[1]);for(let lt=2;lt<rt.length-1;lt+=2)it.push(rt[lt+1]);it.push(rt[rt.length-1])}else if(rt[0]==="step"){tt=tt||$p(rt[1]);for(let lt=1;lt<rt.length-1;lt+=2)it.push(rt[lt+1])}tt&&(rt.length=0,rt.push("any",...it));for(let lt=1;lt<rt.length;lt++)Wl(rt[lt])}function $p(rt){if(!Array.isArray(rt))return!1;if((tt=rt[0])==="pitch"||tt==="distance-from-center")return!0;var tt;for(let it=1;it<rt.length;it++)if($p(rt[it]))return!0;return!1}const Pu=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Wy(rt,tt){return rt<tt?-1:rt>tt?1:0}function bv(rt){if(!Array.isArray(rt))return!1;if(rt[0]==="within")return!0;for(let tt=1;tt<rt.length;tt++)if(bv(rt[tt]))return!0;return!1}function fy(rt){if(!rt)return!0;const tt=rt[0];return rt.length<=1?tt!=="any":tt==="=="?Im(rt[1],rt[2],"=="):tt==="!="?ym(Im(rt[1],rt[2],"==")):tt==="<"||tt===">"||tt==="<="||tt===">="?Im(rt[1],rt[2],tt):tt==="any"?(it=rt.slice(1),["any"].concat(it.map(fy))):tt==="all"?["all"].concat(rt.slice(1).map(fy)):tt==="none"?["all"].concat(rt.slice(1).map(fy).map(ym)):tt==="in"?B0(rt[1],rt.slice(2)):tt==="!in"?ym(B0(rt[1],rt.slice(2))):tt==="has"?Yp(rt[1]):tt==="!has"?ym(Yp(rt[1])):tt!=="within"||rt;var it}function Im(rt,tt,it){switch(rt){case"$type":return[`filter-type-${it}`,tt];case"$id":return[`filter-id-${it}`,tt];default:return[`filter-${it}`,rt,tt]}}function B0(rt,tt){if(tt.length===0)return!1;switch(rt){case"$type":return["filter-type-in",["literal",tt]];case"$id":return["filter-id-in",["literal",tt]];default:return tt.length>200&&!tt.some(it=>typeof it!=typeof tt[0])?["filter-in-large",rt,["literal",tt.sort(Wy)]]:["filter-in-small",rt,["literal",tt]]}}function Yp(rt){switch(rt){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",rt]}}function ym(rt){return["!",rt]}function Xp(rt){return Q_(yu(rt.value))?yp(Fl({},rt,{expressionContext:"filter",valueSpec:rt.styleSpec[`filter_${rt.layerType||"fill"}`]})):Jy(rt)}function Jy(rt){const tt=rt.value,it=rt.key;if(Ns(tt)!=="array")return[new Ao(it,tt,`array expected, ${Ns(tt)} found`)];const lt=rt.styleSpec;let dt,bt=[];if(tt.length<1)return[new Ao(it,tt,"filter array must have at least 1 element")];switch(bt=bt.concat(Ly({key:`${it}[0]`,value:tt[0],valueSpec:lt.filter_operator,style:rt.style,styleSpec:rt.styleSpec})),$s(tt[0])){case"<":case"<=":case">":case">=":tt.length>=2&&$s(tt[1])==="$type"&&bt.push(new Ao(it,tt,`"$type" cannot be use with operator "${tt[0]}"`));case"==":case"!=":tt.length!==3&&bt.push(new Ao(it,tt,`filter array for operator "${tt[0]}" must have 3 elements`));case"in":case"!in":tt.length>=2&&(dt=Ns(tt[1]),dt!=="string"&&bt.push(new Ao(`${it}[1]`,tt[1],`string expected, ${dt} found`)));for(let Et=2;Et<tt.length;Et++)dt=Ns(tt[Et]),$s(tt[1])==="$type"?bt=bt.concat(Ly({key:`${it}[${Et}]`,value:tt[Et],valueSpec:lt.geometry_type,style:rt.style,styleSpec:rt.styleSpec})):dt!=="string"&&dt!=="number"&&dt!=="boolean"&&bt.push(new Ao(`${it}[${Et}]`,tt[Et],`string, number, or boolean expected, ${dt} found`));break;case"any":case"all":case"none":for(let Et=1;Et<tt.length;Et++)bt=bt.concat(Jy({key:`${it}[${Et}]`,value:tt[Et],style:rt.style,styleSpec:rt.styleSpec}));break;case"has":case"!has":dt=Ns(tt[1]),tt.length!==2?bt.push(new Ao(it,tt,`filter array for "${tt[0]}" operator must have 2 elements`)):dt!=="string"&&bt.push(new Ao(`${it}[1]`,tt[1],`string expected, ${dt} found`));break;case"within":dt=Ns(tt[1]),tt.length!==2?bt.push(new Ao(it,tt,`filter array for "${tt[0]}" operator must have 2 elements`)):dt!=="object"&&bt.push(new Ao(`${it}[1]`,tt[1],`object expected, ${dt} found`))}return bt}function Pm(rt,tt){const it=rt.key,lt=rt.style,dt=rt.styleSpec,bt=rt.value,Et=rt.objectKey,Ot=dt[`${tt}_${rt.layerType}`];if(!Ot)return[];const zt=Et.match(/^(.*)-transition$/);if(tt==="paint"&&zt&&Ot[zt[1]]&&Ot[zt[1]].transition)return Xl({key:it,value:bt,valueSpec:dt.transition,style:lt,styleSpec:dt});const Yt=rt.valueSpec||Ot[Et];if(!Yt)return[new Ao(it,bt,`unknown property "${Et}"`)];let an;if(Ns(bt)==="string"&&Gp(Yt)&&!Yt.tokens&&(an=/^{([^}]+)}$/.exec(bt)))return[new Ao(it,bt,`"${Et}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(an[1])} }\`.`)];const yn=[];return rt.layerType==="symbol"&&(Et==="text-field"&&lt&&!lt.glyphs&&yn.push(new Ao(it,bt,'use of "text-field" requires a style "glyphs" property')),Et==="text-font"&&qu(yu(bt))&&$s(bt.type)==="identity"&&yn.push(new Ao(it,bt,'"text-font" does not support identity functions'))),yn.concat(Xl({key:rt.key,value:bt,valueSpec:Yt,style:lt,styleSpec:dt,expressionContext:"property",propertyType:tt,propertyKey:Et}))}function T0(rt){return Pm(rt,"paint")}function Uv(rt){return Pm(rt,"layout")}function x_(rt){let tt=[];const it=rt.value,lt=rt.key,dt=rt.style,bt=rt.styleSpec;it.type||it.ref||tt.push(new Ao(lt,it,'either "type" or "ref" is required'));let Et=$s(it.type);const Ot=$s(it.ref);if(it.id){const zt=$s(it.id);for(let Yt=0;Yt<rt.arrayIndex;Yt++){const an=dt.layers[Yt];$s(an.id)===zt&&tt.push(new Ao(lt,it.id,`duplicate layer id "${it.id}", previously used at line ${an.id.__line__}`))}}if("ref"in it){let zt;["type","source","source-layer","filter","layout"].forEach(Yt=>{Yt in it&&tt.push(new Ao(lt,it[Yt],`"${Yt}" is prohibited for ref layers`))}),dt.layers.forEach(Yt=>{$s(Yt.id)===Ot&&(zt=Yt)}),zt?zt.ref?tt.push(new Ao(lt,it.ref,"ref cannot reference another ref layer")):Et=$s(zt.type):typeof Ot=="string"&&tt.push(new Ao(lt,it.ref,`ref layer "${Ot}" not found`))}else if(Et!=="background"&&Et!=="sky")if(it.source){const zt=dt.sources&&dt.sources[it.source],Yt=zt&&$s(zt.type);zt?Yt==="vector"&&Et==="raster"?tt.push(new Ao(lt,it.source,`layer "${it.id}" requires a raster source`)):Yt==="raster"&&Et!=="raster"?tt.push(new Ao(lt,it.source,`layer "${it.id}" requires a vector source`)):Yt!=="vector"||it["source-layer"]?Yt==="raster-dem"&&Et!=="hillshade"?tt.push(new Ao(lt,it.source,"raster-dem source can only be used with layer type 'hillshade'.")):Et!=="line"||!it.paint||!it.paint["line-gradient"]&&!it.paint["line-trim-offset"]||Yt==="geojson"&&zt.lineMetrics||tt.push(new Ao(lt,it,`layer "${it.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):tt.push(new Ao(lt,it,`layer "${it.id}" must specify a "source-layer"`)):tt.push(new Ao(lt,it.source,`source "${it.source}" not found`))}else tt.push(new Ao(lt,it,'missing required property "source"'));return tt=tt.concat(Iu({key:lt,value:it,valueSpec:bt.layer,style:rt.style,styleSpec:rt.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Xl({key:`${lt}.type`,value:it.type,valueSpec:bt.layer.type,style:rt.style,styleSpec:rt.styleSpec,object:it,objectKey:"type"}),filter:zt=>Xp(Fl({layerType:Et},zt)),layout:zt=>Iu({layer:it,key:zt.key,value:zt.value,valueSpec:{},style:zt.style,styleSpec:zt.styleSpec,objectElementValidators:{"*":Yt=>Uv(Fl({layerType:Et},Yt))}}),paint:zt=>Iu({layer:it,key:zt.key,value:zt.value,valueSpec:{},style:zt.style,styleSpec:zt.styleSpec,objectElementValidators:{"*":Yt=>T0(Fl({layerType:Et},Yt))}})}})),tt}function Lm(rt){const tt=rt.value,it=rt.key,lt=Ns(tt);return lt!=="string"?[new Ao(it,tt,`string expected, ${lt} found`)]:[]}const Fv={promoteId:function({key:rt,value:tt}){if(Ns(tt)==="string")return Lm({key:rt,value:tt});{const it=[];for(const lt in tt)it.push(...Lm({key:`${rt}.${lt}`,value:tt[lt]}));return it}}};function Wm(rt){const tt=rt.value,it=rt.key,lt=rt.styleSpec,dt=rt.style;if(!tt.type)return[new Ao(it,tt,'"type" is required')];const bt=$s(tt.type);let Et;switch(bt){case"vector":case"raster":case"raster-dem":return Et=Iu({key:it,value:tt,valueSpec:lt[`source_${bt.replace("-","_")}`],style:rt.style,styleSpec:lt,objectElementValidators:Fv}),Et;case"geojson":if(Et=Iu({key:it,value:tt,valueSpec:lt.source_geojson,style:dt,styleSpec:lt,objectElementValidators:Fv}),tt.cluster)for(const Ot in tt.clusterProperties){const[zt,Yt]=tt.clusterProperties[Ot],an=typeof zt=="string"?[zt,["accumulated"],["get",Ot]]:zt;Et.push(...yp({key:`${it}.${Ot}.map`,value:Yt,expressionContext:"cluster-map"})),Et.push(...yp({key:`${it}.${Ot}.reduce`,value:an,expressionContext:"cluster-reduce"}))}return Et;case"video":return Iu({key:it,value:tt,valueSpec:lt.source_video,style:dt,styleSpec:lt});case"image":return Iu({key:it,value:tt,valueSpec:lt.source_image,style:dt,styleSpec:lt});case"canvas":return[new Ao(it,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ly({key:`${it}.type`,value:tt.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:dt,styleSpec:lt})}}function qp(rt){const tt=rt.value,it=rt.styleSpec,lt=it.light,dt=rt.style;let bt=[];const Et=Ns(tt);if(tt===void 0)return bt;if(Et!=="object")return bt=bt.concat([new Ao("light",tt,`object expected, ${Et} found`)]),bt;for(const Ot in tt){const zt=Ot.match(/^(.*)-transition$/);bt=bt.concat(zt&&lt[zt[1]]&&lt[zt[1]].transition?Xl({key:Ot,value:tt[Ot],valueSpec:it.transition,style:dt,styleSpec:it}):lt[Ot]?Xl({key:Ot,value:tt[Ot],valueSpec:lt[Ot],style:dt,styleSpec:it}):[new Ao(Ot,tt[Ot],`unknown property "${Ot}"`)])}return bt}function Q0(rt){const tt=rt.value,it=rt.key,lt=rt.style,dt=rt.styleSpec,bt=dt.terrain;let Et=[];const Ot=Ns(tt);if(tt===void 0)return Et;if(Ot!=="object")return Et=Et.concat([new Ao("terrain",tt,`object expected, ${Ot} found`)]),Et;for(const zt in tt){const Yt=zt.match(/^(.*)-transition$/);Et=Et.concat(Yt&&bt[Yt[1]]&&bt[Yt[1]].transition?Xl({key:zt,value:tt[zt],valueSpec:dt.transition,style:lt,styleSpec:dt}):bt[zt]?Xl({key:zt,value:tt[zt],valueSpec:bt[zt],style:lt,styleSpec:dt}):[new Ao(zt,tt[zt],`unknown property "${zt}"`)])}if(tt.source){const zt=lt.sources&&lt.sources[tt.source],Yt=zt&&$s(zt.type);zt?Yt!=="raster-dem"&&Et.push(new Ao(it,tt.source,`terrain cannot be used with a source of type ${String(Yt)}, it only be used with a "raster-dem" source type`)):Et.push(new Ao(it,tt.source,`source "${tt.source}" not found`))}else Et.push(new Ao(it,tt,'terrain is missing required property "source"'));return Et}function Kn(rt){const tt=rt.value,it=rt.style,lt=rt.styleSpec,dt=lt.fog;let bt=[];const Et=Ns(tt);if(tt===void 0)return bt;if(Et!=="object")return bt=bt.concat([new Ao("fog",tt,`object expected, ${Et} found`)]),bt;for(const Ot in tt){const zt=Ot.match(/^(.*)-transition$/);bt=bt.concat(zt&&dt[zt[1]]&&dt[zt[1]].transition?Xl({key:Ot,value:tt[Ot],valueSpec:lt.transition,style:it,styleSpec:lt}):dt[Ot]?Xl({key:Ot,value:tt[Ot],valueSpec:dt[Ot],style:it,styleSpec:lt}):[new Ao(Ot,tt[Ot],`unknown property "${Ot}"`)])}return bt}const _m={"*":()=>[],array:T_,boolean:function(rt){const tt=rt.value,it=rt.key,lt=Ns(tt);return lt!=="boolean"?[new Ao(it,tt,`boolean expected, ${lt} found`)]:[]},number:Py,color:function(rt){const tt=rt.key,it=rt.value,lt=Ns(it);return lt!=="string"?[new Ao(tt,it,`color expected, ${lt} found`)]:$u(it)===null?[new Ao(tt,it,`color expected, "${it}" found`)]:[]},enum:Ly,filter:Xp,function:dy,layer:x_,object:Iu,source:Wm,light:qp,terrain:Q0,fog:Kn,string:Lm,formatted:function(rt){return Lm(rt).length===0?[]:yp(rt)},resolvedImage:function(rt){return Lm(rt).length===0?[]:yp(rt)},projection:function(rt){const tt=rt.value,it=rt.styleSpec,lt=it.projection,dt=rt.style;let bt=[];const Et=Ns(tt);if(Et==="object")for(const Ot in tt)bt=bt.concat(Xl({key:Ot,value:tt[Ot],valueSpec:lt[Ot],style:dt,styleSpec:it}));else Et!=="string"&&(bt=bt.concat([new Ao("projection",tt,`object or string expected, ${Et} found`)]));return bt}};function Xl(rt){const tt=rt.value,it=rt.valueSpec,lt=rt.styleSpec;return it.expression&&qu($s(tt))?dy(rt):it.expression&&hy(yu(tt))?yp(rt):it.type&&_m[it.type]?_m[it.type](rt):Iu(Fl({},rt,{valueSpec:it.type?lt[it.type]:it}))}function ku(rt){const tt=rt.value,it=rt.key,lt=Lm(rt);return lt.length||(tt.indexOf("{fontstack}")===-1&&lt.push(new Ao(it,tt,'"glyphs" url must include a "{fontstack}" token')),tt.indexOf("{range}")===-1&&lt.push(new Ao(it,tt,'"glyphs" url must include a "{range}" token'))),lt}function ks(rt,tt=zr){return Kp(Xl({key:"",value:rt,valueSpec:tt.$root,styleSpec:tt,style:rt,objectElementValidators:{glyphs:ku,"*":()=>[]}}))}const CU=rt=>Kp(T0(rt)),kU=rt=>Kp(Uv(rt));function Kp(rt){return rt.slice().sort((tt,it)=>tt.line&&it.line?tt.line-it.line:0)}function _g(rt,tt){let it=!1;if(tt&&tt.length)for(const lt of tt)rt.fire(new Qu(new Error(lt.message))),it=!0;return it}var py=Cp;function Cp(rt,tt,it){var lt=this.cells=[];if(rt instanceof ArrayBuffer){this.arrayBuffer=rt;var dt=new Int32Array(this.arrayBuffer);rt=dt[0],this.d=(tt=dt[1])+2*(it=dt[2]);for(var bt=0;bt<this.d*this.d;bt++){var Et=dt[3+bt],Ot=dt[3+bt+1];lt.push(Et===Ot?null:dt.subarray(Et,Ot))}var zt=dt[3+lt.length+1];this.keys=dt.subarray(dt[3+lt.length],zt),this.bboxes=dt.subarray(zt),this.insert=this._insertReadonly}else{this.d=tt+2*it;for(var Yt=0;Yt<this.d*this.d;Yt++)lt.push([]);this.keys=[],this.bboxes=[]}this.n=tt,this.extent=rt,this.padding=it,this.scale=tt/rt,this.uid=0;var an=it/tt*rt;this.min=-an,this.max=rt+an}Cp.prototype.insert=function(rt,tt,it,lt,dt){this._forEachCell(tt,it,lt,dt,this._insertCell,this.uid++),this.keys.push(rt),this.bboxes.push(tt),this.bboxes.push(it),this.bboxes.push(lt),this.bboxes.push(dt)},Cp.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Cp.prototype._insertCell=function(rt,tt,it,lt,dt,bt){this.cells[dt].push(bt)},Cp.prototype.query=function(rt,tt,it,lt,dt){var bt=this.min,Et=this.max;if(rt<=bt&&tt<=bt&&Et<=it&&Et<=lt&&!dt)return Array.prototype.slice.call(this.keys);var Ot=[];return this._forEachCell(rt,tt,it,lt,this._queryCell,Ot,{},dt),Ot},Cp.prototype._queryCell=function(rt,tt,it,lt,dt,bt,Et,Ot){var zt=this.cells[dt];if(zt!==null)for(var Yt=this.keys,an=this.bboxes,yn=0;yn<zt.length;yn++){var vn=zt[yn];if(Et[vn]===void 0){var An=4*vn;(Ot?Ot(an[An+0],an[An+1],an[An+2],an[An+3]):rt<=an[An+2]&&tt<=an[An+3]&&it>=an[An+0]&&lt>=an[An+1])?(Et[vn]=!0,bt.push(Yt[vn])):Et[vn]=!1}}},Cp.prototype._forEachCell=function(rt,tt,it,lt,dt,bt,Et,Ot){for(var zt=this._convertToCellCoord(rt),Yt=this._convertToCellCoord(tt),an=this._convertToCellCoord(it),yn=this._convertToCellCoord(lt),vn=zt;vn<=an;vn++)for(var An=Yt;An<=yn;An++){var kn=this.d*An+vn;if((!Ot||Ot(this._convertFromCellCoord(vn),this._convertFromCellCoord(An),this._convertFromCellCoord(vn+1),this._convertFromCellCoord(An+1)))&&dt.call(this,rt,tt,it,lt,kn,bt,Et,Ot))return}},Cp.prototype._convertFromCellCoord=function(rt){return(rt-this.padding)/this.scale},Cp.prototype._convertToCellCoord=function(rt){return Math.max(0,Math.min(this.d-1,Math.floor(rt*this.scale)+this.padding))},Cp.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var rt=this.cells,tt=3+this.cells.length+1+1,it=0,lt=0;lt<this.cells.length;lt++)it+=this.cells[lt].length;var dt=new Int32Array(tt+it+this.keys.length+this.bboxes.length);dt[0]=this.extent,dt[1]=this.n,dt[2]=this.padding;for(var bt=tt,Et=0;Et<rt.length;Et++){var Ot=rt[Et];dt[3+Et]=bt,dt.set(Ot,bt),bt+=Ot.length}return dt[3+rt.length]=bt,dt.set(this.keys,bt),dt[3+rt.length+1]=bt+=this.keys.length,dt.set(this.bboxes,bt),bt+=this.bboxes.length,dt.buffer};const x0={};function ko(rt,tt,it={}){Object.defineProperty(rt,"_classRegistryKey",{value:tt,writeable:!1}),x0[tt]={klass:rt,omit:it.omit||[]}}ko(Object,"Object"),py.serialize=function(rt,tt){const it=rt.toArrayBuffer();return tt&&tt.push(it),{buffer:it}},py.deserialize=function(rt){return new py(rt.buffer)},Object.defineProperty(py,"name",{value:"Grid"}),ko(py,"Grid"),ko(Zs,"Color"),ko(Error,"Error"),ko(Fs,"AJAXError"),ko(dn,"ResolvedImage"),ko(Su,"StylePropertyFunction"),ko(pm,"StyleExpression",{omit:["_evaluator"]}),ko(Iy,"ZoomDependentExpression"),ko(Om,"ZoomConstantExpression"),ko(Yu,"CompoundExpression",{omit:["_evaluate"]});for(const rt in ly)x0[ly[rt]._classRegistryKey]||ko(ly[rt],`Expression${rt}`);function Sv(rt){return rt&&typeof ArrayBuffer<"u"&&(rt instanceof ArrayBuffer||rt.constructor&&rt.constructor.name==="ArrayBuffer")}function kp(rt){return nt.ImageBitmap&&rt instanceof nt.ImageBitmap}function jy(rt,tt){if(rt==null||typeof rt=="boolean"||typeof rt=="number"||typeof rt=="string"||rt instanceof Boolean||rt instanceof Number||rt instanceof String||rt instanceof Date||rt instanceof RegExp)return rt;if(Sv(rt)||kp(rt))return tt&&tt.push(rt),rt;if(ArrayBuffer.isView(rt)){const it=rt;return tt&&tt.push(it.buffer),it}if(rt instanceof nt.ImageData)return tt&&tt.push(rt.data.buffer),rt;if(Array.isArray(rt)){const it=[];for(const lt of rt)it.push(jy(lt,tt));return it}if(typeof rt=="object"){const it=rt.constructor,lt=it._classRegistryKey;if(!lt)throw new Error(`can't serialize object of unregistered class ${lt}`);const dt=it.serialize?it.serialize(rt,tt):{};if(!it.serialize){for(const bt in rt)rt.hasOwnProperty(bt)&&(x0[lt].omit.indexOf(bt)>=0||(dt[bt]=jy(rt[bt],tt)));rt instanceof Error&&(dt.message=rt.message)}if(dt.$name)throw new Error("$name property is reserved for worker serialization logic.");return lt!=="Object"&&(dt.$name=lt),dt}throw new Error("can't serialize object of type "+typeof rt)}function vm(rt){if(rt==null||typeof rt=="boolean"||typeof rt=="number"||typeof rt=="string"||rt instanceof Boolean||rt instanceof Number||rt instanceof String||rt instanceof Date||rt instanceof RegExp||Sv(rt)||kp(rt)||ArrayBuffer.isView(rt)||rt instanceof nt.ImageData)return rt;if(Array.isArray(rt))return rt.map(vm);if(typeof rt=="object"){const tt=rt.$name||"Object",{klass:it}=x0[tt];if(!it)throw new Error(`can't deserialize unregistered class ${tt}`);if(it.deserialize)return it.deserialize(rt);const lt=Object.create(it.prototype);for(const dt of Object.keys(rt))dt!=="$name"&&(lt[dt]=vm(rt[dt]));return lt}throw new Error("can't deserialize object of type "+typeof rt)}class Rv{constructor(){this.first=!0}update(tt,it){const lt=Math.floor(tt);return this.first?(this.first=!1,this.lastIntegerZoom=lt,this.lastIntegerZoomTime=0,this.lastZoom=tt,this.lastFloorZoom=lt,!0):(this.lastFloorZoom>lt?(this.lastIntegerZoom=lt+1,this.lastIntegerZoomTime=it):this.lastFloorZoom<lt&&(this.lastIntegerZoom=lt,this.lastIntegerZoomTime=it),tt!==this.lastZoom&&(this.lastZoom=tt,this.lastFloorZoom=lt,!0))}}const wv=rt=>rt>=1536&&rt<=1791,zy=rt=>rt>=1872&&rt<=1919,Mp=rt=>rt>=2208&&rt<=2303,A_=rt=>rt>=11904&&rt<=12031,Ev=rt=>rt>=12032&&rt<=12255,C_=rt=>rt>=12272&&rt<=12287,Zy=rt=>rt>=12288&&rt<=12351,A0=rt=>rt>=12352&&rt<=12447,_p=rt=>rt>=12448&&rt<=12543,C0=rt=>rt>=12544&&rt<=12591,k0=rt=>rt>=12704&&rt<=12735,Ku=rt=>rt>=12736&&rt<=12783,Bv=rt=>rt>=12784&&rt<=12799,k_=rt=>rt>=12800&&rt<=13055,Tv=rt=>rt>=13056&&rt<=13311,Qv=rt=>rt>=13312&&rt<=19903,M_=rt=>rt>=19968&&rt<=40959,Gy=rt=>rt>=40960&&rt<=42127,N_=rt=>rt>=42128&&rt<=42191,xv=rt=>rt>=44032&&rt<=55215,Av=rt=>rt>=63744&&rt<=64255,Hy=rt=>rt>=64336&&rt<=65023,gy=rt=>rt>=65040&&rt<=65055,Jm=rt=>rt>=65072&&rt<=65103,$y=rt=>rt>=65104&&rt<=65135,_t=rt=>rt>=65136&&rt<=65279,st=rt=>rt>=65280&&rt<=65519;function ht(rt){for(const tt of rt)if(Lt(tt.charCodeAt(0)))return!0;return!1}function Ut(rt){for(const tt of rt)if(!Vt(tt.charCodeAt(0)))return!1;return!0}function Vt(rt){return!(wv(rt)||zy(rt)||Mp(rt)||Hy(rt)||_t(rt))}function Lt(rt){return!(rt!==746&&rt!==747&&(rt<4352||!(k0(rt)||C0(rt)||Jm(rt)&&!(rt>=65097&&rt<=65103)||Av(rt)||Tv(rt)||A_(rt)||Ku(rt)||!(!Zy(rt)||rt>=12296&&rt<=12305||rt>=12308&&rt<=12319||rt===12336)||Qv(rt)||M_(rt)||k_(rt)||(tt=>tt>=12592&&tt<=12687)(rt)||(tt=>tt>=43360&&tt<=43391)(rt)||(tt=>tt>=55216&&tt<=55295)(rt)||(tt=>tt>=4352&&tt<=4607)(rt)||xv(rt)||A0(rt)||C_(rt)||(tt=>tt>=12688&&tt<=12703)(rt)||Ev(rt)||Bv(rt)||_p(rt)&&rt!==12540||!(!st(rt)||rt===65288||rt===65289||rt===65293||rt>=65306&&rt<=65310||rt===65339||rt===65341||rt===65343||rt>=65371&&rt<=65503||rt===65507||rt>=65512&&rt<=65519)||!(!$y(rt)||rt>=65112&&rt<=65118||rt>=65123&&rt<=65126)||(tt=>tt>=5120&&tt<=5759)(rt)||(tt=>tt>=6320&&tt<=6399)(rt)||gy(rt)||(tt=>tt>=19904&&tt<=19967)(rt)||Gy(rt)||N_(rt))))}function Kt(rt){return!(Lt(rt)||function(tt){return!!((it=>it>=128&&it<=255)(tt)&&(tt===167||tt===169||tt===174||tt===177||tt===188||tt===189||tt===190||tt===215||tt===247)||(it=>it>=8192&&it<=8303)(tt)&&(tt===8214||tt===8224||tt===8225||tt===8240||tt===8241||tt===8251||tt===8252||tt===8258||tt===8263||tt===8264||tt===8265||tt===8273)||(it=>it>=8448&&it<=8527)(tt)||(it=>it>=8528&&it<=8591)(tt)||(it=>it>=8960&&it<=9215)(tt)&&(tt>=8960&&tt<=8967||tt>=8972&&tt<=8991||tt>=8996&&tt<=9e3||tt===9003||tt>=9085&&tt<=9114||tt>=9150&&tt<=9165||tt===9167||tt>=9169&&tt<=9179||tt>=9186&&tt<=9215)||(it=>it>=9216&&it<=9279)(tt)&&tt!==9251||(it=>it>=9280&&it<=9311)(tt)||(it=>it>=9312&&it<=9471)(tt)||(it=>it>=9632&&it<=9727)(tt)||(it=>it>=9728&&it<=9983)(tt)&&!(tt>=9754&&tt<=9759)||(it=>it>=11008&&it<=11263)(tt)&&(tt>=11026&&tt<=11055||tt>=11088&&tt<=11097||tt>=11192&&tt<=11243)||Zy(tt)||_p(tt)||(it=>it>=57344&&it<=63743)(tt)||Jm(tt)||$y(tt)||st(tt)||tt===8734||tt===8756||tt===8757||tt>=9984&&tt<=10087||tt>=10102&&tt<=10131||tt===65532||tt===65533)}(rt))}function hn(rt){return rt>=1424&&rt<=2303||Hy(rt)||_t(rt)}function gn(rt,tt){return!(!tt&&hn(rt)||rt>=2304&&rt<=3583||rt>=3840&&rt<=4255||(it=>it>=6016&&it<=6143)(rt))}function Rn(rt){for(const tt of rt)if(hn(tt.charCodeAt(0)))return!0;return!1}const Tn="deferred",Dn="loading",zn="loaded";let or=null,er="unavailable",ar=null;const Yn=function(rt){rt&&typeof rt=="string"&&rt.indexOf("NetworkError")>-1&&(er="error"),or&&or(rt)};function $n(){cr.fire(new Bs("pluginStateChange",{pluginStatus:er,pluginURL:ar}))}const cr=new mu,tr=function(){return er},yr=function(){if(er!==Tn||!ar)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");er=Dn,$n(),ar&&Cs({url:ar},rt=>{rt?Yn(rt):(er=zn,$n())})},br={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>er===zn||br.applyArabicShaping!=null,isLoading:()=>er===Dn,setState(rt){er=rt.pluginStatus,ar=rt.pluginURL},isParsed:()=>br.applyArabicShaping!=null&&br.processBidirectionalText!=null&&br.processStyledBidirectionalText!=null,getPluginURL:()=>ar};class ur{constructor(tt,it){this.zoom=tt,it?(this.now=it.now,this.fadeDuration=it.fadeDuration,this.zoomHistory=it.zoomHistory,this.transition=it.transition,this.pitch=it.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Rv,this.transition={},this.pitch=0)}isSupportedScript(tt){return function(it,lt){for(const dt of it)if(!gn(dt.charCodeAt(0),lt))return!1;return!0}(tt,br.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const tt=this.zoom,it=tt-Math.floor(tt),lt=this.crossFadingFactor();return tt>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:it+(1-it)*lt}:{fromScale:.5,toScale:1,t:1-(1-lt)*it}}}class Sr{constructor(tt,it){this.property=tt,this.value=it,this.expression=function(lt,dt){if(qu(lt))return new Su(lt,dt);if(hy(lt)){const bt=Hp(lt,dt);if(bt.result==="error")throw new Error(bt.value.map(Et=>`${Et.key}: ${Et.message}`).join(", "));return bt.value}{let bt=lt;return typeof lt=="string"&&dt.type==="color"&&(bt=Zs.parse(lt)),{kind:"constant",evaluate:()=>bt}}}(it===void 0?tt.specification.default:it,tt.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(tt,it,lt){return this.property.possiblyEvaluate(this,tt,it,lt)}}class Ar{constructor(tt){this.property=tt,this.value=new Sr(tt,void 0)}transitioned(tt,it){return new Pr(this.property,this.value,it,Rt({},tt.transition,this.transition),tt.now)}untransitioned(){return new Pr(this.property,this.value,null,{},0)}}class Wr{constructor(tt){this._properties=tt,this._values=Object.create(tt.defaultTransitionablePropertyValues)}getValue(tt){return Xt(this._values[tt].value.value)}setValue(tt,it){this._values.hasOwnProperty(tt)||(this._values[tt]=new Ar(this._values[tt].property)),this._values[tt].value=new Sr(this._values[tt].property,it===null?void 0:Xt(it))}getTransition(tt){return Xt(this._values[tt].transition)}setTransition(tt,it){this._values.hasOwnProperty(tt)||(this._values[tt]=new Ar(this._values[tt].property)),this._values[tt].transition=Xt(it)||void 0}serialize(){const tt={};for(const it of Object.keys(this._values)){const lt=this.getValue(it);lt!==void 0&&(tt[it]=lt);const dt=this.getTransition(it);dt!==void 0&&(tt[`${it}-transition`]=dt)}return tt}transitioned(tt,it){const lt=new ho(this._properties);for(const dt of Object.keys(this._values))lt._values[dt]=this._values[dt].transitioned(tt,it._values[dt]);return lt}untransitioned(){const tt=new ho(this._properties);for(const it of Object.keys(this._values))tt._values[it]=this._values[it].untransitioned();return tt}}class Pr{constructor(tt,it,lt,dt,bt){const Et=dt.delay||0,Ot=dt.duration||0;bt=bt||0,this.property=tt,this.value=it,this.begin=bt+Et,this.end=this.begin+Ot,tt.specification.transition&&(dt.delay||dt.duration)&&(this.prior=lt)}possiblyEvaluate(tt,it,lt){const dt=tt.now||0,bt=this.value.possiblyEvaluate(tt,it,lt),Et=this.prior;if(Et){if(dt>this.end)return this.prior=null,bt;if(this.value.isDataDriven())return this.prior=null,bt;if(dt<this.begin)return Et.possiblyEvaluate(tt,it,lt);{const Ot=(dt-this.begin)/(this.end-this.begin);return this.property.interpolate(Et.possiblyEvaluate(tt,it,lt),bt,Bt(Ot))}}return bt}}class ho{constructor(tt){this._properties=tt,this._values=Object.create(tt.defaultTransitioningPropertyValues)}possiblyEvaluate(tt,it,lt){const dt=new eo(this._properties);for(const bt of Object.keys(this._values))dt._values[bt]=this._values[bt].possiblyEvaluate(tt,it,lt);return dt}hasTransition(){for(const tt of Object.keys(this._values))if(this._values[tt].prior)return!0;return!1}}class xr{constructor(tt){this._properties=tt,this._values=Object.create(tt.defaultPropertyValues)}getValue(tt){return Xt(this._values[tt].value)}setValue(tt,it){this._values[tt]=new Sr(this._values[tt].property,it===null?void 0:Xt(it))}serialize(){const tt={};for(const it of Object.keys(this._values)){const lt=this.getValue(it);lt!==void 0&&(tt[it]=lt)}return tt}possiblyEvaluate(tt,it,lt){const dt=new eo(this._properties);for(const bt of Object.keys(this._values))dt._values[bt]=this._values[bt].possiblyEvaluate(tt,it,lt);return dt}}class _i{constructor(tt,it,lt){this.property=tt,this.value=it,this.parameters=lt}isConstant(){return this.value.kind==="constant"}constantOr(tt){return this.value.kind==="constant"?this.value.value:tt}evaluate(tt,it,lt,dt){return this.property.evaluate(this.value,this.parameters,tt,it,lt,dt)}}class eo{constructor(tt){this._properties=tt,this._values=Object.create(tt.defaultPossiblyEvaluatedValues)}get(tt){return this._values[tt]}}class Vr{constructor(tt){this.specification=tt}possiblyEvaluate(tt,it){return tt.expression.evaluate(it)}interpolate(tt,it,lt){const dt=mp[this.specification.type];return dt?dt(tt,it,lt):tt}}class Br{constructor(tt,it){this.specification=tt,this.overrides=it}possiblyEvaluate(tt,it,lt,dt){return new _i(this,tt.expression.kind==="constant"||tt.expression.kind==="camera"?{kind:"constant",value:tt.expression.evaluate(it,null,{},lt,dt)}:tt.expression,it)}interpolate(tt,it,lt){if(tt.value.kind!=="constant"||it.value.kind!=="constant")return tt;if(tt.value.value===void 0||it.value.value===void 0)return new _i(this,{kind:"constant",value:void 0},tt.parameters);const dt=mp[this.specification.type];return dt?new _i(this,{kind:"constant",value:dt(tt.value.value,it.value.value,lt)},tt.parameters):tt}evaluate(tt,it,lt,dt,bt,Et){return tt.kind==="constant"?tt.value:tt.evaluate(it,lt,dt,bt,Et)}}class So extends Br{possiblyEvaluate(tt,it,lt,dt){if(tt.value===void 0)return new _i(this,{kind:"constant",value:void 0},it);if(tt.expression.kind==="constant"){const bt=tt.expression.evaluate(it,null,{},lt,dt),Et=tt.property.specification.type==="resolvedImage"&&typeof bt!="string"?bt.name:bt,Ot=this._calculate(Et,Et,Et,it);return new _i(this,{kind:"constant",value:Ot},it)}if(tt.expression.kind==="camera"){const bt=this._calculate(tt.expression.evaluate({zoom:it.zoom-1}),tt.expression.evaluate({zoom:it.zoom}),tt.expression.evaluate({zoom:it.zoom+1}),it);return new _i(this,{kind:"constant",value:bt},it)}return new _i(this,tt.expression,it)}evaluate(tt,it,lt,dt,bt,Et){if(tt.kind==="source"){const Ot=tt.evaluate(it,lt,dt,bt,Et);return this._calculate(Ot,Ot,Ot,it)}return tt.kind==="composite"?this._calculate(tt.evaluate({zoom:Math.floor(it.zoom)-1},lt,dt),tt.evaluate({zoom:Math.floor(it.zoom)},lt,dt),tt.evaluate({zoom:Math.floor(it.zoom)+1},lt,dt),it):tt.value}_calculate(tt,it,lt,dt){return dt.zoom>dt.zoomHistory.lastIntegerZoom?{from:tt,to:it,other:lt}:{from:lt,to:it,other:tt}}interpolate(tt){return tt}}class yo{constructor(tt){this.specification=tt}possiblyEvaluate(tt,it,lt,dt){if(tt.value!==void 0){if(tt.expression.kind==="constant"){const bt=tt.expression.evaluate(it,null,{},lt,dt);return this._calculate(bt,bt,bt,it)}return this._calculate(tt.expression.evaluate(new ur(Math.floor(it.zoom-1),it)),tt.expression.evaluate(new ur(Math.floor(it.zoom),it)),tt.expression.evaluate(new ur(Math.floor(it.zoom+1),it)),it)}}_calculate(tt,it,lt,dt){return dt.zoom>dt.zoomHistory.lastIntegerZoom?{from:tt,to:it}:{from:lt,to:it}}interpolate(tt){return tt}}class bo{constructor(tt){this.specification=tt}possiblyEvaluate(tt,it,lt,dt){return!!tt.expression.evaluate(it,null,{},lt,dt)}interpolate(){return!1}}class _o{constructor(tt){this.properties=tt,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const it=new ur(0,{});for(const lt in tt){const dt=tt[lt];dt.specification.overridable&&this.overridableProperties.push(lt);const bt=this.defaultPropertyValues[lt]=new Sr(dt,void 0),Et=this.defaultTransitionablePropertyValues[lt]=new Ar(dt);this.defaultTransitioningPropertyValues[lt]=Et.untransitioned(),this.defaultPossiblyEvaluatedValues[lt]=bt.possiblyEvaluate(it)}}}function Oo(rt,tt){return 256*(rt=Zt(Math.floor(rt),0,255))+Zt(Math.floor(tt),0,255)}ko(Br,"DataDrivenProperty"),ko(Vr,"DataConstantProperty"),ko(So,"CrossFadedDataDrivenProperty"),ko(yo,"CrossFadedProperty"),ko(bo,"ColorRampProperty");const Ho={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class zo{constructor(tt,it){this._structArray=tt,this._pos1=it*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Wo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(tt,it){return tt._trim(),it&&(tt.isTransferred=!0,it.push(tt.arrayBuffer)),{length:tt.length,arrayBuffer:tt.arrayBuffer}}static deserialize(tt){const it=Object.create(this.prototype);return it.arrayBuffer=tt.arrayBuffer,it.length=tt.length,it.capacity=tt.arrayBuffer.byteLength/it.bytesPerElement,it._refreshViews(),it}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(tt){this.reserve(tt),this.length=tt}reserve(tt){if(tt>this.capacity){this.capacity=Math.max(tt,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const it=this.uint8;this._refreshViews(),it&&this.uint8.set(it)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function vo(rt,tt=1){let it=0,lt=0;return{members:rt.map(dt=>{const bt=Ho[dt.type].BYTES_PER_ELEMENT,Et=it=ns(it,Math.max(tt,bt)),Ot=dt.components||1;return lt=Math.max(lt,bt),it+=bt*Ot,{name:dt.name,type:dt.type,components:Ot,offset:Et}}),size:ns(it,Math.max(lt,tt)),alignment:tt}}function ns(rt,tt){return Math.ceil(rt/tt)*tt}class gs extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(tt,it){const lt=this.length;return this.resize(lt+1),this.emplace(lt,tt,it)}emplace(tt,it,lt){const dt=2*tt;return this.int16[dt+0]=it,this.int16[dt+1]=lt,tt}}gs.prototype.bytesPerElement=4,ko(gs,"StructArrayLayout2i4");class js extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(tt,it,lt){const dt=this.length;return this.resize(dt+1),this.emplace(dt,tt,it,lt)}emplace(tt,it,lt,dt){const bt=3*tt;return this.int16[bt+0]=it,this.int16[bt+1]=lt,this.int16[bt+2]=dt,tt}}js.prototype.bytesPerElement=6,ko(js,"StructArrayLayout3i6");class Gs extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt){const bt=this.length;return this.resize(bt+1),this.emplace(bt,tt,it,lt,dt)}emplace(tt,it,lt,dt,bt){const Et=4*tt;return this.int16[Et+0]=it,this.int16[Et+1]=lt,this.int16[Et+2]=dt,this.int16[Et+3]=bt,tt}}Gs.prototype.bytesPerElement=8,ko(Gs,"StructArrayLayout4i8");class Os extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et,Ot){const zt=this.length;return this.resize(zt+1),this.emplace(zt,tt,it,lt,dt,bt,Et,Ot)}emplace(tt,it,lt,dt,bt,Et,Ot,zt){const Yt=6*tt,an=12*tt,yn=3*tt;return this.int16[Yt+0]=it,this.int16[Yt+1]=lt,this.uint8[an+4]=dt,this.uint8[an+5]=bt,this.uint8[an+6]=Et,this.uint8[an+7]=Ot,this.float32[yn+2]=zt,tt}}Os.prototype.bytesPerElement=12,ko(Os,"StructArrayLayout2i4ub1f12");class Jl extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt){const bt=this.length;return this.resize(bt+1),this.emplace(bt,tt,it,lt,dt)}emplace(tt,it,lt,dt,bt){const Et=4*tt;return this.float32[Et+0]=it,this.float32[Et+1]=lt,this.float32[Et+2]=dt,this.float32[Et+3]=bt,tt}}Jl.prototype.bytesPerElement=16,ko(Jl,"StructArrayLayout4f16");class uu extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an){const yn=this.length;return this.resize(yn+1),this.emplace(yn,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an)}emplace(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn){const vn=10*tt;return this.uint16[vn+0]=it,this.uint16[vn+1]=lt,this.uint16[vn+2]=dt,this.uint16[vn+3]=bt,this.uint16[vn+4]=Et,this.uint16[vn+5]=Ot,this.uint16[vn+6]=zt,this.uint16[vn+7]=Yt,this.uint16[vn+8]=an,this.uint16[vn+9]=yn,tt}}uu.prototype.bytesPerElement=20,ko(uu,"StructArrayLayout10ui20");class vp extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et,Ot,zt){const Yt=this.length;return this.resize(Yt+1),this.emplace(Yt,tt,it,lt,dt,bt,Et,Ot,zt)}emplace(tt,it,lt,dt,bt,Et,Ot,zt,Yt){const an=8*tt;return this.uint16[an+0]=it,this.uint16[an+1]=lt,this.uint16[an+2]=dt,this.uint16[an+3]=bt,this.uint16[an+4]=Et,this.uint16[an+5]=Ot,this.uint16[an+6]=zt,this.uint16[an+7]=Yt,tt}}vp.prototype.bytesPerElement=16,ko(vp,"StructArrayLayout8ui16");class Hs extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et){const Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,tt,it,lt,dt,bt,Et)}emplace(tt,it,lt,dt,bt,Et,Ot){const zt=6*tt;return this.int16[zt+0]=it,this.int16[zt+1]=lt,this.int16[zt+2]=dt,this.int16[zt+3]=bt,this.int16[zt+4]=Et,this.int16[zt+5]=Ot,tt}}Hs.prototype.bytesPerElement=12,ko(Hs,"StructArrayLayout6i12");class El extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn){const An=this.length;return this.resize(An+1),this.emplace(An,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn)}emplace(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An){const kn=12*tt;return this.int16[kn+0]=it,this.int16[kn+1]=lt,this.int16[kn+2]=dt,this.int16[kn+3]=bt,this.uint16[kn+4]=Et,this.uint16[kn+5]=Ot,this.uint16[kn+6]=zt,this.uint16[kn+7]=Yt,this.int16[kn+8]=an,this.int16[kn+9]=yn,this.int16[kn+10]=vn,this.int16[kn+11]=An,tt}}El.prototype.bytesPerElement=24,ko(El,"StructArrayLayout4i4ui4i24");class Is extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et){const Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,tt,it,lt,dt,bt,Et)}emplace(tt,it,lt,dt,bt,Et,Ot){const zt=10*tt,Yt=5*tt;return this.int16[zt+0]=it,this.int16[zt+1]=lt,this.int16[zt+2]=dt,this.float32[Yt+2]=bt,this.float32[Yt+3]=Et,this.float32[Yt+4]=Ot,tt}}Is.prototype.bytesPerElement=20,ko(Is,"StructArrayLayout3i3f20");class Nl extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(tt){const it=this.length;return this.resize(it+1),this.emplace(it,tt)}emplace(tt,it){return this.uint32[1*tt+0]=it,tt}}Nl.prototype.bytesPerElement=4,ko(Nl,"StructArrayLayout1ul4");class hu extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An){const kn=this.length;return this.resize(kn+1),this.emplace(kn,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An)}emplace(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn){const Pn=20*tt,Xn=10*tt;return this.int16[Pn+0]=it,this.int16[Pn+1]=lt,this.int16[Pn+2]=dt,this.int16[Pn+3]=bt,this.int16[Pn+4]=Et,this.float32[Xn+3]=Ot,this.float32[Xn+4]=zt,this.float32[Xn+5]=Yt,this.float32[Xn+6]=an,this.int16[Pn+14]=yn,this.uint32[Xn+8]=vn,this.uint16[Pn+18]=An,this.uint16[Pn+19]=kn,tt}}hu.prototype.bytesPerElement=40,ko(hu,"StructArrayLayout5i4f1i1ul2ui40");class Xs extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et,Ot){const zt=this.length;return this.resize(zt+1),this.emplace(zt,tt,it,lt,dt,bt,Et,Ot)}emplace(tt,it,lt,dt,bt,Et,Ot,zt){const Yt=8*tt;return this.int16[Yt+0]=it,this.int16[Yt+1]=lt,this.int16[Yt+2]=dt,this.int16[Yt+4]=bt,this.int16[Yt+5]=Et,this.int16[Yt+6]=Ot,this.int16[Yt+7]=zt,tt}}Xs.prototype.bytesPerElement=16,ko(Xs,"StructArrayLayout3i2i2i16");class Mu extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt){const Et=this.length;return this.resize(Et+1),this.emplace(Et,tt,it,lt,dt,bt)}emplace(tt,it,lt,dt,bt,Et){const Ot=4*tt,zt=8*tt;return this.float32[Ot+0]=it,this.float32[Ot+1]=lt,this.float32[Ot+2]=dt,this.int16[zt+6]=bt,this.int16[zt+7]=Et,tt}}Mu.prototype.bytesPerElement=16,ko(Mu,"StructArrayLayout2f1f2i16");class em extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt){const bt=this.length;return this.resize(bt+1),this.emplace(bt,tt,it,lt,dt)}emplace(tt,it,lt,dt,bt){const Et=12*tt,Ot=3*tt;return this.uint8[Et+0]=it,this.uint8[Et+1]=lt,this.float32[Ot+1]=dt,this.float32[Ot+2]=bt,tt}}em.prototype.bytesPerElement=12,ko(em,"StructArrayLayout2ub2f12");class _h extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(tt,it,lt){const dt=this.length;return this.resize(dt+1),this.emplace(dt,tt,it,lt)}emplace(tt,it,lt,dt){const bt=3*tt;return this.float32[bt+0]=it,this.float32[bt+1]=lt,this.float32[bt+2]=dt,tt}}_h.prototype.bytesPerElement=12,ko(_h,"StructArrayLayout3f12");class iu extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(tt,it,lt){const dt=this.length;return this.resize(dt+1),this.emplace(dt,tt,it,lt)}emplace(tt,it,lt,dt){const bt=3*tt;return this.uint16[bt+0]=it,this.uint16[bt+1]=lt,this.uint16[bt+2]=dt,tt}}iu.prototype.bytesPerElement=6,ko(iu,"StructArrayLayout3ui6");class my extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn,Pn,Xn,fr,Fr,dr,_r,wr){const vr=this.length;return this.resize(vr+1),this.emplace(vr,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn,Pn,Xn,fr,Fr,dr,_r,wr)}emplace(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn,Pn,Xn,fr,Fr,dr,_r,wr,vr){const Lr=30*tt,Ir=15*tt,Xr=60*tt;return this.int16[Lr+0]=it,this.int16[Lr+1]=lt,this.int16[Lr+2]=dt,this.float32[Ir+2]=bt,this.float32[Ir+3]=Et,this.uint16[Lr+8]=Ot,this.uint16[Lr+9]=zt,this.uint32[Ir+5]=Yt,this.uint32[Ir+6]=an,this.uint32[Ir+7]=yn,this.uint16[Lr+16]=vn,this.uint16[Lr+17]=An,this.uint16[Lr+18]=kn,this.float32[Ir+10]=Pn,this.float32[Ir+11]=Xn,this.uint8[Xr+48]=fr,this.uint8[Xr+49]=Fr,this.uint8[Xr+50]=dr,this.uint32[Ir+13]=_r,this.int16[Lr+28]=wr,this.uint8[Xr+58]=vr,tt}}my.prototype.bytesPerElement=60,ko(my,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Np extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn,Pn,Xn,fr,Fr,dr,_r,wr,vr,Lr,Ir,Xr,fo,Jr,no,ro,ao){const go=this.length;return this.resize(go+1),this.emplace(go,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn,Pn,Xn,fr,Fr,dr,_r,wr,vr,Lr,Ir,Xr,fo,Jr,no,ro,ao)}emplace(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn,Pn,Xn,fr,Fr,dr,_r,wr,vr,Lr,Ir,Xr,fo,Jr,no,ro,ao,go){const jr=38*tt,Ro=19*tt;return this.int16[jr+0]=it,this.int16[jr+1]=lt,this.int16[jr+2]=dt,this.float32[Ro+2]=bt,this.float32[Ro+3]=Et,this.int16[jr+8]=Ot,this.int16[jr+9]=zt,this.int16[jr+10]=Yt,this.int16[jr+11]=an,this.int16[jr+12]=yn,this.int16[jr+13]=vn,this.uint16[jr+14]=An,this.uint16[jr+15]=kn,this.uint16[jr+16]=Pn,this.uint16[jr+17]=Xn,this.uint16[jr+18]=fr,this.uint16[jr+19]=Fr,this.uint16[jr+20]=dr,this.uint16[jr+21]=_r,this.uint16[jr+22]=wr,this.uint16[jr+23]=vr,this.uint16[jr+24]=Lr,this.uint16[jr+25]=Ir,this.uint16[jr+26]=Xr,this.uint16[jr+27]=fo,this.uint16[jr+28]=Jr,this.uint32[Ro+15]=no,this.float32[Ro+16]=ro,this.float32[Ro+17]=ao,this.float32[Ro+18]=go,tt}}Np.prototype.bytesPerElement=76,ko(Np,"StructArrayLayout3i2f6i15ui1ul3f76");class es extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(tt){const it=this.length;return this.resize(it+1),this.emplace(it,tt)}emplace(tt,it){return this.float32[1*tt+0]=it,tt}}es.prototype.bytesPerElement=4,ko(es,"StructArrayLayout1f4");class Vp extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt,bt){const Et=this.length;return this.resize(Et+1),this.emplace(Et,tt,it,lt,dt,bt)}emplace(tt,it,lt,dt,bt,Et){const Ot=5*tt;return this.float32[Ot+0]=it,this.float32[Ot+1]=lt,this.float32[Ot+2]=dt,this.float32[Ot+3]=bt,this.float32[Ot+4]=Et,tt}}Vp.prototype.bytesPerElement=20,ko(Vp,"StructArrayLayout5f20");class bm extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(tt,it,lt,dt){const bt=this.length;return this.resize(bt+1),this.emplace(bt,tt,it,lt,dt)}emplace(tt,it,lt,dt,bt){const Et=6*tt;return this.uint32[3*tt+0]=it,this.uint16[Et+2]=lt,this.uint16[Et+3]=dt,this.uint16[Et+4]=bt,tt}}bm.prototype.bytesPerElement=12,ko(bm,"StructArrayLayout1ul3ui12");class Ru extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(tt,it){const lt=this.length;return this.resize(lt+1),this.emplace(lt,tt,it)}emplace(tt,it,lt){const dt=2*tt;return this.uint16[dt+0]=it,this.uint16[dt+1]=lt,tt}}Ru.prototype.bytesPerElement=4,ko(Ru,"StructArrayLayout2ui4");class M0 extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(tt){const it=this.length;return this.resize(it+1),this.emplace(it,tt)}emplace(tt,it){return this.uint16[1*tt+0]=it,tt}}M0.prototype.bytesPerElement=2,ko(M0,"StructArrayLayout1ui2");class Cv extends Wo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(tt,it){const lt=this.length;return this.resize(lt+1),this.emplace(lt,tt,it)}emplace(tt,it,lt){const dt=2*tt;return this.float32[dt+0]=it,this.float32[dt+1]=lt,tt}}Cv.prototype.bytesPerElement=8,ko(Cv,"StructArrayLayout2f8");class WF extends zo{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}WF.prototype.size=12;class bp extends Hs{get(tt){return new WF(this,tt)}}ko(bp,"FillExtrusionExtArray");class JF extends zo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}JF.prototype.size=40;class N0 extends hu{get(tt){return new JF(this,tt)}}ko(N0,"CollisionBoxArray");class kv extends zo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(tt){this._structArray.uint8[this._pos1+49]=tt}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(tt){this._structArray.uint8[this._pos1+50]=tt}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(tt){this._structArray.uint32[this._pos4+13]=tt}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(tt){this._structArray.uint8[this._pos1+58]=tt}}kv.prototype.size=60;class MU extends my{get(tt){return new kv(this,tt)}}ko(MU,"PlacedSymbolArray");class NU extends zo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(tt){this._structArray.uint32[this._pos4+15]=tt}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}NU.prototype.size=76;class _d extends Np{get(tt){return new NU(this,tt)}}ko(_d,"SymbolInstanceArray");class jm extends es{getoffsetX(tt){return this.float32[1*tt+0]}}ko(jm,"GlyphOffsetArray");class Mv extends js{getx(tt){return this.int16[3*tt+0]}gety(tt){return this.int16[3*tt+1]}gettileUnitDistanceFromAnchor(tt){return this.int16[3*tt+2]}}ko(Mv,"SymbolLineVertexArray");class VU extends zo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}VU.prototype.size=12;class V_ extends bm{get(tt){return new VU(this,tt)}}ko(V_,"FeatureIndexArray");class DU extends zo{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}DU.prototype.size=4;class Nv extends Ru{get(tt){return new DU(this,tt)}}ko(Nv,"FillExtrusionCentroidArray");class OU extends zo{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}OU.prototype.size=12;class Vv extends Hs{get(tt){return new OU(this,tt)}}ko(Vv,"CircleGlobeExtArray");const IU=vo([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),yy=vo([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var V0={exports:{}},zm={exports:{}};zm.exports=function(rt,tt){var it,lt,dt,bt,Et,Ot,zt,Yt;for(lt=rt.length-(it=3&rt.length),dt=tt,Et=3432918353,Ot=461845907,Yt=0;Yt<lt;)zt=255&rt.charCodeAt(Yt)|(255&rt.charCodeAt(++Yt))<<8|(255&rt.charCodeAt(++Yt))<<16|(255&rt.charCodeAt(++Yt))<<24,++Yt,dt=27492+(65535&(bt=5*(65535&(dt=(dt^=zt=(65535&(zt=(zt=(65535&zt)*Et+(((zt>>>16)*Et&65535)<<16)&4294967295)<<15|zt>>>17))*Ot+(((zt>>>16)*Ot&65535)<<16)&4294967295)<<13|dt>>>19))+((5*(dt>>>16)&65535)<<16)&4294967295))+((58964+(bt>>>16)&65535)<<16);switch(zt=0,it){case 3:zt^=(255&rt.charCodeAt(Yt+2))<<16;case 2:zt^=(255&rt.charCodeAt(Yt+1))<<8;case 1:dt^=zt=(65535&(zt=(zt=(65535&(zt^=255&rt.charCodeAt(Yt)))*Et+(((zt>>>16)*Et&65535)<<16)&4294967295)<<15|zt>>>17))*Ot+(((zt>>>16)*Ot&65535)<<16)&4294967295}return dt^=rt.length,dt=2246822507*(65535&(dt^=dt>>>16))+((2246822507*(dt>>>16)&65535)<<16)&4294967295,dt=3266489909*(65535&(dt^=dt>>>13))+((3266489909*(dt>>>16)&65535)<<16)&4294967295,(dt^=dt>>>16)>>>0};var PU={exports:{}};PU.exports=function(rt,tt){for(var it,lt=rt.length,dt=tt^lt,bt=0;lt>=4;)it=1540483477*(65535&(it=255&rt.charCodeAt(bt)|(255&rt.charCodeAt(++bt))<<8|(255&rt.charCodeAt(++bt))<<16|(255&rt.charCodeAt(++bt))<<24))+((1540483477*(it>>>16)&65535)<<16),dt=1540483477*(65535&dt)+((1540483477*(dt>>>16)&65535)<<16)^(it=1540483477*(65535&(it^=it>>>24))+((1540483477*(it>>>16)&65535)<<16)),lt-=4,++bt;switch(lt){case 3:dt^=(255&rt.charCodeAt(bt+2))<<16;case 2:dt^=(255&rt.charCodeAt(bt+1))<<8;case 1:dt=1540483477*(65535&(dt^=255&rt.charCodeAt(bt)))+((1540483477*(dt>>>16)&65535)<<16)}return dt=1540483477*(65535&(dt^=dt>>>13))+((1540483477*(dt>>>16)&65535)<<16),(dt^=dt>>>15)>>>0};var LU=zm.exports,WU=PU.exports;V0.exports=LU,V0.exports.murmur3=LU,V0.exports.murmur2=WU;class Dv{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(tt,it,lt,dt){this.ids.push(jF(tt)),this.positions.push(it,lt,dt)}getPositions(tt){const it=jF(tt);let lt=0,dt=this.ids.length-1;for(;lt<dt;){const Et=lt+dt>>1;this.ids[Et]>=it?dt=Et:lt=Et+1}const bt=[];for(;this.ids[lt]===it;)bt.push({index:this.positions[3*lt],start:this.positions[3*lt+1],end:this.positions[3*lt+2]}),lt++;return bt}static serialize(tt,it){const lt=new Float64Array(tt.ids),dt=new Uint32Array(tt.positions);return JU(lt,dt,0,lt.length-1),it&&it.push(lt.buffer,dt.buffer),{ids:lt,positions:dt}}static deserialize(tt){const it=new Dv;return it.ids=tt.ids,it.positions=tt.positions,it.indexed=!0,it}}function jF(rt){const tt=+rt;return!isNaN(tt)&&Number.MIN_SAFE_INTEGER<=tt&&tt<=Number.MAX_SAFE_INTEGER?tt:V0.exports(String(rt))}function JU(rt,tt,it,lt){for(;it<lt;){const dt=rt[it+lt>>1];let bt=it-1,Et=lt+1;for(;;){do bt++;while(rt[bt]<dt);do Et--;while(rt[Et]>dt);if(bt>=Et)break;D_(rt,bt,Et),D_(tt,3*bt,3*Et),D_(tt,3*bt+1,3*Et+1),D_(tt,3*bt+2,3*Et+2)}Et-it<lt-Et?(JU(rt,tt,it,Et),it=Et+1):(JU(rt,tt,Et+1,lt),lt=Et)}}function D_(rt,tt,it){const lt=rt[tt];rt[tt]=rt[it],rt[it]=lt}ko(Dv,"FeaturePositionMap");class Um{constructor(tt){this.gl=tt.gl,this.initialized=!1}fetchUniformLocation(tt,it){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(tt,it),this.initialized=!0),!!this.location}}class Ov extends Um{constructor(tt){super(tt),this.current=0}set(tt,it,lt){this.fetchUniformLocation(tt,it)&&this.current!==lt&&(this.current=lt,this.gl.uniform1f(this.location,lt))}}class jU extends Um{constructor(tt){super(tt),this.current=[0,0,0,0]}set(tt,it,lt){this.fetchUniformLocation(tt,it)&&(lt[0]===this.current[0]&&lt[1]===this.current[1]&&lt[2]===this.current[2]&&lt[3]===this.current[3]||(this.current=lt,this.gl.uniform4f(this.location,lt[0],lt[1],lt[2],lt[3])))}}class zU extends Um{constructor(tt){super(tt),this.current=Zs.transparent}set(tt,it,lt){this.fetchUniformLocation(tt,it)&&(lt.r===this.current.r&&lt.g===this.current.g&&lt.b===this.current.b&&lt.a===this.current.a||(this.current=lt,this.gl.uniform4f(this.location,lt.r,lt.g,lt.b,lt.a)))}}const _f=new Float32Array(16),Fm=new Float32Array(9),_S=new Float32Array(4);function ZU(rt){return[Oo(255*rt.r,255*rt.g),Oo(255*rt.b,255*rt.a)]}class _y{constructor(tt,it,lt){this.value=tt,this.uniformNames=it.map(dt=>`u_${dt}`),this.type=lt}setUniform(tt,it,lt,dt,bt){it.set(tt,bt,dt.constantOr(this.value))}getBinding(tt,it){return this.type==="color"?new zU(tt):new Ov(tt)}}class tm{constructor(tt,it){this.uniformNames=it.map(lt=>`u_${lt}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(tt,it){this.pixelRatioFrom=it.pixelRatio||1,this.pixelRatioTo=tt.pixelRatio||1,this.patternFrom=it.tl.concat(it.br),this.patternTo=tt.tl.concat(tt.br)}setUniform(tt,it,lt,dt,bt){const Et=bt==="u_pattern_to"||bt==="u_dash_to"?this.patternTo:bt==="u_pattern_from"||bt==="u_dash_from"?this.patternFrom:bt==="u_pixel_ratio_to"?this.pixelRatioTo:bt==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Et&&it.set(tt,bt,Et)}getBinding(tt,it){return it==="u_pattern_from"||it==="u_pattern_to"||it==="u_dash_from"||it==="u_dash_to"?new jU(tt):new Ov(tt)}}class Sm{constructor(tt,it,lt,dt){this.expression=tt,this.type=lt,this.maxValue=0,this.paintVertexAttributes=it.map(bt=>({name:`a_${bt}`,type:"Float32",components:lt==="color"?2:1,offset:0})),this.paintVertexArray=new dt}populatePaintArray(tt,it,lt,dt,bt,Et){const Ot=this.paintVertexArray.length,zt=this.expression.evaluate(new ur(0),it,{},bt,dt,Et);this.paintVertexArray.resize(tt),this._setPaintValue(Ot,tt,zt)}updatePaintArray(tt,it,lt,dt,bt){const Et=this.expression.evaluate({zoom:0},lt,dt,void 0,bt);this._setPaintValue(tt,it,Et)}_setPaintValue(tt,it,lt){if(this.type==="color"){const dt=ZU(lt);for(let bt=tt;bt<it;bt++)this.paintVertexArray.emplace(bt,dt[0],dt[1])}else{for(let dt=tt;dt<it;dt++)this.paintVertexArray.emplace(dt,lt);this.maxValue=Math.max(this.maxValue,Math.abs(lt))}}upload(tt){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=tt.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Dp{constructor(tt,it,lt,dt,bt,Et){this.expression=tt,this.uniformNames=it.map(Ot=>`u_${Ot}_t`),this.type=lt,this.useIntegerZoom=dt,this.zoom=bt,this.maxValue=0,this.paintVertexAttributes=it.map(Ot=>({name:`a_${Ot}`,type:"Float32",components:lt==="color"?4:2,offset:0})),this.paintVertexArray=new Et}populatePaintArray(tt,it,lt,dt,bt,Et){const Ot=this.expression.evaluate(new ur(this.zoom),it,{},bt,dt,Et),zt=this.expression.evaluate(new ur(this.zoom+1),it,{},bt,dt,Et),Yt=this.paintVertexArray.length;this.paintVertexArray.resize(tt),this._setPaintValue(Yt,tt,Ot,zt)}updatePaintArray(tt,it,lt,dt,bt){const Et=this.expression.evaluate({zoom:this.zoom},lt,dt,void 0,bt),Ot=this.expression.evaluate({zoom:this.zoom+1},lt,dt,void 0,bt);this._setPaintValue(tt,it,Et,Ot)}_setPaintValue(tt,it,lt,dt){if(this.type==="color"){const bt=ZU(lt),Et=ZU(dt);for(let Ot=tt;Ot<it;Ot++)this.paintVertexArray.emplace(Ot,bt[0],bt[1],Et[0],Et[1])}else{for(let bt=tt;bt<it;bt++)this.paintVertexArray.emplace(bt,lt,dt);this.maxValue=Math.max(this.maxValue,Math.abs(lt),Math.abs(dt))}}upload(tt){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=tt.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(tt,it,lt,dt,bt){const Et=this.useIntegerZoom?Math.floor(lt.zoom):lt.zoom,Ot=Zt(this.expression.interpolationFactor(Et,this.zoom,this.zoom+1),0,1);it.set(tt,bt,Ot)}getBinding(tt,it){return new Ov(tt)}}class vy{constructor(tt,it,lt,dt,bt,Et,Ot){this.expression=tt,this.type=lt,this.useIntegerZoom=dt,this.zoom=bt,this.layerId=Ot,this.paintVertexAttributes=(lt==="array"?yy:IU).members;for(let zt=0;zt<it.length;++zt);this.zoomInPaintVertexArray=new Et,this.zoomOutPaintVertexArray=new Et}populatePaintArray(tt,it,lt){const dt=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(tt),this.zoomOutPaintVertexArray.resize(tt),this._setPaintValues(dt,tt,it.patterns&&it.patterns[this.layerId],lt)}updatePaintArray(tt,it,lt,dt,bt,Et){this._setPaintValues(tt,it,lt.patterns&&lt.patterns[this.layerId],Et)}_setPaintValues(tt,it,lt,dt){if(!dt||!lt)return;const{min:bt,mid:Et,max:Ot}=lt,zt=dt[bt],Yt=dt[Et],an=dt[Ot];if(zt&&Yt&&an)for(let yn=tt;yn<it;yn++)this._setPaintValue(this.zoomInPaintVertexArray,yn,Yt,zt),this._setPaintValue(this.zoomOutPaintVertexArray,yn,Yt,an)}_setPaintValue(tt,it,lt,dt){tt.emplace(it,lt.tl[0],lt.tl[1],lt.br[0],lt.br[1],dt.tl[0],dt.tl[1],dt.br[0],dt.br[1],lt.pixelRatio,dt.pixelRatio)}upload(tt){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=tt.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=tt.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Zm{constructor(tt,it,lt=()=>!0){this.binders={},this._buffers=[];const dt=[];for(const bt in tt.paint._values){if(!lt(bt))continue;const Et=tt.paint.get(bt);if(!(Et instanceof _i&&Gp(Et.property.specification)))continue;const Ot=vS(bt,tt.type),zt=Et.value,Yt=Et.property.specification.type,an=Et.property.useIntegerZoom,yn=Et.property.specification["property-type"],vn=yn==="cross-faded"||yn==="cross-faded-data-driven",An=String(bt)==="line-dasharray"&&tt.layout.get("line-cap").value.kind!=="constant";if(zt.kind!=="constant"||An)if(zt.kind==="source"||An||vn){const kn=I_(bt,Yt,"source");this.binders[bt]=vn?new vy(zt,Ot,Yt,an,it,kn,tt.id):new Sm(zt,Ot,Yt,kn),dt.push(`/a_${bt}`)}else{const kn=I_(bt,Yt,"composite");this.binders[bt]=new Dp(zt,Ot,Yt,an,it,kn),dt.push(`/z_${bt}`)}else this.binders[bt]=vn?new tm(zt.value,Ot):new _y(zt.value,Ot,Yt),dt.push(`/u_${bt}`)}this.cacheKey=dt.sort().join("")}getMaxValue(tt){const it=this.binders[tt];return it instanceof Sm||it instanceof Dp?it.maxValue:0}populatePaintArrays(tt,it,lt,dt,bt,Et){for(const Ot in this.binders){const zt=this.binders[Ot];(zt instanceof Sm||zt instanceof Dp||zt instanceof vy)&&zt.populatePaintArray(tt,it,lt,dt,bt,Et)}}setConstantPatternPositions(tt,it){for(const lt in this.binders){const dt=this.binders[lt];dt instanceof tm&&dt.setConstantPatternPositions(tt,it)}}updatePaintArrays(tt,it,lt,dt,bt,Et){let Ot=!1;for(const zt in tt){const Yt=it.getPositions(zt);for(const an of Yt){const yn=lt.feature(an.index);for(const vn in this.binders){const An=this.binders[vn];if((An instanceof Sm||An instanceof Dp||An instanceof vy)&&An.expression.isStateDependent===!0){const kn=dt.paint.get(vn);An.expression=kn.value,An.updatePaintArray(an.start,an.end,yn,tt[zt],bt,Et),Ot=!0}}}}return Ot}defines(){const tt=[];for(const it in this.binders){const lt=this.binders[it];(lt instanceof _y||lt instanceof tm)&&tt.push(...lt.uniformNames.map(dt=>`#define HAS_UNIFORM_${dt}`))}return tt}getBinderAttributes(){const tt=[];for(const it in this.binders){const lt=this.binders[it];if(lt instanceof Sm||lt instanceof Dp||lt instanceof vy)for(let dt=0;dt<lt.paintVertexAttributes.length;dt++)tt.push(lt.paintVertexAttributes[dt].name)}return tt}getBinderUniforms(){const tt=[];for(const it in this.binders){const lt=this.binders[it];if(lt instanceof _y||lt instanceof tm||lt instanceof Dp)for(const dt of lt.uniformNames)tt.push(dt)}return tt}getPaintVertexBuffers(){return this._buffers}getUniforms(tt){const it=[];for(const lt in this.binders){const dt=this.binders[lt];if(dt instanceof _y||dt instanceof tm||dt instanceof Dp)for(const bt of dt.uniformNames)it.push({name:bt,property:lt,binding:dt.getBinding(tt,bt)})}return it}setUniforms(tt,it,lt,dt,bt){for(const{name:Et,property:Ot,binding:zt}of lt)this.binders[Ot].setUniform(tt,zt,bt,dt.get(Ot),Et)}updatePaintBuffers(tt){this._buffers=[];for(const it in this.binders){const lt=this.binders[it];if(tt&&lt instanceof vy){const dt=tt.fromScale===2?lt.zoomInPaintVertexBuffer:lt.zoomOutPaintVertexBuffer;dt&&this._buffers.push(dt)}else(lt instanceof Sm||lt instanceof Dp)&&lt.paintVertexBuffer&&this._buffers.push(lt.paintVertexBuffer)}}upload(tt){for(const it in this.binders){const lt=this.binders[it];(lt instanceof Sm||lt instanceof Dp||lt instanceof vy)&&lt.upload(tt)}this.updatePaintBuffers()}destroy(){for(const tt in this.binders){const it=this.binders[tt];(it instanceof Sm||it instanceof Dp||it instanceof vy)&&it.destroy()}}}class Op{constructor(tt,it,lt=()=>!0){this.programConfigurations={};for(const dt of tt)this.programConfigurations[dt.id]=new Zm(dt,it,lt);this.needsUpload=!1,this._featureMap=new Dv,this._bufferOffset=0}populatePaintArrays(tt,it,lt,dt,bt,Et,Ot){for(const zt in this.programConfigurations)this.programConfigurations[zt].populatePaintArrays(tt,it,dt,bt,Et,Ot);it.id!==void 0&&this._featureMap.add(it.id,lt,this._bufferOffset,tt),this._bufferOffset=tt,this.needsUpload=!0}updatePaintArrays(tt,it,lt,dt,bt){for(const Et of lt)this.needsUpload=this.programConfigurations[Et.id].updatePaintArrays(tt,this._featureMap,it,Et,dt,bt)||this.needsUpload}get(tt){return this.programConfigurations[tt]}upload(tt){if(this.needsUpload){for(const it in this.programConfigurations)this.programConfigurations[it].upload(tt);this.needsUpload=!1}}destroy(){for(const tt in this.programConfigurations)this.programConfigurations[tt].destroy()}}const O_={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function vS(rt,tt){return O_[rt]||[rt.replace(`${tt}-`,"").replace(/-/g,"_")]}const zF={"line-pattern":{source:uu,composite:uu},"fill-pattern":{source:uu,composite:uu},"fill-extrusion-pattern":{source:uu,composite:uu},"line-dasharray":{source:vp,composite:vp}},ZF={color:{source:Cv,composite:Jl},number:{source:es,composite:Cv}};function I_(rt,tt,it){const lt=zF[rt];return lt&&lt[it]||ZF[tt][it]}ko(_y,"ConstantBinder"),ko(tm,"CrossFadedConstantBinder"),ko(Sm,"SourceExpressionBinder"),ko(vy,"CrossFadedCompositeBinder"),ko(Dp,"CompositeExpressionBinder"),ko(Zm,"ProgramConfiguration",{omit:["_buffers"]}),ko(Op,"ProgramConfigurationSet");const P_="-transition";class ep extends mu{constructor(tt,it){if(super(),this.id=tt.id,this.type=tt.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,tt.type!=="custom"&&(this.metadata=tt.metadata,this.minzoom=tt.minzoom,this.maxzoom=tt.maxzoom,tt.type!=="background"&&tt.type!=="sky"&&(this.source=tt.source,this.sourceLayer=tt["source-layer"],this.filter=tt.filter),it.layout&&(this._unevaluatedLayout=new xr(it.layout)),it.paint)){this._transitionablePaint=new Wr(it.paint);for(const lt in tt.paint)this.setPaintProperty(lt,tt.paint[lt],{validate:!1});for(const lt in tt.layout)this.setLayoutProperty(lt,tt.layout[lt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new eo(it.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(tt){return tt==="visibility"?this.visibility:this._unevaluatedLayout.getValue(tt)}setLayoutProperty(tt,it,lt={}){it!=null&&this._validate(kU,`layers.${this.id}.layout.${tt}`,tt,it,lt)||(tt!=="visibility"?this._unevaluatedLayout.setValue(tt,it):this.visibility=it)}getPaintProperty(tt){return sn(tt,P_)?this._transitionablePaint.getTransition(tt.slice(0,-P_.length)):this._transitionablePaint.getValue(tt)}setPaintProperty(tt,it,lt={}){if(it!=null&&this._validate(CU,`layers.${this.id}.paint.${tt}`,tt,it,lt))return!1;if(sn(tt,P_))return this._transitionablePaint.setTransition(tt.slice(0,-P_.length),it||void 0),!1;{const dt=this._transitionablePaint._values[tt],bt=dt.property.specification["property-type"]==="cross-faded-data-driven",Et=dt.value.isDataDriven(),Ot=dt.value;this._transitionablePaint.setValue(tt,it),this._handleSpecialPaintPropertyUpdate(tt);const zt=this._transitionablePaint._values[tt].value;return zt.isDataDriven()||Et||bt||this._handleOverridablePaintPropertyUpdate(tt,Ot,zt)}}_handleSpecialPaintPropertyUpdate(tt){}getProgramIds(){return null}getProgramConfiguration(tt){return null}_handleOverridablePaintPropertyUpdate(tt,it,lt){return!1}isHidden(tt){return!!(this.minzoom&&tt<this.minzoom)||!!(this.maxzoom&&tt>=this.maxzoom)||this.visibility==="none"}updateTransitions(tt){this._transitioningPaint=this._transitionablePaint.transitioned(tt,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(tt,it){tt.getCrossfadeParameters&&(this._crossfadeParameters=tt.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(tt,void 0,it)),this.paint=this._transitioningPaint.possiblyEvaluate(tt,void 0,it)}serialize(){const tt={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(tt.layout=tt.layout||{},tt.layout.visibility=this.visibility),Dt(tt,(it,lt)=>!(it===void 0||lt==="layout"&&!Object.keys(it).length||lt==="paint"&&!Object.keys(it).length))}_validate(tt,it,lt,dt,bt={}){return(!bt||bt.validate!==!1)&&_g(this,tt.call(ks,{key:it,layerType:this.type,objectKey:lt,value:dt,styleSpec:zr,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const tt in this.paint._values){const it=this.paint.get(tt);if(it instanceof _i&&Gp(it.property.specification)&&(it.value.kind==="source"||it.value.kind==="composite")&&it.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=E0(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const GU=vo([{name:"a_pos",components:2,type:"Int16"}],4),Iv=vo([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class zl{constructor(tt=[]){this.segments=tt}prepareSegment(tt,it,lt,dt){let bt=this.segments[this.segments.length-1];return tt>zl.MAX_VERTEX_ARRAY_LENGTH&&mn(`Max vertices per segment is ${zl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${tt}`),(!bt||bt.vertexLength+tt>zl.MAX_VERTEX_ARRAY_LENGTH||bt.sortKey!==dt)&&(bt={vertexOffset:it.length,primitiveOffset:lt.length,vertexLength:0,primitiveLength:0},dt!==void 0&&(bt.sortKey=dt),this.segments.push(bt)),bt}get(){return this.segments}destroy(){for(const tt of this.segments)for(const it in tt.vaos)tt.vaos[it].destroy()}static simpleSegment(tt,it,lt,dt){return new zl([{vertexOffset:tt,primitiveOffset:it,vertexLength:lt,primitiveLength:dt,vaos:{},sortKey:0}])}}zl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ko(zl,"SegmentVector");var Xo=8192;class nm{constructor(tt,it){tt&&(it?this.setSouthWest(tt).setNorthEast(it):tt.length===4?this.setSouthWest([tt[0],tt[1]]).setNorthEast([tt[2],tt[3]]):this.setSouthWest(tt[0]).setNorthEast(tt[1]))}setNorthEast(tt){return this._ne=tt instanceof Ms?new Ms(tt.lng,tt.lat):Ms.convert(tt),this}setSouthWest(tt){return this._sw=tt instanceof Ms?new Ms(tt.lng,tt.lat):Ms.convert(tt),this}extend(tt){const it=this._sw,lt=this._ne;let dt,bt;if(tt instanceof Ms)dt=tt,bt=tt;else{if(!(tt instanceof nm))return Array.isArray(tt)?tt.length===4||tt.every(Array.isArray)?this.extend(nm.convert(tt)):this.extend(Ms.convert(tt)):typeof tt=="object"&&tt!==null&&tt.hasOwnProperty("lat")&&tt.hasOwnProperty("lon")?this.extend(Ms.convert(tt)):this;if(dt=tt._sw,bt=tt._ne,!dt||!bt)return this}return it||lt?(it.lng=Math.min(dt.lng,it.lng),it.lat=Math.min(dt.lat,it.lat),lt.lng=Math.max(bt.lng,lt.lng),lt.lat=Math.max(bt.lat,lt.lat)):(this._sw=new Ms(dt.lng,dt.lat),this._ne=new Ms(bt.lng,bt.lat)),this}getCenter(){return new Ms((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Ms(this.getWest(),this.getNorth())}getSouthEast(){return new Ms(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(tt){const{lng:it,lat:lt}=Ms.convert(tt);let dt=this._sw.lng<=it&&it<=this._ne.lng;return this._sw.lng>this._ne.lng&&(dt=this._sw.lng>=it&&it>=this._ne.lng),this._sw.lat<=lt&&lt<=this._ne.lat&&dt}static convert(tt){return!tt||tt instanceof nm?tt:new nm(tt)}}const L_=63710088e-1;class Ms{constructor(tt,it){if(isNaN(tt)||isNaN(it))throw new Error(`Invalid LngLat object: (${tt}, ${it})`);if(this.lng=+tt,this.lat=+it,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ms(Gt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(tt){const it=Math.PI/180,lt=this.lat*it,dt=tt.lat*it,bt=Math.sin(lt)*Math.sin(dt)+Math.cos(lt)*Math.cos(dt)*Math.cos((tt.lng-this.lng)*it);return L_*Math.acos(Math.min(bt,1))}toBounds(tt=0){const it=360*tt/40075017,lt=it/Math.cos(Math.PI/180*this.lat);return new nm(new Ms(this.lng-lt,this.lat-it),new Ms(this.lng+lt,this.lat+it))}static convert(tt){if(tt instanceof Ms)return tt;if(Array.isArray(tt)&&(tt.length===2||tt.length===3))return new Ms(Number(tt[0]),Number(tt[1]));if(!Array.isArray(tt)&&typeof tt=="object"&&tt!==null)return new Ms(Number("lng"in tt?tt.lng:tt.lon),Number(tt.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const GF=2*Math.PI*L_;function Pv(rt){return GF*Math.cos(rt*Math.PI/180)}function du(rt){return(180+rt)/360}function rm(rt){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+rt*Math.PI/360)))/360}function Up(rt,tt){return rt/Pv(tt)}function Fp(rt){return 360*rt-180}function ou(rt){return 360/Math.PI*Math.atan(Math.exp((180-360*rt)*Math.PI/180))-90}function HF(rt,tt){return rt*Pv(ou(tt))}const Rm=85.051129;function wm(rt){return 1/Math.cos(rt*Math.PI/180)}class by{constructor(tt,it,lt=0){this.x=+tt,this.y=+it,this.z=+lt}static fromLngLat(tt,it=0){const lt=Ms.convert(tt);return new by(du(lt.lng),rm(lt.lat),Up(it,lt.lat))}toLngLat(){return new Ms(Fp(this.x),ou(this.y))}toAltitude(){return HF(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/GF*wm(ou(this.y))}}function W_(rt,tt,it,lt,dt,bt,Et,Ot,zt){const Yt=(tt+lt)/2,an=(it+dt)/2,yn=new mt(Yt,an);Ot(yn),function(vn,An,kn,Pn,Xn,fr){const Fr=kn-Xn,dr=Pn-fr;return Math.abs((Pn-An)*Fr-(kn-vn)*dr)/Math.hypot(Fr,dr)}(yn.x,yn.y,bt.x,bt.y,Et.x,Et.y)>=zt?(W_(rt,tt,it,Yt,an,bt,yn,Ot,zt),W_(rt,Yt,an,lt,dt,yn,Et,Ot,zt)):rt.push(Et)}function Lv(rt,tt,it){let lt=rt[0],dt=lt.x,bt=lt.y;tt(lt);const Et=[lt];for(let Ot=1;Ot<rt.length;Ot++){const zt=rt[Ot],{x:Yt,y:an}=zt;tt(zt),W_(Et,dt,bt,Yt,an,lt,zt,tt,it),dt=Yt,bt=an,lt=zt}return Et}function D0(rt,tt,it,lt){if(lt(tt,it)){const dt=tt.add(it)._mult(.5);D0(rt,tt,dt,lt),D0(rt,dt,it,lt)}else rt.push(it)}function O0(rt,tt){let it=rt[0];const lt=[it];for(let dt=1;dt<rt.length;dt++){const bt=rt[dt];D0(lt,it,bt,tt),it=bt}return lt}const ls=Math.pow(2,14)-1,J_=-ls-1;function HU(rt,tt){const it=Math.round(rt.x*tt),lt=Math.round(rt.y*tt);return rt.x=Zt(it,J_,ls),rt.y=Zt(lt,J_,ls),(it<rt.x||it>rt.x+1||lt<rt.y||lt>rt.y+1)&&mn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),rt}function Lu(rt,tt,it){const lt=rt.loadGeometry(),dt=rt.extent,bt=Xo/dt;if(tt&&it&&it.projection.isReprojectedInTileSpace){const Et=1<<tt.z,{scale:Ot,x:zt,y:Yt,projection:an}=it,yn=vn=>{const An=Fp((tt.x+vn.x/dt)/Et),kn=ou((tt.y+vn.y/dt)/Et),Pn=an.project(An,kn);vn.x=(Pn.x*Ot-zt)*dt,vn.y=(Pn.y*Ot-Yt)*dt};for(let vn=0;vn<lt.length;vn++)if(rt.type!==1)lt[vn]=Lv(lt[vn],yn,1);else{const An=[];for(const kn of lt[vn])kn.x<0||kn.x>=dt||kn.y<0||kn.y>=dt||(yn(kn),An.push(kn));lt[vn]=An}}for(const Et of lt)for(const Ot of Et)HU(Ot,bt);return lt}function Yy(rt,tt){return{type:rt.type,id:rt.id,properties:rt.properties,geometry:tt?Lu(rt):[]}}function I0(rt,tt,it,lt,dt){rt.emplaceBack(2*tt+(lt+1)/2,2*it+(dt+1)/2)}function j_(rt,tt,it){rt.emplaceBack(tt.x,tt.y,tt.z,it[0]*16384,it[1]*16384,it[2]*16384)}class fu{constructor(tt){this.zoom=tt.zoom,this.overscaling=tt.overscaling,this.layers=tt.layers,this.layerIds=this.layers.map(it=>it.id),this.index=tt.index,this.hasPattern=!1,this.projection=tt.projection,this.layoutVertexArray=new gs,this.indexArray=new iu,this.segments=new zl,this.programConfigurations=new Op(tt.layers,tt.zoom),this.stateDependentLayerIds=this.layers.filter(it=>it.isStateDependent()).map(it=>it.id)}populate(tt,it,lt,dt){const bt=this.layers[0],Et=[];let Ot=null;bt.type==="circle"&&(Ot=bt.layout.get("circle-sort-key"));for(const{feature:Yt,id:an,index:yn,sourceLayerIndex:vn}of tt){const An=this.layers[0]._featureFilter.needGeometry,kn=Yy(Yt,An);if(!this.layers[0]._featureFilter.filter(new ur(this.zoom),kn,lt))continue;const Pn=Ot?Ot.evaluate(kn,{},lt):void 0,Xn={id:an,properties:Yt.properties,type:Yt.type,sourceLayerIndex:vn,index:yn,geometry:An?kn.geometry:Lu(Yt,lt,dt),patterns:{},sortKey:Pn};Et.push(Xn)}Ot&&Et.sort((Yt,an)=>Yt.sortKey-an.sortKey);let zt=null;dt.projection.name==="globe"&&(this.globeExtVertexArray=new Vv,zt=dt.projection);for(const Yt of Et){const{geometry:an,index:yn,sourceLayerIndex:vn}=Yt,An=tt[yn].feature;this.addFeature(Yt,an,yn,it.availableImages,lt,zt),it.featureIndex.insert(An,an,yn,vn,this.index)}}update(tt,it,lt,dt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(tt,it,this.stateDependentLayers,lt,dt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(tt){this.uploaded||(this.layoutVertexBuffer=tt.createVertexBuffer(this.layoutVertexArray,GU.members),this.indexBuffer=tt.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=tt.createVertexBuffer(this.globeExtVertexArray,Iv.members))),this.programConfigurations.upload(tt),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(tt,it,lt,dt,bt,Et){for(const Ot of it)for(const zt of Ot){const Yt=zt.x,an=zt.y;if(Yt<0||Yt>=Xo||an<0||an>=Xo)continue;if(Et){const An=Et.projectTilePoint(Yt,an,bt),kn=Et.upVector(bt,Yt,an),Pn=this.globeExtVertexArray;j_(Pn,An,kn),j_(Pn,An,kn),j_(Pn,An,kn),j_(Pn,An,kn)}const yn=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,tt.sortKey),vn=yn.vertexLength;I0(this.layoutVertexArray,Yt,an,-1,-1),I0(this.layoutVertexArray,Yt,an,1,-1),I0(this.layoutVertexArray,Yt,an,1,1),I0(this.layoutVertexArray,Yt,an,-1,1),this.indexArray.emplaceBack(vn,vn+1,vn+2),this.indexArray.emplaceBack(vn,vn+2,vn+3),yn.vertexLength+=4,yn.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,tt,lt,{},dt,bt)}}function $F(rt,tt){for(let it=0;it<rt.length;it++)if(Kl(tt,rt[it]))return!0;for(let it=0;it<tt.length;it++)if(Kl(rt,tt[it]))return!0;return!!Wv(rt,tt)}function bS(rt,tt,it){return!!Kl(rt,tt)||!!YU(tt,rt,it)}function $U(rt,tt){if(rt.length===1)return Em(tt,rt[0]);for(let it=0;it<tt.length;it++){const lt=tt[it];for(let dt=0;dt<lt.length;dt++)if(Kl(rt,lt[dt]))return!0}for(let it=0;it<rt.length;it++)if(Em(tt,rt[it]))return!0;for(let it=0;it<tt.length;it++)if(Wv(rt,tt[it]))return!0;return!1}function US(rt,tt,it){if(rt.length>1){if(Wv(rt,tt))return!0;for(let lt=0;lt<tt.length;lt++)if(YU(tt[lt],rt,it))return!0}for(let lt=0;lt<rt.length;lt++)if(YU(rt[lt],tt,it))return!0;return!1}function Wv(rt,tt){if(rt.length===0||tt.length===0)return!1;for(let it=0;it<rt.length-1;it++){const lt=rt[it],dt=rt[it+1];for(let bt=0;bt<tt.length-1;bt++)if(FS(lt,dt,tt[bt],tt[bt+1]))return!0}return!1}function FS(rt,tt,it,lt){return xn(rt,it,lt)!==xn(tt,it,lt)&&xn(rt,tt,it)!==xn(rt,tt,lt)}function YU(rt,tt,it){const lt=it*it;if(tt.length===1)return rt.distSqr(tt[0])<lt;for(let dt=1;dt<tt.length;dt++)if(YF(rt,tt[dt-1],tt[dt])<lt)return!0;return!1}function YF(rt,tt,it){const lt=tt.distSqr(it);if(lt===0)return rt.distSqr(tt);const dt=((rt.x-tt.x)*(it.x-tt.x)+(rt.y-tt.y)*(it.y-tt.y))/lt;return rt.distSqr(dt<0?tt:dt>1?it:it.sub(tt)._mult(dt)._add(tt))}function Em(rt,tt){let it,lt,dt,bt=!1;for(let Et=0;Et<rt.length;Et++){it=rt[Et];for(let Ot=0,zt=it.length-1;Ot<it.length;zt=Ot++)lt=it[Ot],dt=it[zt],lt.y>tt.y!=dt.y>tt.y&&tt.x<(dt.x-lt.x)*(tt.y-lt.y)/(dt.y-lt.y)+lt.x&&(bt=!bt)}return bt}function Kl(rt,tt){let it=!1;for(let lt=0,dt=rt.length-1;lt<rt.length;dt=lt++){const bt=rt[lt],Et=rt[dt];bt.y>tt.y!=Et.y>tt.y&&tt.x<(Et.x-bt.x)*(tt.y-bt.y)/(Et.y-bt.y)+bt.x&&(it=!it)}return it}function Jv(rt,tt,it,lt,dt){for(const Et of rt)if(tt<=Et.x&&it<=Et.y&&lt>=Et.x&&dt>=Et.y)return!0;const bt=[new mt(tt,it),new mt(tt,dt),new mt(lt,dt),new mt(lt,it)];if(rt.length>2){for(const Et of bt)if(Kl(rt,Et))return!0}for(let Et=0;Et<rt.length-1;Et++)if(SS(rt[Et],rt[Et+1],bt))return!0;return!1}function SS(rt,tt,it){const lt=it[0],dt=it[2];if(rt.x<lt.x&&tt.x<lt.x||rt.x>dt.x&&tt.x>dt.x||rt.y<lt.y&&tt.y<lt.y||rt.y>dt.y&&tt.y>dt.y)return!1;const bt=xn(rt,tt,it[0]);return bt!==xn(rt,tt,it[1])||bt!==xn(rt,tt,it[2])||bt!==xn(rt,tt,it[3])}function Uy(rt,tt,it){const lt=tt.paint.get(rt).value;return lt.kind==="constant"?lt.value:it.programConfigurations.get(tt.id).getMaxValue(rt)}function jv(rt){return Math.sqrt(rt[0]*rt[0]+rt[1]*rt[1])}function XF(rt,tt,it,lt,dt){if(!tt[0]&&!tt[1])return rt;const bt=mt.convert(tt)._mult(dt);it==="viewport"&&bt._rotate(-lt);const Et=[];for(let Ot=0;Ot<rt.length;Ot++)Et.push(rt[Ot].sub(bt));return Et}function P0(rt,tt,it,lt){const dt=mt.convert(rt)._mult(lt);return tt==="viewport"&&dt._rotate(-it),dt}ko(fu,"CircleBucket",{omit:["layers"]});const qF=new _o({"circle-sort-key":new Br(zr.layout_circle["circle-sort-key"])});var KF={paint:new _o({"circle-radius":new Br(zr.paint_circle["circle-radius"]),"circle-color":new Br(zr.paint_circle["circle-color"]),"circle-blur":new Br(zr.paint_circle["circle-blur"]),"circle-opacity":new Br(zr.paint_circle["circle-opacity"]),"circle-translate":new Vr(zr.paint_circle["circle-translate"]),"circle-translate-anchor":new Vr(zr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Vr(zr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Vr(zr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Br(zr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Br(zr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Br(zr.paint_circle["circle-stroke-opacity"])}),layout:qF},zv=1e-6,tp=typeof Float32Array<"u"?Float32Array:Array;function e1(){var rt=new tp(9);return tp!=Float32Array&&(rt[1]=0,rt[2]=0,rt[3]=0,rt[5]=0,rt[6]=0,rt[7]=0),rt[0]=1,rt[4]=1,rt[8]=1,rt}function t1(rt,tt,it){var lt=tt[0],dt=tt[1],bt=tt[2],Et=tt[3],Ot=tt[4],zt=tt[5],Yt=tt[6],an=tt[7],yn=tt[8],vn=it[0],An=it[1],kn=it[2],Pn=it[3],Xn=it[4],fr=it[5],Fr=it[6],dr=it[7],_r=it[8];return rt[0]=vn*lt+An*Et+kn*Yt,rt[1]=vn*dt+An*Ot+kn*an,rt[2]=vn*bt+An*zt+kn*yn,rt[3]=Pn*lt+Xn*Et+fr*Yt,rt[4]=Pn*dt+Xn*Ot+fr*an,rt[5]=Pn*bt+Xn*zt+fr*yn,rt[6]=Fr*lt+dr*Et+_r*Yt,rt[7]=Fr*dt+dr*Ot+_r*an,rt[8]=Fr*bt+dr*zt+_r*yn,rt}function im(rt){return rt[0]=1,rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[5]=1,rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[10]=1,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,rt}function Zv(rt,tt){var it=tt[0],lt=tt[1],dt=tt[2],bt=tt[3],Et=tt[4],Ot=tt[5],zt=tt[6],Yt=tt[7],an=tt[8],yn=tt[9],vn=tt[10],An=tt[11],kn=tt[12],Pn=tt[13],Xn=tt[14],fr=tt[15],Fr=it*Ot-lt*Et,dr=it*zt-dt*Et,_r=it*Yt-bt*Et,wr=lt*zt-dt*Ot,vr=lt*Yt-bt*Ot,Lr=dt*Yt-bt*zt,Ir=an*Pn-yn*kn,Xr=an*Xn-vn*kn,fo=an*fr-An*kn,Jr=yn*Xn-vn*Pn,no=yn*fr-An*Pn,ro=vn*fr-An*Xn,ao=Fr*ro-dr*no+_r*Jr+wr*fo-vr*Xr+Lr*Ir;return ao?(rt[0]=(Ot*ro-zt*no+Yt*Jr)*(ao=1/ao),rt[1]=(dt*no-lt*ro-bt*Jr)*ao,rt[2]=(Pn*Lr-Xn*vr+fr*wr)*ao,rt[3]=(vn*vr-yn*Lr-An*wr)*ao,rt[4]=(zt*fo-Et*ro-Yt*Xr)*ao,rt[5]=(it*ro-dt*fo+bt*Xr)*ao,rt[6]=(Xn*_r-kn*Lr-fr*dr)*ao,rt[7]=(an*Lr-vn*_r+An*dr)*ao,rt[8]=(Et*no-Ot*fo+Yt*Ir)*ao,rt[9]=(lt*fo-it*no-bt*Ir)*ao,rt[10]=(kn*vr-Pn*_r+fr*Fr)*ao,rt[11]=(yn*_r-an*vr-An*Fr)*ao,rt[12]=(Ot*Xr-Et*Jr-zt*Ir)*ao,rt[13]=(it*Jr-lt*Xr+dt*Ir)*ao,rt[14]=(Pn*dr-kn*wr-Xn*Fr)*ao,rt[15]=(an*wr-yn*dr+vn*Fr)*ao,rt):null}function L0(rt,tt,it){var lt=tt[0],dt=tt[1],bt=tt[2],Et=tt[3],Ot=tt[4],zt=tt[5],Yt=tt[6],an=tt[7],yn=tt[8],vn=tt[9],An=tt[10],kn=tt[11],Pn=tt[12],Xn=tt[13],fr=tt[14],Fr=tt[15],dr=it[0],_r=it[1],wr=it[2],vr=it[3];return rt[0]=dr*lt+_r*Ot+wr*yn+vr*Pn,rt[1]=dr*dt+_r*zt+wr*vn+vr*Xn,rt[2]=dr*bt+_r*Yt+wr*An+vr*fr,rt[3]=dr*Et+_r*an+wr*kn+vr*Fr,rt[4]=(dr=it[4])*lt+(_r=it[5])*Ot+(wr=it[6])*yn+(vr=it[7])*Pn,rt[5]=dr*dt+_r*zt+wr*vn+vr*Xn,rt[6]=dr*bt+_r*Yt+wr*An+vr*fr,rt[7]=dr*Et+_r*an+wr*kn+vr*Fr,rt[8]=(dr=it[8])*lt+(_r=it[9])*Ot+(wr=it[10])*yn+(vr=it[11])*Pn,rt[9]=dr*dt+_r*zt+wr*vn+vr*Xn,rt[10]=dr*bt+_r*Yt+wr*An+vr*fr,rt[11]=dr*Et+_r*an+wr*kn+vr*Fr,rt[12]=(dr=it[12])*lt+(_r=it[13])*Ot+(wr=it[14])*yn+(vr=it[15])*Pn,rt[13]=dr*dt+_r*zt+wr*vn+vr*Xn,rt[14]=dr*bt+_r*Yt+wr*An+vr*fr,rt[15]=dr*Et+_r*an+wr*kn+vr*Fr,rt}function Xy(rt,tt,it){var lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn,Pn=it[0],Xn=it[1],fr=it[2];return tt===rt?(rt[12]=tt[0]*Pn+tt[4]*Xn+tt[8]*fr+tt[12],rt[13]=tt[1]*Pn+tt[5]*Xn+tt[9]*fr+tt[13],rt[14]=tt[2]*Pn+tt[6]*Xn+tt[10]*fr+tt[14],rt[15]=tt[3]*Pn+tt[7]*Xn+tt[11]*fr+tt[15]):(dt=tt[1],bt=tt[2],Et=tt[3],Ot=tt[4],zt=tt[5],Yt=tt[6],an=tt[7],yn=tt[8],vn=tt[9],An=tt[10],kn=tt[11],rt[0]=lt=tt[0],rt[1]=dt,rt[2]=bt,rt[3]=Et,rt[4]=Ot,rt[5]=zt,rt[6]=Yt,rt[7]=an,rt[8]=yn,rt[9]=vn,rt[10]=An,rt[11]=kn,rt[12]=lt*Pn+Ot*Xn+yn*fr+tt[12],rt[13]=dt*Pn+zt*Xn+vn*fr+tt[13],rt[14]=bt*Pn+Yt*Xn+An*fr+tt[14],rt[15]=Et*Pn+an*Xn+kn*fr+tt[15]),rt}function Fy(rt,tt,it){var lt=it[0],dt=it[1],bt=it[2];return rt[0]=tt[0]*lt,rt[1]=tt[1]*lt,rt[2]=tt[2]*lt,rt[3]=tt[3]*lt,rt[4]=tt[4]*dt,rt[5]=tt[5]*dt,rt[6]=tt[6]*dt,rt[7]=tt[7]*dt,rt[8]=tt[8]*bt,rt[9]=tt[9]*bt,rt[10]=tt[10]*bt,rt[11]=tt[11]*bt,rt[12]=tt[12],rt[13]=tt[13],rt[14]=tt[14],rt[15]=tt[15],rt}function qy(rt,tt,it){var lt=Math.sin(it),dt=Math.cos(it),bt=tt[4],Et=tt[5],Ot=tt[6],zt=tt[7],Yt=tt[8],an=tt[9],yn=tt[10],vn=tt[11];return tt!==rt&&(rt[0]=tt[0],rt[1]=tt[1],rt[2]=tt[2],rt[3]=tt[3],rt[12]=tt[12],rt[13]=tt[13],rt[14]=tt[14],rt[15]=tt[15]),rt[4]=bt*dt+Yt*lt,rt[5]=Et*dt+an*lt,rt[6]=Ot*dt+yn*lt,rt[7]=zt*dt+vn*lt,rt[8]=Yt*dt-bt*lt,rt[9]=an*dt-Et*lt,rt[10]=yn*dt-Ot*lt,rt[11]=vn*dt-zt*lt,rt}function W0(rt,tt,it){var lt=Math.sin(it),dt=Math.cos(it),bt=tt[0],Et=tt[1],Ot=tt[2],zt=tt[3],Yt=tt[8],an=tt[9],yn=tt[10],vn=tt[11];return tt!==rt&&(rt[4]=tt[4],rt[5]=tt[5],rt[6]=tt[6],rt[7]=tt[7],rt[12]=tt[12],rt[13]=tt[13],rt[14]=tt[14],rt[15]=tt[15]),rt[0]=bt*dt-Yt*lt,rt[1]=Et*dt-an*lt,rt[2]=Ot*dt-yn*lt,rt[3]=zt*dt-vn*lt,rt[8]=bt*lt+Yt*dt,rt[9]=Et*lt+an*dt,rt[10]=Ot*lt+yn*dt,rt[11]=zt*lt+vn*dt,rt}function XU(rt,tt){return rt[0]=tt[0],rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[5]=tt[1],rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[10]=tt[2],rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,rt}function qU(rt,tt,it){var lt,dt,bt,Et=it[0],Ot=it[1],zt=it[2],Yt=Math.hypot(Et,Ot,zt);return Yt<zv?null:(Et*=Yt=1/Yt,Ot*=Yt,zt*=Yt,lt=Math.sin(tt),dt=Math.cos(tt),rt[0]=Et*Et*(bt=1-dt)+dt,rt[1]=Ot*Et*bt+zt*lt,rt[2]=zt*Et*bt-Ot*lt,rt[3]=0,rt[4]=Et*Ot*bt-zt*lt,rt[5]=Ot*Ot*bt+dt,rt[6]=zt*Ot*bt+Et*lt,rt[7]=0,rt[8]=Et*zt*bt+Ot*lt,rt[9]=Ot*zt*bt-Et*lt,rt[10]=zt*zt*bt+dt,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,rt)}Math.hypot||(Math.hypot=function(){for(var rt=0,tt=arguments.length;tt--;)rt+=arguments[tt]*arguments[tt];return Math.sqrt(rt)});var Gv=L0;function Hv(){var rt=new tp(3);return tp!=Float32Array&&(rt[0]=0,rt[1]=0,rt[2]=0),rt}function om(rt){var tt=new tp(3);return tt[0]=rt[0],tt[1]=rt[1],tt[2]=rt[2],tt}function sm(rt){return Math.hypot(rt[0],rt[1],rt[2])}function J0(rt,tt,it){var lt=new tp(3);return lt[0]=rt,lt[1]=tt,lt[2]=it,lt}function Bm(rt,tt,it){return rt[0]=tt[0]+it[0],rt[1]=tt[1]+it[1],rt[2]=tt[2]+it[2],rt}function KU(rt,tt,it){return rt[0]=tt[0]-it[0],rt[1]=tt[1]-it[1],rt[2]=tt[2]-it[2],rt}function n1(rt,tt,it){return rt[0]=tt[0]*it[0],rt[1]=tt[1]*it[1],rt[2]=tt[2]*it[2],rt}function z_(rt,tt,it){return rt[0]=Math.min(tt[0],it[0]),rt[1]=Math.min(tt[1],it[1]),rt[2]=Math.min(tt[2],it[2]),rt}function Z_(rt,tt,it){return rt[0]=Math.max(tt[0],it[0]),rt[1]=Math.max(tt[1],it[1]),rt[2]=Math.max(tt[2],it[2]),rt}function Sp(rt,tt,it){return rt[0]=tt[0]*it,rt[1]=tt[1]*it,rt[2]=tt[2]*it,rt}function G_(rt,tt,it,lt){return rt[0]=tt[0]+it[0]*lt,rt[1]=tt[1]+it[1]*lt,rt[2]=tt[2]+it[2]*lt,rt}function Nu(rt,tt){var it=tt[0],lt=tt[1],dt=tt[2],bt=it*it+lt*lt+dt*dt;return bt>0&&(bt=1/Math.sqrt(bt)),rt[0]=tt[0]*bt,rt[1]=tt[1]*bt,rt[2]=tt[2]*bt,rt}function Ip(rt,tt){return rt[0]*tt[0]+rt[1]*tt[1]+rt[2]*tt[2]}function eF(rt,tt,it){var lt=tt[0],dt=tt[1],bt=tt[2],Et=it[0],Ot=it[1],zt=it[2];return rt[0]=dt*zt-bt*Ot,rt[1]=bt*Et-lt*zt,rt[2]=lt*Ot-dt*Et,rt}function Zl(rt,tt,it){var lt=tt[0],dt=tt[1],bt=tt[2],Et=it[3]*lt+it[7]*dt+it[11]*bt+it[15];return rt[0]=(it[0]*lt+it[4]*dt+it[8]*bt+it[12])/(Et=Et||1),rt[1]=(it[1]*lt+it[5]*dt+it[9]*bt+it[13])/Et,rt[2]=(it[2]*lt+it[6]*dt+it[10]*bt+it[14])/Et,rt}function r1(rt,tt,it){var lt=it[0],dt=it[1],bt=it[2],Et=tt[0],Ot=tt[1],zt=tt[2],Yt=dt*zt-bt*Ot,an=bt*Et-lt*zt,yn=lt*Ot-dt*Et,vn=dt*yn-bt*an,An=bt*Yt-lt*yn,kn=lt*an-dt*Yt,Pn=2*it[3];return an*=Pn,yn*=Pn,An*=2,kn*=2,rt[0]=Et+(Yt*=Pn)+(vn*=2),rt[1]=Ot+an+An,rt[2]=zt+yn+kn,rt}var j0,Pp=KU,i1=n1,RS=sm;function o1(rt,tt,it){return rt[0]=tt[0]*it,rt[1]=tt[1]*it,rt[2]=tt[2]*it,rt[3]=tt[3]*it,rt}function s1(rt,tt){var it=tt[0],lt=tt[1],dt=tt[2],bt=tt[3],Et=it*it+lt*lt+dt*dt+bt*bt;return Et>0&&(Et=1/Math.sqrt(Et)),rt[0]=it*Et,rt[1]=lt*Et,rt[2]=dt*Et,rt[3]=bt*Et,rt}function Sy(rt,tt,it){var lt=tt[0],dt=tt[1],bt=tt[2],Et=tt[3];return rt[0]=it[0]*lt+it[4]*dt+it[8]*bt+it[12]*Et,rt[1]=it[1]*lt+it[5]*dt+it[9]*bt+it[13]*Et,rt[2]=it[2]*lt+it[6]*dt+it[10]*bt+it[14]*Et,rt[3]=it[3]*lt+it[7]*dt+it[11]*bt+it[15]*Et,rt}function a1(){var rt=new tp(4);return tp!=Float32Array&&(rt[0]=0,rt[1]=0,rt[2]=0),rt[3]=1,rt}function l1(rt){return rt[0]=0,rt[1]=0,rt[2]=0,rt[3]=1,rt}function c1(rt,tt,it){it*=.5;var lt=tt[0],dt=tt[1],bt=tt[2],Et=tt[3],Ot=Math.sin(it),zt=Math.cos(it);return rt[0]=lt*zt+Et*Ot,rt[1]=dt*zt+bt*Ot,rt[2]=bt*zt-dt*Ot,rt[3]=Et*zt-lt*Ot,rt}function u1(rt,tt,it){it*=.5;var lt=tt[0],dt=tt[1],bt=tt[2],Et=tt[3],Ot=Math.sin(it),zt=Math.cos(it);return rt[0]=lt*zt-bt*Ot,rt[1]=dt*zt+Et*Ot,rt[2]=bt*zt+lt*Ot,rt[3]=Et*zt-dt*Ot,rt}Hv(),j0=new tp(4),tp!=Float32Array&&(j0[0]=0,j0[1]=0,j0[2]=0,j0[3]=0);var wS=s1;Hv(),J0(1,0,0),J0(0,1,0),a1(),a1(),e1();class tF{constructor(tt,it){this.pos=tt,this.dir=it}intersectsPlane(tt,it,lt){const dt=Ip(it,this.dir);if(Math.abs(dt)<1e-6)return!1;const bt=((tt[0]-this.pos[0])*it[0]+(tt[1]-this.pos[1])*it[1]+(tt[2]-this.pos[2])*it[2])/dt;return lt[0]=this.pos[0]+this.dir[0]*bt,lt[1]=this.pos[1]+this.dir[1]*bt,lt[2]=this.pos[2]+this.dir[2]*bt,!0}closestPointOnSphere(tt,it,lt){if(function(An,kn){var Pn=An[0],Xn=An[1],fr=An[2],Fr=kn[0],dr=kn[1],_r=kn[2];return Math.abs(Pn-Fr)<=zv*Math.max(1,Math.abs(Pn),Math.abs(Fr))&&Math.abs(Xn-dr)<=zv*Math.max(1,Math.abs(Xn),Math.abs(dr))&&Math.abs(fr-_r)<=zv*Math.max(1,Math.abs(fr),Math.abs(_r))}(this.pos,tt)||it===0)return lt[0]=lt[1]=lt[2]=0,!1;const[dt,bt,Et]=this.dir,Ot=this.pos[0]-tt[0],zt=this.pos[1]-tt[1],Yt=this.pos[2]-tt[2],an=dt*dt+bt*bt+Et*Et,yn=2*(Ot*dt+zt*bt+Yt*Et),vn=yn*yn-4*an*(Ot*Ot+zt*zt+Yt*Yt-it*it);if(vn<0){const An=Math.max(-yn/2,0),kn=Ot+dt*An,Pn=zt+bt*An,Xn=Yt+Et*An,fr=Math.hypot(kn,Pn,Xn);return lt[0]=kn*it/fr,lt[1]=Pn*it/fr,lt[2]=Xn*it/fr,!1}{const An=(-yn-Math.sqrt(vn))/(2*an);if(An<0){const kn=Math.hypot(Ot,zt,Yt);return lt[0]=Ot*it/kn,lt[1]=zt*it/kn,lt[2]=Yt*it/kn,!1}return lt[0]=Ot+dt*An,lt[1]=zt+bt*An,lt[2]=Yt+Et*An,!0}}}class np{constructor(tt,it,lt,dt,bt){this.TL=tt,this.TR=it,this.BR=lt,this.BL=dt,this.horizon=bt}static fromInvProjectionMatrix(tt,it,lt){const dt=[-1,1,1],bt=[1,1,1],Et=[1,-1,1],Ot=[-1,-1,1],zt=Zl(dt,dt,tt),Yt=Zl(bt,bt,tt),an=Zl(Et,Et,tt),yn=Zl(Ot,Ot,tt);return new np(zt,Yt,an,yn,it/lt)}}class nF{constructor(tt,it){this.points=tt,this.planes=it}static fromInvProjectionMatrix(tt,it,lt,dt){const bt=Math.pow(2,lt),Et=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(zt=>{const Yt=Sy([],zt,tt),an=1/Yt[3]/it*bt;return function(yn,vn,An){return yn[0]=vn[0]*An[0],yn[1]=vn[1]*An[1],yn[2]=vn[2]*An[2],yn[3]=vn[3]*An[3],yn}(Yt,Yt,[an,an,dt?1/Yt[3]:an,an])}),Ot=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(zt=>{const Yt=Nu([],eF([],Pp([],Et[zt[0]],Et[zt[1]]),Pp([],Et[zt[2]],Et[zt[1]]))),an=-Ip(Yt,Et[zt[1]]);return Yt.concat(an)});return new nF(Et,Ot)}}class Vu{static fromPoints(tt){const it=[1/0,1/0,1/0],lt=[-1/0,-1/0,-1/0];for(const dt of tt)z_(it,it,dt),Z_(lt,lt,dt);return new Vu(it,lt)}static applyTransform(tt,it){const lt=tt.getCorners();for(let dt=0;dt<lt.length;++dt)Zl(lt[dt],lt[dt],it);return Vu.fromPoints(lt)}constructor(tt,it){this.min=tt,this.max=it,this.center=Sp([],Bm([],this.min,this.max),.5)}quadrant(tt){const it=[tt%2==0,tt<2],lt=om(this.min),dt=om(this.max);for(let bt=0;bt<it.length;bt++)lt[bt]=it[bt]?this.min[bt]:this.center[bt],dt[bt]=it[bt]?this.center[bt]:this.max[bt];return dt[2]=this.max[2],new Vu(lt,dt)}distanceX(tt){return Math.max(Math.min(this.max[0],tt[0]),this.min[0])-tt[0]}distanceY(tt){return Math.max(Math.min(this.max[1],tt[1]),this.min[1])-tt[1]}distanceZ(tt){return Math.max(Math.min(this.max[2],tt[2]),this.min[2])-tt[2]}getCorners(){const tt=this.min,it=this.max;return[[tt[0],tt[1],tt[2]],[it[0],tt[1],tt[2]],[it[0],it[1],tt[2]],[tt[0],it[1],tt[2]],[tt[0],tt[1],it[2]],[it[0],tt[1],it[2]],[it[0],it[1],it[2]],[tt[0],it[1],it[2]]]}intersects(tt){const it=this.getCorners();let lt=!0;for(let dt=0;dt<tt.planes.length;dt++){const bt=tt.planes[dt];let Et=0;for(let Ot=0;Ot<it.length;Ot++)Et+=Ip(bt,it[Ot])+bt[3]>=0;if(Et===0)return 0;Et!==it.length&&(lt=!1)}if(lt)return 2;for(let dt=0;dt<3;dt++){let bt=Number.MAX_VALUE,Et=-Number.MAX_VALUE;for(let Ot=0;Ot<tt.points.length;Ot++){const zt=tt.points[Ot][dt]-this.min[dt];bt=Math.min(bt,zt),Et=Math.max(Et,zt)}if(Et<0||bt>this.max[dt]-this.min[dt])return 0}return 1}}function d1(rt,tt,it,lt,dt,bt,Et,Ot,zt){if(bt&&rt.queryGeometry.isAboveHorizon)return!1;bt&&(zt*=rt.pixelToTileUnitsFactor);const Yt=rt.tileID.canonical,an=it.projection.upVectorScale(Yt,it.center.lat,it.worldSize).metersToTile;for(const yn of tt)for(const vn of yn){const An=vn.add(Ot),kn=dt&&it.elevation?it.elevation.exaggeration()*dt.getElevationAt(An.x,An.y,!0):0,Pn=it.projection.projectTilePoint(An.x,An.y,Yt);if(kn>0){const dr=it.projection.upVector(Yt,An.x,An.y);Pn.x+=dr[0]*an*kn,Pn.y+=dr[1]*an*kn,Pn.z+=dr[2]*an*kn}const Xn=bt?An:f1(Pn.x,Pn.y,Pn.z,lt),fr=bt?rt.tilespaceRays.map(dr=>BS(dr,kn)):rt.queryGeometry.screenGeometry,Fr=Sy([],[Pn.x,Pn.y,Pn.z,1],lt);if(!Et&&bt?zt*=Fr[3]/it.cameraToCenterDistance:Et&&!bt&&(zt*=it.cameraToCenterDistance/Fr[3]),bt){const dr=ou((vn.y/Xo+Yt.y)/(1<<Yt.z));zt/=it.projection.pixelsPerMeter(dr,1)/Up(1,dr)}if(bS(fr,Xn,zt))return!0}return!1}function f1(rt,tt,it,lt){const dt=Sy([],[rt,tt,it,1],lt);return new mt(dt[0]/dt[3],dt[1]/dt[3])}const p1=J0(0,0,0),ES=J0(0,0,1);function BS(rt,tt){const it=Hv();return p1[2]=tt,rt.intersectsPlane(p1,ES,it),new mt(it[0],it[1])}class g1 extends fu{}function $v(rt,{width:tt,height:it},lt,dt){if(dt){if(dt instanceof Uint8ClampedArray)dt=new Uint8Array(dt.buffer);else if(dt.length!==tt*it*lt)throw new RangeError("mismatched image size")}else dt=new Uint8Array(tt*it*lt);return rt.width=tt,rt.height=it,rt.data=dt,rt}function m1(rt,tt,it){const{width:lt,height:dt}=tt;lt===rt.width&&dt===rt.height||(rF(rt,tt,{x:0,y:0},{x:0,y:0},{width:Math.min(rt.width,lt),height:Math.min(rt.height,dt)},it),rt.width=lt,rt.height=dt,rt.data=tt.data)}function rF(rt,tt,it,lt,dt,bt){if(dt.width===0||dt.height===0)return tt;if(dt.width>rt.width||dt.height>rt.height||it.x>rt.width-dt.width||it.y>rt.height-dt.height)throw new RangeError("out of range source coordinates for image copy");if(dt.width>tt.width||dt.height>tt.height||lt.x>tt.width-dt.width||lt.y>tt.height-dt.height)throw new RangeError("out of range destination coordinates for image copy");const Et=rt.data,Ot=tt.data;for(let zt=0;zt<dt.height;zt++){const Yt=((it.y+zt)*rt.width+it.x)*bt,an=((lt.y+zt)*tt.width+lt.x)*bt;for(let yn=0;yn<dt.width*bt;yn++)Ot[an+yn]=Et[Yt+yn]}return tt}ko(g1,"HeatmapBucket",{omit:["layers"]});class Gm{constructor(tt,it){$v(this,tt,1,it)}resize(tt){m1(this,new Gm(tt),1)}clone(){return new Gm({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(tt,it,lt,dt,bt){rF(tt,it,lt,dt,bt,1)}}class rp{constructor(tt,it){$v(this,tt,4,it)}resize(tt){m1(this,new rp(tt),4)}replace(tt,it){it?this.data.set(tt):this.data=tt instanceof Uint8ClampedArray?new Uint8Array(tt.buffer):tt}clone(){return new rp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(tt,it,lt,dt,bt){rF(tt,it,lt,dt,bt,4)}}ko(Gm,"AlphaImage"),ko(rp,"RGBAImage");var TS={paint:new _o({"heatmap-radius":new Br(zr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Br(zr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Vr(zr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bo(zr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Vr(zr.paint_heatmap["heatmap-opacity"])})};function iF(rt){const tt={},it=rt.resolution||256,lt=rt.clips?rt.clips.length:1,dt=rt.image||new rp({width:it,height:lt}),bt=(Et,Ot,zt)=>{tt[rt.evaluationKey]=zt;const Yt=rt.expression.evaluate(tt);dt.data[Et+Ot+0]=Math.floor(255*Yt.r/Yt.a),dt.data[Et+Ot+1]=Math.floor(255*Yt.g/Yt.a),dt.data[Et+Ot+2]=Math.floor(255*Yt.b/Yt.a),dt.data[Et+Ot+3]=Math.floor(255*Yt.a)};if(rt.clips)for(let Et=0,Ot=0;Et<lt;++Et,Ot+=4*it)for(let zt=0,Yt=0;zt<it;zt++,Yt+=4){const an=zt/(it-1),{start:yn,end:vn}=rt.clips[Et];bt(Ot,Yt,yn*(1-an)+vn*an)}else for(let Et=0,Ot=0;Et<it;Et++,Ot+=4)bt(0,Ot,Et/(it-1));return dt}var QS={paint:new _o({"hillshade-illumination-direction":new Vr(zr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Vr(zr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Vr(zr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Vr(zr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Vr(zr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Vr(zr.paint_hillshade["hillshade-accent-color"])})};const xS=vo([{name:"a_pos",components:2,type:"Int16"}],4),{members:AS}=xS;var H_={exports:{}};function Yv(rt,tt,it){it=it||2;var lt,dt,bt,Et,Ot,zt,Yt,an=tt&&tt.length,yn=an?tt[0]*it:rt.length,vn=y1(rt,0,yn,it,!0),An=[];if(!vn||vn.next===vn.prev)return An;if(an&&(vn=function(Pn,Xn,fr,Fr){var dr,_r,wr,vr=[];for(dr=0,_r=Xn.length;dr<_r;dr++)(wr=y1(Pn,Xn[dr]*Fr,dr<_r-1?Xn[dr+1]*Fr:Pn.length,Fr,!1))===wr.next&&(wr.steiner=!0),vr.push(PS(wr));for(vr.sort(DS),dr=0;dr<vr.length;dr++)fr=IS(vr[dr],fr);return fr}(rt,tt,vn,it)),rt.length>80*it){lt=bt=rt[0],dt=Et=rt[1];for(var kn=it;kn<yn;kn+=it)(Ot=rt[kn])<lt&&(lt=Ot),(zt=rt[kn+1])<dt&&(dt=zt),Ot>bt&&(bt=Ot),zt>Et&&(Et=zt);Yt=(Yt=Math.max(bt-lt,Et-dt))!==0?32767/Yt:0}return $_(vn,An,it,lt,dt,Yt,0),An}function y1(rt,tt,it,lt,dt){var bt,Et;if(dt===aF(rt,tt,it,lt)>0)for(bt=tt;bt<it;bt+=lt)Et=Y_(bt,rt[bt],rt[bt+1],Et);else for(bt=it-lt;bt>=tt;bt-=lt)Et=Y_(bt,rt[bt],rt[bt+1],Et);return Et&&qv(Et,Et.next)&&(X_(Et),Et=Et.next),Et}function Ky(rt,tt){if(!rt)return rt;tt||(tt=rt);var it,lt=rt;do if(it=!1,lt.steiner||!qv(lt,lt.next)&&Dl(lt.prev,lt,lt.next)!==0)lt=lt.next;else{if(X_(lt),(lt=tt=lt.prev)===lt.next)break;it=!0}while(it||lt!==tt);return tt}function $_(rt,tt,it,lt,dt,bt,Et){if(rt){!Et&&bt&&function(an,yn,vn,An){var kn=an;do kn.z===0&&(kn.z=Xv(kn.x,kn.y,yn,vn,An)),kn.prevZ=kn.prev,kn.nextZ=kn.next,kn=kn.next;while(kn!==an);kn.prevZ.nextZ=null,kn.prevZ=null,function(Pn){var Xn,fr,Fr,dr,_r,wr,vr,Lr,Ir=1;do{for(fr=Pn,Pn=null,_r=null,wr=0;fr;){for(wr++,Fr=fr,vr=0,Xn=0;Xn<Ir&&(vr++,Fr=Fr.nextZ);Xn++);for(Lr=Ir;vr>0||Lr>0&&Fr;)vr!==0&&(Lr===0||!Fr||fr.z<=Fr.z)?(dr=fr,fr=fr.nextZ,vr--):(dr=Fr,Fr=Fr.nextZ,Lr--),_r?_r.nextZ=dr:Pn=dr,dr.prevZ=_r,_r=dr;fr=Fr}_r.nextZ=null,Ir*=2}while(wr>1)}(kn)}(rt,lt,dt,bt);for(var Ot,zt,Yt=rt;rt.prev!==rt.next;)if(Ot=rt.prev,zt=rt.next,bt?kS(rt,lt,dt,bt):CS(rt))tt.push(Ot.i/it|0),tt.push(rt.i/it|0),tt.push(zt.i/it|0),X_(rt),rt=zt.next,Yt=zt.next;else if((rt=zt)===Yt){Et?Et===1?$_(rt=NS(Ky(rt),tt,it),tt,it,lt,dt,bt,2):Et===2&&VS(rt,tt,it,lt,dt,bt):$_(Ky(rt),tt,it,lt,dt,bt,1);break}}}function CS(rt){var tt=rt.prev,it=rt,lt=rt.next;if(Dl(tt,it,lt)>=0)return!1;for(var dt=tt.x,bt=it.x,Et=lt.x,Ot=tt.y,zt=it.y,Yt=lt.y,an=dt<bt?dt<Et?dt:Et:bt<Et?bt:Et,yn=Ot<zt?Ot<Yt?Ot:Yt:zt<Yt?zt:Yt,vn=dt>bt?dt>Et?dt:Et:bt>Et?bt:Et,An=Ot>zt?Ot>Yt?Ot:Yt:zt>Yt?zt:Yt,kn=lt.next;kn!==tt;){if(kn.x>=an&&kn.x<=vn&&kn.y>=yn&&kn.y<=An&&z0(dt,Ot,bt,zt,Et,Yt,kn.x,kn.y)&&Dl(kn.prev,kn,kn.next)>=0)return!1;kn=kn.next}return!0}function kS(rt,tt,it,lt){var dt=rt.prev,bt=rt,Et=rt.next;if(Dl(dt,bt,Et)>=0)return!1;for(var Ot=dt.x,zt=bt.x,Yt=Et.x,an=dt.y,yn=bt.y,vn=Et.y,An=Ot<zt?Ot<Yt?Ot:Yt:zt<Yt?zt:Yt,kn=an<yn?an<vn?an:vn:yn<vn?yn:vn,Pn=Ot>zt?Ot>Yt?Ot:Yt:zt>Yt?zt:Yt,Xn=an>yn?an>vn?an:vn:yn>vn?yn:vn,fr=Xv(An,kn,tt,it,lt),Fr=Xv(Pn,Xn,tt,it,lt),dr=rt.prevZ,_r=rt.nextZ;dr&&dr.z>=fr&&_r&&_r.z<=Fr;){if(dr.x>=An&&dr.x<=Pn&&dr.y>=kn&&dr.y<=Xn&&dr!==dt&&dr!==Et&&z0(Ot,an,zt,yn,Yt,vn,dr.x,dr.y)&&Dl(dr.prev,dr,dr.next)>=0||(dr=dr.prevZ,_r.x>=An&&_r.x<=Pn&&_r.y>=kn&&_r.y<=Xn&&_r!==dt&&_r!==Et&&z0(Ot,an,zt,yn,Yt,vn,_r.x,_r.y)&&Dl(_r.prev,_r,_r.next)>=0))return!1;_r=_r.nextZ}for(;dr&&dr.z>=fr;){if(dr.x>=An&&dr.x<=Pn&&dr.y>=kn&&dr.y<=Xn&&dr!==dt&&dr!==Et&&z0(Ot,an,zt,yn,Yt,vn,dr.x,dr.y)&&Dl(dr.prev,dr,dr.next)>=0)return!1;dr=dr.prevZ}for(;_r&&_r.z<=Fr;){if(_r.x>=An&&_r.x<=Pn&&_r.y>=kn&&_r.y<=Xn&&_r!==dt&&_r!==Et&&z0(Ot,an,zt,yn,Yt,vn,_r.x,_r.y)&&Dl(_r.prev,_r,_r.next)>=0)return!1;_r=_r.nextZ}return!0}function NS(rt,tt,it){var lt=rt;do{var dt=lt.prev,bt=lt.next.next;!qv(dt,bt)&&_1(dt,lt,lt.next,bt)&&Z0(dt,bt)&&Z0(bt,dt)&&(tt.push(dt.i/it|0),tt.push(lt.i/it|0),tt.push(bt.i/it|0),X_(lt),X_(lt.next),lt=rt=bt),lt=lt.next}while(lt!==rt);return Ky(lt)}function VS(rt,tt,it,lt,dt,bt){var Et=rt;do{for(var Ot=Et.next.next;Ot!==Et.prev;){if(Et.i!==Ot.i&&LS(Et,Ot)){var zt=v1(Et,Ot);return Et=Ky(Et,Et.next),zt=Ky(zt,zt.next),$_(Et,tt,it,lt,dt,bt,0),void $_(zt,tt,it,lt,dt,bt,0)}Ot=Ot.next}Et=Et.next}while(Et!==rt)}function DS(rt,tt){return rt.x-tt.x}function IS(rt,tt){var it=function(dt,bt){var Et,Ot=bt,zt=dt.x,Yt=dt.y,an=-1/0;do{if(Yt<=Ot.y&&Yt>=Ot.next.y&&Ot.next.y!==Ot.y){var yn=Ot.x+(Yt-Ot.y)*(Ot.next.x-Ot.x)/(Ot.next.y-Ot.y);if(yn<=zt&&yn>an&&(an=yn,Et=Ot.x<Ot.next.x?Ot:Ot.next,yn===zt))return Et}Ot=Ot.next}while(Ot!==bt);if(!Et)return null;var vn,An=Et,kn=Et.x,Pn=Et.y,Xn=1/0;Ot=Et;do zt>=Ot.x&&Ot.x>=kn&&zt!==Ot.x&&z0(Yt<Pn?zt:an,Yt,kn,Pn,Yt<Pn?an:zt,Yt,Ot.x,Ot.y)&&(vn=Math.abs(Yt-Ot.y)/(zt-Ot.x),Z0(Ot,dt)&&(vn<Xn||vn===Xn&&(Ot.x>Et.x||Ot.x===Et.x&&oF(Et,Ot)))&&(Et=Ot,Xn=vn)),Ot=Ot.next;while(Ot!==An);return Et}(rt,tt);if(!it)return tt;var lt=v1(it,rt);return Ky(lt,lt.next),Ky(it,it.next)}function oF(rt,tt){return Dl(rt.prev,rt,tt.prev)<0&&Dl(tt.next,rt,rt.next)<0}function Xv(rt,tt,it,lt,dt){return(rt=1431655765&((rt=858993459&((rt=252645135&((rt=16711935&((rt=(rt-it)*dt|0)|rt<<8))|rt<<4))|rt<<2))|rt<<1))|(tt=1431655765&((tt=858993459&((tt=252645135&((tt=16711935&((tt=(tt-lt)*dt|0)|tt<<8))|tt<<4))|tt<<2))|tt<<1))<<1}function PS(rt){var tt=rt,it=rt;do(tt.x<it.x||tt.x===it.x&&tt.y<it.y)&&(it=tt),tt=tt.next;while(tt!==rt);return it}function z0(rt,tt,it,lt,dt,bt,Et,Ot){return(dt-Et)*(tt-Ot)>=(rt-Et)*(bt-Ot)&&(rt-Et)*(lt-Ot)>=(it-Et)*(tt-Ot)&&(it-Et)*(bt-Ot)>=(dt-Et)*(lt-Ot)}function LS(rt,tt){return rt.next.i!==tt.i&&rt.prev.i!==tt.i&&!function(it,lt){var dt=it;do{if(dt.i!==it.i&&dt.next.i!==it.i&&dt.i!==lt.i&&dt.next.i!==lt.i&&_1(dt,dt.next,it,lt))return!0;dt=dt.next}while(dt!==it);return!1}(rt,tt)&&(Z0(rt,tt)&&Z0(tt,rt)&&function(it,lt){var dt=it,bt=!1,Et=(it.x+lt.x)/2,Ot=(it.y+lt.y)/2;do dt.y>Ot!=dt.next.y>Ot&&dt.next.y!==dt.y&&Et<(dt.next.x-dt.x)*(Ot-dt.y)/(dt.next.y-dt.y)+dt.x&&(bt=!bt),dt=dt.next;while(dt!==it);return bt}(rt,tt)&&(Dl(rt.prev,rt,tt.prev)||Dl(rt,tt.prev,tt))||qv(rt,tt)&&Dl(rt.prev,rt,rt.next)>0&&Dl(tt.prev,tt,tt.next)>0)}function Dl(rt,tt,it){return(tt.y-rt.y)*(it.x-tt.x)-(tt.x-rt.x)*(it.y-tt.y)}function qv(rt,tt){return rt.x===tt.x&&rt.y===tt.y}function _1(rt,tt,it,lt){var dt=_b(Dl(rt,tt,it)),bt=_b(Dl(rt,tt,lt)),Et=_b(Dl(it,lt,rt)),Ot=_b(Dl(it,lt,tt));return dt!==bt&&Et!==Ot||!(dt!==0||!Kv(rt,it,tt))||!(bt!==0||!Kv(rt,lt,tt))||!(Et!==0||!Kv(it,rt,lt))||!(Ot!==0||!Kv(it,tt,lt))}function Kv(rt,tt,it){return tt.x<=Math.max(rt.x,it.x)&&tt.x>=Math.min(rt.x,it.x)&&tt.y<=Math.max(rt.y,it.y)&&tt.y>=Math.min(rt.y,it.y)}function _b(rt){return rt>0?1:rt<0?-1:0}function Z0(rt,tt){return Dl(rt.prev,rt,rt.next)<0?Dl(rt,tt,rt.next)>=0&&Dl(rt,rt.prev,tt)>=0:Dl(rt,tt,rt.prev)<0||Dl(rt,rt.next,tt)<0}function v1(rt,tt){var it=new sF(rt.i,rt.x,rt.y),lt=new sF(tt.i,tt.x,tt.y),dt=rt.next,bt=tt.prev;return rt.next=tt,tt.prev=rt,it.next=dt,dt.prev=it,lt.next=it,it.prev=lt,bt.next=lt,lt.prev=bt,lt}function Y_(rt,tt,it,lt){var dt=new sF(rt,tt,it);return lt?(dt.next=lt.next,dt.prev=lt,lt.next.prev=dt,lt.next=dt):(dt.prev=dt,dt.next=dt),dt}function X_(rt){rt.next.prev=rt.prev,rt.prev.next=rt.next,rt.prevZ&&(rt.prevZ.nextZ=rt.nextZ),rt.nextZ&&(rt.nextZ.prevZ=rt.prevZ)}function sF(rt,tt,it){this.i=rt,this.x=tt,this.y=it,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aF(rt,tt,it,lt){for(var dt=0,bt=tt,Et=it-lt;bt<it;bt+=lt)dt+=(rt[Et]-rt[bt])*(rt[bt+1]+rt[Et+1]),Et=bt;return dt}function WS(rt,tt,it,lt,dt){b1(rt,tt,it||0,lt||rt.length-1,dt||JS)}function b1(rt,tt,it,lt,dt){for(;lt>it;){if(lt-it>600){var bt=lt-it+1,Et=tt-it+1,Ot=Math.log(bt),zt=.5*Math.exp(2*Ot/3),Yt=.5*Math.sqrt(Ot*zt*(bt-zt)/bt)*(Et-bt/2<0?-1:1);b1(rt,tt,Math.max(it,Math.floor(tt-Et*zt/bt+Yt)),Math.min(lt,Math.floor(tt+(bt-Et)*zt/bt+Yt)),dt)}var an=rt[tt],yn=it,vn=lt;for(q_(rt,it,tt),dt(rt[lt],an)>0&&q_(rt,it,lt);yn<vn;){for(q_(rt,yn,vn),yn++,vn--;dt(rt[yn],an)<0;)yn++;for(;dt(rt[vn],an)>0;)vn--}dt(rt[it],an)===0?q_(rt,it,vn):q_(rt,++vn,lt),vn<=tt&&(it=vn+1),tt<=vn&&(lt=vn-1)}}function q_(rt,tt,it){var lt=rt[tt];rt[tt]=rt[it],rt[it]=lt}function JS(rt,tt){return rt<tt?-1:rt>tt?1:0}function lF(rt,tt){const it=rt.length;if(it<=1)return[rt];const lt=[];let dt,bt;for(let Et=0;Et<it;Et++){const Ot=On(rt[Et]);Ot!==0&&(rt[Et].area=Math.abs(Ot),bt===void 0&&(bt=Ot<0),bt===Ot<0?(dt&&lt.push(dt),dt=[rt[Et]]):dt.push(rt[Et]))}if(dt&&lt.push(dt),tt>1)for(let Et=0;Et<lt.length;Et++)lt[Et].length<=tt||(WS(lt[Et],tt,1,lt[Et].length-1,jS),lt[Et]=lt[Et].slice(0,tt));return lt}function jS(rt,tt){return tt.area-rt.area}function cF(rt,tt,it){const lt=it.patternDependencies;let dt=!1;for(const bt of tt){const Et=bt.paint.get(`${rt}-pattern`);Et.isConstant()||(dt=!0);const Ot=Et.constantOr(null);Ot&&(dt=!0,lt[Ot.to]=!0,lt[Ot.from]=!0)}return dt}function uF(rt,tt,it,lt,dt){const bt=dt.patternDependencies;for(const Et of tt){const Ot=Et.paint.get(`${rt}-pattern`).value;if(Ot.kind!=="constant"){let zt=Ot.evaluate({zoom:lt-1},it,{},dt.availableImages),Yt=Ot.evaluate({zoom:lt},it,{},dt.availableImages),an=Ot.evaluate({zoom:lt+1},it,{},dt.availableImages);zt=zt&&zt.name?zt.name:zt,Yt=Yt&&Yt.name?Yt.name:Yt,an=an&&an.name?an.name:an,bt[zt]=!0,bt[Yt]=!0,bt[an]=!0,it.patterns[Et.id]={min:zt,mid:Yt,max:an}}}return it}H_.exports=Yv,H_.exports.default=Yv,Yv.deviation=function(rt,tt,it,lt){var dt=tt&&tt.length,bt=Math.abs(aF(rt,0,dt?tt[0]*it:rt.length,it));if(dt)for(var Et=0,Ot=tt.length;Et<Ot;Et++)bt-=Math.abs(aF(rt,tt[Et]*it,Et<Ot-1?tt[Et+1]*it:rt.length,it));var zt=0;for(Et=0;Et<lt.length;Et+=3){var Yt=lt[Et]*it,an=lt[Et+1]*it,yn=lt[Et+2]*it;zt+=Math.abs((rt[Yt]-rt[yn])*(rt[an+1]-rt[Yt+1])-(rt[Yt]-rt[an])*(rt[yn+1]-rt[Yt+1]))}return bt===0&&zt===0?0:Math.abs((zt-bt)/bt)},Yv.flatten=function(rt){for(var tt=rt[0][0].length,it={vertices:[],holes:[],dimensions:tt},lt=0,dt=0;dt<rt.length;dt++){for(var bt=0;bt<rt[dt].length;bt++)for(var Et=0;Et<tt;Et++)it.vertices.push(rt[dt][bt][Et]);dt>0&&it.holes.push(lt+=rt[dt-1].length)}return it};class eU{constructor(tt){this.zoom=tt.zoom,this.overscaling=tt.overscaling,this.layers=tt.layers,this.layerIds=this.layers.map(it=>it.id),this.index=tt.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new gs,this.indexArray=new iu,this.indexArray2=new Ru,this.programConfigurations=new Op(tt.layers,tt.zoom),this.segments=new zl,this.segments2=new zl,this.stateDependentLayerIds=this.layers.filter(it=>it.isStateDependent()).map(it=>it.id),this.projection=tt.projection}populate(tt,it,lt,dt){this.hasPattern=cF("fill",this.layers,it);const bt=this.layers[0].layout.get("fill-sort-key"),Et=[];for(const{feature:Ot,id:zt,index:Yt,sourceLayerIndex:an}of tt){const yn=this.layers[0]._featureFilter.needGeometry,vn=Yy(Ot,yn);if(!this.layers[0]._featureFilter.filter(new ur(this.zoom),vn,lt))continue;const An=bt?bt.evaluate(vn,{},lt,it.availableImages):void 0,kn={id:zt,properties:Ot.properties,type:Ot.type,sourceLayerIndex:an,index:Yt,geometry:yn?vn.geometry:Lu(Ot,lt,dt),patterns:{},sortKey:An};Et.push(kn)}bt&&Et.sort((Ot,zt)=>Ot.sortKey-zt.sortKey);for(const Ot of Et){const{geometry:zt,index:Yt,sourceLayerIndex:an}=Ot;if(this.hasPattern){const yn=uF("fill",this.layers,Ot,this.zoom,it);this.patternFeatures.push(yn)}else this.addFeature(Ot,zt,Yt,lt,{},it.availableImages);it.featureIndex.insert(tt[Yt].feature,zt,Yt,an,this.index)}}update(tt,it,lt,dt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(tt,it,this.stateDependentLayers,lt,dt)}addFeatures(tt,it,lt,dt,bt){for(const Et of this.patternFeatures)this.addFeature(Et,Et.geometry,Et.index,it,lt,dt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(tt){this.uploaded||(this.layoutVertexBuffer=tt.createVertexBuffer(this.layoutVertexArray,AS),this.indexBuffer=tt.createIndexBuffer(this.indexArray),this.indexBuffer2=tt.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(tt),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(tt,it,lt,dt,bt,Et=[]){for(const Ot of lF(it,500)){let zt=0;for(const kn of Ot)zt+=kn.length;const Yt=this.segments.prepareSegment(zt,this.layoutVertexArray,this.indexArray),an=Yt.vertexLength,yn=[],vn=[];for(const kn of Ot){if(kn.length===0)continue;kn!==Ot[0]&&vn.push(yn.length/2);const Pn=this.segments2.prepareSegment(kn.length,this.layoutVertexArray,this.indexArray2),Xn=Pn.vertexLength;this.layoutVertexArray.emplaceBack(kn[0].x,kn[0].y),this.indexArray2.emplaceBack(Xn+kn.length-1,Xn),yn.push(kn[0].x),yn.push(kn[0].y);for(let fr=1;fr<kn.length;fr++)this.layoutVertexArray.emplaceBack(kn[fr].x,kn[fr].y),this.indexArray2.emplaceBack(Xn+fr-1,Xn+fr),yn.push(kn[fr].x),yn.push(kn[fr].y);Pn.vertexLength+=kn.length,Pn.primitiveLength+=kn.length}const An=H_.exports(yn,vn);for(let kn=0;kn<An.length;kn+=3)this.indexArray.emplaceBack(an+An[kn],an+An[kn+1],an+An[kn+2]);Yt.vertexLength+=zt,Yt.primitiveLength+=An.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,tt,lt,bt,Et,dt)}}ko(eU,"FillBucket",{omit:["layers","patternFeatures"]});const zS=new _o({"fill-sort-key":new Br(zr.layout_fill["fill-sort-key"])});var ZS={paint:new _o({"fill-antialias":new Vr(zr.paint_fill["fill-antialias"]),"fill-opacity":new Br(zr.paint_fill["fill-opacity"]),"fill-color":new Br(zr.paint_fill["fill-color"]),"fill-outline-color":new Br(zr.paint_fill["fill-outline-color"]),"fill-translate":new Vr(zr.paint_fill["fill-translate"]),"fill-translate-anchor":new Vr(zr.paint_fill["fill-translate-anchor"]),"fill-pattern":new So(zr.paint_fill["fill-pattern"])}),layout:zS};const GS=vo([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),HS=vo([{name:"a_centroid_pos",components:2,type:"Uint16"}]),U1=vo([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:F1}=GS;var tU={},$S=mt,S1=G0;function G0(rt,tt,it,lt,dt){this.properties={},this.extent=it,this.type=0,this._pbf=rt,this._geometry=-1,this._keys=lt,this._values=dt,rt.readFields(nU,this,tt)}function nU(rt,tt,it){rt==1?tt.id=it.readVarint():rt==2?function(lt,dt){for(var bt=lt.readVarint()+lt.pos;lt.pos<bt;){var Et=dt._keys[lt.readVarint()],Ot=dt._values[lt.readVarint()];dt.properties[Et]=Ot}}(it,tt):rt==3?tt.type=it.readVarint():rt==4&&(tt._geometry=it.pos)}function YS(rt){for(var tt,it,lt=0,dt=0,bt=rt.length,Et=bt-1;dt<bt;Et=dt++)lt+=((it=rt[Et]).x-(tt=rt[dt]).x)*(tt.y+it.y);return lt}G0.types=["Unknown","Point","LineString","Polygon"],G0.prototype.loadGeometry=function(){var rt=this._pbf;rt.pos=this._geometry;for(var tt,it=rt.readVarint()+rt.pos,lt=1,dt=0,bt=0,Et=0,Ot=[];rt.pos<it;){if(dt<=0){var zt=rt.readVarint();lt=7&zt,dt=zt>>3}if(dt--,lt===1||lt===2)bt+=rt.readSVarint(),Et+=rt.readSVarint(),lt===1&&(tt&&Ot.push(tt),tt=[]),tt.push(new $S(bt,Et));else{if(lt!==7)throw new Error("unknown command "+lt);tt&&tt.push(tt[0].clone())}}return tt&&Ot.push(tt),Ot},G0.prototype.bbox=function(){var rt=this._pbf;rt.pos=this._geometry;for(var tt=rt.readVarint()+rt.pos,it=1,lt=0,dt=0,bt=0,Et=1/0,Ot=-1/0,zt=1/0,Yt=-1/0;rt.pos<tt;){if(lt<=0){var an=rt.readVarint();it=7&an,lt=an>>3}if(lt--,it===1||it===2)(dt+=rt.readSVarint())<Et&&(Et=dt),dt>Ot&&(Ot=dt),(bt+=rt.readSVarint())<zt&&(zt=bt),bt>Yt&&(Yt=bt);else if(it!==7)throw new Error("unknown command "+it)}return[Et,zt,Ot,Yt]},G0.prototype.toGeoJSON=function(rt,tt,it){var lt,dt,bt=this.extent*Math.pow(2,it),Et=this.extent*rt,Ot=this.extent*tt,zt=this.loadGeometry(),Yt=G0.types[this.type];function an(An){for(var kn=0;kn<An.length;kn++){var Pn=An[kn];An[kn]=[360*(Pn.x+Et)/bt-180,360/Math.PI*Math.atan(Math.exp((180-360*(Pn.y+Ot)/bt)*Math.PI/180))-90]}}switch(this.type){case 1:var yn=[];for(lt=0;lt<zt.length;lt++)yn[lt]=zt[lt][0];an(zt=yn);break;case 2:for(lt=0;lt<zt.length;lt++)an(zt[lt]);break;case 3:for(zt=function(An){var kn=An.length;if(kn<=1)return[An];for(var Pn,Xn,fr=[],Fr=0;Fr<kn;Fr++){var dr=YS(An[Fr]);dr!==0&&(Xn===void 0&&(Xn=dr<0),Xn===dr<0?(Pn&&fr.push(Pn),Pn=[An[Fr]]):Pn.push(An[Fr]))}return Pn&&fr.push(Pn),fr}(zt),lt=0;lt<zt.length;lt++)for(dt=0;dt<zt[lt].length;dt++)an(zt[lt][dt])}zt.length===1?zt=zt[0]:Yt="Multi"+Yt;var vn={type:"Feature",geometry:{type:Yt,coordinates:zt},properties:this.properties};return"id"in this&&(vn.id=this.id),vn};var XS=S1,R1=w1;function w1(rt,tt){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=rt,this._keys=[],this._values=[],this._features=[],rt.readFields(qS,this,tt),this.length=this._features.length}function qS(rt,tt,it){rt===15?tt.version=it.readVarint():rt===1?tt.name=it.readString():rt===5?tt.extent=it.readVarint():rt===2?tt._features.push(it.pos):rt===3?tt._keys.push(it.readString()):rt===4&&tt._values.push(function(lt){for(var dt=null,bt=lt.readVarint()+lt.pos;lt.pos<bt;){var Et=lt.readVarint()>>3;dt=Et===1?lt.readString():Et===2?lt.readFloat():Et===3?lt.readDouble():Et===4?lt.readVarint64():Et===5?lt.readVarint():Et===6?lt.readSVarint():Et===7?lt.readBoolean():null}return dt}(it))}w1.prototype.feature=function(rt){if(rt<0||rt>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[rt];var tt=this._pbf.readVarint()+this._pbf.pos;return new XS(this._pbf,tt,this.extent,this._keys,this._values)};var KS=R1;function eR(rt,tt,it){if(rt===3){var lt=new KS(it,it.readVarint()+it.pos);lt.length&&(tt[lt.name]=lt)}}var hF=tU.VectorTile=function(rt,tt){this.layers=rt.readFields(eR,{},tt)},rU=tU.VectorTileFeature=S1;function iU(rt,tt,it,lt){const dt=[],bt=lt===0?(Et,Ot,zt,Yt,an,yn)=>{Et.push(new mt(yn,zt+(yn-Ot)/(Yt-Ot)*(an-zt)))}:(Et,Ot,zt,Yt,an,yn)=>{Et.push(new mt(Ot+(yn-zt)/(an-zt)*(Yt-Ot),yn))};for(const Et of rt){const Ot=[];for(const zt of Et){if(zt.length<=2)continue;const Yt=[];for(let vn=0;vn<zt.length-1;vn++){const An=zt[vn].x,kn=zt[vn].y,Pn=zt[vn+1].x,Xn=zt[vn+1].y,fr=lt===0?An:kn,Fr=lt===0?Pn:Xn;fr<tt?Fr>tt&&bt(Yt,An,kn,Pn,Xn,tt):fr>it?Fr<it&&bt(Yt,An,kn,Pn,Xn,it):Yt.push(zt[vn]),Fr<tt&&fr>=tt&&bt(Yt,An,kn,Pn,Xn,tt),Fr>it&&fr<=it&&bt(Yt,An,kn,Pn,Xn,it)}let an=zt[zt.length-1];const yn=lt===0?an.x:an.y;yn>=tt&&yn<=it&&Yt.push(an),Yt.length&&(an=Yt[Yt.length-1],Yt[0].x===an.x&&Yt[0].y===an.y||Yt.push(Yt[0]),Ot.push(Yt))}Ot.length&&dt.push(Ot)}return dt}tU.VectorTileLayer=R1;const tR=rU.types,oU=Math.pow(2,13);function K_(rt,tt,it,lt,dt,bt,Et,Ot){rt.emplaceBack((tt<<1)+Et,(it<<1)+bt,(Math.floor(lt*oU)<<1)+dt,Math.round(Ot))}function H0(rt,tt,it){rt.emplaceBack(tt.x,tt.y,tt.z,it[0]*16384,it[1]*16384,it[2]*16384)}class dF{constructor(){this.acc=new mt(0,0),this.polyCount=[]}startRing(tt){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new mt(tt.x,tt.y),this.max=new mt(tt.x,tt.y))}append(tt,it){this.currentPolyCount.edges++,this.acc._add(tt);const lt=this.min,dt=this.max;tt.x<lt.x?lt.x=tt.x:tt.x>dt.x&&(dt.x=tt.x),tt.y<lt.y?lt.y=tt.y:tt.y>dt.y&&(dt.y=tt.y),((tt.x===0||tt.x===Xo)&&tt.x===it.x)!=((tt.y===0||tt.y===Xo)&&tt.y===it.y)&&this.processBorderOverlap(tt,it),it.x<0!=tt.x<0&&this.addBorderIntersection(0,xs(it.y,tt.y,(0-it.x)/(tt.x-it.x))),it.x>Xo!=tt.x>Xo&&this.addBorderIntersection(1,xs(it.y,tt.y,(Xo-it.x)/(tt.x-it.x))),it.y<0!=tt.y<0&&this.addBorderIntersection(2,xs(it.x,tt.x,(0-it.y)/(tt.y-it.y))),it.y>Xo!=tt.y>Xo&&this.addBorderIntersection(3,xs(it.x,tt.x,(Xo-it.y)/(tt.y-it.y)))}addBorderIntersection(tt,it){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const lt=this.borders[tt];it<lt[0]&&(lt[0]=it),it>lt[1]&&(lt[1]=it)}processBorderOverlap(tt,it){if(tt.x===it.x){if(tt.y===it.y)return;const lt=tt.x===0?0:1;this.addBorderIntersection(lt,it.y),this.addBorderIntersection(lt,tt.y)}else{const lt=tt.y===0?2:3;this.addBorderIntersection(lt,it.x),this.addBorderIntersection(lt,tt.x)}}centroid(){const tt=this.polyCount.reduce((it,lt)=>it+lt.edges,0);return tt!==0?this.acc.div(tt)._round():new mt(0,0)}span(){return new mt(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((tt,it)=>tt+ +(it[0]!==Number.MAX_VALUE),0)}}class e0{constructor(tt){this.zoom=tt.zoom,this.canonical=tt.canonical,this.overscaling=tt.overscaling,this.layers=tt.layers,this.layerIds=this.layers.map(it=>it.id),this.index=tt.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=tt.projection,this.layoutVertexArray=new Gs,this.centroidVertexArray=new Nv,this.indexArray=new iu,this.programConfigurations=new Op(tt.layers,tt.zoom),this.segments=new zl,this.stateDependentLayerIds=this.layers.filter(it=>it.isStateDependent()).map(it=>it.id),this.enableTerrain=tt.enableTerrain}populate(tt,it,lt,dt){this.features=[],this.hasPattern=cF("fill-extrusion",this.layers,it),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(bt){const Et=Math.exp(Math.PI*(1-bt.y/(1<<bt.z)*2));return 80150034*Et/(Et*Et+1)/Xo/(1<<bt.z)}(lt),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:bt,id:Et,index:Ot,sourceLayerIndex:zt}of tt){const Yt=this.layers[0]._featureFilter.needGeometry,an=Yy(bt,Yt);if(!this.layers[0]._featureFilter.filter(new ur(this.zoom),an,lt))continue;const yn={id:Et,sourceLayerIndex:zt,index:Ot,geometry:Yt?an.geometry:Lu(bt,lt,dt),properties:bt.properties,type:bt.type,patterns:{}},vn=this.layoutVertexArray.length;this.hasPattern?this.features.push(uF("fill-extrusion",this.layers,yn,this.zoom,it)):this.addFeature(yn,yn.geometry,Ot,lt,{},it.availableImages,dt),it.featureIndex.insert(bt,yn.geometry,Ot,zt,this.index,vn)}this.sortBorders()}addFeatures(tt,it,lt,dt,bt){for(const Et of this.features){const{geometry:Ot}=Et;this.addFeature(Et,Ot,Et.index,it,lt,dt,bt)}this.sortBorders()}update(tt,it,lt,dt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(tt,it,this.stateDependentLayers,lt,dt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(tt){this.uploaded||(this.layoutVertexBuffer=tt.createVertexBuffer(this.layoutVertexArray,F1),this.indexBuffer=tt.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=tt.createVertexBuffer(this.layoutVertexExtArray,U1.members,!0))),this.programConfigurations.upload(tt),this.uploaded=!0}uploadCentroid(tt){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=tt.createVertexBuffer(this.centroidVertexArray,HS.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(tt,it,lt,dt,bt,Et,Ot){const zt=[new mt(0,0),new mt(Xo,Xo)],Yt=Ot.projection,an=Yt.name==="globe",yn=this.enableTerrain&&!an?new dF:null,vn=tR[tt.type]==="Polygon";an&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new bp);const An=lF(it,500);for(let fr=An.length-1;fr>=0;fr--){const Fr=An[fr];(Fr.length===0||(kn=Fr[0]).every(dr=>dr.x<=0)||kn.every(dr=>dr.x>=Xo)||kn.every(dr=>dr.y<=0)||kn.every(dr=>dr.y>=Xo))&&An.splice(fr,1)}var kn;let Pn;if(an)Pn=ev(An,zt,dt);else{Pn=[];for(const fr of An)Pn.push({polygon:fr,bounds:zt})}const Xn=vn?this.edgeRadius:0;for(const{polygon:fr,bounds:Fr}of Pn){let dr=0,_r=0;for(const vr of fr)vn&&!vr[0].equals(vr[vr.length-1])&&vr.push(vr[0]),_r+=vn?vr.length-1:vr.length;const wr=this.segments.prepareSegment((vn?5:4)*_r,this.layoutVertexArray,this.indexArray);if(vn){const vr=[],Lr=[];dr=wr.vertexLength;for(const Xr of fr){let fo,Jr;Xr.length&&Xr!==fr[0]&&Lr.push(vr.length/2),fo=Xr[1].sub(Xr[0])._perp()._unit();for(let no=1;no<Xr.length;no++){const ro=Xr[no],ao=Xr[no===Xr.length-1?1:no+1];let{x:go,y:jr}=ro;if(Xn){Jr=ao.sub(ro)._perp()._unit();const Ro=fo.add(Jr)._unit(),Yo=Xn*Math.min(4,1/(fo.x*Ro.x+fo.y*Ro.y));go+=Yo*Ro.x,jr+=Yo*Ro.y,fo=Jr}K_(this.layoutVertexArray,go,jr,0,0,1,1,0),wr.vertexLength++,vr.push(ro.x,ro.y),an&&H0(this.layoutVertexExtArray,Yt.projectTilePoint(go,jr,dt),Yt.upVector(dt,go,jr))}}const Ir=H_.exports(vr,Lr);for(let Xr=0;Xr<Ir.length;Xr+=3)this.indexArray.emplaceBack(dr+Ir[Xr],dr+Ir[Xr+2],dr+Ir[Xr+1]),wr.primitiveLength++}for(const vr of fr){yn&&vr.length&&yn.startRing(vr[0]);let Lr,Ir,Xr,fo=vr.length>4&&B1(vr[vr.length-2],vr[0],vr[1]),Jr=Xn?E1(vr[vr.length-2],vr[0],vr[1],Xn):0;Ir=vr[1].sub(vr[0])._perp()._unit();let no=!0;for(let ro=1,ao=0;ro<vr.length;ro++){let go=vr[ro-1],jr=vr[ro];const Ro=vr[ro===vr.length-1?1:ro+1];if(yn&&vn&&yn.currentPolyCount.top++,gF(jr,go,Fr)){Xn&&(Ir=Ro.sub(jr)._perp()._unit(),no=!no);continue}yn&&yn.append(jr,go);const Yo=jr.sub(go)._perp(),xo=Yo.x/(Math.abs(Yo.x)+Math.abs(Yo.y)),Lo=Yo.y>0?1:0,Bo=go.dist(jr);if(ao+Bo>32768&&(ao=0),Xn){Xr=Ro.sub(jr)._perp()._unit();let Ds=pF(go,jr,Ro,fF(Ir,Xr),Xn);isNaN(Ds)&&(Ds=0);const cs=jr.sub(go)._unit();go=go.add(cs.mult(Jr))._round(),jr=jr.add(cs.mult(-Ds))._round(),Jr=Ds,Ir=Xr}const qo=wr.vertexLength,hs=vr.length>4&&B1(go,jr,Ro);let ms=T1(ao,fo,no);if(K_(this.layoutVertexArray,go.x,go.y,xo,Lo,0,0,ms),K_(this.layoutVertexArray,go.x,go.y,xo,Lo,0,1,ms),ao+=Bo,ms=T1(ao,hs,!no),fo=hs,K_(this.layoutVertexArray,jr.x,jr.y,xo,Lo,0,0,ms),K_(this.layoutVertexArray,jr.x,jr.y,xo,Lo,0,1,ms),wr.vertexLength+=4,this.indexArray.emplaceBack(qo+0,qo+1,qo+2),this.indexArray.emplaceBack(qo+1,qo+3,qo+2),wr.primitiveLength+=2,Xn){const Ds=dr+(ro===1?vr.length-2:ro-2),cs=ro===1?dr:Ds+1;if(this.indexArray.emplaceBack(qo+1,Ds,qo+3),this.indexArray.emplaceBack(Ds,cs,qo+3),wr.primitiveLength+=2,Lr===void 0&&(Lr=qo),!gF(Ro,vr[ro],Fr)){const Bl=ro===vr.length-1?Lr:wr.vertexLength;this.indexArray.emplaceBack(qo+2,qo+3,Bl),this.indexArray.emplaceBack(qo+3,Bl+1,Bl),this.indexArray.emplaceBack(qo+3,cs,Bl+1),wr.primitiveLength+=3}no=!no}if(an){const Ds=this.layoutVertexExtArray,cs=Yt.projectTilePoint(go.x,go.y,dt),Bl=Yt.projectTilePoint(jr.x,jr.y,dt),bs=Yt.upVector(dt,go.x,go.y),Ts=Yt.upVector(dt,jr.x,jr.y);H0(Ds,cs,bs),H0(Ds,cs,bs),H0(Ds,Bl,Ts),H0(Ds,Bl,Ts)}}vn&&(dr+=vr.length-1)}}if(yn&&yn.polyCount.length>0){if(yn.borders){yn.vertexArrayOffset=this.centroidVertexArray.length;const fr=yn.borders,Fr=this.featuresOnBorder.push(yn)-1;for(let dr=0;dr<4;dr++)fr[dr][0]!==Number.MAX_VALUE&&this.borders[dr].push(Fr)}this.encodeCentroid(yn.borders?void 0:yn.centroid(),yn)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,tt,lt,bt,Et,dt)}sortBorders(){for(let tt=0;tt<4;tt++)this.borders[tt].sort((it,lt)=>this.featuresOnBorder[it].borders[tt][0]-this.featuresOnBorder[lt].borders[tt][0])}encodeCentroid(tt,it,lt=!0){let dt,bt;if(tt)if(tt.y!==0){const Ot=it.span()._mult(this.tileToMeter);dt=(Math.max(tt.x,1)<<3)+Math.min(7,Math.round(Ot.x/10)),bt=(Math.max(tt.y,1)<<3)+Math.min(7,Math.round(Ot.y/10))}else dt=Math.ceil(7*(tt.x+450)),bt=0;else dt=0,bt=+lt;let Et=lt?this.centroidVertexArray.length:it.vertexArrayOffset;for(const Ot of it.polyCount){lt&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*Ot.edges+Ot.top);for(let zt=0;zt<Ot.top;zt++)this.centroidVertexArray.emplace(Et++,dt,bt);for(let zt=0;zt<2*Ot.edges;zt++)this.centroidVertexArray.emplace(Et++,0,bt),this.centroidVertexArray.emplace(Et++,dt,bt)}}}function fF(rt,tt){const it=rt.add(tt)._unit();return rt.x*it.x+rt.y*it.y}function E1(rt,tt,it,lt){const dt=tt.sub(rt)._perp()._unit(),bt=it.sub(tt)._perp()._unit();return pF(rt,tt,it,fF(dt,bt),lt)}function pF(rt,tt,it,lt,dt){const bt=Math.sqrt(1-lt*lt);return Math.min(rt.dist(tt)/3,tt.dist(it)/3,dt*bt/lt)}function gF(rt,tt,it){return rt.x<it[0].x&&tt.x<it[0].x||rt.x>it[1].x&&tt.x>it[1].x||rt.y<it[0].y&&tt.y<it[0].y||rt.y>it[1].y&&tt.y>it[1].y}function B1(rt,tt,it){if(rt.x<0||rt.x>=Xo||tt.x<0||tt.x>=Xo||it.x<0||it.x>=Xo)return!1;const lt=it.sub(tt),dt=lt.perp(),bt=rt.sub(tt);return(lt.x*bt.x+lt.y*bt.y)/Math.sqrt((lt.x*lt.x+lt.y*lt.y)*(bt.x*bt.x+bt.y*bt.y))>-.866&&dt.x*bt.x+dt.y*bt.y<0}function T1(rt,tt,it){const lt=tt?2|rt:-3&rt;return it?1|lt:-2&lt}function Q1(){const rt=Math.PI/32,tt=Math.tan(rt),it=L_;return it*Math.sqrt(1+2*tt*tt)-it}function ev(rt,tt,it){const lt=1<<it.z,dt=Fp(it.x/lt),bt=Fp((it.x+1)/lt),Et=ou(it.y/lt),Ot=ou((it.y+1)/lt);return function(zt,Yt,an,yn,vn=0,An){const kn=[];if(!zt.length||!an||!yn)return kn;const Pn=(vr,Lr)=>{for(const Ir of vr)kn.push({polygon:Ir,bounds:Lr})},Xn=Math.ceil(Math.log2(an)),fr=Math.ceil(Math.log2(yn)),Fr=Xn-fr,dr=[];for(let vr=0;vr<Math.abs(Fr);vr++)dr.push(Fr>0?0:1);for(let vr=0;vr<Math.min(Xn,fr);vr++)dr.push(0),dr.push(1);let _r=zt;if(_r=iU(_r,Yt[0].y-vn,Yt[1].y+vn,1),_r=iU(_r,Yt[0].x-vn,Yt[1].x+vn,0),!_r.length)return kn;const wr=[];for(dr.length?wr.push({polygons:_r,bounds:Yt,depth:0}):Pn(_r,Yt);wr.length;){const vr=wr.pop(),Lr=vr.depth,Ir=dr[Lr],Xr=vr.bounds[0],fo=vr.bounds[1],Jr=Ir===0?Xr.x:Xr.y,no=Ir===0?fo.x:fo.y,ro=An?An(Ir,Jr,no):.5*(Jr+no),ao=iU(vr.polygons,Jr-vn,ro+vn,Ir),go=iU(vr.polygons,ro-vn,no+vn,Ir);if(ao.length){const jr=[Xr,new mt(Ir===0?ro:fo.x,Ir===1?ro:fo.y)];dr.length>Lr+1?wr.push({polygons:ao,bounds:jr,depth:Lr+1}):Pn(ao,jr)}if(go.length){const jr=[new mt(Ir===0?ro:Xr.x,Ir===1?ro:Xr.y),fo];dr.length>Lr+1?wr.push({polygons:go,bounds:jr,depth:Lr+1}):Pn(go,jr)}}return kn}(rt,tt,Math.ceil((bt-dt)/11.25),Math.ceil((Et-Ot)/11.25),1,(zt,Yt,an)=>{if(zt===0)return .5*(Yt+an);{const yn=ou((it.y+Yt/Xo)/lt);return(rm(.5*(ou((it.y+an/Xo)/lt)+yn))*lt-it.y)*Xo}})}ko(e0,"FillExtrusionBucket",{omit:["layers","features"]}),ko(dF,"PartMetadata");const sU=new _o({"fill-extrusion-edge-radius":new Vr(zr["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var nR={paint:new _o({"fill-extrusion-opacity":new Vr(zr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Br(zr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Vr(zr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Vr(zr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new So(zr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Br(zr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Br(zr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Vr(zr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Vr(zr["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Vr(zr["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:sU};function x1(rt,tt,it){var lt=2*Math.PI*6378137/256/Math.pow(2,it);return[rt*lt-2*Math.PI*6378137/2,tt*lt-2*Math.PI*6378137/2]}class $0{constructor(tt,it,lt){this.z=tt,this.x=it,this.y=lt,this.key=tv(0,tt,tt,it,lt)}equals(tt){return this.z===tt.z&&this.x===tt.x&&this.y===tt.y}url(tt,it){const lt=function(bt,Et,Ot){var zt=x1(256*bt,256*(Et=Math.pow(2,Ot)-Et-1),Ot),Yt=x1(256*(bt+1),256*(Et+1),Ot);return zt[0]+","+zt[1]+","+Yt[0]+","+Yt[1]}(this.x,this.y,this.z),dt=function(bt,Et,Ot){let zt,Yt="";for(let an=bt;an>0;an--)zt=1<<an-1,Yt+=(Et&zt?1:0)+(Ot&zt?2:0);return Yt}(this.z,this.x,this.y);return tt[(this.x+this.y)%tt.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(it==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",dt).replace("{bbox-epsg-3857}",lt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class mF{constructor(tt,it){this.wrap=tt,this.canonical=it,this.key=tv(tt,it.z,it.z,it.x,it.y)}}class Du{constructor(tt,it,lt,dt,bt){this.overscaledZ=tt,this.wrap=it,this.canonical=new $0(lt,+dt,+bt),this.key=it===0&&tt===lt?this.canonical.key:tv(it,tt,lt,dt,bt)}equals(tt){return this.overscaledZ===tt.overscaledZ&&this.wrap===tt.wrap&&this.canonical.equals(tt.canonical)}scaledTo(tt){const it=this.canonical.z-tt;return tt>this.canonical.z?new Du(tt,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Du(tt,this.wrap,tt,this.canonical.x>>it,this.canonical.y>>it)}calculateScaledKey(tt,it=!0){if(this.overscaledZ===tt&&it)return this.key;if(tt>this.canonical.z)return tv(this.wrap*+it,tt,this.canonical.z,this.canonical.x,this.canonical.y);{const lt=this.canonical.z-tt;return tv(this.wrap*+it,tt,tt,this.canonical.x>>lt,this.canonical.y>>lt)}}isChildOf(tt){if(tt.wrap!==this.wrap)return!1;const it=this.canonical.z-tt.canonical.z;return tt.overscaledZ===0||tt.overscaledZ<this.overscaledZ&&tt.canonical.x===this.canonical.x>>it&&tt.canonical.y===this.canonical.y>>it}children(tt){if(this.overscaledZ>=tt)return[new Du(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const it=this.canonical.z+1,lt=2*this.canonical.x,dt=2*this.canonical.y;return[new Du(it,this.wrap,it,lt,dt),new Du(it,this.wrap,it,lt+1,dt),new Du(it,this.wrap,it,lt,dt+1),new Du(it,this.wrap,it,lt+1,dt+1)]}isLessThan(tt){return this.wrap<tt.wrap||!(this.wrap>tt.wrap)&&(this.overscaledZ<tt.overscaledZ||!(this.overscaledZ>tt.overscaledZ)&&(this.canonical.x<tt.canonical.x||!(this.canonical.x>tt.canonical.x)&&this.canonical.y<tt.canonical.y))}wrapped(){return new Du(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(tt){return new Du(this.overscaledZ,tt,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new mF(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function tv(rt,tt,it,lt,dt){const bt=1<<Math.min(it,22);let Et=bt*(dt%bt)+lt%bt;return rt&&it<22&&(Et+=bt*bt*((rt<0?-2*rt-1:2*rt)%(1<<2*(22-it)))),16*(32*Et+it)+(tt-it)}ko($0,"CanonicalTileID"),ko(Du,"OverscaledTileID",{omit:["projMatrix"]});class Y0 extends mt{constructor(tt,it,lt){super(tt,it),this.z=lt}}function nv(rt,tt){return rt.x*tt.x+rt.y*tt.y}function A1(rt,tt){if(rt.length===1){let it=0;const lt=tt[it++];let dt;for(;!dt||lt.equals(dt);)if(dt=tt[it++],!dt)return 1/0;for(;it<tt.length;it++){const bt=tt[it],Et=rt[0],Ot=dt.sub(lt),zt=bt.sub(lt),Yt=Et.sub(lt),an=nv(Ot,Ot),yn=nv(Ot,zt),vn=nv(zt,zt),An=nv(Yt,Ot),kn=nv(Yt,zt),Pn=an*vn-yn*yn,Xn=(vn*An-yn*kn)/Pn,fr=(an*kn-yn*An)/Pn,Fr=lt.z*(1-Xn-fr)+dt.z*Xn+bt.z*fr;if(isFinite(Fr))return Fr}return 1/0}{let it=1/0;for(const lt of tt)it=Math.min(it,lt.z);return it}}function C1(rt,tt,it,lt,dt,bt,Et,Ot){const zt=Et*dt.getElevationAt(rt,tt,!0,!0),Yt=bt[0]!==0,an=Yt?bt[1]===0?Et*(bt[0]/7-450):Et*function(yn,vn,An){const kn=Math.floor(vn[0]/8),Pn=Math.floor(vn[1]/8),Xn=10*(vn[0]-8*kn),fr=10*(vn[1]-8*Pn),Fr=yn.getElevationAt(kn,Pn,!0,!0),dr=yn.getMeterToDEM(An),_r=Math.floor(.5*(Xn*dr-1)),wr=Math.floor(.5*(fr*dr-1)),vr=yn.tileCoordToPixel(kn,Pn),Lr=2*_r+1,Ir=2*wr+1,Xr=function(go,jr,Ro,Yo,xo){return[go.getElevationAtPixel(jr,Ro,!0),go.getElevationAtPixel(jr+xo,Ro,!0),go.getElevationAtPixel(jr,Ro+xo,!0),go.getElevationAtPixel(jr+Yo,Ro+xo,!0)]}(yn,vr.x-_r,vr.y-wr,Lr,Ir),fo=Math.abs(Xr[0]-Xr[1]),Jr=Math.abs(Xr[2]-Xr[3]),no=Math.abs(Xr[0]-Xr[2])+Math.abs(Xr[1]-Xr[3]),ro=Math.min(.25,.5*dr*(fo+Jr)/Lr),ao=Math.min(.25,.5*dr*no/Ir);return Fr+Math.max(ro*Xn,ao*fr)}(dt,bt,Ot):zt;return{base:zt+(it===0)?-1:it,top:Yt?Math.max(an+lt,zt+it+2):zt+lt}}const rR=vo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:iR}=rR,oR=vo([{name:"a_packed",components:4,type:"Float32"}]),{members:sR}=oR,aR=rU.types,lR=Math.cos(Math.PI/180*37.5);class ip{constructor(tt){this.zoom=tt.zoom,this.overscaling=tt.overscaling,this.layers=tt.layers,this.layerIds=this.layers.map(it=>it.id),this.index=tt.index,this.projection=tt.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(it=>{this.gradients[it.id]={}}),this.layoutVertexArray=new Os,this.layoutVertexArray2=new Jl,this.indexArray=new iu,this.programConfigurations=new Op(tt.layers,tt.zoom),this.segments=new zl,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(it=>it.isStateDependent()).map(it=>it.id)}populate(tt,it,lt,dt){this.hasPattern=cF("line",this.layers,it);const bt=this.layers[0].layout.get("line-sort-key"),Et=[];for(const{feature:an,id:yn,index:vn,sourceLayerIndex:An}of tt){const kn=this.layers[0]._featureFilter.needGeometry,Pn=Yy(an,kn);if(!this.layers[0]._featureFilter.filter(new ur(this.zoom),Pn,lt))continue;const Xn=bt?bt.evaluate(Pn,{},lt):void 0,fr={id:yn,properties:an.properties,type:an.type,sourceLayerIndex:An,index:vn,geometry:kn?Pn.geometry:Lu(an,lt,dt),patterns:{},sortKey:Xn};Et.push(fr)}bt&&Et.sort((an,yn)=>an.sortKey-yn.sortKey);const{lineAtlas:Ot,featureIndex:zt}=it,Yt=this.addConstantDashes(Ot);for(const an of Et){const{geometry:yn,index:vn,sourceLayerIndex:An}=an;if(Yt&&this.addFeatureDashes(an,Ot),this.hasPattern){const kn=uF("line",this.layers,an,this.zoom,it);this.patternFeatures.push(kn)}else this.addFeature(an,yn,vn,lt,Ot.positions,it.availableImages);zt.insert(tt[vn].feature,yn,vn,An,this.index)}}addConstantDashes(tt){let it=!1;for(const lt of this.layers){const dt=lt.paint.get("line-dasharray").value,bt=lt.layout.get("line-cap").value;if(dt.kind!=="constant"||bt.kind!=="constant")it=!0;else{const Et=bt.value,Ot=dt.value;if(!Ot)continue;tt.addDash(Ot.from,Et),tt.addDash(Ot.to,Et),Ot.other&&tt.addDash(Ot.other,Et)}}return it}addFeatureDashes(tt,it){const lt=this.zoom;for(const dt of this.layers){const bt=dt.paint.get("line-dasharray").value,Et=dt.layout.get("line-cap").value;if(bt.kind==="constant"&&Et.kind==="constant")continue;let Ot,zt,Yt,an,yn,vn;if(bt.kind==="constant"){const Xn=bt.value;if(!Xn)continue;Ot=Xn.other||Xn.to,zt=Xn.to,Yt=Xn.from}else Ot=bt.evaluate({zoom:lt-1},tt),zt=bt.evaluate({zoom:lt},tt),Yt=bt.evaluate({zoom:lt+1},tt);Et.kind==="constant"?an=yn=vn=Et.value:(an=Et.evaluate({zoom:lt-1},tt),yn=Et.evaluate({zoom:lt},tt),vn=Et.evaluate({zoom:lt+1},tt)),it.addDash(Ot,an),it.addDash(zt,yn),it.addDash(Yt,vn);const An=it.getKey(Ot,an),kn=it.getKey(zt,yn),Pn=it.getKey(Yt,vn);tt.patterns[dt.id]={min:An,mid:kn,max:Pn}}}update(tt,it,lt,dt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(tt,it,this.stateDependentLayers,lt,dt)}addFeatures(tt,it,lt,dt,bt){for(const Et of this.patternFeatures)this.addFeature(Et,Et.geometry,Et.index,it,lt,dt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(tt){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=tt.createVertexBuffer(this.layoutVertexArray2,sR)),this.layoutVertexBuffer=tt.createVertexBuffer(this.layoutVertexArray,iR),this.indexBuffer=tt.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(tt),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(tt){if(tt.properties&&tt.properties.hasOwnProperty("mapbox_clip_start")&&tt.properties.hasOwnProperty("mapbox_clip_end"))return{start:+tt.properties.mapbox_clip_start,end:+tt.properties.mapbox_clip_end}}addFeature(tt,it,lt,dt,bt,Et){const Ot=this.layers[0].layout,zt=Ot.get("line-join").evaluate(tt,{}),Yt=Ot.get("line-cap").evaluate(tt,{}),an=Ot.get("line-miter-limit"),yn=Ot.get("line-round-limit");this.lineClips=this.lineFeatureClips(tt);for(const vn of it)this.addLine(vn,tt,zt,Yt,an,yn);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,tt,lt,bt,Et,dt)}addLine(tt,it,lt,dt,bt,Et){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let fr=0;fr<tt.length-1;fr++)this.totalDistance+=tt[fr].dist(tt[fr+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const Ot=aR[it.type]==="Polygon";let zt=tt.length;for(;zt>=2&&tt[zt-1].equals(tt[zt-2]);)zt--;let Yt=0;for(;Yt<zt-1&&tt[Yt].equals(tt[Yt+1]);)Yt++;if(zt<(Ot?3:2))return;lt==="bevel"&&(bt=1.05);const an=this.overscaling<=16?122880/(512*this.overscaling):0,yn=this.segments.prepareSegment(10*zt,this.layoutVertexArray,this.indexArray);let vn,An,kn,Pn,Xn;this.e1=this.e2=-1,Ot&&(vn=tt[zt-2],Xn=tt[Yt].sub(vn)._unit()._perp());for(let fr=Yt;fr<zt;fr++){if(kn=fr===zt-1?Ot?tt[Yt+1]:void 0:tt[fr+1],kn&&tt[fr].equals(kn))continue;Xn&&(Pn=Xn),vn&&(An=vn),vn=tt[fr],Xn=kn?kn.sub(vn)._unit()._perp():Pn,Pn=Pn||Xn;let Fr=Pn.add(Xn);Fr.x===0&&Fr.y===0||Fr._unit();const dr=Pn.x*Xn.x+Pn.y*Xn.y,_r=Fr.x*Xn.x+Fr.y*Xn.y,wr=_r!==0?1/_r:1/0,vr=2*Math.sqrt(2-2*_r),Lr=_r<lR&&An&&kn,Ir=Pn.x*Xn.y-Pn.y*Xn.x>0;if(Lr&&fr>Yt){const Jr=vn.dist(An);if(Jr>2*an){const no=vn.sub(vn.sub(An)._mult(an/Jr)._round());this.updateDistance(An,no),this.addCurrentVertex(no,Pn,0,0,yn),An=no}}const Xr=An&&kn;let fo=Xr?lt:Ot?"butt":dt;if(Xr&&fo==="round"&&(wr<Et?fo="miter":wr<=2&&(fo="fakeround")),fo==="miter"&&wr>bt&&(fo="bevel"),fo==="bevel"&&(wr>2&&(fo="flipbevel"),wr<bt&&(fo="miter")),An&&this.updateDistance(An,vn),fo==="miter")Fr._mult(wr),this.addCurrentVertex(vn,Fr,0,0,yn);else if(fo==="flipbevel"){if(wr>100)Fr=Xn.mult(-1);else{const Jr=wr*Pn.add(Xn).mag()/Pn.sub(Xn).mag();Fr._perp()._mult(Jr*(Ir?-1:1))}this.addCurrentVertex(vn,Fr,0,0,yn),this.addCurrentVertex(vn,Fr.mult(-1),0,0,yn)}else if(fo==="bevel"||fo==="fakeround"){const Jr=-Math.sqrt(wr*wr-1),no=Ir?Jr:0,ro=Ir?0:Jr;if(An&&this.addCurrentVertex(vn,Pn,no,ro,yn),fo==="fakeround"){const ao=Math.round(180*vr/Math.PI/20);for(let go=1;go<ao;go++){let jr=go/ao;if(jr!==.5){const Yo=jr-.5;jr+=jr*Yo*(jr-1)*((1.0904+dr*(dr*(3.55645-1.43519*dr)-3.2452))*Yo*Yo+(.848013+dr*(.215638*dr-1.06021)))}const Ro=Xn.sub(Pn)._mult(jr)._add(Pn)._unit()._mult(Ir?-1:1);this.addHalfVertex(vn,Ro.x,Ro.y,!1,Ir,0,yn)}}kn&&this.addCurrentVertex(vn,Xn,-no,-ro,yn)}else if(fo==="butt")this.addCurrentVertex(vn,Fr,0,0,yn);else if(fo==="square"){const Jr=An?1:-1;An||this.addCurrentVertex(vn,Fr,Jr,Jr,yn),this.addCurrentVertex(vn,Fr,0,0,yn),An&&this.addCurrentVertex(vn,Fr,Jr,Jr,yn)}else fo==="round"&&(An&&(this.addCurrentVertex(vn,Pn,0,0,yn),this.addCurrentVertex(vn,Pn,1,1,yn,!0)),kn&&(this.addCurrentVertex(vn,Xn,-1,-1,yn,!0),this.addCurrentVertex(vn,Xn,0,0,yn)));if(Lr&&fr<zt-1){const Jr=vn.dist(kn);if(Jr>2*an){const no=vn.add(kn.sub(vn)._mult(an/Jr)._round());this.updateDistance(vn,no),this.addCurrentVertex(no,Xn,0,0,yn),vn=no}}}}addCurrentVertex(tt,it,lt,dt,bt,Et=!1){const Ot=it.y*dt-it.x,zt=-it.y-it.x*dt;this.addHalfVertex(tt,it.x+it.y*lt,it.y-it.x*lt,Et,!1,lt,bt),this.addHalfVertex(tt,Ot,zt,Et,!0,-dt,bt)}addHalfVertex({x:tt,y:it},lt,dt,bt,Et,Ot,zt){this.layoutVertexArray.emplaceBack((tt<<1)+(bt?1:0),(it<<1)+(Et?1:0),Math.round(63*lt)+128,Math.round(63*dt)+128,1+(Ot===0?0:Ot<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const Yt=zt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Yt),zt.primitiveLength++),Et?this.e2=Yt:this.e1=Yt}updateScaledDistance(){if(this.lineClips){const tt=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=tt*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(tt,it){this.distance+=tt.dist(it),this.updateScaledDistance()}}ko(ip,"LineBucket",{omit:["layers","patternFeatures"]});const cR=new _o({"line-cap":new Br(zr.layout_line["line-cap"]),"line-join":new Br(zr.layout_line["line-join"]),"line-miter-limit":new Vr(zr.layout_line["line-miter-limit"]),"line-round-limit":new Vr(zr.layout_line["line-round-limit"]),"line-sort-key":new Br(zr.layout_line["line-sort-key"])});var k1={paint:new _o({"line-opacity":new Br(zr.paint_line["line-opacity"]),"line-color":new Br(zr.paint_line["line-color"]),"line-translate":new Vr(zr.paint_line["line-translate"]),"line-translate-anchor":new Vr(zr.paint_line["line-translate-anchor"]),"line-width":new Br(zr.paint_line["line-width"]),"line-gap-width":new Br(zr.paint_line["line-gap-width"]),"line-offset":new Br(zr.paint_line["line-offset"]),"line-blur":new Br(zr.paint_line["line-blur"]),"line-dasharray":new So(zr.paint_line["line-dasharray"]),"line-pattern":new So(zr.paint_line["line-pattern"]),"line-gradient":new bo(zr.paint_line["line-gradient"]),"line-trim-offset":new Vr(zr.paint_line["line-trim-offset"])}),layout:cR};const Ry=new class extends Br{possiblyEvaluate(rt,tt){return tt=new ur(Math.floor(tt.zoom),{now:tt.now,fadeDuration:tt.fadeDuration,zoomHistory:tt.zoomHistory,transition:tt.transition}),super.possiblyEvaluate(rt,tt)}evaluate(rt,tt,it,lt){return tt=Rt({},tt,{zoom:Math.floor(tt.zoom)}),super.evaluate(rt,tt,it,lt)}}(k1.paint.properties["line-width"].specification);function ws(rt,tt){return tt>0?tt+2*rt:rt}Ry.useIntegerZoom=!0;const uR=vo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),op=vo([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),_c=vo([{name:"a_projected_pos",components:4,type:"Float32"}],4);vo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const hR=vo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),wy=vo([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);vo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const M1=vo([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),dR=vo([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);vo([{name:"triangle",components:3,type:"Uint16"}]),vo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),vo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),vo([{type:"Float32",name:"offsetX"}]),vo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var pu=24;const Tm=128;function yF(rt,tt){const{expression:it}=tt;if(it.kind==="constant")return{kind:"constant",layoutSize:it.evaluate(new ur(rt+1))};if(it.kind==="source")return{kind:"source"};{const{zoomStops:lt,interpolationType:dt}=it;let bt=0;for(;bt<lt.length&&lt[bt]<=rt;)bt++;bt=Math.max(0,bt-1);let Et=bt;for(;Et<lt.length&&lt[Et]<rt+1;)Et++;Et=Math.min(lt.length-1,Et);const Ot=lt[bt],zt=lt[Et];return it.kind==="composite"?{kind:"composite",minZoom:Ot,maxZoom:zt,interpolationType:dt}:{kind:"camera",minZoom:Ot,maxZoom:zt,minSize:it.evaluate(new ur(Ot)),maxSize:it.evaluate(new ur(zt)),interpolationType:dt}}}function X0(rt,{uSize:tt,uSizeT:it},{lowerSize:lt,upperSize:dt}){return rt.kind==="source"?lt/Tm:rt.kind==="composite"?xs(lt/Tm,dt/Tm,it):tt}function q0(rt,tt){let it=0,lt=0;if(rt.kind==="constant")lt=rt.layoutSize;else if(rt.kind!=="source"){const{interpolationType:dt,minZoom:bt,maxZoom:Et}=rt,Ot=dt?Zt(Bp.interpolationFactor(dt,tt,bt,Et),0,1):0;rt.kind==="camera"?lt=xs(rt.minSize,rt.maxSize,Ot):it=Ot}return{uSizeT:it,uSize:lt}}var Hm=Object.freeze({__proto__:null,getSizeData:yF,evaluateSizeForFeature:X0,evaluateSizeForZoom:q0,SIZE_PACK_FACTOR:Tm});function N1(rt,tt,it){return rt.sections.forEach(lt=>{lt.text=function(dt,bt,Et){const Ot=bt.layout.get("text-transform").evaluate(Et,{});return Ot==="uppercase"?dt=dt.toLocaleUpperCase():Ot==="lowercase"&&(dt=dt.toLocaleLowerCase()),br.applyArabicShaping&&(dt=br.applyArabicShaping(dt)),dt}(lt.text,tt,it)}),rt}const Ey={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function Ol(rt){return rt==="︶"||rt==="﹈"||rt==="︸"||rt==="﹄"||rt==="﹂"||rt==="︾"||rt==="︼"||rt==="︺"||rt==="︘"||rt==="﹀"||rt==="︐"||rt==="︓"||rt==="︔"||rt==="｀"||rt==="￣"||rt==="︑"||rt==="︒"}function Gl(rt){return rt==="︵"||rt==="﹇"||rt==="︷"||rt==="﹃"||rt==="﹁"||rt==="︽"||rt==="︻"||rt==="︹"||rt==="︗"||rt==="︿"}var K0=Ks,V1=function(rt,tt,it,lt,dt){var bt,Et,Ot=8*dt-lt-1,zt=(1<<Ot)-1,Yt=zt>>1,an=-7,yn=it?dt-1:0,vn=it?-1:1,An=rt[tt+yn];for(yn+=vn,bt=An&(1<<-an)-1,An>>=-an,an+=Ot;an>0;bt=256*bt+rt[tt+yn],yn+=vn,an-=8);for(Et=bt&(1<<-an)-1,bt>>=-an,an+=lt;an>0;Et=256*Et+rt[tt+yn],yn+=vn,an-=8);if(bt===0)bt=1-Yt;else{if(bt===zt)return Et?NaN:1/0*(An?-1:1);Et+=Math.pow(2,lt),bt-=Yt}return(An?-1:1)*Et*Math.pow(2,bt-lt)},D1=function(rt,tt,it,lt,dt,bt){var Et,Ot,zt,Yt=8*bt-dt-1,an=(1<<Yt)-1,yn=an>>1,vn=dt===23?Math.pow(2,-24)-Math.pow(2,-77):0,An=lt?0:bt-1,kn=lt?1:-1,Pn=tt<0||tt===0&&1/tt<0?1:0;for(tt=Math.abs(tt),isNaN(tt)||tt===1/0?(Ot=isNaN(tt)?1:0,Et=an):(Et=Math.floor(Math.log(tt)/Math.LN2),tt*(zt=Math.pow(2,-Et))<1&&(Et--,zt*=2),(tt+=Et+yn>=1?vn/zt:vn*Math.pow(2,1-yn))*zt>=2&&(Et++,zt/=2),Et+yn>=an?(Ot=0,Et=an):Et+yn>=1?(Ot=(tt*zt-1)*Math.pow(2,dt),Et+=yn):(Ot=tt*Math.pow(2,yn-1)*Math.pow(2,dt),Et=0));dt>=8;rt[it+An]=255&Ot,An+=kn,Ot/=256,dt-=8);for(Et=Et<<dt|Ot,Yt+=dt;Yt>0;rt[it+An]=255&Et,An+=kn,Et/=256,Yt-=8);rt[it+An-kn]|=128*Pn};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Ks(rt){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(rt)?rt:new Uint8Array(rt||0),this.pos=0,this.type=0,this.length=this.buf.length}Ks.Varint=0,Ks.Fixed64=1,Ks.Bytes=2,Ks.Fixed32=5;var _F=4294967296,O1=1/_F,I1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Qm(rt){return rt.type===Ks.Bytes?rt.readVarint()+rt.pos:rt.pos+1}function xm(rt,tt,it){return it?4294967296*tt+(rt>>>0):4294967296*(tt>>>0)+(rt>>>0)}function aU(rt,tt,it){var lt=tt<=16383?1:tt<=2097151?2:tt<=268435455?3:Math.floor(Math.log(tt)/(7*Math.LN2));it.realloc(lt);for(var dt=it.pos-1;dt>=rt;dt--)it.buf[dt+lt]=it.buf[dt]}function fR(rt,tt){for(var it=0;it<rt.length;it++)tt.writeVarint(rt[it])}function P1(rt,tt){for(var it=0;it<rt.length;it++)tt.writeSVarint(rt[it])}function lU(rt,tt){for(var it=0;it<rt.length;it++)tt.writeFloat(rt[it])}function Rp(rt,tt){for(var it=0;it<rt.length;it++)tt.writeDouble(rt[it])}function e_(rt,tt){for(var it=0;it<rt.length;it++)tt.writeBoolean(rt[it])}function pR(rt,tt){for(var it=0;it<rt.length;it++)tt.writeFixed32(rt[it])}function gR(rt,tt){for(var it=0;it<rt.length;it++)tt.writeSFixed32(rt[it])}function mR(rt,tt){for(var it=0;it<rt.length;it++)tt.writeFixed64(rt[it])}function yR(rt,tt){for(var it=0;it<rt.length;it++)tt.writeSFixed64(rt[it])}function cU(rt,tt){return(rt[tt]|rt[tt+1]<<8|rt[tt+2]<<16)+16777216*rt[tt+3]}function t0(rt,tt,it){rt[it]=tt,rt[it+1]=tt>>>8,rt[it+2]=tt>>>16,rt[it+3]=tt>>>24}function Am(rt,tt){return(rt[tt]|rt[tt+1]<<8|rt[tt+2]<<16)+(rt[tt+3]<<24)}function As(rt,tt,it){tt.glyphs=[],rt===1&&it.readMessage(L1,tt)}function L1(rt,tt,it){if(rt===3){const{id:lt,bitmap:dt,width:bt,height:Et,left:Ot,top:zt,advance:Yt}=it.readMessage(Lp,{});tt.glyphs.push({id:lt,bitmap:new Gm({width:bt+6,height:Et+6},dt),metrics:{width:bt,height:Et,left:Ot,top:zt,advance:Yt}})}else rt===4?tt.ascender=it.readSVarint():rt===5&&(tt.descender=it.readSVarint())}function Lp(rt,tt,it){rt===1?tt.id=it.readVarint():rt===2?tt.bitmap=it.readBytes():rt===3?tt.width=it.readVarint():rt===4?tt.height=it.readVarint():rt===5?tt.left=it.readSVarint():rt===6?tt.top=it.readSVarint():rt===7&&(tt.advance=it.readVarint())}function uU(rt){let tt=0,it=0;for(const Et of rt)tt+=Et.w*Et.h,it=Math.max(it,Et.w);rt.sort((Et,Ot)=>Ot.h-Et.h);const lt=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(tt/.95)),it),h:1/0}];let dt=0,bt=0;for(const Et of rt)for(let Ot=lt.length-1;Ot>=0;Ot--){const zt=lt[Ot];if(!(Et.w>zt.w||Et.h>zt.h)){if(Et.x=zt.x,Et.y=zt.y,bt=Math.max(bt,Et.y+Et.h),dt=Math.max(dt,Et.x+Et.w),Et.w===zt.w&&Et.h===zt.h){const Yt=lt.pop();Ot<lt.length&&(lt[Ot]=Yt)}else Et.h===zt.h?(zt.x+=Et.w,zt.w-=Et.w):Et.w===zt.w?(zt.y+=Et.h,zt.h-=Et.h):(lt.push({x:zt.x+Et.w,y:zt.y,w:zt.w-Et.w,h:Et.h}),zt.y+=Et.h,zt.h-=Et.h);break}}return{w:dt,h:bt,fill:tt/(dt*bt)||0}}Ks.prototype={destroy:function(){this.buf=null},readFields:function(rt,tt,it){for(it=it||this.length;this.pos<it;){var lt=this.readVarint(),dt=lt>>3,bt=this.pos;this.type=7&lt,rt(dt,tt,this),this.pos===bt&&this.skip(lt)}return tt},readMessage:function(rt,tt){return this.readFields(rt,tt,this.readVarint()+this.pos)},readFixed32:function(){var rt=cU(this.buf,this.pos);return this.pos+=4,rt},readSFixed32:function(){var rt=Am(this.buf,this.pos);return this.pos+=4,rt},readFixed64:function(){var rt=cU(this.buf,this.pos)+cU(this.buf,this.pos+4)*_F;return this.pos+=8,rt},readSFixed64:function(){var rt=cU(this.buf,this.pos)+Am(this.buf,this.pos+4)*_F;return this.pos+=8,rt},readFloat:function(){var rt=V1(this.buf,this.pos,!0,23,4);return this.pos+=4,rt},readDouble:function(){var rt=V1(this.buf,this.pos,!0,52,8);return this.pos+=8,rt},readVarint:function(rt){var tt,it,lt=this.buf;return tt=127&(it=lt[this.pos++]),it<128?tt:(tt|=(127&(it=lt[this.pos++]))<<7,it<128?tt:(tt|=(127&(it=lt[this.pos++]))<<14,it<128?tt:(tt|=(127&(it=lt[this.pos++]))<<21,it<128?tt:function(dt,bt,Et){var Ot,zt,Yt=Et.buf;if(Ot=(112&(zt=Yt[Et.pos++]))>>4,zt<128||(Ot|=(127&(zt=Yt[Et.pos++]))<<3,zt<128)||(Ot|=(127&(zt=Yt[Et.pos++]))<<10,zt<128)||(Ot|=(127&(zt=Yt[Et.pos++]))<<17,zt<128)||(Ot|=(127&(zt=Yt[Et.pos++]))<<24,zt<128)||(Ot|=(1&(zt=Yt[Et.pos++]))<<31,zt<128))return xm(dt,Ot,bt);throw new Error("Expected varint not more than 10 bytes")}(tt|=(15&(it=lt[this.pos]))<<28,rt,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var rt=this.readVarint();return rt%2==1?(rt+1)/-2:rt/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var rt=this.readVarint()+this.pos,tt=this.pos;return this.pos=rt,rt-tt>=12&&I1?function(it,lt,dt){return I1.decode(it.subarray(lt,dt))}(this.buf,tt,rt):function(it,lt,dt){for(var bt="",Et=lt;Et<dt;){var Ot,zt,Yt,an=it[Et],yn=null,vn=an>239?4:an>223?3:an>191?2:1;if(Et+vn>dt)break;vn===1?an<128&&(yn=an):vn===2?(192&(Ot=it[Et+1]))==128&&(yn=(31&an)<<6|63&Ot)<=127&&(yn=null):vn===3?(zt=it[Et+2],(192&(Ot=it[Et+1]))==128&&(192&zt)==128&&((yn=(15&an)<<12|(63&Ot)<<6|63&zt)<=2047||yn>=55296&&yn<=57343)&&(yn=null)):vn===4&&(zt=it[Et+2],Yt=it[Et+3],(192&(Ot=it[Et+1]))==128&&(192&zt)==128&&(192&Yt)==128&&((yn=(15&an)<<18|(63&Ot)<<12|(63&zt)<<6|63&Yt)<=65535||yn>=1114112)&&(yn=null)),yn===null?(yn=65533,vn=1):yn>65535&&(yn-=65536,bt+=String.fromCharCode(yn>>>10&1023|55296),yn=56320|1023&yn),bt+=String.fromCharCode(yn),Et+=vn}return bt}(this.buf,tt,rt)},readBytes:function(){var rt=this.readVarint()+this.pos,tt=this.buf.subarray(this.pos,rt);return this.pos=rt,tt},readPackedVarint:function(rt,tt){if(this.type!==Ks.Bytes)return rt.push(this.readVarint(tt));var it=Qm(this);for(rt=rt||[];this.pos<it;)rt.push(this.readVarint(tt));return rt},readPackedSVarint:function(rt){if(this.type!==Ks.Bytes)return rt.push(this.readSVarint());var tt=Qm(this);for(rt=rt||[];this.pos<tt;)rt.push(this.readSVarint());return rt},readPackedBoolean:function(rt){if(this.type!==Ks.Bytes)return rt.push(this.readBoolean());var tt=Qm(this);for(rt=rt||[];this.pos<tt;)rt.push(this.readBoolean());return rt},readPackedFloat:function(rt){if(this.type!==Ks.Bytes)return rt.push(this.readFloat());var tt=Qm(this);for(rt=rt||[];this.pos<tt;)rt.push(this.readFloat());return rt},readPackedDouble:function(rt){if(this.type!==Ks.Bytes)return rt.push(this.readDouble());var tt=Qm(this);for(rt=rt||[];this.pos<tt;)rt.push(this.readDouble());return rt},readPackedFixed32:function(rt){if(this.type!==Ks.Bytes)return rt.push(this.readFixed32());var tt=Qm(this);for(rt=rt||[];this.pos<tt;)rt.push(this.readFixed32());return rt},readPackedSFixed32:function(rt){if(this.type!==Ks.Bytes)return rt.push(this.readSFixed32());var tt=Qm(this);for(rt=rt||[];this.pos<tt;)rt.push(this.readSFixed32());return rt},readPackedFixed64:function(rt){if(this.type!==Ks.Bytes)return rt.push(this.readFixed64());var tt=Qm(this);for(rt=rt||[];this.pos<tt;)rt.push(this.readFixed64());return rt},readPackedSFixed64:function(rt){if(this.type!==Ks.Bytes)return rt.push(this.readSFixed64());var tt=Qm(this);for(rt=rt||[];this.pos<tt;)rt.push(this.readSFixed64());return rt},skip:function(rt){var tt=7&rt;if(tt===Ks.Varint)for(;this.buf[this.pos++]>127;);else if(tt===Ks.Bytes)this.pos=this.readVarint()+this.pos;else if(tt===Ks.Fixed32)this.pos+=4;else{if(tt!==Ks.Fixed64)throw new Error("Unimplemented type: "+tt);this.pos+=8}},writeTag:function(rt,tt){this.writeVarint(rt<<3|tt)},realloc:function(rt){for(var tt=this.length||16;tt<this.pos+rt;)tt*=2;if(tt!==this.length){var it=new Uint8Array(tt);it.set(this.buf),this.buf=it,this.length=tt}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(rt){this.realloc(4),t0(this.buf,rt,this.pos),this.pos+=4},writeSFixed32:function(rt){this.realloc(4),t0(this.buf,rt,this.pos),this.pos+=4},writeFixed64:function(rt){this.realloc(8),t0(this.buf,-1&rt,this.pos),t0(this.buf,Math.floor(rt*O1),this.pos+4),this.pos+=8},writeSFixed64:function(rt){this.realloc(8),t0(this.buf,-1&rt,this.pos),t0(this.buf,Math.floor(rt*O1),this.pos+4),this.pos+=8},writeVarint:function(rt){(rt=+rt||0)>268435455||rt<0?function(tt,it){var lt,dt;if(tt>=0?(lt=tt%4294967296|0,dt=tt/4294967296|0):(dt=~(-tt/4294967296),4294967295^(lt=~(-tt%4294967296))?lt=lt+1|0:(lt=0,dt=dt+1|0)),tt>=18446744073709552e3||tt<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");it.realloc(10),function(bt,Et,Ot){Ot.buf[Ot.pos++]=127&bt|128,bt>>>=7,Ot.buf[Ot.pos++]=127&bt|128,bt>>>=7,Ot.buf[Ot.pos++]=127&bt|128,bt>>>=7,Ot.buf[Ot.pos++]=127&bt|128,Ot.buf[Ot.pos]=127&(bt>>>=7)}(lt,0,it),function(bt,Et){var Ot=(7&bt)<<4;Et.buf[Et.pos++]|=Ot|((bt>>>=3)?128:0),bt&&(Et.buf[Et.pos++]=127&bt|((bt>>>=7)?128:0),bt&&(Et.buf[Et.pos++]=127&bt|((bt>>>=7)?128:0),bt&&(Et.buf[Et.pos++]=127&bt|((bt>>>=7)?128:0),bt&&(Et.buf[Et.pos++]=127&bt|((bt>>>=7)?128:0),bt&&(Et.buf[Et.pos++]=127&bt)))))}(dt,it)}(rt,this):(this.realloc(4),this.buf[this.pos++]=127&rt|(rt>127?128:0),rt<=127||(this.buf[this.pos++]=127&(rt>>>=7)|(rt>127?128:0),rt<=127||(this.buf[this.pos++]=127&(rt>>>=7)|(rt>127?128:0),rt<=127||(this.buf[this.pos++]=rt>>>7&127))))},writeSVarint:function(rt){this.writeVarint(rt<0?2*-rt-1:2*rt)},writeBoolean:function(rt){this.writeVarint(Boolean(rt))},writeString:function(rt){rt=String(rt),this.realloc(4*rt.length),this.pos++;var tt=this.pos;this.pos=function(lt,dt,bt){for(var Et,Ot,zt=0;zt<dt.length;zt++){if((Et=dt.charCodeAt(zt))>55295&&Et<57344){if(!Ot){Et>56319||zt+1===dt.length?(lt[bt++]=239,lt[bt++]=191,lt[bt++]=189):Ot=Et;continue}if(Et<56320){lt[bt++]=239,lt[bt++]=191,lt[bt++]=189,Ot=Et;continue}Et=Ot-55296<<10|Et-56320|65536,Ot=null}else Ot&&(lt[bt++]=239,lt[bt++]=191,lt[bt++]=189,Ot=null);Et<128?lt[bt++]=Et:(Et<2048?lt[bt++]=Et>>6|192:(Et<65536?lt[bt++]=Et>>12|224:(lt[bt++]=Et>>18|240,lt[bt++]=Et>>12&63|128),lt[bt++]=Et>>6&63|128),lt[bt++]=63&Et|128)}return bt}(this.buf,rt,this.pos);var it=this.pos-tt;it>=128&&aU(tt,it,this),this.pos=tt-1,this.writeVarint(it),this.pos+=it},writeFloat:function(rt){this.realloc(4),D1(this.buf,rt,this.pos,!0,23,4),this.pos+=4},writeDouble:function(rt){this.realloc(8),D1(this.buf,rt,this.pos,!0,52,8),this.pos+=8},writeBytes:function(rt){var tt=rt.length;this.writeVarint(tt),this.realloc(tt);for(var it=0;it<tt;it++)this.buf[this.pos++]=rt[it]},writeRawMessage:function(rt,tt){this.pos++;var it=this.pos;rt(tt,this);var lt=this.pos-it;lt>=128&&aU(it,lt,this),this.pos=it-1,this.writeVarint(lt),this.pos+=lt},writeMessage:function(rt,tt,it){this.writeTag(rt,Ks.Bytes),this.writeRawMessage(tt,it)},writePackedVarint:function(rt,tt){tt.length&&this.writeMessage(rt,fR,tt)},writePackedSVarint:function(rt,tt){tt.length&&this.writeMessage(rt,P1,tt)},writePackedBoolean:function(rt,tt){tt.length&&this.writeMessage(rt,e_,tt)},writePackedFloat:function(rt,tt){tt.length&&this.writeMessage(rt,lU,tt)},writePackedDouble:function(rt,tt){tt.length&&this.writeMessage(rt,Rp,tt)},writePackedFixed32:function(rt,tt){tt.length&&this.writeMessage(rt,pR,tt)},writePackedSFixed32:function(rt,tt){tt.length&&this.writeMessage(rt,gR,tt)},writePackedFixed64:function(rt,tt){tt.length&&this.writeMessage(rt,mR,tt)},writePackedSFixed64:function(rt,tt){tt.length&&this.writeMessage(rt,yR,tt)},writeBytesField:function(rt,tt){this.writeTag(rt,Ks.Bytes),this.writeBytes(tt)},writeFixed32Field:function(rt,tt){this.writeTag(rt,Ks.Fixed32),this.writeFixed32(tt)},writeSFixed32Field:function(rt,tt){this.writeTag(rt,Ks.Fixed32),this.writeSFixed32(tt)},writeFixed64Field:function(rt,tt){this.writeTag(rt,Ks.Fixed64),this.writeFixed64(tt)},writeSFixed64Field:function(rt,tt){this.writeTag(rt,Ks.Fixed64),this.writeSFixed64(tt)},writeVarintField:function(rt,tt){this.writeTag(rt,Ks.Varint),this.writeVarint(tt)},writeSVarintField:function(rt,tt){this.writeTag(rt,Ks.Varint),this.writeSVarint(tt)},writeStringField:function(rt,tt){this.writeTag(rt,Ks.Bytes),this.writeString(tt)},writeFloatField:function(rt,tt){this.writeTag(rt,Ks.Fixed32),this.writeFloat(tt)},writeDoubleField:function(rt,tt){this.writeTag(rt,Ks.Fixed64),this.writeDouble(tt)},writeBooleanField:function(rt,tt){this.writeVarintField(rt,Boolean(tt))}};class vF{constructor(tt,{pixelRatio:it,version:lt,stretchX:dt,stretchY:bt,content:Et}){this.paddedRect=tt,this.pixelRatio=it,this.stretchX=dt,this.stretchY=bt,this.content=Et,this.version=lt}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class na{constructor(tt,it){const lt={},dt={};this.haveRenderCallbacks=[];const bt=[];this.addImages(tt,lt,bt),this.addImages(it,dt,bt);const{w:Et,h:Ot}=uU(bt),zt=new rp({width:Et||1,height:Ot||1});for(const Yt in tt){const an=tt[Yt],yn=lt[Yt].paddedRect;rp.copy(an.data,zt,{x:0,y:0},{x:yn.x+1,y:yn.y+1},an.data)}for(const Yt in it){const an=it[Yt],yn=dt[Yt].paddedRect,vn=yn.x+1,An=yn.y+1,kn=an.data.width,Pn=an.data.height;rp.copy(an.data,zt,{x:0,y:0},{x:vn,y:An},an.data),rp.copy(an.data,zt,{x:0,y:Pn-1},{x:vn,y:An-1},{width:kn,height:1}),rp.copy(an.data,zt,{x:0,y:0},{x:vn,y:An+Pn},{width:kn,height:1}),rp.copy(an.data,zt,{x:kn-1,y:0},{x:vn-1,y:An},{width:1,height:Pn}),rp.copy(an.data,zt,{x:0,y:0},{x:vn+kn,y:An},{width:1,height:Pn})}this.image=zt,this.iconPositions=lt,this.patternPositions=dt}addImages(tt,it,lt){for(const dt in tt){const bt=tt[dt],Et={x:0,y:0,w:bt.data.width+2,h:bt.data.height+2};lt.push(Et),it[dt]=new vF(Et,bt),bt.hasRenderCallback&&this.haveRenderCallbacks.push(dt)}}patchUpdatedImages(tt,it){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(lt=>tt.hasImage(lt)),tt.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const lt in tt.updatedImages)this.patchUpdatedImage(this.iconPositions[lt],tt.getImage(lt),it),this.patchUpdatedImage(this.patternPositions[lt],tt.getImage(lt),it)}patchUpdatedImage(tt,it,lt){if(!tt||!it||tt.version===it.version)return;tt.version=it.version;const[dt,bt]=tt.tl;lt.update(it.data,void 0,{x:dt,y:bt})}}ko(vF,"ImagePosition"),ko(na,"ImageAtlas");const wp={horizontal:1,vertical:2,horizontalOnly:3};class t_{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(tt,it){const lt=new t_;return lt.scale=tt||1,lt.fontStack=it,lt}static forImage(tt){const it=new t_;return it.imageName=tt,it}}class $m{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(tt,it){const lt=new $m;for(let dt=0;dt<tt.sections.length;dt++){const bt=tt.sections[dt];bt.image?lt.addImageSection(bt):lt.addTextSection(bt,it)}return lt}length(){return this.text.length}getSection(tt){return this.sections[this.sectionIndex[tt]]}getSections(){return this.sections}getSectionIndex(tt){return this.sectionIndex[tt]}getCharCode(tt){return this.text.charCodeAt(tt)}verticalizePunctuation(tt){this.text=function(it,lt){let dt="";for(let bt=0;bt<it.length;bt++){const Et=it.charCodeAt(bt+1)||null,Ot=it.charCodeAt(bt-1)||null;dt+=!lt&&(Et&&Kt(Et)&&!Ey[it[bt+1]]||Ot&&Kt(Ot)&&!Ey[it[bt-1]])||!Ey[it[bt]]?it[bt]:Ey[it[bt]]}return dt}(this.text,tt)}trim(){let tt=0;for(let lt=0;lt<this.text.length&&hU[this.text.charCodeAt(lt)];lt++)tt++;let it=this.text.length;for(let lt=this.text.length-1;lt>=0&&lt>=tt&&hU[this.text.charCodeAt(lt)];lt--)it--;this.text=this.text.substring(tt,it),this.sectionIndex=this.sectionIndex.slice(tt,it)}substring(tt,it){const lt=new $m;return lt.text=this.text.substring(tt,it),lt.sectionIndex=this.sectionIndex.slice(tt,it),lt.sections=this.sections,lt}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((tt,it)=>Math.max(tt,this.sections[it].scale),0)}addTextSection(tt,it){this.text+=tt.text,this.sections.push(t_.forText(tt.scale,tt.fontStack||it));const lt=this.sections.length-1;for(let dt=0;dt<tt.text.length;++dt)this.sectionIndex.push(lt)}addImageSection(tt){const it=tt.image?tt.image.name:"";if(it.length===0)return void mn("Can't add FormattedSection with an empty image.");const lt=this.getNextImageSectionCharCode();lt?(this.text+=String.fromCharCode(lt),this.sections.push(t_.forImage(it)),this.sectionIndex.push(this.sections.length-1)):mn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function bF(rt,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn){const Pn=$m.fromFeature(rt,dt);yn===wp.vertical&&Pn.verticalizePunctuation(vn);let Xn=[];const fr=function(vr,Lr,Ir,Xr,fo,Jr){if(!vr)return[];const no=[],ro=function(Ro,Yo,xo,Lo,Bo,qo){let hs=0;for(let ms=0;ms<Ro.length();ms++){const Ds=Ro.getSection(ms);hs+=W1(Ro.getCharCode(ms),Ds,Lo,Bo,Yo,qo)}return hs/Math.max(1,Math.ceil(hs/xo))}(vr,Lr,Ir,Xr,fo,Jr),ao=vr.text.indexOf("​")>=0;let go=0;for(let Ro=0;Ro<vr.length();Ro++){const Yo=vr.getSection(Ro),xo=vr.getCharCode(Ro);if(hU[xo]||(go+=W1(xo,Yo,Xr,fo,Lr,Jr)),Ro<vr.length()-1){const Lo=!((jr=xo)<11904||!(k0(jr)||C0(jr)||Jm(jr)||Av(jr)||Tv(jr)||A_(jr)||Ku(jr)||Zy(jr)||Qv(jr)||M_(jr)||k_(jr)||st(jr)||A0(jr)||C_(jr)||Ev(jr)||Bv(jr)||_p(jr)||gy(jr)||N_(jr)||Gy(jr)));(_R[xo]||Lo||Yo.imageName)&&no.push(j1(Ro+1,go,ro,no,vR(xo,vr.getCharCode(Ro+1),Lo&&ao),!1))}}var jr;return z1(j1(vr.length(),go,ro,no,0,!0))}(Pn,Yt,bt,tt,lt,An),{processBidirectionalText:Fr,processStyledBidirectionalText:dr}=br;if(Fr&&Pn.sections.length===1){const vr=Fr(Pn.toString(),fr);for(const Lr of vr){const Ir=new $m;Ir.text=Lr,Ir.sections=Pn.sections;for(let Xr=0;Xr<Lr.length;Xr++)Ir.sectionIndex.push(0);Xn.push(Ir)}}else if(dr){const vr=dr(Pn.text,Pn.sectionIndex,fr);for(const Lr of vr){const Ir=new $m;Ir.text=Lr[0],Ir.sectionIndex=Lr[1],Ir.sections=Pn.sections,Xn.push(Ir)}}else Xn=function(vr,Lr){const Ir=[],Xr=vr.text;let fo=0;for(const Jr of Lr)Ir.push(vr.substring(fo,Jr)),fo=Jr;return fo<Xr.length&&Ir.push(vr.substring(fo,Xr.length)),Ir}(Pn,fr);const _r=[],wr={positionedLines:_r,text:Pn.toString(),top:an[1],bottom:an[1],left:an[0],right:an[0],writingMode:yn,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(vr,Lr,Ir,Xr,fo,Jr,no,ro,ao,go,jr,Ro){let Yo=0,xo=0,Lo=0;const Bo=ro==="right"?1:ro==="left"?0:.5;let qo=!1;for(const bs of fo){const Ts=bs.getSections();for(const ga of Ts){if(ga.imageName)continue;const Sl=Lr[ga.fontStack];if(Sl&&(qo=Sl.ascender!==void 0&&Sl.descender!==void 0,!qo))break}if(!qo)break}let hs=0;for(const bs of fo){bs.trim();const Ts=bs.getMaxScale(),ga=(Ts-1)*pu,Sl={positionedGlyphs:[],lineOffset:0};vr.positionedLines[hs]=Sl;const Ul=Sl.positionedGlyphs;let Rl=0;if(!bs.length()){xo+=Jr,++hs;continue}let Tl=0,Il=0;for(let qs=0;qs<bs.length();qs++){const nu=bs.getSection(qs),eu=bs.getSectionIndex(qs),Ws=bs.getCharCode(qs);let Cl=nu.scale,au=null,_a=null,$l=null,zu=pu,Eu=0;const Bu=!(ao===wp.horizontal||!jr&&!Lt(Ws)||jr&&(hU[Ws]||(ms=Ws,wv(ms)||zy(ms)||Mp(ms)||Hy(ms)||_t(ms))));if(nu.imageName){const lp=Xr[nu.imageName];if(!lp)continue;$l=nu.imageName,vr.iconsInText=vr.iconsInText||!0,_a=lp.paddedRect;const Tu=lp.displaySize;Cl=Cl*pu/Ro,au={width:Tu[0],height:Tu[1],left:1,top:-3,advance:Bu?Tu[1]:Tu[0],localGlyph:!1},Eu=qo?-au.height*Cl:Ts*pu-17-Tu[1]*Cl,zu=au.advance;const s0=(Bu?Tu[0]:Tu[1])*Cl-pu*Ts;s0>0&&s0>Rl&&(Rl=s0)}else{const lp=Ir[nu.fontStack];if(!lp)continue;lp[Ws]&&(_a=lp[Ws]);const Tu=Lr[nu.fontStack];if(!Tu)continue;const s0=Tu.glyphs[Ws];if(!s0)continue;if(au=s0.metrics,zu=Ws!==8203?pu:0,qo){const xU=Tu.ascender!==void 0?Math.abs(Tu.ascender):0,IF=Tu.descender!==void 0?Math.abs(Tu.descender):0,PF=(xU+IF)*Cl;Tl<PF&&(Tl=PF,Il=(xU-IF)/2*Cl),Eu=-xU*Cl}else Eu=(Ts-Cl)*pu-17}Bu?(vr.verticalizable=!0,Ul.push({glyph:Ws,imageName:$l,x:Yo,y:xo+Eu,vertical:Bu,scale:Cl,localGlyph:au.localGlyph,fontStack:nu.fontStack,sectionIndex:eu,metrics:au,rect:_a}),Yo+=zu*Cl+go):(Ul.push({glyph:Ws,imageName:$l,x:Yo,y:xo+Eu,vertical:Bu,scale:Cl,localGlyph:au.localGlyph,fontStack:nu.fontStack,sectionIndex:eu,metrics:au,rect:_a}),Yo+=au.advance*Cl+go)}Ul.length!==0&&(Lo=Math.max(Yo-go,Lo),qo?Z1(Ul,Bo,Rl,Il,Jr*Ts/2):Z1(Ul,Bo,Rl,0,Jr/2)),Yo=0;const wu=Jr*Ts+Rl;Sl.lineOffset=Math.max(Rl,ga),xo+=wu,++hs}var ms;const Ds=xo,{horizontalAlign:cs,verticalAlign:Bl}=UF(no);(function(bs,Ts,ga,Sl,Ul,Rl){const Tl=(Ts-ga)*Ul,Il=-Rl*Sl;for(const wu of bs)for(const qs of wu.positionedGlyphs)qs.x+=Tl,qs.y+=Il})(vr.positionedLines,Bo,cs,Bl,Lo,Ds),vr.top+=-Bl*Ds,vr.bottom=vr.top+Ds,vr.left+=-cs*Lo,vr.right=vr.left+Lo,vr.hasBaseline=qo}(wr,tt,it,lt,Xn,Et,Ot,zt,yn,Yt,vn,kn),!function(vr){for(const Lr of vr)if(Lr.positionedGlyphs.length!==0)return!1;return!0}(_r)&&wr}const hU={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_R={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function W1(rt,tt,it,lt,dt,bt){if(tt.imageName){const Et=lt[tt.imageName];return Et?Et.displaySize[0]*tt.scale*pu/bt+dt:0}{const Et=it[tt.fontStack],Ot=Et&&Et.glyphs[rt];return Ot?Ot.metrics.advance*tt.scale+dt:0}}function J1(rt,tt,it,lt){const dt=Math.pow(rt-tt,2);return lt?rt<tt?dt/2:2*dt:dt+Math.abs(it)*it}function vR(rt,tt,it){let lt=0;return rt===10&&(lt-=1e4),it&&(lt+=150),rt!==40&&rt!==65288||(lt+=50),tt!==41&&tt!==65289||(lt+=50),lt}function j1(rt,tt,it,lt,dt,bt){let Et=null,Ot=J1(tt,it,dt,bt);for(const zt of lt){const Yt=J1(tt-zt.x,it,dt,bt)+zt.badness;Yt<=Ot&&(Et=zt,Ot=Yt)}return{index:rt,x:tt,priorBreak:Et,badness:Ot}}function z1(rt){return rt?z1(rt.priorBreak).concat(rt.index):[]}function UF(rt){let tt=.5,it=.5;switch(rt){case"right":case"top-right":case"bottom-right":tt=1;break;case"left":case"top-left":case"bottom-left":tt=0}switch(rt){case"bottom":case"bottom-right":case"bottom-left":it=1;break;case"top":case"top-right":case"top-left":it=0}return{horizontalAlign:tt,verticalAlign:it}}function Z1(rt,tt,it,lt,dt){if(!(tt||it||lt||dt))return;const bt=rt.length-1,Et=rt[bt],Ot=(Et.x+Et.metrics.advance*Et.scale)*tt;for(let zt=0;zt<=bt;zt++)rt[zt].x-=Ot,rt[zt].y+=it+lt+dt}function bR(rt,tt,it){const{horizontalAlign:lt,verticalAlign:dt}=UF(it),bt=tt[0]-rt.displaySize[0]*lt,Et=tt[1]-rt.displaySize[1]*dt;return{image:rt,top:Et,bottom:Et+rt.displaySize[1],left:bt,right:bt+rt.displaySize[0]}}function G1(rt,tt,it,lt,dt,bt){const Et=rt.image;let Ot;if(Et.content){const Xn=Et.content,fr=Et.pixelRatio||1;Ot=[Xn[0]/fr,Xn[1]/fr,Et.displaySize[0]-Xn[2]/fr,Et.displaySize[1]-Xn[3]/fr]}const zt=tt.left*bt,Yt=tt.right*bt;let an,yn,vn,An;it==="width"||it==="both"?(An=dt[0]+zt-lt[3],yn=dt[0]+Yt+lt[1]):(An=dt[0]+(zt+Yt-Et.displaySize[0])/2,yn=An+Et.displaySize[0]);const kn=tt.top*bt,Pn=tt.bottom*bt;return it==="height"||it==="both"?(an=dt[1]+kn-lt[0],vn=dt[1]+Pn+lt[2]):(an=dt[1]+(kn+Pn-Et.displaySize[1])/2,vn=an+Et.displaySize[1]),{image:Et,top:an,right:yn,bottom:vn,left:An,collisionPadding:Ot}}class Ym extends mt{constructor(tt,it,lt,dt,bt){super(tt,it),this.angle=dt,this.z=lt,bt!==void 0&&(this.segment=bt)}clone(){return new Ym(this.x,this.y,this.z,this.angle,this.segment)}}function dU(rt,tt,it,lt,dt){if(tt.segment===void 0)return!0;let bt=tt,Et=tt.segment+1,Ot=0;for(;Ot>-it/2;){if(Et--,Et<0)return!1;Ot-=rt[Et].dist(bt),bt=rt[Et]}Ot+=rt[Et].dist(rt[Et+1]),Et++;const zt=[];let Yt=0;for(;Ot<it/2;){const an=rt[Et],yn=rt[Et+1];if(!yn)return!1;let vn=rt[Et-1].angleTo(an)-an.angleTo(yn);for(vn=Math.abs((vn+3*Math.PI)%(2*Math.PI)-Math.PI),zt.push({distance:Ot,angleDelta:vn}),Yt+=vn;Ot-zt[0].distance>lt;)Yt-=zt.shift().angleDelta;if(Yt>dt)return!1;Et++,Ot+=an.dist(yn)}return!0}function H1(rt){let tt=0;for(let it=0;it<rt.length-1;it++)tt+=rt[it].dist(rt[it+1]);return tt}function fU(rt,tt,it){return rt?.6*tt*it:0}function $1(rt,tt){return Math.max(rt?rt.right-rt.left:0,tt?tt.right-tt.left:0)}function UR(rt,tt,it,lt,dt,bt){const Et=fU(it,dt,bt),Ot=$1(it,lt)*bt;let zt=0;const Yt=H1(rt)/2;for(let an=0;an<rt.length-1;an++){const yn=rt[an],vn=rt[an+1],An=yn.dist(vn);if(zt+An>Yt){const kn=(Yt-zt)/An,Pn=xs(yn.x,vn.x,kn),Xn=xs(yn.y,vn.y,kn),fr=new Ym(Pn,Xn,0,vn.angleTo(yn),an);return!Et||dU(rt,fr,Ot,Et,tt)?fr:void 0}zt+=An}}function FR(rt,tt,it,lt,dt,bt,Et,Ot,zt){const Yt=fU(lt,bt,Et),an=$1(lt,dt),yn=an*Et,vn=rt[0].x===0||rt[0].x===zt||rt[0].y===0||rt[0].y===zt;return tt-yn<tt/4&&(tt=yn+tt/4),su(rt,vn?tt/2*Ot%tt:(an/2+2*bt)*Et*Ot%tt,tt,Yt,it,yn,vn,!1,zt)}function su(rt,tt,it,lt,dt,bt,Et,Ot,zt){const Yt=bt/2,an=H1(rt);let yn=0,vn=tt-it,An=[];for(let kn=0;kn<rt.length-1;kn++){const Pn=rt[kn],Xn=rt[kn+1],fr=Pn.dist(Xn),Fr=Xn.angleTo(Pn);for(;vn+it<yn+fr;){vn+=it;const dr=(vn-yn)/fr,_r=xs(Pn.x,Xn.x,dr),wr=xs(Pn.y,Xn.y,dr);if(_r>=0&&_r<zt&&wr>=0&&wr<zt&&vn-Yt>=0&&vn+Yt<=an){const vr=new Ym(_r,wr,0,Fr,kn);vr._round(),lt&&!dU(rt,vr,bt,lt,dt)||An.push(vr)}}yn+=fr}return Ot||An.length||Et||(An=su(rt,yn/2,it,lt,dt,bt,Et,!0,zt)),An}function Wu(rt,tt,it,lt,dt){const bt=[];for(let Et=0;Et<rt.length;Et++){const Ot=rt[Et];let zt;for(let Yt=0;Yt<Ot.length-1;Yt++){let an=Ot[Yt],yn=Ot[Yt+1];an.x<tt&&yn.x<tt||(an.x<tt?an=new mt(tt,an.y+(tt-an.x)/(yn.x-an.x)*(yn.y-an.y))._round():yn.x<tt&&(yn=new mt(tt,an.y+(tt-an.x)/(yn.x-an.x)*(yn.y-an.y))._round()),an.y<it&&yn.y<it||(an.y<it?an=new mt(an.x+(it-an.y)/(yn.y-an.y)*(yn.x-an.x),it)._round():yn.y<it&&(yn=new mt(an.x+(it-an.y)/(yn.y-an.y)*(yn.x-an.x),it)._round()),an.x>=lt&&yn.x>=lt||(an.x>=lt?an=new mt(lt,an.y+(lt-an.x)/(yn.x-an.x)*(yn.y-an.y))._round():yn.x>=lt&&(yn=new mt(lt,an.y+(lt-an.x)/(yn.x-an.x)*(yn.y-an.y))._round()),an.y>=dt&&yn.y>=dt||(an.y>=dt?an=new mt(an.x+(dt-an.y)/(yn.y-an.y)*(yn.x-an.x),dt)._round():yn.y>=dt&&(yn=new mt(an.x+(dt-an.y)/(yn.y-an.y)*(yn.x-an.x),dt)._round()),zt&&an.equals(zt[zt.length-1])||(zt=[an],bt.push(zt)),zt.push(yn)))))}}return bt}ko(Ym,"Anchor");const rv=1e20;function Y1(rt,tt,it,lt,dt,bt,Et,Ot,zt){for(let Yt=tt;Yt<tt+lt;Yt++)X1(rt,it*bt+Yt,bt,dt,Et,Ot,zt);for(let Yt=it;Yt<it+dt;Yt++)X1(rt,Yt*bt+tt,1,lt,Et,Ot,zt)}function X1(rt,tt,it,lt,dt,bt,Et){bt[0]=0,Et[0]=-rv,Et[1]=rv,dt[0]=rt[tt];for(let Ot=1,zt=0,Yt=0;Ot<lt;Ot++){dt[Ot]=rt[tt+Ot*it];const an=Ot*Ot;do{const yn=bt[zt];Yt=(dt[Ot]-dt[yn]+an-yn*yn)/(Ot-yn)/2}while(Yt<=Et[zt]&&--zt>-1);zt++,bt[zt]=Ot,Et[zt]=Yt,Et[zt+1]=rv}for(let Ot=0,zt=0;Ot<lt;Ot++){for(;Et[zt+1]<Ot;)zt++;const Yt=bt[zt],an=Ot-Yt;rt[tt+Ot*it]=dt[Yt]+an*an}}const pU={none:0,ideographs:1,all:2};class n_{constructor(tt,it,lt){this.requestManager=tt,this.localGlyphMode=it,this.localFontFamily=lt,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(tt){this.url=tt}getGlyphs(tt,it){const lt=[];for(const dt in tt)for(const bt of tt[dt])lt.push({stack:dt,id:bt});Ht(lt,({stack:dt,id:bt},Et)=>{let Ot=this.entries[dt];Ot||(Ot=this.entries[dt]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let zt=Ot.glyphs[bt];if(zt!==void 0)return void Et(null,{stack:dt,id:bt,glyph:zt});if(zt=this._tinySDF(Ot,dt,bt),zt)return Ot.glyphs[bt]=zt,void Et(null,{stack:dt,id:bt,glyph:zt});const Yt=Math.floor(bt/256);if(256*Yt>65535)return void Et(new Error("glyphs > 65535 not supported"));if(Ot.ranges[Yt])return void Et(null,{stack:dt,id:bt,glyph:zt});let an=Ot.requests[Yt];an||(an=Ot.requests[Yt]=[],n_.loadGlyphRange(dt,Yt,this.url,this.requestManager,(yn,vn)=>{if(vn){Ot.ascender=vn.ascender,Ot.descender=vn.descender;for(const An in vn.glyphs)this._doesCharSupportLocalGlyph(+An)||(Ot.glyphs[+An]=vn.glyphs[+An]);Ot.ranges[Yt]=!0}for(const An of an)An(yn,vn);delete Ot.requests[Yt]})),an.push((yn,vn)=>{yn?Et(yn):vn&&Et(null,{stack:dt,id:bt,glyph:vn.glyphs[bt]||null})})},(dt,bt)=>{if(dt)it(dt);else if(bt){const Et={};for(const{stack:Ot,id:zt,glyph:Yt}of bt)Et[Ot]===void 0&&(Et[Ot]={}),Et[Ot].glyphs===void 0&&(Et[Ot].glyphs={}),Et[Ot].glyphs[zt]=Yt&&{id:Yt.id,bitmap:Yt.bitmap.clone(),metrics:Yt.metrics},Et[Ot].ascender=this.entries[Ot].ascender,Et[Ot].descender=this.entries[Ot].descender;it(null,Et)}})}_doesCharSupportLocalGlyph(tt){return this.localGlyphMode!==pU.none&&(this.localGlyphMode===pU.all?!!this.localFontFamily:!!this.localFontFamily&&(M_(tt)||xv(tt)||A0(tt)||_p(tt)||Zy(tt)))}_tinySDF(tt,it,lt){const dt=this.localFontFamily;if(!dt||!this._doesCharSupportLocalGlyph(lt))return;let bt=tt.tinySDF;if(!bt){let Pn="400";/bold/i.test(it)?Pn="900":/medium/i.test(it)?Pn="500":/light/i.test(it)&&(Pn="200"),bt=tt.tinySDF=new n_.TinySDF({fontFamily:dt,fontWeight:Pn,fontSize:48,buffer:6,radius:16}),bt.fontWeight=Pn}if(this.localGlyphs[bt.fontWeight][lt])return this.localGlyphs[bt.fontWeight][lt];const Et=String.fromCharCode(lt),{data:Ot,width:zt,height:Yt,glyphWidth:an,glyphHeight:yn,glyphLeft:vn,glyphTop:An,glyphAdvance:kn}=bt.draw(Et);return this.localGlyphs[bt.fontWeight][lt]={id:lt,bitmap:new Gm({width:zt,height:Yt},Ot),metrics:{width:an/2,height:yn/2,left:vn/2,top:An/2-27,advance:kn/2,localGlyph:!0}}}}function q1(rt,tt,it,lt){const dt=[],bt=rt.image,Et=bt.pixelRatio,Ot=bt.paddedRect.w-2,zt=bt.paddedRect.h-2,Yt=rt.right-rt.left,an=rt.bottom-rt.top,yn=bt.stretchX||[[0,Ot]],vn=bt.stretchY||[[0,zt]],An=(Jr,no)=>Jr+no[1]-no[0],kn=yn.reduce(An,0),Pn=vn.reduce(An,0),Xn=Ot-kn,fr=zt-Pn;let Fr=0,dr=kn,_r=0,wr=Pn,vr=0,Lr=Xn,Ir=0,Xr=fr;if(bt.content&&lt){const Jr=bt.content;Fr=gU(yn,0,Jr[0]),_r=gU(vn,0,Jr[1]),dr=gU(yn,Jr[0],Jr[2]),wr=gU(vn,Jr[1],Jr[3]),vr=Jr[0]-Fr,Ir=Jr[1]-_r,Lr=Jr[2]-Jr[0]-dr,Xr=Jr[3]-Jr[1]-wr}const fo=(Jr,no,ro,ao)=>{const go=mU(Jr.stretch-Fr,dr,Yt,rt.left),jr=yU(Jr.fixed-vr,Lr,Jr.stretch,kn),Ro=mU(no.stretch-_r,wr,an,rt.top),Yo=yU(no.fixed-Ir,Xr,no.stretch,Pn),xo=mU(ro.stretch-Fr,dr,Yt,rt.left),Lo=yU(ro.fixed-vr,Lr,ro.stretch,kn),Bo=mU(ao.stretch-_r,wr,an,rt.top),qo=yU(ao.fixed-Ir,Xr,ao.stretch,Pn),hs=new mt(go,Ro),ms=new mt(xo,Ro),Ds=new mt(xo,Bo),cs=new mt(go,Bo),Bl=new mt(jr/Et,Yo/Et),bs=new mt(Lo/Et,qo/Et),Ts=tt*Math.PI/180;if(Ts){const Ul=Math.sin(Ts),Rl=Math.cos(Ts),Tl=[Rl,-Ul,Ul,Rl];hs._matMult(Tl),ms._matMult(Tl),cs._matMult(Tl),Ds._matMult(Tl)}const ga=Jr.stretch+Jr.fixed,Sl=no.stretch+no.fixed;return{tl:hs,tr:ms,bl:cs,br:Ds,tex:{x:bt.paddedRect.x+1+ga,y:bt.paddedRect.y+1+Sl,w:ro.stretch+ro.fixed-ga,h:ao.stretch+ao.fixed-Sl},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Bl,pixelOffsetBR:bs,minFontScaleX:Lr/Et/Yt,minFontScaleY:Xr/Et/an,isSDF:it}};if(lt&&(bt.stretchX||bt.stretchY)){const Jr=FF(yn,Xn,kn),no=FF(vn,fr,Pn);for(let ro=0;ro<Jr.length-1;ro++){const ao=Jr[ro],go=Jr[ro+1];for(let jr=0;jr<no.length-1;jr++)dt.push(fo(ao,no[jr],go,no[jr+1]))}}else dt.push(fo({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ot+1},{fixed:0,stretch:zt+1}));return dt}function gU(rt,tt,it){let lt=0;for(const dt of rt)lt+=Math.max(tt,Math.min(it,dt[1]))-Math.max(tt,Math.min(it,dt[0]));return lt}function FF(rt,tt,it){const lt=[{fixed:-1,stretch:0}];for(const[dt,bt]of rt){const Et=lt[lt.length-1];lt.push({fixed:dt-Et.stretch,stretch:Et.stretch}),lt.push({fixed:dt-Et.stretch,stretch:Et.stretch+(bt-dt)})}return lt.push({fixed:tt+1,stretch:it}),lt}function mU(rt,tt,it,lt){return rt/tt*it+lt}function yU(rt,tt,it,lt){return rt-tt*it/lt}function SR(rt,tt,it,lt){const dt=tt+rt.positionedLines[lt].lineOffset;return lt===0?it+dt/2:it+(dt+(tt+rt.positionedLines[lt-1].lineOffset))/2}n_.loadGlyphRange=function(rt,tt,it,lt,dt){const bt=256*tt,Et=bt+255,Ot=lt.transformRequest(lt.normalizeGlyphsURL(it).replace("{fontstack}",rt).replace("{range}",`${bt}-${Et}`),Ss.Glyphs);Cs(Ot,(zt,Yt)=>{if(zt)dt(zt);else if(Yt){const an={},yn=function(vn){return new K0(vn).readFields(As,{})}(Yt);for(const vn of yn.glyphs)an[vn.id]=vn;dt(null,{glyphs:an,ascender:yn.ascender,descender:yn.descender})}})},n_.TinySDF=class{constructor({fontSize:rt=24,buffer:tt=3,radius:it=8,cutoff:lt=.25,fontFamily:dt="sans-serif",fontWeight:bt="normal",fontStyle:Et="normal"}={}){this.buffer=tt,this.cutoff=lt,this.radius=it;const Ot=this.size=rt+4*tt,zt=this._createCanvas(Ot),Yt=this.ctx=zt.getContext("2d",{willReadFrequently:!0});Yt.font=`${Et} ${bt} ${rt}px ${dt}`,Yt.textBaseline="alphabetic",Yt.textAlign="left",Yt.fillStyle="black",this.gridOuter=new Float64Array(Ot*Ot),this.gridInner=new Float64Array(Ot*Ot),this.f=new Float64Array(Ot),this.z=new Float64Array(Ot+1),this.v=new Uint16Array(Ot)}_createCanvas(rt){const tt=document.createElement("canvas");return tt.width=tt.height=rt,tt}draw(rt){const{width:tt,actualBoundingBoxAscent:it,actualBoundingBoxDescent:lt,actualBoundingBoxLeft:dt,actualBoundingBoxRight:bt}=this.ctx.measureText(rt),Et=Math.ceil(it),Ot=Math.min(this.size-this.buffer,Math.ceil(bt-dt)),zt=Math.min(this.size-this.buffer,Et+Math.ceil(lt)),Yt=Ot+2*this.buffer,an=zt+2*this.buffer,yn=Math.max(Yt*an,0),vn=new Uint8ClampedArray(yn),An={data:vn,width:Yt,height:an,glyphWidth:Ot,glyphHeight:zt,glyphTop:Et,glyphLeft:0,glyphAdvance:tt};if(Ot===0||zt===0)return An;const{ctx:kn,buffer:Pn,gridInner:Xn,gridOuter:fr}=this;kn.clearRect(Pn,Pn,Ot,zt),kn.fillText(rt,Pn,Pn+Et);const Fr=kn.getImageData(Pn,Pn,Ot,zt);fr.fill(rv,0,yn),Xn.fill(0,0,yn);for(let dr=0;dr<zt;dr++)for(let _r=0;_r<Ot;_r++){const wr=Fr.data[4*(dr*Ot+_r)+3]/255;if(wr===0)continue;const vr=(dr+Pn)*Yt+_r+Pn;if(wr===1)fr[vr]=0,Xn[vr]=rv;else{const Lr=.5-wr;fr[vr]=Lr>0?Lr*Lr:0,Xn[vr]=Lr<0?Lr*Lr:0}}Y1(fr,0,0,Yt,an,Yt,this.f,this.v,this.z),Y1(Xn,Pn,Pn,Ot,zt,Yt,this.f,this.v,this.z);for(let dr=0;dr<yn;dr++){const _r=Math.sqrt(fr[dr])-Math.sqrt(Xn[dr]);vn[dr]=Math.round(255-255*(_r/this.radius+this.cutoff))}return An}};class K1{constructor(tt=[],it=eS){if(this.data=tt,this.length=this.data.length,this.compare=it,this.length>0)for(let lt=(this.length>>1)-1;lt>=0;lt--)this._down(lt)}push(tt){this.data.push(tt),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const tt=this.data[0],it=this.data.pop();return this.length--,this.length>0&&(this.data[0]=it,this._down(0)),tt}peek(){return this.data[0]}_up(tt){const{data:it,compare:lt}=this,dt=it[tt];for(;tt>0;){const bt=tt-1>>1,Et=it[bt];if(lt(dt,Et)>=0)break;it[tt]=Et,tt=bt}it[tt]=dt}_down(tt){const{data:it,compare:lt}=this,dt=this.length>>1,bt=it[tt];for(;tt<dt;){let Et=1+(tt<<1),Ot=it[Et];const zt=Et+1;if(zt<this.length&&lt(it[zt],Ot)<0&&(Et=zt,Ot=it[zt]),lt(Ot,bt)>=0)break;it[tt]=Ot,tt=Et}it[tt]=bt}}function eS(rt,tt){return rt<tt?-1:rt>tt?1:0}function RR(rt,tt=1,it=!1){let lt=1/0,dt=1/0,bt=-1/0,Et=-1/0;const Ot=rt[0];for(let An=0;An<Ot.length;An++){const kn=Ot[An];(!An||kn.x<lt)&&(lt=kn.x),(!An||kn.y<dt)&&(dt=kn.y),(!An||kn.x>bt)&&(bt=kn.x),(!An||kn.y>Et)&&(Et=kn.y)}const zt=Math.min(bt-lt,Et-dt);let Yt=zt/2;const an=new K1([],wR);if(zt===0)return new mt(lt,dt);for(let An=lt;An<bt;An+=zt)for(let kn=dt;kn<Et;kn+=zt)an.push(new r_(An+Yt,kn+Yt,Yt,rt));let yn=function(An){let kn=0,Pn=0,Xn=0;const fr=An[0];for(let Fr=0,dr=fr.length,_r=dr-1;Fr<dr;_r=Fr++){const wr=fr[Fr],vr=fr[_r],Lr=wr.x*vr.y-vr.x*wr.y;Pn+=(wr.x+vr.x)*Lr,Xn+=(wr.y+vr.y)*Lr,kn+=3*Lr}return new r_(Pn/kn,Xn/kn,0,An)}(rt),vn=an.length;for(;an.length;){const An=an.pop();(An.d>yn.d||!yn.d)&&(yn=An,it&&console.log("found best %d after %d probes",Math.round(1e4*An.d)/1e4,vn)),An.max-yn.d<=tt||(Yt=An.h/2,an.push(new r_(An.p.x-Yt,An.p.y-Yt,Yt,rt)),an.push(new r_(An.p.x+Yt,An.p.y-Yt,Yt,rt)),an.push(new r_(An.p.x-Yt,An.p.y+Yt,Yt,rt)),an.push(new r_(An.p.x+Yt,An.p.y+Yt,Yt,rt)),vn+=4)}return it&&(console.log(`num probes: ${vn}`),console.log(`best distance: ${yn.d}`)),yn.p}function wR(rt,tt){return tt.max-rt.max}function r_(rt,tt,it,lt){this.p=new mt(rt,tt),this.h=it,this.d=function(dt,bt){let Et=!1,Ot=1/0;for(let zt=0;zt<bt.length;zt++){const Yt=bt[zt];for(let an=0,yn=Yt.length,vn=yn-1;an<yn;vn=an++){const An=Yt[an],kn=Yt[vn];An.y>dt.y!=kn.y>dt.y&&dt.x<(kn.x-An.x)*(dt.y-An.y)/(kn.y-An.y)+An.x&&(Et=!Et),Ot=Math.min(Ot,YF(dt,An,kn))}}return(Et?1:-1)*Math.sqrt(Ot)}(this.p,lt),this.max=this.d+this.h*Math.SQRT2}const SF=Number.POSITIVE_INFINITY,i_=Math.sqrt(2);function tS(rt,tt){return tt[1]!==SF?function(it,lt,dt){let bt=0,Et=0;switch(lt=Math.abs(lt),dt=Math.abs(dt),it){case"top-right":case"top-left":case"top":Et=dt-7;break;case"bottom-right":case"bottom-left":case"bottom":Et=7-dt}switch(it){case"top-right":case"bottom-right":case"right":bt=-lt;break;case"top-left":case"bottom-left":case"left":bt=lt}return[bt,Et]}(rt,tt[0],tt[1]):function(it,lt){let dt=0,bt=0;lt<0&&(lt=0);const Et=lt/i_;switch(it){case"top-right":case"top-left":bt=Et-7;break;case"bottom-right":case"bottom-left":bt=7-Et;break;case"bottom":bt=7-lt;break;case"top":bt=lt-7}switch(it){case"top-right":case"bottom-right":dt=-Et;break;case"top-left":case"bottom-left":dt=Et;break;case"left":dt=lt;break;case"right":dt=-lt}return[dt,bt]}(rt,tt[0])}function ER(rt,tt,it,lt,dt,bt,Et,Ot,zt,Yt){rt.createArrays(),rt.tilePixelRatio=Xo/(512*rt.overscaling),rt.compareText={},rt.iconsNeedLinear=!1;const an=rt.layers[0].layout,yn=rt.layers[0]._unevaluatedLayout._values,vn={};if(rt.textSizeData.kind==="composite"){const{minZoom:Pn,maxZoom:Xn}=rt.textSizeData;vn.compositeTextSizes=[yn["text-size"].possiblyEvaluate(new ur(Pn),Ot),yn["text-size"].possiblyEvaluate(new ur(Xn),Ot)]}if(rt.iconSizeData.kind==="composite"){const{minZoom:Pn,maxZoom:Xn}=rt.iconSizeData;vn.compositeIconSizes=[yn["icon-size"].possiblyEvaluate(new ur(Pn),Ot),yn["icon-size"].possiblyEvaluate(new ur(Xn),Ot)]}vn.layoutTextSize=yn["text-size"].possiblyEvaluate(new ur(zt+1),Ot),vn.layoutIconSize=yn["icon-size"].possiblyEvaluate(new ur(zt+1),Ot),vn.textMaxSize=yn["text-size"].possiblyEvaluate(new ur(18),Ot);const An=an.get("text-rotation-alignment")==="map"&&an.get("symbol-placement")!=="point",kn=an.get("text-size");for(const Pn of rt.features){const Xn=an.get("text-font").evaluate(Pn,{},Ot).join(","),fr=kn.evaluate(Pn,{},Ot),Fr=vn.layoutTextSize.evaluate(Pn,{},Ot),dr=(vn.layoutIconSize.evaluate(Pn,{},Ot),{horizontal:{},vertical:void 0}),_r=Pn.text;let wr,vr=[0,0];if(_r){const Xr=_r.toString(),fo=an.get("text-letter-spacing").evaluate(Pn,{},Ot)*pu,Jr=an.get("text-line-height").evaluate(Pn,{},Ot)*pu,no=Ut(Xr)?fo:0,ro=an.get("text-anchor").evaluate(Pn,{},Ot),ao=an.get("text-variable-anchor");if(!ao){const xo=an.get("text-radial-offset").evaluate(Pn,{},Ot);vr=xo?tS(ro,[xo*pu,SF]):an.get("text-offset").evaluate(Pn,{},Ot).map(Lo=>Lo*pu)}let go=An?"center":an.get("text-justify").evaluate(Pn,{},Ot);const jr=an.get("symbol-placement")==="point",Ro=jr?an.get("text-max-width").evaluate(Pn,{},Ot)*pu:1/0,Yo=xo=>{rt.allowVerticalPlacement&&ht(Xr)&&(dr.vertical=bF(_r,tt,it,dt,Xn,Ro,Jr,ro,xo,no,vr,wp.vertical,!0,Fr,fr))};if(!An&&ao){const xo=go==="auto"?ao.map(Bo=>RF(Bo)):[go];let Lo=!1;for(let Bo=0;Bo<xo.length;Bo++){const qo=xo[Bo];if(!dr.horizontal[qo])if(Lo)dr.horizontal[qo]=dr.horizontal[0];else{const hs=bF(_r,tt,it,dt,Xn,Ro,Jr,"center",qo,no,vr,wp.horizontal,!1,Fr,fr);hs&&(dr.horizontal[qo]=hs,Lo=hs.positionedLines.length===1)}}Yo("left")}else{if(go==="auto"&&(go=RF(ro)),jr||an.get("text-writing-mode").indexOf("horizontal")>=0||!ht(Xr)){const xo=bF(_r,tt,it,dt,Xn,Ro,Jr,ro,go,no,vr,wp.horizontal,!1,Fr,fr);xo&&(dr.horizontal[go]=xo)}Yo(jr?"left":go)}}let Lr=!1;if(Pn.icon&&Pn.icon.name){const Xr=lt[Pn.icon.name];Xr&&(wr=bR(dt[Pn.icon.name],an.get("icon-offset").evaluate(Pn,{},Ot),an.get("icon-anchor").evaluate(Pn,{},Ot)),Lr=Xr.sdf,rt.sdfIcons===void 0?rt.sdfIcons=Xr.sdf:rt.sdfIcons!==Xr.sdf&&mn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Xr.pixelRatio!==rt.pixelRatio||an.get("icon-rotate").constantOr(1)!==0)&&(rt.iconsNeedLinear=!0))}const Ir=EF(dr.horizontal)||dr.vertical;rt.iconsInText||(rt.iconsInText=!!Ir&&Ir.iconsInText),(Ir||wr)&&BR(rt,Pn,dr,wr,lt,vn,Fr,0,vr,Lr,Et,Ot,Yt)}bt&&rt.generateCollisionDebugBuffers(zt,rt.collisionBoxArray)}function RF(rt){switch(rt){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function BR(rt,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn){let An=bt.textMaxSize.evaluate(tt,{},yn);An===void 0&&(An=Et);const kn=rt.layers[0].layout,Pn=kn.get("icon-offset").evaluate(tt,{},yn),Xn=EF(it.horizontal)||it.vertical,fr=vn.name==="globe",Fr=Et/24,dr=rt.tilePixelRatio*An/24,_r=(no=rt.overscaling,rt.zoom>18&&no>2&&(no>>=1),Math.max(Xo/(512*no),1)*kn.get("symbol-spacing")),wr=kn.get("text-padding")*rt.tilePixelRatio,vr=kn.get("icon-padding")*rt.tilePixelRatio,Lr=Ft(kn.get("text-max-angle")),Ir=kn.get("text-rotation-alignment")==="map"&&kn.get("symbol-placement")!=="point",Xr=kn.get("icon-rotation-alignment")==="map"&&kn.get("symbol-placement")!=="point",fo=kn.get("symbol-placement"),Jr=_r/2;var no;const ro=kn.get("icon-text-fit");let ao;lt&&ro!=="none"&&(rt.allowVerticalPlacement&&it.vertical&&(ao=G1(lt,it.vertical,ro,kn.get("icon-text-fit-padding"),Pn,Fr)),Xn&&(lt=G1(lt,Xn,ro,kn.get("icon-text-fit-padding"),Pn,Fr)));const go=(jr,Ro,Yo)=>{if(Ro.x<0||Ro.x>=Xo||Ro.y<0||Ro.y>=Xo)return;let xo=null;if(fr){const{x:Lo,y:Bo,z:qo}=vn.projectTilePoint(Ro.x,Ro.y,Yo);xo={anchor:new Ym(Lo,Bo,qo,0,void 0),up:vn.upVector(Yo,Ro.x,Ro.y)}}(function(Lo,Bo,qo,hs,ms,Ds,cs,Bl,bs,Ts,ga,Sl,Ul,Rl,Tl,Il,wu,qs,nu,eu,Ws,Cl,au,_a,$l){const zu=Lo.addToLineVertexArray(Bo,hs);let Eu,Bu,lp,Tu,s0,xU,IF,PF=0,fw=0,pw=0,gw=0,YR=-1,XR=-1;const Ay={};let mw=V0.exports("");const hv=qo?qo.anchor:Bo;let qR=0,KR=0;if(bs._unevaluatedLayout.getValue("text-radial-offset")===void 0?[qR,KR]=bs.layout.get("text-offset").evaluate(Ws,{},$l).map(Jp=>Jp*pu):(qR=bs.layout.get("text-radial-offset").evaluate(Ws,{},$l)*pu,KR=SF),Lo.allowVerticalPlacement&&ms.vertical){const Jp=ms.vertical;if(Tl)xU=BF(Jp),Bl&&(IF=BF(Bl));else{const jp=bs.layout.get("text-rotate").evaluate(Ws,{},$l)+90;lp=_U(Ts,hv,Bo,ga,Sl,Ul,Jp,Rl,jp,Il),Bl&&(Tu=_U(Ts,hv,Bo,ga,Sl,Ul,Bl,qs,jp))}}if(Ds){const Jp=bs.layout.get("icon-rotate").evaluate(Ws,{},$l),jp=bs.layout.get("icon-text-fit")!=="none",LF=q1(Ds,Jp,au,jp),tw=Bl?q1(Bl,Jp,au,jp):void 0;Bu=_U(Ts,hv,Bo,ga,Sl,Ul,Ds,qs,Jp),PF=4*LF.length;const yw=Lo.iconSizeData;let dv=null;yw.kind==="source"?(dv=[Tm*bs.layout.get("icon-size").evaluate(Ws,{},$l)],dv[0]>By&&mn(`${Lo.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):yw.kind==="composite"&&(dv=[Tm*Cl.compositeIconSizes[0].evaluate(Ws,{},$l),Tm*Cl.compositeIconSizes[1].evaluate(Ws,{},$l)],(dv[0]>By||dv[1]>By)&&mn(`${Lo.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Lo.addSymbols(Lo.icon,LF,dv,eu,nu,Ws,!1,qo,Bo,zu.lineStartIndex,zu.lineLength,-1,_a,$l),YR=Lo.icon.placedSymbolArray.length-1,tw&&(fw=4*tw.length,Lo.addSymbols(Lo.icon,tw,dv,eu,nu,Ws,wp.vertical,qo,Bo,zu.lineStartIndex,zu.lineLength,-1,_a,$l),XR=Lo.icon.placedSymbolArray.length-1)}for(const Jp in ms.horizontal){const jp=ms.horizontal[Jp];Eu||(mw=V0.exports(jp.text),Tl?s0=BF(jp):Eu=_U(Ts,hv,Bo,ga,Sl,Ul,jp,Rl,bs.layout.get("text-rotate").evaluate(Ws,{},$l),Il));const LF=jp.positionedLines.length===1;if(pw+=wF(Lo,qo,Bo,jp,cs,bs,Tl,Ws,Il,zu,ms.vertical?wp.horizontal:wp.horizontalOnly,LF?Object.keys(ms.horizontal):[Jp],Ay,YR,Cl,_a,$l),LF)break}ms.vertical&&(gw+=wF(Lo,qo,Bo,ms.vertical,cs,bs,Tl,Ws,Il,zu,wp.vertical,["vertical"],Ay,XR,Cl,_a,$l));let d_=-1;const ew=(Jp,jp)=>Jp?Math.max(Jp,jp):jp;d_=ew(s0,d_),d_=ew(xU,d_),d_=ew(IF,d_);const Fw=d_>-1?1:0;Lo.glyphOffsetArray.length>=Qy.MAX_GLYPHS&&mn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ws.sortKey!==void 0&&Lo.addToSortKeyRanges(Lo.symbolInstances.length,Ws.sortKey),Lo.symbolInstances.emplaceBack(hv.x,hv.y,hv.z,Bo.x,Bo.y,Ay.right>=0?Ay.right:-1,Ay.center>=0?Ay.center:-1,Ay.left>=0?Ay.left:-1,Ay.vertical>=0?Ay.vertical:-1,YR,XR,mw,Eu!==void 0?Eu:Lo.collisionBoxArray.length,Eu!==void 0?Eu+1:Lo.collisionBoxArray.length,lp!==void 0?lp:Lo.collisionBoxArray.length,lp!==void 0?lp+1:Lo.collisionBoxArray.length,Bu!==void 0?Bu:Lo.collisionBoxArray.length,Bu!==void 0?Bu+1:Lo.collisionBoxArray.length,Tu||Lo.collisionBoxArray.length,Tu?Tu+1:Lo.collisionBoxArray.length,ga,pw,gw,PF,fw,Fw,0,qR,KR,d_)})(rt,Ro,xo,jr,it,lt,dt,ao,rt.layers[0],rt.collisionBoxArray,tt.index,tt.sourceLayerIndex,rt.index,wr,Ir,zt,0,vr,Xr,Pn,tt,bt,Yt,an,yn)};if(fo==="line")for(const jr of Wu(tt.geometry,0,0,Xo,Xo)){const Ro=FR(jr,_r,Lr,it.vertical||Xn,lt,24,dr,rt.overscaling,Xo);for(const Yo of Ro){const xo=Xn;xo&&TR(rt,xo.text,Jr,Yo)||go(jr,Yo,yn)}}else if(fo==="line-center"){for(const jr of tt.geometry)if(jr.length>1){const Ro=UR(jr,Lr,it.vertical||Xn,lt,24,dr);Ro&&go(jr,Ro,yn)}}else if(tt.type==="Polygon")for(const jr of lF(tt.geometry,0)){const Ro=RR(jr,16);go(jr[0],new Ym(Ro.x,Ro.y,0,0,void 0),yn)}else if(tt.type==="LineString")for(const jr of tt.geometry)go(jr,new Ym(jr[0].x,jr[0].y,0,0,void 0),yn);else if(tt.type==="Point")for(const jr of tt.geometry)for(const Ro of jr)go([Ro],new Ym(Ro.x,Ro.y,0,0,void 0),yn)}const By=32640;function wF(rt,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn,Pn,Xn){const fr=function(_r,wr,vr,Lr,Ir,Xr,fo,Jr){const no=[];if(wr.positionedLines.length===0)return no;const ro=Lr.layout.get("text-rotate").evaluate(Xr,{})*Math.PI/180,ao=function(xo){const Lo=xo[0],Bo=xo[1],qo=Lo*Bo;return qo>0?[Lo,-Bo]:qo<0?[-Lo,Bo]:Lo===0?[Bo,Lo]:[Bo,-Lo]}(vr);let go=Math.abs(wr.top-wr.bottom);for(const xo of wr.positionedLines)go-=xo.lineOffset;const jr=wr.positionedLines.length,Ro=go/jr;let Yo=wr.top-vr[1];for(let xo=0;xo<jr;++xo){const Lo=wr.positionedLines[xo];Yo=SR(wr,Ro,Yo,xo);for(const Bo of Lo.positionedGlyphs){if(!Bo.rect)continue;const qo=Bo.rect||{};let hs=4,ms=!0,Ds=1,cs=0;if(Bo.imageName){const _a=fo[Bo.imageName];if(!_a)continue;if(_a.sdf){mn("SDF images are not supported in formatted text and will be ignored.");continue}ms=!1,Ds=_a.pixelRatio,hs=1/Ds}const Bl=(Ir||Jr)&&Bo.vertical,bs=Bo.metrics.advance*Bo.scale/2,Ts=Bo.metrics,ga=Bo.rect;if(ga===null)continue;Jr&&wr.verticalizable&&(cs=Bo.imageName?bs-Bo.metrics.width*Bo.scale/2:0);const Sl=Ir?[Bo.x+bs,Bo.y]:[0,0];let Ul=[0,0],Rl=[0,0],Tl=!1;Ir||(Bl?(Rl=[Bo.x+bs+ao[0],Bo.y+ao[1]-cs],Tl=!0):Ul=[Bo.x+bs+vr[0],Bo.y+vr[1]-cs]);const Il=ga.w*Bo.scale/(Ds*(Bo.localGlyph?2:1)),wu=ga.h*Bo.scale/(Ds*(Bo.localGlyph?2:1));let qs,nu,eu,Ws;if(Bl){const _a=Bo.y-Yo,$l=new mt(-bs,bs-_a),zu=-Math.PI/2,Eu=new mt(...Rl);qs=new mt(-bs+Ul[0],Ul[1]),qs._rotateAround(zu,$l)._add(Eu),qs.x+=-_a+bs,qs.y-=(Ts.left-hs)*Bo.scale;const Bu=Bo.imageName?Ts.advance*Bo.scale:pu*Bo.scale,lp=String.fromCharCode(Bo.glyph);Ol(lp)?qs.x+=(1-hs)*Bo.scale:Gl(lp)?qs.x+=Bu-Ts.height*Bo.scale+(-hs-1)*Bo.scale:qs.x+=Bo.imageName||Ts.width+2*hs===ga.w&&Ts.height+2*hs===ga.h?(Bu-wu)/2:(Bu-(Ts.height+2*hs)*Bo.scale)/2,nu=new mt(qs.x,qs.y-Il),eu=new mt(qs.x+wu,qs.y),Ws=new mt(qs.x+wu,qs.y-Il)}else{const _a=(Ts.left-hs)*Bo.scale-bs+Ul[0],$l=(-Ts.top-hs)*Bo.scale+Ul[1],zu=_a+Il,Eu=$l+wu;qs=new mt(_a,$l),nu=new mt(zu,$l),eu=new mt(_a,Eu),Ws=new mt(zu,Eu)}if(ro){let _a;_a=Ir?new mt(0,0):Tl?new mt(ao[0],ao[1]):new mt(vr[0],vr[1]),qs._rotateAround(ro,_a),nu._rotateAround(ro,_a),eu._rotateAround(ro,_a),Ws._rotateAround(ro,_a)}const Cl=new mt(0,0),au=new mt(0,0);no.push({tl:qs,tr:nu,bl:eu,br:Ws,tex:qo,writingMode:wr.writingMode,glyphOffset:Sl,sectionIndex:Bo.sectionIndex,isSDF:ms,pixelOffsetTL:Cl,pixelOffsetBR:au,minFontScaleX:0,minFontScaleY:0})}}return no}(0,lt,zt,bt,Et,Ot,dt,rt.allowVerticalPlacement),Fr=rt.textSizeData;let dr=null;Fr.kind==="source"?(dr=[Tm*bt.layout.get("text-size").evaluate(Ot,{},Xn)],dr[0]>By&&mn(`${rt.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Fr.kind==="composite"&&(dr=[Tm*kn.compositeTextSizes[0].evaluate(Ot,{},Xn),Tm*kn.compositeTextSizes[1].evaluate(Ot,{},Xn)],(dr[0]>By||dr[1]>By)&&mn(`${rt.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),rt.addSymbols(rt.text,fr,dr,zt,Et,Ot,an,tt,it,Yt.lineStartIndex,Yt.lineLength,An,Pn,Xn);for(const _r of yn)vn[_r]=rt.text.placedSymbolArray.length-1;return 4*fr.length}function EF(rt){for(const tt in rt)return rt[tt];return null}function _U(rt,tt,it,lt,dt,bt,Et,Ot,zt,Yt){let an=Et.top,yn=Et.bottom,vn=Et.left,An=Et.right;const kn=Et.collisionPadding;if(kn&&(vn-=kn[0],an-=kn[1],An+=kn[2],yn+=kn[3]),zt){const Pn=new mt(vn,an),Xn=new mt(An,an),fr=new mt(vn,yn),Fr=new mt(An,yn),dr=Ft(zt);let _r=new mt(0,0);Yt&&(_r=new mt(Yt[0],Yt[1])),Pn._rotateAround(dr,_r),Xn._rotateAround(dr,_r),fr._rotateAround(dr,_r),Fr._rotateAround(dr,_r),vn=Math.min(Pn.x,Xn.x,fr.x,Fr.x),An=Math.max(Pn.x,Xn.x,fr.x,Fr.x),an=Math.min(Pn.y,Xn.y,fr.y,Fr.y),yn=Math.max(Pn.y,Xn.y,fr.y,Fr.y)}return rt.emplaceBack(tt.x,tt.y,tt.z,it.x,it.y,vn,an,An,yn,Ot,lt,dt,bt),rt.length-1}function BF(rt){rt.collisionPadding&&(rt.top-=rt.collisionPadding[1],rt.bottom+=rt.collisionPadding[3]);const tt=rt.bottom-rt.top;return tt>0?Math.max(10,tt):null}function TR(rt,tt,it,lt){const dt=rt.compareText;if(tt in dt){const bt=dt[tt];for(let Et=bt.length-1;Et>=0;Et--)if(lt.dist(bt[Et])<it)return!0}else dt[tt]=[];return dt[tt].push(lt),!1}const QR=vo([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:nS}=QR,rS=vo([{name:"a_pos_3",components:3,type:"Int16"}]);var iv=vo([{name:"a_pos",type:"Int16",components:2}]);const Xm=Xo/Math.PI/2,TF=2*Up(1,0)*Xm*Math.PI,o_=64,s_=[o_,32,16],am=-Xm,lm=Xm,xR=[new Vu([am,am,am],[lm,lm,lm]),new Vu([am,am,am],[0,0,lm]),new Vu([0,am,am],[lm,0,lm]),new Vu([am,0,am],[0,lm,lm]),new Vu([0,0,am],[lm,lm,lm])];function iS(rt,tt,it,lt=!0){const dt=Sp([],rt._camera.position,rt.worldSize),bt=[tt,it,1,1];Sy(bt,bt,rt.pixelMatrixInverse),o1(bt,bt,1/bt[3]);const Et=Nu([],Pp([],bt,dt)),Ot=rt.globeMatrix,zt=[Ot[12],Ot[13],Ot[14]],Yt=Pp([],zt,dt),an=sm(Yt),yn=Nu([],Yt),vn=rt.worldSize/(2*Math.PI),An=Ip(yn,Et),kn=Math.asin(vn/an);if(kn<Math.acos(An)){if(!lt)return null;const fo=[],Jr=[];Sp(fo,Et,an/An),Nu(Jr,Pp(Jr,fo,Yt)),Nu(Et,Bm(Et,Yt,Sp(Et,Jr,Math.tan(kn)*an)))}const Pn=[];new tF(dt,Et).closestPointOnSphere(zt,vn,Pn);const Xn=Nu([],qr(Ot,0)),fr=Nu([],qr(Ot,1)),Fr=Nu([],qr(Ot,2)),dr=Ip(Xn,Pn),_r=Ip(fr,Pn),wr=Ip(Fr,Pn),vr=St(Math.asin(-_r/vn));let Lr=St(Math.atan2(dr,wr));Lr=rt.center.lng+function(fo,Jr){const no=(Jr-fo+180)%360-180;return no<-180?no+360:no}(rt.center.lng,Lr);const Ir=du(Lr),Xr=Zt(rm(vr),0,1);return new by(Ir,Xr)}class AR{constructor(tt,it,lt){this.a=Pp([],tt,lt),this.b=Pp([],it,lt),this.center=lt;const dt=Nu([],this.a),bt=Nu([],this.b);this.angle=Math.acos(Ip(dt,bt))}}function QF(rt,tt){if(rt.angle===0)return null;let it;return it=rt.a[tt]===0?1/rt.angle*.5*Math.PI:1/rt.angle*Math.atan(rt.b[tt]/rt.a[tt]/Math.sin(rt.angle)-1/Math.tan(rt.angle)),it<0||it>1?null:function(lt,dt,bt,Et){const Ot=Math.sin(bt);return lt*(Math.sin((1-Et)*bt)/Ot)+dt*(Math.sin(Et*bt)/Ot)}(rt.a[tt],rt.b[tt],rt.angle,Zt(it,0,1))+rt.center[tt]}function Cm(rt){if(rt.z<=1)return xR[rt.z+2*rt.y+rt.x];const tt=xF(vU(rt));return Vu.fromPoints(tt)}function n0(rt,tt,it){return Sp(rt,rt,1-it),G_(rt,rt,tt,it)}function oS(rt,tt){const it=c_(tt.zoom);if(it===0)return Cm(rt);const lt=vU(rt),dt=xF(lt),bt=du(lt.getWest())*tt.worldSize,Et=du(lt.getEast())*tt.worldSize,Ot=rm(lt.getNorth())*tt.worldSize,zt=rm(lt.getSouth())*tt.worldSize,Yt=[bt,Ot,0],an=[Et,Ot,0],yn=[bt,zt,0],vn=[Et,zt,0],An=Zv([],tt.globeMatrix);return Zl(Yt,Yt,An),Zl(an,an,An),Zl(yn,yn,An),Zl(vn,vn,An),dt[0]=n0(dt[0],yn,it),dt[1]=n0(dt[1],vn,it),dt[2]=n0(dt[2],an,it),dt[3]=n0(dt[3],Yt,it),Vu.fromPoints(dt)}function sS(rt,tt,it){for(const lt of rt)Zl(lt,lt,tt),Sp(lt,lt,it)}function CR(rt,tt,it){const lt=tt/rt.worldSize,dt=rt.globeMatrix;if(it.z<=1){const Ir=Cm(it).getCorners();return sS(Ir,dt,lt),Vu.fromPoints(Ir)}const bt=vU(it),Et=xF(bt);sS(Et,dt,lt);const Ot=Number.MAX_VALUE,zt=[-Ot,-Ot,-Ot],Yt=[Ot,Ot,Ot];if(bt.contains(rt.center)){for(const fo of Et)z_(Yt,Yt,fo),Z_(zt,zt,fo);zt[2]=0;const Ir=rt.point,Xr=[Ir.x*lt,Ir.y*lt,0];return z_(Yt,Yt,Xr),Z_(zt,zt,Xr),new Vu(Yt,zt)}const an=[dt[12]*lt,dt[13]*lt,dt[14]*lt],yn=bt.getCenter(),vn=Zt(rt.center.lat,-85.051129,Rm),An=Zt(yn.lat,-85.051129,Rm),kn=du(rt.center.lng),Pn=rm(vn);let Xn=kn-du(yn.lng);const fr=Pn-rm(An);Xn>.5?Xn-=1:Xn<-.5&&(Xn+=1);let Fr=0;Math.abs(Xn)>Math.abs(fr)?Fr=Xn>=0?1:3:(Fr=fr>=0?0:2,G_(an,an,[dt[4]*lt,dt[5]*lt,dt[6]*lt],-Math.sin(Ft(fr>=0?bt.getSouth():bt.getNorth()))*Xm));const dr=Et[Fr],_r=Et[(Fr+1)%4],wr=new AR(dr,_r,an),vr=[QF(wr,0)||dr[0],QF(wr,1)||dr[1],QF(wr,2)||dr[2]],Lr=c_(rt.zoom);if(Lr>0){const Ir=function({x:fo,y:Jr,z:no},ro,ao,go,jr){const Ro=1/(1<<no);let Yo=fo*Ro,xo=Yo+Ro,Lo=Jr*Ro,Bo=Lo+Ro,qo=0;const hs=(Yo+xo)/2-go;return hs>.5?qo=-1:hs<-.5&&(qo=1),Yo=((Yo+qo)*ro-(go*=ro))*ao+go,xo=((xo+qo)*ro-go)*ao+go,Lo=(Lo*ro-(jr*=ro))*ao+jr,Bo=(Bo*ro-jr)*ao+jr,[[Yo,Bo,0],[xo,Bo,0],[xo,Lo,0],[Yo,Lo,0]]}(it,tt,rt._pixelsPerMercatorPixel,kn,Pn);for(let fo=0;fo<Et.length;fo++)n0(Et[fo],Ir[fo],Lr);const Xr=Bm([],Ir[Fr],Ir[(Fr+1)%4]);Sp(Xr,Xr,.5),n0(vr,Xr,Lr)}for(const Ir of Et)z_(Yt,Yt,Ir),Z_(zt,zt,Ir);return Yt[2]=Math.min(dr[2],_r[2]),z_(Yt,Yt,vr),Z_(zt,zt,vr),new Vu(Yt,zt)}function vU({x:rt,y:tt,z:it}){const lt=1/(1<<it),dt=new Ms(Fp(rt*lt),ou((tt+1)*lt)),bt=new Ms(Fp((rt+1)*lt),ou(tt*lt));return new nm(dt,bt)}function xF(rt){const tt=Ft(rt.getNorth()),it=Ft(rt.getSouth()),lt=Math.cos(tt),dt=Math.cos(it),bt=Math.sin(tt),Et=Math.sin(it),Ot=rt.getWest(),zt=rt.getEast();return[a_(dt,Et,Ot),a_(dt,Et,zt),a_(lt,bt,zt),a_(lt,bt,Ot)]}function a_(rt,tt,it,lt=Xm){return it=Ft(it),[rt*Math.sin(it)*lt,-tt*lt,rt*Math.cos(it)*lt]}function r0(rt,tt,it){return a_(Math.cos(Ft(rt)),Math.sin(Ft(rt)),tt,it)}function l_(rt,tt,it,lt){const dt=1<<it.z,bt=(rt/Xo+it.x)/dt;return r0(ou((tt/Xo+it.y)/dt),Fp(bt),lt)}function ov({min:rt,max:tt}){return 16383/Math.max(tt[0]-rt[0],tt[1]-rt[1],tt[2]-rt[2])}const aS=new Float64Array(16);function sv(rt){const tt=ov(rt),it=XU(aS,[tt,tt,tt]);return Xy(it,it,((lt=[])[0]=-(dt=rt.min)[0],lt[1]=-dt[1],lt[2]=-dt[2],lt));var lt,dt}function AF(rt){const tt=(lt=rt.min,(it=aS)[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=1,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=1,it[11]=0,it[12]=lt[0],it[13]=lt[1],it[14]=lt[2],it[15]=1,it);var it,lt;const dt=1/ov(rt);return Fy(tt,tt,[dt,dt,dt])}function bU(rt,tt,it,lt,dt){const bt=function(zt){const Yt=Xo/(2*Math.PI);return zt/(2*Math.PI)/Yt}(it),Et=[rt,tt,-it/(2*Math.PI)],Ot=im(new Float64Array(16));return Xy(Ot,Ot,Et),Fy(Ot,Ot,[bt,bt,bt]),qy(Ot,Ot,Ft(-dt)),W0(Ot,Ot,Ft(-lt)),Ot}function c_(rt){return Wt(5,6,rt)}function lS(rt,tt){const it=r0(tt.lat,tt.lng),lt=function(kn){const Pn=r0(kn._center.lat,kn._center.lng);let Xn=eF([],J0(0,1,0),Pn);const fr=qU([],-kn.angle,Pn);Xn=Zl(Xn,Xn,fr),qU(fr,-kn._pitch,Xn);const Fr=Nu([],Pn);return Sp(Fr,Fr,kn.cameraToCenterDistance/kn.pixelsPerMeter*TF),Zl(Fr,Fr,fr),Bm([],Pn,Fr)}(rt);return Et=(dt=KU([],lt,it))[0],Ot=dt[1],zt=dt[2],Yt=(bt=it)[0],an=bt[1],yn=bt[2],An=(vn=Math.sqrt(Et*Et+Ot*Ot+zt*zt)*Math.sqrt(Yt*Yt+an*an+yn*yn))&&Ip(dt,bt)/vn,Math.acos(Math.min(Math.max(An,-1),1));var dt,bt,Et,Ot,zt,Yt,an,yn,vn,An}const cS=Ft(85),sp=Math.cos(cS),CF=Math.sin(cS);function uS(rt,tt){const it=rt.fovAboveCenter,lt=rt.elevation?rt.elevation.getMinElevationBelowMSL()*tt:0,dt=(rt._camera.position[2]*rt.worldSize-lt)/Math.cos(rt._pitch),bt=Math.sin(it)*dt/Math.sin(Math.max(Math.PI/2-rt._pitch-it,.01)),Et=Math.sin(rt._pitch)*bt+dt;return Math.min(1.01*Et,dt*(1/rt._horizonShift))}function i0(rt,tt){if(!tt.isReprojectedInTileSpace)return{scale:1<<rt.z,x:rt.x,y:rt.y,x2:rt.x+1,y2:rt.y+1,projection:tt};const it=Math.pow(2,-rt.z),lt=rt.x*it,dt=(rt.x+1)*it,bt=rt.y*it,Et=(rt.y+1)*it,Ot=Fp(lt),zt=Fp(dt),Yt=ou(bt),an=ou(Et),yn=tt.project(Ot,Yt),vn=tt.project(zt,Yt),An=tt.project(zt,an),kn=tt.project(Ot,an);let Pn=Math.min(yn.x,vn.x,An.x,kn.x),Xn=Math.min(yn.y,vn.y,An.y,kn.y),fr=Math.max(yn.x,vn.x,An.x,kn.x),Fr=Math.max(yn.y,vn.y,An.y,kn.y);const dr=it/16;function _r(vr,Lr,Ir,Xr,fo,Jr){const no=(Ir+fo)/2,ro=(Xr+Jr)/2,ao=tt.project(Fp(no),ou(ro)),go=Math.max(0,Pn-ao.x,Xn-ao.y,ao.x-fr,ao.y-Fr);Pn=Math.min(Pn,ao.x),fr=Math.max(fr,ao.x),Xn=Math.min(Xn,ao.y),Fr=Math.max(Fr,ao.y),go>dr&&(_r(vr,ao,Ir,Xr,no,ro),_r(ao,Lr,no,ro,fo,Jr))}_r(yn,vn,lt,bt,dt,bt),_r(vn,An,dt,bt,dt,Et),_r(An,kn,dt,Et,lt,Et),_r(kn,yn,lt,Et,lt,bt),Pn-=dr,Xn-=dr,fr+=dr,Fr+=dr;const wr=1/Math.max(fr-Pn,Fr-Xn);return{scale:wr,x:Pn*wr,y:Xn*wr,x2:fr*wr,y2:Fr*wr,projection:tt}}const kR=im(new Float32Array(16));class Ty{constructor(tt){this.spec=tt,this.name=tt.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(tt,it){return{x:0,y:0,z:0}}unproject(tt,it){return new Ms(0,0)}projectTilePoint(tt,it,lt){return{x:tt,y:it,z:0}}locationPoint(tt,it,lt=!0){return tt._coordinatePoint(tt.locationCoordinate(it),lt)}pixelsPerMeter(tt,it){return Up(1,tt)*it}pixelSpaceConversion(tt,it,lt){return 1}farthestPixelDistance(tt){return uS(tt,tt.pixelsPerMeter)}pointCoordinate(tt,it,lt,dt){const bt=tt.horizonLineFromTop(!1),Et=new mt(it,Math.max(bt,lt));return tt.rayIntersectionCoordinate(tt.pointRayIntersection(Et,dt))}pointCoordinate3D(tt,it,lt){const dt=new mt(it,lt);if(tt.elevation)return tt.elevation.pointCoordinate(dt);{const bt=this.pointCoordinate(tt,dt.x,dt.y,0);return[bt.x,bt.y,bt.z]}}isPointAboveHorizon(tt,it){if(tt.elevation)return!this.pointCoordinate3D(tt,it.x,it.y);const lt=tt.horizonLineFromTop();return it.y<lt}createInversionMatrix(tt,it){return kR}createTileMatrix(tt,it,lt){let dt,bt,Et;const Ot=lt.canonical,zt=im(new Float64Array(16));if(this.isReprojectedInTileSpace){const Yt=i0(Ot,this);dt=1,bt=Yt.x+lt.wrap*Yt.scale,Et=Yt.y,Fy(zt,zt,[dt/Yt.scale,dt/Yt.scale,tt.pixelsPerMeter/it])}else dt=it/tt.zoomScale(Ot.z),bt=(Ot.x+Math.pow(2,Ot.z)*lt.wrap)*dt,Et=Ot.y*dt;return Xy(zt,zt,[bt,Et,0]),Fy(zt,zt,[dt/Xo,dt/Xo,1]),zt}upVector(tt,it,lt){return[0,0,1]}upVectorScale(tt,it,lt){return{metersToTile:1}}}class kF extends Ty{constructor(tt){super(tt),this.range=[4,7],this.center=tt.center||[-96,37.5];const[it,lt]=this.parallels=tt.parallels||[29.5,45.5],dt=Math.sin(Ft(it));this.n=(dt+Math.sin(Ft(lt)))/2,this.c=1+dt*(2*this.n-dt),this.r0=Math.sqrt(this.c)/this.n}project(tt,it){const{n:lt,c:dt,r0:bt}=this,Et=Ft(tt-this.center[0]),Ot=Ft(it),zt=Math.sqrt(dt-2*lt*Math.sin(Ot))/lt;return{x:zt*Math.sin(Et*lt),y:zt*Math.cos(Et*lt)-bt,z:0}}unproject(tt,it){const{n:lt,c:dt,r0:bt}=this,Et=bt+it;let Ot=Math.atan2(tt,Math.abs(Et))*Math.sign(Et);Et*lt<0&&(Ot-=Math.PI*Math.sign(tt)*Math.sign(Et));const zt=Ft(this.center[0])*lt;Ot=Gt(Ot,-Math.PI-zt,Math.PI-zt);const Yt=Zt(St(Ot/lt)+this.center[0],-180,180),an=Math.asin(Zt((dt-(tt*tt+Et*Et)*lt*lt)/(2*lt),-1,1)),yn=Zt(St(an),-85.051129,Rm);return new Ms(Yt,yn)}}const av=1.340264,o0=-.081106,lv=893e-6,cv=.003796,UU=Math.sqrt(3)/2;class MR extends Ty{project(tt,it){it=it/180*Math.PI,tt=tt/180*Math.PI;const lt=Math.asin(UU*Math.sin(it)),dt=lt*lt,bt=dt*dt*dt;return{x:.5*(tt*Math.cos(lt)/(UU*(av+3*o0*dt+bt*(7*lv+9*cv*dt)))/Math.PI+.5),y:1-.5*(lt*(av+o0*dt+bt*(lv+cv*dt))/Math.PI+1),z:0}}unproject(tt,it){tt=(2*tt-.5)*Math.PI;let lt=it=(2*(1-it)-1)*Math.PI,dt=lt*lt,bt=dt*dt*dt;for(let an,yn,vn,An=0;An<12&&(yn=lt*(av+o0*dt+bt*(lv+cv*dt))-it,vn=av+3*o0*dt+bt*(7*lv+9*cv*dt),an=yn/vn,lt=Zt(lt-an,-Math.PI/3,Math.PI/3),dt=lt*lt,bt=dt*dt*dt,!(Math.abs(an)<1e-12));++An);const Et=UU*tt*(av+3*o0*dt+bt*(7*lv+9*cv*dt))/Math.cos(lt),Ot=Math.asin(Math.sin(lt)/UU),zt=Zt(180*Et/Math.PI,-180,180),Yt=Zt(180*Ot/Math.PI,-85.051129,Rm);return new Ms(zt,Yt)}}class hS extends Ty{constructor(tt){super(tt),this.wrap=!0,this.supportsWorldCopies=!0}project(tt,it){return{x:.5+tt/360,y:.5-it/360,z:0}}unproject(tt,it){const lt=360*(tt-.5),dt=Zt(360*(.5-it),-85.051129,Rm);return new Ms(lt,dt)}}const u_=Math.PI/2;function FU(rt){return Math.tan((u_+rt)/2)}class NR extends Ty{constructor(tt){super(tt),this.center=tt.center||[0,30];const[it,lt]=this.parallels=tt.parallels||[30,30];let dt=Ft(it),bt=Ft(lt);this.southernCenter=dt+bt<0,this.southernCenter&&(dt=-dt,bt=-bt);const Et=Math.cos(dt),Ot=FU(dt);this.n=dt===bt?Math.sin(dt):Math.log(Et/Math.cos(bt))/Math.log(FU(bt)/Ot),this.f=Et*Math.pow(FU(dt),this.n)/this.n}project(tt,it){it=Ft(it),this.southernCenter&&(it=-it),tt=Ft(tt-this.center[0]);const lt=1e-6,{n:dt,f:bt}=this;bt>0?it<-u_+lt&&(it=-u_+lt):it>u_-lt&&(it=u_-lt);const Et=bt/Math.pow(FU(it),dt);let Ot=Et*Math.sin(dt*tt),zt=bt-Et*Math.cos(dt*tt);return Ot=.5*(Ot/Math.PI+.5),zt=.5*(zt/Math.PI+.5),{x:Ot,y:this.southernCenter?zt:1-zt,z:0}}unproject(tt,it){tt=(2*tt-.5)*Math.PI,this.southernCenter&&(it=1-it),it=(2*(1-it)-.5)*Math.PI;const{n:lt,f:dt}=this,bt=dt-it,Et=Math.sign(bt),Ot=Math.sign(lt)*Math.sqrt(tt*tt+bt*bt);let zt=Math.atan2(tt,Math.abs(bt))*Et;bt*lt<0&&(zt-=Math.PI*Math.sign(tt)*Et);const Yt=Zt(St(zt/lt)+this.center[0],-180,180),an=Zt(St(2*Math.atan(Math.pow(dt/Ot,1/lt))-u_),-85.051129,Rm);return new Ms(Yt,this.southernCenter?-an:an)}}class SU extends Ty{constructor(tt){super(tt),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(tt,it){return{x:du(tt),y:rm(it),z:0}}unproject(tt,it){const lt=Fp(tt),dt=ou(it);return new Ms(lt,dt)}}const RU=Ft(Rm);class VR extends Ty{project(tt,it){const lt=(it=Ft(it))*it,dt=lt*lt;return{x:.5*((tt=Ft(tt))*(.8707-.131979*lt+dt*(dt*(.003971*lt-.001529*dt)-.013791))/Math.PI+.5),y:1-.5*(it*(1.007226+lt*(.015085+dt*(.028874*lt-.044475-.005916*dt)))/Math.PI+1),z:0}}unproject(tt,it){tt=(2*tt-.5)*Math.PI;let lt=it=(2*(1-it)-1)*Math.PI,dt=25,bt=0,Et=lt*lt;do{Et=lt*lt;const Yt=Et*Et;bt=(lt*(1.007226+Et*(.015085+Yt*(.028874*Et-.044475-.005916*Yt)))-it)/(1.007226+Et*(.045255+Yt*(.259866*Et-.311325-.005916*11*Yt))),lt=Zt(lt-bt,-RU,RU)}while(Math.abs(bt)>1e-6&&--dt>0);Et=lt*lt;const Ot=Zt(St(tt/(.8707+Et*(Et*(Et*Et*Et*(.003971-.001529*Et)-.013791)-.131979))),-180,180),zt=St(lt);return new Ms(Ot,zt)}}const dS=Ft(Rm);class DR extends Ty{project(tt,it){it=Ft(it),tt=Ft(tt);const lt=Math.cos(it),dt=2/Math.PI,bt=Math.acos(lt*Math.cos(tt/2)),Et=Math.sin(bt)/bt,Ot=.5*(tt*dt+2*lt*Math.sin(tt/2)/Et)||0,zt=.5*(it+Math.sin(it)/Et)||0;return{x:.5*(Ot/Math.PI+.5),y:1-.5*(zt/Math.PI+1),z:0}}unproject(tt,it){let lt=tt=(2*tt-.5)*Math.PI,dt=it=(2*(1-it)-1)*Math.PI,bt=25;const Et=1e-6;let Ot=0,zt=0;do{const Yt=Math.cos(dt),an=Math.sin(dt),yn=2*an*Yt,vn=an*an,An=Yt*Yt,kn=Math.cos(lt/2),Pn=Math.sin(lt/2),Xn=2*kn*Pn,fr=Pn*Pn,Fr=1-An*kn*kn,dr=Fr?1/Fr:0,_r=Fr?Math.acos(Yt*kn)*Math.sqrt(1/Fr):0,wr=.5*(2*_r*Yt*Pn+2*lt/Math.PI)-tt,vr=.5*(_r*an+dt)-it,Lr=.5*dr*(An*fr+_r*Yt*kn*vn)+1/Math.PI,Ir=dr*(Xn*yn/4-_r*an*Pn),Xr=.125*dr*(yn*Pn-_r*an*An*Xn),fo=.5*dr*(vn*kn+_r*fr*Yt)+.5,Jr=Ir*Xr-fo*Lr;Ot=(vr*Ir-wr*fo)/Jr,zt=(wr*Xr-vr*Lr)/Jr,lt=Zt(lt-Ot,-Math.PI,Math.PI),dt=Zt(dt-zt,-dS,dS)}while((Math.abs(Ot)>Et||Math.abs(zt)>Et)&&--bt>0);return new Ms(St(lt),St(dt))}}class fS extends Ty{constructor(tt){super(tt),this.center=tt.center||[0,0],this.parallels=tt.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Ft(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(tt,it){const{scale:lt,cosPhi:dt}=this;return{x:Ft(tt)*dt*lt+.5,y:-Math.sin(Ft(it))/dt*lt+.5,z:0}}unproject(tt,it){const{scale:lt,cosPhi:dt}=this,bt=-(it-.5)/lt,Et=Zt(St((tt-.5)/lt)/dt,-180,180),Ot=Math.asin(Zt(bt*dt,-1,1)),zt=Zt(St(Ot),-85.051129,Rm);return new Ms(Et,zt)}}class OR extends SU{constructor(tt){super(tt),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(tt,it,lt){const dt=l_(tt,it,lt);return Zl(dt,dt,sv(Cm(lt))),{x:dt[0],y:dt[1],z:dt[2]}}locationPoint(tt,it){const lt=r0(it.lat,it.lng),dt=Nu([],lt),bt=tt.elevation?tt.elevation.getAtPointOrZero(tt.locationCoordinate(it),tt._centerAltitude):tt._centerAltitude;G_(lt,lt,dt,Up(1,0)*Xo*bt);const Et=im(new Float64Array(16));return L0(Et,tt.pixelMatrix,tt.globeMatrix),Zl(lt,lt,Et),new mt(lt[0],lt[1])}pixelsPerMeter(tt,it){return Up(1,0)*it}pixelSpaceConversion(tt,it,lt){const dt=Up(1,tt)*it,bt=xs(Up(1,45)*it,dt,lt);return this.pixelsPerMeter(tt,it)/bt}createTileMatrix(tt,it,lt){const dt=AF(Cm(lt.canonical));return L0(new Float64Array(16),tt.globeMatrix,dt)}createInversionMatrix(tt,it){const{center:lt}=tt,dt=sv(Cm(it));return W0(dt,dt,Ft(lt.lng)),qy(dt,dt,Ft(lt.lat)),Fy(dt,dt,[tt._pixelsPerMercatorPixel,tt._pixelsPerMercatorPixel,1]),Float32Array.from(dt)}pointCoordinate(tt,it,lt,dt){return iS(tt,it,lt,!0)||new by(0,0)}pointCoordinate3D(tt,it,lt){const dt=this.pointCoordinate(tt,it,lt,0);return[dt.x,dt.y,dt.z]}isPointAboveHorizon(tt,it){return!iS(tt,it.x,it.y,!1)}farthestPixelDistance(tt){const it=function(dt,bt){const Et=dt.cameraToCenterDistance,Ot=dt._centerAltitude*bt,zt=dt._camera,Yt=dt._camera.forward(),an=Bm([],Sp([],Yt,-Et),[0,0,Ot]),yn=dt.worldSize/(2*Math.PI),vn=[0,0,-yn],An=dt.width/dt.height,kn=Math.tan(dt.fovAboveCenter),Pn=Sp([],zt.up(),kn),Xn=Sp([],zt.right(),kn*An),fr=Nu([],Bm([],Bm([],Yt,Pn),Xn)),Fr=[];let dr;if(new tF(an,fr).closestPointOnSphere(vn,yn,Fr)){const _r=Bm([],Fr,vn),wr=Pp([],_r,an);dr=Math.cos(dt.fovAboveCenter)*sm(wr)}else{const _r=Pp([],an,vn),wr=Pp([],vn,an);Nu(wr,wr);const vr=sm(_r)-yn;dr=Math.sqrt(vr*(vr+2*yn));const Lr=Math.acos(dr/(yn+vr))-Math.acos(Ip(Yt,wr));dr*=Math.cos(Lr)}return 1.01*dr}(tt,this.pixelsPerMeter(tt.center.lat,tt.worldSize)),lt=c_(tt.zoom);if(lt>0){const dt=uS(tt,Up(1,tt.center.lat)*tt.worldSize),bt=tt.worldSize/(2*Math.PI),Et=Math.max(tt.width,tt.height)/tt.worldSize*Math.PI;return xs(it,dt+bt*(1-Math.cos(Et)),Math.pow(lt,10))}return it}upVector(tt,it,lt){return l_(it,lt,tt,1)}upVectorScale(tt){return{metersToTile:TF*ov(Cm(tt))}}}function pS(rt){const tt=rt.parallels,it=!!tt&&Math.abs(tt[0]+tt[1])<.01;switch(rt.name){case"mercator":return new SU(rt);case"equirectangular":return new hS(rt);case"naturalEarth":return new VR(rt);case"equalEarth":return new MR(rt);case"winkelTripel":return new DR(rt);case"albers":return it?new fS(rt):new kF(rt);case"lambertConformalConic":return it?new fS(rt):new NR(rt);case"globe":return new OR(rt)}throw new Error(`Invalid projection name: ${rt.name}`)}const IR=rU.types,PR=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function wU(rt,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn){const An=Ot?Math.min(By,Math.round(Ot[0])):0,kn=Ot?Math.min(By,Math.round(Ot[1])):0;rt.emplaceBack(tt,it,Math.round(32*lt),Math.round(32*dt),bt,Et,(An<<1)+(zt?1:0),kn,16*Yt,16*an,256*yn,256*vn)}function EU(rt,tt,it,lt,dt,bt,Et){rt.emplaceBack(tt,it,lt,dt,bt,Et)}function BU(rt,tt,it,lt,dt){rt.emplaceBack(tt,it,lt,dt),rt.emplaceBack(tt,it,lt,dt),rt.emplaceBack(tt,it,lt,dt),rt.emplaceBack(tt,it,lt,dt)}function LR(rt){for(const tt of rt.sections)if(Rn(tt.text))return!0;return!1}class MF{constructor(tt){this.layoutVertexArray=new El,this.indexArray=new iu,this.programConfigurations=tt,this.segments=new zl,this.dynamicLayoutVertexArray=new Jl,this.opacityVertexArray=new Nl,this.placedSymbolArray=new MU,this.globeExtVertexArray=new Is}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(tt,it,lt,dt){this.isEmpty()||(lt&&(this.layoutVertexBuffer=tt.createVertexBuffer(this.layoutVertexArray,uR.members),this.indexBuffer=tt.createIndexBuffer(this.indexArray,it),this.dynamicLayoutVertexBuffer=tt.createVertexBuffer(this.dynamicLayoutVertexArray,_c.members,!0),this.opacityVertexBuffer=tt.createVertexBuffer(this.opacityVertexArray,PR,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=tt.createVertexBuffer(this.globeExtVertexArray,op.members,!0)),this.opacityVertexBuffer.itemSize=1),(lt||dt)&&this.programConfigurations.upload(tt))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}ko(MF,"SymbolBuffers");class NF{constructor(tt,it,lt){this.layoutVertexArray=new tt,this.layoutAttributes=it,this.indexArray=new lt,this.segments=new zl,this.collisionVertexArray=new em,this.collisionVertexArrayExt=new _h}upload(tt){this.layoutVertexBuffer=tt.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=tt.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=tt.createVertexBuffer(this.collisionVertexArray,hR.members,!0),this.collisionVertexBufferExt=tt.createVertexBuffer(this.collisionVertexArrayExt,wy.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ko(NF,"CollisionBuffers");class Qy{constructor(tt){this.collisionBoxArray=tt.collisionBoxArray,this.zoom=tt.zoom,this.overscaling=tt.overscaling,this.layers=tt.layers,this.layerIds=this.layers.map(Et=>Et.id),this.index=tt.index,this.pixelRatio=tt.pixelRatio,this.sourceLayerIndex=tt.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=im([]),this.placementViewportMatrix=im([]);const it=this.layers[0]._unevaluatedLayout._values;this.textSizeData=yF(this.zoom,it["text-size"]),this.iconSizeData=yF(this.zoom,it["icon-size"]);const lt=this.layers[0].layout,dt=lt.get("symbol-sort-key"),bt=lt.get("symbol-z-order");this.canOverlap=lt.get("text-allow-overlap")||lt.get("icon-allow-overlap")||lt.get("text-ignore-placement")||lt.get("icon-ignore-placement"),this.sortFeaturesByKey=bt!=="viewport-y"&&dt.constantOr(1)!==void 0,this.sortFeaturesByY=(bt==="viewport-y"||bt==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=lt.get("text-writing-mode").map(Et=>wp[Et]),this.stateDependentLayerIds=this.layers.filter(Et=>Et.isStateDependent()).map(Et=>Et.id),this.sourceID=tt.sourceID,this.projection=tt.projection}createArrays(){this.text=new MF(new Op(this.layers,this.zoom,tt=>/^text/.test(tt))),this.icon=new MF(new Op(this.layers,this.zoom,tt=>/^icon/.test(tt))),this.glyphOffsetArray=new jm,this.lineVertexArray=new Mv,this.symbolInstances=new _d}calculateGlyphDependencies(tt,it,lt,dt,bt){for(let Et=0;Et<tt.length;Et++)if(it[tt.charCodeAt(Et)]=!0,dt&&bt){const Ot=Ey[tt.charAt(Et)];Ot&&(it[Ot.charCodeAt(0)]=!0)}}populate(tt,it,lt,dt){const bt=this.layers[0],Et=bt.layout,Ot=this.projection.name==="globe",zt=Et.get("text-font"),Yt=Et.get("text-field"),an=Et.get("icon-image"),yn=(Yt.value.kind!=="constant"||Yt.value.value instanceof Jt&&!Yt.value.value.isEmpty()||Yt.value.value.toString().length>0)&&(zt.value.kind!=="constant"||zt.value.value.length>0),vn=an.value.kind!=="constant"||!!an.value.value||Object.keys(an.parameters).length>0,An=Et.get("symbol-sort-key");if(this.features=[],!yn&&!vn)return;const kn=it.iconDependencies,Pn=it.glyphDependencies,Xn=it.availableImages,fr=new ur(this.zoom);for(const{feature:Fr,id:dr,index:_r,sourceLayerIndex:wr}of tt){const vr=bt._featureFilter.needGeometry,Lr=Yy(Fr,vr);if(!bt._featureFilter.filter(fr,Lr,lt))continue;if(vr||(Lr.geometry=Lu(Fr,lt,dt)),Ot&&Fr.type!==1&&lt.z<=5){const Jr=Lr.geometry,no=.98078528056,ro=(ao,go)=>Ip(l_(ao.x,ao.y,lt,1),l_(go.x,go.y,lt,1))<no;for(let ao=0;ao<Jr.length;ao++)Jr[ao]=O0(Jr[ao],ro)}let Ir,Xr;if(yn){const Jr=bt.getValueAndResolveTokens("text-field",Lr,lt,Xn),no=Jt.factory(Jr);LR(no)&&(this.hasRTLText=!0),(!this.hasRTLText||tr()==="unavailable"||this.hasRTLText&&br.isParsed())&&(Ir=N1(no,bt,Lr))}if(vn){const Jr=bt.getValueAndResolveTokens("icon-image",Lr,lt,Xn);Xr=Jr instanceof dn?Jr:dn.fromString(Jr)}if(!Ir&&!Xr)continue;const fo=this.sortFeaturesByKey?An.evaluate(Lr,{},lt):void 0;if(this.features.push({id:dr,text:Ir,icon:Xr,index:_r,sourceLayerIndex:wr,geometry:Lr.geometry,properties:Fr.properties,type:IR[Fr.type],sortKey:fo}),Xr&&(kn[Xr.name]=!0),Ir){const Jr=zt.evaluate(Lr,{},lt).join(","),no=Et.get("text-rotation-alignment")==="map"&&Et.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(wp.vertical)>=0;for(const ro of Ir.sections)if(ro.image)kn[ro.image.name]=!0;else{const ao=ht(Ir.toString()),go=ro.fontStack||Jr,jr=Pn[go]=Pn[go]||{};this.calculateGlyphDependencies(ro.text,jr,no,this.allowVerticalPlacement,ao)}}}Et.get("symbol-placement")==="line"&&(this.features=function(Fr){const dr={},_r={},wr=[];let vr=0;function Lr(Jr){wr.push(Fr[Jr]),vr++}function Ir(Jr,no,ro){const ao=_r[Jr];return delete _r[Jr],_r[no]=ao,wr[ao].geometry[0].pop(),wr[ao].geometry[0]=wr[ao].geometry[0].concat(ro[0]),ao}function Xr(Jr,no,ro){const ao=dr[no];return delete dr[no],dr[Jr]=ao,wr[ao].geometry[0].shift(),wr[ao].geometry[0]=ro[0].concat(wr[ao].geometry[0]),ao}function fo(Jr,no,ro){const ao=ro?no[0][no[0].length-1]:no[0][0];return`${Jr}:${ao.x}:${ao.y}`}for(let Jr=0;Jr<Fr.length;Jr++){const no=Fr[Jr],ro=no.geometry,ao=no.text?no.text.toString():null;if(!ao){Lr(Jr);continue}const go=fo(ao,ro),jr=fo(ao,ro,!0);if(go in _r&&jr in dr&&_r[go]!==dr[jr]){const Ro=Xr(go,jr,ro),Yo=Ir(go,jr,wr[Ro].geometry);delete dr[go],delete _r[jr],_r[fo(ao,wr[Yo].geometry,!0)]=Yo,wr[Ro].geometry=null}else go in _r?Ir(go,jr,ro):jr in dr?Xr(go,jr,ro):(Lr(Jr),dr[go]=vr-1,_r[jr]=vr-1)}return wr.filter(Jr=>Jr.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Fr,dr)=>Fr.sortKey-dr.sortKey)}update(tt,it,lt,dt){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(tt,it,this.layers,lt,dt),this.icon.programConfigurations.updatePaintArrays(tt,it,this.layers,lt,dt))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(tt){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(tt),this.iconCollisionBox.upload(tt)),this.text.upload(tt,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(tt,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=pS(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(tt,it){const lt=this.lineVertexArray.length,dt=tt.segment;if(dt!==void 0){let bt=tt.dist(it[dt+1]),Et=tt.dist(it[dt]);const Ot={};for(let zt=dt+1;zt<it.length;zt++)Ot[zt]={x:it[zt].x,y:it[zt].y,tileUnitDistanceFromAnchor:bt},zt<it.length-1&&(bt+=it[zt+1].dist(it[zt]));for(let zt=dt||0;zt>=0;zt--)Ot[zt]={x:it[zt].x,y:it[zt].y,tileUnitDistanceFromAnchor:Et},zt>0&&(Et+=it[zt-1].dist(it[zt]));for(let zt=0;zt<it.length;zt++){const Yt=Ot[zt];this.lineVertexArray.emplaceBack(Yt.x,Yt.y,Yt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:lt,lineLength:this.lineVertexArray.length-lt}}addSymbols(tt,it,lt,dt,bt,Et,Ot,zt,Yt,an,yn,vn,An,kn){const Pn=tt.indexArray,Xn=tt.layoutVertexArray,fr=tt.globeExtVertexArray,Fr=tt.segments.prepareSegment(4*it.length,Xn,Pn,this.canOverlap?Et.sortKey:void 0),dr=this.glyphOffsetArray.length,_r=Fr.vertexLength,wr=this.allowVerticalPlacement&&Ot===wp.vertical?Math.PI/2:0,vr=Et.text&&Et.text.sections;for(let Ir=0;Ir<it.length;Ir++){const{tl:Xr,tr:fo,bl:Jr,br:no,tex:ro,pixelOffsetTL:ao,pixelOffsetBR:go,minFontScaleX:jr,minFontScaleY:Ro,glyphOffset:Yo,isSDF:xo,sectionIndex:Lo}=it[Ir],Bo=Fr.vertexLength,qo=Yo[1];if(wU(Xn,Yt.x,Yt.y,Xr.x,qo+Xr.y,ro.x,ro.y,lt,xo,ao.x,ao.y,jr,Ro),wU(Xn,Yt.x,Yt.y,fo.x,qo+fo.y,ro.x+ro.w,ro.y,lt,xo,go.x,ao.y,jr,Ro),wU(Xn,Yt.x,Yt.y,Jr.x,qo+Jr.y,ro.x,ro.y+ro.h,lt,xo,ao.x,go.y,jr,Ro),wU(Xn,Yt.x,Yt.y,no.x,qo+no.y,ro.x+ro.w,ro.y+ro.h,lt,xo,go.x,go.y,jr,Ro),zt){const hs=zt.anchor,ms=zt.up;EU(fr,hs.x,hs.y,hs.z,ms[0],ms[1],ms[2]),EU(fr,hs.x,hs.y,hs.z,ms[0],ms[1],ms[2]),EU(fr,hs.x,hs.y,hs.z,ms[0],ms[1],ms[2]),EU(fr,hs.x,hs.y,hs.z,ms[0],ms[1],ms[2]),BU(tt.dynamicLayoutVertexArray,hs.x,hs.y,hs.z,wr)}else BU(tt.dynamicLayoutVertexArray,Yt.x,Yt.y,Yt.z,wr);Pn.emplaceBack(Bo,Bo+1,Bo+2),Pn.emplaceBack(Bo+1,Bo+2,Bo+3),Fr.vertexLength+=4,Fr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Yo[0]),Ir!==it.length-1&&Lo===it[Ir+1].sectionIndex||tt.programConfigurations.populatePaintArrays(Xn.length,Et,Et.index,{},An,kn,vr&&vr[Lo])}const Lr=zt?zt.anchor:Yt;tt.placedSymbolArray.emplaceBack(Lr.x,Lr.y,Lr.z,Yt.x,Yt.y,dr,this.glyphOffsetArray.length-dr,_r,an,yn,Yt.segment,lt?lt[0]:0,lt?lt[1]:0,dt[0],dt[1],Ot,0,!1,0,vn,0)}_commitLayoutVertex(tt,it,lt,dt,bt,Et,Ot){tt.emplaceBack(it,lt,dt,bt,Et,Math.round(Ot.x),Math.round(Ot.y))}_addCollisionDebugVertices(tt,it,lt,dt,bt,Et,Ot){const zt=lt.segments.prepareSegment(4,lt.layoutVertexArray,lt.indexArray),Yt=zt.vertexLength,an=Ot.tileAnchorX,yn=Ot.tileAnchorY;for(let An=0;An<4;An++)lt.collisionVertexArray.emplaceBack(0,0,0,0);lt.collisionVertexArrayExt.emplaceBack(it,-tt.padding,-tt.padding),lt.collisionVertexArrayExt.emplaceBack(it,tt.padding,-tt.padding),lt.collisionVertexArrayExt.emplaceBack(it,tt.padding,tt.padding),lt.collisionVertexArrayExt.emplaceBack(it,-tt.padding,tt.padding),this._commitLayoutVertex(lt.layoutVertexArray,dt,bt,Et,an,yn,new mt(tt.x1,tt.y1)),this._commitLayoutVertex(lt.layoutVertexArray,dt,bt,Et,an,yn,new mt(tt.x2,tt.y1)),this._commitLayoutVertex(lt.layoutVertexArray,dt,bt,Et,an,yn,new mt(tt.x2,tt.y2)),this._commitLayoutVertex(lt.layoutVertexArray,dt,bt,Et,an,yn,new mt(tt.x1,tt.y2)),zt.vertexLength+=4;const vn=lt.indexArray;vn.emplaceBack(Yt,Yt+1),vn.emplaceBack(Yt+1,Yt+2),vn.emplaceBack(Yt+2,Yt+3),vn.emplaceBack(Yt+3,Yt),zt.primitiveLength+=4}_addTextDebugCollisionBoxes(tt,it,lt,dt,bt,Et){for(let Ot=dt;Ot<bt;Ot++){const zt=lt.get(Ot),Yt=this.getSymbolInstanceTextSize(tt,Et,it,Ot);this._addCollisionDebugVertices(zt,Yt,this.textCollisionBox,zt.projectedAnchorX,zt.projectedAnchorY,zt.projectedAnchorZ,Et)}}_addIconDebugCollisionBoxes(tt,it,lt,dt,bt,Et){for(let Ot=dt;Ot<bt;Ot++){const zt=lt.get(Ot),Yt=this.getSymbolInstanceIconSize(tt,it,Et.placedIconSymbolIndex);this._addCollisionDebugVertices(zt,Yt,this.iconCollisionBox,zt.projectedAnchorX,zt.projectedAnchorY,zt.projectedAnchorZ,Et)}}generateCollisionDebugBuffers(tt,it){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new NF(Xs,M1.members,Ru),this.iconCollisionBox=new NF(Xs,M1.members,Ru);const lt=q0(this.iconSizeData,tt),dt=q0(this.textSizeData,tt);for(let bt=0;bt<this.symbolInstances.length;bt++){const Et=this.symbolInstances.get(bt);this._addTextDebugCollisionBoxes(dt,tt,it,Et.textBoxStartIndex,Et.textBoxEndIndex,Et),this._addTextDebugCollisionBoxes(dt,tt,it,Et.verticalTextBoxStartIndex,Et.verticalTextBoxEndIndex,Et),this._addIconDebugCollisionBoxes(lt,tt,it,Et.iconBoxStartIndex,Et.iconBoxEndIndex,Et),this._addIconDebugCollisionBoxes(lt,tt,it,Et.verticalIconBoxStartIndex,Et.verticalIconBoxEndIndex,Et)}}getSymbolInstanceTextSize(tt,it,lt,dt){const bt=this.text.placedSymbolArray.get(it.rightJustifiedTextSymbolIndex>=0?it.rightJustifiedTextSymbolIndex:it.centerJustifiedTextSymbolIndex>=0?it.centerJustifiedTextSymbolIndex:it.leftJustifiedTextSymbolIndex>=0?it.leftJustifiedTextSymbolIndex:it.verticalPlacedTextSymbolIndex>=0?it.verticalPlacedTextSymbolIndex:dt),Et=X0(this.textSizeData,tt,bt)/pu;return this.tilePixelRatio*Et}getSymbolInstanceIconSize(tt,it,lt){const dt=this.icon.placedSymbolArray.get(lt),bt=X0(this.iconSizeData,tt,dt);return this.tilePixelRatio*bt}_commitDebugCollisionVertexUpdate(tt,it,lt){tt.emplaceBack(it,-lt,-lt),tt.emplaceBack(it,lt,-lt),tt.emplaceBack(it,lt,lt),tt.emplaceBack(it,-lt,lt)}_updateTextDebugCollisionBoxes(tt,it,lt,dt,bt,Et){for(let Ot=dt;Ot<bt;Ot++){const zt=lt.get(Ot),Yt=this.getSymbolInstanceTextSize(tt,Et,it,Ot);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,Yt,zt.padding)}}_updateIconDebugCollisionBoxes(tt,it,lt,dt,bt,Et){for(let Ot=dt;Ot<bt;Ot++){const zt=lt.get(Ot),Yt=this.getSymbolInstanceIconSize(tt,it,Et);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,Yt,zt.padding)}}updateCollisionDebugBuffers(tt,it){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const lt=q0(this.iconSizeData,tt),dt=q0(this.textSizeData,tt);for(let bt=0;bt<this.symbolInstances.length;bt++){const Et=this.symbolInstances.get(bt);this._updateTextDebugCollisionBoxes(dt,tt,it,Et.textBoxStartIndex,Et.textBoxEndIndex,Et),this._updateTextDebugCollisionBoxes(dt,tt,it,Et.verticalTextBoxStartIndex,Et.verticalTextBoxEndIndex,Et),this._updateIconDebugCollisionBoxes(lt,tt,it,Et.iconBoxStartIndex,Et.iconBoxEndIndex,Et.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(lt,tt,it,Et.verticalIconBoxStartIndex,Et.verticalIconBoxEndIndex,Et.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(tt,it,lt,dt,bt,Et,Ot,zt,Yt){const an={};for(let yn=it;yn<lt;yn++){const vn=tt.get(yn);an.textBox={x1:vn.x1,y1:vn.y1,x2:vn.x2,y2:vn.y2,padding:vn.padding,projectedAnchorX:vn.projectedAnchorX,projectedAnchorY:vn.projectedAnchorY,projectedAnchorZ:vn.projectedAnchorZ,tileAnchorX:vn.tileAnchorX,tileAnchorY:vn.tileAnchorY},an.textFeatureIndex=vn.featureIndex;break}for(let yn=dt;yn<bt;yn++){const vn=tt.get(yn);an.verticalTextBox={x1:vn.x1,y1:vn.y1,x2:vn.x2,y2:vn.y2,padding:vn.padding,projectedAnchorX:vn.projectedAnchorX,projectedAnchorY:vn.projectedAnchorY,projectedAnchorZ:vn.projectedAnchorZ,tileAnchorX:vn.tileAnchorX,tileAnchorY:vn.tileAnchorY},an.verticalTextFeatureIndex=vn.featureIndex;break}for(let yn=Et;yn<Ot;yn++){const vn=tt.get(yn);an.iconBox={x1:vn.x1,y1:vn.y1,x2:vn.x2,y2:vn.y2,padding:vn.padding,projectedAnchorX:vn.projectedAnchorX,projectedAnchorY:vn.projectedAnchorY,projectedAnchorZ:vn.projectedAnchorZ,tileAnchorX:vn.tileAnchorX,tileAnchorY:vn.tileAnchorY},an.iconFeatureIndex=vn.featureIndex;break}for(let yn=zt;yn<Yt;yn++){const vn=tt.get(yn);an.verticalIconBox={x1:vn.x1,y1:vn.y1,x2:vn.x2,y2:vn.y2,padding:vn.padding,projectedAnchorX:vn.projectedAnchorX,projectedAnchorY:vn.projectedAnchorY,projectedAnchorZ:vn.projectedAnchorZ,tileAnchorX:vn.tileAnchorX,tileAnchorY:vn.tileAnchorY},an.verticalIconFeatureIndex=vn.featureIndex;break}return an}deserializeCollisionBoxes(tt){this.collisionArrays=[];for(let it=0;it<this.symbolInstances.length;it++){const lt=this.symbolInstances.get(it);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(tt,lt.textBoxStartIndex,lt.textBoxEndIndex,lt.verticalTextBoxStartIndex,lt.verticalTextBoxEndIndex,lt.iconBoxStartIndex,lt.iconBoxEndIndex,lt.verticalIconBoxStartIndex,lt.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(tt,it){const lt=tt.placedSymbolArray.get(it),dt=lt.vertexStartIndex+4*lt.numGlyphs;for(let bt=lt.vertexStartIndex;bt<dt;bt+=4)tt.indexArray.emplaceBack(bt,bt+1,bt+2),tt.indexArray.emplaceBack(bt+1,bt+2,bt+3)}getSortedSymbolIndexes(tt){if(this.sortedAngle===tt&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const it=Math.sin(tt),lt=Math.cos(tt),dt=[],bt=[],Et=[];for(let Ot=0;Ot<this.symbolInstances.length;++Ot){Et.push(Ot);const zt=this.symbolInstances.get(Ot);dt.push(0|Math.round(it*zt.tileAnchorX+lt*zt.tileAnchorY)),bt.push(zt.featureIndex)}return Et.sort((Ot,zt)=>dt[Ot]-dt[zt]||bt[zt]-bt[Ot]),Et}addToSortKeyRanges(tt,it){const lt=this.sortKeyRanges[this.sortKeyRanges.length-1];lt&&lt.sortKey===it?lt.symbolInstanceEnd=tt+1:this.sortKeyRanges.push({sortKey:it,symbolInstanceStart:tt,symbolInstanceEnd:tt+1})}sortFeatures(tt){if(this.sortFeaturesByY&&this.sortedAngle!==tt&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(tt),this.sortedAngle=tt,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const it of this.symbolInstanceIndexes){const lt=this.symbolInstances.get(it);this.featureSortOrder.push(lt.featureIndex),[lt.rightJustifiedTextSymbolIndex,lt.centerJustifiedTextSymbolIndex,lt.leftJustifiedTextSymbolIndex].forEach((dt,bt,Et)=>{dt>=0&&Et.indexOf(dt)===bt&&this.addIndicesForPlacedSymbol(this.text,dt)}),lt.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,lt.verticalPlacedTextSymbolIndex),lt.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,lt.placedIconSymbolIndex),lt.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,lt.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ko(Qy,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Qy.MAX_GLYPHS=65535,Qy.addDynamicAttributes=BU;const WR=new _o({"symbol-placement":new Vr(zr.layout_symbol["symbol-placement"]),"symbol-spacing":new Vr(zr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Vr(zr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Br(zr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Vr(zr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Vr(zr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Vr(zr.layout_symbol["icon-ignore-placement"]),"icon-optional":new Vr(zr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Vr(zr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Br(zr.layout_symbol["icon-size"]),"icon-text-fit":new Vr(zr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Vr(zr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Br(zr.layout_symbol["icon-image"]),"icon-rotate":new Br(zr.layout_symbol["icon-rotate"]),"icon-padding":new Vr(zr.layout_symbol["icon-padding"]),"icon-keep-upright":new Vr(zr.layout_symbol["icon-keep-upright"]),"icon-offset":new Br(zr.layout_symbol["icon-offset"]),"icon-anchor":new Br(zr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Vr(zr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Vr(zr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Vr(zr.layout_symbol["text-rotation-alignment"]),"text-field":new Br(zr.layout_symbol["text-field"]),"text-font":new Br(zr.layout_symbol["text-font"]),"text-size":new Br(zr.layout_symbol["text-size"]),"text-max-width":new Br(zr.layout_symbol["text-max-width"]),"text-line-height":new Br(zr.layout_symbol["text-line-height"]),"text-letter-spacing":new Br(zr.layout_symbol["text-letter-spacing"]),"text-justify":new Br(zr.layout_symbol["text-justify"]),"text-radial-offset":new Br(zr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Vr(zr.layout_symbol["text-variable-anchor"]),"text-anchor":new Br(zr.layout_symbol["text-anchor"]),"text-max-angle":new Vr(zr.layout_symbol["text-max-angle"]),"text-writing-mode":new Vr(zr.layout_symbol["text-writing-mode"]),"text-rotate":new Br(zr.layout_symbol["text-rotate"]),"text-padding":new Vr(zr.layout_symbol["text-padding"]),"text-keep-upright":new Vr(zr.layout_symbol["text-keep-upright"]),"text-transform":new Br(zr.layout_symbol["text-transform"]),"text-offset":new Br(zr.layout_symbol["text-offset"]),"text-allow-overlap":new Vr(zr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Vr(zr.layout_symbol["text-ignore-placement"]),"text-optional":new Vr(zr.layout_symbol["text-optional"])});var VF={paint:new _o({"icon-opacity":new Br(zr.paint_symbol["icon-opacity"]),"icon-color":new Br(zr.paint_symbol["icon-color"]),"icon-halo-color":new Br(zr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Br(zr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Br(zr.paint_symbol["icon-halo-blur"]),"icon-translate":new Vr(zr.paint_symbol["icon-translate"]),"icon-translate-anchor":new Vr(zr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Br(zr.paint_symbol["text-opacity"]),"text-color":new Br(zr.paint_symbol["text-color"],{runtimeType:Au,getOverride:rt=>rt.textColor,hasOverride:rt=>!!rt.textColor}),"text-halo-color":new Br(zr.paint_symbol["text-halo-color"]),"text-halo-width":new Br(zr.paint_symbol["text-halo-width"]),"text-halo-blur":new Br(zr.paint_symbol["text-halo-blur"]),"text-translate":new Vr(zr.paint_symbol["text-translate"]),"text-translate-anchor":new Vr(zr.paint_symbol["text-translate-anchor"])}),layout:WR};class gS{constructor(tt){this.type=tt.property.overrides?tt.property.overrides.runtimeType:cp,this.defaultValue=tt}evaluate(tt){if(tt.formattedSection){const it=this.defaultValue.property.overrides;if(it&&it.hasOverride(tt.formattedSection))return it.getOverride(tt.formattedSection)}return tt.feature&&tt.featureState?this.defaultValue.evaluate(tt.feature,tt.featureState):this.defaultValue.property.specification.default}eachChild(tt){this.defaultValue.isConstant()||tt(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ko(gS,"FormatSectionOverride",{omit:["defaultValue"]});class TU extends ep{constructor(tt){super(tt,VF)}recalculate(tt,it){super.recalculate(tt,it),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const lt=this.layout.get("text-writing-mode");if(lt){const dt=[];for(const bt of lt)dt.indexOf(bt)<0&&dt.push(bt);this.layout._values["text-writing-mode"]=dt}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(tt,it,lt,dt){const bt=this.layout.get(tt).evaluate(it,{},lt,dt),Et=this._unevaluatedLayout._values[tt];return Et.isDataDriven()||hy(Et.value)||!bt?bt:function(Ot,zt){return zt.replace(/{([^{}]+)}/g,(Yt,an)=>an in Ot?String(Ot[an]):"")}(it.properties,bt)}createBucket(tt){return new Qy(tt)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const tt of VF.paint.overridableProperties){if(!TU.hasPaintOverride(this.layout,tt))continue;const it=this.paint.get(tt),lt=new gS(it),dt=new pm(lt,it.property.specification);let bt=null;bt=it.value.kind==="constant"||it.value.kind==="source"?new Om("source",dt):new Iy("composite",dt,it.value.zoomStops,it.value._interpolationType),this.paint._values[tt]=new _i(it.property,bt,it.parameters)}}_handleOverridablePaintPropertyUpdate(tt,it,lt){return!(!this.layout||it.isDataDriven()||lt.isDataDriven())&&TU.hasPaintOverride(this.layout,tt)}static hasPaintOverride(tt,it){const lt=tt.get("text-field"),dt=VF.paint.properties[it];let bt=!1;const Et=Ot=>{for(const zt of Ot)if(dt.overrides&&dt.overrides.hasOverride(zt))return void(bt=!0)};if(lt.value.kind==="constant"&&lt.value.value instanceof Jt)Et(lt.value.value.sections);else if(lt.value.kind==="source"){const Ot=Yt=>{bt||(Yt instanceof lr&&qn(Yt.value)===Gu?Et(Yt.value.sections):Yt instanceof Uo?Et(Yt.sections):Yt.eachChild(Ot))},zt=lt.value;zt._styleExpression&&Ot(zt._styleExpression.expression)}return bt}getProgramConfiguration(tt){return new Zm(this,tt)}}var JR={paint:new _o({"background-color":new Vr(zr.paint_background["background-color"]),"background-pattern":new yo(zr.paint_background["background-pattern"]),"background-opacity":new Vr(zr.paint_background["background-opacity"])})},jR={paint:new _o({"raster-opacity":new Vr(zr.paint_raster["raster-opacity"]),"raster-hue-rotate":new Vr(zr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Vr(zr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Vr(zr.paint_raster["raster-brightness-max"]),"raster-saturation":new Vr(zr.paint_raster["raster-saturation"]),"raster-contrast":new Vr(zr.paint_raster["raster-contrast"]),"raster-resampling":new Vr(zr.paint_raster["raster-resampling"]),"raster-fade-duration":new Vr(zr.paint_raster["raster-fade-duration"])})};class vt extends ep{constructor(tt){super(tt,{}),this.implementation=tt}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(tt){this.implementation.onAdd&&this.implementation.onAdd(tt,tt.painter.context.gl)}onRemove(tt){this.implementation.onRemove&&this.implementation.onRemove(tt,tt.painter.context.gl)}}var At={paint:new _o({"sky-type":new Vr(zr.paint_sky["sky-type"]),"sky-atmosphere-sun":new Vr(zr.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Vr(zr.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Vr(zr.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Vr(zr.paint_sky["sky-gradient-radius"]),"sky-gradient":new bo(zr.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Vr(zr.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Vr(zr.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Vr(zr.paint_sky["sky-opacity"])})};function tn(rt,tt,it){const lt=[0,0,1],dt=l1([]);return u1(dt,dt,it?-Ft(rt)+Math.PI:Ft(rt)),c1(dt,dt,-Ft(tt)),r1(lt,lt,dt),Nu(lt,lt)}const Bn={circle:class extends ep{constructor(rt){super(rt,KF)}createBucket(rt){return new fu(rt)}queryRadius(rt){const tt=rt;return Uy("circle-radius",this,tt)+Uy("circle-stroke-width",this,tt)+jv(this.paint.get("circle-translate"))}queryIntersectsFeature(rt,tt,it,lt,dt,bt,Et,Ot){const zt=P0(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),bt.angle,rt.pixelToTileUnitsFactor),Yt=this.paint.get("circle-radius").evaluate(tt,it)+this.paint.get("circle-stroke-width").evaluate(tt,it);return d1(rt,lt,bt,Et,Ot,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",zt,Yt)}getProgramIds(){return["circle"]}getProgramConfiguration(rt){return new Zm(this,rt)}},heatmap:class extends ep{createBucket(rt){return new g1(rt)}constructor(rt){super(rt,TS),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(rt){rt==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=iF({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(rt){return Uy("heatmap-radius",this,rt)}queryIntersectsFeature(rt,tt,it,lt,dt,bt,Et,Ot){const zt=this.paint.get("heatmap-radius").evaluate(tt,it);return d1(rt,lt,bt,Et,Ot,!0,!0,new mt(0,0),zt)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(rt){return new Zm(this,rt)}},hillshade:class extends ep{constructor(rt){super(rt,QS)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ep{constructor(rt){super(rt,ZS)}getProgramIds(){const rt=this.paint.get("fill-pattern"),tt=rt&&rt.constantOr(1),it=[tt?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&it.push(tt&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),it}getProgramConfiguration(rt){return new Zm(this,rt)}recalculate(rt,tt){super.recalculate(rt,tt);const it=this.paint._values["fill-outline-color"];it.value.kind==="constant"&&it.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(rt){return new eU(rt)}queryRadius(){return jv(this.paint.get("fill-translate"))}queryIntersectsFeature(rt,tt,it,lt,dt,bt){return!rt.queryGeometry.isAboveHorizon&&$U(XF(rt.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),bt.angle,rt.pixelToTileUnitsFactor),lt)}isTileClipped(){return!0}},"fill-extrusion":class extends ep{constructor(rt){super(rt,nR)}createBucket(rt){return new e0(rt)}queryRadius(){return jv(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(rt){return new Zm(this,rt)}queryIntersectsFeature(rt,tt,it,lt,dt,bt,Et,Ot,zt){const Yt=P0(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),bt.angle,rt.pixelToTileUnitsFactor),an=this.paint.get("fill-extrusion-height").evaluate(tt,it),yn=this.paint.get("fill-extrusion-base").evaluate(tt,it),vn=[0,0],An=Ot&&bt.elevation,kn=bt.elevation?bt.elevation.exaggeration():1,Pn=rt.tile.getBucket(this);if(An&&Pn instanceof e0){const _r=Pn.centroidVertexArray,wr=zt+1;if(wr<_r.length){const vr=_r.get(wr);vn[0]=vr.a_centroid_pos0,vn[1]=vr.a_centroid_pos1}}if(vn[0]===0&&vn[1]===1)return!1;bt.projection.name==="globe"&&(lt=ev([lt],[new mt(0,0),new mt(Xo,Xo)],rt.tileID.canonical).map(_r=>_r.polygon).flat());const Xn=An?Ot:null,[fr,Fr]=function(_r,wr,vr,Lr,Ir,Xr,fo,Jr,no,ro,ao){return _r.projection.name==="globe"?function(go,jr,Ro,Yo,xo,Lo,Bo,qo,hs,ms,Ds){const cs=[],Bl=[],bs=go.projection.upVectorScale(Ds,go.center.lat,go.worldSize).metersToTile,Ts=[0,0,0,1],ga=[0,0,0,1],Sl=(Rl,Tl,Il,wu)=>{Rl[0]=Tl,Rl[1]=Il,Rl[2]=wu,Rl[3]=1},Ul=Q1();Ro>0&&(Ro+=Ul),Yo+=Ul;for(const Rl of jr){const Tl=[],Il=[];for(const wu of Rl){const qs=wu.x+xo.x,nu=wu.y+xo.y,eu=go.projection.projectTilePoint(qs,nu,Ds),Ws=go.projection.upVector(Ds,wu.x,wu.y);let Cl=Ro,au=Yo;if(Bo){const _a=C1(qs,nu,Ro,Yo,Bo,qo,hs,ms);Cl+=_a.base,au+=_a.top}Ro!==0?Sl(Ts,eu.x+Ws[0]*bs*Cl,eu.y+Ws[1]*bs*Cl,eu.z+Ws[2]*bs*Cl):Sl(Ts,eu.x,eu.y,eu.z),Sl(ga,eu.x+Ws[0]*bs*au,eu.y+Ws[1]*bs*au,eu.z+Ws[2]*bs*au),Zl(Ts,Ts,Lo),Zl(ga,ga,Lo),Tl.push(new Y0(Ts[0],Ts[1],Ts[2])),Il.push(new Y0(ga[0],ga[1],ga[2]))}cs.push(Tl),Bl.push(Il)}return[cs,Bl]}(_r,wr,vr,Lr,Ir,Xr,fo,Jr,no,ro,ao):fo?function(go,jr,Ro,Yo,xo,Lo,Bo,qo,hs){const ms=[],Ds=[],cs=[0,0,0,1];for(const Bl of go){const bs=[],Ts=[];for(const ga of Bl){const Sl=ga.x+Yo.x,Ul=ga.y+Yo.y,Rl=C1(Sl,Ul,jr,Ro,Lo,Bo,qo,hs);cs[0]=Sl,cs[1]=Ul,cs[2]=Rl.base,cs[3]=1,Sy(cs,cs,xo),cs[3]=Math.max(cs[3],1e-5);const Tl=new Y0(cs[0]/cs[3],cs[1]/cs[3],cs[2]/cs[3]);cs[0]=Sl,cs[1]=Ul,cs[2]=Rl.top,cs[3]=1,Sy(cs,cs,xo),cs[3]=Math.max(cs[3],1e-5);const Il=new Y0(cs[0]/cs[3],cs[1]/cs[3],cs[2]/cs[3]);bs.push(Tl),Ts.push(Il)}ms.push(bs),Ds.push(Ts)}return[ms,Ds]}(wr,vr,Lr,Ir,Xr,fo,Jr,no,ro):function(go,jr,Ro,Yo,xo){const Lo=[],Bo=[],qo=xo[8]*jr,hs=xo[9]*jr,ms=xo[10]*jr,Ds=xo[11]*jr,cs=xo[8]*Ro,Bl=xo[9]*Ro,bs=xo[10]*Ro,Ts=xo[11]*Ro;for(const ga of go){const Sl=[],Ul=[];for(const Rl of ga){const Tl=Rl.x+Yo.x,Il=Rl.y+Yo.y,wu=xo[0]*Tl+xo[4]*Il+xo[12],qs=xo[1]*Tl+xo[5]*Il+xo[13],nu=xo[2]*Tl+xo[6]*Il+xo[14],eu=xo[3]*Tl+xo[7]*Il+xo[15],Ws=wu+qo,Cl=qs+hs,au=nu+ms,_a=Math.max(eu+Ds,1e-5),$l=wu+cs,zu=qs+Bl,Eu=nu+bs,Bu=Math.max(eu+Ts,1e-5);Sl.push(new Y0(Ws/_a,Cl/_a,au/_a)),Ul.push(new Y0($l/Bu,zu/Bu,Eu/Bu))}Lo.push(Sl),Bo.push(Ul)}return[Lo,Bo]}(wr,vr,Lr,Ir,Xr)}(bt,lt,yn,an,Yt,Et,Xn,vn,kn,bt.center.lat,rt.tileID.canonical),dr=rt.queryGeometry;return function(_r,wr,vr){let Lr=1/0;$U(vr,wr)&&(Lr=A1(vr,wr[0]));for(let Ir=0;Ir<wr.length;Ir++){const Xr=wr[Ir],fo=_r[Ir];for(let Jr=0;Jr<Xr.length-1;Jr++){const no=Xr[Jr],ro=[no,Xr[Jr+1],fo[Jr+1],fo[Jr],no];$F(vr,ro)&&(Lr=Math.min(Lr,A1(vr,ro)))}}return Lr!==1/0&&Lr}(fr,Fr,dr.isPointQuery()?dr.screenBounds:dr.screenGeometry)}},line:class extends ep{constructor(rt){super(rt,k1),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(rt){if(rt==="line-gradient"){const tt=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=tt._styleExpression&&tt._styleExpression.expression instanceof Vm,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(rt,tt){super.recalculate(rt,tt),this.paint._values["line-floorwidth"]=Ry.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,rt)}createBucket(rt){return new ip(rt)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(rt){return new Zm(this,rt)}queryRadius(rt){const tt=rt,it=ws(Uy("line-width",this,tt),Uy("line-gap-width",this,tt)),lt=Uy("line-offset",this,tt);return it/2+Math.abs(lt)+jv(this.paint.get("line-translate"))}queryIntersectsFeature(rt,tt,it,lt,dt,bt){if(rt.queryGeometry.isAboveHorizon)return!1;const Et=XF(rt.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),bt.angle,rt.pixelToTileUnitsFactor),Ot=rt.pixelToTileUnitsFactor/2*ws(this.paint.get("line-width").evaluate(tt,it),this.paint.get("line-gap-width").evaluate(tt,it)),zt=this.paint.get("line-offset").evaluate(tt,it);return zt&&(lt=function(Yt,an){const yn=[],vn=new mt(0,0);for(let An=0;An<Yt.length;An++){const kn=Yt[An],Pn=[];for(let Xn=0;Xn<kn.length;Xn++){const fr=kn[Xn-1],Fr=kn[Xn],dr=kn[Xn+1],_r=Xn===0?vn:Fr.sub(fr)._unit()._perp(),wr=Xn===kn.length-1?vn:dr.sub(Fr)._unit()._perp(),vr=_r._add(wr)._unit();vr._mult(1/(vr.x*wr.x+vr.y*wr.y)),Pn.push(vr._mult(an)._add(Fr))}yn.push(Pn)}return yn}(lt,zt*rt.pixelToTileUnitsFactor)),function(Yt,an,yn){for(let vn=0;vn<an.length;vn++){const An=an[vn];if(Yt.length>=3){for(let kn=0;kn<An.length;kn++)if(Kl(Yt,An[kn]))return!0}if(US(Yt,An,yn))return!0}return!1}(Et,lt,Ot)}isTileClipped(){return!0}},symbol:TU,background:class extends ep{constructor(rt){super(rt,JR)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ep{constructor(rt){super(rt,jR)}getProgramIds(){return["raster"]}},sky:class extends ep{constructor(rt){super(rt,At),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(rt){rt==="sky-gradient"?this._updateColorRamp():rt!=="sky-atmosphere-sun"&&rt!=="sky-atmosphere-halo-color"&&rt!=="sky-atmosphere-color"&&rt!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=iF({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(rt){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const tt=rt.style.light.properties.get("position");return this._lightPosition.azimuthal!==tt.azimuthal||this._lightPosition.polar!==tt.polar}return!1}getCenter(rt,tt){if(this.paint.get("sky-type")==="atmosphere"){const lt=this.paint.get("sky-atmosphere-sun"),dt=!lt,bt=rt.style.light,Et=bt.properties.get("position");return dt&&bt.properties.get("anchor")==="viewport"&&mn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),dt?tn(Et.azimuthal,90-Et.polar,tt):tn(lt[0],90-lt[1],tt)}const it=this.paint.get("sky-gradient-center");return tn(it[0],90-it[1],tt)}is3D(){return!1}isSky(){return!0}markSkyboxValid(rt){this._skyboxInvalidated=!1,this._lightPosition=rt.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const rt=this.paint.get("sky-type");return rt==="atmosphere"?["skyboxCapture","skybox"]:rt==="gradient"?["skyboxGradient"]:null}}};class Ln{constructor(tt,it,lt,dt){this.context=tt,this.format=lt,this.texture=tt.gl.createTexture(),this.update(it,dt)}update(tt,it,lt){const{width:dt,height:bt}=tt,{context:Et}=this,{gl:Ot}=Et,{HTMLImageElement:zt,HTMLCanvasElement:Yt,HTMLVideoElement:an,ImageData:yn,ImageBitmap:vn}=nt;if(Ot.bindTexture(Ot.TEXTURE_2D,this.texture),Et.pixelStoreUnpackFlipY.set(!1),Et.pixelStoreUnpack.set(1),Et.pixelStoreUnpackPremultiplyAlpha.set(this.format===Ot.RGBA&&(!it||it.premultiply!==!1)),lt||this.size&&this.size[0]===dt&&this.size[1]===bt){const{x:An,y:kn}=lt||{x:0,y:0};tt instanceof zt||tt instanceof Yt||tt instanceof an||tt instanceof yn||vn&&tt instanceof vn?Ot.texSubImage2D(Ot.TEXTURE_2D,0,An,kn,Ot.RGBA,Ot.UNSIGNED_BYTE,tt):Ot.texSubImage2D(Ot.TEXTURE_2D,0,An,kn,dt,bt,Ot.RGBA,Ot.UNSIGNED_BYTE,tt.data)}else this.size=[dt,bt],tt instanceof zt||tt instanceof Yt||tt instanceof an||tt instanceof yn||vn&&tt instanceof vn?Ot.texImage2D(Ot.TEXTURE_2D,0,this.format,this.format,Ot.UNSIGNED_BYTE,tt):Ot.texImage2D(Ot.TEXTURE_2D,0,this.format,dt,bt,0,this.format,Ot.UNSIGNED_BYTE,tt.data);this.useMipmap=Boolean(it&&it.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&Ot.generateMipmap(Ot.TEXTURE_2D)}bind(tt,it){const{context:lt}=this,{gl:dt}=lt;dt.bindTexture(dt.TEXTURE_2D,this.texture),tt!==this.filter&&(dt.texParameteri(dt.TEXTURE_2D,dt.TEXTURE_MAG_FILTER,tt),dt.texParameteri(dt.TEXTURE_2D,dt.TEXTURE_MIN_FILTER,this.useMipmap?tt===dt.NEAREST?dt.NEAREST_MIPMAP_NEAREST:dt.LINEAR_MIPMAP_NEAREST:tt),this.filter=tt),it!==this.wrap&&(dt.texParameteri(dt.TEXTURE_2D,dt.TEXTURE_WRAP_S,it),dt.texParameteri(dt.TEXTURE_2D,dt.TEXTURE_WRAP_T,it),this.wrap=it)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:tt}=this.context;tt.deleteTexture(this.texture),this.texture=null}}class sr{constructor(tt){this._callback=tt,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class Ur{constructor(){this.tasks={},this.taskQueue=[],fn(["process"],this),this.invoker=new sr(this.process),this.nextId=0}add(tt,it){const lt=this.nextId++,dt=function({type:bt,isSymbolTile:Et,zoom:Ot}){return Ot=Ot||0,bt==="message"?0:bt!=="maybePrepare"||Et?bt!=="parseTile"||Et?bt==="parseTile"&&Et?300-Ot:bt==="maybePrepare"&&Et?400-Ot:500:200-Ot:100-Ot}(it);if(dt===0){nr();try{tt()}finally{}return{cancel:()=>{}}}return this.tasks[lt]={fn:tt,metadata:it,priority:dt,id:lt},this.taskQueue.push(lt),this.invoker.trigger(),{cancel:()=>{delete this.tasks[lt]}}}process(){nr();try{if(this.taskQueue=this.taskQueue.filter(lt=>!!this.tasks[lt]),!this.taskQueue.length)return;const tt=this.pick();if(tt===null)return;const it=this.tasks[tt];if(delete this.tasks[tt],this.taskQueue.length&&this.invoker.trigger(),!it)return;it.fn()}finally{}}pick(){let tt=null,it=1/0;for(let dt=0;dt<this.taskQueue.length;dt++){const bt=this.tasks[this.taskQueue[dt]];bt.priority<it&&(it=bt.priority,tt=dt)}if(tt===null)return null;const lt=this.taskQueue[tt];return this.taskQueue.splice(tt,1),lt}remove(){this.invoker.remove()}}class Tr{constructor(tt){this._stringToNumber={},this._numberToString=[];for(let it=0;it<tt.length;it++){const lt=tt[it];this._stringToNumber[lt]=it,this._numberToString[it]=lt}}encode(tt){return this._stringToNumber[tt]}decode(tt){return this._numberToString[tt]}}const Or=["tile","layer","source","sourceLayer","state"];class uo{constructor(tt,it,lt,dt,bt){this.type="Feature",this._vectorTileFeature=tt,this._z=it,this._x=lt,this._y=dt,this.properties=tt.properties,this.id=bt}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(tt){this._geometry=tt}toJSON(){const tt={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(tt.id=this.id);for(const it of Or)this[it]!==void 0&&(tt[it]=this[it]);return tt}}const so=32,po=33,No=new Uint16Array(8184);for(let rt=0;rt<2046;rt++){let tt=rt+2,it=0,lt=0,dt=0,bt=0,Et=0,Ot=0;for(1&tt?dt=bt=Et=so:it=lt=Ot=so;(tt>>=1)>1;){const Yt=it+dt>>1,an=lt+bt>>1;1&tt?(dt=it,bt=lt,it=Et,lt=Ot):(it=dt,lt=bt,dt=Et,bt=Ot),Et=Yt,Ot=an}const zt=4*rt;No[zt+0]=it,No[zt+1]=lt,No[zt+2]=dt,No[zt+3]=bt}const jo=new Uint16Array(2178),ts=new Uint8Array(1089),Es=new Uint16Array(1089);function ps(rt){return rt===0?-.03125:rt===32?.03125:0}var Vs=vo([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Ls={type:2,extent:Xo,loadGeometry:()=>[[new mt(0,0),new mt(8193,0),new mt(8193,8193),new mt(0,8193),new mt(0,0)]]};class Ju{constructor(tt,it,lt,dt,bt){this.tileID=tt,this.uid=nn(),this.uses=0,this.tileSize=it,this.tileZoom=lt,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=bt,this.expiredRequestCount=0,this.state="loading",dt&&dt.transform&&(this.projection=dt.transform.projection)}registerFadeDuration(tt){const it=tt+this.timeAdded;it<as.now()||this.fadeEndTime&&it<this.fadeEndTime||(this.fadeEndTime=it)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=i0(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(tt,it,lt){if(this.unloadVectorData(),this.state="loaded",tt){tt.featureIndex&&(this.latestFeatureIndex=tt.featureIndex,tt.rawTileData?(this.latestRawTileData=tt.rawTileData,this.latestFeatureIndex.rawTileData=tt.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=tt.collisionBoxArray,this.buckets=function(dt,bt){const Et={};if(!bt)return Et;for(const Ot of dt){const zt=Ot.layerIds.map(Yt=>bt.getLayer(Yt)).filter(Boolean);if(zt.length!==0){Ot.layers=zt,Ot.stateDependentLayerIds&&(Ot.stateDependentLayers=Ot.stateDependentLayerIds.map(Yt=>zt.filter(an=>an.id===Yt)[0]));for(const Yt of zt)Et[Yt.id]=Ot}}return Et}(tt.buckets,it.style),this.hasSymbolBuckets=!1;for(const dt in this.buckets){const bt=this.buckets[dt];if(bt instanceof Qy){if(this.hasSymbolBuckets=!0,!lt)break;bt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const dt in this.buckets){const bt=this.buckets[dt];if(bt instanceof Qy&&bt.hasRTLText){this.hasRTLText=!0,br.isLoading()||br.isLoaded()||tr()!=="deferred"||yr();break}}this.queryPadding=0;for(const dt in this.buckets){const bt=this.buckets[dt];this.queryPadding=Math.max(this.queryPadding,it.style.getLayer(dt).queryRadius(bt))}tt.imageAtlas&&(this.imageAtlas=tt.imageAtlas),tt.glyphAtlasImage&&(this.glyphAtlasImage=tt.glyphAtlasImage),tt.lineAtlas&&(this.lineAtlas=tt.lineAtlas)}else this.collisionBoxArray=new N0}unloadVectorData(){if(this.hasData()){for(const tt in this.buckets)this.buckets[tt].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(tt){return this.buckets[tt.id]}upload(tt){for(const lt in this.buckets){const dt=this.buckets[lt];dt.uploadPending()&&dt.upload(tt)}const it=tt.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ln(tt,this.imageAtlas.image,it.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ln(tt,this.glyphAtlasImage,it.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Ln(tt,this.lineAtlas.image,it.ALPHA),this.lineAtlas.uploaded=!0)}prepare(tt){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(tt,this.imageAtlasTexture)}queryRenderedFeatures(tt,it,lt,dt,bt,Et,Ot,zt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:dt,pixelPosMatrix:Ot,transform:Et,params:bt,tileTransform:this.tileTransform},tt,it,lt):{}}querySourceFeatures(tt,it){const lt=this.latestFeatureIndex;if(!lt||!lt.rawTileData)return;const dt=lt.loadVTLayers(),bt=it?it.sourceLayer:"",Et=dt._geojsonTileLayer||dt[bt];if(!Et)return;const Ot=E0(it&&it.filter),{z:zt,x:Yt,y:an}=this.tileID.canonical,yn={z:zt,x:Yt,y:an};for(let vn=0;vn<Et.length;vn++){const An=Et.feature(vn);if(Ot.needGeometry){const Xn=Yy(An,!0);if(!Ot.filter(new ur(this.tileID.overscaledZ),Xn,this.tileID.canonical))continue}else if(!Ot.filter(new ur(this.tileID.overscaledZ),An))continue;const kn=lt.getId(An,bt),Pn=new uo(An,zt,Yt,an,kn);Pn.tile=yn,tt.push(Pn)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(tt){const it=this.expirationTime;if(tt.cacheControl){const lt=Nr(tt.cacheControl);lt["max-age"]&&(this.expirationTime=Date.now()+1e3*lt["max-age"])}else tt.expires&&(this.expirationTime=new Date(tt.expires).getTime());if(this.expirationTime){const lt=Date.now();let dt=!1;if(this.expirationTime>lt)dt=!1;else if(it)if(this.expirationTime<it)dt=!0;else{const bt=this.expirationTime-it;bt?this.expirationTime=lt+Math.max(bt,3e4):dt=!0}else dt=!0;dt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(tt,it){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(tt).length===0||!it)return;const lt=this.latestFeatureIndex.loadVTLayers(),dt=it.style.listImages();for(const bt in this.buckets){if(!it.style.hasLayer(bt))continue;const Et=this.buckets[bt],Ot=Et.layers[0].sourceLayer||"_geojsonTileLayer",zt=lt[Ot],Yt=tt[Ot];if(!zt||!Yt||Object.keys(Yt).length===0)continue;if(Et.update(Yt,zt,dt,this.imageAtlas&&this.imageAtlas.patternPositions||{}),Et instanceof ip||Et instanceof eU){const yn=it.style._getSourceCache(Et.layers[0].source);it._terrain&&it._terrain.enabled&&yn&&Et.programConfigurations.needsUpload&&it._terrain._clearRenderCacheForTile(yn.id,this.tileID)}const an=it&&it.style&&it.style.getLayer(bt);an&&(this.queryPadding=Math.max(this.queryPadding,an.queryRadius(Et)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<as.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(tt){this.symbolFadeHoldUntil=as.now()+tt}setTexture(tt,it){const lt=it.context,dt=lt.gl;this.texture=this.texture||it.getTileTexture(tt.width),this.texture?this.texture.update(tt,{useMipmap:!0}):(this.texture=new Ln(lt,tt,dt.RGBA,{useMipmap:!0}),this.texture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE),lt.extTextureFilterAnisotropic&&dt.texParameterf(dt.TEXTURE_2D,lt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,lt.extTextureFilterAnisotropicMax))}setDependencies(tt,it){const lt={};for(const dt of it)lt[dt]=!0;this.dependencies[tt]=lt}hasDependency(tt,it){for(const lt of tt){const dt=this.dependencies[lt];if(dt){for(const bt of it)if(dt[bt])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(tt,it){if(!it||it.name==="mercator"||this._tileDebugBuffer)return;const lt=Lu(Ls,this.tileID.canonical,this.tileTransform)[0],dt=new gs,bt=new M0;for(let Et=0;Et<lt.length;Et++){const{x:Ot,y:zt}=lt[Et];dt.emplaceBack(Ot,zt),bt.emplaceBack(Et)}bt.emplaceBack(0),this._tileDebugIndexBuffer=tt.createIndexBuffer(bt),this._tileDebugBuffer=tt.createVertexBuffer(dt,iv.members),this._tileDebugSegments=zl.simpleSegment(0,0,dt.length,bt.length)}_makeTileBoundsBuffers(tt,it){if(this._tileBoundsBuffer||!it||it.name==="mercator")return;const lt=Lu(Ls,this.tileID.canonical,this.tileTransform)[0];let dt,bt;if(this.isRaster){const Et=function(Ot,zt){const Yt=i0(Ot,zt),an=Math.pow(2,Ot.z);for(let Xn=0;Xn<po;Xn++)for(let fr=0;fr<po;fr++){const Fr=Fp((Ot.x+(fr+ps(fr))/so)/an),dr=ou((Ot.y+(Xn+ps(Xn))/so)/an),_r=zt.project(Fr,dr),wr=Xn*po+fr;jo[2*wr+0]=Math.round((_r.x*Yt.scale-Yt.x)*Xo),jo[2*wr+1]=Math.round((_r.y*Yt.scale-Yt.y)*Xo)}ts.fill(0),Es.fill(0);for(let Xn=2045;Xn>=0;Xn--){const fr=4*Xn,Fr=No[fr+0],dr=No[fr+1],_r=No[fr+2],wr=No[fr+3],vr=Fr+_r>>1,Lr=dr+wr>>1,Ir=vr+Lr-dr,Xr=Lr+Fr-vr,fo=dr*po+Fr,Jr=wr*po+_r,no=Lr*po+vr,ro=Math.hypot((jo[2*fo+0]+jo[2*Jr+0])/2-jo[2*no+0],(jo[2*fo+1]+jo[2*Jr+1])/2-jo[2*no+1])>=16;if(ts[no]=ts[no]||(ro?1:0),Xn<1022){const ao=(dr+Xr>>1)*po+(Fr+Ir>>1),go=(wr+Xr>>1)*po+(_r+Ir>>1);ts[no]=ts[no]||ts[ao]||ts[go]}}const yn=new Gs,vn=new iu;let An=0;function kn(Xn,fr){const Fr=fr*po+Xn;return Es[Fr]===0&&(yn.emplaceBack(jo[2*Fr+0],jo[2*Fr+1],Xn*Xo/so,fr*Xo/so),Es[Fr]=++An),Es[Fr]-1}function Pn(Xn,fr,Fr,dr,_r,wr){const vr=Xn+Fr>>1,Lr=fr+dr>>1;if(Math.abs(Xn-_r)+Math.abs(fr-wr)>1&&ts[Lr*po+vr])Pn(_r,wr,Xn,fr,vr,Lr),Pn(Fr,dr,_r,wr,vr,Lr);else{const Ir=kn(Xn,fr),Xr=kn(Fr,dr),fo=kn(_r,wr);vn.emplaceBack(Ir,Xr,fo)}}return Pn(0,0,so,so,so,0),Pn(so,so,0,0,0,so),{vertices:yn,indices:vn}}(this.tileID.canonical,it);dt=Et.vertices,bt=Et.indices}else{dt=new Gs,bt=new iu;for(const{x:Ot,y:zt}of lt)dt.emplaceBack(Ot,zt,0,0);const Et=H_.exports(dt.int16,void 0,4);for(let Ot=0;Ot<Et.length;Ot+=3)bt.emplaceBack(Et[Ot],Et[Ot+1],Et[Ot+2])}this._tileBoundsBuffer=tt.createVertexBuffer(dt,Vs.members),this._tileBoundsIndexBuffer=tt.createIndexBuffer(bt),this._tileBoundsSegments=zl.simpleSegment(0,0,dt.length,bt.length)}_makeGlobeTileDebugBuffers(tt,it){const lt=it.projection;if(!lt||lt.name!=="globe"||it.freezeTileCoverage)return;const dt=this.tileID.canonical,bt=sv(oS(dt,it)),Et=c_(it.zoom);let Ot;Et>0&&(Ot=Zv(new Float64Array(16),it.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(tt,dt,it,bt,Ot,Et),this._makeGlobeTileDebugTextBuffer(tt,dt,it,bt,Ot,Et)}_globePoint(tt,it,lt,dt,bt,Et,Ot){let zt=l_(tt,it,lt);if(Et){const Yt=1<<lt.z,an=du(dt.center.lng),yn=rm(dt.center.lat),vn=(lt.x+.5)/Yt-an;let An=0;vn>.5?An=-1:vn<-.5&&(An=1);let kn=(tt/Xo+lt.x)/Yt+An,Pn=(it/Xo+lt.y)/Yt;kn=(kn-an)*dt._pixelsPerMercatorPixel+an,Pn=(Pn-yn)*dt._pixelsPerMercatorPixel+yn;const Xn=[kn*dt.worldSize,Pn*dt.worldSize,0];Zl(Xn,Xn,Et),zt=n0(zt,Xn,Ot)}return Zl(zt,zt,bt)}_makeGlobeTileDebugBorderBuffer(tt,it,lt,dt,bt,Et){const Ot=new gs,zt=new M0,Yt=new js,an=(vn,An,kn,Pn,Xn)=>{const fr=(kn-vn)/(Xn-1),Fr=(Pn-An)/(Xn-1),dr=Ot.length;for(let _r=0;_r<Xn;_r++){const wr=vn+_r*fr,vr=An+_r*Fr;Ot.emplaceBack(wr,vr);const Lr=this._globePoint(wr,vr,it,lt,dt,bt,Et);Yt.emplaceBack(Lr[0],Lr[1],Lr[2]),zt.emplaceBack(dr+_r)}},yn=Xo;an(0,0,yn,0,16),an(yn,0,yn,yn,16),an(yn,yn,0,yn,16),an(0,yn,0,0,16),this._tileDebugIndexBuffer=tt.createIndexBuffer(zt),this._tileDebugBuffer=tt.createVertexBuffer(Ot,iv.members),this._globeTileDebugBorderBuffer=tt.createVertexBuffer(Yt,rS.members),this._tileDebugSegments=zl.simpleSegment(0,0,Ot.length,zt.length)}_makeGlobeTileDebugTextBuffer(tt,it,lt,dt,bt,Et){const Ot=new gs,zt=new iu,Yt=new js,an=25;zt.reserve(32),Ot.reserve(an),Yt.reserve(an);const yn=(vn,An)=>an*vn+An;for(let vn=0;vn<an;vn++){const An=2048*vn;for(let kn=0;kn<an;kn++){const Pn=2048*kn;Ot.emplaceBack(Pn,An);const Xn=this._globePoint(Pn,An,it,lt,dt,bt,Et);Yt.emplaceBack(Xn[0],Xn[1],Xn[2])}}for(let vn=0;vn<4;vn++)for(let An=0;An<4;An++){const kn=yn(vn,An),Pn=yn(vn,An+1),Xn=yn(vn+1,An),fr=yn(vn+1,An+1);zt.emplaceBack(kn,Pn,Xn),zt.emplaceBack(Xn,Pn,fr)}this._tileDebugTextIndexBuffer=tt.createIndexBuffer(zt),this._tileDebugTextBuffer=tt.createVertexBuffer(Ot,iv.members),this._globeTileDebugTextBuffer=tt.createVertexBuffer(Yt,rS.members),this._tileDebugTextSegments=zl.simpleSegment(0,0,an,32)}}class ju{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(tt,it,lt){const dt=String(it);if(this.stateChanges[tt]=this.stateChanges[tt]||{},this.stateChanges[tt][dt]=this.stateChanges[tt][dt]||{},Rt(this.stateChanges[tt][dt],lt),this.deletedStates[tt]===null){this.deletedStates[tt]={};for(const bt in this.state[tt])bt!==dt&&(this.deletedStates[tt][bt]=null)}else if(this.deletedStates[tt]&&this.deletedStates[tt][dt]===null){this.deletedStates[tt][dt]={};for(const bt in this.state[tt][dt])lt[bt]||(this.deletedStates[tt][dt][bt]=null)}else for(const bt in lt)this.deletedStates[tt]&&this.deletedStates[tt][dt]&&this.deletedStates[tt][dt][bt]===null&&delete this.deletedStates[tt][dt][bt]}removeFeatureState(tt,it,lt){if(this.deletedStates[tt]===null)return;const dt=String(it);if(this.deletedStates[tt]=this.deletedStates[tt]||{},lt&&it!==void 0)this.deletedStates[tt][dt]!==null&&(this.deletedStates[tt][dt]=this.deletedStates[tt][dt]||{},this.deletedStates[tt][dt][lt]=null);else if(it!==void 0)if(this.stateChanges[tt]&&this.stateChanges[tt][dt])for(lt in this.deletedStates[tt][dt]={},this.stateChanges[tt][dt])this.deletedStates[tt][dt][lt]=null;else this.deletedStates[tt][dt]=null;else this.deletedStates[tt]=null}getState(tt,it){const lt=String(it),dt=Rt({},(this.state[tt]||{})[lt],(this.stateChanges[tt]||{})[lt]);if(this.deletedStates[tt]===null)return{};if(this.deletedStates[tt]){const bt=this.deletedStates[tt][it];if(bt===null)return{};for(const Et in bt)delete dt[Et]}return dt}initializeTileState(tt,it){tt.setFeatureState(this.state,it)}coalesceChanges(tt,it){const lt={};for(const dt in this.stateChanges){this.state[dt]=this.state[dt]||{};const bt={};for(const Et in this.stateChanges[dt])this.state[dt][Et]||(this.state[dt][Et]={}),Rt(this.state[dt][Et],this.stateChanges[dt][Et]),bt[Et]=this.state[dt][Et];lt[dt]=bt}for(const dt in this.deletedStates){this.state[dt]=this.state[dt]||{};const bt={};if(this.deletedStates[dt]===null)for(const Et in this.state[dt])bt[Et]={},this.state[dt][Et]={};else for(const Et in this.deletedStates[dt]){if(this.deletedStates[dt][Et]===null)this.state[dt][Et]={};else for(const Ot of Object.keys(this.deletedStates[dt][Et]))delete this.state[dt][Et][Ot];bt[Et]=this.state[dt][Et]}lt[dt]=lt[dt]||{},Rt(lt[dt],bt)}if(this.stateChanges={},this.deletedStates={},Object.keys(lt).length!==0)for(const dt in tt)tt[dt].setFeatureState(lt,it)}}class ap{constructor(tt){this.size=tt,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(tt,it){const lt=this.toIdx(tt,it);return{min:this.minimums[lt],max:this.maximums[lt]}}isLeaf(tt,it){return this.leaves[this.toIdx(tt,it)]}toIdx(tt,it){return it*this.size+tt}}function Hl(rt,tt,it,lt){let dt=0,bt=Number.MAX_VALUE;for(let Et=0;Et<3;Et++)if(Math.abs(lt[Et])<1e-15){if(it[Et]<rt[Et]||it[Et]>tt[Et])return null}else{const Ot=1/lt[Et];let zt=(rt[Et]-it[Et])*Ot,Yt=(tt[Et]-it[Et])*Ot;if(zt>Yt){const an=zt;zt=Yt,Yt=an}if(zt>dt&&(dt=zt),Yt<bt&&(bt=Yt),dt>bt)return null}return dt}function Wp(rt,tt,it,lt,dt,bt,Et,Ot,zt,Yt,an){const yn=lt-rt,vn=dt-tt,An=bt-it,kn=Et-rt,Pn=Ot-tt,Xn=zt-it,fr=an[1]*Xn-an[2]*Pn,Fr=an[2]*kn-an[0]*Xn,dr=an[0]*Pn-an[1]*kn,_r=yn*fr+vn*Fr+An*dr;if(Math.abs(_r)<1e-15)return null;const wr=1/_r,vr=Yt[0]-rt,Lr=Yt[1]-tt,Ir=Yt[2]-it,Xr=(vr*fr+Lr*Fr+Ir*dr)*wr;if(Xr<0||Xr>1)return null;const fo=Lr*An-Ir*vn,Jr=Ir*yn-vr*An,no=vr*vn-Lr*yn,ro=(an[0]*fo+an[1]*Jr+an[2]*no)*wr;return ro<0||Xr+ro>1?null:(kn*fo+Pn*Jr+Xn*no)*wr}function km(rt,tt,it){return(rt-tt)/(it-tt)}function DF(rt,tt,it,lt,dt,bt,Et,Ot,zt){const Yt=1<<it,an=bt-lt,yn=Et-dt,vn=(rt+1)/Yt*an+lt,An=(tt+0)/Yt*yn+dt,kn=(tt+1)/Yt*yn+dt;Ot[0]=(rt+0)/Yt*an+lt,Ot[1]=An,zt[0]=vn,zt[1]=kn}class nw{constructor(tt){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=tt,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const it=function(bt){const Et=Math.ceil(Math.log2(bt.dim/8)),Ot=[];let zt=Math.ceil(Math.pow(2,Et));const Yt=1/zt,an=(An,kn,Pn,Xn,fr)=>{const Fr=Xn?1:0,dr=(An+1)*Pn-Fr,_r=kn*Pn,wr=(kn+1)*Pn-Fr;fr[0]=An*Pn,fr[1]=_r,fr[2]=dr,fr[3]=wr};let yn=new ap(zt);const vn=[];for(let An=0;An<zt*zt;An++){an(An%zt,Math.floor(An/zt),Yt,!1,vn);const kn=h_(vn[0],vn[1],bt),Pn=h_(vn[2],vn[1],bt),Xn=h_(vn[2],vn[3],bt),fr=h_(vn[0],vn[3],bt);yn.minimums.push(Math.min(kn,Pn,Xn,fr)),yn.maximums.push(Math.max(kn,Pn,Xn,fr)),yn.leaves.push(1)}for(Ot.push(yn),zt/=2;zt>=1;zt/=2){const An=Ot[Ot.length-1];yn=new ap(zt);for(let kn=0;kn<zt*zt;kn++){an(kn%zt,Math.floor(kn/zt),2,!0,vn);const Pn=An.getElevation(vn[0],vn[1]),Xn=An.getElevation(vn[2],vn[1]),fr=An.getElevation(vn[2],vn[3]),Fr=An.getElevation(vn[0],vn[3]),dr=An.isLeaf(vn[0],vn[1]),_r=An.isLeaf(vn[2],vn[1]),wr=An.isLeaf(vn[2],vn[3]),vr=An.isLeaf(vn[0],vn[3]),Lr=Math.min(Pn.min,Xn.min,fr.min,Fr.min),Ir=Math.max(Pn.max,Xn.max,fr.max,Fr.max),Xr=dr&&_r&&wr&&vr;yn.maximums.push(Ir),yn.minimums.push(Lr),yn.leaves.push(Ir-Lr<=5&&Xr?1:0)}Ot.push(yn)}return Ot}(this.dem),lt=it.length-1,dt=it[lt];this._addNode(dt.minimums[0],dt.maximums[0],dt.leaves[0]),this._construct(it,0,0,lt,0)}raycastRoot(tt,it,lt,dt,bt,Et,Ot=1){return Hl([tt,it,-100],[lt,dt,this.maximums[0]*Ot],bt,Et)}raycast(tt,it,lt,dt,bt,Et,Ot=1){if(!this.nodeCount)return null;const zt=this.raycastRoot(tt,it,lt,dt,bt,Et,Ot);if(zt==null)return null;const Yt=[],an=[],yn=[],vn=[],An=[{idx:0,t:zt,nodex:0,nodey:0,depth:0}];for(;An.length>0;){const{idx:kn,t:Pn,nodex:Xn,nodey:fr,depth:Fr}=An.pop();if(this.leaves[kn]){DF(Xn,fr,Fr,tt,it,lt,dt,yn,vn);const _r=1<<Fr,wr=(Xn+0)/_r,vr=(Xn+1)/_r,Lr=(fr+0)/_r,Ir=(fr+1)/_r,Xr=h_(wr,Lr,this.dem)*Ot,fo=h_(vr,Lr,this.dem)*Ot,Jr=h_(vr,Ir,this.dem)*Ot,no=h_(wr,Ir,this.dem)*Ot,ro=Wp(yn[0],yn[1],Xr,vn[0],yn[1],fo,vn[0],vn[1],Jr,bt,Et),ao=Wp(vn[0],vn[1],Jr,yn[0],vn[1],no,yn[0],yn[1],Xr,bt,Et),go=Math.min(ro!==null?ro:Number.MAX_VALUE,ao!==null?ao:Number.MAX_VALUE);if(go!==Number.MAX_VALUE)return go;{const jr=G_([],bt,Et,Pn);if(rw(Xr,fo,no,Jr,km(jr[0],yn[0],vn[0]),km(jr[1],yn[1],vn[1]))>=jr[2])return Pn}continue}let dr=0;for(let _r=0;_r<this._siblingOffset.length;_r++){DF((Xn<<1)+this._siblingOffset[_r][0],(fr<<1)+this._siblingOffset[_r][1],Fr+1,tt,it,lt,dt,yn,vn),yn[2]=-100,vn[2]=this.maximums[this.childOffsets[kn]+_r]*Ot;const wr=Hl(yn,vn,bt,Et);if(wr!=null){const vr=wr;Yt[_r]=vr;let Lr=!1;for(let Ir=0;Ir<dr&&!Lr;Ir++)vr>=Yt[an[Ir]]&&(an.splice(Ir,0,_r),Lr=!0);Lr||(an[dr]=_r),dr++}}for(let _r=0;_r<dr;_r++){const wr=an[_r];An.push({idx:this.childOffsets[kn]+wr,t:Yt[wr],nodex:(Xn<<1)+this._siblingOffset[wr][0],nodey:(fr<<1)+this._siblingOffset[wr][1],depth:Fr+1})}}return null}_addNode(tt,it,lt){return this.minimums.push(tt),this.maximums.push(it),this.leaves.push(lt),this.childOffsets.push(0),this.nodeCount++}_construct(tt,it,lt,dt,bt){if(tt[dt].isLeaf(it,lt)===1)return;this.childOffsets[bt]||(this.childOffsets[bt]=this.nodeCount);const Et=dt-1,Ot=tt[Et];let zt=0,Yt=0;for(let an=0;an<this._siblingOffset.length;an++){const yn=2*it+this._siblingOffset[an][0],vn=2*lt+this._siblingOffset[an][1],An=Ot.getElevation(yn,vn),kn=Ot.isLeaf(yn,vn),Pn=this._addNode(An.min,An.max,kn);kn&&(zt|=1<<an),Yt||(Yt=Pn)}for(let an=0;an<this._siblingOffset.length;an++)zt&1<<an||this._construct(tt,2*it+this._siblingOffset[an][0],2*lt+this._siblingOffset[an][1],Et,Yt+an)}}function rw(rt,tt,it,lt,dt,bt){return xs(xs(rt,it,bt),xs(tt,lt,bt),dt)}function h_(rt,tt,it){const lt=it.dim,dt=Zt(rt*lt-.5,0,lt-1),bt=Zt(tt*lt-.5,0,lt-1),Et=Math.floor(dt),Ot=Math.floor(bt),zt=Math.min(Et+1,lt-1),Yt=Math.min(Ot+1,lt-1);return rw(it.get(Et,Ot),it.get(zt,Ot),it.get(Et,Yt),it.get(zt,Yt),dt-Et,bt-Ot)}const iw={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class mS{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(tt,it,lt,dt=!1,bt=!1){if(this.uid=tt,it.height!==it.width)throw new RangeError("DEM tiles must be square");if(lt&&lt!=="mapbox"&&lt!=="terrarium")return mn(`"${lt}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=it.height;const Et=this.dim=it.height-2,Ot=new Uint32Array(it.data.buffer);if(this.pixels=new Uint8Array(it.data.buffer),this.encoding=lt||"mapbox",this.borderReady=dt,!dt){for(let zt=0;zt<Et;zt++)Ot[this._idx(-1,zt)]=Ot[this._idx(0,zt)],Ot[this._idx(Et,zt)]=Ot[this._idx(Et-1,zt)],Ot[this._idx(zt,-1)]=Ot[this._idx(zt,0)],Ot[this._idx(zt,Et)]=Ot[this._idx(zt,Et-1)];Ot[this._idx(-1,-1)]=Ot[this._idx(0,0)],Ot[this._idx(Et,-1)]=Ot[this._idx(Et-1,0)],Ot[this._idx(-1,Et)]=Ot[this._idx(0,Et-1)],Ot[this._idx(Et,Et)]=Ot[this._idx(Et-1,Et-1)],bt&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new nw(this)}get(tt,it,lt=!1){lt&&(tt=Zt(tt,-1,this.dim),it=Zt(it,-1,this.dim));const dt=4*this._idx(tt,it);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[dt],this.pixels[dt+1],this.pixels[dt+2])}static getUnpackVector(tt){return iw[tt]}get unpackVector(){return iw[this.encoding]}_idx(tt,it){if(tt<-1||tt>=this.dim+1||it<-1||it>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(it+1)*this.stride+(tt+1)}_unpackMapbox(tt,it,lt){return(256*tt*256+256*it+lt)/10-1e4}_unpackTerrarium(tt,it,lt){return 256*tt+it+lt/256-32768}static pack(tt,it){const lt=[0,0,0,0],dt=mS.getUnpackVector(it);let bt=Math.floor((tt+dt[3])/dt[2]);return lt[2]=bt%256,bt=Math.floor(bt/256),lt[1]=bt%256,bt=Math.floor(bt/256),lt[0]=bt,lt}getPixels(){return new rp({width:this.stride,height:this.stride},this.pixels)}backfillBorder(tt,it,lt){if(this.dim!==tt.dim)throw new Error("dem dimension mismatch");let dt=it*this.dim,bt=it*this.dim+this.dim,Et=lt*this.dim,Ot=lt*this.dim+this.dim;switch(it){case-1:dt=bt-1;break;case 1:bt=dt+1}switch(lt){case-1:Et=Ot-1;break;case 1:Ot=Et+1}const zt=-it*this.dim,Yt=-lt*this.dim;for(let an=Et;an<Ot;an++)for(let yn=dt;yn<bt;yn++){const vn=4*this._idx(yn,an),An=4*this._idx(yn+zt,an+Yt);this.pixels[vn+0]=tt.pixels[An+0],this.pixels[vn+1]=tt.pixels[An+1],this.pixels[vn+2]=tt.pixels[An+2],this.pixels[vn+3]=tt.pixels[An+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}ko(mS,"DEMData"),ko(nw,"DemMinMaxQuadTree",{omit:["dem"]});class vw{constructor(tt,it){this.max=tt,this.onRemove=it,this.reset()}reset(){for(const tt in this.data)for(const it of this.data[tt])it.timeout&&clearTimeout(it.timeout),this.onRemove(it.value);return this.data={},this.order=[],this}add(tt,it,lt){const dt=tt.wrapped().key;this.data[dt]===void 0&&(this.data[dt]=[]);const bt={value:it,timeout:void 0};if(lt!==void 0&&(bt.timeout=setTimeout(()=>{this.remove(tt,bt)},lt)),this.data[dt].push(bt),this.order.push(dt),this.order.length>this.max){const Et=this._getAndRemoveByKey(this.order[0]);Et&&this.onRemove(Et)}return this}has(tt){return tt.wrapped().key in this.data}getAndRemove(tt){return this.has(tt)?this._getAndRemoveByKey(tt.wrapped().key):null}_getAndRemoveByKey(tt){const it=this.data[tt].shift();return it.timeout&&clearTimeout(it.timeout),this.data[tt].length===0&&delete this.data[tt],this.order.splice(this.order.indexOf(tt),1),it.value}getByKey(tt){const it=this.data[tt];return it?it[0].value:null}get(tt){return this.has(tt)?this.data[tt.wrapped().key][0].value:null}remove(tt,it){if(!this.has(tt))return this;const lt=tt.wrapped().key,dt=it===void 0?0:this.data[lt].indexOf(it),bt=this.data[lt][dt];return this.data[lt].splice(dt,1),bt.timeout&&clearTimeout(bt.timeout),this.data[lt].length===0&&delete this.data[lt],this.onRemove(bt.value),this.order.splice(this.order.indexOf(lt),1),this}setMaxSize(tt){for(this.max=tt;this.order.length>this.max;){const it=this._getAndRemoveByKey(this.order[0]);it&&this.onRemove(it)}return this}filter(tt){const it=[];for(const lt in this.data)for(const dt of this.data[lt])tt(dt.value)||it.push(dt);for(const lt of it)this.remove(lt.value.tileID,lt)}}class QU{constructor(tt,it,lt){this.func=tt,this.mask=it,this.range=lt}}QU.ReadOnly=!1,QU.ReadWrite=!0,QU.disabled=new QU(519,QU.ReadOnly,[0,1]);const zR=7680;class ZR{constructor(tt,it,lt,dt,bt,Et){this.test=tt,this.ref=it,this.mask=lt,this.fail=dt,this.depthFail=bt,this.pass=Et}}ZR.disabled=new ZR({func:519,mask:0},0,0,zR,zR,zR);class xy{constructor(tt,it,lt){this.blendFunction=tt,this.blendColor=it,this.mask=lt}}xy.Replace=[1,0],xy.disabled=new xy(xy.Replace,Zs.transparent,[!1,!1,!1,!1]),xy.unblended=new xy(xy.Replace,Zs.transparent,[!0,!0,!0,!0]),xy.alphaBlended=new xy([1,771],Zs.transparent,[!0,!0,!0,!0]);const GR=1029,HR=2305;class qm{constructor(tt,it,lt){this.enable=tt,this.mode=it,this.frontFace=lt}}qm.disabled=new qm(!1,GR,HR),qm.backCCW=new qm(!0,GR,HR),qm.backCW=new qm(!0,GR,2304),qm.frontCW=new qm(!0,1028,2304),qm.frontCCW=new qm(!0,1028,HR);class uv extends mu{constructor(tt,it,lt){super(),this.id=tt,this._onlySymbols=lt,it.on("data",dt=>{dt.dataType==="source"&&dt.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&dt.dataType==="source"&&dt.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),it.on("error",()=>{this._sourceErrored=!0}),this._source=it,this._tiles={},this._cache=new vw(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=it.minTileCacheSize,this._maxTileCacheSize=it.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new ju,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(tt){this.map=tt,this._minTileCacheSize=this._minTileCacheSize===void 0&&tt?tt._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&tt?tt._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const tt in this._tiles){const it=this._tiles[tt];if(it.state!=="loaded"&&it.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const tt=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,tt&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(tt,it){return tt.isSymbolTile=this._onlySymbols,this._source.loadTile(tt,it)}_unloadTile(tt){if(this._source.unloadTile)return this._source.unloadTile(tt,()=>{})}_abortTile(tt){if(this._source.abortTile)return this._source.abortTile(tt,()=>{})}serialize(){return this._source.serialize()}prepare(tt){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const it in this._tiles){const lt=this._tiles[it];lt.upload(tt),lt.prepare(this.map.style.imageManager)}}getIds(){return kt(this._tiles).map(tt=>tt.tileID).sort(ow).map(tt=>tt.key)}getRenderableIds(tt){const it=[];for(const lt in this._tiles)this._isIdRenderable(+lt,tt)&&it.push(this._tiles[lt]);return tt?it.sort((lt,dt)=>{const bt=lt.tileID,Et=dt.tileID,Ot=new mt(bt.canonical.x,bt.canonical.y)._rotate(this.transform.angle),zt=new mt(Et.canonical.x,Et.canonical.y)._rotate(this.transform.angle);return bt.overscaledZ-Et.overscaledZ||zt.y-Ot.y||zt.x-Ot.x}).map(lt=>lt.tileID.key):it.map(lt=>lt.tileID).sort(ow).map(lt=>lt.key)}hasRenderableParent(tt){const it=this.findLoadedParent(tt,0);return!!it&&this._isIdRenderable(it.tileID.key)}_isIdRenderable(tt,it){return this._tiles[tt]&&this._tiles[tt].hasData()&&!this._coveredTiles[tt]&&(it||!this._tiles[tt].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const tt in this._tiles)this._tiles[tt].state!=="errored"&&this._reloadTile(+tt,"reloading")}}_reloadTile(tt,it){const lt=this._tiles[tt];lt&&(lt.state!=="loading"&&(lt.state=it),this._loadTile(lt,this._tileLoaded.bind(this,lt,tt,it)))}_tileLoaded(tt,it,lt,dt){if(dt)if(tt.state="errored",dt.status!==404)this._source.fire(new Qu(dt,{tile:tt}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const bt=this.map.painter.terrain;this.update(this.transform,bt.getScaledDemTileSize(),!0),bt.resetTileLookupCache(this.id)}else this.update(this.transform);else tt.timeAdded=as.now(),lt==="expired"&&(tt.refreshedUponExpiration=!0),this._setTileReloadTimer(it,tt),this._source.type==="raster-dem"&&tt.dem&&this._backfillDEM(tt),this._state.initializeTileState(tt,this.map?this.map.painter:null),this._source.fire(new Bs("data",{dataType:"source",tile:tt,coord:tt.tileID,sourceCacheId:this.id}))}_backfillDEM(tt){const it=this.getRenderableIds();for(let dt=0;dt<it.length;dt++){const bt=it[dt];if(tt.neighboringTiles&&tt.neighboringTiles[bt]){const Et=this.getTileByID(bt);lt(tt,Et),lt(Et,tt)}}function lt(dt,bt){if(!dt.dem||dt.dem.borderReady)return;dt.needsHillshadePrepare=!0,dt.needsDEMTextureUpload=!0;let Et=bt.tileID.canonical.x-dt.tileID.canonical.x;const Ot=bt.tileID.canonical.y-dt.tileID.canonical.y,zt=Math.pow(2,dt.tileID.canonical.z),Yt=bt.tileID.key;Et===0&&Ot===0||Math.abs(Ot)>1||(Math.abs(Et)>1&&(Math.abs(Et+zt)===1?Et+=zt:Math.abs(Et-zt)===1&&(Et-=zt)),bt.dem&&dt.dem&&(dt.dem.backfillBorder(bt.dem,Et,Ot),dt.neighboringTiles&&dt.neighboringTiles[Yt]&&(dt.neighboringTiles[Yt].backfilled=!0)))}}getTile(tt){return this.getTileByID(tt.key)}getTileByID(tt){return this._tiles[tt]}_retainLoadedChildren(tt,it,lt,dt){for(const bt in this._tiles){let Et=this._tiles[bt];if(dt[bt]||!Et.hasData()||Et.tileID.overscaledZ<=it||Et.tileID.overscaledZ>lt)continue;let Ot=Et.tileID;for(;Et&&Et.tileID.overscaledZ>it+1;){const Yt=Et.tileID.scaledTo(Et.tileID.overscaledZ-1);Et=this._tiles[Yt.key],Et&&Et.hasData()&&(Ot=Yt)}let zt=Ot;for(;zt.overscaledZ>it;)if(zt=zt.scaledTo(zt.overscaledZ-1),tt[zt.key]){dt[Ot.key]=Ot;break}}}findLoadedParent(tt,it){if(tt.key in this._loadedParentTiles){const lt=this._loadedParentTiles[tt.key];return lt&&lt.tileID.overscaledZ>=it?lt:null}for(let lt=tt.overscaledZ-1;lt>=it;lt--){const dt=tt.scaledTo(lt),bt=this._getLoadedTile(dt);if(bt)return bt}}_getLoadedTile(tt){const it=this._tiles[tt.key];return it&&it.hasData()?it:this._cache.getByKey(this._source.reparseOverscaled?tt.wrapped().key:tt.canonical.key)}updateCacheSize(tt,it){it=it||this._source.tileSize;const lt=Math.ceil(tt.width/it)+1,dt=Math.ceil(tt.height/it)+1,bt=Math.floor(lt*dt*5),Et=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,bt):bt,Ot=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Et):Et;this._cache.setMaxSize(Ot)}handleWrapJump(tt){const it=Math.round((tt-(this._prevLng===void 0?tt:this._prevLng))/360);if(this._prevLng=tt,it){const lt={};for(const dt in this._tiles){const bt=this._tiles[dt];bt.tileID=bt.tileID.unwrapTo(bt.tileID.wrap+it),lt[bt.tileID.key]=bt}this._tiles=lt;for(const dt in this._timers)clearTimeout(this._timers[dt]),delete this._timers[dt];for(const dt in this._tiles)this._setTileReloadTimer(+dt,this._tiles[dt])}}update(tt,it,lt){if(this.transform=tt,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!lt)return;let dt;this.updateCacheSize(tt,it),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?dt=tt.getVisibleUnwrappedCoordinates(this._source.tileID).map(Ot=>new Du(Ot.canonical.z,Ot.wrap,Ot.canonical.z,Ot.canonical.x,Ot.canonical.y)):(dt=tt.coveringTiles({tileSize:it||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!lt,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(dt=dt.filter(Ot=>this._source.hasTile(Ot)))):dt=[];const bt=this._updateRetainedTiles(dt);if(sw(this._source.type)&&dt.length!==0){const Ot={},zt={},Yt=Object.keys(bt);for(const yn of Yt){const vn=bt[yn],An=this._tiles[yn];if(!An||An.fadeEndTime&&An.fadeEndTime<=as.now())continue;const kn=this.findLoadedParent(vn,Math.max(vn.overscaledZ-uv.maxOverzooming,this._source.minzoom));kn&&(this._addTile(kn.tileID),Ot[kn.tileID.key]=kn.tileID),zt[yn]=vn}const an=dt[dt.length-1].overscaledZ;for(const yn in this._tiles){const vn=this._tiles[yn];if(bt[yn]||!vn.hasData())continue;let An=vn.tileID;for(;An.overscaledZ>an;){An=An.scaledTo(An.overscaledZ-1);const kn=this._tiles[An.key];if(kn&&kn.hasData()&&zt[An.key]){bt[yn]=vn.tileID;break}}}for(const yn in Ot)bt[yn]||(this._coveredTiles[yn]=!0,bt[yn]=Ot[yn])}for(const Ot in bt)this._tiles[Ot].clearFadeHold();const Et=function(Ot,zt){const Yt=[];for(const an in Ot)an in zt||Yt.push(an);return Yt}(this._tiles,bt);for(const Ot of Et){const zt=this._tiles[Ot];zt.hasSymbolBuckets&&!zt.holdingForFade()?zt.setHoldDuration(this.map._fadeDuration):zt.hasSymbolBuckets&&!zt.symbolFadeFinished()||this._removeTile(+Ot)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const tt in this._tiles)this._tiles[tt].holdingForFade()&&this._removeTile(+tt)}_updateRetainedTiles(tt){const it={};if(tt.length===0)return it;const lt={},dt=tt.reduce((Yt,an)=>Math.min(Yt,an.overscaledZ),1/0),bt=tt[0].overscaledZ,Et=Math.max(bt-uv.maxOverzooming,this._source.minzoom),Ot=Math.max(bt+uv.maxUnderzooming,this._source.minzoom),zt={};for(const Yt of tt){const an=this._addTile(Yt);it[Yt.key]=Yt,an.hasData()||dt<this._source.maxzoom&&(zt[Yt.key]=Yt)}this._retainLoadedChildren(zt,dt,Ot,it);for(const Yt of tt){let an=this._tiles[Yt.key];if(an.hasData())continue;if(Yt.canonical.z>=this._source.maxzoom){const vn=Yt.children(this._source.maxzoom)[0],An=this.getTile(vn);if(An&&An.hasData()){it[vn.key]=vn;continue}}else{const vn=Yt.children(this._source.maxzoom);if(it[vn[0].key]&&it[vn[1].key]&&it[vn[2].key]&&it[vn[3].key])continue}let yn=an.wasRequested();for(let vn=Yt.overscaledZ-1;vn>=Et;--vn){const An=Yt.scaledTo(vn);if(lt[An.key]||(lt[An.key]=!0,an=this.getTile(An),!an&&yn&&(an=this._addTile(An)),an&&(it[An.key]=An,yn=an.wasRequested(),an.hasData())))break}}return it}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const tt in this._tiles){const it=[];let lt,dt=this._tiles[tt].tileID;for(;dt.overscaledZ>0;){if(dt.key in this._loadedParentTiles){lt=this._loadedParentTiles[dt.key];break}it.push(dt.key);const bt=dt.scaledTo(dt.overscaledZ-1);if(lt=this._getLoadedTile(bt),lt)break;dt=bt}for(const bt of it)this._loadedParentTiles[bt]=lt}}_addTile(tt){let it=this._tiles[tt.key];if(it)return it;it=this._cache.getAndRemove(tt),it&&(this._setTileReloadTimer(tt.key,it),it.tileID=tt,this._state.initializeTileState(it,this.map?this.map.painter:null),this._cacheTimers[tt.key]&&(clearTimeout(this._cacheTimers[tt.key]),delete this._cacheTimers[tt.key],this._setTileReloadTimer(tt.key,it)));const lt=Boolean(it);if(!lt){const dt=this.map?this.map.painter:null;it=new Ju(tt,this._source.tileSize*tt.overscaleFactor(),this.transform.tileZoom,dt,this._isRaster),this._loadTile(it,this._tileLoaded.bind(this,it,tt.key,it.state))}return it?(it.uses++,this._tiles[tt.key]=it,lt||this._source.fire(new Bs("dataloading",{tile:it,coord:it.tileID,dataType:"source"})),it):null}_setTileReloadTimer(tt,it){tt in this._timers&&(clearTimeout(this._timers[tt]),delete this._timers[tt]);const lt=it.getExpiryTimeout();lt&&(this._timers[tt]=setTimeout(()=>{this._reloadTile(tt,"expired"),delete this._timers[tt]},lt))}_removeTile(tt){const it=this._tiles[tt];it&&(it.uses--,delete this._tiles[tt],this._timers[tt]&&(clearTimeout(this._timers[tt]),delete this._timers[tt]),it.uses>0||(it.hasData()&&it.state!=="reloading"?this._cache.add(it.tileID,it,it.getExpiryTimeout()):(it.aborted=!0,this._abortTile(it),this._unloadTile(it))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const tt in this._tiles)this._removeTile(+tt);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(tt,it,lt){const dt=[],bt=this.transform;if(!bt)return dt;const Et=bt.projection.name==="globe",Ot=du(bt.center.lng);for(const zt in this._tiles){const Yt=this._tiles[zt];if(lt&&Yt.clearQueryDebugViz(),Yt.holdingForFade())continue;let an;if(Et){const yn=Yt.tileID.canonical;if(yn.z===0){const vn=[Math.abs(Zt(Ot,...OF(yn,-1))-Ot),Math.abs(Zt(Ot,...OF(yn,1))-Ot)];an=[0,2*vn.indexOf(Math.min(...vn))-1]}else{const vn=[Math.abs(Zt(Ot,...OF(yn,-1))-Ot),Math.abs(Zt(Ot,...OF(yn,0))-Ot),Math.abs(Zt(Ot,...OF(yn,1))-Ot)];an=[vn.indexOf(Math.min(...vn))-1]}}else an=[0];for(const yn of an){const vn=tt.containsTile(Yt,bt,it,yn);vn&&dt.push(vn)}}return dt}getVisibleCoordinates(tt){const it=this.getRenderableIds(tt).map(lt=>this._tiles[lt].tileID);for(const lt of it)lt.projMatrix=this.transform.calculateProjMatrix(lt.toUnwrapped());return it}hasTransition(){if(this._source.hasTransition())return!0;if(sw(this._source.type))for(const tt in this._tiles){const it=this._tiles[tt];if(it.fadeEndTime!==void 0&&it.fadeEndTime>=as.now())return!0}return!1}setFeatureState(tt,it,lt){this._state.updateState(tt=tt||"_geojsonTileLayer",it,lt)}removeFeatureState(tt,it,lt){this._state.removeFeatureState(tt=tt||"_geojsonTileLayer",it,lt)}getFeatureState(tt,it){return this._state.getState(tt=tt||"_geojsonTileLayer",it)}setDependencies(tt,it,lt){const dt=this._tiles[tt];dt&&dt.setDependencies(it,lt)}reloadTilesForDependencies(tt,it){for(const lt in this._tiles)this._tiles[lt].hasDependency(tt,it)&&this._reloadTile(+lt,"reloading");this._cache.filter(lt=>!lt.hasDependency(tt,it))}_preloadTiles(tt,it){const lt=new Map,dt=Array.isArray(tt)?tt:[tt],bt=this.map.painter.terrain,Et=this.usedForTerrain&&bt?bt.getScaledDemTileSize():this._source.tileSize;for(const Ot of dt){const zt=Ot.coveringTiles({tileSize:Et,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const Yt of zt)lt.set(Yt.key,Yt);this.usedForTerrain&&Ot.updateElevation(!1)}Ht(Array.from(lt.values()),(Ot,zt)=>{const Yt=new Ju(Ot,this._source.tileSize*Ot.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(Yt,an=>{this._source.type==="raster-dem"&&Yt.dem&&this._backfillDEM(Yt),zt(an,Yt)})},it)}}function ow(rt,tt){const it=Math.abs(2*rt.wrap)-+(rt.wrap<0),lt=Math.abs(2*tt.wrap)-+(tt.wrap<0);return rt.overscaledZ-tt.overscaledZ||lt-it||tt.canonical.y-rt.canonical.y||tt.canonical.x-rt.canonical.x}function sw(rt){return rt==="raster"||rt==="image"||rt==="video"||rt==="custom"}function OF(rt,tt){const it=1<<rt.z;return[rt.x/it+tt,(rt.x+1)/it+tt]}uv.maxOverzooming=10,uv.maxUnderzooming=3;class yS{constructor(tt,it,lt){this._demTile=tt,this._dem=this._demTile.dem,this._scale=it,this._offset=lt}static create(tt,it,lt){const dt=lt||tt.findDEMTileFor(it);if(!dt||!dt.dem)return;const bt=dt.dem,Et=dt.tileID,Ot=1<<it.canonical.z-Et.canonical.z;return new yS(dt,dt.tileSize/Xo/Ot,[(it.canonical.x/Ot-Et.canonical.x)*bt.dim,(it.canonical.y/Ot-Et.canonical.y)*bt.dim])}tileCoordToPixel(tt,it){const lt=it*this._scale+this._offset[1],dt=Math.floor(tt*this._scale+this._offset[0]),bt=Math.floor(lt);return new mt(dt,bt)}getElevationAt(tt,it,lt,dt){const bt=tt*this._scale+this._offset[0],Et=it*this._scale+this._offset[1],Ot=Math.floor(bt),zt=Math.floor(Et),Yt=this._dem;return dt=!!dt,lt?xs(xs(Yt.get(Ot,zt,dt),Yt.get(Ot,zt+1,dt),Et-zt),xs(Yt.get(Ot+1,zt,dt),Yt.get(Ot+1,zt+1,dt),Et-zt),bt-Ot):Yt.get(Ot,zt,dt)}getElevationAtPixel(tt,it,lt){return this._dem.get(tt,it,!!lt)}getMeterToDEM(tt){return(1<<this._demTile.tileID.canonical.z)*Up(1,tt)*this._dem.stride}}class aw{constructor(tt,it){this.tileID=tt,this.x=tt.canonical.x,this.y=tt.canonical.y,this.z=tt.canonical.z,this.grid=new py(Xo,16,0),this.featureIndexArray=new V_,this.promoteId=it}insert(tt,it,lt,dt,bt,Et=0){const Ot=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(lt,dt,bt,Et);const zt=this.grid;for(let Yt=0;Yt<it.length;Yt++){const an=it[Yt],yn=[1/0,1/0,-1/0,-1/0];for(let vn=0;vn<an.length;vn++){const An=an[vn];yn[0]=Math.min(yn[0],An.x),yn[1]=Math.min(yn[1],An.y),yn[2]=Math.max(yn[2],An.x),yn[3]=Math.max(yn[3],An.y)}yn[0]<Xo&&yn[1]<Xo&&yn[2]>=0&&yn[3]>=0&&zt.insert(Ot,yn[0],yn[1],yn[2],yn[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new hF(new K0(this.rawTileData)).layers,this.sourceLayerCoder=new Tr(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const tt in this.vtLayers)this.vtFeatures[tt]=[]}return this.vtLayers}query(tt,it,lt,dt){this.loadVTLayers();const bt=tt.params||{},Et=E0(bt.filter),Ot=tt.tileResult,zt=tt.transform,Yt=Ot.bufferedTilespaceBounds,an=this.grid.query(Yt.min.x,Yt.min.y,Yt.max.x,Yt.max.y,(kn,Pn,Xn,fr)=>Jv(Ot.bufferedTilespaceGeometry,kn,Pn,Xn,fr));an.sort(bw);let yn=null;zt.elevation&&an.length>0&&(yn=yS.create(zt.elevation,this.tileID));const vn={};let An;for(let kn=0;kn<an.length;kn++){const Pn=an[kn];if(Pn===An)continue;An=Pn;const Xn=this.featureIndexArray.get(Pn);let fr=null;this.loadMatchingFeature(vn,Xn,Et,bt.layers,bt.availableImages,it,lt,dt,(Fr,dr,_r,wr=0)=>(fr||(fr=Lu(Fr,this.tileID.canonical,tt.tileTransform)),dr.queryIntersectsFeature(Ot,Fr,_r,fr,this.z,tt.transform,tt.pixelPosMatrix,yn,wr)))}return vn}loadMatchingFeature(tt,it,lt,dt,bt,Et,Ot,zt,Yt){const{featureIndex:an,bucketIndex:yn,sourceLayerIndex:vn,layoutVertexArrayOffset:An}=it,kn=this.bucketLayerIDs[yn];if(dt&&!function(Fr,dr){for(let _r=0;_r<Fr.length;_r++)if(dr.indexOf(Fr[_r])>=0)return!0;return!1}(dt,kn))return;const Pn=this.sourceLayerCoder.decode(vn),Xn=this.vtLayers[Pn].feature(an);if(lt.needGeometry){const Fr=Yy(Xn,!0);if(!lt.filter(new ur(this.tileID.overscaledZ),Fr,this.tileID.canonical))return}else if(!lt.filter(new ur(this.tileID.overscaledZ),Xn))return;const fr=this.getId(Xn,Pn);for(let Fr=0;Fr<kn.length;Fr++){const dr=kn[Fr];if(dt&&dt.indexOf(dr)<0)continue;const _r=Et[dr];if(!_r)continue;let wr={};fr!==void 0&&zt&&(wr=zt.getState(_r.sourceLayer||"_geojsonTileLayer",fr));const vr=Rt({},Ot[dr]);vr.paint=lw(vr.paint,_r.paint,Xn,wr,bt),vr.layout=lw(vr.layout,_r.layout,Xn,wr,bt);const Lr=!Yt||Yt(Xn,_r,wr,An);if(!Lr)continue;const Ir=new uo(Xn,this.z,this.x,this.y,fr);Ir.layer=vr;let Xr=tt[dr];Xr===void 0&&(Xr=tt[dr]=[]),Xr.push({featureIndex:an,feature:Ir,intersectionZ:Lr})}}lookupSymbolFeatures(tt,it,lt,dt,bt,Et,Ot,zt){const Yt={};this.loadVTLayers();const an=E0(bt);for(const yn of tt)this.loadMatchingFeature(Yt,{bucketIndex:lt,sourceLayerIndex:dt,featureIndex:yn,layoutVertexArrayOffset:0},an,Et,Ot,zt,it);return Yt}loadFeature(tt){const{featureIndex:it,sourceLayerIndex:lt}=tt;this.loadVTLayers();const dt=this.sourceLayerCoder.decode(lt),bt=this.vtFeatures[dt];if(bt[it])return bt[it];const Et=this.vtLayers[dt].feature(it);return bt[it]=Et,Et}hasLayer(tt){for(const it of this.bucketLayerIDs)for(const lt of it)if(tt===lt)return!0;return!1}getId(tt,it){let lt=tt.id;if(this.promoteId){const dt=typeof this.promoteId=="string"?this.promoteId:this.promoteId[it];dt!=null&&(lt=tt.properties[dt]),typeof lt=="boolean"&&(lt=Number(lt))}return lt}}function lw(rt,tt,it,lt,dt){return Ct(rt,(bt,Et)=>{const Ot=tt instanceof eo?tt.get(Et):null;return Ot&&Ot.evaluate?Ot.evaluate(it,lt,dt):Ot})}function bw(rt,tt){return tt-rt}ko(aw,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class cw{constructor(tt,it){this.width=tt,this.height=it,this.nextRow=0,this.image=new Gm({width:tt,height:it}),this.positions={},this.uploaded=!1}getDash(tt,it){const lt=this.getKey(tt,it);return this.positions[lt]}trim(){const tt=this.width,it=this.height=Fn(this.nextRow);this.image.resize({width:tt,height:it})}getKey(tt,it){return tt.join(",")+it}getDashRanges(tt,it,lt){const dt=[];let bt=tt.length%2==1?-tt[tt.length-1]*lt:0,Et=tt[0]*lt,Ot=!0;dt.push({left:bt,right:Et,isDash:Ot,zeroLength:tt[0]===0});let zt=tt[0];for(let Yt=1;Yt<tt.length;Yt++){Ot=!Ot;const an=tt[Yt];bt=zt*lt,zt+=an,Et=zt*lt,dt.push({left:bt,right:Et,isDash:Ot,zeroLength:an===0})}return dt}addRoundDash(tt,it,lt){const dt=it/2;for(let bt=-lt;bt<=lt;bt++){const Et=this.width*(this.nextRow+lt+bt);let Ot=0,zt=tt[Ot];for(let Yt=0;Yt<this.width;Yt++){Yt/zt.right>1&&(zt=tt[++Ot]);const an=Math.abs(Yt-zt.left),yn=Math.abs(Yt-zt.right),vn=Math.min(an,yn);let An;const kn=bt/lt*(dt+1);if(zt.isDash){const Pn=dt-Math.abs(kn);An=Math.sqrt(vn*vn+Pn*Pn)}else An=dt-Math.sqrt(vn*vn+kn*kn);this.image.data[Et+Yt]=Math.max(0,Math.min(255,An+128))}}}addRegularDash(tt,it){for(let zt=tt.length-1;zt>=0;--zt){const Yt=tt[zt],an=tt[zt+1];Yt.zeroLength?tt.splice(zt,1):an&&an.isDash===Yt.isDash&&(an.left=Yt.left,tt.splice(zt,1))}const lt=tt[0],dt=tt[tt.length-1];lt.isDash===dt.isDash&&(lt.left=dt.left-this.width,dt.right=lt.right+this.width);const bt=this.width*this.nextRow;let Et=0,Ot=tt[Et];for(let zt=0;zt<this.width;zt++){zt/Ot.right>1&&(Ot=tt[++Et]);const Yt=Math.abs(zt-Ot.left),an=Math.abs(zt-Ot.right),yn=Math.min(Yt,an);this.image.data[bt+zt]=Math.max(0,Math.min(255,(Ot.isDash?yn:-yn)+it+128))}}addDash(tt,it){const lt=this.getKey(tt,it);if(this.positions[lt])return this.positions[lt];const dt=it==="round",bt=dt?7:0,Et=2*bt+1;if(this.nextRow+Et>this.height)return mn("LineAtlas out of space"),null;tt.length===0&&tt.push(1);let Ot=0;for(let an=0;an<tt.length;an++)tt[an]<0&&(mn("Negative value is found in line dasharray, replacing values with 0"),tt[an]=0),Ot+=tt[an];if(Ot!==0){const an=this.width/Ot,yn=this.getDashRanges(tt,this.width,an);dt?this.addRoundDash(yn,an,bt):this.addRegularDash(yn,it==="square"?.5*an:0)}const zt=this.nextRow+bt;this.nextRow+=Et;const Yt={tl:[zt,bt],br:[Ot,0]};return this.positions[lt]=Yt,Yt}}ko(cw,"LineAtlas");class uw{constructor(tt){const it={},lt=[];for(const Ot in tt){const zt=tt[Ot],Yt=it[Ot]={};for(const an in zt.glyphs){const yn=zt.glyphs[+an];if(!yn||yn.bitmap.width===0||yn.bitmap.height===0)continue;const vn=yn.metrics.localGlyph?2:1,An={x:0,y:0,w:yn.bitmap.width+2*vn,h:yn.bitmap.height+2*vn};lt.push(An),Yt[an]=An}}const{w:dt,h:bt}=uU(lt),Et=new Gm({width:dt||1,height:bt||1});for(const Ot in tt){const zt=tt[Ot];for(const Yt in zt.glyphs){const an=zt.glyphs[+Yt];if(!an||an.bitmap.width===0||an.bitmap.height===0)continue;const yn=it[Ot][Yt],vn=an.metrics.localGlyph?2:1;Gm.copy(an.bitmap,Et,{x:0,y:0},{x:yn.x+vn,y:yn.y+vn},an.bitmap)}}this.image=Et,this.positions=it}}ko(uw,"GlyphAtlas");class Uw{constructor(tt){this.tileID=new Du(tt.tileID.overscaledZ,tt.tileID.wrap,tt.tileID.canonical.z,tt.tileID.canonical.x,tt.tileID.canonical.y),this.tileZoom=tt.tileZoom,this.uid=tt.uid,this.zoom=tt.zoom,this.canonical=tt.tileID.canonical,this.pixelRatio=tt.pixelRatio,this.tileSize=tt.tileSize,this.source=tt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=tt.showCollisionBoxes,this.collectResourceTiming=!!tt.collectResourceTiming,this.returnDependencies=!!tt.returnDependencies,this.promoteId=tt.promoteId,this.enableTerrain=!!tt.enableTerrain,this.isSymbolTile=tt.isSymbolTile,this.tileTransform=i0(tt.tileID.canonical,tt.projection),this.projection=tt.projection}parse(tt,it,lt,dt,bt){this.status="parsing",this.data=tt,this.collisionBoxArray=new N0;const Et=new Tr(Object.keys(tt.layers).sort()),Ot=new aw(this.tileID,this.promoteId);Ot.bucketLayerIDs=[];const zt={},Yt=new cw(256,256),an={featureIndex:Ot,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:Yt,availableImages:lt},yn=it.familiesBySource[this.source];for(const wr in yn){const vr=tt.layers[wr];if(!vr)continue;let Lr=!1,Ir=!1;for(const Jr of yn[wr])Jr[0].type==="symbol"?Lr=!0:Ir=!0;if(this.isSymbolTile===!0&&!Lr||this.isSymbolTile===!1&&!Ir)continue;vr.version===1&&mn(`Vector tile source "${this.source}" layer "${wr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Xr=Et.encode(wr),fo=[];for(let Jr=0;Jr<vr.length;Jr++){const no=vr.feature(Jr),ro=Ot.getId(no,wr);fo.push({feature:no,id:ro,index:Jr,sourceLayerIndex:Xr})}for(const Jr of yn[wr]){const no=Jr[0];this.isSymbolTile!==void 0&&no.type==="symbol"!==this.isSymbolTile||no.minzoom&&this.zoom<Math.floor(no.minzoom)||no.maxzoom&&this.zoom>=no.maxzoom||no.visibility!=="none"&&($R(Jr,this.zoom,lt),(zt[no.id]=no.createBucket({index:Ot.bucketLayerIDs.length,layers:Jr,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Xr,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:lt})).populate(fo,an,this.tileID.canonical,this.tileTransform),Ot.bucketLayerIDs.push(Jr.map(ro=>ro.id)))}}let vn,An,kn,Pn;Yt.trim();const Xn={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},fr=Ct(an.glyphDependencies,wr=>Object.keys(wr).map(Number));Object.keys(fr).length?dt.send("getGlyphs",{uid:this.uid,stacks:fr},(wr,vr)=>{vn||(vn=wr,An=vr,_r.call(this))},void 0,!1,Xn):An={};const Fr=Object.keys(an.iconDependencies);Fr.length?dt.send("getImages",{icons:Fr,source:this.source,tileID:this.tileID,type:"icons"},(wr,vr)=>{vn||(vn=wr,kn=vr,_r.call(this))},void 0,!1,Xn):kn={};const dr=Object.keys(an.patternDependencies);function _r(){if(vn)return bt(vn);if(An&&kn&&Pn){const wr=new uw(An),vr=new na(kn,Pn);for(const Lr in zt){const Ir=zt[Lr];Ir instanceof Qy?($R(Ir.layers,this.zoom,lt),ER(Ir,An,wr.positions,kn,vr.iconPositions,this.showCollisionBoxes,lt,this.tileID.canonical,this.tileZoom,this.projection)):Ir.hasPattern&&(Ir instanceof ip||Ir instanceof eU||Ir instanceof e0)&&($R(Ir.layers,this.zoom,lt),Ir.addFeatures(an,this.tileID.canonical,vr.patternPositions,lt,this.tileTransform))}this.status="done",bt(null,{buckets:kt(zt).filter(Lr=>!Lr.isEmpty()),featureIndex:Ot,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:wr.image,lineAtlas:Yt,imageAtlas:vr,glyphMap:this.returnDependencies?An:null,iconMap:this.returnDependencies?kn:null,glyphPositions:this.returnDependencies?wr.positions:null})}}dr.length?dt.send("getImages",{icons:dr,source:this.source,tileID:this.tileID,type:"patterns"},(wr,vr)=>{vn||(vn=wr,Pn=vr,_r.call(this))},void 0,!1,Xn):Pn={},_r.call(this)}}function $R(rt,tt,it){const lt=new ur(tt);for(const dt of rt)dt.recalculate(lt,it)}class hw{constructor(tt){this.entries={},this.scheduler=tt}request(tt,it,lt,dt){const bt=this.entries[tt]=this.entries[tt]||{callbacks:[]};if(bt.result){const[Et,Ot]=bt.result;return this.scheduler?this.scheduler.add(()=>{dt(Et,Ot)},it):dt(Et,Ot),()=>{}}return bt.callbacks.push(dt),bt.cancel||(bt.cancel=lt((Et,Ot)=>{bt.result=[Et,Ot];for(const zt of bt.callbacks)this.scheduler?this.scheduler.add(()=>{zt(Et,Ot)},it):zt(Et,Ot);setTimeout(()=>delete this.entries[tt],3e3)})),()=>{bt.result||(bt.callbacks=bt.callbacks.filter(Et=>Et!==dt),bt.callbacks.length||(bt.cancel(),delete this.entries[tt]))}}}function dw(rt,tt,it){const lt=JSON.stringify(rt.request);return rt.data&&(this.deduped.entries[lt]={result:[null,rt.data]}),this.deduped.request(lt,{type:"parseTile",isSymbolTile:rt.isSymbolTile,zoom:rt.tileZoom},dt=>{const bt=Cs(rt.request,(Et,Ot,zt,Yt)=>{Et?dt(Et):Ot&&dt(null,{vectorTile:it?void 0:new hF(new K0(Ot)),rawData:Ot,cacheControl:zt,expires:Yt})});return()=>{bt.cancel(),dt()}},tt)}j.ARRAY_TYPE=tp,j.AUTH_ERR_MSG=Mn,j.Aabb=Vu,j.Actor=class{constructor(rt,tt,it){this.target=rt,this.parent=tt,this.mapId=it,this.callbacks={},this.cancelCallbacks={},fn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=nr()?rt:nt,this.scheduler=new Ur}send(rt,tt,it,lt,dt=!1,bt){const Et=Math.round(1e18*Math.random()).toString(36).substring(0,10);it&&(it.metadata=bt,this.callbacks[Et]=it);const Ot=Zr(this.globalScope)?void 0:[];return this.target.postMessage({id:Et,type:rt,hasCallback:!!it,targetMapId:lt,mustQueue:dt,sourceMapId:this.mapId,data:jy(tt,Ot)},Ot),{cancel:()=>{it&&delete this.callbacks[Et],this.target.postMessage({id:Et,type:"<cancel>",targetMapId:lt,sourceMapId:this.mapId})}}}receive(rt){const tt=rt.data,it=tt.id;if(it&&(!tt.targetMapId||this.mapId===tt.targetMapId))if(tt.type==="<cancel>"){const lt=this.cancelCallbacks[it];delete this.cancelCallbacks[it],lt&&lt.cancel()}else if(tt.mustQueue||nr()){const lt=this.callbacks[it];this.cancelCallbacks[it]=this.scheduler.add(()=>this.processTask(it,tt),lt&&lt.metadata||{type:"message"})}else this.processTask(it,tt)}processTask(rt,tt){if(tt.type==="<response>"){const it=this.callbacks[rt];delete this.callbacks[rt],it&&(tt.error?it(vm(tt.error)):it(null,vm(tt.data)))}else{const it=Zr(this.globalScope)?void 0:[],lt=tt.hasCallback?(bt,Et)=>{delete this.cancelCallbacks[rt],this.target.postMessage({id:rt,type:"<response>",sourceMapId:this.mapId,error:bt?jy(bt):null,data:jy(Et,it)},it)}:bt=>{},dt=vm(tt.data);if(this.parent[tt.type])this.parent[tt.type](tt.sourceMapId,dt,lt);else if(this.parent.getWorkerSource){const bt=tt.type.split(".");this.parent.getWorkerSource(tt.sourceMapId,bt[0],dt.source)[bt[1]](dt,lt)}else lt(new Error(`Could not find function ${tt.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},j.CanonicalTileID=$0,j.Color=Zs,j.ColorMode=xy,j.CullFaceMode=qm,j.DEMData=mS,j.DataConstantProperty=Vr,j.DedupedRequest=hw,j.DepthMode=QU,j.EXTENT=Xo,j.Elevation=class{isDataAvailableAtPoint(rt){const tt=this._source();if(this.isUsingMockSource()||!tt||rt.y<0||rt.y>1)return!1;const it=tt.getSource().maxzoom,lt=1<<it,dt=Math.floor(rt.x),bt=Math.floor((rt.x-dt)*lt),Et=Math.floor(rt.y*lt),Ot=this.findDEMTileFor(new Du(it,dt,it,bt,Et));return!(!Ot||!Ot.dem)}getAtPointOrZero(rt,tt=0){return this.getAtPoint(rt,tt)||0}getAtPoint(rt,tt,it=!0){if(this.isUsingMockSource())return null;tt==null&&(tt=null);const lt=this._source();if(!lt||rt.y<0||rt.y>1)return tt;const dt=lt.getSource().maxzoom,bt=1<<dt,Et=Math.floor(rt.x),Ot=rt.x-Et,zt=new Du(dt,Et,dt,Math.floor(Ot*bt),Math.floor(rt.y*bt)),Yt=this.findDEMTileFor(zt);if(!Yt||!Yt.dem)return tt;const an=Yt.dem,yn=1<<Yt.tileID.canonical.z,vn=(Ot*yn-Yt.tileID.canonical.x)*an.dim,An=(rt.y*yn-Yt.tileID.canonical.y)*an.dim,kn=Math.floor(vn),Pn=Math.floor(An);return(it?this.exaggeration():1)*xs(xs(an.get(kn,Pn),an.get(kn,Pn+1),An-Pn),xs(an.get(kn+1,Pn),an.get(kn+1,Pn+1),An-Pn),vn-kn)}getAtTileOffset(rt,tt,it){const lt=1<<rt.canonical.z;return this.getAtPointOrZero(new by(rt.wrap+(rt.canonical.x+tt/Xo)/lt,(rt.canonical.y+it/Xo)/lt))}getAtTileOffsetFunc(rt,tt,it,lt){return dt=>{const bt=this.getAtTileOffset(rt,dt.x,dt.y),Et=lt.upVector(rt.canonical,dt.x,dt.y);return Sp(Et,Et,bt*lt.upVectorScale(rt.canonical,tt,it).metersToTile),Et}}getForTilePoints(rt,tt,it,lt){if(this.isUsingMockSource())return!1;const dt=yS.create(this,rt,lt);return!!dt&&(tt.forEach(bt=>{bt[2]=this.exaggeration()*dt.getElevationAt(bt[0],bt[1],it)}),!0)}getMinMaxForTile(rt){if(this.isUsingMockSource())return null;const tt=this.findDEMTileFor(rt);if(!tt||!tt.dem)return null;const it=tt.dem.tree,lt=tt.tileID,dt=1<<rt.canonical.z-lt.canonical.z;let bt=rt.canonical.x/dt-lt.canonical.x,Et=rt.canonical.y/dt-lt.canonical.y,Ot=0;for(let zt=0;zt<rt.canonical.z-lt.canonical.z&&!it.leaves[Ot];zt++){bt*=2,Et*=2;const Yt=2*Math.floor(Et)+Math.floor(bt);Ot=it.childOffsets[Ot]+Yt,bt%=1,Et%=1}return{min:this.exaggeration()*it.minimums[Ot],max:this.exaggeration()*it.maximums[Ot]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(rt,tt,it){throw new Error("Pure virtual method called.")}pointCoordinate(rt){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(rt){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},j.ErrorEvent=Qu,j.EvaluationParameters=ur,j.Event=Bs,j.Evented=mu,j.FillExtrusionBucket=e0,j.Frustum=nF,j.FrustumCorners=np,j.GLOBE_METERS_TO_ECEF=TF,j.GLOBE_RADIUS=Xm,j.GLOBE_SCALE_MATCH_LATITUDE=45,j.GLOBE_ZOOM_THRESHOLD_MAX=6,j.GLOBE_ZOOM_THRESHOLD_MIN=5,j.GlobeSharedBuffers=class{constructor(rt){this._createGrid(rt),this._createPoles(rt)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const rt of this._poleSegments)rt.destroy();for(const rt of this._gridSegments)rt.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const rt of this._wireframeSegments)rt.destroy()}}_createGrid(rt){const tt=new gs,it=new iu,lt=65;for(let dt=0;dt<lt;dt++)for(let bt=0;bt<lt;bt++)tt.emplaceBack(bt,dt);this._gridSegments=[];for(let dt=0,bt=0;dt<s_.length;dt++){const Et=s_[dt];for(let zt=0;zt<Et;zt++)for(let Yt=0;Yt<64;Yt++){const an=zt*lt+Yt;it.emplaceBack(an+1,an,an+lt),it.emplaceBack(an+lt,an+lt+1,an+1)}const Ot=64*Et*2;this._gridSegments.push(zl.simpleSegment(0,bt,(Et+1)*lt,Ot)),bt+=Ot}this._gridBuffer=rt.createVertexBuffer(tt,iv.members),this._gridIndexBuffer=rt.createIndexBuffer(it,!0)}_createPoles(rt){const tt=new iu;for(let dt=0;dt<=o_;dt++)tt.emplaceBack(0,dt+1,dt+2);this._poleIndexBuffer=rt.createIndexBuffer(tt,!0);const it=new Vp,lt=new Vp;this._poleSegments=[];for(let dt=0,bt=0;dt<5;dt++){const Et=360/(1<<dt);it.emplaceBack(0,-Xm,0,.5,0),lt.emplaceBack(0,-Xm,0,.5,1);for(let Ot=0;Ot<=o_;Ot++){const zt=Ot/o_,Yt=xs(0,Et,zt),[an,yn,vn]=a_(sp,CF,Yt,Xm);it.emplaceBack(an,yn,vn,zt,0),lt.emplaceBack(an,yn,vn,zt,1)}this._poleSegments.push(zl.simpleSegment(bt,0,66,64)),bt+=66}this._poleNorthVertexBuffer=rt.createVertexBuffer(it,nS,!1),this._poleSouthVertexBuffer=rt.createVertexBuffer(lt,nS,!1)}getGridBuffers(rt){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[rt]]}getPoleBuffers(rt){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[rt]]}getWirefameBuffers(rt,tt){if(!this._wireframeSegments){const it=new Ru,lt=o_,dt=lt+1;this._wireframeSegments=[];for(let bt=0,Et=0;bt<s_.length;bt++){const Ot=s_[bt];for(let Yt=0;Yt<Ot;Yt++)for(let an=0;an<lt;an++){const yn=Yt*dt+an;it.emplaceBack(yn,yn+1),it.emplaceBack(yn,yn+dt),it.emplaceBack(yn,yn+dt+1)}const zt=Ot*lt*3;this._wireframeSegments.push(zl.simpleSegment(0,Et,(Ot+1)*dt,zt)),Et+=zt}this._wireframeIndexBuffer=rt.createIndexBuffer(it)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[tt]]}},j.GlyphManager=n_,j.ImagePosition=vF,j.LivePerformanceUtils=Dr,j.LngLat=Ms,j.LngLatBounds=nm,j.LocalGlyphMode=pU,j.MAX_MERCATOR_LATITUDE=Rm,j.MercatorCoordinate=by,j.ONE_EM=pu,j.OverscaledTileID=Du,j.PerformanceMarkers=Er,j.Properties=_o,j.RGBAImage=rp,j.Ray=tF,j.RequestManager=class{constructor(rt,tt,it){this._transformRequestFn=rt,this._customAccessToken=tt,this._silenceAuthErrors=!!it,this._createSkuToken()}_createSkuToken(){const rt=function(){let tt="";for(let it=0;it<10;it++)tt+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",It,tt].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=rt.token,this._skuTokenExpiresAt=rt.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(rt,tt){return this._transformRequestFn&&this._transformRequestFn(rt,tt)||{url:rt}}normalizeStyleURL(rt,tt){if(!Hn(rt))return rt;const it=jn(rt);return it.path=`/styles/v1${it.path}`,this._makeAPIURL(it,this._customAccessToken||tt)}normalizeGlyphsURL(rt,tt){if(!Hn(rt))return rt;const it=jn(rt);return it.path=`/fonts/v1${it.path}`,this._makeAPIURL(it,this._customAccessToken||tt)}normalizeSourceURL(rt,tt,it,lt){if(!Hn(rt))return rt;const dt=jn(rt);return dt.path=`/v4/${dt.authority}.json`,dt.params.push("secure"),it&&dt.params.push(`language=${it}`),lt&&dt.params.push(`worldview=${lt}`),this._makeAPIURL(dt,this._customAccessToken||tt)}normalizeSpriteURL(rt,tt,it,lt){const dt=jn(rt);return Hn(rt)?(dt.path=`/styles/v1${dt.path}/sprite${tt}${it}`,this._makeAPIURL(dt,this._customAccessToken||lt)):(dt.path+=`${tt}${it}`,Wn(dt))}normalizeTileURL(rt,tt,it){if(this._isSkuTokenExpired()&&this._createSkuToken(),rt&&!Hn(rt))return rt;const lt=jn(rt);lt.path=lt.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${tt||it&&lt.authority!=="raster"&&it===512?"@2x":""}${pt.supported?".webp":"$1"}`),lt.authority==="raster"?lt.path=`/${gt.RASTER_URL_PREFIX}${lt.path}`:(lt.path=lt.path.replace(/^.+\/v4\//,"/"),lt.path=`/${gt.TILE_URL_VERSION}${lt.path}`);const dt=this._customAccessToken||function(bt){for(const Et of bt){const Ot=Et.match(/^access_token=(.*)$/);if(Ot)return Ot[1]}return null}(lt.params)||gt.ACCESS_TOKEN;return gt.REQUIRE_ACCESS_TOKEN&&dt&&this._skuToken&&lt.params.push(`sku=${this._skuToken}`),this._makeAPIURL(lt,dt)}canonicalizeTileURL(rt,tt){const it=jn(rt);if(!it.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!it.path.match(/\.[\w]+$/))return rt;let lt="mapbox://";it.path.match(/^\/raster\/v1\//)?lt+=`raster/${it.path.replace(`/${gt.RASTER_URL_PREFIX}/`,"")}`:lt+=`tiles/${it.path.replace(`/${gt.TILE_URL_VERSION}/`,"")}`;let dt=it.params;return tt&&(dt=dt.filter(bt=>!bt.match(/^access_token=/))),dt.length&&(lt+=`?${dt.join("&")}`),lt}canonicalizeTileset(rt,tt){const it=!!tt&&Hn(tt),lt=[];for(const dt of rt.tiles||[])Jn(dt)?lt.push(this.canonicalizeTileURL(dt,it)):lt.push(dt);return lt}_makeAPIURL(rt,tt){const it="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",lt=jn(gt.API_URL);if(rt.protocol=lt.protocol,rt.authority=lt.authority,rt.protocol==="http"){const dt=rt.params.indexOf("secure");dt>=0&&rt.params.splice(dt,1)}if(lt.path!=="/"&&(rt.path=`${lt.path}${rt.path}`),!gt.REQUIRE_ACCESS_TOKEN)return Wn(rt);if(tt=tt||gt.ACCESS_TOKEN,!this._silenceAuthErrors){if(!tt)throw new Error(`An API access token is required to use Mapbox GL. ${it}`);if(tt[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${it}`)}return rt.params=rt.params.filter(dt=>dt.indexOf("access_token")===-1),rt.params.push(`access_token=${tt||""}`),Wn(rt)}},j.ResourceType=Ss,j.SegmentVector=zl,j.SourceCache=uv,j.StencilMode=ZR,j.StructArrayLayout1ui2=M0,j.StructArrayLayout2f1f2i16=Mu,j.StructArrayLayout2i4=gs,j.StructArrayLayout2ui4=Ru,j.StructArrayLayout3f12=_h,j.StructArrayLayout3ui6=iu,j.StructArrayLayout4i8=Gs,j.StructArrayLayout5f20=Vp,j.Texture=Ln,j.Tile=Ju,j.Transitionable=Wr,j.Uniform1f=Ov,j.Uniform1i=class extends Um{constructor(rt){super(rt),this.current=0}set(rt,tt,it){this.fetchUniformLocation(rt,tt)&&this.current!==it&&(this.current=it,this.gl.uniform1i(this.location,it))}},j.Uniform2f=class extends Um{constructor(rt){super(rt),this.current=[0,0]}set(rt,tt,it){this.fetchUniformLocation(rt,tt)&&(it[0]===this.current[0]&&it[1]===this.current[1]||(this.current=it,this.gl.uniform2f(this.location,it[0],it[1])))}},j.Uniform3f=class extends Um{constructor(rt){super(rt),this.current=[0,0,0]}set(rt,tt,it){this.fetchUniformLocation(rt,tt)&&(it[0]===this.current[0]&&it[1]===this.current[1]&&it[2]===this.current[2]||(this.current=it,this.gl.uniform3f(this.location,it[0],it[1],it[2])))}},j.Uniform4f=jU,j.UniformColor=zU,j.UniformMatrix2f=class extends Um{constructor(rt){super(rt),this.current=_S}set(rt,tt,it){if(this.fetchUniformLocation(rt,tt)){for(let lt=0;lt<4;lt++)if(it[lt]!==this.current[lt]){this.current=it,this.gl.uniformMatrix2fv(this.location,!1,it);break}}}},j.UniformMatrix3f=class extends Um{constructor(rt){super(rt),this.current=Fm}set(rt,tt,it){if(this.fetchUniformLocation(rt,tt)){for(let lt=0;lt<9;lt++)if(it[lt]!==this.current[lt]){this.current=it,this.gl.uniformMatrix3fv(this.location,!1,it);break}}}},j.UniformMatrix4f=class extends Um{constructor(rt){super(rt),this.current=_f}set(rt,tt,it){if(this.fetchUniformLocation(rt,tt)){if(it[12]!==this.current[12]||it[0]!==this.current[0])return this.current=it,void this.gl.uniformMatrix4fv(this.location,!1,it);for(let lt=1;lt<16;lt++)if(it[lt]!==this.current[lt]){this.current=it,this.gl.uniformMatrix4fv(this.location,!1,it);break}}}},j.UnwrappedTileID=mF,j.ValidationError=Ao,j.VectorTileFeature=rU,j.VectorTileWorkerSource=class extends mu{constructor(rt,tt,it,lt,dt){super(),this.actor=rt,this.layerIndex=tt,this.availableImages=it,this.loadVectorData=dt||dw,this.loading={},this.loaded={},this.deduped=new hw(rt.scheduler),this.isSpriteLoaded=lt,this.scheduler=rt.scheduler}loadTile(rt,tt){const it=rt.uid,lt=rt&&rt.request,dt=lt&&lt.collectResourceTiming,bt=this.loading[it]=new Uw(rt);bt.abort=this.loadVectorData(rt,(Et,Ot)=>{const zt=!this.loading[it];if(delete this.loading[it],zt||Et||!Ot)return bt.status="done",zt||(this.loaded[it]=bt),tt(Et);const Yt=Ot.rawData,an={};Ot.expires&&(an.expires=Ot.expires),Ot.cacheControl&&(an.cacheControl=Ot.cacheControl),bt.vectorTile=Ot.vectorTile||new hF(new K0(Yt));const yn=()=>{bt.parse(bt.vectorTile,this.layerIndex,this.availableImages,this.actor,(vn,An)=>{if(vn||!An)return tt(vn);const kn={};if(dt){const Pn=wo(lt);Pn.length>0&&(kn.resourceTiming=JSON.parse(JSON.stringify(Pn)))}tt(null,Rt({rawTileData:Yt.slice(0)},An,an,kn))})};this.isSpriteLoaded?yn():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(yn,{type:"parseTile",isSymbolTile:rt.isSymbolTile,zoom:rt.tileZoom}):yn()}),this.loaded=this.loaded||{},this.loaded[it]=bt})}reloadTile(rt,tt){const it=this.loaded,lt=rt.uid,dt=this;if(it&&it[lt]){const bt=it[lt];bt.showCollisionBoxes=rt.showCollisionBoxes,bt.enableTerrain=!!rt.enableTerrain,bt.projection=rt.projection,bt.tileTransform=i0(rt.tileID.canonical,rt.projection);const Et=(Ot,zt)=>{const Yt=bt.reloadCallback;Yt&&(delete bt.reloadCallback,bt.parse(bt.vectorTile,dt.layerIndex,this.availableImages,dt.actor,Yt)),tt(Ot,zt)};bt.status==="parsing"?bt.reloadCallback=Et:bt.status==="done"&&(bt.vectorTile?bt.parse(bt.vectorTile,this.layerIndex,this.availableImages,this.actor,Et):Et())}}abortTile(rt,tt){const it=rt.uid,lt=this.loading[it];lt&&(lt.abort&&lt.abort(),delete this.loading[it]),tt()}removeTile(rt,tt){const it=this.loaded,lt=rt.uid;it&&it[lt]&&delete it[lt],tt()}},j.WritingMode=wp,j.ZoomHistory=Rv,j.add=Bm,j.addDynamicAttributes=BU,j.adjoint=function(rt,tt){var it=tt[0],lt=tt[1],dt=tt[2],bt=tt[3],Et=tt[4],Ot=tt[5],zt=tt[6],Yt=tt[7],an=tt[8];return rt[0]=Et*an-Ot*Yt,rt[1]=dt*Yt-lt*an,rt[2]=lt*Ot-dt*Et,rt[3]=Ot*zt-bt*an,rt[4]=it*an-dt*zt,rt[5]=dt*bt-it*Ot,rt[6]=bt*Yt-Et*zt,rt[7]=lt*zt-it*Yt,rt[8]=it*Et-lt*bt,rt},j.asyncAll=Ht,j.bezier=jt,j.bindAll=fn,j.boundsAttributes=Vs,j.bufferConvexPolygon=function(rt,tt){const it=[];for(let lt=0;lt<rt.length;lt++){const dt=Gt(lt-1,-1,rt.length-1),bt=Gt(lt+1,-1,rt.length-1),Et=rt[lt],Ot=rt[bt],zt=rt[dt].sub(Et).unit(),Yt=Ot.sub(Et).unit(),an=Yt.angleWithSep(zt.x,zt.y),yn=zt.add(Yt).unit().mult(-1*tt/Math.sin(an/2));it.push(Et.add(yn))}return it},j.cacheEntryPossiblyAdded=function(rt){ba++,ba>Go&&(rt.getActor().send("enforceCacheSizeLimit",Io),ba=0)},j.calculateGlobeLabelMatrix=function(rt,tt){const{x:it,y:lt}=rt.point,dt=bU(it,lt,rt.worldSize/rt._pixelsPerMercatorPixel,0,0);return L0(dt,dt,AF(Cm(tt)))},j.calculateGlobeMatrix=function(rt){const{x:tt,y:it}=rt.point,{lng:lt,lat:dt}=rt._center;return bU(tt,it,rt.worldSize,lt,dt)},j.calculateGlobeMercatorMatrix=function(rt){const tt=rt.pixelsPerMeter,it=tt/Up(1,rt.center.lat),lt=im(new Float64Array(16));return Xy(lt,lt,[rt.point.x,rt.point.y,0]),Fy(lt,lt,[it,it,tt]),Float32Array.from(lt)},j.circumferenceAtLatitude=Pv,j.clamp=Zt,j.clearTileCache=function(rt){if(!rs())return;const tt=nt.caches.delete(io);rt&&tt.catch(rt).then(()=>rt())},j.clipLine=Wu,j.clone=function(rt){var tt=new tp(16);return tt[0]=rt[0],tt[1]=rt[1],tt[2]=rt[2],tt[3]=rt[3],tt[4]=rt[4],tt[5]=rt[5],tt[6]=rt[6],tt[7]=rt[7],tt[8]=rt[8],tt[9]=rt[9],tt[10]=rt[10],tt[11]=rt[11],tt[12]=rt[12],tt[13]=rt[13],tt[14]=rt[14],tt[15]=rt[15],tt},j.clone$1=Xt,j.collisionCircleLayout=dR,j.config=gt,j.conjugate=function(rt,tt){return rt[0]=-tt[0],rt[1]=-tt[1],rt[2]=-tt[2],rt[3]=tt[3],rt},j.create=function(){var rt=new tp(16);return tp!=Float32Array&&(rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0),rt[0]=1,rt[5]=1,rt[10]=1,rt[15]=1,rt},j.create$1=e1,j.createExpression=gm,j.createLayout=vo,j.createStyleLayer=function(rt){return rt.type==="custom"?new vt(rt):new Bn[rt.type](rt)},j.cross=eF,j.degToRad=Ft,j.distance=function(rt,tt){return Math.hypot(tt[0]-rt[0],tt[1]-rt[1],tt[2]-rt[2])},j.div=function(rt,tt,it){return rt[0]=tt[0]/it[0],rt[1]=tt[1]/it[1],rt[2]=tt[2]/it[2],rt},j.dot=Ip,j.earthRadius=L_,j.ease=qt,j.easeCubicInOut=Bt,j.ecefToLatLng=function([rt,tt,it]){const lt=Math.hypot(rt,tt,it),dt=Math.atan2(rt,it),bt=.5*Math.PI-Math.acos(-tt/lt);return new Ms(St(dt),St(bt))},j.emitValidationErrors=_g,j.endsWith=sn,j.enforceCacheSizeLimit=function(rt){$o(),lo&&lo.then(tt=>{tt.keys().then(it=>{for(let lt=0;lt<it.length-rt;lt++)tt.delete(it[lt])})})},j.evaluateSizeForFeature=X0,j.evaluateSizeForZoom=q0,j.evaluateVariableOffset=tS,j.evented=cr,j.exactEquals=function(rt,tt){return rt[0]===tt[0]&&rt[1]===tt[1]&&rt[2]===tt[2]&&rt[3]===tt[3]},j.exactEquals$1=function(rt,tt){return rt[0]===tt[0]&&rt[1]===tt[1]&&rt[2]===tt[2]},j.exported=as,j.exported$1=pt,j.extend=Rt,j.extend$1=Fl,j.fillExtrusionHeightLift=Q1,j.filterObject=Dt,j.fromMat4=function(rt,tt){return rt[0]=tt[0],rt[1]=tt[1],rt[2]=tt[2],rt[3]=tt[4],rt[4]=tt[5],rt[5]=tt[6],rt[6]=tt[8],rt[7]=tt[9],rt[8]=tt[10],rt},j.fromQuat=function(rt,tt){var it=tt[0],lt=tt[1],dt=tt[2],bt=tt[3],Et=it+it,Ot=lt+lt,zt=dt+dt,Yt=it*Et,an=lt*Et,yn=lt*Ot,vn=dt*Et,An=dt*Ot,kn=dt*zt,Pn=bt*Et,Xn=bt*Ot,fr=bt*zt;return rt[0]=1-yn-kn,rt[1]=an+fr,rt[2]=vn-Xn,rt[3]=0,rt[4]=an-fr,rt[5]=1-Yt-kn,rt[6]=An+Pn,rt[7]=0,rt[8]=vn+Xn,rt[9]=An-Pn,rt[10]=1-Yt-yn,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,rt},j.fromRotation=function(rt,tt){var it=Math.sin(tt),lt=Math.cos(tt);return rt[0]=lt,rt[1]=it,rt[2]=0,rt[3]=-it,rt[4]=lt,rt[5]=0,rt[6]=0,rt[7]=0,rt[8]=1,rt},j.fromScaling=XU,j.furthestTileCorner=function(rt){const tt=Math.round((rt+45+360)%360/90)%4;return Pt[tt]},j.getAABBPointSquareDist=function(rt,tt,it){let lt=0;for(let dt=0;dt<2;++dt){const bt=it?it[dt]:0;rt[dt]>bt&&(lt+=(rt[dt]-bt)*(rt[dt]-bt)),tt[dt]<bt&&(lt+=(bt-tt[dt])*(bt-tt[dt]))}return lt},j.getAnchorAlignment=UF,j.getAnchorJustification=RF,j.getBounds=function(rt){let tt=1/0,it=1/0,lt=-1/0,dt=-1/0;for(const bt of rt)tt=Math.min(tt,bt.x),it=Math.min(it,bt.y),lt=Math.max(lt,bt.x),dt=Math.max(dt,bt.y);return{min:new mt(tt,it),max:new mt(lt,dt)}},j.getColumn=qr,j.getGridMatrix=function(rt,tt,it,lt){const dt=tt.getNorth(),bt=tt.getSouth(),Et=tt.getWest(),Ot=tt.getEast(),zt=1<<rt.z,Yt=Ot-Et,an=dt-bt,yn=Yt/o_,vn=-an/s_[it],An=[0,yn,0,vn,0,0,dt,Et,0];if(rt.z>0){const kn=180/lt;t1(An,An,[kn/Yt+1,0,0,0,kn/an+1,0,-.5*kn/yn,.5*kn/vn,1])}return An[2]=zt,An[5]=rt.x,An[8]=rt.y,An},j.getImage=Cn,j.getJSON=function(rt,tt){return Ps(Rt(rt,{type:"json"}),tt)},j.getLatitudinalLod=function(rt){const tt=80.051129;rt=Zt(rt,-80.051129,tt)/tt*90;const it=Math.pow(Math.abs(Math.sin(Ft(rt))),3);return Math.round(it*(s_.length-1))},j.getMapSessionAPI=Rr,j.getPerformanceMeasurement=wo,j.getProjection=pS,j.getRTLTextPluginStatus=tr,j.getReferrer=Yl,j.getTilePoint=function(rt,{x:tt,y:it},lt=0){return new mt(((tt-lt)*rt.scale-rt.x)*Xo,(it*rt.scale-rt.y)*Xo)},j.getTileVec3=function(rt,tt,it=0){return J0(((tt.x-it)*rt.scale-rt.x)*Xo,(tt.y*rt.scale-rt.y)*Xo,HF(tt.z,tt.y))},j.getVideo=function(rt,tt){const it=nt.document.createElement("video");it.muted=!0,it.onloadstart=function(){tt(null,it)};for(let lt=0;lt<rt.length;lt++){const dt=nt.document.createElement("source");gu(rt[lt])||(it.crossOrigin="Anonymous"),dt.src=rt[lt],it.appendChild(dt)}return{cancel:()=>{}}},j.globeCenterToScreenPoint=function(rt){const tt=[0,0,0],it=im(new Float64Array(16));return L0(it,rt.pixelMatrix,rt.globeMatrix),Zl(tt,tt,it),new mt(tt[0],tt[1])},j.globeDenormalizeECEF=AF,j.globeECEFOrigin=function(rt,tt){const it=[0,0,0];return Zl(it,it,sv(Cm(tt.canonical))),Zl(it,it,rt),it},j.globeNormalizeECEF=sv,j.globePixelsToTileUnits=function(rt,tt){return Xo/(512*Math.pow(2,rt))*ov(Cm(tt))},j.globePoleMatrixForTile=function(rt,tt,it){const lt=im(new Float64Array(16)),dt=(tt/(1<<rt)-.5)*Math.PI*2;return W0(lt,it.globeMatrix,dt),Float32Array.from(lt)},j.globeTileBounds=Cm,j.globeTiltAtLngLat=lS,j.globeToMercatorTransition=c_,j.globeUseCustomAntiAliasing=function(rt,tt,it){const lt=c_(it.zoom),dt=rt.style.map._antialias,bt=!!tt.extStandardDerivatives,Et=tt.extStandardDerivativesForceOff||rt.terrain&&rt.terrain.exaggeration()>0;return lt===0&&!dt&&!Et&&bt},j.identity=im,j.identity$1=l1,j.invert=Zv,j.isFullscreen=function(){return!!nt.document.fullscreenElement||!!nt.document.webkitFullscreenElement},j.isLngLatBehindGlobe=function(rt,tt){return lS(rt,tt)>Math.PI/2*1.01},j.isMapAuthenticated=function(rt){return mr.has(rt)},j.isMapboxURL=Hn,j.isSafariWithAntialiasingBug=function(rt){const tt=rt.navigator?rt.navigator.userAgent:null;return!!Zr(rt)&&tt&&(tt.match("Version/15.4")||tt.match("Version/15.5")||tt.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},j.latFromMercatorY=ou,j.latLngToECEF=r0,j.len=RS,j.length=sm,j.length$1=function(rt){return Math.hypot(rt[0],rt[1],rt[2],rt[3])},j.lngFromMercatorX=Fp,j.loadVectorTile=dw,j.makeRequest=Ps,j.mapValue=function(rt,tt,it,lt,dt){return Zt((rt-tt)/(it-tt)*(dt-lt)+lt,lt,dt)},j.mercatorScale=wm,j.mercatorXfromLng=du,j.mercatorYfromLat=rm,j.mercatorZfromAltitude=Up,j.mul=Gv,j.mul$1=i1,j.multiply=L0,j.multiply$1=t1,j.multiply$2=n1,j.nextPowerOfTwo=Fn,j.normalize=Nu,j.normalize$1=wS,j.normalize$2=s1,j.number=xs,j.ortho=function(rt,tt,it,lt,dt,bt,Et){var Ot=1/(tt-it),zt=1/(lt-dt),Yt=1/(bt-Et);return rt[0]=-2*Ot,rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[5]=-2*zt,rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[10]=2*Yt,rt[11]=0,rt[12]=(tt+it)*Ot,rt[13]=(dt+lt)*zt,rt[14]=(Et+bt)*Yt,rt[15]=1,rt},j.pbf=K0,j.perspective=function(rt,tt,it,lt,dt){var bt,Et=1/Math.tan(tt/2);return rt[0]=Et/it,rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[5]=Et,rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[11]=-1,rt[12]=0,rt[13]=0,rt[15]=0,dt!=null&&dt!==1/0?(rt[10]=(dt+lt)*(bt=1/(lt-dt)),rt[14]=2*dt*lt*bt):(rt[10]=-1,rt[14]=-2*lt),rt},j.pick=function(rt,tt){const it={};for(let lt=0;lt<tt.length;lt++){const dt=tt[lt];dt in rt&&(it[dt]=rt[dt])}return it},j.plugin=br,j.pointGeometry=mt,j.polygonContainsPoint=Kl,j.polygonIntersectsBox=Jv,j.polygonIntersectsPolygon=$F,j.polygonizeBounds=function(rt,tt,it=0,lt=!0){const dt=new mt(it,it),bt=rt.sub(dt),Et=tt.add(dt),Ot=[bt,new mt(Et.x,bt.y),Et,new mt(bt.x,Et.y)];return lt&&Ot.push(bt.clone()),Ot},j.posAttributes=iv,j.postMapLoadEvent=Zn,j.postPerformanceEvent=hr,j.postTurnstileEvent=bn,j.potpack=uU,j.prevPowerOfTwo=function(rt){return rt<=1?1:Math.pow(2,Math.floor(Math.log(rt)/Math.LN2))},j.radToDeg=St,j.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],j.registerForPluginStateChange=function(rt){return rt({pluginStatus:er,pluginURL:ar}),cr.on("pluginStateChange",rt),rt},j.removeAuthState=function(rt){mr.delete(rt)},j.renderColorRamp=iF,j.resample=Lv,j.rotateX=qy,j.rotateX$1=c1,j.rotateY=W0,j.rotateY$1=u1,j.rotateZ=function(rt,tt,it){var lt=Math.sin(it),dt=Math.cos(it),bt=tt[0],Et=tt[1],Ot=tt[2],zt=tt[3],Yt=tt[4],an=tt[5],yn=tt[6],vn=tt[7];return tt!==rt&&(rt[8]=tt[8],rt[9]=tt[9],rt[10]=tt[10],rt[11]=tt[11],rt[12]=tt[12],rt[13]=tt[13],rt[14]=tt[14],rt[15]=tt[15]),rt[0]=bt*dt+Yt*lt,rt[1]=Et*dt+an*lt,rt[2]=Ot*dt+yn*lt,rt[3]=zt*dt+vn*lt,rt[4]=Yt*dt-bt*lt,rt[5]=an*dt-Et*lt,rt[6]=yn*dt-Ot*lt,rt[7]=vn*dt-zt*lt,rt},j.rotateZ$1=function(rt,tt,it){it*=.5;var lt=tt[0],dt=tt[1],bt=tt[2],Et=tt[3],Ot=Math.sin(it),zt=Math.cos(it);return rt[0]=lt*zt+dt*Ot,rt[1]=dt*zt-lt*Ot,rt[2]=bt*zt+Et*Ot,rt[3]=Et*zt-bt*Ot,rt},j.scale=Fy,j.scale$1=o1,j.scale$2=Sp,j.scaleAndAdd=G_,j.set=function(rt,tt,it,lt){return rt[0]=tt,rt[1]=it,rt[2]=lt,rt},j.setCacheLimits=function(rt,tt){Io=rt,Go=tt},j.setColumn=function(rt,tt,it){rt[4*tt+0]=it[0],rt[4*tt+1]=it[1],rt[4*tt+2]=it[2],rt[4*tt+3]=it[3]},j.setRTLTextPlugin=function(rt,tt,it=!1){if(er===Tn||er===Dn||er===zn)throw new Error("setRTLTextPlugin cannot be called multiple times.");ar=as.resolveURL(rt),er=Tn,or=tt,$n(),it||yr()},j.smoothstep=Wt,j.spec=zr,j.squaredLength=function(rt){var tt=rt[0],it=rt[1],lt=rt[2];return tt*tt+it*it+lt*lt},j.storeAuthState=function(rt,tt){tt?mr.add(rt):mr.delete(rt)},j.sub=Pp,j.subtract=KU,j.symbolSize=Hm,j.tileAABB=function(rt,tt,it,lt,dt,bt,Et,Ot,zt){if(zt.name==="globe")return CR(rt,tt,new $0(it,lt,dt));const Yt=i0({z:it,x:lt,y:dt},zt);return new Vu([(bt+Yt.x/Yt.scale)*tt,tt*(Yt.y/Yt.scale),Et],[(bt+Yt.x2/Yt.scale)*tt,tt*(Yt.y2/Yt.scale),Ot])},j.tileCornersToBounds=vU,j.tileTransform=i0,j.transformMat3=function(rt,tt,it){var lt=tt[0],dt=tt[1],bt=tt[2];return rt[0]=lt*it[0]+dt*it[3]+bt*it[6],rt[1]=lt*it[1]+dt*it[4]+bt*it[7],rt[2]=lt*it[2]+dt*it[5]+bt*it[8],rt},j.transformMat4=Zl,j.transformMat4$1=Sy,j.transformQuat=r1,j.transitionTileAABBinECEF=oS,j.translate=Xy,j.transpose=function(rt,tt){if(rt===tt){var it=tt[1],lt=tt[2],dt=tt[5];rt[1]=tt[3],rt[2]=tt[6],rt[3]=it,rt[5]=tt[7],rt[6]=lt,rt[7]=dt}else rt[0]=tt[0],rt[1]=tt[3],rt[2]=tt[6],rt[3]=tt[1],rt[4]=tt[4],rt[5]=tt[7],rt[6]=tt[2],rt[7]=tt[5],rt[8]=tt[8];return rt},j.triggerPluginCompletionEvent=Yn,j.uniqueId=nn,j.updateGlobeVertexNormal=function(rt,tt,it,lt,dt){const bt=5*tt+2;rt.float32[bt+0]=it,rt.float32[bt+1]=lt,rt.float32[bt+2]=dt},j.validateCustomStyleLayer=function(rt){const tt=[],it=rt.id;return it===void 0&&tt.push({message:`layers.${it}: missing required property "id"`}),rt.render===void 0&&tt.push({message:`layers.${it}: missing required method "render"`}),rt.renderingMode&&rt.renderingMode!=="2d"&&rt.renderingMode!=="3d"&&tt.push({message:`layers.${it}: property "renderingMode" must be either "2d" or "3d"`}),tt},j.validateFilter=rt=>Kp(Xp(rt)),j.validateFog=rt=>Kp(Kn(rt)),j.validateLayer=rt=>Kp(x_(rt)),j.validateLight=rt=>Kp(qp(rt)),j.validateSource=rt=>Kp(Wm(rt)),j.validateStyle=ks,j.validateTerrain=rt=>Kp(Q0(rt)),j.values=kt,j.vectorTile=tU,j.version=ot,j.warnOnce=mn,j.window=nt,j.wrap=Gt}),_e(["./shared"],function(j){function nt(Vn){if(typeof Vn=="number"||typeof Vn=="boolean"||typeof Vn=="string"||Vn==null)return JSON.stringify(Vn);if(Array.isArray(Vn)){let Sn="[";for(const Zn of Vn)Sn+=`${nt(Zn)},`;return`${Sn}]`}let bn="{";for(const Sn of Object.keys(Vn).sort())bn+=`${Sn}:${nt(Vn[Sn])},`;return`${bn}}`}function ot(Vn){let bn="";for(const Sn of j.refProperties)bn+=`/${nt(Vn[Sn])}`;return bn}class ct{constructor(bn){this.keyCache={},bn&&this.replace(bn)}replace(bn){this._layerConfigs={},this._layers={},this.update(bn,[])}update(bn,Sn){for(const ir of bn)this._layerConfigs[ir.id]=ir,(this._layers[ir.id]=j.createStyleLayer(ir)).compileFilter(),this.keyCache[ir.id]&&delete this.keyCache[ir.id];for(const ir of Sn)delete this.keyCache[ir],delete this._layerConfigs[ir],delete this._layers[ir];this.familiesBySource={};const Zn=function(ir,hr){const gr={};for(let mr=0;mr<ir.length;mr++){const Er=hr&&hr[ir[mr].id]||ot(ir[mr]);hr&&(hr[ir[mr].id]=Er);let Dr=gr[Er];Dr||(Dr=gr[Er]=[]),Dr.push(ir[mr])}const Rr=[];for(const mr in gr)Rr.push(gr[mr]);return Rr}(j.values(this._layerConfigs),this.keyCache);for(const ir of Zn){const hr=ir.map(Kr=>this._layers[Kr.id]),gr=hr[0];if(gr.visibility==="none")continue;const Rr=gr.source||"";let mr=this.familiesBySource[Rr];mr||(mr=this.familiesBySource[Rr]={});const Er=gr.sourceLayer||"_geojsonTileLayer";let Dr=mr[Er];Dr||(Dr=mr[Er]=[]),Dr.push(hr)}}}class gt{loadTile(bn,Sn){const{uid:Zn,encoding:ir,rawImageData:hr,padding:gr,buildQuadTree:Rr}=bn,mr=j.window.ImageBitmap&&hr instanceof j.window.ImageBitmap?this.getImageData(hr,gr):hr;Sn(null,new j.DEMData(Zn,mr,ir,gr<1,Rr))}getImageData(bn,Sn){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(bn.width,bn.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=bn.width,this.offscreenCanvas.height=bn.height,this.offscreenCanvasContext.drawImage(bn,0,0,bn.width,bn.height);const Zn=this.offscreenCanvasContext.getImageData(-Sn,-Sn,bn.width+2*Sn,bn.height+2*Sn);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Zn}}var pt=function Vn(bn,Sn){var Zn,ir=bn&&bn.type;if(ir==="FeatureCollection")for(Zn=0;Zn<bn.features.length;Zn++)Vn(bn.features[Zn],Sn);else if(ir==="GeometryCollection")for(Zn=0;Zn<bn.geometries.length;Zn++)Vn(bn.geometries[Zn],Sn);else if(ir==="Feature")Vn(bn.geometry,Sn);else if(ir==="Polygon")ft(bn.coordinates,Sn);else if(ir==="MultiPolygon")for(Zn=0;Zn<bn.coordinates.length;Zn++)ft(bn.coordinates[Zn],Sn);return bn};function ft(Vn,bn){if(Vn.length!==0){ut(Vn[0],bn);for(var Sn=1;Sn<Vn.length;Sn++)ut(Vn[Sn],!bn)}}function ut(Vn,bn){for(var Sn=0,Zn=0,ir=0,hr=Vn.length,gr=hr-1;ir<hr;gr=ir++){var Rr=(Vn[ir][0]-Vn[gr][0])*(Vn[gr][1]+Vn[ir][1]),mr=Sn+Rr;Zn+=Math.abs(Sn)>=Math.abs(Rr)?Sn-mr+Rr:Rr-mr+Sn,Sn=mr}Sn+Zn>=0!=!!bn&&Vn.reverse()}const yt=j.VectorTileFeature.prototype.toGeoJSON;class wt{constructor(bn){this._feature=bn,this.extent=j.EXTENT,this.type=bn.type,this.properties=bn.tags,"id"in bn&&!isNaN(bn.id)&&(this.id=parseInt(bn.id,10))}loadGeometry(){if(this._feature.type===1){const bn=[];for(const Sn of this._feature.geometry)bn.push([new j.pointGeometry(Sn[0],Sn[1])]);return bn}{const bn=[];for(const Sn of this._feature.geometry){const Zn=[];for(const ir of Sn)Zn.push(new j.pointGeometry(ir[0],ir[1]));bn.push(Zn)}return bn}}toGeoJSON(bn,Sn,Zn){return yt.call(this,bn,Sn,Zn)}}class Qt{constructor(bn){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=j.EXTENT,this.length=bn.length,this._features=bn}feature(bn){return new wt(this._features[bn])}}var It={exports:{}},xt=j.pointGeometry,Tt=j.vectorTile.VectorTileFeature,mt=Nt;function Nt(Vn,bn){this.options=bn||{},this.features=Vn,this.length=Vn.length}function en(Vn,bn){this.id=typeof Vn.id=="number"?Vn.id:void 0,this.type=Vn.type,this.rawGeometry=Vn.type===1?[Vn.geometry]:Vn.geometry,this.properties=Vn.tags,this.extent=bn||4096}Nt.prototype.feature=function(Vn){return new en(this.features[Vn],this.options.extent)},en.prototype.loadGeometry=function(){var Vn=this.rawGeometry;this.geometry=[];for(var bn=0;bn<Vn.length;bn++){for(var Sn=Vn[bn],Zn=[],ir=0;ir<Sn.length;ir++)Zn.push(new xt(Sn[ir][0],Sn[ir][1]));this.geometry.push(Zn)}return this.geometry},en.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Vn=this.geometry,bn=1/0,Sn=-1/0,Zn=1/0,ir=-1/0,hr=0;hr<Vn.length;hr++)for(var gr=Vn[hr],Rr=0;Rr<gr.length;Rr++){var mr=gr[Rr];bn=Math.min(bn,mr.x),Sn=Math.max(Sn,mr.x),Zn=Math.min(Zn,mr.y),ir=Math.max(ir,mr.y)}return[bn,Zn,Sn,ir]},en.prototype.toGeoJSON=Tt.prototype.toGeoJSON;var rn=j.pbf,Ft=mt;function St(Vn){var bn=new rn;return function(Sn,Zn){for(var ir in Sn.layers)Zn.writeMessage(3,Pt,Sn.layers[ir])}(Vn,bn),bn.finish()}function Pt(Vn,bn){var Sn;bn.writeVarintField(15,Vn.version||1),bn.writeStringField(1,Vn.name||""),bn.writeVarintField(5,Vn.extent||4096);var Zn={keys:[],values:[],keycache:{},valuecache:{}};for(Sn=0;Sn<Vn.length;Sn++)Zn.feature=Vn.feature(Sn),bn.writeMessage(2,Bt,Zn);var ir=Zn.keys;for(Sn=0;Sn<ir.length;Sn++)bn.writeStringField(3,ir[Sn]);var hr=Zn.values;for(Sn=0;Sn<hr.length;Sn++)bn.writeMessage(4,Gt,hr[Sn])}function Bt(Vn,bn){var Sn=Vn.feature;Sn.id!==void 0&&bn.writeVarintField(1,Sn.id),bn.writeMessage(2,jt,Vn),bn.writeVarintField(3,Sn.type),bn.writeMessage(4,Wt,Sn)}function jt(Vn,bn){var Sn=Vn.feature,Zn=Vn.keys,ir=Vn.values,hr=Vn.keycache,gr=Vn.valuecache;for(var Rr in Sn.properties){var mr=Sn.properties[Rr],Er=hr[Rr];if(mr!==null){Er===void 0&&(Zn.push(Rr),hr[Rr]=Er=Zn.length-1),bn.writeVarint(Er);var Dr=typeof mr;Dr!=="string"&&Dr!=="boolean"&&Dr!=="number"&&(mr=JSON.stringify(mr));var Kr=Dr+":"+mr,Hr=gr[Kr];Hr===void 0&&(ir.push(mr),gr[Kr]=Hr=ir.length-1),bn.writeVarint(Hr)}}}function qt(Vn,bn){return(bn<<3)+(7&Vn)}function Zt(Vn){return Vn<<1^Vn>>31}function Wt(Vn,bn){for(var Sn=Vn.loadGeometry(),Zn=Vn.type,ir=0,hr=0,gr=Sn.length,Rr=0;Rr<gr;Rr++){var mr=Sn[Rr],Er=1;Zn===1&&(Er=mr.length),bn.writeVarint(qt(1,Er));for(var Dr=Zn===3?mr.length-1:mr.length,Kr=0;Kr<Dr;Kr++){Kr===1&&Zn!==1&&bn.writeVarint(qt(2,Dr-1));var Hr=mr[Kr].x-ir,wo=mr[Kr].y-hr;bn.writeVarint(Zt(Hr)),bn.writeVarint(Zt(wo)),ir+=Hr,hr+=wo}Zn===3&&bn.writeVarint(qt(7,1))}}function Gt(Vn,bn){var Sn=typeof Vn;Sn==="string"?bn.writeStringField(1,Vn):Sn==="boolean"?bn.writeBooleanField(7,Vn):Sn==="number"&&(Vn%1!=0?bn.writeDoubleField(3,Vn):Vn<0?bn.writeSVarintField(6,Vn):bn.writeVarintField(5,Vn))}function Ht(Vn,bn,Sn,Zn,ir,hr){if(ir-Zn<=Sn)return;const gr=Zn+ir>>1;kt(Vn,bn,gr,Zn,ir,hr%2),Ht(Vn,bn,Sn,Zn,gr-1,hr+1),Ht(Vn,bn,Sn,gr+1,ir,hr+1)}function kt(Vn,bn,Sn,Zn,ir,hr){for(;ir>Zn;){if(ir-Zn>600){const Er=ir-Zn+1,Dr=Sn-Zn+1,Kr=Math.log(Er),Hr=.5*Math.exp(2*Kr/3),wo=.5*Math.sqrt(Kr*Hr*(Er-Hr)/Er)*(Dr-Er/2<0?-1:1);kt(Vn,bn,Sn,Math.max(Zn,Math.floor(Sn-Dr*Hr/Er+wo)),Math.min(ir,Math.floor(Sn+(Er-Dr)*Hr/Er+wo)),hr)}const gr=bn[2*Sn+hr];let Rr=Zn,mr=ir;for(Rt(Vn,bn,Zn,Sn),bn[2*ir+hr]>gr&&Rt(Vn,bn,Zn,ir);Rr<mr;){for(Rt(Vn,bn,Rr,mr),Rr++,mr--;bn[2*Rr+hr]<gr;)Rr++;for(;bn[2*mr+hr]>gr;)mr--}bn[2*Zn+hr]===gr?Rt(Vn,bn,Zn,mr):(mr++,Rt(Vn,bn,mr,ir)),mr<=Sn&&(Zn=mr+1),Sn<=mr&&(ir=mr-1)}}function Rt(Vn,bn,Sn,Zn){$t(Vn,Sn,Zn),$t(bn,2*Sn,2*Zn),$t(bn,2*Sn+1,2*Zn+1)}function $t(Vn,bn,Sn){const Zn=Vn[bn];Vn[bn]=Vn[Sn],Vn[Sn]=Zn}function nn(Vn,bn,Sn,Zn){const ir=Vn-Sn,hr=bn-Zn;return ir*ir+hr*hr}It.exports=St,It.exports.fromVectorTileJs=St,It.exports.fromGeojsonVt=function(Vn,bn){bn=bn||{};var Sn={};for(var Zn in Vn)Sn[Zn]=new Ft(Vn[Zn].features,bn),Sn[Zn].name=Zn,Sn[Zn].version=bn.version,Sn[Zn].extent=bn.extent;return St({layers:Sn})},It.exports.GeoJSONWrapper=Ft;const Un=Vn=>Vn[0],Fn=Vn=>Vn[1];class En{constructor(bn,Sn=Un,Zn=Fn,ir=64,hr=Float64Array){this.nodeSize=ir,this.points=bn;const gr=bn.length<65536?Uint16Array:Uint32Array,Rr=this.ids=new gr(bn.length),mr=this.coords=new hr(2*bn.length);for(let Er=0;Er<bn.length;Er++)Rr[Er]=Er,mr[2*Er]=Sn(bn[Er]),mr[2*Er+1]=Zn(bn[Er]);Ht(Rr,mr,ir,0,Rr.length-1,0)}range(bn,Sn,Zn,ir){return function(hr,gr,Rr,mr,Er,Dr,Kr){const Hr=[0,hr.length-1,0],wo=[];let To,Qo;for(;Hr.length;){const Do=Hr.pop(),Zo=Hr.pop(),as=Hr.pop();if(Zo-as<=Kr){for(let Bs=as;Bs<=Zo;Bs++)To=gr[2*Bs],Qo=gr[2*Bs+1],To>=Rr&&To<=Er&&Qo>=mr&&Qo<=Dr&&wo.push(hr[Bs]);continue}const Eo=Math.floor((as+Zo)/2);To=gr[2*Eo],Qo=gr[2*Eo+1],To>=Rr&&To<=Er&&Qo>=mr&&Qo<=Dr&&wo.push(hr[Eo]);const Qs=(Do+1)%2;(Do===0?Rr<=To:mr<=Qo)&&(Hr.push(as),Hr.push(Eo-1),Hr.push(Qs)),(Do===0?Er>=To:Dr>=Qo)&&(Hr.push(Eo+1),Hr.push(Zo),Hr.push(Qs))}return wo}(this.ids,this.coords,bn,Sn,Zn,ir,this.nodeSize)}within(bn,Sn,Zn){return function(ir,hr,gr,Rr,mr,Er){const Dr=[0,ir.length-1,0],Kr=[],Hr=mr*mr;for(;Dr.length;){const wo=Dr.pop(),To=Dr.pop(),Qo=Dr.pop();if(To-Qo<=Er){for(let Qs=Qo;Qs<=To;Qs++)nn(hr[2*Qs],hr[2*Qs+1],gr,Rr)<=Hr&&Kr.push(ir[Qs]);continue}const Do=Math.floor((Qo+To)/2),Zo=hr[2*Do],as=hr[2*Do+1];nn(Zo,as,gr,Rr)<=Hr&&Kr.push(ir[Do]);const Eo=(wo+1)%2;(wo===0?gr-mr<=Zo:Rr-mr<=as)&&(Dr.push(Qo),Dr.push(Do-1),Dr.push(Eo)),(wo===0?gr+mr>=Zo:Rr+mr>=as)&&(Dr.push(Do+1),Dr.push(To),Dr.push(Eo))}return Kr}(this.ids,this.coords,bn,Sn,Zn,this.nodeSize)}}const fn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Vn=>Vn},sn=Math.fround||(Ct=new Float32Array(1),Vn=>(Ct[0]=+Vn,Ct[0]));var Ct;class Dt{constructor(bn){this.options=co(Object.create(fn),bn),this.trees=new Array(this.options.maxZoom+1)}load(bn){const{log:Sn,minZoom:Zn,maxZoom:ir,nodeSize:hr}=this.options;Sn&&console.time("total time");const gr=`prepare ${bn.length} points`;Sn&&console.time(gr),this.points=bn;let Rr=[];for(let mr=0;mr<bn.length;mr++)bn[mr].geometry&&Rr.push(_n(bn[mr],mr));this.trees[ir+1]=new En(Rr,Zr,mo,hr,Float32Array),Sn&&console.timeEnd(gr);for(let mr=ir;mr>=Zn;mr--){const Er=+Date.now();Rr=this._cluster(Rr,mr),this.trees[mr]=new En(Rr,Zr,mo,hr,Float32Array),Sn&&console.log("z%d: %d clusters in %dms",mr,Rr.length,+Date.now()-Er)}return Sn&&console.timeEnd("total time"),this}getClusters(bn,Sn){let Zn=((bn[0]+180)%360+360)%360-180;const ir=Math.max(-90,Math.min(90,bn[1]));let hr=bn[2]===180?180:((bn[2]+180)%360+360)%360-180;const gr=Math.max(-90,Math.min(90,bn[3]));if(bn[2]-bn[0]>=360)Zn=-180,hr=180;else if(Zn>hr){const Dr=this.getClusters([Zn,ir,180,gr],Sn),Kr=this.getClusters([-180,ir,hr,gr],Sn);return Dr.concat(Kr)}const Rr=this.trees[this._limitZoom(Sn)],mr=Rr.range(On(Zn),nr(gr),On(hr),nr(ir)),Er=[];for(const Dr of mr){const Kr=Rr.points[Dr];Er.push(Kr.numPoints?mn(Kr):this.points[Kr.index])}return Er}getChildren(bn){const Sn=this._getOriginId(bn),Zn=this._getOriginZoom(bn),ir="No cluster with the specified id.",hr=this.trees[Zn];if(!hr)throw new Error(ir);const gr=hr.points[Sn];if(!gr)throw new Error(ir);const Rr=this.options.radius/(this.options.extent*Math.pow(2,Zn-1)),mr=hr.within(gr.x,gr.y,Rr),Er=[];for(const Dr of mr){const Kr=hr.points[Dr];Kr.parentId===bn&&Er.push(Kr.numPoints?mn(Kr):this.points[Kr.index])}if(Er.length===0)throw new Error(ir);return Er}getLeaves(bn,Sn,Zn){const ir=[];return this._appendLeaves(ir,bn,Sn=Sn||10,Zn=Zn||0,0),ir}getTile(bn,Sn,Zn){const ir=this.trees[this._limitZoom(bn)],hr=Math.pow(2,bn),{extent:gr,radius:Rr}=this.options,mr=Rr/gr,Er=(Zn-mr)/hr,Dr=(Zn+1+mr)/hr,Kr={features:[]};return this._addTileFeatures(ir.range((Sn-mr)/hr,Er,(Sn+1+mr)/hr,Dr),ir.points,Sn,Zn,hr,Kr),Sn===0&&this._addTileFeatures(ir.range(1-mr/hr,Er,1,Dr),ir.points,hr,Zn,hr,Kr),Sn===hr-1&&this._addTileFeatures(ir.range(0,Er,mr/hr,Dr),ir.points,-1,Zn,hr,Kr),Kr.features.length?Kr:null}getClusterExpansionZoom(bn){let Sn=this._getOriginZoom(bn)-1;for(;Sn<=this.options.maxZoom;){const Zn=this.getChildren(bn);if(Sn++,Zn.length!==1)break;bn=Zn[0].properties.cluster_id}return Sn}_appendLeaves(bn,Sn,Zn,ir,hr){const gr=this.getChildren(Sn);for(const Rr of gr){const mr=Rr.properties;if(mr&&mr.cluster?hr+mr.point_count<=ir?hr+=mr.point_count:hr=this._appendLeaves(bn,mr.cluster_id,Zn,ir,hr):hr<ir?hr++:bn.push(Rr),bn.length===Zn)break}return hr}_addTileFeatures(bn,Sn,Zn,ir,hr,gr){for(const Rr of bn){const mr=Sn[Rr],Er=mr.numPoints;let Dr,Kr,Hr;if(Er)Dr=xn(mr),Kr=mr.x,Hr=mr.y;else{const Qo=this.points[mr.index];Dr=Qo.properties,Kr=On(Qo.geometry.coordinates[0]),Hr=nr(Qo.geometry.coordinates[1])}const wo={type:1,geometry:[[Math.round(this.options.extent*(Kr*hr-Zn)),Math.round(this.options.extent*(Hr*hr-ir))]],tags:Dr};let To;Er?To=mr.id:this.options.generateId?To=mr.index:this.points[mr.index].id&&(To=this.points[mr.index].id),To!==void 0&&(wo.id=To),gr.features.push(wo)}}_limitZoom(bn){return Math.max(this.options.minZoom,Math.min(Math.floor(+bn),this.options.maxZoom+1))}_cluster(bn,Sn){const Zn=[],{radius:ir,extent:hr,reduce:gr,minPoints:Rr}=this.options,mr=ir/(hr*Math.pow(2,Sn));for(let Er=0;Er<bn.length;Er++){const Dr=bn[Er];if(Dr.zoom<=Sn)continue;Dr.zoom=Sn;const Kr=this.trees[Sn+1],Hr=Kr.within(Dr.x,Dr.y,mr),wo=Dr.numPoints||1;let To=wo;for(const Qo of Hr){const Do=Kr.points[Qo];Do.zoom>Sn&&(To+=Do.numPoints||1)}if(To>wo&&To>=Rr){let Qo=Dr.x*wo,Do=Dr.y*wo,Zo=gr&&wo>1?this._map(Dr,!0):null;const as=(Er<<5)+(Sn+1)+this.points.length;for(const Eo of Hr){const Qs=Kr.points[Eo];if(Qs.zoom<=Sn)continue;Qs.zoom=Sn;const Bs=Qs.numPoints||1;Qo+=Qs.x*Bs,Do+=Qs.y*Bs,Qs.parentId=as,gr&&(Zo||(Zo=this._map(Dr,!0)),gr(Zo,this._map(Qs)))}Dr.parentId=as,Zn.push(Xt(Qo/To,Do/To,as,To,Zo))}else if(Zn.push(Dr),To>1)for(const Qo of Hr){const Do=Kr.points[Qo];Do.zoom<=Sn||(Do.zoom=Sn,Zn.push(Do))}}return Zn}_getOriginId(bn){return bn-this.points.length>>5}_getOriginZoom(bn){return(bn-this.points.length)%32}_map(bn,Sn){if(bn.numPoints)return Sn?co({},bn.properties):bn.properties;const Zn=this.points[bn.index].properties,ir=this.options.map(Zn);return Sn&&ir===Zn?co({},ir):ir}}function Xt(Vn,bn,Sn,Zn,ir){return{x:sn(Vn),y:sn(bn),zoom:1/0,id:Sn,parentId:-1,numPoints:Zn,properties:ir}}function _n(Vn,bn){const[Sn,Zn]=Vn.geometry.coordinates;return{x:sn(On(Sn)),y:sn(nr(Zn)),zoom:1/0,index:bn,parentId:-1}}function mn(Vn){return{type:"Feature",id:Vn.id,properties:xn(Vn),geometry:{type:"Point",coordinates:[(bn=Vn.x,360*(bn-.5)),Nr(Vn.y)]}};var bn}function xn(Vn){const bn=Vn.numPoints,Sn=bn>=1e4?`${Math.round(bn/1e3)}k`:bn>=1e3?Math.round(bn/100)/10+"k":bn;return co(co({},Vn.properties),{cluster:!0,cluster_id:Vn.id,point_count:bn,point_count_abbreviated:Sn})}function On(Vn){return Vn/360+.5}function nr(Vn){const bn=Math.sin(Vn*Math.PI/180),Sn=.5-.25*Math.log((1+bn)/(1-bn))/Math.PI;return Sn<0?0:Sn>1?1:Sn}function Nr(Vn){const bn=(180-360*Vn)*Math.PI/180;return 360*Math.atan(Math.exp(bn))/Math.PI-90}function co(Vn,bn){for(const Sn in bn)Vn[Sn]=bn[Sn];return Vn}function Zr(Vn){return Vn.x}function mo(Vn){return Vn.y}function qr(Vn,bn,Sn,Zn){for(var ir,hr=Zn,gr=Sn-bn>>1,Rr=Sn-bn,mr=Vn[bn],Er=Vn[bn+1],Dr=Vn[Sn],Kr=Vn[Sn+1],Hr=bn+3;Hr<Sn;Hr+=3){var wo=io(Vn[Hr],Vn[Hr+1],mr,Er,Dr,Kr);if(wo>hr)ir=Hr,hr=wo;else if(wo===hr){var To=Math.abs(Hr-gr);To<Rr&&(ir=Hr,Rr=To)}}hr>Zn&&(ir-bn>3&&qr(Vn,bn,ir,Zn),Vn[ir+2]=hr,Sn-ir>3&&qr(Vn,ir,Sn,Zn))}function io(Vn,bn,Sn,Zn,ir,hr){var gr=ir-Sn,Rr=hr-Zn;if(gr!==0||Rr!==0){var mr=((Vn-Sn)*gr+(bn-Zn)*Rr)/(gr*gr+Rr*Rr);mr>1?(Sn=ir,Zn=hr):mr>0&&(Sn+=gr*mr,Zn+=Rr*mr)}return(gr=Vn-Sn)*gr+(Rr=bn-Zn)*Rr}function lo(Vn,bn,Sn,Zn){var ir={id:Vn===void 0?null:Vn,type:bn,geometry:Sn,tags:Zn,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(hr){var gr=hr.geometry,Rr=hr.type;if(Rr==="Point"||Rr==="MultiPoint"||Rr==="LineString")Vo(hr,gr);else if(Rr==="Polygon"||Rr==="MultiLineString")for(var mr=0;mr<gr.length;mr++)Vo(hr,gr[mr]);else if(Rr==="MultiPolygon")for(mr=0;mr<gr.length;mr++)for(var Er=0;Er<gr[mr].length;Er++)Vo(hr,gr[mr][Er])}(ir),ir}function Vo(Vn,bn){for(var Sn=0;Sn<bn.length;Sn+=3)Vn.minX=Math.min(Vn.minX,bn[Sn]),Vn.minY=Math.min(Vn.minY,bn[Sn+1]),Vn.maxX=Math.max(Vn.maxX,bn[Sn]),Vn.maxY=Math.max(Vn.maxY,bn[Sn+1])}function Io(Vn,bn,Sn,Zn){if(bn.geometry){var ir=bn.geometry.coordinates,hr=bn.geometry.type,gr=Math.pow(Sn.tolerance/((1<<Sn.maxZoom)*Sn.extent),2),Rr=[],mr=bn.id;if(Sn.promoteId?mr=bn.properties[Sn.promoteId]:Sn.generateId&&(mr=Zn||0),hr==="Point")Go(ir,Rr);else if(hr==="MultiPoint")for(var Er=0;Er<ir.length;Er++)Go(ir[Er],Rr);else if(hr==="LineString")rs(ir,Rr,gr,!1);else if(hr==="MultiLineString"){if(Sn.lineMetrics){for(Er=0;Er<ir.length;Er++)rs(ir[Er],Rr=[],gr,!1),Vn.push(lo(mr,"LineString",Rr,bn.properties));return}$o(ir,Rr,gr,!1)}else if(hr==="Polygon")$o(ir,Rr,gr,!0);else{if(hr!=="MultiPolygon"){if(hr==="GeometryCollection"){for(Er=0;Er<bn.geometry.geometries.length;Er++)Io(Vn,{id:mr,geometry:bn.geometry.geometries[Er],properties:bn.properties},Sn,Zn);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Er=0;Er<ir.length;Er++){var Dr=[];$o(ir[Er],Dr,gr,!0),Rr.push(Dr)}}Vn.push(lo(mr,hr,Rr,bn.properties))}}function Go(Vn,bn){bn.push(ds(Vn[0])),bn.push(ba(Vn[1])),bn.push(0)}function rs(Vn,bn,Sn,Zn){for(var ir,hr,gr=0,Rr=0;Rr<Vn.length;Rr++){var mr=ds(Vn[Rr][0]),Er=ba(Vn[Rr][1]);bn.push(mr),bn.push(Er),bn.push(0),Rr>0&&(gr+=Zn?(ir*Er-mr*hr)/2:Math.sqrt(Math.pow(mr-ir,2)+Math.pow(Er-hr,2))),ir=mr,hr=Er}var Dr=bn.length-3;bn[2]=1,qr(bn,0,Dr,Sn),bn[Dr+2]=1,bn.size=Math.abs(gr),bn.start=0,bn.end=bn.size}function $o(Vn,bn,Sn,Zn){for(var ir=0;ir<Vn.length;ir++){var hr=[];rs(Vn[ir],hr,Sn,Zn),bn.push(hr)}}function ds(Vn){return Vn/360+.5}function ba(Vn){var bn=Math.sin(Vn*Math.PI/180),Sn=.5-.25*Math.log((1+bn)/(1-bn))/Math.PI;return Sn<0?0:Sn>1?1:Sn}function Ss(Vn,bn,Sn,Zn,ir,hr,gr,Rr){if(Zn/=bn,hr>=(Sn/=bn)&&gr<Zn)return Vn;if(gr<Sn||hr>=Zn)return null;for(var mr=[],Er=0;Er<Vn.length;Er++){var Dr=Vn[Er],Kr=Dr.geometry,Hr=Dr.type,wo=ir===0?Dr.minX:Dr.minY,To=ir===0?Dr.maxX:Dr.maxY;if(wo>=Sn&&To<Zn)mr.push(Dr);else if(!(To<Sn||wo>=Zn)){var Qo=[];if(Hr==="Point"||Hr==="MultiPoint")Fs(Kr,Qo,Sn,Zn,ir);else if(Hr==="LineString")Yl(Kr,Qo,Sn,Zn,ir,!1,Rr.lineMetrics);else if(Hr==="MultiLineString")Cs(Kr,Qo,Sn,Zn,ir,!1);else if(Hr==="Polygon")Cs(Kr,Qo,Sn,Zn,ir,!0);else if(Hr==="MultiPolygon")for(var Do=0;Do<Kr.length;Do++){var Zo=[];Cs(Kr[Do],Zo,Sn,Zn,ir,!0),Zo.length&&Qo.push(Zo)}if(Qo.length){if(Rr.lineMetrics&&Hr==="LineString"){for(Do=0;Do<Qo.length;Do++)mr.push(lo(Dr.id,Hr,Qo[Do],Dr.tags));continue}Hr!=="LineString"&&Hr!=="MultiLineString"||(Qo.length===1?(Hr="LineString",Qo=Qo[0]):Hr="MultiLineString"),Hr!=="Point"&&Hr!=="MultiPoint"||(Hr=Qo.length===3?"Point":"MultiPoint"),mr.push(lo(Dr.id,Hr,Qo,Dr.tags))}}}return mr.length?mr:null}function Fs(Vn,bn,Sn,Zn,ir){for(var hr=0;hr<Vn.length;hr+=3){var gr=Vn[hr+ir];gr>=Sn&&gr<=Zn&&(bn.push(Vn[hr]),bn.push(Vn[hr+1]),bn.push(Vn[hr+2]))}}function Yl(Vn,bn,Sn,Zn,ir,hr,gr){for(var Rr,mr,Er=Ps(Vn),Dr=ir===0?Us:ru,Kr=Vn.start,Hr=0;Hr<Vn.length-3;Hr+=3){var wo=Vn[Hr],To=Vn[Hr+1],Qo=Vn[Hr+2],Do=Vn[Hr+3],Zo=Vn[Hr+4],as=ir===0?wo:To,Eo=ir===0?Do:Zo,Qs=!1;gr&&(Rr=Math.sqrt(Math.pow(wo-Do,2)+Math.pow(To-Zo,2))),as<Sn?Eo>Sn&&(mr=Dr(Er,wo,To,Do,Zo,Sn),gr&&(Er.start=Kr+Rr*mr)):as>Zn?Eo<Zn&&(mr=Dr(Er,wo,To,Do,Zo,Zn),gr&&(Er.start=Kr+Rr*mr)):gu(Er,wo,To,Qo),Eo<Sn&&as>=Sn&&(mr=Dr(Er,wo,To,Do,Zo,Sn),Qs=!0),Eo>Zn&&as<=Zn&&(mr=Dr(Er,wo,To,Do,Zo,Zn),Qs=!0),!hr&&Qs&&(gr&&(Er.end=Kr+Rr*mr),bn.push(Er),Er=Ps(Vn)),gr&&(Kr+=Rr)}var Bs=Vn.length-3;wo=Vn[Bs],To=Vn[Bs+1],Qo=Vn[Bs+2],(as=ir===0?wo:To)>=Sn&&as<=Zn&&gu(Er,wo,To,Qo),Bs=Er.length-3,hr&&Bs>=3&&(Er[Bs]!==Er[0]||Er[Bs+1]!==Er[1])&&gu(Er,Er[0],Er[1],Er[2]),Er.length&&bn.push(Er)}function Ps(Vn){var bn=[];return bn.size=Vn.size,bn.start=Vn.start,bn.end=Vn.end,bn}function Cs(Vn,bn,Sn,Zn,ir,hr){for(var gr=0;gr<Vn.length;gr++)Yl(Vn[gr],bn,Sn,Zn,ir,hr,!1)}function gu(Vn,bn,Sn,Zn){Vn.push(bn),Vn.push(Sn),Vn.push(Zn)}function Us(Vn,bn,Sn,Zn,ir,hr){var gr=(hr-bn)/(Zn-bn);return Vn.push(hr),Vn.push(Sn+(ir-Sn)*gr),Vn.push(1),gr}function ru(Vn,bn,Sn,Zn,ir,hr){var gr=(hr-Sn)/(ir-Sn);return Vn.push(bn+(Zn-bn)*gr),Vn.push(hr),Vn.push(1),gr}function Gr(Vn,bn){for(var Sn=[],Zn=0;Zn<Vn.length;Zn++){var ir,hr=Vn[Zn],gr=hr.type;if(gr==="Point"||gr==="MultiPoint"||gr==="LineString")ir=Cn(hr.geometry,bn);else if(gr==="MultiLineString"||gr==="Polygon"){ir=[];for(var Rr=0;Rr<hr.geometry.length;Rr++)ir.push(Cn(hr.geometry[Rr],bn))}else if(gr==="MultiPolygon")for(ir=[],Rr=0;Rr<hr.geometry.length;Rr++){for(var mr=[],Er=0;Er<hr.geometry[Rr].length;Er++)mr.push(Cn(hr.geometry[Rr][Er],bn));ir.push(mr)}Sn.push(lo(hr.id,gr,ir,hr.tags))}return Sn}function Cn(Vn,bn){var Sn=[];Sn.size=Vn.size,Vn.start!==void 0&&(Sn.start=Vn.start,Sn.end=Vn.end);for(var Zn=0;Zn<Vn.length;Zn+=3)Sn.push(Vn[Zn]+bn,Vn[Zn+1],Vn[Zn+2]);return Sn}function Mn(Vn,bn){if(Vn.transformed)return Vn;var Sn,Zn,ir,hr=1<<Vn.z,gr=Vn.x,Rr=Vn.y;for(Sn=0;Sn<Vn.features.length;Sn++){var mr=Vn.features[Sn],Er=mr.geometry,Dr=mr.type;if(mr.geometry=[],Dr===1)for(Zn=0;Zn<Er.length;Zn+=2)mr.geometry.push(Hn(Er[Zn],Er[Zn+1],bn,hr,gr,Rr));else for(Zn=0;Zn<Er.length;Zn++){var Kr=[];for(ir=0;ir<Er[Zn].length;ir+=2)Kr.push(Hn(Er[Zn][ir],Er[Zn][ir+1],bn,hr,gr,Rr));mr.geometry.push(Kr)}}return Vn.transformed=!0,Vn}function Hn(Vn,bn,Sn,Zn,ir,hr){return[Math.round(Sn*(Vn*Zn-ir)),Math.round(Sn*(bn*Zn-hr))]}function Jn(Vn,bn,Sn,Zn,ir){for(var hr=bn===ir.maxZoom?0:ir.tolerance/((1<<bn)*ir.extent),gr={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Sn,y:Zn,z:bn,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Rr=0;Rr<Vn.length;Rr++){gr.numFeatures++,pn(gr,Vn[Rr],hr,ir);var mr=Vn[Rr].minX,Er=Vn[Rr].minY,Dr=Vn[Rr].maxX,Kr=Vn[Rr].maxY;mr<gr.minX&&(gr.minX=mr),Er<gr.minY&&(gr.minY=Er),Dr>gr.maxX&&(gr.maxX=Dr),Kr>gr.maxY&&(gr.maxY=Kr)}return gr}function pn(Vn,bn,Sn,Zn){var ir=bn.geometry,hr=bn.type,gr=[];if(hr==="Point"||hr==="MultiPoint")for(var Rr=0;Rr<ir.length;Rr+=3)gr.push(ir[Rr]),gr.push(ir[Rr+1]),Vn.numPoints++,Vn.numSimplified++;else if(hr==="LineString")wn(gr,ir,Vn,Sn,!1,!1);else if(hr==="MultiLineString"||hr==="Polygon")for(Rr=0;Rr<ir.length;Rr++)wn(gr,ir[Rr],Vn,Sn,hr==="Polygon",Rr===0);else if(hr==="MultiPolygon")for(var mr=0;mr<ir.length;mr++){var Er=ir[mr];for(Rr=0;Rr<Er.length;Rr++)wn(gr,Er[Rr],Vn,Sn,!0,Rr===0)}if(gr.length){var Dr=bn.tags||null;if(hr==="LineString"&&Zn.lineMetrics){for(var Kr in Dr={},bn.tags)Dr[Kr]=bn.tags[Kr];Dr.mapbox_clip_start=ir.start/ir.size,Dr.mapbox_clip_end=ir.end/ir.size}var Hr={geometry:gr,type:hr==="Polygon"||hr==="MultiPolygon"?3:hr==="LineString"||hr==="MultiLineString"?2:1,tags:Dr};bn.id!==null&&(Hr.id=bn.id),Vn.features.push(Hr)}}function wn(Vn,bn,Sn,Zn,ir,hr){var gr=Zn*Zn;if(Zn>0&&bn.size<(ir?gr:Zn))Sn.numPoints+=bn.length/3;else{for(var Rr=[],mr=0;mr<bn.length;mr+=3)(Zn===0||bn[mr+2]>gr)&&(Sn.numSimplified++,Rr.push(bn[mr]),Rr.push(bn[mr+1])),Sn.numPoints++;ir&&function(Er,Dr){for(var Kr=0,Hr=0,wo=Er.length,To=wo-2;Hr<wo;To=Hr,Hr+=2)Kr+=(Er[Hr]-Er[To])*(Er[Hr+1]+Er[To+1]);if(Kr>0===Dr)for(Hr=0,wo=Er.length;Hr<wo/2;Hr+=2){var Qo=Er[Hr],Do=Er[Hr+1];Er[Hr]=Er[wo-2-Hr],Er[Hr+1]=Er[wo-1-Hr],Er[wo-2-Hr]=Qo,Er[wo-1-Hr]=Do}}(Rr,hr),Vn.push(Rr)}}function Nn(Vn,bn){var Sn=(bn=this.options=function(ir,hr){for(var gr in hr)ir[gr]=hr[gr];return ir}(Object.create(this.options),bn)).debug;if(Sn&&console.time("preprocess data"),bn.maxZoom<0||bn.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(bn.promoteId&&bn.generateId)throw new Error("promoteId and generateId cannot be used together.");var Zn=function(ir,hr){var gr=[];if(ir.type==="FeatureCollection")for(var Rr=0;Rr<ir.features.length;Rr++)Io(gr,ir.features[Rr],hr,Rr);else Io(gr,ir.type==="Feature"?ir:{geometry:ir},hr);return gr}(Vn,bn);this.tiles={},this.tileCoords=[],Sn&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",bn.indexMaxZoom,bn.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Zn=function(ir,hr){var gr=hr.buffer/hr.extent,Rr=ir,mr=Ss(ir,1,-1-gr,gr,0,-1,2,hr),Er=Ss(ir,1,1-gr,2+gr,0,-1,2,hr);return(mr||Er)&&(Rr=Ss(ir,1,-gr,1+gr,0,-1,2,hr)||[],mr&&(Rr=Gr(mr,1).concat(Rr)),Er&&(Rr=Rr.concat(Gr(Er,-1)))),Rr}(Zn,bn),Zn.length&&this.splitTile(Zn,0,0,0),Sn&&(Zn.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function jn(Vn,bn,Sn){return 32*((1<<Vn)*Sn+bn)+Vn}function Wn(Vn,bn){const Sn=Vn.tileID.canonical;if(!this._geoJSONIndex)return bn(null,null);const Zn=this._geoJSONIndex.getTile(Sn.z,Sn.x,Sn.y);if(!Zn)return bn(null,null);const ir=new Qt(Zn.features);let hr=It.exports(ir);hr.byteOffset===0&&hr.byteLength===hr.buffer.byteLength||(hr=new Uint8Array(hr)),bn(null,{vectorTile:ir,rawData:hr.buffer})}Nn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Nn.prototype.splitTile=function(Vn,bn,Sn,Zn,ir,hr,gr){for(var Rr=[Vn,bn,Sn,Zn],mr=this.options,Er=mr.debug;Rr.length;){Zn=Rr.pop(),Sn=Rr.pop(),bn=Rr.pop(),Vn=Rr.pop();var Dr=1<<bn,Kr=jn(bn,Sn,Zn),Hr=this.tiles[Kr];if(!Hr&&(Er>1&&console.time("creation"),Hr=this.tiles[Kr]=Jn(Vn,bn,Sn,Zn,mr),this.tileCoords.push({z:bn,x:Sn,y:Zn}),Er)){Er>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",bn,Sn,Zn,Hr.numFeatures,Hr.numPoints,Hr.numSimplified),console.timeEnd("creation"));var wo="z"+bn;this.stats[wo]=(this.stats[wo]||0)+1,this.total++}if(Hr.source=Vn,ir){if(bn===mr.maxZoom||bn===ir)continue;var To=1<<ir-bn;if(Sn!==Math.floor(hr/To)||Zn!==Math.floor(gr/To))continue}else if(bn===mr.indexMaxZoom||Hr.numPoints<=mr.indexMaxPoints)continue;if(Hr.source=null,Vn.length!==0){Er>1&&console.time("clipping");var Qo,Do,Zo,as,Eo,Qs,Bs=.5*mr.buffer/mr.extent,Qu=.5-Bs,mu=.5+Bs,zr=1+Bs;Qo=Do=Zo=as=null,Eo=Ss(Vn,Dr,Sn-Bs,Sn+mu,0,Hr.minX,Hr.maxX,mr),Qs=Ss(Vn,Dr,Sn+Qu,Sn+zr,0,Hr.minX,Hr.maxX,mr),Vn=null,Eo&&(Qo=Ss(Eo,Dr,Zn-Bs,Zn+mu,1,Hr.minY,Hr.maxY,mr),Do=Ss(Eo,Dr,Zn+Qu,Zn+zr,1,Hr.minY,Hr.maxY,mr),Eo=null),Qs&&(Zo=Ss(Qs,Dr,Zn-Bs,Zn+mu,1,Hr.minY,Hr.maxY,mr),as=Ss(Qs,Dr,Zn+Qu,Zn+zr,1,Hr.minY,Hr.maxY,mr),Qs=null),Er>1&&console.timeEnd("clipping"),Rr.push(Qo||[],bn+1,2*Sn,2*Zn),Rr.push(Do||[],bn+1,2*Sn,2*Zn+1),Rr.push(Zo||[],bn+1,2*Sn+1,2*Zn),Rr.push(as||[],bn+1,2*Sn+1,2*Zn+1)}}},Nn.prototype.getTile=function(Vn,bn,Sn){var Zn=this.options,ir=Zn.extent,hr=Zn.debug;if(Vn<0||Vn>24)return null;var gr=1<<Vn,Rr=jn(Vn,bn=(bn%gr+gr)%gr,Sn);if(this.tiles[Rr])return Mn(this.tiles[Rr],ir);hr>1&&console.log("drilling down to z%d-%d-%d",Vn,bn,Sn);for(var mr,Er=Vn,Dr=bn,Kr=Sn;!mr&&Er>0;)Er--,Dr=Math.floor(Dr/2),Kr=Math.floor(Kr/2),mr=this.tiles[jn(Er,Dr,Kr)];return mr&&mr.source?(hr>1&&console.log("found parent tile z%d-%d-%d",Er,Dr,Kr),hr>1&&console.time("drilling down"),this.splitTile(mr.source,Er,Dr,Kr,Vn,bn,Sn),hr>1&&console.timeEnd("drilling down"),this.tiles[Rr]?Mn(this.tiles[Rr],ir):null):null};class rr extends j.VectorTileWorkerSource{constructor(bn,Sn,Zn,ir,hr){super(bn,Sn,Zn,ir,Wn),hr&&(this.loadGeoJSON=hr)}loadData(bn,Sn){const Zn=bn&&bn.request,ir=Zn&&Zn.collectResourceTiming;this.loadGeoJSON(bn,(hr,gr)=>{if(hr||!gr)return Sn(hr);if(typeof gr!="object")return Sn(new Error(`Input data given to '${bn.source}' is not a valid GeoJSON object.`));{pt(gr,!0);try{if(bn.filter){const mr=j.createExpression(bn.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(mr.result==="error")throw new Error(mr.value.map(Dr=>`${Dr.key}: ${Dr.message}`).join(", "));gr={type:"FeatureCollection",features:gr.features.filter(Dr=>mr.value.evaluate({zoom:0},Dr))}}this._geoJSONIndex=bn.cluster?new Dt(function({superclusterOptions:mr,clusterProperties:Er}){if(!Er||!mr)return mr;const Dr={},Kr={},Hr={accumulated:null,zoom:0},wo={properties:null},To=Object.keys(Er);for(const Qo of To){const[Do,Zo]=Er[Qo],as=j.createExpression(Zo),Eo=j.createExpression(typeof Do=="string"?[Do,["accumulated"],["get",Qo]]:Do);Dr[Qo]=as.value,Kr[Qo]=Eo.value}return mr.map=Qo=>{wo.properties=Qo;const Do={};for(const Zo of To)Do[Zo]=Dr[Zo].evaluate(Hr,wo);return Do},mr.reduce=(Qo,Do)=>{wo.properties=Do;for(const Zo of To)Hr.accumulated=Qo[Zo],Qo[Zo]=Kr[Zo].evaluate(Hr,wo)},mr}(bn)).load(gr.features):function(mr,Er){return new Nn(mr,Er)}(gr,bn.geojsonVtOptions)}catch(mr){return Sn(mr)}this.loaded={};const Rr={};if(ir){const mr=j.getPerformanceMeasurement(Zn);mr&&(Rr.resourceTiming={},Rr.resourceTiming[bn.source]=JSON.parse(JSON.stringify(mr)))}Sn(null,Rr)}})}reloadTile(bn,Sn){const Zn=this.loaded;return Zn&&Zn[bn.uid]?super.reloadTile(bn,Sn):this.loadTile(bn,Sn)}loadGeoJSON(bn,Sn){if(bn.request)j.getJSON(bn.request,Sn);else{if(typeof bn.data!="string")return Sn(new Error(`Input data given to '${bn.source}' is not a valid GeoJSON object.`));try{return Sn(null,JSON.parse(bn.data))}catch{return Sn(new Error(`Input data given to '${bn.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(bn,Sn){try{Sn(null,this._geoJSONIndex.getClusterExpansionZoom(bn.clusterId))}catch(Zn){Sn(Zn)}}getClusterChildren(bn,Sn){try{Sn(null,this._geoJSONIndex.getChildren(bn.clusterId))}catch(Zn){Sn(Zn)}}getClusterLeaves(bn,Sn){try{Sn(null,this._geoJSONIndex.getLeaves(bn.clusterId,bn.limit,bn.offset))}catch(Zn){Sn(Zn)}}}class Qr{constructor(bn){this.self=bn,this.actor=new j.Actor(bn,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=j.getProjection({name:"mercator"}),this.workerSourceTypes={vector:j.VectorTileWorkerSource,geojson:rr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Sn,Zn)=>{if(this.workerSourceTypes[Sn])throw new Error(`Worker source with name "${Sn}" already registered.`);this.workerSourceTypes[Sn]=Zn},this.self.registerRTLTextPlugin=Sn=>{if(j.plugin.isParsed())throw new Error("RTL text plugin already registered.");j.plugin.applyArabicShaping=Sn.applyArabicShaping,j.plugin.processBidirectionalText=Sn.processBidirectionalText,j.plugin.processStyledBidirectionalText=Sn.processStyledBidirectionalText}}clearCaches(bn,Sn,Zn){delete this.layerIndexes[bn],delete this.availableImages[bn],delete this.workerSources[bn],delete this.demWorkerSources[bn],Zn()}checkIfReady(bn,Sn,Zn){Zn()}setReferrer(bn,Sn){this.referrer=Sn}spriteLoaded(bn,Sn){this.isSpriteLoaded[bn]=Sn;for(const Zn in this.workerSources[bn]){const ir=this.workerSources[bn][Zn];for(const hr in ir)ir[hr]instanceof j.VectorTileWorkerSource&&(ir[hr].isSpriteLoaded=Sn,ir[hr].fire(new j.Event("isSpriteLoaded")))}}setImages(bn,Sn,Zn){this.availableImages[bn]=Sn;for(const ir in this.workerSources[bn]){const hr=this.workerSources[bn][ir];for(const gr in hr)hr[gr].availableImages=Sn}Zn()}enableTerrain(bn,Sn,Zn){this.terrain=Sn,Zn()}setProjection(bn,Sn){this.projections[bn]=j.getProjection(Sn)}setLayers(bn,Sn,Zn){this.getLayerIndex(bn).replace(Sn),Zn()}updateLayers(bn,Sn,Zn){this.getLayerIndex(bn).update(Sn.layers,Sn.removedIds),Zn()}loadTile(bn,Sn,Zn){const ir=this.enableTerrain?j.extend({enableTerrain:this.terrain},Sn):Sn;ir.projection=this.projections[bn]||this.defaultProjection,this.getWorkerSource(bn,Sn.type,Sn.source).loadTile(ir,Zn)}loadDEMTile(bn,Sn,Zn){const ir=this.enableTerrain?j.extend({buildQuadTree:this.terrain},Sn):Sn;this.getDEMWorkerSource(bn,Sn.source).loadTile(ir,Zn)}reloadTile(bn,Sn,Zn){const ir=this.enableTerrain?j.extend({enableTerrain:this.terrain},Sn):Sn;ir.projection=this.projections[bn]||this.defaultProjection,this.getWorkerSource(bn,Sn.type,Sn.source).reloadTile(ir,Zn)}abortTile(bn,Sn,Zn){this.getWorkerSource(bn,Sn.type,Sn.source).abortTile(Sn,Zn)}removeTile(bn,Sn,Zn){this.getWorkerSource(bn,Sn.type,Sn.source).removeTile(Sn,Zn)}removeSource(bn,Sn,Zn){if(!this.workerSources[bn]||!this.workerSources[bn][Sn.type]||!this.workerSources[bn][Sn.type][Sn.source])return;const ir=this.workerSources[bn][Sn.type][Sn.source];delete this.workerSources[bn][Sn.type][Sn.source],ir.removeSource!==void 0?ir.removeSource(Sn,Zn):Zn()}loadWorkerSource(bn,Sn,Zn){try{this.self.importScripts(Sn.url),Zn()}catch(ir){Zn(ir.toString())}}syncRTLPluginState(bn,Sn,Zn){try{j.plugin.setState(Sn);const ir=j.plugin.getPluginURL();if(j.plugin.isLoaded()&&!j.plugin.isParsed()&&ir!=null){this.self.importScripts(ir);const hr=j.plugin.isParsed();Zn(hr?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ir}`),hr)}}catch(ir){Zn(ir.toString())}}getAvailableImages(bn){let Sn=this.availableImages[bn];return Sn||(Sn=[]),Sn}getLayerIndex(bn){let Sn=this.layerIndexes[bn];return Sn||(Sn=this.layerIndexes[bn]=new ct),Sn}getWorkerSource(bn,Sn,Zn){if(this.workerSources[bn]||(this.workerSources[bn]={}),this.workerSources[bn][Sn]||(this.workerSources[bn][Sn]={}),!this.workerSources[bn][Sn][Zn]){const ir={send:(hr,gr,Rr,mr,Er,Dr)=>{this.actor.send(hr,gr,Rr,bn,Er,Dr)},scheduler:this.actor.scheduler};this.workerSources[bn][Sn][Zn]=new this.workerSourceTypes[Sn](ir,this.getLayerIndex(bn),this.getAvailableImages(bn),this.isSpriteLoaded[bn])}return this.workerSources[bn][Sn][Zn]}getDEMWorkerSource(bn,Sn){return this.demWorkerSources[bn]||(this.demWorkerSources[bn]={}),this.demWorkerSources[bn][Sn]||(this.demWorkerSources[bn][Sn]=new gt),this.demWorkerSources[bn][Sn]}enforceCacheSizeLimit(bn,Sn){j.enforceCacheSizeLimit(Sn)}getWorkerPerformanceMetrics(bn,Sn,Zn){Zn(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Qr(self)),Qr}),_e(["./shared"],function(j){function nt(_t,st){if(Array.isArray(_t)){if(!Array.isArray(st)||_t.length!==st.length)return!1;for(let ht=0;ht<_t.length;ht++)if(!nt(_t[ht],st[ht]))return!1;return!0}if(typeof _t=="object"&&_t!==null&&st!==null){if(typeof st!="object"||Object.keys(_t).length!==Object.keys(st).length)return!1;for(const ht in _t)if(!nt(_t[ht],st[ht]))return!1;return!0}return _t===st}var ot=ct;function ct(_t){return!function(st){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Ut,Vt,Lt=new Blob([""],{type:"text/javascript"}),Kt=URL.createObjectURL(Lt);try{Vt=new Worker(Kt),Ut=!0}catch{Ut=!1}return Vt&&Vt.terminate(),URL.revokeObjectURL(Kt),Ut}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var Ut=document.createElement("canvas");Ut.width=Ut.height=1;var Vt=Ut.getContext("2d");if(!Vt)return!1;var Lt=Vt.getImageData(0,0,1,1);return Lt&&Lt.width===Ut.width}()?(gt[ht=st&&st.failIfMajorPerformanceCaveat]===void 0&&(gt[ht]=function(Ut){var Vt,Lt=function(Kt){var hn=document.createElement("canvas"),gn=Object.create(ct.webGLContextAttributes);return gn.failIfMajorPerformanceCaveat=Kt,hn.getContext("webgl",gn)||hn.getContext("experimental-webgl",gn)}(Ut);if(!Lt)return!1;try{Vt=Lt.createShader(Lt.VERTEX_SHADER)}catch{return!1}return!(!Vt||Lt.isContextLost())&&(Lt.shaderSource(Vt,"void main() {}"),Lt.compileShader(Vt),Lt.getShaderParameter(Vt,Lt.COMPILE_STATUS)===!0)}(ht)),gt[ht]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var ht}(_t)}var gt={};function pt(_t,st,ht){const Ut=j.window.document.createElement(_t);return st!==void 0&&(Ut.className=st),ht&&ht.appendChild(Ut),Ut}function ft(_t,st,ht){const Ut=j.window.document.createElementNS("http://www.w3.org/2000/svg",_t);for(const Vt of Object.keys(st))Ut.setAttributeNS(null,Vt,st[Vt]);return ht&&ht.appendChild(Ut),Ut}ct.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const ut=j.window.document&&j.window.document.documentElement.style,yt=ut&&ut.userSelect!==void 0?"userSelect":"WebkitUserSelect";let wt;function Qt(){ut&&yt&&(wt=ut[yt],ut[yt]="none")}function It(){ut&&yt&&(ut[yt]=wt)}function xt(_t){_t.preventDefault(),_t.stopPropagation(),j.window.removeEventListener("click",xt,!0)}function Tt(){j.window.addEventListener("click",xt,!0),j.window.setTimeout(()=>{j.window.removeEventListener("click",xt,!0)},0)}function mt(_t,st){const ht=_t.getBoundingClientRect();return rn(_t,ht,st)}function Nt(_t,st){const ht=_t.getBoundingClientRect(),Ut=[];for(let Vt=0;Vt<st.length;Vt++)Ut.push(rn(_t,ht,st[Vt]));return Ut}function en(_t){return j.window.InstallTrigger!==void 0&&_t.button===2&&_t.ctrlKey&&j.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_t.button}function rn(_t,st,ht){const Ut=_t.offsetWidth===st.width?1:_t.offsetWidth/st.width;return new j.pointGeometry((ht.clientX-st.left)*Ut,(ht.clientY-st.top)*Ut)}function Ft(_t,st){var ht=st[0],Ut=st[1],Vt=st[2],Lt=st[3],Kt=ht*Lt-Vt*Ut;return Kt?(_t[0]=Lt*(Kt=1/Kt),_t[1]=-Ut*Kt,_t[2]=-Vt*Kt,_t[3]=ht*Kt,_t):null}function St(_t){const{userImage:st}=_t;return!!(st&&st.render&&st.render())&&(_t.data.replace(new Uint8Array(st.data.buffer)),!0)}class Pt extends j.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new j.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(st){if(this.loaded!==st&&(this.loaded=st,st)){for(const{ids:ht,callback:Ut}of this.requestors)this._notify(ht,Ut);this.requestors=[]}}hasImage(st){return!!this.getImage(st)}getImage(st){return this.images[st]}addImage(st,ht){this._validate(st,ht)&&(this.images[st]=ht)}_validate(st,ht){let Ut=!0;return this._validateStretch(ht.stretchX,ht.data&&ht.data.width)||(this.fire(new j.ErrorEvent(new Error(`Image "${st}" has invalid "stretchX" value`))),Ut=!1),this._validateStretch(ht.stretchY,ht.data&&ht.data.height)||(this.fire(new j.ErrorEvent(new Error(`Image "${st}" has invalid "stretchY" value`))),Ut=!1),this._validateContent(ht.content,ht)||(this.fire(new j.ErrorEvent(new Error(`Image "${st}" has invalid "content" value`))),Ut=!1),Ut}_validateStretch(st,ht){if(!st)return!0;let Ut=0;for(const Vt of st){if(Vt[0]<Ut||Vt[1]<Vt[0]||ht<Vt[1])return!1;Ut=Vt[1]}return!0}_validateContent(st,ht){return!(st&&(st.length!==4||st[0]<0||ht.data.width<st[0]||st[1]<0||ht.data.height<st[1]||st[2]<0||ht.data.width<st[2]||st[3]<0||ht.data.height<st[3]||st[2]<st[0]||st[3]<st[1]))}updateImage(st,ht){ht.version=this.images[st].version+1,this.images[st]=ht,this.updatedImages[st]=!0}removeImage(st){const ht=this.images[st];delete this.images[st],delete this.patterns[st],ht.userImage&&ht.userImage.onRemove&&ht.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(st,ht){let Ut=!0;if(!this.isLoaded())for(const Vt of st)this.images[Vt]||(Ut=!1);this.isLoaded()||Ut?this._notify(st,ht):this.requestors.push({ids:st,callback:ht})}_notify(st,ht){const Ut={};for(const Vt of st){this.images[Vt]||this.fire(new j.Event("styleimagemissing",{id:Vt}));const Lt=this.images[Vt];Lt?Ut[Vt]={data:Lt.data.clone(),pixelRatio:Lt.pixelRatio,sdf:Lt.sdf,version:Lt.version,stretchX:Lt.stretchX,stretchY:Lt.stretchY,content:Lt.content,hasRenderCallback:Boolean(Lt.userImage&&Lt.userImage.render)}:j.warnOnce(`Image "${Vt}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}ht(null,Ut)}getPixelSize(){const{width:st,height:ht}=this.atlasImage;return{width:st,height:ht}}getPattern(st){const ht=this.patterns[st],Ut=this.getImage(st);if(!Ut)return null;if(ht&&ht.position.version===Ut.version)return ht.position;if(ht)ht.position.version=Ut.version;else{const Vt={w:Ut.data.width+2,h:Ut.data.height+2,x:0,y:0},Lt=new j.ImagePosition(Vt,Ut);this.patterns[st]={bin:Vt,position:Lt}}return this._updatePatternAtlas(),this.patterns[st].position}bind(st){const ht=st.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new j.Texture(st,this.atlasImage,ht.RGBA),this.atlasTexture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE)}_updatePatternAtlas(){const st=[];for(const Lt in this.patterns)st.push(this.patterns[Lt].bin);const{w:ht,h:Ut}=j.potpack(st),Vt=this.atlasImage;Vt.resize({width:ht||1,height:Ut||1});for(const Lt in this.patterns){const{bin:Kt}=this.patterns[Lt],hn=Kt.x+1,gn=Kt.y+1,Rn=this.images[Lt].data,Tn=Rn.width,Dn=Rn.height;j.RGBAImage.copy(Rn,Vt,{x:0,y:0},{x:hn,y:gn},{width:Tn,height:Dn}),j.RGBAImage.copy(Rn,Vt,{x:0,y:Dn-1},{x:hn,y:gn-1},{width:Tn,height:1}),j.RGBAImage.copy(Rn,Vt,{x:0,y:0},{x:hn,y:gn+Dn},{width:Tn,height:1}),j.RGBAImage.copy(Rn,Vt,{x:Tn-1,y:0},{x:hn-1,y:gn},{width:1,height:Dn}),j.RGBAImage.copy(Rn,Vt,{x:0,y:0},{x:hn+Tn,y:gn},{width:1,height:Dn})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(st){for(const ht of st){if(this.callbackDispatchedThisFrame[ht])continue;this.callbackDispatchedThisFrame[ht]=!0;const Ut=this.images[ht];St(Ut)&&this.updateImage(ht,Ut)}}}const Bt=new j.Properties({anchor:new j.DataConstantProperty(j.spec.light.anchor),position:new class{constructor(){this.specification=j.spec.light.position}possiblyEvaluate(_t,st){return function([ht,Ut,Vt]){const Lt=j.degToRad(Ut+90),Kt=j.degToRad(Vt);return{x:ht*Math.cos(Lt)*Math.sin(Kt),y:ht*Math.sin(Lt)*Math.sin(Kt),z:ht*Math.cos(Kt),azimuthal:Ut,polar:Vt}}(_t.expression.evaluate(st))}interpolate(_t,st,ht){return{x:j.number(_t.x,st.x,ht),y:j.number(_t.y,st.y,ht),z:j.number(_t.z,st.z,ht),azimuthal:j.number(_t.azimuthal,st.azimuthal,ht),polar:j.number(_t.polar,st.polar,ht)}}},color:new j.DataConstantProperty(j.spec.light.color),intensity:new j.DataConstantProperty(j.spec.light.intensity)}),jt="-transition";class qt extends j.Evented{constructor(st){super(),this._transitionable=new j.Transitionable(Bt),this.setLight(st),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(st,ht={}){if(!this._validate(j.validateLight,st,ht))for(const Ut in st){const Vt=st[Ut];j.endsWith(Ut,jt)?this._transitionable.setTransition(Ut.slice(0,-jt.length),Vt):this._transitionable.setValue(Ut,Vt)}}updateTransitions(st){this._transitioning=this._transitionable.transitioned(st,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(st){this.properties=this._transitioning.possiblyEvaluate(st)}_validate(st,ht,Ut){return(!Ut||Ut.validate!==!1)&&j.emitValidationErrors(this,st.call(j.validateStyle,j.extend({value:ht,style:{glyphs:!0,sprite:!0},styleSpec:j.spec})))}}const Zt=new j.Properties({source:new j.DataConstantProperty(j.spec.terrain.source),exaggeration:new j.DataConstantProperty(j.spec.terrain.exaggeration)}),Wt="-transition";class Gt extends j.Evented{constructor(st,ht){super(),this._transitionable=new j.Transitionable(Zt),this.set(st),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=ht}get(){return this._transitionable.serialize()}set(st){for(const ht in st){const Ut=st[ht];j.endsWith(ht,Wt)?this._transitionable.setTransition(ht.slice(0,-Wt.length),Ut):this._transitionable.setValue(ht,Ut)}}updateTransitions(st){this._transitioning=this._transitionable.transitioned(st,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(st){this.properties=this._transitioning.possiblyEvaluate(st)}}function Ht(_t,st,ht,Ut){const Vt=j.smoothstep(45,65,ht),[Lt,Kt]=kt(_t,Ut),hn=j.length(st);let gn=1-Math.min(1,Math.exp((hn-Lt)/(Kt-Lt)*-6));return gn*=gn*gn,gn=Math.min(1,1.00747*gn),gn*Vt*_t.alpha}function kt(_t,st){const ht=.5/Math.tan(.5*st);return[_t.range[0]+ht,_t.range[1]+ht]}const Rt=new j.Properties({range:new j.DataConstantProperty(j.spec.fog.range),color:new j.DataConstantProperty(j.spec.fog.color),"high-color":new j.DataConstantProperty(j.spec.fog["high-color"]),"space-color":new j.DataConstantProperty(j.spec.fog["space-color"]),"horizon-blend":new j.DataConstantProperty(j.spec.fog["horizon-blend"]),"star-intensity":new j.DataConstantProperty(j.spec.fog["star-intensity"])}),$t="-transition";class nn extends j.Evented{constructor(st,ht){super(),this._transitionable=new j.Transitionable(Rt),this.set(st),this._transitioning=this._transitionable.untransitioned(),this._transform=ht}get state(){const st=this._transform,ht=st.projection.name==="globe",Ut=j.globeToMercatorTransition(st.zoom),Vt=this.properties.get("range"),Lt=[.5,3];return{range:ht?[j.number(Lt[0],Vt[0],Ut),j.number(Lt[1],Vt[1],Ut)]:Vt,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(st,ht={}){if(!this._validate(j.validateFog,st,ht)){for(const Ut of Object.keys(j.spec.fog))st&&st[Ut]===void 0&&(st[Ut]=j.spec.fog[Ut].default);for(const Ut in st){const Vt=st[Ut];j.endsWith(Ut,$t)?this._transitionable.setTransition(Ut.slice(0,-$t.length),Vt):this._transitionable.setValue(Ut,Vt)}}}getOpacity(st){if(!this._transform.projection.supportsFog)return 0;const ht=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:j.smoothstep(45,65,st))*ht.a}getOpacityAtLatLng(st,ht){return this._transform.projection.supportsFog?function(Ut,Vt,Lt){const Kt=j.MercatorCoordinate.fromLngLat(Vt),hn=Lt.elevation?Lt.elevation.getAtPointOrZero(Kt):0,gn=[Kt.x,Kt.y,hn];return j.transformMat4(gn,gn,Lt.mercatorFogMatrix),Ht(Ut,gn,Lt.pitch,Lt._fov)}(this.state,st,ht):0}getFovAdjustedRange(st){return this._transform.projection.supportsFog?kt(this.state,st):[0,1]}updateTransitions(st){this._transitioning=this._transitionable.transitioned(st,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(st){this.properties=this._transitioning.possiblyEvaluate(st)}_validate(st,ht,Ut){return(!Ut||Ut.validate!==!1)&&j.emitValidationErrors(this,st.call(j.validateStyle,j.extend({value:ht,style:{glyphs:!0,sprite:!0},styleSpec:j.spec})))}}class Un{constructor(st,ht){this.workerPool=st,this.actors=[],this.currentActor=0,this.id=j.uniqueId();const Ut=this.workerPool.acquire(this.id);for(let Vt=0;Vt<Ut.length;Vt++){const Lt=new Un.Actor(Ut[Vt],ht,this.id);Lt.name=`Worker ${Vt}`,this.actors.push(Lt)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(st,ht,Ut){j.asyncAll(this.actors,(Vt,Lt)=>{Vt.send(st,ht,Lt)},Ut=Ut||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(st=>{st.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Fn(_t,st,ht){return st*(j.EXTENT/(_t.tileSize*Math.pow(2,ht-_t.tileID.overscaledZ)))}Un.Actor=j.Actor;class En{constructor(st,ht,Ut,Vt){this.screenBounds=st,this.cameraPoint=ht,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=Ut,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,Vt)}static createFromScreenPoints(st,ht){let Ut,Vt;if(st instanceof j.pointGeometry||typeof st[0]=="number"){const Lt=j.pointGeometry.convert(st);Ut=[Lt],Vt=ht.isPointAboveHorizon(Lt)}else{const Lt=j.pointGeometry.convert(st[0]),Kt=j.pointGeometry.convert(st[1]);Ut=[Lt,Kt],Vt=j.polygonizeBounds(Lt,Kt).every(hn=>ht.isPointAboveHorizon(hn))}return new En(Ut,ht.getCameraPoint(),Vt,ht)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(st){return j.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],st)}bufferedCameraGeometry(st){const ht=this.screenBounds[0],Ut=this.screenBounds.length===1?this.screenBounds[0].add(new j.pointGeometry(1,1)):this.screenBounds[1],Vt=j.polygonizeBounds(ht,Ut,0,!1);return this.cameraPoint.y>Ut.y&&(this.cameraPoint.x>ht.x&&this.cameraPoint.x<Ut.x?Vt.splice(3,0,this.cameraPoint):this.cameraPoint.x>=Ut.x?Vt[2]=this.cameraPoint:this.cameraPoint.x<=ht.x&&(Vt[3]=this.cameraPoint)),j.bufferConvexPolygon(Vt,st)}bufferedCameraGeometryGlobe(st){const ht=this.screenBounds[0],Ut=this.screenBounds.length===1?this.screenBounds[0].add(new j.pointGeometry(1,1)):this.screenBounds[1],Vt=j.polygonizeBounds(ht,Ut,st),Lt=this.cameraPoint.clone();switch(3*((Lt.y>ht.y)+(Lt.y>Ut.y))+((Lt.x>ht.x)+(Lt.x>Ut.x))){case 0:Vt[0]=Lt,Vt[4]=Lt.clone();break;case 1:Vt.splice(1,0,Lt);break;case 2:Vt[1]=Lt;break;case 3:Vt.splice(4,0,Lt);break;case 5:Vt.splice(2,0,Lt);break;case 6:Vt[3]=Lt;break;case 7:Vt.splice(3,0,Lt);break;case 8:Vt[2]=Lt}return Vt}containsTile(st,ht,Ut,Vt=0){const Lt=st.queryPadding/ht._pixelsPerMercatorPixel+1,Kt=Ut?this._bufferedCameraMercator(Lt,ht):this._bufferedScreenMercator(Lt,ht);let hn=st.tileID.wrap+(Kt.unwrapped?Vt:0);const gn=Kt.polygon.map(Yn=>j.getTilePoint(st.tileTransform,Yn,hn));if(!j.polygonIntersectsBox(gn,0,0,j.EXTENT,j.EXTENT))return;hn=st.tileID.wrap+(this.screenGeometryMercator.unwrapped?Vt:0);const Rn=this.screenGeometryMercator.polygon.map(Yn=>j.getTileVec3(st.tileTransform,Yn,hn)),Tn=Rn.map(Yn=>new j.pointGeometry(Yn[0],Yn[1])),Dn=ht.getFreeCameraOptions().position||new j.MercatorCoordinate(0,0,0),zn=j.getTileVec3(st.tileTransform,Dn,hn),or=Rn.map(Yn=>{const $n=j.sub(Yn,Yn,zn);return j.normalize($n,$n),new j.Ray(zn,$n)}),er=Fn(st,1,ht.zoom)*ht._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Tn,tilespaceRays:or,bufferedTilespaceGeometry:gn,bufferedTilespaceBounds:(ar=j.getBounds(gn),ar.min.x=j.clamp(ar.min.x,0,j.EXTENT),ar.min.y=j.clamp(ar.min.y,0,j.EXTENT),ar.max.x=j.clamp(ar.max.x,0,j.EXTENT),ar.max.y=j.clamp(ar.max.y,0,j.EXTENT),ar),tile:st,tileID:st.tileID,pixelToTileUnitsFactor:er};var ar}_bufferedScreenMercator(st,ht){const Ut=Ct(st);if(this._screenRaycastCache[Ut])return this._screenRaycastCache[Ut];{let Vt;return Vt=ht.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(st),ht):{polygon:this.bufferedScreenGeometry(st).map(Lt=>ht.pointCoordinate3D(Lt)),unwrapped:!0},this._screenRaycastCache[Ut]=Vt,Vt}}_bufferedCameraMercator(st,ht){const Ut=Ct(st);if(this._cameraRaycastCache[Ut])return this._cameraRaycastCache[Ut];{let Vt;return Vt=ht.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(st),ht):{polygon:this.bufferedCameraGeometry(st).map(Lt=>ht.pointCoordinate3D(Lt)),unwrapped:!0},this._cameraRaycastCache[Ut]=Vt,Vt}}_projectAndResample(st,ht){const Ut=function(Lt,Kt){const hn=j.multiply([],Kt.pixelMatrix,Kt.globeMatrix),gn=[0,-j.GLOBE_RADIUS,0,1],Rn=[0,j.GLOBE_RADIUS,0,1],Tn=[0,0,0,1];j.transformMat4$1(gn,gn,hn),j.transformMat4$1(Rn,Rn,hn),j.transformMat4$1(Tn,Tn,hn);const Dn=new j.pointGeometry(gn[0]/gn[3],gn[1]/gn[3]),zn=new j.pointGeometry(Rn[0]/Rn[3],Rn[1]/Rn[3]),or=j.polygonContainsPoint(Lt,Dn)&&gn[3]<Tn[3],er=j.polygonContainsPoint(Lt,zn)&&Rn[3]<Tn[3];if(!or&&!er)return null;const ar=function(Sr,Ar,Wr){for(let Pr=1;Pr<Sr.length;Pr++){const ho=sn(Ar.pointCoordinate3D(Sr[Pr-1]).x),xr=sn(Ar.pointCoordinate3D(Sr[Pr]).x);if(Wr<0){if(ho<xr)return{idx:Pr,t:-ho/(xr-1-ho)}}else if(xr<ho)return{idx:Pr,t:(1-ho)/(xr+1-ho)}}return null}(Lt,Kt,or?-1:1);if(!ar)return null;const{idx:Yn,t:$n}=ar;let cr=Yn>1?fn(Lt.slice(0,Yn),Kt):[],tr=Yn<Lt.length?fn(Lt.slice(Yn),Kt):[];cr=cr.map(Sr=>new j.pointGeometry(sn(Sr.x),Sr.y)),tr=tr.map(Sr=>new j.pointGeometry(sn(Sr.x),Sr.y));const yr=[...cr];yr.length===0&&yr.push(tr[tr.length-1]);const br=j.number(yr[yr.length-1].y,(tr.length===0?cr[0]:tr[0]).y,$n);let ur;return ur=or?[new j.pointGeometry(0,br),new j.pointGeometry(0,0),new j.pointGeometry(1,0),new j.pointGeometry(1,br)]:[new j.pointGeometry(1,br),new j.pointGeometry(1,1),new j.pointGeometry(0,1),new j.pointGeometry(0,br)],yr.push(...ur),tr.length===0?yr.push(cr[0]):yr.push(...tr),{polygon:yr.map(Sr=>new j.MercatorCoordinate(Sr.x,Sr.y)),unwrapped:!1}}(st,ht);if(Ut)return Ut;const Vt=function(Lt,Kt){let hn=!1,gn=-1/0,Rn=0;for(let Dn=0;Dn<Lt.length-1;Dn++)Lt[Dn].x>gn&&(gn=Lt[Dn].x,Rn=Dn);for(let Dn=0;Dn<Lt.length-1;Dn++){const zn=(Rn+Dn)%(Lt.length-1),or=Lt[zn],er=Lt[zn+1];Math.abs(or.x-er.x)>.5&&(or.x<er.x?(or.x+=1,zn===0&&(Lt[Lt.length-1].x+=1)):(er.x+=1,zn+1===Lt.length-1&&(Lt[0].x+=1)),hn=!0)}const Tn=j.mercatorXfromLng(Kt.center.lng);return hn&&Tn<Math.abs(Tn-1)&&Lt.forEach(Dn=>{Dn.x-=1}),{polygon:Lt,unwrapped:hn}}(fn(st,ht).map(Lt=>new j.pointGeometry(sn(Lt.x),Lt.y)),ht);return{polygon:Vt.polygon.map(Lt=>new j.MercatorCoordinate(Lt.x,Lt.y)),unwrapped:Vt.unwrapped}}}function fn(_t,st){return j.resample(_t,ht=>{const Ut=st.pointCoordinate3D(ht);ht.x=Ut.x,ht.y=Ut.y},1/256)}function sn(_t){return _t<0?1+_t%1:_t%1}function Ct(_t){return 100*_t|0}function Dt(_t,st,ht,Ut,Vt){const Lt=function(Kt,hn){if(Kt)return Vt(Kt);if(hn){_t.url&&hn.tiles&&_t.tiles&&delete _t.tiles;const gn=j.pick(j.extend(hn,_t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);hn.vector_layers&&(gn.vectorLayers=hn.vector_layers,gn.vectorLayerIds=gn.vectorLayers.map(Rn=>Rn.id)),gn.tiles=st.canonicalizeTileset(gn,_t.url),Vt(null,gn)}};return _t.url?j.getJSON(st.transformRequest(st.normalizeSourceURL(_t.url,null,ht,Ut),j.ResourceType.Source),Lt):j.exported.frame(()=>Lt(null,_t))}class Xt{constructor(st,ht,Ut){this.bounds=j.LngLatBounds.convert(this.validateBounds(st)),this.minzoom=ht||0,this.maxzoom=Ut||24}validateBounds(st){return Array.isArray(st)&&st.length===4?[Math.max(-180,st[0]),Math.max(-90,st[1]),Math.min(180,st[2]),Math.min(90,st[3])]:[-180,-90,180,90]}contains(st){const ht=Math.pow(2,st.z),Ut=Math.floor(j.mercatorXfromLng(this.bounds.getWest())*ht),Vt=Math.floor(j.mercatorYfromLat(this.bounds.getNorth())*ht),Lt=Math.ceil(j.mercatorXfromLng(this.bounds.getEast())*ht),Kt=Math.ceil(j.mercatorYfromLat(this.bounds.getSouth())*ht);return st.x>=Ut&&st.x<Lt&&st.y>=Vt&&st.y<Kt}}class _n{constructor(st,ht,Ut){this.context=st;const Vt=st.gl;this.buffer=Vt.createBuffer(),this.dynamicDraw=Boolean(Ut),this.context.unbindVAO(),st.bindElementBuffer.set(this.buffer),Vt.bufferData(Vt.ELEMENT_ARRAY_BUFFER,ht.arrayBuffer,this.dynamicDraw?Vt.DYNAMIC_DRAW:Vt.STATIC_DRAW),this.dynamicDraw||ht.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(st){const ht=this.context.gl;this.context.unbindVAO(),this.bind(),ht.bufferSubData(ht.ELEMENT_ARRAY_BUFFER,0,st.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const mn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class xn{constructor(st,ht,Ut,Vt){this.length=ht.length,this.attributes=Ut,this.itemSize=ht.bytesPerElement,this.dynamicDraw=Vt,this.context=st;const Lt=st.gl;this.buffer=Lt.createBuffer(),st.bindVertexBuffer.set(this.buffer),Lt.bufferData(Lt.ARRAY_BUFFER,ht.arrayBuffer,this.dynamicDraw?Lt.DYNAMIC_DRAW:Lt.STATIC_DRAW),this.dynamicDraw||ht.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(st){const ht=this.context.gl;this.bind(),ht.bufferSubData(ht.ARRAY_BUFFER,0,st.arrayBuffer)}enableAttributes(st,ht){for(let Ut=0;Ut<this.attributes.length;Ut++){const Vt=ht.attributes[this.attributes[Ut].name];Vt!==void 0&&st.enableVertexAttribArray(Vt)}}setVertexAttribPointers(st,ht,Ut){for(let Vt=0;Vt<this.attributes.length;Vt++){const Lt=this.attributes[Vt],Kt=ht.attributes[Lt.name];Kt!==void 0&&st.vertexAttribPointer(Kt,Lt.components,st[mn[Lt.type]],!1,this.itemSize,Lt.offset+this.itemSize*(Ut||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class On{constructor(st){this.gl=st.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(st){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class nr extends On{getDefault(){return j.Color.transparent}set(st){const ht=this.current;(st.r!==ht.r||st.g!==ht.g||st.b!==ht.b||st.a!==ht.a||this.dirty)&&(this.gl.clearColor(st.r,st.g,st.b,st.a),this.current=st,this.dirty=!1)}}class Nr extends On{getDefault(){return 1}set(st){(st!==this.current||this.dirty)&&(this.gl.clearDepth(st),this.current=st,this.dirty=!1)}}class co extends On{getDefault(){return 0}set(st){(st!==this.current||this.dirty)&&(this.gl.clearStencil(st),this.current=st,this.dirty=!1)}}class Zr extends On{getDefault(){return[!0,!0,!0,!0]}set(st){const ht=this.current;(st[0]!==ht[0]||st[1]!==ht[1]||st[2]!==ht[2]||st[3]!==ht[3]||this.dirty)&&(this.gl.colorMask(st[0],st[1],st[2],st[3]),this.current=st,this.dirty=!1)}}class mo extends On{getDefault(){return!0}set(st){(st!==this.current||this.dirty)&&(this.gl.depthMask(st),this.current=st,this.dirty=!1)}}class qr extends On{getDefault(){return 255}set(st){(st!==this.current||this.dirty)&&(this.gl.stencilMask(st),this.current=st,this.dirty=!1)}}class io extends On{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(st){const ht=this.current;(st.func!==ht.func||st.ref!==ht.ref||st.mask!==ht.mask||this.dirty)&&(this.gl.stencilFunc(st.func,st.ref,st.mask),this.current=st,this.dirty=!1)}}class lo extends On{getDefault(){const st=this.gl;return[st.KEEP,st.KEEP,st.KEEP]}set(st){const ht=this.current;(st[0]!==ht[0]||st[1]!==ht[1]||st[2]!==ht[2]||this.dirty)&&(this.gl.stencilOp(st[0],st[1],st[2]),this.current=st,this.dirty=!1)}}class Vo extends On{getDefault(){return!1}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;st?ht.enable(ht.STENCIL_TEST):ht.disable(ht.STENCIL_TEST),this.current=st,this.dirty=!1}}class Io extends On{getDefault(){return[0,1]}set(st){const ht=this.current;(st[0]!==ht[0]||st[1]!==ht[1]||this.dirty)&&(this.gl.depthRange(st[0],st[1]),this.current=st,this.dirty=!1)}}class Go extends On{getDefault(){return!1}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;st?ht.enable(ht.DEPTH_TEST):ht.disable(ht.DEPTH_TEST),this.current=st,this.dirty=!1}}class rs extends On{getDefault(){return this.gl.LESS}set(st){(st!==this.current||this.dirty)&&(this.gl.depthFunc(st),this.current=st,this.dirty=!1)}}class $o extends On{getDefault(){return!1}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;st?ht.enable(ht.BLEND):ht.disable(ht.BLEND),this.current=st,this.dirty=!1}}class ds extends On{getDefault(){const st=this.gl;return[st.ONE,st.ZERO]}set(st){const ht=this.current;(st[0]!==ht[0]||st[1]!==ht[1]||this.dirty)&&(this.gl.blendFunc(st[0],st[1]),this.current=st,this.dirty=!1)}}class ba extends On{getDefault(){return j.Color.transparent}set(st){const ht=this.current;(st.r!==ht.r||st.g!==ht.g||st.b!==ht.b||st.a!==ht.a||this.dirty)&&(this.gl.blendColor(st.r,st.g,st.b,st.a),this.current=st,this.dirty=!1)}}class Ss extends On{getDefault(){return this.gl.FUNC_ADD}set(st){(st!==this.current||this.dirty)&&(this.gl.blendEquation(st),this.current=st,this.dirty=!1)}}class Fs extends On{getDefault(){return!1}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;st?ht.enable(ht.CULL_FACE):ht.disable(ht.CULL_FACE),this.current=st,this.dirty=!1}}class Yl extends On{getDefault(){return this.gl.BACK}set(st){(st!==this.current||this.dirty)&&(this.gl.cullFace(st),this.current=st,this.dirty=!1)}}class Ps extends On{getDefault(){return this.gl.CCW}set(st){(st!==this.current||this.dirty)&&(this.gl.frontFace(st),this.current=st,this.dirty=!1)}}class Cs extends On{getDefault(){return null}set(st){(st!==this.current||this.dirty)&&(this.gl.useProgram(st),this.current=st,this.dirty=!1)}}class gu extends On{getDefault(){return this.gl.TEXTURE0}set(st){(st!==this.current||this.dirty)&&(this.gl.activeTexture(st),this.current=st,this.dirty=!1)}}class Us extends On{getDefault(){const st=this.gl;return[0,0,st.drawingBufferWidth,st.drawingBufferHeight]}set(st){const ht=this.current;(st[0]!==ht[0]||st[1]!==ht[1]||st[2]!==ht[2]||st[3]!==ht[3]||this.dirty)&&(this.gl.viewport(st[0],st[1],st[2],st[3]),this.current=st,this.dirty=!1)}}class ru extends On{getDefault(){return null}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;ht.bindFramebuffer(ht.FRAMEBUFFER,st),this.current=st,this.dirty=!1}}class Gr extends On{getDefault(){return null}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;ht.bindRenderbuffer(ht.RENDERBUFFER,st),this.current=st,this.dirty=!1}}class Cn extends On{getDefault(){return null}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;ht.bindTexture(ht.TEXTURE_2D,st),this.current=st,this.dirty=!1}}class Mn extends On{getDefault(){return null}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;ht.bindBuffer(ht.ARRAY_BUFFER,st),this.current=st,this.dirty=!1}}class Hn extends On{getDefault(){return null}set(st){const ht=this.gl;ht.bindBuffer(ht.ELEMENT_ARRAY_BUFFER,st),this.current=st,this.dirty=!1}}class Jn extends On{constructor(st){super(st),this.vao=st.extVertexArrayObject}getDefault(){return null}set(st){this.vao&&(st!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(st),this.current=st,this.dirty=!1)}}class pn extends On{getDefault(){return 4}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;ht.pixelStorei(ht.UNPACK_ALIGNMENT,st),this.current=st,this.dirty=!1}}class wn extends On{getDefault(){return!1}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;ht.pixelStorei(ht.UNPACK_PREMULTIPLY_ALPHA_WEBGL,st),this.current=st,this.dirty=!1}}class Nn extends On{getDefault(){return!1}set(st){if(st===this.current&&!this.dirty)return;const ht=this.gl;ht.pixelStorei(ht.UNPACK_FLIP_Y_WEBGL,st),this.current=st,this.dirty=!1}}class jn extends On{constructor(st,ht){super(st),this.context=st,this.parent=ht}getDefault(){return null}}class Wn extends jn{setDirty(){this.dirty=!0}set(st){if(st===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const ht=this.gl;ht.framebufferTexture2D(ht.FRAMEBUFFER,ht.COLOR_ATTACHMENT0,ht.TEXTURE_2D,st,0),this.current=st,this.dirty=!1}}class rr extends jn{attachment(){return this.gl.DEPTH_ATTACHMENT}set(st){if(st===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const ht=this.gl;ht.framebufferRenderbuffer(ht.FRAMEBUFFER,this.attachment(),ht.RENDERBUFFER,st),this.current=st,this.dirty=!1}}class Qr extends rr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Vn{constructor(st,ht,Ut,Vt){this.context=st,this.width=ht,this.height=Ut;const Lt=this.framebuffer=st.gl.createFramebuffer();this.colorAttachment=new Wn(st,Lt),Vt&&(this.depthAttachment=new rr(st,Lt))}destroy(){const st=this.context.gl,ht=this.colorAttachment.get();if(ht&&st.deleteTexture(ht),this.depthAttachment){const Ut=this.depthAttachment.get();Ut&&st.deleteRenderbuffer(Ut)}st.deleteFramebuffer(this.framebuffer)}}class bn{constructor(st){this.gl=st,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new nr(this),this.clearDepth=new Nr(this),this.clearStencil=new co(this),this.colorMask=new Zr(this),this.depthMask=new mo(this),this.stencilMask=new qr(this),this.stencilFunc=new io(this),this.stencilOp=new lo(this),this.stencilTest=new Vo(this),this.depthRange=new Io(this),this.depthTest=new Go(this),this.depthFunc=new rs(this),this.blend=new $o(this),this.blendFunc=new ds(this),this.blendColor=new ba(this),this.blendEquation=new Ss(this),this.cullFace=new Fs(this),this.cullFaceSide=new Yl(this),this.frontFace=new Ps(this),this.program=new Cs(this),this.activeTexture=new gu(this),this.viewport=new Us(this),this.bindFramebuffer=new ru(this),this.bindRenderbuffer=new Gr(this),this.bindTexture=new Cn(this),this.bindVertexBuffer=new Mn(this),this.bindElementBuffer=new Hn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Jn(this),this.pixelStoreUnpack=new pn(this),this.pixelStoreUnpackPremultiplyAlpha=new wn(this),this.pixelStoreUnpackFlipY=new Nn(this),this.extTextureFilterAnisotropic=st.getExtension("EXT_texture_filter_anisotropic")||st.getExtension("MOZ_EXT_texture_filter_anisotropic")||st.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=st.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=st.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=st.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=st.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=st.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(st.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=st.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=st.getExtension("OES_standard_derivatives"),this.extTimerQuery=st.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=st.getParameter(st.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(st,ht){return new _n(this,st,ht)}createVertexBuffer(st,ht,Ut){return new xn(this,st,ht,Ut)}createRenderbuffer(st,ht,Ut){const Vt=this.gl,Lt=Vt.createRenderbuffer();return this.bindRenderbuffer.set(Lt),Vt.renderbufferStorage(Vt.RENDERBUFFER,st,ht,Ut),this.bindRenderbuffer.set(null),Lt}createFramebuffer(st,ht,Ut){return new Vn(this,st,ht,Ut)}clear({color:st,depth:ht,stencil:Ut}){const Vt=this.gl;let Lt=0;st&&(Lt|=Vt.COLOR_BUFFER_BIT,this.clearColor.set(st),this.colorMask.set([!0,!0,!0,!0])),ht!==void 0&&(Lt|=Vt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ht),this.depthMask.set(!0)),Ut!==void 0&&(Lt|=Vt.STENCIL_BUFFER_BIT,this.clearStencil.set(Ut),this.stencilMask.set(255)),Vt.clear(Lt)}setCullFace(st){st.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(st.mode),this.frontFace.set(st.frontFace))}setDepthMode(st){st.func!==this.gl.ALWAYS||st.mask?(this.depthTest.set(!0),this.depthFunc.set(st.func),this.depthMask.set(st.mask),this.depthRange.set(st.range)):this.depthTest.set(!1)}setStencilMode(st){st.test.func!==this.gl.ALWAYS||st.mask?(this.stencilTest.set(!0),this.stencilMask.set(st.mask),this.stencilOp.set([st.fail,st.depthFail,st.pass]),this.stencilFunc.set({func:st.test.func,ref:st.ref,mask:st.test.mask})):this.stencilTest.set(!1)}setColorMode(st){nt(st.blendFunction,j.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(st.blendFunction),this.blendColor.set(st.blendColor)),this.colorMask.set(st.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Sn extends j.Evented{constructor(st,ht,Ut,Vt){super(),this.id=st,this.dispatcher=Ut,this.setEventedParent(Vt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=j.extend({type:"raster"},ht),j.extend(this,j.pick(ht,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Dt(this._options,this.map._requestManager,null,null,(st,ht)=>{this._tileJSONRequest=null,this._loaded=!0,st?this.fire(new j.ErrorEvent(st)):ht&&(j.extend(this,ht),ht.bounds&&(this.tileBounds=new Xt(ht.bounds,this.minzoom,this.maxzoom)),j.postTurnstileEvent(ht.tiles),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(st){this.map=st,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return j.extend({},this._options)}hasTile(st){return!this.tileBounds||this.tileBounds.contains(st.canonical)}loadTile(st,ht){const Ut=j.exported.devicePixelRatio>=2,Vt=this.map._requestManager.normalizeTileURL(st.tileID.canonical.url(this.tiles,this.scheme),Ut,this.tileSize);st.request=j.getImage(this.map._requestManager.transformRequest(Vt,j.ResourceType.Tile),(Lt,Kt,hn,gn)=>(delete st.request,st.aborted?(st.state="unloaded",ht(null)):Lt?(st.state="errored",ht(Lt)):Kt?(this.map._refreshExpiredTiles&&st.setExpiryData({cacheControl:hn,expires:gn}),st.setTexture(Kt,this.map.painter),st.state="loaded",j.cacheEntryPossiblyAdded(this.dispatcher),void ht(null)):ht(null)))}static loadTileData(st,ht,Ut){st.setTexture(ht,Ut)}static unloadTileData(st,ht){st.texture&&ht.saveTileTexture(st.texture)}abortTile(st,ht){st.request&&(st.request.cancel(),delete st.request),ht()}unloadTile(st,ht){st.texture&&this.map.painter.saveTileTexture(st.texture),ht()}hasTransition(){return!1}}let Zn;function ir(_t,st,ht,Ut,Vt,Lt,Kt,hn){const gn=[_t,ht,Vt,st,Ut,Lt,1,1,1],Rn=[Kt,hn,1],Tn=j.adjoint([],gn),[Dn,zn,or]=j.transformMat3(Rn,Rn,j.transpose(Tn,Tn));return j.multiply$1(gn,[Dn,0,0,0,zn,0,0,0,or],gn)}class hr extends j.Evented{constructor(st,ht,Ut,Vt){super(),this.id=st,this.dispatcher=Ut,this.coordinates=ht.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Vt),this.options=ht,this._dirty=!1}load(st,ht){this._loaded=ht||!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=j.getImage(this.map._requestManager.transformRequest(this.url,j.ResourceType.Image),(Ut,Vt)=>{if(this._imageRequest=null,this._loaded=!0,Ut)this.fire(new j.ErrorEvent(Ut));else if(Vt){const{HTMLImageElement:Lt}=j.window;this.image=Vt instanceof Lt?j.exported.getImageData(Vt):Vt,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,st&&(this.coordinates=st),this._finishLoading()}})}loaded(){return this._loaded}updateImage(st){return this.image&&st.url?(this._imageRequest&&st.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=st.url,this.load(st.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(st){this.map=st,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(st){this.coordinates=st,this._boundsArray=void 0;const ht=st.map(j.MercatorCoordinate.fromLngLat);return this.tileID=function(Ut){let Vt=1/0,Lt=1/0,Kt=-1/0,hn=-1/0;for(const Dn of Ut)Vt=Math.min(Vt,Dn.x),Lt=Math.min(Lt,Dn.y),Kt=Math.max(Kt,Dn.x),hn=Math.max(hn,Dn.y);const gn=Math.max(Kt-Vt,hn-Lt),Rn=Math.max(0,Math.floor(-Math.log(gn)/Math.LN2)),Tn=Math.pow(2,Rn);return new j.CanonicalTileID(Rn,Math.floor((Vt+Kt)/2*Tn),Math.floor((Lt+hn)/2*Tn))}(ht),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(st){for(const gn in this.tiles){const Rn=this.tiles[gn];Rn.state!=="loaded"&&(Rn.state="loaded",Rn.texture=this.texture)}if(this._boundsArray)return;const ht=j.tileTransform(this.tileID,this.map.transform.projection),[Ut,Vt,Lt,Kt]=this.coordinates.map(gn=>{const Rn=ht.projection.project(gn[0],gn[1]);return j.getTilePoint(ht,Rn)._round()});this.perspectiveTransform=function(gn,Rn,Tn,Dn,zn,or,er,ar,Yn,$n){const cr=ir(0,0,gn,0,0,Rn,gn,Rn),tr=ir(Tn,Dn,zn,or,er,ar,Yn,$n);return j.multiply$1(tr,j.adjoint(cr,cr),tr),[tr[6]/tr[8]*gn/j.EXTENT,tr[7]/tr[8]*Rn/j.EXTENT]}(this.width,this.height,Ut.x,Ut.y,Vt.x,Vt.y,Kt.x,Kt.y,Lt.x,Lt.y);const hn=this._boundsArray=new j.StructArrayLayout4i8;hn.emplaceBack(Ut.x,Ut.y,0,0),hn.emplaceBack(Vt.x,Vt.y,j.EXTENT,0),hn.emplaceBack(Kt.x,Kt.y,0,j.EXTENT),hn.emplaceBack(Lt.x,Lt.y,j.EXTENT,j.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=st.createVertexBuffer(hn,j.boundsAttributes.members),this.boundsSegments=j.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const st=this.map.painter.context,ht=st.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new j.Texture(st,this.image,ht.RGBA),this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(st)}loadTile(st,ht){this.tileID&&this.tileID.equals(st.tileID.canonical)?(this.tiles[String(st.tileID.wrap)]=st,st.buckets={},ht(null)):(st.state="errored",ht(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const gr={vector:class extends j.Evented{constructor(_t,st,ht,Ut){if(super(),this.id=_t,this.dispatcher=ht,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,j.extend(this,j.pick(st,["url","scheme","tileSize","promoteId"])),this._options=j.extend({type:"vector"},st),this._collectResourceTiming=st.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ut),this._tileWorkers={},this._deduped=new j.DedupedRequest}load(_t){this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"}));const st=Array.isArray(this.map._language)?this.map._language.join():this.map._language,ht=this.map._worldview;this._tileJSONRequest=Dt(this._options,this.map._requestManager,st,ht,(Ut,Vt)=>{this._tileJSONRequest=null,this._loaded=!0,Ut?(st&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${st}`),ht&&ht.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${ht}`),this.fire(new j.ErrorEvent(Ut))):Vt&&(j.extend(this,Vt),Vt.bounds&&(this.tileBounds=new Xt(Vt.bounds,this.minzoom,this.maxzoom)),j.postTurnstileEvent(Vt.tiles,this.map._requestManager._customAccessToken),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))),_t&&_t(Ut)})}loaded(){return this._loaded}hasTile(_t){return!this.tileBounds||this.tileBounds.contains(_t.canonical)}onAdd(_t){this.map=_t,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const _t=this.map.style._getSourceCaches(this.id);for(const st of _t)st.clearTiles()})}setSourceProperty(_t){_t(),this.reload()}setTiles(_t){return this._options.tiles=_t,this.reload(),this}setUrl(_t){return this.url=_t,this._options.url=_t,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return j.extend({},this._options)}loadTile(_t,st){const ht=this.map._requestManager.normalizeTileURL(_t.tileID.canonical.url(this.tiles,this.scheme)),Ut={request:this.map._requestManager.transformRequest(ht,j.ResourceType.Tile),data:void 0,uid:_t.uid,tileID:_t.tileID,tileZoom:_t.tileZoom,zoom:_t.tileID.overscaledZ,tileSize:this.tileSize*_t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:j.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:_t.isSymbolTile};if(Ut.request.collectResourceTiming=this._collectResourceTiming,_t.actor&&_t.state!=="expired")_t.state==="loading"?_t.reloadCallback=st:_t.request=_t.actor.send("reloadTile",Ut,Vt.bind(this));else if(_t.actor=this._tileWorkers[ht]=this._tileWorkers[ht]||this.dispatcher.getActor(),this.dispatcher.ready)_t.request=_t.actor.send("loadTile",Ut,Vt.bind(this),void 0,!0);else{const Lt=j.loadVectorTile.call({deduped:this._deduped},Ut,(Kt,hn)=>{Kt||!hn?Vt.call(this,Kt):(Ut.data={cacheControl:hn.cacheControl,expires:hn.expires,rawData:hn.rawData.slice(0)},_t.actor&&_t.actor.send("loadTile",Ut,Vt.bind(this),void 0,!0))},!0);_t.request={cancel:Lt}}function Vt(Lt,Kt){return delete _t.request,_t.aborted?st(null):Lt&&Lt.status!==404?st(Lt):(Kt&&Kt.resourceTiming&&(_t.resourceTiming=Kt.resourceTiming),this.map._refreshExpiredTiles&&Kt&&_t.setExpiryData(Kt),_t.loadVectorData(Kt,this.map.painter),j.cacheEntryPossiblyAdded(this.dispatcher),st(null),void(_t.reloadCallback&&(this.loadTile(_t,_t.reloadCallback),_t.reloadCallback=null)))}}abortTile(_t){_t.request&&(_t.request.cancel(),delete _t.request),_t.actor&&_t.actor.send("abortTile",{uid:_t.uid,type:this.type,source:this.id})}unloadTile(_t){_t.unloadVectorData(),_t.actor&&_t.actor.send("removeTile",{uid:_t.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Sn,"raster-dem":class extends Sn{constructor(_t,st,ht,Ut){super(_t,st,ht,Ut),this.type="raster-dem",this.maxzoom=22,this._options=j.extend({type:"raster-dem"},st),this.encoding=st.encoding||"mapbox"}loadTile(_t,st){const ht=this.map._requestManager.normalizeTileURL(_t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function Ut(Vt,Lt){Vt&&(_t.state="errored",st(Vt)),Lt&&(_t.dem=Lt,_t.dem.onDeserialize(),_t.needsHillshadePrepare=!0,_t.needsDEMTextureUpload=!0,_t.state="loaded",st(null))}_t.request=j.getImage(this.map._requestManager.transformRequest(ht,j.ResourceType.Tile),function(Vt,Lt,Kt,hn){if(delete _t.request,_t.aborted)_t.state="unloaded",st(null);else if(Vt)_t.state="errored",st(Vt);else if(Lt){this.map._refreshExpiredTiles&&_t.setExpiryData({cacheControl:Kt,expires:hn});const gn=j.window.ImageBitmap&&Lt instanceof j.window.ImageBitmap&&(Zn==null&&(Zn=j.window.OffscreenCanvas&&new j.window.OffscreenCanvas(1,1).getContext("2d")&&typeof j.window.createImageBitmap=="function"),Zn),Rn=1-(Lt.width-j.prevPowerOfTwo(Lt.width))/2;Rn<1||_t.neighboringTiles||(_t.neighboringTiles=this._getNeighboringTiles(_t.tileID));const Tn=gn?Lt:j.exported.getImageData(Lt,Rn),Dn={uid:_t.uid,coord:_t.tileID,source:this.id,rawImageData:Tn,encoding:this.encoding,padding:Rn};_t.actor&&_t.state!=="expired"||(_t.actor=this.dispatcher.getActor(),_t.actor.send("loadDEMTile",Dn,Ut.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(_t){const st=_t.canonical,ht=Math.pow(2,st.z),Ut=(st.x-1+ht)%ht,Vt=st.x===0?_t.wrap-1:_t.wrap,Lt=(st.x+1+ht)%ht,Kt=st.x+1===ht?_t.wrap+1:_t.wrap,hn={};return hn[new j.OverscaledTileID(_t.overscaledZ,Vt,st.z,Ut,st.y).key]={backfilled:!1},hn[new j.OverscaledTileID(_t.overscaledZ,Kt,st.z,Lt,st.y).key]={backfilled:!1},st.y>0&&(hn[new j.OverscaledTileID(_t.overscaledZ,Vt,st.z,Ut,st.y-1).key]={backfilled:!1},hn[new j.OverscaledTileID(_t.overscaledZ,_t.wrap,st.z,st.x,st.y-1).key]={backfilled:!1},hn[new j.OverscaledTileID(_t.overscaledZ,Kt,st.z,Lt,st.y-1).key]={backfilled:!1}),st.y+1<ht&&(hn[new j.OverscaledTileID(_t.overscaledZ,Vt,st.z,Ut,st.y+1).key]={backfilled:!1},hn[new j.OverscaledTileID(_t.overscaledZ,_t.wrap,st.z,st.x,st.y+1).key]={backfilled:!1},hn[new j.OverscaledTileID(_t.overscaledZ,Kt,st.z,Lt,st.y+1).key]={backfilled:!1}),hn}unloadTile(_t){_t.demTexture&&this.map.painter.saveTileTexture(_t.demTexture),_t.fbo&&(_t.fbo.destroy(),delete _t.fbo),_t.dem&&delete _t.dem,delete _t.neighboringTiles,_t.state="unloaded"}},geojson:class extends j.Evented{constructor(_t,st,ht,Ut){super(),this.id=_t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=ht.getActor(),this.setEventedParent(Ut),this._data=st.data,this._options=j.extend({},st),this._collectResourceTiming=st.collectResourceTiming,st.maxzoom!==void 0&&(this.maxzoom=st.maxzoom),st.type&&(this.type=st.type),st.attribution&&(this.attribution=st.attribution),this.promoteId=st.promoteId;const Vt=j.EXTENT/this.tileSize;this.workerOptions=j.extend({source:this.id,cluster:st.cluster||!1,geojsonVtOptions:{buffer:(st.buffer!==void 0?st.buffer:128)*Vt,tolerance:(st.tolerance!==void 0?st.tolerance:.375)*Vt,extent:j.EXTENT,maxZoom:this.maxzoom,lineMetrics:st.lineMetrics||!1,generateId:st.generateId||!1},superclusterOptions:{maxZoom:st.clusterMaxZoom!==void 0?st.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,st.clusterMinPoints||2),extent:j.EXTENT,radius:(st.clusterRadius!==void 0?st.clusterRadius:50)*Vt,log:!1,generateId:st.generateId||!1},clusterProperties:st.clusterProperties,filter:st.filter},st.workerOptions)}onAdd(_t){this.map=_t,this.setData(this._data)}setData(_t){return this._data=_t,this._updateWorkerData(),this}getClusterExpansionZoom(_t,st){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_t,source:this.id},st),this}getClusterChildren(_t,st){return this.actor.send("geojson.getClusterChildren",{clusterId:_t,source:this.id},st),this}getClusterLeaves(_t,st,ht,Ut){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_t,limit:st,offset:ht},Ut),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new j.Event("dataloading",{dataType:"source"})),this._loaded=!1;const _t=j.extend({},this.workerOptions),st=this._data;typeof st=="string"?(_t.request=this.map._requestManager.transformRequest(j.exported.resolveURL(st),j.ResourceType.Source),_t.request.collectResourceTiming=this._collectResourceTiming):_t.data=JSON.stringify(st),this._pendingLoad=this.actor.send(`${this.type}.loadData`,_t,(ht,Ut)=>{if(this._loaded=!0,this._pendingLoad=null,ht)this.fire(new j.ErrorEvent(ht));else{const Vt={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&Ut&&Ut.resourceTiming&&Ut.resourceTiming[this.id]&&(Vt.resourceTiming=Ut.resourceTiming[this.id]),this.fire(new j.Event("data",Vt)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(_t,st){const ht=_t.actor?"reloadTile":"loadTile";_t.actor=this.actor,_t.request=this.actor.send(ht,{type:this.type,uid:_t.uid,tileID:_t.tileID,tileZoom:_t.tileZoom,zoom:_t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:j.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(Ut,Vt)=>(delete _t.request,_t.unloadVectorData(),_t.aborted?st(null):Ut?st(Ut):(_t.loadVectorData(Vt,this.map.painter,ht==="reloadTile"),st(null))),void 0,ht==="loadTile")}abortTile(_t){_t.request&&(_t.request.cancel(),delete _t.request),_t.aborted=!0}unloadTile(_t){_t.unloadVectorData(),this.actor.send("removeTile",{uid:_t.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return j.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends hr{constructor(_t,st,ht,Ut){super(_t,st,ht,Ut),this.roundZoom=!0,this.type="video",this.options=st}load(){this._loaded=!1;const _t=this.options;this.urls=[];for(const st of _t.urls)this.urls.push(this.map._requestManager.transformRequest(st,j.ResourceType.Source).url);j.getVideo(this.urls,(st,ht)=>{this._loaded=!0,st?this.fire(new j.ErrorEvent(st)):ht&&(this.video=ht,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(_t){if(this.video){const st=this.video.seekable;_t<st.start(0)||_t>st.end(0)?this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${st.start(0)} and ${st.end(0)}-second mark.`))):this.video.currentTime=_t}}getVideo(){return this.video}onAdd(_t){this.map||(this.map=_t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _t=this.map.painter.context,st=_t.gl;this.texture?this.video.paused||(this.texture.bind(st.LINEAR,st.CLAMP_TO_EDGE),st.texSubImage2D(st.TEXTURE_2D,0,0,0,st.RGBA,st.UNSIGNED_BYTE,this.video)):(this.texture=new j.Texture(_t,this.video,st.RGBA),this.texture.bind(st.LINEAR,st.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(_t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:hr,canvas:class extends hr{constructor(_t,st,ht,Ut){super(_t,st,ht,Ut),st.coordinates?Array.isArray(st.coordinates)&&st.coordinates.length===4&&!st.coordinates.some(Vt=>!Array.isArray(Vt)||Vt.length!==2||Vt.some(Lt=>typeof Lt!="number"))||this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${_t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${_t}`,null,'missing required property "coordinates"'))),st.animate&&typeof st.animate!="boolean"&&this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${_t}`,null,'optional "animate" property must be a boolean value'))),st.canvas?typeof st.canvas=="string"||st.canvas instanceof j.window.HTMLCanvasElement||this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${_t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${_t}`,null,'missing required property "canvas"'))),this.options=st,this.animate=st.animate===void 0||st.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof j.window.HTMLCanvasElement?this.options.canvas:j.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new j.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_t){this.map=_t,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let _t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_t=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const st=this.map.painter.context;this.texture?(_t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new j.Texture(st,this.canvas,st.gl.RGBA,{premultiply:!0}),this._prepareData(st)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _t of[this.canvas.width,this.canvas.height])if(isNaN(_t)||_t<=0)return!0;return!1}},custom:class extends j.Evented{constructor(_t,st,ht,Ut){super(),this.id=_t,this.type="custom",this._dataType="raster",this._dispatcher=ht,this._implementation=st,this.setEventedParent(Ut),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new j.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new j.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Xt(this._implementation.bounds,this.minzoom,this.maxzoom)),st.update=this._update.bind(this),st.clearTiles=this._clearTiles.bind(this),st.coveringTiles=this._coveringTiles.bind(this),j.extend(this,j.pick(st,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return j.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(_t){this._map=_t,this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(_t),this.load()}onRemove(_t){this._implementation.onRemove&&this._implementation.onRemove(_t)}hasTile(_t){if(this._implementation.hasTile){const{x:st,y:ht,z:Ut}=_t.canonical;return this._implementation.hasTile({x:st,y:ht,z:Ut})}return!this.tileBounds||this.tileBounds.contains(_t.canonical)}loadTile(_t,st){const{x:ht,y:Ut,z:Vt}=_t.tileID.canonical,Lt=new j.window.AbortController;_t.request=Promise.resolve(this._implementation.loadTile({x:ht,y:Ut,z:Vt},{signal:Lt.signal})).then(function(Kt){return delete _t.request,_t.aborted?(_t.state="unloaded",st(null)):Kt===void 0?(_t.state="errored",st(null)):Kt===null?(this.loadTileData(_t,{width:this.tileSize,height:this.tileSize,data:null}),_t.state="loaded",st(null)):function(hn){return hn instanceof j.window.ImageData||hn instanceof j.window.HTMLCanvasElement||hn instanceof j.window.ImageBitmap||hn instanceof j.window.HTMLImageElement}(Kt)?(this.loadTileData(_t,Kt),_t.state="loaded",void st(null)):(_t.state="errored",st(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(Kt=>{Kt.code!==20&&(_t.state="errored",st(Kt))}),_t.request.cancel=()=>Lt.abort()}loadTileData(_t,st){Sn.loadTileData(_t,st,this._map.painter)}unloadTileData(_t){Sn.unloadTileData(_t,this._map.painter)}unloadTile(_t,st){if(this.unloadTileData(_t),this._implementation.unloadTile){const{x:ht,y:Ut,z:Vt}=_t.tileID.canonical;this._implementation.unloadTile({x:ht,y:Ut,z:Vt})}st()}abortTile(_t,st){_t.request&&_t.request.cancel&&(_t.request.cancel(),delete _t.request),st()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(_t=>({x:_t.canonical.x,y:_t.canonical.y,z:_t.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Rr=function(_t,st,ht,Ut){const Vt=new gr[st.type](_t,st,ht,Ut);if(Vt.id!==_t)throw new Error(`Expected Source id to be ${_t} instead of ${Vt.id}`);return j.bindAll(["load","abort","unload","serialize","prepare"],Vt),Vt};function mr(_t,st){const ht=j.identity([]);return j.scale(ht,ht,[.5*_t.width,.5*-_t.height,1]),j.translate(ht,ht,[1,-1,0]),j.multiply(ht,ht,_t.calculateProjMatrix(st.toUnwrapped())),Float32Array.from(ht)}function Er(_t,st,ht,Ut,Vt,Lt,Kt,hn=!1){const gn=_t.tilesIn(Ut,Kt,hn);gn.sort(Kr);const Rn=[];for(const Dn of gn)Rn.push({wrappedTileID:Dn.tile.tileID.wrapped().key,queryResults:Dn.tile.queryRenderedFeatures(st,ht,_t._state,Dn,Vt,Lt,mr(_t.transform,Dn.tile.tileID),hn)});const Tn=function(Dn){const zn={},or={};for(const er of Dn){const ar=er.queryResults,Yn=er.wrappedTileID,$n=or[Yn]=or[Yn]||{};for(const cr in ar){const tr=ar[cr],yr=$n[cr]=$n[cr]||{},br=zn[cr]=zn[cr]||[];for(const ur of tr)yr[ur.featureIndex]||(yr[ur.featureIndex]=!0,br.push(ur))}}return zn}(Rn);for(const Dn in Tn)Tn[Dn].forEach(zn=>{const or=zn.feature,er=or.layer;er&&er.type!=="background"&&er.type!=="sky"&&(or.source=er.source,er["source-layer"]&&(or.sourceLayer=er["source-layer"]),or.state=or.id!==void 0?_t.getFeatureState(er["source-layer"],or.id):{})});return Tn}function Dr(_t,st){const ht=_t.getRenderableIds().map(Lt=>_t.getTileByID(Lt)),Ut=[],Vt={};for(let Lt=0;Lt<ht.length;Lt++){const Kt=ht[Lt],hn=Kt.tileID.canonical.key;Vt[hn]||(Vt[hn]=!0,Kt.querySourceFeatures(Ut,st))}return Ut}function Kr(_t,st){const ht=_t.tileID,Ut=st.tileID;return ht.overscaledZ-Ut.overscaledZ||ht.canonical.y-Ut.canonical.y||ht.wrap-Ut.wrap||ht.canonical.x-Ut.canonical.x}function Hr(){return $y.workerClass!=null?new $y.workerClass:new j.window.Worker($y.workerUrl)}const wo="mapboxgl_preloaded_worker_pool";class To{constructor(){this.active={}}acquire(st){if(!this.workers)for(this.workers=[];this.workers.length<To.workerCount;)this.workers.push(new Hr);return this.active[st]=!0,this.workers.slice()}release(st){delete this.active[st],this.numActive()===0&&(this.workers.forEach(ht=>{ht.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[wo]}numActive(){return Object.keys(this.active).length}}let Qo;function Do(){return Qo||(Qo=new To),Qo}function Zo(_t,st){const ht={};for(const Ut in _t)Ut!=="ref"&&(ht[Ut]=_t[Ut]);return j.refProperties.forEach(Ut=>{Ut in st&&(ht[Ut]=st[Ut])}),ht}function as(_t){_t=_t.slice();const st=Object.create(null);for(let ht=0;ht<_t.length;ht++)st[_t[ht].id]=_t[ht];for(let ht=0;ht<_t.length;ht++)"ref"in _t[ht]&&(_t[ht]=Zo(_t[ht],st[_t[ht].ref]));return _t}To.workerCount=2;const Eo={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Qs(_t,st,ht){ht.push({command:Eo.addSource,args:[_t,st[_t]]})}function Bs(_t,st,ht){st.push({command:Eo.removeSource,args:[_t]}),ht[_t]=!0}function Qu(_t,st,ht,Ut){Bs(_t,ht,Ut),Qs(_t,st,ht)}function mu(_t,st,ht){let Ut;for(Ut in _t[ht])if(_t[ht].hasOwnProperty(Ut)&&Ut!=="data"&&!nt(_t[ht][Ut],st[ht][Ut]))return!1;for(Ut in st[ht])if(st[ht].hasOwnProperty(Ut)&&Ut!=="data"&&!nt(_t[ht][Ut],st[ht][Ut]))return!1;return!0}function zr(_t,st,ht,Ut,Vt,Lt){let Kt;for(Kt in st=st||{},_t=_t||{})_t.hasOwnProperty(Kt)&&(nt(_t[Kt],st[Kt])||ht.push({command:Lt,args:[Ut,Kt,st[Kt],Vt]}));for(Kt in st)st.hasOwnProperty(Kt)&&!_t.hasOwnProperty(Kt)&&(nt(_t[Kt],st[Kt])||ht.push({command:Lt,args:[Ut,Kt,st[Kt],Vt]}))}function Fl(_t){return _t.id}function $s(_t,st){return _t[st.id]=st,_t}class yu{constructor(st,ht){this.reset(st,ht)}reset(st,ht){this.points=st||[],this._distances=[0];for(let Ut=1;Ut<this.points.length;Ut++)this._distances[Ut]=this._distances[Ut-1]+this.points[Ut].dist(this.points[Ut-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ht||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(st){if(this.points.length===1)return this.points[0];st=j.clamp(st,0,1);let ht=1,Ut=this._distances[ht];const Vt=st*this.paddedLength+this.padding;for(;Ut<Vt&&ht<this._distances.length;)Ut=this._distances[++ht];const Lt=ht-1,Kt=this._distances[Lt],hn=Ut-Kt,gn=hn>0?(Vt-Kt)/hn:0;return this.points[Lt].mult(1-gn).add(this.points[ht].mult(gn))}}class lu{constructor(st,ht,Ut){const Vt=this.boxCells=[],Lt=this.circleCells=[];this.xCellCount=Math.ceil(st/Ut),this.yCellCount=Math.ceil(ht/Ut);for(let Kt=0;Kt<this.xCellCount*this.yCellCount;Kt++)Vt.push([]),Lt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=st,this.height=ht,this.xScale=this.xCellCount/st,this.yScale=this.yCellCount/ht,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(st,ht,Ut,Vt,Lt){this._forEachCell(ht,Ut,Vt,Lt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(st),this.bboxes.push(ht),this.bboxes.push(Ut),this.bboxes.push(Vt),this.bboxes.push(Lt)}insertCircle(st,ht,Ut,Vt){this._forEachCell(ht-Vt,Ut-Vt,ht+Vt,Ut+Vt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(st),this.circles.push(ht),this.circles.push(Ut),this.circles.push(Vt)}_insertBoxCell(st,ht,Ut,Vt,Lt,Kt){this.boxCells[Lt].push(Kt)}_insertCircleCell(st,ht,Ut,Vt,Lt,Kt){this.circleCells[Lt].push(Kt)}_query(st,ht,Ut,Vt,Lt,Kt){if(Ut<0||st>this.width||Vt<0||ht>this.height)return!Lt&&[];const hn=[];if(st<=0&&ht<=0&&this.width<=Ut&&this.height<=Vt){if(Lt)return!0;for(let gn=0;gn<this.boxKeys.length;gn++)hn.push({key:this.boxKeys[gn],x1:this.bboxes[4*gn],y1:this.bboxes[4*gn+1],x2:this.bboxes[4*gn+2],y2:this.bboxes[4*gn+3]});for(let gn=0;gn<this.circleKeys.length;gn++){const Rn=this.circles[3*gn],Tn=this.circles[3*gn+1],Dn=this.circles[3*gn+2];hn.push({key:this.circleKeys[gn],x1:Rn-Dn,y1:Tn-Dn,x2:Rn+Dn,y2:Tn+Dn})}return Kt?hn.filter(Kt):hn}return this._forEachCell(st,ht,Ut,Vt,this._queryCell,hn,{hitTest:Lt,seenUids:{box:{},circle:{}}},Kt),Lt?hn.length>0:hn}_queryCircle(st,ht,Ut,Vt,Lt){const Kt=st-Ut,hn=st+Ut,gn=ht-Ut,Rn=ht+Ut;if(hn<0||Kt>this.width||Rn<0||gn>this.height)return!Vt&&[];const Tn=[];return this._forEachCell(Kt,gn,hn,Rn,this._queryCellCircle,Tn,{hitTest:Vt,circle:{x:st,y:ht,radius:Ut},seenUids:{box:{},circle:{}}},Lt),Vt?Tn.length>0:Tn}query(st,ht,Ut,Vt,Lt){return this._query(st,ht,Ut,Vt,!1,Lt)}hitTest(st,ht,Ut,Vt,Lt){return this._query(st,ht,Ut,Vt,!0,Lt)}hitTestCircle(st,ht,Ut,Vt){return this._queryCircle(st,ht,Ut,!0,Vt)}_queryCell(st,ht,Ut,Vt,Lt,Kt,hn,gn){const Rn=hn.seenUids,Tn=this.boxCells[Lt];if(Tn!==null){const zn=this.bboxes;for(const or of Tn)if(!Rn.box[or]){Rn.box[or]=!0;const er=4*or;if(st<=zn[er+2]&&ht<=zn[er+3]&&Ut>=zn[er+0]&&Vt>=zn[er+1]&&(!gn||gn(this.boxKeys[or]))){if(hn.hitTest)return Kt.push(!0),!0;Kt.push({key:this.boxKeys[or],x1:zn[er],y1:zn[er+1],x2:zn[er+2],y2:zn[er+3]})}}}const Dn=this.circleCells[Lt];if(Dn!==null){const zn=this.circles;for(const or of Dn)if(!Rn.circle[or]){Rn.circle[or]=!0;const er=3*or;if(this._circleAndRectCollide(zn[er],zn[er+1],zn[er+2],st,ht,Ut,Vt)&&(!gn||gn(this.circleKeys[or]))){if(hn.hitTest)return Kt.push(!0),!0;{const ar=zn[er],Yn=zn[er+1],$n=zn[er+2];Kt.push({key:this.circleKeys[or],x1:ar-$n,y1:Yn-$n,x2:ar+$n,y2:Yn+$n})}}}}}_queryCellCircle(st,ht,Ut,Vt,Lt,Kt,hn,gn){const Rn=hn.circle,Tn=hn.seenUids,Dn=this.boxCells[Lt];if(Dn!==null){const or=this.bboxes;for(const er of Dn)if(!Tn.box[er]){Tn.box[er]=!0;const ar=4*er;if(this._circleAndRectCollide(Rn.x,Rn.y,Rn.radius,or[ar+0],or[ar+1],or[ar+2],or[ar+3])&&(!gn||gn(this.boxKeys[er])))return Kt.push(!0),!0}}const zn=this.circleCells[Lt];if(zn!==null){const or=this.circles;for(const er of zn)if(!Tn.circle[er]){Tn.circle[er]=!0;const ar=3*er;if(this._circlesCollide(or[ar],or[ar+1],or[ar+2],Rn.x,Rn.y,Rn.radius)&&(!gn||gn(this.circleKeys[er])))return Kt.push(!0),!0}}}_forEachCell(st,ht,Ut,Vt,Lt,Kt,hn,gn){const Rn=this._convertToXCellCoord(st),Tn=this._convertToYCellCoord(ht),Dn=this._convertToXCellCoord(Ut),zn=this._convertToYCellCoord(Vt);for(let or=Rn;or<=Dn;or++)for(let er=Tn;er<=zn;er++)if(Lt.call(this,st,ht,Ut,Vt,this.xCellCount*er+or,Kt,hn,gn))return}_convertToXCellCoord(st){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(st*this.xScale)))}_convertToYCellCoord(st){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(st*this.yScale)))}_circlesCollide(st,ht,Ut,Vt,Lt,Kt){const hn=Vt-st,gn=Lt-ht,Rn=Ut+Kt;return Rn*Rn>hn*hn+gn*gn}_circleAndRectCollide(st,ht,Ut,Vt,Lt,Kt,hn){const gn=(Kt-Vt)/2,Rn=Math.abs(st-(Vt+gn));if(Rn>gn+Ut)return!1;const Tn=(hn-Lt)/2,Dn=Math.abs(ht-(Lt+Tn));if(Dn>Tn+Ut)return!1;if(Rn<=gn||Dn<=Tn)return!0;const zn=Rn-gn,or=Dn-Tn;return zn*zn+or*or<=Ut*Ut}}const xu=Math.tan(85*Math.PI/180);function Ql(_t,st,ht,Ut,Vt,Lt,Kt){const hn=j.create();if(ht)if(Lt.name==="globe"){const gn=j.calculateGlobeLabelMatrix(Vt,st);j.multiply(hn,hn,gn)}else{const gn=Ft([],Kt);hn[0]=gn[0],hn[1]=gn[1],hn[4]=gn[2],hn[5]=gn[3],Ut||j.rotateZ(hn,hn,Vt.angle)}else j.multiply(hn,Vt.labelPlaneMatrix,_t);return hn}function cm(_t,st,ht,Ut,Vt,Lt,Kt){const hn=Ql(_t,st,ht,Ut,Vt,Lt,Kt);return Lt.name==="globe"&&ht||(hn[2]=hn[6]=hn[10]=hn[14]=0),hn}function cp(_t,st,ht,Ut,Vt,Lt,Kt){if(ht){if(Lt.name==="globe"){const hn=Ql(_t,st,ht,Ut,Vt,Lt,Kt);return j.invert(hn,hn),j.multiply(hn,_t,hn),hn}{const hn=j.clone(_t),gn=j.identity([]);return gn[0]=Kt[0],gn[1]=Kt[1],gn[4]=Kt[2],gn[5]=Kt[3],j.multiply(hn,hn,gn),Ut||j.rotateZ(hn,hn,-Vt.angle),hn}}return Vt.glCoordMatrix}function Fo(_t,st,ht=0){const Ut=[_t.x,_t.y,ht,1];ht?j.transformMat4$1(Ut,Ut,st):Hu(Ut,Ut,st);const Vt=Ut[3];return{point:[Ut[0]/Vt,Ut[1]/Vt,Ut[2]/Vt],signedDistanceFromCamera:Vt}}function us(_t,st){const ht=[_t[0],_t[1],_t[2],1];j.transformMat4$1(ht,ht,st);const Ut=ht[3];return{point:[ht[0]/Ut,ht[1]/Ut,ht[2]/Ut],signedDistanceFromCamera:Ut}}function fs(_t,st){return Math.min(.5+_t/st*.5,1.5)}function Au(_t,st){const ht=_t[0]/_t[3],Ut=_t[1]/_t[3];return ht>=-st[0]&&ht<=st[0]&&Ut>=-st[1]&&Ut<=st[1]}function up(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn){const Tn=ht.transform,Dn=Ut?_t.textSizeData:_t.iconSizeData,zn=j.evaluateSizeForZoom(Dn,ht.transform.zoom),or=Tn.projection.name==="globe",er=[256/ht.width*2+1,256/ht.height*2+1],ar=Ut?_t.text.dynamicLayoutVertexArray:_t.icon.dynamicLayoutVertexArray;ar.clear();let Yn=null;or&&(Yn=Ut?_t.text.globeExtVertexArray:_t.icon.globeExtVertexArray);const $n=_t.lineVertexArray,cr=Ut?_t.text.placedSymbolArray:_t.icon.placedSymbolArray,tr=ht.transform.width/ht.transform.height;let yr=!1;for(let br=0;br<cr.length;br++){const ur=cr.get(br);if(ur.writingMode!==j.WritingMode.vertical||yr||br!==0&&cr.get(br-1).writingMode===j.WritingMode.horizontal||(yr=!0),(ur.hidden||ur.writingMode===j.WritingMode.vertical)&&!yr){zs(ur.numGlyphs,ar);continue}yr=!1;const Sr=new j.pointGeometry(ur.tileAnchorX,ur.tileAnchorY),Ar=gn?gn(Sr):[0,0,0],Wr=Tn.projection.projectTilePoint(Sr.x,Sr.y,Rn.canonical),Pr=[Wr.x+Ar[0],Wr.y+Ar[1],Wr.z+Ar[2]],ho=[...Pr,1];if(j.transformMat4$1(ho,ho,st),!Au(ho,er)){zs(ur.numGlyphs,ar);continue}const xr=fs(ht.transform.cameraToCenterDistance,ho[3]),_i=j.evaluateSizeForFeature(Dn,zn,ur),eo=Kt?_i/xr:_i*xr,Vr=Fo(new j.pointGeometry(Pr[0],Pr[1]),Vt,Pr[2]);if(Vr.signedDistanceFromCamera<=0){zs(ur.numGlyphs,ar);continue}let Br={};const So=Kt?null:gn,yo=Gu(ur,eo,!1,hn,st,Vt,Lt,_t.glyphOffsetArray,$n,ar,Yn,Vr.point,Sr,Br,tr,So,Tn.projection,Rn,Kt);yr=yo.useVertical,So&&yo.needsFlipping&&(Br={}),(yo.notEnoughRoom||yr||yo.needsFlipping&&Gu(ur,eo,!0,hn,st,Vt,Lt,_t.glyphOffsetArray,$n,ar,Yn,Vr.point,Sr,Br,tr,So,Tn.projection,Rn,Kt).notEnoughRoom)&&zs(ur.numGlyphs,ar)}Ut?(_t.text.dynamicLayoutVertexBuffer.updateData(ar),Yn&&_t.text.globeExtVertexBuffer.updateData(Yn)):(_t.icon.dynamicLayoutVertexBuffer.updateData(ar),Yn&&_t.icon.globeExtVertexBuffer.updateData(Yn))}function ss(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar){const Yn=hn.glyphStartIndex+hn.numGlyphs,$n=hn.lineStartIndex,cr=hn.lineStartIndex+hn.lineLength,tr=st.getoffsetX(hn.glyphStartIndex),yr=st.getoffsetX(Yn-1),br=_s(_t*tr,ht,Ut,Vt,Lt,Kt,hn.segment,$n,cr,gn,Rn,Tn,Dn,zn,!0,or,er,ar);if(!br)return null;const ur=_s(_t*yr,ht,Ut,Vt,Lt,Kt,hn.segment,$n,cr,gn,Rn,Tn,Dn,zn,!0,or,er,ar);return ur?{first:br,last:ur}:null}function Zu(_t,st,ht,Ut){return _t.writingMode===j.WritingMode.horizontal&&Math.abs(ht.y-st.y)>Math.abs(ht.x-st.x)*Ut?{useVertical:!0}:_t.writingMode===j.WritingMode.vertical?st.y<ht.y?{needsFlipping:!0}:null:_t.flipState!==0&&function(Vt,Lt,Kt){const hn=(Lt.x-Vt.x)*Kt;return hn===0||Math.abs((Lt.y-Vt.y)/hn)>xu}(st,ht,Ut)?_t.flipState===1?{needsFlipping:!0}:null:st.x>ht.x?{needsFlipping:!0}:null}function Gu(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar,Yn,$n,cr){const tr=st/24,yr=_t.lineOffsetX*tr,br=_t.lineOffsetY*tr;let ur=[];if(_t.numGlyphs>1){const Sr=_t.glyphStartIndex+_t.numGlyphs,Ar=_t.lineStartIndex,Wr=_t.lineStartIndex+_t.lineLength,Pr=ss(tr,hn,yr,br,ht,Dn,zn,_t,gn,Lt,or,ar,!1,Yn,$n,cr);if(!Pr)return{notEnoughRoom:!0};const ho=us(Pr.first.point,Kt).point,xr=us(Pr.last.point,Kt).point,_i=new j.pointGeometry(ho[0],ho[1]),eo=new j.pointGeometry(xr[0],xr[1]);if(Ut&&!ht){const Vr=Zu(_t,_i,eo,er);if(_t.flipState=Vr&&Vr.needsFlipping?1:2,Vr)return Vr}ur=[Pr.first];for(let Vr=_t.glyphStartIndex+1;Vr<Sr-1;Vr++){const Br=_s(tr*hn.getoffsetX(Vr),yr,br,ht,Dn,zn,_t.segment,Ar,Wr,gn,Lt,or,ar,!1,!1,Yn,$n,cr);if(!Br)return{notEnoughRoom:!0};ur.push(Br)}ur.push(Pr.last)}else{if(Ut&&!ht){const Ar=Fo(zn,Vt).point,Wr=_t.lineStartIndex+_t.segment+1,Pr=new j.pointGeometry(gn.getx(Wr),gn.gety(Wr)),ho=Fo(Pr,Vt),xr=ho.signedDistanceFromCamera>0?ho.point:Pl(zn,Pr,Ar,1,Vt,void 0,Yn,$n.canonical),_i=Zu(_t,new j.pointGeometry(Ar[0],Ar[1]),new j.pointGeometry(xr[0],xr[1]),er);if(_t.flipState=_i&&_i.needsFlipping?1:2,_i)return _i}const Sr=_s(tr*hn.getoffsetX(_t.glyphStartIndex),yr,br,ht,Dn,zn,_t.segment,_t.lineStartIndex,_t.lineStartIndex+_t.lineLength,gn,Lt,or,ar,!1,!1,Yn,$n,cr);if(!Sr)return{notEnoughRoom:!0};ur=[Sr]}if(Tn)for(const Sr of ur)j.updateGlobeVertexNormal(Tn,Rn.length+0,Sr.up[0],Sr.up[1],Sr.up[2]),j.updateGlobeVertexNormal(Tn,Rn.length+1,Sr.up[0],Sr.up[1],Sr.up[2]),j.updateGlobeVertexNormal(Tn,Rn.length+2,Sr.up[0],Sr.up[1],Sr.up[2]),j.updateGlobeVertexNormal(Tn,Rn.length+3,Sr.up[0],Sr.up[1],Sr.up[2]),j.addDynamicAttributes(Rn,Sr.point[0],Sr.point[1],Sr.point[2],Sr.angle);else for(const Sr of ur)j.addDynamicAttributes(Rn,Sr.point[0],Sr.point[1],Sr.point[2],Sr.angle);return{}}function _u(_t,st,ht,Ut,Vt){const Lt=Ut.projectTilePoint(_t.x,_t.y,st);if(!Vt)return Fo(Lt,ht,Lt.z);const Kt=Vt(_t);return Fo(new j.pointGeometry(Lt.x+Kt[0],Lt.y+Kt[1]),ht,Lt.z+Kt[2])}function Pl(_t,st,ht,Ut,Vt,Lt,Kt,hn){const gn=_u(_t.add(_t.sub(st)._unit()),hn,Vt,Kt,Lt).point,Rn=j.sub([],ht,gn);return j.scaleAndAdd([],ht,Rn,Ut/j.length(Rn))}function _s(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar,Yn,$n){const cr=Ut?_t-st:_t+st;let tr=cr>0?1:-1,yr=0;Ut&&(tr*=-1,yr=Math.PI),tr<0&&(yr+=Math.PI);let br=tr>0?hn+Kt:hn+Kt+1,ur=Vt,Sr=Vt,Ar=0,Wr=0;const Pr=Math.abs(cr),ho=[],xr=[];let _i=Lt;const eo=()=>{const vo=br-tr;return Ar===0?Lt:new j.pointGeometry(Rn.getx(vo),Rn.gety(vo))},Vr=()=>{const vo=eo();return Pl(vo,_i||vo,Sr,Pr-Ar+1,Tn,zn,ar,Yn.canonical)};for(;Ar+Wr<=Pr;){if(br+=tr,br<hn||br>=gn)return null;if(Sr=ur,ho.push(ur),or&&xr.push(_i||eo()),ur=Dn[br],ur===void 0){_i=new j.pointGeometry(Rn.getx(br),Rn.gety(br));const vo=_u(_i,Yn.canonical,Tn,ar,zn);ur=vo.signedDistanceFromCamera>0?Dn[br]=vo.point:Vr()}else _i=null;Ar+=Wr,Wr=j.distance(Sr,ur)}_i=_i||new j.pointGeometry(Rn.getx(br),Rn.gety(br));const Br=eo();er&&zn&&(Dn[br]=ur=Dn[br]===void 0?ur:Vr(),Wr=j.distance(Sr,ur));const So=(Pr-Ar)/Wr,yo=_i.sub(Br).mult(So)._add(Br),bo=j.sub([],ur,Sr),_o=j.scaleAndAdd([],Sr,bo,So);let Oo=[0,0,1],Ho=bo[0],zo=bo[1];if($n&&(Oo=ar.upVector(Yn.canonical,yo.x,yo.y),Oo[0]!==0||Oo[1]!==0||Oo[2]!==1)){const vo=[1,0,0],ns=[0,1,0];vo[0]=Oo[2],vo[1]=0,vo[2]=-Oo[0],j.cross(ns,Oo,vo),j.normalize(vo,vo),j.normalize(ns,ns),Ho=j.dot(bo,vo),zo=j.dot(bo,ns)}if(ht){const vo=j.cross([],Oo,bo);j.normalize(vo,vo),j.scaleAndAdd(_o,_o,vo,ht*tr)}const Wo=yr+Math.atan2(zo,Ho);return ho.push(_o),or&&xr.push(yo),{point:_o,angle:Wo,path:ho,tilePath:xr,up:Oo}}const Mm=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function zs(_t,st){for(let ht=0;ht<_t;ht++){const Ut=st.length;st.resize(Ut+4),st.float32.set(Mm,4*Ut)}}function Hu(_t,st,ht){const Ut=st[0],Vt=st[1];return _t[0]=ht[0]*Ut+ht[4]*Vt+ht[12],_t[1]=ht[1]*Ut+ht[5]*Vt+ht[13],_t[3]=ht[3]*Ut+ht[7]*Vt+ht[15],_t}const xa=100;class $u{constructor(st,ht,Ut=new lu(st.width+200,st.height+200,25),Vt=new lu(st.width+200,st.height+200,25)){this.transform=st,this.grid=Ut,this.ignoredGrid=Vt,this.pitchfactor=Math.cos(st._pitch)*st.cameraToCenterDistance,this.screenRightBoundary=st.width+xa,this.screenBottomBoundary=st.height+xa,this.gridRightBoundary=st.width+200,this.gridBottomBoundary=st.height+200,this.fogState=ht}placeCollisionBox(st,ht,Ut,Vt,Lt,Kt,hn,gn){let Rn=Ut.projectedAnchorX,Tn=Ut.projectedAnchorY,Dn=Ut.projectedAnchorZ;const zn=Ut.elevation,or=Ut.tileID;if(zn&&or){const br=st.getProjection().upVector(or.canonical,Ut.tileAnchorX,Ut.tileAnchorY),ur=st.getProjection().upVectorScale(or.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;Rn+=br[0]*zn*ur,Tn+=br[1]*zn*ur,Dn+=br[2]*zn*ur}const er=this.projectAndGetPerspectiveRatio(hn,[Rn,Tn,Dn],Ut.tileID,st.projection.name==="globe"||!!zn||this.transform.pitch>0,st.getProjection()),ar=Kt*er.perspectiveRatio,Yn=(Ut.x1*ht+Vt.x-Ut.padding)*ar+er.point.x,$n=(Ut.y1*ht+Vt.y-Ut.padding)*ar+er.point.y,cr=(Ut.x2*ht+Vt.x+Ut.padding)*ar+er.point.x,tr=(Ut.y2*ht+Vt.y+Ut.padding)*ar+er.point.y,yr=er.perspectiveRatio<=.55||er.occluded;return!this.isInsideGrid(Yn,$n,cr,tr)||!Lt&&this.grid.hitTest(Yn,$n,cr,tr,gn)||yr?{box:[],offscreen:!1,occluded:er.occluded}:{box:[Yn,$n,cr,tr],offscreen:this.isOffscreen(Yn,$n,cr,tr),occluded:!1}}placeCollisionCircles(st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar){const Yn=[],$n=this.transform.elevation,cr=$n?$n.getAtTileOffsetFunc(ar,this.transform.center.lat,this.transform.worldSize,st.getProjection()):Br=>[0,0,0],tr=new j.pointGeometry(Ut.tileAnchorX,Ut.tileAnchorY),yr=st.getProjection().projectTilePoint(Ut.tileAnchorX,Ut.tileAnchorY,ar.canonical),br=cr(tr),ur=[yr.x+br[0],yr.y+br[1],yr.z+br[2]],Sr=st.projection.name==="globe",Ar=this.projectAndGetPerspectiveRatio(hn,[ur[0],ur[1],ur[2]],ar,Sr||!!$n||this.transform.pitch>0,st.getProjection()),{perspectiveRatio:Wr}=Ar,Pr=(Dn?Kt/Wr:Kt*Wr)/j.ONE_EM,ho=Fo(new j.pointGeometry(ur[0],ur[1]),gn,ur[2]).point,xr=Ar.signedDistanceFromCamera>0?ss(Pr,Lt,Ut.lineOffsetX*Pr,Ut.lineOffsetY*Pr,!1,ho,tr,Ut,Vt,gn,{},$n&&!Dn?cr:null,Dn&&!!$n,st.getProjection(),ar,Dn):null;let _i=!1,eo=!1,Vr=!0;if(xr&&!Ar.occluded){const Br=.5*or*Wr+er,So=new j.pointGeometry(-100,-100),yo=new j.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),bo=new yu,_o=xr.first,Oo=xr.last;let Ho=[];for(let vo=_o.path.length-1;vo>=1;vo--)Ho.push(_o.path[vo]);for(let vo=1;vo<Oo.path.length;vo++)Ho.push(Oo.path[vo]);const zo=2.5*Br;if(Rn){const vo=Ho.map($n&&!Sr?(ns,gs)=>{const js=cr(gs<_o.path.length-1?_o.tilePath[_o.path.length-1-gs]:Oo.tilePath[gs-_o.path.length+2]);return ns[2]=js[2],us(ns,Rn)}:ns=>us(ns,Rn));Ho=vo.some(ns=>ns.signedDistanceFromCamera<=0)?[]:vo.map(ns=>ns.point)}let Wo=[];if(Ho.length>0){const vo=Ho.map(Os=>new j.pointGeometry(Os[0],Os[1]));let ns=1/0,gs=-1/0,js=1/0,Gs=-1/0;for(let Os=0;Os<vo.length;Os++)ns=Math.min(ns,vo[Os].x),js=Math.min(js,vo[Os].y),gs=Math.max(gs,vo[Os].x),Gs=Math.max(Gs,vo[Os].y);Wo=ns>=So.x&&gs<=yo.x&&js>=So.y&&Gs<=yo.y?[vo]:gs<So.x||ns>yo.x||Gs<So.y||js>yo.y?[]:j.clipLine([vo],So.x,So.y,yo.x,yo.y)}for(const vo of Wo){bo.reset(vo,.25*Br);let ns=0;ns=bo.length<=.5*Br?1:Math.ceil(bo.paddedLength/zo)+1;for(let gs=0;gs<ns;gs++){const js=gs/Math.max(ns-1,1),Gs=bo.lerp(js),Os=Gs.x+xa,Jl=Gs.y+xa;Yn.push(Os,Jl,Br,0);const uu=Os-Br,vp=Jl-Br,Hs=Os+Br,El=Jl+Br;if(Vr=Vr&&this.isOffscreen(uu,vp,Hs,El),eo=eo||this.isInsideGrid(uu,vp,Hs,El),!ht&&this.grid.hitTestCircle(Os,Jl,Br,zn)&&(_i=!0,!Tn))return{circles:[],offscreen:!1,collisionDetected:_i,occluded:!1}}}}return{circles:!Tn&&_i||!eo?[]:Yn,offscreen:Vr,collisionDetected:_i,occluded:Ar.occluded}}queryRenderedSymbols(st){if(st.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const ht=[];let Ut=1/0,Vt=1/0,Lt=-1/0,Kt=-1/0;for(const Tn of st){const Dn=new j.pointGeometry(Tn.x+xa,Tn.y+xa);Ut=Math.min(Ut,Dn.x),Vt=Math.min(Vt,Dn.y),Lt=Math.max(Lt,Dn.x),Kt=Math.max(Kt,Dn.y),ht.push(Dn)}const hn=this.grid.query(Ut,Vt,Lt,Kt).concat(this.ignoredGrid.query(Ut,Vt,Lt,Kt)),gn={},Rn={};for(const Tn of hn){const Dn=Tn.key;if(gn[Dn.bucketInstanceId]===void 0&&(gn[Dn.bucketInstanceId]={}),gn[Dn.bucketInstanceId][Dn.featureIndex])continue;const zn=[new j.pointGeometry(Tn.x1,Tn.y1),new j.pointGeometry(Tn.x2,Tn.y1),new j.pointGeometry(Tn.x2,Tn.y2),new j.pointGeometry(Tn.x1,Tn.y2)];j.polygonIntersectsPolygon(ht,zn)&&(gn[Dn.bucketInstanceId][Dn.featureIndex]=!0,Rn[Dn.bucketInstanceId]===void 0&&(Rn[Dn.bucketInstanceId]=[]),Rn[Dn.bucketInstanceId].push(Dn.featureIndex))}return Rn}insertCollisionBox(st,ht,Ut,Vt,Lt){(ht?this.ignoredGrid:this.grid).insert({bucketInstanceId:Ut,featureIndex:Vt,collisionGroupID:Lt},st[0],st[1],st[2],st[3])}insertCollisionCircles(st,ht,Ut,Vt,Lt){const Kt=ht?this.ignoredGrid:this.grid,hn={bucketInstanceId:Ut,featureIndex:Vt,collisionGroupID:Lt};for(let gn=0;gn<st.length;gn+=4)Kt.insertCircle(hn,st[gn],st[gn+1],st[gn+2])}projectAndGetPerspectiveRatio(st,ht,Ut,Vt,Lt){const Kt=[ht[0],ht[1],ht[2],1];let hn=!1;if(ht[2]||this.transform.pitch>0){j.transformMat4$1(Kt,Kt,st);const gn=Lt.name==="globe";this.fogState&&Ut&&!gn&&(hn=function(Rn,Tn,Dn,zn,or,er){const ar=er.calculateFogTileMatrix(or),Yn=[Tn,Dn,zn];return j.transformMat4(Yn,Yn,ar),Ht(Rn,Yn,er.pitch,er._fov)}(this.fogState,ht[0],ht[1],ht[2],Ut.toUnwrapped(),this.transform)>.9)}else Hu(Kt,Kt,st);return{point:new j.pointGeometry((Kt[0]/Kt[3]+1)/2*this.transform.width+xa,(-Kt[1]/Kt[3]+1)/2*this.transform.height+xa),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(Lt)/Kt[3]*.5,1.5),signedDistanceFromCamera:Kt[3],occluded:Vt&&Kt[2]>Kt[3]||hn}}isOffscreen(st,ht,Ut,Vt){return Ut<xa||st>=this.screenRightBoundary||Vt<xa||ht>this.screenBottomBoundary}isInsideGrid(st,ht,Ut,Vt){return Ut>=0&&st<this.gridRightBoundary&&Vt>=0&&ht<this.gridBottomBoundary}getViewportMatrix(){const st=j.identity([]);return j.translate(st,st,[-100,-100,0]),st}}function hp(_t,st,ht){const Ut=st.createTileMatrix(_t,_t.worldSize,ht.toUnwrapped());return j.multiply(new Float32Array(16),_t.projMatrix,Ut)}function zp(_t,st,ht){if(st.projection.name===ht.projection.name)return _t.projMatrix;const Ut=ht.clone();return Ut.setProjection(st.projection),hp(Ut,st.getProjection(),_t)}function yl(_t,st,ht){return st.name===ht.projection.name?_t.projMatrix:hp(ht,st,_t)}class tu{constructor(st,ht,Ut,Vt){this.opacity=st?Math.max(0,Math.min(1,st.opacity+(st.placed?ht:-ht))):Vt&&Ut?1:0,this.placed=Ut}isHidden(){return this.opacity===0&&!this.placed}}class Ml{constructor(st,ht,Ut,Vt,Lt,Kt=!1){this.text=new tu(st?st.text:null,ht,Ut,Lt),this.icon=new tu(st?st.icon:null,ht,Vt,Lt),this.clipped=Kt}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class vs{constructor(st,ht,Ut,Vt=!1){this.text=st,this.icon=ht,this.skipFade=Ut,this.clipped=Vt}}class Zs{constructor(){this.invProjMatrix=j.create(),this.viewportMatrix=j.create(),this.circles=[]}}class Zp{constructor(st,ht,Ut,Vt,Lt){this.bucketInstanceId=st,this.featureIndex=ht,this.sourceLayerIndex=Ut,this.bucketIndex=Vt,this.tileID=Lt}}class dp{constructor(st){this.crossSourceCollisions=st,this.maxGroupID=0,this.collisionGroups={}}get(st){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[st]){const ht=++this.maxGroupID;this.collisionGroups[st]={ID:ht,predicate:Ut=>Ut.collisionGroupID===ht}}return this.collisionGroups[st]}}function Jt(_t,st,ht,Ut,Vt){const{horizontalAlign:Lt,verticalAlign:Kt}=j.getAnchorAlignment(_t),hn=-(Lt-.5)*st,gn=-(Kt-.5)*ht,Rn=j.evaluateVariableOffset(_t,Ut);return new j.pointGeometry(hn+Rn[0]*Vt,gn+Rn[1]*Vt)}function dn(_t,st,ht,Ut,Vt){const Lt=new j.pointGeometry(_t,st);return ht&&Lt._rotate(Ut?Vt:-Vt),Lt}class Qn{constructor(st,ht,Ut,Vt,Lt){this.transform=st.clone(),this.projection=st.projection.name,this.collisionIndex=new $u(this.transform,Lt),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ht,this.retainedQueryData={},this.collisionGroups=new dp(Ut),this.collisionCircleArrays={},this.prevPlacement=Vt,Vt&&(Vt.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(st,ht,Ut,Vt){const Lt=Ut.getBucket(ht),Kt=Ut.latestFeatureIndex;if(!Lt||!Kt||ht.id!==Lt.layerIds[0])return;const hn=Lt.layers[0].layout,gn=Ut.collisionBoxArray,Rn=Math.pow(2,this.transform.zoom-Ut.tileID.overscaledZ),Tn=Ut.tileSize/j.EXTENT,Dn=Ut.tileID.toUnwrapped();this.transform.setProjection(Lt.projection);const zn=(or=Ut.tileID,er=Lt.getProjection(),ar=this.transform,er.name===this.projection?ar.calculateProjMatrix(or.toUnwrapped()):hp(ar,er,or));var or,er,ar;const Yn=hn.get("text-pitch-alignment")==="map",$n=hn.get("text-rotation-alignment")==="map";ht.compileFilter();const cr=ht.dynamicFilter(),tr=ht.dynamicFilterNeedsFeature(),yr=this.transform.calculatePixelsToTileUnitsMatrix(Ut),br=cm(zn,Ut.tileID.canonical,Yn,$n,this.transform,Lt.getProjection(),yr);let ur=null;if(Yn){const Wr=cp(zn,Ut.tileID.canonical,Yn,$n,this.transform,Lt.getProjection(),yr);ur=j.multiply([],this.transform.labelPlaneMatrix,Wr)}let Sr=null;cr&&Ut.latestFeatureIndex&&(Sr={unwrappedTileID:Dn,dynamicFilter:cr,dynamicFilterNeedsFeature:tr,featureIndex:Ut.latestFeatureIndex}),this.retainedQueryData[Lt.bucketInstanceId]=new Zp(Lt.bucketInstanceId,Kt,Lt.sourceLayerIndex,Lt.index,Ut.tileID);const Ar={bucket:Lt,layout:hn,posMatrix:zn,textLabelPlaneMatrix:br,labelToScreenMatrix:ur,clippingData:Sr,scale:Rn,textPixelRatio:Tn,holdingForFade:Ut.holdingForFade(),collisionBoxArray:gn,partiallyEvaluatedTextSize:j.evaluateSizeForZoom(Lt.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:j.evaluateSizeForZoom(Lt.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Lt.sourceID)};if(Vt)for(const Wr of Lt.sortKeyRanges){const{sortKey:Pr,symbolInstanceStart:ho,symbolInstanceEnd:xr}=Wr;st.push({sortKey:Pr,symbolInstanceStart:ho,symbolInstanceEnd:xr,parameters:Ar})}else st.push({symbolInstanceStart:0,symbolInstanceEnd:Lt.symbolInstances.length,parameters:Ar})}attemptAnchorPlacement(st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar,Yn,$n,cr){const tr=[zn.textOffset0,zn.textOffset1],yr=Jt(st,Ut,Vt,tr,Lt),br=this.collisionIndex.placeCollisionBox(er,Lt,ht,dn(yr.x,yr.y,Kt,hn,this.transform.angle),Dn,gn,Rn,Tn.predicate);if(Yn){const ur=er.getSymbolInstanceIconSize(cr,this.transform.zoom,zn.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(er,ur,Yn,dn(yr.x,yr.y,Kt,hn,this.transform.angle),Dn,gn,Rn,Tn.predicate).box.length===0)return}if(br.box.length>0){let ur;return this.prevPlacement&&this.prevPlacement.variableOffsets[zn.crossTileID]&&this.prevPlacement.placements[zn.crossTileID]&&this.prevPlacement.placements[zn.crossTileID].text&&(ur=this.prevPlacement.variableOffsets[zn.crossTileID].anchor),this.variableOffsets[zn.crossTileID]={textOffset:tr,width:Ut,height:Vt,anchor:st,textScale:Lt,prevAnchor:ur},this.markUsedJustification(er,st,zn,ar),er.allowVerticalPlacement&&(this.markUsedOrientation(er,ar,zn),this.placedOrientations[zn.crossTileID]=ar),{shift:yr,placedGlyphBoxes:br}}}placeLayerBucketPart(st,ht,Ut,Vt){const{bucket:Lt,layout:Kt,posMatrix:hn,textLabelPlaneMatrix:gn,labelToScreenMatrix:Rn,clippingData:Tn,textPixelRatio:Dn,holdingForFade:zn,collisionBoxArray:or,partiallyEvaluatedTextSize:er,partiallyEvaluatedIconSize:ar,collisionGroup:Yn}=st.parameters,$n=Kt.get("text-optional"),cr=Kt.get("icon-optional"),tr=Kt.get("text-allow-overlap"),yr=Kt.get("icon-allow-overlap"),br=Kt.get("text-rotation-alignment")==="map",ur=Kt.get("text-pitch-alignment")==="map",Sr=Kt.get("icon-text-fit")!=="none",Ar=Kt.get("symbol-z-order")==="viewport-y";this.transform.setProjection(Lt.projection);let Wr=tr&&(yr||!Lt.hasIconData()||cr),Pr=yr&&(tr||!Lt.hasTextData()||$n);!Lt.collisionArrays&&or&&Lt.deserializeCollisionBoxes(or),Ut&&Vt&&Lt.updateCollisionDebugBuffers(this.transform.zoom,or);const ho=(xr,_i,eo)=>{if(Tn){const Hs={zoom:this.transform.zoom,pitch:this.transform.pitch};let El=null;if(Tn.dynamicFilterNeedsFeature){const Is=this.retainedQueryData[Lt.bucketInstanceId];El=Tn.featureIndex.loadFeature({featureIndex:xr.featureIndex,bucketIndex:Is.bucketIndex,sourceLayerIndex:Is.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Tn.dynamicFilter)(Hs,El,this.retainedQueryData[Lt.bucketInstanceId].tileID.canonical,new j.pointGeometry(xr.tileAnchorX,xr.tileAnchorY),this.transform.calculateDistanceTileData(Tn.unwrappedTileID)))return this.placements[xr.crossTileID]=new vs(!1,!1,!1,!0),void(ht[xr.crossTileID]=!0)}if(ht[xr.crossTileID])return;if(zn)return void(this.placements[xr.crossTileID]=new vs(!1,!1,!1));let Vr=!1,Br=!1,So=!0,yo=!1,bo=!1,_o=null,Oo={box:null,offscreen:null,occluded:null},Ho={box:null,offscreen:null,occluded:null},zo=null,Wo=null,vo=null,ns=0,gs=0,js=0;eo.textFeatureIndex?ns=eo.textFeatureIndex:xr.useRuntimeCollisionCircles&&(ns=xr.featureIndex),eo.verticalTextFeatureIndex&&(gs=eo.verticalTextFeatureIndex);const Gs=Hs=>{Hs.tileID=this.retainedQueryData[Lt.bucketInstanceId].tileID,(this.transform.elevation||Hs.elevation)&&(Hs.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[Lt.bucketInstanceId].tileID,Hs.tileAnchorX,Hs.tileAnchorY):0)},Os=eo.textBox;if(Os){Gs(Os);const Hs=Is=>{let Nl=j.WritingMode.horizontal;if(Lt.allowVerticalPlacement&&!Is&&this.prevPlacement){const hu=this.prevPlacement.placedOrientations[xr.crossTileID];hu&&(this.placedOrientations[xr.crossTileID]=hu,Nl=hu,this.markUsedOrientation(Lt,Nl,xr))}return Nl},El=(Is,Nl)=>{if(Lt.allowVerticalPlacement&&xr.numVerticalGlyphVertices>0&&eo.verticalTextBox){for(const hu of Lt.writingModes)if(hu===j.WritingMode.vertical?(Oo=Nl(),Ho=Oo):Oo=Is(),Oo&&Oo.box&&Oo.box.length)break}else Oo=Is()};if(Kt.get("text-variable-anchor")){let Is=Kt.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[xr.crossTileID]){const Xs=this.prevPlacement.variableOffsets[xr.crossTileID];Is.indexOf(Xs.anchor)>0&&(Is=Is.filter(Mu=>Mu!==Xs.anchor),Is.unshift(Xs.anchor))}const Nl=(Xs,Mu,em)=>{const _h=Lt.getSymbolInstanceTextSize(er,xr,this.transform.zoom,_i),iu=(Xs.x2-Xs.x1)*_h+2*Xs.padding,my=(Xs.y2-Xs.y1)*_h+2*Xs.padding,Np=Sr&&!yr?Mu:null;Np&&Gs(Np);let es={box:[],offscreen:!1,occluded:!1};const Vp=tr?2*Is.length:Is.length;for(let bm=0;bm<Vp;++bm){const Ru=this.attemptAnchorPlacement(Is[bm%Is.length],Xs,iu,my,_h,br,ur,Dn,hn,Yn,bm>=Is.length,xr,_i,Lt,em,Np,er,ar);if(Ru&&(es=Ru.placedGlyphBoxes,es&&es.box&&es.box.length)){Vr=!0,_o=Ru.shift;break}}return es};El(()=>Nl(Os,eo.iconBox,j.WritingMode.horizontal),()=>{const Xs=eo.verticalTextBox;return Xs&&Gs(Xs),Lt.allowVerticalPlacement&&!(Oo&&Oo.box&&Oo.box.length)&&xr.numVerticalGlyphVertices>0&&Xs?Nl(Xs,eo.verticalIconBox,j.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Oo&&(Vr=Oo.box,So=Oo.offscreen,yo=Oo.occluded);const hu=Hs(Oo&&Oo.box);if(!Vr&&this.prevPlacement){const Xs=this.prevPlacement.variableOffsets[xr.crossTileID];Xs&&(this.variableOffsets[xr.crossTileID]=Xs,this.markUsedJustification(Lt,Xs.anchor,xr,hu))}}else{const Is=(Nl,hu)=>{const Xs=Lt.getSymbolInstanceTextSize(er,xr,this.transform.zoom,_i),Mu=this.collisionIndex.placeCollisionBox(Lt,Xs,Nl,new j.pointGeometry(0,0),tr,Dn,hn,Yn.predicate);return Mu&&Mu.box&&Mu.box.length&&(this.markUsedOrientation(Lt,hu,xr),this.placedOrientations[xr.crossTileID]=hu),Mu};El(()=>Is(Os,j.WritingMode.horizontal),()=>{const Nl=eo.verticalTextBox;return Lt.allowVerticalPlacement&&xr.numVerticalGlyphVertices>0&&Nl?(Gs(Nl),Is(Nl,j.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Hs(Oo&&Oo.box&&Oo.box.length)}}if(zo=Oo,Vr=zo&&zo.box&&zo.box.length>0,So=zo&&zo.offscreen,yo=zo&&zo.occluded,xr.useRuntimeCollisionCircles){const Hs=Lt.text.placedSymbolArray.get(xr.centerJustifiedTextSymbolIndex>=0?xr.centerJustifiedTextSymbolIndex:xr.verticalPlacedTextSymbolIndex),El=j.evaluateSizeForFeature(Lt.textSizeData,er,Hs),Is=Kt.get("text-padding");Wo=this.collisionIndex.placeCollisionCircles(Lt,tr,Hs,Lt.lineVertexArray,Lt.glyphOffsetArray,El,hn,gn,Rn,Ut,ur,Yn.predicate,xr.collisionCircleDiameter*El/j.ONE_EM,Is,this.retainedQueryData[Lt.bucketInstanceId].tileID),Vr=tr||Wo.circles.length>0&&!Wo.collisionDetected,So=So&&Wo.offscreen,yo=Wo.occluded}if(eo.iconFeatureIndex&&(js=eo.iconFeatureIndex),eo.iconBox){const Hs=El=>{Gs(El);const Is=Sr&&_o?dn(_o.x,_o.y,br,ur,this.transform.angle):new j.pointGeometry(0,0),Nl=Lt.getSymbolInstanceIconSize(ar,this.transform.zoom,xr.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(Lt,Nl,El,Is,yr,Dn,hn,Yn.predicate)};Ho&&Ho.box&&Ho.box.length&&eo.verticalIconBox?(vo=Hs(eo.verticalIconBox),Br=vo.box.length>0):(vo=Hs(eo.iconBox),Br=vo.box.length>0),So=So&&vo.offscreen,bo=vo.occluded}const Jl=$n||xr.numHorizontalGlyphVertices===0&&xr.numVerticalGlyphVertices===0,uu=cr||xr.numIconVertices===0;if(Jl||uu?uu?Jl||(Br=Br&&Vr):Vr=Br&&Vr:Br=Vr=Br&&Vr,Vr&&zo&&zo.box&&this.collisionIndex.insertCollisionBox(zo.box,Kt.get("text-ignore-placement"),Lt.bucketInstanceId,Ho&&Ho.box&&gs?gs:ns,Yn.ID),Br&&vo&&this.collisionIndex.insertCollisionBox(vo.box,Kt.get("icon-ignore-placement"),Lt.bucketInstanceId,js,Yn.ID),Wo&&(Vr&&this.collisionIndex.insertCollisionCircles(Wo.circles,Kt.get("text-ignore-placement"),Lt.bucketInstanceId,ns,Yn.ID),Ut)){const Hs=Lt.bucketInstanceId;let El=this.collisionCircleArrays[Hs];El===void 0&&(El=this.collisionCircleArrays[Hs]=new Zs);for(let Is=0;Is<Wo.circles.length;Is+=4)El.circles.push(Wo.circles[Is+0]),El.circles.push(Wo.circles[Is+1]),El.circles.push(Wo.circles[Is+2]),El.circles.push(Wo.collisionDetected?1:0)}const vp=Lt.projection.name!=="globe";Wr=Wr&&(vp||!yo),Pr=Pr&&(vp||!bo),this.placements[xr.crossTileID]=new vs(Vr||Wr,Br||Pr,So||Lt.justReloaded),ht[xr.crossTileID]=!0};if(Ar){const xr=Lt.getSortedSymbolIndexes(this.transform.angle);for(let _i=xr.length-1;_i>=0;--_i){const eo=xr[_i];ho(Lt.symbolInstances.get(eo),eo,Lt.collisionArrays[eo])}}else for(let xr=st.symbolInstanceStart;xr<st.symbolInstanceEnd;xr++)ho(Lt.symbolInstances.get(xr),xr,Lt.collisionArrays[xr]);if(Ut&&Lt.bucketInstanceId in this.collisionCircleArrays){const xr=this.collisionCircleArrays[Lt.bucketInstanceId];j.invert(xr.invProjMatrix,hn),xr.viewportMatrix=this.collisionIndex.getViewportMatrix()}Lt.justReloaded=!1}markUsedJustification(st,ht,Ut,Vt){let Lt;Lt=Vt===j.WritingMode.vertical?Ut.verticalPlacedTextSymbolIndex:{left:Ut.leftJustifiedTextSymbolIndex,center:Ut.centerJustifiedTextSymbolIndex,right:Ut.rightJustifiedTextSymbolIndex}[j.getAnchorJustification(ht)];const Kt=[Ut.leftJustifiedTextSymbolIndex,Ut.centerJustifiedTextSymbolIndex,Ut.rightJustifiedTextSymbolIndex,Ut.verticalPlacedTextSymbolIndex];for(const hn of Kt)hn>=0&&(st.text.placedSymbolArray.get(hn).crossTileID=Lt>=0&&hn!==Lt?0:Ut.crossTileID)}markUsedOrientation(st,ht,Ut){const Vt=ht===j.WritingMode.horizontal||ht===j.WritingMode.horizontalOnly?ht:0,Lt=ht===j.WritingMode.vertical?ht:0,Kt=[Ut.leftJustifiedTextSymbolIndex,Ut.centerJustifiedTextSymbolIndex,Ut.rightJustifiedTextSymbolIndex].filter(hn=>hn!==-1);for(const hn of Kt)st.text.placedSymbolArray.get(hn).placedOrientation=Vt;Ut.verticalPlacedTextSymbolIndex!==-1&&(st.text.placedSymbolArray.get(Ut.verticalPlacedTextSymbolIndex).placedOrientation=Lt)}commit(st){this.commitTime=st,this.zoomAtLastRecencyCheck=this.transform.zoom;const ht=this.prevPlacement;let Ut=!1;this.prevZoomAdjustment=ht?ht.zoomAdjustment(this.transform.zoom):0;const Vt=ht?ht.symbolFadeChange(st):1,Lt=ht?ht.opacities:{},Kt=ht?ht.variableOffsets:{},hn=ht?ht.placedOrientations:{};for(const gn in this.placements){const Rn=this.placements[gn],Tn=Lt[gn];Tn?(this.opacities[gn]=new Ml(Tn,Vt,Rn.text,Rn.icon,null,Rn.clipped),Ut=Ut||Rn.text!==Tn.text.placed||Rn.icon!==Tn.icon.placed):(this.opacities[gn]=new Ml(null,Vt,Rn.text,Rn.icon,Rn.skipFade,Rn.clipped),Ut=Ut||Rn.text||Rn.icon)}for(const gn in Lt){const Rn=Lt[gn];if(!this.opacities[gn]){const Tn=new Ml(Rn,Vt,!1,!1);Tn.isHidden()||(this.opacities[gn]=Tn,Ut=Ut||Rn.text.placed||Rn.icon.placed)}}for(const gn in Kt)this.variableOffsets[gn]||!this.opacities[gn]||this.opacities[gn].isHidden()||(this.variableOffsets[gn]=Kt[gn]);for(const gn in hn)this.placedOrientations[gn]||!this.opacities[gn]||this.opacities[gn].isHidden()||(this.placedOrientations[gn]=hn[gn]);Ut?this.lastPlacementChangeTime=st:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ht?ht.lastPlacementChangeTime:st)}updateLayerOpacities(st,ht){const Ut={};for(const Vt of ht){const Lt=Vt.getBucket(st);Lt&&Vt.latestFeatureIndex&&st.id===Lt.layerIds[0]&&this.updateBucketOpacities(Lt,Ut,Vt.collisionBoxArray)}}updateBucketOpacities(st,ht,Ut){st.hasTextData()&&st.text.opacityVertexArray.clear(),st.hasIconData()&&st.icon.opacityVertexArray.clear(),st.hasIconCollisionBoxData()&&st.iconCollisionBox.collisionVertexArray.clear(),st.hasTextCollisionBoxData()&&st.textCollisionBox.collisionVertexArray.clear();const Vt=st.layers[0].layout,Lt=!!st.layers[0].dynamicFilter(),Kt=new Ml(null,0,!1,!1,!0),hn=Vt.get("text-allow-overlap"),gn=Vt.get("icon-allow-overlap"),Rn=Vt.get("text-variable-anchor"),Tn=Vt.get("text-rotation-alignment")==="map",Dn=Vt.get("text-pitch-alignment")==="map",zn=Vt.get("icon-text-fit")!=="none",or=new Ml(null,0,hn&&(gn||!st.hasIconData()||Vt.get("icon-optional")),gn&&(hn||!st.hasTextData()||Vt.get("text-optional")),!0);!st.collisionArrays&&Ut&&(st.hasIconCollisionBoxData()||st.hasTextCollisionBoxData())&&st.deserializeCollisionBoxes(Ut);const er=(Yn,$n,cr)=>{for(let tr=0;tr<$n/4;tr++)Yn.opacityVertexArray.emplaceBack(cr)};let ar=0;for(let Yn=0;Yn<st.symbolInstances.length;Yn++){const $n=st.symbolInstances.get(Yn),{numHorizontalGlyphVertices:cr,numVerticalGlyphVertices:tr,crossTileID:yr}=$n;let br=this.opacities[yr];ht[yr]?br=Kt:br||(br=or,this.opacities[yr]=br),ht[yr]=!0;const ur=cr>0||tr>0,Sr=$n.numIconVertices>0,Ar=this.placedOrientations[$n.crossTileID],Wr=Ar===j.WritingMode.vertical,Pr=Ar===j.WritingMode.horizontal||Ar===j.WritingMode.horizontalOnly;if(!ur&&!Sr||br.isHidden()||ar++,ur){const ho=Po(br.text);er(st.text,cr,Wr?Uo:ho),er(st.text,tr,Pr?Uo:ho);const xr=br.text.isHidden();[$n.rightJustifiedTextSymbolIndex,$n.centerJustifiedTextSymbolIndex,$n.leftJustifiedTextSymbolIndex].forEach(Vr=>{Vr>=0&&(st.text.placedSymbolArray.get(Vr).hidden=xr||Wr?1:0)}),$n.verticalPlacedTextSymbolIndex>=0&&(st.text.placedSymbolArray.get($n.verticalPlacedTextSymbolIndex).hidden=xr||Pr?1:0);const _i=this.variableOffsets[$n.crossTileID];_i&&this.markUsedJustification(st,_i.anchor,$n,Ar);const eo=this.placedOrientations[$n.crossTileID];eo&&(this.markUsedJustification(st,"left",$n,eo),this.markUsedOrientation(st,eo,$n))}if(Sr){const ho=Po(br.icon);$n.placedIconSymbolIndex>=0&&(er(st.icon,$n.numIconVertices,Wr?Uo:ho),st.icon.placedSymbolArray.get($n.placedIconSymbolIndex).hidden=br.icon.isHidden()),$n.verticalPlacedIconSymbolIndex>=0&&(er(st.icon,$n.numVerticalIconVertices,Pr?Uo:ho),st.icon.placedSymbolArray.get($n.verticalPlacedIconSymbolIndex).hidden=br.icon.isHidden())}if(st.hasIconCollisionBoxData()||st.hasTextCollisionBoxData()){const ho=st.collisionArrays[Yn];if(ho){let xr=new j.pointGeometry(0,0),_i=!0;if(ho.textBox||ho.verticalTextBox){if(Rn){const Vr=this.variableOffsets[yr];Vr?(xr=Jt(Vr.anchor,Vr.width,Vr.height,Vr.textOffset,Vr.textScale),Tn&&xr._rotate(Dn?this.transform.angle:-this.transform.angle)):_i=!1}Lt&&(_i=!br.clipped),ho.textBox&&In(st.textCollisionBox.collisionVertexArray,br.text.placed,!_i||Wr,xr.x,xr.y),ho.verticalTextBox&&In(st.textCollisionBox.collisionVertexArray,br.text.placed,!_i||Pr,xr.x,xr.y)}const eo=_i&&Boolean(!Pr&&ho.verticalIconBox);ho.iconBox&&In(st.iconCollisionBox.collisionVertexArray,br.icon.placed,eo,zn?xr.x:0,zn?xr.y:0),ho.verticalIconBox&&In(st.iconCollisionBox.collisionVertexArray,br.icon.placed,!eo,zn?xr.x:0,zn?xr.y:0)}}}if(st.fullyClipped=ar===0,st.sortFeatures(this.transform.angle),this.retainedQueryData[st.bucketInstanceId]&&(this.retainedQueryData[st.bucketInstanceId].featureSortOrder=st.featureSortOrder),st.hasTextData()&&st.text.opacityVertexBuffer&&st.text.opacityVertexBuffer.updateData(st.text.opacityVertexArray),st.hasIconData()&&st.icon.opacityVertexBuffer&&st.icon.opacityVertexBuffer.updateData(st.icon.opacityVertexArray),st.hasIconCollisionBoxData()&&st.iconCollisionBox.collisionVertexBuffer&&st.iconCollisionBox.collisionVertexBuffer.updateData(st.iconCollisionBox.collisionVertexArray),st.hasTextCollisionBoxData()&&st.textCollisionBox.collisionVertexBuffer&&st.textCollisionBox.collisionVertexBuffer.updateData(st.textCollisionBox.collisionVertexArray),st.bucketInstanceId in this.collisionCircleArrays){const Yn=this.collisionCircleArrays[st.bucketInstanceId];st.placementInvProjMatrix=Yn.invProjMatrix,st.placementViewportMatrix=Yn.viewportMatrix,st.collisionCircleArray=Yn.circles,delete this.collisionCircleArrays[st.bucketInstanceId]}}symbolFadeChange(st){return this.fadeDuration===0?1:(st-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(st){return Math.max(0,(this.transform.zoom-st)/1.5)}hasTransitions(st){return this.stale||st-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(st,ht){const Ut=this.zoomAtLastRecencyCheck===ht?1-this.zoomAdjustment(ht):1;return this.zoomAtLastRecencyCheck=ht,this.commitTime+this.fadeDuration*Ut>st}setStale(){this.stale=!0}}function In(_t,st,ht,Ut,Vt){_t.emplaceBack(st?1:0,ht?1:0,Ut||0,Vt||0),_t.emplaceBack(st?1:0,ht?1:0,Ut||0,Vt||0),_t.emplaceBack(st?1:0,ht?1:0,Ut||0,Vt||0),_t.emplaceBack(st?1:0,ht?1:0,Ut||0,Vt||0)}const qn=Math.pow(2,25),pr=Math.pow(2,24),Gn=Math.pow(2,17),lr=Math.pow(2,16),Cr=Math.pow(2,9),Mr=Math.pow(2,8),Yr=Math.pow(2,1);function Po(_t){if(_t.opacity===0&&!_t.placed)return 0;if(_t.opacity===1&&_t.placed)return 4294967295;const st=_t.placed?1:0,ht=Math.floor(127*_t.opacity);return ht*qn+st*pr+ht*Gn+st*lr+ht*Cr+st*Mr+ht*Yr+st}const Uo=0;class Mo{constructor(st){this._sortAcrossTiles=st.layout.get("symbol-z-order")!=="viewport-y"&&st.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(st,ht,Ut,Vt,Lt){const Kt=this._bucketParts;for(;this._currentTileIndex<st.length;)if(ht.getBucketParts(Kt,Vt,st[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Lt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Kt.sort((hn,gn)=>hn.sortKey-gn.sortKey));this._currentPartIndex<Kt.length;){const hn=Kt[this._currentPartIndex];if(ht.placeLayerBucketPart(hn,this._seenCrossTileIDs,Ut,hn.symbolInstanceStart===0),this._currentPartIndex++,Lt())return!0}return!1}}class Ko{constructor(st,ht,Ut,Vt,Lt,Kt,hn,gn){this.placement=new Qn(st,Lt,Kt,hn,gn),this._currentPlacementIndex=ht.length-1,this._forceFullPlacement=Ut,this._showCollisionBoxes=Vt,this._done=!1}isDone(){return this._done}continuePlacement(st,ht,Ut){const Vt=j.exported.now(),Lt=()=>{const Kt=j.exported.now()-Vt;return!this._forceFullPlacement&&Kt>2};for(;this._currentPlacementIndex>=0;){const Kt=ht[st[this._currentPlacementIndex]],hn=this.placement.collisionIndex.transform.zoom;if(Kt.type==="symbol"&&(!Kt.minzoom||Kt.minzoom<=hn)&&(!Kt.maxzoom||Kt.maxzoom>hn)){if(this._inProgressLayer||(this._inProgressLayer=new Mo(Kt)),this._inProgressLayer.continuePlacement(Ut[Kt.source],this.placement,this._showCollisionBoxes,Kt,Lt))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(st){return this.placement.commit(st),this.placement}}const is=512/j.EXTENT/2;class Co{constructor(st,ht,Ut){this.tileID=st,this.indexedSymbolInstances={},this.bucketInstanceId=Ut;for(let Vt=0;Vt<ht.length;Vt++){const Lt=ht.get(Vt),Kt=Lt.key;this.indexedSymbolInstances[Kt]||(this.indexedSymbolInstances[Kt]=[]),this.indexedSymbolInstances[Kt].push({crossTileID:Lt.crossTileID,coord:this.getScaledCoordinates(Lt,st)})}}getScaledCoordinates(st,ht){const Ut=is/Math.pow(2,ht.canonical.z-this.tileID.canonical.z);return{x:Math.floor((ht.canonical.x*j.EXTENT+st.tileAnchorX)*Ut),y:Math.floor((ht.canonical.y*j.EXTENT+st.tileAnchorY)*Ut)}}findMatches(st,ht,Ut){const Vt=this.tileID.canonical.z<ht.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ht.canonical.z);for(let Lt=0;Lt<st.length;Lt++){const Kt=st.get(Lt);if(Kt.crossTileID)continue;const hn=this.indexedSymbolInstances[Kt.key];if(!hn)continue;const gn=this.getScaledCoordinates(Kt,ht);for(const Rn of hn)if(Math.abs(Rn.coord.x-gn.x)<=Vt&&Math.abs(Rn.coord.y-gn.y)<=Vt&&!Ut[Rn.crossTileID]){Ut[Rn.crossTileID]=!0,Kt.crossTileID=Rn.crossTileID;break}}}}class Al{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class cu{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(st){const ht=Math.round((st-this.lng)/360);if(ht!==0)for(const Ut in this.indexes){const Vt=this.indexes[Ut],Lt={};for(const Kt in Vt){const hn=Vt[Kt];hn.tileID=hn.tileID.unwrapTo(hn.tileID.wrap+ht),Lt[hn.tileID.key]=hn}this.indexes[Ut]=Lt}this.lng=st}addBucket(st,ht,Ut){if(this.indexes[st.overscaledZ]&&this.indexes[st.overscaledZ][st.key]){if(this.indexes[st.overscaledZ][st.key].bucketInstanceId===ht.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(st.overscaledZ,this.indexes[st.overscaledZ][st.key])}for(let Lt=0;Lt<ht.symbolInstances.length;Lt++)ht.symbolInstances.get(Lt).crossTileID=0;this.usedCrossTileIDs[st.overscaledZ]||(this.usedCrossTileIDs[st.overscaledZ]={});const Vt=this.usedCrossTileIDs[st.overscaledZ];for(const Lt in this.indexes){const Kt=this.indexes[Lt];if(Number(Lt)>st.overscaledZ)for(const hn in Kt){const gn=Kt[hn];gn.tileID.isChildOf(st)&&gn.findMatches(ht.symbolInstances,st,Vt)}else{const hn=Kt[st.scaledTo(Number(Lt)).key];hn&&hn.findMatches(ht.symbolInstances,st,Vt)}}for(let Lt=0;Lt<ht.symbolInstances.length;Lt++){const Kt=ht.symbolInstances.get(Lt);Kt.crossTileID||(Kt.crossTileID=Ut.generate(),Vt[Kt.crossTileID]=!0)}return this.indexes[st.overscaledZ]===void 0&&(this.indexes[st.overscaledZ]={}),this.indexes[st.overscaledZ][st.key]=new Co(st,ht.symbolInstances,ht.bucketInstanceId),!0}removeBucketCrossTileIDs(st,ht){for(const Ut in ht.indexedSymbolInstances)for(const Vt of ht.indexedSymbolInstances[Ut])delete this.usedCrossTileIDs[st][Vt.crossTileID]}removeStaleBuckets(st){let ht=!1;for(const Ut in this.indexes){const Vt=this.indexes[Ut];for(const Lt in Vt)st[Vt[Lt].bucketInstanceId]||(this.removeBucketCrossTileIDs(Ut,Vt[Lt]),delete Vt[Lt],ht=!0)}return ht}}class Nm{constructor(){this.layerIndexes={},this.crossTileIDs=new Al,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(st,ht,Ut,Vt){let Lt=this.layerIndexes[st.id];Lt===void 0&&(Lt=this.layerIndexes[st.id]=new cu);let Kt=!1;const hn={};Vt.name!=="globe"&&Lt.handleWrapJump(Ut);for(const gn of ht){const Rn=gn.getBucket(st);Rn&&st.id===Rn.layerIds[0]&&(Rn.bucketInstanceId||(Rn.bucketInstanceId=++this.maxBucketInstanceId),Lt.addBucket(gn.tileID,Rn,this.crossTileIDs)&&(Kt=!0),hn[Rn.bucketInstanceId]=!0)}return Lt.removeStaleBuckets(hn)&&(Kt=!0),Kt}pruneUnusedLayers(st){const ht={};st.forEach(Ut=>{ht[Ut]=!0});for(const Ut in this.layerIndexes)ht[Ut]||delete this.layerIndexes[Ut]}}const Yu=(_t,st)=>j.emitValidationErrors(_t,st&&st.filter(ht=>ht.identifier!=="source.canvas")),a0=j.pick(Eo,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),xl=j.pick(Eo,["setCenter","setZoom","setBearing","setPitch"]),Cy={version:8,layers:[],sources:{}},Ep={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class fp extends j.Evented{constructor(st,ht={}){super(),this.map=st,this.dispatcher=new Un(Do(),this),this.imageManager=new Pt,this.imageManager.setEventedParent(this),this.glyphManager=new j.GlyphManager(st._requestManager,ht.localFontFamily?j.LocalGlyphMode.all:ht.localIdeographFontFamily?j.LocalGlyphMode.ideographs:j.LocalGlyphMode.none,ht.localFontFamily||ht.localIdeographFontFamily),this.crossTileSymbolIndex=new Nm,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new j.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",j.getReferrer());const Ut=this;this._rtlTextPluginCallback=fp.registerForPluginStateChange(Vt=>{Ut.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Vt.pluginStatus,pluginURL:Vt.pluginURL},(Lt,Kt)=>{if(j.triggerPluginCompletionEvent(Lt),Kt&&Kt.every(hn=>hn))for(const hn in Ut._sourceCaches){const gn=Ut._sourceCaches[hn],Rn=gn.getSource().type;Rn!=="vector"&&Rn!=="geojson"||gn.reload()}})}),this.on("data",Vt=>{if(Vt.dataType!=="source"||Vt.sourceDataType!=="metadata")return;const Lt=this.getSource(Vt.sourceId);if(Lt&&Lt.vectorLayerIds)for(const Kt in this._layers){const hn=this._layers[Kt];hn.source===Lt.id&&this._validateLayer(hn)}})}loadURL(st,ht={}){this.fire(new j.Event("dataloading",{dataType:"style"}));const Ut=typeof ht.validate=="boolean"?ht.validate:!j.isMapboxURL(st);st=this.map._requestManager.normalizeStyleURL(st,ht.accessToken);const Vt=this.map._requestManager.transformRequest(st,j.ResourceType.Style);this._request=j.getJSON(Vt,(Lt,Kt)=>{this._request=null,Lt?this.fire(new j.ErrorEvent(Lt)):Kt&&this._load(Kt,Ut)})}loadJSON(st,ht={}){this.fire(new j.Event("dataloading",{dataType:"style"})),this._request=j.exported.frame(()=>{this._request=null,this._load(st,ht.validate!==!1)})}loadEmpty(){this.fire(new j.Event("dataloading",{dataType:"style"})),this._load(Cy,!1)}_updateLayerCount(st,ht){const Ut=ht?1:-1;st.is3D()&&(this._num3DLayers+=Ut),st.type==="circle"&&(this._numCircleLayers+=Ut),st.type==="symbol"&&(this._numSymbolLayers+=Ut)}_load(st,ht){if(ht&&Yu(this,j.validateStyle(st)))return;this._loaded=!0,this.stylesheet=j.clone$1(st),this._updateMapProjection();for(const Vt in st.sources)this.addSource(Vt,st.sources[Vt],{validate:!1});this._changed=!1,st.sprite?this._loadSprite(st.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(st.glyphs);const Ut=as(this.stylesheet.layers);this._order=Ut.map(Vt=>Vt.id),this._layers={},this._serializedLayers={};for(let Vt of Ut)Vt=j.createStyleLayer(Vt),Vt.setEventedParent(this,{layer:{id:Vt.id}}),this._layers[Vt.id]=Vt,this._serializedLayers[Vt.id]=Vt.serialize(),this._updateLayerCount(Vt,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new qt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new j.Event("data",{dataType:"style"})),this.fire(new j.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(st){st?this.stylesheet.projection=st:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(st){this._spriteRequest=function(ht,Ut,Vt){let Lt,Kt,hn;const gn=j.exported.devicePixelRatio>1?"@2x":"";let Rn=j.getJSON(Ut.transformRequest(Ut.normalizeSpriteURL(ht,gn,".json"),j.ResourceType.SpriteJSON),(zn,or)=>{Rn=null,hn||(hn=zn,Lt=or,Dn())}),Tn=j.getImage(Ut.transformRequest(Ut.normalizeSpriteURL(ht,gn,".png"),j.ResourceType.SpriteImage),(zn,or)=>{Tn=null,hn||(hn=zn,Kt=or,Dn())});function Dn(){if(hn)Vt(hn);else if(Lt&&Kt){const zn=j.exported.getImageData(Kt),or={};for(const er in Lt){const{width:ar,height:Yn,x:$n,y:cr,sdf:tr,pixelRatio:yr,stretchX:br,stretchY:ur,content:Sr}=Lt[er],Ar=new j.RGBAImage({width:ar,height:Yn});j.RGBAImage.copy(zn,Ar,{x:$n,y:cr},{x:0,y:0},{width:ar,height:Yn}),or[er]={data:Ar,pixelRatio:yr,sdf:tr,stretchX:br,stretchY:ur,content:Sr}}Vt(null,or)}}return{cancel(){Rn&&(Rn.cancel(),Rn=null),Tn&&(Tn.cancel(),Tn=null)}}}(st,this.map._requestManager,(ht,Ut)=>{if(this._spriteRequest=null,ht)this.fire(new j.ErrorEvent(ht));else if(Ut)for(const Vt in Ut)this.imageManager.addImage(Vt,Ut[Vt]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new j.Event("data",{dataType:"style"}))})}_validateLayer(st){const ht=this.getSource(st.source);if(!ht)return;const Ut=st.sourceLayer;Ut&&(ht.type==="geojson"||ht.vectorLayerIds&&ht.vectorLayerIds.indexOf(Ut)===-1)&&this.fire(new j.ErrorEvent(new Error(`Source layer "${Ut}" does not exist on source "${ht.id}" as specified by style layer "${st.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const st in this._sourceCaches)if(!this._sourceCaches[st].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(st){const ht=[];for(const Ut of st){const Vt=this._layers[Ut];Vt.type!=="custom"&&ht.push(Vt.serialize())}return ht}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const st in this._sourceCaches)if(this._sourceCaches[st].hasTransition())return!0;for(const st in this._layers)if(this._layers[st].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(st){return!!this.terrain&&Ep[st.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(st){if(!this._loaded)return;const ht=this._changed;if(this._changed){const Vt=Object.keys(this._updatedLayers),Lt=Object.keys(this._removedLayers);(Vt.length||Lt.length)&&this._updateWorkerLayers(Vt,Lt);for(const Kt in this._updatedSources){const hn=this._updatedSources[Kt];hn==="reload"?this._reloadSource(Kt):hn==="clear"&&this._clearSource(Kt)}this._updateTilesForChangedImages();for(const Kt in this._updatedPaintProps)this._layers[Kt].updateTransitions(st);this.light.updateTransitions(st),this.fog&&this.fog.updateTransitions(st),this._resetUpdates()}const Ut={};for(const Vt in this._sourceCaches){const Lt=this._sourceCaches[Vt];Ut[Vt]=Lt.used,Lt.used=!1}for(const Vt of this._order){const Lt=this._layers[Vt];if(Lt.recalculate(st,this._availableImages),!Lt.isHidden(st.zoom)){const hn=this._getLayerSourceCache(Lt);hn&&(hn.used=!0)}const Kt=this.map.painter;if(Kt){const hn=Lt.getProgramIds();if(!hn)continue;const gn=Lt.getProgramConfiguration(st.zoom);for(const Rn of hn)Kt.useProgram(Rn,gn)}}for(const Vt in Ut){const Lt=this._sourceCaches[Vt];Ut[Vt]!==Lt.used&&Lt.getSource().fire(new j.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Lt.getSource().id}))}this.light.recalculate(st),this.terrain&&this.terrain.recalculate(st),this.fog&&this.fog.recalculate(st),this.z=st.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),ht&&this.fire(new j.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const st=Object.keys(this._changedImages);if(st.length){for(const ht in this._sourceCaches)this._sourceCaches[ht].reloadTilesForDependencies(["icons","patterns"],st);this._changedImages={}}}_updateWorkerLayers(st,ht){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(st),removedIds:ht})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(st){if(this._checkLoaded(),Yu(this,j.validateStyle(st)))return!1;(st=j.clone$1(st)).layers=as(st.layers);const ht=function(Vt,Lt){if(!Vt)return[{command:Eo.setStyle,args:[Lt]}];let Kt=[];try{if(!nt(Vt.version,Lt.version))return[{command:Eo.setStyle,args:[Lt]}];nt(Vt.center,Lt.center)||Kt.push({command:Eo.setCenter,args:[Lt.center]}),nt(Vt.zoom,Lt.zoom)||Kt.push({command:Eo.setZoom,args:[Lt.zoom]}),nt(Vt.bearing,Lt.bearing)||Kt.push({command:Eo.setBearing,args:[Lt.bearing]}),nt(Vt.pitch,Lt.pitch)||Kt.push({command:Eo.setPitch,args:[Lt.pitch]}),nt(Vt.sprite,Lt.sprite)||Kt.push({command:Eo.setSprite,args:[Lt.sprite]}),nt(Vt.glyphs,Lt.glyphs)||Kt.push({command:Eo.setGlyphs,args:[Lt.glyphs]}),nt(Vt.transition,Lt.transition)||Kt.push({command:Eo.setTransition,args:[Lt.transition]}),nt(Vt.light,Lt.light)||Kt.push({command:Eo.setLight,args:[Lt.light]}),nt(Vt.fog,Lt.fog)||Kt.push({command:Eo.setFog,args:[Lt.fog]}),nt(Vt.projection,Lt.projection)||Kt.push({command:Eo.setProjection,args:[Lt.projection]});const hn={},gn=[];(function(Dn,zn,or,er){let ar;for(ar in zn=zn||{},Dn=Dn||{})Dn.hasOwnProperty(ar)&&(zn.hasOwnProperty(ar)||Bs(ar,or,er));for(ar in zn)zn.hasOwnProperty(ar)&&(Dn.hasOwnProperty(ar)?nt(Dn[ar],zn[ar])||(Dn[ar].type==="geojson"&&zn[ar].type==="geojson"&&mu(Dn,zn,ar)?or.push({command:Eo.setGeoJSONSourceData,args:[ar,zn[ar].data]}):Qu(ar,zn,or,er)):Qs(ar,zn,or))})(Vt.sources,Lt.sources,gn,hn);const Rn=[];Vt.layers&&Vt.layers.forEach(Dn=>{Dn.source&&hn[Dn.source]?Kt.push({command:Eo.removeLayer,args:[Dn.id]}):Rn.push(Dn)});let Tn=Vt.terrain;Tn&&hn[Tn.source]&&(Kt.push({command:Eo.setTerrain,args:[void 0]}),Tn=void 0),Kt=Kt.concat(gn),nt(Tn,Lt.terrain)||Kt.push({command:Eo.setTerrain,args:[Lt.terrain]}),function(Dn,zn,or){zn=zn||[];const er=(Dn=Dn||[]).map(Fl),ar=zn.map(Fl),Yn=Dn.reduce($s,{}),$n=zn.reduce($s,{}),cr=er.slice(),tr=Object.create(null);let yr,br,ur,Sr,Ar,Wr,Pr;for(yr=0,br=0;yr<er.length;yr++)ur=er[yr],$n.hasOwnProperty(ur)?br++:(or.push({command:Eo.removeLayer,args:[ur]}),cr.splice(cr.indexOf(ur,br),1));for(yr=0,br=0;yr<ar.length;yr++)ur=ar[ar.length-1-yr],cr[cr.length-1-yr]!==ur&&(Yn.hasOwnProperty(ur)?(or.push({command:Eo.removeLayer,args:[ur]}),cr.splice(cr.lastIndexOf(ur,cr.length-br),1)):br++,Wr=cr[cr.length-yr],or.push({command:Eo.addLayer,args:[$n[ur],Wr]}),cr.splice(cr.length-yr,0,ur),tr[ur]=!0);for(yr=0;yr<ar.length;yr++)if(ur=ar[yr],Sr=Yn[ur],Ar=$n[ur],!tr[ur]&&!nt(Sr,Ar))if(nt(Sr.source,Ar.source)&&nt(Sr["source-layer"],Ar["source-layer"])&&nt(Sr.type,Ar.type)){for(Pr in zr(Sr.layout,Ar.layout,or,ur,null,Eo.setLayoutProperty),zr(Sr.paint,Ar.paint,or,ur,null,Eo.setPaintProperty),nt(Sr.filter,Ar.filter)||or.push({command:Eo.setFilter,args:[ur,Ar.filter]}),nt(Sr.minzoom,Ar.minzoom)&&nt(Sr.maxzoom,Ar.maxzoom)||or.push({command:Eo.setLayerZoomRange,args:[ur,Ar.minzoom,Ar.maxzoom]}),Sr)Sr.hasOwnProperty(Pr)&&Pr!=="layout"&&Pr!=="paint"&&Pr!=="filter"&&Pr!=="metadata"&&Pr!=="minzoom"&&Pr!=="maxzoom"&&(Pr.indexOf("paint.")===0?zr(Sr[Pr],Ar[Pr],or,ur,Pr.slice(6),Eo.setPaintProperty):nt(Sr[Pr],Ar[Pr])||or.push({command:Eo.setLayerProperty,args:[ur,Pr,Ar[Pr]]}));for(Pr in Ar)Ar.hasOwnProperty(Pr)&&!Sr.hasOwnProperty(Pr)&&Pr!=="layout"&&Pr!=="paint"&&Pr!=="filter"&&Pr!=="metadata"&&Pr!=="minzoom"&&Pr!=="maxzoom"&&(Pr.indexOf("paint.")===0?zr(Sr[Pr],Ar[Pr],or,ur,Pr.slice(6),Eo.setPaintProperty):nt(Sr[Pr],Ar[Pr])||or.push({command:Eo.setLayerProperty,args:[ur,Pr,Ar[Pr]]}))}else or.push({command:Eo.removeLayer,args:[ur]}),Wr=cr[cr.lastIndexOf(ur)+1],or.push({command:Eo.addLayer,args:[Ar,Wr]})}(Rn,Lt.layers,Kt)}catch(hn){console.warn("Unable to compute style diff:",hn),Kt=[{command:Eo.setStyle,args:[Lt]}]}return Kt}(this.serialize(),st).filter(Vt=>!(Vt.command in xl));if(ht.length===0)return!1;const Ut=ht.filter(Vt=>!(Vt.command in a0));if(Ut.length>0)throw new Error(`Unimplemented: ${Ut.map(Vt=>Vt.command).join(", ")}.`);return ht.forEach(Vt=>{Vt.command!=="setTransition"&&Vt.command!=="setProjection"&&this[Vt.command].apply(this,Vt.args)}),this.stylesheet=st,this._updateMapProjection(),!0}addImage(st,ht){return this.getImage(st)?this.fire(new j.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(st,ht),this._afterImageUpdated(st),this)}updateImage(st,ht){this.imageManager.updateImage(st,ht)}getImage(st){return this.imageManager.getImage(st)}removeImage(st){return this.getImage(st)?(this.imageManager.removeImage(st),this._afterImageUpdated(st),this):this.fire(new j.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(st){this._availableImages=this.imageManager.listImages(),this._changedImages[st]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new j.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(st,ht,Ut={}){if(this._checkLoaded(),this.getSource(st)!==void 0)throw new Error("There is already a source with this ID");if(!ht.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(ht).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(ht.type)>=0&&this._validate(j.validateSource,`sources.${st}`,ht,null,Ut))return;this.map&&this.map._collectResourceTiming&&(ht.collectResourceTiming=!0);const Vt=Rr(st,ht,this.dispatcher,this);Vt.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(st),source:Vt.serialize(),sourceId:st}));const Lt=Kt=>{const hn=(Kt?"symbol:":"other:")+st,gn=this._sourceCaches[hn]=new j.SourceCache(hn,Vt,Kt);(Kt?this._symbolSourceCaches:this._otherSourceCaches)[st]=gn,gn.style=this,gn.onAdd(this.map)};Lt(!1),ht.type!=="vector"&&ht.type!=="geojson"||Lt(!0),Vt.onAdd&&Vt.onAdd(this.map),this._changed=!0}removeSource(st){this._checkLoaded();const ht=this.getSource(st);if(!ht)throw new Error("There is no source with this ID");for(const Vt in this._layers)if(this._layers[Vt].source===st)return this.fire(new j.ErrorEvent(new Error(`Source "${st}" cannot be removed while layer "${Vt}" is using it.`)));if(this.terrain&&this.terrain.get().source===st)return this.fire(new j.ErrorEvent(new Error(`Source "${st}" cannot be removed while terrain is using it.`)));const Ut=this._getSourceCaches(st);for(const Vt of Ut)delete this._sourceCaches[Vt.id],delete this._updatedSources[Vt.id],Vt.fire(new j.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:Vt.getSource().id})),Vt.setEventedParent(null),Vt.clearTiles();return delete this._otherSourceCaches[st],delete this._symbolSourceCaches[st],ht.setEventedParent(null),ht.onRemove&&ht.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(st,ht){this._checkLoaded(),this.getSource(st).setData(ht),this._changed=!0}getSource(st){const ht=this._getSourceCache(st);return ht&&ht.getSource()}_getSources(){const st=[];for(const ht in this._otherSourceCaches){const Ut=this._getSourceCache(ht);Ut&&st.push(Ut.getSource())}return st}addLayer(st,ht,Ut={}){this._checkLoaded();const Vt=st.id;if(this.getLayer(Vt))return void this.fire(new j.ErrorEvent(new Error(`Layer with id "${Vt}" already exists on this map`)));let Lt;if(st.type==="custom"){if(Yu(this,j.validateCustomStyleLayer(st)))return;Lt=j.createStyleLayer(st)}else{if(typeof st.source=="object"&&(this.addSource(Vt,st.source),st=j.clone$1(st),st=j.extend(st,{source:Vt})),this._validate(j.validateLayer,`layers.${Vt}`,st,{arrayIndex:-1},Ut))return;Lt=j.createStyleLayer(st),this._validateLayer(Lt),Lt.setEventedParent(this,{layer:{id:Vt}}),this._serializedLayers[Lt.id]=Lt.serialize(),this._updateLayerCount(Lt,!0)}const Kt=ht?this._order.indexOf(ht):this._order.length;if(ht&&Kt===-1)return void this.fire(new j.ErrorEvent(new Error(`Layer with id "${ht}" does not exist on this map.`)));this._order.splice(Kt,0,Vt),this._layerOrderChanged=!0,this._layers[Vt]=Lt;const hn=this._getLayerSourceCache(Lt);if(this._removedLayers[Vt]&&Lt.source&&hn&&Lt.type!=="custom"){const gn=this._removedLayers[Vt];delete this._removedLayers[Vt],gn.type!==Lt.type?this._updatedSources[Lt.source]="clear":(this._updatedSources[Lt.source]="reload",hn.pause())}this._updateLayer(Lt),Lt.onAdd&&Lt.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(st,ht){if(this._checkLoaded(),this._changed=!0,!this._layers[st])return void this.fire(new j.ErrorEvent(new Error(`The layer '${st}' does not exist in the map's style and cannot be moved.`)));if(st===ht)return;const Ut=this._order.indexOf(st);this._order.splice(Ut,1);const Vt=ht?this._order.indexOf(ht):this._order.length;ht&&Vt===-1?this.fire(new j.ErrorEvent(new Error(`Layer with id "${ht}" does not exist on this map.`))):(this._order.splice(Vt,0,st),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(st){this._checkLoaded();const ht=this._layers[st];if(!ht)return void this.fire(new j.ErrorEvent(new Error(`The layer '${st}' does not exist in the map's style and cannot be removed.`)));ht.setEventedParent(null),this._updateLayerCount(ht,!1);const Ut=this._order.indexOf(st);this._order.splice(Ut,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[st]=ht,delete this._layers[st],delete this._serializedLayers[st],delete this._updatedLayers[st],delete this._updatedPaintProps[st],ht.onRemove&&ht.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(st){return this._layers[st]}hasLayer(st){return st in this._layers}hasLayerType(st){for(const ht in this._layers)if(this._layers[ht].type===st)return!0;return!1}setLayerZoomRange(st,ht,Ut){this._checkLoaded();const Vt=this.getLayer(st);Vt?Vt.minzoom===ht&&Vt.maxzoom===Ut||(ht!=null&&(Vt.minzoom=ht),Ut!=null&&(Vt.maxzoom=Ut),this._updateLayer(Vt)):this.fire(new j.ErrorEvent(new Error(`The layer '${st}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(st,ht,Ut={}){this._checkLoaded();const Vt=this.getLayer(st);if(Vt){if(!nt(Vt.filter,ht))return ht==null?(Vt.filter=void 0,void this._updateLayer(Vt)):void(this._validate(j.validateFilter,`layers.${Vt.id}.filter`,ht,{layerType:Vt.type},Ut)||(Vt.filter=j.clone$1(ht),this._updateLayer(Vt)))}else this.fire(new j.ErrorEvent(new Error(`The layer '${st}' does not exist in the map's style and cannot be filtered.`)))}getFilter(st){const ht=this.getLayer(st);return ht&&j.clone$1(ht.filter)}setLayoutProperty(st,ht,Ut,Vt={}){this._checkLoaded();const Lt=this.getLayer(st);Lt?nt(Lt.getLayoutProperty(ht),Ut)||(Lt.setLayoutProperty(ht,Ut,Vt),this._updateLayer(Lt)):this.fire(new j.ErrorEvent(new Error(`The layer '${st}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(st,ht){const Ut=this.getLayer(st);if(Ut)return Ut.getLayoutProperty(ht);this.fire(new j.ErrorEvent(new Error(`The layer '${st}' does not exist in the map's style.`)))}setPaintProperty(st,ht,Ut,Vt={}){this._checkLoaded();const Lt=this.getLayer(st);Lt?nt(Lt.getPaintProperty(ht),Ut)||(Lt.setPaintProperty(ht,Ut,Vt)&&this._updateLayer(Lt),this._changed=!0,this._updatedPaintProps[st]=!0):this.fire(new j.ErrorEvent(new Error(`The layer '${st}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(st,ht){const Ut=this.getLayer(st);return Ut&&Ut.getPaintProperty(ht)}setFeatureState(st,ht){this._checkLoaded();const Ut=st.source,Vt=st.sourceLayer,Lt=this.getSource(Ut);if(!Lt)return void this.fire(new j.ErrorEvent(new Error(`The source '${Ut}' does not exist in the map's style.`)));const Kt=Lt.type;if(Kt==="geojson"&&Vt)return void this.fire(new j.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(Kt==="vector"&&!Vt)return void this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));st.id===void 0&&this.fire(new j.ErrorEvent(new Error("The feature id parameter must be provided.")));const hn=this._getSourceCaches(Ut);for(const gn of hn)gn.setFeatureState(Vt,st.id,ht)}removeFeatureState(st,ht){this._checkLoaded();const Ut=st.source,Vt=this.getSource(Ut);if(!Vt)return void this.fire(new j.ErrorEvent(new Error(`The source '${Ut}' does not exist in the map's style.`)));const Lt=Vt.type,Kt=Lt==="vector"?st.sourceLayer:void 0;if(Lt==="vector"&&!Kt)return void this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(ht&&typeof st.id!="string"&&typeof st.id!="number")return void this.fire(new j.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const hn=this._getSourceCaches(Ut);for(const gn of hn)gn.removeFeatureState(Kt,st.id,ht)}getFeatureState(st){this._checkLoaded();const ht=st.source,Ut=st.sourceLayer,Vt=this.getSource(ht);if(Vt){if(Vt.type!=="vector"||Ut)return st.id===void 0&&this.fire(new j.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(ht)[0].getFeatureState(Ut,st.id);this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new j.ErrorEvent(new Error(`The source '${ht}' does not exist in the map's style.`)))}getTransition(){return j.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const st={};for(const ht in this._sourceCaches){const Ut=this._sourceCaches[ht].getSource();st[Ut.id]||(st[Ut.id]=Ut.serialize())}return j.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:st,layers:this._serializeLayers(this._order)},ht=>ht!==void 0)}_updateLayer(st){this._updatedLayers[st.id]=!0;const ht=this._getLayerSourceCache(st);st.source&&!this._updatedSources[st.source]&&ht&&ht.getSource().type!=="raster"&&(this._updatedSources[st.source]="reload",ht.pause()),this._changed=!0,st.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(st){const ht=Kt=>this._layers[Kt].type==="fill-extrusion",Ut={},Vt=[];for(let Kt=this._order.length-1;Kt>=0;Kt--){const hn=this._order[Kt];if(ht(hn)){Ut[hn]=Kt;for(const gn of st){const Rn=gn[hn];if(Rn)for(const Tn of Rn)Vt.push(Tn)}}}Vt.sort((Kt,hn)=>hn.intersectionZ-Kt.intersectionZ);const Lt=[];for(let Kt=this._order.length-1;Kt>=0;Kt--){const hn=this._order[Kt];if(ht(hn))for(let gn=Vt.length-1;gn>=0;gn--){const Rn=Vt[gn].feature;if(Ut[Rn.layer.id]<Kt)break;Lt.push(Rn),Vt.pop()}else for(const gn of st){const Rn=gn[hn];if(Rn)for(const Tn of Rn)Lt.push(Tn.feature)}}return Lt}queryRenderedFeatures(st,ht,Ut){ht&&ht.filter&&this._validate(j.validateFilter,"queryRenderedFeatures.filter",ht.filter,null,ht);const Vt={};if(ht&&ht.layers){if(!Array.isArray(ht.layers))return this.fire(new j.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const gn of ht.layers){const Rn=this._layers[gn];if(!Rn)return this.fire(new j.ErrorEvent(new Error(`The layer '${gn}' does not exist in the map's style and cannot be queried for features.`))),[];Vt[Rn.source]=!0}}const Lt=[];ht.availableImages=this._availableImages;const Kt=ht&&ht.layers?ht.layers.some(gn=>{const Rn=this.getLayer(gn);return Rn&&Rn.is3D()}):this.has3DLayers(),hn=En.createFromScreenPoints(st,Ut);for(const gn in this._sourceCaches){const Rn=this._sourceCaches[gn].getSource().id;ht.layers&&!Vt[Rn]||Lt.push(Er(this._sourceCaches[gn],this._layers,this._serializedLayers,hn,ht,Ut,Kt,!!this.map._showQueryGeometry))}return this.placement&&Lt.push(function(gn,Rn,Tn,Dn,zn,or,er){const ar={},Yn=or.queryRenderedSymbols(Dn),$n=[];for(const cr of Object.keys(Yn).map(Number))$n.push(er[cr]);$n.sort(Kr);for(const cr of $n){const tr=cr.featureIndex.lookupSymbolFeatures(Yn[cr.bucketInstanceId],Rn,cr.bucketIndex,cr.sourceLayerIndex,zn.filter,zn.layers,zn.availableImages,gn);for(const yr in tr){const br=ar[yr]=ar[yr]||[],ur=tr[yr];ur.sort((Sr,Ar)=>{const Wr=cr.featureSortOrder;if(Wr){const Pr=Wr.indexOf(Sr.featureIndex);return Wr.indexOf(Ar.featureIndex)-Pr}return Ar.featureIndex-Sr.featureIndex});for(const Sr of ur)br.push(Sr)}}for(const cr in ar)ar[cr].forEach(tr=>{const yr=tr.feature,br=Tn(gn[cr]).getFeatureState(yr.layer["source-layer"],yr.id);yr.source=yr.layer.source,yr.layer["source-layer"]&&(yr.sourceLayer=yr.layer["source-layer"]),yr.state=br});return ar}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),hn.screenGeometry,ht,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Lt)}querySourceFeatures(st,ht){ht&&ht.filter&&this._validate(j.validateFilter,"querySourceFeatures.filter",ht.filter,null,ht);const Ut=this._getSourceCaches(st);let Vt=[];for(const Lt of Ut)Vt=Vt.concat(Dr(Lt,ht));return Vt}addSourceType(st,ht,Ut){return fp.getSourceType(st)?Ut(new Error(`A source type called "${st}" already exists.`)):(fp.setSourceType(st,ht),ht.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:st,url:ht.workerSourceURL},Ut):Ut(null,null))}getLight(){return this.light.getLight()}setLight(st,ht={}){this._checkLoaded();const Ut=this.light.getLight();let Vt=!1;for(const Kt in st)if(!nt(st[Kt],Ut[Kt])){Vt=!0;break}if(!Vt)return;const Lt=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(st,ht),this.light.updateTransitions(Lt)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(st,ht=1){if(this._checkLoaded(),!st)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(ht===1){if(typeof st.source=="object"){const Ut="terrain-dem-src";this.addSource(Ut,st.source),st=j.clone$1(st),st=j.extend(st,{source:Ut})}if(this._validate(j.validateTerrain,"terrain",st))return}if(!this.terrain||this.terrain&&ht!==this.terrain.drapeRenderMode)this._createTerrain(st,ht);else{const Ut=this.terrain,Vt=Ut.get();for(const Lt of Object.keys(j.spec.terrain))!st.hasOwnProperty(Lt)&&j.spec.terrain[Lt].default&&(st[Lt]=j.spec.terrain[Lt].default);for(const Lt in st)if(!nt(st[Lt],Vt[Lt])){Ut.set(st),this.stylesheet.terrain=st;const Kt=this._setTransitionParameters({duration:0});Ut.updateTransitions(Kt);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(st){const ht=this.fog=new nn(st,this.map.transform);this.stylesheet.fog=st;const Ut=this._setTransitionParameters({duration:0});ht.updateTransitions(Ut)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const st of this.map._markers)st._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(st){if(this._checkLoaded(),!st)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const ht=this.fog,Ut=ht.get();Object.keys(st).length===0&&ht.set(st);for(const Vt in st)if(!nt(st[Vt],Ut[Vt])){ht.set(st),this.stylesheet.fog=st;const Lt=this._setTransitionParameters({duration:0});ht.updateTransitions(Lt);break}}else this._createFog(st);this._markersNeedUpdate=!0}_setTransitionParameters(st){return{now:j.exported.now(),transition:j.extend(st,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const st=this._order.filter(Ut=>this.isLayerDraped(this._layers[Ut])),ht=this._order.filter(Ut=>!this.isLayerDraped(this._layers[Ut]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...st),this._drapedFirstOrder.push(...ht)}_createTerrain(st,ht){const Ut=this.terrain=new Gt(st,ht);this.stylesheet.terrain=st,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const Vt=this._setTransitionParameters({duration:0});Ut.updateTransitions(Vt)}_force3DLayerUpdate(){for(const st in this._layers){const ht=this._layers[st];ht.type==="fill-extrusion"&&this._updateLayer(ht)}}_forceSymbolLayerUpdate(){for(const st in this._layers){const ht=this._layers[st];ht.type==="symbol"&&this._updateLayer(ht)}}_validate(st,ht,Ut,Vt,Lt={}){return(!Lt||Lt.validate!==!1)&&Yu(this,st.call(j.validateStyle,j.extend({key:ht,style:this.serialize(),value:Ut,styleSpec:j.spec},Vt)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),j.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const st in this._layers)this._layers[st].setEventedParent(null);for(const st in this._sourceCaches)this._sourceCaches[st].clearTiles(),this._sourceCaches[st].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(st){const ht=this._getSourceCaches(st);for(const Ut of ht)Ut.clearTiles()}_reloadSource(st){const ht=this._getSourceCaches(st);for(const Ut of ht)Ut.resume(),Ut.reload()}_reloadSources(){for(const st of this._getSources())st.reload&&st.reload()}_updateSources(st){for(const ht in this._sourceCaches)this._sourceCaches[ht].update(st)}_generateCollisionBoxes(){for(const st in this._sourceCaches){const ht=this._sourceCaches[st];ht.resume(),ht.reload()}}_updatePlacement(st,ht,Ut,Vt,Lt=!1){let Kt=!1,hn=!1;const gn={};for(const Rn of this._order){const Tn=this._layers[Rn];if(Tn.type!=="symbol")continue;if(!gn[Tn.source]){const zn=this._getLayerSourceCache(Tn);if(!zn)continue;gn[Tn.source]=zn.getRenderableIds(!0).map(or=>zn.getTileByID(or)).sort((or,er)=>er.tileID.overscaledZ-or.tileID.overscaledZ||(or.tileID.isLessThan(er.tileID)?-1:1))}const Dn=this.crossTileSymbolIndex.addLayer(Tn,gn[Tn.source],st.center.lng,st.projection);Kt=Kt||Dn}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),Lt=Lt||this._layerOrderChanged||Ut===0,this._layerOrderChanged&&this.fire(new j.Event("neworder")),(Lt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(j.exported.now(),st.zoom))&&(this.pauseablePlacement=new Ko(st,this._order,Lt,ht,Ut,Vt,this.placement,this.fog&&st.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,gn),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(j.exported.now()),hn=!0),Kt&&this.pauseablePlacement.placement.setStale()),hn||Kt)for(const Rn of this._order){const Tn=this._layers[Rn];Tn.type==="symbol"&&this.placement.updateLayerOpacities(Tn,gn[Tn.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(j.exported.now())}_releaseSymbolFadeTiles(){for(const st in this._sourceCaches)this._sourceCaches[st].releaseSymbolFadeTiles()}getImages(st,ht,Ut){this.imageManager.getImages(ht.icons,Ut),this._updateTilesForChangedImages();const Vt=Lt=>{Lt&&Lt.setDependencies(ht.tileID.key,ht.type,ht.icons)};Vt(this._otherSourceCaches[ht.source]),Vt(this._symbolSourceCaches[ht.source])}getGlyphs(st,ht,Ut){this.glyphManager.getGlyphs(ht.stacks,Ut)}getResource(st,ht,Ut){return j.makeRequest(ht,Ut)}_getSourceCache(st){return this._otherSourceCaches[st]}_getLayerSourceCache(st){return st.type==="symbol"?this._symbolSourceCaches[st.source]:this._otherSourceCaches[st.source]}_getSourceCaches(st){const ht=[];return this._otherSourceCaches[st]&&ht.push(this._otherSourceCaches[st]),this._symbolSourceCaches[st]&&ht.push(this._symbolSourceCaches[st]),ht}_isSourceCacheLoaded(st){const ht=this._getSourceCaches(st);return ht.length===0?(this.fire(new j.ErrorEvent(new Error(`There is no source with ID '${st}'`))),!1):ht.every(Ut=>Ut.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}fp.getSourceType=function(_t){return gr[_t]},fp.setSourceType=function(_t,st){gr[_t]=st},fp.registerForPluginStateChange=j.registerForPluginStateChange;var l0=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,vu="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",f_=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,c0=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,p_=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let u0={},h0={};const um=[];pp(l0,um),pp(f_,um),pp(c0,um),pp(p_,um),u0=Rs("",f_),h0=Rs(p_,c0);const bu=Rs(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),g_=l0,Uu=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var m_={background:Rs(`uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Rs(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Rs(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Rs("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Rs(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Rs(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Rs("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Rs("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Rs("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Rs(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Rs(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Rs(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Rs(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Rs(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);float roof_radiance=clamp(u_lightpos.z,0.0,1.0);roof_radiance=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roof_radiance);v_roof_color.rgb+=clamp(color.rgb*roof_radiance*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Rs(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Rs(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Rs(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Rs(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
#ifdef RENDER_LINE_GRADIENT
highp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);
#else
vec4 out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Rs(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Rs(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Rs(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Rs(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Rs(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Rs(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Rs(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Rs(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vu),skyboxGradient:Rs(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vu),skyboxCapture:Rs(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Rs(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Rs(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function pp(_t,st){const ht=_t.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let Ut of ht)if(Ut=Ut.trim(),Ut[0]==="#"&&Ut.includes("if")&&!Ut.includes("endif")){Ut=Ut.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const Vt=Ut.split(" ");for(const Lt of Vt)st.includes(Lt)||st.push(Lt)}}function Rs(_t,st){const ht=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,Ut=st.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),Vt={},Lt=[...um];return pp(_t,Lt),pp(st,Lt),{fragmentSource:_t=_t.replace(ht,(Kt,hn,gn,Rn,Tn)=>(Vt[Tn]=!0,hn==="define"?`
#ifndef HAS_UNIFORM_u_${Tn}
varying ${gn} ${Rn} ${Tn};
#else
uniform ${gn} ${Rn} u_${Tn};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Tn}
    ${gn} ${Rn} ${Tn} = u_${Tn};
#endif
`)),vertexSource:st=st.replace(ht,(Kt,hn,gn,Rn,Tn)=>{const Dn=Rn==="float"?"vec2":"vec4",zn=Tn.match(/color/)?"color":Dn;return Vt[Tn]?hn==="define"?`
#ifndef HAS_UNIFORM_u_${Tn}
uniform lowp float u_${Tn}_t;
attribute ${gn} ${Dn} a_${Tn};
varying ${gn} ${Rn} ${Tn};
#else
uniform ${gn} ${Rn} u_${Tn};
#endif
`:zn==="vec4"?`
#ifndef HAS_UNIFORM_u_${Tn}
    ${Tn} = a_${Tn};
#else
    ${gn} ${Rn} ${Tn} = u_${Tn};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Tn}
    ${Tn} = unpack_mix_${zn}(a_${Tn}, u_${Tn}_t);
#else
    ${gn} ${Rn} ${Tn} = u_${Tn};
#endif
`:hn==="define"?`
#ifndef HAS_UNIFORM_u_${Tn}
uniform lowp float u_${Tn}_t;
attribute ${gn} ${Dn} a_${Tn};
#else
uniform ${gn} ${Rn} u_${Tn};
#endif
`:zn==="vec4"?`
#ifndef HAS_UNIFORM_u_${Tn}
    ${gn} ${Rn} ${Tn} = a_${Tn};
#else
    ${gn} ${Rn} ${Tn} = u_${Tn};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Tn}
    ${gn} ${Rn} ${Tn} = unpack_mix_${zn}(a_${Tn}, u_${Tn}_t);
#else
    ${gn} ${Rn} ${Tn} = u_${Tn};
#endif
`}),staticAttributes:Ut,usedDefines:Lt}}class hm{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(st,ht,Ut,Vt,Lt,Kt,hn){this.context=st;let gn=this.boundPaintVertexBuffers.length!==Vt.length;for(let Tn=0;!gn&&Tn<Vt.length;Tn++)this.boundPaintVertexBuffers[Tn]!==Vt[Tn]&&(gn=!0);let Rn=this.boundDynamicVertexBuffers.length!==hn.length;for(let Tn=0;!Rn&&Tn<hn.length;Tn++)this.boundDynamicVertexBuffers[Tn]!==hn[Tn]&&(Rn=!0);if(!st.extVertexArrayObject||!this.vao||this.boundProgram!==ht||this.boundLayoutVertexBuffer!==Ut||gn||Rn||this.boundIndexBuffer!==Lt||this.boundVertexOffset!==Kt)this.freshBind(ht,Ut,Vt,Lt,Kt,hn);else{st.bindVertexArrayOES.set(this.vao);for(const Tn of hn)Tn&&Tn.bind();Lt&&Lt.dynamicDraw&&Lt.bind()}}freshBind(st,ht,Ut,Vt,Lt,Kt){let hn;const gn=st.numAttributes,Rn=this.context,Tn=Rn.gl;if(Rn.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Rn.extVertexArrayObject.createVertexArrayOES(),Rn.bindVertexArrayOES.set(this.vao),hn=0,this.boundProgram=st,this.boundLayoutVertexBuffer=ht,this.boundPaintVertexBuffers=Ut,this.boundIndexBuffer=Vt,this.boundVertexOffset=Lt,this.boundDynamicVertexBuffers=Kt;else{hn=Rn.currentNumAttributes||0;for(let Dn=gn;Dn<hn;Dn++)Tn.disableVertexAttribArray(Dn)}ht.enableAttributes(Tn,st),ht.bind(),ht.setVertexAttribPointers(Tn,st,Lt);for(const Dn of Ut)Dn.enableAttributes(Tn,st),Dn.bind(),Dn.setVertexAttribPointers(Tn,st,Lt);for(const Dn of Kt)Dn&&(Dn.enableAttributes(Tn,st),Dn.bind(),Dn.setVertexAttribPointers(Tn,st,Lt));Vt&&Vt.bind(),Rn.currentNumAttributes=gn}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Km(_t,st){const ht=Math.pow(2,st.canonical.z),Ut=st.canonical.y;return[new j.MercatorCoordinate(0,Ut/ht).toLngLat().lat,new j.MercatorCoordinate(0,(Ut+1)/ht).toLngLat().lat]}function _l(_t,st,ht,Ut,Vt,Lt,Kt){const hn=_t.context,gn=hn.gl,Rn=ht.fbo;if(!Rn)return;_t.prepareDrawTile();const Tn=_t.useProgram("hillshade");hn.activeTexture.set(gn.TEXTURE0),gn.bindTexture(gn.TEXTURE_2D,Rn.colorAttachment.get());const Dn=((ar,Yn,$n,cr)=>{const tr=$n.paint.get("hillshade-shadow-color"),yr=$n.paint.get("hillshade-highlight-color"),br=$n.paint.get("hillshade-accent-color");let ur=$n.paint.get("hillshade-illumination-direction")*(Math.PI/180);$n.paint.get("hillshade-illumination-anchor")==="viewport"&&(ur-=ar.transform.angle);const Sr=!ar.options.moving;return{u_matrix:cr||ar.transform.calculateProjMatrix(Yn.tileID.toUnwrapped(),Sr),u_image:0,u_latrange:Km(0,Yn.tileID),u_light:[$n.paint.get("hillshade-exaggeration"),ur],u_shadow:tr,u_highlight:yr,u_accent:br}})(_t,ht,Ut,_t.terrain?st.projMatrix:null);_t.prepareDrawProgram(hn,Tn,st.toUnwrapped());const{tileBoundsBuffer:zn,tileBoundsIndexBuffer:or,tileBoundsSegments:er}=_t.getTileBoundsBuffers(ht);Tn.draw(hn,gn.TRIANGLES,Vt,Lt,Kt,j.CullFaceMode.disabled,Dn,Ut.id,zn,or,er)}function gp(_t,st,ht){if(!st.needsDEMTextureUpload)return;const Ut=_t.context,Vt=Ut.gl;Ut.pixelStoreUnpackPremultiplyAlpha.set(!1),st.demTexture=st.demTexture||_t.getTileTexture(ht.stride);const Lt=ht.getPixels();st.demTexture?st.demTexture.update(Lt,{premultiply:!1}):st.demTexture=new j.Texture(Ut,Lt,Vt.RGBA,{premultiply:!1}),st.needsDEMTextureUpload=!1}function d0(_t,st,ht,Ut,Vt,Lt){const Kt=_t.context,hn=Kt.gl;if(!st.dem)return;const gn=st.dem;if(Kt.activeTexture.set(hn.TEXTURE1),gp(_t,st,gn),!st.demTexture)return;st.demTexture.bind(hn.NEAREST,hn.CLAMP_TO_EDGE);const Rn=gn.dim;Kt.activeTexture.set(hn.TEXTURE0);let Tn=st.fbo;if(!Tn){const er=new j.Texture(Kt,{width:Rn,height:Rn,data:null},hn.RGBA);er.bind(hn.LINEAR,hn.CLAMP_TO_EDGE),Tn=st.fbo=Kt.createFramebuffer(Rn,Rn,!0),Tn.colorAttachment.set(er.texture)}Kt.bindFramebuffer.set(Tn.framebuffer),Kt.viewport.set([0,0,Rn,Rn]);const{tileBoundsBuffer:Dn,tileBoundsIndexBuffer:zn,tileBoundsSegments:or}=_t.getMercatorTileBoundsBuffers();_t.useProgram("hillshadePrepare").draw(Kt,hn.TRIANGLES,Ut,Vt,Lt,j.CullFaceMode.disabled,((er,ar)=>{const Yn=ar.stride,$n=j.create();return j.ortho($n,0,j.EXTENT,-j.EXTENT,0,0,1),j.translate($n,$n,[0,-j.EXTENT,0]),{u_matrix:$n,u_image:1,u_dimension:[Yn,Yn],u_zoom:er.overscaledZ,u_unpack:ar.unpackVector}})(st.tileID,gn),ht.id,Dn,zn,or),st.needsHillshadePrepare=!1}const f0=_t=>({u_matrix:new j.UniformMatrix4f(_t),u_image0:new j.Uniform1i(_t),u_skirt_height:new j.Uniform1f(_t)}),ky=(_t,st)=>({u_matrix:_t,u_image0:0,u_skirt_height:st}),p0=(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or)=>({u_proj_matrix:Float32Array.from(_t),u_globe_matrix:st,u_normalize_matrix:Float32Array.from(Ut),u_merc_matrix:ht,u_zoom_transition:Vt,u_merc_center:Lt,u_image0:0,u_frustum_tl:Kt,u_frustum_tr:hn,u_frustum_br:gn,u_frustum_bl:Rn,u_globe_pos:Tn,u_globe_radius:Dn,u_viewport:zn,u_grid_matrix:or?Float32Array.from(or):new Float32Array(9)});function My(_t,st){return _t!=null&&st!=null&&!(!_t.hasData()||!st.hasData())&&_t.demTexture!=null&&st.demTexture!=null&&_t.tileID.key!==st.tileID.key}const dm=new class{constructor(){this.operations={}}newMorphing(_t,st,ht,Ut,Vt){if(_t in this.operations){const Lt=this.operations[_t];Lt.to.tileID.key!==ht.tileID.key&&(Lt.queued=ht)}else this.operations[_t]={startTime:Ut,phase:0,duration:Vt,from:st,to:ht,queued:null}}getMorphValuesForProxy(_t){if(!(_t in this.operations))return null;const st=this.operations[_t];return{from:st.from,to:st.to,phase:st.phase}}update(_t){for(const st in this.operations){const ht=this.operations[st];for(ht.phase=(_t-ht.startTime)/ht.duration;ht.phase>=1||!this._validOp(ht);)if(!this._nextOp(ht,_t)){delete this.operations[st];break}}}_nextOp(_t,st){return!!_t.queued&&(_t.from=_t.to,_t.to=_t.queued,_t.queued=null,_t.phase=0,_t.startTime=st,!0)}_validOp(_t){return _t.from.hasData()&&_t.to.hasData()}},Vm={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function xs(_t,st){const ht=1<<_t.z;return!st&&(_t.x===0||_t.x===ht-1)||_t.y===0||_t.y===ht-1}const mp=_t=>({u_matrix:_t});function y_(_t,st,ht,Ut,Vt){if(Vt>0){const Lt=j.exported.now(),Kt=(Lt-_t.timeAdded)/Vt,hn=st?(Lt-st.timeAdded)/Vt:-1,gn=ht.getSource(),Rn=Ut.coveringZoomLevel({tileSize:gn.tileSize,roundZoom:gn.roundZoom}),Tn=!st||Math.abs(st.tileID.overscaledZ-Rn)>Math.abs(_t.tileID.overscaledZ-Rn),Dn=Tn&&_t.refreshedUponExpiration?1:j.clamp(Tn?Kt:1-hn,0,1);return _t.refreshedUponExpiration&&Kt>=1&&(_t.refreshedUponExpiration=!1),st?{opacity:1,mix:1-Dn}:{opacity:Dn,mix:0}}return{opacity:1,mix:0}}class __ extends j.SourceCache{constructor(st){const ht={type:"raster-dem",maxzoom:st.transform.maxZoom},Ut=new Un(Do(),null),Vt=Rr("mock-dem",ht,Ut,st.style);super("mock-dem",Vt,!1),Vt.setEventedParent(this),this._sourceLoaded=!0}_loadTile(st,ht){st.state="loaded",ht(null)}}class v_ extends j.SourceCache{constructor(st){const ht=Rr("proxy",{type:"geojson",maxzoom:st.transform.maxZoom},new Un(Do(),null),st.style);super("proxy",ht,!1),ht.setEventedParent(this),this.map=this.getSource().map=st,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(st,ht,Ut){if(st.freezeTileCoverage)return;this.transform=st;const Vt=st.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((Lt,Kt)=>{if(Lt[Kt.key]="",!this._tiles[Kt.key]){const hn=new j.Tile(Kt,this._source.tileSize*Kt.overscaleFactor(),st.tileZoom);hn.state="loaded",this._tiles[Kt.key]=hn}return Lt},{});for(const Lt in this._tiles)Lt in Vt||(this.freeFBO(Lt),this._tiles[Lt].unloadVectorData(),delete this._tiles[Lt])}freeFBO(st){const ht=this.proxyCachedFBO[st];if(ht!==void 0){const Ut=Object.values(ht);this.renderCachePool.push(...Ut),delete this.proxyCachedFBO[st]}}deallocRenderCache(){this.renderCache.forEach(st=>st.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ey extends j.OverscaledTileID{constructor(st,ht,Ut){super(st.overscaledZ,st.wrap,st.canonical.z,st.canonical.x,st.canonical.y),this.proxyTileKey=ht,this.projMatrix=Ut}}class g0 extends j.Elevation{constructor(st,ht){super(),this.painter=st,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[Ut,Vt,Lt]=function(gn){const Rn=new j.StructArrayLayout4i8,Tn=new j.StructArrayLayout3ui6,Dn=131;Rn.reserve(17161),Tn.reserve(33800);const zn=j.EXTENT/128,or=j.EXTENT+zn/2,er=or+zn;for(let Yn=-zn;Yn<er;Yn+=zn)for(let $n=-zn;$n<er;$n+=zn){const cr=$n<0||$n>or||Yn<0||Yn>or?24575:0,tr=j.clamp(Math.round($n),0,j.EXTENT),yr=j.clamp(Math.round(Yn),0,j.EXTENT);Rn.emplaceBack(tr+cr,yr,tr,yr)}const ar=(Yn,$n)=>{const cr=$n*Dn+Yn;Tn.emplaceBack(cr+1,cr,cr+Dn),Tn.emplaceBack(cr+Dn,cr+Dn+1,cr+1)};for(let Yn=1;Yn<129;Yn++)for(let $n=1;$n<129;$n++)ar($n,Yn);return[0,129].forEach(Yn=>{for(let $n=0;$n<130;$n++)ar($n,Yn),ar(Yn,$n)}),[Rn,Tn,32768]}(),Kt=st.context;this.gridBuffer=Kt.createVertexBuffer(Ut,j.boundsAttributes.members),this.gridIndexBuffer=Kt.createIndexBuffer(Vt),this.gridSegments=j.SegmentVector.simpleSegment(0,0,Ut.length,Vt.length),this.gridNoSkirtSegments=j.SegmentVector.simpleSegment(0,0,Ut.length,Lt),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new v_(ht.map),this.orthoMatrix=j.create(),j.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,j.EXTENT,0,j.EXTENT,0,1);const hn=Kt.gl;this._overlapStencilMode=new j.StencilMode({func:hn.GEQUAL,mask:255},0,255,hn.KEEP,hn.KEEP,hn.REPLACE),this._previousZoom=st.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=ht,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new __(ht.map)}set style(st){st.on("data",this._onStyleDataEvent.bind(this)),st.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=st,this._checkRenderCacheEfficiency()}update(st,ht,Ut){if(st&&st.terrain){this._style!==st&&(this.style=st),this.enabled=!0;const Vt=st.terrain.properties;this.sourceCache=st.terrain.drapeRenderMode===0?this._mockSourceCache:st._getSourceCache(Vt.get("source")),this._exaggeration=Vt.get("exaggeration");const Lt=()=>{this.sourceCache.used&&j.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Kt=this.getScaledDemTileSize();this.sourceCache.update(ht,Kt,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,Lt(),this._initializing=!0),Lt(),ht.updateElevation(!Ut),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(ht),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(st){this._findCoveringTileCache[st]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const st=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||st.efficiency!==100&&j.warnOnce(`Terrain render cache efficiency is not optimal (${st.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${st.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(st){st.coord&&st.dataType==="source"?this._clearRenderCacheForTile(st.sourceCacheId,st.coord):st.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const st in this._style._sourceCaches)this._style._sourceCaches[st].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(st=>st.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const st=2*this.proxySourceCache.getSource().tileSize;return[st,st]}set useVertexMorphing(st){this._useVertexMorphing=st}updateTileBinding(st){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const ht=this.proxySourceCache,Ut=this.painter.transform;this._initializing&&(this._initializing=Ut._centerAltitude===0&&this.getAtPointOrZero(j.MercatorCoordinate.fromLngLat(Ut.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const Vt=this.proxyCoords=ht.getIds().map(gn=>{const Rn=ht.getTileByID(gn).tileID;return Rn.projMatrix=Ut.calculateProjMatrix(Rn.toUnwrapped()),Rn});(function(gn,Rn){const Tn=Rn.transform.pointCoordinate(Rn.transform.getCameraPoint()),Dn=new j.pointGeometry(Tn.x,Tn.y);gn.sort((zn,or)=>{if(or.overscaledZ-zn.overscaledZ)return or.overscaledZ-zn.overscaledZ;const er=new j.pointGeometry(zn.canonical.x+(1<<zn.canonical.z)*zn.wrap,zn.canonical.y),ar=new j.pointGeometry(or.canonical.x+(1<<or.canonical.z)*or.wrap,or.canonical.y),Yn=Dn.mult(1<<zn.canonical.z);return Yn.x-=.5,Yn.y-=.5,Yn.distSqr(er)-Yn.distSqr(ar)})})(Vt,this.painter),this._previousZoom=Ut.zoom;const Lt=this.proxyToSource||{};this.proxyToSource={},Vt.forEach(gn=>{this.proxyToSource[gn.key]={}}),this.terrainTileForTile={};const Kt=this._style._sourceCaches;for(const gn in Kt){const Rn=Kt[gn];if(!Rn.used||(Rn!==this.sourceCache&&this.resetTileLookupCache(Rn.id),this._setupProxiedCoordsForOrtho(Rn,st[gn],Lt),Rn.usedForTerrain))continue;const Tn=st[gn];Rn.getSource().reparseOverscaled&&this._assignTerrainTiles(Tn)}this.proxiedCoords[ht.id]=Vt.map(gn=>new ey(gn,gn.key,this.orthoMatrix)),this._assignTerrainTiles(Vt),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(Lt),this.renderingToTexture=!1,this._updateTimestamp=j.exported.now();const hn={};this._visibleDemTiles=[];for(const gn of this.proxyCoords){const Rn=this.terrainTileForTile[gn.key];if(!Rn)continue;const Tn=Rn.tileID.key;Tn in hn||(this._visibleDemTiles.push(Rn),hn[Tn]=Tn)}}_assignTerrainTiles(st){this._initializing||st.forEach(ht=>{if(this.terrainTileForTile[ht.key])return;const Ut=this._findTileCoveringTileID(ht,this.sourceCache);Ut&&(this.terrainTileForTile[ht.key]=Ut)})}_prepareDEMTextures(){const st=this.painter.context,ht=st.gl;for(const Ut in this.terrainTileForTile){const Vt=this.terrainTileForTile[Ut],Lt=Vt.dem;!Lt||Vt.demTexture&&!Vt.needsDEMTextureUpload||(st.activeTexture.set(ht.TEXTURE1),gp(this.painter,Vt,Lt))}}_prepareDemTileUniforms(st,ht,Ut,Vt){if(!ht||ht.demTexture==null)return!1;const Lt=st.tileID.canonical,Kt=Math.pow(2,ht.tileID.canonical.z-Lt.z),hn=Vt||"";return Ut[`u_dem_tl${hn}`]=[Lt.x*Kt%1,Lt.y*Kt%1],Ut[`u_dem_scale${hn}`]=Kt,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const st=this.painter.context,ht=st.gl;if(!this._emptyDepthBufferTexture){const Ut=new j.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new j.Texture(st,Ut,ht.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let st=0;const ht=this._visibleDemTiles.reduce((Ut,Vt)=>{if(!Vt.dem)return Ut;const Lt=Vt.dem.tree.minimums[0];return Lt>0&&st++,Ut+Lt},0);return st?ht/st:0}_updateEmptyDEMTexture(){const st=this.painter.context,ht=st.gl;st.activeTexture.set(ht.TEXTURE2);const Ut=this._getLoadedAreaMinimum(),Vt=new j.RGBAImage({width:1,height:1},new Uint8Array(j.DEMData.pack(Ut,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let Lt=this._emptyDEMTexture;return Lt?Lt.update(Vt,{premultiply:!1}):Lt=this._emptyDEMTexture=new j.Texture(st,Vt,ht.RGBA,{premultiply:!1}),Lt}setupElevationDraw(st,ht,Ut){const Vt=this.painter.context,Lt=Vt.gl,Kt=(hn=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:j.DEMData.getUnpackVector(hn),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var hn;Kt.u_dem_size=this.sourceCache.getSource().tileSize,Kt.u_exaggeration=this.exaggeration();let gn=null,Rn=null,Tn=1;if(Ut&&Ut.morphing&&this._useVertexMorphing){const Dn=Ut.morphing.srcDemTile,zn=Ut.morphing.dstDemTile;Tn=Ut.morphing.phase,Dn&&zn&&(this._prepareDemTileUniforms(st,Dn,Kt,"_prev")&&(Rn=Dn),this._prepareDemTileUniforms(st,zn,Kt)&&(gn=zn))}if(Rn&&gn?(Vt.activeTexture.set(Lt.TEXTURE2),gn.demTexture.bind(Lt.NEAREST,Lt.CLAMP_TO_EDGE,Lt.NEAREST),Vt.activeTexture.set(Lt.TEXTURE4),Rn.demTexture.bind(Lt.NEAREST,Lt.CLAMP_TO_EDGE,Lt.NEAREST),Kt.u_dem_lerp=Tn):(gn=this.terrainTileForTile[st.tileID.key],Vt.activeTexture.set(Lt.TEXTURE2),(this._prepareDemTileUniforms(st,gn,Kt)?gn.demTexture:this.emptyDEMTexture).bind(Lt.NEAREST,Lt.CLAMP_TO_EDGE)),Vt.activeTexture.set(Lt.TEXTURE3),Ut&&Ut.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(Lt.NEAREST,Lt.CLAMP_TO_EDGE),this._depthFBO&&(Kt.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(Lt.NEAREST,Lt.CLAMP_TO_EDGE),Kt.u_depth_size_inv=[1,1]),Ut&&Ut.useMeterToDem&&gn){const Dn=(1<<gn.tileID.canonical.z)*j.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;Kt.u_meter_to_dem=Dn}if(Ut&&Ut.labelPlaneMatrixInv&&(Kt.u_label_plane_matrix_inv=Ut.labelPlaneMatrixInv),ht.setTerrainUniformValues(Vt,Kt),this.painter.transform.projection.name==="globe"){const Dn=this.globeUniformValues(this.painter.transform,st.tileID.canonical,Ut&&Ut.useDenormalizedUpVectorScale);ht.setGlobeUniformValues(Vt,Dn)}}globeUniformValues(st,ht,Ut){const Vt=st.projection;return{u_tile_tl_up:Vt.upVector(ht,0,0),u_tile_tr_up:Vt.upVector(ht,j.EXTENT,0),u_tile_br_up:Vt.upVector(ht,j.EXTENT,j.EXTENT),u_tile_bl_up:Vt.upVector(ht,0,j.EXTENT),u_tile_up_scale:Ut?j.GLOBE_METERS_TO_ECEF:Vt.upVectorScale(ht,st.center.lat,st.worldSize).metersToTile}}renderToBackBuffer(st){const ht=this.painter,Ut=this.painter.context;st.length!==0&&(Ut.bindFramebuffer.set(null),Ut.viewport.set([0,0,ht.width,ht.height]),ht.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(Vt,Lt,Kt,hn,gn){if(Vt.transform.projection.name==="globe")(function(Rn,Tn,Dn,zn,or){const er=Rn.context,ar=er.gl;let Yn,$n;const cr=Rn.options.showTerrainWireframe?2:0,tr=Rn.transform,yr=j.globeUseCustomAntiAliasing(Rn,er,tr),br=(Vr,Br)=>{if($n===Vr)return;const So=[Vm[Vr],"PROJECTION_GLOBE_VIEW"];yr&&So.push("CUSTOM_ANTIALIASING"),Br&&So.push(Vm[cr]),Yn=Rn.useProgram("globeRaster",null,So),$n=Vr},ur=Rn.colorModeForRenderPass(),Sr=new j.DepthMode(ar.LEQUAL,j.DepthMode.ReadWrite,Rn.depthRangeFor3D);dm.update(or);const Ar=j.calculateGlobeMercatorMatrix(tr),Wr=[j.mercatorXfromLng(tr.center.lng),j.mercatorYfromLat(tr.center.lat)],Pr=cr?[!1,!0]:[!1],ho=Rn.globeSharedBuffers,xr=[tr.width*j.exported.devicePixelRatio,tr.height*j.exported.devicePixelRatio],_i=Float32Array.from(tr.globeMatrix),eo={useDenormalizedUpVectorScale:!0};if(Pr.forEach(Vr=>{$n=-1;const Br=Vr?ar.LINES:ar.TRIANGLES;for(const So of zn){const yo=Dn.getTile(So),bo=j.StencilMode.disabled,_o=Tn.prevTerrainTileForTile[So.key],Oo=Tn.terrainTileForTile[So.key];My(_o,Oo)&&dm.newMorphing(So.key,_o,Oo,or,250),er.activeTexture.set(ar.TEXTURE0),yo.texture.bind(ar.LINEAR,ar.CLAMP_TO_EDGE);const Ho=dm.getMorphValuesForProxy(So.key),zo=Ho?1:0;Ho&&j.extend$1(eo,{morphing:{srcDemTile:Ho.from,dstDemTile:Ho.to,phase:j.easeCubicInOut(Ho.phase)}});const Wo=j.tileCornersToBounds(So.canonical),vo=j.getLatitudinalLod(Wo.getCenter().lat),ns=j.getGridMatrix(So.canonical,Wo,vo,tr.worldSize/tr._pixelsPerMercatorPixel),gs=j.globeNormalizeECEF(j.globeTileBounds(So.canonical)),js=p0(tr.projMatrix,_i,Ar,gs,j.globeToMercatorTransition(tr.zoom),Wr,tr.frustumCorners.TL,tr.frustumCorners.TR,tr.frustumCorners.BR,tr.frustumCorners.BL,tr.globeCenterInViewSpace,tr.globeRadius,xr,ns);if(br(zo,Vr),Tn.setupElevationDraw(yo,Yn,eo),Rn.prepareDrawProgram(er,Yn,So.toUnwrapped()),ho){const[Gs,Os,Jl]=Vr?ho.getWirefameBuffers(Rn.context,vo):ho.getGridBuffers(vo);Yn.draw(er,Br,Sr,bo,ur,j.CullFaceMode.backCCW,js,"globe_raster",Gs,Os,Jl)}}}),ho){const Vr=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];yr&&Vr.push("CUSTOM_ANTIALIASING"),Yn=Rn.useProgram("globeRaster",null,Vr);for(const Br of zn){const{x:So,y:yo,z:bo}=Br.canonical,_o=yo===0,Oo=yo===(1<<bo)-1,[Ho,zo,Wo,vo]=ho.getPoleBuffers(bo);if(vo&&(_o||Oo)){const ns=Dn.getTile(Br);er.activeTexture.set(ar.TEXTURE0),ns.texture.bind(ar.LINEAR,ar.CLAMP_TO_EDGE);let gs=j.globePoleMatrixForTile(bo,So,tr);const js=j.globeNormalizeECEF(j.globeTileBounds(Br.canonical)),Gs=(Os,Jl)=>Os.draw(er,ar.TRIANGLES,Sr,j.StencilMode.disabled,ur,j.CullFaceMode.disabled,p0(tr.projMatrix,gs,gs,js,0,Wr,tr.frustumCorners.TL,tr.frustumCorners.TR,tr.frustumCorners.BR,tr.frustumCorners.BL,tr.globeCenterInViewSpace,tr.globeRadius,xr),"globe_pole_raster",Jl,Wo,vo);Tn.setupElevationDraw(ns,Yn,eo),Rn.prepareDrawProgram(er,Yn,Br.toUnwrapped()),_o&&Gs(Yn,Ho),Oo&&(gs=j.scale(j.create(),gs,[1,-1,1]),Gs(Yn,zo))}}}})(Vt,Lt,Kt,hn,gn);else{const Rn=Vt.context,Tn=Rn.gl;let Dn,zn;const or=Vt.options.showTerrainWireframe?2:0,er=(tr,yr)=>{if(zn===tr)return;const br=[Vm[tr]];yr&&br.push(Vm[or]),Dn=Vt.useProgram("terrainRaster",null,br),zn=tr},ar=Vt.colorModeForRenderPass(),Yn=new j.DepthMode(Tn.LEQUAL,j.DepthMode.ReadWrite,Vt.depthRangeFor3D);dm.update(gn);const $n=Vt.transform,cr=6*Math.pow(1.5,22-$n.zoom)*Lt.exaggeration();(or?[!1,!0]:[!1]).forEach(tr=>{zn=-1;const yr=tr?Tn.LINES:Tn.TRIANGLES,[br,ur]=tr?Lt.getWirefameBuffer():[Lt.gridIndexBuffer,Lt.gridSegments];for(const Sr of hn){const Ar=Kt.getTile(Sr),Wr=j.StencilMode.disabled,Pr=Lt.prevTerrainTileForTile[Sr.key],ho=Lt.terrainTileForTile[Sr.key];My(Pr,ho)&&dm.newMorphing(Sr.key,Pr,ho,gn,250),Rn.activeTexture.set(Tn.TEXTURE0),Ar.texture.bind(Tn.LINEAR,Tn.CLAMP_TO_EDGE,Tn.LINEAR_MIPMAP_NEAREST);const xr=dm.getMorphValuesForProxy(Sr.key),_i=xr?1:0;let eo;xr&&(eo={morphing:{srcDemTile:xr.from,dstDemTile:xr.to,phase:j.easeCubicInOut(xr.phase)}});const Vr=ky(Sr.projMatrix,xs(Sr.canonical,$n.renderWorldCopies)?cr/10:cr);er(_i,tr),Lt.setupElevationDraw(Ar,Dn,eo),Vt.prepareDrawProgram(Rn,Dn,Sr.toUnwrapped()),Dn.draw(Rn,yr,Yn,Wr,ar,j.CullFaceMode.backCCW,Vr,"terrain_raster",Lt.gridBuffer,br,ur)}})}}(ht,this,this.proxySourceCache,st,this._updateTimestamp),this.renderingToTexture=!0,ht.gpuTimingDeferredRenderEnd(),st.splice(0,st.length))}renderBatch(st){if(this._drapedRenderBatches.length===0)return st+1;this.renderingToTexture=!0;const ht=this.painter,Ut=this.painter.context,Vt=this.proxySourceCache,Lt=this.proxiedCoords[Vt.id],Kt=this._drapedRenderBatches.shift(),hn=[],gn=ht.style.order;let Rn=0;for(const Tn of Lt){const Dn=Vt.getTileByID(Tn.proxyTileKey),zn=Vt.proxyCachedFBO[Tn.key]?Vt.proxyCachedFBO[Tn.key][st]:void 0,or=zn!==void 0?Vt.renderCache[zn]:this.pool[Rn++],er=zn!==void 0;if(Dn.texture=or.tex,er&&!or.dirty){hn.push(Dn.tileID);continue}let ar;Ut.bindFramebuffer.set(or.fb.framebuffer),this.renderedToTile=!1,or.dirty&&(Ut.clear({color:j.Color.transparent,stencil:0}),or.dirty=!1);for(let Yn=Kt.start;Yn<=Kt.end;++Yn){const $n=ht.style._layers[gn[Yn]];if($n.isHidden(ht.transform.zoom))continue;const cr=ht.style._getLayerSourceCache($n),tr=cr?this.proxyToSource[Tn.key][cr.id]:[Tn];if(!tr)continue;const yr=tr;Ut.viewport.set([0,0,or.fb.width,or.fb.height]),ar!==(cr?cr.id:null)&&(this._setupStencil(or,tr,$n,cr),ar=cr?cr.id:null),ht.renderLayer(ht,cr,$n,yr)}this.renderedToTile?(or.dirty=!0,hn.push(Dn.tileID)):er||--Rn,Rn===5&&(Rn=0,this.renderToBackBuffer(hn))}return this.renderToBackBuffer(hn),this.renderingToTexture=!1,Ut.bindFramebuffer.set(null),Ut.viewport.set([0,0,ht.width,ht.height]),Kt.end+1}postRender(){}renderCacheEfficiency(st){const ht=st.order.length;if(ht===0)return{efficiency:100};let Ut,Vt=0,Lt=0,Kt=!1;for(let hn=0;hn<ht;++hn){const gn=st._layers[st.order[hn]];this._style.isLayerDraped(gn)?(Kt&&++Vt,++Lt):Kt||(Kt=!0,Ut=gn.id)}return Lt===0?{efficiency:100}:{efficiency:100*(1-Vt/Lt),firstUndrapedLayer:Ut}}getMinElevationBelowMSL(){let st=0;return this._visibleDemTiles.filter(ht=>ht.dem).forEach(ht=>{st=Math.min(st,ht.dem.tree.minimums[0])}),st===0?st:(st-30)*this._exaggeration}raycast(st,ht,Ut){if(!this._visibleDemTiles)return null;const Vt=this._visibleDemTiles.filter(Lt=>Lt.dem).map(Lt=>{const Kt=Lt.tileID,hn=1<<Kt.overscaledZ,{x:gn,y:Rn}=Kt.canonical,Tn=gn/hn,Dn=(gn+1)/hn,zn=Rn/hn,or=(Rn+1)/hn;return{minx:Tn,miny:zn,maxx:Dn,maxy:or,t:Lt.dem.tree.raycastRoot(Tn,zn,Dn,or,st,ht,Ut),tile:Lt}});Vt.sort((Lt,Kt)=>(Lt.t!==null?Lt.t:Number.MAX_VALUE)-(Kt.t!==null?Kt.t:Number.MAX_VALUE));for(const Lt of Vt){if(Lt.t==null)return null;const Kt=Lt.tile.dem.tree.raycast(Lt.minx,Lt.miny,Lt.maxx,Lt.maxy,st,ht,Ut);if(Kt!=null)return Kt}return null}_createFBO(){const st=this.painter.context,ht=st.gl,Ut=this.drapeBufferSize;st.activeTexture.set(ht.TEXTURE0);const Vt=new j.Texture(st,{width:Ut[0],height:Ut[1],data:null},ht.RGBA);Vt.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);const Lt=st.createFramebuffer(Ut[0],Ut[1],!1);return Lt.colorAttachment.set(Vt.texture),Lt.depthAttachment=new Qr(st,Lt.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=st.createRenderbuffer(st.gl.DEPTH_STENCIL,Ut[0],Ut[1]),this._stencilRef=0,Lt.depthAttachment.set(this._sharedDepthStencil),st.clear({stencil:0})):Lt.depthAttachment.set(this._sharedDepthStencil),st.extTextureFilterAnisotropic&&!st.extTextureFilterAnisotropicForceOff&&ht.texParameterf(ht.TEXTURE_2D,st.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,st.extTextureFilterAnisotropicMax),{fb:Lt,tex:Vt,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const st in this._style._sourceCaches)if(this._style._sourceCaches[st].hasTransition())return!0;return this._style.order.some(st=>{const ht=this._style._layers[st],Ut=ht.isHidden(this.painter.transform.zoom),Vt=ht.getCrossfadeParameters(),Lt=!!Vt&&Vt.t!==1,Kt=ht.hasTransition();return ht.type!=="custom"&&!Ut&&(Lt||Kt)})}_clearRasterFadeFromRenderCache(){let st=!1;for(const ht in this._style._sourceCaches)if(this._style._sourceCaches[ht]._source instanceof Sn){st=!0;break}if(st)for(let ht=0;ht<this._style.order.length;++ht){const Ut=this._style._layers[this._style.order[ht]],Vt=Ut.isHidden(this.painter.transform.zoom),Lt=this._style._getLayerSourceCache(Ut);if(Ut.type!=="raster"||Vt||!Lt)continue;const Kt=Ut.paint.get("raster-fade-duration");for(const hn of this.proxyCoords){const gn=this.proxyToSource[hn.key][Lt.id];if(gn)for(const Rn of gn){const Tn=y_(Lt.getTile(Rn),Lt.findLoadedParent(Rn,0),Lt,this.painter.transform,Kt);(Tn.opacity!==1||Tn.mix!==0)&&this._clearRenderCacheForTile(Lt.id,Rn)}}}}_setupDrapedRenderBatches(){const st=this._style.order,ht=st.length;if(ht===0)return;const Ut=[];let Vt,Lt=0,Kt=this._style._layers[st[Lt]];for(;!this._style.isLayerDraped(Kt)&&Kt.isHidden(this.painter.transform.zoom)&&++Lt<ht;)Kt=this._style._layers[st[Lt]];for(;Lt<ht;++Lt){const hn=this._style._layers[st[Lt]];hn.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(hn)?Vt===void 0&&(Vt=Lt):Vt!==void 0&&(Ut.push({start:Vt,end:Lt-1}),Vt=void 0))}Vt!==void 0&&Ut.push({start:Vt,end:Lt-1}),this._drapedRenderBatches=Ut}_setupRenderCache(st){const ht=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,ht.renderCache.length>ht.renderCachePool.length){const Kt=Object.values(ht.proxyCachedFBO);ht.proxyCachedFBO={};for(let hn=0;hn<Kt.length;++hn){const gn=Object.values(Kt[hn]);ht.renderCachePool.push(...gn)}}return}this._clearRasterFadeFromRenderCache();const Ut=this.proxyCoords,Vt=this._tilesDirty;for(let Kt=Ut.length-1;Kt>=0;Kt--){const hn=Ut[Kt];if(ht.getTileByID(hn.key),ht.proxyCachedFBO[hn.key]!==void 0){const gn=st[hn.key],Rn=this.proxyToSource[hn.key];let Tn=0;for(const Dn in Rn){const zn=Rn[Dn],or=gn[Dn];if(!or||or.length!==zn.length||zn.some((er,ar)=>er!==or[ar]||Vt[Dn]&&Vt[Dn].hasOwnProperty(er.key))){Tn=-1;break}++Tn}for(const Dn in ht.proxyCachedFBO[hn.key])ht.renderCache[ht.proxyCachedFBO[hn.key][Dn]].dirty=Tn<0||Tn!==Object.values(gn).length}}const Lt=[...this._drapedRenderBatches];Lt.sort((Kt,hn)=>hn.end-hn.start-(Kt.end-Kt.start));for(const Kt of Lt)for(const hn of Ut){if(ht.proxyCachedFBO[hn.key])continue;let gn=ht.renderCachePool.pop();gn===void 0&&ht.renderCache.length<50&&(gn=ht.renderCache.length,ht.renderCache.push(this._createFBO())),gn!==void 0&&(ht.proxyCachedFBO[hn.key]={},ht.proxyCachedFBO[hn.key][Kt.start]=gn,ht.renderCache[gn].dirty=!0)}this._tilesDirty={}}_setupStencil(st,ht,Ut,Vt){if(!Vt||!this._sourceTilesOverlap[Vt.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const Lt=this.painter.context,Kt=Lt.gl;if(ht.length<=1)return void(this._overlapStencilType=!1);let hn;if(Ut.isTileClipped())hn=ht.length,this._overlapStencilMode.test={func:Kt.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(ht[0].overscaledZ>ht[ht.length-1].overscaledZ))return void(this._overlapStencilType=!1);hn=1,this._overlapStencilMode.test={func:Kt.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+hn>255&&(Lt.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=hn,this._overlapStencilMode.ref=this._stencilRef,Ut.isTileClipped()&&this._renderTileClippingMasks(ht,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(st){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[st.key]),this._overlapStencilMode):j.StencilMode.disabled}_renderTileClippingMasks(st,ht){const Ut=this.painter,Vt=this.painter.context,Lt=Vt.gl;Ut._tileClippingMaskIDs={},Vt.setColorMode(j.ColorMode.disabled),Vt.setDepthMode(j.DepthMode.disabled);const Kt=Ut.useProgram("clippingMask");for(const hn of st){const gn=Ut._tileClippingMaskIDs[hn.key]=--ht;Kt.draw(Vt,Lt.TRIANGLES,j.DepthMode.disabled,new j.StencilMode({func:Lt.ALWAYS,mask:0},gn,255,Lt.KEEP,Lt.KEEP,Lt.REPLACE),j.ColorMode.disabled,j.CullFaceMode.disabled,mp(hn.projMatrix),"$clipping",Ut.tileExtentBuffer,Ut.quadTriangleIndexBuffer,Ut.tileExtentSegments)}}pointCoordinate(st){const ht=this.painter.transform;if(st.x<0||st.x>ht.width||st.y<0||st.y>ht.height)return null;const Ut=[st.x,st.y,1,1];j.transformMat4$1(Ut,Ut,ht.pixelMatrixInverse),j.scale$1(Ut,Ut,1/Ut[3]),Ut[0]/=ht.worldSize,Ut[1]/=ht.worldSize;const Vt=ht._camera.position,Lt=j.mercatorZfromAltitude(1,ht.center.lat),Kt=[Vt[0],Vt[1],Vt[2]/Lt,0],hn=j.subtract([],Ut.slice(0,3),Kt);j.normalize(hn,hn);const gn=this.raycast(Kt,hn,this._exaggeration);return gn!==null&&gn?(j.scaleAndAdd(Kt,Kt,hn,gn),Kt[3]=Kt[2],Kt[2]*=Lt,Kt):null}drawDepth(){const st=this.painter,ht=st.context,Ut=this.proxySourceCache,Vt=Math.ceil(st.width),Lt=Math.ceil(st.height);if(!this._depthFBO||this._depthFBO.width===Vt&&this._depthFBO.height===Lt||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const Kt=ht.gl,hn=ht.createFramebuffer(Vt,Lt,!0);ht.activeTexture.set(Kt.TEXTURE0);const gn=new j.Texture(ht,{width:Vt,height:Lt,data:null},Kt.RGBA);gn.bind(Kt.NEAREST,Kt.CLAMP_TO_EDGE),hn.colorAttachment.set(gn.texture);const Rn=ht.createRenderbuffer(ht.gl.DEPTH_COMPONENT16,Vt,Lt);hn.depthAttachment.set(Rn),this._depthFBO=hn,this._depthTexture=gn}ht.bindFramebuffer.set(this._depthFBO.framebuffer),ht.viewport.set([0,0,Vt,Lt]),function(Kt,hn,gn,Rn){if(Kt.transform.projection.name==="globe")return;const Tn=Kt.context,Dn=Tn.gl;Tn.clear({depth:1});const zn=Kt.useProgram("terrainDepth"),or=new j.DepthMode(Dn.LESS,j.DepthMode.ReadWrite,Kt.depthRangeFor3D);for(const er of Rn){const ar=gn.getTile(er),Yn=ky(er.projMatrix,0);hn.setupElevationDraw(ar,zn),zn.draw(Tn,Dn.TRIANGLES,or,j.StencilMode.disabled,j.ColorMode.unblended,j.CullFaceMode.backCCW,Yn,"terrain_depth",hn.gridBuffer,hn.gridIndexBuffer,hn.gridNoSkirtSegments)}}(st,this,Ut,this.proxyCoords)}_setupProxiedCoordsForOrtho(st,ht,Ut){if(st.getSource()instanceof hr)return this._setupProxiedCoordsForImageSource(st,ht,Ut);this._findCoveringTileCache[st.id]=this._findCoveringTileCache[st.id]||{};const Vt=this.proxiedCoords[st.id]=[],Lt=this.proxyCoords;for(let hn=0;hn<Lt.length;hn++){const gn=Lt[hn],Rn=this._findTileCoveringTileID(gn,st);if(Rn){const Tn=this._createProxiedId(gn,Rn,Ut[gn.key]&&Ut[gn.key][st.id]);Vt.push(Tn),this.proxyToSource[gn.key][st.id]=[Tn]}}let Kt=!1;for(let hn=0;hn<ht.length;hn++){const gn=st.getTile(ht[hn]);if(!gn||!gn.hasData())continue;const Rn=this._findTileCoveringTileID(gn.tileID,this.proxySourceCache);if(Rn&&Rn.tileID.canonical.z!==gn.tileID.canonical.z){const Tn=this.proxyToSource[Rn.tileID.key][st.id],Dn=this._createProxiedId(Rn.tileID,gn,Ut[Rn.tileID.key]&&Ut[Rn.tileID.key][st.id]);Tn?Tn.splice(Tn.length-1,0,Dn):this.proxyToSource[Rn.tileID.key][st.id]=[Dn],Vt.push(Dn),Kt=!0}}this._sourceTilesOverlap[st.id]=Kt}_setupProxiedCoordsForImageSource(st,ht,Ut){if(!st.getSource().loaded())return;const Vt=this.proxiedCoords[st.id]=[],Lt=this.proxyCoords,Kt=st.getSource(),hn=new j.pointGeometry(Kt.tileID.x,Kt.tileID.y)._div(1<<Kt.tileID.z),gn=Kt.coordinates.map(j.MercatorCoordinate.fromLngLat).reduce((Tn,Dn)=>(Tn.min.x=Math.min(Tn.min.x,Dn.x-hn.x),Tn.min.y=Math.min(Tn.min.y,Dn.y-hn.y),Tn.max.x=Math.max(Tn.max.x,Dn.x-hn.x),Tn.max.y=Math.max(Tn.max.y,Dn.y-hn.y),Tn),{min:new j.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new j.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),Rn=(Tn,Dn)=>{const zn=Tn.wrap+Tn.canonical.x/(1<<Tn.canonical.z),or=Tn.canonical.y/(1<<Tn.canonical.z),er=j.EXTENT/(1<<Tn.canonical.z),ar=Dn.wrap+Dn.canonical.x/(1<<Dn.canonical.z),Yn=Dn.canonical.y/(1<<Dn.canonical.z);return zn+er<ar+gn.min.x||zn>ar+gn.max.x||or+er<Yn+gn.min.y||or>Yn+gn.max.y};for(let Tn=0;Tn<Lt.length;Tn++){const Dn=Lt[Tn];for(let zn=0;zn<ht.length;zn++){const or=st.getTile(ht[zn]);if(!or||!or.hasData()||Rn(Dn,or.tileID))continue;const er=this._createProxiedId(Dn,or,Ut[Dn.key]&&Ut[Dn.key][st.id]),ar=this.proxyToSource[Dn.key][st.id];ar?ar.push(er):this.proxyToSource[Dn.key][st.id]=[er],Vt.push(er)}}}_createProxiedId(st,ht,Ut){let Vt=this.orthoMatrix;if(Ut){const Lt=Ut.find(Kt=>Kt.key===ht.tileID.key);if(Lt)return Lt}if(ht.tileID.key!==st.key){const Lt=st.canonical.z-ht.tileID.canonical.z;let Kt,hn,gn;Vt=j.create();const Rn=ht.tileID.wrap-st.wrap<<st.overscaledZ;Lt>0?(Kt=j.EXTENT>>Lt,hn=Kt*((ht.tileID.canonical.x<<Lt)-st.canonical.x+Rn),gn=Kt*((ht.tileID.canonical.y<<Lt)-st.canonical.y)):(Kt=j.EXTENT<<-Lt,hn=j.EXTENT*(ht.tileID.canonical.x-(st.canonical.x+Rn<<-Lt)),gn=j.EXTENT*(ht.tileID.canonical.y-(st.canonical.y<<-Lt))),j.ortho(Vt,0,Kt,0,Kt,0,1),j.translate(Vt,Vt,[hn,gn,0])}return new ey(ht.tileID,st.key,Vt)}_findTileCoveringTileID(st,ht){let Ut=ht.getTile(st);if(Ut&&Ut.hasData())return Ut;const Vt=this._findCoveringTileCache[ht.id],Lt=Vt[st.key];if(Ut=Lt?ht.getTileByID(Lt):null,Ut&&Ut.hasData()||Lt===null)return Ut;let Kt=Ut?Ut.tileID:st,hn=Kt.overscaledZ;const gn=ht.getSource().minzoom,Rn=[];if(!Lt){const Dn=ht.getSource().maxzoom;if(st.canonical.z>=Dn){const zn=st.canonical.z-Dn;ht.getSource().reparseOverscaled?(hn=Math.max(st.canonical.z+2,ht.transform.tileZoom),Kt=new j.OverscaledTileID(hn,st.wrap,Dn,st.canonical.x>>zn,st.canonical.y>>zn)):zn!==0&&(hn=Dn,Kt=new j.OverscaledTileID(hn,st.wrap,Dn,st.canonical.x>>zn,st.canonical.y>>zn))}Kt.key!==st.key&&(Rn.push(Kt.key),Ut=ht.getTile(Kt))}const Tn=Dn=>{Rn.forEach(zn=>{Vt[zn]=Dn}),Rn.length=0};for(hn-=1;hn>=gn&&(!Ut||!Ut.hasData());hn--){Ut&&Tn(Ut.tileID.key);const Dn=Kt.calculateScaledKey(hn);if(Ut=ht.getTileByID(Dn),Ut&&Ut.hasData())break;const zn=Vt[Dn];if(zn===null)break;zn===void 0?Rn.push(Dn):Ut=ht.getTileByID(zn)}return Tn(Ut?Ut.tileID.key:null),Ut&&Ut.hasData()?Ut:null}findDEMTileFor(st){return this.enabled?this._findTileCoveringTileID(st,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(st,ht){let Ut=this._tilesDirty[st];Ut||(Ut=this._tilesDirty[st]={}),Ut[ht.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const st=function(ht){let Ut=0;const Vt=new j.StructArrayLayout2ui4,Lt=131;for(let Kt=1;Kt<129;Kt++){for(let hn=1;hn<129;hn++)Ut=Kt*Lt+hn,Vt.emplaceBack(Ut,Ut+1),Vt.emplaceBack(Ut,Ut+Lt),Vt.emplaceBack(Ut+1,Ut+Lt),Kt===128&&Vt.emplaceBack(Ut+Lt,Ut+Lt+1);Vt.emplaceBack(Ut+1,Ut+1+Lt)}return Vt}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(st),this.wireframeSegments=j.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,st.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class b_{static cacheKey(st,ht,Ut,Vt){let Lt=`${ht}${Vt?Vt.cacheKey:""}`;for(const Kt of Ut)st.usedDefines.includes(Kt)&&(Lt+=`/${Kt}`);return Lt}constructor(st,ht,Ut,Vt,Lt,Kt){const hn=st.gl;this.program=hn.createProgram();const gn=function(Yn){const $n=[];for(let cr=0;cr<Yn.length;cr++){if(Yn[cr]===null)continue;const tr=Yn[cr].split(" ");$n.push(tr.pop())}return $n}(Ut.staticAttributes),Rn=Vt?Vt.getBinderAttributes():[],Tn=gn.concat(Rn);let Dn=Vt?Vt.defines():[];Dn=Dn.concat(Kt.map(Yn=>`#define ${Yn}`));const zn=Dn.concat(st.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(Uu):Uu,Uu,g_,bu.fragmentSource,h0.fragmentSource,Ut.fragmentSource).join(`
`),or=Dn.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,g_,bu.vertexSource,h0.vertexSource,u0.vertexSource,Ut.vertexSource).join(`
`),er=hn.createShader(hn.FRAGMENT_SHADER);if(hn.isContextLost())return void(this.failedToCreate=!0);hn.shaderSource(er,zn),hn.compileShader(er),hn.attachShader(this.program,er);const ar=hn.createShader(hn.VERTEX_SHADER);if(hn.isContextLost())this.failedToCreate=!0;else{hn.shaderSource(ar,or),hn.compileShader(ar),hn.attachShader(this.program,ar),this.attributes={},this.numAttributes=Tn.length;for(let Yn=0;Yn<this.numAttributes;Yn++)Tn[Yn]&&(hn.bindAttribLocation(this.program,Yn,Tn[Yn]),this.attributes[Tn[Yn]]=Yn);hn.linkProgram(this.program),hn.deleteShader(ar),hn.deleteShader(er),this.fixedUniforms=Lt(st),this.binderUniforms=Vt?Vt.getUniforms(st):[],Kt.includes("TERRAIN")&&(this.terrainUniforms=(Yn=>({u_dem:new j.Uniform1i(Yn),u_dem_prev:new j.Uniform1i(Yn),u_dem_unpack:new j.Uniform4f(Yn),u_dem_tl:new j.Uniform2f(Yn),u_dem_scale:new j.Uniform1f(Yn),u_dem_tl_prev:new j.Uniform2f(Yn),u_dem_scale_prev:new j.Uniform1f(Yn),u_dem_size:new j.Uniform1f(Yn),u_dem_lerp:new j.Uniform1f(Yn),u_exaggeration:new j.Uniform1f(Yn),u_depth:new j.Uniform1i(Yn),u_depth_size_inv:new j.Uniform2f(Yn),u_meter_to_dem:new j.Uniform1f(Yn),u_label_plane_matrix_inv:new j.UniformMatrix4f(Yn)}))(st)),Kt.includes("GLOBE")&&(this.globeUniforms=(Yn=>({u_tile_tl_up:new j.Uniform3f(Yn),u_tile_tr_up:new j.Uniform3f(Yn),u_tile_br_up:new j.Uniform3f(Yn),u_tile_bl_up:new j.Uniform3f(Yn),u_tile_up_scale:new j.Uniform1f(Yn)}))(st)),Kt.includes("FOG")&&(this.fogUniforms=(Yn=>({u_fog_matrix:new j.UniformMatrix4f(Yn),u_fog_range:new j.Uniform2f(Yn),u_fog_color:new j.Uniform4f(Yn),u_fog_horizon_blend:new j.Uniform1f(Yn),u_fog_temporal_offset:new j.Uniform1f(Yn),u_frustum_tl:new j.Uniform3f(Yn),u_frustum_tr:new j.Uniform3f(Yn),u_frustum_br:new j.Uniform3f(Yn),u_frustum_bl:new j.Uniform3f(Yn),u_globe_pos:new j.Uniform3f(Yn),u_globe_radius:new j.Uniform1f(Yn),u_globe_transition:new j.Uniform1f(Yn),u_is_globe:new j.Uniform1i(Yn),u_viewport:new j.Uniform2f(Yn)}))(st))}}setTerrainUniformValues(st,ht){if(!this.terrainUniforms)return;const Ut=this.terrainUniforms;if(!this.failedToCreate){st.program.set(this.program);for(const Vt in ht)Ut[Vt]&&Ut[Vt].set(this.program,Vt,ht[Vt])}}setGlobeUniformValues(st,ht){if(!this.globeUniforms)return;const Ut=this.globeUniforms;if(!this.failedToCreate){st.program.set(this.program);for(const Vt in ht)Ut[Vt]&&Ut[Vt].set(this.program,Vt,ht[Vt])}}setFogUniformValues(st,ht){if(!this.fogUniforms)return;const Ut=this.fogUniforms;if(!this.failedToCreate){st.program.set(this.program);for(const Vt in ht)Ut[Vt].set(this.program,Vt,ht[Vt])}}draw(st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar){const Yn=st.gl;if(this.failedToCreate)return;st.program.set(this.program),st.setDepthMode(Ut),st.setStencilMode(Vt),st.setColorMode(Lt),st.setCullFace(Kt);for(const cr of Object.keys(this.fixedUniforms))this.fixedUniforms[cr].set(this.program,cr,hn[cr]);er&&er.setUniforms(this.program,st,this.binderUniforms,zn,{zoom:or});const $n={[Yn.LINES]:2,[Yn.TRIANGLES]:3,[Yn.LINE_STRIP]:1}[ht];for(const cr of Dn.get()){const tr=cr.vaos||(cr.vaos={});(tr[gn]||(tr[gn]=new hm)).bind(st,this,Rn,er?er.getPaintVertexBuffers():[],Tn,cr.vertexOffset,ar||[]),Yn.drawElements(ht,cr.primitiveLength*$n,Yn.UNSIGNED_SHORT,cr.primitiveOffset*$n*2)}}}function fv(_t,st,ht){const Ut=1/Fn(ht,1,st.transform.tileZoom),Vt=Math.pow(2,ht.tileID.overscaledZ),Lt=ht.tileSize*Math.pow(2,st.transform.tileZoom)/Vt,Kt=Lt*(ht.tileID.canonical.x+ht.tileID.wrap*Vt),hn=Lt*ht.tileID.canonical.y;return{u_image:0,u_texsize:ht.imageAtlasTexture.size,u_scale:[Ut,_t.fromScale,_t.toScale],u_fade:_t.t,u_pixel_coord_upper:[Kt>>16,hn>>16],u_pixel_coord_lower:[65535&Kt,65535&hn]}}const Ny=j.create(),ty=(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn)=>{const Dn=st.style.light,zn=Dn.properties.get("position"),or=[zn.x,zn.y,zn.z],er=j.create$1();Dn.properties.get("anchor")==="viewport"&&(j.fromRotation(er,-st.transform.angle),j.transformMat3(or,or,er));const ar=Dn.properties.get("color"),Yn=st.transform,$n={u_matrix:_t,u_lightpos:or,u_lightintensity:Dn.properties.get("intensity"),u_lightcolor:[ar.r,ar.g,ar.b],u_vertical_gradient:+ht,u_opacity:Ut,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ny,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:Vt,u_edge_radius:Lt};return Yn.projection.name==="globe"&&($n.u_tile_id=[Kt.canonical.x,Kt.canonical.y,1<<Kt.canonical.z],$n.u_zoom_transition=gn,$n.u_inv_rot_matrix=Tn,$n.u_merc_center=Rn,$n.u_up_dir=Yn.projection.upVector(new j.CanonicalTileID(0,0,0),Rn[0]*j.EXTENT,Rn[1]*j.EXTENT),$n.u_height_lift=hn),$n},U_=(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn)=>{const or=ty(_t,st,ht,Ut,Vt,Lt,Kt,Rn,Tn,Dn,zn),er={u_height_factor:-Math.pow(2,Kt.overscaledZ)/gn.tileSize/8};return j.extend(or,fv(hn,st,gn),er)},Vy=_t=>({u_matrix:_t}),Fu=(_t,st,ht,Ut)=>j.extend(Vy(_t),fv(ht,st,Ut)),m0=(_t,st)=>({u_matrix:_t,u_world:st}),Dy=(_t,st,ht,Ut,Vt)=>j.extend(Fu(_t,st,ht,Ut),{u_world:Vt}),ny=j.create(),ry=(_t,st,ht,Ut,Vt,Lt)=>{const Kt=_t.transform,hn=Kt.projection.name==="globe";let gn;if(Lt.paint.get("circle-pitch-alignment")==="map")if(hn){const Tn=j.globePixelsToTileUnits(Kt.zoom,st.canonical)*Kt._pixelsPerMercatorPixel;gn=Float32Array.from([Tn,0,0,Tn])}else gn=Kt.calculatePixelsToTileUnitsMatrix(ht);else gn=new Float32Array([Kt.pixelsToGLUnits[0],0,0,Kt.pixelsToGLUnits[1]]);const Rn={u_camera_to_center_distance:Kt.cameraToCenterDistance,u_matrix:_t.translatePosMatrix(st.projMatrix,ht,Lt.paint.get("circle-translate"),Lt.paint.get("circle-translate-anchor")),u_device_pixel_ratio:j.exported.devicePixelRatio,u_extrude_scale:gn,u_inv_rot_matrix:ny,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(hn){Rn.u_inv_rot_matrix=Ut,Rn.u_merc_center=Vt,Rn.u_tile_id=[st.canonical.x,st.canonical.y,1<<st.canonical.z],Rn.u_zoom_transition=j.globeToMercatorTransition(Kt.zoom);const Tn=Vt[0]*j.EXTENT,Dn=Vt[1]*j.EXTENT;Rn.u_up_dir=Kt.projection.upVector(new j.CanonicalTileID(0,0,0),Tn,Dn)}return Rn},pv=_t=>{const st=[];return _t.paint.get("circle-pitch-alignment")==="map"&&st.push("PITCH_WITH_MAP"),_t.paint.get("circle-pitch-scale")==="map"&&st.push("SCALE_WITH_MAP"),st},y0=(_t,st,ht,Ut)=>{const Vt=j.EXTENT/ht.tileSize;return{u_matrix:_t,u_camera_to_center_distance:st.getCameraToCenterDistance(Ut),u_extrude_scale:[st.pixelsToGLUnits[0]/Vt,st.pixelsToGLUnits[1]/Vt]}},_0=(_t,st,ht=1)=>({u_matrix:_t,u_color:st,u_overlay:0,u_overlay_scale:ht}),Bp=j.create(),F_=(_t,st,ht,Ut,Vt,Lt,Kt)=>{const hn=_t.transform,gn=hn.projection.name==="globe",Rn=gn?j.globePixelsToTileUnits(hn.zoom,st.canonical)*hn._pixelsPerMercatorPixel:Fn(ht,1,Lt),Tn={u_matrix:st.projMatrix,u_extrude_scale:Rn,u_intensity:Kt,u_inv_rot_matrix:Bp,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(gn){Tn.u_inv_rot_matrix=Ut,Tn.u_merc_center=Vt,Tn.u_tile_id=[st.canonical.x,st.canonical.y,1<<st.canonical.z],Tn.u_zoom_transition=j.globeToMercatorTransition(hn.zoom);const Dn=Vt[0]*j.EXTENT,zn=Vt[1]*j.EXTENT;Tn.u_up_dir=hn.projection.upVector(new j.CanonicalTileID(0,0,0),Dn,zn)}return Tn},Dm=(_t,st,ht,Ut,Vt,Lt,Kt,hn)=>{const gn=_t.transform,Rn=gn.calculatePixelsToTileUnitsMatrix(st),Tn={u_matrix:iy(_t,st,ht,Vt),u_pixels_to_tile_units:Rn,u_device_pixel_ratio:Kt,u_units_to_pixels:[1/gn.pixelsToGLUnits[0],1/gn.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:Lt,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:hn};if(w_(ht)){const Dn=R_(st,_t.transform);Tn.u_texsize=st.lineAtlasTexture.size,Tn.u_scale=[Dn,Ut.fromScale,Ut.toScale],Tn.u_mix=Ut.t}return Tn},S_=(_t,st,ht,Ut,Vt,Lt)=>{const Kt=_t.transform,hn=R_(st,Kt);return{u_matrix:iy(_t,st,ht,Vt),u_texsize:st.imageAtlasTexture.size,u_pixels_to_tile_units:Kt.calculatePixelsToTileUnitsMatrix(st),u_device_pixel_ratio:Lt,u_image:0,u_scale:[hn,Ut.fromScale,Ut.toScale],u_fade:Ut.t,u_units_to_pixels:[1/Kt.pixelsToGLUnits[0],1/Kt.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function R_(_t,st){return 1/Fn(_t,1,st.tileZoom)}function iy(_t,st,ht,Ut){return _t.translatePosMatrix(Ut||st.tileID.projMatrix,st,ht.paint.get("line-translate"),ht.paint.get("line-translate-anchor"))}function w_(_t){const st=_t.paint.get("line-dasharray").value;return st.value||st.kind!=="constant"}const Tp=(_t,st,ht,Ut,Vt,Lt)=>{return{u_matrix:_t,u_tl_parent:st,u_scale_parent:ht,u_fade_t:Ut.mix,u_opacity:Ut.opacity*Vt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Vt.paint.get("raster-brightness-min"),u_brightness_high:Vt.paint.get("raster-brightness-max"),u_saturation_factor:(hn=Vt.paint.get("raster-saturation"),hn>0?1-1/(1.001-hn):-hn),u_contrast_factor:(Kt=Vt.paint.get("raster-contrast"),Kt>0?1/(1-Kt):1+Kt),u_spin_weights:v0(Vt.paint.get("raster-hue-rotate")),u_perspective_transform:Lt};var Kt,hn};function v0(_t){_t*=Math.PI/180;const st=Math.sin(_t),ht=Math.cos(_t);return[(2*ht+1)/3,(-Math.sqrt(3)*st-ht+1)/3,(Math.sqrt(3)*st-ht+1)/3]}const Oy=j.create(),gv=(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar)=>{const Yn=Vt.transform,$n={u_is_size_zoom_constant:+(_t==="constant"||_t==="source"),u_is_size_feature_constant:+(_t==="constant"||_t==="camera"),u_size_t:st?st.uSizeT:0,u_size:st?st.uSize:0,u_camera_to_center_distance:Yn.cameraToCenterDistance,u_rotate_symbol:+ht,u_aspect_ratio:Yn.width/Yn.height,u_fade_change:Vt.options.fadeDuration?Vt.symbolFadeChange:1,u_matrix:Lt,u_label_plane_matrix:Kt,u_coord_matrix:hn,u_is_text:+gn,u_pitch_with_map:+Ut,u_texsize:Rn,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Oy,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Oy,u_up_vector:[0,-1,0]};return ar.name==="globe"&&($n.u_tile_id=[Tn.canonical.x,Tn.canonical.y,1<<Tn.canonical.z],$n.u_zoom_transition=Dn,$n.u_inv_rot_matrix=or,$n.u_merc_center=zn,$n.u_camera_forward=Yn._camera.forward(),$n.u_ecef_origin=j.globeECEFOrigin(Yn.globeMatrix,Tn.toUnwrapped()),$n.u_tile_matrix=Float32Array.from(Yn.globeMatrix),$n.u_up_vector=er),$n},b0=(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar,Yn)=>j.extend(gv(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Dn,zn,or,er,ar,Yn),{u_gamma_scale:Ut?Vt.transform.cameraToCenterDistance*Math.cos(Vt.terrain?0:Vt.transform._pitch):1,u_device_pixel_ratio:j.exported.devicePixelRatio,u_is_halo:+Tn}),oy=(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn,zn,or,er,ar)=>j.extend(b0(_t,st,ht,Ut,Vt,Lt,Kt,hn,!0,gn,!0,Tn,Dn,zn,or,er,ar),{u_texsize_icon:Rn,u_texture_icon:1}),Ou=(_t,st,ht)=>({u_matrix:_t,u_opacity:st,u_color:ht}),mv=(_t,st,ht,Ut,Vt,Lt)=>j.extend(function(Kt,hn,gn,Rn){const Tn=gn.imageManager.getPattern(Kt.from.toString()),Dn=gn.imageManager.getPattern(Kt.to.toString()),{width:zn,height:or}=gn.imageManager.getPixelSize(),er=Math.pow(2,Rn.tileID.overscaledZ),ar=Rn.tileSize*Math.pow(2,gn.transform.tileZoom)/er,Yn=ar*(Rn.tileID.canonical.x+Rn.tileID.wrap*er),$n=ar*Rn.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Tn.tl,u_pattern_br_a:Tn.br,u_pattern_tl_b:Dn.tl,u_pattern_br_b:Dn.br,u_texsize:[zn,or],u_mix:hn.t,u_pattern_size_a:Tn.displaySize,u_pattern_size_b:Dn.displaySize,u_scale_a:hn.fromScale,u_scale_b:hn.toScale,u_tile_units_to_pixels:1/Fn(Rn,1,gn.transform.tileZoom),u_pixel_coord_upper:[Yn>>16,$n>>16],u_pixel_coord_lower:[65535&Yn,65535&$n]}}(Ut,Lt,ht,Vt),{u_matrix:_t,u_opacity:st}),U0={fillExtrusion:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_lightpos:new j.Uniform3f(_t),u_lightintensity:new j.Uniform1f(_t),u_lightcolor:new j.Uniform3f(_t),u_vertical_gradient:new j.Uniform1f(_t),u_opacity:new j.Uniform1f(_t),u_edge_radius:new j.Uniform1f(_t),u_ao:new j.Uniform2f(_t),u_tile_id:new j.Uniform3f(_t),u_zoom_transition:new j.Uniform1f(_t),u_inv_rot_matrix:new j.UniformMatrix4f(_t),u_merc_center:new j.Uniform2f(_t),u_up_dir:new j.Uniform3f(_t),u_height_lift:new j.Uniform1f(_t)}),fillExtrusionPattern:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_lightpos:new j.Uniform3f(_t),u_lightintensity:new j.Uniform1f(_t),u_lightcolor:new j.Uniform3f(_t),u_vertical_gradient:new j.Uniform1f(_t),u_height_factor:new j.Uniform1f(_t),u_edge_radius:new j.Uniform1f(_t),u_ao:new j.Uniform2f(_t),u_tile_id:new j.Uniform3f(_t),u_zoom_transition:new j.Uniform1f(_t),u_inv_rot_matrix:new j.UniformMatrix4f(_t),u_merc_center:new j.Uniform2f(_t),u_up_dir:new j.Uniform3f(_t),u_height_lift:new j.Uniform1f(_t),u_image:new j.Uniform1i(_t),u_texsize:new j.Uniform2f(_t),u_pixel_coord_upper:new j.Uniform2f(_t),u_pixel_coord_lower:new j.Uniform2f(_t),u_scale:new j.Uniform3f(_t),u_fade:new j.Uniform1f(_t),u_opacity:new j.Uniform1f(_t)}),fill:_t=>({u_matrix:new j.UniformMatrix4f(_t)}),fillPattern:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_image:new j.Uniform1i(_t),u_texsize:new j.Uniform2f(_t),u_pixel_coord_upper:new j.Uniform2f(_t),u_pixel_coord_lower:new j.Uniform2f(_t),u_scale:new j.Uniform3f(_t),u_fade:new j.Uniform1f(_t)}),fillOutline:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_world:new j.Uniform2f(_t)}),fillOutlinePattern:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_world:new j.Uniform2f(_t),u_image:new j.Uniform1i(_t),u_texsize:new j.Uniform2f(_t),u_pixel_coord_upper:new j.Uniform2f(_t),u_pixel_coord_lower:new j.Uniform2f(_t),u_scale:new j.Uniform3f(_t),u_fade:new j.Uniform1f(_t)}),circle:_t=>({u_camera_to_center_distance:new j.Uniform1f(_t),u_extrude_scale:new j.UniformMatrix2f(_t),u_device_pixel_ratio:new j.Uniform1f(_t),u_matrix:new j.UniformMatrix4f(_t),u_inv_rot_matrix:new j.UniformMatrix4f(_t),u_merc_center:new j.Uniform2f(_t),u_tile_id:new j.Uniform3f(_t),u_zoom_transition:new j.Uniform1f(_t),u_up_dir:new j.Uniform3f(_t)}),collisionBox:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_camera_to_center_distance:new j.Uniform1f(_t),u_extrude_scale:new j.Uniform2f(_t)}),collisionCircle:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_inv_matrix:new j.UniformMatrix4f(_t),u_camera_to_center_distance:new j.Uniform1f(_t),u_viewport_size:new j.Uniform2f(_t)}),debug:_t=>({u_color:new j.UniformColor(_t),u_matrix:new j.UniformMatrix4f(_t),u_overlay:new j.Uniform1i(_t),u_overlay_scale:new j.Uniform1f(_t)}),clippingMask:_t=>({u_matrix:new j.UniformMatrix4f(_t)}),heatmap:_t=>({u_extrude_scale:new j.Uniform1f(_t),u_intensity:new j.Uniform1f(_t),u_matrix:new j.UniformMatrix4f(_t),u_inv_rot_matrix:new j.UniformMatrix4f(_t),u_merc_center:new j.Uniform2f(_t),u_tile_id:new j.Uniform3f(_t),u_zoom_transition:new j.Uniform1f(_t),u_up_dir:new j.Uniform3f(_t)}),heatmapTexture:_t=>({u_image:new j.Uniform1i(_t),u_color_ramp:new j.Uniform1i(_t),u_opacity:new j.Uniform1f(_t)}),hillshade:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_image:new j.Uniform1i(_t),u_latrange:new j.Uniform2f(_t),u_light:new j.Uniform2f(_t),u_shadow:new j.UniformColor(_t),u_highlight:new j.UniformColor(_t),u_accent:new j.UniformColor(_t)}),hillshadePrepare:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_image:new j.Uniform1i(_t),u_dimension:new j.Uniform2f(_t),u_zoom:new j.Uniform1f(_t),u_unpack:new j.Uniform4f(_t)}),line:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_pixels_to_tile_units:new j.UniformMatrix2f(_t),u_device_pixel_ratio:new j.Uniform1f(_t),u_units_to_pixels:new j.Uniform2f(_t),u_dash_image:new j.Uniform1i(_t),u_gradient_image:new j.Uniform1i(_t),u_image_height:new j.Uniform1f(_t),u_texsize:new j.Uniform2f(_t),u_scale:new j.Uniform3f(_t),u_mix:new j.Uniform1f(_t),u_alpha_discard_threshold:new j.Uniform1f(_t),u_trim_offset:new j.Uniform2f(_t)}),linePattern:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_texsize:new j.Uniform2f(_t),u_pixels_to_tile_units:new j.UniformMatrix2f(_t),u_device_pixel_ratio:new j.Uniform1f(_t),u_image:new j.Uniform1i(_t),u_units_to_pixels:new j.Uniform2f(_t),u_scale:new j.Uniform3f(_t),u_fade:new j.Uniform1f(_t),u_alpha_discard_threshold:new j.Uniform1f(_t)}),raster:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_tl_parent:new j.Uniform2f(_t),u_scale_parent:new j.Uniform1f(_t),u_fade_t:new j.Uniform1f(_t),u_opacity:new j.Uniform1f(_t),u_image0:new j.Uniform1i(_t),u_image1:new j.Uniform1i(_t),u_brightness_low:new j.Uniform1f(_t),u_brightness_high:new j.Uniform1f(_t),u_saturation_factor:new j.Uniform1f(_t),u_contrast_factor:new j.Uniform1f(_t),u_spin_weights:new j.Uniform3f(_t),u_perspective_transform:new j.Uniform2f(_t)}),symbolIcon:_t=>({u_is_size_zoom_constant:new j.Uniform1i(_t),u_is_size_feature_constant:new j.Uniform1i(_t),u_size_t:new j.Uniform1f(_t),u_size:new j.Uniform1f(_t),u_camera_to_center_distance:new j.Uniform1f(_t),u_rotate_symbol:new j.Uniform1i(_t),u_aspect_ratio:new j.Uniform1f(_t),u_fade_change:new j.Uniform1f(_t),u_matrix:new j.UniformMatrix4f(_t),u_label_plane_matrix:new j.UniformMatrix4f(_t),u_coord_matrix:new j.UniformMatrix4f(_t),u_is_text:new j.Uniform1i(_t),u_pitch_with_map:new j.Uniform1i(_t),u_texsize:new j.Uniform2f(_t),u_tile_id:new j.Uniform3f(_t),u_zoom_transition:new j.Uniform1f(_t),u_inv_rot_matrix:new j.UniformMatrix4f(_t),u_merc_center:new j.Uniform2f(_t),u_camera_forward:new j.Uniform3f(_t),u_tile_matrix:new j.UniformMatrix4f(_t),u_up_vector:new j.Uniform3f(_t),u_ecef_origin:new j.Uniform3f(_t),u_texture:new j.Uniform1i(_t)}),symbolSDF:_t=>({u_is_size_zoom_constant:new j.Uniform1i(_t),u_is_size_feature_constant:new j.Uniform1i(_t),u_size_t:new j.Uniform1f(_t),u_size:new j.Uniform1f(_t),u_camera_to_center_distance:new j.Uniform1f(_t),u_rotate_symbol:new j.Uniform1i(_t),u_aspect_ratio:new j.Uniform1f(_t),u_fade_change:new j.Uniform1f(_t),u_matrix:new j.UniformMatrix4f(_t),u_label_plane_matrix:new j.UniformMatrix4f(_t),u_coord_matrix:new j.UniformMatrix4f(_t),u_is_text:new j.Uniform1i(_t),u_pitch_with_map:new j.Uniform1i(_t),u_texsize:new j.Uniform2f(_t),u_texture:new j.Uniform1i(_t),u_gamma_scale:new j.Uniform1f(_t),u_device_pixel_ratio:new j.Uniform1f(_t),u_tile_id:new j.Uniform3f(_t),u_zoom_transition:new j.Uniform1f(_t),u_inv_rot_matrix:new j.UniformMatrix4f(_t),u_merc_center:new j.Uniform2f(_t),u_camera_forward:new j.Uniform3f(_t),u_tile_matrix:new j.UniformMatrix4f(_t),u_up_vector:new j.Uniform3f(_t),u_ecef_origin:new j.Uniform3f(_t),u_is_halo:new j.Uniform1i(_t)}),symbolTextAndIcon:_t=>({u_is_size_zoom_constant:new j.Uniform1i(_t),u_is_size_feature_constant:new j.Uniform1i(_t),u_size_t:new j.Uniform1f(_t),u_size:new j.Uniform1f(_t),u_camera_to_center_distance:new j.Uniform1f(_t),u_rotate_symbol:new j.Uniform1i(_t),u_aspect_ratio:new j.Uniform1f(_t),u_fade_change:new j.Uniform1f(_t),u_matrix:new j.UniformMatrix4f(_t),u_label_plane_matrix:new j.UniformMatrix4f(_t),u_coord_matrix:new j.UniformMatrix4f(_t),u_is_text:new j.Uniform1i(_t),u_pitch_with_map:new j.Uniform1i(_t),u_texsize:new j.Uniform2f(_t),u_texsize_icon:new j.Uniform2f(_t),u_texture:new j.Uniform1i(_t),u_texture_icon:new j.Uniform1i(_t),u_gamma_scale:new j.Uniform1f(_t),u_device_pixel_ratio:new j.Uniform1f(_t),u_is_halo:new j.Uniform1i(_t)}),background:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_opacity:new j.Uniform1f(_t),u_color:new j.UniformColor(_t)}),backgroundPattern:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_opacity:new j.Uniform1f(_t),u_image:new j.Uniform1i(_t),u_pattern_tl_a:new j.Uniform2f(_t),u_pattern_br_a:new j.Uniform2f(_t),u_pattern_tl_b:new j.Uniform2f(_t),u_pattern_br_b:new j.Uniform2f(_t),u_texsize:new j.Uniform2f(_t),u_mix:new j.Uniform1f(_t),u_pattern_size_a:new j.Uniform2f(_t),u_pattern_size_b:new j.Uniform2f(_t),u_scale_a:new j.Uniform1f(_t),u_scale_b:new j.Uniform1f(_t),u_pixel_coord_upper:new j.Uniform2f(_t),u_pixel_coord_lower:new j.Uniform2f(_t),u_tile_units_to_pixels:new j.Uniform1f(_t)}),terrainRaster:f0,terrainDepth:f0,skybox:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_sun_direction:new j.Uniform3f(_t),u_cubemap:new j.Uniform1i(_t),u_opacity:new j.Uniform1f(_t),u_temporal_offset:new j.Uniform1f(_t)}),skyboxGradient:_t=>({u_matrix:new j.UniformMatrix4f(_t),u_color_ramp:new j.Uniform1i(_t),u_center_direction:new j.Uniform3f(_t),u_radius:new j.Uniform1f(_t),u_opacity:new j.Uniform1f(_t),u_temporal_offset:new j.Uniform1f(_t)}),skyboxCapture:_t=>({u_matrix_3f:new j.UniformMatrix3f(_t),u_sun_direction:new j.Uniform3f(_t),u_sun_intensity:new j.Uniform1f(_t),u_color_tint_r:new j.Uniform4f(_t),u_color_tint_m:new j.Uniform4f(_t),u_luminance:new j.Uniform1f(_t)}),globeRaster:_t=>({u_proj_matrix:new j.UniformMatrix4f(_t),u_globe_matrix:new j.UniformMatrix4f(_t),u_normalize_matrix:new j.UniformMatrix4f(_t),u_merc_matrix:new j.UniformMatrix4f(_t),u_zoom_transition:new j.Uniform1f(_t),u_merc_center:new j.Uniform2f(_t),u_image0:new j.Uniform1i(_t),u_grid_matrix:new j.UniformMatrix3f(_t),u_frustum_tl:new j.Uniform3f(_t),u_frustum_tr:new j.Uniform3f(_t),u_frustum_br:new j.Uniform3f(_t),u_frustum_bl:new j.Uniform3f(_t),u_globe_pos:new j.Uniform3f(_t),u_globe_radius:new j.Uniform1f(_t),u_viewport:new j.Uniform2f(_t)}),globeAtmosphere:_t=>({u_frustum_tl:new j.Uniform3f(_t),u_frustum_tr:new j.Uniform3f(_t),u_frustum_br:new j.Uniform3f(_t),u_frustum_bl:new j.Uniform3f(_t),u_horizon:new j.Uniform1f(_t),u_transition:new j.Uniform1f(_t),u_fadeout_range:new j.Uniform1f(_t),u_color:new j.Uniform4f(_t),u_high_color:new j.Uniform4f(_t),u_space_color:new j.Uniform4f(_t),u_star_intensity:new j.Uniform1f(_t),u_star_density:new j.Uniform1f(_t),u_star_size:new j.Uniform1f(_t),u_temporal_offset:new j.Uniform1f(_t),u_horizon_angle:new j.Uniform1f(_t),u_rotation_matrix:new j.UniformMatrix4f(_t)})};let F0;function E_(_t,st,ht,Ut,Vt,Lt,Kt){const hn=_t.context,gn=hn.gl,Rn=_t.transform,Tn=_t.useProgram("collisionBox"),Dn=[];let zn=0,or=0;for(let yr=0;yr<Ut.length;yr++){const br=Ut[yr],ur=st.getTile(br),Sr=ur.getBucket(ht);if(!Sr)continue;const Ar=zp(br,Sr,Rn);let Wr=Ar;Vt[0]===0&&Vt[1]===0||(Wr=_t.translatePosMatrix(Ar,ur,Vt,Lt));const Pr=Kt?Sr.textCollisionBox:Sr.iconCollisionBox,ho=Sr.collisionCircleArray;if(ho.length>0){const xr=j.create(),_i=Wr;j.mul(xr,Sr.placementInvProjMatrix,Rn.glCoordMatrix),j.mul(xr,xr,Sr.placementViewportMatrix),Dn.push({circleArray:ho,circleOffset:or,transform:_i,invTransform:xr,projection:Sr.getProjection()}),zn+=ho.length/4,or=zn}Pr&&(_t.terrain&&_t.terrain.setupElevationDraw(ur,Tn),Tn.draw(hn,gn.LINES,j.DepthMode.disabled,j.StencilMode.disabled,_t.colorModeForRenderPass(),j.CullFaceMode.disabled,y0(Wr,Rn,ur,Sr.getProjection()),ht.id,Pr.layoutVertexBuffer,Pr.indexBuffer,Pr.segments,null,Rn.zoom,null,[Pr.collisionVertexBuffer,Pr.collisionVertexBufferExt]))}if(!Kt||!Dn.length)return;const er=_t.useProgram("collisionCircle"),ar=new j.StructArrayLayout2f1f2i16;ar.resize(4*zn),ar._trim();let Yn=0;for(const yr of Dn)for(let br=0;br<yr.circleArray.length/4;br++){const ur=4*br,Sr=yr.circleArray[ur+0],Ar=yr.circleArray[ur+1],Wr=yr.circleArray[ur+2],Pr=yr.circleArray[ur+3];ar.emplace(Yn++,Sr,Ar,Wr,Pr,0),ar.emplace(Yn++,Sr,Ar,Wr,Pr,1),ar.emplace(Yn++,Sr,Ar,Wr,Pr,2),ar.emplace(Yn++,Sr,Ar,Wr,Pr,3)}(!F0||F0.length<2*zn)&&(F0=function(yr){const br=2*yr,ur=new j.StructArrayLayout3ui6;ur.resize(br),ur._trim();for(let Sr=0;Sr<br;Sr++){const Ar=6*Sr;ur.uint16[Ar+0]=4*Sr+0,ur.uint16[Ar+1]=4*Sr+1,ur.uint16[Ar+2]=4*Sr+2,ur.uint16[Ar+3]=4*Sr+2,ur.uint16[Ar+4]=4*Sr+3,ur.uint16[Ar+5]=4*Sr+0}return ur}(zn));const $n=hn.createIndexBuffer(F0,!0),cr=hn.createVertexBuffer(ar,j.collisionCircleLayout.members,!0);for(const yr of Dn){const br={u_matrix:yr.transform,u_inv_matrix:yr.invTransform,u_camera_to_center_distance:(tr=Rn).getCameraToCenterDistance(yr.projection),u_viewport_size:[tr.width,tr.height]};er.draw(hn,gn.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,_t.colorModeForRenderPass(),j.CullFaceMode.disabled,br,ht.id,cr,$n,j.SegmentVector.simpleSegment(0,2*yr.circleOffset,yr.circleArray.length,yr.circleArray.length/2),null,Rn.zoom)}var tr;cr.destroy(),$n.destroy()}const B_=j.create();function sy(_t,st,ht,Ut,Vt,Lt){const{horizontalAlign:Kt,verticalAlign:hn}=j.getAnchorAlignment(_t),gn=-(Kt-.5)*st,Rn=-(hn-.5)*ht,Tn=j.evaluateVariableOffset(_t,Ut);return new j.pointGeometry((gn/Vt+Tn[0])*Lt,(Rn/Vt+Tn[1])*Lt)}function ay(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn){const Dn=_t.text.placedSymbolArray,zn=_t.text.dynamicLayoutVertexArray,or=_t.icon.dynamicLayoutVertexArray,er={},ar=yl(hn,_t.getProjection(),Lt),Yn=Lt.elevation,$n=_t.getProjection().upVectorScale(hn.canonical,Lt.center.lat,Lt.worldSize);zn.clear();for(let cr=0;cr<Dn.length;cr++){const tr=Dn.get(cr),yr=_t.allowVerticalPlacement&&!tr.placedOrientation,br=tr.hidden||!tr.crossTileID||yr?null:Ut[tr.crossTileID];if(br){const ur=new j.pointGeometry(tr.tileAnchorX,tr.tileAnchorY),Sr=_t.getProjection().upVector(hn.canonical,ur.x,ur.y),Ar=Yn?Yn.getAtTileOffset(hn,ur.x,ur.y):0,Wr=us([tr.projectedAnchorX+Ar*Sr[0]*$n.metersToTile,tr.projectedAnchorY+Ar*Sr[1]*$n.metersToTile,tr.projectedAnchorZ+Ar*Sr[2]*$n.metersToTile],ht?ar:Kt),Pr=fs(Lt.getCameraToCenterDistance(_t.getProjection()),Wr.signedDistanceFromCamera);let ho=Vt.evaluateSizeForFeature(_t.textSizeData,Rn,tr)*Pr/j.ONE_EM;ht&&(ho*=_t.tilePixelRatio/gn);const{width:xr,height:_i,anchor:eo,textOffset:Vr,textScale:Br}=br,So=sy(eo,xr,_i,Vr,Br,ho);let yo;if(ht){const _o=ur.add(So),{x:Oo,y:Ho,z:zo}=_t.getProjection().projectTilePoint(_o.x,_o.y,hn.canonical);yo=us([Oo+Ar*Sr[0]*$n.metersToTile,Ho+Ar*Sr[1]*$n.metersToTile,zo+Ar*Sr[2]*$n.metersToTile],Kt).point}else{const _o=st?So.rotate(-Lt.angle):So;yo=[Wr.point[0]+_o.x,Wr.point[1]+_o.y,0]}const bo=_t.allowVerticalPlacement&&tr.placedOrientation===j.WritingMode.vertical?Math.PI/2:0;for(let _o=0;_o<tr.numGlyphs;_o++)j.addDynamicAttributes(zn,yo[0],yo[1],yo[2],bo);Tn&&tr.associatedIconIndex>=0&&(er[tr.associatedIconIndex]={shiftedAnchor:yo,angle:bo})}else zs(tr.numGlyphs,zn)}if(Tn){or.clear();const cr=_t.icon.placedSymbolArray;for(let tr=0;tr<cr.length;tr++){const yr=cr.get(tr);if(yr.hidden)zs(yr.numGlyphs,or);else{const br=er[tr];if(br)for(let ur=0;ur<yr.numGlyphs;ur++)j.addDynamicAttributes(or,br.shiftedAnchor[0],br.shiftedAnchor[1],br.shiftedAnchor[2],br.angle);else zs(yr.numGlyphs,or)}}_t.icon.dynamicLayoutVertexBuffer.updateData(or)}_t.text.dynamicLayoutVertexBuffer.updateData(zn)}function kr(_t,st,ht){return ht.iconsInText&&st?"symbolTextAndIcon":_t?"symbolSDF":"symbolIcon"}function oo(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn,Rn,Tn,Dn){const zn=_t.context,or=zn.gl,er=_t.transform,ar=hn==="map",Yn=gn==="map",$n=ar&&ht.layout.get("symbol-placement")!=="point",cr=ar&&!Yn&&!$n,tr=ht.layout.get("symbol-sort-key").constantOr(1)!==void 0;let yr=!1;const br=_t.depthModeForSublayer(0,j.DepthMode.ReadOnly),ur=[j.mercatorXfromLng(er.center.lng),j.mercatorYfromLat(er.center.lat)],Sr=ht.layout.get("text-variable-anchor"),Ar=er.projection.name==="globe",Wr=[],Pr=[0,-1,0];let ho=Pr;!Ar&&!er.mercatorFromTransition||ar||(ho=function(xr){const _i=xr._camera.getWorldToCamera(xr.worldSize,1),eo=j.multiply([],_i,xr.globeMatrix);j.invert(eo,eo);const Vr=[0,0,0],Br=[0,1,0,0];return j.transformMat4$1(Br,Br,eo),Vr[0]=Br[0],Vr[1]=Br[1],Vr[2]=Br[2],j.normalize(Vr,Vr),Vr}(er));for(const xr of Ut){const _i=st.getTile(xr),eo=_i.getBucket(ht);if(!eo||eo.projection.name==="mercator"&&Ar)continue;const Vr=Vt?eo.text:eo.icon;if(!Vr||eo.fullyClipped||!Vr.segments.get().length)continue;const Br=Vr.programConfigurations.get(ht.id),So=Vt||eo.sdfIcons,yo=Vt?eo.textSizeData:eo.iconSizeData,bo=Yn||er.pitch!==0,_o=j.evaluateSizeForZoom(yo,er.zoom);let Oo,Ho,zo,Wo,vo=[0,0],ns=null;if(Vt){if(Ho=_i.glyphAtlasTexture,zo=or.LINEAR,Oo=_i.glyphAtlasTexture.size,eo.iconsInText){vo=_i.imageAtlasTexture.size,ns=_i.imageAtlasTexture;const es=yo.kind==="composite"||yo.kind==="camera";Wo=bo||_t.options.rotating||_t.options.zooming||es?or.LINEAR:or.NEAREST}}else{const es=ht.layout.get("icon-size").constantOr(0)!==1||eo.iconsNeedLinear;Ho=_i.imageAtlasTexture,zo=So||_t.options.rotating||_t.options.zooming||es||bo?or.LINEAR:or.NEAREST,Oo=_i.imageAtlasTexture.size}const gs=eo.projection.name==="globe",js=gs?ho:Pr,Gs=gs?j.globeToMercatorTransition(er.zoom):0,Os=yl(xr,eo.getProjection(),er),Jl=er.calculatePixelsToTileUnitsMatrix(_i),uu=Ql(Os,_i.tileID.canonical,Yn,ar,er,eo.getProjection(),Jl),vp=_t.terrain&&Yn&&$n?j.invert(j.create(),uu):B_,Hs=cp(Os,_i.tileID.canonical,Yn,ar,er,eo.getProjection(),Jl),El=Sr&&eo.hasTextData(),Is=ht.layout.get("icon-text-fit")!=="none"&&El&&eo.hasIconData();if($n){const es=er.elevation,Vp=es?es.getAtTileOffsetFunc(xr,er.center.lat,er.worldSize,eo.getProjection()):Ru=>[0,0,0],bm=cm(Os,_i.tileID.canonical,Yn,ar,er,eo.getProjection(),Jl);up(eo,Os,_t,Vt,bm,Hs,Yn,Rn,Vp,xr)}const Nl=$n||Vt&&Sr||Is,hu=_t.translatePosMatrix(Os,_i,Lt,Kt),Xs=Nl?B_:uu,Mu=_t.translatePosMatrix(Hs,_i,Lt,Kt,!0),em=eo.getProjection().createInversionMatrix(er,xr.canonical),_h=[];_t.terrainRenderModeElevated()&&Yn&&_h.push("PITCH_WITH_MAP_TERRAIN"),gs&&_h.push("PROJECTION_GLOBE_VIEW"),Nl&&_h.push("PROJECTED_POS_ON_VIEWPORT");const iu=So&&ht.paint.get(Vt?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let my;my=So?eo.iconsInText?oy(yo.kind,_o,cr,Yn,_t,hu,Xs,Mu,Oo,vo,xr,Gs,ur,em,js,eo.getProjection()):b0(yo.kind,_o,cr,Yn,_t,hu,Xs,Mu,Vt,Oo,!0,xr,Gs,ur,em,js,eo.getProjection()):gv(yo.kind,_o,cr,Yn,_t,hu,Xs,Mu,Vt,Oo,xr,Gs,ur,em,js,eo.getProjection());const Np={program:_t.useProgram(kr(So,Vt,eo),Br,_h),buffers:Vr,uniformValues:my,atlasTexture:Ho,atlasTextureIcon:ns,atlasInterpolation:zo,atlasInterpolationIcon:Wo,isSDF:So,hasHalo:iu,tile:_i,labelPlaneMatrixInv:vp};if(tr&&eo.canOverlap){yr=!0;const es=Vr.segments.get();for(const Vp of es)Wr.push({segments:new j.SegmentVector([Vp]),sortKey:Vp.sortKey,state:Np})}else Wr.push({segments:Vr.segments,sortKey:0,state:Np})}yr&&Wr.sort((xr,_i)=>xr.sortKey-_i.sortKey);for(const xr of Wr){const _i=xr.state;if(_t.terrain&&_t.terrain.setupElevationDraw(_i.tile,_i.program,{useDepthForOcclusion:!Ar,labelPlaneMatrixInv:_i.labelPlaneMatrixInv}),zn.activeTexture.set(or.TEXTURE0),_i.atlasTexture.bind(_i.atlasInterpolation,or.CLAMP_TO_EDGE),_i.atlasTextureIcon&&(zn.activeTexture.set(or.TEXTURE1),_i.atlasTextureIcon&&_i.atlasTextureIcon.bind(_i.atlasInterpolationIcon,or.CLAMP_TO_EDGE)),_i.isSDF){const eo=_i.uniformValues;_i.hasHalo&&(eo.u_is_halo=1,$r(_i.buffers,xr.segments,ht,_t,_i.program,br,Tn,Dn,eo)),eo.u_is_halo=0}$r(_i.buffers,xr.segments,ht,_t,_i.program,br,Tn,Dn,_i.uniformValues)}}function $r(_t,st,ht,Ut,Vt,Lt,Kt,hn,gn){const Rn=Ut.context,Tn=[_t.dynamicLayoutVertexBuffer,_t.opacityVertexBuffer,_t.globeExtVertexBuffer];Vt.draw(Rn,Rn.gl.TRIANGLES,Lt,Kt,hn,j.CullFaceMode.disabled,gn,ht.id,_t.layoutVertexBuffer,_t.indexBuffer,st,ht.paint,Ut.transform.zoom,_t.programConfigurations.get(ht.id),Tn)}function Jo(_t,st,ht,Ut,Vt,Lt,Kt){const hn=_t.context.gl,gn=ht.paint.get("fill-pattern"),Rn=gn&&gn.constantOr(1),Tn=ht.getCrossfadeParameters();let Dn,zn,or,er,ar;Kt?(zn=Rn&&!ht.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Dn=hn.LINES):(zn=Rn?"fillPattern":"fill",Dn=hn.TRIANGLES);for(const Yn of Ut){const $n=st.getTile(Yn);if(Rn&&!$n.patternsLoaded())continue;const cr=$n.getBucket(ht);if(!cr)continue;_t.prepareDrawTile();const tr=cr.programConfigurations.get(ht.id),yr=_t.useProgram(zn,tr);Rn&&(_t.context.activeTexture.set(hn.TEXTURE0),$n.imageAtlasTexture.bind(hn.LINEAR,hn.CLAMP_TO_EDGE),tr.updatePaintBuffers(Tn));const br=gn.constantOr(null);if(br&&$n.imageAtlas){const Sr=$n.imageAtlas,Ar=Sr.patternPositions[br.to.toString()],Wr=Sr.patternPositions[br.from.toString()];Ar&&Wr&&tr.setConstantPatternPositions(Ar,Wr)}const ur=_t.translatePosMatrix(Yn.projMatrix,$n,ht.paint.get("fill-translate"),ht.paint.get("fill-translate-anchor"));if(Kt){er=cr.indexBuffer2,ar=cr.segments2;const Sr=_t.terrain&&_t.terrain.renderingToTexture?_t.terrain.drapeBufferSize:[hn.drawingBufferWidth,hn.drawingBufferHeight];or=zn==="fillOutlinePattern"&&Rn?Dy(ur,_t,Tn,$n,Sr):m0(ur,Sr)}else er=cr.indexBuffer,ar=cr.segments,or=Rn?Fu(ur,_t,Tn,$n):Vy(ur);_t.prepareDrawProgram(_t.context,yr,Yn.toUnwrapped()),yr.draw(_t.context,Dn,Vt,_t.stencilModeForClipping(Yn),Lt,j.CullFaceMode.disabled,or,ht.id,cr.layoutVertexBuffer,er,ar,ht.paint,_t.transform.zoom,tr)}}function ys(_t,st,ht,Ut,Vt,Lt,Kt){const hn=_t.context,gn=hn.gl,Rn=_t.transform,Tn=ht.paint.get("fill-extrusion-pattern"),Dn=Tn.constantOr(1),zn=ht.getCrossfadeParameters(),or=ht.paint.get("fill-extrusion-opacity"),er=[ht.paint.get("fill-extrusion-ambient-occlusion-intensity"),ht.paint.get("fill-extrusion-ambient-occlusion-radius")],ar=ht.layout.get("fill-extrusion-edge-radius"),Yn=Rn.projection.name==="globe"?j.fillExtrusionHeightLift():0,$n=Rn.projection.name==="globe",cr=$n?j.globeToMercatorTransition(Rn.zoom):0,tr=[j.mercatorXfromLng(Rn.center.lng),j.mercatorYfromLat(Rn.center.lat)],yr=[];$n&&(yr.push("PROJECTION_GLOBE_VIEW"),_t.style.terrainSetForDrapingOnly()&&yr.push("TERRAIN")),er[0]>0&&yr.push("FAUX_AO");for(const br of Ut){const ur=st.getTile(br),Sr=ur.getBucket(ht);if(!Sr||Sr.projection.name!==Rn.projection.name)continue;const Ar=Sr.programConfigurations.get(ht.id),Wr=_t.useProgram(Dn?"fillExtrusionPattern":"fillExtrusion",Ar,yr);if(_t.terrain){const Br=_t.terrain;if(_t.style.terrainSetForDrapingOnly())Br.setupElevationDraw(ur,Wr,{useMeterToDem:!0});else{if(!Sr.enableTerrain)continue;if(Br.setupElevationDraw(ur,Wr,{useMeterToDem:!0}),Js(hn,st,br,Sr,ht,Br),!Sr.centroidVertexBuffer){const So=Wr.attributes.a_centroid_pos;So!==void 0&&gn.vertexAttrib2f(So,0,0)}}}Dn&&(_t.context.activeTexture.set(gn.TEXTURE0),ur.imageAtlasTexture.bind(gn.LINEAR,gn.CLAMP_TO_EDGE),Ar.updatePaintBuffers(zn));const Pr=Tn.constantOr(null);if(Pr&&ur.imageAtlas){const Br=ur.imageAtlas,So=Br.patternPositions[Pr.to.toString()],yo=Br.patternPositions[Pr.from.toString()];So&&yo&&Ar.setConstantPatternPositions(So,yo)}const ho=_t.translatePosMatrix(br.projMatrix,ur,ht.paint.get("fill-extrusion-translate"),ht.paint.get("fill-extrusion-translate-anchor")),xr=Rn.projection.createInversionMatrix(Rn,br.canonical),_i=ht.paint.get("fill-extrusion-vertical-gradient"),eo=Dn?U_(ho,_t,_i,or,er,ar,br,zn,ur,Yn,cr,tr,xr):ty(ho,_t,_i,or,er,ar,br,Yn,cr,tr,xr);_t.prepareDrawProgram(hn,Wr,br.toUnwrapped());const Vr=[];_t.terrain&&Vr.push(Sr.centroidVertexBuffer),$n&&Vr.push(Sr.layoutVertexExtBuffer),Wr.draw(hn,hn.gl.TRIANGLES,Vt,Lt,Kt,j.CullFaceMode.backCCW,eo,ht.id,Sr.layoutVertexBuffer,Sr.indexBuffer,Sr.segments,ht.paint,_t.transform.zoom,Ar,Vr)}}function Js(_t,st,ht,Ut,Vt,Lt){const Kt=[$n=>{let cr=$n.canonical.x-1,tr=$n.wrap;return cr<0&&(cr=(1<<$n.canonical.z)-1,tr--),new j.OverscaledTileID($n.overscaledZ,tr,$n.canonical.z,cr,$n.canonical.y)},$n=>{let cr=$n.canonical.x+1,tr=$n.wrap;return cr===1<<$n.canonical.z&&(cr=0,tr++),new j.OverscaledTileID($n.overscaledZ,tr,$n.canonical.z,cr,$n.canonical.y)},$n=>new j.OverscaledTileID($n.overscaledZ,$n.wrap,$n.canonical.z,$n.canonical.x,($n.canonical.y===0?1<<$n.canonical.z:$n.canonical.y)-1),$n=>new j.OverscaledTileID($n.overscaledZ,$n.wrap,$n.canonical.z,$n.canonical.x,$n.canonical.y===(1<<$n.canonical.z)-1?0:$n.canonical.y+1)],hn=$n=>{const cr=st.getSource().minzoom,tr=br=>{const ur=st.getTileByID(br);if(ur&&ur.hasData())return ur.getBucket(Vt)},yr=[0,-1,1];for(const br of yr){if($n.overscaledZ+br<cr)continue;const ur=tr($n.calculateScaledKey($n.overscaledZ+br));if(ur)return ur}},gn=[0,0,0],Rn=($n,cr)=>(gn[0]=Math.min($n.min.y,cr.min.y),gn[1]=Math.max($n.max.y,cr.max.y),gn[2]=j.EXTENT-cr.min.x>$n.max.x?cr.min.x-j.EXTENT:$n.max.x,gn),Tn=($n,cr)=>(gn[0]=Math.min($n.min.x,cr.min.x),gn[1]=Math.max($n.max.x,cr.max.x),gn[2]=j.EXTENT-cr.min.y>$n.max.y?cr.min.y-j.EXTENT:$n.max.y,gn),Dn=[($n,cr)=>Rn($n,cr),($n,cr)=>Rn(cr,$n),($n,cr)=>Tn($n,cr),($n,cr)=>Tn(cr,$n)],zn=new j.pointGeometry(0,0);let or,er,ar;const Yn=($n,cr,tr,yr,br)=>{const ur=[[yr?tr:$n,yr?$n:tr,0],[yr?tr:cr,yr?cr:tr,0]],Sr=br<0?j.EXTENT+br:br,Ar=[yr?Sr:($n+cr)/2,yr?($n+cr)/2:Sr,0];return tr===0&&br<0||tr!==0&&br>0?Lt.getForTilePoints(ar,[Ar],!0,er):ur.push(Ar),Lt.getForTilePoints(ht,ur,!0,or),Math.max(ur[0][2],ur[1][2],Ar[2])/Lt.exaggeration()};for(let $n=0;$n<4;$n++){const cr=($n<2?1:5)-$n,tr=Ut.borders[$n];if(tr.length===0)continue;const yr=ar=Kt[$n](ht),br=hn(yr);if(!(br&&br instanceof j.FillExtrusionBucket&&br.enableTerrain)||Ut.borderDoneWithNeighborZ[$n]===br.canonical.z&&br.borderDoneWithNeighborZ[cr]===Ut.canonical.z||(er=Lt.findDEMTileFor(yr),!er||!er.dem))continue;if(!or){const Wr=Lt.findDEMTileFor(ht);if(!Wr||!Wr.dem)return;or=Wr}const ur=br.borders[cr];let Sr=0;const Ar=br.borderDoneWithNeighborZ[cr]!==Ut.canonical.z;if(Ut.canonical.z===br.canonical.z){for(let Wr=0;Wr<tr.length;Wr++){const Pr=Ut.featuresOnBorder[tr[Wr]],ho=Pr.borders[$n];let xr;for(;Sr<ur.length&&(xr=br.featuresOnBorder[ur[Sr]],!(xr.borders[cr][1]>ho[0]+3));)Ar&&br.encodeCentroid(void 0,xr,!1),Sr++;if(xr&&Sr<ur.length){const _i=Sr;let eo=0;for(;!(xr.borders[cr][0]>ho[1]-3)&&(eo++,++Sr!==ur.length);)xr=br.featuresOnBorder[ur[Sr]];if(xr=br.featuresOnBorder[ur[_i]],Pr.intersectsCount()>1||xr.intersectsCount()>1||eo!==1){eo!==1&&(Sr=_i),Ut.encodeCentroid(void 0,Pr,!1),Ar&&br.encodeCentroid(void 0,xr,!1);continue}const Vr=Dn[$n](Pr,xr),Br=$n%2?j.EXTENT-1:0;zn.x=Yn(Vr[0],Math.min(j.EXTENT-1,Vr[1]),Br,$n<2,Vr[2]),zn.y=0,Ut.encodeCentroid(zn,Pr,!1),Ar&&br.encodeCentroid(zn,xr,!1)}else Ut.encodeCentroid(void 0,Pr,!1)}Ut.borderDoneWithNeighborZ[$n]=br.canonical.z,Ut.needsCentroidUpdate=!0,Ar&&(br.borderDoneWithNeighborZ[cr]=Ut.canonical.z,br.needsCentroidUpdate=!0)}else{for(const Wr of tr)Ut.encodeCentroid(void 0,Ut.featuresOnBorder[Wr],!1);if(Ar){for(const Wr of ur)br.encodeCentroid(void 0,br.featuresOnBorder[Wr],!1);br.borderDoneWithNeighborZ[cr]=Ut.canonical.z,br.needsCentroidUpdate=!0}Ut.borderDoneWithNeighborZ[$n]=br.canonical.z,Ut.needsCentroidUpdate=!0}}(Ut.needsCentroidUpdate||!Ut.centroidVertexBuffer&&Ut.centroidVertexArray.length!==0)&&Ut.uploadCentroid(_t)}const Vl=new j.Color(1,0,0,1),$a=new j.Color(0,1,0,1),S0=new j.Color(0,0,1,1),yv=new j.Color(1,0,1,1),Cu=new j.Color(0,1,1,1);function Qp(_t,st,ht){const Ut=_t.context,Vt=_t.transform,Lt=Ut.gl,Kt=Vt.projection.name==="globe",hn=Kt?["PROJECTION_GLOBE_VIEW"]:null;let gn=ht.projMatrix;if(Kt&&j.globeToMercatorTransition(Vt.zoom)>0){const Pr=j.transitionTileAABBinECEF(ht.canonical,Vt),ho=j.globeDenormalizeECEF(Pr);gn=j.multiply(new Float32Array(16),Vt.globeMatrix,ho),j.multiply(gn,Vt.projMatrix,gn)}const Rn=_t.useProgram("debug",null,hn),Tn=st.getTileByID(ht.key);_t.terrain&&_t.terrain.setupElevationDraw(Tn,Rn);const Dn=j.DepthMode.disabled,zn=j.StencilMode.disabled,or=_t.colorModeForRenderPass(),er="$debug";Ut.activeTexture.set(Lt.TEXTURE0),_t.emptyTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),Kt?Tn._makeGlobeTileDebugBuffers(_t.context,Vt):Tn._makeDebugTileBoundsBuffers(_t.context,Vt.projection);const ar=Tn._tileDebugBuffer||_t.debugBuffer,Yn=Tn._tileDebugIndexBuffer||_t.debugIndexBuffer,$n=Tn._tileDebugSegments||_t.debugSegments;Rn.draw(Ut,Lt.LINE_STRIP,Dn,zn,or,j.CullFaceMode.disabled,_0(gn,j.Color.red),er,ar,Yn,$n,null,null,null,[Tn._globeTileDebugBorderBuffer]);const cr=Tn.latestRawTileData,tr=Math.floor((cr&&cr.byteLength||0)/1024),yr=st.getTile(ht).tileSize,br=512/Math.min(yr,512)*(ht.overscaledZ/Vt.zoom)*.5;let ur=ht.canonical.toString();ht.overscaledZ!==ht.canonical.z&&(ur+=` => ${ht.overscaledZ}`),ur+=` ${tr}kb`,function(Pr,ho){Pr.initDebugOverlayCanvas();const xr=Pr.debugOverlayCanvas,_i=Pr.context.gl,eo=Pr.debugOverlayCanvas.getContext("2d");eo.clearRect(0,0,xr.width,xr.height),eo.shadowColor="white",eo.shadowBlur=2,eo.lineWidth=1.5,eo.strokeStyle="white",eo.textBaseline="top",eo.font="bold 36px Open Sans, sans-serif",eo.fillText(ho,5,5),eo.strokeText(ho,5,5),Pr.debugOverlayTexture.update(xr),Pr.debugOverlayTexture.bind(_i.LINEAR,_i.CLAMP_TO_EDGE)}(_t,ur);const Sr=Tn._tileDebugTextBuffer||_t.debugBuffer,Ar=Tn._tileDebugTextIndexBuffer||_t.quadTriangleIndexBuffer,Wr=Tn._tileDebugTextSegments||_t.debugSegments;Rn.draw(Ut,Lt.TRIANGLES,Dn,zn,j.ColorMode.alphaBlended,j.CullFaceMode.disabled,_0(gn,j.Color.transparent,br),er,Sr,Ar,Wr,null,null,null,[Tn._globeTileDebugTextBuffer])}function ly(_t,st,ht,Ut){Xu(_t,0,st+ht/2,_t.transform.width,ht,Ut)}function fm(_t,st,ht,Ut){Xu(_t,st-ht/2,0,ht,_t.transform.height,Ut)}function Xu(_t,st,ht,Ut,Vt,Lt){const Kt=_t.context,hn=Kt.gl;hn.enable(hn.SCISSOR_TEST),hn.scissor(st*j.exported.devicePixelRatio,ht*j.exported.devicePixelRatio,Ut*j.exported.devicePixelRatio,Vt*j.exported.devicePixelRatio),Kt.clear({color:Lt}),hn.disable(hn.SCISSOR_TEST)}const Gp=j.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Ys}=Gp;function xp(_t,st,ht,Ut){_t.emplaceBack(st,ht,Ut)}class Ns{constructor(st){this.vertexArray=new j.StructArrayLayout3f12,this.indices=new j.StructArrayLayout3ui6,xp(this.vertexArray,-1,-1,1),xp(this.vertexArray,1,-1,1),xp(this.vertexArray,-1,1,1),xp(this.vertexArray,1,1,1),xp(this.vertexArray,-1,-1,-1),xp(this.vertexArray,1,-1,-1),xp(this.vertexArray,-1,1,-1),xp(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=st.createVertexBuffer(this.vertexArray,Ys),this.indexBuffer=st.createIndexBuffer(this.indices),this.segment=j.SegmentVector.simpleSegment(0,0,36,12)}}function qu(_t,st,ht,Ut,Vt,Lt){const Kt=_t.gl,hn=st.paint.get("sky-atmosphere-color"),gn=st.paint.get("sky-atmosphere-halo-color"),Rn=st.paint.get("sky-atmosphere-sun-intensity"),Tn=((Dn,zn,or,er,ar)=>({u_matrix_3f:Dn,u_sun_direction:zn,u_sun_intensity:or,u_color_tint_r:[er.r,er.g,er.b,er.a],u_color_tint_m:[ar.r,ar.g,ar.b,ar.a],u_luminance:5e-5}))(j.fromMat4(j.create$1(),Ut),Vt,Rn,hn,gn);Kt.framebufferTexture2D(Kt.FRAMEBUFFER,Kt.COLOR_ATTACHMENT0,Kt.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,st.skyboxTexture,0),ht.draw(_t,Kt.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,j.ColorMode.unblended,j.CullFaceMode.frontCW,Tn,"skyboxCapture",st.skyboxGeometry.vertexBuffer,st.skyboxGeometry.indexBuffer,st.skyboxGeometry.segment)}const AU=j.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class _v{constructor(st){const ht=new j.StructArrayLayout5f20;ht.emplaceBack(-1,1,1,0,0),ht.emplaceBack(1,1,1,1,0),ht.emplaceBack(1,-1,1,1,1),ht.emplaceBack(-1,-1,1,0,1);const Ut=new j.StructArrayLayout3ui6;Ut.emplaceBack(0,1,2),Ut.emplaceBack(2,3,0),this.vertexBuffer=st.createVertexBuffer(ht,AU.members),this.indexBuffer=st.createIndexBuffer(Ut),this.segments=j.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const cy={symbol:function(_t,st,ht,Ut,Vt){if(_t.renderPass!=="translucent")return;const Lt=j.StencilMode.disabled,Kt=_t.colorModeForRenderPass();ht.layout.get("text-variable-anchor")&&function(hn,gn,Rn,Tn,Dn,zn,or){const er=gn.transform,ar=Dn==="map",Yn=zn==="map";for(const $n of hn){const cr=Tn.getTile($n),tr=cr.getBucket(Rn);if(!tr||!tr.text||!tr.text.segments.get().length)continue;const yr=j.evaluateSizeForZoom(tr.textSizeData,er.zoom),br=yl($n,tr.getProjection(),er),ur=er.calculatePixelsToTileUnitsMatrix(cr),Sr=Ql(br,cr.tileID.canonical,Yn,ar,er,tr.getProjection(),ur),Ar=Rn.layout.get("icon-text-fit")!=="none"&&tr.hasIconData();if(yr){const Wr=Math.pow(2,er.zoom-cr.tileID.overscaledZ);ay(tr,ar,Yn,or,j.symbolSize,er,Sr,$n,Wr,yr,Ar)}}}(Ut,_t,ht,st,ht.layout.get("text-rotation-alignment"),ht.layout.get("text-pitch-alignment"),Vt),ht.paint.get("icon-opacity").constantOr(1)!==0&&oo(_t,st,ht,Ut,!1,ht.paint.get("icon-translate"),ht.paint.get("icon-translate-anchor"),ht.layout.get("icon-rotation-alignment"),ht.layout.get("icon-pitch-alignment"),ht.layout.get("icon-keep-upright"),Lt,Kt),ht.paint.get("text-opacity").constantOr(1)!==0&&oo(_t,st,ht,Ut,!0,ht.paint.get("text-translate"),ht.paint.get("text-translate-anchor"),ht.layout.get("text-rotation-alignment"),ht.layout.get("text-pitch-alignment"),ht.layout.get("text-keep-upright"),Lt,Kt),st.map.showCollisionBoxes&&(E_(_t,st,ht,Ut,ht.paint.get("text-translate"),ht.paint.get("text-translate-anchor"),!0),E_(_t,st,ht,Ut,ht.paint.get("icon-translate"),ht.paint.get("icon-translate-anchor"),!1))},circle:function(_t,st,ht,Ut){if(_t.renderPass!=="translucent")return;const Vt=ht.paint.get("circle-opacity"),Lt=ht.paint.get("circle-stroke-width"),Kt=ht.paint.get("circle-stroke-opacity"),hn=ht.layout.get("circle-sort-key").constantOr(1)!==void 0;if(Vt.constantOr(1)===0&&(Lt.constantOr(1)===0||Kt.constantOr(1)===0))return;const gn=_t.context,Rn=gn.gl,Tn=_t.transform,Dn=_t.depthModeForSublayer(0,j.DepthMode.ReadOnly),zn=j.StencilMode.disabled,or=_t.colorModeForRenderPass(),er=Tn.projection.name==="globe",ar=[j.mercatorXfromLng(Tn.center.lng),j.mercatorYfromLat(Tn.center.lat)],Yn=[];for(let cr=0;cr<Ut.length;cr++){const tr=Ut[cr],yr=st.getTile(tr),br=yr.getBucket(ht);if(!br||br.projection.name!==Tn.projection.name)continue;const ur=br.programConfigurations.get(ht.id),Sr=pv(ht);er&&Sr.push("PROJECTION_GLOBE_VIEW");const Ar=_t.useProgram("circle",ur,Sr),Wr=br.layoutVertexBuffer,Pr=br.globeExtVertexBuffer,ho=br.indexBuffer,xr=Tn.projection.createInversionMatrix(Tn,tr.canonical),_i={programConfiguration:ur,program:Ar,layoutVertexBuffer:Wr,globeExtVertexBuffer:Pr,indexBuffer:ho,uniformValues:ry(_t,tr,yr,xr,ar,ht),tile:yr};if(hn){const eo=br.segments.get();for(const Vr of eo)Yn.push({segments:new j.SegmentVector([Vr]),sortKey:Vr.sortKey,state:_i})}else Yn.push({segments:br.segments,sortKey:0,state:_i})}hn&&Yn.sort((cr,tr)=>cr.sortKey-tr.sortKey);const $n={useDepthForOcclusion:!er};for(const cr of Yn){const{programConfiguration:tr,program:yr,layoutVertexBuffer:br,globeExtVertexBuffer:ur,indexBuffer:Sr,uniformValues:Ar,tile:Wr}=cr.state,Pr=cr.segments;_t.terrain&&_t.terrain.setupElevationDraw(Wr,yr,$n),_t.prepareDrawProgram(gn,yr,Wr.tileID.toUnwrapped()),yr.draw(gn,Rn.TRIANGLES,Dn,zn,or,j.CullFaceMode.disabled,Ar,ht.id,br,Sr,Pr,ht.paint,Tn.zoom,tr,[ur])}},heatmap:function(_t,st,ht,Ut){if(ht.paint.get("heatmap-opacity")!==0)if(_t.renderPass==="offscreen"){const Vt=_t.context,Lt=Vt.gl,Kt=j.StencilMode.disabled,hn=new j.ColorMode([Lt.ONE,Lt.ONE],j.Color.transparent,[!0,!0,!0,!0]);(function(or,er,ar,Yn){const $n=or.gl,cr=er.width*Yn,tr=er.height*Yn;or.activeTexture.set($n.TEXTURE1),or.viewport.set([0,0,cr,tr]);let yr=ar.heatmapFbo;if(!yr||yr&&(yr.width!==cr||yr.height!==tr)){yr&&yr.destroy();const br=$n.createTexture();$n.bindTexture($n.TEXTURE_2D,br),$n.texParameteri($n.TEXTURE_2D,$n.TEXTURE_WRAP_S,$n.CLAMP_TO_EDGE),$n.texParameteri($n.TEXTURE_2D,$n.TEXTURE_WRAP_T,$n.CLAMP_TO_EDGE),$n.texParameteri($n.TEXTURE_2D,$n.TEXTURE_MIN_FILTER,$n.LINEAR),$n.texParameteri($n.TEXTURE_2D,$n.TEXTURE_MAG_FILTER,$n.LINEAR),yr=ar.heatmapFbo=or.createFramebuffer(cr,tr,!1),function(ur,Sr,Ar,Wr,Pr,ho){const xr=ur.gl;xr.texImage2D(xr.TEXTURE_2D,0,xr.RGBA,Pr,ho,0,xr.RGBA,ur.extRenderToTextureHalfFloat?ur.extTextureHalfFloat.HALF_FLOAT_OES:xr.UNSIGNED_BYTE,null),Wr.colorAttachment.set(Ar)}(or,0,br,yr,cr,tr)}else $n.bindTexture($n.TEXTURE_2D,yr.colorAttachment.get()),or.bindFramebuffer.set(yr.framebuffer)})(Vt,_t,ht,_t.transform.projection.name==="globe"?.5:.25),Vt.clear({color:j.Color.transparent});const gn=_t.transform,Rn=gn.projection.name==="globe",Tn=Rn?["PROJECTION_GLOBE_VIEW"]:null,Dn=Rn?j.CullFaceMode.frontCCW:j.CullFaceMode.disabled,zn=[j.mercatorXfromLng(gn.center.lng),j.mercatorYfromLat(gn.center.lat)];for(let or=0;or<Ut.length;or++){const er=Ut[or];if(st.hasRenderableParent(er))continue;const ar=st.getTile(er),Yn=ar.getBucket(ht);if(!Yn||Yn.projection.name!==gn.projection.name)continue;const $n=Yn.programConfigurations.get(ht.id),cr=_t.useProgram("heatmap",$n,Tn),{zoom:tr}=_t.transform;_t.terrain&&_t.terrain.setupElevationDraw(ar,cr),_t.prepareDrawProgram(Vt,cr,er.toUnwrapped());const yr=gn.projection.createInversionMatrix(gn,er.canonical);cr.draw(Vt,Lt.TRIANGLES,j.DepthMode.disabled,Kt,hn,Dn,F_(_t,er,ar,yr,zn,tr,ht.paint.get("heatmap-intensity")),ht.id,Yn.layoutVertexBuffer,Yn.indexBuffer,Yn.segments,ht.paint,_t.transform.zoom,$n,Rn?[Yn.globeExtVertexBuffer]:null)}Vt.viewport.set([0,0,_t.width,_t.height])}else _t.renderPass==="translucent"&&(_t.context.setColorMode(_t.colorModeForRenderPass()),function(Vt,Lt){const Kt=Vt.context,hn=Kt.gl,gn=Lt.heatmapFbo;if(!gn)return;Kt.activeTexture.set(hn.TEXTURE0),hn.bindTexture(hn.TEXTURE_2D,gn.colorAttachment.get()),Kt.activeTexture.set(hn.TEXTURE1);let Rn=Lt.colorRampTexture;Rn||(Rn=Lt.colorRampTexture=new j.Texture(Kt,Lt.colorRamp,hn.RGBA)),Rn.bind(hn.LINEAR,hn.CLAMP_TO_EDGE),Vt.useProgram("heatmapTexture").draw(Kt,hn.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,Vt.colorModeForRenderPass(),j.CullFaceMode.disabled,((Tn,Dn,zn,or)=>({u_image:0,u_color_ramp:1,u_opacity:Dn.paint.get("heatmap-opacity")}))(0,Lt),Lt.id,Vt.viewportBuffer,Vt.quadTriangleIndexBuffer,Vt.viewportSegments,Lt.paint,Vt.transform.zoom)}(_t,ht))},line:function(_t,st,ht,Ut){if(_t.renderPass!=="translucent")return;const Vt=ht.paint.get("line-opacity"),Lt=ht.paint.get("line-width");if(Vt.constantOr(1)===0||Lt.constantOr(1)===0)return;const Kt=_t.depthModeForSublayer(0,j.DepthMode.ReadOnly),hn=_t.colorModeForRenderPass(),gn=_t.terrain&&_t.terrain.renderingToTexture?1:j.exported.devicePixelRatio,Rn=ht.paint.get("line-dasharray"),Tn=Rn.constantOr(1),Dn=ht.layout.get("line-cap"),zn=ht.paint.get("line-pattern"),or=zn.constantOr(1),er=ht.paint.get("line-gradient"),ar=ht.getCrossfadeParameters(),Yn=or?"linePattern":"line",$n=_t.context,cr=$n.gl,tr=(br=>{const ur=[];w_(br)&&ur.push("RENDER_LINE_DASH"),br.paint.get("line-gradient")&&ur.push("RENDER_LINE_GRADIENT");const Sr=br.paint.get("line-trim-offset");Sr[0]===0&&Sr[1]===0||ur.push("RENDER_LINE_TRIM_OFFSET");const Ar=br.paint.get("line-pattern").constantOr(1),Wr=br.paint.get("line-opacity").constantOr(1)!==1;return!Ar&&Wr&&ur.push("RENDER_LINE_ALPHA_DISCARD"),ur})(ht);let yr=tr.includes("RENDER_LINE_ALPHA_DISCARD");_t.terrain&&_t.terrain.clipOrMaskOverlapStencilType()&&(yr=!1);for(const br of Ut){const ur=st.getTile(br);if(or&&!ur.patternsLoaded())continue;const Sr=ur.getBucket(ht);if(!Sr)continue;_t.prepareDrawTile();const Ar=Sr.programConfigurations.get(ht.id),Wr=_t.useProgram(Yn,Ar,tr),Pr=zn.constantOr(null);if(Pr&&ur.imageAtlas){const yo=ur.imageAtlas,bo=yo.patternPositions[Pr.to.toString()],_o=yo.patternPositions[Pr.from.toString()];bo&&_o&&Ar.setConstantPatternPositions(bo,_o)}const ho=Rn.constantOr(null),xr=Dn.constantOr(null);if(!or&&ho&&xr&&ur.lineAtlas){const yo=ur.lineAtlas,bo=yo.getDash(ho.to,xr),_o=yo.getDash(ho.from,xr);bo&&_o&&Ar.setConstantPatternPositions(bo,_o)}let[_i,eo]=ht.paint.get("line-trim-offset");(xr==="round"||xr==="square")&&_i!==eo&&(_i===0&&(_i-=1),eo===1&&(eo+=1));const Vr=_t.terrain?br.projMatrix:null,Br=or?S_(_t,ur,ht,ar,Vr,gn):Dm(_t,ur,ht,ar,Vr,Sr.lineClipsArray.length,gn,[_i,eo]);if(er){const yo=Sr.gradients[ht.id];let bo=yo.texture;if(ht.gradientVersion!==yo.version){let _o=256;if(ht.stepInterpolant){const Oo=st.getSource().maxzoom,Ho=br.canonical.z===Oo?Math.ceil(1<<_t.transform.maxZoom-br.canonical.z):1;_o=j.clamp(j.nextPowerOfTwo(Sr.maxLineLength/j.EXTENT*1024*Ho),256,$n.maxTextureSize)}yo.gradient=j.renderColorRamp({expression:ht.gradientExpression(),evaluationKey:"lineProgress",resolution:_o,image:yo.gradient||void 0,clips:Sr.lineClipsArray}),yo.texture?yo.texture.update(yo.gradient):yo.texture=new j.Texture($n,yo.gradient,cr.RGBA),yo.version=ht.gradientVersion,bo=yo.texture}$n.activeTexture.set(cr.TEXTURE1),bo.bind(ht.stepInterpolant?cr.NEAREST:cr.LINEAR,cr.CLAMP_TO_EDGE)}Tn&&($n.activeTexture.set(cr.TEXTURE0),ur.lineAtlasTexture.bind(cr.LINEAR,cr.REPEAT),Ar.updatePaintBuffers(ar)),or&&($n.activeTexture.set(cr.TEXTURE0),ur.imageAtlasTexture.bind(cr.LINEAR,cr.CLAMP_TO_EDGE),Ar.updatePaintBuffers(ar)),_t.prepareDrawProgram($n,Wr,br.toUnwrapped());const So=yo=>{Wr.draw($n,cr.TRIANGLES,Kt,yo,hn,j.CullFaceMode.disabled,Br,ht.id,Sr.layoutVertexBuffer,Sr.indexBuffer,Sr.segments,ht.paint,_t.transform.zoom,Ar,[Sr.layoutVertexBuffer2])};if(yr){const yo=_t.stencilModeForClipping(br).ref;yo===0&&_t.terrain&&$n.clear({stencil:0});const bo={func:cr.EQUAL,mask:255};Br.u_alpha_discard_threshold=.8,So(new j.StencilMode(bo,yo,255,cr.KEEP,cr.KEEP,cr.INVERT)),Br.u_alpha_discard_threshold=0,So(new j.StencilMode(bo,yo,255,cr.KEEP,cr.KEEP,cr.KEEP))}else So(_t.stencilModeForClipping(br))}yr&&(_t.resetStencilClippingMasks(),_t.terrain&&$n.clear({stencil:0}))},fill:function(_t,st,ht,Ut){const Vt=ht.paint.get("fill-color"),Lt=ht.paint.get("fill-opacity");if(Lt.constantOr(1)===0)return;const Kt=_t.colorModeForRenderPass(),hn=ht.paint.get("fill-pattern"),gn=_t.opaquePassEnabledForLayer()&&!hn.constantOr(1)&&Vt.constantOr(j.Color.transparent).a===1&&Lt.constantOr(0)===1?"opaque":"translucent";if(_t.renderPass===gn){const Rn=_t.depthModeForSublayer(1,_t.renderPass==="opaque"?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly);Jo(_t,st,ht,Ut,Rn,Kt,!1)}if(_t.renderPass==="translucent"&&ht.paint.get("fill-antialias")){const Rn=_t.depthModeForSublayer(ht.getPaintProperty("fill-outline-color")?2:0,j.DepthMode.ReadOnly);Jo(_t,st,ht,Ut,Rn,Kt,!0)}},"fill-extrusion":function(_t,st,ht,Ut){const Vt=ht.paint.get("fill-extrusion-opacity");if(Vt!==0&&_t.renderPass==="translucent"){const Lt=new j.DepthMode(_t.context.gl.LEQUAL,j.DepthMode.ReadWrite,_t.depthRangeFor3D);if(Vt!==1||ht.paint.get("fill-extrusion-pattern").constantOr(1))ys(_t,st,ht,Ut,Lt,j.StencilMode.disabled,j.ColorMode.disabled),ys(_t,st,ht,Ut,Lt,_t.stencilModeFor3D(),_t.colorModeForRenderPass()),_t.resetStencilClippingMasks();else{const Kt=_t.colorModeForRenderPass();ys(_t,st,ht,Ut,Lt,j.StencilMode.disabled,Kt)}}},hillshade:function(_t,st,ht,Ut){if(_t.renderPass!=="offscreen"&&_t.renderPass!=="translucent")return;const Vt=_t.context,Lt=_t.depthModeForSublayer(0,j.DepthMode.ReadOnly),Kt=_t.colorModeForRenderPass(),hn=_t.terrain&&_t.terrain.renderingToTexture,[gn,Rn]=_t.renderPass!=="translucent"||hn?[{},Ut]:_t.stencilConfigForOverlap(Ut);for(const Tn of Rn){const Dn=st.getTile(Tn);if(Dn.needsHillshadePrepare&&_t.renderPass==="offscreen")d0(_t,Dn,ht,Lt,j.StencilMode.disabled,Kt);else if(_t.renderPass==="translucent"){const zn=hn&&_t.terrain?_t.terrain.stencilModeForRTTOverlap(Tn):gn[Tn.overscaledZ];_l(_t,Tn,Dn,ht,Lt,zn,Kt)}}Vt.viewport.set([0,0,_t.width,_t.height]),_t.resetStencilClippingMasks()},raster:function(_t,st,ht,Ut,Vt,Lt){if(_t.renderPass!=="translucent"||ht.paint.get("raster-opacity")===0||!Ut.length)return;const Kt=_t.context,hn=Kt.gl,gn=st.getSource(),Rn=_t.useProgram("raster"),Tn=_t.colorModeForRenderPass(),Dn=_t.terrain&&_t.terrain.renderingToTexture,[zn,or]=gn instanceof hr||Dn?[{},Ut]:_t.stencilConfigForOverlap(Ut),er=or[or.length-1].overscaledZ,ar=!_t.options.moving;for(const Yn of or){const $n=Dn?j.DepthMode.disabled:_t.depthModeForSublayer(Yn.overscaledZ-er,ht.paint.get("raster-opacity")===1?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly,hn.LESS),cr=Yn.toUnwrapped(),tr=st.getTile(Yn);if(Dn&&(!tr||!tr.hasData()))continue;const yr=Dn?Yn.projMatrix:_t.transform.calculateProjMatrix(cr,ar),br=_t.terrain&&Dn?_t.terrain.stencilModeForRTTOverlap(Yn):zn[Yn.overscaledZ],ur=Lt?0:ht.paint.get("raster-fade-duration");tr.registerFadeDuration(ur);const Sr=st.findLoadedParent(Yn,0),Ar=y_(tr,Sr,st,_t.transform,ur);let Wr,Pr;_t.terrain&&_t.terrain.prepareDrawTile();const ho=ht.paint.get("raster-resampling")==="nearest"?hn.NEAREST:hn.LINEAR;Kt.activeTexture.set(hn.TEXTURE0),tr.texture.bind(ho,hn.CLAMP_TO_EDGE),Kt.activeTexture.set(hn.TEXTURE1),Sr?(Sr.texture.bind(ho,hn.CLAMP_TO_EDGE),Wr=Math.pow(2,Sr.tileID.overscaledZ-tr.tileID.overscaledZ),Pr=[tr.tileID.canonical.x*Wr%1,tr.tileID.canonical.y*Wr%1]):tr.texture.bind(ho,hn.CLAMP_TO_EDGE);const xr=Tp(yr,Pr||[0,0],Wr||1,Ar,ht,gn instanceof hr?gn.perspectiveTransform:[0,0]);if(_t.prepareDrawProgram(Kt,Rn,cr),gn instanceof hr)gn.boundsBuffer&&gn.boundsSegments&&Rn.draw(Kt,hn.TRIANGLES,$n,j.StencilMode.disabled,Tn,j.CullFaceMode.disabled,xr,ht.id,gn.boundsBuffer,_t.quadTriangleIndexBuffer,gn.boundsSegments);else{const{tileBoundsBuffer:_i,tileBoundsIndexBuffer:eo,tileBoundsSegments:Vr}=_t.getTileBoundsBuffers(tr);Rn.draw(Kt,hn.TRIANGLES,$n,br,Tn,j.CullFaceMode.disabled,xr,ht.id,_i,eo,Vr)}}_t.resetStencilClippingMasks()},background:function(_t,st,ht,Ut){const Vt=ht.paint.get("background-color"),Lt=ht.paint.get("background-opacity");if(Lt===0)return;const Kt=_t.context,hn=Kt.gl,gn=_t.transform,Rn=gn.tileSize,Tn=ht.paint.get("background-pattern");if(_t.isPatternMissing(Tn))return;const Dn=!Tn&&Vt.a===1&&Lt===1&&_t.opaquePassEnabledForLayer()?"opaque":"translucent";if(_t.renderPass!==Dn)return;const zn=j.StencilMode.disabled,or=_t.depthModeForSublayer(0,Dn==="opaque"?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly),er=_t.colorModeForRenderPass(),ar=_t.useProgram(Tn?"backgroundPattern":"background");let Yn,$n=Ut;$n||(Yn=_t.getBackgroundTiles(),$n=Object.values(Yn).map(tr=>tr.tileID)),Tn&&(Kt.activeTexture.set(hn.TEXTURE0),_t.imageManager.bind(_t.context));const cr=ht.getCrossfadeParameters();for(const tr of $n){const yr=tr.toUnwrapped(),br=Ut?tr.projMatrix:_t.transform.calculateProjMatrix(yr);_t.prepareDrawTile();const ur=st?st.getTile(tr):Yn?Yn[tr.key]:new j.Tile(tr,Rn,gn.zoom,_t),Sr=Tn?mv(br,Lt,_t,Tn,{tileID:tr,tileSize:Rn},cr):Ou(br,Lt,Vt);_t.prepareDrawProgram(Kt,ar,yr);const{tileBoundsBuffer:Ar,tileBoundsIndexBuffer:Wr,tileBoundsSegments:Pr}=_t.getTileBoundsBuffers(ur);ar.draw(Kt,hn.TRIANGLES,or,zn,er,j.CullFaceMode.disabled,Sr,ht.id,Ar,Wr,Pr)}},sky:function(_t,st,ht){const Ut=_t.transform,Vt=Ut.projection.name==="mercator"||Ut.projection.name==="globe"?1:j.smoothstep(7,8,Ut.zoom),Lt=ht.paint.get("sky-opacity")*Vt;if(Lt===0)return;const Kt=_t.context,hn=ht.paint.get("sky-type"),gn=new j.DepthMode(Kt.gl.LEQUAL,j.DepthMode.ReadOnly,[0,1]),Rn=_t.frameCounter/1e3%1;hn==="atmosphere"?_t.renderPass==="offscreen"?ht.needsSkyboxCapture(_t)&&(function(Tn,Dn,zn,or){const er=Tn.context,ar=er.gl;let Yn=Dn.skyboxFbo;if(!Yn){Yn=Dn.skyboxFbo=er.createFramebuffer(32,32,!1),Dn.skyboxGeometry=new Ns(er),Dn.skyboxTexture=er.gl.createTexture(),ar.bindTexture(ar.TEXTURE_CUBE_MAP,Dn.skyboxTexture),ar.texParameteri(ar.TEXTURE_CUBE_MAP,ar.TEXTURE_WRAP_S,ar.CLAMP_TO_EDGE),ar.texParameteri(ar.TEXTURE_CUBE_MAP,ar.TEXTURE_WRAP_T,ar.CLAMP_TO_EDGE),ar.texParameteri(ar.TEXTURE_CUBE_MAP,ar.TEXTURE_MIN_FILTER,ar.LINEAR),ar.texParameteri(ar.TEXTURE_CUBE_MAP,ar.TEXTURE_MAG_FILTER,ar.LINEAR);for(let yr=0;yr<6;++yr)ar.texImage2D(ar.TEXTURE_CUBE_MAP_POSITIVE_X+yr,0,ar.RGBA,32,32,0,ar.RGBA,ar.UNSIGNED_BYTE,null)}er.bindFramebuffer.set(Yn.framebuffer),er.viewport.set([0,0,32,32]);const $n=Dn.getCenter(Tn,!0),cr=Tn.useProgram("skyboxCapture"),tr=new Float64Array(16);j.identity(tr),j.rotateY(tr,tr,.5*-Math.PI),qu(er,Dn,cr,tr,$n,0),j.identity(tr),j.rotateY(tr,tr,.5*Math.PI),qu(er,Dn,cr,tr,$n,1),j.identity(tr),j.rotateX(tr,tr,.5*-Math.PI),qu(er,Dn,cr,tr,$n,2),j.identity(tr),j.rotateX(tr,tr,.5*Math.PI),qu(er,Dn,cr,tr,$n,3),j.identity(tr),qu(er,Dn,cr,tr,$n,4),j.identity(tr),j.rotateY(tr,tr,Math.PI),qu(er,Dn,cr,tr,$n,5),er.viewport.set([0,0,Tn.width,Tn.height])}(_t,ht),ht.markSkyboxValid(_t)):_t.renderPass==="sky"&&function(Tn,Dn,zn,or,er){const ar=Tn.context,Yn=ar.gl,$n=Tn.transform,cr=Tn.useProgram("skybox");ar.activeTexture.set(Yn.TEXTURE0),Yn.bindTexture(Yn.TEXTURE_CUBE_MAP,Dn.skyboxTexture);const tr=((yr,br,ur,Sr,Ar)=>({u_matrix:yr,u_sun_direction:br,u_cubemap:0,u_opacity:Sr,u_temporal_offset:Ar}))($n.skyboxMatrix,Dn.getCenter(Tn,!1),0,or,er);Tn.prepareDrawProgram(ar,cr),cr.draw(ar,Yn.TRIANGLES,zn,j.StencilMode.disabled,Tn.colorModeForRenderPass(),j.CullFaceMode.backCW,tr,"skybox",Dn.skyboxGeometry.vertexBuffer,Dn.skyboxGeometry.indexBuffer,Dn.skyboxGeometry.segment)}(_t,ht,gn,Lt,Rn):hn==="gradient"&&_t.renderPass==="sky"&&function(Tn,Dn,zn,or,er){const ar=Tn.context,Yn=ar.gl,$n=Tn.transform,cr=Tn.useProgram("skyboxGradient");Dn.skyboxGeometry||(Dn.skyboxGeometry=new Ns(ar)),ar.activeTexture.set(Yn.TEXTURE0);let tr=Dn.colorRampTexture;tr||(tr=Dn.colorRampTexture=new j.Texture(ar,Dn.colorRamp,Yn.RGBA)),tr.bind(Yn.LINEAR,Yn.CLAMP_TO_EDGE);const yr=((br,ur,Sr,Ar,Wr)=>({u_matrix:br,u_color_ramp:0,u_center_direction:ur,u_radius:j.degToRad(Sr),u_opacity:Ar,u_temporal_offset:Wr}))($n.skyboxMatrix,Dn.getCenter(Tn,!1),Dn.paint.get("sky-gradient-radius"),or,er);Tn.prepareDrawProgram(ar,cr),cr.draw(ar,Yn.TRIANGLES,zn,j.StencilMode.disabled,Tn.colorModeForRenderPass(),j.CullFaceMode.backCW,yr,"skyboxGradient",Dn.skyboxGeometry.vertexBuffer,Dn.skyboxGeometry.indexBuffer,Dn.skyboxGeometry.segment)}(_t,ht,gn,Lt,Rn)},debug:function(_t,st,ht){for(let Ut=0;Ut<ht.length;Ut++)Qp(_t,st,ht[Ut])},custom:function(_t,st,ht){const Ut=_t.context,Vt=ht.implementation;if(_t.transform.projection.unsupportedLayers&&_t.transform.projection.unsupportedLayers.includes("custom"))j.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(_t.renderPass==="offscreen"){const Lt=Vt.prerender;Lt&&(_t.setCustomLayerDefaults(),Ut.setColorMode(_t.colorModeForRenderPass()),Lt.call(Vt,Ut.gl,_t.transform.customLayerMatrix()),Ut.setDirty(),_t.setBaseState())}else if(_t.renderPass==="translucent"){_t.setCustomLayerDefaults(),Ut.setColorMode(_t.colorModeForRenderPass()),Ut.setStencilMode(j.StencilMode.disabled);const Lt=Vt.renderingMode==="3d"?new j.DepthMode(_t.context.gl.LEQUAL,j.DepthMode.ReadWrite,_t.depthRangeFor3D):_t.depthModeForSublayer(0,j.DepthMode.ReadOnly);Ut.setDepthMode(Lt),Vt.render(Ut.gl,_t.transform.customLayerMatrix()),Ut.setDirty(),_t.setBaseState(),Ut.bindFramebuffer.set(null)}}};class R0{constructor(st,ht){this.context=new bn(st),this.transform=ht,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=j.SourceCache.maxUnderzooming+j.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Nm,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(st,ht){const Ut=!!st&&!!st.terrain&&this.transform.projection.supportsTerrain;if(!(Ut||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new g0(this,st));const Vt=this._terrain;this.transform.elevation=Ut?Vt:null,Vt.update(st,this.transform,ht)}_updateFog(st){const ht=st.fog;if(!ht||this.transform.projection.name==="globe"||ht.getOpacity(this.transform.pitch)<1||ht.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[Ut,Vt]=ht.getFovAdjustedRange(this.transform._fov);if(Ut>Vt)return void(this.transform.fogCullDistSq=null);const Lt=Ut+.78*(Vt-Ut);this.transform.fogCullDistSq=Lt*Lt}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(st,ht){if(this.width=st*j.exported.devicePixelRatio,this.height=ht*j.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const Ut of this.style.order)this.style._layers[Ut].resize()}setup(){const st=this.context,ht=new j.StructArrayLayout2i4;ht.emplaceBack(0,0),ht.emplaceBack(j.EXTENT,0),ht.emplaceBack(0,j.EXTENT),ht.emplaceBack(j.EXTENT,j.EXTENT),this.tileExtentBuffer=st.createVertexBuffer(ht,j.posAttributes.members),this.tileExtentSegments=j.SegmentVector.simpleSegment(0,0,4,2);const Ut=new j.StructArrayLayout2i4;Ut.emplaceBack(0,0),Ut.emplaceBack(j.EXTENT,0),Ut.emplaceBack(0,j.EXTENT),Ut.emplaceBack(j.EXTENT,j.EXTENT),this.debugBuffer=st.createVertexBuffer(Ut,j.posAttributes.members),this.debugSegments=j.SegmentVector.simpleSegment(0,0,4,5);const Vt=new j.StructArrayLayout2i4;Vt.emplaceBack(-1,-1),Vt.emplaceBack(1,-1),Vt.emplaceBack(-1,1),Vt.emplaceBack(1,1),this.viewportBuffer=st.createVertexBuffer(Vt,j.posAttributes.members),this.viewportSegments=j.SegmentVector.simpleSegment(0,0,4,2);const Lt=new j.StructArrayLayout4i8;Lt.emplaceBack(0,0,0,0),Lt.emplaceBack(j.EXTENT,0,j.EXTENT,0),Lt.emplaceBack(0,j.EXTENT,0,j.EXTENT),Lt.emplaceBack(j.EXTENT,j.EXTENT,j.EXTENT,j.EXTENT),this.mercatorBoundsBuffer=st.createVertexBuffer(Lt,j.boundsAttributes.members),this.mercatorBoundsSegments=j.SegmentVector.simpleSegment(0,0,4,2);const Kt=new j.StructArrayLayout3ui6;Kt.emplaceBack(0,1,2),Kt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=st.createIndexBuffer(Kt);const hn=new j.StructArrayLayout1ui2;for(const Rn of[0,1,3,2,0])hn.emplaceBack(Rn);this.debugIndexBuffer=st.createIndexBuffer(hn),this.emptyTexture=new j.Texture(st,new j.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),st.gl.RGBA),this.identityMat=j.create();const gn=this.context.gl;this.stencilClearMode=new j.StencilMode({func:gn.ALWAYS,mask:0},0,255,gn.ZERO,gn.ZERO,gn.ZERO),this.loadTimeStamps.push(j.window.performance.now()),this.atmosphereBuffer=new _v(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(st){return st._makeTileBoundsBuffers(this.context,this.transform.projection),st._tileBoundsBuffer?{tileBoundsBuffer:st._tileBoundsBuffer,tileBoundsIndexBuffer:st._tileBoundsIndexBuffer,tileBoundsSegments:st._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const st=this.context,ht=st.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(st,ht.TRIANGLES,j.DepthMode.disabled,this.stencilClearMode,j.ColorMode.disabled,j.CullFaceMode.disabled,mp(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(st,ht,Ut){if(!ht||this.currentStencilSource===ht.id||!st.isTileClipped()||!Ut||Ut.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let hn=!1;for(const gn of Ut)if(this._tileClippingMaskIDs[gn.key]===void 0){hn=!0;break}if(!hn)return}this.currentStencilSource=ht.id;const Vt=this.context,Lt=Vt.gl;this.nextStencilID+Ut.length>256&&this.clearStencil(),Vt.setColorMode(j.ColorMode.disabled),Vt.setDepthMode(j.DepthMode.disabled);const Kt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const hn of Ut){const gn=ht.getTile(hn),Rn=this._tileClippingMaskIDs[hn.key]=this.nextStencilID++,{tileBoundsBuffer:Tn,tileBoundsIndexBuffer:Dn,tileBoundsSegments:zn}=this.getTileBoundsBuffers(gn);Kt.draw(Vt,Lt.TRIANGLES,j.DepthMode.disabled,new j.StencilMode({func:Lt.ALWAYS,mask:0},Rn,255,Lt.KEEP,Lt.KEEP,Lt.REPLACE),j.ColorMode.disabled,j.CullFaceMode.disabled,mp(hn.projMatrix),"$clipping",Tn,Dn,zn)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const st=this.nextStencilID++,ht=this.context.gl;return new j.StencilMode({func:ht.NOTEQUAL,mask:255},st,255,ht.KEEP,ht.KEEP,ht.REPLACE)}stencilModeForClipping(st){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(st);const ht=this.context.gl;return new j.StencilMode({func:ht.EQUAL,mask:255},this._tileClippingMaskIDs[st.key],0,ht.KEEP,ht.KEEP,ht.REPLACE)}stencilConfigForOverlap(st){const ht=this.context.gl,Ut=st.sort((Kt,hn)=>hn.overscaledZ-Kt.overscaledZ),Vt=Ut[Ut.length-1].overscaledZ,Lt=Ut[0].overscaledZ-Vt+1;if(Lt>1){this.currentStencilSource=void 0,this.nextStencilID+Lt>256&&this.clearStencil();const Kt={};for(let hn=0;hn<Lt;hn++)Kt[hn+Vt]=new j.StencilMode({func:ht.GEQUAL,mask:255},hn+this.nextStencilID,255,ht.KEEP,ht.KEEP,ht.REPLACE);return this.nextStencilID+=Lt,[Kt,Ut]}return[{[Vt]:j.StencilMode.disabled},Ut]}colorModeForRenderPass(){const st=this.context.gl;return this._showOverdrawInspector?new j.ColorMode([st.CONSTANT_COLOR,st.ONE],new j.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?j.ColorMode.unblended:j.ColorMode.alphaBlended}depthModeForSublayer(st,ht,Ut){if(!this.opaquePassEnabledForLayer())return j.DepthMode.disabled;const Vt=1-((1+this.currentLayer)*this.numSublayers+st)*this.depthEpsilon;return new j.DepthMode(Ut||this.context.gl.LEQUAL,ht,[Vt,Vt])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(st,ht){this.style=st,this.options=ht,this.imageManager=st.imageManager,this.glyphManager=st.glyphManager,this.symbolFadeChange=st.placement.symbolFadeChange(j.exported.now()),this.imageManager.beginFrame();const Ut=this.style.order,Vt=this.style._sourceCaches;for(const gn in Vt){const Rn=Vt[gn];Rn.used&&Rn.prepare(this.context)}const Lt={},Kt={},hn={};for(const gn in Vt){const Rn=Vt[gn];Lt[gn]=Rn.getVisibleCoordinates(),Kt[gn]=Lt[gn].slice().reverse(),hn[gn]=Rn.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let gn=0;gn<Ut.length;gn++)if(this.style._layers[Ut[gn]].is3D()){this.opaquePassCutoff=gn;break}if(this.terrain&&(this.terrain.updateTileBinding(hn),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new j.GlobeSharedBuffers(this.context)),j.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const gn of Ut){const Rn=this.style._layers[gn],Tn=st._getLayerSourceCache(Rn);if(!Rn.hasOffscreenPass()||Rn.isHidden(this.transform.zoom))continue;const Dn=Tn?Kt[Tn.id]:void 0;(Rn.type==="custom"||Rn.isSky()||Dn&&Dn.length)&&this.renderLayer(this,Tn,Rn,Dn)}if(this.depthRangeFor3D=[0,1-(st.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:ht.showOverdrawInspector?j.Color.black:j.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ht.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=Ut.length-1;this.currentLayer>=0;this.currentLayer--){const gn=this.style._layers[Ut[this.currentLayer]],Rn=st._getLayerSourceCache(gn);if(gn.isSky())continue;const Tn=Rn?Kt[Rn.id]:void 0;this._renderTileClippingMasks(gn,Rn,Tn),this.renderLayer(this,Rn,gn,Tn)}if(this.style.fog&&this.transform.projection.supportsFog&&function(gn,Rn){const Tn=gn.context,Dn=Tn.gl,zn=gn.transform,or=new j.DepthMode(Dn.LEQUAL,j.DepthMode.ReadOnly,[0,1]),er=gn.useProgram("globeAtmosphere",null,zn.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),ar=j.globeToMercatorTransition(zn.zoom),Yn=Rn.properties.get("color").toArray01(),$n=Rn.properties.get("high-color").toArray01(),cr=Rn.properties.get("space-color").toArray01PremultipliedAlpha(),tr=j.identity$1([]);j.rotateY$1(tr,tr,-j.degToRad(zn._center.lng)),j.rotateX$1(tr,tr,j.degToRad(zn._center.lat)),j.rotateZ$1(tr,tr,zn.angle),j.rotateX$1(tr,tr,-zn._pitch);const yr=j.fromQuat(new Float32Array(16),tr),br=j.mapValue(Rn.properties.get("star-intensity"),0,1,0,.25),ur=5e-4,Sr=j.mapValue(Rn.properties.get("horizon-blend"),0,1,ur,.25),Ar=j.globeUseCustomAntiAliasing(gn,Tn,zn)&&Sr===ur?zn.worldSize/(2*Math.PI*1.025)-1:zn.globeRadius,Wr=gn.frameCounter/1e3%1,Pr=j.length(zn.globeCenterInViewSpace),ho=Math.sqrt(Math.pow(Pr,2)-Math.pow(Ar,2)),xr=Math.acos(ho/Pr),_i=((Vr,Br,So,yo,bo,_o,Oo,Ho,zo,Wo,vo,ns,gs,js)=>({u_frustum_tl:Vr,u_frustum_tr:Br,u_frustum_br:So,u_frustum_bl:yo,u_horizon:bo,u_transition:_o,u_fadeout_range:Oo,u_color:Ho,u_high_color:zo,u_space_color:Wo,u_star_intensity:vo,u_star_size:5*j.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:ns,u_horizon_angle:gs,u_rotation_matrix:js}))(zn.frustumCorners.TL,zn.frustumCorners.TR,zn.frustumCorners.BR,zn.frustumCorners.BL,zn.frustumCorners.horizon,ar,Sr,Yn,$n,cr,br,Wr,xr,yr);gn.prepareDrawProgram(Tn,er);const eo=gn.atmosphereBuffer;eo&&er.draw(Tn,Dn.TRIANGLES,or,j.StencilMode.disabled,j.ColorMode.alphaBlended,j.CullFaceMode.backCW,_i,"skybox",eo.vertexBuffer,eo.indexBuffer,eo.segments)}(this,this.style.fog),this.renderPass="sky",(j.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<Ut.length;this.currentLayer++){const gn=this.style._layers[Ut[this.currentLayer]],Rn=st._getLayerSourceCache(gn);gn.isSky()&&this.renderLayer(this,Rn,gn,Rn?Kt[Rn.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<Ut.length;){const gn=this.style._layers[Ut[this.currentLayer]],Rn=st._getLayerSourceCache(gn);if(gn.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(gn)){if(gn.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Tn=Rn?(gn.type==="symbol"?hn:Kt)[Rn.id]:void 0;this._renderTileClippingMasks(gn,Rn,Rn?Lt[Rn.id]:void 0),this.renderLayer(this,Rn,gn,Tn),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let gn=null;j.values(this.style._layers).forEach(Rn=>{const Tn=st._getLayerSourceCache(Rn);Tn&&!Rn.isHidden(this.transform.zoom)&&(!gn||gn.getSource().maxzoom<Tn.getSource().maxzoom)&&(gn=Tn)}),gn&&this.options.showTileBoundaries&&cy.debug(this,gn,gn.getVisibleCoordinates())}this.options.showPadding&&function(gn){const Rn=gn.transform.padding;ly(gn,gn.transform.height-(Rn.top||0),3,Vl),ly(gn,Rn.bottom||0,3,$a),fm(gn,Rn.left||0,3,S0),fm(gn,gn.transform.width-(Rn.right||0),3,yv);const Tn=gn.transform.centerPoint;(function(Dn,zn,or,er){Xu(Dn,zn-1,or-10,2,20,er),Xu(Dn,zn-10,or-1,20,2,er)})(gn,Tn.x,gn.transform.height-Tn.y,Cu)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(j.window.performance.now()),this.saveCanvasCopy())}}renderLayer(st,ht,Ut,Vt){Ut.isHidden(this.transform.zoom)||(Ut.type==="background"||Ut.type==="sky"||Ut.type==="custom"||Vt&&Vt.length)&&(this.id=Ut.id,this.gpuTimingStart(Ut),st.transform.projection.unsupportedLayers&&st.transform.projection.unsupportedLayers.includes(Ut.type)||cy[Ut.type](st,ht,Ut,Vt,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(st){if(!this.options.gpuTiming)return;const ht=this.context.extTimerQuery;let Ut=this.gpuTimers[st.id];Ut||(Ut=this.gpuTimers[st.id]={calls:0,cpuTime:0,query:ht.createQueryEXT()}),Ut.calls++,ht.beginQueryEXT(ht.TIME_ELAPSED_EXT,Ut.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const st=this.context.extTimerQuery,ht=st.createQueryEXT();this.deferredRenderGpuTimeQueries.push(ht),st.beginQueryEXT(st.TIME_ELAPSED_EXT,ht)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const st=this.context.extTimerQuery;st.endQueryEXT(st.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const st=this.context.extTimerQuery;st.endQueryEXT(st.TIME_ELAPSED_EXT)}collectGpuTimers(){const st=this.gpuTimers;return this.gpuTimers={},st}collectDeferredRenderGpuQueries(){const st=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],st}queryGpuTimers(st){const ht={};for(const Ut in st){const Vt=st[Ut],Lt=this.context.extTimerQuery,Kt=Lt.getQueryObjectEXT(Vt.query,Lt.QUERY_RESULT_EXT)/1e6;Lt.deleteQueryEXT(Vt.query),ht[Ut]=Kt}return ht}queryGpuTimeDeferredRender(st){if(!this.options.gpuTimingDeferredRender)return 0;const ht=this.context.extTimerQuery;let Ut=0;for(const Vt of st)Ut+=ht.getQueryObjectEXT(Vt,ht.QUERY_RESULT_EXT)/1e6,ht.deleteQueryEXT(Vt);return Ut}translatePosMatrix(st,ht,Ut,Vt,Lt){if(!Ut[0]&&!Ut[1])return st;const Kt=Lt?Vt==="map"?this.transform.angle:0:Vt==="viewport"?-this.transform.angle:0;if(Kt){const Rn=Math.sin(Kt),Tn=Math.cos(Kt);Ut=[Ut[0]*Tn-Ut[1]*Rn,Ut[0]*Rn+Ut[1]*Tn]}const hn=[Lt?Ut[0]:Fn(ht,Ut[0],this.transform.zoom),Lt?Ut[1]:Fn(ht,Ut[1],this.transform.zoom),0],gn=new Float32Array(16);return j.translate(gn,st,hn),gn}saveTileTexture(st){const ht=this._tileTextures[st.size[0]];ht?ht.push(st):this._tileTextures[st.size[0]]=[st]}getTileTexture(st){const ht=this._tileTextures[st];return ht&&ht.length>0?ht.pop():null}isPatternMissing(st){if(!st)return!1;if(!st.from||!st.to)return!0;const ht=this.imageManager.getPattern(st.from.toString()),Ut=this.imageManager.getPattern(st.to.toString());return!ht||!Ut}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const st=this.terrain&&this.terrain.renderingToTexture,ht=this.style&&this.style.fog,Ut=[];return this.terrainRenderModeElevated()&&Ut.push("TERRAIN"),this.transform.projection.name==="globe"&&Ut.push("GLOBE"),ht&&!st&&ht.getOpacity(this.transform.pitch)!==0&&Ut.push("FOG"),st&&Ut.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&Ut.push("OVERDRAW_INSPECTOR"),Ut}useProgram(st,ht,Ut){this.cache=this.cache||{};const Vt=Ut||[],Lt=this.currentGlobalDefines().concat(Vt),Kt=b_.cacheKey(m_[st],st,Lt,ht);return this.cache[Kt]||(this.cache[Kt]=new b_(this.context,st,m_[st],ht,U0[st],Lt)),this.cache[Kt]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const st=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(st.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=j.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new j.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(st,ht,Ut){if(this.terrain&&this.terrain.renderingToTexture)return;const Vt=this.style.fog;if(Vt){const Lt=Vt.getOpacity(this.transform.pitch),Kt=((hn,gn,Rn,Tn,Dn,zn,or,er,ar,Yn,$n)=>{const cr=hn.transform,tr=gn.properties.get("color").toArray01();tr[3]=Tn;const yr=hn.frameCounter/1e3%1;return{u_fog_matrix:Rn?cr.calculateFogTileMatrix(Rn):hn.identityMat,u_fog_range:gn.getFovAdjustedRange(cr._fov),u_fog_color:tr,u_fog_horizon_blend:gn.properties.get("horizon-blend"),u_fog_temporal_offset:yr,u_frustum_tl:Dn,u_frustum_tr:zn,u_frustum_br:or,u_frustum_bl:er,u_globe_pos:ar,u_globe_radius:Yn,u_viewport:$n,u_globe_transition:j.globeToMercatorTransition(cr.zoom),u_is_globe:+(cr.projection.name==="globe")}})(this,Vt,Ut,Lt,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*j.exported.devicePixelRatio,this.transform.height*j.exported.devicePixelRatio]);ht.setFogUniformValues(st,Kt)}}setTileLoadedFlag(st){this.tileLoaded=st}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const st=this.context.gl,ht=st.createTexture();return st.bindTexture(st.TEXTURE_2D,ht),st.copyTexImage2D(st.TEXTURE_2D,0,st.RGBA,0,0,st.drawingBufferWidth,st.drawingBufferHeight,0),ht}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const st=this.style&&this.style.fog;return!!st&&st.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const st=this._backgroundTiles,ht=this._backgroundTiles={},Ut=this.transform.coveringTiles({tileSize:512});for(const Vt of Ut)ht[Vt.key]=st[Vt.key]||new j.Tile(Vt,512,this.transform.tileZoom,this);return ht}clearBackgroundTiles(){this._backgroundTiles={}}}class Ap{constructor(st=0,ht=0,Ut=0,Vt=0){if(isNaN(st)||st<0||isNaN(ht)||ht<0||isNaN(Ut)||Ut<0||isNaN(Vt)||Vt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=st,this.bottom=ht,this.left=Ut,this.right=Vt}interpolate(st,ht,Ut){return ht.top!=null&&st.top!=null&&(this.top=j.number(st.top,ht.top,Ut)),ht.bottom!=null&&st.bottom!=null&&(this.bottom=j.number(st.bottom,ht.bottom,Ut)),ht.left!=null&&st.left!=null&&(this.left=j.number(st.left,ht.left,Ut)),ht.right!=null&&st.right!=null&&(this.right=j.number(st.right,ht.right,Ut)),this}getCenter(st,ht){const Ut=j.clamp((this.left+st-this.right)/2,0,st),Vt=j.clamp((this.top+ht-this.bottom)/2,0,ht);return new j.pointGeometry(Ut,Vt)}equals(st){return this.top===st.top&&this.bottom===st.bottom&&this.left===st.left&&this.right===st.right}clone(){return new Ap(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function uy(_t,st){const ht=j.getColumn(_t,3);j.fromQuat(_t,st),j.setColumn(_t,3,ht)}function w0(_t,st){const ht=j.identity$1([]);return j.rotateZ$1(ht,ht,-st),j.rotateX$1(ht,ht,-_t),ht}function pm(_t,st){const ht=[_t[0],_t[1],0],Ut=[st[0],st[1],0];if(j.length(ht)>=1e-15){const Kt=j.normalize([],ht);j.scale$2(Ut,Kt,j.dot(Ut,Kt)),st[0]=Ut[0],st[1]=Ut[1]}const Vt=j.cross([],st,_t);if(j.len(Vt)<1e-15)return null;const Lt=Math.atan2(-Vt[1],Vt[0]);return w0(Math.atan2(Math.sqrt(_t[0]*_t[0]+_t[1]*_t[1]),-_t[2]),Lt)}class hy{constructor(st,ht){this.position=st,this.orientation=ht}get position(){return this._position}set position(st){if(st){const ht=st instanceof j.MercatorCoordinate?st:new j.MercatorCoordinate(st[0],st[1],st[2]);this._renderWorldCopies&&(ht.x=j.wrap(ht.x,0,1)),this._position=ht}else this._position=null}lookAtPoint(st,ht){if(this.orientation=null,!this.position)return;const Ut=this._elevation?this._elevation.getAtPointOrZero(j.MercatorCoordinate.fromLngLat(st)):0,Vt=this.position,Lt=j.MercatorCoordinate.fromLngLat(st,Ut),Kt=[Lt.x-Vt.x,Lt.y-Vt.y,Lt.z-Vt.z];ht||(ht=[0,0,1]),ht[2]=Math.abs(ht[2]),this.orientation=pm(Kt,ht)}setPitchBearing(st,ht){this.orientation=w0(j.degToRad(st),j.degToRad(-ht))}}class gm{constructor(st,ht){this._transform=j.identity([]),this.orientation=ht,this.position=st}get mercatorPosition(){const st=this.position;return new j.MercatorCoordinate(st[0],st[1],st[2])}get position(){const st=j.getColumn(this._transform,3);return[st[0],st[1],st[2]]}set position(st){var ht;st&&j.setColumn(this._transform,3,[(ht=st)[0],ht[1],ht[2],1])}get orientation(){return this._orientation}set orientation(st){this._orientation=st||j.identity$1([]),st&&uy(this._transform,this._orientation)}getPitchBearing(){const st=this.forward(),ht=this.right();return{bearing:Math.atan2(-ht[1],ht[0]),pitch:Math.atan2(Math.sqrt(st[0]*st[0]+st[1]*st[1]),-st[2])}}setPitchBearing(st,ht){this._orientation=w0(st,ht),uy(this._transform,this._orientation)}forward(){const st=j.getColumn(this._transform,2);return[-st[0],-st[1],-st[2]]}up(){const st=j.getColumn(this._transform,1);return[-st[0],-st[1],-st[2]]}right(){const st=j.getColumn(this._transform,0);return[st[0],st[1],st[2]]}getCameraToWorld(st,ht){const Ut=new Float64Array(16);return j.invert(Ut,this.getWorldToCamera(st,ht)),Ut}getWorldToCameraPosition(st,ht,Ut){const Vt=this.position;j.scale$2(Vt,Vt,-st);const Lt=new Float64Array(16);return j.fromScaling(Lt,[Ut,Ut,Ut]),j.translate(Lt,Lt,Vt),Lt[10]*=ht,Lt}getWorldToCamera(st,ht){const Ut=new Float64Array(16),Vt=new Float64Array(4),Lt=this.position;return j.conjugate(Vt,this._orientation),j.scale$2(Lt,Lt,-st),j.fromQuat(Ut,Vt),j.translate(Ut,Ut,Lt),Ut[1]*=-1,Ut[5]*=-1,Ut[9]*=-1,Ut[13]*=-1,Ut[8]*=ht,Ut[9]*=ht,Ut[10]*=ht,Ut[11]*=ht,Ut}getCameraToClipPerspective(st,ht,Ut,Vt){const Lt=new Float64Array(16);return j.perspective(Lt,st,ht,Ut,Vt),Lt}getDistanceToElevation(st){const ht=st===0?0:j.mercatorZfromAltitude(st,this.position[1]),Ut=this.forward();return(ht-this.position[2])/Ut[2]}clone(){return new gm([...this.position],[...this.orientation])}}function Om(_t,st){const ht=Hp(_t.projection,_t.zoom,_t.width,_t.height),Ut=function(Lt,Kt,hn,gn,Rn){const Tn=new j.LngLat(hn.lng-180*Su,hn.lat),Dn=new j.LngLat(hn.lng+180*Su,hn.lat),zn=Lt.project(Tn.lng,Tn.lat),or=Lt.project(Dn.lng,Dn.lat),er=-Math.atan2(or.y-zn.y,or.x-zn.x),ar=j.MercatorCoordinate.fromLngLat(hn);ar.y=j.clamp(ar.y,-.999975,.999975);const Yn=ar.toLngLat(),$n=Lt.project(Yn.lng,Yn.lat),cr=j.MercatorCoordinate.fromLngLat(Yn);cr.x+=Su;const tr=cr.toLngLat(),yr=Lt.project(tr.lng,tr.lat),br=Ao(yr.x-$n.x,yr.y-$n.y,er),ur=j.MercatorCoordinate.fromLngLat(Yn);ur.y+=Su;const Sr=ur.toLngLat(),Ar=Lt.project(Sr.lng,Sr.lat),Wr=Ao(Ar.x-$n.x,Ar.y-$n.y,er),Pr=Math.abs(br.x)/Math.abs(Wr.y),ho=j.identity([]);j.rotateZ(ho,ho,-er*(1-(Rn?0:gn)));const xr=j.identity([]);return j.scale(xr,xr,[1,1-(1-Pr)*gn,1]),xr[4]=-Wr.x/Wr.y*gn,j.rotateZ(xr,xr,er),j.multiply(xr,ho,xr),xr}(_t.projection,0,_t.center,ht,st),Vt=Iy(_t);return j.scale(Ut,Ut,[Vt,Vt,1]),Ut}function Iy(_t){const st=_t.projection,ht=Hp(_t.projection,_t.zoom,_t.width,_t.height),Ut=mm(st,_t.center),Vt=mm(st,j.LngLat.convert(st.center));return Math.pow(2,Ut*ht+(1-ht)*Vt)}function Hp(_t,st,ht,Ut,Vt=1/0){const Lt=_t.range;if(!Lt)return 0;const Kt=Math.min(Vt,Math.max(ht,Ut)),hn=Math.log(Kt/1024)/Math.LN2;return j.smoothstep(Lt[0]+hn,Lt[1]+hn,st)}const Su=1/4e4;function mm(_t,st){const ht=j.clamp(st.lat,-j.MAX_MERCATOR_LATITUDE,j.MAX_MERCATOR_LATITUDE),Ut=new j.LngLat(st.lng-180*Su,ht),Vt=new j.LngLat(st.lng+180*Su,ht),Lt=_t.project(Ut.lng,ht),Kt=_t.project(Vt.lng,ht),hn=j.MercatorCoordinate.fromLngLat(Ut),gn=j.MercatorCoordinate.fromLngLat(Vt),Rn=Kt.x-Lt.x,Tn=Kt.y-Lt.y,Dn=gn.x-hn.x,zn=gn.y-hn.y,or=Math.sqrt((Dn*Dn+zn*zn)/(Rn*Rn+Tn*Tn));return Math.log(or)/Math.LN2}function Ao(_t,st,ht){const Ut=Math.cos(ht),Vt=Math.sin(ht);return{x:_t*Ut-st*Vt,y:_t*Vt+st*Ut}}class Iu{constructor(st,ht,Ut,Vt,Lt,Kt,hn){this.tileSize=512,this._renderWorldCopies=Lt===void 0||Lt,this._minZoom=st||0,this._maxZoom=ht||22,this._minPitch=Ut??0,this._maxPitch=Vt??60,this.setProjection(Kt),this.setMaxBounds(hn),this.width=0,this.height=0,this._center=new j.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Ap,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new gm,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const st=new Iu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return st._elevation=this._elevation,st._centerAltitude=this._centerAltitude,st._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,st.tileSize=this.tileSize,st.mercatorFromTransition=this.mercatorFromTransition,st.width=this.width,st.height=this.height,st.cameraElevationReference=this.cameraElevationReference,st._center=this._center,st._setZoom(this.zoom),st._seaLevelZoom=this._seaLevelZoom,st.angle=this.angle,st._fov=this._fov,st._pitch=this._pitch,st._nearZ=this._nearZ,st._farZ=this._farZ,st._averageElevation=this._averageElevation,st._unmodified=this._unmodified,st._edgeInsets=this._edgeInsets.clone(),st._camera=this._camera.clone(),st._calcMatrices(),st.freezeTileCoverage=this.freezeTileCoverage,st.frustumCorners=this.frustumCorners,st}get elevation(){return this._elevation}set elevation(st){this._elevation!==st&&(this._elevation=st,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(st){const ht=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||ht)&&this._updateCameraOnTerrain(),(st||ht)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return j.pick(this.projection,["name","center","parallels"])}setProjection(st){this.projectionOptions=st||{name:"mercator"};const ht=this.projection?this.getProjection():void 0;this.projection=j.getProjection(this.projectionOptions);const Ut=!nt(ht,this.getProjection());return Ut&&this._calcMatrices(),this.mercatorFromTransition=!1,Ut}setMercatorFromTransition(){const st=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=j.getProjection({name:"mercator"});const ht=st!==this.projection.name;return ht&&this._calcMatrices(),ht}get minZoom(){return this._minZoom}set minZoom(st){this._minZoom!==st&&(this._minZoom=st,this.zoom=Math.max(this.zoom,st))}get maxZoom(){return this._maxZoom}set maxZoom(st){this._maxZoom!==st&&(this._maxZoom=st,this.zoom=Math.min(this.zoom,st))}get minPitch(){return this._minPitch}set minPitch(st){this._minPitch!==st&&(this._minPitch=st,this.pitch=Math.max(this.pitch,st))}get maxPitch(){return this._maxPitch}set maxPitch(st){this._maxPitch!==st&&(this._maxPitch=st,this.pitch=Math.min(this.pitch,st))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(st){st===void 0?st=!0:st===null&&(st=!1),this._renderWorldCopies=st}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const st=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(st))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return j.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new j.pointGeometry(this.width,this.height)}get bearing(){return j.wrap(this.rotation,-180,180)}set bearing(st){this.rotation=st}get rotation(){return-this.angle/Math.PI*180}set rotation(st){const ht=-st*Math.PI/180;var Ut;this.angle!==ht&&(this._unmodified=!1,this.angle=ht,this._calcMatrices(),this.rotationMatrix=(Ut=new j.ARRAY_TYPE(4),j.ARRAY_TYPE!=Float32Array&&(Ut[1]=0,Ut[2]=0),Ut[0]=1,Ut[3]=1,Ut),function(Vt,Lt,Kt){var hn=Lt[0],gn=Lt[1],Rn=Lt[2],Tn=Lt[3],Dn=Math.sin(Kt),zn=Math.cos(Kt);Vt[0]=hn*zn+Rn*Dn,Vt[1]=gn*zn+Tn*Dn,Vt[2]=hn*-Dn+Rn*zn,Vt[3]=gn*-Dn+Tn*zn}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(st){const ht=j.clamp(st,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==ht&&(this._unmodified=!1,this._pitch=ht,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const st=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/st)}set fov(st){st=Math.max(.01,Math.min(60,st)),this._fov!==st&&(this._unmodified=!1,this._fov=j.degToRad(st),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(st){this._averageElevation=st,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(st){const ht=Math.min(Math.max(st,this.minZoom),this.maxZoom);this._zoom!==ht&&(this._unmodified=!1,this._setZoom(ht),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(st){this._zoom=st,this.scale=this.zoomScale(st),this.tileZoom=Math.floor(st),this.zoomFraction=st-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const st=this._elevation;this._centerAltitude=st.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=st.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const st=this._elevation,ht=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],Ut=this.horizonLineFromTop();let Vt=0,Lt=0;for(let Kt=0;Kt<ht.length;Kt++){const hn=new j.pointGeometry(ht[Kt][0]*this.width,Ut+ht[Kt][1]*(this.height-Ut)),gn=st.pointCoordinate(hn);if(!gn)continue;const Rn=1/Math.hypot(gn[0]-this._camera.position[0],gn[1]-this._camera.position[1]);Vt+=gn[3]*Rn,Lt+=Rn}return Lt===0?NaN:Vt/Lt}get center(){return this._center}set center(st){st.lat===this._center.lat&&st.lng===this._center.lng||(this._unmodified=!1,this._center=st,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const st=this._seaLevelZoom,ht=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),Ut=this.pixelsPerMeter/this.worldSize*ht,Vt=this._mercatorZfromZoom(st),Lt=this._mercatorZfromZoom(this._maxZoom),Kt=Math.max(Vt-Ut,Lt);this._setZoom(this._zoomFromMercatorZ(Kt))}get padding(){return this._edgeInsets.toJSON()}set padding(st){this._edgeInsets.equals(st)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,st,1),this._calcMatrices())}computeZoomRelativeTo(st){const ht=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,st.toAltitude()));let Ut;Ut=st.z<this._camera.position[2]?[ht.x,ht.y,ht.z]:[st.x,st.y,st.z];const Vt=j.length(j.sub([],this._camera.position,Ut));return j.clamp(this._zoomFromMercatorZ(Vt),this._minZoom,this._maxZoom)}setFreeCameraOptions(st){if(!this.height||!st.position&&!st.orientation)return;this._updateCameraState();let ht=!1;if(st.orientation&&!j.exactEquals(st.orientation,this._camera.orientation)&&(ht=this._setCameraOrientation(st.orientation)),st.position){const Ut=[st.position.x,st.position.y,st.position.z];j.exactEquals$1(Ut,this._camera.position)||(this._setCameraPosition(Ut),ht=!0)}ht&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const st=this._camera.position,ht=new hy;return ht.position=new j.MercatorCoordinate(st[0],st[1],st[2]),ht.orientation=this._camera.orientation,ht._elevation=this.elevation,ht._renderWorldCopies=this.renderWorldCopies,ht}_setCameraOrientation(st){if(!j.length$1(st))return!1;j.normalize$1(st,st);const ht=j.transformQuat([],[0,0,-1],st),Ut=j.transformQuat([],[0,-1,0],st);if(Ut[2]<0)return!1;const Vt=pm(ht,Ut);return!!Vt&&(this._camera.orientation=Vt,!0)}_setCameraPosition(st){const ht=this.zoomScale(this.minZoom)*this.tileSize,Ut=this.zoomScale(this.maxZoom)*this.tileSize,Vt=this.cameraToCenterDistance;st[2]=j.clamp(st[2],Vt/Ut,Vt/ht),this._camera.position=st}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(st){return this._edgeInsets.equals(st)}interpolatePadding(st,ht,Ut){this._unmodified=!1,this._edgeInsets.interpolate(st,ht,Ut),this._constrain(),this._calcMatrices()}coveringZoomLevel(st){const ht=(st.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/st.tileSize));return Math.max(0,ht)}getVisibleUnwrappedCoordinates(st){const ht=[new j.UnwrappedTileID(0,st)];if(this.renderWorldCopies){const Ut=this.pointCoordinate(new j.pointGeometry(0,0)),Vt=this.pointCoordinate(new j.pointGeometry(this.width,0)),Lt=this.pointCoordinate(new j.pointGeometry(this.width,this.height)),Kt=this.pointCoordinate(new j.pointGeometry(0,this.height)),hn=Math.floor(Math.min(Ut.x,Vt.x,Lt.x,Kt.x)),gn=Math.floor(Math.max(Ut.x,Vt.x,Lt.x,Kt.x)),Rn=1;for(let Tn=hn-Rn;Tn<=gn+Rn;Tn++)Tn!==0&&ht.push(new j.UnwrappedTileID(Tn,st))}return ht}coveringTiles(st){let ht=this.coveringZoomLevel(st);const Ut=ht,Vt=this.elevation&&!st.isTerrainDEM,Lt=this.projection.name==="mercator";if(st.minzoom!==void 0&&ht<st.minzoom)return[];st.maxzoom!==void 0&&ht>st.maxzoom&&(ht=st.maxzoom);const Kt=this.locationCoordinate(this.center),hn=this.center.lat,gn=1<<ht,Rn=[gn*Kt.x,gn*Kt.y,0],Tn=this.projection.name==="globe",Dn=!Tn,zn=j.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ht,Dn),or=Tn?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),er=gn*j.mercatorZfromAltitude(1,this.center.lat),ar=this._camera.position[2]/j.mercatorZfromAltitude(1,this.center.lat),Yn=[gn*or.x,gn*or.y,ar*(Dn?1:er)],$n=this.cameraToCenterDistance/st.tileSize*(st.roundZoom?1:.502),cr=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?ht:0,tr=st.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,yr=st.isTerrainDEM?-tr:this._elevation?this._elevation.getMinElevationBelowMSL():0,br=this.projection.isReprojectedInTileSpace?Iy(this):1,ur=Br=>{const yo=new j.MercatorCoordinate(Br.x+25e-6,Br.y,Br.z),bo=new j.MercatorCoordinate(Br.x,Br.y+25e-6,Br.z),_o=Br.toLngLat(),Oo=yo.toLngLat(),Ho=bo.toLngLat(),zo=this.locationCoordinate(_o),Wo=this.locationCoordinate(Oo),vo=this.locationCoordinate(Ho),ns=Math.hypot(Wo.x-zo.x,Wo.y-zo.y),gs=Math.hypot(vo.x-zo.x,vo.y-zo.y);return Math.sqrt(ns*gs)*br/25e-6},Sr=Br=>{const So=tr,yo=yr;return{aabb:j.tileAABB(this,gn,0,0,0,Br,yo,So,this.projection),zoom:0,x:0,y:0,minZ:yo,maxZ:So,wrap:Br,fullyVisible:!1}},Ar=[];let Wr=[];const Pr=ht,ho=st.reparseOverscaled?Ut:ht,xr=Br=>Br*Br,_i=xr((ar-this._centerAltitude)*er),eo=Br=>{if(!this._elevation||!Br.tileID||!Lt)return;const So=this._elevation.getMinMaxForTile(Br.tileID),yo=Br.aabb;So?(yo.min[2]=So.min,yo.max[2]=So.max,yo.center[2]=(yo.min[2]+yo.max[2])/2):(Br.shouldSplit=Vr(Br),Br.shouldSplit||(yo.min[2]=yo.max[2]=yo.center[2]=this._centerAltitude))},Vr=Br=>{if(Br.zoom<cr)return!0;if(Br.zoom===Pr)return!1;if(Br.shouldSplit!=null)return Br.shouldSplit;const So=Br.aabb.distanceX(Yn),yo=Br.aabb.distanceY(Yn);let bo=_i,_o=1;if(Tn){bo=xr(Br.aabb.distanceZ(Yn));const zo=Math.pow(2,Br.zoom),Wo=j.latFromMercatorY((Br.y+1)/zo),vo=j.latFromMercatorY(Br.y/zo),ns=Math.min(Math.max(hn,Wo),vo),gs=j.circumferenceAtLatitude(ns)/j.circumferenceAtLatitude(hn);if(_o=ns===hn?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,gs/this._mercatorScaleRatio),this.zoom<=j.GLOBE_ZOOM_THRESHOLD_MIN&&Br.zoom===Pr-1&&gs>=.9)return!0}else if(Vt&&(bo=xr(Br.aabb.distanceZ(Yn)*er)),this.projection.isReprojectedInTileSpace&&Ut<=5){const zo=Math.pow(2,Br.zoom),Wo=ur(new j.MercatorCoordinate((Br.x+.5)/zo,(Br.y+.5)/zo));_o=Wo>.85?1:Wo}const Oo=So*So+yo*yo+bo,Ho=xr((1<<Pr-Br.zoom)*$n*_o*((zo,Wo)=>{if(Wo*xr(.707)<zo)return 1;const vo=Math.sqrt(Wo/zo);return vo/(1.4144271570014144+(Math.pow(1.1,vo-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(bo,_i),Oo));return Oo<Ho};if(this.renderWorldCopies)for(let Br=1;Br<=3;Br++)Ar.push(Sr(-Br)),Ar.push(Sr(Br));for(Ar.push(Sr(0));Ar.length>0;){const Br=Ar.pop(),So=Br.x,yo=Br.y;let bo=Br.fullyVisible;if(!bo){const _o=Br.aabb.intersects(zn);if(_o===0)continue;bo=_o===2}if(Br.zoom!==Pr&&Vr(Br))for(let _o=0;_o<4;_o++){const Oo=(So<<1)+_o%2,Ho=(yo<<1)+(_o>>1),zo={aabb:Lt?Br.aabb.quadrant(_o):j.tileAABB(this,gn,Br.zoom+1,Oo,Ho,Br.wrap,Br.minZ,Br.maxZ,this.projection),zoom:Br.zoom+1,x:Oo,y:Ho,wrap:Br.wrap,fullyVisible:bo,tileID:void 0,shouldSplit:void 0,minZ:Br.minZ,maxZ:Br.maxZ};Vt&&!Tn&&(zo.tileID=new j.OverscaledTileID(Br.zoom+1===Pr?ho:Br.zoom+1,Br.wrap,Br.zoom+1,Oo,Ho),eo(zo)),Ar.push(zo)}else{const _o=Br.zoom===Pr?ho:Br.zoom;if(st.minzoom&&st.minzoom>_o)continue;const Oo=Rn[0]-(.5+So+(Br.wrap<<Br.zoom))*(1<<ht-Br.zoom),Ho=Rn[1]-.5-yo,zo=Br.tileID?Br.tileID:new j.OverscaledTileID(_o,Br.wrap,Br.zoom,So,yo);Wr.push({tileID:zo,distanceSq:Oo*Oo+Ho*Ho})}}if(this.fogCullDistSq){const Br=this.fogCullDistSq,So=this.horizonLineFromTop();Wr=Wr.filter(yo=>{const bo=[0,0,0,1],_o=[j.EXTENT,j.EXTENT,0,1],Oo=this.calculateFogTileMatrix(yo.tileID.toUnwrapped());j.transformMat4$1(bo,bo,Oo),j.transformMat4$1(_o,_o,Oo);const Ho=j.getAABBPointSquareDist(bo,_o);if(Ho===0)return!0;let zo=!1;const Wo=this._elevation;if(Wo&&Ho>Br&&So!==0){const vo=this.calculateProjMatrix(yo.tileID.toUnwrapped());let ns;st.isTerrainDEM||(ns=Wo.getMinMaxForTile(yo.tileID)),ns||(ns={min:yr,max:tr});const gs=j.furthestTileCorner(this.rotation),js=[gs[0]*j.EXTENT,gs[1]*j.EXTENT,ns.max];j.transformMat4(js,js,vo),zo=(1-js[1])*this.height*.5<So}return Ho<Br||zo})}return Wr.sort((Br,So)=>Br.distanceSq-So.distanceSq).map(Br=>Br.tileID)}resize(st,ht){this.width=st,this.height=ht,this.pixelsToGLUnits=[2/st,-2/ht],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(st){return Math.pow(2,st)}scaleZoom(st){return Math.log(st)/Math.LN2}project(st){const ht=j.clamp(st.lat,-j.MAX_MERCATOR_LATITUDE,j.MAX_MERCATOR_LATITUDE),Ut=this.projection.project(st.lng,ht);return new j.pointGeometry(Ut.x*this.worldSize,Ut.y*this.worldSize)}unproject(st){return this.projection.unproject(st.x/this.worldSize,st.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(st,ht){let Ut,Vt;const Lt=this.centerPoint;if(this.projection.name==="globe"){const hn=this.worldSize;Ut=(ht.x-Lt.x)/hn,Vt=(ht.y-Lt.y)/hn}else{const hn=this.pointCoordinate(ht),gn=this.pointCoordinate(Lt);Ut=hn.x-gn.x,Vt=hn.y-gn.y}const Kt=this.locationCoordinate(st);this.setLocation(new j.MercatorCoordinate(Kt.x-Ut,Kt.y-Vt))}setLocation(st){this.center=this.coordinateLocation(st),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(st){return this.projection.locationPoint(this,st)}locationPoint3D(st){return this.projection.locationPoint(this,st,!0)}pointLocation(st){return this.coordinateLocation(this.pointCoordinate(st))}pointLocation3D(st){return this.coordinateLocation(this.pointCoordinate3D(st))}locationCoordinate(st,ht){const Ut=ht?j.mercatorZfromAltitude(ht,st.lat):void 0,Vt=this.projection.project(st.lng,st.lat);return new j.MercatorCoordinate(Vt.x,Vt.y,Ut)}coordinateLocation(st){return this.projection.unproject(st.x,st.y)}pointRayIntersection(st,ht){const Ut=ht??this._centerAltitude,Vt=[st.x,st.y,0,1],Lt=[st.x,st.y,1,1];j.transformMat4$1(Vt,Vt,this.pixelMatrixInverse),j.transformMat4$1(Lt,Lt,this.pixelMatrixInverse);const Kt=Lt[3];j.scale$1(Vt,Vt,1/Vt[3]),j.scale$1(Lt,Lt,1/Kt);const hn=Vt[2],gn=Lt[2];return{p0:Vt,p1:Lt,t:hn===gn?0:(Ut-hn)/(gn-hn)}}screenPointToMercatorRay(st){const ht=[st.x,st.y,0,1],Ut=[st.x,st.y,1,1];return j.transformMat4$1(ht,ht,this.pixelMatrixInverse),j.transformMat4$1(Ut,Ut,this.pixelMatrixInverse),j.scale$1(ht,ht,1/ht[3]),j.scale$1(Ut,Ut,1/Ut[3]),ht[2]=j.mercatorZfromAltitude(ht[2],this._center.lat)*this.worldSize,Ut[2]=j.mercatorZfromAltitude(Ut[2],this._center.lat)*this.worldSize,j.scale$1(ht,ht,1/this.worldSize),j.scale$1(Ut,Ut,1/this.worldSize),new j.Ray([ht[0],ht[1],ht[2]],j.normalize([],j.sub([],Ut,ht)))}rayIntersectionCoordinate(st){const{p0:ht,p1:Ut,t:Vt}=st,Lt=j.mercatorZfromAltitude(ht[2],this._center.lat),Kt=j.mercatorZfromAltitude(Ut[2],this._center.lat);return new j.MercatorCoordinate(j.number(ht[0],Ut[0],Vt)/this.worldSize,j.number(ht[1],Ut[1],Vt)/this.worldSize,j.number(Lt,Kt,Vt))}pointCoordinate(st,ht=this._centerAltitude){return this.projection.pointCoordinate(this,st.x,st.y,ht)}pointCoordinate3D(st){if(!this.elevation)return this.pointCoordinate(st);let ht=this.projection.pointCoordinate3D(this,st.x,st.y);if(ht)return new j.MercatorCoordinate(ht[0],ht[1],ht[2]);let Ut=0,Vt=this.horizonLineFromTop();if(st.y>Vt)return this.pointCoordinate(st);const Lt=.02*Vt,Kt=st.clone();for(let hn=0;hn<10&&Vt-Ut>Lt;hn++){Kt.y=j.number(Ut,Vt,.66);const gn=this.projection.pointCoordinate3D(this,Kt.x,Kt.y);gn?(Vt=Kt.y,ht=gn):Ut=Kt.y}return ht?new j.MercatorCoordinate(ht[0],ht[1],ht[2]):this.pointCoordinate(st)}isPointAboveHorizon(st){return this.projection.isPointAboveHorizon(this,st)}_coordinatePoint(st,ht){const Ut=ht&&this.elevation?this.elevation.getAtPointOrZero(st,this._centerAltitude):this._centerAltitude,Vt=[st.x*this.worldSize,st.y*this.worldSize,Ut+st.toAltitude(),1];return j.transformMat4$1(Vt,Vt,this.pixelMatrix),Vt[3]>0?new j.pointGeometry(Vt[0]/Vt[3],Vt[1]/Vt[3]):new j.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:st,left:ht}=this._edgeInsets,Ut=this.height-this._edgeInsets.bottom,Vt=this.width-this._edgeInsets.right,Lt=this.pointCoordinate3D(new j.pointGeometry(ht,st)),Kt=this.pointCoordinate3D(new j.pointGeometry(Vt,st)),hn=this.pointCoordinate3D(new j.pointGeometry(Vt,Ut)),gn=this.pointCoordinate3D(new j.pointGeometry(ht,Ut));let Rn=Math.min(Lt.x,gn.x),Tn=Math.max(Kt.x,hn.x),Dn=Math.min(Lt.y,Kt.y),zn=Math.max(gn.y,hn.y);const or=Math.pow(2,-this.zoom)/16,er=($n,cr,tr,yr)=>{const br=($n+tr)/2,ur=(cr+yr)/2,Sr=new j.pointGeometry(br,ur),Ar=this.pointCoordinate3D(Sr),Wr=Math.max(0,Rn-Ar.x,Dn-Ar.y,Ar.x-Tn,Ar.y-zn);Rn=Math.min(Rn,Ar.x),Tn=Math.max(Tn,Ar.x),Dn=Math.min(Dn,Ar.y),zn=Math.max(zn,Ar.y),Wr>or&&(er($n,cr,br,ur),er(br,ur,tr,yr))};er(ht,st,Vt,st),er(Vt,st,Vt,Ut),er(Vt,Ut,ht,Ut),er(ht,Ut,ht,st);const ar=new j.LngLat(j.lngFromMercatorX(Tn),j.latFromMercatorY(Dn)),Yn=new j.LngLat(j.lngFromMercatorX(Rn),j.latFromMercatorY(zn));return new j.LngLatBounds(Yn,ar)}_getBounds(st,ht){if(this.projection.name==="globe")return this._getGlobeBounds();const Ut=new j.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),Vt=new j.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),Lt=new j.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),Kt=new j.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let hn=this.pointCoordinate(Ut,st),gn=this.pointCoordinate(Vt,st);const Rn=this.pointCoordinate(Lt,ht),Tn=this.pointCoordinate(Kt,ht),Dn=(zn,or)=>(or.y-zn.y)/(or.x-zn.x);return hn.y>1&&gn.y>=0?hn=new j.MercatorCoordinate((1-Tn.y)/Dn(Tn,hn)+Tn.x,1):hn.y<0&&gn.y<=1&&(hn=new j.MercatorCoordinate(-Tn.y/Dn(Tn,hn)+Tn.x,0)),gn.y>1&&hn.y>=0?gn=new j.MercatorCoordinate((1-Rn.y)/Dn(Rn,gn)+Rn.x,1):gn.y<0&&hn.y<=1&&(gn=new j.MercatorCoordinate(-Rn.y/Dn(Rn,gn)+Rn.x,0)),new j.LngLatBounds().extend(this.coordinateLocation(hn)).extend(this.coordinateLocation(gn)).extend(this.coordinateLocation(Tn)).extend(this.coordinateLocation(Rn))}_getBounds3D(){const st=this.elevation;if(!st.visibleDemTiles.length||st.isUsingMockSource())return this._getBounds(0,0);const ht=st.visibleDemTiles.reduce((Ut,Vt)=>{if(Vt.dem){const Lt=Vt.dem.tree;Ut.min=Math.min(Ut.min,Lt.minimums[0]),Ut.max=Math.max(Ut.max,Lt.maximums[0])}return Ut},{min:Number.MAX_VALUE,max:0});return this._getBounds(ht.min*st.exaggeration(),ht.max*st.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(st=!0){const ht=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,Ut=this.height/2-ht*(1-this._horizonShift);return st?Math.max(0,Ut):Ut}getMaxBounds(){return this.maxBounds}setMaxBounds(st){this.maxBounds=st,this.minLat=-j.MAX_MERCATOR_LATITUDE,this.maxLat=j.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,st&&(this.minLat=st.getSouth(),this.maxLat=st.getNorth(),this.minLng=st.getWest(),this.maxLng=st.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=j.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=j.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=j.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=j.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(st,ht){return this.projection.createTileMatrix(this,ht,st)}calculateDistanceTileData(st){const ht=st.key,Ut=this._distanceTileDataCache;if(Ut[ht])return Ut[ht];const Vt=st.canonical,Lt=1/this.height,Kt=this.cameraWorldSize/this.zoomScale(Vt.z),hn=(Vt.x+Math.pow(2,Vt.z)*st.wrap)*Kt,gn=Vt.y*Kt,Rn=this.point,Tn=this.angle,Dn=Math.sin(-Tn),zn=-Math.cos(-Tn);return Ut[ht]={bearing:[Dn,zn],center:[(Rn.x-hn)*Lt,(Rn.y-gn)*Lt],scale:Kt/j.EXTENT*Lt},Ut[ht]}calculateFogTileMatrix(st){const ht=st.key,Ut=this._fogTileMatrixCache;if(Ut[ht])return Ut[ht];const Vt=this.projection.createTileMatrix(this,this.cameraWorldSize,st);return j.multiply(Vt,this.worldToFogMatrix,Vt),Ut[ht]=new Float32Array(Vt),Ut[ht]}calculateProjMatrix(st,ht=!1){const Ut=st.key,Vt=ht?this._alignedProjMatrixCache:this._projMatrixCache;if(Vt[Ut])return Vt[Ut];const Lt=this.calculatePosMatrix(st,this.worldSize);return j.multiply(Lt,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:ht?this.alignedProjMatrix:this.projMatrix,Lt),Vt[Ut]=new Float32Array(Lt),Vt[Ut]}calculatePixelsToTileUnitsMatrix(st){const ht=st.tileID.key,Ut=this._pixelsToTileUnitsCache;if(Ut[ht])return Ut[ht];const Vt=function(Lt,Kt){const{scale:hn}=Lt.tileTransform,gn=hn*j.EXTENT/(Lt.tileSize*Math.pow(2,Kt.zoom-Lt.tileID.overscaledZ+Lt.tileID.canonical.z));return Rn=new Float32Array(4),zn=(Tn=Kt.inverseAdjustmentMatrix)[1],or=Tn[2],er=Tn[3],Yn=(Dn=[gn,gn])[1],Rn[0]=Tn[0]*(ar=Dn[0]),Rn[1]=zn*ar,Rn[2]=or*Yn,Rn[3]=er*Yn,Rn;var Rn,Tn,Dn,zn,or,er,ar,Yn}(st,this);return Ut[ht]=Vt,Ut[ht]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const st=this._elevation;this._updateCameraState();const ht=j.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Ut=this._computeCameraPosition(ht),Vt=this._camera.forward(),Lt=j.mercatorZfromAltitude(1,this._center.lat);Ut[2]/=Lt,Vt[2]/=Lt,j.normalize(Vt,Vt);const Kt=st.raycast(Ut,Vt,st.exaggeration());if(Kt){const hn=j.scaleAndAdd([],Ut,Vt,Kt),gn=new j.MercatorCoordinate(hn[0],hn[1],j.mercatorZfromAltitude(hn[2],j.latFromMercatorY(hn[1]))),Rn=(gn.z+j.length([gn.x-Ut[0],gn.y-Ut[1],gn.z-Ut[2]*Lt]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(Rn),this._centerAltitude=gn.toAltitude(),this._center=this.coordinateLocation(gn),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const st=this._elevation;this._updateCameraState();const ht=j.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Ut=this._computeCameraPosition(ht),Vt=st.getAtPointOrZero(new j.MercatorCoordinate(...Ut)),Lt=this._minimumHeightOverTerrain()*Math.cos(j.degToRad(this._maxPitch)),Kt=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*Vt;if(Kt<Lt){const hn=this.locationCoordinate(this._center,this._centerAltitude),gn=[hn.x-Ut[0],hn.y-Ut[1],hn.z-Ut[2]],Rn=j.length(gn);gn[2]-=(Lt-Kt)/this._pixelsPerMercatorPixel;const Tn=j.length(gn);if(Tn===0)return;j.scale$2(gn,gn,Rn/Tn*this._pixelsPerMercatorPixel),this._camera.position=[hn.x-gn[0],hn.y-gn[1],hn.z*this._pixelsPerMercatorPixel-gn[2]],this._camera.orientation=pm(gn,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const st=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||st){const zn=this.center;return zn.lat=j.clamp(zn.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!st)&&(zn.lng=j.clamp(zn.lng,this.minLng,this.maxLng)),this.center=zn,void(this._constraining=!1)}const ht=this._unmodified,{x:Ut,y:Vt}=this.point;let Lt=0,Kt=Ut,hn=Vt;const gn=this.width/2,Rn=this.height/2,Tn=this.worldMinY*this.scale,Dn=this.worldMaxY*this.scale;if(Vt-Rn<Tn&&(hn=Tn+Rn),Vt+Rn>Dn&&(hn=Dn-Rn),Dn-Tn<this.height&&(Lt=Math.max(Lt,this.height/(Dn-Tn)),hn=(Dn+Tn)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const zn=this.worldMinX*this.scale,or=this.worldMaxX*this.scale,er=this.worldSize/2-(zn+or)/2;Kt=(Ut+er+this.worldSize)%this.worldSize-er,Kt-gn<zn&&(Kt=zn+gn),Kt+gn>or&&(Kt=or-gn),or-zn<this.width&&(Lt=Math.max(Lt,this.width/(or-zn)),Kt=(or+zn)/2)}Kt===Ut&&hn===Vt||(this.center=this.unproject(new j.pointGeometry(Kt,hn))),Lt&&(this.zoom+=this.scaleZoom(Lt)),this._constrainCameraAltitude(),this._unmodified=ht,this._constraining=!1}_minZoomForBounds(){let st=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(st=Math.max(st,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),st}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const st=this.centerOffset,ht=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=j.mercatorZfromAltitude(1,this.center.lat)/j.mercatorZfromAltitude(1,j.GLOBE_SCALE_MATCH_LATITUDE));const Ut=Hp(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,Ut),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const Vt=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?ht:1),Lt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);Lt[8]=2*-st.x/this.width,Lt[9]=2*st.y/this.height;let Kt=j.mul([],Lt,Vt);if(this.projection.isReprojectedInTileSpace){const br=this.locationCoordinate(this.center),ur=j.identity([]);j.translate(ur,ur,[br.x*this.worldSize,br.y*this.worldSize,0]),j.multiply(ur,ur,Om(this)),j.translate(ur,ur,[-br.x*this.worldSize,-br.y*this.worldSize,0]),j.multiply(Kt,Kt,ur),this.inverseAdjustmentMatrix=function(Sr){const Ar=Om(Sr,!0);return Ft([],[Ar[0],Ar[1],Ar[4],Ar[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=j.scale([],Kt,[this.worldSize,this.worldSize,this.worldSize/ht,1]),this.projMatrix=Kt,this.invProjMatrix=j.invert(new Float64Array(16),this.projMatrix);const hn=j.invert([],Lt);this.frustumCorners=j.FrustumCorners.fromInvProjectionMatrix(hn,this.horizonLineFromTop(),this.height);const gn=new Float32Array(16);j.identity(gn),j.scale(gn,gn,[1,-1,1]),j.rotateX(gn,gn,this._pitch),j.rotateZ(gn,gn,this.angle);const Rn=j.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Tn=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;Rn[8]=2*-st.x/this.width,Rn[9]=2*(st.y+Tn)/this.height,this.skyboxMatrix=j.multiply(gn,Rn,gn);const Dn=this.point,zn=Dn.x,or=Dn.y,er=this.width%2/2,ar=this.height%2/2,Yn=Math.cos(this.angle),$n=Math.sin(this.angle),cr=zn-Math.round(zn)+Yn*er+$n*ar,tr=or-Math.round(or)+Yn*ar+$n*er,yr=new Float64Array(Kt);if(j.translate(yr,yr,[cr>.5?cr-1:cr,tr>.5?tr-1:tr,0]),this.alignedProjMatrix=yr,Kt=j.create(),j.scale(Kt,Kt,[this.width/2,-this.height/2,1]),j.translate(Kt,Kt,[1,-1,0]),this.labelPlaneMatrix=Kt,Kt=j.create(),j.scale(Kt,Kt,[1,-1,1]),j.translate(Kt,Kt,[-1,-1,0]),j.scale(Kt,Kt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Kt,this.pixelMatrix=j.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},Kt=j.invert(new Float64Array(16),this.pixelMatrix),!Kt)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=Kt,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=j.calculateGlobeMatrix(this);const br=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=j.transformMat4(br,br,Vt),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=Kt;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const st=this.cameraWorldSize,ht=this.cameraPixelsPerMeter,Ut=this._camera.position,Vt=1/this.height/this._pixelsPerMercatorPixel,Lt=[st,st,ht];j.scale$2(Lt,Lt,Vt),j.scale$2(Ut,Ut,-1),j.multiply$2(Ut,Ut,Lt);const Kt=j.create();j.translate(Kt,Kt,Ut),j.scale(Kt,Kt,Lt),this.mercatorFogMatrix=Kt,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(st,ht,Vt)}_computeCameraPosition(st){const ht=(st=st||this.pixelsPerMeter)/this.pixelsPerMeter,Ut=this._camera.forward(),Vt=this.point,Lt=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*ht-st/this.worldSize*this._centerAltitude;return[Vt.x/this.worldSize-Ut[0]*Lt,Vt.y/this.worldSize-Ut[1]*Lt,st/this.worldSize*this._centerAltitude-Ut[2]*Lt]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(st){const ht=this._maxCameraBoundsDistance()*Math.cos(this._pitch),Ut=this._camera.position[2],Vt=st[2];let Lt=1;this.projection.wrap&&(this.center=this.center.wrap()),Vt>0&&(Lt=Math.min((ht-Ut)/Vt,1)),this._camera.position=j.scaleAndAdd([],this._camera.position,st,Lt),this._updateStateFromCamera()}_updateStateFromCamera(){const st=this._camera.position,ht=this._camera.forward(),{pitch:Ut,bearing:Vt}=this._camera.getPitchBearing(),Lt=j.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,Kt=this._mercatorZfromZoom(this._maxZoom)*Math.cos(j.degToRad(this._maxPitch)),hn=Math.max((st[2]-Lt)/Math.cos(Ut),Kt),gn=this._zoomFromMercatorZ(hn);j.scaleAndAdd(st,st,ht,hn),this._pitch=j.clamp(Ut,j.degToRad(this.minPitch),j.degToRad(this.maxPitch)),this.angle=j.wrap(Vt,-Math.PI,Math.PI),this._setZoom(j.clamp(gn,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new j.MercatorCoordinate(st[0],st[1],st[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(st){return Math.pow(2,st)*this.tileSize}_mercatorZfromZoom(st){return this.cameraToCenterDistance/this._worldSizeFromZoom(st)}_minimumHeightOverTerrain(){const st=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(st)}_zoomFromMercatorZ(st){return this.scaleZoom(this.cameraToCenterDistance/(st*this.tileSize))}zoomFromMercatorZAdjusted(st){const ht=Kt=>{const hn=this.getCameraToCenterDistance(this.projection,Kt);return this.scaleZoom(hn/(st*this.tileSize))};let Ut,Vt=ht(this.zoom),Lt=Math.abs(Vt-ht(Vt));for(;Ut!==Lt;)Vt=ht(Vt),Ut=Lt,Lt=Math.abs(Vt-ht(Vt));return Vt}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(j.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(st,ht){const Ut=Math.min(st.x,ht.x),Vt=Math.max(st.x,ht.x),Lt=Math.min(st.y,ht.y),Kt=Math.max(st.y,ht.y);if(Lt<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const hn=[new j.pointGeometry(Ut,Lt),new j.pointGeometry(Vt,Kt),new j.pointGeometry(Ut,Kt),new j.pointGeometry(Vt,Lt)],gn=this.renderWorldCopies?-3:0,Rn=this.renderWorldCopies?4:1;for(const Tn of hn){const Dn=this.pointRayIntersection(Tn);if(Dn.t<0)return!0;const zn=this.rayIntersectionCoordinate(Dn);if(zn.x<gn||zn.y<0||zn.x>Rn||zn.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+j.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new j.pointGeometry(0,0),new j.pointGeometry(this.width,this.height))}zoomDeltaToMovement(st,ht){const Ut=j.length(j.sub([],this._camera.position,st)),Vt=this._zoomFromMercatorZ(Ut)+ht;return Ut-this._mercatorZfromZoom(Vt)}getCameraPoint(){if(this.projection.name==="globe"){const st=function(ht,Ut){const Vt=[ht[0],ht[1],ht[2],1];j.transformMat4$1(Vt,Vt,Ut);const Lt=Math.max(Vt[3],1e-6);return[Vt[0]/Lt,Vt[1]/Lt,Vt[2]/Lt,Lt]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new j.pointGeometry(st[0],st[1])}{const st=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new j.pointGeometry(0,st))}}getCameraToCenterDistance(st,ht=this.zoom){const Ut=Hp(st,ht,this.width,this.height,1024),Vt=st.pixelSpaceConversion(this.center.lat,this.worldSize,Ut);return .5/Math.tan(.5*this._fov)*this.height*Vt}getWorldToCameraMatrix(){const st=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&j.multiply(st,st,this.globeMatrix),st}}function T_(_t,st){let ht=!1,Ut=null;const Vt=()=>{Ut=null,ht&&(_t(),Ut=setTimeout(Vt,st),ht=!1)};return()=>(ht=!0,Ut||Vt(),Ut)}class Py{constructor(st){this._hashName=st&&encodeURIComponent(st),j.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=T_(this._updateHashUnthrottled.bind(this),300)}addTo(st){return this._map=st,j.window.addEventListener("hashchange",this._onHashChange,!1),st.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),j.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const st=this._map;if(!st)return"";const ht=dy(st);if(this._hashName){const Ut=this._hashName;let Vt=!1;const Lt=j.window.location.hash.slice(1).split("&").map(Kt=>{const hn=Kt.split("=")[0];return hn===Ut?(Vt=!0,`${hn}=${ht}`):Kt}).filter(Kt=>Kt);return Vt||Lt.push(`${Ut}=${ht}`),`#${Lt.join("&")}`}return`#${ht}`}_getCurrentHash(){const st=j.window.location.hash.replace("#","");if(this._hashName){let ht;return st.split("&").map(Ut=>Ut.split("=")).forEach(Ut=>{Ut[0]===this._hashName&&(ht=Ut)}),(ht&&ht[1]||"").split("/")}return st.split("/")}_onHashChange(){const st=this._map;if(!st)return!1;const ht=this._getCurrentHash();if(ht.length>=3&&!ht.some(Ut=>isNaN(Ut))){const Ut=st.dragRotate.isEnabled()&&st.touchZoomRotate.isEnabled()?+(ht[3]||0):st.getBearing();return st.jumpTo({center:[+ht[2],+ht[1]],zoom:+ht[0],bearing:Ut,pitch:+(ht[4]||0)}),!0}return!1}_updateHashUnthrottled(){const st=j.window.location.href.replace(/(#.+)?$/,this.getHashString());j.window.history.replaceState(j.window.history.state,null,st)}}function dy(_t,st){const ht=_t.getCenter(),Ut=Math.round(100*_t.getZoom())/100,Vt=Math.ceil((Ut*Math.LN2+Math.log(512/360/.5))/Math.LN10),Lt=Math.pow(10,Vt),Kt=Math.round(ht.lng*Lt)/Lt,hn=Math.round(ht.lat*Lt)/Lt,gn=_t.getBearing(),Rn=_t.getPitch();let Tn=st?`/${Kt}/${hn}/${Ut}`:`${Ut}/${hn}/${Kt}`;return(gn||Rn)&&(Tn+="/"+Math.round(10*gn)/10),Rn&&(Tn+=`/${Math.round(Rn)}`),Tn}const yp={linearity:.3,easing:j.bezier(0,0,.3,1)},vv=j.extend({deceleration:2500,maxSpeed:1400},yp),Ly=j.extend({deceleration:20,maxSpeed:1400},yp),Q_=j.extend({deceleration:1e3,maxSpeed:360},yp),E0=j.extend({deceleration:1e3,maxSpeed:90},yp);class Ll{constructor(st){this._map=st,this.clear()}clear(){this._inertiaBuffer=[]}record(st){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:j.exported.now(),settings:st})}_drainInertiaBuffer(){const st=this._inertiaBuffer,ht=j.exported.now();for(;st.length>0&&ht-st[0].time>160;)st.shift()}_onMoveEnd(st){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const ht={zoom:0,bearing:0,pitch:0,pan:new j.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:Lt}of this._inertiaBuffer)ht.zoom+=Lt.zoomDelta||0,ht.bearing+=Lt.bearingDelta||0,ht.pitch+=Lt.pitchDelta||0,Lt.panDelta&&ht.pan._add(Lt.panDelta),Lt.around&&(ht.around=Lt.around),Lt.pinchAround&&(ht.pinchAround=Lt.pinchAround);const Ut=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,Vt={};if(ht.pan.mag()){const Lt=$p(ht.pan.mag(),Ut,j.extend({},vv,st||{}));Vt.offset=ht.pan.mult(Lt.amount/ht.pan.mag()),Vt.center=this._map.transform.center,Wl(Vt,Lt)}if(ht.zoom){const Lt=$p(ht.zoom,Ut,Ly);Vt.zoom=this._map.transform.zoom+Lt.amount,Wl(Vt,Lt)}if(ht.bearing){const Lt=$p(ht.bearing,Ut,Q_);Vt.bearing=this._map.transform.bearing+j.clamp(Lt.amount,-179,179),Wl(Vt,Lt)}if(ht.pitch){const Lt=$p(ht.pitch,Ut,E0);Vt.pitch=this._map.transform.pitch+Lt.amount,Wl(Vt,Lt)}if(Vt.zoom||Vt.bearing){const Lt=ht.pinchAround===void 0?ht.around:ht.pinchAround;Vt.around=Lt?this._map.unproject(Lt):this._map.getCenter()}return this.clear(),Vt.noMoveStart=!0,Vt}}function Wl(_t,st){(!_t.duration||_t.duration<st.duration)&&(_t.duration=st.duration,_t.easing=st.easing)}function $p(_t,st,ht){const{maxSpeed:Ut,linearity:Vt,deceleration:Lt}=ht,Kt=j.clamp(_t*Vt/(st/1e3),-Ut,Ut),hn=Math.abs(Kt)/(Lt*Vt);return{easing:ht.easing,duration:1e3*hn,amount:Kt*(hn/2)}}class Pu extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(st,ht,Ut,Vt={}){const Lt=mt(ht.getCanvasContainer(),Ut),Kt=ht.unproject(Lt);super(st,j.extend({point:Lt,lngLat:Kt,originalEvent:Ut},Vt)),this._defaultPrevented=!1,this.target=ht}}class Wy extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(st,ht,Ut){const Vt=st==="touchend"?Ut.changedTouches:Ut.touches,Lt=Nt(ht.getCanvasContainer(),Vt),Kt=Lt.map(gn=>ht.unproject(gn)),hn=Lt.reduce((gn,Rn,Tn,Dn)=>gn.add(Rn.div(Dn.length)),new j.pointGeometry(0,0));super(st,{points:Lt,point:hn,lngLats:Kt,lngLat:ht.unproject(hn),originalEvent:Ut}),this._defaultPrevented=!1}}class bv extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(st,ht,Ut){super(st,{originalEvent:Ut}),this._defaultPrevented=!1}}class fy{constructor(st,ht){this._map=st,this._clickTolerance=ht.clickTolerance}reset(){this._mousedownPos=void 0}wheel(st){return this._firePreventable(new bv(st.type,this._map,st))}mousedown(st,ht){return this._mousedownPos=ht,this._firePreventable(new Pu(st.type,this._map,st))}mouseup(st){this._map.fire(new Pu(st.type,this._map,st))}preclick(st){const ht=j.extend({},st);ht.type="preclick",this._map.fire(new Pu(ht.type,this._map,ht))}click(st,ht){this._mousedownPos&&this._mousedownPos.dist(ht)>=this._clickTolerance||(this.preclick(st),this._map.fire(new Pu(st.type,this._map,st)))}dblclick(st){return this._firePreventable(new Pu(st.type,this._map,st))}mouseover(st){this._map.fire(new Pu(st.type,this._map,st))}mouseout(st){this._map.fire(new Pu(st.type,this._map,st))}touchstart(st){return this._firePreventable(new Wy(st.type,this._map,st))}touchmove(st){this._map.fire(new Wy(st.type,this._map,st))}touchend(st){this._map.fire(new Wy(st.type,this._map,st))}touchcancel(st){this._map.fire(new Wy(st.type,this._map,st))}_firePreventable(st){if(this._map.fire(st),st.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Im{constructor(st){this._map=st}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(st){this._map.fire(new Pu(st.type,this._map,st))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Pu("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(st){this._delayContextMenu?this._contextMenuEvent=st:this._map.fire(new Pu(st.type,this._map,st)),this._map.listens("contextmenu")&&st.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class B0{constructor(st,ht){this._map=st,this._el=st.getCanvasContainer(),this._container=st.getContainer(),this._clickTolerance=ht.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(st,ht){this.isEnabled()&&st.shiftKey&&st.button===0&&(Qt(),this._startPos=this._lastPos=ht,this._active=!0)}mousemoveWindow(st,ht){if(!this._active)return;const Ut=ht,Vt=this._startPos,Lt=this._lastPos;if(!Vt||!Lt||Lt.equals(Ut)||!this._box&&Ut.dist(Vt)<this._clickTolerance)return;this._lastPos=Ut,this._box||(this._box=pt("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",st));const Kt=Math.min(Vt.x,Ut.x),hn=Math.max(Vt.x,Ut.x),gn=Math.min(Vt.y,Ut.y),Rn=Math.max(Vt.y,Ut.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${Kt}px,${gn}px)`,this._box.style.width=hn-Kt+"px",this._box.style.height=Rn-gn+"px")})}mouseupWindow(st,ht){if(!this._active)return;const Ut=this._startPos,Vt=ht;if(Ut&&st.button===0){if(this.reset(),Tt(),Ut.x!==Vt.x||Ut.y!==Vt.y)return this._map.fire(new j.Event("boxzoomend",{originalEvent:st})),{cameraAnimation:Lt=>Lt.fitScreenCoordinates(Ut,Vt,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",st)}}keydown(st){this._active&&st.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",st))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),It(),delete this._startPos,delete this._lastPos}_fireEvent(st,ht){return this._map.fire(new j.Event(st,{originalEvent:ht}))}}function Yp(_t,st){const ht={};for(let Ut=0;Ut<_t.length;Ut++)ht[_t[Ut].identifier]=st[Ut];return ht}class ym{constructor(st){this.reset(),this.numTouches=st.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(st,ht,Ut){(this.centroid||Ut.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=st.timeStamp),Ut.length===this.numTouches&&(this.centroid=function(Vt){const Lt=new j.pointGeometry(0,0);for(const Kt of Vt)Lt._add(Kt);return Lt.div(Vt.length)}(ht),this.touches=Yp(Ut,ht)))}touchmove(st,ht,Ut){if(this.aborted||!this.centroid)return;const Vt=Yp(Ut,ht);for(const Lt in this.touches){const Kt=this.touches[Lt],hn=Vt[Lt];(!hn||hn.dist(Kt)>30)&&(this.aborted=!0)}}touchend(st,ht,Ut){if((!this.centroid||st.timeStamp-this.startTime>500)&&(this.aborted=!0),Ut.length===0){const Vt=!this.aborted&&this.centroid;if(this.reset(),Vt)return Vt}}}class Xp{constructor(st){this.singleTap=new ym(st),this.numTaps=st.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(st,ht,Ut){this.singleTap.touchstart(st,ht,Ut)}touchmove(st,ht,Ut){this.singleTap.touchmove(st,ht,Ut)}touchend(st,ht,Ut){const Vt=this.singleTap.touchend(st,ht,Ut);if(Vt){const Lt=st.timeStamp-this.lastTime<500,Kt=!this.lastTap||this.lastTap.dist(Vt)<30;if(Lt&&Kt||this.reset(),this.count++,this.lastTime=st.timeStamp,this.lastTap=Vt,this.count===this.numTaps)return this.reset(),Vt}}}class Jy{constructor(){this._zoomIn=new Xp({numTouches:1,numTaps:2}),this._zoomOut=new Xp({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(st,ht,Ut){this._zoomIn.touchstart(st,ht,Ut),this._zoomOut.touchstart(st,ht,Ut)}touchmove(st,ht,Ut){this._zoomIn.touchmove(st,ht,Ut),this._zoomOut.touchmove(st,ht,Ut)}touchend(st,ht,Ut){const Vt=this._zoomIn.touchend(st,ht,Ut),Lt=this._zoomOut.touchend(st,ht,Ut);return Vt?(this._active=!0,st.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:Kt=>Kt.easeTo({duration:300,zoom:Kt.getZoom()+1,around:Kt.unproject(Vt)},{originalEvent:st})}):Lt?(this._active=!0,st.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:Kt=>Kt.easeTo({duration:300,zoom:Kt.getZoom()-1,around:Kt.unproject(Lt)},{originalEvent:st})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Pm={0:1,2:2};class T0{constructor(st){this.reset(),this._clickTolerance=st.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(st,ht){return!1}_move(st,ht){return{}}mousedown(st,ht){if(this._lastPoint)return;const Ut=en(st);this._correctButton(st,Ut)&&(this._lastPoint=ht,this._eventButton=Ut)}mousemoveWindow(st,ht){const Ut=this._lastPoint;if(Ut){if(st.preventDefault(),this._eventButton!=null&&function(Vt,Lt){const Kt=Pm[Lt];return Vt.buttons===void 0||(Vt.buttons&Kt)!==Kt}(st,this._eventButton))this.reset();else if(this._moved||!(ht.dist(Ut)<this._clickTolerance))return this._moved=!0,this._lastPoint=ht,this._move(Ut,ht)}}mouseupWindow(st){this._lastPoint&&en(st)===this._eventButton&&(this._moved&&Tt(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Uv extends T0{mousedown(st,ht){super.mousedown(st,ht),this._lastPoint&&(this._active=!0)}_correctButton(st,ht){return ht===0&&!st.ctrlKey}_move(st,ht){return{around:ht,panDelta:ht.sub(st)}}}class x_ extends T0{_correctButton(st,ht){return ht===0&&st.ctrlKey||ht===2}_move(st,ht){const Ut=.8*(ht.x-st.x);if(Ut)return this._active=!0,{bearingDelta:Ut}}contextmenu(st){st.preventDefault()}}class Lm extends T0{_correctButton(st,ht){return ht===0&&st.ctrlKey||ht===2}_move(st,ht){const Ut=-.5*(ht.y-st.y);if(Ut)return this._active=!0,{pitchDelta:Ut}}contextmenu(st){st.preventDefault()}}class Fv{constructor(st,ht){this._map=st,this._el=st.getCanvasContainer(),this._minTouches=1,this._clickTolerance=ht.clickTolerance||1,this.reset(),j.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new j.pointGeometry(0,0)}touchstart(st,ht,Ut){return this._calculateTransform(st,ht,Ut)}touchmove(st,ht,Ut){if(this._active&&!(Ut.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(Ut.length===1&&!j.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return st.cancelable&&st.preventDefault(),this._calculateTransform(st,ht,Ut)}}touchend(st,ht,Ut){this._calculateTransform(st,ht,Ut),this._active&&Ut.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(st,ht,Ut){Ut.length>0&&(this._active=!0);const Vt=Yp(Ut,ht),Lt=new j.pointGeometry(0,0),Kt=new j.pointGeometry(0,0);let hn=0;for(const Rn in Vt){const Tn=Vt[Rn],Dn=this._touches[Rn];Dn&&(Lt._add(Tn),Kt._add(Tn.sub(Dn)),hn++,Vt[Rn]=Tn)}if(this._touches=Vt,hn<this._minTouches||!Kt.mag())return;const gn=Kt.div(hn);return this._sum._add(gn),this._sum.mag()<this._clickTolerance?void 0:{around:Lt.div(hn),panDelta:gn}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=pt("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Wm{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(st){}_move(st,ht,Ut){return{}}touchstart(st,ht,Ut){this._firstTwoTouches||Ut.length<2||(this._firstTwoTouches=[Ut[0].identifier,Ut[1].identifier],this._start([ht[0],ht[1]]))}touchmove(st,ht,Ut){const Vt=this._firstTwoTouches;if(!Vt)return;st.preventDefault();const[Lt,Kt]=Vt,hn=qp(Ut,ht,Lt),gn=qp(Ut,ht,Kt);if(!hn||!gn)return;const Rn=this._aroundCenter?null:hn.add(gn).div(2);return this._move([hn,gn],Rn,st)}touchend(st,ht,Ut){if(!this._firstTwoTouches)return;const[Vt,Lt]=this._firstTwoTouches,Kt=qp(Ut,ht,Vt),hn=qp(Ut,ht,Lt);Kt&&hn||(this._active&&Tt(),this.reset())}touchcancel(){this.reset()}enable(st){this._enabled=!0,this._aroundCenter=!!st&&st.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function qp(_t,st,ht){for(let Ut=0;Ut<_t.length;Ut++)if(_t[Ut].identifier===ht)return st[Ut]}function Q0(_t,st){return Math.log(_t/st)/Math.LN2}class Kn extends Wm{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(st){this._startDistance=this._distance=st[0].dist(st[1])}_move(st,ht){const Ut=this._distance;if(this._distance=st[0].dist(st[1]),this._active||!(Math.abs(Q0(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Q0(this._distance,Ut),pinchAround:ht}}}function _m(_t,st){return 180*_t.angleWith(st)/Math.PI}class Xl extends Wm{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(st){this._startVector=this._vector=st[0].sub(st[1]),this._minDiameter=st[0].dist(st[1])}_move(st,ht){const Ut=this._vector;if(this._vector=st[0].sub(st[1]),Ut&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:_m(this._vector,Ut),pinchAround:ht}}_isBelowThreshold(st){this._minDiameter=Math.min(this._minDiameter,st.mag());const ht=25/(Math.PI*this._minDiameter)*360,Ut=this._startVector;if(!Ut)return!1;const Vt=_m(st,Ut);return Math.abs(Vt)<ht}}function ku(_t){return Math.abs(_t.y)>Math.abs(_t.x)}class ks extends Wm{constructor(st){super(),this._map=st}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(st){this._lastPoints=st,ku(st[0].sub(st[1]))&&(this._valid=!1)}_move(st,ht,Ut){const Vt=this._lastPoints;if(!Vt)return;const Lt=st[0].sub(Vt[0]),Kt=st[1].sub(Vt[1]);return this._map._cooperativeGestures&&!j.isFullscreen()&&Ut.touches.length<3||(this._valid=this.gestureBeginsVertically(Lt,Kt,Ut.timeStamp),!this._valid)?void 0:(this._lastPoints=st,this._active=!0,{pitchDelta:(Lt.y+Kt.y)/2*-.5})}gestureBeginsVertically(st,ht,Ut){if(this._valid!==void 0)return this._valid;const Vt=st.mag()>=2,Lt=ht.mag()>=2;if(!Vt&&!Lt)return;if(!Vt||!Lt)return this._firstMove==null&&(this._firstMove=Ut),Ut-this._firstMove<100&&void 0;const Kt=st.y>0==ht.y>0;return ku(st)&&ku(ht)&&Kt}}const CU={panStep:100,bearingStep:15,pitchStep:10};class kU{constructor(){const st=CU;this._panStep=st.panStep,this._bearingStep=st.bearingStep,this._pitchStep=st.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(st){if(st.altKey||st.ctrlKey||st.metaKey)return;let ht=0,Ut=0,Vt=0,Lt=0,Kt=0;switch(st.keyCode){case 61:case 107:case 171:case 187:ht=1;break;case 189:case 109:case 173:ht=-1;break;case 37:st.shiftKey?Ut=-1:(st.preventDefault(),Lt=-1);break;case 39:st.shiftKey?Ut=1:(st.preventDefault(),Lt=1);break;case 38:st.shiftKey?Vt=1:(st.preventDefault(),Kt=-1);break;case 40:st.shiftKey?Vt=-1:(st.preventDefault(),Kt=1);break;default:return}return this._rotationDisabled&&(Ut=0,Vt=0),{cameraAnimation:hn=>{const gn=hn.getZoom();hn.easeTo({duration:300,easeId:"keyboardHandler",easing:Kp,zoom:ht?Math.round(gn)+ht*(st.shiftKey?2:1):gn,bearing:hn.getBearing()+Ut*this._bearingStep,pitch:hn.getPitch()+Vt*this._pitchStep,offset:[-Lt*this._panStep,-Kt*this._panStep],center:hn.getCenter()},{originalEvent:st})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Kp(_t){return _t*(2-_t)}const _g=4.000244140625;class py{constructor(st,ht){this._map=st,this._el=st.getCanvasContainer(),this._handler=ht,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,j.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(st){this._defaultZoomRate=st}setWheelZoomRate(st){this._wheelZoomRate=st}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(st){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!st&&st.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(st){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(st.ctrlKey||st.metaKey||this.isZooming()||j.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let ht=st.deltaMode===j.window.WheelEvent.DOM_DELTA_LINE?40*st.deltaY:st.deltaY;const Ut=j.exported.now(),Vt=Ut-(this._lastWheelEventTime||0);this._lastWheelEventTime=Ut,ht!==0&&ht%_g==0?this._type="wheel":ht!==0&&Math.abs(ht)<4?this._type="trackpad":Vt>400?(this._type=null,this._lastValue=ht,this._timeout=setTimeout(this._onTimeout,40,st)):this._type||(this._type=Math.abs(Vt*ht)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ht+=this._lastValue)),st.shiftKey&&ht&&(ht/=4),this._type&&(this._lastWheelEvent=st,this._delta-=ht,this._active||this._start(st)),st.preventDefault()}_onTimeout(st){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(st)}_start(st){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const ht=mt(this._el,st);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:ht,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const st=this._map.transform;this._type==="wheel"&&st.projection.wrap&&(st._center.lng>=180||st._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const ht=()=>st._terrainEnabled()&&this._aroundCoord?st.computeZoomRelativeTo(this._aroundCoord):st.zoom;if(this._delta!==0){const gn=this._type==="wheel"&&Math.abs(this._delta)>_g?this._wheelZoomRate:this._defaultZoomRate;let Rn=2/(1+Math.exp(-Math.abs(this._delta*gn)));this._delta<0&&Rn!==0&&(Rn=1/Rn);const Tn=ht(),Dn=Math.pow(2,Tn),zn=typeof this._targetZoom=="number"?st.zoomScale(this._targetZoom):Dn;this._targetZoom=Math.min(st.maxZoom,Math.max(st.minZoom,st.scaleZoom(zn*Rn))),this._type==="wheel"&&(this._startZoom=Tn,this._easing=this._smoothOutEasing(200)),this._delta=0}const Ut=typeof this._targetZoom=="number"?this._targetZoom:ht(),Vt=this._startZoom,Lt=this._easing;let Kt,hn=!1;if(this._type==="wheel"&&Vt&&Lt){const gn=Math.min((j.exported.now()-this._lastWheelEventTime)/200,1),Rn=Lt(gn);Kt=j.number(Vt,Ut,Rn),gn<1?this._frameId||(this._frameId=!0):hn=!0}else Kt=Ut,hn=!0;return this._active=!0,hn&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!hn,zoomDelta:Kt-ht(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(st){let ht=j.ease;if(this._prevEase){const Ut=this._prevEase,Vt=(j.exported.now()-Ut.start)/Ut.duration,Lt=Ut.easing(Vt+.01)-Ut.easing(Vt),Kt=.27/Math.sqrt(Lt*Lt+1e-4)*.01,hn=Math.sqrt(.0729-Kt*Kt);ht=j.bezier(Kt,hn,.25,1)}return this._prevEase={start:j.exported.now(),duration:st,easing:ht},ht}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=pt("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(j.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Cp{constructor(st,ht){this._clickZoom=st,this._tapZoom=ht}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class x0{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(st,ht){return st.preventDefault(),{cameraAnimation:Ut=>{Ut.easeTo({duration:300,zoom:Ut.getZoom()+(st.shiftKey?-1:1),around:Ut.unproject(ht)},{originalEvent:st})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ko{constructor(){this._tap=new Xp({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(st,ht,Ut){this._swipePoint||(this._tapTime&&st.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?Ut.length>0&&(this._swipePoint=ht[0],this._swipeTouch=Ut[0].identifier):this._tap.touchstart(st,ht,Ut))}touchmove(st,ht,Ut){if(this._tapTime){if(this._swipePoint){if(Ut[0].identifier!==this._swipeTouch)return;const Vt=ht[0],Lt=Vt.y-this._swipePoint.y;return this._swipePoint=Vt,st.preventDefault(),this._active=!0,{zoomDelta:Lt/128}}}else this._tap.touchmove(st,ht,Ut)}touchend(st,ht,Ut){this._tapTime?this._swipePoint&&Ut.length===0&&this.reset():this._tap.touchend(st,ht,Ut)&&(this._tapTime=st.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Sv{constructor(st,ht,Ut){this._el=st,this._mousePan=ht,this._touchPan=Ut}enable(st){this._inertiaOptions=st||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class kp{constructor(st,ht,Ut){this._pitchWithRotate=st.pitchWithRotate,this._mouseRotate=ht,this._mousePitch=Ut}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class jy{constructor(st,ht,Ut,Vt){this._el=st,this._touchZoom=ht,this._touchRotate=Ut,this._tapDragZoom=Vt,this._rotationDisabled=!1,this._enabled=!0}enable(st){this._touchZoom.enable(st),this._rotationDisabled||this._touchRotate.enable(st),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const vm=_t=>_t.zoom||_t.drag||_t.pitch||_t.rotate;class Rv extends j.Event{}class wv{constructor(){this.constants=[1,1,.01],this.radius=0}setup(st,ht){const Ut=j.sub([],ht,st);this.radius=j.length(Ut[2]<0?j.div([],Ut,this.constants):[Ut[0],Ut[1],0])}projectRay(st){j.div(st,st,this.constants),j.normalize(st,st),j.mul$1(st,st,this.constants);const ht=j.scale$2([],st,this.radius);if(ht[2]>0){const Ut=j.scale$2([],[0,0,1],j.dot(ht,[0,0,1])),Vt=j.scale$2([],j.normalize([],[ht[0],ht[1],0]),this.radius),Lt=j.add([],ht,j.scale$2([],j.sub([],j.add([],Vt,Ut),ht),2));ht[0]=Lt[0],ht[1]=Lt[1]}return ht}}function zy(_t){return _t.panDelta&&_t.panDelta.mag()||_t.zoomDelta||_t.bearingDelta||_t.pitchDelta}class Mp{constructor(st,ht){this._map=st,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ll(st),this._bearingSnap=ht.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new wv,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(ht),j.bindAll(["handleEvent","handleWindowEvent"],this);const Ut=this._el;this._listeners=[[Ut,"touchstart",{passive:!0}],[Ut,"touchmove",{passive:!1}],[Ut,"touchend",void 0],[Ut,"touchcancel",void 0],[Ut,"mousedown",void 0],[Ut,"mousemove",void 0],[Ut,"mouseup",void 0],[j.window.document,"mousemove",{capture:!0}],[j.window.document,"mouseup",void 0],[Ut,"mouseover",void 0],[Ut,"mouseout",void 0],[Ut,"dblclick",void 0],[Ut,"click",void 0],[Ut,"keydown",{capture:!1}],[Ut,"keyup",void 0],[Ut,"wheel",{passive:!1}],[Ut,"contextmenu",void 0],[j.window,"blur",void 0]];for(const[Vt,Lt,Kt]of this._listeners)Vt.addEventListener(Lt,Vt===j.window.document?this.handleWindowEvent:this.handleEvent,Kt)}destroy(){for(const[st,ht,Ut]of this._listeners)st.removeEventListener(ht,st===j.window.document?this.handleWindowEvent:this.handleEvent,Ut)}_addDefaultHandlers(st){const ht=this._map,Ut=ht.getCanvasContainer();this._add("mapEvent",new fy(ht,st));const Vt=ht.boxZoom=new B0(ht,st);this._add("boxZoom",Vt);const Lt=new Jy,Kt=new x0;ht.doubleClickZoom=new Cp(Kt,Lt),this._add("tapZoom",Lt),this._add("clickZoom",Kt);const hn=new ko;this._add("tapDragZoom",hn);const gn=ht.touchPitch=new ks(ht);this._add("touchPitch",gn);const Rn=new x_(st),Tn=new Lm(st);ht.dragRotate=new kp(st,Rn,Tn),this._add("mouseRotate",Rn,["mousePitch"]),this._add("mousePitch",Tn,["mouseRotate"]);const Dn=new Uv(st),zn=new Fv(ht,st);ht.dragPan=new Sv(Ut,Dn,zn),this._add("mousePan",Dn),this._add("touchPan",zn,["touchZoom","touchRotate"]);const or=new Xl,er=new Kn;ht.touchZoomRotate=new jy(Ut,er,or,hn),this._add("touchRotate",or,["touchPan","touchZoom"]),this._add("touchZoom",er,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Im(ht));const ar=ht.scrollZoom=new py(ht,this);this._add("scrollZoom",ar,["mousePan"]);const Yn=ht.keyboard=new kU;this._add("keyboard",Yn);for(const $n of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])st.interactive&&st[$n]&&ht[$n].enable(st[$n])}_add(st,ht,Ut){this._handlers.push({handlerName:st,handler:ht,allowed:Ut}),this._handlersById[st]=ht}stop(st){if(!this._updatingCamera){for(const{handler:ht}of this._handlers)ht.reset();this._inertia.clear(),this._fireEvents({},{},st),this._changes=[]}}isActive(){for(const{handler:st}of this._handlers)if(st.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!vm(this._eventsInProgress)||this.isZooming()}_blockedByActive(st,ht,Ut){for(const Vt in st)if(Vt!==Ut&&(!ht||ht.indexOf(Vt)<0))return!0;return!1}handleWindowEvent(st){this.handleEvent(st,`${st.type}Window`)}_getMapTouches(st){const ht=[];for(const Ut of st)this._el.contains(Ut.target)&&ht.push(Ut);return ht}handleEvent(st,ht){this._updatingCamera=!0;const Ut=st.type==="renderFrame",Vt=Ut?void 0:st,Lt={needsRenderFrame:!1},Kt={},hn={},gn=st.touches?this._getMapTouches(st.touches):void 0,Rn=gn?Nt(this._el,gn):Ut?void 0:mt(this._el,st);for(const{handlerName:zn,handler:or,allowed:er}of this._handlers){if(!or.isEnabled())continue;let ar;this._blockedByActive(hn,er,zn)?or.reset():or[ht||st.type]&&(ar=or[ht||st.type](st,Rn,gn),this.mergeHandlerResult(Lt,Kt,ar,zn,Vt),ar&&ar.needsRenderFrame&&this._triggerRenderFrame()),(ar||or.isActive())&&(hn[zn]=or)}const Tn={};for(const zn in this._previousActiveHandlers)hn[zn]||(Tn[zn]=Vt);this._previousActiveHandlers=hn,(Object.keys(Tn).length||zy(Lt))&&(this._changes.push([Lt,Kt,Tn]),this._triggerRenderFrame()),(Object.keys(hn).length||zy(Lt))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Dn}=Lt;Dn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Dn(this._map))}mergeHandlerResult(st,ht,Ut,Vt,Lt){if(!Ut)return;j.extend(st,Ut);const Kt={handlerName:Vt,originalEvent:Ut.originalEvent||Lt};Ut.zoomDelta!==void 0&&(ht.zoom=Kt),Ut.panDelta!==void 0&&(ht.drag=Kt),Ut.pitchDelta!==void 0&&(ht.pitch=Kt),Ut.bearingDelta!==void 0&&(ht.rotate=Kt)}_applyChanges(){const st={},ht={},Ut={};for(const[Vt,Lt,Kt]of this._changes)Vt.panDelta&&(st.panDelta=(st.panDelta||new j.pointGeometry(0,0))._add(Vt.panDelta)),Vt.zoomDelta&&(st.zoomDelta=(st.zoomDelta||0)+Vt.zoomDelta),Vt.bearingDelta&&(st.bearingDelta=(st.bearingDelta||0)+Vt.bearingDelta),Vt.pitchDelta&&(st.pitchDelta=(st.pitchDelta||0)+Vt.pitchDelta),Vt.around!==void 0&&(st.around=Vt.around),Vt.aroundCoord!==void 0&&(st.aroundCoord=Vt.aroundCoord),Vt.pinchAround!==void 0&&(st.pinchAround=Vt.pinchAround),Vt.noInertia&&(st.noInertia=Vt.noInertia),j.extend(ht,Lt),j.extend(Ut,Kt);this._updateMapTransform(st,ht,Ut),this._changes=[]}_updateMapTransform(st,ht,Ut){const Vt=this._map,Lt=Vt.transform,Kt=cr=>[cr.x,cr.y,cr.z];if((cr=>{const tr=this._eventsInProgress.drag;return tr&&!this._handlersById[tr.handlerName].isActive()})()&&!zy(st)){const cr=Lt.zoom;Lt.cameraElevationReference="sea",Lt.recenterOnTerrain(),Lt.cameraElevationReference="ground",cr!==Lt.zoom&&this._map._update(!0)}if(!zy(st))return void this._fireEvents(ht,Ut,!0);let{panDelta:hn,zoomDelta:gn,bearingDelta:Rn,pitchDelta:Tn,around:Dn,aroundCoord:zn,pinchAround:or}=st;or!==void 0&&(Dn=or),(cr=>ht.drag&&!this._eventsInProgress.drag)()&&Dn&&(this._dragOrigin=Kt(Lt.pointCoordinate3D(Dn)),this._trackingEllipsoid.setup(Lt._camera.position,this._dragOrigin)),Lt.cameraElevationReference="sea",Vt._stop(!0),Dn=Dn||Vt.transform.centerPoint,Rn&&(Lt.bearing+=Rn),Tn&&(Lt.pitch+=Tn),Lt._updateCameraState();const er=[0,0,0];if(hn)if(Lt.projection.name==="mercator"){const cr=this._trackingEllipsoid.projectRay(Lt.screenPointToMercatorRay(Dn).dir),tr=this._trackingEllipsoid.projectRay(Lt.screenPointToMercatorRay(Dn.sub(hn)).dir);er[0]=tr[0]-cr[0],er[1]=tr[1]-cr[1]}else{const cr=Lt.pointCoordinate(Dn);if(Lt.projection.name==="globe"){hn=hn.rotate(-Lt.angle);const tr=Lt._pixelsPerMercatorPixel/Lt.worldSize;er[0]=-hn.x*j.mercatorScale(j.latFromMercatorY(cr.y))*tr,er[1]=-hn.y*j.mercatorScale(Lt.center.lat)*tr}else{const tr=Lt.pointCoordinate(Dn.sub(hn));cr&&tr&&(er[0]=tr.x-cr.x,er[1]=tr.y-cr.y)}}const ar=Lt.zoom,Yn=[0,0,0];if(gn){const cr=Kt(zn||Lt.pointCoordinate3D(Dn)),tr={dir:j.normalize([],j.sub([],cr,Lt._camera.position))};if(tr.dir[2]<0){const yr=Lt.zoomDeltaToMovement(cr,gn);j.scale$2(Yn,tr.dir,yr)}}const $n=j.add(er,er,Yn);Lt._translateCameraConstrained($n),gn&&Math.abs(Lt.zoom-ar)>1e-4&&Lt.recenterOnTerrain(),Lt.cameraElevationReference="ground",this._map._update(),st.noInertia||this._inertia.record(st),this._fireEvents(ht,Ut,!0)}_fireEvents(st,ht,Ut){const Vt=vm(this._eventsInProgress),Lt=vm(st),Kt={};for(const Tn in st){const{originalEvent:Dn}=st[Tn];this._eventsInProgress[Tn]||(Kt[`${Tn}start`]=Dn),this._eventsInProgress[Tn]=st[Tn]}!Vt&&Lt&&this._fireEvent("movestart",Lt.originalEvent);for(const Tn in Kt)this._fireEvent(Tn,Kt[Tn]);Lt&&this._fireEvent("move",Lt.originalEvent);for(const Tn in st){const{originalEvent:Dn}=st[Tn];this._fireEvent(Tn,Dn)}const hn={};let gn;for(const Tn in this._eventsInProgress){const{handlerName:Dn,originalEvent:zn}=this._eventsInProgress[Tn];this._handlersById[Dn].isActive()||(delete this._eventsInProgress[Tn],gn=ht[Dn]||zn,hn[`${Tn}end`]=gn)}for(const Tn in hn)this._fireEvent(Tn,hn[Tn]);const Rn=vm(this._eventsInProgress);if(Ut&&(Vt||Lt)&&!Rn){this._updatingCamera=!0;const Tn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Dn=zn=>zn!==0&&-this._bearingSnap<zn&&zn<this._bearingSnap;Tn?(Dn(Tn.bearing||this._map.getBearing())&&(Tn.bearing=0),this._map.easeTo(Tn,{originalEvent:gn})):(this._map.fire(new j.Event("moveend",{originalEvent:gn})),Dn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(st,ht){this._map.fire(new j.Event(st,ht?{originalEvent:ht}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(st=>{this._frameId=void 0,this.handleEvent(new Rv("renderFrame",{timeStamp:st})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const A_="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Ev extends j.Evented{constructor(st,ht){super(),this._moving=!1,this._zooming=!1,this.transform=st,this._bearingSnap=ht.bearingSnap,j.bindAll(["_renderFrameCallback"],this)}getCenter(){return new j.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(st,ht){return this.jumpTo({center:st},ht)}panBy(st,ht,Ut){return st=j.pointGeometry.convert(st).mult(-1),this.panTo(this.transform.center,j.extend({offset:st},ht),Ut)}panTo(st,ht,Ut){return this.easeTo(j.extend({center:st},ht),Ut)}getZoom(){return this.transform.zoom}setZoom(st,ht){return this.jumpTo({zoom:st},ht),this}zoomTo(st,ht,Ut){return this.easeTo(j.extend({zoom:st},ht),Ut)}zoomIn(st,ht){return this.zoomTo(this.getZoom()+1,st,ht),this}zoomOut(st,ht){return this.zoomTo(this.getZoom()-1,st,ht),this}getBearing(){return this.transform.bearing}setBearing(st,ht){return this.jumpTo({bearing:st},ht),this}getPadding(){return this.transform.padding}setPadding(st,ht){return this.jumpTo({padding:st},ht),this}rotateTo(st,ht,Ut){return this.easeTo(j.extend({bearing:st},ht),Ut)}resetNorth(st,ht){return this.rotateTo(0,j.extend({duration:1e3},st),ht),this}resetNorthPitch(st,ht){return this.easeTo(j.extend({bearing:0,pitch:0,duration:1e3},st),ht),this}snapToNorth(st,ht){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(st,ht):this}getPitch(){return this.transform.pitch}setPitch(st,ht){return this.jumpTo({pitch:st},ht),this}cameraForBounds(st,ht){st=j.LngLatBounds.convert(st);const Ut=ht&&ht.bearing||0,Vt=st.getNorthWest(),Lt=st.getSouthEast();return this._cameraForBounds(this.transform,Vt,Lt,Ut,ht)}_extendCameraOptions(st){const ht={top:0,bottom:0,right:0,left:0};if(typeof(st=j.extend({padding:ht,offset:[0,0],maxZoom:this.transform.maxZoom},st)).padding=="number"){const Ut=st.padding;st.padding={top:Ut,bottom:Ut,right:Ut,left:Ut}}return st.padding=j.extend(ht,st.padding),st}_minimumAABBFrustumDistance(st,ht){const Ut=ht.max[0]-ht.min[0],Vt=ht.max[1]-ht.min[1];return Ut/Vt>st.aspect?Ut/(2*Math.tan(.5*st.fovX)*st.aspect):Vt/(2*Math.tan(.5*st.fovY)*st.aspect)}_cameraForBoundsOnGlobe(st,ht,Ut,Vt,Lt){const Kt=st.clone(),hn=this._extendCameraOptions(Lt);Kt.bearing=Vt;const gn=j.LngLat.convert(ht),Rn=j.LngLat.convert(Ut),Tn=.5*(gn.lat+Rn.lat),Dn=.5*(gn.lng+Rn.lng),zn=j.latLngToECEF(Tn,Dn),or=j.normalize([],zn),er=j.normalize([],j.cross([],or,[0,1,0])),ar=j.cross([],er,or),Yn=[er[0],er[1],er[2],0,ar[0],ar[1],ar[2],0,or[0],or[1],or[2],0,0,0,0,1],$n=[zn,j.latLngToECEF(gn.lat,gn.lng),j.latLngToECEF(Rn.lat,gn.lng),j.latLngToECEF(Rn.lat,Rn.lng),j.latLngToECEF(gn.lat,Rn.lng),j.latLngToECEF(Tn,gn.lng),j.latLngToECEF(Tn,Rn.lng),j.latLngToECEF(gn.lat,Dn),j.latLngToECEF(Rn.lat,Dn)];let cr=j.Aabb.fromPoints($n.map(yo=>[j.dot(er,yo),j.dot(ar,yo),j.dot(or,yo)]));const tr=j.transformMat4([],cr.center,Yn);j.squaredLength(tr)===0&&j.set(tr,0,0,1),j.normalize(tr,tr),j.scale$2(tr,tr,j.GLOBE_RADIUS),Kt.center=j.ecefToLatLng(tr);const yr=Kt.getWorldToCameraMatrix(),br=j.invert(new Float64Array(16),yr);cr=j.Aabb.applyTransform(cr,j.multiply([],yr,Yn)),j.transformMat4(tr,tr,yr);const ur=.5*(cr.max[2]-cr.min[2]),Sr=this._minimumAABBFrustumDistance(Kt,cr),Ar=j.scale$2([],[0,0,1],ur),Wr=j.add(Ar,tr,Ar),Pr=Sr+(Kt.pitch===0?0:j.distance(tr,Wr)),ho=Kt.globeCenterInViewSpace,xr=j.sub([],tr,[ho[0],ho[1],ho[2]]);j.normalize(xr,xr),j.scale$2(xr,xr,Pr);const _i=j.add([],tr,xr);j.transformMat4(_i,_i,br);const eo=j.earthRadius/j.GLOBE_RADIUS,Vr=j.length(_i),Br=j.mercatorZfromAltitude(Vr*eo-j.earthRadius,0),So=Math.min(Kt.zoomFromMercatorZAdjusted(Br),hn.maxZoom);return So>.5*(j.GLOBE_ZOOM_THRESHOLD_MIN+j.GLOBE_ZOOM_THRESHOLD_MAX)?(Kt.setProjection({name:"mercator"}),Kt.zoom=So,this._cameraForBounds(Kt,ht,Ut,Vt,Lt)):{center:Kt.center,zoom:So,bearing:Vt}}queryTerrainElevation(st,ht){const Ut=this.transform.elevation;return Ut?(ht=j.extend({},{exaggerated:!0},ht),Ut.getAtPoint(j.MercatorCoordinate.fromLngLat(st),null,ht.exaggerated)):null}_cameraForBounds(st,ht,Ut,Vt,Lt){if(st.projection.name==="globe")return this._cameraForBoundsOnGlobe(st,ht,Ut,Vt,Lt);const Kt=st.clone(),hn=this._extendCameraOptions(Lt),gn=Kt.padding;Kt.bearing=Vt;const Rn=j.LngLat.convert(ht),Tn=j.LngLat.convert(Ut),Dn=new j.LngLat(Rn.lng,Tn.lat),zn=new j.LngLat(Tn.lng,Rn.lat),or=Kt.project(Rn),er=Kt.project(Tn),ar=this.queryTerrainElevation(Rn),Yn=this.queryTerrainElevation(Tn),$n=this.queryTerrainElevation(Dn),cr=this.queryTerrainElevation(zn),tr=[[or.x,or.y,Math.min(ar||0,Yn||0,$n||0,cr||0)],[er.x,er.y,Math.max(ar||0,Yn||0,$n||0,cr||0)]];let yr=j.Aabb.fromPoints(tr);const br=Kt.getWorldToCameraMatrix(),ur=j.invert(new Float64Array(16),br);yr=j.Aabb.applyTransform(yr,br);const Sr=j.sub([],yr.max,yr.min),Ar=gn.left||0,Wr=gn.right||0,Pr=gn.bottom||0,ho=gn.top||0,{left:xr,right:_i,top:eo,bottom:Vr}=hn.padding,Br=.5*(Ar+Wr),So=.5*(ho+Pr),yo=Math.min(Kt.scaleZoom(Kt.scale*Math.min((Kt.width-(Ar+Wr+xr+_i))/Sr[0],(Kt.height-(Pr+ho+Vr+eo))/Sr[1])),hn.maxZoom),bo=Kt.scale/Kt.zoomScale(yo);yr=new j.Aabb([yr.min[0]-(xr+Br)*bo,yr.min[1]-(Vr+So)*bo,yr.min[2]],[yr.max[0]+(_i+Br)*bo,yr.max[1]+(eo+So)*bo,yr.max[2]]);const _o=.5*Sr[2],Oo=this._minimumAABBFrustumDistance(Kt,yr),Ho=[0,0,1,0];j.transformMat4$1(Ho,Ho,br),j.normalize$2(Ho,Ho);const zo=j.scale$2([],Ho,Oo+_o),Wo=j.add([],yr.center,zo),vo=(typeof hn.offset.x=="number"&&typeof hn.offset.y=="number"?new j.pointGeometry(hn.offset.x,hn.offset.y):j.pointGeometry.convert(hn.offset)).rotate(-j.degToRad(Vt));yr.center[0]-=vo.x*bo,yr.center[1]+=vo.y*bo,j.transformMat4(yr.center,yr.center,ur),j.transformMat4(Wo,Wo,ur);const ns=[yr.center[0],yr.center[1],Wo[2]*Kt.pixelsPerMeter];j.scale$2(ns,ns,1/Kt.worldSize);const gs=j.lngFromMercatorX(ns[0]),js=j.latFromMercatorY(ns[1]),Gs=Math.min(Kt._zoomFromMercatorZ(ns[2]),hn.maxZoom),Os=new j.LngLat(gs,js);return Kt.mercatorFromTransition&&Gs<.5*(j.GLOBE_ZOOM_THRESHOLD_MIN+j.GLOBE_ZOOM_THRESHOLD_MAX)?(Kt.setProjection({name:"globe"}),Kt.zoom=Gs,this._cameraForBounds(Kt,ht,Ut,Vt,Lt)):{center:Os,zoom:Gs,bearing:Vt}}fitBounds(st,ht,Ut){const Vt=this.cameraForBounds(st,ht);return this._fitInternal(Vt,ht,Ut)}fitScreenCoordinates(st,ht,Ut,Vt,Lt){const Kt=j.pointGeometry.convert(st),hn=j.pointGeometry.convert(ht),gn=new j.pointGeometry(Math.min(Kt.x,hn.x),Math.min(Kt.y,hn.y)),Rn=new j.pointGeometry(Math.max(Kt.x,hn.x),Math.max(Kt.y,hn.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(Kt,hn))return this;const Tn=this.transform.pointLocation3D(gn),Dn=this.transform.pointLocation3D(Rn),zn=this.transform.pointLocation3D(new j.pointGeometry(gn.x,Rn.y)),or=this.transform.pointLocation3D(new j.pointGeometry(Rn.x,gn.y)),er=[Math.min(Tn.lng,Dn.lng,zn.lng,or.lng),Math.min(Tn.lat,Dn.lat,zn.lat,or.lat)],ar=[Math.max(Tn.lng,Dn.lng,zn.lng,or.lng),Math.max(Tn.lat,Dn.lat,zn.lat,or.lat)],Yn=this._cameraForBounds(this.transform,er,ar,Ut,Vt);return this._fitInternal(Yn,Vt,Lt)}_fitInternal(st,ht,Ut){return st?(delete(ht=j.extend(st,ht)).padding,ht.linear?this.easeTo(ht,Ut):this.flyTo(ht,Ut)):this}jumpTo(st,ht){this.stop();const Ut=st.preloadOnly?this.transform.clone():this.transform;let Vt=!1,Lt=!1,Kt=!1;return"zoom"in st&&Ut.zoom!==+st.zoom&&(Vt=!0,Ut.zoom=+st.zoom),st.center!==void 0&&(Ut.center=j.LngLat.convert(st.center)),"bearing"in st&&Ut.bearing!==+st.bearing&&(Lt=!0,Ut.bearing=+st.bearing),"pitch"in st&&Ut.pitch!==+st.pitch&&(Kt=!0,Ut.pitch=+st.pitch),st.padding==null||Ut.isPaddingEqual(st.padding)||(Ut.padding=st.padding),st.preloadOnly?(this._preloadTiles(Ut),this):(this.fire(new j.Event("movestart",ht)).fire(new j.Event("move",ht)),Vt&&this.fire(new j.Event("zoomstart",ht)).fire(new j.Event("zoom",ht)).fire(new j.Event("zoomend",ht)),Lt&&this.fire(new j.Event("rotatestart",ht)).fire(new j.Event("rotate",ht)).fire(new j.Event("rotateend",ht)),Kt&&this.fire(new j.Event("pitchstart",ht)).fire(new j.Event("pitch",ht)).fire(new j.Event("pitchend",ht)),this.fire(new j.Event("moveend",ht)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||j.warnOnce(A_),this.transform.getFreeCameraOptions()}setFreeCameraOptions(st,ht){const Ut=this.transform;if(!Ut.projection.supportsFreeCamera)return j.warnOnce(A_),this;this.stop();const Vt=Ut.zoom,Lt=Ut.pitch,Kt=Ut.bearing;Ut.setFreeCameraOptions(st);const hn=Vt!==Ut.zoom,gn=Lt!==Ut.pitch,Rn=Kt!==Ut.bearing;return this.fire(new j.Event("movestart",ht)).fire(new j.Event("move",ht)),hn&&this.fire(new j.Event("zoomstart",ht)).fire(new j.Event("zoom",ht)).fire(new j.Event("zoomend",ht)),Rn&&this.fire(new j.Event("rotatestart",ht)).fire(new j.Event("rotate",ht)).fire(new j.Event("rotateend",ht)),gn&&this.fire(new j.Event("pitchstart",ht)).fire(new j.Event("pitch",ht)).fire(new j.Event("pitchend",ht)),this.fire(new j.Event("moveend",ht)),this}easeTo(st,ht){this._stop(!1,st.easeId),((st=j.extend({offset:[0,0],duration:500,easing:j.ease},st)).animate===!1||!st.essential&&j.exported.prefersReducedMotion)&&(st.duration=0);const Ut=this.transform,Vt=this.getZoom(),Lt=this.getBearing(),Kt=this.getPitch(),hn=this.getPadding(),gn="zoom"in st?+st.zoom:Vt,Rn="bearing"in st?this._normalizeBearing(st.bearing,Lt):Lt,Tn="pitch"in st?+st.pitch:Kt,Dn="padding"in st?st.padding:Ut.padding,zn=j.pointGeometry.convert(st.offset);let or,er,ar;if(Ut.projection.name==="globe"){const Wr=j.MercatorCoordinate.fromLngLat(Ut.center),Pr=zn.rotate(-Ut.angle);Wr.x+=Pr.x/Ut.worldSize,Wr.y+=Pr.y/Ut.worldSize;const ho=Wr.toLngLat(),xr=j.LngLat.convert(st.center||ho);this._normalizeCenter(xr),or=Ut.centerPoint.add(Pr),er=new j.pointGeometry(Wr.x,Wr.y).mult(Ut.worldSize),ar=new j.pointGeometry(j.mercatorXfromLng(xr.lng),j.mercatorYfromLat(xr.lat)).mult(Ut.worldSize).sub(er)}else{or=Ut.centerPoint.add(zn);const Wr=Ut.pointLocation(or),Pr=j.LngLat.convert(st.center||Wr);this._normalizeCenter(Pr),er=Ut.project(Wr),ar=Ut.project(Pr).sub(er)}const Yn=Ut.zoomScale(gn-Vt);let $n,cr;st.around&&($n=j.LngLat.convert(st.around),cr=Ut.locationPoint($n));const tr=this._zooming||gn!==Vt,yr=this._rotating||Lt!==Rn,br=this._pitching||Tn!==Kt,ur=!Ut.isPaddingEqual(Dn),Sr=Wr=>Pr=>{if(tr&&(Wr.zoom=j.number(Vt,gn,Pr)),yr&&(Wr.bearing=j.number(Lt,Rn,Pr)),br&&(Wr.pitch=j.number(Kt,Tn,Pr)),ur&&(Wr.interpolatePadding(hn,Dn,Pr),or=Wr.centerPoint.add(zn)),$n)Wr.setLocationAtPoint($n,cr);else{const ho=Wr.zoomScale(Wr.zoom-Vt),xr=gn>Vt?Math.min(2,Yn):Math.max(.5,Yn),_i=Math.pow(xr,1-Pr),eo=Wr.unproject(er.add(ar.mult(Pr*_i)).mult(ho));Wr.setLocationAtPoint(Wr.renderWorldCopies?eo.wrap():eo,or)}return st.preloadOnly||this._fireMoveEvents(ht),Wr};if(st.preloadOnly){const Wr=this._emulate(Sr,st.duration,Ut);return this._preloadTiles(Wr),this}const Ar={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=tr,this._rotating=yr,this._pitching=br,this._padding=ur,this._easeId=st.easeId,this._prepareEase(ht,st.noMoveStart,Ar),this._ease(Sr(Ut),Wr=>{Ut.recenterOnTerrain(),this._afterEase(ht,Wr)},st),this}_prepareEase(st,ht,Ut={}){this._moving=!0,this.transform.cameraElevationReference="sea",ht||Ut.moving||this.fire(new j.Event("movestart",st)),this._zooming&&!Ut.zooming&&this.fire(new j.Event("zoomstart",st)),this._rotating&&!Ut.rotating&&this.fire(new j.Event("rotatestart",st)),this._pitching&&!Ut.pitching&&this.fire(new j.Event("pitchstart",st))}_fireMoveEvents(st){this.fire(new j.Event("move",st)),this._zooming&&this.fire(new j.Event("zoom",st)),this._rotating&&this.fire(new j.Event("rotate",st)),this._pitching&&this.fire(new j.Event("pitch",st))}_afterEase(st,ht){if(this._easeId&&ht&&this._easeId===ht)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const Ut=this._zooming,Vt=this._rotating,Lt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Ut&&this.fire(new j.Event("zoomend",st)),Vt&&this.fire(new j.Event("rotateend",st)),Lt&&this.fire(new j.Event("pitchend",st)),this.fire(new j.Event("moveend",st))}flyTo(st,ht){if(!st.essential&&j.exported.prefersReducedMotion){const bo=j.pick(st,["center","zoom","bearing","pitch","around"]);return this.jumpTo(bo,ht)}this.stop(),st=j.extend({offset:[0,0],speed:1.2,curve:1.42,easing:j.ease},st);const Ut=this.transform,Vt=this.getZoom(),Lt=this.getBearing(),Kt=this.getPitch(),hn=this.getPadding(),gn="zoom"in st?j.clamp(+st.zoom,Ut.minZoom,Ut.maxZoom):Vt,Rn="bearing"in st?this._normalizeBearing(st.bearing,Lt):Lt,Tn="pitch"in st?+st.pitch:Kt,Dn="padding"in st?st.padding:Ut.padding,zn=Ut.zoomScale(gn-Vt),or=j.pointGeometry.convert(st.offset);let er=Ut.centerPoint.add(or);const ar=Ut.pointLocation(er),Yn=j.LngLat.convert(st.center||ar);this._normalizeCenter(Yn);const $n=Ut.project(ar),cr=Ut.project(Yn).sub($n);let tr=st.curve;const yr=Math.max(Ut.width,Ut.height),br=yr/zn,ur=cr.mag();if("minZoom"in st){const bo=j.clamp(Math.min(st.minZoom,Vt,gn),Ut.minZoom,Ut.maxZoom),_o=yr/Ut.zoomScale(bo-Vt);tr=Math.sqrt(_o/ur*2)}const Sr=tr*tr;function Ar(bo){const _o=(br*br-yr*yr+(bo?-1:1)*Sr*Sr*ur*ur)/(2*(bo?br:yr)*Sr*ur);return Math.log(Math.sqrt(_o*_o+1)-_o)}function Wr(bo){return(Math.exp(bo)-Math.exp(-bo))/2}function Pr(bo){return(Math.exp(bo)+Math.exp(-bo))/2}const ho=Ar(0);let xr=function(bo){return Pr(ho)/Pr(ho+tr*bo)},_i=function(bo){return yr*((Pr(ho)*(Wr(_o=ho+tr*bo)/Pr(_o))-Wr(ho))/Sr)/ur;var _o},eo=(Ar(1)-ho)/tr;if(Math.abs(ur)<1e-6||!isFinite(eo)){if(Math.abs(yr-br)<1e-6)return this.easeTo(st,ht);const bo=br<yr?-1:1;eo=Math.abs(Math.log(br/yr))/tr,_i=function(){return 0},xr=function(_o){return Math.exp(bo*tr*_o)}}st.duration="duration"in st?+st.duration:1e3*eo/("screenSpeed"in st?+st.screenSpeed/tr:+st.speed),st.maxDuration&&st.duration>st.maxDuration&&(st.duration=0);const Vr=Lt!==Rn,Br=Tn!==Kt,So=!Ut.isPaddingEqual(Dn),yo=bo=>_o=>{const Oo=_o*eo,Ho=1/xr(Oo);bo.zoom=_o===1?gn:Vt+bo.scaleZoom(Ho),Vr&&(bo.bearing=j.number(Lt,Rn,_o)),Br&&(bo.pitch=j.number(Kt,Tn,_o)),So&&(bo.interpolatePadding(hn,Dn,_o),er=bo.centerPoint.add(or));const zo=_o===1?Yn:bo.unproject($n.add(cr.mult(_i(Oo))).mult(Ho));return bo.setLocationAtPoint(bo.renderWorldCopies?zo.wrap():zo,er),bo._updateCameraOnTerrain(),st.preloadOnly||this._fireMoveEvents(ht),bo};if(st.preloadOnly){const bo=this._emulate(yo,st.duration,Ut);return this._preloadTiles(bo),this}return this._zooming=!0,this._rotating=Vr,this._pitching=Br,this._padding=So,this._prepareEase(ht,!1),this._ease(yo(Ut),()=>this._afterEase(ht),st),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(st,ht){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const Ut=this._onEaseEnd;this._onEaseEnd=void 0,Ut.call(this,ht)}if(!st){const Ut=this.handlers;Ut&&Ut.stop(!1)}return this}_ease(st,ht,Ut){Ut.animate===!1||Ut.duration===0?(st(1),ht()):(this._easeStart=j.exported.now(),this._easeOptions=Ut,this._onEaseFrame=st,this._onEaseEnd=ht,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const st=Math.min((j.exported.now()-this._easeStart)/this._easeOptions.duration,1),ht=this._onEaseFrame;ht&&ht(this._easeOptions.easing(st)),st<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(st,ht){st=j.wrap(st,-180,180);const Ut=Math.abs(st-ht);return Math.abs(st-360-ht)<Ut&&(st-=360),Math.abs(st+360-ht)<Ut&&(st+=360),st}_normalizeCenter(st){const ht=this.transform;if(!ht.renderWorldCopies||ht.maxBounds)return;const Ut=st.lng-ht.center.lng;st.lng+=Ut>180?-360:Ut<-180?360:0}_emulate(st,ht,Ut){const Vt=Math.ceil(15*ht/1e3),Lt=[],Kt=st(Ut.clone());for(let hn=0;hn<=Vt;hn++){const gn=Kt(hn/Vt);Lt.push(gn.clone())}return Lt}}class C_{constructor(st={}){this.options=st,j.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(st){const ht=this.options&&this.options.compact;return this._map=st,this._container=pt("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=pt("button","mapboxgl-ctrl-attrib-button",this._container),pt("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=pt("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ht&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ht===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(st,ht){const Ut=this._map._getUIString(`AttributionControl.${ht}`);st.setAttribute("aria-label",Ut),st.removeAttribute("title"),st.firstElementChild&&st.firstElementChild.setAttribute("title",Ut)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let st=this._editLink;st||(st=this._editLink=this._container.querySelector(".mapbox-improve-map"));const ht=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||j.config.ACCESS_TOKEN}];if(st){const Ut=ht.reduce((Vt,Lt,Kt)=>(Lt.value&&(Vt+=`${Lt.key}=${Lt.value}${Kt<ht.length-1?"&":""}`),Vt),"?");st.href=`${j.config.FEEDBACK_URL}/${Ut}#${dy(this._map,!0)}`,st.rel="noopener nofollow",this._setElementTitle(st,"MapFeedback")}}_updateData(st){!st||st.sourceDataType!=="metadata"&&st.sourceDataType!=="visibility"&&st.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let st=[];if(this._map.style.stylesheet){const Vt=this._map.style.stylesheet;this.styleOwner=Vt.owner,this.styleId=Vt.id}const ht=this._map.style._sourceCaches;for(const Vt in ht){const Lt=ht[Vt];if(Lt.used){const Kt=Lt.getSource();Kt.attribution&&st.indexOf(Kt.attribution)<0&&st.push(Kt.attribution)}}st.sort((Vt,Lt)=>Vt.length-Lt.length),st=st.filter((Vt,Lt)=>{for(let Kt=Lt+1;Kt<st.length;Kt++)if(st[Kt].indexOf(Vt)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?st=[...this.options.customAttribution,...st]:st.unshift(this.options.customAttribution));const Ut=st.join(" | ");Ut!==this._attribHTML&&(this._attribHTML=Ut,st.length?(this._innerContainer.innerHTML=Ut,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Zy{constructor(){j.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(st){this._map=st,this._container=pt("div","mapboxgl-ctrl");const ht=pt("a","mapboxgl-ctrl-logo");return ht.target="_blank",ht.rel="noopener nofollow",ht.href="https://www.mapbox.com/",ht.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ht.setAttribute("rel","noopener nofollow"),this._container.appendChild(ht),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(st){st&&st.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const st=this._map.style._sourceCaches;if(Object.entries(st).length===0)return!0;for(const ht in st){const Ut=st[ht].getSource();if(Ut.hasOwnProperty("mapbox_logo")&&!Ut.mapbox_logo)return!1}return!0}_updateCompact(){const st=this._container.children;if(st.length){const ht=st[0];this._map.getCanvasContainer().offsetWidth<250?ht.classList.add("mapboxgl-compact"):ht.classList.remove("mapboxgl-compact")}}}class A0{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(st){const ht=++this._id;return this._queue.push({callback:st,id:ht,cancelled:!1}),ht}remove(st){const ht=this._currentlyRunning,Ut=ht?this._queue.concat(ht):this._queue;for(const Vt of Ut)if(Vt.id===st)return void(Vt.cancelled=!0)}run(st=0){const ht=this._currentlyRunning=this._queue;this._queue=[];for(const Ut of ht)if(!Ut.cancelled&&(Ut.callback(st),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function _p(_t,st,ht){if(_t=new j.LngLat(_t.lng,_t.lat),st){const Ut=new j.LngLat(_t.lng-360,_t.lat),Vt=new j.LngLat(_t.lng+360,_t.lat),Lt=360*Math.ceil(Math.abs(_t.lng-ht.center.lng)/360),Kt=ht.locationPoint(_t).distSqr(st),hn=st.x<0||st.y<0||st.x>ht.width||st.y>ht.height;ht.locationPoint(Ut).distSqr(st)<Kt&&(hn||Math.abs(Ut.lng-ht.center.lng)<Lt)?_t=Ut:ht.locationPoint(Vt).distSqr(st)<Kt&&(hn||Math.abs(Vt.lng-ht.center.lng)<Lt)&&(_t=Vt)}for(;Math.abs(_t.lng-ht.center.lng)>180;){const Ut=ht.locationPoint(_t);if(Ut.x>=0&&Ut.y>=0&&Ut.x<=ht.width&&Ut.y<=ht.height)break;_t.lng>ht.center.lng?_t.lng-=360:_t.lng+=360}return _t}const C0={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class k0 extends j.Evented{constructor(st,ht){if(super(),(st instanceof j.window.HTMLElement||ht)&&(st=j.extend({element:st},ht)),j.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=st&&st.anchor||"center",this._color=st&&st.color||"#3FB1CE",this._scale=st&&st.scale||1,this._draggable=st&&st.draggable||!1,this._clickTolerance=st&&st.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=st&&st.rotation||0,this._rotationAlignment=st&&st.rotationAlignment||"auto",this._pitchAlignment=st&&st.pitchAlignment&&st.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=st&&st.occludedOpacity||.2,st&&st.element)this._element=st.element,this._offset=j.pointGeometry.convert(st&&st.offset||[0,0]);else{this._defaultMarker=!0,this._element=pt("div");const Vt=41,Lt=27,Kt=ft("svg",{display:"block",height:Vt*this._scale+"px",width:Lt*this._scale+"px",viewBox:`0 0 ${Lt} ${Vt}`},this._element),hn=ft("radialGradient",{id:"shadowGradient"},ft("defs",{},Kt));ft("stop",{offset:"10%","stop-opacity":.4},hn),ft("stop",{offset:"100%","stop-opacity":.05},hn),ft("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},Kt),ft("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},Kt),ft("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},Kt),ft("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},Kt),this._offset=j.pointGeometry.convert(st&&st.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",Vt=>{Vt.preventDefault()}),this._element.addEventListener("mousedown",Vt=>{Vt.preventDefault()});const Ut=this._element.classList;for(const Vt in C0)Ut.remove(`mapboxgl-marker-anchor-${Vt}`);Ut.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(st){return st===this._map||(this.remove(),this._map=st,st.getCanvasContainer().appendChild(this._element),st.on("move",this._updateMoving),st.on("moveend",this._update),st.on("remove",this._clearFadeTimer),st._addMarker(this),this.setDraggable(this._draggable),this._update(),st.on("click",this._onMapClick)),this}remove(){const st=this._map;return st&&(st.off("click",this._onMapClick),st.off("move",this._updateMoving),st.off("moveend",this._update),st.off("mousedown",this._addDragHandler),st.off("touchstart",this._addDragHandler),st.off("mouseup",this._onUp),st.off("touchend",this._onUp),st.off("mousemove",this._onMove),st.off("touchmove",this._onMove),st.off("remove",this._clearFadeTimer),st._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(st){return this._lngLat=j.LngLat.convert(st),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(st){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),st){if(!("offset"in st.options)){const Vt=Math.sqrt(Math.pow(13.5,2)/2);st.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[Vt,-1*(38.1-13.5+Vt)],"bottom-right":[-Vt,-1*(38.1-13.5+Vt)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=st,st._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(st){const ht=st.code,Ut=st.charCode||st.keyCode;ht!=="Space"&&ht!=="Enter"&&Ut!==32&&Ut!==13||this.togglePopup()}_onMapClick(st){const ht=st.originalEvent.target,Ut=this._element;this._popup&&(ht===Ut||Ut.contains(ht))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const st=this._popup;return st?(st.isOpen()?(st.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(st.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const st=this._map,ht=this._pos;if(!st||!ht)return!1;const Ut=st.unproject(ht),Vt=st.getFreeCameraOptions();if(!Vt.position)return!1;const Lt=Vt.position.toLngLat();return Lt.distanceTo(Ut)<.9*Lt.distanceTo(this._lngLat)}_evaluateOpacity(){const st=this._map;if(!st)return;const ht=this._pos;if(!ht||ht.x<0||ht.x>st.transform.width||ht.y<0||ht.y>st.transform.height)return void this._clearFadeTimer();const Ut=st.unproject(ht);let Vt;st._showingGlobe()&&j.isLngLatBehindGlobe(st.transform,this._lngLat)?Vt=0:(Vt=1-st._queryFogOpacity(Ut),st.transform._terrainEnabled()&&st.getTerrain()&&this._behindTerrain()&&(Vt*=this._occludedOpacity)),this._element.style.opacity=`${Vt}`,this._element.style.pointerEvents=Vt>0?"auto":"none",this._popup&&this._popup._setOpacity(Vt),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const st=this._pos;if(!st||!this._map)return;const ht=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${st.x}px,${st.y}px)
            ${C0[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${ht.x}px,${ht.y}px)
        `}_calculateXYTransform(){const st=this._pos,ht=this._map,Ut=this.getPitchAlignment();if(!ht||!st||Ut!=="map")return"";if(!ht._showingGlobe()){const gn=ht.getPitch();return gn?`rotateX(${gn}deg)`:""}const Vt=j.radToDeg(j.globeTiltAtLngLat(ht.transform,this._lngLat)),Lt=st.sub(j.globeCenterToScreenPoint(ht.transform)),Kt=Math.abs(Lt.x)+Math.abs(Lt.y);if(Kt===0)return"";const hn=Vt/Kt;return`rotateX(${-Lt.y*hn}deg) rotateY(${Lt.x*hn}deg)`}_calculateZTransform(){const st=this._pos,ht=this._map;if(!ht||!st)return"";let Ut=0;const Vt=this.getRotationAlignment();if(Vt==="map")if(ht._showingGlobe()){const Lt=ht.project(new j.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),Kt=ht.project(new j.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(Lt);Ut=j.radToDeg(Math.atan2(Kt.y,Kt.x))-90}else Ut=-ht.getBearing();else if(Vt==="horizon"){const Lt=j.smoothstep(4,6,ht.getZoom()),Kt=j.globeCenterToScreenPoint(ht.transform);Kt.y+=Lt*ht.transform.height;const hn=st.sub(Kt),gn=j.radToDeg(Math.atan2(hn.y,hn.x));Ut=(gn>90?gn-270:gn+90)*(1-Lt)}return Ut+=this._rotation,Ut?`rotateZ(${Ut}deg)`:""}_update(st){j.window.cancelAnimationFrame(this._updateFrameId);const ht=this._map;ht&&(ht.transform.renderWorldCopies&&(this._lngLat=_p(this._lngLat,this._pos,ht.transform)),this._pos=ht.project(this._lngLat),st===!0?this._updateFrameId=j.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),ht._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(ht._showingGlobe()||ht.getTerrain()||ht.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(st){return this._offset=j.pointGeometry.convert(st),this._update(),this}_onMove(st){const ht=this._map;if(!ht)return;const Ut=this._pointerdownPos,Vt=this._positionDelta;if(Ut&&Vt){if(!this._isDragging){const Lt=this._clickTolerance||ht._clickTolerance;if(st.point.dist(Ut)<Lt)return;this._isDragging=!0}this._pos=st.point.sub(Vt),this._lngLat=ht.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new j.Event("dragstart"))),this.fire(new j.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const st=this._map;st&&(st.off("mousemove",this._onMove),st.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new j.Event("dragend")),this._state="inactive"}_addDragHandler(st){const ht=this._map,Ut=this._pos;ht&&Ut&&this._element.contains(st.originalEvent.target)&&(st.preventDefault(),this._positionDelta=st.point.sub(Ut),this._pointerdownPos=st.point,this._state="pending",ht.on("mousemove",this._onMove),ht.on("touchmove",this._onMove),ht.once("mouseup",this._onUp),ht.once("touchend",this._onUp))}setDraggable(st){this._draggable=!!st;const ht=this._map;return ht&&(st?(ht.on("mousedown",this._addDragHandler),ht.on("touchstart",this._addDragHandler)):(ht.off("mousedown",this._addDragHandler),ht.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(st){return this._rotation=st||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(st){return this._rotationAlignment=st||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(st){return this._pitchAlignment=st||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(st){return this._occludedOpacity=st||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Ku={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Bv=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function k_(_t=new j.pointGeometry(0,0),st="bottom"){if(typeof _t=="number"){const ht=Math.round(Math.sqrt(.5*Math.pow(_t,2)));switch(st){case"top":return new j.pointGeometry(0,_t);case"top-left":return new j.pointGeometry(ht,ht);case"top-right":return new j.pointGeometry(-ht,ht);case"bottom":return new j.pointGeometry(0,-_t);case"bottom-left":return new j.pointGeometry(ht,-ht);case"bottom-right":return new j.pointGeometry(-ht,-ht);case"left":return new j.pointGeometry(_t,0);case"right":return new j.pointGeometry(-_t,0)}return new j.pointGeometry(0,0)}return _t instanceof j.pointGeometry||Array.isArray(_t)?j.pointGeometry.convert(_t):j.pointGeometry.convert(_t[st]||[0,0])}class Tv{constructor(st){this.jumpTo(st)}getValue(st){if(st<=this._startTime)return this._start;if(st>=this._endTime)return this._end;const ht=j.easeCubicInOut((st-this._startTime)/(this._endTime-this._startTime));return this._start*(1-ht)+this._end*ht}isEasing(st){return st>=this._startTime&&st<=this._endTime}jumpTo(st){this._startTime=-1/0,this._endTime=-1/0,this._start=st,this._end=st}easeTo(st,ht,Ut){this._start=this.getValue(ht),this._end=st,this._startTime=ht,this._endTime=ht+Ut}}const Qv={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},M_={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Gy(_t){_t.parentNode&&_t.parentNode.removeChild(_t)}const N_={showCompass:!0,showZoom:!0,visualizePitch:!1};class xv{constructor(st,ht,Ut=!1){this._clickTolerance=10,this.element=ht,this.mouseRotate=new x_({clickTolerance:st.dragRotate._mouseRotate._clickTolerance}),this.map=st,Ut&&(this.mousePitch=new Lm({clickTolerance:st.dragRotate._mousePitch._clickTolerance})),j.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),ht.addEventListener("mousedown",this.mousedown),ht.addEventListener("touchstart",this.touchstart,{passive:!1}),ht.addEventListener("touchmove",this.touchmove),ht.addEventListener("touchend",this.touchend),ht.addEventListener("touchcancel",this.reset)}down(st,ht){this.mouseRotate.mousedown(st,ht),this.mousePitch&&this.mousePitch.mousedown(st,ht),Qt()}move(st,ht){const Ut=this.map,Vt=this.mouseRotate.mousemoveWindow(st,ht),Lt=Vt&&Vt.bearingDelta;if(Lt&&Ut.setBearing(Ut.getBearing()+Lt),this.mousePitch){const Kt=this.mousePitch.mousemoveWindow(st,ht),hn=Kt&&Kt.pitchDelta;hn&&Ut.setPitch(Ut.getPitch()+hn)}}off(){const st=this.element;st.removeEventListener("mousedown",this.mousedown),st.removeEventListener("touchstart",this.touchstart,{passive:!1}),st.removeEventListener("touchmove",this.touchmove),st.removeEventListener("touchend",this.touchend),st.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){It(),j.window.removeEventListener("mousemove",this.mousemove),j.window.removeEventListener("mouseup",this.mouseup)}mousedown(st){this.down(j.extend({},st,{ctrlKey:!0,preventDefault:()=>st.preventDefault()}),mt(this.element,st)),j.window.addEventListener("mousemove",this.mousemove),j.window.addEventListener("mouseup",this.mouseup)}mousemove(st){this.move(st,mt(this.element,st))}mouseup(st){this.mouseRotate.mouseupWindow(st),this.mousePitch&&this.mousePitch.mouseupWindow(st),this.offTemp()}touchstart(st){st.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Nt(this.element,st.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>st.preventDefault()},this._startPos))}touchmove(st){st.targetTouches.length!==1?this.reset():(this._lastPos=Nt(this.element,st.targetTouches)[0],this.move({preventDefault:()=>st.preventDefault()},this._lastPos))}touchend(st){st.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Av={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Hy={maxWidth:100,unit:"metric"};function gy(_t,st,ht){const Ut=Jm(st),Vt=Ut/st,Lt={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[ht];this._map._requestDomTask(()=>{this._container.style.width=_t*Vt+"px",this._container.innerHTML=`${Ut}&nbsp;${Lt}`})}function Jm(_t){const st=Math.pow(10,`${Math.floor(_t)}`.length-1);let ht=_t/st;return ht=ht>=10?10:ht>=5?5:ht>=3?3:ht>=2?2:ht>=1?1:function(Ut){const Vt=Math.pow(10,Math.ceil(-Math.log(Ut)/Math.LN10));return Math.round(Ut*Vt)/Vt}(ht),st*ht}const $y={version:j.version,supported:ot,setRTLTextPlugin:j.setRTLTextPlugin,getRTLTextPluginStatus:j.getRTLTextPluginStatus,Map:class extends Ev{constructor(_t){if(j.LivePerformanceUtils.mark(j.PerformanceMarkers.create),(_t=j.extend({},M_,_t)).minZoom!=null&&_t.maxZoom!=null&&_t.minZoom>_t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_t.minPitch!=null&&_t.maxPitch!=null&&_t.minPitch>_t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_t.minPitch!=null&&_t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_t.maxPitch!=null&&_t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(_t.antialias&&j.isSafariWithAntialiasingBug(j.window)&&(_t.antialias=!1,j.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Iu(_t.minZoom,_t.maxZoom,_t.minPitch,_t.maxPitch,_t.renderWorldCopies),_t),this._interactive=_t.interactive,this._minTileCacheSize=_t.minTileCacheSize,this._maxTileCacheSize=_t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_t.preserveDrawingBuffer,this._antialias=_t.antialias,this._trackResize=_t.trackResize,this._bearingSnap=_t.bearingSnap,this._refreshExpiredTiles=_t.refreshExpiredTiles,this._fadeDuration=_t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=_t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_t.collectResourceTiming,this._optimizeForTerrain=_t.optimizeForTerrain,this._language=this._parseLanguage(_t.language),this._worldview=_t.worldview,this._renderTaskQueue=new A0,this._domRenderTaskQueue=new A0,this._controls=[],this._markers=[],this._popups=[],this._mapId=j.uniqueId(),this._locale=j.extend({},Qv,_t.locale),this._clickTolerance=_t.clickTolerance,this._cooperativeGestures=_t.cooperativeGestures,this._performanceMetricsCollection=_t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Tv(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new j.RequestManager(_t.transformRequest,_t.accessToken,_t.testMode),this._silenceAuthErrors=!!_t.testMode,typeof _t.container=="string"){if(this._container=j.window.document.getElementById(_t.container),!this._container)throw new Error(`Container '${_t.container}' not found.`)}else{if(!(_t.container instanceof j.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_t.container}if(this._container.childNodes.length>0&&j.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),_t.maxBounds&&this.setMaxBounds(_t.maxBounds),j.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),j.window!==void 0&&(j.window.addEventListener("online",this._onWindowOnline,!1),j.window.addEventListener("resize",this._onWindowResize,!1),j.window.addEventListener("orientationchange",this._onWindowResize,!1),j.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),j.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Mp(this,_t),this._localFontFamily=_t.localFontFamily,this._localIdeographFontFamily=_t.localIdeographFontFamily,_t.style&&this.setStyle(_t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),_t.projection&&this.setProjection(_t.projection),this._hash=_t.hash&&new Py(typeof _t.hash=="string"&&_t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_t.center,zoom:_t.zoom,bearing:_t.bearing,pitch:_t.pitch}),_t.bounds&&(this.resize(),this.fitBounds(_t.bounds,j.extend({},_t.fitBoundsOptions,{duration:0})))),this.resize(),_t.attributionControl&&this.addControl(new C_({customAttribution:_t.customAttribution})),this._logoControl=new Zy,this.addControl(this._logoControl,_t.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",st=>{this._update(st.dataType==="style"),this.fire(new j.Event(`${st.dataType}data`,st))}),this.on("dataloading",st=>{this.fire(new j.Event(`${st.dataType}dataloading`,st))})}_getMapId(){return this._mapId}addControl(_t,st){if(st===void 0&&(st=_t.getDefaultPosition?_t.getDefaultPosition():"top-right"),!_t||!_t.onAdd)return this.fire(new j.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const ht=_t.onAdd(this);this._controls.push(_t);const Ut=this._controlPositions[st];return st.indexOf("bottom")!==-1?Ut.insertBefore(ht,Ut.firstChild):Ut.appendChild(ht),this}removeControl(_t){if(!_t||!_t.onRemove)return this.fire(new j.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const st=this._controls.indexOf(_t);return st>-1&&this._controls.splice(st,1),_t.onRemove(this),this}hasControl(_t){return this._controls.indexOf(_t)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(_t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const st=!this._moving;return st&&this.fire(new j.Event("movestart",_t)).fire(new j.Event("move",_t)),this.fire(new j.Event("resize",_t)),st&&this.fire(new j.Event("moveend",_t)),this}getBounds(){return this.transform.projection.name==="globe"&&j.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly when viewing the poles."'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(_t){return this.transform.setMaxBounds(j.LngLatBounds.convert(_t)),this._update()}setMinZoom(_t){if((_t=_t??-2)>=-2&&_t<=this.transform.maxZoom)return this.transform.minZoom=_t,this._update(),this.getZoom()<_t?this.setZoom(_t):this.fire(new j.Event("zoomstart")).fire(new j.Event("zoom")).fire(new j.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_t){if((_t=_t??22)>=this.transform.minZoom)return this.transform.maxZoom=_t,this._update(),this.getZoom()>_t?this.setZoom(_t):this.fire(new j.Event("zoomstart")).fire(new j.Event("zoom")).fire(new j.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_t){if((_t=_t??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_t>=0&&_t<=this.transform.maxPitch)return this.transform.minPitch=_t,this._update(),this.getPitch()<_t?this.setPitch(_t):this.fire(new j.Event("pitchstart")).fire(new j.Event("pitch")).fire(new j.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_t){if((_t=_t??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(_t>=this.transform.minPitch)return this.transform.maxPitch=_t,this._update(),this.getPitch()>_t?this.setPitch(_t):this.fire(new j.Event("pitchstart")).fire(new j.Event("pitch")).fire(new j.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_t){return this.transform.renderWorldCopies=_t,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(_t){return _t==="auto"?j.window.navigator.language:Array.isArray(_t)?_t.length===0?void 0:_t.map(st=>st==="auto"?j.window.navigator.language:st):_t}setLanguage(_t){const st=this._parseLanguage(_t);if(!this.style||st===this._language)return this;this._language=st,this.style._reloadSources();for(const ht of this._controls)ht._setLanguage&&ht._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_t){return this.style&&_t!==this._worldview?(this._worldview=_t,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(_t){return this._lazyInitEmptyStyle(),_t?typeof _t=="string"&&(_t={name:_t}):_t=null,this._useExplicitProjection=!!_t,this._prioritizeAndUpdateProjection(_t,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const _t=this.transform,st=_t.projection.name;let ht;st==="globe"&&_t.zoom>=j.GLOBE_ZOOM_THRESHOLD_MAX?(_t.setMercatorFromTransition(),ht=!0):st==="mercator"&&_t.zoom<j.GLOBE_ZOOM_THRESHOLD_MAX&&(_t.setProjection({name:"globe"}),ht=!0),ht&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(_t,st){return this._updateProjection(_t||st||{name:"mercator"})}_updateProjection(_t){let st;if(st=_t.name==="globe"&&this.transform.zoom>=j.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(_t),this.style.applyProjectionUpdate(),st){this.painter.clearBackgroundTiles();for(const ht in this.style._sourceCaches)this.style._sourceCaches[ht].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(_t){return this.transform.locationPoint3D(j.LngLat.convert(_t))}unproject(_t){return this.transform.pointLocation3D(j.pointGeometry.convert(_t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(_t,st,ht){if(_t==="mouseenter"||_t==="mouseover"){let Ut=!1;const Vt=Kt=>{const hn=st.filter(Rn=>this.getLayer(Rn)),gn=hn.length?this.queryRenderedFeatures(Kt.point,{layers:hn}):[];gn.length?Ut||(Ut=!0,ht.call(this,new Pu(_t,this,Kt.originalEvent,{features:gn}))):Ut=!1},Lt=()=>{Ut=!1};return{layers:new Set(st),listener:ht,delegates:{mousemove:Vt,mouseout:Lt}}}if(_t==="mouseleave"||_t==="mouseout"){let Ut=!1;const Vt=Kt=>{const hn=st.filter(gn=>this.getLayer(gn));(hn.length?this.queryRenderedFeatures(Kt.point,{layers:hn}):[]).length?Ut=!0:Ut&&(Ut=!1,ht.call(this,new Pu(_t,this,Kt.originalEvent)))},Lt=Kt=>{Ut&&(Ut=!1,ht.call(this,new Pu(_t,this,Kt.originalEvent)))};return{layers:new Set(st),listener:ht,delegates:{mousemove:Vt,mouseout:Lt}}}{const Ut=Vt=>{const Lt=st.filter(hn=>this.getLayer(hn)),Kt=Lt.length?this.queryRenderedFeatures(Vt.point,{layers:Lt}):[];Kt.length&&(Vt.features=Kt,ht.call(this,Vt),delete Vt.features)};return{layers:new Set(st),listener:ht,delegates:{[_t]:Ut}}}}on(_t,st,ht){if(ht===void 0)return super.on(_t,st);Array.isArray(st)||(st=[st]);const Ut=this._createDelegatedListener(_t,st,ht);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_t]=this._delegatedListeners[_t]||[],this._delegatedListeners[_t].push(Ut);for(const Vt in Ut.delegates)this.on(Vt,Ut.delegates[Vt]);return this}once(_t,st,ht){if(ht===void 0)return super.once(_t,st);Array.isArray(st)||(st=[st]);const Ut=this._createDelegatedListener(_t,st,ht);for(const Vt in Ut.delegates)this.once(Vt,Ut.delegates[Vt]);return this}off(_t,st,ht){if(ht===void 0)return super.off(_t,st);st=new Set(Array.isArray(st)?st:[st]);const Ut=(Lt,Kt)=>{if(Lt.size!==Kt.size)return!1;for(const hn of Lt)if(!Kt.has(hn))return!1;return!0},Vt=this._delegatedListeners?this._delegatedListeners[_t]:void 0;return Vt&&(Lt=>{for(let Kt=0;Kt<Lt.length;Kt++){const hn=Lt[Kt];if(hn.listener===ht&&Ut(hn.layers,st)){for(const gn in hn.delegates)this.off(gn,hn.delegates[gn]);return Lt.splice(Kt,1),this}}})(Vt),this}queryRenderedFeatures(_t,st){return this.style?(st!==void 0||_t===void 0||_t instanceof j.pointGeometry||Array.isArray(_t)||(st=_t,_t=void 0),this.style.queryRenderedFeatures(_t=_t||[[0,0],[this.transform.width,this.transform.height]],st=st||{},this.transform)):[]}querySourceFeatures(_t,st){return this.style.querySourceFeatures(_t,st)}setStyle(_t,st){return(st=j.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},st)).diff!==!1&&st.localIdeographFontFamily===this._localIdeographFontFamily&&st.localFontFamily===this._localFontFamily&&this.style&&_t?(this._diffStyle(_t,st),this):(this._localIdeographFontFamily=st.localIdeographFontFamily,this._localFontFamily=st.localFontFamily,this._updateStyle(_t,st))}_getUIString(_t){const st=this._locale[_t];if(st==null)throw new Error(`Missing UI string '${_t}'`);return st}_updateStyle(_t,st){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_t&&(this.style=new fp(this,st||{}),this.style.setEventedParent(this,{style:this.style}),typeof _t=="string"?this.style.loadURL(_t):this.style.loadJSON(_t)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new fp(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_t,st){if(typeof _t=="string"){const ht=this._requestManager.normalizeStyleURL(_t),Ut=this._requestManager.transformRequest(ht,j.ResourceType.Style);j.getJSON(Ut,(Vt,Lt)=>{Vt?this.fire(new j.ErrorEvent(Vt)):Lt&&this._updateDiff(Lt,st)})}else typeof _t=="object"&&this._updateDiff(_t,st)}_updateDiff(_t,st){try{this.style.setState(_t)&&this._update(!0)}catch(ht){j.warnOnce(`Unable to perform style diff: ${ht.message||ht.error||ht}.  Rebuilding the style from scratch.`),this._updateStyle(_t,st)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(j.warnOnce("There is no style added to the map."),!1)}addSource(_t,st){return this._lazyInitEmptyStyle(),this.style.addSource(_t,st),this._update(!0)}isSourceLoaded(_t){return!!this.style&&this.style._isSourceCacheLoaded(_t)}areTilesLoaded(){const _t=this.style&&this.style._sourceCaches;for(const st in _t){const ht=_t[st]._tiles;for(const Ut in ht){const Vt=ht[Ut];if(Vt.state!=="loaded"&&Vt.state!=="errored")return!1}}return!0}addSourceType(_t,st,ht){this._lazyInitEmptyStyle(),this.style.addSourceType(_t,st,ht)}removeSource(_t){return this.style.removeSource(_t),this._updateTerrain(),this._update(!0)}getSource(_t){return this.style.getSource(_t)}addImage(_t,st,{pixelRatio:ht=1,sdf:Ut=!1,stretchX:Vt,stretchY:Lt,content:Kt}={}){if(this._lazyInitEmptyStyle(),st instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&st instanceof j.window.ImageBitmap){const{width:hn,height:gn,data:Rn}=j.exported.getImageData(st);this.style.addImage(_t,{data:new j.RGBAImage({width:hn,height:gn},Rn),pixelRatio:ht,stretchX:Vt,stretchY:Lt,content:Kt,sdf:Ut,version:0})}else if(st.width===void 0||st.height===void 0)this.fire(new j.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:hn,height:gn}=st,Rn=st;this.style.addImage(_t,{data:new j.RGBAImage({width:hn,height:gn},new Uint8Array(Rn.data)),pixelRatio:ht,stretchX:Vt,stretchY:Lt,content:Kt,sdf:Ut,version:0,userImage:Rn}),Rn.onAdd&&Rn.onAdd(this,_t)}}updateImage(_t,st){const ht=this.style.getImage(_t);if(!ht)return void this.fire(new j.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const Ut=st instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&st instanceof j.window.ImageBitmap?j.exported.getImageData(st):st,{width:Vt,height:Lt}=Ut;Vt!==void 0&&Lt!==void 0?Vt===ht.data.width&&Lt===ht.data.height?(ht.data.replace(Ut.data,!(st instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&st instanceof j.window.ImageBitmap)),this.style.updateImage(_t,ht)):this.fire(new j.ErrorEvent(new Error(`The width and height of the updated image (${Vt}, ${Lt})
                must be that same as the previous version of the image
                (${ht.data.width}, ${ht.data.height})`))):this.fire(new j.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(_t){return _t?!!this.style.getImage(_t):(this.fire(new j.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_t){this.style.removeImage(_t)}loadImage(_t,st){j.getImage(this._requestManager.transformRequest(_t,j.ResourceType.Image),(ht,Ut)=>{st(ht,Ut instanceof j.window.HTMLImageElement?j.exported.getImageData(Ut):Ut)})}listImages(){return this.style.listImages()}addLayer(_t,st){return this._lazyInitEmptyStyle(),this.style.addLayer(_t,st),this._update(!0)}moveLayer(_t,st){return this.style.moveLayer(_t,st),this._update(!0)}removeLayer(_t){return this.style.removeLayer(_t),this._update(!0)}getLayer(_t){return this.style.getLayer(_t)}setLayerZoomRange(_t,st,ht){return this.style.setLayerZoomRange(_t,st,ht),this._update(!0)}setFilter(_t,st,ht={}){return this.style.setFilter(_t,st,ht),this._update(!0)}getFilter(_t){return this.style.getFilter(_t)}setPaintProperty(_t,st,ht,Ut={}){return this.style.setPaintProperty(_t,st,ht,Ut),this._update(!0)}getPaintProperty(_t,st){return this.style.getPaintProperty(_t,st)}setLayoutProperty(_t,st,ht,Ut={}){return this.style.setLayoutProperty(_t,st,ht,Ut),this._update(!0)}getLayoutProperty(_t,st){return this.style.getLayoutProperty(_t,st)}setLight(_t,st={}){return this._lazyInitEmptyStyle(),this.style.setLight(_t,st),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(_t){return this._lazyInitEmptyStyle(),!_t&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_t),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_t){return this._lazyInitEmptyStyle(),this.style.setFog(_t),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(_t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(j.LngLat.convert(_t),this.transform):0}setFeatureState(_t,st){return this.style.setFeatureState(_t,st),this._update()}removeFeatureState(_t,st){return this.style.removeFeatureState(_t,st),this._update()}getFeatureState(_t){return this.style.getFeatureState(_t)}_updateContainerDimensions(){if(!this._container)return;const _t=this._container.getBoundingClientRect().width||400,st=this._container.getBoundingClientRect().height||300;let ht,Ut,Vt,Lt=this._container;for(;Lt&&(!Ut||!Vt);){const Kt=j.window.getComputedStyle(Lt).transform;Kt&&Kt!=="none"&&(ht=Kt.match(/matrix.*\((.+)\)/)[1].split(", "),ht[0]&&ht[0]!=="0"&&ht[0]!=="1"&&(Ut=ht[0]),ht[3]&&ht[3]!=="0"&&ht[3]!=="1"&&(Vt=ht[3])),Lt=Lt.parentElement}this._containerWidth=Ut?Math.abs(_t/Ut):_t,this._containerHeight=Vt?Math.abs(st/Vt):st}_detectMissingCSS(){j.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&j.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _t=this._container;_t.classList.add("mapboxgl-map"),(this._missingCSSCanary=pt("div","mapboxgl-canary",_t)).style.visibility="hidden",this._detectMissingCSS();const st=this._canvasContainer=pt("div","mapboxgl-canvas-container",_t);this._interactive&&st.classList.add("mapboxgl-interactive"),this._canvas=pt("canvas","mapboxgl-canvas",st),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const ht=this._controlContainer=pt("div","mapboxgl-control-container",_t),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(Vt=>{Ut[Vt]=pt("div",`mapboxgl-ctrl-${Vt}`,ht)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_t,st){const ht=j.exported.devicePixelRatio||1;this._canvas.width=ht*Math.ceil(_t),this._canvas.height=ht*Math.ceil(st),this._canvas.style.width=`${_t}px`,this._canvas.style.height=`${st}px`}_addMarker(_t){this._markers.push(_t)}_removeMarker(_t){const st=this._markers.indexOf(_t);st!==-1&&this._markers.splice(st,1)}_addPopup(_t){this._popups.push(_t)}_removePopup(_t){const st=this._popups.indexOf(_t);st!==-1&&this._popups.splice(st,1)}_setupPainter(){const _t=j.extend({},ot.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),st=this._canvas.getContext("webgl",_t)||this._canvas.getContext("experimental-webgl",_t);st?(j.storeAuthState(st,!0),this.painter=new R0(st,this.transform),this.on("data",ht=>{ht.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),j.exported$1.testSupport(st)):this.fire(new j.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_t){_t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new j.Event("webglcontextlost",{originalEvent:_t}))}_contextRestored(_t){this._setupPainter(),this.resize(),this._update(),this.fire(new j.Event("webglcontextrestored",{originalEvent:_t}))}_onMapScroll(_t){if(_t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_t){return this.style?(this._styleDirty=this._styleDirty||_t,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_t){return this._update(),this._renderTaskQueue.add(_t)}_cancelRenderFrame(_t){this._renderTaskQueue.remove(_t)}_requestDomTask(_t){!this.loaded()||this.loaded()&&!this.isMoving()?_t():this._domRenderTaskQueue.add(_t)}_render(_t){let st;const ht=this.painter.context.extTimerQuery,Ut=j.exported.now();if(this.listens("gpu-timing-frame")&&(st=ht.createQueryEXT(),ht.beginQueryEXT(ht.TIME_ELAPSED_EXT,st)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],j.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],j.window.performance.now())),this._renderTaskQueue.run(_t),this._domRenderTaskQueue.run(_t),this._removed)return;this._updateProjectionTransition();let Vt=!1;const Lt=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const gn=this.transform.zoom,Rn=this.transform.pitch,Tn=j.exported.now();this.style.zoomHistory.update(gn,Tn);const Dn=new j.EvaluationParameters(gn,{now:Tn,fadeDuration:Lt,pitch:Rn,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),zn=Dn.crossFadingFactor();zn===1&&zn===this._crossFadingFactor||(Vt=!0,this._crossFadingFactor=zn),this.style.update(Dn)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let Kt=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),Kt=this._updateAverageElevation(Ut),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):Kt=this._updateAverageElevation(Ut),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,Lt,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:Lt,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new j.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new j.Event("load"))),this.style&&(this.style.hasTransitions()||Vt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),st){const gn=j.exported.now()-Ut;ht.endQueryEXT(ht.TIME_ELAPSED_EXT,st),setTimeout(()=>{const Rn=ht.getQueryObjectEXT(st,ht.QUERY_RESULT_EXT)/1e6;ht.deleteQueryEXT(st),this.fire(new j.Event("gpu-timing-frame",{cpuTime:gn,gpuTime:Rn})),j.window.performance.mark("frame-gpu",{startTime:Ut,detail:{gpuTime:Rn}})},50)}if(this.listens("gpu-timing-layer")){const gn=this.painter.collectGpuTimers();setTimeout(()=>{const Rn=this.painter.queryGpuTimers(gn);this.fire(new j.Event("gpu-timing-layer",{layerTimes:Rn}))},50)}if(this.listens("gpu-timing-deferred-render")){const gn=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const Rn=this.painter.queryGpuTimeDeferredRender(gn);this.fire(new j.Event("gpu-timing-deferred-render",{gpuTime:Rn}))},50)}const hn=this._sourcesDirty||this._styleDirty||this._placementDirty||Kt;if(hn||this._repaint)this.triggerRepaint();else{const gn=!this.isMoving()&&this.loaded();if(gn&&(Kt=this._updateAverageElevation(Ut,!0)),Kt)this.triggerRepaint();else if(this._triggerFrame(!1),gn&&(this.fire(new j.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const Rn=this._calculateSpeedIndex();this.fire(new j.Event("speedindexcompleted",{speedIndex:Rn})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||hn||(this._fullyLoaded=!0,j.LivePerformanceUtils.mark(j.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&j.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.painter.transform.projection,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(_t){for(const st of this._markers)_t&&!this.getRenderWorldCopies()&&(st._lngLat=st._lngLat.wrap()),st._update();for(const st of this._popups)!_t||this.getRenderWorldCopies()||st._trackPointer||(st._lngLat=st._lngLat.wrap()),st._update()}_updateAverageElevation(_t,st=!1){const ht=Ut=>(this.transform.averageElevation=Ut,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&ht(0);if((st||_t-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_t)){const Ut=this.transform.averageElevation;let Vt=this.transform.sampleAverageElevation(),Lt=!1;this.transform.elevation&&(Lt=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(Vt)?Vt=0:this._averageElevationLastSampledAt=_t;const Kt=Math.abs(Ut-Vt);if(Kt>1){if(this._isInitialLoad||Lt)return this._averageElevation.jumpTo(Vt),ht(Vt);this._averageElevation.easeTo(Vt,_t,300)}else if(Kt>1e-4)return this._averageElevation.jumpTo(Vt),ht(Vt)}return!!this._averageElevation.isEasing(_t)&&ht(this._averageElevation.getValue(_t))}_authenticate(){j.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,_t=>{if(_t&&(_t.message===j.AUTH_ERR_MSG||_t.status===401)){const st=this.painter.context.gl;j.storeAuthState(st,!1),this._logoControl instanceof Zy&&this._logoControl._updateLogo(),st&&st.clear(st.DEPTH_BUFFER_BIT|st.COLOR_BUFFER_BIT|st.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new j.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),j.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const _t=this.painter.canvasCopy(),st=this.painter.getCanvasCopiesAndTimestamps();st.timeStamps.push(performance.now());const ht=this.painter.context.gl,Ut=ht.createFramebuffer();function Vt(Lt){ht.framebufferTexture2D(ht.FRAMEBUFFER,ht.COLOR_ATTACHMENT0,ht.TEXTURE_2D,Lt,0);const Kt=new Uint8Array(ht.drawingBufferWidth*ht.drawingBufferHeight*4);return ht.readPixels(0,0,ht.drawingBufferWidth,ht.drawingBufferHeight,ht.RGBA,ht.UNSIGNED_BYTE,Kt),Kt}return ht.bindFramebuffer(ht.FRAMEBUFFER,Ut),this._canvasPixelComparison(Vt(_t),st.canvasCopies.map(Vt),st.timeStamps)}_canvasPixelComparison(_t,st,ht){let Ut=ht[1]-ht[0];const Vt=_t.length/4;for(let Lt=0;Lt<st.length;Lt++){const Kt=st[Lt];let hn=0;for(let gn=0;gn<Kt.length;gn+=4)Kt[gn]===_t[gn]&&Kt[gn+1]===_t[gn+1]&&Kt[gn+2]===_t[gn+2]&&Kt[gn+3]===_t[gn+3]&&(hn+=1);Ut+=(ht[Lt+2]-ht[Lt+1])*(1-hn/Vt)}return Ut}remove(){this._hash&&this._hash.remove();for(const st of this._controls)st.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),j.window!==void 0&&(j.window.removeEventListener("resize",this._onWindowResize,!1),j.window.removeEventListener("orientationchange",this._onWindowResize,!1),j.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),j.window.removeEventListener("online",this._onWindowOnline,!1),j.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const _t=this.painter.context.gl.getExtension("WEBGL_lose_context");_t&&_t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),Gy(this._canvasContainer),Gy(this._controlContainer),Gy(this._missingCSSCanary),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),j.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new j.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(_t){this._renderNextFrame=this._renderNextFrame||_t,this.style&&!this._frame&&(this._frame=j.exported.frame(st=>{const ht=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,ht&&this._render(st)}))}_preloadTiles(_t){const st=this.style?Object.values(this.style._sourceCaches):[];return j.asyncAll(st,(ht,Ut)=>ht._preloadTiles(_t,Ut),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(_t){this._trackResize&&this.resize({originalEvent:_t})._update()}_onVisibilityChange(){j.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_t){this._showTileBoundaries!==_t&&(this._showTileBoundaries=_t,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_t){this._showTerrainWireframe!==_t&&(this._showTerrainWireframe=_t,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_t){this._speedIndexTiming!==_t&&(this._speedIndexTiming=_t,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_t){this._showPadding!==_t&&(this._showPadding=_t,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_t){this._showCollisionBoxes!==_t&&(this._showCollisionBoxes=_t,_t?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_t){this._showOverdrawInspector!==_t&&(this._showOverdrawInspector=_t,this._update())}get repaint(){return!!this._repaint}set repaint(_t){this._repaint!==_t&&(this._repaint=_t,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_t){this._vertices=_t,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(_t){this._showTileAABBs!==_t&&(this._showTileAABBs=_t,_t&&this._update())}_setCacheLimits(_t,st){j.setCacheLimits(_t,st)}get version(){return j.version}},NavigationControl:class{constructor(_t){this.options=j.extend({},N_,_t),this._container=pt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",st=>st.preventDefault()),this.options.showZoom&&(j.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",st=>{this._map&&this._map.zoomIn({},{originalEvent:st})}),pt("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",st=>{this._map&&this._map.zoomOut({},{originalEvent:st})}),pt("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(j.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",st=>{const ht=this._map;ht&&(this.options.visualizePitch?ht.resetNorthPitch({},{originalEvent:st}):ht.resetNorth({},{originalEvent:st}))}),this._compassIcon=pt("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _t=this._map;if(!_t)return;const st=_t.getZoom(),ht=st===_t.getMaxZoom(),Ut=st===_t.getMinZoom();this._zoomInButton.disabled=ht,this._zoomOutButton.disabled=Ut,this._zoomInButton.setAttribute("aria-disabled",ht.toString()),this._zoomOutButton.setAttribute("aria-disabled",Ut.toString())}_rotateCompassArrow(){const _t=this._map;if(!_t)return;const st=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_t.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_t.transform.pitch}deg) rotateZ(${_t.transform.angle*(180/Math.PI)}deg)`:`rotate(${_t.transform.angle*(180/Math.PI)}deg)`;_t._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=st)})}onAdd(_t){return this._map=_t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_t.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_t.on("pitch",this._rotateCompassArrow),_t.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new xv(_t,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _t=this._map;_t&&(this._container.remove(),this.options.showZoom&&_t.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_t.off("pitch",this._rotateCompassArrow),_t.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_t,st){const ht=pt("button",_t,this._container);return ht.type="button",ht.addEventListener("click",st),ht}_setButtonTitle(_t,st){if(!this._map)return;const ht=this._map._getUIString(`NavigationControl.${st}`);_t.setAttribute("aria-label",ht),_t.firstElementChild&&_t.firstElementChild.setAttribute("title",ht)}},GeolocateControl:class extends j.Evented{constructor(_t){super(),this.options=j.extend({geolocation:j.window.navigator.geolocation},Av,_t),j.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=T_(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_t){return this._map=_t,this._container=pt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(_t){const st=(ht=!!this.options.geolocation)=>{this._supportsGeolocation=ht,_t(ht)};this._supportsGeolocation!==void 0?_t(this._supportsGeolocation):j.window.navigator.permissions!==void 0?j.window.navigator.permissions.query({name:"geolocation"}).then(ht=>st(ht.state!=="denied")).catch(()=>st()):st()}_isOutOfMapMaxBounds(_t){const st=this._map.getMaxBounds(),ht=_t.coords;return!!st&&(ht.longitude<st.getWest()||ht.longitude>st.getEast()||ht.latitude<st.getSouth()||ht.latitude>st.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(_t){if(this._map){if(this._isOutOfMapMaxBounds(_t))return this._setErrorState(),this.fire(new j.Event("outofmaxbounds",_t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_t),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new j.Event("geolocate",_t)),this._finish()}}_updateCamera(_t){const st=new j.LngLat(_t.coords.longitude,_t.coords.latitude),ht=_t.coords.accuracy,Ut=this._map.getBearing(),Vt=j.extend({bearing:Ut},this.options.fitBoundsOptions);this._map.fitBounds(st.toBounds(ht),Vt,{geolocateSource:!0})}_updateMarker(_t){if(_t){const st=new j.LngLat(_t.coords.longitude,_t.coords.latitude);this._accuracyCircleMarker.setLngLat(st).addTo(this._map),this._userLocationDotMarker.setLngLat(st).addTo(this._map),this._accuracy=_t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _t=this._map.transform,st=j.mercatorZfromAltitude(1,_t._center.lat)*_t.worldSize,ht=Math.ceil(2*this._accuracy*st);this._circleElement.style.width=`${ht}px`,this._circleElement.style.height=`${ht}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(_t){if(this._map){if(this.options.trackUserLocation)if(_t.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const st=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",st),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",st),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_t.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new j.Event("error",_t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_t){if(this._container.addEventListener("contextmenu",st=>st.preventDefault()),this._geolocateButton=pt("button","mapboxgl-ctrl-geolocate",this._container),pt("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_t===!1){j.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const st=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",st),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",st)}else{const st=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",st),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",st)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=pt("div","mapboxgl-user-location"),this._dotElement.appendChild(pt("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(pt("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new k0({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=pt("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new k0({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",st=>{st.geolocateSource||this._watchState!=="ACTIVE_LOCK"||st.originalEvent&&st.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new j.Event("trackuserlocationend")))})}_onDeviceOrientation(_t){this._userLocationDotMarker&&(_t.webkitCompassHeading?this._heading=_t.webkitCompassHeading:_t.absolute===!0&&(this._heading=-1*_t.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return j.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new j.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new j.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new j.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_t={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_t=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_t),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const _t=()=>{j.window.addEventListener("ondeviceorientationabsolute"in j.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};j.window.DeviceMotionEvent!==void 0&&typeof j.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(st=>{st==="granted"&&_t()}).catch(console.error):_t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),j.window.removeEventListener("deviceorientation",this._onDeviceOrientation),j.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:C_,ScaleControl:class{constructor(_t){this.options=j.extend({},Hy,_t),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=gy.bind(this)),j.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _t=this.options.maxWidth||100,st=this._map,ht=st._containerHeight/2,Ut=st._containerWidth/2-_t/2,Vt=st.unproject([Ut,ht]),Lt=st.unproject([Ut+_t,ht]),Kt=Vt.distanceTo(Lt);if(this.options.unit==="imperial"){const hn=3.2808*Kt;hn>5280?this._setScale(_t,hn/5280,"mile"):this._setScale(_t,hn,"foot")}else this.options.unit==="nautical"?this._setScale(_t,Kt/1852,"nautical-mile"):Kt>=1e3?this._setScale(_t,Kt/1e3,"kilometer"):this._setScale(_t,Kt,"meter")}_setScale(_t,st,ht){const Ut=Jm(st),Vt=Ut/st;this._map._requestDomTask(()=>{this._container.style.width=_t*Vt+"px",this._container.innerHTML=ht!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:ht}).format(Ut):`${Ut}&nbsp;nm`})}onAdd(_t){return this._map=_t,this._language=_t.getLanguage(),this._container=pt("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_t.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_t){this._language=_t,this._update()}setUnit(_t){this.options.unit=_t,this._update()}},FullscreenControl:class{constructor(_t){this._fullscreen=!1,_t&&_t.container&&(_t.container instanceof j.window.HTMLElement?this._container=_t.container:j.warnOnce("Full screen control 'container' must be a DOM element.")),j.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in j.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in j.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(_t){return this._map=_t,this._container||(this._container=this._map.getContainer()),this._controlContainer=pt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",j.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,j.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!j.window.document.fullscreenEnabled&&!j.window.document.webkitFullscreenEnabled)}_setupUI(){const _t=this._fullscreenButton=pt("button","mapboxgl-ctrl-fullscreen",this._controlContainer);pt("span","mapboxgl-ctrl-icon",_t).setAttribute("aria-hidden","true"),_t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),j.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_t),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_t)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(j.window.document.fullscreenElement||j.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?j.window.document.exitFullscreen?j.window.document.exitFullscreen():j.window.document.webkitCancelFullScreen&&j.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends j.Evented{constructor(_t){super(),this.options=j.extend(Object.create(Ku),_t),j.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(_t&&_t.className?_t.className.trim().split(/\s+/):[])}addTo(_t){return this._map&&this.remove(),this._map=_t,this.options.closeOnClick&&_t.on("preclick",this._onClose),this.options.closeOnMove&&_t.on("move",this._onClose),_t.on("remove",this.remove),this._update(),_t._addPopup(this),this._focusFirstElement(),this._trackPointer?(_t.on("mousemove",this._onMouseEvent),_t.on("mouseup",this._onMouseEvent),_t._canvasContainer.classList.add("mapboxgl-track-pointer")):_t.on("move",this._update),this.fire(new j.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const _t=this._map;return _t&&(_t.off("move",this._update),_t.off("move",this._onClose),_t.off("preclick",this._onClose),_t.off("click",this._onClose),_t.off("remove",this.remove),_t.off("mousemove",this._onMouseEvent),_t.off("mouseup",this._onMouseEvent),_t.off("drag",this._onMouseEvent),_t._canvasContainer&&_t._canvasContainer.classList.remove("mapboxgl-track-pointer"),_t._removePopup(this),this._map=void 0),this.fire(new j.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_t){this._lngLat=j.LngLat.convert(_t),this._pos=null,this._trackPointer=!1,this._update();const st=this._map;return st&&(st.on("move",this._update),st.off("mousemove",this._onMouseEvent),st._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _t=this._map;return _t&&(_t.off("move",this._update),_t.on("mousemove",this._onMouseEvent),_t.on("drag",this._onMouseEvent),_t._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_t){return this.setDOMContent(j.window.document.createTextNode(_t))}setHTML(_t){const st=j.window.document.createDocumentFragment(),ht=j.window.document.createElement("body");let Ut;for(ht.innerHTML=_t;Ut=ht.firstChild,Ut;)st.appendChild(Ut);return this.setDOMContent(st)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_t){return this.options.maxWidth=_t,this._update(),this}setDOMContent(_t){let st=this._content;if(st)for(;st.hasChildNodes();)st.firstChild&&st.removeChild(st.firstChild);else st=this._content=pt("div","mapboxgl-popup-content",this._container||void 0);if(st.appendChild(_t),this.options.closeButton){const ht=this._closeButton=pt("button","mapboxgl-popup-close-button",st);ht.type="button",ht.setAttribute("aria-label","Close popup"),ht.setAttribute("aria-hidden","true"),ht.innerHTML="&#215;",ht.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_t){return this._classList.add(_t),this._updateClassList(),this}removeClassName(_t){return this._classList.delete(_t),this._updateClassList(),this}setOffset(_t){return this.options.offset=_t,this._update(),this}toggleClassName(_t){let st;return this._classList.delete(_t)?st=!1:(this._classList.add(_t),st=!0),this._updateClassList(),st}_onMouseEvent(_t){this._update(_t.point)}_getAnchor(_t){if(this.options.anchor)return this.options.anchor;const st=this._map,ht=this._container,Ut=this._pos;if(!st||!ht||!Ut)return"bottom";const Vt=ht.offsetWidth,Lt=ht.offsetHeight,Kt=Ut.x<Vt/2,hn=Ut.x>st.transform.width-Vt/2;if(Ut.y+_t<Lt)return Kt?"top-left":hn?"top-right":"top";if(Ut.y>st.transform.height-Lt){if(Kt)return"bottom-left";if(hn)return"bottom-right"}return Kt?"left":hn?"right":"bottom"}_updateClassList(){const _t=this._container;if(!_t)return;const st=[...this._classList];st.push("mapboxgl-popup"),this._anchor&&st.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&st.push("mapboxgl-popup-track-pointer"),_t.className=st.join(" ")}_update(_t){const st=this._map,ht=this._content;if(!st||!this._lngLat&&!this._trackPointer||!ht)return;let Ut=this._container;if(Ut||(Ut=this._container=pt("div","mapboxgl-popup",st.getContainer()),this._tip=pt("div","mapboxgl-popup-tip",Ut),Ut.appendChild(ht)),this.options.maxWidth&&Ut.style.maxWidth!==this.options.maxWidth&&(Ut.style.maxWidth=this.options.maxWidth),st.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=_p(this._lngLat,this._pos,st.transform)),!this._trackPointer||_t){const Vt=this._pos=this._trackPointer&&_t?_t:st.project(this._lngLat),Lt=k_(this.options.offset),Kt=this._anchor=this._getAnchor(Lt.y),hn=k_(this.options.offset,Kt),gn=Vt.add(hn).round();st._requestDomTask(()=>{this._container&&Kt&&(this._container.style.transform=`${C0[Kt]} translate(${gn.x}px,${gn.y}px)`)})}if(!this._marker&&st._showingGlobe()){const Vt=j.isLngLatBehindGlobe(st.transform,this._lngLat)?0:1;this._setOpacity(Vt)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _t=this._container.querySelector(Bv);_t&&_t.focus()}_onClose(){this.remove()}_setOpacity(_t){this._container&&(this._container.style.opacity=`${_t}`),this._content&&(this._content.style.pointerEvents=_t?"auto":"none")}},Marker:k0,Style:fp,LngLat:j.LngLat,LngLatBounds:j.LngLatBounds,Point:j.pointGeometry,MercatorCoordinate:j.MercatorCoordinate,FreeCameraOptions:hy,Evented:j.Evented,config:j.config,prewarm:function(){Do().acquire(wo)},clearPrewarmedResources:function(){const _t=Qo;_t&&(_t.isPreloaded()&&_t.numActive()===1?(_t.release(wo),Qo=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return j.config.ACCESS_TOKEN},set accessToken(_t){j.config.ACCESS_TOKEN=_t},get baseApiUrl(){return j.config.API_URL},set baseApiUrl(_t){j.config.API_URL=_t},get workerCount(){return To.workerCount},set workerCount(_t){To.workerCount=_t},get maxParallelImageRequests(){return j.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_t){j.config.MAX_PARALLEL_IMAGE_REQUESTS=_t},clearStorage(_t){j.clearTileCache(_t)},workerUrl:"",workerClass:null,setNow:j.exported.setNow,restoreNow:j.exported.restoreNow};return $y});var et=$;return et})})(mapboxGl);const mapboxgl=mapboxGlExports,app="_app_s5332_1",card="_card_s5332_16",styles$1={app,"map-container":"_map-container_s5332_9",card,"fade-in":"_fade-in_s5332_34","fade-out":"_fade-out_s5332_55"};function _typeof$2(i){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$2(i)}function toInteger$1(i){if(i===null||i===!0||i===!1)return NaN;var o=Number(i);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}function requiredArgs$1(i,o){if(o.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+o.length+" present")}function toDate$1(i){requiredArgs$1(1,arguments);var o=Object.prototype.toString.call(i);return i instanceof Date||_typeof$2(i)==="object"&&o==="[object Date]"?new Date(i.getTime()):typeof i=="number"||o==="[object Number]"?new Date(i):((typeof i=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function addDays(i,o){requiredArgs$1(2,arguments);var s=toDate$1(i),_=toInteger$1(o);return isNaN(_)?new Date(NaN):(_&&s.setDate(s.getDate()+_),s)}function addMonths(i,o){requiredArgs$1(2,arguments);var s=toDate$1(i),_=toInteger$1(o);if(isNaN(_))return new Date(NaN);if(!_)return s;var $=s.getDate(),_e=new Date(s.getTime());_e.setMonth(s.getMonth()+_+1,0);var et=_e.getDate();return $>=et?_e:(s.setFullYear(_e.getFullYear(),_e.getMonth(),$),s)}function addMilliseconds$1(i,o){requiredArgs$1(2,arguments);var s=toDate$1(i).getTime(),_=toInteger$1(o);return new Date(s+_)}var MILLISECONDS_IN_HOUR=36e5;function addHours(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addMilliseconds$1(i,s*MILLISECONDS_IN_HOUR)}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(i,o){var s,_,$,_e,et,j,nt,ot;requiredArgs$1(1,arguments);var ct=getDefaultOptions(),gt=toInteger$1((s=(_=($=(_e=o==null?void 0:o.weekStartsOn)!==null&&_e!==void 0?_e:o==null||(et=o.locale)===null||et===void 0||(j=et.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&$!==void 0?$:ct.weekStartsOn)!==null&&_!==void 0?_:(nt=ct.locale)===null||nt===void 0||(ot=nt.options)===null||ot===void 0?void 0:ot.weekStartsOn)!==null&&s!==void 0?s:0);if(!(gt>=0&&gt<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var pt=toDate$1(i),ft=pt.getDay(),ut=(ft<gt?7:0)+ft-gt;return pt.setDate(pt.getDate()-ut),pt.setHours(0,0,0,0),pt}function startOfDay(i){requiredArgs$1(1,arguments);var o=toDate$1(i);return o.setHours(0,0,0,0),o}var MILLISECONDS_IN_MINUTE$1=6e4;function addMinutes$1(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addMilliseconds$1(i,s*MILLISECONDS_IN_MINUTE$1)}function addQuarters(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o),_=s*3;return addMonths(i,_)}function addSeconds$1(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addMilliseconds$1(i,s*1e3)}function addWeeks(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o),_=s*7;return addDays(i,_)}function addYears(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addMonths(i,s*12)}function getQuarter(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=Math.floor(o.getMonth()/3)+1;return s}var roundingMap$1={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(o){return o<0?Math.ceil(o):Math.floor(o)}},defaultRoundingMethod$1="trunc";function getRoundingMethod$1(i){return i?roundingMap$1[i]:roundingMap$1[defaultRoundingMethod$1]}function endOfDay(i){requiredArgs$1(1,arguments);var o=toDate$1(i);return o.setHours(23,59,59,999),o}function endOfMonth(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=o.getMonth();return o.setFullYear(o.getFullYear(),s+1,0),o.setHours(23,59,59,999),o}function eachDayOfInterval(i,o){var s;requiredArgs$1(1,arguments);var _=i||{},$=toDate$1(_.start),_e=toDate$1(_.end),et=_e.getTime();if(!($.getTime()<=et))throw new RangeError("Invalid interval");var j=[],nt=$;nt.setHours(0,0,0,0);var ot=Number((s=o==null?void 0:o.step)!==null&&s!==void 0?s:1);if(ot<1||isNaN(ot))throw new RangeError("`options.step` must be a number greater than 1");for(;nt.getTime()<=et;)j.push(toDate$1(nt)),nt.setDate(nt.getDate()+ot),nt.setHours(0,0,0,0);return j}function eachHourOfInterval(i,o){var s;requiredArgs$1(1,arguments);var _=i||{},$=toDate$1(_.start),_e=toDate$1(_.end),et=$.getTime(),j=_e.getTime();if(!(et<=j))throw new RangeError("Invalid interval");var nt=[],ot=$;ot.setMinutes(0,0,0);var ct=Number((s=o==null?void 0:o.step)!==null&&s!==void 0?s:1);if(ct<1||isNaN(ct))throw new RangeError("`options.step` must be a number greater than 1");for(;ot.getTime()<=j;)nt.push(toDate$1(ot)),ot=addHours(ot,ct);return nt}function startOfMinute$1(i){requiredArgs$1(1,arguments);var o=toDate$1(i);return o.setSeconds(0,0),o}function eachMinuteOfInterval(i,o){var s;requiredArgs$1(1,arguments);var _=startOfMinute$1(toDate$1(i.start)),$=toDate$1(i.end),_e=_.getTime(),et=$.getTime();if(_e>=et)throw new RangeError("Invalid interval");var j=[],nt=_,ot=Number((s=o==null?void 0:o.step)!==null&&s!==void 0?s:1);if(ot<1||isNaN(ot))throw new RangeError("`options.step` must be a number equal to or greater than 1");for(;nt.getTime()<=et;)j.push(toDate$1(nt)),nt=addMinutes$1(nt,ot);return j}function eachMonthOfInterval(i){requiredArgs$1(1,arguments);var o=i||{},s=toDate$1(o.start),_=toDate$1(o.end),$=_.getTime(),_e=[];if(!(s.getTime()<=$))throw new RangeError("Invalid interval");var et=s;for(et.setHours(0,0,0,0),et.setDate(1);et.getTime()<=$;)_e.push(toDate$1(et)),et.setMonth(et.getMonth()+1);return _e}function startOfQuarter(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=o.getMonth(),_=s-s%3;return o.setMonth(_,1),o.setHours(0,0,0,0),o}function eachQuarterOfInterval(i){requiredArgs$1(1,arguments);var o=i||{},s=toDate$1(o.start),_=toDate$1(o.end),$=_.getTime();if(!(s.getTime()<=$))throw new RangeError("Invalid interval");var _e=startOfQuarter(s),et=startOfQuarter(_);$=et.getTime();for(var j=[],nt=_e;nt.getTime()<=$;)j.push(toDate$1(nt)),nt=addQuarters(nt,1);return j}function eachWeekOfInterval(i,o){requiredArgs$1(1,arguments);var s=i||{},_=toDate$1(s.start),$=toDate$1(s.end),_e=$.getTime();if(!(_.getTime()<=_e))throw new RangeError("Invalid interval");var et=startOfWeek(_,o),j=startOfWeek($,o);et.setHours(15),j.setHours(15),_e=j.getTime();for(var nt=[],ot=et;ot.getTime()<=_e;)ot.setHours(0),nt.push(toDate$1(ot)),ot=addWeeks(ot,1),ot.setHours(15);return nt}function startOfMonth(i){requiredArgs$1(1,arguments);var o=toDate$1(i);return o.setDate(1),o.setHours(0,0,0,0),o}function endOfYear(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=o.getFullYear();return o.setFullYear(s+1,0,0),o.setHours(23,59,59,999),o}function startOfYear(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=new Date(0);return s.setFullYear(o.getFullYear(),0,1),s.setHours(0,0,0,0),s}function eachYearOfInterval(i){requiredArgs$1(1,arguments);var o=i||{},s=toDate$1(o.start),_=toDate$1(o.end),$=_.getTime();if(!(s.getTime()<=$))throw new RangeError("Invalid interval");var _e=[],et=s;for(et.setHours(0,0,0,0),et.setMonth(0,1);et.getTime()<=$;)_e.push(toDate$1(et)),et.setFullYear(et.getFullYear()+1);return _e}function endOfHour(i){requiredArgs$1(1,arguments);var o=toDate$1(i);return o.setMinutes(59,59,999),o}function endOfWeek(i,o){var s,_,$,_e,et,j,nt,ot;requiredArgs$1(1,arguments);var ct=getDefaultOptions(),gt=toInteger$1((s=(_=($=(_e=o==null?void 0:o.weekStartsOn)!==null&&_e!==void 0?_e:o==null||(et=o.locale)===null||et===void 0||(j=et.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&$!==void 0?$:ct.weekStartsOn)!==null&&_!==void 0?_:(nt=ct.locale)===null||nt===void 0||(ot=nt.options)===null||ot===void 0?void 0:ot.weekStartsOn)!==null&&s!==void 0?s:0);if(!(gt>=0&&gt<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var pt=toDate$1(i),ft=pt.getDay(),ut=(ft<gt?-7:0)+6-(ft-gt);return pt.setDate(pt.getDate()+ut),pt.setHours(23,59,59,999),pt}function endOfMinute(i){requiredArgs$1(1,arguments);var o=toDate$1(i);return o.setSeconds(59,999),o}function endOfQuarter(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=o.getMonth(),_=s-s%3+3;return o.setMonth(_,0),o.setHours(23,59,59,999),o}function getDay(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=o.getDay();return s}function getHours(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=o.getHours();return s}function getMinutes(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=o.getMinutes();return s}function getMonth(i){requiredArgs$1(1,arguments);var o=toDate$1(i),s=o.getMonth();return s}function getWeekYear(i,o){var s,_,$,_e,et,j,nt,ot;requiredArgs$1(1,arguments);var ct=toDate$1(i),gt=ct.getFullYear(),pt=getDefaultOptions(),ft=toInteger$1((s=(_=($=(_e=o==null?void 0:o.firstWeekContainsDate)!==null&&_e!==void 0?_e:o==null||(et=o.locale)===null||et===void 0||(j=et.options)===null||j===void 0?void 0:j.firstWeekContainsDate)!==null&&$!==void 0?$:pt.firstWeekContainsDate)!==null&&_!==void 0?_:(nt=pt.locale)===null||nt===void 0||(ot=nt.options)===null||ot===void 0?void 0:ot.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(ft>=1&&ft<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ut=new Date(0);ut.setFullYear(gt+1,0,ft),ut.setHours(0,0,0,0);var yt=startOfWeek(ut,o),wt=new Date(0);wt.setFullYear(gt,0,ft),wt.setHours(0,0,0,0);var Qt=startOfWeek(wt,o);return ct.getTime()>=yt.getTime()?gt+1:ct.getTime()>=Qt.getTime()?gt:gt-1}function startOfWeekYear(i,o){var s,_,$,_e,et,j,nt,ot;requiredArgs$1(1,arguments);var ct=getDefaultOptions(),gt=toInteger$1((s=(_=($=(_e=o==null?void 0:o.firstWeekContainsDate)!==null&&_e!==void 0?_e:o==null||(et=o.locale)===null||et===void 0||(j=et.options)===null||j===void 0?void 0:j.firstWeekContainsDate)!==null&&$!==void 0?$:ct.firstWeekContainsDate)!==null&&_!==void 0?_:(nt=ct.locale)===null||nt===void 0||(ot=nt.options)===null||ot===void 0?void 0:ot.firstWeekContainsDate)!==null&&s!==void 0?s:1),pt=getWeekYear(i,o),ft=new Date(0);ft.setFullYear(pt,0,gt),ft.setHours(0,0,0,0);var ut=startOfWeek(ft,o);return ut}var MILLISECONDS_IN_WEEK=6048e5;function getWeek(i,o){requiredArgs$1(1,arguments);var s=toDate$1(i),_=startOfWeek(s,o).getTime()-startOfWeekYear(s,o).getTime();return Math.round(_/MILLISECONDS_IN_WEEK)+1}function getYear(i){return requiredArgs$1(1,arguments),toDate$1(i).getFullYear()}function _setPrototypeOf$1(i,o){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},_setPrototypeOf$1(i,o)}function startOfHour(i){requiredArgs$1(1,arguments);var o=toDate$1(i);return o.setMinutes(0,0,0),o}function subDays(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addDays(i,-s)}function roundToNearestMinutes$1(i,o){var s;if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var _=toInteger$1((s=o==null?void 0:o.nearestTo)!==null&&s!==void 0?s:1);if(_<1||_>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var $=toDate$1(i),_e=$.getSeconds(),et=$.getMinutes()+_e/60,j=getRoundingMethod$1(o==null?void 0:o.roundingMethod),nt=j(et/_)*_,ot=et%_,ct=Math.round(ot/_)*_;return new Date($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),nt+ct)}function subMonths(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addMonths(i,-s)}function subHours(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addHours(i,-s)}function subMinutes(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addMinutes$1(i,-s)}function subQuarters(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addQuarters(i,-s)}function subWeeks(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addWeeks(i,-s)}function subYears(i,o){requiredArgs$1(2,arguments);var s=toInteger$1(o);return addYears(i,-s)}var ln=Object.defineProperty,un=(i,o,s)=>o in i?ln(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,Te=(i,o,s)=>(un(i,typeof o!="symbol"?o+"":o,s),s);const global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=i.length;o<s;++o)lookup[o]=i[o],revLookup[i.charCodeAt(o)]=o;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(i){inited||init();var o,s,_,$,_e,et,j=i.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");_e=i[j-2]==="="?2:i[j-1]==="="?1:0,et=new Arr(j*3/4-_e),_=_e>0?j-4:j;var nt=0;for(o=0,s=0;o<_;o+=4,s+=3)$=revLookup[i.charCodeAt(o)]<<18|revLookup[i.charCodeAt(o+1)]<<12|revLookup[i.charCodeAt(o+2)]<<6|revLookup[i.charCodeAt(o+3)],et[nt++]=$>>16&255,et[nt++]=$>>8&255,et[nt++]=$&255;return _e===2?($=revLookup[i.charCodeAt(o)]<<2|revLookup[i.charCodeAt(o+1)]>>4,et[nt++]=$&255):_e===1&&($=revLookup[i.charCodeAt(o)]<<10|revLookup[i.charCodeAt(o+1)]<<4|revLookup[i.charCodeAt(o+2)]>>2,et[nt++]=$>>8&255,et[nt++]=$&255),et}function tripletToBase64(i){return lookup[i>>18&63]+lookup[i>>12&63]+lookup[i>>6&63]+lookup[i&63]}function encodeChunk(i,o,s){for(var _,$=[],_e=o;_e<s;_e+=3)_=(i[_e]<<16)+(i[_e+1]<<8)+i[_e+2],$.push(tripletToBase64(_));return $.join("")}function fromByteArray(i){inited||init();for(var o,s=i.length,_=s%3,$="",_e=[],et=16383,j=0,nt=s-_;j<nt;j+=et)_e.push(encodeChunk(i,j,j+et>nt?nt:j+et));return _===1?(o=i[s-1],$+=lookup[o>>2],$+=lookup[o<<4&63],$+="=="):_===2&&(o=(i[s-2]<<8)+i[s-1],$+=lookup[o>>10],$+=lookup[o>>4&63],$+=lookup[o<<2&63],$+="="),_e.push($),_e.join("")}function read(i,o,s,_,$){var _e,et,j=$*8-_-1,nt=(1<<j)-1,ot=nt>>1,ct=-7,gt=s?$-1:0,pt=s?-1:1,ft=i[o+gt];for(gt+=pt,_e=ft&(1<<-ct)-1,ft>>=-ct,ct+=j;ct>0;_e=_e*256+i[o+gt],gt+=pt,ct-=8);for(et=_e&(1<<-ct)-1,_e>>=-ct,ct+=_;ct>0;et=et*256+i[o+gt],gt+=pt,ct-=8);if(_e===0)_e=1-ot;else{if(_e===nt)return et?NaN:(ft?-1:1)*(1/0);et=et+Math.pow(2,_),_e=_e-ot}return(ft?-1:1)*et*Math.pow(2,_e-_)}function write(i,o,s,_,$,_e){var et,j,nt,ot=_e*8-$-1,ct=(1<<ot)-1,gt=ct>>1,pt=$===23?Math.pow(2,-24)-Math.pow(2,-77):0,ft=_?0:_e-1,ut=_?1:-1,yt=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(j=isNaN(o)?1:0,et=ct):(et=Math.floor(Math.log(o)/Math.LN2),o*(nt=Math.pow(2,-et))<1&&(et--,nt*=2),et+gt>=1?o+=pt/nt:o+=pt*Math.pow(2,1-gt),o*nt>=2&&(et++,nt/=2),et+gt>=ct?(j=0,et=ct):et+gt>=1?(j=(o*nt-1)*Math.pow(2,$),et=et+gt):(j=o*Math.pow(2,gt-1)*Math.pow(2,$),et=0));$>=8;i[s+ft]=j&255,ft+=ut,j/=256,$-=8);for(et=et<<$|j,ot+=$;ot>0;i[s+ft]=et&255,ft+=ut,et/=256,ot-=8);i[s+ft-ut]|=yt*128}var toString={}.toString,isArray$1=Array.isArray||function(i){return toString.call(i)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT!==void 0?global$1.TYPED_ARRAY_SUPPORT:!0;kMaxLength();function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(i,o){if(kMaxLength()<o)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(o),i.__proto__=Buffer.prototype):(i===null&&(i=new Buffer(o)),i.length=o),i}function Buffer(i,o,s){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(i,o,s);if(typeof i=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,i)}return from$2(this,i,o,s)}Buffer.poolSize=8192;Buffer._augment=function(i){return i.__proto__=Buffer.prototype,i};function from$2(i,o,s,_){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?fromArrayBuffer(i,o,s,_):typeof o=="string"?fromString(i,o,s):fromObject$1(i,o)}Buffer.from=function(i,o,s){return from$2(null,i,o,s)};Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array);function assertSize(i){if(typeof i!="number")throw new TypeError('"size" argument must be a number');if(i<0)throw new RangeError('"size" argument must not be negative')}function alloc$1(i,o,s,_){return assertSize(o),o<=0?createBuffer(i,o):s!==void 0?typeof _=="string"?createBuffer(i,o).fill(s,_):createBuffer(i,o).fill(s):createBuffer(i,o)}Buffer.alloc=function(i,o,s){return alloc$1(null,i,o,s)};function allocUnsafe(i,o){if(assertSize(o),i=createBuffer(i,o<0?0:checked(o)|0),!Buffer.TYPED_ARRAY_SUPPORT)for(var s=0;s<o;++s)i[s]=0;return i}Buffer.allocUnsafe=function(i){return allocUnsafe(null,i)};Buffer.allocUnsafeSlow=function(i){return allocUnsafe(null,i)};function fromString(i,o,s){if((typeof s!="string"||s==="")&&(s="utf8"),!Buffer.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var _=byteLength(o,s)|0;i=createBuffer(i,_);var $=i.write(o,s);return $!==_&&(i=i.slice(0,$)),i}function fromArrayLike(i,o){var s=o.length<0?0:checked(o.length)|0;i=createBuffer(i,s);for(var _=0;_<s;_+=1)i[_]=o[_]&255;return i}function fromArrayBuffer(i,o,s,_){if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+(_||0))throw new RangeError("'length' is out of bounds");return s===void 0&&_===void 0?o=new Uint8Array(o):_===void 0?o=new Uint8Array(o,s):o=new Uint8Array(o,s,_),Buffer.TYPED_ARRAY_SUPPORT?(i=o,i.__proto__=Buffer.prototype):i=fromArrayLike(i,o),i}function fromObject$1(i,o){if(internalIsBuffer(o)){var s=checked(o.length)|0;return i=createBuffer(i,s),i.length===0||o.copy(i,0,0,s),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||isnan(o.length)?createBuffer(i,0):fromArrayLike(i,o);if(o.type==="Buffer"&&isArray$1(o.data))return fromArrayLike(i,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(i){if(i>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return i|0}Buffer.isBuffer=isBuffer;function internalIsBuffer(i){return!!(i!=null&&i._isBuffer)}Buffer.compare=function(i,o){if(!internalIsBuffer(i)||!internalIsBuffer(o))throw new TypeError("Arguments must be Buffers");if(i===o)return 0;for(var s=i.length,_=o.length,$=0,_e=Math.min(s,_);$<_e;++$)if(i[$]!==o[$]){s=i[$],_=o[$];break}return s<_?-1:_<s?1:0};Buffer.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Buffer.concat=function(i,o){if(!isArray$1(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return Buffer.alloc(0);var s;if(o===void 0)for(o=0,s=0;s<i.length;++s)o+=i[s].length;var _=Buffer.allocUnsafe(o),$=0;for(s=0;s<i.length;++s){var _e=i[s];if(!internalIsBuffer(_e))throw new TypeError('"list" argument must be an Array of Buffers');_e.copy(_,$),$+=_e.length}return _};function byteLength(i,o){if(internalIsBuffer(i))return i.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(i)||i instanceof ArrayBuffer))return i.byteLength;typeof i!="string"&&(i=""+i);var s=i.length;if(s===0)return 0;for(var _=!1;;)switch(o){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":case void 0:return utf8ToBytes(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return base64ToBytes(i).length;default:if(_)return utf8ToBytes(i).length;o=(""+o).toLowerCase(),_=!0}}Buffer.byteLength=byteLength;function slowToString(i,o,s){var _=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,o>>>=0,s<=o))return"";for(i||(i="utf8");;)switch(i){case"hex":return hexSlice(this,o,s);case"utf8":case"utf-8":return utf8Slice(this,o,s);case"ascii":return asciiSlice(this,o,s);case"latin1":case"binary":return latin1Slice(this,o,s);case"base64":return base64Slice(this,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,o,s);default:if(_)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),_=!0}}Buffer.prototype._isBuffer=!0;function swap$1(i,o,s){var _=i[o];i[o]=i[s],i[s]=_}Buffer.prototype.swap16=function(){var i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<i;o+=2)swap$1(this,o,o+1);return this};Buffer.prototype.swap32=function(){var i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<i;o+=4)swap$1(this,o,o+3),swap$1(this,o+1,o+2);return this};Buffer.prototype.swap64=function(){var i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<i;o+=8)swap$1(this,o,o+7),swap$1(this,o+1,o+6),swap$1(this,o+2,o+5),swap$1(this,o+3,o+4);return this};Buffer.prototype.toString=function(){var i=this.length|0;return i===0?"":arguments.length===0?utf8Slice(this,0,i):slowToString.apply(this,arguments)};Buffer.prototype.equals=function(i){if(!internalIsBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:Buffer.compare(this,i)===0};Buffer.prototype.inspect=function(){var i="",o=INSPECT_MAX_BYTES;return this.length>0&&(i=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(i+=" ... ")),"<Buffer "+i+">"};Buffer.prototype.compare=function(i,o,s,_,$){if(!internalIsBuffer(i))throw new TypeError("Argument must be a Buffer");if(o===void 0&&(o=0),s===void 0&&(s=i?i.length:0),_===void 0&&(_=0),$===void 0&&($=this.length),o<0||s>i.length||_<0||$>this.length)throw new RangeError("out of range index");if(_>=$&&o>=s)return 0;if(_>=$)return-1;if(o>=s)return 1;if(o>>>=0,s>>>=0,_>>>=0,$>>>=0,this===i)return 0;for(var _e=$-_,et=s-o,j=Math.min(_e,et),nt=this.slice(_,$),ot=i.slice(o,s),ct=0;ct<j;++ct)if(nt[ct]!==ot[ct]){_e=nt[ct],et=ot[ct];break}return _e<et?-1:et<_e?1:0};function bidirectionalIndexOf(i,o,s,_,$){if(i.length===0)return-1;if(typeof s=="string"?(_=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,isNaN(s)&&(s=$?0:i.length-1),s<0&&(s=i.length+s),s>=i.length){if($)return-1;s=i.length-1}else if(s<0)if($)s=0;else return-1;if(typeof o=="string"&&(o=Buffer.from(o,_)),internalIsBuffer(o))return o.length===0?-1:arrayIndexOf(i,o,s,_,$);if(typeof o=="number")return o=o&255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(i,o,s):Uint8Array.prototype.lastIndexOf.call(i,o,s):arrayIndexOf(i,[o],s,_,$);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(i,o,s,_,$){var _e=1,et=i.length,j=o.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(i.length<2||o.length<2)return-1;_e=2,et/=2,j/=2,s/=2}function nt(ft,ut){return _e===1?ft[ut]:ft.readUInt16BE(ut*_e)}var ot;if($){var ct=-1;for(ot=s;ot<et;ot++)if(nt(i,ot)===nt(o,ct===-1?0:ot-ct)){if(ct===-1&&(ct=ot),ot-ct+1===j)return ct*_e}else ct!==-1&&(ot-=ot-ct),ct=-1}else for(s+j>et&&(s=et-j),ot=s;ot>=0;ot--){for(var gt=!0,pt=0;pt<j;pt++)if(nt(i,ot+pt)!==nt(o,pt)){gt=!1;break}if(gt)return ot}return-1}Buffer.prototype.includes=function(i,o,s){return this.indexOf(i,o,s)!==-1};Buffer.prototype.indexOf=function(i,o,s){return bidirectionalIndexOf(this,i,o,s,!0)};Buffer.prototype.lastIndexOf=function(i,o,s){return bidirectionalIndexOf(this,i,o,s,!1)};function hexWrite(i,o,s,_){s=Number(s)||0;var $=i.length-s;_?(_=Number(_),_>$&&(_=$)):_=$;var _e=o.length;if(_e%2!==0)throw new TypeError("Invalid hex string");_>_e/2&&(_=_e/2);for(var et=0;et<_;++et){var j=parseInt(o.substr(et*2,2),16);if(isNaN(j))return et;i[s+et]=j}return et}function utf8Write(i,o,s,_){return blitBuffer(utf8ToBytes(o,i.length-s),i,s,_)}function asciiWrite(i,o,s,_){return blitBuffer(asciiToBytes(o),i,s,_)}function latin1Write(i,o,s,_){return asciiWrite(i,o,s,_)}function base64Write(i,o,s,_){return blitBuffer(base64ToBytes(o),i,s,_)}function ucs2Write(i,o,s,_){return blitBuffer(utf16leToBytes(o,i.length-s),i,s,_)}Buffer.prototype.write=function(i,o,s,_){if(o===void 0)_="utf8",s=this.length,o=0;else if(s===void 0&&typeof o=="string")_=o,s=this.length,o=0;else if(isFinite(o))o=o|0,isFinite(s)?(s=s|0,_===void 0&&(_="utf8")):(_=s,s=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $=this.length-o;if((s===void 0||s>$)&&(s=$),i.length>0&&(s<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");for(var _e=!1;;)switch(_){case"hex":return hexWrite(this,i,o,s);case"utf8":case"utf-8":return utf8Write(this,i,o,s);case"ascii":return asciiWrite(this,i,o,s);case"latin1":case"binary":return latin1Write(this,i,o,s);case"base64":return base64Write(this,i,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,i,o,s);default:if(_e)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),_e=!0}};Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(i,o,s){return o===0&&s===i.length?fromByteArray(i):fromByteArray(i.slice(o,s))}function utf8Slice(i,o,s){s=Math.min(i.length,s);for(var _=[],$=o;$<s;){var _e=i[$],et=null,j=_e>239?4:_e>223?3:_e>191?2:1;if($+j<=s){var nt,ot,ct,gt;switch(j){case 1:_e<128&&(et=_e);break;case 2:nt=i[$+1],(nt&192)===128&&(gt=(_e&31)<<6|nt&63,gt>127&&(et=gt));break;case 3:nt=i[$+1],ot=i[$+2],(nt&192)===128&&(ot&192)===128&&(gt=(_e&15)<<12|(nt&63)<<6|ot&63,gt>2047&&(gt<55296||gt>57343)&&(et=gt));break;case 4:nt=i[$+1],ot=i[$+2],ct=i[$+3],(nt&192)===128&&(ot&192)===128&&(ct&192)===128&&(gt=(_e&15)<<18|(nt&63)<<12|(ot&63)<<6|ct&63,gt>65535&&gt<1114112&&(et=gt))}}et===null?(et=65533,j=1):et>65535&&(et-=65536,_.push(et>>>10&1023|55296),et=56320|et&1023),_.push(et),$+=j}return decodeCodePointsArray(_)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(i){var o=i.length;if(o<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,i);for(var s="",_=0;_<o;)s+=String.fromCharCode.apply(String,i.slice(_,_+=MAX_ARGUMENTS_LENGTH));return s}function asciiSlice(i,o,s){var _="";s=Math.min(i.length,s);for(var $=o;$<s;++$)_+=String.fromCharCode(i[$]&127);return _}function latin1Slice(i,o,s){var _="";s=Math.min(i.length,s);for(var $=o;$<s;++$)_+=String.fromCharCode(i[$]);return _}function hexSlice(i,o,s){var _=i.length;(!o||o<0)&&(o=0),(!s||s<0||s>_)&&(s=_);for(var $="",_e=o;_e<s;++_e)$+=toHex(i[_e]);return $}function utf16leSlice(i,o,s){for(var _=i.slice(o,s),$="",_e=0;_e<_.length;_e+=2)$+=String.fromCharCode(_[_e]+_[_e+1]*256);return $}Buffer.prototype.slice=function(i,o){var s=this.length;i=~~i,o=o===void 0?s:~~o,i<0?(i+=s,i<0&&(i=0)):i>s&&(i=s),o<0?(o+=s,o<0&&(o=0)):o>s&&(o=s),o<i&&(o=i);var _;if(Buffer.TYPED_ARRAY_SUPPORT)_=this.subarray(i,o),_.__proto__=Buffer.prototype;else{var $=o-i;_=new Buffer($,void 0);for(var _e=0;_e<$;++_e)_[_e]=this[_e+i]}return _};function checkOffset(i,o,s){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+o>s)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function(i,o,s){i=i|0,o=o|0,s||checkOffset(i,o,this.length);for(var _=this[i],$=1,_e=0;++_e<o&&($*=256);)_+=this[i+_e]*$;return _};Buffer.prototype.readUIntBE=function(i,o,s){i=i|0,o=o|0,s||checkOffset(i,o,this.length);for(var _=this[i+--o],$=1;o>0&&($*=256);)_+=this[i+--o]*$;return _};Buffer.prototype.readUInt8=function(i,o){return o||checkOffset(i,1,this.length),this[i]};Buffer.prototype.readUInt16LE=function(i,o){return o||checkOffset(i,2,this.length),this[i]|this[i+1]<<8};Buffer.prototype.readUInt16BE=function(i,o){return o||checkOffset(i,2,this.length),this[i]<<8|this[i+1]};Buffer.prototype.readUInt32LE=function(i,o){return o||checkOffset(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216};Buffer.prototype.readUInt32BE=function(i,o){return o||checkOffset(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])};Buffer.prototype.readIntLE=function(i,o,s){i=i|0,o=o|0,s||checkOffset(i,o,this.length);for(var _=this[i],$=1,_e=0;++_e<o&&($*=256);)_+=this[i+_e]*$;return $*=128,_>=$&&(_-=Math.pow(2,8*o)),_};Buffer.prototype.readIntBE=function(i,o,s){i=i|0,o=o|0,s||checkOffset(i,o,this.length);for(var _=o,$=1,_e=this[i+--_];_>0&&($*=256);)_e+=this[i+--_]*$;return $*=128,_e>=$&&(_e-=Math.pow(2,8*o)),_e};Buffer.prototype.readInt8=function(i,o){return o||checkOffset(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]};Buffer.prototype.readInt16LE=function(i,o){o||checkOffset(i,2,this.length);var s=this[i]|this[i+1]<<8;return s&32768?s|4294901760:s};Buffer.prototype.readInt16BE=function(i,o){o||checkOffset(i,2,this.length);var s=this[i+1]|this[i]<<8;return s&32768?s|4294901760:s};Buffer.prototype.readInt32LE=function(i,o){return o||checkOffset(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24};Buffer.prototype.readInt32BE=function(i,o){return o||checkOffset(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]};Buffer.prototype.readFloatLE=function(i,o){return o||checkOffset(i,4,this.length),read(this,i,!0,23,4)};Buffer.prototype.readFloatBE=function(i,o){return o||checkOffset(i,4,this.length),read(this,i,!1,23,4)};Buffer.prototype.readDoubleLE=function(i,o){return o||checkOffset(i,8,this.length),read(this,i,!0,52,8)};Buffer.prototype.readDoubleBE=function(i,o){return o||checkOffset(i,8,this.length),read(this,i,!1,52,8)};function checkInt(i,o,s,_,$,_e){if(!internalIsBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>$||o<_e)throw new RangeError('"value" argument is out of bounds');if(s+_>i.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function(i,o,s,_){if(i=+i,o=o|0,s=s|0,!_){var $=Math.pow(2,8*s)-1;checkInt(this,i,o,s,$,0)}var _e=1,et=0;for(this[o]=i&255;++et<s&&(_e*=256);)this[o+et]=i/_e&255;return o+s};Buffer.prototype.writeUIntBE=function(i,o,s,_){if(i=+i,o=o|0,s=s|0,!_){var $=Math.pow(2,8*s)-1;checkInt(this,i,o,s,$,0)}var _e=s-1,et=1;for(this[o+_e]=i&255;--_e>=0&&(et*=256);)this[o+_e]=i/et&255;return o+s};Buffer.prototype.writeUInt8=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),this[o]=i&255,o+1};function objectWriteUInt16(i,o,s,_){o<0&&(o=65535+o+1);for(var $=0,_e=Math.min(i.length-s,2);$<_e;++$)i[s+$]=(o&255<<8*(_?$:1-$))>>>(_?$:1-$)*8}Buffer.prototype.writeUInt16LE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i&255,this[o+1]=i>>>8):objectWriteUInt16(this,i,o,!0),o+2};Buffer.prototype.writeUInt16BE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>8,this[o+1]=i&255):objectWriteUInt16(this,i,o,!1),o+2};function objectWriteUInt32(i,o,s,_){o<0&&(o=4294967295+o+1);for(var $=0,_e=Math.min(i.length-s,4);$<_e;++$)i[s+$]=o>>>(_?$:3-$)*8&255}Buffer.prototype.writeUInt32LE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255):objectWriteUInt32(this,i,o,!0),o+4};Buffer.prototype.writeUInt32BE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255):objectWriteUInt32(this,i,o,!1),o+4};Buffer.prototype.writeIntLE=function(i,o,s,_){if(i=+i,o=o|0,!_){var $=Math.pow(2,8*s-1);checkInt(this,i,o,s,$-1,-$)}var _e=0,et=1,j=0;for(this[o]=i&255;++_e<s&&(et*=256);)i<0&&j===0&&this[o+_e-1]!==0&&(j=1),this[o+_e]=(i/et>>0)-j&255;return o+s};Buffer.prototype.writeIntBE=function(i,o,s,_){if(i=+i,o=o|0,!_){var $=Math.pow(2,8*s-1);checkInt(this,i,o,s,$-1,-$)}var _e=s-1,et=1,j=0;for(this[o+_e]=i&255;--_e>=0&&(et*=256);)i<0&&j===0&&this[o+_e+1]!==0&&(j=1),this[o+_e]=(i/et>>0)-j&255;return o+s};Buffer.prototype.writeInt8=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),i<0&&(i=255+i+1),this[o]=i&255,o+1};Buffer.prototype.writeInt16LE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i&255,this[o+1]=i>>>8):objectWriteUInt16(this,i,o,!0),o+2};Buffer.prototype.writeInt16BE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>8,this[o+1]=i&255):objectWriteUInt16(this,i,o,!1),o+2};Buffer.prototype.writeInt32LE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24):objectWriteUInt32(this,i,o,!0),o+4};Buffer.prototype.writeInt32BE=function(i,o,s){return i=+i,o=o|0,s||checkInt(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),Buffer.TYPED_ARRAY_SUPPORT?(this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255):objectWriteUInt32(this,i,o,!1),o+4};function checkIEEE754(i,o,s,_,$,_e){if(s+_>i.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function writeFloat(i,o,s,_,$){return $||checkIEEE754(i,o,s,4),write(i,o,s,_,23,4),s+4}Buffer.prototype.writeFloatLE=function(i,o,s){return writeFloat(this,i,o,!0,s)};Buffer.prototype.writeFloatBE=function(i,o,s){return writeFloat(this,i,o,!1,s)};function writeDouble(i,o,s,_,$){return $||checkIEEE754(i,o,s,8),write(i,o,s,_,52,8),s+8}Buffer.prototype.writeDoubleLE=function(i,o,s){return writeDouble(this,i,o,!0,s)};Buffer.prototype.writeDoubleBE=function(i,o,s){return writeDouble(this,i,o,!1,s)};Buffer.prototype.copy=function(i,o,s,_){if(s||(s=0),!_&&_!==0&&(_=this.length),o>=i.length&&(o=i.length),o||(o=0),_>0&&_<s&&(_=s),_===s||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("sourceStart out of bounds");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),i.length-o<_-s&&(_=i.length-o+s);var $=_-s,_e;if(this===i&&s<o&&o<_)for(_e=$-1;_e>=0;--_e)i[_e+o]=this[_e+s];else if($<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(_e=0;_e<$;++_e)i[_e+o]=this[_e+s];else Uint8Array.prototype.set.call(i,this.subarray(s,s+$),o);return $};Buffer.prototype.fill=function(i,o,s,_){if(typeof i=="string"){if(typeof o=="string"?(_=o,o=0,s=this.length):typeof s=="string"&&(_=s,s=this.length),i.length===1){var $=i.charCodeAt(0);$<256&&(i=$)}if(_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!Buffer.isEncoding(_))throw new TypeError("Unknown encoding: "+_)}else typeof i=="number"&&(i=i&255);if(o<0||this.length<o||this.length<s)throw new RangeError("Out of range index");if(s<=o)return this;o=o>>>0,s=s===void 0?this.length:s>>>0,i||(i=0);var _e;if(typeof i=="number")for(_e=o;_e<s;++_e)this[_e]=i;else{var et=internalIsBuffer(i)?i:utf8ToBytes(new Buffer(i,_).toString()),j=et.length;for(_e=0;_e<s-o;++_e)this[_e+o]=et[_e%j]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(i){if(i=stringtrim(i).replace(INVALID_BASE64_RE,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function stringtrim(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function toHex(i){return i<16?"0"+i.toString(16):i.toString(16)}function utf8ToBytes(i,o){o=o||1/0;for(var s,_=i.length,$=null,_e=[],et=0;et<_;++et){if(s=i.charCodeAt(et),s>55295&&s<57344){if(!$){if(s>56319){(o-=3)>-1&&_e.push(239,191,189);continue}else if(et+1===_){(o-=3)>-1&&_e.push(239,191,189);continue}$=s;continue}if(s<56320){(o-=3)>-1&&_e.push(239,191,189),$=s;continue}s=($-55296<<10|s-56320)+65536}else $&&(o-=3)>-1&&_e.push(239,191,189);if($=null,s<128){if((o-=1)<0)break;_e.push(s)}else if(s<2048){if((o-=2)<0)break;_e.push(s>>6|192,s&63|128)}else if(s<65536){if((o-=3)<0)break;_e.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((o-=4)<0)break;_e.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return _e}function asciiToBytes(i){for(var o=[],s=0;s<i.length;++s)o.push(i.charCodeAt(s)&255);return o}function utf16leToBytes(i,o){for(var s,_,$,_e=[],et=0;et<i.length&&!((o-=2)<0);++et)s=i.charCodeAt(et),_=s>>8,$=s%256,_e.push($),_e.push(_);return _e}function base64ToBytes(i){return toByteArray(base64clean(i))}function blitBuffer(i,o,s,_){for(var $=0;$<_&&!($+s>=o.length||$>=i.length);++$)o[$+s]=i[$];return $}function isnan(i){return i!==i}function isBuffer(i){return i!=null&&(!!i._isBuffer||isFastBuffer(i)||isSlowBuffer(i))}function isFastBuffer(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function isSlowBuffer(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&isFastBuffer(i.slice(0,0))}function defined$2(i,o){if(i!==void 0)return i;throw new Error(o||"Value is undefined")}const DEFAULT_FORMANT_API_URL="https://api.formant.io";function whichFormantApiUrl(i,o){if(o.get("formant_stage"))return"https://api-stage.formant.io";if(o.get("formant_dev"))return"https://api-dev.formant.io";if(o.get("formant_local"))return"https://api.formant.local";if(o.get("formant_url")){const s=o.get("formant_url");if(s!==null)try{return new URL(s).origin}catch{console.warn(`Ignoring malformed \`formant_url\` url parameter: ${s}`)}}return typeof i<"u"&&"FORMANT_API_URL"in i&&typeof i.FORMANT_API_URL=="string"?i.FORMANT_API_URL:DEFAULT_FORMANT_API_URL}const FORMANT_API_URL$1=whichFormantApiUrl(window,new URLSearchParams(typeof window<"u"?window.location.search:void 0)),millisecond$1=1,second$1=1e3,minute$1=60*second$1,hour$1=60*minute$1,day$1=24*hour$1,week$1=7*day$1,month$1=30*day$1,year$1=365*day$1,duration$4={millisecond:millisecond$1,second:second$1,minute:minute$1,hour:hour$1,day:day$1,week:week$1,month:month$1,year:year$1};function filterDataByType$1(i,o){return i.filter(s=>o.includes(s.type))}function filterDataByTime$1(i,o,s){const _=o.getTime(),$=s.getTime();return i.map(_e=>({..._e,points:_e.points.filter(([et])=>et>=_&&et<$)})).filter(({points:_e})=>_e.length>0)}let StoreCache$1=class{constructor({capacity:o,timeout:s}={}){Te(this,"entries",new Map),Te(this,"metadata",new Map),Te(this,"capacity"),Te(this,"timeout"),this.capacity=o||1e4,this.timeout=s||duration$4.minute}get(o,s){const _=this.keyToCacheKey(o),$=this.entries.get(_),_e=this.metadata.get(_);return($===void 0||_e&&(_e==null?void 0:_e.expiration.getTime())<Date.now())&&!(_e!=null&&_e.generating)&&s&&this.generate(o,s()),$===void 0&&_e&&_e.lastValue!==void 0?_e.lastValue:$}set(o,s){const _=this.keyToCacheKey(o);this.metadata.set(_,{generating:!1,expiration:new Date(Date.now()+this.timeout),lastValue:s}),this.entries.set(_,s),this.metadata.size>this.capacity&&this.deleteOldestEntry()}clear(){this.entries.clear(),[...this.metadata.values()].forEach(o=>o.generating=!1)}clearKey(o){this.metadata.delete(o),this.entries.delete(o)}keyToCacheKey(o){return JSON.stringify(o)}deleteOldestEntry(){if(this.metadata.size<1)return;const[o]=[...this.metadata.entries()].reduce(([s,_],[$,_e])=>_e.expiration.getTime()<_.expiration.getTime()?[$,_e]:[s,_]);this.clearKey(o)}generate(o,s){const _=this.keyToCacheKey(o),$=this.metadata.get(_)||{};this.metadata.set(_,{...$,generating:!0,expiration:new Date(Date.now()+this.timeout)}),setTimeout(()=>{s.then(_e=>{const et=this.metadata.get(_);!(et!=null&&et.generating)||this.set(o,_e)})},0)}},QueryStore$1=class{constructor(){Te(this,"queryStoreCache",new StoreCache$1({capacity:1e4,timeout:20*duration$4.second})),Te(this,"liveQueryStoreCache",new StoreCache$1({capacity:1e4,timeout:200*duration$4.millisecond}))}moduleQuery(o,s,_,$,_e,et=!1){const j={...o,names:[...s],types:[..._]},nt=this.query(j,$,_e,et);return nt===void 0||nt==="too much data"?nt:filterDataByType$1(nt,_)}query(o,s,_,$=!1){const _e={...o,start:startOfMinute$1(s).toISOString(),end:$?_.toISOString():addMinutes$1(roundToNearestMinutes$1(_),1).toISOString(),latestOnly:$},et=_>addSeconds$1(new Date,-20);let j;return et?j=this.liveQueryCache(_e):j=this.queryCache(_e),!j||j==="too much data"||$?j:filterDataByTime$1(j,s,_)}queryCache(o){return this.queryStoreCache.get(o,async()=>{try{return await Fleet$2.queryTelemetry(o)}catch(s){throw s}})}liveQueryCache(o){return this.liveQueryStoreCache.get(o,async()=>{try{return await Fleet$2.queryTelemetry(o)}catch(s){throw s}})}};const queryStore$1=new QueryStore$1,Mt=class{static sendAppMessage(i){window.parent.postMessage(i,"*")}static getCurrentModuleContext(){let i=new URLSearchParams("");return typeof window<"u"&&(i=new URLSearchParams(window.location.search)),i.get("module")}static async getCurrentModuleConfiguration(){let i=new URLSearchParams("");typeof window<"u"&&(i=new URLSearchParams(window.location.search));const o=i.get("configuration");return o===null||o.trim()===""?void 0:(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/module-configurations/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).configuration}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(i){this.sendAppMessage({type:"go_to_time",time:i.getTime()})}static goToDevice(i){this.sendAppMessage({type:"go_to_device",deviceId:i})}static showMessage(i){this.sendAppMessage({type:"show_message",message:i})}static requestModuleData(){const i=this.getCurrentModuleContext();if(!i)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:i})}static setModuleDateTimeRange(i,o){const s=this.getCurrentModuleContext();if(!s)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:s,before:i,after:o||0})}static refreshAuthToken(){const i=this.getCurrentModuleContext();if(!i)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:i})}static sendChannelData(i,o){const s=this.getCurrentModuleContext();if(!s)throw new Error("No module context");this.sendAppMessage({type:"send_channel_data",source:s,channel:i,data:o})}static setupModuleMenus(i){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:o,menus:i})}static addMenuListener(i){window.addEventListener("message",o=>{const s=o.data;s.type==="module_menu_item_clicked"&&i(s.menu)})}static addAccessTokenRefreshListener(i){window.addEventListener("message",o=>{const s=o.data;s.type==="auth_token"&&i(s.token)})}static addModuleDataListener(i){const o=this.getCurrentModuleContext();o&&this.sendAppMessage({type:"request_module_data",module:o}),window.addEventListener("message",s=>{const _=s.data;_.type==="module_data"&&i({streams:_.streams,time:_.time,queryRange:_.queryRange})})}static addOverviewDeviceListener(i){this.sendAppMessage({type:"request_devices"});const o=s=>{const _=s.data;_.type==="overview_devices"&&i(_.data)};return window.addEventListener("message",o),()=>window.removeEventListener("message",o)}static addStreamListener(i,o,s){const _=$=>{const _e=$.data;if(_e.type==="module_data"){const{start:et,end:j}=_e.queryRange;s(queryStore$1.moduleQuery({},i,o,new Date(et),new Date(j),!1))}};return window.addEventListener("message",_),()=>window.removeEventListener("message",_)}static addModuleConfigurationListener(i){window.addEventListener("message",o=>{const s=o.data;s.type==="module_configuration"&&i(s)})}static addChannelDataListener(i,o){window.addEventListener("message",s=>{const _=s.data;_.type==="channel_data"&&_.channel===i&&o({source:_.source,data:_.data})})}static async prompt(i,o){return new Promise(s=>{const _=Math.random().toString();this.sendAppMessage({type:"prompt",promptId:_,schema:i,okText:o==null?void 0:o.okText,cancelText:o==null?void 0:o.cancelText});const $=_e=>{const et=_e.data;et.type==="prompt_response"&&et.promptId===_&&s(et.data),window.removeEventListener("message",$)};window.addEventListener("message",$)})}static async getDate(i,o,s){return new Promise(_=>{this.sendAppMessage({type:"request_date",minTime:o,maxTime:s,time:i});const $=_e=>{const et=_e.data;et.type==="date_response"&&(window.removeEventListener("message",$),_(et.data))};window.addEventListener("message",$)})}static async disableAnalyticsBottomBar(){this.sendAppMessage({type:"hide_analytics_date_picker"})}static get isOnline(){return Mt._isOnline}static listenForConnectionEvents(){window.addEventListener("message",this._handleOnlineEvent)}static checkConnection(i=1e3){return new Promise((o,s)=>{const _=setTimeout(()=>s(new Error("deadline expired: took too long")),i),$=_e=>{window.removeEventListener("message",$),clearTimeout(_);const{data:et}=_e;et.type==="formant_online"&&(this._isOnline=et.online,o(et.online))};window.addEventListener("message",$),this.sendAppMessage({type:"formant_online"})})}static waitForConnection(i=5e3){let o=!1;const s=new Promise((_e,et)=>{setTimeout(()=>{o=!0,et(new Error("deadline expired: took too long"))},i)}),_=_e=>new Promise(et=>setTimeout(et,_e)),$=async()=>{for(await _(50);!o&&!(this.isOnline||await this.checkConnection);)await _(500)};return Promise.race([s,$()])}};let App$2=Mt;Te(App$2,"_isOnline",null),Te(App$2,"_handleOnlineEvent",i=>{const{data:o}=i;o.type==="formant_online"&&(Mt._isOnline=o.online)});class AuthenticationStore{constructor({apiUrl:o,refreshAuthToken:s,addAccessTokenRefreshListener:_}){Te(this,"_refreshToken"),Te(this,"_isShareToken",!1),Te(this,"_currentOrganization"),Te(this,"_currentUser"),Te(this,"_defaultDeviceId"),Te(this,"_token"),Te(this,"_waitingForAuth",new Set),Te(this,"_refreshTimer"),Te(this,"_apiUrl"),Te(this,"_refreshAuthToken"),Te(this,"_addAccessTokenRefreshListener"),this._apiUrl=o,this._refreshAuthToken=s,this._addAccessTokenRefreshListener=_}get token(){return this._token}get currentUser(){return this._currentUser}get currentOrganization(){return this._currentOrganization}get defaultDeviceId(){return this._defaultDeviceId}get refreshToken(){return this._refreshToken}get isShareToken(){return this._isShareToken}async login(o,s){try{const _=await fetch(`${this._apiUrl}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:o,password:s}),headers:{"Content-Type":"application/json"}}),$=await _.json();if(_.status!==200)throw new Error($.message);return await this.loginWithToken($.authentication.accessToken,$.authentication.refreshToken),$.authentication}catch(_){return console.error("login() failed",{err:_}),this._waitingForAuth.forEach($=>$(!1)),this._waitingForAuth.clear(),Promise.reject(_)}}async loginWithToken(o,s){var _;const $=JSON.parse(atob(o.split(".")[1]));try{let _e;if(this._isShareToken=$["formant:claims"]&&$["formant:claims"].type=="share",$["formant:claims"]&&(this._currentOrganization=$["formant:claims"].organizationId),$["custom:organization_id"]&&(this._currentOrganization=$["custom:organization_id"]),this._isShareToken||(_e=$.sub),$["formant:claims"]&&$["formant:claims"].userId&&(_e=$["formant:claims"].userId),_e&&((_=this._currentUser)==null?void 0:_.id)!==_e){const et=await fetch(`${this._apiUrl}/v1/admin/users/${_e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}),j=await et.json();if(et.status!==200)throw new Error(j.message);this._currentUser=j}this._token=o,this._waitingForAuth.forEach(et=>et(!0))}catch(_e){console.error("loginWithToken() failed",{err:_e}),this._waitingForAuth.forEach(et=>et(!1))}finally{this._waitingForAuth.clear()}s&&(this._refreshToken=s,setInterval(async()=>{if(this._refreshToken){const _e=await(await fetch(`${this._apiUrl}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:this._refreshToken})})).json();this._token=_e.authentication.accessToken}},1e3*60*60))}isAuthenticated(){return this._token!==void 0}getCurrentUser(){return this._currentUser}async waitTilAuthenticated(){return this.token!==void 0?!0:new Promise(o=>{this._waitingForAuth.add(o)})}async listenForRefresh(){const o=()=>{this._refreshTimer=void 0,this._refreshAuthToken()};this._addAccessTokenRefreshListener(s=>{this._refreshTimer&&clearTimeout(this._refreshTimer),this._refreshTimer=setTimeout(o,36e5),this.loginWithToken(s)}),this._refreshTimer=setTimeout(o,36e5)}async forgotPassword(o){await fetch(`${this._apiUrl}/v1/admin/auth/forgot-password`,{method:"POST",body:JSON.stringify({email:o}),headers:{"Content-Type":"application/json"}})}async confirmForgotPassword(o){return(await fetch(`${this._apiUrl}/v1/admin/auth/confirm-forgot-password`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).ok}async respondToNewPasswordRequiredChallenge(o){return await(await fetch(`${this._apiUrl}/v1/admin/auth/respond-to-new-password-required-challenge`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json()}async loginWithGoogle(o){return await(await fetch(`${this._apiUrl}/v1/admin/auth/login-google`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json()}async refresh(o){const s=await(await fetch(`${this._apiUrl}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:o})})).json();await this.loginWithToken(s.authentication.accessToken,o)}}const Authentication$1=new AuthenticationStore({apiUrl:FORMANT_API_URL$1,refreshAuthToken:App$2.refreshAuthToken,addAccessTokenRefreshListener:App$2.addAccessTokenRefreshListener});var domain;function EventHandlers(){}EventHandlers.prototype=Object.create(null);function EventEmitter(){EventEmitter.init.call(this)}EventEmitter.EventEmitter=EventEmitter;EventEmitter.usingDomains=!1;EventEmitter.prototype.domain=void 0;EventEmitter.prototype._events=void 0;EventEmitter.prototype._maxListeners=void 0;EventEmitter.defaultMaxListeners=10;EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&domain.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||isNaN(i))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=i,this};function $getMaxListeners(i){return i._maxListeners===void 0?EventEmitter.defaultMaxListeners:i._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)};function emitNone(i,o,s){if(o)i.call(s);else for(var _=i.length,$=arrayClone(i,_),_e=0;_e<_;++_e)$[_e].call(s)}function emitOne(i,o,s,_){if(o)i.call(s,_);else for(var $=i.length,_e=arrayClone(i,$),et=0;et<$;++et)_e[et].call(s,_)}function emitTwo(i,o,s,_,$){if(o)i.call(s,_,$);else for(var _e=i.length,et=arrayClone(i,_e),j=0;j<_e;++j)et[j].call(s,_,$)}function emitThree(i,o,s,_,$,_e){if(o)i.call(s,_,$,_e);else for(var et=i.length,j=arrayClone(i,et),nt=0;nt<et;++nt)j[nt].call(s,_,$,_e)}function emitMany(i,o,s,_){if(o)i.apply(s,_);else for(var $=i.length,_e=arrayClone(i,$),et=0;et<$;++et)_e[et].apply(s,_)}EventEmitter.prototype.emit=function(i){var o,s,_,$,_e,et,j,nt=i==="error";if(et=this._events,et)nt=nt&&et.error==null;else if(!nt)return!1;if(j=this.domain,nt){if(o=arguments[1],j)o||(o=new Error('Uncaught, unspecified "error" event')),o.domainEmitter=this,o.domain=j,o.domainThrown=!1,j.emit("error",o);else{if(o instanceof Error)throw o;var ot=new Error('Uncaught, unspecified "error" event. ('+o+")");throw ot.context=o,ot}return!1}if(s=et[i],!s)return!1;var ct=typeof s=="function";switch(_=arguments.length,_){case 1:emitNone(s,ct,this);break;case 2:emitOne(s,ct,this,arguments[1]);break;case 3:emitTwo(s,ct,this,arguments[1],arguments[2]);break;case 4:emitThree(s,ct,this,arguments[1],arguments[2],arguments[3]);break;default:for($=new Array(_-1),_e=1;_e<_;_e++)$[_e-1]=arguments[_e];emitMany(s,ct,this,$)}return!0};function _addListener(i,o,s,_){var $,_e,et;if(typeof s!="function")throw new TypeError('"listener" argument must be a function');if(_e=i._events,_e?(_e.newListener&&(i.emit("newListener",o,s.listener?s.listener:s),_e=i._events),et=_e[o]):(_e=i._events=new EventHandlers,i._eventsCount=0),!et)et=_e[o]=s,++i._eventsCount;else if(typeof et=="function"?et=_e[o]=_?[s,et]:[et,s]:_?et.unshift(s):et.push(s),!et.warned&&($=$getMaxListeners(i),$&&$>0&&et.length>$)){et.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+et.length+" "+o+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=i,j.type=o,j.count=et.length,emitWarning(j)}return i}function emitWarning(i){typeof console.warn=="function"?console.warn(i):console.log(i)}EventEmitter.prototype.addListener=function(i,o){return _addListener(this,i,o,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(i,o){return _addListener(this,i,o,!0)};function _onceWrap(i,o,s){var _=!1;function $(){i.removeListener(o,$),_||(_=!0,s.apply(i,arguments))}return $.listener=s,$}EventEmitter.prototype.once=function(i,o){if(typeof o!="function")throw new TypeError('"listener" argument must be a function');return this.on(i,_onceWrap(this,i,o)),this};EventEmitter.prototype.prependOnceListener=function(i,o){if(typeof o!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(i,_onceWrap(this,i,o)),this};EventEmitter.prototype.removeListener=function(i,o){var s,_,$,_e,et;if(typeof o!="function")throw new TypeError('"listener" argument must be a function');if(_=this._events,!_)return this;if(s=_[i],!s)return this;if(s===o||s.listener&&s.listener===o)--this._eventsCount===0?this._events=new EventHandlers:(delete _[i],_.removeListener&&this.emit("removeListener",i,s.listener||o));else if(typeof s!="function"){for($=-1,_e=s.length;_e-- >0;)if(s[_e]===o||s[_e].listener&&s[_e].listener===o){et=s[_e].listener,$=_e;break}if($<0)return this;if(s.length===1){if(s[0]=void 0,--this._eventsCount===0)return this._events=new EventHandlers,this;delete _[i]}else spliceOne(s,$);_.removeListener&&this.emit("removeListener",i,et||o)}return this};EventEmitter.prototype.removeAllListeners=function(i){var o,s;if(s=this._events,!s)return this;if(!s.removeListener)return arguments.length===0?(this._events=new EventHandlers,this._eventsCount=0):s[i]&&(--this._eventsCount===0?this._events=new EventHandlers:delete s[i]),this;if(arguments.length===0){for(var _=Object.keys(s),$=0,_e;$<_.length;++$)_e=_[$],_e!=="removeListener"&&this.removeAllListeners(_e);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if(o=s[i],typeof o=="function")this.removeListener(i,o);else if(o)do this.removeListener(i,o[o.length-1]);while(o[0]);return this};EventEmitter.prototype.listeners=function(i){var o,s,_=this._events;return _?(o=_[i],o?typeof o=="function"?s=[o.listener||o]:s=unwrapListeners(o):s=[]):s=[],s};EventEmitter.listenerCount=function(i,o){return typeof i.listenerCount=="function"?i.listenerCount(o):listenerCount$1.call(i,o)};EventEmitter.prototype.listenerCount=listenerCount$1;function listenerCount$1(i){var o=this._events;if(o){var s=o[i];if(typeof s=="function")return 1;if(s)return s.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function spliceOne(i,o){for(var s=o,_=s+1,$=i.length;_<$;s+=1,_+=1)i[s]=i[_];i.pop()}function arrayClone(i,o){for(var s=new Array(o);o--;)s[o]=i[o];return s}function unwrapListeners(i){for(var o=new Array(i.length),s=0;s<o.length;++s)o[s]=i[s].listener||i[s];return o}var dist$1={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){(function(i,o){module.exports=o()})(window,function(){return function(i){function o(ot){for(var ct,gt,pt=ot[0],ft=ot[1],ut=0,yt=[];ut<pt.length;ut++)gt=pt[ut],Object.prototype.hasOwnProperty.call(_,gt)&&_[gt]&&yt.push(_[gt][0]),_[gt]=0;for(ct in ft)Object.prototype.hasOwnProperty.call(ft,ct)&&(i[ct]=ft[ct]);for(nt&&nt(ot);yt.length;)yt.shift()()}var s={},_={0:0};function $(ot){if(s[ot])return s[ot].exports;var ct=s[ot]={i:ot,l:!1,exports:{}};return i[ot].call(ct.exports,ct,ct.exports,$),ct.l=!0,ct.exports}$.e=function(){return Promise.resolve()},$.m=i,$.c=s,$.d=function(ot,ct,gt){$.o(ot,ct)||Object.defineProperty(ot,ct,{enumerable:!0,get:gt})},$.r=function(ot){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ot,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ot,"__esModule",{value:!0})},$.t=function(ot,ct){if(1&ct&&(ot=$(ot)),8&ct||4&ct&&typeof ot=="object"&&ot&&ot.__esModule)return ot;var gt=Object.create(null);if($.r(gt),Object.defineProperty(gt,"default",{enumerable:!0,value:ot}),2&ct&&typeof ot!="string")for(var pt in ot)$.d(gt,pt,function(ft){return ot[ft]}.bind(null,pt));return gt},$.n=function(ot){var ct=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return $.d(ct,"a",ct),ct},$.o=function(ot,ct){return Object.prototype.hasOwnProperty.call(ot,ct)},$.p="",$.oe=function(ot){throw console.error(ot),ot};var _e=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],et=_e.push.bind(_e);_e.push=o,_e=_e.slice();for(var j=0;j<_e.length;j++)o(_e[j]);var nt=et;return $($.s=228)}([function(i,o,s){s.d(o,"a",function(){return sn});function _(Dt,Xt){if(Xt.length<Dt)throw new TypeError(Dt+" argument"+(Dt>1?"s":"")+" required, but only "+Xt.length+" present")}function $(Dt){if(Dt===null||Dt===!0||Dt===!1)return NaN;var Xt=Number(Dt);return isNaN(Xt)?Xt:Xt<0?Math.ceil(Xt):Math.floor(Xt)}var _e={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},et=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,j=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ot(Dt){var Xt,_n={},mn=Dt.split(_e.dateTimeDelimiter);if(mn.length>2)return _n;if(/:/.test(mn[0])?Xt=mn[0]:(_n.date=mn[0],Xt=mn[1],_e.timeZoneDelimiter.test(_n.date)&&(_n.date=Dt.split(_e.timeZoneDelimiter)[0],Xt=Dt.substr(_n.date.length,Dt.length))),Xt){var xn=_e.timezone.exec(Xt);xn?(_n.time=Xt.replace(xn[1],""),_n.timezone=xn[1]):_n.time=Xt}return _n}function ct(Dt,Xt){var _n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+Xt)+"})|(\\d{2}|[+-]\\d{"+(2+Xt)+"})$)"),mn=Dt.match(_n);if(!mn)return{year:NaN,restDateString:""};var xn=mn[1]?parseInt(mn[1]):null,On=mn[2]?parseInt(mn[2]):null;return{year:On===null?xn:100*On,restDateString:Dt.slice((mn[1]||mn[2]).length)}}function gt(Dt,Xt){if(Xt===null)return new Date(NaN);var _n=Dt.match(et);if(!_n)return new Date(NaN);var mn=!!_n[4],xn=pt(_n[1]),On=pt(_n[2])-1,nr=pt(_n[3]),Nr=pt(_n[4]),co=pt(_n[5])-1;if(mn)return function(mo,qr,io){return qr>=1&&qr<=53&&io>=0&&io<=6}(0,Nr,co)?function(mo,qr,io){var lo=new Date(0);lo.setUTCFullYear(mo,0,4);var Vo=lo.getUTCDay()||7,Io=7*(qr-1)+io+1-Vo;return lo.setUTCDate(lo.getUTCDate()+Io),lo}(Xt,Nr,co):new Date(NaN);var Zr=new Date(0);return function(mo,qr,io){return qr>=0&&qr<=11&&io>=1&&io<=(wt[qr]||(Qt(mo)?29:28))}(Xt,On,nr)&&function(mo,qr){return qr>=1&&qr<=(Qt(mo)?366:365)}(Xt,xn)?(Zr.setUTCFullYear(Xt,On,Math.max(xn,nr)),Zr):new Date(NaN)}function pt(Dt){return Dt?parseInt(Dt):1}function ft(Dt){var Xt=Dt.match(j);if(!Xt)return NaN;var _n=ut(Xt[1]),mn=ut(Xt[2]),xn=ut(Xt[3]);return function(On,nr,Nr){return On===24?nr===0&&Nr===0:Nr>=0&&Nr<60&&nr>=0&&nr<60&&On>=0&&On<25}(_n,mn,xn)?36e5*_n+6e4*mn+1e3*xn:NaN}function ut(Dt){return Dt&&parseFloat(Dt.replace(",","."))||0}function yt(Dt){if(Dt==="Z")return 0;var Xt=Dt.match(nt);if(!Xt)return 0;var _n=Xt[1]==="+"?-1:1,mn=parseInt(Xt[2]),xn=Xt[3]&&parseInt(Xt[3])||0;return function(On,nr){return nr>=0&&nr<=59}(0,xn)?_n*(36e5*mn+6e4*xn):NaN}var wt=[31,null,31,30,31,30,31,31,30,31,30,31];function Qt(Dt){return Dt%400==0||Dt%4==0&&Dt%100!=0}function It(Dt){return _(1,arguments),Dt instanceof Date||typeof Dt=="object"&&Object.prototype.toString.call(Dt)==="[object Date]"}function xt(Dt){_(1,arguments);var Xt=Object.prototype.toString.call(Dt);return Dt instanceof Date||typeof Dt=="object"&&Xt==="[object Date]"?new Date(Dt.getTime()):typeof Dt=="number"||Xt==="[object Number]"?new Date(Dt):(typeof Dt!="string"&&Xt!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Tt(Dt){const Xt=function(_n,mn){var xn;_(1,arguments);var On=$((xn=mn==null?void 0:mn.additionalDigits)!==null&&xn!==void 0?xn:2);if(On!==2&&On!==1&&On!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(typeof _n!="string"&&Object.prototype.toString.call(_n)!=="[object String]")return new Date(NaN);var nr,Nr=ot(_n);if(Nr.date){var co=ct(Nr.date,On);nr=gt(co.restDateString,co.year)}if(!nr||isNaN(nr.getTime()))return new Date(NaN);var Zr,mo=nr.getTime(),qr=0;if(Nr.time&&(qr=ft(Nr.time),isNaN(qr)))return new Date(NaN);if(!Nr.timezone){var io=new Date(mo+qr),lo=new Date(0);return lo.setFullYear(io.getUTCFullYear(),io.getUTCMonth(),io.getUTCDate()),lo.setHours(io.getUTCHours(),io.getUTCMinutes(),io.getUTCSeconds(),io.getUTCMilliseconds()),lo}return Zr=yt(Nr.timezone),isNaN(Zr)?new Date(NaN):new Date(mo+qr+Zr)}(Dt);if(!function(_n){if(_(1,arguments),!It(_n)&&typeof _n!="number")return!1;var mn=xt(_n);return!isNaN(Number(mn))}(Xt))throw new Error(`Invalid ISO 8601 date string (${Dt})`);return Xt}const mt=Math.pow(2,20),Nt=mt;var en=s(14),rn=s.n(en),Ft=s(18),St=s(56),Pt=s(19),Bt=s(4),jt=s(34);function qt(Dt){return rn()(Dt,{cycles:!0})}var Zt=function(Dt,Xt){var _n={};for(var mn in Dt)Object.prototype.hasOwnProperty.call(Dt,mn)&&Xt.indexOf(mn)<0&&(_n[mn]=Dt[mn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var xn=0;for(mn=Object.getOwnPropertySymbols(Dt);xn<mn.length;xn++)Xt.indexOf(mn[xn])<0&&Object.prototype.propertyIsEnumerable.call(Dt,mn[xn])&&(_n[mn[xn]]=Dt[mn[xn]])}return _n};function Wt(Dt,Xt={}){const _n=Nr=>Xt.redacted!==!1?Object(jt.a)(Nr):Nr;if(!Dt.stack)return{message:qt(_n(Dt))};const{name:mn,message:xn,stack:On}=Dt,nr=Zt(Dt,["name","message","stack"]);return{name:mn,message:xn!==void 0?xn:qt(_n(Dt)),stack:On,meta:nr&&Object.keys(nr).length===0?void 0:_n(nr)}}function Gt(Dt,Xt={}){const{message:_n,stack:mn,meta:xn}=Wt(Dt,Xt);return`${mn||_n||""}${xn&&Object.keys(xn).length>0?` -- ${qt(xn)}`:""}`}var Ht=s(39),kt=s(103),Rt=s.n(kt),$t=function(Dt,Xt,_n,mn){return new(_n||(_n=Promise))(function(xn,On){function nr(Zr){try{co(mn.next(Zr))}catch(mo){On(mo)}}function Nr(Zr){try{co(mn.throw(Zr))}catch(mo){On(mo)}}function co(Zr){var mo;Zr.done?xn(Zr.value):(mo=Zr.value,mo instanceof _n?mo:new _n(function(qr){qr(mo)})).then(nr,Nr)}co((mn=mn.apply(Dt,Xt||[])).next())})},nn=function(Dt,Xt){var _n={};for(var mn in Dt)Object.prototype.hasOwnProperty.call(Dt,mn)&&Xt.indexOf(mn)<0&&(_n[mn]=Dt[mn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var xn=0;for(mn=Object.getOwnPropertySymbols(Dt);xn<mn.length;xn++)Xt.indexOf(mn[xn])<0&&Object.prototype.propertyIsEnumerable.call(Dt,mn[xn])&&(_n[mn[xn]]=Dt[mn[xn]])}return _n};class Un extends Rt.a{constructor(Xt,_n){super(),this.endpoint=Xt,this.metadata=_n,this.logClient=this.getLogClient()}getLogClient(){return $t(this,void 0,void 0,function*(){const{LogClient:Xt}=yield Promise.resolve().then(s.bind(null,231));return new Xt(this.endpoint)})}log(Xt,_n){return $t(this,void 0,void 0,function*(){const{level:mn,message:xn,error:On}=Xt,nr=nn(Xt,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:mn,message:`${xn}`.substring(0,1e3),error:On!==void 0?Wt(On):void 0,meta:Object.assign(Object.assign({},nr),this.metadata)}])}catch(Nr){console.error(`Failed to log to log-api: ${Gt(Nr)}`)}_n()})}}var Fn=function(Dt,Xt){var _n={};for(var mn in Dt)Object.prototype.hasOwnProperty.call(Dt,mn)&&Xt.indexOf(mn)<0&&(_n[mn]=Dt[mn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var xn=0;for(mn=Object.getOwnPropertySymbols(Dt);xn<mn.length;xn++)Xt.indexOf(mn[xn])<0&&Object.prototype.propertyIsEnumerable.call(Dt,mn[xn])&&(_n[mn[xn]]=Dt[mn[xn]])}return _n};const En={app:Bt.a,namespace:Bt.i,buildTag:Bt.b,instanceId:Ht.a},fn=Bt.e?Pt.format.printf(Dt=>{var{timestamp:Xt,level:_n,message:mn,error:xn}=Dt,On=Fn(Dt,["timestamp","level","message","error"]);const nr=Object.assign(Object.assign({timestamp:Xt?Tt(Xt).getTime():new Date().getTime(),level:_n.toUpperCase(),message:mn},xn?{error:Wt(xn)}:{}),{meta:Object.assign(Object.assign({},En),On)});return rn()(nr,{cycles:!0})}):Pt.format.printf(Dt=>{var{timestamp:Xt,level:_n,message:mn,error:xn}=Dt,On=Fn(Dt,["timestamp","level","message","error"]);let nr=`${Xt||new Date().toISOString()} ${_n.toUpperCase()}: ${mn} `;return Object.keys(On).length>0&&(nr+=rn()(On,{cycles:!0})),xn&&(nr+=`
${Gt(xn)}`),nr}),sn=Object(Pt.createLogger)({level:Bt.f});if(sn.add(new Pt.transports.Console({format:fn,level:"debug"})),sn.transports.forEach(Dt=>{Dt.silent=!Bt.g}),Bt.d&&sn.add(new Un(Bt.d,En)),Bt.h){const Dt=St.resolve(Ft.tmpdir(),`silly-${Bt.a}.log`);sn.debug("Logging silly logs to file",{filename:Dt}),sn.add(new Pt.transports.File({filename:Dt,maxsize:1*Nt,maxFiles:10,format:Pt.format.combine((Ct="silly",Object(Pt.format)(Xt=>Xt.level===Ct&&Xt)()),fn),level:"silly"}))}var Ct},function(i,o,s){s.d(o,"a",function(){return _});const _={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(i,o){var s,_,$=i.exports={};function _e(){throw new Error("setTimeout has not been defined")}function et(){throw new Error("clearTimeout has not been defined")}function j(wt){if(s===setTimeout)return setTimeout(wt,0);if((s===_e||!s)&&setTimeout)return s=setTimeout,setTimeout(wt,0);try{return s(wt,0)}catch{try{return s.call(null,wt,0)}catch{return s.call(this,wt,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:_e}catch{s=_e}try{_=typeof clearTimeout=="function"?clearTimeout:et}catch{_=et}})();var nt,ot=[],ct=!1,gt=-1;function pt(){ct&&nt&&(ct=!1,nt.length?ot=nt.concat(ot):gt=-1,ot.length&&ft())}function ft(){if(!ct){var wt=j(pt);ct=!0;for(var Qt=ot.length;Qt;){for(nt=ot,ot=[];++gt<Qt;)nt&&nt[gt].run();gt=-1,Qt=ot.length}nt=null,ct=!1,function(It){if(_===clearTimeout)return clearTimeout(It);if((_===et||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(It);try{_(It)}catch{try{return _.call(null,It)}catch{return _.call(this,It)}}}(wt)}}function ut(wt,Qt){this.fun=wt,this.array=Qt}function yt(){}$.nextTick=function(wt){var Qt=new Array(arguments.length-1);if(arguments.length>1)for(var It=1;It<arguments.length;It++)Qt[It-1]=arguments[It];ot.push(new ut(wt,Qt)),ot.length!==1||ct||j(ft)},ut.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=yt,$.addListener=yt,$.once=yt,$.off=yt,$.removeListener=yt,$.removeAllListeners=yt,$.emit=yt,$.prependListener=yt,$.prependOnceListener=yt,$.listeners=function(wt){return[]},$.binding=function(wt){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(wt){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},function(i,o,s){Object.defineProperty(o,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(o,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(o,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(o,"configs",{value:s(118)})},function(i,o,s){(function(_){s.d(o,"a",function(){return et}),s.d(o,"i",function(){return j}),s.d(o,"j",function(){return nt}),s.d(o,"b",function(){return ot}),s.d(o,"f",function(){return ct}),s.d(o,"e",function(){return gt}),s.d(o,"g",function(){return pt}),s.d(o,"d",function(){return ft}),s.d(o,"c",function(){return ut}),s.d(o,"h",function(){return yt});var $=s(102);const _e=$.from({ENVIRONMENT:_.env.ENV,AGGREGATE_LEVEL:_.env.AGGREGATE_LEVEL,API_ENDPOINT:_.env.API_ENDPOINT,APP:"realtime-sdk",APP_PATH:_.env.APP_PATH,BUILD_TAG:_.env.BUILD_TAG,ENABLE_SELF_SERVE:_.env.ENABLE_SELF_SERVE,ENABLE_SENTRY:_.env.ENABLE_SENTRY,ENABLE_SENTRY_PROFILING:_.env.ENABLE_SENTRY_PROFILING,GIT_COMMIT:_.env.GIT_COMMIT,JEST_WORKER_ID:_.env.JEST_WORKER_ID,LOG_API_ENDPOINT:_.env.LOG_API_ENDPOINT,LOG_JSON:"false",LOG_LEVEL:_.env.LOG_LEVEL,LOG_TO_CONSOLE:_.env.LOG_TO_CONSOLE,LOG_TO_FILE:_.env.LOG_TO_FILE,NAMESPACE:"production",SENTRY_DSN:_.env.SENTRY_DSN,SHEET_EXPORT_MAX_ROW_COUNT:_.env.SHEET_EXPORT_MAX_ROW_COUNT,STABLE_AGENT_VERSION:_.env.STABLE_AGENT_VERSION,VERSION:_.env.VERSION}),et=(_e.get("ENVIRONMENT").default("").asString(),_e.get("APP").default("").asString()),j=(_e.get("APP_PATH").default("").asString(),_e.get("API_ENDPOINT").default("").asString(),_e.get("NAMESPACE").default("").asString()),nt=_e.get("VERSION").default("").asString(),ot=_e.get("BUILD_TAG").default("").asString(),ct=(_e.get("GIT_COMMIT").default("").asString(),_e.get("ENABLE_SENTRY").default("false").asBool(),_e.get("ENABLE_SENTRY_PROFILING").default("false").asBool(),_e.get("SENTRY_DSN").default("").asString(),_e.get("LOG_LEVEL").default("debug").asString()),gt=_e.get("LOG_JSON").default("true").asBool(),pt=_e.get("LOG_TO_CONSOLE").default("true").asBool(),ft=(_e.get("STABLE_AGENT_VERSION").default("").asString(),_e.get("LOG_API_ENDPOINT").asString()),ut=_e.get("JEST_WORKER_ID").asString(),yt=(_e.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),_e.get("LOG_TO_FILE").default("false").asBoolStrict());_e.get("ENABLE_SELF_SERVE").default("true").asBoolStrict(),_e.get("AGGREGATE_LEVEL").default("hour").asEnum(["day","hour","minute"])}).call(this,s(2))},function(i,o,s){(function(_){var $=s(126),_e=s(127),et=s(42);function j(){return ot.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function nt(Ct,Dt){if(j()<Dt)throw new RangeError("Invalid typed array length");return ot.TYPED_ARRAY_SUPPORT?(Ct=new Uint8Array(Dt)).__proto__=ot.prototype:(Ct===null&&(Ct=new ot(Dt)),Ct.length=Dt),Ct}function ot(Ct,Dt,Xt){if(!(ot.TYPED_ARRAY_SUPPORT||this instanceof ot))return new ot(Ct,Dt,Xt);if(typeof Ct=="number"){if(typeof Dt=="string")throw new Error("If encoding is specified then the first argument must be a string");return pt(this,Ct)}return ct(this,Ct,Dt,Xt)}function ct(Ct,Dt,Xt,_n){if(typeof Dt=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&Dt instanceof ArrayBuffer?function(mn,xn,On,nr){if(xn.byteLength,On<0||xn.byteLength<On)throw new RangeError("'offset' is out of bounds");if(xn.byteLength<On+(nr||0))throw new RangeError("'length' is out of bounds");return xn=On===void 0&&nr===void 0?new Uint8Array(xn):nr===void 0?new Uint8Array(xn,On):new Uint8Array(xn,On,nr),ot.TYPED_ARRAY_SUPPORT?(mn=xn).__proto__=ot.prototype:mn=ft(mn,xn),mn}(Ct,Dt,Xt,_n):typeof Dt=="string"?function(mn,xn,On){if(typeof On=="string"&&On!==""||(On="utf8"),!ot.isEncoding(On))throw new TypeError('"encoding" must be a valid string encoding');var nr=0|yt(xn,On),Nr=(mn=nt(mn,nr)).write(xn,On);return Nr!==nr&&(mn=mn.slice(0,Nr)),mn}(Ct,Dt,Xt):function(mn,xn){if(ot.isBuffer(xn)){var On=0|ut(xn.length);return(mn=nt(mn,On)).length===0||xn.copy(mn,0,0,On),mn}if(xn){if(typeof ArrayBuffer<"u"&&xn.buffer instanceof ArrayBuffer||"length"in xn)return typeof xn.length!="number"||(nr=xn.length)!=nr?nt(mn,0):ft(mn,xn);if(xn.type==="Buffer"&&et(xn.data))return ft(mn,xn.data)}var nr;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Ct,Dt)}function gt(Ct){if(typeof Ct!="number")throw new TypeError('"size" argument must be a number');if(Ct<0)throw new RangeError('"size" argument must not be negative')}function pt(Ct,Dt){if(gt(Dt),Ct=nt(Ct,Dt<0?0:0|ut(Dt)),!ot.TYPED_ARRAY_SUPPORT)for(var Xt=0;Xt<Dt;++Xt)Ct[Xt]=0;return Ct}function ft(Ct,Dt){var Xt=Dt.length<0?0:0|ut(Dt.length);Ct=nt(Ct,Xt);for(var _n=0;_n<Xt;_n+=1)Ct[_n]=255&Dt[_n];return Ct}function ut(Ct){if(Ct>=j())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j().toString(16)+" bytes");return 0|Ct}function yt(Ct,Dt){if(ot.isBuffer(Ct))return Ct.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Ct)||Ct instanceof ArrayBuffer))return Ct.byteLength;typeof Ct!="string"&&(Ct=""+Ct);var Xt=Ct.length;if(Xt===0)return 0;for(var _n=!1;;)switch(Dt){case"ascii":case"latin1":case"binary":return Xt;case"utf8":case"utf-8":case void 0:return En(Ct).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Xt;case"hex":return Xt>>>1;case"base64":return fn(Ct).length;default:if(_n)return En(Ct).length;Dt=(""+Dt).toLowerCase(),_n=!0}}function wt(Ct,Dt,Xt){var _n=!1;if((Dt===void 0||Dt<0)&&(Dt=0),Dt>this.length||((Xt===void 0||Xt>this.length)&&(Xt=this.length),Xt<=0)||(Xt>>>=0)<=(Dt>>>=0))return"";for(Ct||(Ct="utf8");;)switch(Ct){case"hex":return qt(this,Dt,Xt);case"utf8":case"utf-8":return Pt(this,Dt,Xt);case"ascii":return Bt(this,Dt,Xt);case"latin1":case"binary":return jt(this,Dt,Xt);case"base64":return St(this,Dt,Xt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zt(this,Dt,Xt);default:if(_n)throw new TypeError("Unknown encoding: "+Ct);Ct=(Ct+"").toLowerCase(),_n=!0}}function Qt(Ct,Dt,Xt){var _n=Ct[Dt];Ct[Dt]=Ct[Xt],Ct[Xt]=_n}function It(Ct,Dt,Xt,_n,mn){if(Ct.length===0)return-1;if(typeof Xt=="string"?(_n=Xt,Xt=0):Xt>2147483647?Xt=2147483647:Xt<-2147483648&&(Xt=-2147483648),Xt=+Xt,isNaN(Xt)&&(Xt=mn?0:Ct.length-1),Xt<0&&(Xt=Ct.length+Xt),Xt>=Ct.length){if(mn)return-1;Xt=Ct.length-1}else if(Xt<0){if(!mn)return-1;Xt=0}if(typeof Dt=="string"&&(Dt=ot.from(Dt,_n)),ot.isBuffer(Dt))return Dt.length===0?-1:xt(Ct,Dt,Xt,_n,mn);if(typeof Dt=="number")return Dt&=255,ot.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?mn?Uint8Array.prototype.indexOf.call(Ct,Dt,Xt):Uint8Array.prototype.lastIndexOf.call(Ct,Dt,Xt):xt(Ct,[Dt],Xt,_n,mn);throw new TypeError("val must be string, number or Buffer")}function xt(Ct,Dt,Xt,_n,mn){var xn,On=1,nr=Ct.length,Nr=Dt.length;if(_n!==void 0&&((_n=String(_n).toLowerCase())==="ucs2"||_n==="ucs-2"||_n==="utf16le"||_n==="utf-16le")){if(Ct.length<2||Dt.length<2)return-1;On=2,nr/=2,Nr/=2,Xt/=2}function co(io,lo){return On===1?io[lo]:io.readUInt16BE(lo*On)}if(mn){var Zr=-1;for(xn=Xt;xn<nr;xn++)if(co(Ct,xn)===co(Dt,Zr===-1?0:xn-Zr)){if(Zr===-1&&(Zr=xn),xn-Zr+1===Nr)return Zr*On}else Zr!==-1&&(xn-=xn-Zr),Zr=-1}else for(Xt+Nr>nr&&(Xt=nr-Nr),xn=Xt;xn>=0;xn--){for(var mo=!0,qr=0;qr<Nr;qr++)if(co(Ct,xn+qr)!==co(Dt,qr)){mo=!1;break}if(mo)return xn}return-1}function Tt(Ct,Dt,Xt,_n){Xt=Number(Xt)||0;var mn=Ct.length-Xt;_n?(_n=Number(_n))>mn&&(_n=mn):_n=mn;var xn=Dt.length;if(xn%2!=0)throw new TypeError("Invalid hex string");_n>xn/2&&(_n=xn/2);for(var On=0;On<_n;++On){var nr=parseInt(Dt.substr(2*On,2),16);if(isNaN(nr))return On;Ct[Xt+On]=nr}return On}function mt(Ct,Dt,Xt,_n){return sn(En(Dt,Ct.length-Xt),Ct,Xt,_n)}function Nt(Ct,Dt,Xt,_n){return sn(function(mn){for(var xn=[],On=0;On<mn.length;++On)xn.push(255&mn.charCodeAt(On));return xn}(Dt),Ct,Xt,_n)}function en(Ct,Dt,Xt,_n){return Nt(Ct,Dt,Xt,_n)}function rn(Ct,Dt,Xt,_n){return sn(fn(Dt),Ct,Xt,_n)}function Ft(Ct,Dt,Xt,_n){return sn(function(mn,xn){for(var On,nr,Nr,co=[],Zr=0;Zr<mn.length&&!((xn-=2)<0);++Zr)On=mn.charCodeAt(Zr),nr=On>>8,Nr=On%256,co.push(Nr),co.push(nr);return co}(Dt,Ct.length-Xt),Ct,Xt,_n)}function St(Ct,Dt,Xt){return Dt===0&&Xt===Ct.length?$.fromByteArray(Ct):$.fromByteArray(Ct.slice(Dt,Xt))}function Pt(Ct,Dt,Xt){Xt=Math.min(Ct.length,Xt);for(var _n=[],mn=Dt;mn<Xt;){var xn,On,nr,Nr,co=Ct[mn],Zr=null,mo=co>239?4:co>223?3:co>191?2:1;if(mn+mo<=Xt)switch(mo){case 1:co<128&&(Zr=co);break;case 2:(192&(xn=Ct[mn+1]))==128&&(Nr=(31&co)<<6|63&xn)>127&&(Zr=Nr);break;case 3:xn=Ct[mn+1],On=Ct[mn+2],(192&xn)==128&&(192&On)==128&&(Nr=(15&co)<<12|(63&xn)<<6|63&On)>2047&&(Nr<55296||Nr>57343)&&(Zr=Nr);break;case 4:xn=Ct[mn+1],On=Ct[mn+2],nr=Ct[mn+3],(192&xn)==128&&(192&On)==128&&(192&nr)==128&&(Nr=(15&co)<<18|(63&xn)<<12|(63&On)<<6|63&nr)>65535&&Nr<1114112&&(Zr=Nr)}Zr===null?(Zr=65533,mo=1):Zr>65535&&(Zr-=65536,_n.push(Zr>>>10&1023|55296),Zr=56320|1023&Zr),_n.push(Zr),mn+=mo}return function(qr){var io=qr.length;if(io<=4096)return String.fromCharCode.apply(String,qr);for(var lo="",Vo=0;Vo<io;)lo+=String.fromCharCode.apply(String,qr.slice(Vo,Vo+=4096));return lo}(_n)}o.Buffer=ot,o.SlowBuffer=function(Ct){return+Ct!=Ct&&(Ct=0),ot.alloc(+Ct)},o.INSPECT_MAX_BYTES=50,ot.TYPED_ARRAY_SUPPORT=_.TYPED_ARRAY_SUPPORT!==void 0?_.TYPED_ARRAY_SUPPORT:function(){try{var Ct=new Uint8Array(1);return Ct.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Ct.foo()===42&&typeof Ct.subarray=="function"&&Ct.subarray(1,1).byteLength===0}catch{return!1}}(),o.kMaxLength=j(),ot.poolSize=8192,ot._augment=function(Ct){return Ct.__proto__=ot.prototype,Ct},ot.from=function(Ct,Dt,Xt){return ct(null,Ct,Dt,Xt)},ot.TYPED_ARRAY_SUPPORT&&(ot.prototype.__proto__=Uint8Array.prototype,ot.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&ot[Symbol.species]===ot&&Object.defineProperty(ot,Symbol.species,{value:null,configurable:!0})),ot.alloc=function(Ct,Dt,Xt){return function(_n,mn,xn,On){return gt(mn),mn<=0?nt(_n,mn):xn!==void 0?typeof On=="string"?nt(_n,mn).fill(xn,On):nt(_n,mn).fill(xn):nt(_n,mn)}(null,Ct,Dt,Xt)},ot.allocUnsafe=function(Ct){return pt(null,Ct)},ot.allocUnsafeSlow=function(Ct){return pt(null,Ct)},ot.isBuffer=function(Ct){return!(Ct==null||!Ct._isBuffer)},ot.compare=function(Ct,Dt){if(!ot.isBuffer(Ct)||!ot.isBuffer(Dt))throw new TypeError("Arguments must be Buffers");if(Ct===Dt)return 0;for(var Xt=Ct.length,_n=Dt.length,mn=0,xn=Math.min(Xt,_n);mn<xn;++mn)if(Ct[mn]!==Dt[mn]){Xt=Ct[mn],_n=Dt[mn];break}return Xt<_n?-1:_n<Xt?1:0},ot.isEncoding=function(Ct){switch(String(Ct).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(Ct,Dt){if(!et(Ct))throw new TypeError('"list" argument must be an Array of Buffers');if(Ct.length===0)return ot.alloc(0);var Xt;if(Dt===void 0)for(Dt=0,Xt=0;Xt<Ct.length;++Xt)Dt+=Ct[Xt].length;var _n=ot.allocUnsafe(Dt),mn=0;for(Xt=0;Xt<Ct.length;++Xt){var xn=Ct[Xt];if(!ot.isBuffer(xn))throw new TypeError('"list" argument must be an Array of Buffers');xn.copy(_n,mn),mn+=xn.length}return _n},ot.byteLength=yt,ot.prototype._isBuffer=!0,ot.prototype.swap16=function(){var Ct=this.length;if(Ct%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Dt=0;Dt<Ct;Dt+=2)Qt(this,Dt,Dt+1);return this},ot.prototype.swap32=function(){var Ct=this.length;if(Ct%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Dt=0;Dt<Ct;Dt+=4)Qt(this,Dt,Dt+3),Qt(this,Dt+1,Dt+2);return this},ot.prototype.swap64=function(){var Ct=this.length;if(Ct%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Dt=0;Dt<Ct;Dt+=8)Qt(this,Dt,Dt+7),Qt(this,Dt+1,Dt+6),Qt(this,Dt+2,Dt+5),Qt(this,Dt+3,Dt+4);return this},ot.prototype.toString=function(){var Ct=0|this.length;return Ct===0?"":arguments.length===0?Pt(this,0,Ct):wt.apply(this,arguments)},ot.prototype.equals=function(Ct){if(!ot.isBuffer(Ct))throw new TypeError("Argument must be a Buffer");return this===Ct||ot.compare(this,Ct)===0},ot.prototype.inspect=function(){var Ct="",Dt=o.INSPECT_MAX_BYTES;return this.length>0&&(Ct=this.toString("hex",0,Dt).match(/.{2}/g).join(" "),this.length>Dt&&(Ct+=" ... ")),"<Buffer "+Ct+">"},ot.prototype.compare=function(Ct,Dt,Xt,_n,mn){if(!ot.isBuffer(Ct))throw new TypeError("Argument must be a Buffer");if(Dt===void 0&&(Dt=0),Xt===void 0&&(Xt=Ct?Ct.length:0),_n===void 0&&(_n=0),mn===void 0&&(mn=this.length),Dt<0||Xt>Ct.length||_n<0||mn>this.length)throw new RangeError("out of range index");if(_n>=mn&&Dt>=Xt)return 0;if(_n>=mn)return-1;if(Dt>=Xt)return 1;if(this===Ct)return 0;for(var xn=(mn>>>=0)-(_n>>>=0),On=(Xt>>>=0)-(Dt>>>=0),nr=Math.min(xn,On),Nr=this.slice(_n,mn),co=Ct.slice(Dt,Xt),Zr=0;Zr<nr;++Zr)if(Nr[Zr]!==co[Zr]){xn=Nr[Zr],On=co[Zr];break}return xn<On?-1:On<xn?1:0},ot.prototype.includes=function(Ct,Dt,Xt){return this.indexOf(Ct,Dt,Xt)!==-1},ot.prototype.indexOf=function(Ct,Dt,Xt){return It(this,Ct,Dt,Xt,!0)},ot.prototype.lastIndexOf=function(Ct,Dt,Xt){return It(this,Ct,Dt,Xt,!1)},ot.prototype.write=function(Ct,Dt,Xt,_n){if(Dt===void 0)_n="utf8",Xt=this.length,Dt=0;else if(Xt===void 0&&typeof Dt=="string")_n=Dt,Xt=this.length,Dt=0;else{if(!isFinite(Dt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Dt|=0,isFinite(Xt)?(Xt|=0,_n===void 0&&(_n="utf8")):(_n=Xt,Xt=void 0)}var mn=this.length-Dt;if((Xt===void 0||Xt>mn)&&(Xt=mn),Ct.length>0&&(Xt<0||Dt<0)||Dt>this.length)throw new RangeError("Attempt to write outside buffer bounds");_n||(_n="utf8");for(var xn=!1;;)switch(_n){case"hex":return Tt(this,Ct,Dt,Xt);case"utf8":case"utf-8":return mt(this,Ct,Dt,Xt);case"ascii":return Nt(this,Ct,Dt,Xt);case"latin1":case"binary":return en(this,Ct,Dt,Xt);case"base64":return rn(this,Ct,Dt,Xt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ft(this,Ct,Dt,Xt);default:if(xn)throw new TypeError("Unknown encoding: "+_n);_n=(""+_n).toLowerCase(),xn=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Bt(Ct,Dt,Xt){var _n="";Xt=Math.min(Ct.length,Xt);for(var mn=Dt;mn<Xt;++mn)_n+=String.fromCharCode(127&Ct[mn]);return _n}function jt(Ct,Dt,Xt){var _n="";Xt=Math.min(Ct.length,Xt);for(var mn=Dt;mn<Xt;++mn)_n+=String.fromCharCode(Ct[mn]);return _n}function qt(Ct,Dt,Xt){var _n=Ct.length;(!Dt||Dt<0)&&(Dt=0),(!Xt||Xt<0||Xt>_n)&&(Xt=_n);for(var mn="",xn=Dt;xn<Xt;++xn)mn+=Fn(Ct[xn]);return mn}function Zt(Ct,Dt,Xt){for(var _n=Ct.slice(Dt,Xt),mn="",xn=0;xn<_n.length;xn+=2)mn+=String.fromCharCode(_n[xn]+256*_n[xn+1]);return mn}function Wt(Ct,Dt,Xt){if(Ct%1!=0||Ct<0)throw new RangeError("offset is not uint");if(Ct+Dt>Xt)throw new RangeError("Trying to access beyond buffer length")}function Gt(Ct,Dt,Xt,_n,mn,xn){if(!ot.isBuffer(Ct))throw new TypeError('"buffer" argument must be a Buffer instance');if(Dt>mn||Dt<xn)throw new RangeError('"value" argument is out of bounds');if(Xt+_n>Ct.length)throw new RangeError("Index out of range")}function Ht(Ct,Dt,Xt,_n){Dt<0&&(Dt=65535+Dt+1);for(var mn=0,xn=Math.min(Ct.length-Xt,2);mn<xn;++mn)Ct[Xt+mn]=(Dt&255<<8*(_n?mn:1-mn))>>>8*(_n?mn:1-mn)}function kt(Ct,Dt,Xt,_n){Dt<0&&(Dt=4294967295+Dt+1);for(var mn=0,xn=Math.min(Ct.length-Xt,4);mn<xn;++mn)Ct[Xt+mn]=Dt>>>8*(_n?mn:3-mn)&255}function Rt(Ct,Dt,Xt,_n,mn,xn){if(Xt+_n>Ct.length)throw new RangeError("Index out of range");if(Xt<0)throw new RangeError("Index out of range")}function $t(Ct,Dt,Xt,_n,mn){return mn||Rt(Ct,0,Xt,4),_e.write(Ct,Dt,Xt,_n,23,4),Xt+4}function nn(Ct,Dt,Xt,_n,mn){return mn||Rt(Ct,0,Xt,8),_e.write(Ct,Dt,Xt,_n,52,8),Xt+8}ot.prototype.slice=function(Ct,Dt){var Xt,_n=this.length;if((Ct=~~Ct)<0?(Ct+=_n)<0&&(Ct=0):Ct>_n&&(Ct=_n),(Dt=Dt===void 0?_n:~~Dt)<0?(Dt+=_n)<0&&(Dt=0):Dt>_n&&(Dt=_n),Dt<Ct&&(Dt=Ct),ot.TYPED_ARRAY_SUPPORT)(Xt=this.subarray(Ct,Dt)).__proto__=ot.prototype;else{var mn=Dt-Ct;Xt=new ot(mn,void 0);for(var xn=0;xn<mn;++xn)Xt[xn]=this[xn+Ct]}return Xt},ot.prototype.readUIntLE=function(Ct,Dt,Xt){Ct|=0,Dt|=0,Xt||Wt(Ct,Dt,this.length);for(var _n=this[Ct],mn=1,xn=0;++xn<Dt&&(mn*=256);)_n+=this[Ct+xn]*mn;return _n},ot.prototype.readUIntBE=function(Ct,Dt,Xt){Ct|=0,Dt|=0,Xt||Wt(Ct,Dt,this.length);for(var _n=this[Ct+--Dt],mn=1;Dt>0&&(mn*=256);)_n+=this[Ct+--Dt]*mn;return _n},ot.prototype.readUInt8=function(Ct,Dt){return Dt||Wt(Ct,1,this.length),this[Ct]},ot.prototype.readUInt16LE=function(Ct,Dt){return Dt||Wt(Ct,2,this.length),this[Ct]|this[Ct+1]<<8},ot.prototype.readUInt16BE=function(Ct,Dt){return Dt||Wt(Ct,2,this.length),this[Ct]<<8|this[Ct+1]},ot.prototype.readUInt32LE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),(this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16)+16777216*this[Ct+3]},ot.prototype.readUInt32BE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),16777216*this[Ct]+(this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3])},ot.prototype.readIntLE=function(Ct,Dt,Xt){Ct|=0,Dt|=0,Xt||Wt(Ct,Dt,this.length);for(var _n=this[Ct],mn=1,xn=0;++xn<Dt&&(mn*=256);)_n+=this[Ct+xn]*mn;return _n>=(mn*=128)&&(_n-=Math.pow(2,8*Dt)),_n},ot.prototype.readIntBE=function(Ct,Dt,Xt){Ct|=0,Dt|=0,Xt||Wt(Ct,Dt,this.length);for(var _n=Dt,mn=1,xn=this[Ct+--_n];_n>0&&(mn*=256);)xn+=this[Ct+--_n]*mn;return xn>=(mn*=128)&&(xn-=Math.pow(2,8*Dt)),xn},ot.prototype.readInt8=function(Ct,Dt){return Dt||Wt(Ct,1,this.length),128&this[Ct]?-1*(255-this[Ct]+1):this[Ct]},ot.prototype.readInt16LE=function(Ct,Dt){Dt||Wt(Ct,2,this.length);var Xt=this[Ct]|this[Ct+1]<<8;return 32768&Xt?4294901760|Xt:Xt},ot.prototype.readInt16BE=function(Ct,Dt){Dt||Wt(Ct,2,this.length);var Xt=this[Ct+1]|this[Ct]<<8;return 32768&Xt?4294901760|Xt:Xt},ot.prototype.readInt32LE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16|this[Ct+3]<<24},ot.prototype.readInt32BE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),this[Ct]<<24|this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3]},ot.prototype.readFloatLE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),_e.read(this,Ct,!0,23,4)},ot.prototype.readFloatBE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),_e.read(this,Ct,!1,23,4)},ot.prototype.readDoubleLE=function(Ct,Dt){return Dt||Wt(Ct,8,this.length),_e.read(this,Ct,!0,52,8)},ot.prototype.readDoubleBE=function(Ct,Dt){return Dt||Wt(Ct,8,this.length),_e.read(this,Ct,!1,52,8)},ot.prototype.writeUIntLE=function(Ct,Dt,Xt,_n){Ct=+Ct,Dt|=0,Xt|=0,_n||Gt(this,Ct,Dt,Xt,Math.pow(2,8*Xt)-1,0);var mn=1,xn=0;for(this[Dt]=255&Ct;++xn<Xt&&(mn*=256);)this[Dt+xn]=Ct/mn&255;return Dt+Xt},ot.prototype.writeUIntBE=function(Ct,Dt,Xt,_n){Ct=+Ct,Dt|=0,Xt|=0,_n||Gt(this,Ct,Dt,Xt,Math.pow(2,8*Xt)-1,0);var mn=Xt-1,xn=1;for(this[Dt+mn]=255&Ct;--mn>=0&&(xn*=256);)this[Dt+mn]=Ct/xn&255;return Dt+Xt},ot.prototype.writeUInt8=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,1,255,0),ot.TYPED_ARRAY_SUPPORT||(Ct=Math.floor(Ct)),this[Dt]=255&Ct,Dt+1},ot.prototype.writeUInt16LE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,2,65535,0),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=255&Ct,this[Dt+1]=Ct>>>8):Ht(this,Ct,Dt,!0),Dt+2},ot.prototype.writeUInt16BE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,2,65535,0),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=Ct>>>8,this[Dt+1]=255&Ct):Ht(this,Ct,Dt,!1),Dt+2},ot.prototype.writeUInt32LE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,4,4294967295,0),ot.TYPED_ARRAY_SUPPORT?(this[Dt+3]=Ct>>>24,this[Dt+2]=Ct>>>16,this[Dt+1]=Ct>>>8,this[Dt]=255&Ct):kt(this,Ct,Dt,!0),Dt+4},ot.prototype.writeUInt32BE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,4,4294967295,0),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=Ct>>>24,this[Dt+1]=Ct>>>16,this[Dt+2]=Ct>>>8,this[Dt+3]=255&Ct):kt(this,Ct,Dt,!1),Dt+4},ot.prototype.writeIntLE=function(Ct,Dt,Xt,_n){if(Ct=+Ct,Dt|=0,!_n){var mn=Math.pow(2,8*Xt-1);Gt(this,Ct,Dt,Xt,mn-1,-mn)}var xn=0,On=1,nr=0;for(this[Dt]=255&Ct;++xn<Xt&&(On*=256);)Ct<0&&nr===0&&this[Dt+xn-1]!==0&&(nr=1),this[Dt+xn]=(Ct/On>>0)-nr&255;return Dt+Xt},ot.prototype.writeIntBE=function(Ct,Dt,Xt,_n){if(Ct=+Ct,Dt|=0,!_n){var mn=Math.pow(2,8*Xt-1);Gt(this,Ct,Dt,Xt,mn-1,-mn)}var xn=Xt-1,On=1,nr=0;for(this[Dt+xn]=255&Ct;--xn>=0&&(On*=256);)Ct<0&&nr===0&&this[Dt+xn+1]!==0&&(nr=1),this[Dt+xn]=(Ct/On>>0)-nr&255;return Dt+Xt},ot.prototype.writeInt8=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,1,127,-128),ot.TYPED_ARRAY_SUPPORT||(Ct=Math.floor(Ct)),Ct<0&&(Ct=255+Ct+1),this[Dt]=255&Ct,Dt+1},ot.prototype.writeInt16LE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,2,32767,-32768),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=255&Ct,this[Dt+1]=Ct>>>8):Ht(this,Ct,Dt,!0),Dt+2},ot.prototype.writeInt16BE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,2,32767,-32768),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=Ct>>>8,this[Dt+1]=255&Ct):Ht(this,Ct,Dt,!1),Dt+2},ot.prototype.writeInt32LE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,4,2147483647,-2147483648),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=255&Ct,this[Dt+1]=Ct>>>8,this[Dt+2]=Ct>>>16,this[Dt+3]=Ct>>>24):kt(this,Ct,Dt,!0),Dt+4},ot.prototype.writeInt32BE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,4,2147483647,-2147483648),Ct<0&&(Ct=4294967295+Ct+1),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=Ct>>>24,this[Dt+1]=Ct>>>16,this[Dt+2]=Ct>>>8,this[Dt+3]=255&Ct):kt(this,Ct,Dt,!1),Dt+4},ot.prototype.writeFloatLE=function(Ct,Dt,Xt){return $t(this,Ct,Dt,!0,Xt)},ot.prototype.writeFloatBE=function(Ct,Dt,Xt){return $t(this,Ct,Dt,!1,Xt)},ot.prototype.writeDoubleLE=function(Ct,Dt,Xt){return nn(this,Ct,Dt,!0,Xt)},ot.prototype.writeDoubleBE=function(Ct,Dt,Xt){return nn(this,Ct,Dt,!1,Xt)},ot.prototype.copy=function(Ct,Dt,Xt,_n){if(Xt||(Xt=0),_n||_n===0||(_n=this.length),Dt>=Ct.length&&(Dt=Ct.length),Dt||(Dt=0),_n>0&&_n<Xt&&(_n=Xt),_n===Xt||Ct.length===0||this.length===0)return 0;if(Dt<0)throw new RangeError("targetStart out of bounds");if(Xt<0||Xt>=this.length)throw new RangeError("sourceStart out of bounds");if(_n<0)throw new RangeError("sourceEnd out of bounds");_n>this.length&&(_n=this.length),Ct.length-Dt<_n-Xt&&(_n=Ct.length-Dt+Xt);var mn,xn=_n-Xt;if(this===Ct&&Xt<Dt&&Dt<_n)for(mn=xn-1;mn>=0;--mn)Ct[mn+Dt]=this[mn+Xt];else if(xn<1e3||!ot.TYPED_ARRAY_SUPPORT)for(mn=0;mn<xn;++mn)Ct[mn+Dt]=this[mn+Xt];else Uint8Array.prototype.set.call(Ct,this.subarray(Xt,Xt+xn),Dt);return xn},ot.prototype.fill=function(Ct,Dt,Xt,_n){if(typeof Ct=="string"){if(typeof Dt=="string"?(_n=Dt,Dt=0,Xt=this.length):typeof Xt=="string"&&(_n=Xt,Xt=this.length),Ct.length===1){var mn=Ct.charCodeAt(0);mn<256&&(Ct=mn)}if(_n!==void 0&&typeof _n!="string")throw new TypeError("encoding must be a string");if(typeof _n=="string"&&!ot.isEncoding(_n))throw new TypeError("Unknown encoding: "+_n)}else typeof Ct=="number"&&(Ct&=255);if(Dt<0||this.length<Dt||this.length<Xt)throw new RangeError("Out of range index");if(Xt<=Dt)return this;var xn;if(Dt>>>=0,Xt=Xt===void 0?this.length:Xt>>>0,Ct||(Ct=0),typeof Ct=="number")for(xn=Dt;xn<Xt;++xn)this[xn]=Ct;else{var On=ot.isBuffer(Ct)?Ct:En(new ot(Ct,_n).toString()),nr=On.length;for(xn=0;xn<Xt-Dt;++xn)this[xn+Dt]=On[xn%nr]}return this};var Un=/[^+\/0-9A-Za-z-_]/g;function Fn(Ct){return Ct<16?"0"+Ct.toString(16):Ct.toString(16)}function En(Ct,Dt){var Xt;Dt=Dt||1/0;for(var _n=Ct.length,mn=null,xn=[],On=0;On<_n;++On){if((Xt=Ct.charCodeAt(On))>55295&&Xt<57344){if(!mn){if(Xt>56319){(Dt-=3)>-1&&xn.push(239,191,189);continue}if(On+1===_n){(Dt-=3)>-1&&xn.push(239,191,189);continue}mn=Xt;continue}if(Xt<56320){(Dt-=3)>-1&&xn.push(239,191,189),mn=Xt;continue}Xt=65536+(mn-55296<<10|Xt-56320)}else mn&&(Dt-=3)>-1&&xn.push(239,191,189);if(mn=null,Xt<128){if((Dt-=1)<0)break;xn.push(Xt)}else if(Xt<2048){if((Dt-=2)<0)break;xn.push(Xt>>6|192,63&Xt|128)}else if(Xt<65536){if((Dt-=3)<0)break;xn.push(Xt>>12|224,Xt>>6&63|128,63&Xt|128)}else{if(!(Xt<1114112))throw new Error("Invalid code point");if((Dt-=4)<0)break;xn.push(Xt>>18|240,Xt>>12&63|128,Xt>>6&63|128,63&Xt|128)}}return xn}function fn(Ct){return $.toByteArray(function(Dt){if((Dt=function(Xt){return Xt.trim?Xt.trim():Xt.replace(/^\s+|\s+$/g,"")}(Dt).replace(Un,"")).length<2)return"";for(;Dt.length%4!=0;)Dt+="=";return Dt}(Ct))}function sn(Ct,Dt,Xt,_n){for(var mn=0;mn<_n&&!(mn+Xt>=Dt.length||mn>=Ct.length);++mn)Dt[mn+Xt]=Ct[mn];return mn}}).call(this,s(6))},function(i,o){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}i.exports=s},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){_&&(s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(s,_){if(_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}}},function(i,o,s){s.d(o,"a",function(){return _});const _=$=>new Promise(_e=>setTimeout(_e,$||0))},function(i,o,s){var _=s(99),$=_,_e=Function("return this")(),et=s(98);$.object.extend(proto,et),$.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetHealthRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetHealthResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.Peer",null,_e),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.SessionType",null,_e),$.exportSymbol("proto.v1.signaling.api.Signal",null,_e),proto.v1.signaling.api.Peer=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.Peer,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.Signal,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.GetHealthRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthRequest.displayName="proto.v1.signaling.api.GetHealthRequest"),proto.v1.signaling.api.GetHealthResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthResponse.displayName="proto.v1.signaling.api.GetHealthResponse"),proto.v1.signaling.api.CreatePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetPeersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.GetPeersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(j){return proto.v1.signaling.api.Peer.toObject(j,this)},proto.v1.signaling.api.Peer.toObject=function(j,nt){var ot,ct={peerId:_.Message.getFieldWithDefault(nt,1,""),organizationId:_.Message.getFieldWithDefault(nt,2,""),userId:(ot=nt.getUserId())&&et.StringValue.toObject(j,ot),deviceId:(ot=nt.getDeviceId())&&et.StringValue.toObject(j,ot),sessionIdsList:(ot=_.Message.getRepeatedField(nt,5))==null?void 0:ot,peerCreatedTimestamp:(ot=nt.getPeerCreatedTimestamp())&&et.Int64Value.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.Peer.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setPeerId(ot);break;case 2:ot=nt.readString(),j.setOrganizationId(ot);break;case 3:ot=new et.StringValue,nt.readMessage(ot,et.StringValue.deserializeBinaryFromReader),j.setUserId(ot);break;case 4:ot=new et.StringValue,nt.readMessage(ot,et.StringValue.deserializeBinaryFromReader),j.setDeviceId(ot);break;case 5:ot=nt.readString(),j.addSessionIds(ot);break;case 6:ot=new et.Int64Value,nt.readMessage(ot,et.Int64Value.deserializeBinaryFromReader),j.setPeerCreatedTimestamp(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(j,nt){var ot=void 0;(ot=j.getPeerId()).length>0&&nt.writeString(1,ot),(ot=j.getOrganizationId()).length>0&&nt.writeString(2,ot),(ot=j.getUserId())!=null&&nt.writeMessage(3,ot,et.StringValue.serializeBinaryToWriter),(ot=j.getDeviceId())!=null&&nt.writeMessage(4,ot,et.StringValue.serializeBinaryToWriter),(ot=j.getSessionIdsList()).length>0&&nt.writeRepeatedString(5,ot),(ot=j.getPeerCreatedTimestamp())!=null&&nt.writeMessage(6,ot,et.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return _.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(j){return _.Message.setProto3StringField(this,2,j)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return _.Message.getWrapperField(this,et.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(j){return _.Message.setWrapperField(this,3,j)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return _.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return _.Message.getWrapperField(this,et.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(j){return _.Message.setWrapperField(this,4,j)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return _.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return _.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(j){return _.Message.setField(this,5,j||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(j,nt){return _.Message.addToRepeatedField(this,5,j,nt)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return _.Message.getWrapperField(this,et.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(j){return _.Message.setWrapperField(this,6,j)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return _.Message.getField(this,6)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(j){return proto.v1.signaling.api.Signal.toObject(j,this)},proto.v1.signaling.api.Signal.toObject=function(j,nt){var ot,ct={sessionId:(ot=nt.getSessionId())&&et.StringValue.toObject(j,ot),sessionCreatedTimestamp:(ot=nt.getSessionCreatedTimestamp())&&et.Int64Value.toObject(j,ot),senderId:_.Message.getFieldWithDefault(nt,3,""),receiverId:_.Message.getFieldWithDefault(nt,4,""),payload:_.Message.getFieldWithDefault(nt,5,""),iceServers:_.Message.getFieldWithDefault(nt,6,""),iceTransportPolicy:_.Message.getFieldWithDefault(nt,7,""),sessionType:_.Message.getFieldWithDefault(nt,8,0)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.Signal.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new et.StringValue;nt.readMessage(ot,et.StringValue.deserializeBinaryFromReader),j.setSessionId(ot);break;case 2:ot=new et.Int64Value,nt.readMessage(ot,et.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(ot);break;case 3:ot=nt.readString(),j.setSenderId(ot);break;case 4:ot=nt.readString(),j.setReceiverId(ot);break;case 5:ot=nt.readString(),j.setPayload(ot);break;case 6:ot=nt.readString(),j.setIceServers(ot);break;case 7:ot=nt.readString(),j.setIceTransportPolicy(ot);break;case 8:ot=nt.readEnum(),j.setSessionType(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(j,nt){var ot=void 0;(ot=j.getSessionId())!=null&&nt.writeMessage(1,ot,et.StringValue.serializeBinaryToWriter),(ot=j.getSessionCreatedTimestamp())!=null&&nt.writeMessage(2,ot,et.Int64Value.serializeBinaryToWriter),(ot=j.getSenderId()).length>0&&nt.writeString(3,ot),(ot=j.getReceiverId()).length>0&&nt.writeString(4,ot),(ot=j.getPayload()).length>0&&nt.writeString(5,ot),(ot=j.getIceServers()).length>0&&nt.writeString(6,ot),(ot=j.getIceTransportPolicy()).length>0&&nt.writeString(7,ot),(ot=j.getSessionType())!==0&&nt.writeEnum(8,ot)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return _.Message.getWrapperField(this,et.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,et.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return _.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(j){return _.Message.setProto3StringField(this,3,j)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return _.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(j){return _.Message.setProto3StringField(this,4,j)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return _.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(j){return _.Message.setProto3StringField(this,5,j)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,6,j)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return _.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(j){return _.Message.setProto3StringField(this,7,j)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return _.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(j){return _.Message.setProto3EnumField(this,8,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthRequest.toObject(j,this)},proto.v1.signaling.api.GetHealthRequest.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetHealthRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetHealthRequest;return proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetHealthRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthResponse.toObject(j,this)},proto.v1.signaling.api.GetHealthResponse.toObject=function(j,nt){var ot={version:_.Message.getFieldWithDefault(nt,1,"")};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetHealthResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetHealthResponse;return proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setVersion(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetHealthResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getVersion()).length>0&&nt.writeString(1,ot)},proto.v1.signaling.api.GetHealthResponse.prototype.getVersion=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetHealthResponse.prototype.setVersion=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerRequest.toObject(j,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerResponse.toObject(j,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(j,nt){var ot,ct={peer:(ot=nt.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Peer;nt.readMessage(ot,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeer())!=null&&nt.writeMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerRequest.toObject(j,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(j,nt){var ot={peerId:_.Message.getFieldWithDefault(nt,1,"")};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setPeerId(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeerId()).length>0&&nt.writeString(1,ot)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerResponse.toObject(j,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerRequest.toObject(j,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(j,nt){var ot,ct={peer:(ot=nt.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Peer;nt.readMessage(ot,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeer())!=null&&nt.writeMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerResponse.toObject(j,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersRequest.toObject(j,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(j,nt){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersResponse.toObject(j,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(j,nt){var ot={peersList:_.Message.toObjectList(nt.getPeersList(),proto.v1.signaling.api.Peer.toObject,j)};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Peer;nt.readMessage(ot,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.addPeers(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeersList()).length>0&&nt.writeRepeatedMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return _.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(j){return _.Message.setRepeatedWrapperField(this,1,j)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(j,nt){return _.Message.addToRepeatedWrapperField(this,1,j,proto.v1.signaling.api.Peer,nt)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersRequest.toObject(j,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersResponse.toObject(j,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(j,nt){var ot={iceServers:_.Message.getFieldWithDefault(nt,1,"")};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setIceServers(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getIceServers()).length>0&&nt.writeString(1,ot)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalRequest.toObject(j,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(j,nt){var ot,ct={signal:(ot=nt.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Signal;nt.readMessage(ot,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getSignal())!=null&&nt.writeMessage(1,ot,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalResponse.toObject(j,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(j,nt){var ot,ct={sessionId:(ot=nt.getSessionId())&&et.StringValue.toObject(j,ot),sessionCreatedTimestamp:(ot=nt.getSessionCreatedTimestamp())&&et.Int64Value.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new et.StringValue;nt.readMessage(ot,et.StringValue.deserializeBinaryFromReader),j.setSessionId(ot);break;case 2:ot=new et.Int64Value,nt.readMessage(ot,et.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(j,nt){var ot=void 0;(ot=j.getSessionId())!=null&&nt.writeMessage(1,ot,et.StringValue.serializeBinaryToWriter),(ot=j.getSessionCreatedTimestamp())!=null&&nt.writeMessage(2,ot,et.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return _.Message.getWrapperField(this,et.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,et.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(j,nt){var ot={peerId:_.Message.getFieldWithDefault(nt,1,"")};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setPeerId(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeerId()).length>0&&nt.writeString(1,ot)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(j,nt){var ot,ct={signal:(ot=nt.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Signal;nt.readMessage(ot,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getSignal())!=null&&nt.writeMessage(1,ot,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3},$.object.extend(o,proto.v1.signaling.api)},function(i,o,s){s.d(o,"a",function(){return $});var _=s(34);class $ extends Error{constructor(et,j,nt,ot,ct={},gt){super(`Unexpected response (${nt}) for ${et} ${j}: ${JSON.stringify(gt?Object(_.a)([...gt.entries()].reduce((pt,[ft,ut])=>(pt[ft]=ut,pt),{})):{})} -- ${JSON.stringify(Object(_.a)(ot))}`),this.method=et,this.url=j,this.statusCode=nt,this.body=ot,this.validationErrors=ct,this.headers=gt}}},function(i,o,s){function _($,_e,et=()=>!0){if(function(j,nt,ot=()=>!0){return j instanceof nt&&ot(j)}($,_e,et))return $;throw $}s.d(o,"a",function(){return _})},function(i,o,s){function _(pt){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft})(pt)}function $(pt,ft){return!ft||_(ft)!=="object"&&typeof ft!="function"?_e(pt):ft}function _e(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function et(pt){var ft=typeof Map=="function"?new Map:void 0;return(et=function(ut){if(ut===null||(yt=ut,Function.toString.call(yt).indexOf("[native code]")===-1))return ut;var yt;if(typeof ut!="function")throw new TypeError("Super expression must either be null or a function");if(ft!==void 0){if(ft.has(ut))return ft.get(ut);ft.set(ut,wt)}function wt(){return j(ut,arguments,ct(this).constructor)}return wt.prototype=Object.create(ut.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),ot(wt,ut)})(pt)}function j(pt,ft,ut){return(j=nt()?Reflect.construct:function(yt,wt,Qt){var It=[null];It.push.apply(It,wt);var xt=new(Function.bind.apply(yt,It));return Qt&&ot(xt,Qt.prototype),xt}).apply(null,arguments)}function nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ot(pt,ft){return(ot=Object.setPrototypeOf||function(ut,yt){return ut.__proto__=yt,ut})(pt,ft)}function ct(pt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(ft){return ft.__proto__||Object.getPrototypeOf(ft)})(pt)}var gt=function(pt){(function(Qt,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function");Qt.prototype=Object.create(It&&It.prototype,{constructor:{value:Qt,writable:!0,configurable:!0}}),It&&ot(Qt,It)})(wt,pt);var ft,ut,yt=(ft=wt,ut=nt(),function(){var Qt,It=ct(ft);if(ut){var xt=ct(this).constructor;Qt=Reflect.construct(It,arguments,xt)}else Qt=It.apply(this,arguments);return $(this,Qt)});function wt(Qt){var It;return function(xt,Tt){if(!(xt instanceof Tt))throw new TypeError("Cannot call a class as a function")}(this,wt),It=yt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(Qt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(_e(It),wt),It}return wt}(et(Error));i.exports=function(pt){if(pt.length>2)throw new gt(pt);function ft(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=yt}function ut(yt){return new ft(yt)}return ft.prototype.transform=pt,ut.Format=ft,ut}},function(i,o,s){(function(_){var $=Object.getOwnPropertyDescriptors||function(Wt){for(var Gt=Object.keys(Wt),Ht={},kt=0;kt<Gt.length;kt++)Ht[Gt[kt]]=Object.getOwnPropertyDescriptor(Wt,Gt[kt]);return Ht},_e=/%[sdj%]/g;o.format=function(Wt){if(!It(Wt)){for(var Gt=[],Ht=0;Ht<arguments.length;Ht++)Gt.push(nt(arguments[Ht]));return Gt.join(" ")}Ht=1;for(var kt=arguments,Rt=kt.length,$t=String(Wt).replace(_e,function(Un){if(Un==="%%")return"%";if(Ht>=Rt)return Un;switch(Un){case"%s":return String(kt[Ht++]);case"%d":return Number(kt[Ht++]);case"%j":try{return JSON.stringify(kt[Ht++])}catch{return"[Circular]"}default:return Un}}),nn=kt[Ht];Ht<Rt;nn=kt[++Ht])wt(nn)||!mt(nn)?$t+=" "+nn:$t+=" "+nt(nn);return $t},o.deprecate=function(Wt,Gt){if(_!==void 0&&_.noDeprecation===!0)return Wt;if(_===void 0)return function(){return o.deprecate(Wt,Gt).apply(this,arguments)};var Ht=!1;return function(){if(!Ht){if(_.throwDeprecation)throw new Error(Gt);_.traceDeprecation?console.trace(Gt):console.error(Gt),Ht=!0}return Wt.apply(this,arguments)}};var et,j={};function nt(Wt,Gt){var Ht={seen:[],stylize:ct};return arguments.length>=3&&(Ht.depth=arguments[2]),arguments.length>=4&&(Ht.colors=arguments[3]),yt(Gt)?Ht.showHidden=Gt:Gt&&o._extend(Ht,Gt),xt(Ht.showHidden)&&(Ht.showHidden=!1),xt(Ht.depth)&&(Ht.depth=2),xt(Ht.colors)&&(Ht.colors=!1),xt(Ht.customInspect)&&(Ht.customInspect=!0),Ht.colors&&(Ht.stylize=ot),gt(Ht,Wt,Ht.depth)}function ot(Wt,Gt){var Ht=nt.styles[Gt];return Ht?"\x1B["+nt.colors[Ht][0]+"m"+Wt+"\x1B["+nt.colors[Ht][1]+"m":Wt}function ct(Wt,Gt){return Wt}function gt(Wt,Gt,Ht){if(Wt.customInspect&&Gt&&rn(Gt.inspect)&&Gt.inspect!==o.inspect&&(!Gt.constructor||Gt.constructor.prototype!==Gt)){var kt=Gt.inspect(Ht,Wt);return It(kt)||(kt=gt(Wt,kt,Ht)),kt}var Rt=function(Ct,Dt){if(xt(Dt))return Ct.stylize("undefined","undefined");if(It(Dt)){var Xt="'"+JSON.stringify(Dt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ct.stylize(Xt,"string")}if(Qt(Dt))return Ct.stylize(""+Dt,"number");if(yt(Dt))return Ct.stylize(""+Dt,"boolean");if(wt(Dt))return Ct.stylize("null","null")}(Wt,Gt);if(Rt)return Rt;var $t=Object.keys(Gt),nn=function(Ct){var Dt={};return Ct.forEach(function(Xt,_n){Dt[Xt]=!0}),Dt}($t);if(Wt.showHidden&&($t=Object.getOwnPropertyNames(Gt)),en(Gt)&&($t.indexOf("message")>=0||$t.indexOf("description")>=0))return pt(Gt);if($t.length===0){if(rn(Gt)){var Un=Gt.name?": "+Gt.name:"";return Wt.stylize("[Function"+Un+"]","special")}if(Tt(Gt))return Wt.stylize(RegExp.prototype.toString.call(Gt),"regexp");if(Nt(Gt))return Wt.stylize(Date.prototype.toString.call(Gt),"date");if(en(Gt))return pt(Gt)}var Fn,En="",fn=!1,sn=["{","}"];return ut(Gt)&&(fn=!0,sn=["[","]"]),rn(Gt)&&(En=" [Function"+(Gt.name?": "+Gt.name:"")+"]"),Tt(Gt)&&(En=" "+RegExp.prototype.toString.call(Gt)),Nt(Gt)&&(En=" "+Date.prototype.toUTCString.call(Gt)),en(Gt)&&(En=" "+pt(Gt)),$t.length!==0||fn&&Gt.length!=0?Ht<0?Tt(Gt)?Wt.stylize(RegExp.prototype.toString.call(Gt),"regexp"):Wt.stylize("[Object]","special"):(Wt.seen.push(Gt),Fn=fn?function(Ct,Dt,Xt,_n,mn){for(var xn=[],On=0,nr=Dt.length;On<nr;++On)jt(Dt,String(On))?xn.push(ft(Ct,Dt,Xt,_n,String(On),!0)):xn.push("");return mn.forEach(function(Nr){Nr.match(/^\d+$/)||xn.push(ft(Ct,Dt,Xt,_n,Nr,!0))}),xn}(Wt,Gt,Ht,nn,$t):$t.map(function(Ct){return ft(Wt,Gt,Ht,nn,Ct,fn)}),Wt.seen.pop(),function(Ct,Dt,Xt){return Ct.reduce(function(_n,mn){return mn.indexOf(`
`)>=0,_n+mn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Xt[0]+(Dt===""?"":Dt+`
 `)+" "+Ct.join(`,
  `)+" "+Xt[1]:Xt[0]+Dt+" "+Ct.join(", ")+" "+Xt[1]}(Fn,En,sn)):sn[0]+En+sn[1]}function pt(Wt){return"["+Error.prototype.toString.call(Wt)+"]"}function ft(Wt,Gt,Ht,kt,Rt,$t){var nn,Un,Fn;if((Fn=Object.getOwnPropertyDescriptor(Gt,Rt)||{value:Gt[Rt]}).get?Un=Fn.set?Wt.stylize("[Getter/Setter]","special"):Wt.stylize("[Getter]","special"):Fn.set&&(Un=Wt.stylize("[Setter]","special")),jt(kt,Rt)||(nn="["+Rt+"]"),Un||(Wt.seen.indexOf(Fn.value)<0?(Un=wt(Ht)?gt(Wt,Fn.value,null):gt(Wt,Fn.value,Ht-1)).indexOf(`
`)>-1&&(Un=$t?Un.split(`
`).map(function(En){return"  "+En}).join(`
`).substr(2):`
`+Un.split(`
`).map(function(En){return"   "+En}).join(`
`)):Un=Wt.stylize("[Circular]","special")),xt(nn)){if($t&&Rt.match(/^\d+$/))return Un;(nn=JSON.stringify(""+Rt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(nn=nn.substr(1,nn.length-2),nn=Wt.stylize(nn,"name")):(nn=nn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),nn=Wt.stylize(nn,"string"))}return nn+": "+Un}function ut(Wt){return Array.isArray(Wt)}function yt(Wt){return typeof Wt=="boolean"}function wt(Wt){return Wt===null}function Qt(Wt){return typeof Wt=="number"}function It(Wt){return typeof Wt=="string"}function xt(Wt){return Wt===void 0}function Tt(Wt){return mt(Wt)&&Ft(Wt)==="[object RegExp]"}function mt(Wt){return typeof Wt=="object"&&Wt!==null}function Nt(Wt){return mt(Wt)&&Ft(Wt)==="[object Date]"}function en(Wt){return mt(Wt)&&(Ft(Wt)==="[object Error]"||Wt instanceof Error)}function rn(Wt){return typeof Wt=="function"}function Ft(Wt){return Object.prototype.toString.call(Wt)}function St(Wt){return Wt<10?"0"+Wt.toString(10):Wt.toString(10)}o.debuglog=function(Wt){if(xt(et)&&(et=_.env.NODE_DEBUG||""),Wt=Wt.toUpperCase(),!j[Wt])if(new RegExp("\\b"+Wt+"\\b","i").test(et)){var Gt=_.pid;j[Wt]=function(){var Ht=o.format.apply(o,arguments);console.error("%s %d: %s",Wt,Gt,Ht)}}else j[Wt]=function(){};return j[Wt]},o.inspect=nt,nt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=ut,o.isBoolean=yt,o.isNull=wt,o.isNullOrUndefined=function(Wt){return Wt==null},o.isNumber=Qt,o.isString=It,o.isSymbol=function(Wt){return typeof Wt=="symbol"},o.isUndefined=xt,o.isRegExp=Tt,o.isObject=mt,o.isDate=Nt,o.isError=en,o.isFunction=rn,o.isPrimitive=function(Wt){return Wt===null||typeof Wt=="boolean"||typeof Wt=="number"||typeof Wt=="string"||typeof Wt=="symbol"||Wt===void 0},o.isBuffer=s(107);var Pt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bt(){var Wt=new Date,Gt=[St(Wt.getHours()),St(Wt.getMinutes()),St(Wt.getSeconds())].join(":");return[Wt.getDate(),Pt[Wt.getMonth()],Gt].join(" ")}function jt(Wt,Gt){return Object.prototype.hasOwnProperty.call(Wt,Gt)}o.log=function(){console.log("%s - %s",Bt(),o.format.apply(o,arguments))},o.inherits=s(108),o._extend=function(Wt,Gt){if(!Gt||!mt(Gt))return Wt;for(var Ht=Object.keys(Gt),kt=Ht.length;kt--;)Wt[Ht[kt]]=Gt[Ht[kt]];return Wt};var qt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Zt(Wt,Gt){if(!Wt){var Ht=new Error("Promise was rejected with a falsy value");Ht.reason=Wt,Wt=Ht}return Gt(Wt)}o.promisify=function(Wt){if(typeof Wt!="function")throw new TypeError('The "original" argument must be of type Function');if(qt&&Wt[qt]){var Gt;if(typeof(Gt=Wt[qt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Gt,qt,{value:Gt,enumerable:!1,writable:!1,configurable:!0}),Gt}function Gt(){for(var Ht,kt,Rt=new Promise(function(Un,Fn){Ht=Un,kt=Fn}),$t=[],nn=0;nn<arguments.length;nn++)$t.push(arguments[nn]);$t.push(function(Un,Fn){Un?kt(Un):Ht(Fn)});try{Wt.apply(this,$t)}catch(Un){kt(Un)}return Rt}return Object.setPrototypeOf(Gt,Object.getPrototypeOf(Wt)),qt&&Object.defineProperty(Gt,qt,{value:Gt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Gt,$(Wt))},o.promisify.custom=qt,o.callbackify=function(Wt){if(typeof Wt!="function")throw new TypeError('The "original" argument must be of type Function');function Gt(){for(var Ht=[],kt=0;kt<arguments.length;kt++)Ht.push(arguments[kt]);var Rt=Ht.pop();if(typeof Rt!="function")throw new TypeError("The last argument must be of type Function");var $t=this,nn=function(){return Rt.apply($t,arguments)};Wt.apply(this,Ht).then(function(Un){_.nextTick(nn,null,Un)},function(Un){_.nextTick(Zt,Un,nn)})}return Object.setPrototypeOf(Gt,Object.getPrototypeOf(Wt)),Object.defineProperties(Gt,$(Wt)),Gt}}).call(this,s(2))},function(i,o,s){i.exports=function(_,$){$||($={}),typeof $=="function"&&($={cmp:$});var _e,et=typeof $.cycles=="boolean"&&$.cycles,j=$.cmp&&(_e=$.cmp,function(ot){return function(ct,gt){var pt={key:ct,value:ot[ct]},ft={key:gt,value:ot[gt]};return _e(pt,ft)}}),nt=[];return function ot(ct){if(ct&&ct.toJSON&&typeof ct.toJSON=="function"&&(ct=ct.toJSON()),ct!==void 0){if(typeof ct=="number")return isFinite(ct)?""+ct:"null";if(typeof ct!="object")return JSON.stringify(ct);var gt,pt;if(Array.isArray(ct)){for(pt="[",gt=0;gt<ct.length;gt++)gt&&(pt+=","),pt+=ot(ct[gt])||"null";return pt+"]"}if(ct===null)return"null";if(nt.indexOf(ct)!==-1){if(et)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var ft=nt.push(ct)-1,ut=Object.keys(ct).sort(j&&j(ct));for(pt="",gt=0;gt<ut.length;gt++){var yt=ut[gt],wt=ot(ct[yt]);wt&&(pt&&(pt+=","),pt+=JSON.stringify(yt)+":"+wt)}return nt.splice(ft,1),"{"+pt+"}"}}(_)}},function(i,o,s){(function(_){var $=_!==void 0&&_||typeof self<"u"&&self||window,_e=Function.prototype.apply;function et(j,nt){this._id=j,this._clearFn=nt}o.setTimeout=function(){return new et(_e.call(setTimeout,$,arguments),clearTimeout)},o.setInterval=function(){return new et(_e.call(setInterval,$,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(j){j&&j.close()},et.prototype.unref=et.prototype.ref=function(){},et.prototype.close=function(){this._clearFn.call($,this._id)},o.enroll=function(j,nt){clearTimeout(j._idleTimeoutId),j._idleTimeout=nt},o.unenroll=function(j){clearTimeout(j._idleTimeoutId),j._idleTimeout=-1},o._unrefActive=o.active=function(j){clearTimeout(j._idleTimeoutId);var nt=j._idleTimeout;nt>=0&&(j._idleTimeoutId=setTimeout(function(){j._onTimeout&&j._onTimeout()},nt))},s(141),o.setImmediate=typeof self<"u"&&self.setImmediate||_!==void 0&&_.setImmediate||this&&this.setImmediate,o.clearImmediate=typeof self<"u"&&self.clearImmediate||_!==void 0&&_.clearImmediate||this&&this.clearImmediate}).call(this,s(6))},function(i,o,s){(function(_){_===void 0||!_.version||_.version.indexOf("v0.")===0||_.version.indexOf("v1.")===0&&_.version.indexOf("v1.8.")!==0?i.exports={nextTick:function($,_e,et,j){if(typeof $!="function")throw new TypeError('"callback" argument must be a function');var nt,ot,ct=arguments.length;switch(ct){case 0:case 1:return _.nextTick($);case 2:return _.nextTick(function(){$.call(null,_e)});case 3:return _.nextTick(function(){$.call(null,_e,et)});case 4:return _.nextTick(function(){$.call(null,_e,et,j)});default:for(nt=new Array(ct-1),ot=0;ot<nt.length;)nt[ot++]=arguments[ot];return _.nextTick(function(){$.apply(null,nt)})}}}:i.exports=_}).call(this,s(2))},function(i,o,s){(function(_){function $(_e){return Object.prototype.toString.call(_e)}o.isArray=function(_e){return Array.isArray?Array.isArray(_e):$(_e)==="[object Array]"},o.isBoolean=function(_e){return typeof _e=="boolean"},o.isNull=function(_e){return _e===null},o.isNullOrUndefined=function(_e){return _e==null},o.isNumber=function(_e){return typeof _e=="number"},o.isString=function(_e){return typeof _e=="string"},o.isSymbol=function(_e){return typeof _e=="symbol"},o.isUndefined=function(_e){return _e===void 0},o.isRegExp=function(_e){return $(_e)==="[object RegExp]"},o.isObject=function(_e){return typeof _e=="object"&&_e!==null},o.isDate=function(_e){return $(_e)==="[object Date]"},o.isError=function(_e){return $(_e)==="[object Error]"||_e instanceof Error},o.isFunction=function(_e){return typeof _e=="function"},o.isPrimitive=function(_e){return _e===null||typeof _e=="boolean"||typeof _e=="number"||typeof _e=="string"||typeof _e=="symbol"||_e===void 0},o.isBuffer=_.isBuffer}).call(this,s(5).Buffer)},function(i,o){o.endianness=function(){return"LE"},o.hostname=function(){return typeof location<"u"?location.hostname:""},o.loadavg=function(){return[]},o.uptime=function(){return 0},o.freemem=function(){return Number.MAX_VALUE},o.totalmem=function(){return Number.MAX_VALUE},o.cpus=function(){return[]},o.type=function(){return"Browser"},o.release=function(){return typeof navigator<"u"?navigator.appVersion:""},o.networkInterfaces=o.getNetworkInterfaces=function(){return{}},o.arch=function(){return"javascript"},o.platform=function(){return"browser"},o.tmpdir=o.tmpDir=function(){return"/tmp"},o.EOL=`
`,o.homedir=function(){return"/"}},function(i,o,s){var _=s(58),$=s(61).warn,_e=o;_e.version=s(138).version,_e.transports=s(139),_e.config=s(50),_e.addColors=_.levels,_e.format=_.format,_e.createLogger=s(88),_e.ExceptionHandler=s(89),_e.RejectionHandler=s(93),_e.Container=s(210),_e.Transport=s(20),_e.loggers=new _e.Container;var et=_e.createLogger();Object.keys(_e.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(j){return _e[j]=function(){return et[j].apply(et,arguments)}}),Object.defineProperty(_e,"level",{get:function(){return et.level},set:function(j){et.level=j}}),Object.defineProperty(_e,"exceptions",{get:function(){return et.exceptions}}),["exitOnError"].forEach(function(j){Object.defineProperty(_e,j,{get:function(){return et[j]},set:function(nt){et[j]=nt}})}),Object.defineProperty(_e,"default",{get:function(){return{exceptionHandlers:et.exceptionHandlers,rejectionHandlers:et.rejectionHandlers,transports:et.transports}}}),$.deprecated(_e,"setLevels"),$.forFunctions(_e,"useFormat",["cli"]),$.forProperties(_e,"useFormat",["padLevels","stripColors"]),$.forFunctions(_e,"deprecated",["addRewriter","addFilter","clone","extend"]),$.forProperties(_e,"deprecated",["emitErrs","levelLength"]),$.moved(_e,"createLogger","Logger")},function(i,o,s){var _=s(13),$=s(142),_e=s(3).LEVEL,et=i.exports=function(){var j=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:nt.highWaterMark}),this.format=nt.format,this.level=nt.level,this.handleExceptions=nt.handleExceptions,this.handleRejections=nt.handleRejections,this.silent=nt.silent,nt.log&&(this.log=nt.log),nt.logv&&(this.logv=nt.logv),nt.close&&(this.close=nt.close),this.once("pipe",function(ot){j.levels=ot.levels,j.parent=ot}),this.once("unpipe",function(ot){ot===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(et,$),et.prototype._write=function(j,nt,ot){if(this.silent||j.exception===!0&&!this.handleExceptions)return ot(null);var ct=this.level||this.parent&&this.parent.level;if(!ct||this.levels[ct]>=this.levels[j[_e]]){if(j&&!this.format)return this.log(j,ot);var gt=void 0,pt=void 0;try{pt=this.format.transform(Object.assign({},j),this.format.options)}catch(ft){gt=ft}if(gt||!pt){if(ot(),gt)throw gt;return}return this.log(pt,ot)}return ot(null)},et.prototype._writev=function(j,nt){if(this.logv){var ot=j.filter(this._accept,this);return ot.length?this.logv(ot,nt):nt(null)}for(var ct=0;ct<j.length;ct++)if(this._accept(j[ct]))if(!j[ct].chunk||this.format){var gt=void 0,pt=void 0;try{pt=this.format.transform(Object.assign({},j[ct].chunk),this.format.options)}catch(ft){gt=ft}if(gt||!pt){if(j[ct].callback(),gt)throw nt(null),gt}else this.log(pt,j[ct].callback)}else this.log(j[ct].chunk,j[ct].callback);return nt(null)},et.prototype._accept=function(j){var nt=j.chunk;if(this.silent)return!1;var ot=this.level||this.parent&&this.parent.level;return!(nt.exception!==!0&&ot&&!(this.levels[ot]>=this.levels[nt[_e]])||!this.handleExceptions&&nt.exception===!0)},et.prototype._nop=function(){},i.exports.LegacyTransportStream=s(148)},function(i,o,s){var _,$=typeof Reflect=="object"?Reflect:null,_e=$&&typeof $.apply=="function"?$.apply:function(wt,Qt,It){return Function.prototype.apply.call(wt,Qt,It)};_=$&&typeof $.ownKeys=="function"?$.ownKeys:Object.getOwnPropertySymbols?function(wt){return Object.getOwnPropertyNames(wt).concat(Object.getOwnPropertySymbols(wt))}:function(wt){return Object.getOwnPropertyNames(wt)};var et=Number.isNaN||function(wt){return wt!=wt};function j(){j.init.call(this)}i.exports=j,j.EventEmitter=j,j.prototype._events=void 0,j.prototype._eventsCount=0,j.prototype._maxListeners=void 0;var nt=10;function ot(wt){return wt._maxListeners===void 0?j.defaultMaxListeners:wt._maxListeners}function ct(wt,Qt,It,xt){var Tt,mt,Nt,en;if(typeof It!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof It);if((mt=wt._events)===void 0?(mt=wt._events=Object.create(null),wt._eventsCount=0):(mt.newListener!==void 0&&(wt.emit("newListener",Qt,It.listener?It.listener:It),mt=wt._events),Nt=mt[Qt]),Nt===void 0)Nt=mt[Qt]=It,++wt._eventsCount;else if(typeof Nt=="function"?Nt=mt[Qt]=xt?[It,Nt]:[Nt,It]:xt?Nt.unshift(It):Nt.push(It),(Tt=ot(wt))>0&&Nt.length>Tt&&!Nt.warned){Nt.warned=!0;var rn=new Error("Possible EventEmitter memory leak detected. "+Nt.length+" "+String(Qt)+" listeners added. Use emitter.setMaxListeners() to increase limit");rn.name="MaxListenersExceededWarning",rn.emitter=wt,rn.type=Qt,rn.count=Nt.length,en=rn,console&&console.warn&&console.warn(en)}return wt}function gt(){for(var wt=[],Qt=0;Qt<arguments.length;Qt++)wt.push(arguments[Qt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,_e(this.listener,this.target,wt))}function pt(wt,Qt,It){var xt={fired:!1,wrapFn:void 0,target:wt,type:Qt,listener:It},Tt=gt.bind(xt);return Tt.listener=It,xt.wrapFn=Tt,Tt}function ft(wt,Qt,It){var xt=wt._events;if(xt===void 0)return[];var Tt=xt[Qt];return Tt===void 0?[]:typeof Tt=="function"?It?[Tt.listener||Tt]:[Tt]:It?function(mt){for(var Nt=new Array(mt.length),en=0;en<Nt.length;++en)Nt[en]=mt[en].listener||mt[en];return Nt}(Tt):yt(Tt,Tt.length)}function ut(wt){var Qt=this._events;if(Qt!==void 0){var It=Qt[wt];if(typeof It=="function")return 1;if(It!==void 0)return It.length}return 0}function yt(wt,Qt){for(var It=new Array(Qt),xt=0;xt<Qt;++xt)It[xt]=wt[xt];return It}Object.defineProperty(j,"defaultMaxListeners",{enumerable:!0,get:function(){return nt},set:function(wt){if(typeof wt!="number"||wt<0||et(wt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+wt+".");nt=wt}}),j.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(wt){if(typeof wt!="number"||wt<0||et(wt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+wt+".");return this._maxListeners=wt,this},j.prototype.getMaxListeners=function(){return ot(this)},j.prototype.emit=function(wt){for(var Qt=[],It=1;It<arguments.length;It++)Qt.push(arguments[It]);var xt=wt==="error",Tt=this._events;if(Tt!==void 0)xt=xt&&Tt.error===void 0;else if(!xt)return!1;if(xt){var mt;if(Qt.length>0&&(mt=Qt[0]),mt instanceof Error)throw mt;var Nt=new Error("Unhandled error."+(mt?" ("+mt.message+")":""));throw Nt.context=mt,Nt}var en=Tt[wt];if(en===void 0)return!1;if(typeof en=="function")_e(en,this,Qt);else{var rn=en.length,Ft=yt(en,rn);for(It=0;It<rn;++It)_e(Ft[It],this,Qt)}return!0},j.prototype.addListener=function(wt,Qt){return ct(this,wt,Qt,!1)},j.prototype.on=j.prototype.addListener,j.prototype.prependListener=function(wt,Qt){return ct(this,wt,Qt,!0)},j.prototype.once=function(wt,Qt){if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);return this.on(wt,pt(this,wt,Qt)),this},j.prototype.prependOnceListener=function(wt,Qt){if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);return this.prependListener(wt,pt(this,wt,Qt)),this},j.prototype.removeListener=function(wt,Qt){var It,xt,Tt,mt,Nt;if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);if((xt=this._events)===void 0)return this;if((It=xt[wt])===void 0)return this;if(It===Qt||It.listener===Qt)--this._eventsCount==0?this._events=Object.create(null):(delete xt[wt],xt.removeListener&&this.emit("removeListener",wt,It.listener||Qt));else if(typeof It!="function"){for(Tt=-1,mt=It.length-1;mt>=0;mt--)if(It[mt]===Qt||It[mt].listener===Qt){Nt=It[mt].listener,Tt=mt;break}if(Tt<0)return this;Tt===0?It.shift():function(en,rn){for(;rn+1<en.length;rn++)en[rn]=en[rn+1];en.pop()}(It,Tt),It.length===1&&(xt[wt]=It[0]),xt.removeListener!==void 0&&this.emit("removeListener",wt,Nt||Qt)}return this},j.prototype.off=j.prototype.removeListener,j.prototype.removeAllListeners=function(wt){var Qt,It,xt;if((It=this._events)===void 0)return this;if(It.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):It[wt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete It[wt]),this;if(arguments.length===0){var Tt,mt=Object.keys(It);for(xt=0;xt<mt.length;++xt)(Tt=mt[xt])!=="removeListener"&&this.removeAllListeners(Tt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Qt=It[wt])=="function")this.removeListener(wt,Qt);else if(Qt!==void 0)for(xt=Qt.length-1;xt>=0;xt--)this.removeListener(wt,Qt[xt]);return this},j.prototype.listeners=function(wt){return ft(this,wt,!0)},j.prototype.rawListeners=function(wt){return ft(this,wt,!1)},j.listenerCount=function(wt,Qt){return typeof wt.listenerCount=="function"?wt.listenerCount(Qt):ut.call(wt,Qt)},j.prototype.listenerCount=ut,j.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]}},function(i,o,s){var _=s(147).Buffer,$=_.isEncoding||function(ut){switch((ut=""+ut)&&ut.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _e(ut){var yt;switch(this.encoding=function(wt){var Qt=function(It){if(!It)return"utf8";for(var xt;;)switch(It){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return It;default:if(xt)return;It=(""+It).toLowerCase(),xt=!0}}(wt);if(typeof Qt!="string"&&(_.isEncoding===$||!$(wt)))throw new Error("Unknown encoding: "+wt);return Qt||wt}(ut),this.encoding){case"utf16le":this.text=nt,this.end=ot,yt=4;break;case"utf8":this.fillLast=j,yt=4;break;case"base64":this.text=ct,this.end=gt,yt=3;break;default:return this.write=pt,void(this.end=ft)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(yt)}function et(ut){return ut<=127?0:ut>>5==6?2:ut>>4==14?3:ut>>3==30?4:ut>>6==2?-1:-2}function j(ut){var yt=this.lastTotal-this.lastNeed,wt=function(Qt,It,xt){if((192&It[0])!=128)return Qt.lastNeed=0,"�";if(Qt.lastNeed>1&&It.length>1){if((192&It[1])!=128)return Qt.lastNeed=1,"�";if(Qt.lastNeed>2&&It.length>2&&(192&It[2])!=128)return Qt.lastNeed=2,"�"}}(this,ut);return wt!==void 0?wt:this.lastNeed<=ut.length?(ut.copy(this.lastChar,yt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ut.copy(this.lastChar,yt,0,ut.length),void(this.lastNeed-=ut.length))}function nt(ut,yt){if((ut.length-yt)%2==0){var wt=ut.toString("utf16le",yt);if(wt){var Qt=wt.charCodeAt(wt.length-1);if(Qt>=55296&&Qt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ut[ut.length-2],this.lastChar[1]=ut[ut.length-1],wt.slice(0,-1)}return wt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ut[ut.length-1],ut.toString("utf16le",yt,ut.length-1)}function ot(ut){var yt=ut&&ut.length?this.write(ut):"";if(this.lastNeed){var wt=this.lastTotal-this.lastNeed;return yt+this.lastChar.toString("utf16le",0,wt)}return yt}function ct(ut,yt){var wt=(ut.length-yt)%3;return wt===0?ut.toString("base64",yt):(this.lastNeed=3-wt,this.lastTotal=3,wt===1?this.lastChar[0]=ut[ut.length-1]:(this.lastChar[0]=ut[ut.length-2],this.lastChar[1]=ut[ut.length-1]),ut.toString("base64",yt,ut.length-wt))}function gt(ut){var yt=ut&&ut.length?this.write(ut):"";return this.lastNeed?yt+this.lastChar.toString("base64",0,3-this.lastNeed):yt}function pt(ut){return ut.toString(this.encoding)}function ft(ut){return ut&&ut.length?this.write(ut):""}o.StringDecoder=_e,_e.prototype.write=function(ut){if(ut.length===0)return"";var yt,wt;if(this.lastNeed){if((yt=this.fillLast(ut))===void 0)return"";wt=this.lastNeed,this.lastNeed=0}else wt=0;return wt<ut.length?yt?yt+this.text(ut,wt):this.text(ut,wt):yt||""},_e.prototype.end=function(ut){var yt=ut&&ut.length?this.write(ut):"";return this.lastNeed?yt+"�":yt},_e.prototype.text=function(ut,yt){var wt=function(It,xt,Tt){var mt=xt.length-1;if(mt<Tt)return 0;var Nt=et(xt[mt]);return Nt>=0?(Nt>0&&(It.lastNeed=Nt-1),Nt):--mt<Tt||Nt===-2?0:(Nt=et(xt[mt]))>=0?(Nt>0&&(It.lastNeed=Nt-2),Nt):--mt<Tt||Nt===-2?0:(Nt=et(xt[mt]))>=0?(Nt>0&&(Nt===2?Nt=0:It.lastNeed=Nt-3),Nt):0}(this,ut,yt);if(!this.lastNeed)return ut.toString("utf8",yt);this.lastTotal=wt;var Qt=ut.length-(wt-this.lastNeed);return ut.copy(this.lastChar,0,Qt),ut.toString("utf8",yt,Qt)},_e.prototype.fillLast=function(ut){if(this.lastNeed<=ut.length)return ut.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ut.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ut.length),this.lastNeed-=ut.length}},function(i,o,s){var _=s(16),$=Object.keys||function(ut){var yt=[];for(var wt in ut)yt.push(wt);return yt};i.exports=gt;var _e=s(17);_e.inherits=s(7);var et=s(69),j=s(48);_e.inherits(gt,et);for(var nt=$(j.prototype),ot=0;ot<nt.length;ot++){var ct=nt[ot];gt.prototype[ct]||(gt.prototype[ct]=j.prototype[ct])}function gt(ut){if(!(this instanceof gt))return new gt(ut);et.call(this,ut),j.call(this,ut),ut&&ut.readable===!1&&(this.readable=!1),ut&&ut.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ut&&ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",pt)}function pt(){this.allowHalfOpen||this._writableState.ended||_.nextTick(ft,this)}function ft(ut){ut.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}}),gt.prototype._destroy=function(ut,yt){this.push(null),this.end(),_.nextTick(yt,ut)}},function(i,o,s){(function(_){function $(Jt){var dn=0;return function(){return dn<Jt.length?{done:!1,value:Jt[dn++]}:{done:!0}}}var _e=typeof Object.defineProperties=="function"?Object.defineProperty:function(Jt,dn,Qn){Jt!=Array.prototype&&Jt!=Object.prototype&&(Jt[dn]=Qn.value)},et=function(Jt){Jt=[typeof window=="object"&&window,typeof self=="object"&&self,typeof _=="object"&&_,Jt];for(var dn=0;dn<Jt.length;++dn){var Qn=Jt[dn];if(Qn&&Qn.Math==Math)return Qn}throw Error("Cannot find global object")}(this);function j(Jt,dn){if(dn){var Qn=et;Jt=Jt.split(".");for(var In=0;In<Jt.length-1;In++){var qn=Jt[In];qn in Qn||(Qn[qn]={}),Qn=Qn[qn]}(dn=dn(In=Qn[Jt=Jt[Jt.length-1]]))!=In&&dn!=null&&_e(Qn,Jt,{configurable:!0,writable:!0,value:dn})}}function nt(Jt){var dn=typeof Symbol<"u"&&Symbol.iterator&&Jt[Symbol.iterator];return dn?dn.call(Jt):{next:$(Jt)}}j("Object.is",function(Jt){return Jt||function(dn,Qn){return dn===Qn?dn!==0||1/dn==1/Qn:dn!=dn&&Qn!=Qn}}),j("Array.prototype.includes",function(Jt){return Jt||function(dn,Qn){var In=this;In instanceof String&&(In=String(In));var qn=In.length;for(0>(Qn=Qn||0)&&(Qn=Math.max(Qn+qn,0));Qn<qn;Qn++){var pr=In[Qn];if(pr===dn||Object.is(pr,dn))return!0}return!1}}),j("Promise",function(Jt){function dn(Gn){this.b=0,this.c=void 0,this.a=[];var lr=this.f();try{Gn(lr.resolve,lr.reject)}catch(Cr){lr.reject(Cr)}}function Qn(){this.a=null}function In(Gn){return Gn instanceof dn?Gn:new dn(function(lr){lr(Gn)})}if(Jt)return Jt;Qn.prototype.b=function(Gn){if(this.a==null){this.a=[];var lr=this;this.c(function(){lr.g()})}this.a.push(Gn)};var qn=et.setTimeout;Qn.prototype.c=function(Gn){qn(Gn,0)},Qn.prototype.g=function(){for(;this.a&&this.a.length;){var Gn=this.a;this.a=[];for(var lr=0;lr<Gn.length;++lr){var Cr=Gn[lr];Gn[lr]=null;try{Cr()}catch(Mr){this.f(Mr)}}}this.a=null},Qn.prototype.f=function(Gn){this.c(function(){throw Gn})},dn.prototype.f=function(){function Gn(Mr){return function(Yr){Cr||(Cr=!0,Mr.call(lr,Yr))}}var lr=this,Cr=!1;return{resolve:Gn(this.m),reject:Gn(this.g)}},dn.prototype.m=function(Gn){if(Gn===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Gn instanceof dn)this.o(Gn);else{e:switch(typeof Gn){case"object":var lr=Gn!=null;break e;case"function":lr=!0;break e;default:lr=!1}lr?this.l(Gn):this.h(Gn)}},dn.prototype.l=function(Gn){var lr=void 0;try{lr=Gn.then}catch(Cr){return void this.g(Cr)}typeof lr=="function"?this.u(lr,Gn):this.h(Gn)},dn.prototype.g=function(Gn){this.i(2,Gn)},dn.prototype.h=function(Gn){this.i(1,Gn)},dn.prototype.i=function(Gn,lr){if(this.b!=0)throw Error("Cannot settle("+Gn+", "+lr+"): Promise already settled in state"+this.b);this.b=Gn,this.c=lr,this.j()},dn.prototype.j=function(){if(this.a!=null){for(var Gn=0;Gn<this.a.length;++Gn)pr.b(this.a[Gn]);this.a=null}};var pr=new Qn;return dn.prototype.o=function(Gn){var lr=this.f();Gn.w(lr.resolve,lr.reject)},dn.prototype.u=function(Gn,lr){var Cr=this.f();try{Gn.call(lr,Cr.resolve,Cr.reject)}catch(Mr){Cr.reject(Mr)}},dn.prototype.then=function(Gn,lr){function Cr(Uo,Mo){return typeof Uo=="function"?function(Ko){try{Mr(Uo(Ko))}catch(is){Yr(is)}}:Mo}var Mr,Yr,Po=new dn(function(Uo,Mo){Mr=Uo,Yr=Mo});return this.w(Cr(Gn,Mr),Cr(lr,Yr)),Po},dn.prototype.catch=function(Gn){return this.then(void 0,Gn)},dn.prototype.w=function(Gn,lr){function Cr(){switch(Mr.b){case 1:Gn(Mr.c);break;case 2:lr(Mr.c);break;default:throw Error("Unexpected state: "+Mr.b)}}var Mr=this;this.a==null?pr.b(Cr):this.a.push(Cr)},dn.resolve=In,dn.reject=function(Gn){return new dn(function(lr,Cr){Cr(Gn)})},dn.race=function(Gn){return new dn(function(lr,Cr){for(var Mr=nt(Gn),Yr=Mr.next();!Yr.done;Yr=Mr.next())In(Yr.value).w(lr,Cr)})},dn.all=function(Gn){var lr=nt(Gn),Cr=lr.next();return Cr.done?In([]):new dn(function(Mr,Yr){function Po(Ko){return function(is){Uo[Ko]=is,--Mo==0&&Mr(Uo)}}var Uo=[],Mo=0;do Uo.push(void 0),Mo++,In(Cr.value).w(Po(Uo.length-1),Yr),Cr=lr.next();while(!Cr.done)})},dn});var ot=ot||{},ct=this||self;function gt(Jt,dn){Jt=Jt.split("."),dn=dn||ct;for(var Qn=0;Qn<Jt.length;Qn++)if((dn=dn[Jt[Qn]])==null)return null;return dn}function pt(){}function ft(Jt){var dn=typeof Jt;if(dn=="object"){if(!Jt)return"null";if(Jt instanceof Array)return"array";if(Jt instanceof Object)return dn;var Qn=Object.prototype.toString.call(Jt);if(Qn=="[object Window]")return"object";if(Qn=="[object Array]"||typeof Jt.length=="number"&&Jt.splice!==void 0&&Jt.propertyIsEnumerable!==void 0&&!Jt.propertyIsEnumerable("splice"))return"array";if(Qn=="[object Function]"||Jt.call!==void 0&&Jt.propertyIsEnumerable!==void 0&&!Jt.propertyIsEnumerable("call"))return"function"}else if(dn=="function"&&Jt.call===void 0)return"object";return dn}function ut(Jt){var dn=typeof Jt;return dn=="object"&&Jt!=null||dn=="function"}function yt(Jt,dn,Qn){return Jt.call.apply(Jt.bind,arguments)}function wt(Jt,dn,Qn){if(!Jt)throw Error();if(2<arguments.length){var In=Array.prototype.slice.call(arguments,2);return function(){var qn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(qn,In),Jt.apply(dn,qn)}}return function(){return Jt.apply(dn,arguments)}}function Qt(Jt,dn,Qn){return(Qt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yt:wt).apply(null,arguments)}function It(Jt,dn){function Qn(){}Qn.prototype=dn.prototype,Jt.S=dn.prototype,Jt.prototype=new Qn,Jt.prototype.constructor=Jt}function xt(){this.a={}}function Tt(Jt,dn,Qn,In){this.f=Jt,this.c=dn,this.b=Qn,this.a=In}function mt(Jt,dn,Qn,In){Qn=Qn===void 0?{}:Qn,this.c=Jt,this.a=Qn,this.b=dn,this.f=In===void 0?null:In}function Nt(Jt,dn,Qn,In,qn,pr){this.name=Jt,this.a=qn,this.b=pr}function en(Jt,dn,Qn){Qn=Qn===void 0?{}:Qn;var In=In===void 0?new xt:In;return new Tt(dn,Jt,Qn,In)}function rn(Jt,dn,Qn,In){return In instanceof Nt?In:new Nt(Jt,Qn,In.b||dn.constructor,In.f,In.a,In.c)}function Ft(Jt){this.a=Jt}function St(Jt){switch(Jt){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function Pt(Jt){if(Error.captureStackTrace)Error.captureStackTrace(this,Pt);else{var dn=Error().stack;dn&&(this.stack=dn)}Jt&&(this.message=String(Jt))}function Bt(Jt,dn){for(var Qn="",In=(Jt=Jt.split("%s")).length-1,qn=0;qn<In;qn++)Qn+=Jt[qn]+(qn<dn.length?dn[qn]:"%s");Pt.call(this,Qn+Jt[In])}function jt(){this.j=null,this.i=[],this.l=0,this.b=qt,this.f=this.a=this.h=0,this.c=null,this.g=0}xt.prototype.get=function(Jt){return this.a[Jt]},xt.prototype.f=function(){return Object.keys(this.a)},Tt.prototype.getRequestMessage=function(){return this.f},Tt.prototype.getMethodDescriptor=function(){return this.c},Tt.prototype.getMetadata=function(){return this.b},Tt.prototype.getCallOptions=function(){return this.a},mt.prototype.getResponseMessage=function(){return this.c},mt.prototype.getMetadata=function(){return this.a},mt.prototype.getMethodDescriptor=function(){return this.b},mt.prototype.getStatus=function(){return this.f},Ft.prototype.on=function(Jt,dn){return Jt=="data"||Jt=="error"?this:this.a.on(Jt,dn)},Ft.prototype.removeListener=function(Jt,dn){return this.a.removeListener(Jt,dn)},Ft.prototype.cancel=function(){this.a.cancel()},It(Pt,Error),Pt.prototype.name="CustomError",It(Bt,Pt),Bt.prototype.name="AssertionError";var qt=0,Zt=1,Wt=2,Gt=3,Ht=0,kt=128;function Rt(Jt,dn,Qn,In){throw Jt.b=Gt,Jt.j="The stream is broken @"+Jt.l+"/"+Qn+". Error: "+In+`. With input:
`+dn,Error(Jt.j)}var $t=Array.prototype.indexOf?function(Jt,dn){return Array.prototype.indexOf.call(Jt,dn,void 0)}:function(Jt,dn){if(typeof Jt=="string")return typeof dn!="string"||dn.length!=1?-1:Jt.indexOf(dn,0);for(var Qn=0;Qn<Jt.length;Qn++)if(Qn in Jt&&Jt[Qn]===dn)return Qn;return-1},nn,Un=String.prototype.trim?function(Jt){return Jt.trim()}:function(Jt){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(Jt)[1]};function Fn(Jt,dn){return Jt.indexOf(dn)!=-1}function En(Jt,dn){return Jt<dn?-1:Jt>dn?1:0}e:{var fn=ct.navigator;if(fn){var sn=fn.userAgent;if(sn){nn=sn;break e}}nn=""}var Ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(Jt){var dn=1;Jt=Jt.split(":");for(var Qn=[];0<dn&&Jt.length;)Qn.push(Jt.shift()),dn--;return Jt.length&&Qn.push(Jt.join(":")),Qn}function Xt(Jt){return Xt[" "](Jt),Jt}Xt[" "]=pt;var _n,mn,xn=Fn(nn,"Opera"),On=Fn(nn,"Trident")||Fn(nn,"MSIE"),nr=Fn(nn,"Edge"),Nr=Fn(nn,"Gecko")&&!(Fn(nn.toLowerCase(),"webkit")&&!Fn(nn,"Edge"))&&!(Fn(nn,"Trident")||Fn(nn,"MSIE"))&&!Fn(nn,"Edge"),co=Fn(nn.toLowerCase(),"webkit")&&!Fn(nn,"Edge");function Zr(){var Jt=ct.document;return Jt?Jt.documentMode:void 0}e:{var mo="",qr=(mn=nn,Nr?/rv:([^\);]+)(\)|;)/.exec(mn):nr?/Edge\/([\d\.]+)/.exec(mn):On?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mn):co?/WebKit\/(\S+)/.exec(mn):xn?/(?:Version)[ \/]?(\S+)/.exec(mn):void 0);if(qr&&(mo=qr?qr[1]:""),On){var io=Zr();if(io!=null&&io>parseFloat(mo)){_n=String(io);break e}}_n=mo}var lo,Vo={};function Io(Jt){return function(dn,Qn){var In=Vo;return Object.prototype.hasOwnProperty.call(In,dn)?In[dn]:In[dn]=Qn(dn)}(Jt,function(){for(var dn=0,Qn=Un(String(_n)).split("."),In=Un(String(Jt)).split("."),qn=Math.max(Qn.length,In.length),pr=0;dn==0&&pr<qn;pr++){var Gn=Qn[pr]||"",lr=In[pr]||"";do{if(Gn=/(\d*)(\D*)(.*)/.exec(Gn)||["","","",""],lr=/(\d*)(\D*)(.*)/.exec(lr)||["","","",""],Gn[0].length==0&&lr[0].length==0)break;dn=En(Gn[1].length==0?0:parseInt(Gn[1],10),lr[1].length==0?0:parseInt(lr[1],10))||En(Gn[2].length==0,lr[2].length==0)||En(Gn[2],lr[2]),Gn=Gn[3],lr=lr[3]}while(dn==0)}return 0<=dn})}if(ct.document&&On){var Go=Zr();lo=Go||parseInt(_n,10)||void 0}else lo=void 0;var rs=lo;function $o(){this.F=this.F}$o.prototype.F=!1;var ds,ba=Object.freeze||function(Jt){return Jt};(ds=!On)||(ds=9<=Number(rs));var Ss=ds,Fs=On&&!Io("9"),Yl=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var Jt=!1,dn=Object.defineProperty({},"passive",{get:function(){Jt=!0}});try{ct.addEventListener("test",pt,dn),ct.removeEventListener("test",pt,dn)}catch{}return Jt}();function Ps(Jt,dn){this.type=Jt,this.a=this.target=dn,this.defaultPrevented=!1}function Cs(Jt,dn){if(Ps.call(this,Jt?Jt.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,Jt){var Qn=this.type=Jt.type,In=Jt.changedTouches&&Jt.changedTouches.length?Jt.changedTouches[0]:null;if(this.target=Jt.target||Jt.srcElement,this.a=dn,dn=Jt.relatedTarget){if(Nr){e:{try{Xt(dn.nodeName);var qn=!0;break e}catch{}qn=!1}qn||(dn=null)}}else Qn=="mouseover"?dn=Jt.fromElement:Qn=="mouseout"&&(dn=Jt.toElement);this.relatedTarget=dn,In?(this.clientX=In.clientX!==void 0?In.clientX:In.pageX,this.clientY=In.clientY!==void 0?In.clientY:In.pageY,this.screenX=In.screenX||0,this.screenY=In.screenY||0):(this.clientX=Jt.clientX!==void 0?Jt.clientX:Jt.pageX,this.clientY=Jt.clientY!==void 0?Jt.clientY:Jt.pageY,this.screenX=Jt.screenX||0,this.screenY=Jt.screenY||0),this.button=Jt.button,this.key=Jt.key||"",this.ctrlKey=Jt.ctrlKey,this.altKey=Jt.altKey,this.shiftKey=Jt.shiftKey,this.metaKey=Jt.metaKey,this.pointerId=Jt.pointerId||0,this.pointerType=typeof Jt.pointerType=="string"?Jt.pointerType:gu[Jt.pointerType]||"",this.c=Jt,Jt.defaultPrevented&&this.b()}}Ps.prototype.b=function(){this.defaultPrevented=!0},It(Cs,Ps);var gu=ba({2:"touch",3:"pen",4:"mouse"});Cs.prototype.b=function(){Cs.S.b.call(this);var Jt=this.c;if(Jt.preventDefault)Jt.preventDefault();else if(Jt.returnValue=!1,Fs)try{(Jt.ctrlKey||112<=Jt.keyCode&&123>=Jt.keyCode)&&(Jt.keyCode=-1)}catch{}};var Us="closure_listenable_"+(1e6*Math.random()|0),ru=0;function Gr(Jt,dn,Qn,In,qn){this.listener=Jt,this.proxy=null,this.src=dn,this.type=Qn,this.capture=!!In,this.A=qn,this.key=++ru,this.s=this.v=!1}function Cn(Jt){Jt.s=!0,Jt.listener=null,Jt.proxy=null,Jt.src=null,Jt.A=null}function Mn(Jt){this.src=Jt,this.a={},this.b=0}function Hn(Jt,dn){var Qn=dn.type;if(Qn in Jt.a){var In,qn=Jt.a[Qn],pr=$t(qn,dn);(In=0<=pr)&&Array.prototype.splice.call(qn,pr,1),In&&(Cn(dn),Jt.a[Qn].length==0&&(delete Jt.a[Qn],Jt.b--))}}function Jn(Jt,dn,Qn,In){for(var qn=0;qn<Jt.length;++qn){var pr=Jt[qn];if(!pr.s&&pr.listener==dn&&pr.capture==!!Qn&&pr.A==In)return qn}return-1}Mn.prototype.add=function(Jt,dn,Qn,In,qn){var pr=Jt.toString();(Jt=this.a[pr])||(Jt=this.a[pr]=[],this.b++);var Gn=Jn(Jt,dn,In,qn);return-1<Gn?(dn=Jt[Gn],Qn||(dn.v=!1)):((dn=new Gr(dn,this.src,pr,!!In,qn)).v=Qn,Jt.push(dn)),dn};var pn="closure_lm_"+(1e6*Math.random()|0),wn={};function Nn(Jt,dn,Qn,In,qn){if(In&&In.once)(function Gn(lr,Cr,Mr,Yr,Po){if(Array.isArray(Cr))for(var Uo=0;Uo<Cr.length;Uo++)Gn(lr,Cr[Uo],Mr,Yr,Po);else Mr=ir(Mr),lr&&lr[Us]?lr.f.add(String(Cr),Mr,!0,ut(Yr)?!!Yr.capture:!!Yr,Po):jn(lr,Cr,Mr,!0,Yr,Po)})(Jt,dn,Qn,In,qn);else if(Array.isArray(dn))for(var pr=0;pr<dn.length;pr++)Nn(Jt,dn[pr],Qn,In,qn);else Qn=ir(Qn),Jt&&Jt[Us]?Jt.f.add(String(dn),Qn,!1,ut(In)?!!In.capture:!!In,qn):jn(Jt,dn,Qn,!1,In,qn)}function jn(Jt,dn,Qn,In,qn,pr){if(!dn)throw Error("Invalid event type");var Gn=ut(qn)?!!qn.capture:!!qn,lr=Sn(Jt);if(lr||(Jt[pn]=lr=new Mn(Jt)),!(Qn=lr.add(dn,Qn,In,Gn,pr)).proxy)if(In=function(){var Cr=bn,Mr=Ss?function(Yr){return Cr.call(Mr.src,Mr.listener,Yr)}:function(Yr){if(!(Yr=Cr.call(Mr.src,Mr.listener,Yr)))return Yr};return Mr}(),Qn.proxy=In,In.src=Jt,In.listener=Qn,Jt.addEventListener)Yl||(qn=Gn),qn===void 0&&(qn=!1),Jt.addEventListener(dn.toString(),In,qn);else if(Jt.attachEvent)Jt.attachEvent(rr(dn.toString()),In);else{if(!Jt.addListener||!Jt.removeListener)throw Error("addEventListener and attachEvent are unavailable.");Jt.addListener(In)}}function Wn(Jt){if(typeof Jt!="number"&&Jt&&!Jt.s){var dn=Jt.src;if(dn&&dn[Us])Hn(dn.f,Jt);else{var Qn=Jt.type,In=Jt.proxy;dn.removeEventListener?dn.removeEventListener(Qn,In,Jt.capture):dn.detachEvent?dn.detachEvent(rr(Qn),In):dn.addListener&&dn.removeListener&&dn.removeListener(In),(Qn=Sn(dn))?(Hn(Qn,Jt),Qn.b==0&&(Qn.src=null,dn[pn]=null)):Cn(Jt)}}}function rr(Jt){return Jt in wn?wn[Jt]:wn[Jt]="on"+Jt}function Qr(Jt,dn,Qn,In){var qn=!0;if((Jt=Sn(Jt))&&(dn=Jt.a[dn.toString()]))for(dn=dn.concat(),Jt=0;Jt<dn.length;Jt++){var pr=dn[Jt];pr&&pr.capture==Qn&&!pr.s&&(pr=Vn(pr,In),qn=qn&&pr!==!1)}return qn}function Vn(Jt,dn){var Qn=Jt.listener,In=Jt.A||Jt.src;return Jt.v&&Wn(Jt),Qn.call(In,dn)}function bn(Jt,dn){if(Jt.s)return!0;if(!Ss){var Qn=dn||gt("window.event");dn=new Cs(Qn,this);var In=!0;if(!(0>Qn.keyCode||Qn.returnValue!=null)){e:{var qn=!1;if(Qn.keyCode==0)try{Qn.keyCode=-1;break e}catch{qn=!0}(qn||Qn.returnValue==null)&&(Qn.returnValue=!0)}for(Qn=[],qn=dn.a;qn;qn=qn.parentNode)Qn.push(qn);for(Jt=Jt.type,qn=Qn.length-1;0<=qn;qn--){dn.a=Qn[qn];var pr=Qr(Qn[qn],Jt,!0,dn);In=In&&pr}for(qn=0;qn<Qn.length;qn++)dn.a=Qn[qn],pr=Qr(Qn[qn],Jt,!1,dn),In=In&&pr}return In}return Vn(Jt,new Cs(dn,this))}function Sn(Jt){return(Jt=Jt[pn])instanceof Mn?Jt:null}var Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(Jt){return ft(Jt)=="function"?Jt:(Jt[Zn]||(Jt[Zn]=function(dn){return Jt.handleEvent(dn)}),Jt[Zn])}function hr(){$o.call(this),this.f=new Mn(this),this.N=this}function gr(Jt,dn){Jt=Jt.N;var Qn=dn.type||dn;if(typeof dn=="string")dn=new Ps(dn,Jt);else if(dn instanceof Ps)dn.target=dn.target||Jt;else{var In=dn;(function(qn,pr){for(var Gn,lr,Cr=1;Cr<arguments.length;Cr++){for(Gn in lr=arguments[Cr])qn[Gn]=lr[Gn];for(var Mr=0;Mr<Ct.length;Mr++)Gn=Ct[Mr],Object.prototype.hasOwnProperty.call(lr,Gn)&&(qn[Gn]=lr[Gn])}})(dn=new Ps(Qn,Jt),In)}Rr(Jt=dn.a=Jt,Qn,!0,dn),Rr(Jt,Qn,!1,dn)}function Rr(Jt,dn,Qn,In){if(dn=Jt.f.a[String(dn)]){dn=dn.concat();for(var qn=!0,pr=0;pr<dn.length;++pr){var Gn=dn[pr];if(Gn&&!Gn.s&&Gn.capture==Qn){var lr=Gn.listener,Cr=Gn.A||Gn.src;Gn.v&&Hn(Jt.f,Gn),qn=lr.call(Cr,In)!==!1&&qn}}}}function mr(Jt,dn,Qn){if(ft(Jt)=="function")Qn&&(Jt=Qt(Jt,Qn));else{if(!Jt||typeof Jt.handleEvent!="function")throw Error("Invalid listener argument");Jt=Qt(Jt.handleEvent,Jt)}return 2147483647<Number(dn)?-1:ct.setTimeout(Jt,dn||0)}function Er(Jt,dn,Qn){this.reset(Jt,dn,Qn,void 0,void 0)}It(hr,$o),hr.prototype[Us]=!0,hr.prototype.addEventListener=function(Jt,dn,Qn,In){Nn(this,Jt,dn,Qn,In)},hr.prototype.removeEventListener=function(Jt,dn,Qn,In){(function qn(pr,Gn,lr,Cr,Mr){if(Array.isArray(Gn))for(var Yr=0;Yr<Gn.length;Yr++)qn(pr,Gn[Yr],lr,Cr,Mr);else Cr=ut(Cr)?!!Cr.capture:!!Cr,lr=ir(lr),pr&&pr[Us]?(pr=pr.f,(Gn=String(Gn).toString())in pr.a&&-1<(lr=Jn(Yr=pr.a[Gn],lr,Cr,Mr))&&(Cn(Yr[lr]),Array.prototype.splice.call(Yr,lr,1),Yr.length==0&&(delete pr.a[Gn],pr.b--))):pr&&(pr=Sn(pr))&&(Gn=pr.a[Gn.toString()],pr=-1,Gn&&(pr=Jn(Gn,lr,Cr,Mr)),(lr=-1<pr?Gn[pr]:null)&&Wn(lr))})(this,Jt,dn,Qn,In)},Er.prototype.a=null;function Dr(Jt){this.f=Jt,this.b=this.c=this.a=null}function Kr(Jt,dn){this.name=Jt,this.value=dn}Er.prototype.reset=function(Jt,dn,Qn,In,qn){delete this.a},Kr.prototype.toString=function(){return this.name};var Hr=new Kr("SEVERE",1e3),wo=new Kr("CONFIG",700),To=new Kr("FINE",500);function Qo(Jt){return Jt.c?Jt.c:Jt.a?Qo(Jt.a):(function(dn,Qn){throw new Bt("Failure"+(dn?": "+dn:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}Dr.prototype.log=function(Jt,dn,Qn){if(Jt.value>=Qo(this).value)for(ft(dn)=="function"&&(dn=dn()),Jt=new Er(Jt,String(dn),this.f),Qn&&(Jt.a=Qn),Qn=this;Qn;)Qn=Qn.a};var Do,Zo={},as=null;function Eo(Jt,dn){Jt&&Jt.log(To,dn,void 0)}function Qs(){}function Bs(Jt){var dn;return(dn=Jt.a)||(dn={},zr(Jt)&&(dn[0]=!0,dn[1]=!0),dn=Jt.a=dn),dn}function Qu(){}function mu(Jt){return(Jt=zr(Jt))?new ActiveXObject(Jt):new XMLHttpRequest}function zr(Jt){if(!Jt.b&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var dn=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],Qn=0;Qn<dn.length;Qn++){var In=dn[Qn];try{return new ActiveXObject(In),Jt.b=In}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return Jt.b}function Fl(Jt,dn){this.b={},this.a=[],this.c=0;var Qn=arguments.length;if(1<Qn){if(Qn%2)throw Error("Uneven number of arguments");for(var In=0;In<Qn;In+=2)this.set(arguments[In],arguments[In+1])}else Jt&&yu(this,Jt)}function $s(Jt){if(Jt.c!=Jt.a.length){for(var dn=0,Qn=0;dn<Jt.a.length;){var In=Jt.a[dn];lu(Jt.b,In)&&(Jt.a[Qn++]=In),dn++}Jt.a.length=Qn}if(Jt.c!=Jt.a.length){var qn={};for(Qn=dn=0;dn<Jt.a.length;)lu(qn,In=Jt.a[dn])||(Jt.a[Qn++]=In,qn[In]=1),dn++;Jt.a.length=Qn}}function yu(Jt,dn){if(dn instanceof Fl)for(var Qn=dn.f(),In=0;In<Qn.length;In++)Jt.set(Qn[In],dn.get(Qn[In]));else for(Qn in dn)Jt.set(Qn,dn[Qn])}function lu(Jt,dn){return Object.prototype.hasOwnProperty.call(Jt,dn)}Qs.prototype.a=null,It(Qu,Qs),Do=new Qu,Fl.prototype.f=function(){return $s(this),this.a.concat()},Fl.prototype.get=function(Jt,dn){return lu(this.b,Jt)?this.b[Jt]:dn},Fl.prototype.set=function(Jt,dn){lu(this.b,Jt)||(this.c++,this.a.push(Jt)),this.b[Jt]=dn},Fl.prototype.forEach=function(Jt,dn){for(var Qn=this.f(),In=0;In<Qn.length;In++){var qn=Qn[In],pr=this.get(qn);Jt.call(dn,pr,qn,this)}};var xu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ql(Jt){hr.call(this),this.headers=new Fl,this.D=Jt||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=cm,this.B=this.H=!1}It(Ql,hr);var cm="",cp=Ql.prototype,Fo=function Jt(dn){var Qn;if(as||(as=new Dr(""),Zo[""]=as,as.c=wo),!(Qn=Zo[dn])){Qn=new Dr(dn);var In=dn.lastIndexOf("."),qn=dn.substr(In+1);(In=Jt(dn.substr(0,In))).b||(In.b={}),In.b[qn]=Qn,Qn.a=In,Zo[dn]=Qn}return Qn}("goog.net.XhrIo");cp.b=Fo;var us=/^https?$/i,fs=["POST","PUT"];function Au(Jt,dn,Qn){if(Jt.a)throw Error("[goog.net.XhrIo] Object is active with another request="+Jt.o+"; newUri="+dn);Jt.o=dn,Jt.i="",Jt.g=0,Jt.J="POST",Jt.G=!1,Jt.c=!0,Jt.a=Jt.D?mu(Jt.D):mu(Do),Jt.C=Jt.D?Bs(Jt.D):Bs(Do),Jt.a.onreadystatechange=Qt(Jt.K,Jt);try{Eo(Jt.b,zs(Jt,"Opening Xhr")),Jt.I=!0,Jt.a.open("POST",String(dn),!0),Jt.I=!1}catch(pr){return Eo(Jt.b,zs(Jt,"Error opening Xhr: "+pr.message)),void ss(Jt,pr)}dn=Qn||"";var In=function(pr){e:{for(var Gn=up,lr=pr.length,Cr=typeof pr=="string"?pr.split(""):pr,Mr=0;Mr<lr;Mr++)if(Mr in Cr&&Gn.call(void 0,Cr[Mr],Mr,pr)){Gn=Mr;break e}Gn=-1}return 0>Gn?null:typeof pr=="string"?pr.charAt(Gn):pr[Gn]}((Qn=new Fl(Jt.headers)).f()),qn=ct.FormData&&dn instanceof ct.FormData;!(0<=$t(fs,"POST"))||In||qn||Qn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Qn.forEach(function(pr,Gn){this.a.setRequestHeader(Gn,pr)},Jt),Jt.j&&(Jt.a.responseType=Jt.j),"withCredentials"in Jt.a&&Jt.a.withCredentials!==Jt.H&&(Jt.a.withCredentials=Jt.H);try{Pl(Jt),0<Jt.l&&(Jt.B=function(pr){return On&&Io(9)&&typeof pr.timeout=="number"&&pr.ontimeout!==void 0}(Jt.a),Eo(Jt.b,zs(Jt,"Will abort after "+Jt.l+"ms if incomplete, xhr2 "+Jt.B)),Jt.B?(Jt.a.timeout=Jt.l,Jt.a.ontimeout=Qt(Jt.L,Jt)):Jt.u=mr(Jt.L,Jt.l,Jt)),Eo(Jt.b,zs(Jt,"Sending request")),Jt.m=!0,Jt.a.send(dn),Jt.m=!1}catch(pr){Eo(Jt.b,zs(Jt,"Send error: "+pr.message)),ss(Jt,pr)}}function up(Jt){return Jt.toLowerCase()=="content-type"}function ss(Jt,dn){Jt.c=!1,Jt.a&&(Jt.h=!0,Jt.a.abort(),Jt.h=!1),Jt.i=dn,Jt.g=5,Zu(Jt),_u(Jt)}function Zu(Jt){Jt.G||(Jt.G=!0,gr(Jt,"complete"),gr(Jt,"error"))}function Gu(Jt){if(Jt.c&&ot!==void 0){if(Jt.C[1]&&_s(Jt)==4&&Jt.getStatus()==2)Eo(Jt.b,zs(Jt,"Local request error detected and ignored"));else if(Jt.m&&_s(Jt)==4)mr(Jt.K,0,Jt);else if(gr(Jt,"readystatechange"),_s(Jt)==4){Eo(Jt.b,zs(Jt,"Request complete")),Jt.c=!1;try{var dn,Qn=Jt.getStatus();e:switch(Qn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var In=!0;break e;default:In=!1}if(!(dn=In)){var qn;if(qn=Qn===0){var pr=String(Jt.o).match(xu)[1]||null;if(!pr&&ct.self&&ct.self.location){var Gn=ct.self.location.protocol;pr=Gn.substr(0,Gn.length-1)}qn=!us.test(pr?pr.toLowerCase():"")}dn=qn}if(dn)gr(Jt,"complete"),gr(Jt,"success");else{Jt.g=6;try{var lr=2<_s(Jt)?Jt.a.statusText:""}catch(Cr){Eo(Jt.b,"Can not get status: "+Cr.message),lr=""}Jt.i=lr+" ["+Jt.getStatus()+"]",Zu(Jt)}}finally{_u(Jt)}}}}function _u(Jt){if(Jt.a){Pl(Jt);var dn=Jt.a,Qn=Jt.C[0]?pt:null;Jt.a=null,Jt.C=null,gr(Jt,"ready");try{dn.onreadystatechange=Qn}catch(In){(Jt=Jt.b)&&Jt.log(Hr,"Problem encountered resetting onreadystatechange: "+In.message,void 0)}}}function Pl(Jt){Jt.a&&Jt.B&&(Jt.a.ontimeout=null),Jt.u&&(ct.clearTimeout(Jt.u),Jt.u=null)}function _s(Jt){return Jt.a?Jt.a.readyState:0}function Mm(Jt,dn){if(Jt.a&&_s(Jt)==4)return(Jt=Jt.a.getResponseHeader(dn))===null?void 0:Jt}function zs(Jt,dn){return dn+" ["+Jt.J+" "+Jt.o+" "+Jt.getStatus()+"]"}Ql.prototype.L=function(){ot!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,Eo(this.b,zs(this,this.i)),gr(this,"timeout"),this.abort(8))},Ql.prototype.abort=function(Jt){this.a&&this.c&&(Eo(this.b,zs(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=Jt||7,gr(this,"complete"),gr(this,"abort"),_u(this))},Ql.prototype.K=function(){this.F||(this.I||this.m||this.h?Gu(this):this.O())},Ql.prototype.O=function(){Gu(this)},Ql.prototype.getStatus=function(){try{return 2<_s(this)?this.a.status:-1}catch{return-1}};var Hu={},xa=null;function $u(Jt){var dn=Jt.length,Qn=3*dn/4;Qn%3?Qn=Math.floor(Qn):Fn("=.",Jt[dn-1])&&(Qn=Fn("=.",Jt[dn-2])?Qn-2:Qn-1);var In=new Uint8Array(Qn),qn=0;return function(pr,Gn){function lr(Mo){for(;Cr<pr.length;){var Ko=pr.charAt(Cr++),is=xa[Ko];if(is!=null)return is;if(!/^[\s\xa0]*$/.test(Ko))throw Error("Unknown base64 encoding at char: "+Ko)}return Mo}hp();for(var Cr=0;;){var Mr=lr(-1),Yr=lr(0),Po=lr(64),Uo=lr(64);if(Uo===64&&Mr===-1)break;Gn(Mr<<2|Yr>>4),Po!=64&&(Gn(Yr<<4&240|Po>>2),Uo!=64&&Gn(Po<<6&192|Uo))}}(Jt,function(pr){In[qn++]=pr}),In.subarray(0,qn)}function hp(){if(!xa){xa={};for(var Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),dn=["+/=","+/","-_=","-_.","-_"],Qn=0;5>Qn;Qn++){var In=Jt.concat(dn[Qn].split(""));Hu[Qn]=In;for(var qn=0;qn<In.length;qn++){var pr=In[qn];xa[pr]===void 0&&(xa[pr]=qn)}}}}var zp=["content-type","grpc-status","grpc-message"];function yl(Jt){this.a=Jt.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new jt;var dn=this;Nn(this.a,"readystatechange",function(){var Qn=dn.a;if(Qn=Qn.a?Qn.a.getResponseHeader("Content-Type"):null){if((Qn=Qn.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){Qn=dn.a;try{var In=Qn.a?Qn.a.responseText:""}catch(Mr){Eo(Qn.b,"Can not get responseText: "+Mr.message),In=""}if(In=(Qn=In||"").length-Qn.length%4,(Qn=Qn.substr(dn.i,In-dn.i)).length==0)return;dn.i=In,Qn=$u(Qn)}else{if(Qn.lastIndexOf("application/grpc",0)!=0)return void Ml(dn,{code:2,message:"Unknown Content-type received.",metadata:{}});Qn=new Uint8Array(function(Mr){try{if(!Mr.a)return null;if("response"in Mr.a)return Mr.a.response;switch(Mr.j){case cm:case"text":return Mr.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in Mr.a)return Mr.a.mozResponseArrayBuffer}var Yr=Mr.b;return Yr&&Yr.log(Hr,"Response type "+Mr.j+" is not supported on this browser",void 0),null}catch(Po){return Eo(Mr.b,"Can not get response: "+Po.message),null}}(dn.a))}In=null;try{In=function(Mr,Yr){function Po(cu){Co.f++,Co.a=(Co.a<<8)+cu,Co.f==4&&(Co.b=Wt,Co.g=0,typeof Uint8Array<"u"?Co.c=new Uint8Array(Co.a):Co.c=Array(Co.a),Co.a==0&&Mo())}function Uo(cu){Co.c[Co.g++]=cu,Co.g==Co.a&&Mo()}function Mo(){var cu={};cu[Co.h]=Co.c,Co.i.push(cu),Co.b=qt}var Ko,is,Co=Mr,Al=0;for(Ko=Yr instanceof Uint8Array||Yr instanceof Array?Yr:new Uint8Array(Yr);Al<Ko.length;){switch(Co.b){case Gt:Rt(Co,Ko,Al,"stream already broken");break;case qt:(is=Ko[Al])==Ht||is==kt?Co.h=is:Rt(Co,Ko,Al,"invalid frame byte"),Co.b=Zt,Co.a=0,Co.f=0;break;case Zt:Po(Ko[Al]);break;case Wt:Uo(Ko[Al]);break;default:throw Error("unexpected parser state: "+Co.b)}Co.l++,Al++}return Mr=Co.i,Co.i=[],0<Mr.length?Mr:null}(dn.m,Qn)}catch{Ml(dn,{code:2,message:"Error in parsing response body",metadata:{}})}if(In)for(Qn=0;Qn<In.length;Qn++){if(Ht in In[Qn]){var qn=In[Qn][Ht];if(qn)try{var pr=dn.l(qn);if(pr){qn=dn;for(var Gn=pr,lr=0;lr<qn.b.length;lr++)qn.b[lr](Gn)}}catch{Ml(dn,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(kt in In[Qn]&&0<In[Qn][kt].length){for(qn="",Gn=0;Gn<In[Qn][kt].length;Gn++)qn+=String.fromCharCode(In[Qn][kt][Gn]);for(qn=qn.trim().split(`\r
`),Gn={},lr=0;lr<qn.length;lr++){var Cr=qn[lr].indexOf(":");Gn[qn[lr].substring(0,Cr).trim()]=qn[lr].substring(Cr+1).trim()}qn=Gn,Gn=0,lr="","grpc-status"in qn&&(Gn=qn["grpc-status"],delete qn["grpc-status"]),"grpc-message"in qn&&(lr=qn["grpc-message"],delete qn["grpc-message"]),Ml(dn,{code:Number(Gn),message:lr,metadata:qn})}}}}),Nn(this.a,"complete",function(){var Qn=dn.a.g,In="",qn={},pr=function(lr){var Cr={};lr=(lr.a&&_s(lr)==4&&lr.a.getAllResponseHeaders()||"").split(`\r
`);for(var Mr=0;Mr<lr.length;Mr++)if(!/^[\s\xa0]*$/.test(lr[Mr])){var Yr=Dt(lr[Mr]),Po=Yr[0];if(typeof(Yr=Yr[1])=="string"){Yr=Yr.trim();var Uo=Cr[Po]||[];Cr[Po]=Uo,Uo.push(Yr)}}return function(Mo,Ko){var is,Co={};for(is in Mo)Co[is]=Ko.call(void 0,Mo[is],is,Mo);return Co}(Cr,function(Mo){return Mo.join(", ")})}(dn.a);if(Object.keys(pr).forEach(function(lr){zp.includes(lr)||(qn[lr]=pr[lr])}),function(lr,Cr){for(var Mr=0;Mr<lr.g.length;Mr++)lr.g[Mr](Cr)}(dn,qn),Qn!=0){switch(Qn){case 7:var Gn=10;break;case 8:Gn=4;break;case 6:Gn=function(lr){switch(lr){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(dn.a.getStatus());break;default:Gn=14}Gn==10&&dn.j||Ml(dn,{code:Gn,message:St(Qn),metadata:{}})}else Qn=!1,"grpc-status"in pr&&(Gn=Mm(dn.a,"grpc-status"),"grpc-message"in pr&&(In=Mm(dn.a,"grpc-message")),Number(Gn)!=0&&(Ml(dn,{code:Number(Gn),message:In,metadata:pr}),Qn=!0)),Qn||function(lr){for(var Cr=0;Cr<lr.c.length;Cr++)lr.c[Cr]()}(dn)})}function tu(Jt,dn){-1<(dn=Jt.indexOf(dn))&&Jt.splice(dn,1)}function Ml(Jt,dn){if(dn.code!=0)for(var Qn={code:dn.code,message:decodeURIComponent(dn.message||""),metadata:dn.metadata},In=0;In<Jt.f.length;In++)Jt.f[In](Qn);for(dn={code:dn.code,details:decodeURIComponent(dn.message||""),metadata:dn.metadata},Qn=0;Qn<Jt.h.length;Qn++)Jt.h[Qn](dn)}function vs(Jt){this.a=gt("format",Jt)||"text",this.f=gt("suppressCorsPreflight",Jt)||!1,this.c=gt("withCredentials",Jt)||!1,this.b=gt("streamInterceptors",Jt)||[],this.g=gt("unaryInterceptors",Jt)||[]}function Zs(Jt,dn,Qn){var In=dn.getMethodDescriptor(),qn=Qn+In.name;(Qn=new Ql).H=Jt.c;var pr=new yl({T:Qn});if(pr.l=In.b,yu(Qn.headers,dn.getMetadata()),Jt.a=="text"?(Qn.headers.set("Content-Type","application/grpc-web-text"),Qn.headers.set("Accept","application/grpc-web-text")):Qn.headers.set("Content-Type","application/grpc-web+proto"),Qn.headers.set("X-User-Agent","grpc-web-javascript/0.1"),Qn.headers.set("X-Grpc-Web","1"),lu(Qn.headers.b,"deadline")){var Gn=Qn.headers.get("deadline");Gn=Math.round(Gn-new Date().getTime());var lr=Qn.headers;lu(lr.b,"deadline")&&(delete lr.b.deadline,lr.c--,lr.a.length>2*lr.c&&$s(lr)),1/0===Gn&&(Gn=0),0<Gn&&Qn.headers.set("grpc-timeout",Gn+"m")}if(Jt.f){$s(lr=Qn.headers),Gn={};for(var Cr=0;Cr<lr.a.length;Cr++){var Mr=lr.a[Cr];Gn[Mr]=lr.b[Mr]}(lr=Qn.headers).b={},lr.a.length=0,lr.c=0;e:{for(Yr in Gn){var Yr=!1;break e}Yr=!0}Yr||(Gn=function(Mo){var Ko="";return function(is,Co){for(var Al in is)Co.call(void 0,is[Al],Al,is)}(Mo,function(is,Co){Ko+=Co,Ko+=":",Ko+=is,Ko+=`\r
`}),Ko}(Gn),typeof qn=="string"?(Yr=encodeURIComponent("$httpHeaders"),(Yr+=Gn=Gn!=null?"="+encodeURIComponent(String(Gn)):"")&&(0>(Gn=qn.indexOf("#"))&&(Gn=qn.length),0>(lr=qn.indexOf("?"))||lr>Gn?(lr=Gn,Cr=""):Cr=qn.substring(lr+1,Gn),Gn=(qn=[qn.substr(0,lr),Cr,qn.substr(Gn)])[1],qn[1]=Yr?Gn?Gn+"&"+Yr:Yr:Gn,qn=qn[0]+(qn[1]?"?"+qn[1]:"")+qn[2])):qn.a("$httpHeaders",Gn))}for(In=(dn=(0,In.a)(dn.getRequestMessage())).length,Yr=[0,0,0,0],Gn=new Uint8Array(5+In),lr=3;0<=lr;lr--)Yr[lr]=In%256,In>>>=8;if(Gn.set(new Uint8Array(Yr),1),Gn.set(dn,5),dn=Gn,Jt.a=="text"){var Po;for(Jt=dn,Po===void 0&&(Po=0),hp(),Po=Hu[Po],dn=[],In=0;In<Jt.length;In+=3){Mr=Jt[In];var Uo=(Yr=In+1<Jt.length)?Jt[In+1]:0;lr=Mr>>2,Mr=(3&Mr)<<4|Uo>>4,Uo=(15&Uo)<<2|(Cr=(Gn=In+2<Jt.length)?Jt[In+2]:0)>>6,Cr&=63,Gn||(Cr=64,Yr||(Uo=64)),dn.push(Po[lr],Po[Mr],Po[Uo]||"",Po[Cr]||"")}dn=dn.join("")}else Jt.a=="binary"&&(Qn.j="arraybuffer");return Au(Qn,qn,dn),pr}function Zp(Jt,dn,Qn){var In=null,qn=!1;Jt.on("data",function(pr){In=pr}),Jt.on("error",function(pr){pr.code==0||qn||(qn=!0,dn(pr,null))}),Jt.on("status",function(pr){pr.code==0||qn?Qn&&dn(null,null,pr):(qn=!0,dn({code:pr.code,message:pr.details,metadata:pr.metadata},null))}),Qn&&Jt.on("metadata",function(pr){dn(null,null,null,pr)}),Jt.on("end",function(){qn||(In==null?dn({code:2,message:"Incomplete response"}):dn(null,In)),Qn&&dn(null,null)})}function dp(Jt,dn){var Qn=Jt;return dn.forEach(function(In){var qn=Qn;Qn=function(pr){return In.intercept(pr,qn)}}),Qn}yl.prototype.on=function(Jt,dn){return Jt=="data"?this.b.push(dn):Jt=="status"?this.h.push(dn):Jt=="metadata"?this.g.push(dn):Jt=="end"?this.c.push(dn):Jt=="error"&&this.f.push(dn),this},yl.prototype.removeListener=function(Jt,dn){return Jt=="data"?tu(this.b,dn):Jt=="status"?tu(this.h,dn):Jt=="metadata"?tu(this.g,dn):Jt=="end"?tu(this.c,dn):Jt=="error"&&tu(this.f,dn),this},yl.prototype.cancel=function(){this.j=!0,this.a.abort()},yl.prototype.cancel=yl.prototype.cancel,yl.prototype.removeListener=yl.prototype.removeListener,yl.prototype.on=yl.prototype.on,vs.prototype.P=function(Jt,dn,Qn,In,qn){var pr=this;In=rn(Jt,dn,"unary",In);var Gn=Jt.substr(0,Jt.length-In.name.length);return Zp(Jt=dp(function(lr){return Zs(pr,lr,Gn)},this.b).call(this,en(In,dn,Qn)),qn,!1),new Ft(Jt)},vs.prototype.M=function(Jt,dn,Qn,In){var qn=this;In=rn(Jt,dn,"unary",In);var pr=Jt.substr(0,Jt.length-In.name.length);return dp(function(Gn){return new Promise(function(lr,Cr){var Mr,Yr,Po;Zp(Zs(qn,Gn,pr),function(Uo,Mo,Ko,is){Uo?Cr(Uo):Mo?Po=Mo:Ko?Yr=Ko:is?Mr=is:(Uo=Gn.getMethodDescriptor(),lr(new mt(Po,Uo,Mo=(Mo=Mr)===void 0?{}:Mo,Yr===void 0?null:Yr)))},!0)})},this.g).call(this,en(In,dn,Qn)).then(function(Gn){return Gn.getResponseMessage()})},vs.prototype.unaryCall=function(Jt,dn,Qn,In){return this.M(Jt,dn,Qn,In)},vs.prototype.R=function(Jt,dn,Qn,In){var qn=this;In=rn(Jt,dn,"server_streaming",In);var pr=Jt.substr(0,Jt.length-In.name.length);return dp(function(Gn){return Zs(qn,Gn,pr)},this.b).call(this,en(In,dn,Qn))},vs.prototype.serverStreaming=vs.prototype.R,vs.prototype.unaryCall=vs.prototype.unaryCall,vs.prototype.thenableCall=vs.prototype.M,vs.prototype.rpcCall=vs.prototype.P,i.exports.AbstractClientBase={MethodInfo:function(Jt,dn,Qn,In,qn){this.name=In,this.b=qn,this.f=Jt,this.a=dn,this.c=Qn}},i.exports.GrpcWebClientBase=vs,i.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},i.exports.MethodDescriptor=Nt,i.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,s(6))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isAsyncIterable=o.isAsyncGenerator=o.isAsync=void 0;var _,$=s(152),_e=(_=$)&&_.__esModule?_:{default:_};function et(j){return j[Symbol.toStringTag]==="AsyncFunction"}o.default=function(j){if(typeof j!="function")throw new Error("expected a function");return et(j)?(0,_e.default)(j):j},o.isAsync=et,o.isAsyncGenerator=function(j){return j[Symbol.toStringTag]==="AsyncGenerator"},o.isAsyncIterable=function(j){return typeof j[Symbol.asyncIterator]=="function"}},function(i,o,s){var _={};function $(et,j,nt){nt||(nt=Error);var ot=function(ct){var gt,pt;function ft(ut,yt,wt){return ct.call(this,function(Qt,It,xt){return typeof j=="string"?j:j(Qt,It,xt)}(ut,yt,wt))||this}return pt=ct,(gt=ft).prototype=Object.create(pt.prototype),gt.prototype.constructor=gt,gt.__proto__=pt,ft}(nt);ot.prototype.name=nt.name,ot.prototype.code=et,_[et]=ot}function _e(et,j){if(Array.isArray(et)){var nt=et.length;return et=et.map(function(ot){return String(ot)}),nt>2?"one of ".concat(j," ").concat(et.slice(0,nt-1).join(", "),", or ")+et[nt-1]:nt===2?"one of ".concat(j," ").concat(et[0]," or ").concat(et[1]):"of ".concat(j," ").concat(et[0])}return"of ".concat(j," ").concat(String(et))}$("ERR_INVALID_OPT_VALUE",function(et,j){return'The value "'+j+'" is invalid for option "'+et+'"'},TypeError),$("ERR_INVALID_ARG_TYPE",function(et,j,nt){var ot,ct,gt;if(typeof j=="string"&&(ct="not ",j.substr(0,ct.length)===ct)?(ot="must not be",j=j.replace(/^not /,"")):ot="must be",function(ft,ut,yt){return(yt===void 0||yt>ft.length)&&(yt=ft.length),ft.substring(yt-ut.length,yt)===ut}(et," argument"))gt="The ".concat(et," ").concat(ot," ").concat(_e(j,"type"));else{var pt=function(ft,ut,yt){return typeof yt!="number"&&(yt=0),!(yt+ut.length>ft.length)&&ft.indexOf(ut,yt)!==-1}(et,".")?"property":"argument";gt='The "'.concat(et,'" ').concat(pt," ").concat(ot," ").concat(_e(j,"type"))}return gt+=". Received type ".concat(typeof nt)},TypeError),$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),$("ERR_METHOD_NOT_IMPLEMENTED",function(et){return"The "+et+" method is not implemented"}),$("ERR_STREAM_PREMATURE_CLOSE","Premature close"),$("ERR_STREAM_DESTROYED",function(et){return"Cannot call "+et+" after a stream was destroyed"}),$("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),$("ERR_STREAM_WRITE_AFTER_END","write after end"),$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$("ERR_UNKNOWN_ENCODING",function(et){return"Unknown encoding: "+et},TypeError),$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=_},function(i,o,s){(function(_){var $=Object.keys||function(ft){var ut=[];for(var yt in ft)ut.push(yt);return ut};i.exports=ct;var _e=s(77),et=s(81);s(7)(ct,_e);for(var j=$(et.prototype),nt=0;nt<j.length;nt++){var ot=j[nt];ct.prototype[ot]||(ct.prototype[ot]=et.prototype[ot])}function ct(ft){if(!(this instanceof ct))return new ct(ft);_e.call(this,ft),et.call(this,ft),this.allowHalfOpen=!0,ft&&(ft.readable===!1&&(this.readable=!1),ft.writable===!1&&(this.writable=!1),ft.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",gt)))}function gt(){this._writableState.ended||_.nextTick(pt,this)}function pt(ft){ft.end()}Object.defineProperty(ct.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ct.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ct.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ct.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ft){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ft,this._writableState.destroyed=ft)}})}).call(this,s(2))},function(i,o,s){s.d(o,"a",function(){return et});var _=s(40),$=s(4);const _e={"app-id":["app-id must match formant/*"]};class et extends _.a{constructor(nt,ot={}){super(nt,Object.assign({validateHeaders:ct=>`${ct.get("app-id")}`.startsWith("formant/")?{}:_e},ot)),this.endpoint=nt}getHeaders(){return Object.assign(Object.assign({},et.headers),{"App-ID":`formant/${$.a}`,"App-Version":$.j})}}et.headers={}},function(i,o,s){s(227),i.exports={encode:_=>new TextEncoder().encode(_),decode:_=>new TextDecoder().decode(_)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_,$=_.length){if(!$)throw new Error("arity is undefined");return function(..._e){return typeof _e[$-1]=="function"?_.apply(this,_e):new Promise((et,j)=>{_e[$-1]=(nt,...ot)=>{if(nt)return j(nt);et(ot.length>1?ot:ot[0])},_.apply(this,_e)})}},i.exports=o.default},function(i,o,s){(o=i.exports=s(69)).Stream=o,o.Readable=o,o.Writable=s(48),o.Duplex=s(23),o.Transform=s(72),o.PassThrough=s(165)},function(i,o,s){(o=i.exports=s(77)).Stream=o,o.Readable=o,o.Writable=s(81),o.Duplex=s(27),o.Transform=s(82),o.PassThrough=s(184),o.finished=s(49),o.pipeline=s(185)},function(i,o,s){i.exports=function(_){return _}},function(i,o,s){s.d(o,"a",function(){return $});const _=["password","secret","token","key","buffer"];function $(_e,et=new Set){return et.has(_e)?"[ RECURSIVE ]":!(j=_e)||typeof j!="object"&&typeof j!="function"?_e:(et.add(_e),Object.keys(_e).reduce((nt,ot)=>(nt[ot]=_.some(ct=>ot.toLowerCase().includes(ct.toLowerCase()))?"[ REDACTED ]":$(_e[ot],et),nt),{}));var j}},function(i,o){i.exports=_,_.default=_,_.stable=_e,_.stableStringify=_e;var s=[];function _(et,j,nt){(function gt(pt,ft,ut,yt){var wt;if(typeof pt=="object"&&pt!==null){for(wt=0;wt<ut.length;wt++)if(ut[wt]===pt)return yt[ft]="[Circular]",void s.push([yt,ft,pt]);if(ut.push(pt),Array.isArray(pt))for(wt=0;wt<pt.length;wt++)gt(pt[wt],wt,ut,pt);else{var Qt=Object.keys(pt);for(wt=0;wt<Qt.length;wt++){var It=Qt[wt];gt(pt[It],It,ut,pt)}}ut.pop()}})(et,"",[],void 0);for(var ot=JSON.stringify(et,j,nt);s.length!==0;){var ct=s.pop();ct[0][ct[1]]=ct[2]}return ot}function $(et,j){return et<j?-1:et>j?1:0}function _e(et,j,nt){for(var ot=function pt(ft,ut,yt,wt){var Qt;if(typeof ft=="object"&&ft!==null){for(Qt=0;Qt<yt.length;Qt++)if(yt[Qt]===ft)return wt[ut]="[Circular]",void s.push([wt,ut,ft]);if(typeof ft.toJSON=="function")return;if(yt.push(ft),Array.isArray(ft))for(Qt=0;Qt<ft.length;Qt++)pt(ft[Qt],Qt,yt,ft);else{var It={},xt=Object.keys(ft).sort($);for(Qt=0;Qt<xt.length;Qt++){var Tt=xt[Qt];pt(ft[Tt],Tt,yt,ft),It[Tt]=ft[Tt]}if(wt===void 0)return It;s.push([wt,ut,ft]),wt[ut]=It}yt.pop()}}(et,"",[],void 0)||et,ct=JSON.stringify(ot,j,nt);s.length!==0;){var gt=s.pop();gt[0][gt[1]]=gt[2]}return ct}},function(i,o,s){var _=s(16),$=Object.keys||function(ut){var yt=[];for(var wt in ut)yt.push(wt);return yt};i.exports=gt;var _e=Object.create(s(17));_e.inherits=s(7);var et=s(143),j=s(62);_e.inherits(gt,et);for(var nt=$(j.prototype),ot=0;ot<nt.length;ot++){var ct=nt[ot];gt.prototype[ct]||(gt.prototype[ct]=j.prototype[ct])}function gt(ut){if(!(this instanceof gt))return new gt(ut);et.call(this,ut),j.call(this,ut),ut&&ut.readable===!1&&(this.readable=!1),ut&&ut.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ut&&ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",pt)}function pt(){this.allowHalfOpen||this._writableState.ended||_.nextTick(ft,this)}function ft(ut){ut.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}}),gt.prototype._destroy=function(ut,yt){this.push(null),this.end(),_.nextTick(yt,ut)}},function(i,o,s){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function $(j,nt){return Object.prototype.hasOwnProperty.call(j,nt)}o.assign=function(j){for(var nt=Array.prototype.slice.call(arguments,1);nt.length;){var ot=nt.shift();if(ot){if(typeof ot!="object")throw new TypeError(ot+"must be non-object");for(var ct in ot)$(ot,ct)&&(j[ct]=ot[ct])}}return j},o.shrinkBuf=function(j,nt){return j.length===nt?j:j.subarray?j.subarray(0,nt):(j.length=nt,j)};var _e={arraySet:function(j,nt,ot,ct,gt){if(nt.subarray&&j.subarray)j.set(nt.subarray(ot,ot+ct),gt);else for(var pt=0;pt<ct;pt++)j[gt+pt]=nt[ot+pt]},flattenChunks:function(j){var nt,ot,ct,gt,pt,ft;for(ct=0,nt=0,ot=j.length;nt<ot;nt++)ct+=j[nt].length;for(ft=new Uint8Array(ct),gt=0,nt=0,ot=j.length;nt<ot;nt++)pt=j[nt],ft.set(pt,gt),gt+=pt.length;return ft}},et={arraySet:function(j,nt,ot,ct,gt){for(var pt=0;pt<ct;pt++)j[gt+pt]=nt[ot+pt]},flattenChunks:function(j){return[].concat.apply([],j)}};o.setTyped=function(j){j?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,_e)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,et))},o.setTyped(_)},function(i,o,s){i.exports=s(186)},function(i,o,s){s.d(o,"a",function(){return $});var _=s(229);const $=Object(_.a)()},function(i,o,s){s.d(o,"a",function(){return Qt});var _=s(1),$=s(100),_e=s.n($),et=s(101),j=s.n(et);class nt extends Error{constructor(xt,Tt,mt){super(`Connection failure: ${xt.message}`),this.cause=xt,this.url=Tt,this.retryable=mt}}var ot=s(10);class ct extends Error{constructor(xt,Tt){super(`Invalid headers (${JSON.stringify(xt)}) for response: ${Tt.message}`),this.validationErrors=xt,this.responseError=Tt}}var gt=s(8),pt=s(0),ft=s(11),ut=function(It,xt,Tt,mt){return new(Tt||(Tt=Promise))(function(Nt,en){function rn(Pt){try{St(mt.next(Pt))}catch(Bt){en(Bt)}}function Ft(Pt){try{St(mt.throw(Pt))}catch(Bt){en(Bt)}}function St(Pt){var Bt;Pt.done?Nt(Pt.value):(Bt=Pt.value,Bt instanceof Tt?Bt:new Tt(function(jt){jt(Bt)})).then(rn,Ft)}St((mt=mt.apply(It,xt||[])).next())})},yt=function(It,xt){var Tt={};for(var mt in It)Object.prototype.hasOwnProperty.call(It,mt)&&xt.indexOf(mt)<0&&(Tt[mt]=It[mt]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function"){var Nt=0;for(mt=Object.getOwnPropertySymbols(It);Nt<mt.length;Nt++)xt.indexOf(mt[Nt])<0&&Object.prototype.propertyIsEnumerable.call(It,mt[Nt])&&(Tt[mt[Nt]]=It[mt[Nt]])}return Tt};const wt=new Set(["GET","HEAD","PUT","QUERY","DELETE","OPTIONS","TRACE"]);class Qt{constructor(xt,Tt={}){if(this.endpoint=xt,this.validateHeaders=mt=>Tt.validateHeaders?Tt.validateHeaders(mt):{},this.verbose=Tt.verbose!==!1,Tt.retries!==void 0&&!(Tt.retries>=0))throw new Error("retries must be positive or zero");if(this.configuredRetries=Tt.retries,Tt.timeoutMs!==void 0&&!(Tt.timeoutMs>0))throw new Error("timeoutMs must be positive");if(this.timeoutMs=Tt.timeoutMs,Tt.maxBackoffDelayMs!==void 0&&!(Tt.maxBackoffDelayMs>0))throw new Error("maxBackoffDelayMs must be positive");this.maxBackoffDelayMs=Tt.maxBackoffDelayMs||30*_.a.second}getRetries(){return this.configuredRetries!==void 0?this.configuredRetries:this.getConstructor().retries}getHeaders(){return{}}fetch(xt,Tt={}){return ut(this,void 0,void 0,function*(){return(yield this.fetchVerbose(xt,Tt)).body})}fetchVerbose(xt,Tt={}){return ut(this,void 0,void 0,function*(){let mt=100*_.a.millisecond,Nt=0;const en=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,rn=en?()=>Math.max(en-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(xt,Tt,rn)}catch(Ft){const St=Ft,Pt=Object(ft.a)(St,nt);if((rn==null?void 0:rn())===0||Nt===this.getRetries()||!Pt.retryable)throw Pt;Nt++,mt=Math.min(...rn?[rn()]:[],mt*(2+.1*(Math.random()-.5)),this.maxBackoffDelayMs),yield Object(gt.a)(mt),this.verbose&&pt.a.warn(`Connection failure, retrying. Error: ${St.cause.message}`,{url:St.url,error:St.cause,attempt:Nt})}})}doFetch(xt,Tt,mt){return ut(this,void 0,void 0,function*(){const{token:Nt,json:en,allowUnsafeRetries:rn}=Tt,Ft=yt(Tt,["token","json","allowUnsafeRetries"]),St=(Ft.method||"GET").toUpperCase(),Pt=this.endpoint!==void 0?`${this.endpoint}${xt?`/${xt}`:""}`:xt,Bt=new _e.a;let jt;if(mt){const qt=mt();qt>0?jt=setTimeout(()=>{Bt.abort()},qt):Bt.abort()}try{let qt;yield Promise.race([this.getConstructor().waitForConnectivity(),new Promise($t=>{qt=setTimeout($t,mt?Math.min(_.a.minute,mt()):_.a.minute)})]),qt&&clearTimeout(qt);const Zt=yield j()(Pt,Object.assign(Object.assign({},Ft),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},en!==!1?{"Content-Type":"application/json"}:{}),this.getHeaders()),Ft.headers||{}),Nt!==void 0?{Authorization:`Bearer ${Nt}`}:{}),signal:Bt.signal})),Wt=Zt.headers.get("content-type")||"",Gt=Wt&&Wt.startsWith("application/json"),Ht=Gt?yield Zt.json():yield Zt.text(),kt=()=>new ot.a(St,Pt,Zt.status,Ht,Ht&&Ht.validationErrors||{},Zt.headers);if(!Zt.ok)throw this.verbose&&pt.a[Zt.status>=500?"warn":"info"]("Response error",{method:St,url:Pt,statusCode:Zt.status}),kt();const Rt=this.validateHeaders(Zt.headers);if(Object.keys(Rt).length!==0)throw new ct(Rt,kt());if(Zt.status===204)return{body:void 0,headers:Zt.headers};if(en&&!Gt)throw new Error(`Response is not JSON: ${JSON.stringify(Ht)}`);return{body:Ht,headers:Zt.headers}}catch(qt){const Zt=qt,Wt=rn||wt.has(St);if(Zt.message==="Network request failed")throw new nt(Zt,Pt,Wt);if(Zt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(Rt=>Rt===Zt.code))throw new nt(Zt,Pt,!0);if(Zt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(Rt=>Rt===Zt.code))throw new nt(Zt,Pt,Wt);if(Zt.name==="AbortError")throw new nt(Zt,Pt,Wt);const Gt=Object(ft.a)(Zt,ot.a),{statusCode:Ht}=Gt;if(Ht===408||Ht===429||Ht===502||Ht===503||Ht===504)throw this.verbose&&!Wt&&pt.a.warn("Potentially unsafe retry"),new nt(Zt,Pt,!0);const kt=this.validateHeaders(Gt.headers);throw Object.keys(kt).length!==0?new ct(kt,Gt):(yield this.getConstructor().onResponseError(Gt),Zt)}finally{jt&&clearTimeout(jt)}})}getConstructor(){return Object.getPrototypeOf(this).constructor}}Qt.retries=8,Qt.waitForConnectivity=()=>ut(void 0,void 0,void 0,function*(){}),Qt.onResponseError=()=>ut(void 0,void 0,void 0,function*(){})},function(i,o,s){function _(gt,pt){if(!(gt instanceof pt))throw new TypeError("Cannot call a class as a function")}function $(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var _e=s(59),et=s(3),j=et.LEVEL,nt=et.MESSAGE;_e.enabled=!0;var ot=/\s+/,ct=function(){function gt(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,gt),yt.colors&&this.addColors(yt.colors),this.options=yt}var pt,ft,ut;return pt=gt,ut=[{key:"addColors",value:function(yt){var wt=Object.keys(yt).reduce(function(Qt,It){return Qt[It]=ot.test(yt[It])?yt[It].split(ot):yt[It],Qt},{});return gt.allColors=Object.assign({},gt.allColors||{},wt),gt.allColors}}],(ft=[{key:"addColors",value:function(yt){return gt.addColors(yt)}},{key:"colorize",value:function(yt,wt,Qt){if(Qt===void 0&&(Qt=wt),!Array.isArray(gt.allColors[yt]))return _e[gt.allColors[yt]](Qt);for(var It=0,xt=gt.allColors[yt].length;It<xt;It++)Qt=_e[gt.allColors[yt][It]](Qt);return Qt}},{key:"transform",value:function(yt,wt){return wt.all&&typeof yt[nt]=="string"&&(yt[nt]=this.colorize(yt[j],yt.level,yt[nt])),(wt.level||wt.all||!wt.message)&&(yt.level=this.colorize(yt[j],yt.level)),(wt.all||wt.message)&&(yt.message=this.colorize(yt[j],yt.level,yt.message)),yt}}])&&$(pt.prototype,ft),ut&&$(pt,ut),gt}();i.exports=function(gt){return new ct(gt)},i.exports.Colorizer=i.exports.Format=ct},function(i,o){var s={}.toString;i.exports=Array.isArray||function(_){return s.call(_)=="[object Array]"}},function(i,o,s){(function(_){function $(_e){try{if(!_.localStorage)return!1}catch{return!1}var et=_.localStorage[_e];return et!=null&&String(et).toLowerCase()==="true"}i.exports=function(_e,et){if($("noDeprecation"))return _e;var j=!1;return function(){if(!j){if($("throwDeprecation"))throw new Error(et);$("traceDeprecation")?console.trace(et):console.warn(et),j=!0}return _e.apply(this,arguments)}}}).call(this,s(6))},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var ot in j)nt[ot]=j[ot]}function et(j,nt,ot){return $(j,nt,ot)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=et),_e($,et),et.from=function(j,nt,ot){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,ot)},et.alloc=function(j,nt,ot){if(typeof j!="number")throw new TypeError("Argument must be a number");var ct=$(j);return nt!==void 0?typeof ot=="string"?ct.fill(nt,ot):ct.fill(nt):ct.fill(0),ct},et.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},et.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _&&typeof _.length=="number"&&_.length>=0&&_.length%1==0},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default={},i.exports=o.default},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var ot in j)nt[ot]=j[ot]}function et(j,nt,ot){return $(j,nt,ot)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=et),_e($,et),et.from=function(j,nt,ot){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,ot)},et.alloc=function(j,nt,ot){if(typeof j!="number")throw new TypeError("Argument must be a number");var ct=$(j);return nt!==void 0?typeof ot=="string"?ct.fill(nt,ot):ct.fill(nt):ct.fill(0),ct},et.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},et.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){(function(_,$,_e){var et=s(16);function j(St){var Pt=this;this.next=null,this.entry=null,this.finish=function(){(function(Bt,jt,qt){var Zt=Bt.entry;for(Bt.entry=null;Zt;){var Wt=Zt.callback;jt.pendingcb--,Wt(qt),Zt=Zt.next}jt.corkedRequestsFree?jt.corkedRequestsFree.next=Bt:jt.corkedRequestsFree=Bt})(Pt,St)}}i.exports=xt;var nt,ot=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:et.nextTick;xt.WritableState=It;var ct=s(17);ct.inherits=s(7);var gt={deprecate:s(43)},pt=s(70),ft=s(47).Buffer,ut=_e.Uint8Array||function(){},yt,wt=s(71);function Qt(){}function It(St,Pt){nt=nt||s(23),St=St||{};var Bt=Pt instanceof nt;this.objectMode=!!St.objectMode,Bt&&(this.objectMode=this.objectMode||!!St.writableObjectMode);var jt=St.highWaterMark,qt=St.writableHighWaterMark,Zt=this.objectMode?16:16384;this.highWaterMark=jt||jt===0?jt:Bt&&(qt||qt===0)?qt:Zt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Wt=St.decodeStrings===!1;this.decodeStrings=!Wt,this.defaultEncoding=St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Gt){(function(Ht,kt){var Rt=Ht._writableState,$t=Rt.sync,nn=Rt.writecb;if(function(Fn){Fn.writing=!1,Fn.writecb=null,Fn.length-=Fn.writelen,Fn.writelen=0}(Rt),kt)(function(Fn,En,fn,sn,Ct){--En.pendingcb,fn?(et.nextTick(Ct,sn),et.nextTick(Ft,Fn,En),Fn._writableState.errorEmitted=!0,Fn.emit("error",sn)):(Ct(sn),Fn._writableState.errorEmitted=!0,Fn.emit("error",sn),Ft(Fn,En))})(Ht,Rt,$t,kt,nn);else{var Un=en(Rt);Un||Rt.corked||Rt.bufferProcessing||!Rt.bufferedRequest||Nt(Ht,Rt),$t?ot(mt,Ht,Rt,Un,nn):mt(Ht,Rt,Un,nn)}})(Pt,Gt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function xt(St){if(nt=nt||s(23),!(yt.call(xt,this)||this instanceof nt))return new xt(St);this._writableState=new It(St,this),this.writable=!0,St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final)),pt.call(this)}function Tt(St,Pt,Bt,jt,qt,Zt,Wt){Pt.writelen=jt,Pt.writecb=Wt,Pt.writing=!0,Pt.sync=!0,Bt?St._writev(qt,Pt.onwrite):St._write(qt,Zt,Pt.onwrite),Pt.sync=!1}function mt(St,Pt,Bt,jt){Bt||function(qt,Zt){Zt.length===0&&Zt.needDrain&&(Zt.needDrain=!1,qt.emit("drain"))}(St,Pt),Pt.pendingcb--,jt(),Ft(St,Pt)}function Nt(St,Pt){Pt.bufferProcessing=!0;var Bt=Pt.bufferedRequest;if(St._writev&&Bt&&Bt.next){var jt=Pt.bufferedRequestCount,qt=new Array(jt),Zt=Pt.corkedRequestsFree;Zt.entry=Bt;for(var Wt=0,Gt=!0;Bt;)qt[Wt]=Bt,Bt.isBuf||(Gt=!1),Bt=Bt.next,Wt+=1;qt.allBuffers=Gt,Tt(St,Pt,!0,Pt.length,qt,"",Zt.finish),Pt.pendingcb++,Pt.lastBufferedRequest=null,Zt.next?(Pt.corkedRequestsFree=Zt.next,Zt.next=null):Pt.corkedRequestsFree=new j(Pt),Pt.bufferedRequestCount=0}else{for(;Bt;){var Ht=Bt.chunk,kt=Bt.encoding,Rt=Bt.callback;if(Tt(St,Pt,!1,Pt.objectMode?1:Ht.length,Ht,kt,Rt),Bt=Bt.next,Pt.bufferedRequestCount--,Pt.writing)break}Bt===null&&(Pt.lastBufferedRequest=null)}Pt.bufferedRequest=Bt,Pt.bufferProcessing=!1}function en(St){return St.ending&&St.length===0&&St.bufferedRequest===null&&!St.finished&&!St.writing}function rn(St,Pt){St._final(function(Bt){Pt.pendingcb--,Bt&&St.emit("error",Bt),Pt.prefinished=!0,St.emit("prefinish"),Ft(St,Pt)})}function Ft(St,Pt){var Bt=en(Pt);return Bt&&(function(jt,qt){qt.prefinished||qt.finalCalled||(typeof jt._final=="function"?(qt.pendingcb++,qt.finalCalled=!0,et.nextTick(rn,jt,qt)):(qt.prefinished=!0,jt.emit("prefinish")))}(St,Pt),Pt.pendingcb===0&&(Pt.finished=!0,St.emit("finish"))),Bt}ct.inherits(xt,pt),It.prototype.getBuffer=function(){for(var St=this.bufferedRequest,Pt=[];St;)Pt.push(St),St=St.next;return Pt},function(){try{Object.defineProperty(It.prototype,"buffer",{get:gt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yt=Function.prototype[Symbol.hasInstance],Object.defineProperty(xt,Symbol.hasInstance,{value:function(St){return!!yt.call(this,St)||this===xt&&St&&St._writableState instanceof It}})):yt=function(St){return St instanceof this},xt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},xt.prototype.write=function(St,Pt,Bt){var jt,qt=this._writableState,Zt=!1,Wt=!qt.objectMode&&(jt=St,ft.isBuffer(jt)||jt instanceof ut);return Wt&&!ft.isBuffer(St)&&(St=function(Gt){return ft.from(Gt)}(St)),typeof Pt=="function"&&(Bt=Pt,Pt=null),Wt?Pt="buffer":Pt||(Pt=qt.defaultEncoding),typeof Bt!="function"&&(Bt=Qt),qt.ended?function(Gt,Ht){var kt=new Error("write after end");Gt.emit("error",kt),et.nextTick(Ht,kt)}(this,Bt):(Wt||function(Gt,Ht,kt,Rt){var $t=!0,nn=!1;return kt===null?nn=new TypeError("May not write null values to stream"):typeof kt=="string"||kt===void 0||Ht.objectMode||(nn=new TypeError("Invalid non-string/buffer chunk")),nn&&(Gt.emit("error",nn),et.nextTick(Rt,nn),$t=!1),$t}(this,qt,St,Bt))&&(qt.pendingcb++,Zt=function(Gt,Ht,kt,Rt,$t,nn){if(!kt){var Un=function(sn,Ct,Dt){return sn.objectMode||sn.decodeStrings===!1||typeof Ct!="string"||(Ct=ft.from(Ct,Dt)),Ct}(Ht,Rt,$t);Rt!==Un&&(kt=!0,$t="buffer",Rt=Un)}var Fn=Ht.objectMode?1:Rt.length;Ht.length+=Fn;var En=Ht.length<Ht.highWaterMark;if(En||(Ht.needDrain=!0),Ht.writing||Ht.corked){var fn=Ht.lastBufferedRequest;Ht.lastBufferedRequest={chunk:Rt,encoding:$t,isBuf:kt,callback:nn,next:null},fn?fn.next=Ht.lastBufferedRequest:Ht.bufferedRequest=Ht.lastBufferedRequest,Ht.bufferedRequestCount+=1}else Tt(Gt,Ht,!1,Fn,Rt,$t,nn);return En}(this,qt,Wt,St,Pt,Bt)),Zt},xt.prototype.cork=function(){this._writableState.corked++},xt.prototype.uncork=function(){var St=this._writableState;St.corked&&(St.corked--,St.writing||St.corked||St.finished||St.bufferProcessing||!St.bufferedRequest||Nt(this,St))},xt.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this},Object.defineProperty(xt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),xt.prototype._write=function(St,Pt,Bt){Bt(new Error("_write() is not implemented"))},xt.prototype._writev=null,xt.prototype.end=function(St,Pt,Bt){var jt=this._writableState;typeof St=="function"?(Bt=St,St=null,Pt=null):typeof Pt=="function"&&(Bt=Pt,Pt=null),St!=null&&this.write(St,Pt),jt.corked&&(jt.corked=1,this.uncork()),jt.ending||jt.finished||function(qt,Zt,Wt){Zt.ending=!0,Ft(qt,Zt),Wt&&(Zt.finished?et.nextTick(Wt):qt.once("finish",Wt)),Zt.ended=!0,qt.writable=!1}(this,jt,Bt)},Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(St){this._writableState&&(this._writableState.destroyed=St)}}),xt.prototype.destroy=wt.destroy,xt.prototype._undestroy=wt.undestroy,xt.prototype._destroy=function(St,Pt){this.end(),Pt(St)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){var _=s(26).codes.ERR_STREAM_PREMATURE_CLOSE;function $(){}i.exports=function _e(et,j,nt){if(typeof j=="function")return _e(et,null,j);j||(j={}),nt=function(xt){var Tt=!1;return function(){if(!Tt){Tt=!0;for(var mt=arguments.length,Nt=new Array(mt),en=0;en<mt;en++)Nt[en]=arguments[en];xt.apply(this,Nt)}}}(nt||$);var ot=j.readable||j.readable!==!1&&et.readable,ct=j.writable||j.writable!==!1&&et.writable,gt=function(){et.writable||ft()},pt=et._writableState&&et._writableState.finished,ft=function(){ct=!1,pt=!0,ot||nt.call(et)},ut=et._readableState&&et._readableState.endEmitted,yt=function(){ot=!1,ut=!0,ct||nt.call(et)},wt=function(xt){nt.call(et,xt)},Qt=function(){var xt;return ot&&!ut?(et._readableState&&et._readableState.ended||(xt=new _),nt.call(et,xt)):ct&&!pt?(et._writableState&&et._writableState.ended||(xt=new _),nt.call(et,xt)):void 0},It=function(){et.req.on("finish",ft)};return function(xt){return xt.setHeader&&typeof xt.abort=="function"}(et)?(et.on("complete",ft),et.on("abort",Qt),et.req?It():et.on("request",It)):ct&&!et._writableState&&(et.on("end",gt),et.on("close",gt)),et.on("end",yt),et.on("finish",ft),j.error!==!1&&et.on("error",wt),et.on("close",Qt),function(){et.removeListener("complete",ft),et.removeListener("abort",Qt),et.removeListener("request",It),et.req&&et.req.removeListener("finish",ft),et.removeListener("end",gt),et.removeListener("close",gt),et.removeListener("finish",ft),et.removeListener("end",yt),et.removeListener("error",wt),et.removeListener("close",Qt)}}},function(i,o,s){var _=s(58),$=s(3).configs;o.cli=_.levels($.cli),o.npm=_.levels($.npm),o.syslog=_.levels($.syslog),o.addColors=_.levels},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=j(s(203)),$=j(s(204)),_e=j(s(25)),et=j(s(30));function j(nt){return nt&&nt.__esModule?nt:{default:nt}}o.default=(0,et.default)(function(nt,ot,ct){return(0,_.default)(nt,(0,$.default)((0,_e.default)(ot)),ct)},3),i.exports=o.default},function(i,o,s){class _ extends Error{constructor(_e,...et){super(`env-var: ${_e}`,...et),Error.captureStackTrace&&Error.captureStackTrace(this,_),this.name="EnvVarError"}}i.exports=_},function(i,o,s){i.exports=function(_){const $=parseInt(_,10);if(isNaN($)||$.toString(10)!==_)throw new Error("should be a valid integer");return $}},function(i,o,s){i.exports=function(_){const $=parseFloat(_);if(isNaN($)||$.toString()!==_)throw new Error("should be a valid float");return $}},function(i,o,s){i.exports=function(_){try{return JSON.parse(_)}catch{throw new Error("should be valid (parseable) JSON")}}},function(i,o,s){(function(_){function $(j,nt){for(var ot=0,ct=j.length-1;ct>=0;ct--){var gt=j[ct];gt==="."?j.splice(ct,1):gt===".."?(j.splice(ct,1),ot++):ot&&(j.splice(ct,1),ot--)}if(nt)for(;ot--;ot)j.unshift("..");return j}function _e(j,nt){if(j.filter)return j.filter(nt);for(var ot=[],ct=0;ct<j.length;ct++)nt(j[ct],ct,j)&&ot.push(j[ct]);return ot}o.resolve=function(){for(var j="",nt=!1,ot=arguments.length-1;ot>=-1&&!nt;ot--){var ct=ot>=0?arguments[ot]:_.cwd();if(typeof ct!="string")throw new TypeError("Arguments to path.resolve must be strings");ct&&(j=ct+"/"+j,nt=ct.charAt(0)==="/")}return(nt?"/":"")+(j=$(_e(j.split("/"),function(gt){return!!gt}),!nt).join("/"))||"."},o.normalize=function(j){var nt=o.isAbsolute(j),ot=et(j,-1)==="/";return(j=$(_e(j.split("/"),function(ct){return!!ct}),!nt).join("/"))||nt||(j="."),j&&ot&&(j+="/"),(nt?"/":"")+j},o.isAbsolute=function(j){return j.charAt(0)==="/"},o.join=function(){var j=Array.prototype.slice.call(arguments,0);return o.normalize(_e(j,function(nt,ot){if(typeof nt!="string")throw new TypeError("Arguments to path.join must be strings");return nt}).join("/"))},o.relative=function(j,nt){function ot(wt){for(var Qt=0;Qt<wt.length&&wt[Qt]==="";Qt++);for(var It=wt.length-1;It>=0&&wt[It]==="";It--);return Qt>It?[]:wt.slice(Qt,It-Qt+1)}j=o.resolve(j).substr(1),nt=o.resolve(nt).substr(1);for(var ct=ot(j.split("/")),gt=ot(nt.split("/")),pt=Math.min(ct.length,gt.length),ft=pt,ut=0;ut<pt;ut++)if(ct[ut]!==gt[ut]){ft=ut;break}var yt=[];for(ut=ft;ut<ct.length;ut++)yt.push("..");return(yt=yt.concat(gt.slice(ft))).join("/")},o.sep="/",o.delimiter=":",o.dirname=function(j){if(typeof j!="string"&&(j+=""),j.length===0)return".";for(var nt=j.charCodeAt(0),ot=nt===47,ct=-1,gt=!0,pt=j.length-1;pt>=1;--pt)if((nt=j.charCodeAt(pt))===47){if(!gt){ct=pt;break}}else gt=!1;return ct===-1?ot?"/":".":ot&&ct===1?"/":j.slice(0,ct)},o.basename=function(j,nt){var ot=function(ct){typeof ct!="string"&&(ct+="");var gt,pt=0,ft=-1,ut=!0;for(gt=ct.length-1;gt>=0;--gt)if(ct.charCodeAt(gt)===47){if(!ut){pt=gt+1;break}}else ft===-1&&(ut=!1,ft=gt+1);return ft===-1?"":ct.slice(pt,ft)}(j);return nt&&ot.substr(-1*nt.length)===nt&&(ot=ot.substr(0,ot.length-nt.length)),ot},o.extname=function(j){typeof j!="string"&&(j+="");for(var nt=-1,ot=0,ct=-1,gt=!0,pt=0,ft=j.length-1;ft>=0;--ft){var ut=j.charCodeAt(ft);if(ut!==47)ct===-1&&(gt=!1,ct=ft+1),ut===46?nt===-1?nt=ft:pt!==1&&(pt=1):nt!==-1&&(pt=-1);else if(!gt){ot=ft+1;break}}return nt===-1||ct===-1||pt===0||pt===1&&nt===ct-1&&nt===ot+1?"":j.slice(nt,ct)};var et="ab".substr(-1)==="b"?function(j,nt,ot){return j.substr(nt,ot)}:function(j,nt,ot){return nt<0&&(nt=j.length+nt),j.substr(nt,ot)}}).call(this,s(2))},,function(i,o,s){var _=o.format=s(12);o.levels=s(105),Object.defineProperty(_,"align",{value:s(122)}),Object.defineProperty(_,"cli",{value:s(123)}),Object.defineProperty(_,"combine",{value:s(124)}),Object.defineProperty(_,"colorize",{value:s(41)}),Object.defineProperty(_,"json",{value:s(125)}),Object.defineProperty(_,"label",{value:s(128)}),Object.defineProperty(_,"logstash",{value:s(129)}),Object.defineProperty(_,"metadata",{value:s(130)}),Object.defineProperty(_,"padLevels",{value:s(60)}),Object.defineProperty(_,"prettyPrint",{value:s(131)}),Object.defineProperty(_,"printf",{value:s(132)}),Object.defineProperty(_,"simple",{value:s(133)}),Object.defineProperty(_,"splat",{value:s(134)}),Object.defineProperty(_,"timestamp",{value:s(135)}),Object.defineProperty(_,"uncolorize",{value:s(137)})},function(i,o,s){var _=s(106);i.exports=_},function(i,o,s){function _(pt){return function(ft){if(Array.isArray(ft))return $(ft)}(pt)||function(ft){if(typeof Symbol<"u"&&Symbol.iterator in Object(ft))return Array.from(ft)}(pt)||function(ft,ut){if(ft){if(typeof ft=="string")return $(ft,ut);var yt=Object.prototype.toString.call(ft).slice(8,-1);if(yt==="Object"&&ft.constructor&&(yt=ft.constructor.name),yt==="Map"||yt==="Set")return Array.from(ft);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return $(ft,ut)}}(pt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(pt,ft){(ft==null||ft>pt.length)&&(ft=pt.length);for(var ut=0,yt=new Array(ft);ut<ft;ut++)yt[ut]=pt[ut];return yt}function _e(pt,ft){if(!(pt instanceof ft))throw new TypeError("Cannot call a class as a function")}function et(pt,ft){for(var ut=0;ut<ft.length;ut++){var yt=ft[ut];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(pt,yt.key,yt)}}var j=s(3),nt=j.configs,ot=j.LEVEL,ct=j.MESSAGE,gt=function(){function pt(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:nt.npm.levels};_e(this,pt),this.paddings=pt.paddingForLevels(wt.levels,wt.filler),this.options=wt}var ft,ut,yt;return ft=pt,yt=[{key:"getLongestLevel",value:function(wt){var Qt=Object.keys(wt).map(function(It){return It.length});return Math.max.apply(Math,_(Qt))}},{key:"paddingForLevel",value:function(wt,Qt,It){var xt=It+1-wt.length,Tt=Math.floor(xt/Qt.length);return"".concat(Qt).concat(Qt.repeat(Tt)).slice(0,xt)}},{key:"paddingForLevels",value:function(wt){var Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",It=pt.getLongestLevel(wt);return Object.keys(wt).reduce(function(xt,Tt){return xt[Tt]=pt.paddingForLevel(Tt,Qt,It),xt},{})}}],(ut=[{key:"transform",value:function(wt,Qt){return wt.message="".concat(this.paddings[wt[ot]]).concat(wt.message),wt[ct]&&(wt[ct]="".concat(this.paddings[wt[ot]]).concat(wt[ct])),wt}}])&&et(ft.prototype,ut),yt&&et(ft,yt),pt}();i.exports=function(pt){return new gt(pt)},i.exports.Padder=i.exports.Format=gt},function(i,o,s){var _=s(13).format;o.warn={deprecated:function($){return function(){throw new Error(_("{ %s } was removed in winston@3.0.0.",$))}},useFormat:function($){return function(){throw new Error([_("{ %s } was removed in winston@3.0.0.",$),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function($,_e,et){et.forEach(function(j){$[j]=o.warn[_e](j)})},moved:function($,_e,et){function j(){return function(){throw new Error([_("winston.%s was moved in winston@3.0.0.",et),_("Use a winston.%s instead.",_e)].join(`
`))}}Object.defineProperty($,et,{get:j,set:j})},forProperties:function($,_e,et){et.forEach(function(j){var nt=o.warn[_e](j);Object.defineProperty($,j,{get:nt,set:nt})})}}},function(i,o,s){(function(_,$,_e){var et=s(16);function j(St){var Pt=this;this.next=null,this.entry=null,this.finish=function(){(function(Bt,jt,qt){var Zt=Bt.entry;for(Bt.entry=null;Zt;){var Wt=Zt.callback;jt.pendingcb--,Wt(qt),Zt=Zt.next}jt.corkedRequestsFree?jt.corkedRequestsFree.next=Bt:jt.corkedRequestsFree=Bt})(Pt,St)}}i.exports=xt;var nt,ot=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:et.nextTick;xt.WritableState=It;var ct=Object.create(s(17));ct.inherits=s(7);var gt={deprecate:s(43)},pt=s(63),ft=s(44).Buffer,ut=_e.Uint8Array||function(){},yt,wt=s(64);function Qt(){}function It(St,Pt){nt=nt||s(36),St=St||{};var Bt=Pt instanceof nt;this.objectMode=!!St.objectMode,Bt&&(this.objectMode=this.objectMode||!!St.writableObjectMode);var jt=St.highWaterMark,qt=St.writableHighWaterMark,Zt=this.objectMode?16:16384;this.highWaterMark=jt||jt===0?jt:Bt&&(qt||qt===0)?qt:Zt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Wt=St.decodeStrings===!1;this.decodeStrings=!Wt,this.defaultEncoding=St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Gt){(function(Ht,kt){var Rt=Ht._writableState,$t=Rt.sync,nn=Rt.writecb;if(function(Fn){Fn.writing=!1,Fn.writecb=null,Fn.length-=Fn.writelen,Fn.writelen=0}(Rt),kt)(function(Fn,En,fn,sn,Ct){--En.pendingcb,fn?(et.nextTick(Ct,sn),et.nextTick(Ft,Fn,En),Fn._writableState.errorEmitted=!0,Fn.emit("error",sn)):(Ct(sn),Fn._writableState.errorEmitted=!0,Fn.emit("error",sn),Ft(Fn,En))})(Ht,Rt,$t,kt,nn);else{var Un=en(Rt);Un||Rt.corked||Rt.bufferProcessing||!Rt.bufferedRequest||Nt(Ht,Rt),$t?ot(mt,Ht,Rt,Un,nn):mt(Ht,Rt,Un,nn)}})(Pt,Gt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function xt(St){if(nt=nt||s(36),!(yt.call(xt,this)||this instanceof nt))return new xt(St);this._writableState=new It(St,this),this.writable=!0,St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final)),pt.call(this)}function Tt(St,Pt,Bt,jt,qt,Zt,Wt){Pt.writelen=jt,Pt.writecb=Wt,Pt.writing=!0,Pt.sync=!0,Bt?St._writev(qt,Pt.onwrite):St._write(qt,Zt,Pt.onwrite),Pt.sync=!1}function mt(St,Pt,Bt,jt){Bt||function(qt,Zt){Zt.length===0&&Zt.needDrain&&(Zt.needDrain=!1,qt.emit("drain"))}(St,Pt),Pt.pendingcb--,jt(),Ft(St,Pt)}function Nt(St,Pt){Pt.bufferProcessing=!0;var Bt=Pt.bufferedRequest;if(St._writev&&Bt&&Bt.next){var jt=Pt.bufferedRequestCount,qt=new Array(jt),Zt=Pt.corkedRequestsFree;Zt.entry=Bt;for(var Wt=0,Gt=!0;Bt;)qt[Wt]=Bt,Bt.isBuf||(Gt=!1),Bt=Bt.next,Wt+=1;qt.allBuffers=Gt,Tt(St,Pt,!0,Pt.length,qt,"",Zt.finish),Pt.pendingcb++,Pt.lastBufferedRequest=null,Zt.next?(Pt.corkedRequestsFree=Zt.next,Zt.next=null):Pt.corkedRequestsFree=new j(Pt),Pt.bufferedRequestCount=0}else{for(;Bt;){var Ht=Bt.chunk,kt=Bt.encoding,Rt=Bt.callback;if(Tt(St,Pt,!1,Pt.objectMode?1:Ht.length,Ht,kt,Rt),Bt=Bt.next,Pt.bufferedRequestCount--,Pt.writing)break}Bt===null&&(Pt.lastBufferedRequest=null)}Pt.bufferedRequest=Bt,Pt.bufferProcessing=!1}function en(St){return St.ending&&St.length===0&&St.bufferedRequest===null&&!St.finished&&!St.writing}function rn(St,Pt){St._final(function(Bt){Pt.pendingcb--,Bt&&St.emit("error",Bt),Pt.prefinished=!0,St.emit("prefinish"),Ft(St,Pt)})}function Ft(St,Pt){var Bt=en(Pt);return Bt&&(function(jt,qt){qt.prefinished||qt.finalCalled||(typeof jt._final=="function"?(qt.pendingcb++,qt.finalCalled=!0,et.nextTick(rn,jt,qt)):(qt.prefinished=!0,jt.emit("prefinish")))}(St,Pt),Pt.pendingcb===0&&(Pt.finished=!0,St.emit("finish"))),Bt}ct.inherits(xt,pt),It.prototype.getBuffer=function(){for(var St=this.bufferedRequest,Pt=[];St;)Pt.push(St),St=St.next;return Pt},function(){try{Object.defineProperty(It.prototype,"buffer",{get:gt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yt=Function.prototype[Symbol.hasInstance],Object.defineProperty(xt,Symbol.hasInstance,{value:function(St){return!!yt.call(this,St)||this===xt&&St&&St._writableState instanceof It}})):yt=function(St){return St instanceof this},xt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},xt.prototype.write=function(St,Pt,Bt){var jt,qt=this._writableState,Zt=!1,Wt=!qt.objectMode&&(jt=St,ft.isBuffer(jt)||jt instanceof ut);return Wt&&!ft.isBuffer(St)&&(St=function(Gt){return ft.from(Gt)}(St)),typeof Pt=="function"&&(Bt=Pt,Pt=null),Wt?Pt="buffer":Pt||(Pt=qt.defaultEncoding),typeof Bt!="function"&&(Bt=Qt),qt.ended?function(Gt,Ht){var kt=new Error("write after end");Gt.emit("error",kt),et.nextTick(Ht,kt)}(this,Bt):(Wt||function(Gt,Ht,kt,Rt){var $t=!0,nn=!1;return kt===null?nn=new TypeError("May not write null values to stream"):typeof kt=="string"||kt===void 0||Ht.objectMode||(nn=new TypeError("Invalid non-string/buffer chunk")),nn&&(Gt.emit("error",nn),et.nextTick(Rt,nn),$t=!1),$t}(this,qt,St,Bt))&&(qt.pendingcb++,Zt=function(Gt,Ht,kt,Rt,$t,nn){if(!kt){var Un=function(sn,Ct,Dt){return sn.objectMode||sn.decodeStrings===!1||typeof Ct!="string"||(Ct=ft.from(Ct,Dt)),Ct}(Ht,Rt,$t);Rt!==Un&&(kt=!0,$t="buffer",Rt=Un)}var Fn=Ht.objectMode?1:Rt.length;Ht.length+=Fn;var En=Ht.length<Ht.highWaterMark;if(En||(Ht.needDrain=!0),Ht.writing||Ht.corked){var fn=Ht.lastBufferedRequest;Ht.lastBufferedRequest={chunk:Rt,encoding:$t,isBuf:kt,callback:nn,next:null},fn?fn.next=Ht.lastBufferedRequest:Ht.bufferedRequest=Ht.lastBufferedRequest,Ht.bufferedRequestCount+=1}else Tt(Gt,Ht,!1,Fn,Rt,$t,nn);return En}(this,qt,Wt,St,Pt,Bt)),Zt},xt.prototype.cork=function(){this._writableState.corked++},xt.prototype.uncork=function(){var St=this._writableState;St.corked&&(St.corked--,St.writing||St.corked||St.finished||St.bufferProcessing||!St.bufferedRequest||Nt(this,St))},xt.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this},Object.defineProperty(xt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),xt.prototype._write=function(St,Pt,Bt){Bt(new Error("_write() is not implemented"))},xt.prototype._writev=null,xt.prototype.end=function(St,Pt,Bt){var jt=this._writableState;typeof St=="function"?(Bt=St,St=null,Pt=null):typeof Pt=="function"&&(Bt=Pt,Pt=null),St!=null&&this.write(St,Pt),jt.corked&&(jt.corked=1,this.uncork()),jt.ending||jt.finished||function(qt,Zt,Wt){Zt.ending=!0,Ft(qt,Zt),Wt&&(Zt.finished?et.nextTick(Wt):qt.once("finish",Wt)),Zt.ended=!0,qt.writable=!1}(this,jt,Bt)},Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(St){this._writableState&&(this._writableState.destroyed=St)}}),xt.prototype.destroy=wt.destroy,xt.prototype._undestroy=wt.undestroy,xt.prototype._destroy=function(St,Pt){this.end(),Pt(St)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(_e,et){_e.emit("error",et)}i.exports={destroy:function(_e,et){var j=this,nt=this._readableState&&this._readableState.destroyed,ot=this._writableState&&this._writableState.destroyed;return nt||ot?(et?et(_e):!_e||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,_e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_e||null,function(ct){!et&&ct?(_.nextTick($,j,ct),j._writableState&&(j._writableState.errorEmitted=!0)):et&&et(ct)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o){},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=et(s(156)),$=et(s(25)),_e=et(s(30));function et(j){return j&&j.__esModule?j:{default:j}}o.default=(0,_e.default)(function(j,nt,ot,ct){return(0,_.default)(nt)(j,(0,$.default)(ot),ct)},4),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){function $(..._e){if(_!==null){var et=_;_=null,et.apply(this,_e)}}return Object.assign($,_),$},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){if(_===null)throw new Error("Callback was already called.");var _e=_;_=null,_e.apply(this,$)}},i.exports=o.default},function(i,o,s){(function(_,$){var _e=s(16);i.exports=Tt;var et,j=s(42);Tt.ReadableState=xt,s(21).EventEmitter;var nt=function(kt,Rt){return kt.listeners(Rt).length},ot=s(70),ct=s(47).Buffer,gt=_.Uint8Array||function(){},pt=s(17);pt.inherits=s(7);var ft=s(162),ut=void 0;ut=ft&&ft.debuglog?ft.debuglog("stream"):function(){};var yt,wt=s(163),Qt=s(71);pt.inherits(Tt,ot);var It=["error","close","destroy","pause","resume"];function xt(kt,Rt){kt=kt||{};var $t=Rt instanceof(et=et||s(23));this.objectMode=!!kt.objectMode,$t&&(this.objectMode=this.objectMode||!!kt.readableObjectMode);var nn=kt.highWaterMark,Un=kt.readableHighWaterMark,Fn=this.objectMode?16:16384;this.highWaterMark=nn||nn===0?nn:$t&&(Un||Un===0)?Un:Fn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=kt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,kt.encoding&&(yt||(yt=s(22).StringDecoder),this.decoder=new yt(kt.encoding),this.encoding=kt.encoding)}function Tt(kt){if(et=et||s(23),!(this instanceof Tt))return new Tt(kt);this._readableState=new xt(kt,this),this.readable=!0,kt&&(typeof kt.read=="function"&&(this._read=kt.read),typeof kt.destroy=="function"&&(this._destroy=kt.destroy)),ot.call(this)}function mt(kt,Rt,$t,nn,Un){var Fn,En=kt._readableState;return Rt===null?(En.reading=!1,function(fn,sn){if(!sn.ended){if(sn.decoder){var Ct=sn.decoder.end();Ct&&Ct.length&&(sn.buffer.push(Ct),sn.length+=sn.objectMode?1:Ct.length)}sn.ended=!0,rn(fn)}}(kt,En)):(Un||(Fn=function(fn,sn){var Ct;Dt=sn,ct.isBuffer(Dt)||Dt instanceof gt||typeof sn=="string"||sn===void 0||fn.objectMode||(Ct=new TypeError("Invalid non-string/buffer chunk"));var Dt;return Ct}(En,Rt)),Fn?kt.emit("error",Fn):En.objectMode||Rt&&Rt.length>0?(typeof Rt=="string"||En.objectMode||Object.getPrototypeOf(Rt)===ct.prototype||(Rt=function(fn){return ct.from(fn)}(Rt)),nn?En.endEmitted?kt.emit("error",new Error("stream.unshift() after end event")):Nt(kt,En,Rt,!0):En.ended?kt.emit("error",new Error("stream.push() after EOF")):(En.reading=!1,En.decoder&&!$t?(Rt=En.decoder.write(Rt),En.objectMode||Rt.length!==0?Nt(kt,En,Rt,!1):St(kt,En)):Nt(kt,En,Rt,!1))):nn||(En.reading=!1)),function(fn){return!fn.ended&&(fn.needReadable||fn.length<fn.highWaterMark||fn.length===0)}(En)}function Nt(kt,Rt,$t,nn){Rt.flowing&&Rt.length===0&&!Rt.sync?(kt.emit("data",$t),kt.read(0)):(Rt.length+=Rt.objectMode?1:$t.length,nn?Rt.buffer.unshift($t):Rt.buffer.push($t),Rt.needReadable&&rn(kt)),St(kt,Rt)}Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(kt){this._readableState&&(this._readableState.destroyed=kt)}}),Tt.prototype.destroy=Qt.destroy,Tt.prototype._undestroy=Qt.undestroy,Tt.prototype._destroy=function(kt,Rt){this.push(null),Rt(kt)},Tt.prototype.push=function(kt,Rt){var $t,nn=this._readableState;return nn.objectMode?$t=!0:typeof kt=="string"&&((Rt=Rt||nn.defaultEncoding)!==nn.encoding&&(kt=ct.from(kt,Rt),Rt=""),$t=!0),mt(this,kt,Rt,!1,$t)},Tt.prototype.unshift=function(kt){return mt(this,kt,null,!0,!1)},Tt.prototype.isPaused=function(){return this._readableState.flowing===!1},Tt.prototype.setEncoding=function(kt){return yt||(yt=s(22).StringDecoder),this._readableState.decoder=new yt(kt),this._readableState.encoding=kt,this};function en(kt,Rt){return kt<=0||Rt.length===0&&Rt.ended?0:Rt.objectMode?1:kt!=kt?Rt.flowing&&Rt.length?Rt.buffer.head.data.length:Rt.length:(kt>Rt.highWaterMark&&(Rt.highWaterMark=function($t){return $t>=8388608?$t=8388608:($t--,$t|=$t>>>1,$t|=$t>>>2,$t|=$t>>>4,$t|=$t>>>8,$t|=$t>>>16,$t++),$t}(kt)),kt<=Rt.length?kt:Rt.ended?Rt.length:(Rt.needReadable=!0,0))}function rn(kt){var Rt=kt._readableState;Rt.needReadable=!1,Rt.emittedReadable||(ut("emitReadable",Rt.flowing),Rt.emittedReadable=!0,Rt.sync?_e.nextTick(Ft,kt):Ft(kt))}function Ft(kt){ut("emit readable"),kt.emit("readable"),qt(kt)}function St(kt,Rt){Rt.readingMore||(Rt.readingMore=!0,_e.nextTick(Pt,kt,Rt))}function Pt(kt,Rt){for(var $t=Rt.length;!Rt.reading&&!Rt.flowing&&!Rt.ended&&Rt.length<Rt.highWaterMark&&(ut("maybeReadMore read 0"),kt.read(0),$t!==Rt.length);)$t=Rt.length;Rt.readingMore=!1}function Bt(kt){ut("readable nexttick read 0"),kt.read(0)}function jt(kt,Rt){Rt.reading||(ut("resume read 0"),kt.read(0)),Rt.resumeScheduled=!1,Rt.awaitDrain=0,kt.emit("resume"),qt(kt),Rt.flowing&&!Rt.reading&&kt.read(0)}function qt(kt){var Rt=kt._readableState;for(ut("flow",Rt.flowing);Rt.flowing&&kt.read()!==null;);}function Zt(kt,Rt){return Rt.length===0?null:(Rt.objectMode?$t=Rt.buffer.shift():!kt||kt>=Rt.length?($t=Rt.decoder?Rt.buffer.join(""):Rt.buffer.length===1?Rt.buffer.head.data:Rt.buffer.concat(Rt.length),Rt.buffer.clear()):$t=function(nn,Un,Fn){var En;return nn<Un.head.data.length?(En=Un.head.data.slice(0,nn),Un.head.data=Un.head.data.slice(nn)):En=nn===Un.head.data.length?Un.shift():Fn?function(fn,sn){var Ct=sn.head,Dt=1,Xt=Ct.data;for(fn-=Xt.length;Ct=Ct.next;){var _n=Ct.data,mn=fn>_n.length?_n.length:fn;if(mn===_n.length?Xt+=_n:Xt+=_n.slice(0,fn),(fn-=mn)===0){mn===_n.length?(++Dt,Ct.next?sn.head=Ct.next:sn.head=sn.tail=null):(sn.head=Ct,Ct.data=_n.slice(mn));break}++Dt}return sn.length-=Dt,Xt}(nn,Un):function(fn,sn){var Ct=ct.allocUnsafe(fn),Dt=sn.head,Xt=1;for(Dt.data.copy(Ct),fn-=Dt.data.length;Dt=Dt.next;){var _n=Dt.data,mn=fn>_n.length?_n.length:fn;if(_n.copy(Ct,Ct.length-fn,0,mn),(fn-=mn)===0){mn===_n.length?(++Xt,Dt.next?sn.head=Dt.next:sn.head=sn.tail=null):(sn.head=Dt,Dt.data=_n.slice(mn));break}++Xt}return sn.length-=Xt,Ct}(nn,Un),En}(kt,Rt.buffer,Rt.decoder),$t);var $t}function Wt(kt){var Rt=kt._readableState;if(Rt.length>0)throw new Error('"endReadable()" called on non-empty stream');Rt.endEmitted||(Rt.ended=!0,_e.nextTick(Gt,Rt,kt))}function Gt(kt,Rt){kt.endEmitted||kt.length!==0||(kt.endEmitted=!0,Rt.readable=!1,Rt.emit("end"))}function Ht(kt,Rt){for(var $t=0,nn=kt.length;$t<nn;$t++)if(kt[$t]===Rt)return $t;return-1}Tt.prototype.read=function(kt){ut("read",kt),kt=parseInt(kt,10);var Rt=this._readableState,$t=kt;if(kt!==0&&(Rt.emittedReadable=!1),kt===0&&Rt.needReadable&&(Rt.length>=Rt.highWaterMark||Rt.ended))return ut("read: emitReadable",Rt.length,Rt.ended),Rt.length===0&&Rt.ended?Wt(this):rn(this),null;if((kt=en(kt,Rt))===0&&Rt.ended)return Rt.length===0&&Wt(this),null;var nn,Un=Rt.needReadable;return ut("need readable",Un),(Rt.length===0||Rt.length-kt<Rt.highWaterMark)&&ut("length less than watermark",Un=!0),Rt.ended||Rt.reading?ut("reading or ended",Un=!1):Un&&(ut("do read"),Rt.reading=!0,Rt.sync=!0,Rt.length===0&&(Rt.needReadable=!0),this._read(Rt.highWaterMark),Rt.sync=!1,Rt.reading||(kt=en($t,Rt))),(nn=kt>0?Zt(kt,Rt):null)===null?(Rt.needReadable=!0,kt=0):Rt.length-=kt,Rt.length===0&&(Rt.ended||(Rt.needReadable=!0),$t!==kt&&Rt.ended&&Wt(this)),nn!==null&&this.emit("data",nn),nn},Tt.prototype._read=function(kt){this.emit("error",new Error("_read() is not implemented"))},Tt.prototype.pipe=function(kt,Rt){var $t=this,nn=this._readableState;switch(nn.pipesCount){case 0:nn.pipes=kt;break;case 1:nn.pipes=[nn.pipes,kt];break;default:nn.pipes.push(kt)}nn.pipesCount+=1,ut("pipe count=%d opts=%j",nn.pipesCount,Rt);var Un=(!Rt||Rt.end!==!1)&&kt!==$.stdout&&kt!==$.stderr?En:xn;function Fn(On,nr){ut("onunpipe"),On===$t&&nr&&nr.hasUnpiped===!1&&(nr.hasUnpiped=!0,ut("cleanup"),kt.removeListener("close",_n),kt.removeListener("finish",mn),kt.removeListener("drain",fn),kt.removeListener("error",Xt),kt.removeListener("unpipe",Fn),$t.removeListener("end",En),$t.removeListener("end",xn),$t.removeListener("data",Dt),sn=!0,!nn.awaitDrain||kt._writableState&&!kt._writableState.needDrain||fn())}function En(){ut("onend"),kt.end()}nn.endEmitted?_e.nextTick(Un):$t.once("end",Un),kt.on("unpipe",Fn);var fn=function(On){return function(){var nr=On._readableState;ut("pipeOnDrain",nr.awaitDrain),nr.awaitDrain&&nr.awaitDrain--,nr.awaitDrain===0&&nt(On,"data")&&(nr.flowing=!0,qt(On))}}($t);kt.on("drain",fn);var sn=!1,Ct=!1;function Dt(On){ut("ondata"),Ct=!1,kt.write(On)!==!1||Ct||((nn.pipesCount===1&&nn.pipes===kt||nn.pipesCount>1&&Ht(nn.pipes,kt)!==-1)&&!sn&&(ut("false write response, pause",$t._readableState.awaitDrain),$t._readableState.awaitDrain++,Ct=!0),$t.pause())}function Xt(On){ut("onerror",On),xn(),kt.removeListener("error",Xt),nt(kt,"error")===0&&kt.emit("error",On)}function _n(){kt.removeListener("finish",mn),xn()}function mn(){ut("onfinish"),kt.removeListener("close",_n),xn()}function xn(){ut("unpipe"),$t.unpipe(kt)}return $t.on("data",Dt),function(On,nr,Nr){if(typeof On.prependListener=="function")return On.prependListener(nr,Nr);On._events&&On._events[nr]?j(On._events[nr])?On._events[nr].unshift(Nr):On._events[nr]=[Nr,On._events[nr]]:On.on(nr,Nr)}(kt,"error",Xt),kt.once("close",_n),kt.once("finish",mn),kt.emit("pipe",$t),nn.flowing||(ut("pipe resume"),$t.resume()),kt},Tt.prototype.unpipe=function(kt){var Rt=this._readableState,$t={hasUnpiped:!1};if(Rt.pipesCount===0)return this;if(Rt.pipesCount===1)return kt&&kt!==Rt.pipes||(kt||(kt=Rt.pipes),Rt.pipes=null,Rt.pipesCount=0,Rt.flowing=!1,kt&&kt.emit("unpipe",this,$t)),this;if(!kt){var nn=Rt.pipes,Un=Rt.pipesCount;Rt.pipes=null,Rt.pipesCount=0,Rt.flowing=!1;for(var Fn=0;Fn<Un;Fn++)nn[Fn].emit("unpipe",this,$t);return this}var En=Ht(Rt.pipes,kt);return En===-1||(Rt.pipes.splice(En,1),Rt.pipesCount-=1,Rt.pipesCount===1&&(Rt.pipes=Rt.pipes[0]),kt.emit("unpipe",this,$t)),this},Tt.prototype.on=function(kt,Rt){var $t=ot.prototype.on.call(this,kt,Rt);if(kt==="data")this._readableState.flowing!==!1&&this.resume();else if(kt==="readable"){var nn=this._readableState;nn.endEmitted||nn.readableListening||(nn.readableListening=nn.needReadable=!0,nn.emittedReadable=!1,nn.reading?nn.length&&rn(this):_e.nextTick(Bt,this))}return $t},Tt.prototype.addListener=Tt.prototype.on,Tt.prototype.resume=function(){var kt=this._readableState;return kt.flowing||(ut("resume"),kt.flowing=!0,function(Rt,$t){$t.resumeScheduled||($t.resumeScheduled=!0,_e.nextTick(jt,Rt,$t))}(this,kt)),this},Tt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Tt.prototype.wrap=function(kt){var Rt=this,$t=this._readableState,nn=!1;for(var Un in kt.on("end",function(){if(ut("wrapped end"),$t.decoder&&!$t.ended){var En=$t.decoder.end();En&&En.length&&Rt.push(En)}Rt.push(null)}),kt.on("data",function(En){ut("wrapped data"),$t.decoder&&(En=$t.decoder.write(En)),$t.objectMode&&En==null||($t.objectMode||En&&En.length)&&(Rt.push(En)||(nn=!0,kt.pause()))}),kt)this[Un]===void 0&&typeof kt[Un]=="function"&&(this[Un]=function(En){return function(){return kt[En].apply(kt,arguments)}}(Un));for(var Fn=0;Fn<It.length;Fn++)kt.on(It[Fn],this.emit.bind(this,It[Fn]));return this._read=function(En){ut("wrapped _read",En),nn&&(nn=!1,kt.resume())},this},Object.defineProperty(Tt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Tt._fromList=Zt}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(_e,et){_e.emit("error",et)}i.exports={destroy:function(_e,et){var j=this,nt=this._readableState&&this._readableState.destroyed,ot=this._writableState&&this._writableState.destroyed;return nt||ot?(et?et(_e):!_e||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,_e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_e||null,function(ct){!et&&ct?(_.nextTick($,j,ct),j._writableState&&(j._writableState.errorEmitted=!0)):et&&et(ct)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o,s){i.exports=et;var _=s(23),$=s(17);function _e(ot,ct){var gt=this._transformState;gt.transforming=!1;var pt=gt.writecb;if(!pt)return this.emit("error",new Error("write callback called multiple times"));gt.writechunk=null,gt.writecb=null,ct!=null&&this.push(ct),pt(ot);var ft=this._readableState;ft.reading=!1,(ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}function et(ot){if(!(this instanceof et))return new et(ot);_.call(this,ot),this._transformState={afterTransform:_e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ot&&(typeof ot.transform=="function"&&(this._transform=ot.transform),typeof ot.flush=="function"&&(this._flush=ot.flush)),this.on("prefinish",j)}function j(){var ot=this;typeof this._flush=="function"?this._flush(function(ct,gt){nt(ot,ct,gt)}):nt(this,null,null)}function nt(ot,ct,gt){if(ct)return ot.emit("error",ct);if(gt!=null&&ot.push(gt),ot._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(ot._transformState.transforming)throw new Error("Calling transform done when still transforming");return ot.push(null)}$.inherits=s(7),$.inherits(et,_),et.prototype.push=function(ot,ct){return this._transformState.needTransform=!1,_.prototype.push.call(this,ot,ct)},et.prototype._transform=function(ot,ct,gt){throw new Error("_transform() is not implemented")},et.prototype._write=function(ot,ct,gt){var pt=this._transformState;if(pt.writecb=gt,pt.writechunk=ot,pt.writeencoding=ct,!pt.transforming){var ft=this._readableState;(pt.needTransform||ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}},et.prototype._read=function(ot){var ct=this._transformState;ct.writechunk!==null&&ct.writecb&&!ct.transforming?(ct.transforming=!0,this._transform(ct.writechunk,ct.writeencoding,ct.afterTransform)):ct.needTransform=!0},et.prototype._destroy=function(ot,ct){var gt=this;_.prototype._destroy.call(this,ot,function(pt){ct(pt),gt.emit("close")})}},function(i,o,s){i.exports=s(48)},function(i,o,s){(function(_){var $=s(170);function _e(Ft,St){if(Ft===St)return 0;for(var Pt=Ft.length,Bt=St.length,jt=0,qt=Math.min(Pt,Bt);jt<qt;++jt)if(Ft[jt]!==St[jt]){Pt=Ft[jt],Bt=St[jt];break}return Pt<Bt?-1:Bt<Pt?1:0}function et(Ft){return _.Buffer&&typeof _.Buffer.isBuffer=="function"?_.Buffer.isBuffer(Ft):!(Ft==null||!Ft._isBuffer)}var j=s(13),nt=Object.prototype.hasOwnProperty,ot=Array.prototype.slice,ct=function(){}.name==="foo";function gt(Ft){return Object.prototype.toString.call(Ft)}function pt(Ft){return!et(Ft)&&typeof _.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(Ft):!!Ft&&(Ft instanceof DataView||!!(Ft.buffer&&Ft.buffer instanceof ArrayBuffer)))}var ft=i.exports=xt,ut=/\s*function\s+([^\(\s]*)\s*/;function yt(Ft){if(j.isFunction(Ft)){if(ct)return Ft.name;var St=Ft.toString().match(ut);return St&&St[1]}}function wt(Ft,St){return typeof Ft=="string"?Ft.length<St?Ft:Ft.slice(0,St):Ft}function Qt(Ft){if(ct||!j.isFunction(Ft))return j.inspect(Ft);var St=yt(Ft);return"[Function"+(St?": "+St:"")+"]"}function It(Ft,St,Pt,Bt,jt){throw new ft.AssertionError({message:Pt,actual:Ft,expected:St,operator:Bt,stackStartFunction:jt})}function xt(Ft,St){Ft||It(Ft,!0,St,"==",ft.ok)}function Tt(Ft,St,Pt,Bt){if(Ft===St)return!0;if(et(Ft)&&et(St))return _e(Ft,St)===0;if(j.isDate(Ft)&&j.isDate(St))return Ft.getTime()===St.getTime();if(j.isRegExp(Ft)&&j.isRegExp(St))return Ft.source===St.source&&Ft.global===St.global&&Ft.multiline===St.multiline&&Ft.lastIndex===St.lastIndex&&Ft.ignoreCase===St.ignoreCase;if(Ft!==null&&typeof Ft=="object"||St!==null&&typeof St=="object"){if(pt(Ft)&&pt(St)&&gt(Ft)===gt(St)&&!(Ft instanceof Float32Array||Ft instanceof Float64Array))return _e(new Uint8Array(Ft.buffer),new Uint8Array(St.buffer))===0;if(et(Ft)!==et(St))return!1;var jt=(Bt=Bt||{actual:[],expected:[]}).actual.indexOf(Ft);return jt!==-1&&jt===Bt.expected.indexOf(St)||(Bt.actual.push(Ft),Bt.expected.push(St),function(qt,Zt,Wt,Gt){if(qt==null||Zt==null)return!1;if(j.isPrimitive(qt)||j.isPrimitive(Zt))return qt===Zt;if(Wt&&Object.getPrototypeOf(qt)!==Object.getPrototypeOf(Zt))return!1;var Ht=mt(qt),kt=mt(Zt);if(Ht&&!kt||!Ht&&kt)return!1;if(Ht)return qt=ot.call(qt),Zt=ot.call(Zt),Tt(qt,Zt,Wt);var Rt,$t,nn=rn(qt),Un=rn(Zt);if(nn.length!==Un.length)return!1;for(nn.sort(),Un.sort(),$t=nn.length-1;$t>=0;$t--)if(nn[$t]!==Un[$t])return!1;for($t=nn.length-1;$t>=0;$t--)if(Rt=nn[$t],!Tt(qt[Rt],Zt[Rt],Wt,Gt))return!1;return!0}(Ft,St,Pt,Bt))}return Pt?Ft===St:Ft==St}function mt(Ft){return Object.prototype.toString.call(Ft)=="[object Arguments]"}function Nt(Ft,St){if(!Ft||!St)return!1;if(Object.prototype.toString.call(St)=="[object RegExp]")return St.test(Ft);try{if(Ft instanceof St)return!0}catch{}return!Error.isPrototypeOf(St)&&St.call({},Ft)===!0}function en(Ft,St,Pt,Bt){var jt;if(typeof St!="function")throw new TypeError('"block" argument must be a function');typeof Pt=="string"&&(Bt=Pt,Pt=null),jt=function(Wt){var Gt;try{Wt()}catch(Ht){Gt=Ht}return Gt}(St),Bt=(Pt&&Pt.name?" ("+Pt.name+").":".")+(Bt?" "+Bt:"."),Ft&&!jt&&It(jt,Pt,"Missing expected exception"+Bt);var qt=typeof Bt=="string",Zt=!Ft&&jt&&!Pt;if((!Ft&&j.isError(jt)&&qt&&Nt(jt,Pt)||Zt)&&It(jt,Pt,"Got unwanted exception"+Bt),Ft&&jt&&Pt&&!Nt(jt,Pt)||!Ft&&jt)throw jt}ft.AssertionError=function(Ft){this.name="AssertionError",this.actual=Ft.actual,this.expected=Ft.expected,this.operator=Ft.operator,Ft.message?(this.message=Ft.message,this.generatedMessage=!1):(this.message=function(Wt){return wt(Qt(Wt.actual),128)+" "+Wt.operator+" "+wt(Qt(Wt.expected),128)}(this),this.generatedMessage=!0);var St=Ft.stackStartFunction||It;if(Error.captureStackTrace)Error.captureStackTrace(this,St);else{var Pt=new Error;if(Pt.stack){var Bt=Pt.stack,jt=yt(St),qt=Bt.indexOf(`
`+jt);if(qt>=0){var Zt=Bt.indexOf(`
`,qt+1);Bt=Bt.substring(Zt+1)}this.stack=Bt}}},j.inherits(ft.AssertionError,Error),ft.fail=It,ft.ok=xt,ft.equal=function(Ft,St,Pt){Ft!=St&&It(Ft,St,Pt,"==",ft.equal)},ft.notEqual=function(Ft,St,Pt){Ft==St&&It(Ft,St,Pt,"!=",ft.notEqual)},ft.deepEqual=function(Ft,St,Pt){Tt(Ft,St,!1)||It(Ft,St,Pt,"deepEqual",ft.deepEqual)},ft.deepStrictEqual=function(Ft,St,Pt){Tt(Ft,St,!0)||It(Ft,St,Pt,"deepStrictEqual",ft.deepStrictEqual)},ft.notDeepEqual=function(Ft,St,Pt){Tt(Ft,St,!1)&&It(Ft,St,Pt,"notDeepEqual",ft.notDeepEqual)},ft.notDeepStrictEqual=function Ft(St,Pt,Bt){Tt(St,Pt,!0)&&It(St,Pt,Bt,"notDeepStrictEqual",Ft)},ft.strictEqual=function(Ft,St,Pt){Ft!==St&&It(Ft,St,Pt,"===",ft.strictEqual)},ft.notStrictEqual=function(Ft,St,Pt){Ft===St&&It(Ft,St,Pt,"!==",ft.notStrictEqual)},ft.throws=function(Ft,St,Pt){en(!0,Ft,St,Pt)},ft.doesNotThrow=function(Ft,St,Pt){en(!1,Ft,St,Pt)},ft.ifError=function(Ft){if(Ft)throw Ft},ft.strict=$(function Ft(St,Pt){St||It(St,!0,Pt,"==",Ft)},ft,{equal:ft.strictEqual,deepEqual:ft.deepStrictEqual,notEqual:ft.notStrictEqual,notDeepEqual:ft.notDeepStrictEqual}),ft.strict.strict=ft.strict;var rn=Object.keys||function(Ft){var St=[];for(var Pt in Ft)nt.call(Ft,Pt)&&St.push(Pt);return St}}).call(this,s(6))},function(i,o,s){i.exports=function(_,$,_e,et){for(var j=65535&_|0,nt=_>>>16&65535|0,ot=0;_e!==0;){_e-=ot=_e>2e3?2e3:_e;do nt=nt+(j=j+$[et++]|0)|0;while(--ot);j%=65521,nt%=65521}return j|nt<<16|0}},function(i,o,s){var _=function(){for(var $,_e=[],et=0;et<256;et++){$=et;for(var j=0;j<8;j++)$=1&$?3988292384^$>>>1:$>>>1;_e[et]=$}return _e}();i.exports=function($,_e,et,j){var nt=_,ot=j+et;$^=-1;for(var ct=j;ct<ot;ct++)$=$>>>8^nt[255&($^_e[ct])];return-1^$}},function(i,o,s){(function(_,$){var _e;i.exports=St,St.ReadableState=Ft,s(21).EventEmitter;var et=function(fn,sn){return fn.listeners(sn).length},j=s(78),nt=s(5).Buffer,ot=_.Uint8Array||function(){},ct,gt=s(179);ct=gt&&gt.debuglog?gt.debuglog("stream"):function(){};var pt,ft,ut,yt=s(180),wt=s(79),Qt=s(80).getHighWaterMark,It=s(26).codes,xt=It.ERR_INVALID_ARG_TYPE,Tt=It.ERR_STREAM_PUSH_AFTER_EOF,mt=It.ERR_METHOD_NOT_IMPLEMENTED,Nt=It.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;s(7)(St,j);var en=wt.errorOrDestroy,rn=["error","close","destroy","pause","resume"];function Ft(fn,sn,Ct){_e=_e||s(27),fn=fn||{},typeof Ct!="boolean"&&(Ct=sn instanceof _e),this.objectMode=!!fn.objectMode,Ct&&(this.objectMode=this.objectMode||!!fn.readableObjectMode),this.highWaterMark=Qt(this,fn,"readableHighWaterMark",Ct),this.buffer=new yt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=fn.emitClose!==!1,this.autoDestroy=!!fn.autoDestroy,this.destroyed=!1,this.defaultEncoding=fn.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,fn.encoding&&(pt||(pt=s(22).StringDecoder),this.decoder=new pt(fn.encoding),this.encoding=fn.encoding)}function St(fn){if(_e=_e||s(27),!(this instanceof St))return new St(fn);var sn=this instanceof _e;this._readableState=new Ft(fn,this,sn),this.readable=!0,fn&&(typeof fn.read=="function"&&(this._read=fn.read),typeof fn.destroy=="function"&&(this._destroy=fn.destroy)),j.call(this)}function Pt(fn,sn,Ct,Dt,Xt){ct("readableAddChunk",sn);var _n,mn=fn._readableState;if(sn===null)mn.reading=!1,function(xn,On){if(ct("onEofChunk"),!On.ended){if(On.decoder){var nr=On.decoder.end();nr&&nr.length&&(On.buffer.push(nr),On.length+=On.objectMode?1:nr.length)}On.ended=!0,On.sync?qt(xn):(On.needReadable=!1,On.emittedReadable||(On.emittedReadable=!0,Zt(xn)))}}(fn,mn);else if(Xt||(_n=function(xn,On){var nr;Nr=On,nt.isBuffer(Nr)||Nr instanceof ot||typeof On=="string"||On===void 0||xn.objectMode||(nr=new xt("chunk",["string","Buffer","Uint8Array"],On));var Nr;return nr}(mn,sn)),_n)en(fn,_n);else if(mn.objectMode||sn&&sn.length>0)if(typeof sn=="string"||mn.objectMode||Object.getPrototypeOf(sn)===nt.prototype||(sn=function(xn){return nt.from(xn)}(sn)),Dt)mn.endEmitted?en(fn,new Nt):Bt(fn,mn,sn,!0);else if(mn.ended)en(fn,new Tt);else{if(mn.destroyed)return!1;mn.reading=!1,mn.decoder&&!Ct?(sn=mn.decoder.write(sn),mn.objectMode||sn.length!==0?Bt(fn,mn,sn,!1):Wt(fn,mn)):Bt(fn,mn,sn,!1)}else Dt||(mn.reading=!1,Wt(fn,mn));return!mn.ended&&(mn.length<mn.highWaterMark||mn.length===0)}function Bt(fn,sn,Ct,Dt){sn.flowing&&sn.length===0&&!sn.sync?(sn.awaitDrain=0,fn.emit("data",Ct)):(sn.length+=sn.objectMode?1:Ct.length,Dt?sn.buffer.unshift(Ct):sn.buffer.push(Ct),sn.needReadable&&qt(fn)),Wt(fn,sn)}Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(fn){this._readableState&&(this._readableState.destroyed=fn)}}),St.prototype.destroy=wt.destroy,St.prototype._undestroy=wt.undestroy,St.prototype._destroy=function(fn,sn){sn(fn)},St.prototype.push=function(fn,sn){var Ct,Dt=this._readableState;return Dt.objectMode?Ct=!0:typeof fn=="string"&&((sn=sn||Dt.defaultEncoding)!==Dt.encoding&&(fn=nt.from(fn,sn),sn=""),Ct=!0),Pt(this,fn,sn,!1,Ct)},St.prototype.unshift=function(fn){return Pt(this,fn,null,!0,!1)},St.prototype.isPaused=function(){return this._readableState.flowing===!1},St.prototype.setEncoding=function(fn){pt||(pt=s(22).StringDecoder);var sn=new pt(fn);this._readableState.decoder=sn,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ct=this._readableState.buffer.head,Dt="";Ct!==null;)Dt+=sn.write(Ct.data),Ct=Ct.next;return this._readableState.buffer.clear(),Dt!==""&&this._readableState.buffer.push(Dt),this._readableState.length=Dt.length,this};function jt(fn,sn){return fn<=0||sn.length===0&&sn.ended?0:sn.objectMode?1:fn!=fn?sn.flowing&&sn.length?sn.buffer.head.data.length:sn.length:(fn>sn.highWaterMark&&(sn.highWaterMark=function(Ct){return Ct>=1073741824?Ct=1073741824:(Ct--,Ct|=Ct>>>1,Ct|=Ct>>>2,Ct|=Ct>>>4,Ct|=Ct>>>8,Ct|=Ct>>>16,Ct++),Ct}(fn)),fn<=sn.length?fn:sn.ended?sn.length:(sn.needReadable=!0,0))}function qt(fn){var sn=fn._readableState;ct("emitReadable",sn.needReadable,sn.emittedReadable),sn.needReadable=!1,sn.emittedReadable||(ct("emitReadable",sn.flowing),sn.emittedReadable=!0,$.nextTick(Zt,fn))}function Zt(fn){var sn=fn._readableState;ct("emitReadable_",sn.destroyed,sn.length,sn.ended),sn.destroyed||!sn.length&&!sn.ended||(fn.emit("readable"),sn.emittedReadable=!1),sn.needReadable=!sn.flowing&&!sn.ended&&sn.length<=sn.highWaterMark,$t(fn)}function Wt(fn,sn){sn.readingMore||(sn.readingMore=!0,$.nextTick(Gt,fn,sn))}function Gt(fn,sn){for(;!sn.reading&&!sn.ended&&(sn.length<sn.highWaterMark||sn.flowing&&sn.length===0);){var Ct=sn.length;if(ct("maybeReadMore read 0"),fn.read(0),Ct===sn.length)break}sn.readingMore=!1}function Ht(fn){var sn=fn._readableState;sn.readableListening=fn.listenerCount("readable")>0,sn.resumeScheduled&&!sn.paused?sn.flowing=!0:fn.listenerCount("data")>0&&fn.resume()}function kt(fn){ct("readable nexttick read 0"),fn.read(0)}function Rt(fn,sn){ct("resume",sn.reading),sn.reading||fn.read(0),sn.resumeScheduled=!1,fn.emit("resume"),$t(fn),sn.flowing&&!sn.reading&&fn.read(0)}function $t(fn){var sn=fn._readableState;for(ct("flow",sn.flowing);sn.flowing&&fn.read()!==null;);}function nn(fn,sn){return sn.length===0?null:(sn.objectMode?Ct=sn.buffer.shift():!fn||fn>=sn.length?(Ct=sn.decoder?sn.buffer.join(""):sn.buffer.length===1?sn.buffer.first():sn.buffer.concat(sn.length),sn.buffer.clear()):Ct=sn.buffer.consume(fn,sn.decoder),Ct);var Ct}function Un(fn){var sn=fn._readableState;ct("endReadable",sn.endEmitted),sn.endEmitted||(sn.ended=!0,$.nextTick(Fn,sn,fn))}function Fn(fn,sn){if(ct("endReadableNT",fn.endEmitted,fn.length),!fn.endEmitted&&fn.length===0&&(fn.endEmitted=!0,sn.readable=!1,sn.emit("end"),fn.autoDestroy)){var Ct=sn._writableState;(!Ct||Ct.autoDestroy&&Ct.finished)&&sn.destroy()}}function En(fn,sn){for(var Ct=0,Dt=fn.length;Ct<Dt;Ct++)if(fn[Ct]===sn)return Ct;return-1}St.prototype.read=function(fn){ct("read",fn),fn=parseInt(fn,10);var sn=this._readableState,Ct=fn;if(fn!==0&&(sn.emittedReadable=!1),fn===0&&sn.needReadable&&((sn.highWaterMark!==0?sn.length>=sn.highWaterMark:sn.length>0)||sn.ended))return ct("read: emitReadable",sn.length,sn.ended),sn.length===0&&sn.ended?Un(this):qt(this),null;if((fn=jt(fn,sn))===0&&sn.ended)return sn.length===0&&Un(this),null;var Dt,Xt=sn.needReadable;return ct("need readable",Xt),(sn.length===0||sn.length-fn<sn.highWaterMark)&&ct("length less than watermark",Xt=!0),sn.ended||sn.reading?ct("reading or ended",Xt=!1):Xt&&(ct("do read"),sn.reading=!0,sn.sync=!0,sn.length===0&&(sn.needReadable=!0),this._read(sn.highWaterMark),sn.sync=!1,sn.reading||(fn=jt(Ct,sn))),(Dt=fn>0?nn(fn,sn):null)===null?(sn.needReadable=sn.length<=sn.highWaterMark,fn=0):(sn.length-=fn,sn.awaitDrain=0),sn.length===0&&(sn.ended||(sn.needReadable=!0),Ct!==fn&&sn.ended&&Un(this)),Dt!==null&&this.emit("data",Dt),Dt},St.prototype._read=function(fn){en(this,new mt("_read()"))},St.prototype.pipe=function(fn,sn){var Ct=this,Dt=this._readableState;switch(Dt.pipesCount){case 0:Dt.pipes=fn;break;case 1:Dt.pipes=[Dt.pipes,fn];break;default:Dt.pipes.push(fn)}Dt.pipesCount+=1,ct("pipe count=%d opts=%j",Dt.pipesCount,sn);var Xt=(!sn||sn.end!==!1)&&fn!==$.stdout&&fn!==$.stderr?mn:mo;function _n(qr,io){ct("onunpipe"),qr===Ct&&io&&io.hasUnpiped===!1&&(io.hasUnpiped=!0,ct("cleanup"),fn.removeListener("close",co),fn.removeListener("finish",Zr),fn.removeListener("drain",xn),fn.removeListener("error",Nr),fn.removeListener("unpipe",_n),Ct.removeListener("end",mn),Ct.removeListener("end",mo),Ct.removeListener("data",nr),On=!0,!Dt.awaitDrain||fn._writableState&&!fn._writableState.needDrain||xn())}function mn(){ct("onend"),fn.end()}Dt.endEmitted?$.nextTick(Xt):Ct.once("end",Xt),fn.on("unpipe",_n);var xn=function(qr){return function(){var io=qr._readableState;ct("pipeOnDrain",io.awaitDrain),io.awaitDrain&&io.awaitDrain--,io.awaitDrain===0&&et(qr,"data")&&(io.flowing=!0,$t(qr))}}(Ct);fn.on("drain",xn);var On=!1;function nr(qr){ct("ondata");var io=fn.write(qr);ct("dest.write",io),io===!1&&((Dt.pipesCount===1&&Dt.pipes===fn||Dt.pipesCount>1&&En(Dt.pipes,fn)!==-1)&&!On&&(ct("false write response, pause",Dt.awaitDrain),Dt.awaitDrain++),Ct.pause())}function Nr(qr){ct("onerror",qr),mo(),fn.removeListener("error",Nr),et(fn,"error")===0&&en(fn,qr)}function co(){fn.removeListener("finish",Zr),mo()}function Zr(){ct("onfinish"),fn.removeListener("close",co),mo()}function mo(){ct("unpipe"),Ct.unpipe(fn)}return Ct.on("data",nr),function(qr,io,lo){if(typeof qr.prependListener=="function")return qr.prependListener(io,lo);qr._events&&qr._events[io]?Array.isArray(qr._events[io])?qr._events[io].unshift(lo):qr._events[io]=[lo,qr._events[io]]:qr.on(io,lo)}(fn,"error",Nr),fn.once("close",co),fn.once("finish",Zr),fn.emit("pipe",Ct),Dt.flowing||(ct("pipe resume"),Ct.resume()),fn},St.prototype.unpipe=function(fn){var sn=this._readableState,Ct={hasUnpiped:!1};if(sn.pipesCount===0)return this;if(sn.pipesCount===1)return fn&&fn!==sn.pipes||(fn||(fn=sn.pipes),sn.pipes=null,sn.pipesCount=0,sn.flowing=!1,fn&&fn.emit("unpipe",this,Ct)),this;if(!fn){var Dt=sn.pipes,Xt=sn.pipesCount;sn.pipes=null,sn.pipesCount=0,sn.flowing=!1;for(var _n=0;_n<Xt;_n++)Dt[_n].emit("unpipe",this,{hasUnpiped:!1});return this}var mn=En(sn.pipes,fn);return mn===-1||(sn.pipes.splice(mn,1),sn.pipesCount-=1,sn.pipesCount===1&&(sn.pipes=sn.pipes[0]),fn.emit("unpipe",this,Ct)),this},St.prototype.on=function(fn,sn){var Ct=j.prototype.on.call(this,fn,sn),Dt=this._readableState;return fn==="data"?(Dt.readableListening=this.listenerCount("readable")>0,Dt.flowing!==!1&&this.resume()):fn==="readable"&&(Dt.endEmitted||Dt.readableListening||(Dt.readableListening=Dt.needReadable=!0,Dt.flowing=!1,Dt.emittedReadable=!1,ct("on readable",Dt.length,Dt.reading),Dt.length?qt(this):Dt.reading||$.nextTick(kt,this))),Ct},St.prototype.addListener=St.prototype.on,St.prototype.removeListener=function(fn,sn){var Ct=j.prototype.removeListener.call(this,fn,sn);return fn==="readable"&&$.nextTick(Ht,this),Ct},St.prototype.removeAllListeners=function(fn){var sn=j.prototype.removeAllListeners.apply(this,arguments);return fn!=="readable"&&fn!==void 0||$.nextTick(Ht,this),sn},St.prototype.resume=function(){var fn=this._readableState;return fn.flowing||(ct("resume"),fn.flowing=!fn.readableListening,function(sn,Ct){Ct.resumeScheduled||(Ct.resumeScheduled=!0,$.nextTick(Rt,sn,Ct))}(this,fn)),fn.paused=!1,this},St.prototype.pause=function(){return ct("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ct("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},St.prototype.wrap=function(fn){var sn=this,Ct=this._readableState,Dt=!1;for(var Xt in fn.on("end",function(){if(ct("wrapped end"),Ct.decoder&&!Ct.ended){var mn=Ct.decoder.end();mn&&mn.length&&sn.push(mn)}sn.push(null)}),fn.on("data",function(mn){ct("wrapped data"),Ct.decoder&&(mn=Ct.decoder.write(mn)),Ct.objectMode&&mn==null||(Ct.objectMode||mn&&mn.length)&&(sn.push(mn)||(Dt=!0,fn.pause()))}),fn)this[Xt]===void 0&&typeof fn[Xt]=="function"&&(this[Xt]=function(mn){return function(){return fn[mn].apply(fn,arguments)}}(Xt));for(var _n=0;_n<rn.length;_n++)fn.on(rn[_n],this.emit.bind(this,rn[_n]));return this._read=function(mn){ct("wrapped _read",mn),Dt&&(Dt=!1,fn.resume())},this},typeof Symbol=="function"&&(St.prototype[Symbol.asyncIterator]=function(){return ft===void 0&&(ft=s(182)),ft(this)}),Object.defineProperty(St.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(St.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(St.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(fn){this._readableState&&(this._readableState.flowing=fn)}}),St._fromList=nn,Object.defineProperty(St.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(St.from=function(fn,sn){return ut===void 0&&(ut=s(183)),ut(St,fn,sn)})}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){(function(_){function $(j,nt){et(j,nt),_e(j)}function _e(j){j._writableState&&!j._writableState.emitClose||j._readableState&&!j._readableState.emitClose||j.emit("close")}function et(j,nt){j.emit("error",nt)}i.exports={destroy:function(j,nt){var ot=this,ct=this._readableState&&this._readableState.destroyed,gt=this._writableState&&this._writableState.destroyed;return ct||gt?(nt?nt(j):j&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(et,this,j)):_.nextTick(et,this,j)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(pt){!nt&&pt?ot._writableState?ot._writableState.errorEmitted?_.nextTick(_e,ot):(ot._writableState.errorEmitted=!0,_.nextTick($,ot,pt)):_.nextTick($,ot,pt):nt?(_.nextTick(_e,ot),nt(pt)):_.nextTick(_e,ot)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(j,nt){var ot=j._readableState,ct=j._writableState;ot&&ot.autoDestroy||ct&&ct.autoDestroy?j.destroy(nt):j.emit("error",nt)}}}).call(this,s(2))},function(i,o,s){var _=s(26).codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function($,_e,et,j){var nt=function(ot,ct,gt){return ot.highWaterMark!=null?ot.highWaterMark:ct?ot[gt]:null}(_e,j,et);if(nt!=null){if(!isFinite(nt)||Math.floor(nt)!==nt||nt<0)throw new _(j?et:"highWaterMark",nt);return Math.floor(nt)}return $.objectMode?16:16384}}},function(i,o,s){(function(_,$){function _e(Gt){var Ht=this;this.next=null,this.entry=null,this.finish=function(){(function(kt,Rt,$t){var nn=kt.entry;for(kt.entry=null;nn;){var Un=nn.callback;Rt.pendingcb--,Un($t),nn=nn.next}Rt.corkedRequestsFree.next=kt})(Ht,Gt)}}var et;i.exports=St,St.WritableState=Ft;var j={deprecate:s(43)},nt=s(78),ot=s(5).Buffer,ct=_.Uint8Array||function(){},gt,pt=s(79),ft=s(80).getHighWaterMark,ut=s(26).codes,yt=ut.ERR_INVALID_ARG_TYPE,wt=ut.ERR_METHOD_NOT_IMPLEMENTED,Qt=ut.ERR_MULTIPLE_CALLBACK,It=ut.ERR_STREAM_CANNOT_PIPE,xt=ut.ERR_STREAM_DESTROYED,Tt=ut.ERR_STREAM_NULL_VALUES,mt=ut.ERR_STREAM_WRITE_AFTER_END,Nt=ut.ERR_UNKNOWN_ENCODING,en=pt.errorOrDestroy;function rn(){}function Ft(Gt,Ht,kt){et=et||s(27),Gt=Gt||{},typeof kt!="boolean"&&(kt=Ht instanceof et),this.objectMode=!!Gt.objectMode,kt&&(this.objectMode=this.objectMode||!!Gt.writableObjectMode),this.highWaterMark=ft(this,Gt,"writableHighWaterMark",kt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Rt=Gt.decodeStrings===!1;this.decodeStrings=!Rt,this.defaultEncoding=Gt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($t){(function(nn,Un){var Fn=nn._writableState,En=Fn.sync,fn=Fn.writecb;if(typeof fn!="function")throw new Qt;if(function(Ct){Ct.writing=!1,Ct.writecb=null,Ct.length-=Ct.writelen,Ct.writelen=0}(Fn),Un)(function(Ct,Dt,Xt,_n,mn){--Dt.pendingcb,Xt?($.nextTick(mn,_n),$.nextTick(Wt,Ct,Dt),Ct._writableState.errorEmitted=!0,en(Ct,_n)):(mn(_n),Ct._writableState.errorEmitted=!0,en(Ct,_n),Wt(Ct,Dt))})(nn,Fn,En,Un,fn);else{var sn=qt(Fn)||nn.destroyed;sn||Fn.corked||Fn.bufferProcessing||!Fn.bufferedRequest||jt(nn,Fn),En?$.nextTick(Bt,nn,Fn,sn,fn):Bt(nn,Fn,sn,fn)}})(Ht,$t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Gt.emitClose!==!1,this.autoDestroy=!!Gt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _e(this)}function St(Gt){var Ht=this instanceof(et=et||s(27));if(!Ht&&!gt.call(St,this))return new St(Gt);this._writableState=new Ft(Gt,this,Ht),this.writable=!0,Gt&&(typeof Gt.write=="function"&&(this._write=Gt.write),typeof Gt.writev=="function"&&(this._writev=Gt.writev),typeof Gt.destroy=="function"&&(this._destroy=Gt.destroy),typeof Gt.final=="function"&&(this._final=Gt.final)),nt.call(this)}function Pt(Gt,Ht,kt,Rt,$t,nn,Un){Ht.writelen=Rt,Ht.writecb=Un,Ht.writing=!0,Ht.sync=!0,Ht.destroyed?Ht.onwrite(new xt("write")):kt?Gt._writev($t,Ht.onwrite):Gt._write($t,nn,Ht.onwrite),Ht.sync=!1}function Bt(Gt,Ht,kt,Rt){kt||function($t,nn){nn.length===0&&nn.needDrain&&(nn.needDrain=!1,$t.emit("drain"))}(Gt,Ht),Ht.pendingcb--,Rt(),Wt(Gt,Ht)}function jt(Gt,Ht){Ht.bufferProcessing=!0;var kt=Ht.bufferedRequest;if(Gt._writev&&kt&&kt.next){var Rt=Ht.bufferedRequestCount,$t=new Array(Rt),nn=Ht.corkedRequestsFree;nn.entry=kt;for(var Un=0,Fn=!0;kt;)$t[Un]=kt,kt.isBuf||(Fn=!1),kt=kt.next,Un+=1;$t.allBuffers=Fn,Pt(Gt,Ht,!0,Ht.length,$t,"",nn.finish),Ht.pendingcb++,Ht.lastBufferedRequest=null,nn.next?(Ht.corkedRequestsFree=nn.next,nn.next=null):Ht.corkedRequestsFree=new _e(Ht),Ht.bufferedRequestCount=0}else{for(;kt;){var En=kt.chunk,fn=kt.encoding,sn=kt.callback;if(Pt(Gt,Ht,!1,Ht.objectMode?1:En.length,En,fn,sn),kt=kt.next,Ht.bufferedRequestCount--,Ht.writing)break}kt===null&&(Ht.lastBufferedRequest=null)}Ht.bufferedRequest=kt,Ht.bufferProcessing=!1}function qt(Gt){return Gt.ending&&Gt.length===0&&Gt.bufferedRequest===null&&!Gt.finished&&!Gt.writing}function Zt(Gt,Ht){Gt._final(function(kt){Ht.pendingcb--,kt&&en(Gt,kt),Ht.prefinished=!0,Gt.emit("prefinish"),Wt(Gt,Ht)})}function Wt(Gt,Ht){var kt=qt(Ht);if(kt&&(function($t,nn){nn.prefinished||nn.finalCalled||(typeof $t._final!="function"||nn.destroyed?(nn.prefinished=!0,$t.emit("prefinish")):(nn.pendingcb++,nn.finalCalled=!0,$.nextTick(Zt,$t,nn)))}(Gt,Ht),Ht.pendingcb===0&&(Ht.finished=!0,Gt.emit("finish"),Ht.autoDestroy))){var Rt=Gt._readableState;(!Rt||Rt.autoDestroy&&Rt.endEmitted)&&Gt.destroy()}return kt}s(7)(St,nt),Ft.prototype.getBuffer=function(){for(var Gt=this.bufferedRequest,Ht=[];Gt;)Ht.push(Gt),Gt=Gt.next;return Ht},function(){try{Object.defineProperty(Ft.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(Gt){return!!gt.call(this,Gt)||this===St&&Gt&&Gt._writableState instanceof Ft}})):gt=function(Gt){return Gt instanceof this},St.prototype.pipe=function(){en(this,new It)},St.prototype.write=function(Gt,Ht,kt){var Rt,$t=this._writableState,nn=!1,Un=!$t.objectMode&&(Rt=Gt,ot.isBuffer(Rt)||Rt instanceof ct);return Un&&!ot.isBuffer(Gt)&&(Gt=function(Fn){return ot.from(Fn)}(Gt)),typeof Ht=="function"&&(kt=Ht,Ht=null),Un?Ht="buffer":Ht||(Ht=$t.defaultEncoding),typeof kt!="function"&&(kt=rn),$t.ending?function(Fn,En){var fn=new mt;en(Fn,fn),$.nextTick(En,fn)}(this,kt):(Un||function(Fn,En,fn,sn){var Ct;return fn===null?Ct=new Tt:typeof fn=="string"||En.objectMode||(Ct=new yt("chunk",["string","Buffer"],fn)),!Ct||(en(Fn,Ct),$.nextTick(sn,Ct),!1)}(this,$t,Gt,kt))&&($t.pendingcb++,nn=function(Fn,En,fn,sn,Ct,Dt){if(!fn){var Xt=function(On,nr,Nr){return On.objectMode||On.decodeStrings===!1||typeof nr!="string"||(nr=ot.from(nr,Nr)),nr}(En,sn,Ct);sn!==Xt&&(fn=!0,Ct="buffer",sn=Xt)}var _n=En.objectMode?1:sn.length;En.length+=_n;var mn=En.length<En.highWaterMark;if(mn||(En.needDrain=!0),En.writing||En.corked){var xn=En.lastBufferedRequest;En.lastBufferedRequest={chunk:sn,encoding:Ct,isBuf:fn,callback:Dt,next:null},xn?xn.next=En.lastBufferedRequest:En.bufferedRequest=En.lastBufferedRequest,En.bufferedRequestCount+=1}else Pt(Fn,En,!1,_n,sn,Ct,Dt);return mn}(this,$t,Un,Gt,Ht,kt)),nn},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var Gt=this._writableState;Gt.corked&&(Gt.corked--,Gt.writing||Gt.corked||Gt.bufferProcessing||!Gt.bufferedRequest||jt(this,Gt))},St.prototype.setDefaultEncoding=function(Gt){if(typeof Gt=="string"&&(Gt=Gt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Gt+"").toLowerCase())>-1))throw new Nt(Gt);return this._writableState.defaultEncoding=Gt,this},Object.defineProperty(St.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(Gt,Ht,kt){kt(new wt("_write()"))},St.prototype._writev=null,St.prototype.end=function(Gt,Ht,kt){var Rt=this._writableState;return typeof Gt=="function"?(kt=Gt,Gt=null,Ht=null):typeof Ht=="function"&&(kt=Ht,Ht=null),Gt!=null&&this.write(Gt,Ht),Rt.corked&&(Rt.corked=1,this.uncork()),Rt.ending||function($t,nn,Un){nn.ending=!0,Wt($t,nn),Un&&(nn.finished?$.nextTick(Un):$t.once("finish",Un)),nn.ended=!0,$t.writable=!1}(this,Rt,kt),this},Object.defineProperty(St.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Gt){this._writableState&&(this._writableState.destroyed=Gt)}}),St.prototype.destroy=pt.destroy,St.prototype._undestroy=pt.undestroy,St.prototype._destroy=function(Gt,Ht){Ht(Gt)}}).call(this,s(6),s(2))},function(i,o,s){i.exports=ct;var _=s(26).codes,$=_.ERR_METHOD_NOT_IMPLEMENTED,_e=_.ERR_MULTIPLE_CALLBACK,et=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,j=_.ERR_TRANSFORM_WITH_LENGTH_0,nt=s(27);function ot(ft,ut){var yt=this._transformState;yt.transforming=!1;var wt=yt.writecb;if(wt===null)return this.emit("error",new _e);yt.writechunk=null,yt.writecb=null,ut!=null&&this.push(ut),wt(ft);var Qt=this._readableState;Qt.reading=!1,(Qt.needReadable||Qt.length<Qt.highWaterMark)&&this._read(Qt.highWaterMark)}function ct(ft){if(!(this instanceof ct))return new ct(ft);nt.call(this,ft),this._transformState={afterTransform:ot.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ft&&(typeof ft.transform=="function"&&(this._transform=ft.transform),typeof ft.flush=="function"&&(this._flush=ft.flush)),this.on("prefinish",gt)}function gt(){var ft=this;typeof this._flush!="function"||this._readableState.destroyed?pt(this,null,null):this._flush(function(ut,yt){pt(ft,ut,yt)})}function pt(ft,ut,yt){if(ut)return ft.emit("error",ut);if(yt!=null&&ft.push(yt),ft._writableState.length)throw new j;if(ft._transformState.transforming)throw new et;return ft.push(null)}s(7)(ct,nt),ct.prototype.push=function(ft,ut){return this._transformState.needTransform=!1,nt.prototype.push.call(this,ft,ut)},ct.prototype._transform=function(ft,ut,yt){yt(new $("_transform()"))},ct.prototype._write=function(ft,ut,yt){var wt=this._transformState;if(wt.writecb=yt,wt.writechunk=ft,wt.writeencoding=ut,!wt.transforming){var Qt=this._readableState;(wt.needTransform||Qt.needReadable||Qt.length<Qt.highWaterMark)&&this._read(Qt.highWaterMark)}},ct.prototype._read=function(ft){var ut=this._transformState;ut.writechunk===null||ut.transforming?ut.needTransform=!0:(ut.transforming=!0,this._transform(ut.writechunk,ut.writeencoding,ut.afterTransform))},ct.prototype._destroy=function(ft,ut){nt.prototype._destroy.call(this,ft,function(yt){ut(yt)})}},function(i,o,s){(function(_){var $=s(190),_e=s(85),et=s(192),j=s(193),nt=s(86),ot=o;ot.request=function(ct,gt){ct=typeof ct=="string"?nt.parse(ct):et(ct);var pt=_.location.protocol.search(/^https?:$/)===-1?"http:":"",ft=ct.protocol||pt,ut=ct.hostname||ct.host,yt=ct.port,wt=ct.path||"/";ut&&ut.indexOf(":")!==-1&&(ut="["+ut+"]"),ct.url=(ut?ft+"//"+ut:"")+(yt?":"+yt:"")+wt,ct.method=(ct.method||"GET").toUpperCase(),ct.headers=ct.headers||{};var Qt=new $(ct);return gt&&Qt.on("response",gt),Qt},ot.get=function(ct,gt){var pt=ot.request(ct,gt);return pt.end(),pt},ot.ClientRequest=$,ot.IncomingMessage=_e.IncomingMessage,ot.Agent=function(){},ot.Agent.defaultMaxSockets=4,ot.globalAgent=new ot.Agent,ot.STATUS_CODES=j,ot.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,s(6))},function(i,o,s){(function(_){o.fetch=ot(_.fetch)&&ot(_.ReadableStream),o.writableStream=ot(_.WritableStream),o.abortController=ot(_.AbortController),o.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),o.blobConstructor=!0}catch{}var $;function _e(){if($!==void 0)return $;if(_.XMLHttpRequest){$=new _.XMLHttpRequest;try{$.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{$=null}}else $=null;return $}function et(ct){var gt=_e();if(!gt)return!1;try{return gt.responseType=ct,gt.responseType===ct}catch{}return!1}var j=_.ArrayBuffer!==void 0,nt=j&&ot(_.ArrayBuffer.prototype.slice);function ot(ct){return typeof ct=="function"}o.arraybuffer=o.fetch||j&&et("arraybuffer"),o.msstream=!o.fetch&&nt&&et("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&j&&et("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||!!_e()&&ot(_e().overrideMimeType),o.vbArray=ot(_.VBArray),$=null}).call(this,s(6))},function(i,o,s){(function(_,$,_e){var et=s(84),j=s(7),nt=s(31),ot=o.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ct=o.IncomingMessage=function(gt,pt,ft,ut){var yt=this;if(nt.Readable.call(yt),yt._mode=ft,yt.headers={},yt.rawHeaders=[],yt.trailers={},yt.rawTrailers=[],yt.on("end",function(){_.nextTick(function(){yt.emit("close")})}),ft==="fetch"){if(yt._fetchResponse=pt,yt.url=pt.url,yt.statusCode=pt.status,yt.statusMessage=pt.statusText,pt.headers.forEach(function(Tt,mt){yt.headers[mt.toLowerCase()]=Tt,yt.rawHeaders.push(mt,Tt)}),et.writableStream){var wt=new WritableStream({write:function(Tt){return new Promise(function(mt,Nt){yt._destroyed?Nt():yt.push(new $(Tt))?mt():yt._resumeFetch=mt})},close:function(){_e.clearTimeout(ut),yt._destroyed||yt.push(null)},abort:function(Tt){yt._destroyed||yt.emit("error",Tt)}});try{return void pt.body.pipeTo(wt).catch(function(Tt){_e.clearTimeout(ut),yt._destroyed||yt.emit("error",Tt)})}catch{}}var Qt=pt.body.getReader();(function Tt(){Qt.read().then(function(mt){if(!yt._destroyed){if(mt.done)return _e.clearTimeout(ut),void yt.push(null);yt.push(new $(mt.value)),Tt()}}).catch(function(mt){_e.clearTimeout(ut),yt._destroyed||yt.emit("error",mt)})})()}else if(yt._xhr=gt,yt._pos=0,yt.url=gt.responseURL,yt.statusCode=gt.status,yt.statusMessage=gt.statusText,gt.getAllResponseHeaders().split(/\r?\n/).forEach(function(Tt){var mt=Tt.match(/^([^:]+):\s*(.*)/);if(mt){var Nt=mt[1].toLowerCase();Nt==="set-cookie"?(yt.headers[Nt]===void 0&&(yt.headers[Nt]=[]),yt.headers[Nt].push(mt[2])):yt.headers[Nt]!==void 0?yt.headers[Nt]+=", "+mt[2]:yt.headers[Nt]=mt[2],yt.rawHeaders.push(mt[1],mt[2])}}),yt._charset="x-user-defined",!et.overrideMimeType){var It=yt.rawHeaders["mime-type"];if(It){var xt=It.match(/;\s*charset=([^;])(;|$)/);xt&&(yt._charset=xt[1].toLowerCase())}yt._charset||(yt._charset="utf-8")}};j(ct,nt.Readable),ct.prototype._read=function(){var gt=this._resumeFetch;gt&&(this._resumeFetch=null,gt())},ct.prototype._onXHRProgress=function(){var gt=this,pt=gt._xhr,ft=null;switch(gt._mode){case"text:vbarray":if(pt.readyState!==ot.DONE)break;try{ft=new _e.VBArray(pt.responseBody).toArray()}catch{}if(ft!==null){gt.push(new $(ft));break}case"text":try{ft=pt.responseText}catch{gt._mode="text:vbarray";break}if(ft.length>gt._pos){var ut=ft.substr(gt._pos);if(gt._charset==="x-user-defined"){for(var yt=new $(ut.length),wt=0;wt<ut.length;wt++)yt[wt]=255&ut.charCodeAt(wt);gt.push(yt)}else gt.push(ut,gt._charset);gt._pos=ft.length}break;case"arraybuffer":if(pt.readyState!==ot.DONE||!pt.response)break;ft=pt.response,gt.push(new $(new Uint8Array(ft)));break;case"moz-chunked-arraybuffer":if(ft=pt.response,pt.readyState!==ot.LOADING||!ft)break;gt.push(new $(new Uint8Array(ft)));break;case"ms-stream":if(ft=pt.response,pt.readyState!==ot.LOADING)break;var Qt=new _e.MSStreamReader;Qt.onprogress=function(){Qt.result.byteLength>gt._pos&&(gt.push(new $(new Uint8Array(Qt.result.slice(gt._pos)))),gt._pos=Qt.result.byteLength)},Qt.onload=function(){gt.push(null)},Qt.readAsArrayBuffer(ft)}gt._xhr.readyState===ot.DONE&&gt._mode!=="ms-stream"&&gt.push(null)}}).call(this,s(2),s(5).Buffer,s(6))},function(i,o,s){var _=s(194),$=s(196);function _e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o.parse=xt,o.resolve=function(Tt,mt){return xt(Tt,!1,!0).resolve(mt)},o.resolveObject=function(Tt,mt){return Tt?xt(Tt,!1,!0).resolveObject(mt):mt},o.format=function(Tt){return $.isString(Tt)&&(Tt=xt(Tt)),Tt instanceof _e?Tt.format():_e.prototype.format.call(Tt)},o.Url=_e;var et=/^([a-z0-9.+-]+:)/i,j=/:[0-9]*$/,nt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ot=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ct=["'"].concat(ot),gt=["%","/","?",";","#"].concat(ct),pt=["/","?","#"],ft=/^[+a-z0-9A-Z_-]{0,63}$/,ut=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yt={javascript:!0,"javascript:":!0},wt={javascript:!0,"javascript:":!0},Qt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},It=s(197);function xt(Tt,mt,Nt){if(Tt&&$.isObject(Tt)&&Tt instanceof _e)return Tt;var en=new _e;return en.parse(Tt,mt,Nt),en}_e.prototype.parse=function(Tt,mt,Nt){if(!$.isString(Tt))throw new TypeError("Parameter 'url' must be a string, not "+typeof Tt);var en=Tt.indexOf("?"),rn=en!==-1&&en<Tt.indexOf("#")?"?":"#",Ft=Tt.split(rn);Ft[0]=Ft[0].replace(/\\/g,"/");var St=Tt=Ft.join(rn);if(St=St.trim(),!Nt&&Tt.split("#").length===1){var Pt=nt.exec(St);if(Pt)return this.path=St,this.href=St,this.pathname=Pt[1],Pt[2]?(this.search=Pt[2],this.query=mt?It.parse(this.search.substr(1)):this.search.substr(1)):mt&&(this.search="",this.query={}),this}var Bt=et.exec(St);if(Bt){var jt=(Bt=Bt[0]).toLowerCase();this.protocol=jt,St=St.substr(Bt.length)}if(Nt||Bt||St.match(/^\/\/[^@\/]+@[^@\/]+/)){var qt=St.substr(0,2)==="//";!qt||Bt&&wt[Bt]||(St=St.substr(2),this.slashes=!0)}if(!wt[Bt]&&(qt||Bt&&!Qt[Bt])){for(var Zt,Wt,Gt=-1,Ht=0;Ht<pt.length;Ht++)(kt=St.indexOf(pt[Ht]))!==-1&&(Gt===-1||kt<Gt)&&(Gt=kt);for((Wt=Gt===-1?St.lastIndexOf("@"):St.lastIndexOf("@",Gt))!==-1&&(Zt=St.slice(0,Wt),St=St.slice(Wt+1),this.auth=decodeURIComponent(Zt)),Gt=-1,Ht=0;Ht<gt.length;Ht++){var kt;(kt=St.indexOf(gt[Ht]))!==-1&&(Gt===-1||kt<Gt)&&(Gt=kt)}Gt===-1&&(Gt=St.length),this.host=St.slice(0,Gt),St=St.slice(Gt),this.parseHost(),this.hostname=this.hostname||"";var Rt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Rt)for(var $t=this.hostname.split(/\./),nn=(Ht=0,$t.length);Ht<nn;Ht++){var Un=$t[Ht];if(Un&&!Un.match(ft)){for(var Fn="",En=0,fn=Un.length;En<fn;En++)Un.charCodeAt(En)>127?Fn+="x":Fn+=Un[En];if(!Fn.match(ft)){var sn=$t.slice(0,Ht),Ct=$t.slice(Ht+1),Dt=Un.match(ut);Dt&&(sn.push(Dt[1]),Ct.unshift(Dt[2])),Ct.length&&(St="/"+Ct.join(".")+St),this.hostname=sn.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Rt||(this.hostname=_.toASCII(this.hostname));var Xt=this.port?":"+this.port:"",_n=this.hostname||"";this.host=_n+Xt,this.href+=this.host,Rt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),St[0]!=="/"&&(St="/"+St))}if(!yt[jt])for(Ht=0,nn=ct.length;Ht<nn;Ht++){var mn=ct[Ht];if(St.indexOf(mn)!==-1){var xn=encodeURIComponent(mn);xn===mn&&(xn=escape(mn)),St=St.split(mn).join(xn)}}var On=St.indexOf("#");On!==-1&&(this.hash=St.substr(On),St=St.slice(0,On));var nr=St.indexOf("?");if(nr!==-1?(this.search=St.substr(nr),this.query=St.substr(nr+1),mt&&(this.query=It.parse(this.query)),St=St.slice(0,nr)):mt&&(this.search="",this.query={}),St&&(this.pathname=St),Qt[jt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Xt=this.pathname||"";var Nr=this.search||"";this.path=Xt+Nr}return this.href=this.format(),this},_e.prototype.format=function(){var Tt=this.auth||"";Tt&&(Tt=(Tt=encodeURIComponent(Tt)).replace(/%3A/i,":"),Tt+="@");var mt=this.protocol||"",Nt=this.pathname||"",en=this.hash||"",rn=!1,Ft="";this.host?rn=Tt+this.host:this.hostname&&(rn=Tt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(rn+=":"+this.port)),this.query&&$.isObject(this.query)&&Object.keys(this.query).length&&(Ft=It.stringify(this.query));var St=this.search||Ft&&"?"+Ft||"";return mt&&mt.substr(-1)!==":"&&(mt+=":"),this.slashes||(!mt||Qt[mt])&&rn!==!1?(rn="//"+(rn||""),Nt&&Nt.charAt(0)!=="/"&&(Nt="/"+Nt)):rn||(rn=""),en&&en.charAt(0)!=="#"&&(en="#"+en),St&&St.charAt(0)!=="?"&&(St="?"+St),mt+rn+(Nt=Nt.replace(/[?#]/g,function(Pt){return encodeURIComponent(Pt)}))+(St=St.replace("#","%23"))+en},_e.prototype.resolve=function(Tt){return this.resolveObject(xt(Tt,!1,!0)).format()},_e.prototype.resolveObject=function(Tt){if($.isString(Tt)){var mt=new _e;mt.parse(Tt,!1,!0),Tt=mt}for(var Nt=new _e,en=Object.keys(this),rn=0;rn<en.length;rn++){var Ft=en[rn];Nt[Ft]=this[Ft]}if(Nt.hash=Tt.hash,Tt.href==="")return Nt.href=Nt.format(),Nt;if(Tt.slashes&&!Tt.protocol){for(var St=Object.keys(Tt),Pt=0;Pt<St.length;Pt++){var Bt=St[Pt];Bt!=="protocol"&&(Nt[Bt]=Tt[Bt])}return Qt[Nt.protocol]&&Nt.hostname&&!Nt.pathname&&(Nt.path=Nt.pathname="/"),Nt.href=Nt.format(),Nt}if(Tt.protocol&&Tt.protocol!==Nt.protocol){if(!Qt[Tt.protocol]){for(var jt=Object.keys(Tt),qt=0;qt<jt.length;qt++){var Zt=jt[qt];Nt[Zt]=Tt[Zt]}return Nt.href=Nt.format(),Nt}if(Nt.protocol=Tt.protocol,Tt.host||wt[Tt.protocol])Nt.pathname=Tt.pathname;else{for(var Wt=(Tt.pathname||"").split("/");Wt.length&&!(Tt.host=Wt.shift()););Tt.host||(Tt.host=""),Tt.hostname||(Tt.hostname=""),Wt[0]!==""&&Wt.unshift(""),Wt.length<2&&Wt.unshift(""),Nt.pathname=Wt.join("/")}if(Nt.search=Tt.search,Nt.query=Tt.query,Nt.host=Tt.host||"",Nt.auth=Tt.auth,Nt.hostname=Tt.hostname||Tt.host,Nt.port=Tt.port,Nt.pathname||Nt.search){var Gt=Nt.pathname||"",Ht=Nt.search||"";Nt.path=Gt+Ht}return Nt.slashes=Nt.slashes||Tt.slashes,Nt.href=Nt.format(),Nt}var kt=Nt.pathname&&Nt.pathname.charAt(0)==="/",Rt=Tt.host||Tt.pathname&&Tt.pathname.charAt(0)==="/",$t=Rt||kt||Nt.host&&Tt.pathname,nn=$t,Un=Nt.pathname&&Nt.pathname.split("/")||[],Fn=(Wt=Tt.pathname&&Tt.pathname.split("/")||[],Nt.protocol&&!Qt[Nt.protocol]);if(Fn&&(Nt.hostname="",Nt.port=null,Nt.host&&(Un[0]===""?Un[0]=Nt.host:Un.unshift(Nt.host)),Nt.host="",Tt.protocol&&(Tt.hostname=null,Tt.port=null,Tt.host&&(Wt[0]===""?Wt[0]=Tt.host:Wt.unshift(Tt.host)),Tt.host=null),$t=$t&&(Wt[0]===""||Un[0]==="")),Rt)Nt.host=Tt.host||Tt.host===""?Tt.host:Nt.host,Nt.hostname=Tt.hostname||Tt.hostname===""?Tt.hostname:Nt.hostname,Nt.search=Tt.search,Nt.query=Tt.query,Un=Wt;else if(Wt.length)Un||(Un=[]),Un.pop(),Un=Un.concat(Wt),Nt.search=Tt.search,Nt.query=Tt.query;else if(!$.isNullOrUndefined(Tt.search))return Fn&&(Nt.hostname=Nt.host=Un.shift(),(Dt=!!(Nt.host&&Nt.host.indexOf("@")>0)&&Nt.host.split("@"))&&(Nt.auth=Dt.shift(),Nt.host=Nt.hostname=Dt.shift())),Nt.search=Tt.search,Nt.query=Tt.query,$.isNull(Nt.pathname)&&$.isNull(Nt.search)||(Nt.path=(Nt.pathname?Nt.pathname:"")+(Nt.search?Nt.search:"")),Nt.href=Nt.format(),Nt;if(!Un.length)return Nt.pathname=null,Nt.search?Nt.path="/"+Nt.search:Nt.path=null,Nt.href=Nt.format(),Nt;for(var En=Un.slice(-1)[0],fn=(Nt.host||Tt.host||Un.length>1)&&(En==="."||En==="..")||En==="",sn=0,Ct=Un.length;Ct>=0;Ct--)(En=Un[Ct])==="."?Un.splice(Ct,1):En===".."?(Un.splice(Ct,1),sn++):sn&&(Un.splice(Ct,1),sn--);if(!$t&&!nn)for(;sn--;sn)Un.unshift("..");!$t||Un[0]===""||Un[0]&&Un[0].charAt(0)==="/"||Un.unshift(""),fn&&Un.join("/").substr(-1)!=="/"&&Un.push("");var Dt,Xt=Un[0]===""||Un[0]&&Un[0].charAt(0)==="/";return Fn&&(Nt.hostname=Nt.host=Xt?"":Un.length?Un.shift():"",(Dt=!!(Nt.host&&Nt.host.indexOf("@")>0)&&Nt.host.split("@"))&&(Nt.auth=Dt.shift(),Nt.host=Nt.hostname=Dt.shift())),($t=$t||Nt.host&&Un.length)&&!Xt&&Un.unshift(""),Un.length?Nt.pathname=Un.join("/"):(Nt.pathname=null,Nt.path=null),$.isNull(Nt.pathname)&&$.isNull(Nt.search)||(Nt.path=(Nt.pathname?Nt.pathname:"")+(Nt.search?Nt.search:"")),Nt.auth=Tt.auth||Nt.auth,Nt.slashes=Nt.slashes||Tt.slashes,Nt.href=Nt.format(),Nt},_e.prototype.parseHost=function(){var Tt=this.host,mt=j.exec(Tt);mt&&((mt=mt[0])!==":"&&(this.port=mt.substr(1)),Tt=Tt.substr(0,Tt.length-mt.length)),Tt&&(this.hostname=Tt)}},function(i,o,s){const _=$=>$!==null&&typeof $=="object"&&typeof $.pipe=="function";_.writable=$=>_($)&&$.writable!==!1&&typeof $._write=="function"&&typeof $._writableState=="object",_.readable=$=>_($)&&$.readable!==!1&&typeof $._read=="function"&&typeof $._readableState=="object",_.duplex=$=>_.writable($)&&_.readable($),_.transform=$=>_.duplex($)&&typeof $._transform=="function"&&typeof $._transformState=="object",i.exports=_},function(i,o,s){function _(yt){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(yt)}function $(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function _e(yt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),wt&&et(yt,wt)}function et(yt,wt){return(et=Object.setPrototypeOf||function(Qt,It){return Qt.__proto__=It,Qt})(yt,wt)}function j(yt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Qt,It=ot(yt);if(wt){var xt=ot(this).constructor;Qt=Reflect.construct(It,arguments,xt)}else Qt=It.apply(this,arguments);return nt(this,Qt)}}function nt(yt,wt){return!wt||_(wt)!=="object"&&typeof wt!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(yt):wt}function ot(yt){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(yt)}var ct=s(3).LEVEL,gt=s(50),pt=s(202),ft=s(38)("winston:create-logger");function ut(yt){return"is"+yt.charAt(0).toUpperCase()+yt.slice(1)+"Enabled"}i.exports=function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yt.levels=yt.levels||gt.npm.levels;var wt=function(It){_e(Tt,It);var xt=j(Tt);function Tt(mt){return $(this,Tt),xt.call(this,mt)}return Tt}(pt),Qt=new wt(yt);return Object.keys(yt.levels).forEach(function(It){ft('Define prototype method for "%s"',It),It!=="log"?(wt.prototype[It]=function(){for(var xt=this||Qt,Tt=arguments.length,mt=new Array(Tt),Nt=0;Nt<Tt;Nt++)mt[Nt]=arguments[Nt];if(mt.length===1){var en=mt[0],rn=en&&en.message&&en||{message:en};return rn.level=rn[ct]=It,xt._addDefaultMeta(rn),xt.write(rn),this||Qt}return mt.length===0?(xt.log(It,""),xt):xt.log.apply(xt,[It].concat(mt))},wt.prototype[ut(It)]=function(){return(this||Qt).isLevelEnabled(It)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),Qt}},function(i,o,s){(function(_){function $(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var _e=s(18),et=s(51),j=s(38)("winston:exception"),nt=s(90),ot=s(91),ct=s(92);i.exports=function(){function gt(ut){if(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,gt),!ut)throw new Error("Logger is required to handle exceptions");this.logger=ut,this.handlers=new Map}var pt,ft;return pt=gt,(ft=[{key:"handle",value:function(){for(var ut=this,yt=arguments.length,wt=new Array(yt),Qt=0;Qt<yt;Qt++)wt[Qt]=arguments[Qt];wt.forEach(function(It){if(Array.isArray(It))return It.forEach(function(xt){return ut._addHandler(xt)});ut._addHandler(It)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),_.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var ut=this;this.catcher&&(_.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(yt){return ut.logger.unpipe(yt)}))}},{key:"getAllInfo",value:function(ut){var yt=ut.message;return yt||typeof ut!="string"||(yt=ut),{error:ut,level:"error",message:["uncaughtException: ".concat(yt||"(no error message)"),ut.stack||"  No stack trace"].join(`
`),stack:ut.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ut)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:_e.loadavg(),uptime:_e.uptime()}}},{key:"getTrace",value:function(ut){return(ut?ot.parse(ut):ot.get()).map(function(yt){return{column:yt.getColumnNumber(),file:yt.getFileName(),function:yt.getFunctionName(),line:yt.getLineNumber(),method:yt.getMethodName(),native:yt.isNative()}})}},{key:"_addHandler",value:function(ut){if(!this.handlers.has(ut)){ut.handleExceptions=!0;var yt=new ct(ut);this.handlers.set(ut,yt),this.logger.pipe(yt)}}},{key:"_uncaughtException",value:function(ut){var yt,wt=this.getAllInfo(ut),Qt=this._getExceptionHandlers(),It=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ut):this.logger.exitOnError;function xt(){j("doExit",It),j("process._exiting",_._exiting),It&&!_._exiting&&(yt&&clearTimeout(yt),_.exit(1))}if(!Qt.length&&It&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),It=!1),!Qt||Qt.length===0)return _.nextTick(xt);et(Qt,function(Tt,mt){var Nt=nt(mt),en=Tt.transport||Tt;function rn(Ft){return function(){j(Ft),Nt()}}en._ending=!0,en.once("finish",rn("finished")),en.once("error",rn("error"))},function(){return It&&xt()}),this.logger.log(wt),It&&(yt=setTimeout(xt,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(ut){return(ut.transport||ut).handleExceptions})}}])&&$(pt.prototype,ft),gt}()}).call(this,s(2))},function(i,o,s){var _=s(205);i.exports=function($){var _e,et=0;function j(){return et||(et=1,_e=$.apply(this,arguments),$=null),_e}return j.displayName=_($),j}},function(i,o){function s(_){for(var $ in _)this[$]=_[$]}o.get=function(_){var $=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var _e={},et=Error.prepareStackTrace;Error.prepareStackTrace=function(nt,ot){return ot},Error.captureStackTrace(_e,_||o.get);var j=_e.stack;return Error.prepareStackTrace=et,Error.stackTraceLimit=$,j},o.parse=function(_){if(!_.stack)return[];var $=this;return _.stack.split(`
`).slice(1).map(function(_e){if(_e.match(/^\s*[-]{4,}$/))return $._createParsedCallSite({fileName:_e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var et=_e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(et){var j=null,nt=null,ot=null,ct=null,gt=null,pt=et[5]==="native";if(et[1]){var ft=(ot=et[1]).lastIndexOf(".");if(ot[ft-1]=="."&&ft--,ft>0){j=ot.substr(0,ft),nt=ot.substr(ft+1);var ut=j.indexOf(".Module");ut>0&&(ot=ot.substr(ut+1),j=j.substr(0,ut))}ct=null}nt&&(ct=j,gt=nt),nt==="<anonymous>"&&(gt=null,ot=null);var yt={fileName:et[2]||null,lineNumber:parseInt(et[3],10)||null,functionName:ot,typeName:ct,methodName:gt,columnNumber:parseInt(et[4],10)||null,native:pt};return $._createParsedCallSite(yt)}}).filter(function(_e){return!!_e})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(_){s.prototype[_]=null,s.prototype["get"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),["topLevel","eval","native","constructor"].forEach(function(_){s.prototype[_]=!1,s.prototype["is"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),o._createParsedCallSite=function(_){return new s(_)}},function(i,o,s){function _(ct){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt})(ct)}function $(ct,gt){for(var pt=0;pt<gt.length;pt++){var ft=gt[pt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(ct,ft.key,ft)}}function _e(ct,gt){return(_e=Object.setPrototypeOf||function(pt,ft){return pt.__proto__=ft,pt})(ct,gt)}function et(ct){var gt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var pt,ft=nt(ct);if(gt){var ut=nt(this).constructor;pt=Reflect.construct(ft,arguments,ut)}else pt=ft.apply(this,arguments);return j(this,pt)}}function j(ct,gt){return!gt||_(gt)!=="object"&&typeof gt!="function"?function(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}(ct):gt}function nt(ct){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(gt){return gt.__proto__||Object.getPrototypeOf(gt)})(ct)}var ot=s(32).Writable;i.exports=function(ct){(function(yt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),wt&&_e(yt,wt)})(ut,ct);var gt,pt,ft=et(ut);function ut(yt){var wt;if(function(Qt,It){if(!(Qt instanceof It))throw new TypeError("Cannot call a class as a function")}(this,ut),wt=ft.call(this,{objectMode:!0}),!yt)throw new Error("ExceptionStream requires a TransportStream instance.");return wt.handleExceptions=!0,wt.transport=yt,wt}return gt=ut,(pt=[{key:"_write",value:function(yt,wt,Qt){return yt.exception?this.transport.log(yt,Qt):(Qt(),!0)}}])&&$(gt.prototype,pt),ut}(ot)},function(i,o,s){(function(_){function $(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var _e=s(18),et=s(51),j=s(38)("winston:rejection"),nt=s(90),ot=s(91),ct=s(92);i.exports=function(){function gt(ut){if(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,gt),!ut)throw new Error("Logger is required to handle rejections");this.logger=ut,this.handlers=new Map}var pt,ft;return pt=gt,(ft=[{key:"handle",value:function(){for(var ut=this,yt=arguments.length,wt=new Array(yt),Qt=0;Qt<yt;Qt++)wt[Qt]=arguments[Qt];wt.forEach(function(It){if(Array.isArray(It))return It.forEach(function(xt){return ut._addHandler(xt)});ut._addHandler(It)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),_.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var ut=this;this.catcher&&(_.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(yt){return ut.logger.unpipe(yt)}))}},{key:"getAllInfo",value:function(ut){var yt=ut.message;return yt||typeof ut!="string"||(yt=ut),{error:ut,level:"error",message:["unhandledRejection: ".concat(yt||"(no error message)"),ut.stack||"  No stack trace"].join(`
`),stack:ut.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ut)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:_e.loadavg(),uptime:_e.uptime()}}},{key:"getTrace",value:function(ut){return(ut?ot.parse(ut):ot.get()).map(function(yt){return{column:yt.getColumnNumber(),file:yt.getFileName(),function:yt.getFunctionName(),line:yt.getLineNumber(),method:yt.getMethodName(),native:yt.isNative()}})}},{key:"_addHandler",value:function(ut){if(!this.handlers.has(ut)){ut.handleRejections=!0;var yt=new ct(ut);this.handlers.set(ut,yt),this.logger.pipe(yt)}}},{key:"_unhandledRejection",value:function(ut){var yt,wt=this.getAllInfo(ut),Qt=this._getRejectionHandlers(),It=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ut):this.logger.exitOnError;function xt(){j("doExit",It),j("process._exiting",_._exiting),It&&!_._exiting&&(yt&&clearTimeout(yt),_.exit(1))}if(!Qt.length&&It&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),It=!1),!Qt||Qt.length===0)return _.nextTick(xt);et(Qt,function(Tt,mt){var Nt=nt(mt),en=Tt.transport||Tt;function rn(Ft){return function(){j(Ft),Nt()}}en._ending=!0,en.once("finish",rn("finished")),en.once("error",rn("error"))},function(){return It&&xt()}),this.logger.log(wt),It&&(yt=setTimeout(xt,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(ut){return(ut.transport||ut).handleRejections})}}])&&$(pt.prototype,ft),gt}()}).call(this,s(2))},function(i,o,s){i.exports={asArray:s(212),asBoolStrict:s(213),asBool:s(214),asPortNumber:s(215),asEnum:s(216),asFloatNegative:s(217),asFloatPositive:s(218),asFloat:s(54),asIntNegative:s(219),asIntPositive:s(95),asInt:s(53),asJsonArray:s(220),asJsonObject:s(221),asJson:s(55),asRegExp:s(222),asString:s(33),asUrlObject:s(96),asUrlString:s(223),asEmailString:s(224)}},function(i,o,s){const _=s(53);i.exports=function($){const _e=_($);if(_e<0)throw new Error("should be a positive integer");return _e}},function(i,o,s){const _=s(33);i.exports=function($){const _e=_($);try{return new URL(_e)}catch{throw new Error("should be a valid URL")}}},function(i,o,s){const _={};_.web=s(24),s(98);const $={v1:{}};$.v1.signaling={},$.v1.signaling.api=s(9),$.v1.signaling.api.SignalingClient=function(ft,ut,yt){yt||(yt={}),yt.format="text",this.client_=new _.web.GrpcWebClientBase(yt),this.hostname_=ft},$.v1.signaling.api.SignalingPromiseClient=function(ft,ut,yt){yt||(yt={}),yt.format="text",this.client_=new _.web.GrpcWebClientBase(yt),this.hostname_=ft};const _e=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetHealth",_.web.MethodType.UNARY,$.v1.signaling.api.GetHealthRequest,$.v1.signaling.api.GetHealthResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetHealthResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getHealth=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",ft,ut||{},_e,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getHealth=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",ft,ut||{},_e)};const et=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",_.web.MethodType.UNARY,$.v1.signaling.api.CreatePeerRequest,$.v1.signaling.api.CreatePeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.CreatePeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.createPeer=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",ft,ut||{},et,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",ft,ut||{},et)};const j=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",_.web.MethodType.UNARY,$.v1.signaling.api.DeletePeerRequest,$.v1.signaling.api.DeletePeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.DeletePeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.deletePeer=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",ft,ut||{},j,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",ft,ut||{},j)};const nt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",_.web.MethodType.UNARY,$.v1.signaling.api.RefreshPeerRequest,$.v1.signaling.api.RefreshPeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.RefreshPeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",ft,ut||{},nt,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",ft,ut||{},nt)};const ot=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",_.web.MethodType.UNARY,$.v1.signaling.api.GetPeersRequest,$.v1.signaling.api.GetPeersResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetPeersResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getPeers=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",ft,ut||{},ot,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",ft,ut||{},ot)};const ct=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",_.web.MethodType.UNARY,$.v1.signaling.api.GetIceServersRequest,$.v1.signaling.api.GetIceServersResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetIceServersResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getIceServers=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",ft,ut||{},ct,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",ft,ut||{},ct)};const gt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",_.web.MethodType.UNARY,$.v1.signaling.api.SendSignalRequest,$.v1.signaling.api.SendSignalResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.SendSignalResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.sendSignal=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",ft,ut||{},gt,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",ft,ut||{},gt)};const pt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",_.web.MethodType.SERVER_STREAMING,$.v1.signaling.api.ReceiveSignalStreamRequest,$.v1.signaling.api.ReceiveSignalStreamResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.ReceiveSignalStreamResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(ft,ut){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",ft,ut||{},pt)},$.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(ft,ut){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",ft,ut||{},pt)},i.exports=$.v1.signaling.api},function(i,o,s){var _=s(99),$=_,_e=Function("return this")();$.exportSymbol("proto.google.protobuf.BoolValue",null,_e),$.exportSymbol("proto.google.protobuf.BytesValue",null,_e),$.exportSymbol("proto.google.protobuf.DoubleValue",null,_e),$.exportSymbol("proto.google.protobuf.FloatValue",null,_e),$.exportSymbol("proto.google.protobuf.Int32Value",null,_e),$.exportSymbol("proto.google.protobuf.Int64Value",null,_e),$.exportSymbol("proto.google.protobuf.StringValue",null,_e),$.exportSymbol("proto.google.protobuf.UInt32Value",null,_e),$.exportSymbol("proto.google.protobuf.UInt64Value",null,_e),proto.google.protobuf.DoubleValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.DoubleValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.FloatValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.Int64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.Int32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.BoolValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.StringValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.BytesValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(et){return proto.google.protobuf.DoubleValue.toObject(et,this)},proto.google.protobuf.DoubleValue.toObject=function(et,j){var nt={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.DoubleValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readDouble();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeDouble(1,nt)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(et){return _.Message.setProto3FloatField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(et){return proto.google.protobuf.FloatValue.toObject(et,this)},proto.google.protobuf.FloatValue.toObject=function(et,j){var nt={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.FloatValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readFloat();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeFloat(1,nt)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(et){return _.Message.setProto3FloatField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(et){return proto.google.protobuf.Int64Value.toObject(et,this)},proto.google.protobuf.Int64Value.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.Int64Value.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readInt64();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeInt64(1,nt)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(et){return _.Message.setProto3IntField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(et){return proto.google.protobuf.UInt64Value.toObject(et,this)},proto.google.protobuf.UInt64Value.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.UInt64Value.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readUint64();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeUint64(1,nt)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(et){return _.Message.setProto3IntField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(et){return proto.google.protobuf.Int32Value.toObject(et,this)},proto.google.protobuf.Int32Value.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.Int32Value.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readInt32();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeInt32(1,nt)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(et){return _.Message.setProto3IntField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(et){return proto.google.protobuf.UInt32Value.toObject(et,this)},proto.google.protobuf.UInt32Value.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.UInt32Value.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readUint32();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeUint32(1,nt)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(et){return _.Message.setProto3IntField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(et){return proto.google.protobuf.BoolValue.toObject(et,this)},proto.google.protobuf.BoolValue.toObject=function(et,j){var nt={value:_.Message.getBooleanFieldWithDefault(j,1,!1)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.BoolValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readBool();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())&&j.writeBool(1,nt)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return _.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(et){return _.Message.setProto3BooleanField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(et){return proto.google.protobuf.StringValue.toObject(et,this)},proto.google.protobuf.StringValue.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,"")};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.StringValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readString();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue()).length>0&&j.writeString(1,nt)},proto.google.protobuf.StringValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(et){return _.Message.setProto3StringField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(et){return proto.google.protobuf.BytesValue.toObject(et,this)},proto.google.protobuf.BytesValue.toObject=function(et,j){var nt={value:j.getValue_asB64()};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.BytesValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readBytes();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue_asU8()).length>0&&j.writeBytes(1,nt)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return _.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return _.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(et){return _.Message.setProto3BytesField(this,1,et)},$.object.extend(o,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(i,o,s){i instanceof String&&(i=String(i));for(var _=i.length,$=0;$<_;$++){var _e=i[$];if(o.call(s,_e,$,i))return{i:$,v:_e}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(i,o,s){i!=Array.prototype&&i!=Object.prototype&&(i[o]=s.value)},$jscomp.getGlobal=function(i){return typeof window<"u"&&window===i?i:global!==void 0&&global!=null?global:i},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(i,o,s,_){if(o){for(s=$jscomp.global,i=i.split("."),_=0;_<i.length-1;_++){var $=i[_];$ in s||(s[$]={}),s=s[$]}(o=o(_=s[i=i[i.length-1]]))!=_&&o!=null&&$jscomp.defineProperty(s,i,{configurable:!0,writable:!0,value:o})}},$jscomp.polyfill("Array.prototype.findIndex",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).i}},"es6","es3"),$jscomp.checkStringArgs=function(i,o,s){if(i==null)throw new TypeError("The 'this' value for String.prototype."+s+" must not be null or undefined");if(o instanceof RegExp)throw new TypeError("First argument to String.prototype."+s+" must not be a regular expression");return i+""},$jscomp.polyfill("String.prototype.endsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"endsWith");o+="",s===void 0&&(s=_.length),s=Math.max(0,Math.min(0|s,_.length));for(var $=o.length;0<$&&0<s;)if(_[--s]!=o[--$])return!1;return 0>=$}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"startsWith");o+="";var $=_.length,_e=o.length;s=Math.max(0,Math.min(0|s,_.length));for(var et=0;et<_e&&s<$;)if(_[s++]!=o[et++])return!1;return et>=_e}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(i){return i||function(o){var s=$jscomp.checkStringArgs(this,null,"repeat");if(0>o||1342177279<o)throw new RangeError("Invalid count value");o|=0;for(var _="";o;)1&o&&(_+=s),(o>>>=1)&&(s+=s);return _}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(i){return i!==void 0},goog.isString=function(i){return typeof i=="string"},goog.isBoolean=function(i){return typeof i=="boolean"},goog.isNumber=function(i){return typeof i=="number"},goog.exportPath_=function(i,o,s){i=i.split("."),s=s||goog.global,i[0]in s||s.execScript===void 0||s.execScript("var "+i[0]);for(var _;i.length&&(_=i.shift());)!i.length&&goog.isDef(o)?s[_]=o:s=s[_]&&s[_]!==Object.prototype[_]?s[_]:s[_]={}},goog.define=function(i,o){return o},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(i){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(i)},goog.constructNamespace_=function(i,o){goog.exportPath_(i,o)},goog.getScriptNonce=function(i){return i&&i!=goog.global?goog.getScriptNonce_(i.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(i)?i:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(i){if(!goog.isString(i)||!i||i.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+i+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=i},goog.module.get=function(i){return goog.module.getInternal_(i)},goog.module.getInternal_=function(i){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var i=goog.global.$jscomp;return!!i&&typeof i.getCurrentModulePath=="function"&&!!i.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(i){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=i;else{var o=goog.global.$jscomp;if(!o||typeof o.getCurrentModulePath!="function")throw Error('Module with namespace "'+i+'" has been loaded incorrectly.');o=o.require(o.getCurrentModulePath()),goog.loadedModules_[i]={exports:o,type:goog.ModuleType.ES6,moduleId:i}}},goog.setTestOnly=function(i){if(goog.DISALLOW_TEST_ONLY_CODE)throw i=i||"",Error("Importing test-only code into non-debug environment"+(i?": "+i:"."))},goog.forwardDeclare=function(i){},goog.getObjectByName=function(i,o){i=i.split("."),o=o||goog.global;for(var s=0;s<i.length;s++)if(o=o[i[s]],!goog.isDefAndNotNull(o))return null;return o},goog.globalize=function(i,o){for(var s in o=o||goog.global,i)o[s]=i[s]},goog.addDependency=function(i,o,s,_){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(i){goog.global.console&&goog.global.console.error(i)},goog.require=function(i){},goog.requireType=function(i){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(i){i.instance_=void 0,i.getInstance=function(){return i.instance_?i.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=i),i.instance_=new i)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(i){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(i){return"(function(){"+i+`
;})();
`},goog.loadModule=function(i){var o=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(i))var s=i.call(void 0,{});else{if(!goog.isString(i))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(i=goog.workaroundSafari10EvalBug(i)),s=goog.loadModuleFromSource_.call(void 0,i)}var _=goog.moduleLoaderState_.moduleName;if(!goog.isString(_)||!_)throw Error('Invalid module name "'+_+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(_,s):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof s=="object"&&s!=null&&Object.seal(s),goog.loadedModules_[_]={exports:s,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(i){i=i.split("/");for(var o=0;o<i.length;)i[o]=="."?i.splice(o,1):o&&i[o]==".."&&i[o-1]&&i[o-1]!=".."?i.splice(--o,2):o++;return i.join("/")},goog.loadFileSync_=function(i){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(i);try{var o=new goog.global.XMLHttpRequest;return o.open("get",i,!1),o.send(),o.status==0||o.status==200?o.responseText:null}catch{return null}},goog.transpile_=function(i,o,s){var _=goog.global.$jscomp;_||(goog.global.$jscomp=_={});var $=_.transpile;if(!$){var _e=goog.basePath+goog.TRANSPILER,et=goog.loadFileSync_(_e);if(et){if(function(){(0,eval)(et+`
//# sourceURL=`+_e)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,$=(_=goog.global.$jscomp).transpile}}return $||($=_.transpile=function(j,nt){return goog.logToConsole_(nt+" requires transpilation but no transpiler was found."),j}),$(i,o,s)},goog.typeOf=function(i){var o=typeof i;if(o=="object"){if(!i)return"null";if(i instanceof Array)return"array";if(i instanceof Object)return o;var s=Object.prototype.toString.call(i);if(s=="[object Window]")return"object";if(s=="[object Array]"||typeof i.length=="number"&&i.splice!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("splice"))return"array";if(s=="[object Function]"||i.call!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("call"))return"function"}else if(o=="function"&&i.call===void 0)return"object";return o},goog.isNull=function(i){return i===null},goog.isDefAndNotNull=function(i){return i!=null},goog.isArray=function(i){return goog.typeOf(i)=="array"},goog.isArrayLike=function(i){var o=goog.typeOf(i);return o=="array"||o=="object"&&typeof i.length=="number"},goog.isDateLike=function(i){return goog.isObject(i)&&typeof i.getFullYear=="function"},goog.isFunction=function(i){return goog.typeOf(i)=="function"},goog.isObject=function(i){var o=typeof i;return o=="object"&&i!=null||o=="function"},goog.getUid=function(i){return i[goog.UID_PROPERTY_]||(i[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(i){return!!i[goog.UID_PROPERTY_]},goog.removeUid=function(i){i!==null&&"removeAttribute"in i&&i.removeAttribute(goog.UID_PROPERTY_);try{delete i[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(typeof i.clone=="function")return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.cloneObject(i[s]);return o}return i},goog.bindNative_=function(i,o,s){return i.call.apply(i.bind,arguments)},goog.bindJs_=function(i,o,s){if(!i)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,_),i.apply(o,$)}}return function(){return i.apply(o,arguments)}},goog.bind=function(i,o,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=s.slice();return _.push.apply(_,arguments),i.apply(this,_)}},goog.mixin=function(i,o){for(var s in o)i[s]=o[s]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(i){if(goog.global.execScript)goog.global.execScript(i,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(i);else{var o=goog.global.document,s=o.createElement("SCRIPT");s.type="text/javascript",s.defer=!1,s.appendChild(o.createTextNode(i)),o.head.appendChild(s),o.head.removeChild(s)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(i,o){if(String(i).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+i);var s=function($){return goog.cssNameMapping_[$]||$},_=function($){$=$.split("-");for(var _e=[],et=0;et<$.length;et++)_e.push(s($[et]));return _e.join("-")};return _=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?s:_:function($){return $},i=o?i+"-"+_(o):_(i),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(i):i},goog.setCssNameMapping=function(i,o){goog.cssNameMapping_=i,goog.cssNameMappingStyle_=o},goog.getMsg=function(i,o,s){return s&&s.html&&(i=i.replace(/</g,"&lt;")),o&&(i=i.replace(/\{\$([^}]+)}/g,function(_,$){return o!=null&&$ in o?o[$]:_})),i},goog.getMsgWithFallback=function(i,o){return i},goog.exportSymbol=function(i,o,s){goog.exportPath_(i,o,s)},goog.exportProperty=function(i,o,s){i[o]=s},goog.inherits=function(i,o){function s(){}s.prototype=o.prototype,i.superClass_=o.prototype,i.prototype=new s,i.prototype.constructor=i,i.base=function(_,$,_e){for(var et=Array(arguments.length-2),j=2;j<arguments.length;j++)et[j-2]=arguments[j];return o.prototype[$].apply(_,et)}},goog.base=function(i,o,s){var _=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!_)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(_.superClass_!==void 0){for(var $=Array(arguments.length-1),_e=1;_e<arguments.length;_e++)$[_e-1]=arguments[_e];return _.superClass_.constructor.apply(i,$)}if(typeof o!="string"&&typeof o!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for($=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];_e=!1;for(var et=i.constructor.prototype;et;et=Object.getPrototypeOf(et))if(et[o]===_)_e=!0;else if(_e)return et[o].apply(i,$);if(i[o]===_)return i.constructor.prototype[o].apply(i,$);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(i){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");i.call(goog.global)},goog.defineClass=function(i,o){var s=o.constructor,_=o.statics;return s&&s!=Object.prototype.constructor||(s=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),s=goog.defineClass.createSealingConstructor_(s,i),i&&goog.inherits(s,i),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(s.prototype,o),_!=null&&(_ instanceof Function?_(s):goog.defineClass.applyProperties_(s,_)),s},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(i,o){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return i;var s=!goog.defineClass.isUnsealable_(o),_=function(){var $=i.apply(this,arguments)||this;return $[goog.UID_PROPERTY_]=$[goog.UID_PROPERTY_],this.constructor===_&&s&&Object.seal instanceof Function&&Object.seal($),$};return _},goog.defineClass.isUnsealable_=function(i){return i&&i.prototype&&i.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s]);for(var _=0;_<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;_++)s=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[_],Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},goog.tagUnsealableClass=function(i){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(i){return i},goog.createTrustedTypesPolicy=function(i){var o=null;if(typeof TrustedTypes>"u"||!TrustedTypes.createPolicy)return o;try{o=TrustedTypes.createPolicy(i,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(s){goog.logToConsole_(s.message)}return o},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(i){var o=jspb.BinaryConstants.FieldType,s=jspb.BinaryConstants.WireType;switch(i){case o.INT32:case o.INT64:case o.UINT32:case o.UINT64:case o.SINT32:case o.SINT64:case o.BOOL:case o.ENUM:case o.VHASH64:return s.VARINT;case o.DOUBLE:case o.FIXED64:case o.SFIXED64:case o.FHASH64:return s.FIXED64;case o.STRING:case o.MESSAGE:case o.BYTES:return s.DELIMITED;case o.FLOAT:case o.FIXED32:case o.SFIXED32:return s.FIXED32;default:return s.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(i){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}i&&(this.message=String(i)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(i,o){goog.debug.Error.call(this,goog.asserts.subs_(i,o)),this.messagePattern=i},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(i){throw i},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(i,o){for(var s="",_=(i=i.split("%s")).length-1,$=0;$<_;$++)s+=i[$]+($<o.length?o[$]:"%s");return s+i[_]},goog.asserts.doAssertFailure_=function(i,o,s,_){var $="Assertion failed";if(s){$+=": "+s;var _e=_}else i&&($+=": "+i,_e=o);i=new goog.asserts.AssertionError(""+$,_e||[]),goog.asserts.errorHandler_(i)},goog.asserts.setErrorHandler=function(i){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=i)},goog.asserts.assert=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!i&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertExists=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&i==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.fail=function(i,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(i)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertString=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(i)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertFunction=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(i)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObject=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(i)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertArray=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(i)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertBoolean=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(i)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertElement=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(i)&&i.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertInstanceof=function(i,o,s,_){return!goog.asserts.ENABLE_ASSERTS||i instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(i)],s,Array.prototype.slice.call(arguments,3)),i},goog.asserts.assertFinite=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||typeof i=="number"&&isFinite(i)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var i in Object.prototype)goog.asserts.fail(i+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(i){return i[i.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.indexOf.call(i,o,s)}:function(i,o,s){if(s=s==null?0:0>s?Math.max(0,i.length+s):s,goog.isString(i))return goog.isString(o)&&o.length==1?i.indexOf(o,s):-1;for(;s<i.length;s++)if(s in i&&i[s]===o)return s;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.lastIndexOf.call(i,o,s??i.length-1)}:function(i,o,s){if(0>(s=s??i.length-1)&&(s=Math.max(0,i.length+s)),goog.isString(i))return goog.isString(o)&&o.length==1?i.lastIndexOf(o,s):-1;for(;0<=s;s--)if(s in i&&i[s]===o)return s;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(i,o,s){goog.asserts.assert(i.length!=null),Array.prototype.forEach.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)_e in $&&o.call(s,$[_e],_e,i)},goog.array.forEachRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;--_)_ in $&&o.call(s,$[_],_,i)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.filter.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=[],_e=0,et=goog.isString(i)?i.split(""):i,j=0;j<_;j++)if(j in et){var nt=et[j];o.call(s,nt,j,i)&&($[_e++]=nt)}return $},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.map.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=Array(_),_e=goog.isString(i)?i.split(""):i,et=0;et<_;et++)et in _e&&($[et]=o.call(s,_e[et],et,i));return $},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduce.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEach(i,function(_e,et){$=o.call(_,$,_e,et,i)}),$},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),goog.asserts.assert(o!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduceRight.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEachRight(i,function(_e,et){$=o.call(_,$,_e,et,i)}),$},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.some.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&o.call(s,$[_e],_e,i))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.every.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&!o.call(s,$[_e],_e,i))return!1;return!0},goog.array.count=function(i,o,s){var _=0;return goog.array.forEach(i,function($,_e,et){o.call(s,$,_e,et)&&++_},s),_},goog.array.find=function(i,o,s){return 0>(o=goog.array.findIndex(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndex=function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&o.call(s,$[_e],_e,i))return _e;return-1},goog.array.findRight=function(i,o,s){return 0>(o=goog.array.findIndexRight(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndexRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;_--)if(_ in $&&o.call(s,$[_],_,i))return _;return-1},goog.array.contains=function(i,o){return 0<=goog.array.indexOf(i,o)},goog.array.isEmpty=function(i){return i.length==0},goog.array.clear=function(i){if(!goog.isArray(i))for(var o=i.length-1;0<=o;o--)delete i[o];i.length=0},goog.array.insert=function(i,o){goog.array.contains(i,o)||i.push(o)},goog.array.insertAt=function(i,o,s){goog.array.splice(i,s,0,o)},goog.array.insertArrayAt=function(i,o,s){goog.partial(goog.array.splice,i,s,0).apply(null,o)},goog.array.insertBefore=function(i,o,s){var _;arguments.length==2||0>(_=goog.array.indexOf(i,s))?i.push(o):goog.array.insertAt(i,o,_)},goog.array.remove=function(i,o){var s;return(s=0<=(o=goog.array.indexOf(i,o)))&&goog.array.removeAt(i,o),s},goog.array.removeLast=function(i,o){return 0<=(o=goog.array.lastIndexOf(i,o))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAt=function(i,o){return goog.asserts.assert(i.length!=null),Array.prototype.splice.call(i,o,1).length==1},goog.array.removeIf=function(i,o,s){return 0<=(o=goog.array.findIndex(i,o,s))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAllIf=function(i,o,s){var _=0;return goog.array.forEachRight(i,function($,_e){o.call(s,$,_e,i)&&goog.array.removeAt(i,_e)&&_++}),_},goog.array.concat=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(i){var o=i.length;if(0<o){for(var s=Array(o),_=0;_<o;_++)s[_]=i[_];return s}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(i,o){for(var s=1;s<arguments.length;s++){var _=arguments[s];if(goog.isArrayLike(_)){var $=i.length||0,_e=_.length||0;i.length=$+_e;for(var et=0;et<_e;et++)i[$+et]=_[et]}else i.push(_)}},goog.array.splice=function(i,o,s,_){return goog.asserts.assert(i.length!=null),Array.prototype.splice.apply(i,goog.array.slice(arguments,1))},goog.array.slice=function(i,o,s){return goog.asserts.assert(i.length!=null),2>=arguments.length?Array.prototype.slice.call(i,o):Array.prototype.slice.call(i,o,s)},goog.array.removeDuplicates=function(i,o,s){o=o||i;var _=function(nt){return goog.isObject(nt)?"o"+goog.getUid(nt):(typeof nt).charAt(0)+nt};s=s||_,_={};for(var $=0,_e=0;_e<i.length;){var et=i[_e++],j=s(et);Object.prototype.hasOwnProperty.call(_,j)||(_[j]=!0,o[$++]=et)}o.length=$},goog.array.binarySearch=function(i,o,s){return goog.array.binarySearch_(i,s||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(i,o,s){return goog.array.binarySearch_(i,o,!0,void 0,s)},goog.array.binarySearch_=function(i,o,s,_,$){for(var _e,et=0,j=i.length;et<j;){var nt=et+j>>1,ot=s?o.call($,i[nt],nt,i):o(_,i[nt]);0<ot?et=nt+1:(j=nt,_e=!ot)}return _e?et:~et},goog.array.sort=function(i,o){i.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]={index:_,value:i[_]};var $=o||goog.array.defaultCompare;for(goog.array.sort(s,function(_e,et){return $(_e.value,et.value)||_e.index-et.index}),_=0;_<i.length;_++)i[_]=s[_].value},goog.array.sortByKey=function(i,o,s){var _=s||goog.array.defaultCompare;goog.array.sort(i,function($,_e){return _(o($),o(_e))})},goog.array.sortObjectsByKey=function(i,o,s){goog.array.sortByKey(i,function(_){return _[o]},s)},goog.array.isSorted=function(i,o,s){o=o||goog.array.defaultCompare;for(var _=1;_<i.length;_++){var $=o(i[_-1],i[_]);if(0<$||$==0&&s)return!1}return!0},goog.array.equals=function(i,o,s){if(!goog.isArrayLike(i)||!goog.isArrayLike(o)||i.length!=o.length)return!1;var _=i.length;s=s||goog.array.defaultCompareEquality;for(var $=0;$<_;$++)if(!s(i[$],o[$]))return!1;return!0},goog.array.compare3=function(i,o,s){s=s||goog.array.defaultCompare;for(var _=Math.min(i.length,o.length),$=0;$<_;$++){var _e=s(i[$],o[$]);if(_e!=0)return _e}return goog.array.defaultCompare(i.length,o.length)},goog.array.defaultCompare=function(i,o){return i>o?1:i<o?-1:0},goog.array.inverseDefaultCompare=function(i,o){return-goog.array.defaultCompare(i,o)},goog.array.defaultCompareEquality=function(i,o){return i===o},goog.array.binaryInsert=function(i,o,s){return 0>(s=goog.array.binarySearch(i,o,s))&&(goog.array.insertAt(i,o,-(s+1)),!0)},goog.array.binaryRemove=function(i,o,s){return 0<=(o=goog.array.binarySearch(i,o,s))&&goog.array.removeAt(i,o)},goog.array.bucket=function(i,o,s){for(var _={},$=0;$<i.length;$++){var _e=i[$],et=o.call(s,_e,$,i);goog.isDef(et)&&(_[et]||(_[et]=[])).push(_e)}return _},goog.array.toObject=function(i,o,s){var _={};return goog.array.forEach(i,function($,_e){_[o.call(s,$,_e,i)]=$}),_},goog.array.range=function(i,o,s){var _=[],$=0,_e=i;if(o!==void 0&&($=i,_e=o),0>(s=s||1)*(_e-$))return[];if(0<s)for(i=$;i<_e;i+=s)_.push(i);else for(i=$;i>_e;i+=s)_.push(i);return _},goog.array.repeat=function(i,o){for(var s=[],_=0;_<o;_++)s[_]=i;return s},goog.array.flatten=function(i){for(var o=[],s=0;s<arguments.length;s++){var _=arguments[s];if(goog.isArray(_))for(var $=0;$<_.length;$+=8192){var _e=goog.array.slice(_,$,$+8192);_e=goog.array.flatten.apply(null,_e);for(var et=0;et<_e.length;et++)o.push(_e[et])}else o.push(_)}return o},goog.array.rotate=function(i,o){return goog.asserts.assert(i.length!=null),i.length&&(0<(o%=i.length)?Array.prototype.unshift.apply(i,i.splice(-o,o)):0>o&&Array.prototype.push.apply(i,i.splice(0,-o))),i},goog.array.moveItem=function(i,o,s){goog.asserts.assert(0<=o&&o<i.length),goog.asserts.assert(0<=s&&s<i.length),o=Array.prototype.splice.call(i,o,1),Array.prototype.splice.call(i,s,0,o[0])},goog.array.zip=function(i){if(!arguments.length)return[];for(var o=[],s=arguments[0].length,_=1;_<arguments.length;_++)arguments[_].length<s&&(s=arguments[_].length);for(_=0;_<s;_++){for(var $=[],_e=0;_e<arguments.length;_e++)$.push(arguments[_e][_]);o.push($)}return o},goog.array.shuffle=function(i,o){o=o||Math.random;for(var s=i.length-1;0<s;s--){var _=Math.floor(o()*(s+1)),$=i[s];i[s]=i[_],i[_]=$}},goog.array.copyByIndex=function(i,o){var s=[];return goog.array.forEach(o,function(_){s.push(i[_])}),s},goog.array.concatMap=function(i,o,s){return goog.array.concat.apply([],goog.array.map(i,o,s))},goog.crypt={},goog.crypt.stringToByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);255<$&&(o[s++]=255&$,$>>=8),o[s++]=$}return o},goog.crypt.byteArrayToString=function(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var o="",s=0;s<i.length;s+=8192){var _=goog.array.slice(i,s,s+8192);o+=String.fromCharCode.apply(null,_)}return o},goog.crypt.byteArrayToHex=function(i,o){return goog.array.map(i,function(s){return 1<(s=s.toString(16)).length?s:"0"+s}).join(o||"")},goog.crypt.hexToByteArray=function(i){goog.asserts.assert(i.length%2==0,"Key string length must be multiple of 2");for(var o=[],s=0;s<i.length;s+=2)o.push(parseInt(i.substring(s,s+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);128>$?o[s++]=$:(2048>$?o[s++]=$>>6|192:((64512&$)==55296&&_+1<i.length&&(64512&i.charCodeAt(_+1))==56320?($=65536+((1023&$)<<10)+(1023&i.charCodeAt(++_)),o[s++]=$>>18|240,o[s++]=$>>12&63|128):o[s++]=$>>12|224,o[s++]=$>>6&63|128),o[s++]=63&$|128)}return o},goog.crypt.utf8ByteArrayToString=function(i){for(var o=[],s=0,_=0;s<i.length;){var $=i[s++];if(128>$)o[_++]=String.fromCharCode($);else if(191<$&&224>$){var _e=i[s++];o[_++]=String.fromCharCode((31&$)<<6|63&_e)}else if(239<$&&365>$){_e=i[s++];var et=i[s++];$=((7&$)<<18|(63&_e)<<12|(63&et)<<6|63&i[s++])-65536,o[_++]=String.fromCharCode(55296+($>>10)),o[_++]=String.fromCharCode(56320+(1023&$))}else _e=i[s++],et=i[s++],o[_++]=String.fromCharCode((15&$)<<12|(63&_e)<<6|63&et)}return o.join("")},goog.crypt.xorByteArray=function(i,o){goog.asserts.assert(i.length==o.length,"XOR array lengths must match");for(var s=[],_=0;_<i.length;_++)s.push(i[_]^o[_]);return s},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(i,o){return i.lastIndexOf(o,0)==0},goog.string.internal.endsWith=function(i,o){var s=i.length-o.length;return 0<=s&&i.indexOf(o,s)==s},goog.string.internal.caseInsensitiveStartsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(0,o.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(i.length-o.length,o.length))==0},goog.string.internal.caseInsensitiveEquals=function(i,o){return i.toLowerCase()==o.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(i){return/^[\s\xa0]*$/.test(i)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},goog.string.internal.caseInsensitiveCompare=function(i,o){return(i=String(i).toLowerCase())<(o=String(o).toLowerCase())?-1:i==o?0:1},goog.string.internal.newLineToBr=function(i,o){return i.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.internal.htmlEscape=function(i,o){if(o)i=i.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(i))return i;i.indexOf("&")!=-1&&(i=i.replace(goog.string.internal.AMP_RE_,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(goog.string.internal.LT_RE_,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(goog.string.internal.GT_RE_,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(goog.string.internal.QUOT_RE_,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(goog.string.internal.NULL_RE_,"&#0;"))}return i},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(i,o){return goog.string.internal.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.internal.contains=function(i,o){return i.indexOf(o)!=-1},goog.string.internal.caseInsensitiveContains=function(i,o){return goog.string.internal.contains(i.toLowerCase(),o.toLowerCase())},goog.string.internal.compareVersions=function(i,o){var s=0;i=goog.string.internal.trim(String(i)).split("."),o=goog.string.internal.trim(String(o)).split(".");for(var _=Math.max(i.length,o.length),$=0;s==0&&$<_;$++){var _e=i[$]||"",et=o[$]||"";do{if(_e=/(\d*)(\D*)(.*)/.exec(_e)||["","","",""],et=/(\d*)(\D*)(.*)/.exec(et)||["","","",""],_e[0].length==0&&et[0].length==0)break;s=_e[1].length==0?0:parseInt(_e[1],10);var j=et[1].length==0?0:parseInt(et[1],10);s=goog.string.internal.compareElements_(s,j)||goog.string.internal.compareElements_(_e[2].length==0,et[2].length==0)||goog.string.internal.compareElements_(_e[2],et[2]),_e=_e[3],et=et[3]}while(s==0)}return s},goog.string.internal.compareElements_=function(i,o){return i<o?-1:i>o?1:0},goog.string.TypedString=function(){},goog.string.Const=function(i,o){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=i===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(i){return i instanceof goog.string.Const&&i.constructor===goog.string.Const&&i.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?i.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+i+"'"),"type_error:Const")},goog.string.Const.from=function(i){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,i)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(i){return goog.fs.url.getUrlObject_().createObjectURL(i)},goog.fs.url.revokeObjectUrl=function(i){goog.fs.url.getUrlObject_().revokeObjectURL(i)},goog.fs.url.getUrlObject_=function(){var i=goog.fs.url.findUrlObject_();if(i!=null)return i;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(i,o){return typeof i=="number"?0<i?goog.i18n.bidi.Dir.LTR:0>i?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:i==null?null:i?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\uD801\uD804-\uD839\uD83C-\uDBFF豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\uD802-\uD803\uD83A-\uD83Bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(i,o){return o?i.replace(goog.i18n.bidi.htmlSkipReg_,""):i},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(i,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(i,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(i){return goog.i18n.bidi.rtlRe_.test(i)},goog.i18n.bidi.isLtrChar=function(i){return goog.i18n.bidi.ltrRe_.test(i)},goog.i18n.bidi.isNeutralChar=function(i){return!goog.i18n.bidi.isLtrChar(i)&&!goog.i18n.bidi.isRtlChar(i)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(i,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(i,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(i,o){return i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o),goog.i18n.bidi.isRequiredLtrRe_.test(i)||!goog.i18n.bidi.hasAnyLtr(i)&&!goog.i18n.bidi.hasAnyRtl(i)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(i,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(i,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(i){return goog.i18n.bidi.rtlLocalesRe_.test(i)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(i,o){return o=(o===void 0?goog.i18n.bidi.hasAnyRtl(i):o)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,i.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+i+"</span>"},goog.i18n.bidi.enforceRtlInText=function(i){return goog.i18n.bidi.Format.RLE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+i+"</span>"},goog.i18n.bidi.enforceLtrInText=function(i){return goog.i18n.bidi.Format.LRE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(i){return i.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(i){return i.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(i,o){var s=0,_=0,$=!1;for(i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o).split(goog.i18n.bidi.wordSeparatorRe_),o=0;o<i.length;o++){var _e=i[o];goog.i18n.bidi.startsWithRtl(_e)?(s++,_++):goog.i18n.bidi.isRequiredLtrRe_.test(_e)?$=!0:goog.i18n.bidi.hasAnyLtr(_e)?_++:goog.i18n.bidi.hasNumeralsRe_.test(_e)&&($=!0)}return _==0?$?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:s/_>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(i,o){return goog.i18n.bidi.estimateDirection(i,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(i,o){i&&(o=goog.i18n.bidi.toDir(o))&&(i.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,i.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(i,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:i.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:i.dir="rtl";break;default:i.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(i,o){var s=goog.html.TrustedResourceUrl.unwrap(this),_=(s=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(s))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",s[2]||"",i)+goog.html.TrustedResourceUrl.stringifyParams_("#",_,o))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(i){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(i){return i instanceof goog.html.TrustedResourceUrl&&i.constructor===goog.html.TrustedResourceUrl&&i.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(i){return i.trustedURL_?i.trustedURL_:goog.html.TrustedResourceUrl.unwrap(i)},goog.html.TrustedResourceUrl.format=function(i,o){var s=goog.string.Const.unwrap(i);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(s))throw Error("Invalid TrustedResourceUrl format: "+s);return i=s.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(_,$){if(!Object.prototype.hasOwnProperty.call(o,$))throw Error('Found marker, "'+$+'", in format string, "'+s+'", but no valid label mapping found in args: '+JSON.stringify(o));return(_=o[$])instanceof goog.string.Const?goog.string.Const.unwrap(_):encodeURIComponent(String(_))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(i,o,s,_){return goog.html.TrustedResourceUrl.format(i,o).cloneWithParams(s,_)},goog.html.TrustedResourceUrl.fromConstant=function(i){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.TrustedResourceUrl.fromConstants=function(i){for(var o="",s=0;s<i.length;s++)o+=goog.string.Const.unwrap(i[s]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(i):i,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(o.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i)),o},goog.html.TrustedResourceUrl.stringifyParams_=function(i,o,s){if(s==null)return o;if(goog.isString(s))return s?i+encodeURIComponent(s):"";for(var _ in s){var $=s[_];$=goog.isArray($)?$:[$];for(var _e=0;_e<$.length;_e++){var et=$[_e];et!=null&&(o||(o=i),o+=(o.length>i.length?"&":"")+encodeURIComponent(_)+"="+encodeURIComponent(String(et)))}}return o},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(i){return goog.html.SafeUrl.unwrapTrustedURL(i).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(i){return i instanceof goog.html.SafeUrl&&i.constructor===goog.html.SafeUrl&&i.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(i){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(i)},goog.html.SafeUrl.fromBlob=function(i){return i=goog.html.SAFE_MIME_TYPE_PATTERN_.test(i.type)?goog.fs.url.createObjectUrl(i):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(i){var o=(i=i.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return o=o&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(o[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o?i:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"tel:")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(i){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(i))||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"fb-messenger://share")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromWhatsAppUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"whatsapp://send")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromSmsUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(i){var o=i.indexOf("#");if(0<o&&(i=i.substring(0,o)),!(o=i.match(/[?&]body=/gi)))return!0;if(1<o.length)return!1;if(!(i=i.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(i)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(i)},goog.html.SafeUrl.fromSshUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"ssh://")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(i,o,s){return(i=i.exec(o))?(i=i[1],(s instanceof goog.string.Const?[goog.string.Const.unwrap(s)]:s.map(function(_){return goog.string.Const.unwrap(_)})).indexOf(i)==-1&&(o=goog.html.SafeUrl.INNOCUOUS_STRING)):o=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeUrl.fromTrustedResourceUrl=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(i))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(i){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SAFE_URL_PATTERN_.test(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(i,o){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),o&&/^data:/i.test(i)&&(o=goog.html.SafeUrl.fromDataUrl(i)).getTypedStringValue()==i?o:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(i),"%s does not match the safe URL pattern",i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i):i,o},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(i,";"),"Last character of style string is not ';': "+i),goog.asserts.assert(goog.string.internal.contains(i,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+i),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(i){return i instanceof goog.html.SafeStyle&&i.constructor===goog.html.SafeStyle&&i.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=i,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(i){var o,s="";for(o in i){if(!/^[-_a-zA-Z0-9]+$/.test(o))throw Error("Name allows only [-_a-zA-Z0-9], got: "+o);var _=i[o];_!=null&&(s+=o+":"+(_=goog.isArray(_)?goog.array.map(_,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(_))+";")}return s?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(s):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(i){if(i instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(i).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(i=i instanceof goog.string.Const?goog.string.Const.unwrap(i):goog.html.SafeStyle.sanitizePropertyValueString_(String(i)),/[{;}]/.test(i))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[i]);return i},goog.html.SafeStyle.sanitizePropertyValueString_=function(i){var o=i.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(o)?goog.html.SafeStyle.COMMENT_RE_.test(i)?(goog.asserts.fail("String value disallows comments, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(i)?goog.html.SafeStyle.hasBalancedSquareBrackets_(i)?goog.html.SafeStyle.sanitizeUrl_(i):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(i){for(var o=!0,s=!0,_=0;_<i.length;_++){var $=i.charAt(_);$=="'"&&s?o=!o:$=='"'&&o&&(s=!s)}return o&&s},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(i){for(var o=!0,s=/^[-_a-zA-Z0-9]$/,_=0;_<i.length;_++){var $=i.charAt(_);if($=="]"){if(o)return!1;o=!0}else if($=="["){if(!o)return!1;o=!1}else if(!o&&!s.test($))return!1}return o},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(i){return i.replace(goog.html.SafeStyle.URL_RE_,function(o,s,_,$){var _e="";return _=_.replace(/^(['"])(.*)\1$/,function(et,j,nt){return _e=j,nt}),o=goog.html.SafeUrl.sanitize(_).getTypedStringValue(),s+_e+o+_e+$})},goog.html.SafeStyle.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyle.unwrap(_)};return goog.array.forEach(arguments,s),o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeScript.fromConstantAndArgs=function(i,o){for(var s=[],_=1;_<arguments.length;_++)s.push(goog.html.SafeScript.stringify_(arguments[_]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(i)+")("+s.join(", ")+");")},goog.html.SafeScript.fromJson=function(i){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(i))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(i){return goog.html.SafeScript.unwrapTrustedScript(i).toString()},goog.html.SafeScript.unwrapTrustedScript=function(i){return i instanceof goog.html.SafeScript&&i.constructor===goog.html.SafeScript&&i.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(i){return JSON.stringify(i).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(i):i,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(i,o){return i===o?i!==0||1/i==1/o:i!=i&&o!=o},goog.object.forEach=function(i,o,s){for(var _ in i)o.call(s,i[_],_,i)},goog.object.filter=function(i,o,s){var _,$={};for(_ in i)o.call(s,i[_],_,i)&&($[_]=i[_]);return $},goog.object.map=function(i,o,s){var _,$={};for(_ in i)$[_]=o.call(s,i[_],_,i);return $},goog.object.some=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return!0;return!1},goog.object.every=function(i,o,s){for(var _ in i)if(!o.call(s,i[_],_,i))return!1;return!0},goog.object.getCount=function(i){var o,s=0;for(o in i)s++;return s},goog.object.getAnyKey=function(i){for(var o in i)return o},goog.object.getAnyValue=function(i){for(var o in i)return i[o]},goog.object.contains=function(i,o){return goog.object.containsValue(i,o)},goog.object.getValues=function(i){var o,s=[],_=0;for(o in i)s[_++]=i[o];return s},goog.object.getKeys=function(i){var o,s=[],_=0;for(o in i)s[_++]=o;return s},goog.object.getValueByKeys=function(i,o){var s=goog.isArrayLike(o),_=s?o:arguments;for(s=s?0:1;s<_.length;s++){if(i==null)return;i=i[_[s]]}return i},goog.object.containsKey=function(i,o){return i!==null&&o in i},goog.object.containsValue=function(i,o){for(var s in i)if(i[s]==o)return!0;return!1},goog.object.findKey=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return _},goog.object.findValue=function(i,o,s){return(o=goog.object.findKey(i,o,s))&&i[o]},goog.object.isEmpty=function(i){for(var o in i)return!1;return!0},goog.object.clear=function(i){for(var o in i)delete i[o]},goog.object.remove=function(i,o){var s;return(s=o in i)&&delete i[o],s},goog.object.add=function(i,o,s){if(i!==null&&o in i)throw Error('The object already contains the key "'+o+'"');goog.object.set(i,o,s)},goog.object.get=function(i,o,s){return i!==null&&o in i?i[o]:s},goog.object.set=function(i,o,s){i[o]=s},goog.object.setIfUndefined=function(i,o,s){return o in i?i[o]:i[o]=s},goog.object.setWithReturnValueIfNotSet=function(i,o,s){return o in i?i[o]:(s=s(),i[o]=s)},goog.object.equals=function(i,o){for(var s in i)if(!(s in o)||i[s]!==o[s])return!1;for(var _ in o)if(!(_ in i))return!1;return!0},goog.object.clone=function(i){var o,s={};for(o in i)s[o]=i[o];return s},goog.object.unsafeClone=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(goog.isFunction(i.clone))return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.object.unsafeClone(i[s]);return o}return i},goog.object.transpose=function(i){var o,s={};for(o in i)s[i[o]]=o;return s},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(i,o){for(var s,_,$=1;$<arguments.length;$++){for(s in _=arguments[$])i[s]=_[s];for(var _e=0;_e<goog.object.PROTOTYPE_FIELDS_.length;_e++)s=goog.object.PROTOTYPE_FIELDS_[_e],Object.prototype.hasOwnProperty.call(_,s)&&(i[s]=_[s])}},goog.object.create=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(o%2)throw Error("Uneven number of arguments");for(var s={},_=0;_<o;_+=2)s[arguments[_]]=arguments[_+1];return s},goog.object.createSet=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var s={},_=0;_<o;_++)s[arguments[_]]=!0;return s},goog.object.createImmutableView=function(i){var o=i;return Object.isFrozen&&!Object.isFrozen(i)&&(o=Object.create(i),Object.freeze(o)),o},goog.object.isImmutableView=function(i){return!!Object.isFrozen&&Object.isFrozen(i)},goog.object.getAllPropertyNames=function(i,o,s){if(!i)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(i);for(var _={};i&&(i!==Object.prototype||o)&&(i!==Function.prototype||s);){for(var $=Object.getOwnPropertyNames(i),_e=0;_e<$.length;_e++)_[$[_e]]=!0;i=Object.getPrototypeOf(i)}return goog.object.getKeys(_)},goog.object.getSuperClass=function(i){return(i=Object.getPrototypeOf(i.prototype))&&i.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(i,o){if(goog.string.internal.contains(i,"<"))throw Error("Selector does not allow '<', got: "+i);var s=i.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(s))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+i);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(s))throw Error("() and [] in selector must be balanced, got: "+i);return o instanceof goog.html.SafeStyle||(o=goog.html.SafeStyle.create(o)),i=i+"{"+goog.html.SafeStyle.unwrap(o).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(i){for(var o={"(":")","[":"]"},s=[],_=0;_<i.length;_++){var $=i[_];if(o[$])s.push(o[$]);else if(goog.object.contains(o,$)&&s.pop()!=$)return!1}return s.length==0},goog.html.SafeStyleSheet.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyleSheet.unwrap(_)};return goog.array.forEach(arguments,s),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(i,"<"),"Forbidden '<' character in style sheet string: "+i),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(i){return i instanceof goog.html.SafeStyleSheet&&i.constructor===goog.html.SafeStyleSheet&&i.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=i,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(i){return goog.dom.tags.VOID_TAGS_[i]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(i){this.tagName_=i},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var i=goog.labs.userAgent.util.getNavigator_();return i&&(i=i.userAgent)?i:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(i){goog.labs.userAgent.util.userAgent_=i||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(o,i)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(o,i)},goog.labs.userAgent.util.extractVersionTuples=function(i){for(var o,s=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,_=[];o=s.exec(i);)_.push([o[1],o[2],o[3]||void 0]);return _},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function i($){return $=goog.array.find($,_),s[$]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);o=goog.labs.userAgent.util.extractVersionTuples(o);var s={};goog.array.forEach(o,function($){s[$[0]]=$[1]});var _=goog.partial(goog.object.containsKey,s);return goog.labs.userAgent.browser.isOpera()?i(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?i(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?i(["Edg"]):goog.labs.userAgent.browser.isChrome()?i(["Chrome","CriOS"]):(o=o[2])&&o[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(i){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),i)},goog.labs.userAgent.browser.getIEVersion_=function(i){var o=/rv: *([\d\.]*)/.exec(i);if(o&&o[1])return o[1];o="";var s=/MSIE +([\d\.]+)/.exec(i);if(s&&s[1])if(i=/Trident\/(\d.\d)/.exec(i),s[1]=="7.0")if(i&&i[1])switch(i[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=s[1];return o},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(i){return goog.html.SafeHtml.unwrapTrustedHTML(i).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(i){return i instanceof goog.html.SafeHtml&&i.constructor===goog.html.SafeHtml&&i.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(i){if(i instanceof goog.html.SafeHtml)return i;var o=typeof i=="object",s=null;return o&&i.implementsGoogI18nBidiDirectionalString&&(s=i.getDirection()),i=o&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(i),s)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(i,o,s){return goog.html.SafeHtml.verifyTagName(String(i)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(i),o,s)},goog.html.SafeHtml.verifyTagName=function(i){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error("Invalid tag name <"+i+">.");if(i.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+i+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(i,o,s,_){i&&goog.html.TrustedResourceUrl.unwrap(i);var $={};return $.src=i||null,$.srcdoc=o&&goog.html.SafeHtml.unwrap(o),i=goog.html.SafeHtml.combineAttributes($,{sandbox:""},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.createSandboxIframe=function(i,o,s,_){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var $={};return $.src=i?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)):null,$.srcdoc=o||null,$.sandbox="",i=goog.html.SafeHtml.combineAttributes($,{},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(i,o){return goog.html.TrustedResourceUrl.unwrap(i),i=goog.html.SafeHtml.combineAttributes({src:i},{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",i)},goog.html.SafeHtml.createScript=function(i,o){for(var s in o){var _=s.toLowerCase();if(_=="language"||_=="src"||_=="text"||_=="type")throw Error('Cannot set "'+_+'" attribute')}for(s="",i=goog.array.concat(i),_=0;_<i.length;_++)s+=goog.html.SafeScript.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o,i)},goog.html.SafeHtml.createStyle=function(i,o){o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},o);var s="";i=goog.array.concat(i);for(var _=0;_<i.length;_++)s+=goog.html.SafeStyleSheet.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,i)},goog.html.SafeHtml.createMetaRefresh=function(i,o){return i=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(o||0)+"; url="+i})},goog.html.SafeHtml.getAttrNameAndValue_=function(i,o,s){if(s instanceof goog.string.Const)s=goog.string.Const.unwrap(s);else if(o.toLowerCase()=="style")s=goog.html.SafeHtml.getStyleValue_(s);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+s+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(s instanceof goog.html.TrustedResourceUrl)s=goog.html.TrustedResourceUrl.unwrap(s);else if(s instanceof goog.html.SafeUrl)s=goog.html.SafeUrl.unwrap(s);else{if(!goog.isString(s))throw Error('Attribute "'+o+'" on tag "'+i+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+s+'" given.');s=goog.html.SafeUrl.sanitize(s).getTypedStringValue()}}return s.implementsGoogStringTypedString&&(s=s.getTypedStringValue()),goog.asserts.assert(goog.isString(s)||goog.isNumber(s),"String or number value expected, got "+typeof s+" with value: "+s),o+'="'+goog.string.internal.htmlEscape(String(s))+'"'},goog.html.SafeHtml.getStyleValue_=function(i){if(!goog.isObject(i))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof i+" given: "+i);return i instanceof goog.html.SafeStyle||(i=goog.html.SafeStyle.create(i)),goog.html.SafeStyle.unwrap(i)},goog.html.SafeHtml.createWithDir=function(i,o,s,_){return(o=goog.html.SafeHtml.create(o,s,_)).dir_=i,o},goog.html.SafeHtml.join=function(i,o){var s=(i=goog.html.SafeHtml.htmlEscape(i)).getDirection(),_=[],$=function(_e){goog.isArray(_e)?goog.array.forEach(_e,$):(_e=goog.html.SafeHtml.htmlEscape(_e),_.push(goog.html.SafeHtml.unwrap(_e)),_e=_e.getDirection(),s==goog.i18n.bidi.Dir.NEUTRAL?s=_e:_e!=goog.i18n.bidi.Dir.NEUTRAL&&s!=_e&&(s=null))};return goog.array.forEach(o,$),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(_.join(goog.html.SafeHtml.unwrap(i)),s)},goog.html.SafeHtml.concat=function(i){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(i,o){var s=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return s.dir_=i,s},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(i,o){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(i,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(i):i,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(i,o,s){var _=null,$="<"+i+goog.html.SafeHtml.stringifyAttributes(i,o);return goog.isDefAndNotNull(s)?goog.isArray(s)||(s=[s]):s=[],goog.dom.tags.isVoidTag(i.toLowerCase())?(goog.asserts.assert(!s.length,"Void tag <"+i+"> does not allow content."),$+=">"):(_=goog.html.SafeHtml.concat(s),$+=">"+goog.html.SafeHtml.unwrap(_)+"</"+i+">",_=_.getDirection()),(i=o&&o.dir)&&(_=/^(ltr|rtl|auto)$/i.test(i)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse($,_)},goog.html.SafeHtml.stringifyAttributes=function(i,o){var s="";if(o)for(var _ in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(_))throw Error('Invalid attribute name "'+_+'".');var $=o[_];goog.isDefAndNotNull($)&&(s+=" "+goog.html.SafeHtml.getAttrNameAndValue_(i,_,$))}return s},goog.html.SafeHtml.combineAttributes=function(i,o,s){var _,$={};for(_ in i)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=i[_];for(_ in o)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=o[_];for(_ in s){var _e=_.toLowerCase();if(_e in i)throw Error('Cannot override "'+_e+'" attribute, got "'+_+'" with value "'+s[_]+'"');_e in o&&delete $[_e],$[_]=s[_]}return $},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(i,o,s){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,s||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(i){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(i);o&&(!i||!(i instanceof o.Location)&&i instanceof o.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(i))}return i},goog.dom.asserts.assertIsElementType_=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=goog.dom.asserts.getWindow_(i);s&&s[o]!==void 0&&(i&&(i instanceof s[o]||!(i instanceof s.Location||i instanceof s.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,goog.dom.asserts.debugStringForType_(i)))}return i},goog.dom.asserts.assertIsHTMLAnchorElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(i){if(!goog.isObject(i))return i===void 0?"undefined":i===null?"null":typeof i;try{return i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(i){try{var o=i&&i.ownerDocument,s=o&&(o.defaultView||o.parentWindow);if((s=s||goog.global).Element&&s.Location)return s}catch{}return null},goog.functions={},goog.functions.constant=function(i){return function(){return i}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(i,o){return i},goog.functions.error=function(i){return function(){throw Error(i)}},goog.functions.fail=function(i){return function(){throw i}},goog.functions.lock=function(i,o){return o=o||0,function(){return i.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(i){return function(){return arguments[i]}},goog.functions.partialRight=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=Array.prototype.slice.call(arguments);return _.push.apply(_,s),i.apply(this,_)}},goog.functions.withReturnValue=function(i,o){return goog.functions.sequence(i,goog.functions.constant(o))},goog.functions.equalTo=function(i,o){return function(s){return o?i==s:i===s}},goog.functions.compose=function(i,o){var s=arguments,_=s.length;return function(){var $;_&&($=s[_-1].apply(this,arguments));for(var _e=_-2;0<=_e;_e--)$=s[_e].call(this,$);return $}},goog.functions.sequence=function(i){var o=arguments,s=o.length;return function(){for(var _,$=0;$<s;$++)_=o[$].apply(this,arguments);return _}},goog.functions.and=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(!o[_].apply(this,arguments))return!1;return!0}},goog.functions.or=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(o[_].apply(this,arguments))return!0;return!1}},goog.functions.not=function(i){return function(){return!i.apply(this,arguments)}},goog.functions.create=function(i,o){var s=function(){};return s.prototype=i.prototype,s=new s,i.apply(s,Array.prototype.slice.call(arguments,1)),s},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(i){var o,s=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(s||(o=i(),s=!0),o):i()}},goog.functions.once=function(i){var o=i;return function(){if(o){var s=o;o=null,s()}}},goog.functions.debounce=function(i,o,s){var _=0;return function($){goog.global.clearTimeout(_);var _e=arguments;_=goog.global.setTimeout(function(){i.apply(s,_e)},o)}},goog.functions.throttle=function(i,o,s){var _=0,$=!1,_e=[],et=function(){_=0,$&&($=!1,j())},j=function(){_=goog.global.setTimeout(et,o),i.apply(s,_e)};return function(nt){_e=arguments,_?$=!0:j()}},goog.functions.rateLimit=function(i,o,s){var _=0,$=function(){_=0};return function(_e){_||(_=goog.global.setTimeout($,o),i.apply(s,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(i,o,s){i.insertAdjacentHTML(o,goog.html.SafeHtml.unwrapTrustedHTML(s))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var i=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),i.appendChild(o),!(goog.DEBUG&&!i.firstChild)&&(o=i.firstChild.firstChild,i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!o.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(i,o){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;i.lastChild;)i.removeChild(i.lastChild);i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setInnerHtml=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=i.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[s])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+i.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(i,o)},goog.dom.safe.setOuterHtml=function(i,o){i.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setFormElementAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLFormElement(i).action=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setButtonFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLButtonElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setInputFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLInputElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setStyle=function(i,o){i.style.cssText=goog.html.SafeStyle.unwrap(o)},goog.dom.safe.documentWrite=function(i,o){i.write(goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.setAnchorHref=function(i,o){goog.dom.asserts.assertIsHTMLAnchorElement(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setImageSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLImageElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:image\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setAudioSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLAudioElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:audio\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setVideoSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLVideoElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:video\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setEmbedSrc=function(i,o){goog.dom.asserts.assertIsHTMLEmbedElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setFrameSrc=function(i,o){goog.dom.asserts.assertIsHTMLFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrcdoc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setLinkHrefAndRel=function(i,o,s){goog.dom.asserts.assertIsHTMLLinkElement(i),i.rel=s,goog.string.internal.caseInsensitiveContains(s,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),i.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)):i.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(o):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(o))},goog.dom.safe.setObjectData=function(i,o){goog.dom.asserts.assertIsHTMLObjectElement(i),i.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setScriptSrc=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.text=goog.html.SafeScript.unwrapTrustedScript(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.assignLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.assign(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.replaceLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.replace(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.openInWindow=function(i,o,s,_,$){return i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),(o||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(i),s?goog.string.Const.unwrap(s):"",_,$)},goog.dom.safe.parseFromStringHtml=function(i,o){return goog.dom.safe.parseFromString(i,o,"text/html")},goog.dom.safe.parseFromString=function(i,o,s){return i.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(o),s)},goog.dom.safe.createImageFromBlob=function(i){if(!/^image\/.*/g.test(i.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var o=goog.global.URL.createObjectURL(i);return(i=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(o)},goog.dom.safe.setImageSrc(i,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),o)),i},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(i,o){for(var s=i.split("%s"),_="",$=Array.prototype.slice.call(arguments,1);$.length&&1<s.length;)_+=s.shift()+$.shift();return _+s.join("%s")},goog.string.collapseWhitespace=function(i){return i.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(i){return i.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(i){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(i))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(i){return!/[^\t\n\r ]/.test(i)},goog.string.isAlpha=function(i){return!/[^a-zA-Z]/.test(i)},goog.string.isNumeric=function(i){return!/[^0-9]/.test(i)},goog.string.isAlphaNumeric=function(i){return!/[^a-zA-Z0-9]/.test(i)},goog.string.isSpace=function(i){return i==" "},goog.string.isUnicodeChar=function(i){return i.length==1&&" "<=i&&"~">=i||""<=i&&"�">=i},goog.string.stripNewlines=function(i){return i.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(i){return i.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(i){return i.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(i){return i.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(i){return i.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(i){return i.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(i){return i.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(i,o,s){if(i==o)return 0;if(!i)return-1;if(!o)return 1;for(var _=i.toLowerCase().match(s),$=o.toLowerCase().match(s),_e=Math.min(_.length,$.length),et=0;et<_e;et++){s=_[et];var j=$[et];if(s!=j)return i=parseInt(s,10),!isNaN(i)&&(o=parseInt(j,10),!isNaN(o)&&i-o)?i-o:s<j?-1:1}return _.length!=$.length?_.length-$.length:i<o?-1:1},goog.string.intAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\D+/g)},goog.string.floatAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(i){return encodeURIComponent(String(i))},goog.string.urlDecode=function(i){return decodeURIComponent(i.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(i,o){return i=goog.string.internal.htmlEscape(i,o),goog.string.DETECT_DOUBLE_ESCAPING&&(i=i.replace(goog.string.E_RE_,"&#101;")),i},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(i){return goog.string.contains(i,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(i):goog.string.unescapePureXmlEntities_(i):i},goog.string.unescapeEntitiesWithDocument=function(i,o){return goog.string.contains(i,"&")?goog.string.unescapeEntitiesUsingDom_(i,o):i},goog.string.unescapeEntitiesUsingDom_=function(i,o){var s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},_=o?o.createElement("div"):goog.global.document.createElement("div");return i.replace(goog.string.HTML_ENTITY_PATTERN_,function($,_e){var et=s[$];return et||(_e.charAt(0)=="#"&&(_e=+("0"+_e.substr(1)),isNaN(_e)||(et=String.fromCharCode(_e))),et||(goog.dom.safe.setInnerHtml(_,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),$+" ")),et=_.firstChild.nodeValue.slice(0,-1)),s[$]=et)})},goog.string.unescapePureXmlEntities_=function(i){return i.replace(/&([^;]+);/g,function(o,s){switch(s){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return s.charAt(0)!="#"||(s=+("0"+s.substr(1)),isNaN(s))?o:String.fromCharCode(s)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(i,o){return goog.string.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(i){return i.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(i,o){for(var s=o.length,_=0;_<s;_++){var $=s==1?o:o.charAt(_);if(i.charAt(0)==$&&i.charAt(i.length-1)==$)return i.substring(1,i.length-1)}return i},goog.string.truncate=function(i,o,s){return s&&(i=goog.string.unescapeEntities(i)),i.length>o&&(i=i.substring(0,o-3)+"..."),s&&(i=goog.string.htmlEscape(i)),i},goog.string.truncateMiddle=function(i,o,s,_){if(s&&(i=goog.string.unescapeEntities(i)),_&&i.length>o){_>o&&(_=o);var $=i.length-_;i=i.substring(0,o-_)+"..."+i.substring($)}else i.length>o&&(_=Math.floor(o/2),$=i.length-_,i=i.substring(0,_+o%2)+"..."+i.substring($));return s&&(i=goog.string.htmlEscape(i)),i},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(i){i=String(i);for(var o=['"'],s=0;s<i.length;s++){var _=i.charAt(s),$=_.charCodeAt(0);o[s+1]=goog.string.specialEscapeChars_[_]||(31<$&&127>$?_:goog.string.escapeChar(_))}return o.push('"'),o.join("")},goog.string.escapeString=function(i){for(var o=[],s=0;s<i.length;s++)o[s]=goog.string.escapeChar(i.charAt(s));return o.join("")},goog.string.escapeChar=function(i){if(i in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[i];if(i in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[i]=goog.string.specialEscapeChars_[i];var o=i.charCodeAt(0);if(31<o&&127>o)var s=i;else 256>o?(s="\\x",(16>o||256<o)&&(s+="0")):(s="\\u",4096>o&&(s+="0")),s+=o.toString(16).toUpperCase();return goog.string.jsEscapeCache_[i]=s},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(i,o){return i&&o?i.split(o).length-1:0},goog.string.removeAt=function(i,o,s){var _=i;return 0<=o&&o<i.length&&0<s&&(_=i.substr(0,o)+i.substr(o+s,i.length-o-s)),_},goog.string.remove=function(i,o){return i.replace(o,"")},goog.string.removeAll=function(i,o){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,"")},goog.string.replaceAll=function(i,o,s){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,s.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(i){return String(i).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(i,o){return i.repeat(o)}:function(i,o){return Array(o+1).join(i)},goog.string.padNumber=function(i,o,s){return(s=(i=goog.isDef(s)?i.toFixed(s):String(i)).indexOf("."))==-1&&(s=i.length),goog.string.repeat("0",Math.max(0,o-s))+i},goog.string.makeSafe=function(i){return i==null?"":String(i)},goog.string.buildString=function(i){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(i){for(var o=0,s=0;s<i.length;++s)o=31*o+i.charCodeAt(s)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(i){var o=Number(i);return o==0&&goog.string.isEmptyOrWhitespace(i)?NaN:o},goog.string.isLowerCamelCase=function(i){return/^[a-z]+([A-Z][a-z]*)*$/.test(i)},goog.string.isUpperCamelCase=function(i){return/^([A-Z][a-z]*)+$/.test(i)},goog.string.toCamelCase=function(i){return String(i).replace(/\-([a-z])/g,function(o,s){return s.toUpperCase()})},goog.string.toSelectorCase=function(i){return String(i).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(i,o){return o=goog.isString(o)?goog.string.regExpEscape(o):"\\s",i.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(s,_,$){return _+$.toUpperCase()})},goog.string.capitalize=function(i){return String(i.charAt(0)).toUpperCase()+String(i.substr(1)).toLowerCase()},goog.string.parseInt=function(i){return isFinite(i)&&(i=String(i)),goog.isString(i)?/^\s*-?0x/i.test(i)?parseInt(i,16):parseInt(i,10):NaN},goog.string.splitLimit=function(i,o,s){i=i.split(o);for(var _=[];0<s&&i.length;)_.push(i.shift()),s--;return i.length&&_.push(i.join(o)),_},goog.string.lastComponent=function(i,o){if(!o)return i;typeof o=="string"&&(o=[o]);for(var s=-1,_=0;_<o.length;_++)if(o[_]!=""){var $=i.lastIndexOf(o[_]);$>s&&(s=$)}return s==-1?i:i.slice(s+1)},goog.string.editDistance=function(i,o){var s=[],_=[];if(i==o)return 0;if(!i.length||!o.length)return Math.max(i.length,o.length);for(var $=0;$<o.length+1;$++)s[$]=$;for($=0;$<i.length;$++){_[0]=$+1;for(var _e=0;_e<o.length;_e++)_[_e+1]=Math.min(_[_e]+1,s[_e+1]+1,s[_e]+ +(i[$]!=o[_e]));for(_e=0;_e<s.length;_e++)s[_e]=_[_e]}return _[o.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?o=(i=(o=/Windows (?:NT|Phone) ([0-9.]+)/).exec(i))?i[1]:"0.0":goog.labs.userAgent.platform.isIos()?o=(i=(o=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(i))&&i[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?o=(i=(o=/Mac OS X ([0-9_.]+)/).exec(i))?i[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?o=(i=(o=/(?:KaiOS)\/(\S+)/i).exec(i))&&i[1]:goog.labs.userAgent.platform.isAndroid()?o=(i=(o=/Android\s+([^\);]+)(\)|;)/).exec(i))&&i[1]:goog.labs.userAgent.platform.isChromeOS()&&(o=(i=(o=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(i))&&i[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),i)},goog.reflect={},goog.reflect.object=function(i,o){return o},goog.reflect.objectProperty=function(i,o){return i},goog.reflect.sinkValue=function(i){return goog.reflect.sinkValue[" "](i),i},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(i,o){try{return goog.reflect.sinkValue(i[o]),!0}catch{}return!1},goog.reflect.cache=function(i,o,s,_){return _=_?_(o):o,Object.prototype.hasOwnProperty.call(i,_)?i[_]:i[_]=s(o)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent();if(i){i=goog.labs.userAgent.util.extractVersionTuples(i);var o,s=goog.labs.userAgent.engine.getEngineTuple_(i);if(s)return s[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(i,"Firefox"):s[1];if((i=i[0])&&(o=i[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(i){if(!goog.labs.userAgent.engine.isEdge())return i[1];for(var o=0;o<i.length;o++){var s=i[o];if(s[0]=="Edge")return s}},goog.labs.userAgent.engine.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),i)},goog.labs.userAgent.engine.getVersionForKey_=function(i,o){return(i=goog.array.find(i,function(s){return o==s[0]}))&&i[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var i=goog.userAgent.getNavigatorTyped();return i&&i.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var i=goog.userAgent.getNavigatorTyped();return!!i&&goog.string.contains(i.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var i="",o=goog.userAgent.getVersionRegexResult_();return o&&(i=o?o[1]:""),goog.userAgent.IE&&(o=goog.userAgent.getDocumentMode_())!=null&&o>parseFloat(i)?String(o):i},goog.userAgent.getVersionRegexResult_=function(){var i=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(i):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(i):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(i):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(i):void 0},goog.userAgent.getDocumentMode_=function(){var i=goog.global.document;return i?i.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(i,o){return goog.string.compareVersions(i,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(i){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,i,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,i)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(i){return Number(goog.userAgent.DOCUMENT_MODE)>=i},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(i){return goog.string.contains(goog.crypt.base64.paddingChars_,i)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(i,o){goog.asserts.assert(goog.isArrayLike(i),"encodeByteArray takes an array as a parameter"),o===void 0&&(o=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),o=goog.crypt.base64.byteToCharMaps_[o];for(var s=[],_=0;_<i.length;_+=3){var $=i[_],_e=_+1<i.length,et=_e?i[_+1]:0,j=_+2<i.length,nt=j?i[_+2]:0,ot=$>>2;$=(3&$)<<4|et>>4,et=(15&et)<<2|nt>>6,nt&=63,j||(nt=64,_e||(et=64)),s.push(o[ot],o[$],o[et]||"",o[nt]||"")}return s.join("")},goog.crypt.base64.encodeString=function(i,o){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!o?goog.global.btoa(i):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(i),o)},goog.crypt.base64.decodeString=function(i,o){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!o)return goog.global.atob(i);var s="";return goog.crypt.base64.decodeStringInternal_(i,function(_){s+=String.fromCharCode(_)}),s},goog.crypt.base64.decodeStringToByteArray=function(i,o){var s=[];return goog.crypt.base64.decodeStringInternal_(i,function(_){s.push(_)}),s},goog.crypt.base64.decodeStringToUint8Array=function(i){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var o=i.length,s=3*o/4;s%3?s=Math.floor(s):goog.crypt.base64.isPadding_(i[o-1])&&(s=goog.crypt.base64.isPadding_(i[o-2])?s-2:s-1);var _=new Uint8Array(s),$=0;return goog.crypt.base64.decodeStringInternal_(i,function(_e){_[$++]=_e}),_.subarray(0,$)},goog.crypt.base64.decodeStringInternal_=function(i,o){function s(nt){for(;_<i.length;){var ot=i.charAt(_++),ct=goog.crypt.base64.charToByteMap_[ot];if(ct!=null)return ct;if(!goog.string.isEmptyOrWhitespace(ot))throw Error("Unknown base64 encoding at char: "+ot)}return nt}goog.crypt.base64.init_();for(var _=0;;){var $=s(-1),_e=s(0),et=s(64),j=s(64);if(j===64&&$===-1)break;o($<<2|_e>>4),et!=64&&(o(_e<<4&240|et>>2),j!=64&&o(et<<6&192|j))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var i=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),o=["+/=","+/","-_=","-_.","-_"],s=0;5>s;s++){var _=i.concat(o[s].split(""));goog.crypt.base64.byteToCharMaps_[s]=_;for(var $=0;$<_.length;$++){var _e=_[$],et=goog.crypt.base64.charToByteMap_[_e];et===void 0?goog.crypt.base64.charToByteMap_[_e]=$:goog.asserts.assert(et===$)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(i){var o=i>>>0;i=Math.floor((i-o)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=o,jspb.utils.split64High=i},jspb.utils.splitInt64=function(i){var o=0>i,s=(i=Math.abs(i))>>>0;i=Math.floor((i-s)/jspb.BinaryConstants.TWO_TO_32),i>>>=0,o&&(i=~i>>>0,4294967295<(s=1+(~s>>>0))&&(s=0,4294967295<++i&&(i=0))),jspb.utils.split64Low=s,jspb.utils.split64High=i},jspb.utils.splitZigzag64=function(i){var o=0>i;i=2*Math.abs(i),jspb.utils.splitUint64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;o&&(i==0?s==0?s=i=4294967295:(s--,i=4294967295):i--),jspb.utils.split64Low=i,jspb.utils.split64High=s},jspb.utils.splitFloat32=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)0<1/i?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(i))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(i>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|2139095040)>>>0;else if(i<jspb.BinaryConstants.FLOAT32_MIN)i=Math.round(i/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|i)>>>0;else{var s=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-s),i=8388607&Math.round(i*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|s+127<<23|i)>>>0}},jspb.utils.splitFloat64=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)jspb.utils.split64High=0<1/i?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(i))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(i>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(o<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(i<jspb.BinaryConstants.FLOAT64_MIN){var s=i/Math.pow(2,-1074);i=s/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(o<<31|i)>>>0,jspb.utils.split64Low=s>>>0}else{var _=0;if(2<=(s=i))for(;2<=s&&1023>_;)_++,s/=2;else for(;1>s&&-1022<_;)s*=2,_--;i=(s=i*Math.pow(2,-_))*jspb.BinaryConstants.TWO_TO_20&1048575,s=s*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(o<<31|_+1023<<20|i)>>>0,jspb.utils.split64Low=s}},jspb.utils.splitHash64=function(i){var o=i.charCodeAt(0),s=i.charCodeAt(1),_=i.charCodeAt(2),$=i.charCodeAt(3),_e=i.charCodeAt(4),et=i.charCodeAt(5),j=i.charCodeAt(6);i=i.charCodeAt(7),jspb.utils.split64Low=o+(s<<8)+(_<<16)+($<<24)>>>0,jspb.utils.split64High=_e+(et<<8)+(j<<16)+(i<<24)>>>0},jspb.utils.joinUint64=function(i,o){return o*jspb.BinaryConstants.TWO_TO_32+(i>>>0)},jspb.utils.joinInt64=function(i,o){var s=2147483648&o;return s&&(o=~o>>>0,(i=1+~i>>>0)==0&&(o=o+1>>>0)),i=jspb.utils.joinUint64(i,o),s?-i:i},jspb.utils.toZigzag64=function(i,o,s){var _=o>>31;return s(i<<1^_,(o<<1|i>>>31)^_)},jspb.utils.joinZigzag64=function(i,o){return jspb.utils.fromZigzag64(i,o,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(i,o,s){var _=-(1&i);return s((i>>>1|o<<31)^_,o>>>1^_)},jspb.utils.joinFloat32=function(i,o){o=2*(i>>31)+1;var s=i>>>23&255;return i&=8388607,s==255?i?NaN:1/0*o:s==0?o*Math.pow(2,-149)*i:o*Math.pow(2,s-150)*(i+Math.pow(2,23))},jspb.utils.joinFloat64=function(i,o){var s=2*(o>>31)+1,_=o>>>20&2047;return i=jspb.BinaryConstants.TWO_TO_32*(1048575&o)+i,_==2047?i?NaN:1/0*s:_==0?s*Math.pow(2,-1074)*i:s*Math.pow(2,_-1075)*(i+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(i,o){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,o>>>0&255,o>>>8&255,o>>>16&255,o>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(i,o){function s($,_e){return $=$?String($):"",_e?"0000000".slice($.length)+$:$}if(2097151>=o)return""+(jspb.BinaryConstants.TWO_TO_32*o+i);var _=(i>>>24|o<<8)>>>0&16777215;return i=(16777215&i)+6777216*_+6710656*(o=o>>16&65535),_+=8147497*o,o*=2,1e7<=i&&(_+=Math.floor(i/1e7),i%=1e7),1e7<=_&&(o+=Math.floor(_/1e7),_%=1e7),s(o,0)+s(_,o)+s(i,1)},jspb.utils.joinSignedDecimalString=function(i,o){var s=2147483648&o;return s&&(o=~o+((i=1+~i>>>0)==0?1:0)>>>0),i=jspb.utils.joinUnsignedDecimalString(i,o),s?"-"+i:i},jspb.utils.hash64ToDecimalString=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinSignedDecimalString(i,s):jspb.utils.joinUnsignedDecimalString(i,s)},jspb.utils.hash64ArrayToDecimalStrings=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]=jspb.utils.hash64ToDecimalString(i[_],o);return s},jspb.utils.decimalStringToHash64=function(i){function o(_e,et){for(var j=0;8>j&&(_e!==1||0<et);j++)et=_e*_[j]+et,_[j]=255&et,et>>>=8}goog.asserts.assert(0<i.length);var s=!1;i[0]==="-"&&(s=!0,i=i.slice(1));for(var _=[0,0,0,0,0,0,0,0],$=0;$<i.length;$++)o(10,i.charCodeAt($)-jspb.utils.ZERO_CHAR_CODE_);return s&&(function(){for(var _e=0;8>_e;_e++)_[_e]=255&~_[_e]}(),o(1,1)),goog.crypt.byteArrayToString(_)},jspb.utils.splitDecimalString=function(i){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i))},jspb.utils.toHexDigit_=function(i){return String.fromCharCode(10>i?jspb.utils.ZERO_CHAR_CODE_+i:jspb.utils.A_CHAR_CODE_-10+i)},jspb.utils.fromHexCharCode_=function(i){return i>=jspb.utils.A_CHAR_CODE_?i-jspb.utils.A_CHAR_CODE_+10:i-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(i){var o=Array(18);o[0]="0",o[1]="x";for(var s=0;8>s;s++){var _=i.charCodeAt(7-s);o[2*s+2]=jspb.utils.toHexDigit_(_>>4),o[2*s+3]=jspb.utils.toHexDigit_(15&_)}return o.join("")},jspb.utils.hexStringToHash64=function(i){i=i.toLowerCase(),goog.asserts.assert(i.length==18),goog.asserts.assert(i[0]=="0"),goog.asserts.assert(i[1]=="x");for(var o="",s=0;8>s;s++){var _=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+2)),$=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+3));o=String.fromCharCode(16*_+$)+o}return o},jspb.utils.hash64ToNumber=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinInt64(i,s):jspb.utils.joinUint64(i,s)},jspb.utils.numberToHash64=function(i){return jspb.utils.splitInt64(i),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(i,o,s){for(var _=0,$=o;$<s;$++)_+=i[$]>>7;return s-o-_},jspb.utils.countVarintFields=function(i,o,s,_){var $=0;if(128>(_=8*_+jspb.BinaryConstants.WireType.VARINT))for(;o<s&&i[o++]==_;)for($++;;){var _e=i[o++];if(!(128&_e))break}else for(;o<s;){for(_e=_;128<_e;){if(i[o]!=(127&_e|128))return $;o++,_e>>=7}if(i[o++]!=_e)break;for($++;128&(_e=i[o++]););}return $},jspb.utils.countFixedFields_=function(i,o,s,_,$){var _e=0;if(128>_)for(;o<s&&i[o++]==_;)_e++,o+=$;else for(;o<s;){for(var et=_;128<et;){if(i[o++]!=(127&et|128))return _e;et>>=7}if(i[o++]!=et)break;_e++,o+=$}return _e},jspb.utils.countFixed32Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(i,o,s,_){var $=0;for(_=8*_+jspb.BinaryConstants.WireType.DELIMITED;o<s;){for(var _e=_;128<_e;){if(i[o++]!=(127&_e|128))return $;_e>>=7}if(i[o++]!=_e)break;$++;for(var et=0,j=1;et+=(127&(_e=i[o++]))*j,j*=128,(128&_e)!=0;);o+=et}return $},jspb.utils.debugBytesToTextFormat=function(i){var o='"';if(i){i=jspb.utils.byteSourceToUint8Array(i);for(var s=0;s<i.length;s++)o+="\\x",16>i[s]&&(o+="0"),o+=i[s].toString(16)}return o+'"'},jspb.utils.debugScalarToTextFormat=function(i){return typeof i=="string"?goog.string.quote(i):i.toString()},jspb.utils.stringToByteArray=function(i){for(var o=new Uint8Array(i.length),s=0;s<i.length;s++){var _=i.charCodeAt(s);if(255<_)throw Error("Conversion error: string contains codepoint outside of byte range");o[s]=_}return o},jspb.utils.byteSourceToUint8Array=function(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer||Buffer!==void 0&&i.constructor===Buffer||i.constructor===Array?new Uint8Array(i):i.constructor===String?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(i,o,s){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,i&&this.setBlock(i,o,s)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(i,o,s){if(jspb.BinaryDecoder.instanceCache_.length){var _=jspb.BinaryDecoder.instanceCache_.pop();return i&&_.setBlock(i,o,s),_}return new jspb.BinaryDecoder(i,o,s)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(i,o,s){this.bytes_=jspb.utils.byteSourceToUint8Array(i),this.start_=o!==void 0?o:0,this.end_=s!==void 0?this.start_+s:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(i){this.end_=i},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(i){this.cursor_=i},jspb.BinaryDecoder.prototype.advance=function(i){this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(i){for(var o=128,s=0,_=0,$=0;4>$&&128<=o;$++)s|=(127&(o=this.bytes_[this.cursor_++]))<<7*$;if(128<=o&&(s|=(127&(o=this.bytes_[this.cursor_++]))<<28,_|=(127&o)>>4),128<=o)for($=0;5>$&&128<=o;$++)_|=(127&(o=this.bytes_[this.cursor_++]))<<7*$+3;if(128>o)return i(s>>>0,_>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(i){return this.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(i){var o=this.bytes_,s=this.cursor_;this.cursor_+=8;for(var _=0,$=0,_e=s+7;_e>=s;_e--)_=_<<8|o[_e],$=$<<8|o[_e+4];return i(_,$)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(i){for(;128<i;)this.cursor_--,i>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var i=this.bytes_,o=i[this.cursor_+0],s=127&o;return 128>o?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+1]))<<7,128>o?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+2]))<<14,128>o?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+3]))<<21,128>o?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(15&(o=i[this.cursor_+4]))<<28,128>o?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),s>>>0):(this.cursor_+=5,128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),s)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var i=this.readUnsignedVarint32();return i>>>1^-(1&i)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i},jspb.BinaryDecoder.prototype.readUint16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8|s<<16|_<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUint64(i,o)},jspb.BinaryDecoder.prototype.readUint64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUnsignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readInt8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8|s<<16|_<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinInt64(i,o)},jspb.BinaryDecoder.prototype.readInt64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinSignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readFloat=function(){var i=this.readUint32();return jspb.utils.joinFloat32(i,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinFloat64(i,o)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(i){var o=this.bytes_,s=this.cursor_;i=s+i;for(var _=[],$="";s<i;){var _e=o[s++];if(128>_e)_.push(_e);else{if(192>_e)continue;if(224>_e){var et=o[s++];_.push((31&_e)<<6|63&et)}else if(240>_e){et=o[s++];var j=o[s++];_.push((15&_e)<<12|(63&et)<<6|63&j)}else 248>_e&&(_e=(7&_e)<<18|(63&(et=o[s++]))<<12|(63&(j=o[s++]))<<6|63&o[s++],_e-=65536,_.push(55296+(_e>>10&1023),56320+(1023&_e)))}8192<=_.length&&($+=String.fromCharCode.apply(null,_),_.length=0)}return $+=goog.crypt.byteArrayToString(_),this.cursor_=s,$},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var i=this.readUnsignedVarint32();return this.readString(i)},jspb.BinaryDecoder.prototype.readBytes=function(i){if(0>i||this.cursor_+i>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var o=this.bytes_.subarray(this.cursor_,this.cursor_+i);return this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_),o},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var i=this.bytes_,o=this.cursor_,s=i[o+0],_=i[o+1],$=i[o+2],_e=i[o+3],et=i[o+4],j=i[o+5],nt=i[o+6];return i=i[o+7],this.cursor_+=8,String.fromCharCode(s,_,$,_e,et,j,nt,i)},jspb.BinaryReader=function(i,o,s){this.decoder_=jspb.BinaryDecoder.alloc(i,o,s),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(i,o,s){if(jspb.BinaryReader.instanceCache_.length){var _=jspb.BinaryReader.instanceCache_.pop();return i&&_.decoder_.setBlock(i,o,s),_}return new jspb.BinaryReader(i,o,s)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(i,o,s){this.decoder_.setBlock(i,o,s),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(i){this.decoder_.advance(i)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var i=this.decoder_.readUnsignedVarint32(),o=i>>>3;return(i&=7)!=jspb.BinaryConstants.WireType.VARINT&&i!=jspb.BinaryConstants.WireType.FIXED32&&i!=jspb.BinaryConstants.WireType.FIXED64&&i!=jspb.BinaryConstants.WireType.DELIMITED&&i!=jspb.BinaryConstants.WireType.START_GROUP&&i!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",i,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=o,this.nextWireType_=i,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var i=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==i;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var i=this.decoder_.readUnsignedVarint32();this.decoder_.advance(i)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var i=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=i&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(i,o){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[i]),this.readCallbacks_[i]=o},jspb.BinaryReader.prototype.runReadCallback=function(i){return goog.asserts.assert(this.readCallbacks_!==null),i=this.readCallbacks_[i],goog.asserts.assert(i),i(this)},jspb.BinaryReader.prototype.readAny=function(i){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(i);var o=jspb.BinaryConstants.FieldType;switch(i){case o.DOUBLE:return this.readDouble();case o.FLOAT:return this.readFloat();case o.INT64:return this.readInt64();case o.UINT64:return this.readUint64();case o.INT32:return this.readInt32();case o.FIXED64:return this.readFixed64();case o.FIXED32:return this.readFixed32();case o.BOOL:return this.readBool();case o.STRING:return this.readString();case o.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case o.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case o.BYTES:return this.readBytes();case o.UINT32:return this.readUint32();case o.ENUM:return this.readEnum();case o.SFIXED32:return this.readSfixed32();case o.SFIXED64:return this.readSfixed64();case o.SINT32:return this.readSint32();case o.SINT64:return this.readSint64();case o.FHASH64:return this.readFixedHash64();case o.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(i,o){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.getEnd(),_=this.decoder_.readUnsignedVarint32();_=this.decoder_.getCursor()+_,this.decoder_.setEnd(_),o(i,this),this.decoder_.setCursor(_),this.decoder_.setEnd(s)},jspb.BinaryReader.prototype.readGroup=function(i,o,s){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==i),s(o,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32(),o=this.decoder_.getCursor(),s=o+i;return i=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),o,i),this.decoder_.setCursor(s),i},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(i)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(i)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(i)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(i)},jspb.BinaryReader.prototype.readPackedField_=function(i){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o;for(var s=[];this.decoder_.getCursor()<o;)s.push(i.call(this.decoder_));return s},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(i,o){this.arr_=i,this.valueCtor_=o,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var i=0;i<this.arr_.length;i++){var o=this.arr_[i],s=o[0];this.map_[s.toString()]=new jspb.Map.Entry_(s,o[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var i,o=this.map_;for(i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var s=o[i].valueWrapper;s&&s.toArray()}}}else{for(this.arr_.length=0,(o=this.stringKeys_()).sort(),i=0;i<o.length;i++){var _=this.map_[o[i]];(s=_.valueWrapper)&&s.toArray(),this.arr_.push([_.key,_.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(i,o){for(var s=this.toArray(),_=[],$=0;$<s.length;$++){var _e=this.map_[s[$][0].toString()];this.wrapEntry_(_e);var et=_e.valueWrapper;et?(goog.asserts.assert(o),_.push([_e.key,o(i,et)])):_.push([_e.key,_e.value])}return _},jspb.Map.fromObject=function(i,o,s){o=new jspb.Map([],o);for(var _=0;_<i.length;_++){var $=i[_][0],_e=s(i[_][1]);o.set($,_e)}return o},jspb.Map.ArrayIteratorIterable_=function(i){this.idx_=0,this.arr_=i},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(i){i=i.toString();var o=this.map_.hasOwnProperty(i);return delete this.map_[i],this.arrClean=!1,o},jspb.Map.prototype.getEntryList=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,_.value])}return i},jspb.Map.prototype.entries=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,this.wrapEntry_(_)])}return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.keys=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.map_[o[s]].key);return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.values=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.wrapEntry_(this.map_[o[s]]));return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.forEach=function(i,o){var s=this.stringKeys_();s.sort();for(var _=0;_<s.length;_++){var $=this.map_[s[_]];i.call(o,this.wrapEntry_($),$.key,this)}},jspb.Map.prototype.set=function(i,o){var s=new jspb.Map.Entry_(i);return this.valueCtor_?(s.valueWrapper=o,s.value=o.toArray()):s.value=o,this.map_[i.toString()]=s,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(i){return this.valueCtor_?(i.valueWrapper||(i.valueWrapper=new this.valueCtor_(i.value)),i.valueWrapper):i.value},jspb.Map.prototype.get=function(i){if(i=this.map_[i.toString()])return this.wrapEntry_(i)},jspb.Map.prototype.has=function(i){return i.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(i,o,s,_,$){var _e=this.stringKeys_();_e.sort();for(var et=0;et<_e.length;et++){var j=this.map_[_e[et]];o.beginSubMessage(i),s.call(o,1,j.key),this.valueCtor_?_.call(o,2,this.wrapEntry_(j),$):_.call(o,2,j.value),o.endSubMessage()}},jspb.Map.deserializeBinary=function(i,o,s,_,$,_e,et){for(;o.nextField()&&!o.isEndGroup();){var j=o.getFieldNumber();j==1?_e=s.call(o):j==2&&(i.valueCtor_?(goog.asserts.assert($),et||(et=new i.valueCtor_),_.call(o,et,$)):et=_.call(o))}goog.asserts.assert(_e!=null),goog.asserts.assert(et!=null),i.set(_e,et)},jspb.Map.prototype.stringKeys_=function(){var i,o=this.map_,s=[];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},jspb.Map.Entry_=function(i,o){this.key=i,this.value=o,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(i,o,s,_,$){this.fieldIndex=i,this.fieldName=o,this.ctor=s,this.toObjectFn=_,this.isRepeated=$},jspb.ExtensionFieldBinaryInfo=function(i,o,s,_,$,_e){this.fieldInfo=i,this.binaryReaderFn=o,this.binaryWriterFn=s,this.binaryMessageSerializeFn=_,this.binaryMessageDeserializeFn=$,this.isPacked=_e},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(i,o){return o+i.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(i,o){return o-i.arrayIndexOffset_},jspb.Message.initialize=function(i,o,s,_,$,_e){if(i.wrappers_=null,o||(o=s?[s]:[]),i.messageId_=s?String(s):void 0,i.arrayIndexOffset_=s===0?-1:0,i.array=o,jspb.Message.initPivotAndExtensionObject_(i,_),i.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(i.repeatedFields=$),$)for(o=0;o<$.length;o++)(s=$[o])<i.pivot_?(s=jspb.Message.getIndex_(i,s),i.array[s]=i.array[s]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[s]=i.extensionObject_[s]||jspb.Message.EMPTY_LIST_SENTINEL_);if(_e&&_e.length)for(o=0;o<_e.length;o++)jspb.Message.computeOneofCase(i,_e[o])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(i){return jspb.Message.ASSUME_LOCAL_ARRAYS?i instanceof Array:Array.isArray(i)},jspb.Message.isExtensionObject_=function(i){return!(i===null||typeof i!="object"||jspb.Message.isArray_(i)||jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(i,o){var s=i.array.length,_=-1;if(s&&(_=s-1,s=i.array[_],jspb.Message.isExtensionObject_(s)))return i.pivot_=jspb.Message.getFieldNumber_(i,_),void(i.extensionObject_=s);-1<o?(i.pivot_=Math.max(o,jspb.Message.getFieldNumber_(i,_+1)),i.extensionObject_=null):i.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(i){var o=jspb.Message.getIndex_(i,i.pivot_);i.array[o]||(i.extensionObject_=i.array[o]={})},jspb.Message.toObjectList=function(i,o,s){for(var _=[],$=0;$<i.length;$++)_[$]=o.call(i[$],s,i[$]);return _},jspb.Message.toObjectExtension=function(i,o,s,_,$){for(var _e in s){var et=s[_e],j=_.call(i,et);if(j!=null){for(var nt in et.fieldName)if(et.fieldName.hasOwnProperty(nt))break;o[nt]=et.toObjectFn?et.isRepeated?jspb.Message.toObjectList(j,et.toObjectFn,$):et.toObjectFn($,j):j}}},jspb.Message.serializeBinaryExtensions=function(i,o,s,_){for(var $ in s){var _e=s[$],et=_e.fieldInfo;if(!_e.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var j=_.call(i,et);if(j!=null)if(et.isMessageType()){if(!_e.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");_e.binaryWriterFn.call(o,et.fieldIndex,j,_e.binaryMessageSerializeFn)}else _e.binaryWriterFn.call(o,et.fieldIndex,j)}},jspb.Message.readBinaryExtension=function(i,o,s,_,$){var _e=s[o.getFieldNumber()];if(_e){if(s=_e.fieldInfo,!_e.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(s.isMessageType()){var et=new s.ctor;_e.binaryReaderFn.call(o,et,_e.binaryMessageDeserializeFn)}else et=_e.binaryReaderFn.call(o);s.isRepeated&&!_e.isPacked?(o=_.call(i,s))?o.push(et):$.call(i,s,[et]):$.call(i,s,et)}else o.skipField()},jspb.Message.getField=function(i,o){if(o<i.pivot_){o=jspb.Message.getIndex_(i,o);var s=i.array[o];return s===jspb.Message.EMPTY_LIST_SENTINEL_?i.array[o]=[]:s}if(i.extensionObject_)return(s=i.extensionObject_[o])===jspb.Message.EMPTY_LIST_SENTINEL_?i.extensionObject_[o]=[]:s},jspb.Message.getRepeatedField=function(i,o){return jspb.Message.getField(i,o)},jspb.Message.getOptionalFloatingPointField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:+i},jspb.Message.getBooleanField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:!!i},jspb.Message.getRepeatedFloatingPointField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=+s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.getRepeatedBooleanField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=!!s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.bytesAsB64=function(i){return i==null||typeof i=="string"?i:jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array?goog.crypt.base64.encodeByteArray(i):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(i)),null)},jspb.Message.bytesAsU8=function(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(i)),null)},jspb.Message.bytesListAsB64=function(i){return jspb.Message.assertConsistentTypes_(i),i.length&&typeof i[0]!="string"?goog.array.map(i,jspb.Message.bytesAsB64):i},jspb.Message.bytesListAsU8=function(i){return jspb.Message.assertConsistentTypes_(i),!i.length||i[0]instanceof Uint8Array?i:goog.array.map(i,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(i){if(goog.DEBUG&&i&&1<i.length){var o=goog.typeOf(i[0]);goog.array.forEach(i,function(s){goog.typeOf(s)!=o&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(s)+" expected "+o)})}},jspb.Message.getFieldWithDefault=function(i,o,s){return(i=jspb.Message.getField(i,o))==null?s:i},jspb.Message.getBooleanFieldWithDefault=function(i,o,s){return(i=jspb.Message.getBooleanField(i,o))==null?s:i},jspb.Message.getFloatingPointFieldWithDefault=function(i,o,s){return(i=jspb.Message.getOptionalFloatingPointField(i,o))==null?s:i},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),o in i.wrappers_)return i.wrappers_[o];var $=jspb.Message.getField(i,o);if(!$){if(s)return;$=[],jspb.Message.setField(i,o,$)}return i.wrappers_[o]=new jspb.Map($,_)},jspb.Message.setField=function(i,o,s){return goog.asserts.assertInstanceof(i,jspb.Message),o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=s:(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[o]=s),i},jspb.Message.setProto3IntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3FloatField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3BooleanField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,!1)},jspb.Message.setProto3StringField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3BytesField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3EnumField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3StringIntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"0")},jspb.Message.setFieldIgnoringDefault_=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),s!==_?jspb.Message.setField(i,o,s):o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(i),delete i.extensionObject_[o]),i},jspb.Message.addToRepeatedField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),o=jspb.Message.getRepeatedField(i,o),_!=null?o.splice(_,0,s):o.push(s),i},jspb.Message.setOneofField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),(s=jspb.Message.computeOneofCase(i,s))&&s!==o&&_!==void 0&&(i.wrappers_&&s in i.wrappers_&&(i.wrappers_[s]=void 0),jspb.Message.setField(i,s,void 0)),jspb.Message.setField(i,o,_)},jspb.Message.computeOneofCase=function(i,o){for(var s,_,$=0;$<o.length;$++){var _e=o[$],et=jspb.Message.getField(i,_e);et!=null&&(s=_e,_=et,jspb.Message.setField(i,_e,void 0))}return s?(jspb.Message.setField(i,s,_),s):0},jspb.Message.getWrapperField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){var $=jspb.Message.getField(i,s);(_||$)&&(i.wrappers_[s]=new o($))}return i.wrappers_[s]},jspb.Message.getRepeatedWrapperField=function(i,o,s){return jspb.Message.wrapRepeatedField_(i,o,s),(o=i.wrappers_[s])==jspb.Message.EMPTY_LIST_SENTINEL_&&(o=i.wrappers_[s]=[]),o},jspb.Message.wrapRepeatedField_=function(i,o,s){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){for(var _=jspb.Message.getRepeatedField(i,s),$=[],_e=0;_e<_.length;_e++)$[_e]=new o(_[_e]);i.wrappers_[s]=$}},jspb.Message.setWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var _=s&&s.toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.setOneofWrapperField=function(i,o,s,_){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var $=_&&_.toArray();return i.wrappers_[o]=_,jspb.Message.setOneofField(i,o,s,$)},jspb.Message.setRepeatedWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={}),s=s||[];for(var _=[],$=0;$<s.length;$++)_[$]=s[$].toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.addToRepeatedWrapperField=function(i,o,s,_,$){jspb.Message.wrapRepeatedField_(i,_,o);var _e=i.wrappers_[o];return _e||(_e=i.wrappers_[o]=[]),s=s||new _,i=jspb.Message.getRepeatedField(i,o),$!=null?(_e.splice($,0,s),i.splice($,0,s.toArray())):(_e.push(s),i.push(s.toArray())),s},jspb.Message.toMap=function(i,o,s,_){for(var $={},_e=0;_e<i.length;_e++)$[o.call(i[_e])]=s?s.call(i[_e],_,i[_e]):i[_e];return $},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var i in this.wrappers_){var o=this.wrappers_[i];if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]&&o[s].toArray();else o&&o.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(i){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var o=i.fieldIndex;if(i.isRepeated){if(i.isMessageType())return this.wrappers_[o]||(this.wrappers_[o]=goog.array.map(this.extensionObject_[o]||[],function(s){return new i.ctor(s)})),this.wrappers_[o]}else if(i.isMessageType())return!this.wrappers_[o]&&this.extensionObject_[o]&&(this.wrappers_[o]=new i.ctor(this.extensionObject_[o])),this.wrappers_[o];return this.extensionObject_[o]}},jspb.Message.prototype.setExtension=function(i,o){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var s=i.fieldIndex;return i.isRepeated?(o=o||[],i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=goog.array.map(o,function(_){return _.toArray()})):this.extensionObject_[s]=o):i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=o&&o.toArray()):this.extensionObject_[s]=o,this},jspb.Message.difference=function(i,o){if(!(i instanceof o.constructor))throw Error("Messages have different types.");var s=i.toArray();o=o.toArray();var _=[],$=0,_e=s.length>o.length?s.length:o.length;for(i.getJsPbMessageId()&&(_[0]=i.getJsPbMessageId(),$=1);$<_e;$++)jspb.Message.compareFields(s[$],o[$])||(_[$]=o[$]);return new i.constructor(_)},jspb.Message.equals=function(i,o){return i==o||!(!i||!o)&&i instanceof o.constructor&&jspb.Message.compareFields(i.toArray(),o.toArray())},jspb.Message.compareExtensions=function(i,o){i=i||{},o=o||{};var s,_={};for(s in i)_[s]=0;for(s in o)_[s]=0;for(s in _)if(!jspb.Message.compareFields(i[s],o[s]))return!1;return!0},jspb.Message.compareFields=function(i,o){if(i==o)return!0;if(!goog.isObject(i)||!goog.isObject(o))return!!(typeof i=="number"&&isNaN(i)||typeof o=="number"&&isNaN(o))&&String(i)==String(o);if(i.constructor!=o.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i.constructor===Uint8Array){if(i.length!=o.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!=o[s])return!1;return!0}if(i.constructor===Array){var _=void 0,$=void 0,_e=Math.max(i.length,o.length);for(s=0;s<_e;s++){var et=i[s],j=o[s];if(et&&et.constructor==Object&&(goog.asserts.assert(_===void 0),goog.asserts.assert(s===i.length-1),_=et,et=void 0),j&&j.constructor==Object&&(goog.asserts.assert($===void 0),goog.asserts.assert(s===o.length-1),$=j,j=void 0),!jspb.Message.compareFields(et,j))return!1}return!_&&!$||(_=_||{},$=$||{},jspb.Message.compareExtensions(_,$))}if(i.constructor===Object)return jspb.Message.compareExtensions(i,o);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(i){return jspb.Message.cloneMessage(i)},jspb.Message.cloneMessage=function(i){return new i.constructor(jspb.Message.clone_(i.toArray()))},jspb.Message.copyInto=function(i,o){goog.asserts.assertInstanceof(i,jspb.Message),goog.asserts.assertInstanceof(o,jspb.Message),goog.asserts.assert(i.constructor==o.constructor,"Copy source and target message should have the same type."),i=jspb.Message.clone(i);for(var s=o.toArray(),_=i.toArray(),$=s.length=0;$<_.length;$++)s[$]=_[$];o.wrappers_=i.wrappers_,o.extensionObject_=i.extensionObject_},jspb.Message.clone_=function(i){if(Array.isArray(i)){for(var o=Array(i.length),s=0;s<i.length;s++){var _=i[s];_!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_)}return o}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)return new Uint8Array(i);for(s in o={},i)(_=i[s])!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_);return o},jspb.Message.registerMessageType=function(i,o){o.messageId=i},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(i,o){this.lo=i,this.hi=o},jspb.arith.UInt64.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(i){return new jspb.arith.UInt64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(i){return new jspb.arith.UInt64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(i,o){var s=65535&i,_=65535&o,$=o>>>16;for(o=s*_+65536*(s*$&65535)+65536*((i>>>=16)*_&65535),s=i*$+(s*$>>>16)+(i*_>>>16);4294967296<=o;)o-=4294967296,s+=1;return new jspb.arith.UInt64(o>>>0,s>>>0)},jspb.arith.UInt64.prototype.mul=function(i){var o=jspb.arith.UInt64.mul32x32(this.lo,i);return(i=jspb.arith.UInt64.mul32x32(this.hi,i)).hi=i.lo,i.lo=0,o.add(i)},jspb.arith.UInt64.prototype.div=function(i){if(i==0)return[];var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(this.lo,this.hi);i=new jspb.arith.UInt64(i,0);for(var _=new jspb.arith.UInt64(1,0);!i.msb();)i=i.leftShift(),_=_.leftShift();for(;!_.zero();)0>=i.cmp(s)&&(o=o.add(_),s=s.sub(i)),i=i.rightShift(),_=_.rightShift();return[o,s]},jspb.arith.UInt64.prototype.toString=function(){for(var i="",o=this;!o.zero();){var s=(o=o.div(10))[0];i=o[1].lo+i,o=s}return i==""&&(i="0"),i},jspb.arith.UInt64.fromString=function(i){for(var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(0,0),_=0;_<i.length;_++){if("0">i[_]||"9"<i[_])return null;var $=parseInt(i[_],10);s.lo=$,o=o.mul(10).add(s)}return o},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(i,o){this.lo=i,this.hi=o},jspb.arith.Int64.prototype.add=function(i){return new jspb.arith.Int64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(i){return new jspb.arith.Int64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var i=(2147483648&this.hi)!=0,o=new jspb.arith.UInt64(this.lo,this.hi);return i&&(o=new jspb.arith.UInt64(0,0).sub(o)),(i?"-":"")+o.toString()},jspb.arith.Int64.fromString=function(i){var o=0<i.length&&i[0]=="-";return o&&(i=i.substring(1)),(i=jspb.arith.UInt64.fromString(i))===null?null:(o&&(i=new jspb.arith.UInt64(0,0).sub(i)),new jspb.arith.Int64(i.lo,i.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var i=this.buffer_;return this.buffer_=[],i},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(i,o){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32);0<o||127<i;)this.buffer_.push(127&i|128),i=(i>>>7|o<<25)>>>0,o>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(i,o){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(i),this.writeUint32(o)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(i){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32);127<i;)this.buffer_.push(127&i|128),i>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(i){if(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),0<=i)this.writeUnsignedVarint32(i);else{for(var o=0;9>o;o++)this.buffer_.push(127&i|128),i>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((i<<1^i>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(i){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(i))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(i){var o=this;jspb.utils.splitHash64(i),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(s,_){o.writeSplitVarint64(s>>>0,_>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&256>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&65536>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-128<=i&&128>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-32768<=i&&32768>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(+i>=-jspb.BinaryConstants.TWO_TO_63&&+i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT32_MAX&&i<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(i),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT64_MAX&&i<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(i){goog.asserts.assert(typeof i=="boolean"||typeof i=="number"),this.buffer_.push(i?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(i)},jspb.BinaryEncoder.prototype.writeBytes=function(i){this.buffer_.push.apply(this.buffer_,i)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(i){jspb.utils.splitHash64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(i){jspb.utils.splitHash64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(i){for(var o=this.buffer_.length,s=0;s<i.length;s++){var _=i.charCodeAt(s);if(128>_)this.buffer_.push(_);else if(2048>_)this.buffer_.push(_>>6|192),this.buffer_.push(63&_|128);else if(65536>_)if(55296<=_&&56319>=_&&s+1<i.length){var $=i.charCodeAt(s+1);56320<=$&&57343>=$&&(_=1024*(_-55296)+$-56320+65536,this.buffer_.push(_>>18|240),this.buffer_.push(_>>12&63|128),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128),s++)}else this.buffer_.push(_>>12|224),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128)}return this.buffer_.length-o},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(i){var o=this.encoder_.end();this.blocks_.push(o),this.blocks_.push(i),this.totalLength_+=o.length+i.length},jspb.BinaryWriter.prototype.beginDelimited_=function(i){return this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),i=this.encoder_.end(),this.blocks_.push(i),this.totalLength_+=i.length,i.push(this.totalLength_),i},jspb.BinaryWriter.prototype.endDelimited_=function(i){var o=i.pop();for(o=this.totalLength_+this.encoder_.length()-o,goog.asserts.assert(0<=o);127<o;)i.push(127&o|128),o>>>=7,this.totalLength_++;i.push(o),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(i,o,s){this.appendUint8Array_(i.subarray(o,s))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(i,o,s){i!=null&&o!=null&&s!=null&&this.writeSerializedMessage(i,o,s)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var i=new Uint8Array(this.totalLength_+this.encoder_.length()),o=this.blocks_,s=o.length,_=0,$=0;$<s;$++){var _e=o[$];i.set(_e,_),_+=_e.length}return o=this.encoder_.end(),i.set(o,_),_+=o.length,goog.asserts.assert(_==i.length),this.blocks_=[i],i},jspb.BinaryWriter.prototype.getResultBase64String=function(i){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),i)},jspb.BinaryWriter.prototype.beginSubMessage=function(i){this.bookmarks_.push(this.beginDelimited_(i))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(i,o){goog.asserts.assert(1<=i&&i==Math.floor(i)),this.encoder_.writeUnsignedVarint32(8*i+o)},jspb.BinaryWriter.prototype.writeAny=function(i,o,s){var _=jspb.BinaryConstants.FieldType;switch(i){case _.DOUBLE:this.writeDouble(o,s);break;case _.FLOAT:this.writeFloat(o,s);break;case _.INT64:this.writeInt64(o,s);break;case _.UINT64:this.writeUint64(o,s);break;case _.INT32:this.writeInt32(o,s);break;case _.FIXED64:this.writeFixed64(o,s);break;case _.FIXED32:this.writeFixed32(o,s);break;case _.BOOL:this.writeBool(o,s);break;case _.STRING:this.writeString(o,s);break;case _.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case _.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case _.BYTES:this.writeBytes(o,s);break;case _.UINT32:this.writeUint32(o,s);break;case _.ENUM:this.writeEnum(o,s);break;case _.SFIXED32:this.writeSfixed32(o,s);break;case _.SFIXED64:this.writeSfixed64(o,s);break;case _.SINT32:this.writeSint32(o,s);break;case _.SINT64:this.writeSint64(o,s);break;case _.FHASH64:this.writeFixedHash64(o,s);break;case _.VHASH64:this.writeVarintHash64(o,s);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(o))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(o))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(o))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(o))},jspb.BinaryWriter.prototype.writeInt32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeInt64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeUint32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeUint64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSint32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(i,o))},jspb.BinaryWriter.prototype.writeSint64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(i,o))},jspb.BinaryWriter.prototype.writeSintHash64=function(i,o){o!=null&&this.writeZigzagVarintHash64_(i,o)},jspb.BinaryWriter.prototype.writeSint64String=function(i,o){o!=null&&this.writeZigzagVarint64String_(i,o)},jspb.BinaryWriter.prototype.writeFixed32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(o))},jspb.BinaryWriter.prototype.writeFixed64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(o))},jspb.BinaryWriter.prototype.writeFixed64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(o))},jspb.BinaryWriter.prototype.writeSfixed64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(o))},jspb.BinaryWriter.prototype.writeSfixed64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeFloat=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(o))},jspb.BinaryWriter.prototype.writeDouble=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(o))},jspb.BinaryWriter.prototype.writeBool=function(i,o){o!=null&&(goog.asserts.assert(typeof o=="boolean"||typeof o=="number"),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(o))},jspb.BinaryWriter.prototype.writeEnum=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeString=function(i,o){o!=null&&(i=this.beginDelimited_(i),this.encoder_.writeString(o),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeBytes=function(i,o){o!=null&&(o=jspb.utils.byteSourceToUint8Array(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),this.appendUint8Array_(o))},jspb.BinaryWriter.prototype.writeMessage=function(i,o,s){o!=null&&(i=this.beginDelimited_(i),s(o,this),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeMessageSet=function(i,o,s){o!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i),i=this.beginDelimited_(3),s(o,this),this.endDelimited_(i),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(i,o,s){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o,this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(o))},jspb.BinaryWriter.prototype.writeVarintHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(o))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o,s)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o,s)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT);var _=this.encoder_;jspb.utils.toZigzag64(o,s,function($,_e){_.writeSplitVarint64($>>>0,_e>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitFixed64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitZigzagVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64String_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarintHash64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFloat(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeDouble(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBool(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeEnum(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedString=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeString(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBytes(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++){var $=this.beginDelimited_(i);s(o[_],this),this.endDelimited_($)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++)this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o[_],this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixedHash64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeVarintHash64(i,o[s])},jspb.BinaryWriter.prototype.writePackedInt32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitFixed64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitVarint64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=this.encoder_,_e=0;_e<o.length;_e++)jspb.utils.toZigzag64(s(o[_e]),_(o[_e]),function(et,j){$.writeSplitVarint64(et>>>0,j>>>0)});this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.Int64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.UInt64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(o[s]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeUint32(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeUint64(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++){var s=jspb.arith.UInt64.fromString(o[i]);this.encoder_.writeSplitFixed64(s.lo,s.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeInt32(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64String(o[i])},jspb.BinaryWriter.prototype.writePackedFloat=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeFloat(o[i])},jspb.BinaryWriter.prototype.writePackedDouble=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeDouble(o[i])},jspb.BinaryWriter.prototype.writePackedBool=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),i=0;i<o.length;i++)this.encoder_.writeBool(o[i])},jspb.BinaryWriter.prototype.writePackedEnum=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeEnum(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeFixedHash64(o[i])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeVarintHash64(o[s]);this.endDelimited_(i)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(6),__webpack_require__(5).Buffer)},function(i,o,s){const{AbortController:_,AbortSignal:$}=typeof self<"u"?self:typeof window<"u"?window:void 0;i.exports=_,i.exports.AbortSignal=$,i.exports.default=_},function(i,o){var s=function(_){function $(){this.fetch=!1,this.DOMException=_.DOMException}return $.prototype=_,new $}(typeof self<"u"?self:this);(function(_){(function($){var _e="URLSearchParams"in _,et="Symbol"in _&&"iterator"in Symbol,j="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),nt="FormData"in _,ot="ArrayBuffer"in _;if(ot)var ct=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],gt=ArrayBuffer.isView||function(Pt){return Pt&&ct.indexOf(Object.prototype.toString.call(Pt))>-1};function pt(Pt){if(typeof Pt!="string"&&(Pt=String(Pt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Pt))throw new TypeError("Invalid character in header field name");return Pt.toLowerCase()}function ft(Pt){return typeof Pt!="string"&&(Pt=String(Pt)),Pt}function ut(Pt){var Bt={next:function(){var jt=Pt.shift();return{done:jt===void 0,value:jt}}};return et&&(Bt[Symbol.iterator]=function(){return Bt}),Bt}function yt(Pt){this.map={},Pt instanceof yt?Pt.forEach(function(Bt,jt){this.append(jt,Bt)},this):Array.isArray(Pt)?Pt.forEach(function(Bt){this.append(Bt[0],Bt[1])},this):Pt&&Object.getOwnPropertyNames(Pt).forEach(function(Bt){this.append(Bt,Pt[Bt])},this)}function wt(Pt){if(Pt.bodyUsed)return Promise.reject(new TypeError("Already read"));Pt.bodyUsed=!0}function Qt(Pt){return new Promise(function(Bt,jt){Pt.onload=function(){Bt(Pt.result)},Pt.onerror=function(){jt(Pt.error)}})}function It(Pt){var Bt=new FileReader,jt=Qt(Bt);return Bt.readAsArrayBuffer(Pt),jt}function xt(Pt){if(Pt.slice)return Pt.slice(0);var Bt=new Uint8Array(Pt.byteLength);return Bt.set(new Uint8Array(Pt)),Bt.buffer}function Tt(){return this.bodyUsed=!1,this._initBody=function(Pt){var Bt;this._bodyInit=Pt,Pt?typeof Pt=="string"?this._bodyText=Pt:j&&Blob.prototype.isPrototypeOf(Pt)?this._bodyBlob=Pt:nt&&FormData.prototype.isPrototypeOf(Pt)?this._bodyFormData=Pt:_e&&URLSearchParams.prototype.isPrototypeOf(Pt)?this._bodyText=Pt.toString():ot&&j&&(Bt=Pt)&&DataView.prototype.isPrototypeOf(Bt)?(this._bodyArrayBuffer=xt(Pt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ot&&(ArrayBuffer.prototype.isPrototypeOf(Pt)||gt(Pt))?this._bodyArrayBuffer=xt(Pt):this._bodyText=Pt=Object.prototype.toString.call(Pt):this._bodyText="",this.headers.get("content-type")||(typeof Pt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_e&&URLSearchParams.prototype.isPrototypeOf(Pt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},j&&(this.blob=function(){var Pt=wt(this);if(Pt)return Pt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?wt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(It)}),this.text=function(){var Pt,Bt,jt,qt=wt(this);if(qt)return qt;if(this._bodyBlob)return Pt=this._bodyBlob,Bt=new FileReader,jt=Qt(Bt),Bt.readAsText(Pt),jt;if(this._bodyArrayBuffer)return Promise.resolve(function(Zt){for(var Wt=new Uint8Array(Zt),Gt=new Array(Wt.length),Ht=0;Ht<Wt.length;Ht++)Gt[Ht]=String.fromCharCode(Wt[Ht]);return Gt.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},nt&&(this.formData=function(){return this.text().then(en)}),this.json=function(){return this.text().then(JSON.parse)},this}yt.prototype.append=function(Pt,Bt){Pt=pt(Pt),Bt=ft(Bt);var jt=this.map[Pt];this.map[Pt]=jt?jt+", "+Bt:Bt},yt.prototype.delete=function(Pt){delete this.map[pt(Pt)]},yt.prototype.get=function(Pt){return Pt=pt(Pt),this.has(Pt)?this.map[Pt]:null},yt.prototype.has=function(Pt){return this.map.hasOwnProperty(pt(Pt))},yt.prototype.set=function(Pt,Bt){this.map[pt(Pt)]=ft(Bt)},yt.prototype.forEach=function(Pt,Bt){for(var jt in this.map)this.map.hasOwnProperty(jt)&&Pt.call(Bt,this.map[jt],jt,this)},yt.prototype.keys=function(){var Pt=[];return this.forEach(function(Bt,jt){Pt.push(jt)}),ut(Pt)},yt.prototype.values=function(){var Pt=[];return this.forEach(function(Bt){Pt.push(Bt)}),ut(Pt)},yt.prototype.entries=function(){var Pt=[];return this.forEach(function(Bt,jt){Pt.push([jt,Bt])}),ut(Pt)},et&&(yt.prototype[Symbol.iterator]=yt.prototype.entries);var mt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Nt(Pt,Bt){var jt,qt,Zt=(Bt=Bt||{}).body;if(Pt instanceof Nt){if(Pt.bodyUsed)throw new TypeError("Already read");this.url=Pt.url,this.credentials=Pt.credentials,Bt.headers||(this.headers=new yt(Pt.headers)),this.method=Pt.method,this.mode=Pt.mode,this.signal=Pt.signal,Zt||Pt._bodyInit==null||(Zt=Pt._bodyInit,Pt.bodyUsed=!0)}else this.url=String(Pt);if(this.credentials=Bt.credentials||this.credentials||"same-origin",!Bt.headers&&this.headers||(this.headers=new yt(Bt.headers)),this.method=(jt=Bt.method||this.method||"GET",qt=jt.toUpperCase(),mt.indexOf(qt)>-1?qt:jt),this.mode=Bt.mode||this.mode||null,this.signal=Bt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Zt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Zt)}function en(Pt){var Bt=new FormData;return Pt.trim().split("&").forEach(function(jt){if(jt){var qt=jt.split("="),Zt=qt.shift().replace(/\+/g," "),Wt=qt.join("=").replace(/\+/g," ");Bt.append(decodeURIComponent(Zt),decodeURIComponent(Wt))}}),Bt}function rn(Pt,Bt){Bt||(Bt={}),this.type="default",this.status=Bt.status===void 0?200:Bt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Bt?Bt.statusText:"OK",this.headers=new yt(Bt.headers),this.url=Bt.url||"",this._initBody(Pt)}Nt.prototype.clone=function(){return new Nt(this,{body:this._bodyInit})},Tt.call(Nt.prototype),Tt.call(rn.prototype),rn.prototype.clone=function(){return new rn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new yt(this.headers),url:this.url})},rn.error=function(){var Pt=new rn(null,{status:0,statusText:""});return Pt.type="error",Pt};var Ft=[301,302,303,307,308];rn.redirect=function(Pt,Bt){if(Ft.indexOf(Bt)===-1)throw new RangeError("Invalid status code");return new rn(null,{status:Bt,headers:{location:Pt}})},$.DOMException=_.DOMException;try{new $.DOMException}catch{$.DOMException=function(Pt,Bt){this.message=Pt,this.name=Bt;var jt=Error(Pt);this.stack=jt.stack},$.DOMException.prototype=Object.create(Error.prototype),$.DOMException.prototype.constructor=$.DOMException}function St(Pt,Bt){return new Promise(function(jt,qt){var Zt=new Nt(Pt,Bt);if(Zt.signal&&Zt.signal.aborted)return qt(new $.DOMException("Aborted","AbortError"));var Wt=new XMLHttpRequest;function Gt(){Wt.abort()}Wt.onload=function(){var Ht,kt,Rt={status:Wt.status,statusText:Wt.statusText,headers:(Ht=Wt.getAllResponseHeaders()||"",kt=new yt,Ht.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(nn){var Un=nn.split(":"),Fn=Un.shift().trim();if(Fn){var En=Un.join(":").trim();kt.append(Fn,En)}}),kt)};Rt.url="responseURL"in Wt?Wt.responseURL:Rt.headers.get("X-Request-URL");var $t="response"in Wt?Wt.response:Wt.responseText;jt(new rn($t,Rt))},Wt.onerror=function(){qt(new TypeError("Network request failed"))},Wt.ontimeout=function(){qt(new TypeError("Network request failed"))},Wt.onabort=function(){qt(new $.DOMException("Aborted","AbortError"))},Wt.open(Zt.method,Zt.url,!0),Zt.credentials==="include"?Wt.withCredentials=!0:Zt.credentials==="omit"&&(Wt.withCredentials=!1),"responseType"in Wt&&j&&(Wt.responseType="blob"),Zt.headers.forEach(function(Ht,kt){Wt.setRequestHeader(kt,Ht)}),Zt.signal&&(Zt.signal.addEventListener("abort",Gt),Wt.onreadystatechange=function(){Wt.readyState===4&&Zt.signal.removeEventListener("abort",Gt)}),Wt.send(Zt._bodyInit===void 0?null:Zt._bodyInit)})}St.polyfill=!0,_.fetch||(_.fetch=St,_.Headers=yt,_.Request=Nt,_.Response=rn),$.Headers=yt,$.Request=Nt,$.Response=rn,$.fetch=St})({})})(s),delete s.fetch.polyfill,(o=s.fetch).default=s.fetch,o.fetch=s.fetch,o.Headers=s.Headers,o.Request=s.Request,o.Response=s.Response,i.exports=o},function(i,o,s){(function(_){const $=s(211),_e=s(52),et=(j,nt,ot)=>({from:et,EnvVarError:s(52),get:function(ct){if(!ct)return j;if(arguments.length>1)throw new _e("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return $(j,ct,nt||{},ot||function(){})},accessors:s(94),logger:s(225)(console.log,j.NODE_ENV)});i.exports=et(_.env)}).call(this,s(2))},function(i,o,s){var _=s(13),$=s(73),_e=s(3).LEVEL,et=i.exports=function(){var j=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:nt.highWaterMark}),this.format=nt.format,this.level=nt.level,this.handleExceptions=nt.handleExceptions,this.silent=nt.silent,nt.log&&(this.log=nt.log),nt.logv&&(this.logv=nt.logv),nt.close&&(this.close=nt.close),this.once("pipe",function(ot){j.levels=ot.levels,j.parent=ot}),this.once("unpipe",function(ot){ot===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(et,$),et.prototype._write=function(j,nt,ot){if(this.silent||j.exception===!0&&!this.handleExceptions)return ot(null);var ct=this.level||this.parent&&this.parent.level;if(!ct||this.levels[ct]>=this.levels[j[_e]]){if(j&&!this.format)return this.log(j,ot);var gt=void 0,pt=void 0;try{pt=this.format.transform(Object.assign({},j),this.format.options)}catch(ft){gt=ft}if(gt||!pt){if(ot(),gt)throw gt;return}return this.log(pt,ot)}return ot(null)},et.prototype._writev=function(j,nt){if(this.logv){var ot=j.filter(this._accept,this);return ot.length?this.logv(ot,nt):nt(null)}for(var ct=0;ct<j.length;ct++)if(this._accept(j[ct]))if(!j[ct].chunk||this.format){var gt=void 0,pt=void 0;try{pt=this.format.transform(Object.assign({},j[ct].chunk),this.format.options)}catch(ft){gt=ft}if(gt||!pt){if(j[ct].callback(),gt)throw nt(null),gt}else this.log(pt,j[ct].callback)}else this.log(j[ct].chunk,j[ct].callback);return nt(null)},et.prototype._accept=function(j){var nt=j.chunk;if(this.silent)return!1;var ot=this.level||this.parent&&this.parent.level;return!(nt.exception!==!0&&ot&&!(this.levels[ot]>=this.levels[nt[_e]])||!this.handleExceptions&&nt.exception===!0)},et.prototype._nop=function(){}},function(i,o,s){(function(_){const $=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,_e=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new nt}abort(){this.signal.dispatchEvent("abort")}},et=typeof AbortSignal=="function",j=typeof _e.AbortSignal=="function",nt=et?AbortSignal:j?_e.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(Tt){if(Tt==="abort"){this.aborted=!0;const mt={type:Tt,target:this};this.onabort(mt),this._listeners.forEach(Nt=>Nt(mt),this)}}onabort(){}addEventListener(Tt,mt){Tt==="abort"&&this._listeners.push(mt)}removeEventListener(Tt,mt){Tt==="abort"&&(this._listeners=this._listeners.filter(Nt=>Nt!==mt))}},ot=new Set,ct=(Tt,mt)=>{const Nt=`LRU_CACHE_OPTION_${Tt}`;ft(Nt)&&ut(Nt,`${Tt} option`,`options.${mt}`,xt)},gt=(Tt,mt)=>{const Nt=`LRU_CACHE_METHOD_${Tt}`;if(ft(Nt)){const{prototype:en}=xt,{get:rn}=Object.getOwnPropertyDescriptor(en,Tt);ut(Nt,`${Tt} method`,`cache.${mt}()`,rn)}},pt=(...Tt)=>{typeof _=="object"&&_&&typeof _.emitWarning=="function"?_.emitWarning(...Tt):console.error(...Tt)},ft=Tt=>!ot.has(Tt),ut=(Tt,mt,Nt,en)=>{ot.add(Tt),pt(`The ${mt} is deprecated. Please use ${Nt} instead.`,"DeprecationWarning",Tt,en)},yt=Tt=>Tt&&Tt===Math.floor(Tt)&&Tt>0&&isFinite(Tt),wt=Tt=>yt(Tt)?Tt<=Math.pow(2,8)?Uint8Array:Tt<=Math.pow(2,16)?Uint16Array:Tt<=Math.pow(2,32)?Uint32Array:Tt<=Number.MAX_SAFE_INTEGER?Qt:null:null;class Qt extends Array{constructor(mt){super(mt),this.fill(0)}}class It{constructor(mt){if(mt===0)return[];const Nt=wt(mt);this.heap=new Nt(mt),this.length=0}push(mt){this.heap[this.length++]=mt}pop(){return this.heap[--this.length]}}class xt{constructor(mt={}){const{max:Nt=0,ttl:en,ttlResolution:rn=1,ttlAutopurge:Ft,updateAgeOnGet:St,updateAgeOnHas:Pt,allowStale:Bt,dispose:jt,disposeAfter:qt,noDisposeOnSet:Zt,noUpdateTTL:Wt,maxSize:Gt=0,maxEntrySize:Ht=0,sizeCalculation:kt,fetchMethod:Rt,fetchContext:$t,noDeleteOnFetchRejection:nn,noDeleteOnStaleGet:Un}=mt,{length:Fn,maxAge:En,stale:fn}=mt instanceof xt?{}:mt;if(Nt!==0&&!yt(Nt))throw new TypeError("max option must be a nonnegative integer");const sn=Nt?wt(Nt):Array;if(!sn)throw new Error("invalid max value: "+Nt);if(this.max=Nt,this.maxSize=Gt,this.maxEntrySize=Ht||this.maxSize,this.sizeCalculation=kt||Fn,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=Rt||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=$t,!this.fetchMethod&&$t!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(Nt).fill(null),this.valList=new Array(Nt).fill(null),this.next=new sn(Nt),this.prev=new sn(Nt),this.head=0,this.tail=0,this.free=new It(Nt),this.initialFill=1,this.size=0,typeof jt=="function"&&(this.dispose=jt),typeof qt=="function"?(this.disposeAfter=qt,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!Zt,this.noUpdateTTL=!!Wt,this.noDeleteOnFetchRejection=!!nn,this.maxEntrySize!==0){if(this.maxSize!==0&&!yt(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!yt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!Bt||!!fn,this.noDeleteOnStaleGet=!!Un,this.updateAgeOnGet=!!St,this.updateAgeOnHas=!!Pt,this.ttlResolution=yt(rn)||rn===0?rn:1,this.ttlAutopurge=!!Ft,this.ttl=en||En||0,this.ttl){if(!yt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const Ct="LRU_CACHE_UNBOUNDED";ft(Ct)&&(ot.add(Ct),pt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Ct,xt))}fn&&ct("stale","allowStale"),En&&ct("maxAge","ttl"),Fn&&ct("length","sizeCalculation")}getRemainingTTL(mt){return this.has(mt,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Qt(this.max),this.starts=new Qt(this.max),this.setItemTTL=(en,rn,Ft=$.now())=>{if(this.starts[en]=rn!==0?Ft:0,this.ttls[en]=rn,rn!==0&&this.ttlAutopurge){const St=setTimeout(()=>{this.isStale(en)&&this.delete(this.keyList[en])},rn+1);St.unref&&St.unref()}},this.updateItemAge=en=>{this.starts[en]=this.ttls[en]!==0?$.now():0};let mt=0;const Nt=()=>{const en=$.now();if(this.ttlResolution>0){mt=en;const rn=setTimeout(()=>mt=0,this.ttlResolution);rn.unref&&rn.unref()}return en};this.getRemainingTTL=en=>{const rn=this.keyMap.get(en);return rn===void 0?0:this.ttls[rn]===0||this.starts[rn]===0?1/0:this.starts[rn]+this.ttls[rn]-(mt||Nt())},this.isStale=en=>this.ttls[en]!==0&&this.starts[en]!==0&&(mt||Nt())-this.starts[en]>this.ttls[en]}updateItemAge(mt){}setItemTTL(mt,Nt,en){}isStale(mt){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Qt(this.max),this.removeItemSize=mt=>{this.calculatedSize-=this.sizes[mt],this.sizes[mt]=0},this.requireSize=(mt,Nt,en,rn)=>{if(!yt(en)){if(!rn)throw new TypeError("invalid size value (must be positive integer)");if(typeof rn!="function")throw new TypeError("sizeCalculation must be a function");if(en=rn(Nt,mt),!yt(en))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return en},this.addItemSize=(mt,Nt)=>{this.sizes[mt]=Nt;const en=this.maxSize-this.sizes[mt];for(;this.calculatedSize>en;)this.evict(!0);this.calculatedSize+=this.sizes[mt]}}removeItemSize(mt){}addItemSize(mt,Nt){}requireSize(mt,Nt,en,rn){if(en||rn)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:mt=this.allowStale}={}){if(this.size)for(let Nt=this.tail;this.isValidIndex(Nt)&&(!mt&&this.isStale(Nt)||(yield Nt),Nt!==this.head);)Nt=this.prev[Nt]}*rindexes({allowStale:mt=this.allowStale}={}){if(this.size)for(let Nt=this.head;this.isValidIndex(Nt)&&(!mt&&this.isStale(Nt)||(yield Nt),Nt!==this.tail);)Nt=this.next[Nt]}isValidIndex(mt){return this.keyMap.get(this.keyList[mt])===mt}*entries(){for(const mt of this.indexes())yield[this.keyList[mt],this.valList[mt]]}*rentries(){for(const mt of this.rindexes())yield[this.keyList[mt],this.valList[mt]]}*keys(){for(const mt of this.indexes())yield this.keyList[mt]}*rkeys(){for(const mt of this.rindexes())yield this.keyList[mt]}*values(){for(const mt of this.indexes())yield this.valList[mt]}*rvalues(){for(const mt of this.rindexes())yield this.valList[mt]}[Symbol.iterator](){return this.entries()}find(mt,Nt={}){for(const en of this.indexes())if(mt(this.valList[en],this.keyList[en],this))return this.get(this.keyList[en],Nt)}forEach(mt,Nt=this){for(const en of this.indexes())mt.call(Nt,this.valList[en],this.keyList[en],this)}rforEach(mt,Nt=this){for(const en of this.rindexes())mt.call(Nt,this.valList[en],this.keyList[en],this)}get prune(){return gt("prune","purgeStale"),this.purgeStale}purgeStale(){let mt=!1;for(const Nt of this.rindexes({allowStale:!0}))this.isStale(Nt)&&(this.delete(this.keyList[Nt]),mt=!0);return mt}dump(){const mt=[];for(const Nt of this.indexes({allowStale:!0})){const en=this.keyList[Nt],rn=this.valList[Nt],Ft={value:this.isBackgroundFetch(rn)?rn.__staleWhileFetching:rn};if(this.ttls){Ft.ttl=this.ttls[Nt];const St=$.now()-this.starts[Nt];Ft.start=Math.floor(Date.now()-St)}this.sizes&&(Ft.size=this.sizes[Nt]),mt.unshift([en,Ft])}return mt}load(mt){this.clear();for(const[Nt,en]of mt){if(en.start){const rn=Date.now()-en.start;en.start=$.now()-rn}this.set(Nt,en.value,en)}}dispose(mt,Nt,en){}set(mt,Nt,{ttl:en=this.ttl,start:rn,noDisposeOnSet:Ft=this.noDisposeOnSet,size:St=0,sizeCalculation:Pt=this.sizeCalculation,noUpdateTTL:Bt=this.noUpdateTTL}={}){if(St=this.requireSize(mt,Nt,St,Pt),this.maxEntrySize&&St>this.maxEntrySize)return this;let jt=this.size===0?void 0:this.keyMap.get(mt);if(jt===void 0)jt=this.newIndex(),this.keyList[jt]=mt,this.valList[jt]=Nt,this.keyMap.set(mt,jt),this.next[this.tail]=jt,this.prev[jt]=this.tail,this.tail=jt,this.size++,this.addItemSize(jt,St),Bt=!1;else{const qt=this.valList[jt];Nt!==qt&&(this.isBackgroundFetch(qt)?qt.__abortController.abort():Ft||(this.dispose(qt,mt,"set"),this.disposeAfter&&this.disposed.push([qt,mt,"set"])),this.removeItemSize(jt),this.valList[jt]=Nt,this.addItemSize(jt,St)),this.moveToTail(jt)}if(en===0||this.ttl!==0||this.ttls||this.initializeTTLTracking(),Bt||this.setItemTTL(jt,en,rn),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const mt=this.valList[this.head];return this.evict(!0),mt}}evict(mt){const Nt=this.head,en=this.keyList[Nt],rn=this.valList[Nt];return this.isBackgroundFetch(rn)?rn.__abortController.abort():(this.dispose(rn,en,"evict"),this.disposeAfter&&this.disposed.push([rn,en,"evict"])),this.removeItemSize(Nt),mt&&(this.keyList[Nt]=null,this.valList[Nt]=null,this.free.push(Nt)),this.head=this.next[Nt],this.keyMap.delete(en),this.size--,Nt}has(mt,{updateAgeOnHas:Nt=this.updateAgeOnHas}={}){const en=this.keyMap.get(mt);return en!==void 0&&!this.isStale(en)&&(Nt&&this.updateItemAge(en),!0)}peek(mt,{allowStale:Nt=this.allowStale}={}){const en=this.keyMap.get(mt);if(en!==void 0&&(Nt||!this.isStale(en))){const rn=this.valList[en];return this.isBackgroundFetch(rn)?rn.__staleWhileFetching:rn}}backgroundFetch(mt,Nt,en,rn){const Ft=Nt===void 0?void 0:this.valList[Nt];if(this.isBackgroundFetch(Ft))return Ft;const St=new _e,Pt={signal:St.signal,options:en,context:rn},Bt=new Promise(jt=>jt(this.fetchMethod(mt,Ft,Pt))).then(jt=>(St.signal.aborted||this.set(mt,jt,Pt.options),jt),jt=>{if(this.valList[Nt]===Bt&&(!en.noDeleteOnFetchRejection||Bt.__staleWhileFetching===void 0?this.delete(mt):this.valList[Nt]=Bt.__staleWhileFetching),Bt.__returned===Bt)throw jt});return Bt.__abortController=St,Bt.__staleWhileFetching=Ft,Bt.__returned=null,Nt===void 0?(this.set(mt,Bt,Pt.options),Nt=this.keyMap.get(mt)):this.valList[Nt]=Bt,Bt}isBackgroundFetch(mt){return mt&&typeof mt=="object"&&typeof mt.then=="function"&&Object.prototype.hasOwnProperty.call(mt,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(mt,"__returned")&&(mt.__returned===mt||mt.__returned===null)}async fetch(mt,{allowStale:Nt=this.allowStale,updateAgeOnGet:en=this.updateAgeOnGet,noDeleteOnStaleGet:rn=this.noDeleteOnStaleGet,ttl:Ft=this.ttl,noDisposeOnSet:St=this.noDisposeOnSet,size:Pt=0,sizeCalculation:Bt=this.sizeCalculation,noUpdateTTL:jt=this.noUpdateTTL,noDeleteOnFetchRejection:qt=this.noDeleteOnFetchRejection,fetchContext:Zt=this.fetchContext,forceRefresh:Wt=!1}={}){if(!this.fetchMethod)return this.get(mt,{allowStale:Nt,updateAgeOnGet:en,noDeleteOnStaleGet:rn});const Gt={allowStale:Nt,updateAgeOnGet:en,noDeleteOnStaleGet:rn,ttl:Ft,noDisposeOnSet:St,size:Pt,sizeCalculation:Bt,noUpdateTTL:jt,noDeleteOnFetchRejection:qt};let Ht=this.keyMap.get(mt);if(Ht===void 0){const kt=this.backgroundFetch(mt,Ht,Gt,Zt);return kt.__returned=kt}{const kt=this.valList[Ht];if(this.isBackgroundFetch(kt))return Nt&&kt.__staleWhileFetching!==void 0?kt.__staleWhileFetching:kt.__returned=kt;if(!Wt&&!this.isStale(Ht))return this.moveToTail(Ht),en&&this.updateItemAge(Ht),kt;const Rt=this.backgroundFetch(mt,Ht,Gt,Zt);return Nt&&Rt.__staleWhileFetching!==void 0?Rt.__staleWhileFetching:Rt.__returned=Rt}}get(mt,{allowStale:Nt=this.allowStale,updateAgeOnGet:en=this.updateAgeOnGet,noDeleteOnStaleGet:rn=this.noDeleteOnStaleGet}={}){const Ft=this.keyMap.get(mt);if(Ft!==void 0){const St=this.valList[Ft],Pt=this.isBackgroundFetch(St);return this.isStale(Ft)?Pt?Nt?St.__staleWhileFetching:void 0:(rn||this.delete(mt),Nt?St:void 0):Pt?void 0:(this.moveToTail(Ft),en&&this.updateItemAge(Ft),St)}}connect(mt,Nt){this.prev[Nt]=mt,this.next[mt]=Nt}moveToTail(mt){mt!==this.tail&&(mt===this.head?this.head=this.next[mt]:this.connect(this.prev[mt],this.next[mt]),this.connect(this.tail,mt),this.tail=mt)}get del(){return gt("del","delete"),this.delete}delete(mt){let Nt=!1;if(this.size!==0){const en=this.keyMap.get(mt);if(en!==void 0)if(Nt=!0,this.size===1)this.clear();else{this.removeItemSize(en);const rn=this.valList[en];this.isBackgroundFetch(rn)?rn.__abortController.abort():(this.dispose(rn,mt,"delete"),this.disposeAfter&&this.disposed.push([rn,mt,"delete"])),this.keyMap.delete(mt),this.keyList[en]=null,this.valList[en]=null,en===this.tail?this.tail=this.prev[en]:en===this.head?this.head=this.next[en]:(this.next[this.prev[en]]=this.next[en],this.prev[this.next[en]]=this.prev[en]),this.size--,this.free.push(en)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return Nt}clear(){for(const mt of this.rindexes({allowStale:!0})){const Nt=this.valList[mt];if(this.isBackgroundFetch(Nt))Nt.__abortController.abort();else{const en=this.keyList[mt];this.dispose(Nt,en,"delete"),this.disposeAfter&&this.disposed.push([Nt,en,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return gt("reset","clear"),this.clear}get length(){return((mt,Nt)=>{const en=`LRU_CACHE_PROPERTY_${mt}`;if(ft(en)){const{prototype:rn}=xt,{get:Ft}=Object.getOwnPropertyDescriptor(rn,mt);ut(en,`${mt} property`,`cache.${Nt}`,Ft)}})("length","size"),this.size}static get AbortController(){return _e}static get AbortSignal(){return nt}}i.exports=xt}).call(this,s(2))},function(i,o,s){var _=s(41).Colorizer;i.exports=function($){return _.addColors($.colors||$),$}},function(i,o,s){var _={};i.exports=_,_.themes={};var $=s(13),_e=_.styles=s(109),et=Object.defineProperties,j=new RegExp(/[\r\n]+/g);_.supportsColor=s(110).supportsColor,_.enabled===void 0&&(_.enabled=_.supportsColor()!==!1),_.enable=function(){_.enabled=!0},_.disable=function(){_.enabled=!1},_.stripColors=_.strip=function(wt){return(""+wt).replace(/\x1B\[\d+m/g,"")},_.stylize=function(wt,Qt){return _.enabled?_e[Qt].open+wt+_e[Qt].close:wt+""};var nt=/[|\\{}()[\]^$+*?.]/g;function ot(wt){var Qt=function It(){return ft.apply(It,arguments)};return Qt._styles=wt,Qt.__proto__=pt,Qt}var ct,gt=(ct={},_e.grey=_e.gray,Object.keys(_e).forEach(function(wt){_e[wt].closeRe=new RegExp(function(Qt){if(typeof Qt!="string")throw new TypeError("Expected a string");return Qt.replace(nt,"\\$&")}(_e[wt].close),"g"),ct[wt]={get:function(){return ot(this._styles.concat(wt))}}}),ct),pt=et(function(){},gt);function ft(){var wt=Array.prototype.slice.call(arguments),Qt=wt.map(function(Nt){return Nt!==void 0&&Nt.constructor===String?Nt:$.inspect(Nt)}).join(" ");if(!_.enabled||!Qt)return Qt;for(var It=Qt.indexOf(`
`)!=-1,xt=this._styles,Tt=xt.length;Tt--;){var mt=_e[xt[Tt]];Qt=mt.open+Qt.replace(mt.closeRe,mt.open)+mt.close,It&&(Qt=Qt.replace(j,function(Nt){return mt.close+Nt+mt.open}))}return Qt}_.setTheme=function(wt){if(typeof wt!="string")for(var Qt in wt)(function(It){_[It]=function(xt){if(typeof wt[It]=="object"){var Tt=xt;for(var mt in wt[It])Tt=_[wt[It][mt]](Tt);return Tt}return _[wt[It]](xt)}})(Qt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var ut=function(wt,Qt){var It=Qt.split("");return(It=It.map(wt)).join("")};for(var yt in _.trap=s(112),_.zalgo=s(113),_.maps={},_.maps.america=s(114)(_),_.maps.zebra=s(115)(_),_.maps.rainbow=s(116)(_),_.maps.random=s(117)(_),_.maps)(function(wt){_[wt]=function(Qt){return ut(_.maps[wt],Qt)}})(yt);et(_,function(){var wt={};return Object.keys(gt).forEach(function(Qt){wt[Qt]={get:function(){return ot([Qt])}}}),wt}())},function(i,o){i.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(s,_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}},function(i,o){var s={};i.exports=s;var _={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(_).forEach(function($){var _e=_[$],et=s[$]=[];et.open="\x1B["+_e[0]+"m",et.close="\x1B["+_e[1]+"m"})},function(i,o,s){(function(_){var $=s(18),_e=s(111),et=_.env,j=void 0;function nt(ot){return function(ct){return ct!==0&&{level:ct,hasBasic:!0,has256:ct>=2,has16m:ct>=3}}(function(ct){if(j===!1)return 0;if(_e("color=16m")||_e("color=full")||_e("color=truecolor"))return 3;if(_e("color=256"))return 2;if(ct&&!ct.isTTY&&j!==!0)return 0;var gt=j?1:0;if(_.platform==="win32"){var pt=$.release().split(".");return Number(_.versions.node.split(".")[0])>=8&&Number(pt[0])>=10&&Number(pt[2])>=10586?Number(pt[2])>=14931?3:2:1}return"CI"in et?["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(ft){return ft in et})||et.CI_NAME==="codeship"?1:gt:"TEAMCITY_VERSION"in et?/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(et.TEAMCITY_VERSION)?1:0:"TERM_PROGRAM"in et?(parseInt("445".split(".")[0],10),2):/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in et?1:gt}(ot))}_e("no-color")||_e("no-colors")||_e("color=false")?j=!1:(_e("color")||_e("colors")||_e("color=true")||_e("color=always"))&&(j=!0),"FORCE_COLOR"in et&&(j=et.FORCE_COLOR.length===0||parseInt(et.FORCE_COLOR,10)!==0),i.exports={supportsColor:nt,stdout:nt(_.stdout),stderr:nt(_.stderr)}}).call(this,s(2))},function(i,o,s){(function(_){i.exports=function($,_e){var et=(_e=_e||_.argv).indexOf("--"),j=/^-{1,2}/.test($)?"":"--",nt=_e.indexOf(j+$);return nt!==-1&&(et===-1||nt<et)}}).call(this,s(2))},function(i,o){i.exports=function(s,_){var $="";s=(s=s||"Run the trap, drop the bass").split("");var _e={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return s.forEach(function(et){et=et.toLowerCase();var j=_e[et]||[" "],nt=Math.floor(Math.random()*j.length);$+=_e[et]!==void 0?_e[et][nt]:et}),$}},function(i,o){i.exports=function(s,_){s=s||"   he is here   ";var $={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},_e=[].concat($.up,$.down,$.mid);function et(nt){return Math.floor(Math.random()*nt)}function j(nt){var ot=!1;return _e.filter(function(ct){ot=ct===nt}),ot}return function(nt,ot){var ct,gt,pt="";for(gt in(ot=ot||{}).up=ot.up===void 0||ot.up,ot.mid=ot.mid===void 0||ot.mid,ot.down=ot.down===void 0||ot.down,ot.size=ot.size!==void 0?ot.size:"maxi",nt=nt.split(""))if(!j(gt)){switch(pt+=nt[gt],ct={up:0,down:0,mid:0},ot.size){case"mini":ct.up=et(8),ct.mid=et(2),ct.down=et(8);break;case"maxi":ct.up=et(16)+3,ct.mid=et(4)+1,ct.down=et(64)+3;break;default:ct.up=et(8)+1,ct.mid=et(6)/2,ct.down=et(8)+1}var ft=["up","mid","down"];for(var ut in ft)for(var yt=ft[ut],wt=0;wt<=ct[yt];wt++)ot[yt]&&(pt+=$[yt][et($[yt].length)])}return pt}(s,_)}},function(i,o){i.exports=function(s){return function(_,$,_e){if(_===" ")return _;switch($%3){case 0:return s.red(_);case 1:return s.white(_);case 2:return s.blue(_)}}}},function(i,o){i.exports=function(s){return function(_,$,_e){return $%2==0?_:s.inverse(_)}}},function(i,o){i.exports=function(s){var _=["red","yellow","green","blue","magenta"];return function($,_e,et){return $===" "?$:s[_[_e++%_.length]]($)}}},function(i,o){i.exports=function(s){var _=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function($,_e,et){return $===" "?$:s[_[Math.round(Math.random()*(_.length-2))]]($)}}},function(i,o,s){Object.defineProperty(o,"cli",{value:s(119)}),Object.defineProperty(o,"npm",{value:s(120)}),Object.defineProperty(o,"syslog",{value:s(121)})},function(i,o,s){o.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},o.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(i,o,s){o.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},o.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(i,o,s){o.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},o.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(i,o,s){var _=s(12);i.exports=_(function($){return $.message="	".concat($.message),$})},function(i,o,s){function _(gt,pt){if(!(gt instanceof pt))throw new TypeError("Cannot call a class as a function")}function $(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var _e=s(41).Colorizer,et=s(60).Padder,j=s(3),nt=j.configs,ot=j.MESSAGE,ct=function(){function gt(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,gt),ut.levels||(ut.levels=nt.npm.levels),this.colorizer=new _e(ut),this.padder=new et(ut),this.options=ut}var pt,ft;return pt=gt,(ft=[{key:"transform",value:function(ut,yt){return this.colorizer.transform(this.padder.transform(ut,yt),yt),ut[ot]="".concat(ut.level,":").concat(ut.message),ut}}])&&$(pt.prototype,ft),gt}();i.exports=function(gt){return new ct(gt)},i.exports.Format=ct},function(i,o,s){var _=s(12);function $(et){if(et.every(_e))return function(j){for(var nt=j,ot=0;ot<et.length;ot++)if(!(nt=et[ot].transform(nt,et[ot].options)))return!1;return nt}}function _e(et){if(typeof et.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}i.exports=function(){for(var et=arguments.length,j=new Array(et),nt=0;nt<et;nt++)j[nt]=arguments[nt];var ot=_($(j)),ct=ot();return ct.Format=ot.Format,ct},i.exports.cascade=$},function(i,o,s){(function(_){var $=s(12),_e=s(3).MESSAGE,et=s(35);function j(nt,ot){return ot instanceof _?ot.toString("base64"):typeof ot=="bigint"?ot.toString():ot}i.exports=$(function(nt){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return nt[_e]=(ot.stable?et.stableStringify:et)(nt,ot.replacer||j,ot.space),nt})}).call(this,s(5).Buffer)},function(i,o,s){o.byteLength=function(gt){var pt=ot(gt),ft=pt[0],ut=pt[1];return 3*(ft+ut)/4-ut},o.toByteArray=function(gt){for(var pt,ft=ot(gt),ut=ft[0],yt=ft[1],wt=new _e(function(Tt,mt,Nt){return 3*(mt+Nt)/4-Nt}(0,ut,yt)),Qt=0,It=yt>0?ut-4:ut,xt=0;xt<It;xt+=4)pt=$[gt.charCodeAt(xt)]<<18|$[gt.charCodeAt(xt+1)]<<12|$[gt.charCodeAt(xt+2)]<<6|$[gt.charCodeAt(xt+3)],wt[Qt++]=pt>>16&255,wt[Qt++]=pt>>8&255,wt[Qt++]=255&pt;return yt===2&&(pt=$[gt.charCodeAt(xt)]<<2|$[gt.charCodeAt(xt+1)]>>4,wt[Qt++]=255&pt),yt===1&&(pt=$[gt.charCodeAt(xt)]<<10|$[gt.charCodeAt(xt+1)]<<4|$[gt.charCodeAt(xt+2)]>>2,wt[Qt++]=pt>>8&255,wt[Qt++]=255&pt),wt},o.fromByteArray=function(gt){for(var pt,ft=gt.length,ut=ft%3,yt=[],wt=0,Qt=ft-ut;wt<Qt;wt+=16383)yt.push(ct(gt,wt,wt+16383>Qt?Qt:wt+16383));return ut===1?(pt=gt[ft-1],yt.push(_[pt>>2]+_[pt<<4&63]+"==")):ut===2&&(pt=(gt[ft-2]<<8)+gt[ft-1],yt.push(_[pt>>10]+_[pt>>4&63]+_[pt<<2&63]+"=")),yt.join("")};for(var _=[],$=[],_e=typeof Uint8Array<"u"?Uint8Array:Array,et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,nt=et.length;j<nt;++j)_[j]=et[j],$[et.charCodeAt(j)]=j;function ot(gt){var pt=gt.length;if(pt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ft=gt.indexOf("=");return ft===-1&&(ft=pt),[ft,ft===pt?0:4-ft%4]}function ct(gt,pt,ft){for(var ut,yt,wt=[],Qt=pt;Qt<ft;Qt+=3)ut=(gt[Qt]<<16&16711680)+(gt[Qt+1]<<8&65280)+(255&gt[Qt+2]),wt.push(_[(yt=ut)>>18&63]+_[yt>>12&63]+_[yt>>6&63]+_[63&yt]);return wt.join("")}$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63},function(i,o){o.read=function(s,_,$,_e,et){var j,nt,ot=8*et-_e-1,ct=(1<<ot)-1,gt=ct>>1,pt=-7,ft=$?et-1:0,ut=$?-1:1,yt=s[_+ft];for(ft+=ut,j=yt&(1<<-pt)-1,yt>>=-pt,pt+=ot;pt>0;j=256*j+s[_+ft],ft+=ut,pt-=8);for(nt=j&(1<<-pt)-1,j>>=-pt,pt+=_e;pt>0;nt=256*nt+s[_+ft],ft+=ut,pt-=8);if(j===0)j=1-gt;else{if(j===ct)return nt?NaN:1/0*(yt?-1:1);nt+=Math.pow(2,_e),j-=gt}return(yt?-1:1)*nt*Math.pow(2,j-_e)},o.write=function(s,_,$,_e,et,j){var nt,ot,ct,gt=8*j-et-1,pt=(1<<gt)-1,ft=pt>>1,ut=et===23?Math.pow(2,-24)-Math.pow(2,-77):0,yt=_e?0:j-1,wt=_e?1:-1,Qt=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(ot=isNaN(_)?1:0,nt=pt):(nt=Math.floor(Math.log(_)/Math.LN2),_*(ct=Math.pow(2,-nt))<1&&(nt--,ct*=2),(_+=nt+ft>=1?ut/ct:ut*Math.pow(2,1-ft))*ct>=2&&(nt++,ct/=2),nt+ft>=pt?(ot=0,nt=pt):nt+ft>=1?(ot=(_*ct-1)*Math.pow(2,et),nt+=ft):(ot=_*Math.pow(2,ft-1)*Math.pow(2,et),nt=0));et>=8;s[$+yt]=255&ot,yt+=wt,ot/=256,et-=8);for(nt=nt<<et|ot,gt+=et;gt>0;s[$+yt]=255&nt,yt+=wt,nt/=256,gt-=8);s[$+yt-wt]|=128*Qt}},function(i,o,s){var _=s(12);i.exports=_(function($,_e){return _e.message?($.message="[".concat(_e.label,"] ").concat($.message),$):($.label=_e.label,$)})},function(i,o,s){var _=s(12),$=s(3).MESSAGE,_e=s(35);i.exports=_(function(et){var j={};return et.message&&(j["@message"]=et.message,delete et.message),et.timestamp&&(j["@timestamp"]=et.timestamp,delete et.timestamp),j["@fields"]=et,et[$]=_e(j),et})},function(i,o,s){var _=s(12);function $(et,j,nt){var ot,ct,gt,pt=j.reduce(function(ut,yt){return ut[yt]=et[yt],delete et[yt],ut},{}),ft=Object.keys(et).reduce(function(ut,yt){return ut[yt]=et[yt],delete et[yt],ut},{});return Object.assign(et,pt,(gt=ft,(ct=nt)in(ot={})?Object.defineProperty(ot,ct,{value:gt,enumerable:!0,configurable:!0,writable:!0}):ot[ct]=gt,ot)),et}function _e(et,j,nt){return et[nt]=j.reduce(function(ot,ct){return ot[ct]=et[ct],delete et[ct],ot},{}),et}i.exports=_(function(et){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt="metadata";j.key&&(nt=j.key);var ot=[];return j.fillExcept||j.fillWith||(ot.push("level"),ot.push("message")),j.fillExcept&&(ot=j.fillExcept),ot.length>0?$(et,ot,nt):j.fillWith?_e(et,j.fillWith,nt):et})},function(i,o,s){var _=s(13).inspect,$=s(12),_e=s(3),et=_e.LEVEL,j=_e.MESSAGE,nt=_e.SPLAT;i.exports=$(function(ot){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},gt=Object.assign({},ot);return delete gt[et],delete gt[j],delete gt[nt],ot[j]=_(gt,!1,ct.depth||null,ct.colorize),ot})},function(i,o,s){function _(et,j){for(var nt=0;nt<j.length;nt++){var ot=j[nt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(et,ot.key,ot)}}var $=s(3).MESSAGE,_e=function(){function et(ot){(function(ct,gt){if(!(ct instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),this.template=ot}var j,nt;return j=et,(nt=[{key:"transform",value:function(ot){return ot[$]=this.template(ot),ot}}])&&_(j.prototype,nt),et}();i.exports=function(et){return new _e(et)},i.exports.Printf=i.exports.Format=_e},function(i,o,s){var _=s(12),$=s(3).MESSAGE,_e=s(35);i.exports=_(function(et){var j=_e(Object.assign({},et,{level:void 0,message:void 0,splat:void 0})),nt=et.padding&&et.padding[et.level]||"";return et[$]=j!=="{}"?"".concat(et.level,":").concat(nt," ").concat(et.message," ").concat(j):"".concat(et.level,":").concat(nt," ").concat(et.message),et})},function(i,o,s){function _(gt){return function(pt){if(Array.isArray(pt))return $(pt)}(gt)||function(pt){if(typeof Symbol<"u"&&Symbol.iterator in Object(pt))return Array.from(pt)}(gt)||function(pt,ft){if(pt){if(typeof pt=="string")return $(pt,ft);var ut=Object.prototype.toString.call(pt).slice(8,-1);if(ut==="Object"&&pt.constructor&&(ut=pt.constructor.name),ut==="Map"||ut==="Set")return Array.from(pt);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return $(pt,ft)}}(gt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(gt,pt){(pt==null||pt>gt.length)&&(pt=gt.length);for(var ft=0,ut=new Array(pt);ft<pt;ft++)ut[ft]=gt[ft];return ut}function _e(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var et=s(13),j=s(3).SPLAT,nt=/%[scdjifoO%]/g,ot=/%%/g,ct=function(){function gt(ut){(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")})(this,gt),this.options=ut}var pt,ft;return pt=gt,(ft=[{key:"_splat",value:function(ut,yt){var wt=ut.message,Qt=ut[j]||ut.splat||[],It=wt.match(ot),xt=It&&It.length||0,Tt=yt.length-xt-Qt.length,mt=Tt<0?Qt.splice(Tt,-1*Tt):[],Nt=mt.length;if(Nt)for(var en=0;en<Nt;en++)Object.assign(ut,mt[en]);return ut.message=et.format.apply(et,[wt].concat(_(Qt))),ut}},{key:"transform",value:function(ut){var yt=ut.message,wt=ut[j]||ut.splat;if(!wt||!wt.length)return ut;var Qt=yt&&yt.match&&yt.match(nt);if(!Qt&&(wt||wt.length)){var It=wt.length>1?wt.splice(0):wt,xt=It.length;if(xt)for(var Tt=0;Tt<xt;Tt++)Object.assign(ut,It[Tt]);return ut}return Qt?this._splat(ut,Qt):ut}}])&&_e(pt.prototype,ft),gt}();i.exports=function(gt){return new ct(gt)}},function(i,o,s){var _=s(136),$=s(12);i.exports=$(function(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return et.format&&(_e.timestamp=typeof et.format=="function"?et.format():_.format(new Date,et.format)),_e.timestamp||(_e.timestamp=new Date().toISOString()),et.alias&&(_e[et.alias]=_e.timestamp),_e})},function(i,o,s){s.r(o),s.d(o,"assign",function(){return nt}),s.d(o,"format",function(){return St}),s.d(o,"parse",function(){return Pt}),s.d(o,"defaultI18n",function(){return pt}),s.d(o,"setGlobalDateI18n",function(){return ut}),s.d(o,"setGlobalDateMasks",function(){return Ft});var _=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,$="[^\\s]+",_e=/\[([^]*?)\]/gm;function et(jt,qt){for(var Zt=[],Wt=0,Gt=jt.length;Wt<Gt;Wt++)Zt.push(jt[Wt].substr(0,qt));return Zt}var j=function(jt){return function(qt,Zt){var Wt=Zt[jt].map(function(Gt){return Gt.toLowerCase()}).indexOf(qt.toLowerCase());return Wt>-1?Wt:null}};function nt(jt){for(var qt=[],Zt=1;Zt<arguments.length;Zt++)qt[Zt-1]=arguments[Zt];for(var Wt=0,Gt=qt;Wt<Gt.length;Wt++){var Ht=Gt[Wt];for(var kt in Ht)jt[kt]=Ht[kt]}return jt}var ot=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"],gt=et(ct,3),pt={dayNamesShort:et(ot,3),dayNames:ot,monthNamesShort:gt,monthNames:ct,amPm:["am","pm"],DoFn:function(jt){return jt+["th","st","nd","rd"][jt%10>3?0:(jt-jt%10!=10?1:0)*jt%10]}},ft=nt({},pt),ut=function(jt){return ft=nt(ft,jt)},yt=function(jt){return jt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},wt=function(jt,qt){for(qt===void 0&&(qt=2),jt=String(jt);jt.length<qt;)jt="0"+jt;return jt},Qt={D:function(jt){return String(jt.getDate())},DD:function(jt){return wt(jt.getDate())},Do:function(jt,qt){return qt.DoFn(jt.getDate())},d:function(jt){return String(jt.getDay())},dd:function(jt){return wt(jt.getDay())},ddd:function(jt,qt){return qt.dayNamesShort[jt.getDay()]},dddd:function(jt,qt){return qt.dayNames[jt.getDay()]},M:function(jt){return String(jt.getMonth()+1)},MM:function(jt){return wt(jt.getMonth()+1)},MMM:function(jt,qt){return qt.monthNamesShort[jt.getMonth()]},MMMM:function(jt,qt){return qt.monthNames[jt.getMonth()]},YY:function(jt){return wt(String(jt.getFullYear()),4).substr(2)},YYYY:function(jt){return wt(jt.getFullYear(),4)},h:function(jt){return String(jt.getHours()%12||12)},hh:function(jt){return wt(jt.getHours()%12||12)},H:function(jt){return String(jt.getHours())},HH:function(jt){return wt(jt.getHours())},m:function(jt){return String(jt.getMinutes())},mm:function(jt){return wt(jt.getMinutes())},s:function(jt){return String(jt.getSeconds())},ss:function(jt){return wt(jt.getSeconds())},S:function(jt){return String(Math.round(jt.getMilliseconds()/100))},SS:function(jt){return wt(Math.round(jt.getMilliseconds()/10),2)},SSS:function(jt){return wt(jt.getMilliseconds(),3)},a:function(jt,qt){return jt.getHours()<12?qt.amPm[0]:qt.amPm[1]},A:function(jt,qt){return jt.getHours()<12?qt.amPm[0].toUpperCase():qt.amPm[1].toUpperCase()},ZZ:function(jt){var qt=jt.getTimezoneOffset();return(qt>0?"-":"+")+wt(100*Math.floor(Math.abs(qt)/60)+Math.abs(qt)%60,4)},Z:function(jt){var qt=jt.getTimezoneOffset();return(qt>0?"-":"+")+wt(Math.floor(Math.abs(qt)/60),2)+":"+wt(Math.abs(qt)%60,2)}},It=function(jt){return+jt-1},xt=[null,"[1-9]\\d?"],Tt=[null,$],mt=["isPm",$,function(jt,qt){var Zt=jt.toLowerCase();return Zt===qt.amPm[0]?0:Zt===qt.amPm[1]?1:null}],Nt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(jt){var qt=(jt+"").match(/([+-]|\d\d)/gi);if(qt){var Zt=60*+qt[1]+parseInt(qt[2],10);return qt[0]==="+"?Zt:-Zt}return 0}],en={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+$,function(jt){return parseInt(jt,10)}],M:["month","[1-9]\\d?",It],MM:["month","\\d\\d",It],YY:["year","\\d\\d",function(jt){var qt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+jt>68?qt-1:qt)+jt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(jt){return 100*+jt}],SS:["millisecond","\\d\\d",function(jt){return 10*+jt}],SSS:["millisecond","\\d{3}"],d:xt,dd:xt,ddd:Tt,dddd:Tt,MMM:["month",$,j("monthNamesShort")],MMMM:["month",$,j("monthNames")],a:mt,A:mt,ZZ:Nt,Z:Nt},rn={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ft=function(jt){return nt(rn,jt)},St=function(jt,qt,Zt){if(qt===void 0&&(qt=rn.default),Zt===void 0&&(Zt={}),typeof jt=="number"&&(jt=new Date(jt)),Object.prototype.toString.call(jt)!=="[object Date]"||isNaN(jt.getTime()))throw new Error("Invalid Date pass to format");var Wt=[];qt=(qt=rn[qt]||qt).replace(_e,function(Ht,kt){return Wt.push(kt),"@@@"});var Gt=nt(nt({},ft),Zt);return(qt=qt.replace(_,function(Ht){return Qt[Ht](jt,Gt)})).replace(/@@@/g,function(){return Wt.shift()})};function Pt(jt,qt,Zt){if(Zt===void 0&&(Zt={}),typeof qt!="string")throw new Error("Invalid format in fecha parse");if(qt=rn[qt]||qt,jt.length>1e3)return null;var Wt={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Gt=[],Ht=[],kt=qt.replace(_e,function(mn,xn){return Ht.push(yt(xn)),"@@@"}),Rt={},$t={};kt=yt(kt).replace(_,function(mn){var xn=en[mn],On=xn[0],nr=xn[1],Nr=xn[3];if(Rt[On])throw new Error("Invalid format. "+On+" specified twice in format");return Rt[On]=!0,Nr&&($t[Nr]=!0),Gt.push(xn),"("+nr+")"}),Object.keys($t).forEach(function(mn){if(!Rt[mn])throw new Error("Invalid format. "+mn+" is required in specified format")}),kt=kt.replace(/@@@/g,function(){return Ht.shift()});var nn=jt.match(new RegExp(kt,"i"));if(!nn)return null;for(var Un=nt(nt({},ft),Zt),Fn=1;Fn<nn.length;Fn++){var En=Gt[Fn-1],fn=En[0],sn=En[2],Ct=sn?sn(nn[Fn],Un):+nn[Fn];if(Ct==null)return null;Wt[fn]=Ct}Wt.isPm===1&&Wt.hour!=null&&+Wt.hour!=12?Wt.hour=+Wt.hour+12:Wt.isPm===0&&+Wt.hour==12&&(Wt.hour=0);for(var Dt=new Date(Wt.year,Wt.month,Wt.day,Wt.hour,Wt.minute,Wt.second,Wt.millisecond),Xt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],_n=(Fn=0,Xt.length);Fn<_n;Fn++)if(Rt[Xt[Fn][0]]&&Wt[Xt[Fn][0]]!==Dt[Xt[Fn][1]]())return null;return Wt.timezoneOffset==null?Dt:new Date(Date.UTC(Wt.year,Wt.month,Wt.day,Wt.hour,Wt.minute-Wt.timezoneOffset,Wt.second,Wt.millisecond))}var Bt={format:St,parse:Pt,defaultI18n:pt,setGlobalDateI18n:ut,setGlobalDateMasks:Ft};o.default=Bt},function(i,o,s){var _=s(59),$=s(12),_e=s(3).MESSAGE;i.exports=$(function(et,j){return j.level!==!1&&(et.level=_.strip(et.level)),j.message!==!1&&(et.message=_.strip(et.message)),j.raw!==!1&&et[_e]&&(et[_e]=_.strip(et[_e])),et})},function(i){i.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(i,o,s){Object.defineProperty(o,"Console",{configurable:!0,enumerable:!0,get:function(){return s(140)}}),Object.defineProperty(o,"File",{configurable:!0,enumerable:!0,get:function(){return s(149)}}),Object.defineProperty(o,"Http",{configurable:!0,enumerable:!0,get:function(){return s(189)}}),Object.defineProperty(o,"Stream",{configurable:!0,enumerable:!0,get:function(){return s(201)}})},function(i,o,s){(function(_){function $(wt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(wt)}function _e(wt,Qt){if(!(wt instanceof Qt))throw new TypeError("Cannot call a class as a function")}function et(wt,Qt){for(var It=0;It<Qt.length;It++){var xt=Qt[It];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(wt,xt.key,xt)}}function j(wt,Qt){return(j=Object.setPrototypeOf||function(It,xt){return It.__proto__=xt,It})(wt,Qt)}function nt(wt){var Qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var It,xt=ct(wt);if(Qt){var Tt=ct(this).constructor;It=Reflect.construct(xt,arguments,Tt)}else It=xt.apply(this,arguments);return ot(this,It)}}function ot(wt,Qt){return!Qt||$(Qt)!=="object"&&typeof Qt!="function"?function(It){if(It===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return It}(wt):Qt}function ct(wt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(Qt){return Qt.__proto__||Object.getPrototypeOf(Qt)})(wt)}var gt=s(18),pt=s(3),ft=pt.LEVEL,ut=pt.MESSAGE,yt=s(20);i.exports=function(wt){(function(mt,Nt){if(typeof Nt!="function"&&Nt!==null)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(Nt&&Nt.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),Nt&&j(mt,Nt)})(Tt,wt);var Qt,It,xt=nt(Tt);function Tt(){var mt,Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _e(this,Tt),(mt=xt.call(this,Nt)).name=Nt.name||"console",mt.stderrLevels=mt._stringArrayToSet(Nt.stderrLevels),mt.consoleWarnLevels=mt._stringArrayToSet(Nt.consoleWarnLevels),mt.eol=Nt.eol||gt.EOL,mt.setMaxListeners(30),mt}return Qt=Tt,(It=[{key:"log",value:function(mt,Nt){var en=this;return _(function(){return en.emit("logged",mt)}),this.stderrLevels[mt[ft]]?(console._stderr?console._stderr.write("".concat(mt[ut]).concat(this.eol)):console.error(mt[ut]),void(Nt&&Nt())):this.consoleWarnLevels[mt[ft]]?(console._stderr?console._stderr.write("".concat(mt[ut]).concat(this.eol)):console.warn(mt[ut]),void(Nt&&Nt())):(console._stdout?console._stdout.write("".concat(mt[ut]).concat(this.eol)):console.log(mt[ut]),void(Nt&&Nt()))}},{key:"_stringArrayToSet",value:function(mt,Nt){if(!mt)return{};if(Nt=Nt||"Cannot make set from type other than Array of string elements",!Array.isArray(mt))throw new Error(Nt);return mt.reduce(function(en,rn){if(typeof rn!="string")throw new Error(Nt);return en[rn]=!0,en},{})}}])&&et(Qt.prototype,It),Tt}(yt)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_,$){(function(_e,et){if(!_e.setImmediate){var j,nt,ot,ct,gt,pt=1,ft={},ut=!1,yt=_e.document,wt=Object.getPrototypeOf&&Object.getPrototypeOf(_e);wt=wt&&wt.setTimeout?wt:_e,{}.toString.call(_e.process)==="[object process]"?j=function(xt){$.nextTick(function(){It(xt)})}:function(){if(_e.postMessage&&!_e.importScripts){var xt=!0,Tt=_e.onmessage;return _e.onmessage=function(){xt=!1},_e.postMessage("","*"),_e.onmessage=Tt,xt}}()?(ct="setImmediate$"+Math.random()+"$",gt=function(xt){xt.source===_e&&typeof xt.data=="string"&&xt.data.indexOf(ct)===0&&It(+xt.data.slice(ct.length))},_e.addEventListener?_e.addEventListener("message",gt,!1):_e.attachEvent("onmessage",gt),j=function(xt){_e.postMessage(ct+xt,"*")}):_e.MessageChannel?((ot=new MessageChannel).port1.onmessage=function(xt){It(xt.data)},j=function(xt){ot.port2.postMessage(xt)}):yt&&"onreadystatechange"in yt.createElement("script")?(nt=yt.documentElement,j=function(xt){var Tt=yt.createElement("script");Tt.onreadystatechange=function(){It(xt),Tt.onreadystatechange=null,nt.removeChild(Tt),Tt=null},nt.appendChild(Tt)}):j=function(xt){setTimeout(It,0,xt)},wt.setImmediate=function(xt){typeof xt!="function"&&(xt=new Function(""+xt));for(var Tt=new Array(arguments.length-1),mt=0;mt<Tt.length;mt++)Tt[mt]=arguments[mt+1];var Nt={callback:xt,args:Tt};return ft[pt]=Nt,j(pt),pt++},wt.clearImmediate=Qt}function Qt(xt){delete ft[xt]}function It(xt){if(ut)setTimeout(It,0,xt);else{var Tt=ft[xt];if(Tt){ut=!0;try{(function(mt){var Nt=mt.callback,en=mt.args;switch(en.length){case 0:Nt();break;case 1:Nt(en[0]);break;case 2:Nt(en[0],en[1]);break;case 3:Nt(en[0],en[1],en[2]);break;default:Nt.apply(void 0,en)}})(Tt)}finally{Qt(xt),ut=!1}}}}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(62)},function(i,o,s){(function(_,$){var _e=s(16);i.exports=Tt;var et,j=s(42);Tt.ReadableState=xt,s(21).EventEmitter;var nt=function(kt,Rt){return kt.listeners(Rt).length},ot=s(63),ct=s(44).Buffer,gt=_.Uint8Array||function(){},pt=Object.create(s(17));pt.inherits=s(7);var ft=s(144),ut=void 0;ut=ft&&ft.debuglog?ft.debuglog("stream"):function(){};var yt,wt=s(145),Qt=s(64);pt.inherits(Tt,ot);var It=["error","close","destroy","pause","resume"];function xt(kt,Rt){kt=kt||{};var $t=Rt instanceof(et=et||s(36));this.objectMode=!!kt.objectMode,$t&&(this.objectMode=this.objectMode||!!kt.readableObjectMode);var nn=kt.highWaterMark,Un=kt.readableHighWaterMark,Fn=this.objectMode?16:16384;this.highWaterMark=nn||nn===0?nn:$t&&(Un||Un===0)?Un:Fn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=kt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,kt.encoding&&(yt||(yt=s(22).StringDecoder),this.decoder=new yt(kt.encoding),this.encoding=kt.encoding)}function Tt(kt){if(et=et||s(36),!(this instanceof Tt))return new Tt(kt);this._readableState=new xt(kt,this),this.readable=!0,kt&&(typeof kt.read=="function"&&(this._read=kt.read),typeof kt.destroy=="function"&&(this._destroy=kt.destroy)),ot.call(this)}function mt(kt,Rt,$t,nn,Un){var Fn,En=kt._readableState;return Rt===null?(En.reading=!1,function(fn,sn){if(!sn.ended){if(sn.decoder){var Ct=sn.decoder.end();Ct&&Ct.length&&(sn.buffer.push(Ct),sn.length+=sn.objectMode?1:Ct.length)}sn.ended=!0,rn(fn)}}(kt,En)):(Un||(Fn=function(fn,sn){var Ct;Dt=sn,ct.isBuffer(Dt)||Dt instanceof gt||typeof sn=="string"||sn===void 0||fn.objectMode||(Ct=new TypeError("Invalid non-string/buffer chunk"));var Dt;return Ct}(En,Rt)),Fn?kt.emit("error",Fn):En.objectMode||Rt&&Rt.length>0?(typeof Rt=="string"||En.objectMode||Object.getPrototypeOf(Rt)===ct.prototype||(Rt=function(fn){return ct.from(fn)}(Rt)),nn?En.endEmitted?kt.emit("error",new Error("stream.unshift() after end event")):Nt(kt,En,Rt,!0):En.ended?kt.emit("error",new Error("stream.push() after EOF")):(En.reading=!1,En.decoder&&!$t?(Rt=En.decoder.write(Rt),En.objectMode||Rt.length!==0?Nt(kt,En,Rt,!1):St(kt,En)):Nt(kt,En,Rt,!1))):nn||(En.reading=!1)),function(fn){return!fn.ended&&(fn.needReadable||fn.length<fn.highWaterMark||fn.length===0)}(En)}function Nt(kt,Rt,$t,nn){Rt.flowing&&Rt.length===0&&!Rt.sync?(kt.emit("data",$t),kt.read(0)):(Rt.length+=Rt.objectMode?1:$t.length,nn?Rt.buffer.unshift($t):Rt.buffer.push($t),Rt.needReadable&&rn(kt)),St(kt,Rt)}Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(kt){this._readableState&&(this._readableState.destroyed=kt)}}),Tt.prototype.destroy=Qt.destroy,Tt.prototype._undestroy=Qt.undestroy,Tt.prototype._destroy=function(kt,Rt){this.push(null),Rt(kt)},Tt.prototype.push=function(kt,Rt){var $t,nn=this._readableState;return nn.objectMode?$t=!0:typeof kt=="string"&&((Rt=Rt||nn.defaultEncoding)!==nn.encoding&&(kt=ct.from(kt,Rt),Rt=""),$t=!0),mt(this,kt,Rt,!1,$t)},Tt.prototype.unshift=function(kt){return mt(this,kt,null,!0,!1)},Tt.prototype.isPaused=function(){return this._readableState.flowing===!1},Tt.prototype.setEncoding=function(kt){return yt||(yt=s(22).StringDecoder),this._readableState.decoder=new yt(kt),this._readableState.encoding=kt,this};function en(kt,Rt){return kt<=0||Rt.length===0&&Rt.ended?0:Rt.objectMode?1:kt!=kt?Rt.flowing&&Rt.length?Rt.buffer.head.data.length:Rt.length:(kt>Rt.highWaterMark&&(Rt.highWaterMark=function($t){return $t>=8388608?$t=8388608:($t--,$t|=$t>>>1,$t|=$t>>>2,$t|=$t>>>4,$t|=$t>>>8,$t|=$t>>>16,$t++),$t}(kt)),kt<=Rt.length?kt:Rt.ended?Rt.length:(Rt.needReadable=!0,0))}function rn(kt){var Rt=kt._readableState;Rt.needReadable=!1,Rt.emittedReadable||(ut("emitReadable",Rt.flowing),Rt.emittedReadable=!0,Rt.sync?_e.nextTick(Ft,kt):Ft(kt))}function Ft(kt){ut("emit readable"),kt.emit("readable"),qt(kt)}function St(kt,Rt){Rt.readingMore||(Rt.readingMore=!0,_e.nextTick(Pt,kt,Rt))}function Pt(kt,Rt){for(var $t=Rt.length;!Rt.reading&&!Rt.flowing&&!Rt.ended&&Rt.length<Rt.highWaterMark&&(ut("maybeReadMore read 0"),kt.read(0),$t!==Rt.length);)$t=Rt.length;Rt.readingMore=!1}function Bt(kt){ut("readable nexttick read 0"),kt.read(0)}function jt(kt,Rt){Rt.reading||(ut("resume read 0"),kt.read(0)),Rt.resumeScheduled=!1,Rt.awaitDrain=0,kt.emit("resume"),qt(kt),Rt.flowing&&!Rt.reading&&kt.read(0)}function qt(kt){var Rt=kt._readableState;for(ut("flow",Rt.flowing);Rt.flowing&&kt.read()!==null;);}function Zt(kt,Rt){return Rt.length===0?null:(Rt.objectMode?$t=Rt.buffer.shift():!kt||kt>=Rt.length?($t=Rt.decoder?Rt.buffer.join(""):Rt.buffer.length===1?Rt.buffer.head.data:Rt.buffer.concat(Rt.length),Rt.buffer.clear()):$t=function(nn,Un,Fn){var En;return nn<Un.head.data.length?(En=Un.head.data.slice(0,nn),Un.head.data=Un.head.data.slice(nn)):En=nn===Un.head.data.length?Un.shift():Fn?function(fn,sn){var Ct=sn.head,Dt=1,Xt=Ct.data;for(fn-=Xt.length;Ct=Ct.next;){var _n=Ct.data,mn=fn>_n.length?_n.length:fn;if(mn===_n.length?Xt+=_n:Xt+=_n.slice(0,fn),(fn-=mn)===0){mn===_n.length?(++Dt,Ct.next?sn.head=Ct.next:sn.head=sn.tail=null):(sn.head=Ct,Ct.data=_n.slice(mn));break}++Dt}return sn.length-=Dt,Xt}(nn,Un):function(fn,sn){var Ct=ct.allocUnsafe(fn),Dt=sn.head,Xt=1;for(Dt.data.copy(Ct),fn-=Dt.data.length;Dt=Dt.next;){var _n=Dt.data,mn=fn>_n.length?_n.length:fn;if(_n.copy(Ct,Ct.length-fn,0,mn),(fn-=mn)===0){mn===_n.length?(++Xt,Dt.next?sn.head=Dt.next:sn.head=sn.tail=null):(sn.head=Dt,Dt.data=_n.slice(mn));break}++Xt}return sn.length-=Xt,Ct}(nn,Un),En}(kt,Rt.buffer,Rt.decoder),$t);var $t}function Wt(kt){var Rt=kt._readableState;if(Rt.length>0)throw new Error('"endReadable()" called on non-empty stream');Rt.endEmitted||(Rt.ended=!0,_e.nextTick(Gt,Rt,kt))}function Gt(kt,Rt){kt.endEmitted||kt.length!==0||(kt.endEmitted=!0,Rt.readable=!1,Rt.emit("end"))}function Ht(kt,Rt){for(var $t=0,nn=kt.length;$t<nn;$t++)if(kt[$t]===Rt)return $t;return-1}Tt.prototype.read=function(kt){ut("read",kt),kt=parseInt(kt,10);var Rt=this._readableState,$t=kt;if(kt!==0&&(Rt.emittedReadable=!1),kt===0&&Rt.needReadable&&(Rt.length>=Rt.highWaterMark||Rt.ended))return ut("read: emitReadable",Rt.length,Rt.ended),Rt.length===0&&Rt.ended?Wt(this):rn(this),null;if((kt=en(kt,Rt))===0&&Rt.ended)return Rt.length===0&&Wt(this),null;var nn,Un=Rt.needReadable;return ut("need readable",Un),(Rt.length===0||Rt.length-kt<Rt.highWaterMark)&&ut("length less than watermark",Un=!0),Rt.ended||Rt.reading?ut("reading or ended",Un=!1):Un&&(ut("do read"),Rt.reading=!0,Rt.sync=!0,Rt.length===0&&(Rt.needReadable=!0),this._read(Rt.highWaterMark),Rt.sync=!1,Rt.reading||(kt=en($t,Rt))),(nn=kt>0?Zt(kt,Rt):null)===null?(Rt.needReadable=!0,kt=0):Rt.length-=kt,Rt.length===0&&(Rt.ended||(Rt.needReadable=!0),$t!==kt&&Rt.ended&&Wt(this)),nn!==null&&this.emit("data",nn),nn},Tt.prototype._read=function(kt){this.emit("error",new Error("_read() is not implemented"))},Tt.prototype.pipe=function(kt,Rt){var $t=this,nn=this._readableState;switch(nn.pipesCount){case 0:nn.pipes=kt;break;case 1:nn.pipes=[nn.pipes,kt];break;default:nn.pipes.push(kt)}nn.pipesCount+=1,ut("pipe count=%d opts=%j",nn.pipesCount,Rt);var Un=(!Rt||Rt.end!==!1)&&kt!==$.stdout&&kt!==$.stderr?En:xn;function Fn(On,nr){ut("onunpipe"),On===$t&&nr&&nr.hasUnpiped===!1&&(nr.hasUnpiped=!0,ut("cleanup"),kt.removeListener("close",_n),kt.removeListener("finish",mn),kt.removeListener("drain",fn),kt.removeListener("error",Xt),kt.removeListener("unpipe",Fn),$t.removeListener("end",En),$t.removeListener("end",xn),$t.removeListener("data",Dt),sn=!0,!nn.awaitDrain||kt._writableState&&!kt._writableState.needDrain||fn())}function En(){ut("onend"),kt.end()}nn.endEmitted?_e.nextTick(Un):$t.once("end",Un),kt.on("unpipe",Fn);var fn=function(On){return function(){var nr=On._readableState;ut("pipeOnDrain",nr.awaitDrain),nr.awaitDrain&&nr.awaitDrain--,nr.awaitDrain===0&&nt(On,"data")&&(nr.flowing=!0,qt(On))}}($t);kt.on("drain",fn);var sn=!1,Ct=!1;function Dt(On){ut("ondata"),Ct=!1,kt.write(On)!==!1||Ct||((nn.pipesCount===1&&nn.pipes===kt||nn.pipesCount>1&&Ht(nn.pipes,kt)!==-1)&&!sn&&(ut("false write response, pause",$t._readableState.awaitDrain),$t._readableState.awaitDrain++,Ct=!0),$t.pause())}function Xt(On){ut("onerror",On),xn(),kt.removeListener("error",Xt),nt(kt,"error")===0&&kt.emit("error",On)}function _n(){kt.removeListener("finish",mn),xn()}function mn(){ut("onfinish"),kt.removeListener("close",_n),xn()}function xn(){ut("unpipe"),$t.unpipe(kt)}return $t.on("data",Dt),function(On,nr,Nr){if(typeof On.prependListener=="function")return On.prependListener(nr,Nr);On._events&&On._events[nr]?j(On._events[nr])?On._events[nr].unshift(Nr):On._events[nr]=[Nr,On._events[nr]]:On.on(nr,Nr)}(kt,"error",Xt),kt.once("close",_n),kt.once("finish",mn),kt.emit("pipe",$t),nn.flowing||(ut("pipe resume"),$t.resume()),kt},Tt.prototype.unpipe=function(kt){var Rt=this._readableState,$t={hasUnpiped:!1};if(Rt.pipesCount===0)return this;if(Rt.pipesCount===1)return kt&&kt!==Rt.pipes||(kt||(kt=Rt.pipes),Rt.pipes=null,Rt.pipesCount=0,Rt.flowing=!1,kt&&kt.emit("unpipe",this,$t)),this;if(!kt){var nn=Rt.pipes,Un=Rt.pipesCount;Rt.pipes=null,Rt.pipesCount=0,Rt.flowing=!1;for(var Fn=0;Fn<Un;Fn++)nn[Fn].emit("unpipe",this,$t);return this}var En=Ht(Rt.pipes,kt);return En===-1||(Rt.pipes.splice(En,1),Rt.pipesCount-=1,Rt.pipesCount===1&&(Rt.pipes=Rt.pipes[0]),kt.emit("unpipe",this,$t)),this},Tt.prototype.on=function(kt,Rt){var $t=ot.prototype.on.call(this,kt,Rt);if(kt==="data")this._readableState.flowing!==!1&&this.resume();else if(kt==="readable"){var nn=this._readableState;nn.endEmitted||nn.readableListening||(nn.readableListening=nn.needReadable=!0,nn.emittedReadable=!1,nn.reading?nn.length&&rn(this):_e.nextTick(Bt,this))}return $t},Tt.prototype.addListener=Tt.prototype.on,Tt.prototype.resume=function(){var kt=this._readableState;return kt.flowing||(ut("resume"),kt.flowing=!0,function(Rt,$t){$t.resumeScheduled||($t.resumeScheduled=!0,_e.nextTick(jt,Rt,$t))}(this,kt)),this},Tt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Tt.prototype.wrap=function(kt){var Rt=this,$t=this._readableState,nn=!1;for(var Un in kt.on("end",function(){if(ut("wrapped end"),$t.decoder&&!$t.ended){var En=$t.decoder.end();En&&En.length&&Rt.push(En)}Rt.push(null)}),kt.on("data",function(En){ut("wrapped data"),$t.decoder&&(En=$t.decoder.write(En)),$t.objectMode&&En==null||($t.objectMode||En&&En.length)&&(Rt.push(En)||(nn=!0,kt.pause()))}),kt)this[Un]===void 0&&typeof kt[Un]=="function"&&(this[Un]=function(En){return function(){return kt[En].apply(kt,arguments)}}(Un));for(var Fn=0;Fn<It.length;Fn++)kt.on(It[Fn],this.emit.bind(this,It[Fn]));return this._read=function(En){ut("wrapped _read",En),nn&&(nn=!1,kt.resume())},this},Object.defineProperty(Tt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Tt._fromList=Zt}).call(this,s(6),s(2))},function(i,o){},function(i,o,s){var _=s(44).Buffer,$=s(146);i.exports=function(){function _e(){(function(et,j){if(!(et instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(et){var j={data:et,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},_e.prototype.unshift=function(et){var j={data:et,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},_e.prototype.shift=function(){if(this.length!==0){var et=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,et}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(et){if(this.length===0)return"";for(var j=this.head,nt=""+j.data;j=j.next;)nt+=et+j.data;return nt},_e.prototype.concat=function(et){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,nt,ot,ct=_.allocUnsafe(et>>>0),gt=this.head,pt=0;gt;)j=gt.data,nt=ct,ot=pt,j.copy(nt,ot),pt+=gt.data.length,gt=gt.next;return ct},_e}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var _e=$.inspect({length:this.length});return this.constructor.name+" "+_e})},function(i,o){},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var ot in j)nt[ot]=j[ot]}function et(j,nt,ot){return $(j,nt,ot)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=et),_e($,et),et.from=function(j,nt,ot){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,ot)},et.alloc=function(j,nt,ot){if(typeof j!="number")throw new TypeError("Argument must be a number");var ct=$(j);return nt!==void 0?typeof ot=="string"?ct.fill(nt,ot):ct.fill(nt):ct.fill(0),ct},et.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},et.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){var _=s(13),$=s(3).LEVEL,_e=s(20),et=i.exports=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function nt(ot){this.emit("error",ot,this.transport)}this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=nt.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(et,_e),et.prototype._write=function(j,nt,ot){if(this.silent||j.exception===!0&&!this.handleExceptions)return ot(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),ot(null)},et.prototype._writev=function(j,nt){for(var ot=0;ot<j.length;ot++)this._accept(j[ot])&&(this.transport.log(j[ot].chunk[$],j[ot].chunk.message,j[ot].chunk,this._nop),j[ot].callback());return nt(null)},et.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},et.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){(function(_,$){function _e(Ft){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St})(Ft)}function et(Ft,St){if(!(Ft instanceof St))throw new TypeError("Cannot call a class as a function")}function j(Ft,St){for(var Pt=0;Pt<St.length;Pt++){var Bt=St[Pt];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Ft,Bt.key,Bt)}}function nt(Ft,St){return(nt=Object.setPrototypeOf||function(Pt,Bt){return Pt.__proto__=Bt,Pt})(Ft,St)}function ot(Ft){var St=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Pt,Bt=pt(Ft);if(St){var jt=pt(this).constructor;Pt=Reflect.construct(Bt,arguments,jt)}else Pt=Bt.apply(this,arguments);return ct(this,Pt)}}function ct(Ft,St){return!St||_e(St)!=="object"&&typeof St!="function"?gt(Ft):St}function gt(Ft){if(Ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ft}function pt(Ft){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(St){return St.__proto__||Object.getPrototypeOf(St)})(Ft)}var ft=s(65),ut=s(56),yt=s(150),wt=s(160),Qt=s(3).MESSAGE,It=s(32),xt=It.Stream,Tt=It.PassThrough,mt=s(20),Nt=s(38)("winston:file"),en=s(18),rn=s(188);i.exports=function(Ft){(function(qt,Zt){if(typeof Zt!="function"&&Zt!==null)throw new TypeError("Super expression must either be null or a function");qt.prototype=Object.create(Zt&&Zt.prototype,{constructor:{value:qt,writable:!0,configurable:!0}}),Zt&&nt(qt,Zt)})(jt,Ft);var St,Pt,Bt=ot(jt);function jt(){var qt,Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Wt(Gt){for(var Ht=arguments.length,kt=new Array(Ht>1?Ht-1:0),Rt=1;Rt<Ht;Rt++)kt[Rt-1]=arguments[Rt];kt.slice(1).forEach(function($t){if(Zt[$t])throw new Error("Cannot set ".concat($t," and ").concat(Gt," together"))})}if(et(this,jt),(qt=Bt.call(this,Zt)).name=Zt.name||"file",qt._stream=new Tt,qt._stream.setMaxListeners(30),qt._onError=qt._onError.bind(gt(qt)),Zt.filename||Zt.dirname)Wt("filename or dirname","stream"),qt._basename=qt.filename=Zt.filename?ut.basename(Zt.filename):"winston.log",qt.dirname=Zt.dirname||ut.dirname(Zt.filename),qt.options=Zt.options||{flags:"a"};else{if(!Zt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Wt("stream","filename","maxsize"),qt._dest=qt._stream.pipe(qt._setupStream(Zt.stream)),qt.dirname=ut.dirname(qt._dest.path)}return qt.maxsize=Zt.maxsize||null,qt.rotationFormat=Zt.rotationFormat||!1,qt.zippedArchive=Zt.zippedArchive||!1,qt.maxFiles=Zt.maxFiles||null,qt.eol=Zt.eol||en.EOL,qt.tailable=Zt.tailable||!1,qt._size=0,qt._pendingSize=0,qt._created=0,qt._drain=!1,qt._opening=!1,qt._ending=!1,qt.dirname&&qt._createLogDirIfNotExist(qt.dirname),qt.open(),qt}return St=jt,(Pt=[{key:"finishIfEnding",value:function(){var qt=this;this._ending&&(this._opening?this.once("open",function(){qt._stream.once("finish",function(){return qt.emit("finish")}),_(function(){return qt._stream.end()})}):(this._stream.once("finish",function(){return qt.emit("finish")}),_(function(){return qt._stream.end()})))}},{key:"log",value:function(qt){var Zt=this,Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return Wt(),!0;if(this._drain)this._stream.once("drain",function(){Zt._drain=!1,Zt.log(qt,Wt)});else{if(!this._rotate){var Gt="".concat(qt[Qt]).concat(this.eol),Ht=$.byteLength(Gt);this._pendingSize+=Ht,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var kt=this._stream.write(Gt,Rt.bind(this));return kt?Wt():(this._drain=!0,this._stream.once("drain",function(){Zt._drain=!1,Wt()})),Nt("written",kt,this._drain),this.finishIfEnding(),kt}this._stream.once("rotate",function(){Zt._rotate=!1,Zt.log(qt,Wt)})}function Rt(){var $t=this;this._size+=Ht,this._pendingSize-=Ht,Nt("logged %s %s",this._size,Gt),this.emit("logged",qt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return $t._rotateFile()}))}}},{key:"query",value:function(qt,Zt){typeof qt=="function"&&(Zt=qt,qt={}),qt=function(nn){return(nn=nn||{}).rows=nn.rows||nn.limit||10,nn.start=nn.start||0,nn.until=nn.until||new Date,_e(nn.until)!=="object"&&(nn.until=new Date(nn.until)),nn.from=nn.from||nn.until-864e5,_e(nn.from)!=="object"&&(nn.from=new Date(nn.from)),nn.order=nn.order||"desc",nn}(qt);var Wt=ut.join(this.dirname,this.filename),Gt="",Ht=[],kt=0,Rt=ft.createReadStream(Wt,{encoding:"utf8"});function $t(nn,Un){try{var Fn=JSON.parse(nn);(function(En){if(En&&_e(En)==="object"){var fn=new Date(En.timestamp);if(!(qt.from&&fn<qt.from||qt.until&&fn>qt.until||qt.level&&qt.level!==En.level))return!0}})(Fn)&&function(En){qt.rows&&Ht.length>=qt.rows&&qt.order!=="desc"?Rt.readable&&Rt.destroy():(qt.fields&&(En=qt.fields.reduce(function(fn,sn){return fn[sn]=En[sn],fn},{})),qt.order==="desc"&&Ht.length>=qt.rows&&Ht.shift(),Ht.push(En))}(Fn)}catch(En){Un||Rt.emit("error",En)}}Rt.on("error",function(nn){if(Rt.readable&&Rt.destroy(),Zt)return nn.code!=="ENOENT"?Zt(nn):Zt(null,Ht)}),Rt.on("data",function(nn){for(var Un=(nn=(Gt+nn).split(/\n+/)).length-1,Fn=0;Fn<Un;Fn++)(!qt.start||kt>=qt.start)&&$t(nn[Fn]),kt++;Gt=nn[Un]}),Rt.on("close",function(){Gt&&$t(Gt,!0),qt.order==="desc"&&(Ht=Ht.reverse()),Zt&&Zt(null,Ht)})}},{key:"stream",value:function(){var qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Zt=ut.join(this.dirname,this.filename),Wt=new xt,Gt={file:Zt,start:qt.start};return Wt.destroy=rn(Gt,function(Ht,kt){if(Ht)return Wt.emit("error",Ht);try{Wt.emit("data",kt),kt=JSON.parse(kt),Wt.emit("log",kt)}catch(Rt){Wt.emit("error",Rt)}}),Wt}},{key:"open",value:function(){var qt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Zt,Wt){if(Zt)return qt.emit("error",Zt);Nt("stat done: %s { size: %s }",qt.filename,Wt),qt._size=Wt,qt._dest=qt._createStream(qt._stream),qt._opening=!1,qt.once("open",function(){qt._stream.eventNames().includes("rotate")?qt._stream.emit("rotate"):qt._rotate=!1})})))}},{key:"stat",value:function(qt){var Zt=this,Wt=this._getFile(),Gt=ut.join(this.dirname,Wt);ft.stat(Gt,function(Ht,kt){return Ht&&Ht.code==="ENOENT"?(Nt("ENOENT ok",Gt),Zt.filename=Wt,qt(null,0)):Ht?(Nt("err ".concat(Ht.code," ").concat(Gt)),qt(Ht)):!kt||Zt._needsNewFile(kt.size)?Zt._incFile(function(){return Zt.stat(qt)}):(Zt.filename=Wt,void qt(null,kt.size))})}},{key:"close",value:function(qt){var Zt=this;this._stream&&this._stream.end(function(){qt&&qt(),Zt.emit("flush"),Zt.emit("closed")})}},{key:"_needsNewFile",value:function(qt){return qt=qt||this._size,this.maxsize&&qt>=this.maxsize}},{key:"_onError",value:function(qt){this.emit("error",qt)}},{key:"_setupStream",value:function(qt){return qt.on("error",this._onError),qt}},{key:"_cleanupStream",value:function(qt){return qt.removeListener("error",this._onError),qt}},{key:"_rotateFile",value:function(){var qt=this;this._incFile(function(){return qt.open()})}},{key:"_endStream",value:function(){var qt=this,Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){qt._cleanupStream(qt._dest),Zt()})):Zt()}},{key:"_createStream",value:function(qt){var Zt=this,Wt=ut.join(this.dirname,this.filename);Nt("create stream start",Wt,this.options);var Gt=ft.createWriteStream(Wt,this.options).on("error",function(kt){return Nt(kt)}).on("close",function(){return Nt("close",Gt.path,Gt.bytesWritten)}).on("open",function(){Nt("file open ok",Wt),Zt.emit("open",Wt),qt.pipe(Gt),Zt.rotatedWhileOpening&&(Zt._stream=new Tt,Zt._stream.setMaxListeners(30),Zt._rotateFile(),Zt.rotatedWhileOpening=!1,Zt._cleanupStream(Gt),qt.end())});if(Nt("create stream ok",Wt),this.zippedArchive){var Ht=wt.createGzip();return Ht.pipe(Gt),Ht}return Gt}},{key:"_incFile",value:function(qt){Nt("_incFile",this.filename);var Zt=ut.extname(this._basename),Wt=ut.basename(this._basename,Zt);this.tailable?this._checkMaxFilesTailable(Zt,Wt,qt):(this._created+=1,this._checkMaxFilesIncrementing(Zt,Wt,qt))}},{key:"_getFile",value:function(){var qt=ut.extname(this._basename),Zt=ut.basename(this._basename,qt),Wt=this.rotationFormat?this.rotationFormat():this._created,Gt=!this.tailable&&this._created?"".concat(Zt).concat(Wt).concat(qt):"".concat(Zt).concat(qt);return this.zippedArchive&&!this.tailable?"".concat(Gt,".gz"):Gt}},{key:"_checkMaxFilesIncrementing",value:function(qt,Zt,Wt){if(!this.maxFiles||this._created<this.maxFiles)return _(Wt);var Gt=this._created-this.maxFiles,Ht=Gt!==0?Gt:"",kt=this.zippedArchive?".gz":"",Rt="".concat(Zt).concat(Ht).concat(qt).concat(kt),$t=ut.join(this.dirname,Rt);ft.unlink($t,Wt)}},{key:"_checkMaxFilesTailable",value:function(qt,Zt,Wt){var Gt=this,Ht=[];if(this.maxFiles){for(var kt=this.zippedArchive?".gz":"",Rt=this.maxFiles-1;Rt>1;Rt--)Ht.push(function($t,nn){var Un=this,Fn="".concat(Zt).concat($t-1).concat(qt).concat(kt),En=ut.join(this.dirname,Fn);ft.exists(En,function(fn){if(!fn)return nn(null);Fn="".concat(Zt).concat($t).concat(qt).concat(kt),ft.rename(En,ut.join(Un.dirname,Fn),nn)})}.bind(this,Rt));yt(Ht,function(){ft.rename(ut.join(Gt.dirname,"".concat(Zt).concat(qt)),ut.join(Gt.dirname,"".concat(Zt,"1").concat(qt).concat(kt)),Wt)})}}},{key:"_createLogDirIfNotExist",value:function(qt){ft.existsSync(qt)||ft.mkdirSync(qt,{recursive:!0})}}])&&j(St.prototype,Pt),jt}(mt)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(et,j){return(0,_.default)($.default,et,j)};var _=_e(s(151)),$=_e(s(155));function _e(et){return et&&et.__esModule?et:{default:et}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=et(s(45)),$=et(s(25)),_e=et(s(30));function et(j){return j&&j.__esModule?j:{default:j}}o.default=(0,_e.default)((j,nt,ot)=>{var ct=(0,_.default)(nt)?[]:{};j(nt,(gt,pt,ft)=>{(0,$.default)(gt)((ut,...yt)=>{yt.length<2&&([yt]=yt),ct[pt]=yt,ft(ut)})},gt=>ot(gt,ct))},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(ot){return(0,_e.isAsync)(ot)?function(...ct){const gt=ct.pop();return j(ot.apply(this,ct),gt)}:(0,_.default)(function(ct,gt){var pt;try{pt=ot.apply(this,ct)}catch(ft){return gt(ft)}if(pt&&typeof pt.then=="function")return j(pt,gt);gt(null,pt)})};var _=et(s(153)),$=et(s(154)),_e=s(25);function et(ot){return ot&&ot.__esModule?ot:{default:ot}}function j(ot,ct){return ot.then(gt=>{nt(ct,null,gt)},gt=>{nt(ct,gt&&gt.message?gt:new Error(gt))})}function nt(ot,ct,gt){try{ot(ct,gt)}catch(pt){(0,$.default)(ft=>{throw ft},pt)}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){var _e=$.pop();return _.call(this,$,_e)}},i.exports=o.default},function(i,o,s){(function(_,$){Object.defineProperty(o,"__esModule",{value:!0}),o.fallback=ot,o.wrap=ct;var _e,et=o.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,j=o.hasSetImmediate=typeof _=="function"&&_,nt=o.hasNextTick=typeof $=="object"&&typeof $.nextTick=="function";function ot(gt){setTimeout(gt,0)}function ct(gt){return(pt,...ft)=>gt(()=>pt(...ft))}_e=et?queueMicrotask:j?_:nt?$.nextTick:ot,o.default=ct(_e)}).call(this,s(15).setImmediate,s(2))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=_e(s(66)),$=_e(s(30));function _e(et){return et&&et.__esModule?et:{default:et}}o.default=(0,$.default)(function(et,j,nt){return(0,_.default)(et,1,j,nt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=ot(s(67)),$=ot(s(157)),_e=ot(s(68)),et=s(25),j=ot(s(159)),nt=ot(s(46));function ot(ct){return ct&&ct.__esModule?ct:{default:ct}}o.default=ct=>(gt,pt,ft)=>{if(ft=(0,_.default)(ft),ct<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!gt)return ft(null);if((0,et.isAsyncGenerator)(gt))return(0,j.default)(gt,ct,pt,ft);if((0,et.isAsyncIterable)(gt))return(0,j.default)(gt[Symbol.asyncIterator](),ct,pt,ft);var ut=(0,$.default)(gt),yt=!1,wt=!1,Qt=0,It=!1;function xt(mt,Nt){if(!wt)if(Qt-=1,mt)yt=!0,ft(mt);else if(mt===!1)yt=!0,wt=!0;else{if(Nt===nt.default||yt&&Qt<=0)return yt=!0,ft(null);It||Tt()}}function Tt(){for(It=!0;Qt<ct&&!yt;){var mt=ut();if(mt===null)return yt=!0,void(Qt<=0&&ft(null));Qt+=1,pt(mt.value,mt.key,(0,_e.default)(xt))}It=!1}Tt()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(et){if((0,_.default)(et))return function(pt){var ft=-1,ut=pt.length;return function(){return++ft<ut?{value:pt[ft],key:ft}:null}}(et);var j=(0,$.default)(et);return j?function(pt){var ft=-1;return function(){var ut=pt.next();return ut.done?null:(ft++,{value:ut.value,key:ft})}}(j):(nt=et,ot=nt?Object.keys(nt):[],ct=-1,gt=ot.length,function pt(){var ft=ot[++ct];return ft==="__proto__"?pt():ct<gt?{value:nt[ft],key:ft}:null});var nt,ot,ct,gt};var _=_e(s(45)),$=_e(s(158));function _e(et){return et&&et.__esModule?et:{default:et}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _[Symbol.iterator]&&_[Symbol.iterator]()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(et,j,nt,ot){let ct=!1,gt=!1,pt=!1,ft=0,ut=0;function yt(){ft>=j||pt||ct||(pt=!0,et.next().then(({value:It,done:xt})=>{if(!gt&&!ct){if(pt=!1,xt)return ct=!0,void(ft<=0&&ot(null));ft++,nt(It,ut,wt),ut++,yt()}}).catch(Qt))}function wt(It,xt){if(ft-=1,!gt)return It?Qt(It):It===!1?(ct=!0,void(gt=!0)):xt===_e.default||ct&&ft<=0?(ct=!0,ot(null)):void yt()}function Qt(It){gt||(pt=!1,ct=!0,ot(It))}yt()};var _,$=s(46),_e=(_=$)&&_.__esModule?_:{default:_};i.exports=o.default},function(i,o,s){(function(_){var $=s(5).Buffer,_e=s(161).Transform,et=s(169),j=s(13),nt=s(74).ok,ot=s(5).kMaxLength,ct="Cannot create final Buffer. It would be larger than 0x"+ot.toString(16)+" bytes";et.Z_MIN_WINDOWBITS=8,et.Z_MAX_WINDOWBITS=15,et.Z_DEFAULT_WINDOWBITS=15,et.Z_MIN_CHUNK=64,et.Z_MAX_CHUNK=1/0,et.Z_DEFAULT_CHUNK=16384,et.Z_MIN_MEMLEVEL=1,et.Z_MAX_MEMLEVEL=9,et.Z_DEFAULT_MEMLEVEL=8,et.Z_MIN_LEVEL=-1,et.Z_MAX_LEVEL=9,et.Z_DEFAULT_LEVEL=et.Z_DEFAULT_COMPRESSION;for(var gt=Object.keys(et),pt=0;pt<gt.length;pt++){var ft=gt[pt];ft.match(/^Z/)&&Object.defineProperty(o,ft,{enumerable:!0,value:et[ft],writable:!1})}for(var ut={Z_OK:et.Z_OK,Z_STREAM_END:et.Z_STREAM_END,Z_NEED_DICT:et.Z_NEED_DICT,Z_ERRNO:et.Z_ERRNO,Z_STREAM_ERROR:et.Z_STREAM_ERROR,Z_DATA_ERROR:et.Z_DATA_ERROR,Z_MEM_ERROR:et.Z_MEM_ERROR,Z_BUF_ERROR:et.Z_BUF_ERROR,Z_VERSION_ERROR:et.Z_VERSION_ERROR},yt=Object.keys(ut),wt=0;wt<yt.length;wt++){var Qt=yt[wt];ut[ut[Qt]]=Qt}function It(Zt,Wt,Gt){var Ht=[],kt=0;function Rt(){for(var nn;(nn=Zt.read())!==null;)Ht.push(nn),kt+=nn.length;Zt.once("readable",Rt)}function $t(){var nn,Un=null;kt>=ot?Un=new RangeError(ct):nn=$.concat(Ht,kt),Ht=[],Zt.close(),Gt(Un,nn)}Zt.on("error",function(nn){Zt.removeListener("end",$t),Zt.removeListener("readable",Rt),Gt(nn)}),Zt.on("end",$t),Zt.end(Wt),Rt()}function xt(Zt,Wt){if(typeof Wt=="string"&&(Wt=$.from(Wt)),!$.isBuffer(Wt))throw new TypeError("Not a string or buffer");var Gt=Zt._finishFlushFlag;return Zt._processChunk(Wt,Gt)}function Tt(Zt){if(!(this instanceof Tt))return new Tt(Zt);Bt.call(this,Zt,et.DEFLATE)}function mt(Zt){if(!(this instanceof mt))return new mt(Zt);Bt.call(this,Zt,et.INFLATE)}function Nt(Zt){if(!(this instanceof Nt))return new Nt(Zt);Bt.call(this,Zt,et.GZIP)}function en(Zt){if(!(this instanceof en))return new en(Zt);Bt.call(this,Zt,et.GUNZIP)}function rn(Zt){if(!(this instanceof rn))return new rn(Zt);Bt.call(this,Zt,et.DEFLATERAW)}function Ft(Zt){if(!(this instanceof Ft))return new Ft(Zt);Bt.call(this,Zt,et.INFLATERAW)}function St(Zt){if(!(this instanceof St))return new St(Zt);Bt.call(this,Zt,et.UNZIP)}function Pt(Zt){return Zt===et.Z_NO_FLUSH||Zt===et.Z_PARTIAL_FLUSH||Zt===et.Z_SYNC_FLUSH||Zt===et.Z_FULL_FLUSH||Zt===et.Z_FINISH||Zt===et.Z_BLOCK}function Bt(Zt,Wt){var Gt=this;if(this._opts=Zt=Zt||{},this._chunkSize=Zt.chunkSize||o.Z_DEFAULT_CHUNK,_e.call(this,Zt),Zt.flush&&!Pt(Zt.flush))throw new Error("Invalid flush flag: "+Zt.flush);if(Zt.finishFlush&&!Pt(Zt.finishFlush))throw new Error("Invalid flush flag: "+Zt.finishFlush);if(this._flushFlag=Zt.flush||et.Z_NO_FLUSH,this._finishFlushFlag=Zt.finishFlush!==void 0?Zt.finishFlush:et.Z_FINISH,Zt.chunkSize&&(Zt.chunkSize<o.Z_MIN_CHUNK||Zt.chunkSize>o.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Zt.chunkSize);if(Zt.windowBits&&(Zt.windowBits<o.Z_MIN_WINDOWBITS||Zt.windowBits>o.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Zt.windowBits);if(Zt.level&&(Zt.level<o.Z_MIN_LEVEL||Zt.level>o.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Zt.level);if(Zt.memLevel&&(Zt.memLevel<o.Z_MIN_MEMLEVEL||Zt.memLevel>o.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Zt.memLevel);if(Zt.strategy&&Zt.strategy!=o.Z_FILTERED&&Zt.strategy!=o.Z_HUFFMAN_ONLY&&Zt.strategy!=o.Z_RLE&&Zt.strategy!=o.Z_FIXED&&Zt.strategy!=o.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Zt.strategy);if(Zt.dictionary&&!$.isBuffer(Zt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new et.Zlib(Wt);var Ht=this;this._hadError=!1,this._handle.onerror=function($t,nn){jt(Ht),Ht._hadError=!0;var Un=new Error($t);Un.errno=nn,Un.code=o.codes[nn],Ht.emit("error",Un)};var kt=o.Z_DEFAULT_COMPRESSION;typeof Zt.level=="number"&&(kt=Zt.level);var Rt=o.Z_DEFAULT_STRATEGY;typeof Zt.strategy=="number"&&(Rt=Zt.strategy),this._handle.init(Zt.windowBits||o.Z_DEFAULT_WINDOWBITS,kt,Zt.memLevel||o.Z_DEFAULT_MEMLEVEL,Rt,Zt.dictionary),this._buffer=$.allocUnsafe(this._chunkSize),this._offset=0,this._level=kt,this._strategy=Rt,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Gt._handle},configurable:!0,enumerable:!0})}function jt(Zt,Wt){Wt&&_.nextTick(Wt),Zt._handle&&(Zt._handle.close(),Zt._handle=null)}function qt(Zt){Zt.emit("close")}Object.defineProperty(o,"codes",{enumerable:!0,value:Object.freeze(ut),writable:!1}),o.Deflate=Tt,o.Inflate=mt,o.Gzip=Nt,o.Gunzip=en,o.DeflateRaw=rn,o.InflateRaw=Ft,o.Unzip=St,o.createDeflate=function(Zt){return new Tt(Zt)},o.createInflate=function(Zt){return new mt(Zt)},o.createDeflateRaw=function(Zt){return new rn(Zt)},o.createInflateRaw=function(Zt){return new Ft(Zt)},o.createGzip=function(Zt){return new Nt(Zt)},o.createGunzip=function(Zt){return new en(Zt)},o.createUnzip=function(Zt){return new St(Zt)},o.deflate=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new Tt(Wt),Zt,Gt)},o.deflateSync=function(Zt,Wt){return xt(new Tt(Wt),Zt)},o.gzip=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new Nt(Wt),Zt,Gt)},o.gzipSync=function(Zt,Wt){return xt(new Nt(Wt),Zt)},o.deflateRaw=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new rn(Wt),Zt,Gt)},o.deflateRawSync=function(Zt,Wt){return xt(new rn(Wt),Zt)},o.unzip=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new St(Wt),Zt,Gt)},o.unzipSync=function(Zt,Wt){return xt(new St(Wt),Zt)},o.inflate=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new mt(Wt),Zt,Gt)},o.inflateSync=function(Zt,Wt){return xt(new mt(Wt),Zt)},o.gunzip=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new en(Wt),Zt,Gt)},o.gunzipSync=function(Zt,Wt){return xt(new en(Wt),Zt)},o.inflateRaw=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new Ft(Wt),Zt,Gt)},o.inflateRawSync=function(Zt,Wt){return xt(new Ft(Wt),Zt)},j.inherits(Bt,_e),Bt.prototype.params=function(Zt,Wt,Gt){if(Zt<o.Z_MIN_LEVEL||Zt>o.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Zt);if(Wt!=o.Z_FILTERED&&Wt!=o.Z_HUFFMAN_ONLY&&Wt!=o.Z_RLE&&Wt!=o.Z_FIXED&&Wt!=o.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Wt);if(this._level!==Zt||this._strategy!==Wt){var Ht=this;this.flush(et.Z_SYNC_FLUSH,function(){nt(Ht._handle,"zlib binding closed"),Ht._handle.params(Zt,Wt),Ht._hadError||(Ht._level=Zt,Ht._strategy=Wt,Gt&&Gt())})}else _.nextTick(Gt)},Bt.prototype.reset=function(){return nt(this._handle,"zlib binding closed"),this._handle.reset()},Bt.prototype._flush=function(Zt){this._transform($.alloc(0),"",Zt)},Bt.prototype.flush=function(Zt,Wt){var Gt=this,Ht=this._writableState;(typeof Zt=="function"||Zt===void 0&&!Wt)&&(Wt=Zt,Zt=et.Z_FULL_FLUSH),Ht.ended?Wt&&_.nextTick(Wt):Ht.ending?Wt&&this.once("end",Wt):Ht.needDrain?Wt&&this.once("drain",function(){return Gt.flush(Zt,Wt)}):(this._flushFlag=Zt,this.write($.alloc(0),"",Wt))},Bt.prototype.close=function(Zt){jt(this,Zt),_.nextTick(qt,this)},Bt.prototype._transform=function(Zt,Wt,Gt){var Ht,kt=this._writableState,Rt=(kt.ending||kt.ended)&&(!Zt||kt.length===Zt.length);return Zt===null||$.isBuffer(Zt)?this._handle?(Rt?Ht=this._finishFlushFlag:(Ht=this._flushFlag,Zt.length>=kt.length&&(this._flushFlag=this._opts.flush||et.Z_NO_FLUSH)),void this._processChunk(Zt,Ht,Gt)):Gt(new Error("zlib binding closed")):Gt(new Error("invalid input"))},Bt.prototype._processChunk=function(Zt,Wt,Gt){var Ht=Zt&&Zt.length,kt=this._chunkSize-this._offset,Rt=0,$t=this,nn=typeof Gt=="function";if(!nn){var Un,Fn=[],En=0;this.on("error",function(Xt){Un=Xt}),nt(this._handle,"zlib binding closed");do var fn=this._handle.writeSync(Wt,Zt,Rt,Ht,this._buffer,this._offset,kt);while(!this._hadError&&Dt(fn[0],fn[1]));if(this._hadError)throw Un;if(En>=ot)throw jt(this),new RangeError(ct);var sn=$.concat(Fn,En);return jt(this),sn}nt(this._handle,"zlib binding closed");var Ct=this._handle.write(Wt,Zt,Rt,Ht,this._buffer,this._offset,kt);function Dt(Xt,_n){if(this&&(this.buffer=null,this.callback=null),!$t._hadError){var mn=kt-_n;if(nt(mn>=0,"have should not go down"),mn>0){var xn=$t._buffer.slice($t._offset,$t._offset+mn);$t._offset+=mn,nn?$t.push(xn):(Fn.push(xn),En+=xn.length)}if((_n===0||$t._offset>=$t._chunkSize)&&(kt=$t._chunkSize,$t._offset=0,$t._buffer=$.allocUnsafe($t._chunkSize)),_n===0){if(Rt+=Ht-Xt,Ht=Xt,!nn)return!0;var On=$t._handle.write(Wt,Zt,Rt,Ht,$t._buffer,$t._offset,$t._chunkSize);return On.callback=Dt,void(On.buffer=Zt)}if(!nn)return!1;Gt()}}Ct.buffer=Zt,Ct.callback=Dt},j.inherits(Tt,Bt),j.inherits(mt,Bt),j.inherits(Nt,Bt),j.inherits(en,Bt),j.inherits(rn,Bt),j.inherits(Ft,Bt),j.inherits(St,Bt)}).call(this,s(2))},function(i,o,s){i.exports=$;var _=s(21).EventEmitter;function $(){_.call(this)}s(7)($,_),$.Readable=s(31),$.Writable=s(73),$.Duplex=s(166),$.Transform=s(167),$.PassThrough=s(168),$.Stream=$,$.prototype.pipe=function(_e,et){var j=this;function nt(yt){_e.writable&&_e.write(yt)===!1&&j.pause&&j.pause()}function ot(){j.readable&&j.resume&&j.resume()}j.on("data",nt),_e.on("drain",ot),_e._isStdio||et&&et.end===!1||(j.on("end",gt),j.on("close",pt));var ct=!1;function gt(){ct||(ct=!0,_e.end())}function pt(){ct||(ct=!0,typeof _e.destroy=="function"&&_e.destroy())}function ft(yt){if(ut(),_.listenerCount(this,"error")===0)throw yt}function ut(){j.removeListener("data",nt),_e.removeListener("drain",ot),j.removeListener("end",gt),j.removeListener("close",pt),j.removeListener("error",ft),_e.removeListener("error",ft),j.removeListener("end",ut),j.removeListener("close",ut),_e.removeListener("close",ut)}return j.on("error",ft),_e.on("error",ft),j.on("end",ut),j.on("close",ut),_e.on("close",ut),_e.emit("pipe",j),_e}},function(i,o){},function(i,o,s){var _=s(47).Buffer,$=s(164);i.exports=function(){function _e(){(function(et,j){if(!(et instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(et){var j={data:et,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},_e.prototype.unshift=function(et){var j={data:et,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},_e.prototype.shift=function(){if(this.length!==0){var et=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,et}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(et){if(this.length===0)return"";for(var j=this.head,nt=""+j.data;j=j.next;)nt+=et+j.data;return nt},_e.prototype.concat=function(et){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,nt,ot,ct=_.allocUnsafe(et>>>0),gt=this.head,pt=0;gt;)j=gt.data,nt=ct,ot=pt,j.copy(nt,ot),pt+=gt.data.length,gt=gt.next;return ct},_e}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var _e=$.inspect({length:this.length});return this.constructor.name+" "+_e})},function(i,o){},function(i,o,s){i.exports=_e;var _=s(72),$=s(17);function _e(et){if(!(this instanceof _e))return new _e(et);_.call(this,et)}$.inherits=s(7),$.inherits(_e,_),_e.prototype._transform=function(et,j,nt){nt(null,et)}},function(i,o,s){i.exports=s(23)},function(i,o,s){i.exports=s(31).Transform},function(i,o,s){i.exports=s(31).PassThrough},function(i,o,s){(function(_,$){var _e=s(74),et=s(171),j=s(172),nt=s(175),ot=s(178);for(var ct in ot)o[ct]=ot[ct];o.NONE=0,o.DEFLATE=1,o.INFLATE=2,o.GZIP=3,o.GUNZIP=4,o.DEFLATERAW=5,o.INFLATERAW=6,o.UNZIP=7;function gt(pt){if(typeof pt!="number"||pt<o.DEFLATE||pt>o.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=pt,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}gt.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,_e(this.init_done,"close before init"),_e(this.mode<=o.UNZIP),this.mode===o.DEFLATE||this.mode===o.GZIP||this.mode===o.DEFLATERAW?j.deflateEnd(this.strm):this.mode!==o.INFLATE&&this.mode!==o.GUNZIP&&this.mode!==o.INFLATERAW&&this.mode!==o.UNZIP||nt.inflateEnd(this.strm),this.mode=o.NONE,this.dictionary=null)},gt.prototype.write=function(pt,ft,ut,yt,wt,Qt,It){return this._write(!0,pt,ft,ut,yt,wt,Qt,It)},gt.prototype.writeSync=function(pt,ft,ut,yt,wt,Qt,It){return this._write(!1,pt,ft,ut,yt,wt,Qt,It)},gt.prototype._write=function(pt,ft,ut,yt,wt,Qt,It,xt){if(_e.equal(arguments.length,8),_e(this.init_done,"write before init"),_e(this.mode!==o.NONE,"already finalized"),_e.equal(!1,this.write_in_progress,"write already in progress"),_e.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,_e.equal(!1,ft===void 0,"must provide flush value"),this.write_in_progress=!0,ft!==o.Z_NO_FLUSH&&ft!==o.Z_PARTIAL_FLUSH&&ft!==o.Z_SYNC_FLUSH&&ft!==o.Z_FULL_FLUSH&&ft!==o.Z_FINISH&&ft!==o.Z_BLOCK)throw new Error("Invalid flush value");if(ut==null&&(ut=_.alloc(0),wt=0,yt=0),this.strm.avail_in=wt,this.strm.input=ut,this.strm.next_in=yt,this.strm.avail_out=xt,this.strm.output=Qt,this.strm.next_out=It,this.flush=ft,!pt)return this._process(),this._checkError()?this._afterSync():void 0;var Tt=this;return $.nextTick(function(){Tt._process(),Tt._after()}),this},gt.prototype._afterSync=function(){var pt=this.strm.avail_out,ft=this.strm.avail_in;return this.write_in_progress=!1,[ft,pt]},gt.prototype._process=function(){var pt=null;switch(this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflate(this.strm,this.flush);break;case o.UNZIP:switch(this.strm.avail_in>0&&(pt=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(pt===null)break;if(this.strm.input[pt]!==31){this.mode=o.INFLATE;break}if(this.gzip_id_bytes_read=1,pt++,this.strm.avail_in===1)break;case 1:if(pt===null)break;this.strm.input[pt]===139?(this.gzip_id_bytes_read=2,this.mode=o.GUNZIP):this.mode=o.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:for(this.err=nt.inflate(this.strm,this.flush),this.err===o.Z_NEED_DICT&&this.dictionary&&(this.err=nt.inflateSetDictionary(this.strm,this.dictionary),this.err===o.Z_OK?this.err=nt.inflate(this.strm,this.flush):this.err===o.Z_DATA_ERROR&&(this.err=o.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===o.GUNZIP&&this.err===o.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=nt.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},gt.prototype._checkError=function(){switch(this.err){case o.Z_OK:case o.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===o.Z_FINISH)return this._error("unexpected end of file"),!1;break;case o.Z_STREAM_END:break;case o.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},gt.prototype._after=function(){if(this._checkError()){var pt=this.strm.avail_out,ft=this.strm.avail_in;this.write_in_progress=!1,this.callback(ft,pt),this.pending_close&&this.close()}},gt.prototype._error=function(pt){this.strm.msg&&(pt=this.strm.msg),this.onerror(pt,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},gt.prototype.init=function(pt,ft,ut,yt,wt){_e(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),_e(pt>=8&&pt<=15,"invalid windowBits"),_e(ft>=-1&&ft<=9,"invalid compression level"),_e(ut>=1&&ut<=9,"invalid memlevel"),_e(yt===o.Z_FILTERED||yt===o.Z_HUFFMAN_ONLY||yt===o.Z_RLE||yt===o.Z_FIXED||yt===o.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ft,pt,ut,yt,wt),this._setDictionary()},gt.prototype.params=function(){throw new Error("deflateParams Not supported")},gt.prototype.reset=function(){this._reset(),this._setDictionary()},gt.prototype._init=function(pt,ft,ut,yt,wt){switch(this.level=pt,this.windowBits=ft,this.memLevel=ut,this.strategy=yt,this.flush=o.Z_NO_FLUSH,this.err=o.Z_OK,this.mode!==o.GZIP&&this.mode!==o.GUNZIP||(this.windowBits+=16),this.mode===o.UNZIP&&(this.windowBits+=32),this.mode!==o.DEFLATERAW&&this.mode!==o.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new et,this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflateInit2(this.strm,this.level,o.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:case o.UNZIP:this.err=nt.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==o.Z_OK&&this._error("Init error"),this.dictionary=wt,this.write_in_progress=!1,this.init_done=!0},gt.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:this.err=j.deflateSetDictionary(this.strm,this.dictionary)}this.err!==o.Z_OK&&this._error("Failed to set dictionary")}},gt.prototype._reset=function(){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:case o.GZIP:this.err=j.deflateReset(this.strm);break;case o.INFLATE:case o.INFLATERAW:case o.GUNZIP:this.err=nt.inflateReset(this.strm)}this.err!==o.Z_OK&&this._error("Failed to reset stream")},o.Zlib=gt}).call(this,s(5).Buffer,s(2))},function(i,o,s){var _=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;function et(j){if(j==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(j)}i.exports=function(){try{if(!Object.assign)return!1;var j=new String("abc");if(j[5]="de",Object.getOwnPropertyNames(j)[0]==="5")return!1;for(var nt={},ot=0;ot<10;ot++)nt["_"+String.fromCharCode(ot)]=ot;if(Object.getOwnPropertyNames(nt).map(function(gt){return nt[gt]}).join("")!=="0123456789")return!1;var ct={};return"abcdefghijklmnopqrst".split("").forEach(function(gt){ct[gt]=gt}),Object.keys(Object.assign({},ct)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(j,nt){for(var ot,ct,gt=et(j),pt=1;pt<arguments.length;pt++){for(var ft in ot=Object(arguments[pt]))$.call(ot,ft)&&(gt[ft]=ot[ft]);if(_){ct=_(ot);for(var ut=0;ut<ct.length;ut++)_e.call(ot,ct[ut])&&(gt[ct[ut]]=ot[ct[ut]])}}return gt}},function(i,o,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(i,o,s){var _,$=s(37),_e=s(173),et=s(75),j=s(76),nt=s(174);function ot(Ft,St){return Ft.msg=nt[St],St}function ct(Ft){return(Ft<<1)-(Ft>4?9:0)}function gt(Ft){for(var St=Ft.length;--St>=0;)Ft[St]=0}function pt(Ft){var St=Ft.state,Pt=St.pending;Pt>Ft.avail_out&&(Pt=Ft.avail_out),Pt!==0&&($.arraySet(Ft.output,St.pending_buf,St.pending_out,Pt,Ft.next_out),Ft.next_out+=Pt,St.pending_out+=Pt,Ft.total_out+=Pt,Ft.avail_out-=Pt,St.pending-=Pt,St.pending===0&&(St.pending_out=0))}function ft(Ft,St){_e._tr_flush_block(Ft,Ft.block_start>=0?Ft.block_start:-1,Ft.strstart-Ft.block_start,St),Ft.block_start=Ft.strstart,pt(Ft.strm)}function ut(Ft,St){Ft.pending_buf[Ft.pending++]=St}function yt(Ft,St){Ft.pending_buf[Ft.pending++]=St>>>8&255,Ft.pending_buf[Ft.pending++]=255&St}function wt(Ft,St){var Pt,Bt,jt=Ft.max_chain_length,qt=Ft.strstart,Zt=Ft.prev_length,Wt=Ft.nice_match,Gt=Ft.strstart>Ft.w_size-262?Ft.strstart-(Ft.w_size-262):0,Ht=Ft.window,kt=Ft.w_mask,Rt=Ft.prev,$t=Ft.strstart+258,nn=Ht[qt+Zt-1],Un=Ht[qt+Zt];Ft.prev_length>=Ft.good_match&&(jt>>=2),Wt>Ft.lookahead&&(Wt=Ft.lookahead);do if(Ht[(Pt=St)+Zt]===Un&&Ht[Pt+Zt-1]===nn&&Ht[Pt]===Ht[qt]&&Ht[++Pt]===Ht[qt+1]){qt+=2,Pt++;do;while(Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&qt<$t);if(Bt=258-($t-qt),qt=$t-258,Bt>Zt){if(Ft.match_start=St,Zt=Bt,Bt>=Wt)break;nn=Ht[qt+Zt-1],Un=Ht[qt+Zt]}}while((St=Rt[St&kt])>Gt&&--jt!=0);return Zt<=Ft.lookahead?Zt:Ft.lookahead}function Qt(Ft){var St,Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt,Rt=Ft.w_size;do{if(jt=Ft.window_size-Ft.lookahead-Ft.strstart,Ft.strstart>=Rt+(Rt-262)){$.arraySet(Ft.window,Ft.window,Rt,Rt,0),Ft.match_start-=Rt,Ft.strstart-=Rt,Ft.block_start-=Rt,St=Pt=Ft.hash_size;do Bt=Ft.head[--St],Ft.head[St]=Bt>=Rt?Bt-Rt:0;while(--Pt);St=Pt=Rt;do Bt=Ft.prev[--St],Ft.prev[St]=Bt>=Rt?Bt-Rt:0;while(--Pt);jt+=Rt}if(Ft.strm.avail_in===0)break;if(Zt=Ft.strm,Wt=Ft.window,Gt=Ft.strstart+Ft.lookahead,Ht=jt,kt=void 0,(kt=Zt.avail_in)>Ht&&(kt=Ht),Pt=kt===0?0:(Zt.avail_in-=kt,$.arraySet(Wt,Zt.input,Zt.next_in,kt,Gt),Zt.state.wrap===1?Zt.adler=et(Zt.adler,Wt,kt,Gt):Zt.state.wrap===2&&(Zt.adler=j(Zt.adler,Wt,kt,Gt)),Zt.next_in+=kt,Zt.total_in+=kt,kt),Ft.lookahead+=Pt,Ft.lookahead+Ft.insert>=3)for(qt=Ft.strstart-Ft.insert,Ft.ins_h=Ft.window[qt],Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[qt+1])&Ft.hash_mask;Ft.insert&&(Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[qt+3-1])&Ft.hash_mask,Ft.prev[qt&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=qt,qt++,Ft.insert--,!(Ft.lookahead+Ft.insert<3)););}while(Ft.lookahead<262&&Ft.strm.avail_in!==0)}function It(Ft,St){for(var Pt,Bt;;){if(Ft.lookahead<262){if(Qt(Ft),Ft.lookahead<262&&St===0)return 1;if(Ft.lookahead===0)break}if(Pt=0,Ft.lookahead>=3&&(Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+3-1])&Ft.hash_mask,Pt=Ft.prev[Ft.strstart&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ft.strstart),Pt!==0&&Ft.strstart-Pt<=Ft.w_size-262&&(Ft.match_length=wt(Ft,Pt)),Ft.match_length>=3)if(Bt=_e._tr_tally(Ft,Ft.strstart-Ft.match_start,Ft.match_length-3),Ft.lookahead-=Ft.match_length,Ft.match_length<=Ft.max_lazy_match&&Ft.lookahead>=3){Ft.match_length--;do Ft.strstart++,Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+3-1])&Ft.hash_mask,Pt=Ft.prev[Ft.strstart&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ft.strstart;while(--Ft.match_length!=0);Ft.strstart++}else Ft.strstart+=Ft.match_length,Ft.match_length=0,Ft.ins_h=Ft.window[Ft.strstart],Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+1])&Ft.hash_mask;else Bt=_e._tr_tally(Ft,0,Ft.window[Ft.strstart]),Ft.lookahead--,Ft.strstart++;if(Bt&&(ft(Ft,!1),Ft.strm.avail_out===0))return 1}return Ft.insert=Ft.strstart<2?Ft.strstart:2,St===4?(ft(Ft,!0),Ft.strm.avail_out===0?3:4):Ft.last_lit&&(ft(Ft,!1),Ft.strm.avail_out===0)?1:2}function xt(Ft,St){for(var Pt,Bt,jt;;){if(Ft.lookahead<262){if(Qt(Ft),Ft.lookahead<262&&St===0)return 1;if(Ft.lookahead===0)break}if(Pt=0,Ft.lookahead>=3&&(Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+3-1])&Ft.hash_mask,Pt=Ft.prev[Ft.strstart&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ft.strstart),Ft.prev_length=Ft.match_length,Ft.prev_match=Ft.match_start,Ft.match_length=2,Pt!==0&&Ft.prev_length<Ft.max_lazy_match&&Ft.strstart-Pt<=Ft.w_size-262&&(Ft.match_length=wt(Ft,Pt),Ft.match_length<=5&&(Ft.strategy===1||Ft.match_length===3&&Ft.strstart-Ft.match_start>4096)&&(Ft.match_length=2)),Ft.prev_length>=3&&Ft.match_length<=Ft.prev_length){jt=Ft.strstart+Ft.lookahead-3,Bt=_e._tr_tally(Ft,Ft.strstart-1-Ft.prev_match,Ft.prev_length-3),Ft.lookahead-=Ft.prev_length-1,Ft.prev_length-=2;do++Ft.strstart<=jt&&(Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+3-1])&Ft.hash_mask,Pt=Ft.prev[Ft.strstart&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ft.strstart);while(--Ft.prev_length!=0);if(Ft.match_available=0,Ft.match_length=2,Ft.strstart++,Bt&&(ft(Ft,!1),Ft.strm.avail_out===0))return 1}else if(Ft.match_available){if((Bt=_e._tr_tally(Ft,0,Ft.window[Ft.strstart-1]))&&ft(Ft,!1),Ft.strstart++,Ft.lookahead--,Ft.strm.avail_out===0)return 1}else Ft.match_available=1,Ft.strstart++,Ft.lookahead--}return Ft.match_available&&(Bt=_e._tr_tally(Ft,0,Ft.window[Ft.strstart-1]),Ft.match_available=0),Ft.insert=Ft.strstart<2?Ft.strstart:2,St===4?(ft(Ft,!0),Ft.strm.avail_out===0?3:4):Ft.last_lit&&(ft(Ft,!1),Ft.strm.avail_out===0)?1:2}function Tt(Ft,St,Pt,Bt,jt){this.good_length=Ft,this.max_lazy=St,this.nice_length=Pt,this.max_chain=Bt,this.func=jt}function mt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $.Buf16(1146),this.dyn_dtree=new $.Buf16(122),this.bl_tree=new $.Buf16(78),gt(this.dyn_ltree),gt(this.dyn_dtree),gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $.Buf16(16),this.heap=new $.Buf16(573),gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $.Buf16(573),gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Nt(Ft){var St;return Ft&&Ft.state?(Ft.total_in=Ft.total_out=0,Ft.data_type=2,(St=Ft.state).pending=0,St.pending_out=0,St.wrap<0&&(St.wrap=-St.wrap),St.status=St.wrap?42:113,Ft.adler=St.wrap===2?0:1,St.last_flush=0,_e._tr_init(St),0):ot(Ft,-2)}function en(Ft){var St,Pt=Nt(Ft);return Pt===0&&((St=Ft.state).window_size=2*St.w_size,gt(St.head),St.max_lazy_match=_[St.level].max_lazy,St.good_match=_[St.level].good_length,St.nice_match=_[St.level].nice_length,St.max_chain_length=_[St.level].max_chain,St.strstart=0,St.block_start=0,St.lookahead=0,St.insert=0,St.match_length=St.prev_length=2,St.match_available=0,St.ins_h=0),Pt}function rn(Ft,St,Pt,Bt,jt,qt){if(!Ft)return-2;var Zt=1;if(St===-1&&(St=6),Bt<0?(Zt=0,Bt=-Bt):Bt>15&&(Zt=2,Bt-=16),jt<1||jt>9||Pt!==8||Bt<8||Bt>15||St<0||St>9||qt<0||qt>4)return ot(Ft,-2);Bt===8&&(Bt=9);var Wt=new mt;return Ft.state=Wt,Wt.strm=Ft,Wt.wrap=Zt,Wt.gzhead=null,Wt.w_bits=Bt,Wt.w_size=1<<Wt.w_bits,Wt.w_mask=Wt.w_size-1,Wt.hash_bits=jt+7,Wt.hash_size=1<<Wt.hash_bits,Wt.hash_mask=Wt.hash_size-1,Wt.hash_shift=~~((Wt.hash_bits+3-1)/3),Wt.window=new $.Buf8(2*Wt.w_size),Wt.head=new $.Buf16(Wt.hash_size),Wt.prev=new $.Buf16(Wt.w_size),Wt.lit_bufsize=1<<jt+6,Wt.pending_buf_size=4*Wt.lit_bufsize,Wt.pending_buf=new $.Buf8(Wt.pending_buf_size),Wt.d_buf=1*Wt.lit_bufsize,Wt.l_buf=3*Wt.lit_bufsize,Wt.level=St,Wt.strategy=qt,Wt.method=Pt,en(Ft)}_=[new Tt(0,0,0,0,function(Ft,St){var Pt=65535;for(Pt>Ft.pending_buf_size-5&&(Pt=Ft.pending_buf_size-5);;){if(Ft.lookahead<=1){if(Qt(Ft),Ft.lookahead===0&&St===0)return 1;if(Ft.lookahead===0)break}Ft.strstart+=Ft.lookahead,Ft.lookahead=0;var Bt=Ft.block_start+Pt;if((Ft.strstart===0||Ft.strstart>=Bt)&&(Ft.lookahead=Ft.strstart-Bt,Ft.strstart=Bt,ft(Ft,!1),Ft.strm.avail_out===0)||Ft.strstart-Ft.block_start>=Ft.w_size-262&&(ft(Ft,!1),Ft.strm.avail_out===0))return 1}return Ft.insert=0,St===4?(ft(Ft,!0),Ft.strm.avail_out===0?3:4):(Ft.strstart>Ft.block_start&&(ft(Ft,!1),Ft.strm.avail_out),1)}),new Tt(4,4,8,4,It),new Tt(4,5,16,8,It),new Tt(4,6,32,32,It),new Tt(4,4,16,16,xt),new Tt(8,16,32,32,xt),new Tt(8,16,128,128,xt),new Tt(8,32,128,256,xt),new Tt(32,128,258,1024,xt),new Tt(32,258,258,4096,xt)],o.deflateInit=function(Ft,St){return rn(Ft,St,8,15,8,0)},o.deflateInit2=rn,o.deflateReset=en,o.deflateResetKeep=Nt,o.deflateSetHeader=function(Ft,St){return Ft&&Ft.state?Ft.state.wrap!==2?-2:(Ft.state.gzhead=St,0):-2},o.deflate=function(Ft,St){var Pt,Bt,jt,qt;if(!Ft||!Ft.state||St>5||St<0)return Ft?ot(Ft,-2):-2;if(Bt=Ft.state,!Ft.output||!Ft.input&&Ft.avail_in!==0||Bt.status===666&&St!==4)return ot(Ft,Ft.avail_out===0?-5:-2);if(Bt.strm=Ft,Pt=Bt.last_flush,Bt.last_flush=St,Bt.status===42)if(Bt.wrap===2)Ft.adler=0,ut(Bt,31),ut(Bt,139),ut(Bt,8),Bt.gzhead?(ut(Bt,(Bt.gzhead.text?1:0)+(Bt.gzhead.hcrc?2:0)+(Bt.gzhead.extra?4:0)+(Bt.gzhead.name?8:0)+(Bt.gzhead.comment?16:0)),ut(Bt,255&Bt.gzhead.time),ut(Bt,Bt.gzhead.time>>8&255),ut(Bt,Bt.gzhead.time>>16&255),ut(Bt,Bt.gzhead.time>>24&255),ut(Bt,Bt.level===9?2:Bt.strategy>=2||Bt.level<2?4:0),ut(Bt,255&Bt.gzhead.os),Bt.gzhead.extra&&Bt.gzhead.extra.length&&(ut(Bt,255&Bt.gzhead.extra.length),ut(Bt,Bt.gzhead.extra.length>>8&255)),Bt.gzhead.hcrc&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending,0)),Bt.gzindex=0,Bt.status=69):(ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,Bt.level===9?2:Bt.strategy>=2||Bt.level<2?4:0),ut(Bt,3),Bt.status=113);else{var Zt=8+(Bt.w_bits-8<<4)<<8;Zt|=(Bt.strategy>=2||Bt.level<2?0:Bt.level<6?1:Bt.level===6?2:3)<<6,Bt.strstart!==0&&(Zt|=32),Zt+=31-Zt%31,Bt.status=113,yt(Bt,Zt),Bt.strstart!==0&&(yt(Bt,Ft.adler>>>16),yt(Bt,65535&Ft.adler)),Ft.adler=1}if(Bt.status===69)if(Bt.gzhead.extra){for(jt=Bt.pending;Bt.gzindex<(65535&Bt.gzhead.extra.length)&&(Bt.pending!==Bt.pending_buf_size||(Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),pt(Ft),jt=Bt.pending,Bt.pending!==Bt.pending_buf_size));)ut(Bt,255&Bt.gzhead.extra[Bt.gzindex]),Bt.gzindex++;Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),Bt.gzindex===Bt.gzhead.extra.length&&(Bt.gzindex=0,Bt.status=73)}else Bt.status=73;if(Bt.status===73)if(Bt.gzhead.name){jt=Bt.pending;do{if(Bt.pending===Bt.pending_buf_size&&(Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),pt(Ft),jt=Bt.pending,Bt.pending===Bt.pending_buf_size)){qt=1;break}qt=Bt.gzindex<Bt.gzhead.name.length?255&Bt.gzhead.name.charCodeAt(Bt.gzindex++):0,ut(Bt,qt)}while(qt!==0);Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),qt===0&&(Bt.gzindex=0,Bt.status=91)}else Bt.status=91;if(Bt.status===91)if(Bt.gzhead.comment){jt=Bt.pending;do{if(Bt.pending===Bt.pending_buf_size&&(Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),pt(Ft),jt=Bt.pending,Bt.pending===Bt.pending_buf_size)){qt=1;break}qt=Bt.gzindex<Bt.gzhead.comment.length?255&Bt.gzhead.comment.charCodeAt(Bt.gzindex++):0,ut(Bt,qt)}while(qt!==0);Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),qt===0&&(Bt.status=103)}else Bt.status=103;if(Bt.status===103&&(Bt.gzhead.hcrc?(Bt.pending+2>Bt.pending_buf_size&&pt(Ft),Bt.pending+2<=Bt.pending_buf_size&&(ut(Bt,255&Ft.adler),ut(Bt,Ft.adler>>8&255),Ft.adler=0,Bt.status=113)):Bt.status=113),Bt.pending!==0){if(pt(Ft),Ft.avail_out===0)return Bt.last_flush=-1,0}else if(Ft.avail_in===0&&ct(St)<=ct(Pt)&&St!==4)return ot(Ft,-5);if(Bt.status===666&&Ft.avail_in!==0)return ot(Ft,-5);if(Ft.avail_in!==0||Bt.lookahead!==0||St!==0&&Bt.status!==666){var Wt=Bt.strategy===2?function(Gt,Ht){for(var kt;;){if(Gt.lookahead===0&&(Qt(Gt),Gt.lookahead===0)){if(Ht===0)return 1;break}if(Gt.match_length=0,kt=_e._tr_tally(Gt,0,Gt.window[Gt.strstart]),Gt.lookahead--,Gt.strstart++,kt&&(ft(Gt,!1),Gt.strm.avail_out===0))return 1}return Gt.insert=0,Ht===4?(ft(Gt,!0),Gt.strm.avail_out===0?3:4):Gt.last_lit&&(ft(Gt,!1),Gt.strm.avail_out===0)?1:2}(Bt,St):Bt.strategy===3?function(Gt,Ht){for(var kt,Rt,$t,nn,Un=Gt.window;;){if(Gt.lookahead<=258){if(Qt(Gt),Gt.lookahead<=258&&Ht===0)return 1;if(Gt.lookahead===0)break}if(Gt.match_length=0,Gt.lookahead>=3&&Gt.strstart>0&&(Rt=Un[$t=Gt.strstart-1])===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]){nn=Gt.strstart+258;do;while(Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&$t<nn);Gt.match_length=258-(nn-$t),Gt.match_length>Gt.lookahead&&(Gt.match_length=Gt.lookahead)}if(Gt.match_length>=3?(kt=_e._tr_tally(Gt,1,Gt.match_length-3),Gt.lookahead-=Gt.match_length,Gt.strstart+=Gt.match_length,Gt.match_length=0):(kt=_e._tr_tally(Gt,0,Gt.window[Gt.strstart]),Gt.lookahead--,Gt.strstart++),kt&&(ft(Gt,!1),Gt.strm.avail_out===0))return 1}return Gt.insert=0,Ht===4?(ft(Gt,!0),Gt.strm.avail_out===0?3:4):Gt.last_lit&&(ft(Gt,!1),Gt.strm.avail_out===0)?1:2}(Bt,St):_[Bt.level].func(Bt,St);if(Wt!==3&&Wt!==4||(Bt.status=666),Wt===1||Wt===3)return Ft.avail_out===0&&(Bt.last_flush=-1),0;if(Wt===2&&(St===1?_e._tr_align(Bt):St!==5&&(_e._tr_stored_block(Bt,0,0,!1),St===3&&(gt(Bt.head),Bt.lookahead===0&&(Bt.strstart=0,Bt.block_start=0,Bt.insert=0))),pt(Ft),Ft.avail_out===0))return Bt.last_flush=-1,0}return St!==4?0:Bt.wrap<=0?1:(Bt.wrap===2?(ut(Bt,255&Ft.adler),ut(Bt,Ft.adler>>8&255),ut(Bt,Ft.adler>>16&255),ut(Bt,Ft.adler>>24&255),ut(Bt,255&Ft.total_in),ut(Bt,Ft.total_in>>8&255),ut(Bt,Ft.total_in>>16&255),ut(Bt,Ft.total_in>>24&255)):(yt(Bt,Ft.adler>>>16),yt(Bt,65535&Ft.adler)),pt(Ft),Bt.wrap>0&&(Bt.wrap=-Bt.wrap),Bt.pending!==0?0:1)},o.deflateEnd=function(Ft){var St;return Ft&&Ft.state?(St=Ft.state.status)!==42&&St!==69&&St!==73&&St!==91&&St!==103&&St!==113&&St!==666?ot(Ft,-2):(Ft.state=null,St===113?ot(Ft,-3):0):-2},o.deflateSetDictionary=function(Ft,St){var Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt=St.length;if(!Ft||!Ft.state||(qt=(Pt=Ft.state).wrap)===2||qt===1&&Pt.status!==42||Pt.lookahead)return-2;for(qt===1&&(Ft.adler=et(Ft.adler,St,kt,0)),Pt.wrap=0,kt>=Pt.w_size&&(qt===0&&(gt(Pt.head),Pt.strstart=0,Pt.block_start=0,Pt.insert=0),Ht=new $.Buf8(Pt.w_size),$.arraySet(Ht,St,kt-Pt.w_size,Pt.w_size,0),St=Ht,kt=Pt.w_size),Zt=Ft.avail_in,Wt=Ft.next_in,Gt=Ft.input,Ft.avail_in=kt,Ft.next_in=0,Ft.input=St,Qt(Pt);Pt.lookahead>=3;){Bt=Pt.strstart,jt=Pt.lookahead-2;do Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[Bt+3-1])&Pt.hash_mask,Pt.prev[Bt&Pt.w_mask]=Pt.head[Pt.ins_h],Pt.head[Pt.ins_h]=Bt,Bt++;while(--jt);Pt.strstart=Bt,Pt.lookahead=2,Qt(Pt)}return Pt.strstart+=Pt.lookahead,Pt.block_start=Pt.strstart,Pt.insert=Pt.lookahead,Pt.lookahead=0,Pt.match_length=Pt.prev_length=2,Pt.match_available=0,Ft.next_in=Wt,Ft.input=Gt,Ft.avail_in=Zt,Pt.wrap=qt,0},o.deflateInfo="pako deflate (from Nodeca project)"},function(i,o,s){var _=s(37);function $(Rt){for(var $t=Rt.length;--$t>=0;)Rt[$t]=0}var _e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],et=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=new Array(576);$(ot);var ct=new Array(60);$(ct);var gt=new Array(512);$(gt);var pt=new Array(256);$(pt);var ft=new Array(29);$(ft);var ut,yt,wt,Qt=new Array(30);function It(Rt,$t,nn,Un,Fn){this.static_tree=Rt,this.extra_bits=$t,this.extra_base=nn,this.elems=Un,this.max_length=Fn,this.has_stree=Rt&&Rt.length}function xt(Rt,$t){this.dyn_tree=Rt,this.max_code=0,this.stat_desc=$t}function Tt(Rt){return Rt<256?gt[Rt]:gt[256+(Rt>>>7)]}function mt(Rt,$t){Rt.pending_buf[Rt.pending++]=255&$t,Rt.pending_buf[Rt.pending++]=$t>>>8&255}function Nt(Rt,$t,nn){Rt.bi_valid>16-nn?(Rt.bi_buf|=$t<<Rt.bi_valid&65535,mt(Rt,Rt.bi_buf),Rt.bi_buf=$t>>16-Rt.bi_valid,Rt.bi_valid+=nn-16):(Rt.bi_buf|=$t<<Rt.bi_valid&65535,Rt.bi_valid+=nn)}function en(Rt,$t,nn){Nt(Rt,nn[2*$t],nn[2*$t+1])}function rn(Rt,$t){var nn=0;do nn|=1&Rt,Rt>>>=1,nn<<=1;while(--$t>0);return nn>>>1}function Ft(Rt,$t,nn){var Un,Fn,En=new Array(16),fn=0;for(Un=1;Un<=15;Un++)En[Un]=fn=fn+nn[Un-1]<<1;for(Fn=0;Fn<=$t;Fn++){var sn=Rt[2*Fn+1];sn!==0&&(Rt[2*Fn]=rn(En[sn]++,sn))}}function St(Rt){var $t;for($t=0;$t<286;$t++)Rt.dyn_ltree[2*$t]=0;for($t=0;$t<30;$t++)Rt.dyn_dtree[2*$t]=0;for($t=0;$t<19;$t++)Rt.bl_tree[2*$t]=0;Rt.dyn_ltree[512]=1,Rt.opt_len=Rt.static_len=0,Rt.last_lit=Rt.matches=0}function Pt(Rt){Rt.bi_valid>8?mt(Rt,Rt.bi_buf):Rt.bi_valid>0&&(Rt.pending_buf[Rt.pending++]=Rt.bi_buf),Rt.bi_buf=0,Rt.bi_valid=0}function Bt(Rt,$t,nn,Un){var Fn=2*$t,En=2*nn;return Rt[Fn]<Rt[En]||Rt[Fn]===Rt[En]&&Un[$t]<=Un[nn]}function jt(Rt,$t,nn){for(var Un=Rt.heap[nn],Fn=nn<<1;Fn<=Rt.heap_len&&(Fn<Rt.heap_len&&Bt($t,Rt.heap[Fn+1],Rt.heap[Fn],Rt.depth)&&Fn++,!Bt($t,Un,Rt.heap[Fn],Rt.depth));)Rt.heap[nn]=Rt.heap[Fn],nn=Fn,Fn<<=1;Rt.heap[nn]=Un}function qt(Rt,$t,nn){var Un,Fn,En,fn,sn=0;if(Rt.last_lit!==0)do Un=Rt.pending_buf[Rt.d_buf+2*sn]<<8|Rt.pending_buf[Rt.d_buf+2*sn+1],Fn=Rt.pending_buf[Rt.l_buf+sn],sn++,Un===0?en(Rt,Fn,$t):(en(Rt,(En=pt[Fn])+256+1,$t),(fn=_e[En])!==0&&Nt(Rt,Fn-=ft[En],fn),en(Rt,En=Tt(--Un),nn),(fn=et[En])!==0&&Nt(Rt,Un-=Qt[En],fn));while(sn<Rt.last_lit);en(Rt,256,$t)}function Zt(Rt,$t){var nn,Un,Fn,En=$t.dyn_tree,fn=$t.stat_desc.static_tree,sn=$t.stat_desc.has_stree,Ct=$t.stat_desc.elems,Dt=-1;for(Rt.heap_len=0,Rt.heap_max=573,nn=0;nn<Ct;nn++)En[2*nn]!==0?(Rt.heap[++Rt.heap_len]=Dt=nn,Rt.depth[nn]=0):En[2*nn+1]=0;for(;Rt.heap_len<2;)En[2*(Fn=Rt.heap[++Rt.heap_len]=Dt<2?++Dt:0)]=1,Rt.depth[Fn]=0,Rt.opt_len--,sn&&(Rt.static_len-=fn[2*Fn+1]);for($t.max_code=Dt,nn=Rt.heap_len>>1;nn>=1;nn--)jt(Rt,En,nn);Fn=Ct;do nn=Rt.heap[1],Rt.heap[1]=Rt.heap[Rt.heap_len--],jt(Rt,En,1),Un=Rt.heap[1],Rt.heap[--Rt.heap_max]=nn,Rt.heap[--Rt.heap_max]=Un,En[2*Fn]=En[2*nn]+En[2*Un],Rt.depth[Fn]=(Rt.depth[nn]>=Rt.depth[Un]?Rt.depth[nn]:Rt.depth[Un])+1,En[2*nn+1]=En[2*Un+1]=Fn,Rt.heap[1]=Fn++,jt(Rt,En,1);while(Rt.heap_len>=2);Rt.heap[--Rt.heap_max]=Rt.heap[1],function(Xt,_n){var mn,xn,On,nr,Nr,co,Zr=_n.dyn_tree,mo=_n.max_code,qr=_n.stat_desc.static_tree,io=_n.stat_desc.has_stree,lo=_n.stat_desc.extra_bits,Vo=_n.stat_desc.extra_base,Io=_n.stat_desc.max_length,Go=0;for(nr=0;nr<=15;nr++)Xt.bl_count[nr]=0;for(Zr[2*Xt.heap[Xt.heap_max]+1]=0,mn=Xt.heap_max+1;mn<573;mn++)(nr=Zr[2*Zr[2*(xn=Xt.heap[mn])+1]+1]+1)>Io&&(nr=Io,Go++),Zr[2*xn+1]=nr,xn>mo||(Xt.bl_count[nr]++,Nr=0,xn>=Vo&&(Nr=lo[xn-Vo]),co=Zr[2*xn],Xt.opt_len+=co*(nr+Nr),io&&(Xt.static_len+=co*(qr[2*xn+1]+Nr)));if(Go!==0){do{for(nr=Io-1;Xt.bl_count[nr]===0;)nr--;Xt.bl_count[nr]--,Xt.bl_count[nr+1]+=2,Xt.bl_count[Io]--,Go-=2}while(Go>0);for(nr=Io;nr!==0;nr--)for(xn=Xt.bl_count[nr];xn!==0;)(On=Xt.heap[--mn])>mo||(Zr[2*On+1]!==nr&&(Xt.opt_len+=(nr-Zr[2*On+1])*Zr[2*On],Zr[2*On+1]=nr),xn--)}}(Rt,$t),Ft(En,Dt,Rt.bl_count)}function Wt(Rt,$t,nn){var Un,Fn,En=-1,fn=$t[1],sn=0,Ct=7,Dt=4;for(fn===0&&(Ct=138,Dt=3),$t[2*(nn+1)+1]=65535,Un=0;Un<=nn;Un++)Fn=fn,fn=$t[2*(Un+1)+1],++sn<Ct&&Fn===fn||(sn<Dt?Rt.bl_tree[2*Fn]+=sn:Fn!==0?(Fn!==En&&Rt.bl_tree[2*Fn]++,Rt.bl_tree[32]++):sn<=10?Rt.bl_tree[34]++:Rt.bl_tree[36]++,sn=0,En=Fn,fn===0?(Ct=138,Dt=3):Fn===fn?(Ct=6,Dt=3):(Ct=7,Dt=4))}function Gt(Rt,$t,nn){var Un,Fn,En=-1,fn=$t[1],sn=0,Ct=7,Dt=4;for(fn===0&&(Ct=138,Dt=3),Un=0;Un<=nn;Un++)if(Fn=fn,fn=$t[2*(Un+1)+1],!(++sn<Ct&&Fn===fn)){if(sn<Dt)do en(Rt,Fn,Rt.bl_tree);while(--sn!=0);else Fn!==0?(Fn!==En&&(en(Rt,Fn,Rt.bl_tree),sn--),en(Rt,16,Rt.bl_tree),Nt(Rt,sn-3,2)):sn<=10?(en(Rt,17,Rt.bl_tree),Nt(Rt,sn-3,3)):(en(Rt,18,Rt.bl_tree),Nt(Rt,sn-11,7));sn=0,En=Fn,fn===0?(Ct=138,Dt=3):Fn===fn?(Ct=6,Dt=3):(Ct=7,Dt=4)}}$(Qt);var Ht=!1;function kt(Rt,$t,nn,Un){Nt(Rt,0+(Un?1:0),3),function(Fn,En,fn,sn){Pt(Fn),sn&&(mt(Fn,fn),mt(Fn,~fn)),_.arraySet(Fn.pending_buf,Fn.window,En,fn,Fn.pending),Fn.pending+=fn}(Rt,$t,nn,!0)}o._tr_init=function(Rt){Ht||(function(){var $t,nn,Un,Fn,En,fn=new Array(16);for(Un=0,Fn=0;Fn<28;Fn++)for(ft[Fn]=Un,$t=0;$t<1<<_e[Fn];$t++)pt[Un++]=Fn;for(pt[Un-1]=Fn,En=0,Fn=0;Fn<16;Fn++)for(Qt[Fn]=En,$t=0;$t<1<<et[Fn];$t++)gt[En++]=Fn;for(En>>=7;Fn<30;Fn++)for(Qt[Fn]=En<<7,$t=0;$t<1<<et[Fn]-7;$t++)gt[256+En++]=Fn;for(nn=0;nn<=15;nn++)fn[nn]=0;for($t=0;$t<=143;)ot[2*$t+1]=8,$t++,fn[8]++;for(;$t<=255;)ot[2*$t+1]=9,$t++,fn[9]++;for(;$t<=279;)ot[2*$t+1]=7,$t++,fn[7]++;for(;$t<=287;)ot[2*$t+1]=8,$t++,fn[8]++;for(Ft(ot,287,fn),$t=0;$t<30;$t++)ct[2*$t+1]=5,ct[2*$t]=rn($t,5);ut=new It(ot,_e,257,286,15),yt=new It(ct,et,0,30,15),wt=new It(new Array(0),j,0,19,7)}(),Ht=!0),Rt.l_desc=new xt(Rt.dyn_ltree,ut),Rt.d_desc=new xt(Rt.dyn_dtree,yt),Rt.bl_desc=new xt(Rt.bl_tree,wt),Rt.bi_buf=0,Rt.bi_valid=0,St(Rt)},o._tr_stored_block=kt,o._tr_flush_block=function(Rt,$t,nn,Un){var Fn,En,fn=0;Rt.level>0?(Rt.strm.data_type===2&&(Rt.strm.data_type=function(sn){var Ct,Dt=4093624447;for(Ct=0;Ct<=31;Ct++,Dt>>>=1)if(1&Dt&&sn.dyn_ltree[2*Ct]!==0)return 0;if(sn.dyn_ltree[18]!==0||sn.dyn_ltree[20]!==0||sn.dyn_ltree[26]!==0)return 1;for(Ct=32;Ct<256;Ct++)if(sn.dyn_ltree[2*Ct]!==0)return 1;return 0}(Rt)),Zt(Rt,Rt.l_desc),Zt(Rt,Rt.d_desc),fn=function(sn){var Ct;for(Wt(sn,sn.dyn_ltree,sn.l_desc.max_code),Wt(sn,sn.dyn_dtree,sn.d_desc.max_code),Zt(sn,sn.bl_desc),Ct=18;Ct>=3&&sn.bl_tree[2*nt[Ct]+1]===0;Ct--);return sn.opt_len+=3*(Ct+1)+5+5+4,Ct}(Rt),Fn=Rt.opt_len+3+7>>>3,(En=Rt.static_len+3+7>>>3)<=Fn&&(Fn=En)):Fn=En=nn+5,nn+4<=Fn&&$t!==-1?kt(Rt,$t,nn,Un):Rt.strategy===4||En===Fn?(Nt(Rt,2+(Un?1:0),3),qt(Rt,ot,ct)):(Nt(Rt,4+(Un?1:0),3),function(sn,Ct,Dt,Xt){var _n;for(Nt(sn,Ct-257,5),Nt(sn,Dt-1,5),Nt(sn,Xt-4,4),_n=0;_n<Xt;_n++)Nt(sn,sn.bl_tree[2*nt[_n]+1],3);Gt(sn,sn.dyn_ltree,Ct-1),Gt(sn,sn.dyn_dtree,Dt-1)}(Rt,Rt.l_desc.max_code+1,Rt.d_desc.max_code+1,fn+1),qt(Rt,Rt.dyn_ltree,Rt.dyn_dtree)),St(Rt),Un&&Pt(Rt)},o._tr_tally=function(Rt,$t,nn){return Rt.pending_buf[Rt.d_buf+2*Rt.last_lit]=$t>>>8&255,Rt.pending_buf[Rt.d_buf+2*Rt.last_lit+1]=255&$t,Rt.pending_buf[Rt.l_buf+Rt.last_lit]=255&nn,Rt.last_lit++,$t===0?Rt.dyn_ltree[2*nn]++:(Rt.matches++,$t--,Rt.dyn_ltree[2*(pt[nn]+256+1)]++,Rt.dyn_dtree[2*Tt($t)]++),Rt.last_lit===Rt.lit_bufsize-1},o._tr_align=function(Rt){Nt(Rt,2,3),en(Rt,256,ot),function($t){$t.bi_valid===16?(mt($t,$t.bi_buf),$t.bi_buf=0,$t.bi_valid=0):$t.bi_valid>=8&&($t.pending_buf[$t.pending++]=255&$t.bi_buf,$t.bi_buf>>=8,$t.bi_valid-=8)}(Rt)}},function(i,o,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(i,o,s){var _=s(37),$=s(75),_e=s(76),et=s(176),j=s(177);function nt(xt){return(xt>>>24&255)+(xt>>>8&65280)+((65280&xt)<<8)+((255&xt)<<24)}function ot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ct(xt){var Tt;return xt&&xt.state?(Tt=xt.state,xt.total_in=xt.total_out=Tt.total=0,xt.msg="",Tt.wrap&&(xt.adler=1&Tt.wrap),Tt.mode=1,Tt.last=0,Tt.havedict=0,Tt.dmax=32768,Tt.head=null,Tt.hold=0,Tt.bits=0,Tt.lencode=Tt.lendyn=new _.Buf32(852),Tt.distcode=Tt.distdyn=new _.Buf32(592),Tt.sane=1,Tt.back=-1,0):-2}function gt(xt){var Tt;return xt&&xt.state?((Tt=xt.state).wsize=0,Tt.whave=0,Tt.wnext=0,ct(xt)):-2}function pt(xt,Tt){var mt,Nt;return xt&&xt.state?(Nt=xt.state,Tt<0?(mt=0,Tt=-Tt):(mt=1+(Tt>>4),Tt<48&&(Tt&=15)),Tt&&(Tt<8||Tt>15)?-2:(Nt.window!==null&&Nt.wbits!==Tt&&(Nt.window=null),Nt.wrap=mt,Nt.wbits=Tt,gt(xt))):-2}function ft(xt,Tt){var mt,Nt;return xt?(Nt=new ot,xt.state=Nt,Nt.window=null,(mt=pt(xt,Tt))!==0&&(xt.state=null),mt):-2}var ut,yt,wt=!0;function Qt(xt){if(wt){var Tt;for(ut=new _.Buf32(512),yt=new _.Buf32(32),Tt=0;Tt<144;)xt.lens[Tt++]=8;for(;Tt<256;)xt.lens[Tt++]=9;for(;Tt<280;)xt.lens[Tt++]=7;for(;Tt<288;)xt.lens[Tt++]=8;for(j(1,xt.lens,0,288,ut,0,xt.work,{bits:9}),Tt=0;Tt<32;)xt.lens[Tt++]=5;j(2,xt.lens,0,32,yt,0,xt.work,{bits:5}),wt=!1}xt.lencode=ut,xt.lenbits=9,xt.distcode=yt,xt.distbits=5}function It(xt,Tt,mt,Nt){var en,rn=xt.state;return rn.window===null&&(rn.wsize=1<<rn.wbits,rn.wnext=0,rn.whave=0,rn.window=new _.Buf8(rn.wsize)),Nt>=rn.wsize?(_.arraySet(rn.window,Tt,mt-rn.wsize,rn.wsize,0),rn.wnext=0,rn.whave=rn.wsize):((en=rn.wsize-rn.wnext)>Nt&&(en=Nt),_.arraySet(rn.window,Tt,mt-Nt,en,rn.wnext),(Nt-=en)?(_.arraySet(rn.window,Tt,mt-Nt,Nt,0),rn.wnext=Nt,rn.whave=rn.wsize):(rn.wnext+=en,rn.wnext===rn.wsize&&(rn.wnext=0),rn.whave<rn.wsize&&(rn.whave+=en))),0}o.inflateReset=gt,o.inflateReset2=pt,o.inflateResetKeep=ct,o.inflateInit=function(xt){return ft(xt,15)},o.inflateInit2=ft,o.inflate=function(xt,Tt){var mt,Nt,en,rn,Ft,St,Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt,Rt,$t,nn,Un,Fn,En,fn,sn,Ct,Dt=0,Xt=new _.Buf8(4),_n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!xt||!xt.state||!xt.output||!xt.input&&xt.avail_in!==0)return-2;(mt=xt.state).mode===12&&(mt.mode=13),Ft=xt.next_out,en=xt.output,Pt=xt.avail_out,rn=xt.next_in,Nt=xt.input,St=xt.avail_in,Bt=mt.hold,jt=mt.bits,qt=St,Zt=Pt,fn=0;e:for(;;)switch(mt.mode){case 1:if(mt.wrap===0){mt.mode=13;break}for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(2&mt.wrap&&Bt===35615){mt.check=0,Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,mt.check=_e(mt.check,Xt,2,0),Bt=0,jt=0,mt.mode=2;break}if(mt.flags=0,mt.head&&(mt.head.done=!1),!(1&mt.wrap)||(((255&Bt)<<8)+(Bt>>8))%31){xt.msg="incorrect header check",mt.mode=30;break}if((15&Bt)!=8){xt.msg="unknown compression method",mt.mode=30;break}if(jt-=4,En=8+(15&(Bt>>>=4)),mt.wbits===0)mt.wbits=En;else if(En>mt.wbits){xt.msg="invalid window size",mt.mode=30;break}mt.dmax=1<<En,xt.adler=mt.check=1,mt.mode=512&Bt?10:12,Bt=0,jt=0;break;case 2:for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(mt.flags=Bt,(255&mt.flags)!=8){xt.msg="unknown compression method",mt.mode=30;break}if(57344&mt.flags){xt.msg="unknown header flags set",mt.mode=30;break}mt.head&&(mt.head.text=Bt>>8&1),512&mt.flags&&(Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,mt.check=_e(mt.check,Xt,2,0)),Bt=0,jt=0,mt.mode=3;case 3:for(;jt<32;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.head&&(mt.head.time=Bt),512&mt.flags&&(Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,Xt[2]=Bt>>>16&255,Xt[3]=Bt>>>24&255,mt.check=_e(mt.check,Xt,4,0)),Bt=0,jt=0,mt.mode=4;case 4:for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.head&&(mt.head.xflags=255&Bt,mt.head.os=Bt>>8),512&mt.flags&&(Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,mt.check=_e(mt.check,Xt,2,0)),Bt=0,jt=0,mt.mode=5;case 5:if(1024&mt.flags){for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.length=Bt,mt.head&&(mt.head.extra_len=Bt),512&mt.flags&&(Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,mt.check=_e(mt.check,Xt,2,0)),Bt=0,jt=0}else mt.head&&(mt.head.extra=null);mt.mode=6;case 6:if(1024&mt.flags&&((Wt=mt.length)>St&&(Wt=St),Wt&&(mt.head&&(En=mt.head.extra_len-mt.length,mt.head.extra||(mt.head.extra=new Array(mt.head.extra_len)),_.arraySet(mt.head.extra,Nt,rn,Wt,En)),512&mt.flags&&(mt.check=_e(mt.check,Nt,Wt,rn)),St-=Wt,rn+=Wt,mt.length-=Wt),mt.length))break e;mt.length=0,mt.mode=7;case 7:if(2048&mt.flags){if(St===0)break e;Wt=0;do En=Nt[rn+Wt++],mt.head&&En&&mt.length<65536&&(mt.head.name+=String.fromCharCode(En));while(En&&Wt<St);if(512&mt.flags&&(mt.check=_e(mt.check,Nt,Wt,rn)),St-=Wt,rn+=Wt,En)break e}else mt.head&&(mt.head.name=null);mt.length=0,mt.mode=8;case 8:if(4096&mt.flags){if(St===0)break e;Wt=0;do En=Nt[rn+Wt++],mt.head&&En&&mt.length<65536&&(mt.head.comment+=String.fromCharCode(En));while(En&&Wt<St);if(512&mt.flags&&(mt.check=_e(mt.check,Nt,Wt,rn)),St-=Wt,rn+=Wt,En)break e}else mt.head&&(mt.head.comment=null);mt.mode=9;case 9:if(512&mt.flags){for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(Bt!==(65535&mt.check)){xt.msg="header crc mismatch",mt.mode=30;break}Bt=0,jt=0}mt.head&&(mt.head.hcrc=mt.flags>>9&1,mt.head.done=!0),xt.adler=mt.check=0,mt.mode=12;break;case 10:for(;jt<32;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}xt.adler=mt.check=nt(Bt),Bt=0,jt=0,mt.mode=11;case 11:if(mt.havedict===0)return xt.next_out=Ft,xt.avail_out=Pt,xt.next_in=rn,xt.avail_in=St,mt.hold=Bt,mt.bits=jt,2;xt.adler=mt.check=1,mt.mode=12;case 12:if(Tt===5||Tt===6)break e;case 13:if(mt.last){Bt>>>=7&jt,jt-=7&jt,mt.mode=27;break}for(;jt<3;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}switch(mt.last=1&Bt,jt-=1,3&(Bt>>>=1)){case 0:mt.mode=14;break;case 1:if(Qt(mt),mt.mode=20,Tt===6){Bt>>>=2,jt-=2;break e}break;case 2:mt.mode=17;break;case 3:xt.msg="invalid block type",mt.mode=30}Bt>>>=2,jt-=2;break;case 14:for(Bt>>>=7&jt,jt-=7&jt;jt<32;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if((65535&Bt)!=(Bt>>>16^65535)){xt.msg="invalid stored block lengths",mt.mode=30;break}if(mt.length=65535&Bt,Bt=0,jt=0,mt.mode=15,Tt===6)break e;case 15:mt.mode=16;case 16:if(Wt=mt.length){if(Wt>St&&(Wt=St),Wt>Pt&&(Wt=Pt),Wt===0)break e;_.arraySet(en,Nt,rn,Wt,Ft),St-=Wt,rn+=Wt,Pt-=Wt,Ft+=Wt,mt.length-=Wt;break}mt.mode=12;break;case 17:for(;jt<14;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(mt.nlen=257+(31&Bt),Bt>>>=5,jt-=5,mt.ndist=1+(31&Bt),Bt>>>=5,jt-=5,mt.ncode=4+(15&Bt),Bt>>>=4,jt-=4,mt.nlen>286||mt.ndist>30){xt.msg="too many length or distance symbols",mt.mode=30;break}mt.have=0,mt.mode=18;case 18:for(;mt.have<mt.ncode;){for(;jt<3;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.lens[_n[mt.have++]]=7&Bt,Bt>>>=3,jt-=3}for(;mt.have<19;)mt.lens[_n[mt.have++]]=0;if(mt.lencode=mt.lendyn,mt.lenbits=7,sn={bits:mt.lenbits},fn=j(0,mt.lens,0,19,mt.lencode,0,mt.work,sn),mt.lenbits=sn.bits,fn){xt.msg="invalid code lengths set",mt.mode=30;break}mt.have=0,mt.mode=19;case 19:for(;mt.have<mt.nlen+mt.ndist;){for(;Rt=(Dt=mt.lencode[Bt&(1<<mt.lenbits)-1])>>>16&255,$t=65535&Dt,!((kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if($t<16)Bt>>>=kt,jt-=kt,mt.lens[mt.have++]=$t;else{if($t===16){for(Ct=kt+2;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(Bt>>>=kt,jt-=kt,mt.have===0){xt.msg="invalid bit length repeat",mt.mode=30;break}En=mt.lens[mt.have-1],Wt=3+(3&Bt),Bt>>>=2,jt-=2}else if($t===17){for(Ct=kt+3;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}jt-=kt,En=0,Wt=3+(7&(Bt>>>=kt)),Bt>>>=3,jt-=3}else{for(Ct=kt+7;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}jt-=kt,En=0,Wt=11+(127&(Bt>>>=kt)),Bt>>>=7,jt-=7}if(mt.have+Wt>mt.nlen+mt.ndist){xt.msg="invalid bit length repeat",mt.mode=30;break}for(;Wt--;)mt.lens[mt.have++]=En}}if(mt.mode===30)break;if(mt.lens[256]===0){xt.msg="invalid code -- missing end-of-block",mt.mode=30;break}if(mt.lenbits=9,sn={bits:mt.lenbits},fn=j(1,mt.lens,0,mt.nlen,mt.lencode,0,mt.work,sn),mt.lenbits=sn.bits,fn){xt.msg="invalid literal/lengths set",mt.mode=30;break}if(mt.distbits=6,mt.distcode=mt.distdyn,sn={bits:mt.distbits},fn=j(2,mt.lens,mt.nlen,mt.ndist,mt.distcode,0,mt.work,sn),mt.distbits=sn.bits,fn){xt.msg="invalid distances set",mt.mode=30;break}if(mt.mode=20,Tt===6)break e;case 20:mt.mode=21;case 21:if(St>=6&&Pt>=258){xt.next_out=Ft,xt.avail_out=Pt,xt.next_in=rn,xt.avail_in=St,mt.hold=Bt,mt.bits=jt,et(xt,Zt),Ft=xt.next_out,en=xt.output,Pt=xt.avail_out,rn=xt.next_in,Nt=xt.input,St=xt.avail_in,Bt=mt.hold,jt=mt.bits,mt.mode===12&&(mt.back=-1);break}for(mt.back=0;Rt=(Dt=mt.lencode[Bt&(1<<mt.lenbits)-1])>>>16&255,$t=65535&Dt,!((kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(Rt&&!(240&Rt)){for(nn=kt,Un=Rt,Fn=$t;Rt=(Dt=mt.lencode[Fn+((Bt&(1<<nn+Un)-1)>>nn)])>>>16&255,$t=65535&Dt,!(nn+(kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}Bt>>>=nn,jt-=nn,mt.back+=nn}if(Bt>>>=kt,jt-=kt,mt.back+=kt,mt.length=$t,Rt===0){mt.mode=26;break}if(32&Rt){mt.back=-1,mt.mode=12;break}if(64&Rt){xt.msg="invalid literal/length code",mt.mode=30;break}mt.extra=15&Rt,mt.mode=22;case 22:if(mt.extra){for(Ct=mt.extra;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.length+=Bt&(1<<mt.extra)-1,Bt>>>=mt.extra,jt-=mt.extra,mt.back+=mt.extra}mt.was=mt.length,mt.mode=23;case 23:for(;Rt=(Dt=mt.distcode[Bt&(1<<mt.distbits)-1])>>>16&255,$t=65535&Dt,!((kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(!(240&Rt)){for(nn=kt,Un=Rt,Fn=$t;Rt=(Dt=mt.distcode[Fn+((Bt&(1<<nn+Un)-1)>>nn)])>>>16&255,$t=65535&Dt,!(nn+(kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}Bt>>>=nn,jt-=nn,mt.back+=nn}if(Bt>>>=kt,jt-=kt,mt.back+=kt,64&Rt){xt.msg="invalid distance code",mt.mode=30;break}mt.offset=$t,mt.extra=15&Rt,mt.mode=24;case 24:if(mt.extra){for(Ct=mt.extra;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.offset+=Bt&(1<<mt.extra)-1,Bt>>>=mt.extra,jt-=mt.extra,mt.back+=mt.extra}if(mt.offset>mt.dmax){xt.msg="invalid distance too far back",mt.mode=30;break}mt.mode=25;case 25:if(Pt===0)break e;if(Wt=Zt-Pt,mt.offset>Wt){if((Wt=mt.offset-Wt)>mt.whave&&mt.sane){xt.msg="invalid distance too far back",mt.mode=30;break}Wt>mt.wnext?(Wt-=mt.wnext,Gt=mt.wsize-Wt):Gt=mt.wnext-Wt,Wt>mt.length&&(Wt=mt.length),Ht=mt.window}else Ht=en,Gt=Ft-mt.offset,Wt=mt.length;Wt>Pt&&(Wt=Pt),Pt-=Wt,mt.length-=Wt;do en[Ft++]=Ht[Gt++];while(--Wt);mt.length===0&&(mt.mode=21);break;case 26:if(Pt===0)break e;en[Ft++]=mt.length,Pt--,mt.mode=21;break;case 27:if(mt.wrap){for(;jt<32;){if(St===0)break e;St--,Bt|=Nt[rn++]<<jt,jt+=8}if(Zt-=Pt,xt.total_out+=Zt,mt.total+=Zt,Zt&&(xt.adler=mt.check=mt.flags?_e(mt.check,en,Zt,Ft-Zt):$(mt.check,en,Zt,Ft-Zt)),Zt=Pt,(mt.flags?Bt:nt(Bt))!==mt.check){xt.msg="incorrect data check",mt.mode=30;break}Bt=0,jt=0}mt.mode=28;case 28:if(mt.wrap&&mt.flags){for(;jt<32;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(Bt!==(4294967295&mt.total)){xt.msg="incorrect length check",mt.mode=30;break}Bt=0,jt=0}mt.mode=29;case 29:fn=1;break e;case 30:fn=-3;break e;case 31:return-4;case 32:default:return-2}return xt.next_out=Ft,xt.avail_out=Pt,xt.next_in=rn,xt.avail_in=St,mt.hold=Bt,mt.bits=jt,(mt.wsize||Zt!==xt.avail_out&&mt.mode<30&&(mt.mode<27||Tt!==4))&&It(xt,xt.output,xt.next_out,Zt-xt.avail_out)?(mt.mode=31,-4):(qt-=xt.avail_in,Zt-=xt.avail_out,xt.total_in+=qt,xt.total_out+=Zt,mt.total+=Zt,mt.wrap&&Zt&&(xt.adler=mt.check=mt.flags?_e(mt.check,en,Zt,xt.next_out-Zt):$(mt.check,en,Zt,xt.next_out-Zt)),xt.data_type=mt.bits+(mt.last?64:0)+(mt.mode===12?128:0)+(mt.mode===20||mt.mode===15?256:0),(qt===0&&Zt===0||Tt===4)&&fn===0&&(fn=-5),fn)},o.inflateEnd=function(xt){if(!xt||!xt.state)return-2;var Tt=xt.state;return Tt.window&&(Tt.window=null),xt.state=null,0},o.inflateGetHeader=function(xt,Tt){var mt;return xt&&xt.state&&2&(mt=xt.state).wrap?(mt.head=Tt,Tt.done=!1,0):-2},o.inflateSetDictionary=function(xt,Tt){var mt,Nt=Tt.length;return xt&&xt.state?(mt=xt.state).wrap!==0&&mt.mode!==11?-2:mt.mode===11&&$(1,Tt,Nt,0)!==mt.check?-3:It(xt,Tt,Nt,Nt)?(mt.mode=31,-4):(mt.havedict=1,0):-2},o.inflateInfo="pako inflate (from Nodeca project)"},function(i,o,s){i.exports=function(_,$){var _e,et,j,nt,ot,ct,gt,pt,ft,ut,yt,wt,Qt,It,xt,Tt,mt,Nt,en,rn,Ft,St,Pt,Bt,jt;_e=_.state,et=_.next_in,Bt=_.input,j=et+(_.avail_in-5),nt=_.next_out,jt=_.output,ot=nt-($-_.avail_out),ct=nt+(_.avail_out-257),gt=_e.dmax,pt=_e.wsize,ft=_e.whave,ut=_e.wnext,yt=_e.window,wt=_e.hold,Qt=_e.bits,It=_e.lencode,xt=_e.distcode,Tt=(1<<_e.lenbits)-1,mt=(1<<_e.distbits)-1;e:do{Qt<15&&(wt+=Bt[et++]<<Qt,Qt+=8,wt+=Bt[et++]<<Qt,Qt+=8),Nt=It[wt&Tt];t:for(;;){if(wt>>>=en=Nt>>>24,Qt-=en,(en=Nt>>>16&255)===0)jt[nt++]=65535&Nt;else{if(!(16&en)){if(!(64&en)){Nt=It[(65535&Nt)+(wt&(1<<en)-1)];continue t}if(32&en){_e.mode=12;break e}_.msg="invalid literal/length code",_e.mode=30;break e}rn=65535&Nt,(en&=15)&&(Qt<en&&(wt+=Bt[et++]<<Qt,Qt+=8),rn+=wt&(1<<en)-1,wt>>>=en,Qt-=en),Qt<15&&(wt+=Bt[et++]<<Qt,Qt+=8,wt+=Bt[et++]<<Qt,Qt+=8),Nt=xt[wt&mt];n:for(;;){if(wt>>>=en=Nt>>>24,Qt-=en,!(16&(en=Nt>>>16&255))){if(!(64&en)){Nt=xt[(65535&Nt)+(wt&(1<<en)-1)];continue n}_.msg="invalid distance code",_e.mode=30;break e}if(Ft=65535&Nt,Qt<(en&=15)&&(wt+=Bt[et++]<<Qt,(Qt+=8)<en&&(wt+=Bt[et++]<<Qt,Qt+=8)),(Ft+=wt&(1<<en)-1)>gt){_.msg="invalid distance too far back",_e.mode=30;break e}if(wt>>>=en,Qt-=en,Ft>(en=nt-ot)){if((en=Ft-en)>ft&&_e.sane){_.msg="invalid distance too far back",_e.mode=30;break e}if(St=0,Pt=yt,ut===0){if(St+=pt-en,en<rn){rn-=en;do jt[nt++]=yt[St++];while(--en);St=nt-Ft,Pt=jt}}else if(ut<en){if(St+=pt+ut-en,(en-=ut)<rn){rn-=en;do jt[nt++]=yt[St++];while(--en);if(St=0,ut<rn){rn-=en=ut;do jt[nt++]=yt[St++];while(--en);St=nt-Ft,Pt=jt}}}else if(St+=ut-en,en<rn){rn-=en;do jt[nt++]=yt[St++];while(--en);St=nt-Ft,Pt=jt}for(;rn>2;)jt[nt++]=Pt[St++],jt[nt++]=Pt[St++],jt[nt++]=Pt[St++],rn-=3;rn&&(jt[nt++]=Pt[St++],rn>1&&(jt[nt++]=Pt[St++]))}else{St=nt-Ft;do jt[nt++]=jt[St++],jt[nt++]=jt[St++],jt[nt++]=jt[St++],rn-=3;while(rn>2);rn&&(jt[nt++]=jt[St++],rn>1&&(jt[nt++]=jt[St++]))}break}}break}}while(et<j&&nt<ct);et-=rn=Qt>>3,wt&=(1<<(Qt-=rn<<3))-1,_.next_in=et,_.next_out=nt,_.avail_in=et<j?j-et+5:5-(et-j),_.avail_out=nt<ct?ct-nt+257:257-(nt-ct),_e.hold=wt,_e.bits=Qt}},function(i,o,s){var _=s(37),$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],et=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(nt,ot,ct,gt,pt,ft,ut,yt){var wt,Qt,It,xt,Tt,mt,Nt,en,rn,Ft=yt.bits,St=0,Pt=0,Bt=0,jt=0,qt=0,Zt=0,Wt=0,Gt=0,Ht=0,kt=0,Rt=null,$t=0,nn=new _.Buf16(16),Un=new _.Buf16(16),Fn=null,En=0;for(St=0;St<=15;St++)nn[St]=0;for(Pt=0;Pt<gt;Pt++)nn[ot[ct+Pt]]++;for(qt=Ft,jt=15;jt>=1&&nn[jt]===0;jt--);if(qt>jt&&(qt=jt),jt===0)return pt[ft++]=20971520,pt[ft++]=20971520,yt.bits=1,0;for(Bt=1;Bt<jt&&nn[Bt]===0;Bt++);for(qt<Bt&&(qt=Bt),Gt=1,St=1;St<=15;St++)if(Gt<<=1,(Gt-=nn[St])<0)return-1;if(Gt>0&&(nt===0||jt!==1))return-1;for(Un[1]=0,St=1;St<15;St++)Un[St+1]=Un[St]+nn[St];for(Pt=0;Pt<gt;Pt++)ot[ct+Pt]!==0&&(ut[Un[ot[ct+Pt]]++]=Pt);if(nt===0?(Rt=Fn=ut,mt=19):nt===1?(Rt=$,$t-=257,Fn=_e,En-=257,mt=256):(Rt=et,Fn=j,mt=-1),kt=0,Pt=0,St=Bt,Tt=ft,Zt=qt,Wt=0,It=-1,xt=(Ht=1<<qt)-1,nt===1&&Ht>852||nt===2&&Ht>592)return 1;for(;;){Nt=St-Wt,ut[Pt]<mt?(en=0,rn=ut[Pt]):ut[Pt]>mt?(en=Fn[En+ut[Pt]],rn=Rt[$t+ut[Pt]]):(en=96,rn=0),wt=1<<St-Wt,Bt=Qt=1<<Zt;do pt[Tt+(kt>>Wt)+(Qt-=wt)]=Nt<<24|en<<16|rn|0;while(Qt!==0);for(wt=1<<St-1;kt&wt;)wt>>=1;if(wt!==0?(kt&=wt-1,kt+=wt):kt=0,Pt++,--nn[St]==0){if(St===jt)break;St=ot[ct+ut[Pt]]}if(St>qt&&(kt&xt)!==It){for(Wt===0&&(Wt=qt),Tt+=Bt,Gt=1<<(Zt=St-Wt);Zt+Wt<jt&&!((Gt-=nn[Zt+Wt])<=0);)Zt++,Gt<<=1;if(Ht+=1<<Zt,nt===1&&Ht>852||nt===2&&Ht>592)return 1;pt[It=kt&xt]=qt<<24|Zt<<16|Tt-ft|0}}return kt!==0&&(pt[Tt+kt]=St-Wt<<24|64<<16|0),yt.bits=qt,0}},function(i,o,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(i,o){},function(i,o,s){function _(ot,ct){var gt=Object.keys(ot);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(ot);ct&&(pt=pt.filter(function(ft){return Object.getOwnPropertyDescriptor(ot,ft).enumerable})),gt.push.apply(gt,pt)}return gt}function $(ot,ct,gt){return ct in ot?Object.defineProperty(ot,ct,{value:gt,enumerable:!0,configurable:!0,writable:!0}):ot[ct]=gt,ot}function _e(ot,ct){for(var gt=0;gt<ct.length;gt++){var pt=ct[gt];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ot,pt.key,pt)}}var et=s(5).Buffer,j=s(181).inspect,nt=j&&j.custom||"inspect";i.exports=function(){function ot(){(function(pt,ft){if(!(pt instanceof ft))throw new TypeError("Cannot call a class as a function")})(this,ot),this.head=null,this.tail=null,this.length=0}var ct,gt;return ct=ot,(gt=[{key:"push",value:function(pt){var ft={data:pt,next:null};this.length>0?this.tail.next=ft:this.head=ft,this.tail=ft,++this.length}},{key:"unshift",value:function(pt){var ft={data:pt,next:this.head};this.length===0&&(this.tail=ft),this.head=ft,++this.length}},{key:"shift",value:function(){if(this.length!==0){var pt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,pt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(pt){if(this.length===0)return"";for(var ft=this.head,ut=""+ft.data;ft=ft.next;)ut+=pt+ft.data;return ut}},{key:"concat",value:function(pt){if(this.length===0)return et.alloc(0);for(var ft,ut,yt,wt=et.allocUnsafe(pt>>>0),Qt=this.head,It=0;Qt;)ft=Qt.data,ut=wt,yt=It,et.prototype.copy.call(ft,ut,yt),It+=Qt.data.length,Qt=Qt.next;return wt}},{key:"consume",value:function(pt,ft){var ut;return pt<this.head.data.length?(ut=this.head.data.slice(0,pt),this.head.data=this.head.data.slice(pt)):ut=pt===this.head.data.length?this.shift():ft?this._getString(pt):this._getBuffer(pt),ut}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(pt){var ft=this.head,ut=1,yt=ft.data;for(pt-=yt.length;ft=ft.next;){var wt=ft.data,Qt=pt>wt.length?wt.length:pt;if(Qt===wt.length?yt+=wt:yt+=wt.slice(0,pt),(pt-=Qt)==0){Qt===wt.length?(++ut,ft.next?this.head=ft.next:this.head=this.tail=null):(this.head=ft,ft.data=wt.slice(Qt));break}++ut}return this.length-=ut,yt}},{key:"_getBuffer",value:function(pt){var ft=et.allocUnsafe(pt),ut=this.head,yt=1;for(ut.data.copy(ft),pt-=ut.data.length;ut=ut.next;){var wt=ut.data,Qt=pt>wt.length?wt.length:pt;if(wt.copy(ft,ft.length-pt,0,Qt),(pt-=Qt)==0){Qt===wt.length?(++yt,ut.next?this.head=ut.next:this.head=this.tail=null):(this.head=ut,ut.data=wt.slice(Qt));break}++yt}return this.length-=yt,ft}},{key:nt,value:function(pt,ft){return j(this,function(ut){for(var yt=1;yt<arguments.length;yt++){var wt=arguments[yt]!=null?arguments[yt]:{};yt%2?_(Object(wt),!0).forEach(function(Qt){$(ut,Qt,wt[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(wt)):_(Object(wt)).forEach(function(Qt){Object.defineProperty(ut,Qt,Object.getOwnPropertyDescriptor(wt,Qt))})}return ut}({},ft,{depth:0,customInspect:!1}))}}])&&_e(ct.prototype,gt),ot}()},function(i,o){},function(i,o,s){(function(_){var $;function _e(xt,Tt,mt){return Tt in xt?Object.defineProperty(xt,Tt,{value:mt,enumerable:!0,configurable:!0,writable:!0}):xt[Tt]=mt,xt}var et=s(49),j=Symbol("lastResolve"),nt=Symbol("lastReject"),ot=Symbol("error"),ct=Symbol("ended"),gt=Symbol("lastPromise"),pt=Symbol("handlePromise"),ft=Symbol("stream");function ut(xt,Tt){return{value:xt,done:Tt}}function yt(xt){var Tt=xt[j];if(Tt!==null){var mt=xt[ft].read();mt!==null&&(xt[gt]=null,xt[j]=null,xt[nt]=null,Tt(ut(mt,!1)))}}function wt(xt){_.nextTick(yt,xt)}var Qt=Object.getPrototypeOf(function(){}),It=Object.setPrototypeOf((_e($={get stream(){return this[ft]},next:function(){var xt=this,Tt=this[ot];if(Tt!==null)return Promise.reject(Tt);if(this[ct])return Promise.resolve(ut(void 0,!0));if(this[ft].destroyed)return new Promise(function(rn,Ft){_.nextTick(function(){xt[ot]?Ft(xt[ot]):rn(ut(void 0,!0))})});var mt,Nt=this[gt];if(Nt)mt=new Promise(function(rn,Ft){return function(St,Pt){rn.then(function(){Ft[ct]?St(ut(void 0,!0)):Ft[pt](St,Pt)},Pt)}}(Nt,this));else{var en=this[ft].read();if(en!==null)return Promise.resolve(ut(en,!1));mt=new Promise(this[pt])}return this[gt]=mt,mt}},Symbol.asyncIterator,function(){return this}),_e($,"return",function(){var xt=this;return new Promise(function(Tt,mt){xt[ft].destroy(null,function(Nt){Nt?mt(Nt):Tt(ut(void 0,!0))})})}),$),Qt);i.exports=function(xt){var Tt,mt=Object.create(It,(_e(Tt={},ft,{value:xt,writable:!0}),_e(Tt,j,{value:null,writable:!0}),_e(Tt,nt,{value:null,writable:!0}),_e(Tt,ot,{value:null,writable:!0}),_e(Tt,ct,{value:xt._readableState.endEmitted,writable:!0}),_e(Tt,pt,{value:function(Nt,en){var rn=mt[ft].read();rn?(mt[gt]=null,mt[j]=null,mt[nt]=null,Nt(ut(rn,!1))):(mt[j]=Nt,mt[nt]=en)},writable:!0}),Tt));return mt[gt]=null,et(xt,function(Nt){if(Nt&&Nt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var en=mt[nt];return en!==null&&(mt[gt]=null,mt[j]=null,mt[nt]=null,en(Nt)),void(mt[ot]=Nt)}var rn=mt[j];rn!==null&&(mt[gt]=null,mt[j]=null,mt[nt]=null,rn(ut(void 0,!0))),mt[ct]=!0}),xt.on("readable",wt.bind(null,mt)),mt}}).call(this,s(2))},function(i,o){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(i,o,s){i.exports=$;var _=s(82);function $(_e){if(!(this instanceof $))return new $(_e);_.call(this,_e)}s(7)($,_),$.prototype._transform=function(_e,et,j){j(null,_e)}},function(i,o,s){var _,$=s(26).codes,_e=$.ERR_MISSING_ARGS,et=$.ERR_STREAM_DESTROYED;function j(pt){if(pt)throw pt}function nt(pt,ft,ut,yt){yt=function(It){var xt=!1;return function(){xt||(xt=!0,It.apply(void 0,arguments))}}(yt);var wt=!1;pt.on("close",function(){wt=!0}),_===void 0&&(_=s(49)),_(pt,{readable:ft,writable:ut},function(It){if(It)return yt(It);wt=!0,yt()});var Qt=!1;return function(It){if(!wt&&!Qt)return Qt=!0,function(xt){return xt.setHeader&&typeof xt.abort=="function"}(pt)?pt.abort():typeof pt.destroy=="function"?pt.destroy():void yt(It||new et("pipe"))}}function ot(pt){pt()}function ct(pt,ft){return pt.pipe(ft)}function gt(pt){return pt.length?typeof pt[pt.length-1]!="function"?j:pt.pop():j}i.exports=function(){for(var pt=arguments.length,ft=new Array(pt),ut=0;ut<pt;ut++)ft[ut]=arguments[ut];var yt,wt=gt(ft);if(Array.isArray(ft[0])&&(ft=ft[0]),ft.length<2)throw new _e("streams");var Qt=ft.map(function(It,xt){var Tt=xt<ft.length-1;return nt(It,Tt,xt>0,function(mt){yt||(yt=mt),mt&&Qt.forEach(ot),Tt||(Qt.forEach(ot),wt(yt))})});return ft.reduce(ct)}},function(i,o,s){var _=s(187)(function $(_e,et){return(et=et||{}).namespace=_e,et.prod=!0,et.dev=!1,et.force||$.force?$.yep(et):$.nope(et)});i.exports=_},function(i,o){var s=[],_=[],$=function(){};function _e(ut){return!~s.indexOf(ut)&&(s.push(ut),!0)}function et(ut){$=ut}function j(ut){for(var yt=[],wt=0;wt<s.length;wt++)if(s[wt].async)yt.push(s[wt]);else if(s[wt](ut))return!0;return!!yt.length&&new Promise(function(Qt){Promise.all(yt.map(function(It){return It(ut)})).then(function(It){Qt(It.some(Boolean))})})}function nt(ut){return!~_.indexOf(ut)&&(_.push(ut),!0)}function ot(){$.apply($,arguments)}function ct(ut){for(var yt=0;yt<_.length;yt++)ut=_[yt].apply(_[yt],arguments);return ut}function gt(ut,yt){var wt=Object.prototype.hasOwnProperty;for(var Qt in yt)wt.call(yt,Qt)&&(ut[Qt]=yt[Qt]);return ut}function pt(ut){return ut.enabled=!1,ut.modify=nt,ut.set=et,ut.use=_e,gt(function(){return!1},ut)}function ft(ut){return ut.enabled=!0,ut.modify=nt,ut.set=et,ut.use=_e,gt(function(){var yt=Array.prototype.slice.call(arguments,0);return ot.call(ot,ut,ct(yt,ut)),!0},ut)}i.exports=function(ut){return ut.introduce=gt,ut.enabled=j,ut.process=ct,ut.modify=nt,ut.write=ot,ut.nope=pt,ut.yep=ft,ut.set=et,ut.use=_e,ut}},function(i,o,s){(function(_){var $=s(65),_e=s(22).StringDecoder,et=s(32).Stream;function j(){}i.exports=function(nt,ot){var ct=_.alloc(65536),gt=new _e("utf8"),pt=new et,ft="",ut=0,yt=0;return nt.start===-1&&delete nt.start,pt.readable=!0,pt.destroy=function(){pt.destroyed=!0,pt.emit("end"),pt.emit("close")},$.open(nt.file,"a+","0644",function(wt,Qt){if(wt)return ot?ot(wt):pt.emit("error",wt),void pt.destroy();(function It(){if(!pt.destroyed)return $.read(Qt,ct,0,ct.length,ut,function(xt,Tt){if(xt)return ot?ot(xt):pt.emit("error",xt),void pt.destroy();if(!Tt)return ft&&((nt.start==null||yt>nt.start)&&(ot?ot(null,ft):pt.emit("line",ft)),yt++,ft=""),setTimeout(It,1e3);var mt=gt.write(ct.slice(0,Tt));ot||pt.emit("data",mt);for(var Nt=(mt=(ft+mt).split(/\n+/)).length-1,en=0;en<Nt;en++)(nt.start==null||yt>nt.start)&&(ot?ot(null,mt[en]):pt.emit("line",mt[en])),yt++;return ft=mt[Nt],ut+=Tt,It()});$.close(Qt,j)})()}),ot?pt.destroy:pt}}).call(this,s(5).Buffer)},function(i,o,s){(function(_,$){function _e(xt){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tt){return typeof Tt}:function(Tt){return Tt&&typeof Symbol=="function"&&Tt.constructor===Symbol&&Tt!==Symbol.prototype?"symbol":typeof Tt})(xt)}function et(xt,Tt){var mt=Object.keys(xt);if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(xt);Tt&&(Nt=Nt.filter(function(en){return Object.getOwnPropertyDescriptor(xt,en).enumerable})),mt.push.apply(mt,Nt)}return mt}function j(xt){for(var Tt=1;Tt<arguments.length;Tt++){var mt=arguments[Tt]!=null?arguments[Tt]:{};Tt%2?et(Object(mt),!0).forEach(function(Nt){nt(xt,Nt,mt[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(mt)):et(Object(mt)).forEach(function(Nt){Object.defineProperty(xt,Nt,Object.getOwnPropertyDescriptor(mt,Nt))})}return xt}function nt(xt,Tt,mt){return Tt in xt?Object.defineProperty(xt,Tt,{value:mt,enumerable:!0,configurable:!0,writable:!0}):xt[Tt]=mt,xt}function ot(xt,Tt){if(!(xt instanceof Tt))throw new TypeError("Cannot call a class as a function")}function ct(xt,Tt){for(var mt=0;mt<Tt.length;mt++){var Nt=Tt[mt];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(xt,Nt.key,Nt)}}function gt(xt,Tt){return(gt=Object.setPrototypeOf||function(mt,Nt){return mt.__proto__=Nt,mt})(xt,Tt)}function pt(xt){var Tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var mt,Nt=ut(xt);if(Tt){var en=ut(this).constructor;mt=Reflect.construct(Nt,arguments,en)}else mt=Nt.apply(this,arguments);return ft(this,mt)}}function ft(xt,Tt){return!Tt||_e(Tt)!=="object"&&typeof Tt!="function"?function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(xt):Tt}function ut(xt){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)})(xt)}var yt=s(83),wt=s(200),Qt=s(32).Stream,It=s(20);i.exports=function(xt){(function(rn,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");rn.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:rn,writable:!0,configurable:!0}}),Ft&&gt(rn,Ft)})(en,xt);var Tt,mt,Nt=pt(en);function en(){var rn,Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ot(this,en),(rn=Nt.call(this,Ft)).options=Ft,rn.name=Ft.name||"http",rn.ssl=!!Ft.ssl,rn.host=Ft.host||"localhost",rn.port=Ft.port,rn.auth=Ft.auth,rn.path=Ft.path||"",rn.agent=Ft.agent,rn.headers=Ft.headers||{},rn.headers["content-type"]="application/json",rn.port||(rn.port=rn.ssl?443:80),rn}return Tt=en,(mt=[{key:"log",value:function(rn,Ft){var St=this;this._request(rn,function(Pt,Bt){Bt&&Bt.statusCode!==200&&(Pt=new Error("Invalid HTTP Status Code: ".concat(Bt.statusCode))),Pt?St.emit("warn",Pt):St.emit("logged",rn)}),Ft&&_(Ft)}},{key:"query",value:function(rn,Ft){typeof rn=="function"&&(Ft=rn,rn={}),(rn={method:"query",params:this.normalizeQuery(rn)}).params.path&&(rn.path=rn.params.path,delete rn.params.path),rn.params.auth&&(rn.auth=rn.params.auth,delete rn.params.auth),this._request(rn,function(St,Pt,Bt){if(Pt&&Pt.statusCode!==200&&(St=new Error("Invalid HTTP Status Code: ".concat(Pt.statusCode))),St)return Ft(St);if(typeof Bt=="string")try{Bt=JSON.parse(Bt)}catch(jt){return Ft(jt)}Ft(null,Bt)})}},{key:"stream",value:function(){var rn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ft=new Qt;(rn={method:"stream",params:rn}).params.path&&(rn.path=rn.params.path,delete rn.params.path),rn.params.auth&&(rn.auth=rn.params.auth,delete rn.params.auth);var St="",Pt=this._request(rn);return Ft.destroy=function(){return Pt.destroy()},Pt.on("data",function(Bt){for(var jt=(Bt=(St+Bt).split(/\n+/)).length-1,qt=0;qt<jt;qt++)try{Ft.emit("log",JSON.parse(Bt[qt]))}catch(Zt){Ft.emit("error",Zt)}St=Bt[jt]}),Pt.on("error",function(Bt){return Ft.emit("error",Bt)}),Ft}},{key:"_request",value:function(rn,Ft){var St=(rn=rn||{}).auth||this.auth,Pt=rn.path||this.path||"";delete rn.auth,delete rn.path;var Bt=Object.assign({},this.headers);St&&St.bearer&&(Bt.Authorization="Bearer ".concat(St.bearer));var jt=(this.ssl?wt:yt).request(j(j({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(Pt.replace(/^\//,"")),headers:Bt,auth:St&&St.username&&St.password?"".concat(St.username,":").concat(St.password):"",agent:this.agent}));jt.on("error",Ft),jt.on("response",function(qt){return qt.on("end",function(){return Ft(null,qt)}).resume()}),jt.end($.from(JSON.stringify(rn),"utf8"))}}])&&ct(Tt.prototype,mt),en}(It)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){(function(_,$,_e){var et=s(84),j=s(7),nt=s(85),ot=s(31),ct=s(191),gt=nt.IncomingMessage,pt=nt.readyStates,ft=i.exports=function(yt){var wt,Qt=this;ot.Writable.call(Qt),Qt._opts=yt,Qt._body=[],Qt._headers={},yt.auth&&Qt.setHeader("Authorization","Basic "+new _(yt.auth).toString("base64")),Object.keys(yt.headers).forEach(function(xt){Qt.setHeader(xt,yt.headers[xt])});var It=!0;if(yt.mode==="disable-fetch"||"requestTimeout"in yt&&!et.abortController)It=!1,wt=!0;else if(yt.mode==="prefer-streaming")wt=!1;else if(yt.mode==="allow-wrong-content-type")wt=!et.overrideMimeType;else{if(yt.mode&&yt.mode!=="default"&&yt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");wt=!0}Qt._mode=function(xt,Tt){return et.fetch&&Tt?"fetch":et.mozchunkedarraybuffer?"moz-chunked-arraybuffer":et.msstream?"ms-stream":et.arraybuffer&&xt?"arraybuffer":et.vbArray&&xt?"text:vbarray":"text"}(wt,It),Qt._fetchTimer=null,Qt.on("finish",function(){Qt._onFinish()})};j(ft,ot.Writable),ft.prototype.setHeader=function(yt,wt){var Qt=yt.toLowerCase();ut.indexOf(Qt)===-1&&(this._headers[Qt]={name:yt,value:wt})},ft.prototype.getHeader=function(yt){var wt=this._headers[yt.toLowerCase()];return wt?wt.value:null},ft.prototype.removeHeader=function(yt){delete this._headers[yt.toLowerCase()]},ft.prototype._onFinish=function(){var yt=this;if(!yt._destroyed){var wt=yt._opts,Qt=yt._headers,It=null;wt.method!=="GET"&&wt.method!=="HEAD"&&(It=et.arraybuffer?ct(_.concat(yt._body)):et.blobConstructor?new $.Blob(yt._body.map(function(en){return ct(en)}),{type:(Qt["content-type"]||{}).value||""}):_.concat(yt._body).toString());var xt=[];if(Object.keys(Qt).forEach(function(en){var rn=Qt[en].name,Ft=Qt[en].value;Array.isArray(Ft)?Ft.forEach(function(St){xt.push([rn,St])}):xt.push([rn,Ft])}),yt._mode==="fetch"){var Tt=null;if(et.abortController){var mt=new AbortController;Tt=mt.signal,yt._fetchAbortController=mt,"requestTimeout"in wt&&wt.requestTimeout!==0&&(yt._fetchTimer=$.setTimeout(function(){yt.emit("requestTimeout"),yt._fetchAbortController&&yt._fetchAbortController.abort()},wt.requestTimeout))}$.fetch(yt._opts.url,{method:yt._opts.method,headers:xt,body:It||void 0,mode:"cors",credentials:wt.withCredentials?"include":"same-origin",signal:Tt}).then(function(en){yt._fetchResponse=en,yt._connect()},function(en){$.clearTimeout(yt._fetchTimer),yt._destroyed||yt.emit("error",en)})}else{var Nt=yt._xhr=new $.XMLHttpRequest;try{Nt.open(yt._opts.method,yt._opts.url,!0)}catch(en){return void _e.nextTick(function(){yt.emit("error",en)})}"responseType"in Nt&&(Nt.responseType=yt._mode.split(":")[0]),"withCredentials"in Nt&&(Nt.withCredentials=!!wt.withCredentials),yt._mode==="text"&&"overrideMimeType"in Nt&&Nt.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in wt&&(Nt.timeout=wt.requestTimeout,Nt.ontimeout=function(){yt.emit("requestTimeout")}),xt.forEach(function(en){Nt.setRequestHeader(en[0],en[1])}),yt._response=null,Nt.onreadystatechange=function(){switch(Nt.readyState){case pt.LOADING:case pt.DONE:yt._onXHRProgress()}},yt._mode==="moz-chunked-arraybuffer"&&(Nt.onprogress=function(){yt._onXHRProgress()}),Nt.onerror=function(){yt._destroyed||yt.emit("error",new Error("XHR error"))};try{Nt.send(It)}catch(en){return void _e.nextTick(function(){yt.emit("error",en)})}}}},ft.prototype._onXHRProgress=function(){(function(yt){try{var wt=yt.status;return wt!==null&&wt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},ft.prototype._connect=function(){var yt=this;yt._destroyed||(yt._response=new gt(yt._xhr,yt._fetchResponse,yt._mode,yt._fetchTimer),yt._response.on("error",function(wt){yt.emit("error",wt)}),yt.emit("response",yt._response))},ft.prototype._write=function(yt,wt,Qt){this._body.push(yt),Qt()},ft.prototype.abort=ft.prototype.destroy=function(){this._destroyed=!0,$.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},ft.prototype.end=function(yt,wt,Qt){typeof yt=="function"&&(Qt=yt,yt=void 0),ot.Writable.prototype.end.call(this,yt,wt,Qt)},ft.prototype.flushHeaders=function(){},ft.prototype.setTimeout=function(){},ft.prototype.setNoDelay=function(){},ft.prototype.setSocketKeepAlive=function(){};var ut=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,s(5).Buffer,s(6),s(2))},function(i,o,s){var _=s(5).Buffer;i.exports=function($){if($ instanceof Uint8Array){if($.byteOffset===0&&$.byteLength===$.buffer.byteLength)return $.buffer;if(typeof $.buffer.slice=="function")return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}if(_.isBuffer($)){for(var _e=new Uint8Array($.length),et=$.length,j=0;j<et;j++)_e[j]=$[j];return _e.buffer}throw new Error("Argument must be a Buffer")}},function(i,o){i.exports=function(){for(var _={},$=0;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)s.call(_e,et)&&(_[et]=_e[et])}return _};var s=Object.prototype.hasOwnProperty},function(i,o){i.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(i,o,s){(function(_,$){var _e;(function(et){o&&o.nodeType,_&&_.nodeType;var j=typeof $=="object"&&$;j.global!==j&&j.window!==j&&j.self;var nt,ot=2147483647,ct=/^xn--/,gt=/[^\x20-\x7E]/,pt=/[\x2E\u3002\uFF0E\uFF61]/g,ft={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ut=Math.floor,yt=String.fromCharCode;function wt(Ft){throw new RangeError(ft[Ft])}function Qt(Ft,St){for(var Pt=Ft.length,Bt=[];Pt--;)Bt[Pt]=St(Ft[Pt]);return Bt}function It(Ft,St){var Pt=Ft.split("@"),Bt="";return Pt.length>1&&(Bt=Pt[0]+"@",Ft=Pt[1]),Bt+Qt((Ft=Ft.replace(pt,".")).split("."),St).join(".")}function xt(Ft){for(var St,Pt,Bt=[],jt=0,qt=Ft.length;jt<qt;)(St=Ft.charCodeAt(jt++))>=55296&&St<=56319&&jt<qt?(64512&(Pt=Ft.charCodeAt(jt++)))==56320?Bt.push(((1023&St)<<10)+(1023&Pt)+65536):(Bt.push(St),jt--):Bt.push(St);return Bt}function Tt(Ft){return Qt(Ft,function(St){var Pt="";return St>65535&&(Pt+=yt((St-=65536)>>>10&1023|55296),St=56320|1023&St),Pt+=yt(St)}).join("")}function mt(Ft,St){return Ft+22+75*(Ft<26)-((St!=0)<<5)}function Nt(Ft,St,Pt){var Bt=0;for(Ft=Pt?ut(Ft/700):Ft>>1,Ft+=ut(Ft/St);Ft>455;Bt+=36)Ft=ut(Ft/35);return ut(Bt+36*Ft/(Ft+38))}function en(Ft){var St,Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt,Rt,$t=[],nn=Ft.length,Un=0,Fn=128,En=72;for((Pt=Ft.lastIndexOf("-"))<0&&(Pt=0),Bt=0;Bt<Pt;++Bt)Ft.charCodeAt(Bt)>=128&&wt("not-basic"),$t.push(Ft.charCodeAt(Bt));for(jt=Pt>0?Pt+1:0;jt<nn;){for(qt=Un,Zt=1,Wt=36;jt>=nn&&wt("invalid-input"),((Gt=(Rt=Ft.charCodeAt(jt++))-48<10?Rt-22:Rt-65<26?Rt-65:Rt-97<26?Rt-97:36)>=36||Gt>ut((ot-Un)/Zt))&&wt("overflow"),Un+=Gt*Zt,!(Gt<(Ht=Wt<=En?1:Wt>=En+26?26:Wt-En));Wt+=36)Zt>ut(ot/(kt=36-Ht))&&wt("overflow"),Zt*=kt;En=Nt(Un-qt,St=$t.length+1,qt==0),ut(Un/St)>ot-Fn&&wt("overflow"),Fn+=ut(Un/St),Un%=St,$t.splice(Un++,0,Fn)}return Tt($t)}function rn(Ft){var St,Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt,Rt,$t,nn,Un,Fn,En=[];for($t=(Ft=xt(Ft)).length,St=128,Pt=0,qt=72,Zt=0;Zt<$t;++Zt)(Rt=Ft[Zt])<128&&En.push(yt(Rt));for(Bt=jt=En.length,jt&&En.push("-");Bt<$t;){for(Wt=ot,Zt=0;Zt<$t;++Zt)(Rt=Ft[Zt])>=St&&Rt<Wt&&(Wt=Rt);for(Wt-St>ut((ot-Pt)/(nn=Bt+1))&&wt("overflow"),Pt+=(Wt-St)*nn,St=Wt,Zt=0;Zt<$t;++Zt)if((Rt=Ft[Zt])<St&&++Pt>ot&&wt("overflow"),Rt==St){for(Gt=Pt,Ht=36;!(Gt<(kt=Ht<=qt?1:Ht>=qt+26?26:Ht-qt));Ht+=36)Fn=Gt-kt,Un=36-kt,En.push(yt(mt(kt+Fn%Un,0))),Gt=ut(Fn/Un);En.push(yt(mt(Gt,0))),qt=Nt(Pt,nn,Bt==jt),Pt=0,++Bt}++Pt,++St}return En.join("")}nt={version:"1.4.1",ucs2:{decode:xt,encode:Tt},decode:en,encode:rn,toASCII:function(Ft){return It(Ft,function(St){return gt.test(St)?"xn--"+rn(St):St})},toUnicode:function(Ft){return It(Ft,function(St){return ct.test(St)?en(St.slice(4).toLowerCase()):St})}},(_e=function(){return nt}.call(o,s,o,_))===void 0||(_.exports=_e)})()}).call(this,s(195)(i),s(6))},function(i,o){i.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(i,o,s){i.exports={isString:function(_){return typeof _=="string"},isObject:function(_){return typeof _=="object"&&_!==null},isNull:function(_){return _===null},isNullOrUndefined:function(_){return _==null}}},function(i,o,s){o.decode=o.parse=s(198),o.encode=o.stringify=s(199)},function(i,o,s){function _(_e,et){return Object.prototype.hasOwnProperty.call(_e,et)}i.exports=function(_e,et,j,nt){et=et||"&",j=j||"=";var ot={};if(typeof _e!="string"||_e.length===0)return ot;var ct=/\+/g;_e=_e.split(et);var gt=1e3;nt&&typeof nt.maxKeys=="number"&&(gt=nt.maxKeys);var pt=_e.length;gt>0&&pt>gt&&(pt=gt);for(var ft=0;ft<pt;++ft){var ut,yt,wt,Qt,It=_e[ft].replace(ct,"%20"),xt=It.indexOf(j);xt>=0?(ut=It.substr(0,xt),yt=It.substr(xt+1)):(ut=It,yt=""),wt=decodeURIComponent(ut),Qt=decodeURIComponent(yt),_(ot,wt)?$(ot[wt])?ot[wt].push(Qt):ot[wt]=[ot[wt],Qt]:ot[wt]=Qt}return ot};var $=Array.isArray||function(_e){return Object.prototype.toString.call(_e)==="[object Array]"}},function(i,o,s){var _=function(j){switch(typeof j){case"string":return j;case"boolean":return j?"true":"false";case"number":return isFinite(j)?j:"";default:return""}};i.exports=function(j,nt,ot,ct){return nt=nt||"&",ot=ot||"=",j===null&&(j=void 0),typeof j=="object"?_e(et(j),function(gt){var pt=encodeURIComponent(_(gt))+ot;return $(j[gt])?_e(j[gt],function(ft){return pt+encodeURIComponent(_(ft))}).join(nt):pt+encodeURIComponent(_(j[gt]))}).join(nt):ct?encodeURIComponent(_(ct))+ot+encodeURIComponent(_(j)):""};var $=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"};function _e(j,nt){if(j.map)return j.map(nt);for(var ot=[],ct=0;ct<j.length;ct++)ot.push(nt(j[ct],ct));return ot}var et=Object.keys||function(j){var nt=[];for(var ot in j)Object.prototype.hasOwnProperty.call(j,ot)&&nt.push(ot);return nt}},function(i,o,s){var _=s(83),$=s(86),_e=i.exports;for(var et in _)_.hasOwnProperty(et)&&(_e[et]=_[et]);function j(nt){if(typeof nt=="string"&&(nt=$.parse(nt)),nt.protocol||(nt.protocol="https:"),nt.protocol!=="https:")throw new Error('Protocol "'+nt.protocol+'" not supported. Expected "https:"');return nt}_e.request=function(nt,ot){return nt=j(nt),_.request.call(this,nt,ot)},_e.get=function(nt,ot){return nt=j(nt),_.get.call(this,nt,ot)}},function(i,o,s){(function(_){function $(yt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(yt)}function _e(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function et(yt,wt){for(var Qt=0;Qt<wt.length;Qt++){var It=wt[Qt];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(yt,It.key,It)}}function j(yt,wt){return(j=Object.setPrototypeOf||function(Qt,It){return Qt.__proto__=It,Qt})(yt,wt)}function nt(yt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Qt,It=ct(yt);if(wt){var xt=ct(this).constructor;Qt=Reflect.construct(It,arguments,xt)}else Qt=It.apply(this,arguments);return ot(this,Qt)}}function ot(yt,wt){return!wt||$(wt)!=="object"&&typeof wt!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(yt):wt}function ct(yt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(yt)}var gt=s(87),pt=s(3).MESSAGE,ft=s(18),ut=s(20);i.exports=function(yt){(function(Tt,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");Tt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:Tt,writable:!0,configurable:!0}}),mt&&j(Tt,mt)})(xt,yt);var wt,Qt,It=nt(xt);function xt(){var Tt,mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e(this,xt),Tt=It.call(this,mt),!mt.stream||!gt(mt.stream))throw new Error("options.stream is required.");return Tt._stream=mt.stream,Tt._stream.setMaxListeners(1/0),Tt.isObjectMode=mt.stream._writableState.objectMode,Tt.eol=mt.eol||ft.EOL,Tt}return wt=xt,(Qt=[{key:"log",value:function(Tt,mt){var Nt=this;if(_(function(){return Nt.emit("logged",Tt)}),this.isObjectMode)return this._stream.write(Tt),void(mt&&mt());this._stream.write("".concat(Tt[pt]).concat(this.eol)),mt&&mt()}}])&&et(wt.prototype,Qt),xt}(ut)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_){function $(Bt,jt,qt){return jt in Bt?Object.defineProperty(Bt,jt,{value:qt,enumerable:!0,configurable:!0,writable:!0}):Bt[jt]=qt,Bt}function _e(Bt){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(jt){return typeof jt}:function(jt){return jt&&typeof Symbol=="function"&&jt.constructor===Symbol&&jt!==Symbol.prototype?"symbol":typeof jt})(Bt)}function et(Bt,jt){for(var qt=0;qt<jt.length;qt++){var Zt=jt[qt];Zt.enumerable=Zt.enumerable||!1,Zt.configurable=!0,"value"in Zt&&(Zt.writable=!0),Object.defineProperty(Bt,Zt.key,Zt)}}function j(Bt,jt){return(j=Object.setPrototypeOf||function(qt,Zt){return qt.__proto__=Zt,qt})(Bt,jt)}function nt(Bt){var jt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var qt,Zt=ct(Bt);if(jt){var Wt=ct(this).constructor;qt=Reflect.construct(Zt,arguments,Wt)}else qt=Zt.apply(this,arguments);return ot(this,qt)}}function ot(Bt,jt){return!jt||_e(jt)!=="object"&&typeof jt!="function"?function(qt){if(qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qt}(Bt):jt}function ct(Bt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(jt){return jt.__proto__||Object.getPrototypeOf(jt)})(Bt)}var gt=s(32),pt=gt.Stream,ft=gt.Transform,ut=s(51),yt=s(3),wt=yt.LEVEL,Qt=yt.SPLAT,It=s(87),xt=s(89),Tt=s(93),mt=s(206),Nt=s(207),en=s(61).warn,rn=s(50),Ft=/%[scdjifoO%]/g,St=function(Bt){(function(Gt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function");Gt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:Gt,writable:!0,configurable:!0}}),Ht&&j(Gt,Ht)})(Wt,Bt);var jt,qt,Zt=nt(Wt);function Wt(Gt){var Ht;return function(kt,Rt){if(!(kt instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this,Wt),(Ht=Zt.call(this,{objectMode:!0})).configure(Gt),Ht}return jt=Wt,(qt=[{key:"child",value:function(Gt){var Ht=this;return Object.create(Ht,{write:{value:function(kt){var Rt=Object.assign({},Gt,kt);kt instanceof Error&&(Rt.stack=kt.stack,Rt.message=kt.message),Ht.write(Rt)}}})}},{key:"configure",value:function(){var Gt=this,Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},kt=Ht.silent,Rt=Ht.format,$t=Ht.defaultMeta,nn=Ht.levels,Un=Ht.level,Fn=Un===void 0?"info":Un,En=Ht.exitOnError,fn=En===void 0||En,sn=Ht.transports,Ct=Ht.colors,Dt=Ht.emitErrs,Xt=Ht.formatters,_n=Ht.padLevels,mn=Ht.rewriters,xn=Ht.stripColors,On=Ht.exceptionHandlers,nr=Ht.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=kt,this.format=Rt||this.format||s(208)(),this.defaultMeta=$t||null,this.levels=nn||this.levels||rn.npm.levels,this.level=Fn,this.exceptions=new xt(this),this.rejections=new Tt(this),this.profilers={},this.exitOnError=fn,sn&&(sn=Array.isArray(sn)?sn:[sn]).forEach(function(Nr){return Gt.add(Nr)}),Ct||Dt||Xt||_n||mn||xn)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));On&&this.exceptions.handle(On),nr&&this.rejections.handle(nr)}},{key:"isLevelEnabled",value:function(Gt){var Ht=this,kt=Pt(this.levels,Gt);if(kt===null)return!1;var Rt=Pt(this.levels,this.level);return Rt!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function($t){var nn=Pt(Ht.levels,$t.level);return nn===null&&(nn=Rt),nn>=kt})!==-1:Rt>=kt)}},{key:"log",value:function(Gt,Ht){for(var kt,Rt,$t=arguments.length,nn=new Array($t>2?$t-2:0),Un=2;Un<$t;Un++)nn[Un-2]=arguments[Un];if(arguments.length===1)return Gt[wt]=Gt.level,this._addDefaultMeta(Gt),this.write(Gt),this;if(arguments.length===2)return Ht&&_e(Ht)==="object"?(Ht[wt]=Ht.level=Gt,this._addDefaultMeta(Ht),this.write(Ht),this):(this.write(($(Rt={},wt,Gt),$(Rt,"level",Gt),$(Rt,"message",Ht),Rt)),this);var Fn=nn[0];if(_e(Fn)==="object"&&Fn!==null){var En=Ht&&Ht.match&&Ht.match(Ft);if(!En){var fn,sn=Object.assign({},this.defaultMeta,Fn,($(fn={},wt,Gt),$(fn,Qt,nn),$(fn,"level",Gt),$(fn,"message",Ht),fn));return Fn.message&&(sn.message="".concat(sn.message," ").concat(Fn.message)),Fn.stack&&(sn.stack=Fn.stack),this.write(sn),this}}return this.write(Object.assign({},this.defaultMeta,($(kt={},wt,Gt),$(kt,Qt,nn),$(kt,"level",Gt),$(kt,"message",Ht),kt))),this}},{key:"_transform",value:function(Gt,Ht,kt){if(this.silent)return kt();Gt[wt]||(Gt[wt]=Gt.level),this.levels[Gt[wt]]||this.levels[Gt[wt]]===0||console.error("[winston] Unknown logger level: %s",Gt[wt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",Gt);try{this.push(this.format.transform(Gt,this.format.options))}catch(Rt){throw Rt}finally{kt()}}},{key:"_final",value:function(Gt){var Ht=this.transports.slice();ut(Ht,function(kt,Rt){if(!kt||kt.finished)return _(Rt);kt.once("finish",Rt),kt.end()},Gt)}},{key:"add",value:function(Gt){var Ht=!It(Gt)||Gt.log.length>2?new mt({transport:Gt}):Gt;if(!Ht._writableState||!Ht._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",Ht),this._onEvent("warn",Ht),this.pipe(Ht),Gt.handleExceptions&&this.exceptions.handle(),Gt.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(Gt){if(!Gt)return this;var Ht=Gt;return(!It(Gt)||Gt.log.length>2)&&(Ht=this.transports.filter(function(kt){return kt.transport===Gt})[0]),Ht&&this.unpipe(Ht),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){en.deprecated("setLevels")}},{key:"query",value:function(Gt,Ht){typeof Gt=="function"&&(Ht=Gt,Gt={}),Gt=Gt||{};var kt={},Rt=Object.assign({},Gt.query||{});ut(this.transports.filter(function($t){return!!$t.query}),function($t,nn){(function(Un,Fn){Gt.query&&typeof Un.formatQuery=="function"&&(Gt.query=Un.formatQuery(Rt)),Un.query(Gt,function(En,fn){if(En)return Fn(En);typeof Un.formatResults=="function"&&(fn=Un.formatResults(fn,Gt.format)),Fn(null,fn)})})($t,function(Un,Fn){nn&&((Fn=Un||Fn)&&(kt[$t.name]=Fn),nn()),nn=null})},function(){return Ht(null,kt)})}},{key:"stream",value:function(){var Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ht=new pt,kt=[];return Ht._streams=kt,Ht.destroy=function(){for(var Rt=kt.length;Rt--;)kt[Rt].destroy()},this.transports.filter(function(Rt){return!!Rt.stream}).forEach(function(Rt){var $t=Rt.stream(Gt);$t&&(kt.push($t),$t.on("log",function(nn){nn.transport=nn.transport||[],nn.transport.push(Rt.name),Ht.emit("log",nn)}),$t.on("error",function(nn){nn.transport=nn.transport||[],nn.transport.push(Rt.name),Ht.emit("error",nn)}))}),Ht}},{key:"startTimer",value:function(){return new Nt(this)}},{key:"profile",value:function(Gt){var Ht=Date.now();if(this.profilers[Gt]){var kt=this.profilers[Gt];delete this.profilers[Gt];for(var Rt=arguments.length,$t=new Array(Rt>1?Rt-1:0),nn=1;nn<Rt;nn++)$t[nn-1]=arguments[nn];typeof $t[$t.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),$t.pop());var Un=_e($t[$t.length-1])==="object"?$t.pop():{};return Un.level=Un.level||"info",Un.durationMs=Ht-kt,Un.message=Un.message||Gt,this.write(Un)}return this.profilers[Gt]=Ht,this}},{key:"handleExceptions",value:function(){var Gt;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(Gt=this.exceptions).handle.apply(Gt,arguments)}},{key:"unhandleExceptions",value:function(){var Gt;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(Gt=this.exceptions).unhandle.apply(Gt,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(Gt,Ht){Ht["__winston"+Gt]||(Ht["__winston"+Gt]=function(kt){Gt!=="error"||this.transports.includes(Ht)||this.add(Ht),this.emit(Gt,kt,Ht)}.bind(this),Ht.on(Gt,Ht["__winston"+Gt]))}},{key:"_addDefaultMeta",value:function(Gt){this.defaultMeta&&Object.assign(Gt,this.defaultMeta)}}])&&et(jt.prototype,qt),Wt}(ft);function Pt(Bt,jt){var qt=Bt[jt];return qt||qt===0?qt:null}Object.defineProperty(St.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var Bt=this._readableState.pipes;return Array.isArray(Bt)?Bt:[Bt].filter(Boolean)}}),i.exports=St}).call(this,s(15).setImmediate)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=ct(s(45)),$=ct(s(46)),_e=ct(s(66)),et=ct(s(67)),j=ct(s(68)),nt=ct(s(25)),ot=ct(s(30));function ct(ft){return ft&&ft.__esModule?ft:{default:ft}}function gt(ft,ut,yt){yt=(0,et.default)(yt);var wt=0,Qt=0,{length:It}=ft,xt=!1;function Tt(mt,Nt){mt===!1&&(xt=!0),xt!==!0&&(mt?yt(mt):++Qt!==It&&Nt!==$.default||yt(null))}for(It===0&&yt(null);wt<It;wt++)ut(ft[wt],wt,(0,j.default)(Tt))}function pt(ft,ut,yt){return(0,_e.default)(ft,1/0,ut,yt)}o.default=(0,ot.default)(function(ft,ut,yt){return((0,_.default)(ft)?gt:pt)(ft,(0,nt.default)(ut),yt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return($,_e,et)=>_($,et)},i.exports=o.default},function(i,o,s){var _=Object.prototype.toString;i.exports=function($){if(typeof $.displayName=="string"&&$.constructor.name)return $.displayName;if(typeof $.name=="string"&&$.name)return $.name;if(typeof $=="object"&&$.constructor&&typeof $.constructor.name=="string")return $.constructor.name;var _e=$.toString(),et=_.call($).slice(8,-1);return(_e=et==="Function"?_e.substring(_e.indexOf("(")+1,_e.indexOf(")")):et)||"anonymous"}},function(i,o,s){const _=s(13),{LEVEL:$}=s(3),_e=s(20),et=i.exports=function(j={}){if(_e.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(nt){this.emit("error",nt,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(et,_e),et.prototype._write=function(j,nt,ot){if(this.silent||j.exception===!0&&!this.handleExceptions)return ot(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),ot(null)},et.prototype._writev=function(j,nt){for(let ot=0;ot<j.length;ot++)this._accept(j[ot])&&(this.transport.log(j[ot].chunk[$],j[ot].chunk.message,j[ot].chunk,this._nop),j[ot].callback());return nt(null)},et.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},et.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){function _(_e){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et})(_e)}function $(_e,et){for(var j=0;j<et.length;j++){var nt=et[j];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}i.exports=function(){function _e(nt){if(function(ot,ct){if(!(ot instanceof ct))throw new TypeError("Cannot call a class as a function")}(this,_e),!nt)throw new Error("Logger is required for profiling.");this.logger=nt,this.start=Date.now()}var et,j;return et=_e,(j=[{key:"done",value:function(){for(var nt=arguments.length,ot=new Array(nt),ct=0;ct<nt;ct++)ot[ct]=arguments[ct];typeof ot[ot.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),ot.pop());var gt=_(ot[ot.length-1])==="object"?ot.pop():{};return gt.level=gt.level||"info",gt.durationMs=Date.now()-this.start,this.logger.write(gt)}}])&&$(et.prototype,j),_e}()},function(i,o,s){(function(_){const $=s(209),{MESSAGE:_e}=s(3),et=s(35);function j(nt,ot){return ot instanceof _?ot.toString("base64"):typeof ot=="bigint"?ot.toString():ot}i.exports=$((nt,ot={})=>(nt[_e]=(ot.stable?et.stableStringify:et)(nt,ot.replacer||j,ot.space),nt))}).call(this,s(5).Buffer)},function(i,o,s){class _ extends Error{constructor(_e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${_e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,_)}}i.exports=$=>{if($.length>2)throw new _($);function _e(j={}){this.options=j}function et(j){return new _e(j)}return _e.prototype.transform=$,et.Format=_e,et}},function(i,o,s){function _(et,j){if(!(et instanceof j))throw new TypeError("Cannot call a class as a function")}function $(et,j){for(var nt=0;nt<j.length;nt++){var ot=j[nt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(et,ot.key,ot)}}var _e=s(88);i.exports=function(){function et(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,et),this.loggers=new Map,this.options=ot}var j,nt;return j=et,(nt=[{key:"add",value:function(ot,ct){var gt=this;if(!this.loggers.has(ot)){var pt=(ct=Object.assign({},ct||this.options)).transports||this.options.transports;ct.transports=pt?pt.slice():[];var ft=_e(ct);ft.on("close",function(){return gt._delete(ot)}),this.loggers.set(ot,ft)}return this.loggers.get(ot)}},{key:"get",value:function(ot,ct){return this.add(ot,ct)}},{key:"has",value:function(ot){return!!this.loggers.has(ot)}},{key:"close",value:function(ot){var ct=this;if(ot)return this._removeLogger(ot);this.loggers.forEach(function(gt,pt){return ct._removeLogger(pt)})}},{key:"_removeLogger",value:function(ot){this.loggers.has(ot)&&(this.loggers.get(ot).close(),this._delete(ot))}},{key:"_delete",value:function(ot){this.loggers.delete(ot)}}])&&$(j.prototype,nt),et}()},function(i,o,s){(function(_){const $=s(52),_e=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;i.exports=function(et,j,nt,ot){let ct,gt,pt=!1,ft=!1;const ut=s(94);function yt(It){ot(j,It)}function wt(It,xt){let Tt=`"${j}" ${xt}`;throw It&&(Tt=`${Tt}`),gt&&(Tt=`${Tt}. An example of a valid value would be: ${gt}`),new $(Tt)}const Qt={convertFromBase64:function(){return yt("marking for base64 conversion"),pt=!0,Qt},default:function(It){if(typeof It=="number")ct=It.toString();else if(Array.isArray(It)||typeof It=="object"&&It!==null)ct=JSON.stringify(It);else{if(typeof It!="string")throw new $("values passed to default() must be of Number, String, Array, or Object type");ct=It}return yt(`setting default value to "${ct}"`),Qt},required:function(It){return It===void 0?(yt("marked as required"),ft=!0):(yt(`setting required flag to ${It}`),ft=It),Qt},example:function(It){return gt=It,Qt}};return Object.entries({...ut,...nt}).forEach(([It,xt])=>{Qt[It]=function(Tt){return function(){let mt=et[j];if(yt(`will be read from the environment using "${Tt.name}" accessor`),mt===void 0)if(ct===void 0&&ft)yt("was not found in the environment, but is required to be set"),wt(void 0,"is a required variable, but it was not set");else{if(ct===void 0)return void yt("was not found in the environment, but is not required. returning undefined");yt(`was not found in the environment, parsing default value "${ct}" instead`),mt=ct}ft&&(yt("verifying variable value is not an empty string"),mt.trim().length===0&&wt(void 0,"is a required variable, but its value was empty")),pt&&(yt("verifying variable is a valid base64 string"),mt.match(_e)||wt(mt,"should be a valid base64 string if using convertFromBase64"),yt("converting from base64 to utf8 string"),mt=_.from(mt,"base64").toString());const Nt=[mt].concat(Array.prototype.slice.call(arguments));try{yt(`passing value "${mt}" to "${Tt.name}" accessor`);const en=Tt.apply(Tt,Nt);return yt(`parsed successfully, returning ${en}`),en}catch(en){wt(mt,en.message)}}}(xt)}),Qt}}).call(this,s(5).Buffer)},function(i,o,s){const _=s(33);i.exports=function($,_e){return _e=_e||",",$.length?_($).split(_e).filter(Boolean):[]}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if($!=="false"&&$!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return $!=="false"}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if(["false","0","true","1"].indexOf($)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!($==="0"||$==="false")}},function(i,o,s){const _=s(95);i.exports=function($){var _e=_($);if(_e>65535)throw new Error("cannot assign a port number greater than 65535");return _e}},function(i,o,s){const _=s(33);i.exports=function($,_e){const et=_($);if(_e.indexOf(et)<0)throw new Error(`should be one of [${_e.join(", ")}]`);return et}},function(i,o,s){const _=s(54);i.exports=function($){const _e=_($);if(_e>0)throw new Error("should be a negative float");return _e}},function(i,o,s){const _=s(54);i.exports=function($){const _e=_($);if(_e<0)throw new Error("should be a positive float");return _e}},function(i,o,s){const _=s(53);i.exports=function($){const _e=_($);if(_e>0)throw new Error("should be a negative integer");return _e}},function(i,o,s){const _=s(55);i.exports=function($){var _e=_($);if(!Array.isArray(_e))throw new Error("should be a parseable JSON Array");return _e}},function(i,o,s){const _=s(55);i.exports=function($){var _e=_($);if(Array.isArray(_e))throw new Error("should be a parseable JSON Object");return _e}},function(i,o,s){i.exports=function(_,$){try{RegExp(void 0,$)}catch{throw new Error("invalid regexp flags")}try{return new RegExp(_,$)}catch{throw new Error("should be a valid regexp")}}},function(i,o,s){const _=s(96);i.exports=function($){return _($).toString()}},function(i,o,s){const _=s(33),$=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021\u0023-\u005b\u005d-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021-\u005a\u0053-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])+)\])$/;i.exports=function(_e){const et=_(_e);if(!$.test(et))throw new Error("should be a valid email address");return et}},function(i,o,s){i.exports=function(_,$){return function(_e,et){$&&$.match(/prod|production/)||_(`env-var (${_e}): ${et}`)}}},function(i,o,s){(function(_){(function(){var $,_e,et,j,nt,ot;typeof performance<"u"&&performance!==null&&performance.now?i.exports=function(){return performance.now()}:_!=null&&_.hrtime?(i.exports=function(){return($()-nt)/1e6},_e=_.hrtime,j=($=function(){var ct;return 1e9*(ct=_e())[0]+ct[1]})(),ot=1e9*_.uptime(),nt=j-ot):Date.now?(i.exports=function(){return Date.now()-et},et=Date.now()):(i.exports=function(){return new Date().getTime()-et},et=new Date().getTime())}).call(this)}).call(this,s(2))},function(i,o,s){(function(_){(function($){function _e(j){if((j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+j+"') is invalid.")}function et(j,nt){if(nt=nt===void 0?{fatal:!1}:nt,(j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+j+"') is invalid.");if(nt.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if($.TextEncoder&&$.TextDecoder)return!1;Object.defineProperty(_e.prototype,"encoding",{value:"utf-8"}),_e.prototype.encode=function(j,nt){if((nt=nt===void 0?{stream:!1}:nt).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");nt=0;for(var ot=j.length,ct=0,gt=Math.max(32,ot+(ot>>1)+7),pt=new Uint8Array(gt>>3<<3);nt<ot;){var ft=j.charCodeAt(nt++);if(55296<=ft&&56319>=ft){if(nt<ot){var ut=j.charCodeAt(nt);(64512&ut)==56320&&(++nt,ft=((1023&ft)<<10)+(1023&ut)+65536)}if(55296<=ft&&56319>=ft)continue}if(ct+4>pt.length&&(gt+=8,gt=(gt*=1+nt/j.length*2)>>3<<3,(ut=new Uint8Array(gt)).set(pt),pt=ut),(4294967168&ft)==0)pt[ct++]=ft;else{if(!(4294965248&ft))pt[ct++]=ft>>6&31|192;else if(!(4294901760&ft))pt[ct++]=ft>>12&15|224,pt[ct++]=ft>>6&63|128;else{if(4292870144&ft)continue;pt[ct++]=ft>>18&7|240,pt[ct++]=ft>>12&63|128,pt[ct++]=ft>>6&63|128}pt[ct++]=63&ft|128}}return pt.slice(0,ct)},Object.defineProperty(et.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(et.prototype,"fatal",{value:!1}),Object.defineProperty(et.prototype,"ignoreBOM",{value:!1}),et.prototype.decode=function(j,nt){if((nt=nt===void 0?{stream:!1}:nt).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");nt=0;for(var ot=(j=new Uint8Array(j)).length,ct=[];nt<ot;){var gt=j[nt++];if(gt===0)break;if(!(128&gt))ct.push(gt);else if((224&gt)==192){var pt=63&j[nt++];ct.push((31&gt)<<6|pt)}else if((240&gt)==224){pt=63&j[nt++];var ft=63&j[nt++];ct.push((31&gt)<<12|pt<<6|ft)}else(248&gt)==240&&(65535<(gt=(7&gt)<<18|(pt=63&j[nt++])<<12|(ft=63&j[nt++])<<6|63&j[nt++])&&(gt-=65536,ct.push(gt>>>10&1023|55296),gt=56320|1023&gt),ct.push(gt))}return String.fromCharCode.apply(null,ct)},$.TextEncoder=_e,$.TextDecoder=et})(typeof window<"u"?window:_!==void 0?_:this)}).call(this,s(6))},function(i,o,s){s.r(o),s.d(o,"AuthClient",function(){return _e}),s.d(o,"RtcSignalingClient",function(){return j}),s.d(o,"Credentials",function(){return jt}),s.d(o,"IRtcStream",function(){}),s.d(o,"SignalingPromiseClient",function(){return qt.SignalingPromiseClient}),s.d(o,"IRtcClientConfigurationV1",function(){}),s.d(o,"IRtcClientConfiguration",function(){}),s.d(o,"IRtcConnectionStatsInfo",function(){}),s.d(o,"IRtcSendConfiguration",function(){}),s.d(o,"IRtcSessionMetricsMessageCounts",function(){}),s.d(o,"IRtcStreamMessage",function(){}),s.d(o,"IRtcStreamPayload",function(){}),s.d(o,"IStreamControl",function(){}),s.d(o,"RtcClient",function(){return Yl}),s.d(o,"RtcClientV1",function(){return Hn}),s.d(o,"createRtcStreamMessage",function(){return lo});var _=s(28),$=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class _e extends _.a{adminSignup(pn,wn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:wn,method:"POST",body:JSON.stringify(pn)})})}login(pn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(pn),allowUnsafeRetries:!0})})}loginWithGoogleToken(pn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(pn),allowUnsafeRetries:!0})})}refresh(pn,wn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:pn,tokenExpirationSeconds:wn}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(pn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(pn)})})}forgotPassword(pn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:pn})})})}confirmForgotPassword(pn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(pn)})})}resendInvitation(pn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:pn})})})}changePassword({token:pn,refreshToken:wn,currentPassword:Nn,newPassword:jn}){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:pn,method:"POST",body:JSON.stringify({refreshToken:wn,currentPassword:Nn,newPassword:jn})})})}getDeviceCredentials(pn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:pn,method:"POST",allowUnsafeRetries:!0})})}impersonate(pn,wn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:pn,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:wn})})})}createServiceAccount(pn,wn,Nn,jn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:pn,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:wn,roleId:Nn,tags:jn})})})}getFeatures(pn){return $(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:pn})).features})}}var et=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class j extends _.a{createPeer(pn,wn){return et(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:pn,method:"POST",body:JSON.stringify(wn)})})}getPeers(pn){return et(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:pn})).items})}refreshPeer(pn,wn){return et(this,void 0,void 0,function*(){yield this.fetch(`peers/${wn}/refresh`,{token:pn,method:"POST",allowUnsafeRetries:!0})})}createSession(pn,wn){return et(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:pn,method:"POST",body:JSON.stringify(wn)})})}refreshSession(pn,wn){return et(this,void 0,void 0,function*(){yield this.fetch(`sessions/${wn}/refresh`,{token:pn,method:"POST",allowUnsafeRetries:!0})})}deleteSession(pn,wn){return et(this,void 0,void 0,function*(){yield this.fetch(`sessions/${wn}`,{token:pn,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(pn){return et(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:pn})).items})}getIceServers(pn){return et(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:pn})).items})}addSignals(pn,wn,Nn){return et(this,void 0,void 0,function*(){yield this.fetch(`sessions/${wn}/add-signals`,{token:pn,method:"POST",body:JSON.stringify(Nn)})})}takeSignals(pn,wn){return et(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${wn}/take-signals`,{token:pn,method:"POST"})).items})}}var nt=s(1),ot=s(8),ct=s(14),gt=s.n(ct),pt=s(104),ft=s.n(pt),ut=s(0),yt=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class wt{constructor(pn){this.name="LogReporter",this.type="simple",this.message=pn}send(pn){return yt(this,void 0,void 0,function*(){var wn,Nn;ut.a.info(this.message,(wn=pn.reduce((jn,Wn)=>Object.assign(Object.assign({},jn),{[Wn.name]:Wn.stat}),{}),Nn=jn=>{const{sum:Wn,count:rr}=jn,Qr=Wn/rr;return Object.assign(Object.assign({},jn),{average:Qr})},Object.keys(wn).reduce((jn,Wn)=>Object.assign(Object.assign({},jn),{[Wn]:Nn(wn[Wn])}),{})))})}}var Qt=s(4),It=s(39);function xt(Jn){return!!Jn.match(/^[a-zA-Z0-9-_.,:?'"()@\/\\#$+ ]{1,255}$/)}var Tt=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};function mt({func:Jn,delay:pn,immediate:wn=!1}){let Nn=!1,jn=setTimeout(function rr(){return Tt(this,void 0,void 0,function*(){if(Nn)return;const Qr=new Date().getTime();try{Wn=Jn(),yield Wn}finally{if(!Nn){const Vn=new Date().getTime();jn=setTimeout(rr,Math.max(pn-(Vn-Qr),0))}}})},wn?0:pn),Wn=Promise.resolve();return{stop(){return Tt(this,void 0,void 0,function*(){Nn=!0,clearTimeout(jn),yield Wn})}}}var Nt=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};const en=s(226),rn=!!Qt.c,Ft=new class{constructor(Jn){this.samplePeriodSeconds=60,this.buffer={},this.reporters=[],this.flushInterval=mt({func:()=>this.flushStats(),delay:this.samplePeriodSeconds*nt.a.second}),this.tags=this.filterTags((Jn==null?void 0:Jn.tags)||{app:Qt.a,version:Qt.j,namespace:Qt.i,instanceId:It.a})}shutdown(){return Nt(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(ot.a)(2*nt.a.second)})}aggregate(Jn,pn,wn){this.addToBuffer(this.buffer,this.encodeKey({metric:Jn,tags:this.filterTags(wn||{})}),typeof pn=="number"?{min:pn,max:pn,sum:pn,count:1}:pn)}increment(Jn,pn){this.aggregate(Jn,1,pn)}timer(Jn,pn,wn){return Nt(this,void 0,void 0,function*(){const Nn=en(),jn=yield pn(),Wn=en();return this.aggregate(Jn,Wn-Nn,wn),jn})}registerStatsReporter(Jn){this.reporters.push(Jn)}setTag(Jn,pn){const wn=this.filterTags({[Jn]:pn});this.tags=Object.assign(Object.assign({},this.tags),wn)}addToBuffer(Jn,pn,wn){if(Jn[pn]){const{min:Nn,max:jn,sum:Wn,count:rr}=Jn[pn];Jn[pn]={min:Math.min(Nn,wn.min),max:Math.max(jn,wn.max),sum:Wn+wn.sum,count:rr+wn.count}}else Jn[pn]=wn}write(Jn){return Nt(this,void 0,void 0,function*(){yield Promise.all(this.reporters.map(pn=>Nt(this,void 0,void 0,function*(){let wn;const Nn={};switch(pn.type){case"simple":for(const[Wn,rr]of Object.entries(Jn)){const{metric:Qr}=this.decodeKey(Wn);this.addToBuffer(Nn,this.encodeKey({metric:Qr}),rr)}wn=Nn;break;case"tagged":wn=Jn;break;default:(function(Wn){throw new Error(`Unreachable type encountered (${Wn})`)})(pn.type)}const jn=Object.entries(wn);if(jn.length>0)return pn.send(jn.map(([Wn,rr])=>{const{metric:Qr,tags:Vn}=this.decodeKey(Wn);return{name:Qr,tags:Object.assign(Object.assign({},Vn),this.tags),stat:rr}}),this.samplePeriodSeconds).catch(Wn=>{ut.a.debug(`Failed to write stats to ${pn.name}`,{error:Wn})})})))})}flushStats(){return Nt(this,void 0,void 0,function*(){yield this.write(this.buffer),this.buffer={}})}encodeKey(Jn){return gt()(Object.assign(Object.assign({},Jn),Object.keys(Jn.tags||{}).length>0?{tags:Jn.tags}:{}))}decodeKey(Jn){return JSON.parse(Jn)}filterTags(Jn){return Object.entries(Jn||{}).reduce((pn,[wn,Nn])=>(xt(wn)&&xt(Nn)&&(pn[wn]=Nn),pn),{})}};rn||["local","on-prem"].includes(Qt.i)||Ft.registerStatsReporter(new wt("stats"));var St=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class Pt extends class{constructor(pn){this.options=pn,this.cache=new ft.a(Object.assign(Object.assign(Object.assign({},pn.dispose||pn.disposeAfter?{ttlAutopurge:!0}:{}),pn),{dispose:(...wn)=>{var Nn;wn[2]==="evict"&&Ft.increment("lru-eviction",{name:pn.name}),(Nn=pn.dispose)===null||Nn===void 0||Nn.call(pn,...wn)},disposeAfter:(...wn)=>{var Nn;this.updateStats(),(Nn=pn.disposeAfter)===null||Nn===void 0||Nn.call(pn,...wn)}})),this.stringify=pn.fastStringify?JSON.stringify:gt.a}set(pn,wn,Nn){const jn=this.stringify(pn);if(!this.cache.set(jn,wn,{ttl:Nn})){const Wn=this.cache.sizeCalculation?this.cache.sizeCalculation(wn,jn):"unknown";throw Error(`Value too large (${Wn} > ${this.cache.max})`)}this.updateStats()}get(pn){const{name:wn}=this.options,Nn=this.stringify(pn),jn=this.cache.getRemainingTTL(Nn);return jn<=0?Ft.increment("cache-miss",{name:wn}):jn!==1/0&&Ft.aggregate("cache-item-ttl",jn,{name:wn}),this.cache.get(Nn)}delete(pn){this.cache.delete(this.stringify(pn))}peek(pn){return this.cache.peek(this.stringify(pn))}size(){return this.cache.size}clear(){this.cache.clear()}forEach(pn){this.cache.forEach(pn)}purgeStale(){return this.cache.purgeStale()}updateStats(){const{name:pn}=this.options;Ft.aggregate("cache-item-count",this.cache.size,{name:pn}),this.cache.calculatedSize!==void 0&&Ft.aggregate("cache-length",this.cache.calculatedSize,{name:pn})}}{constructor(pn){if(super(pn),this.expireRejectedPromiseValues=pn.expireRejectedPromiseValues===void 0||pn.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=pn.rejectedPromiseValueTtl!==void 0?pn.rejectedPromiseValueTtl:nt.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(pn,wn,Nn){super.set(pn,wn,Nn),this.expireRejectedPromiseValues&&wn.catch(()=>St(this,void 0,void 0,function*(){yield Object(ot.a)(this.rejectedPromiseValueTtl),this.peek(pn)===wn&&this.delete(pn)}))}}var Bt=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class jt{constructor(pn,wn,Nn){this.authClient=pn,this.email=wn,this.password=Nn,this.tokenTtlMs=1*nt.a.hour,this.tokenCache=new Pt({name:"Credentials-tokenCache",max:100,ttl:this.tokenTtlMs-5*nt.a.minute,fastStringify:!0})}getToken(){return Bt(this,void 0,void 0,function*(){let pn=this.tokenCache.get(this.email);return pn||(pn=(()=>Bt(this,void 0,void 0,function*(){const{authentication:wn}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/nt.a.second});if(!wn)throw new Error("User account not verified.");return wn.accessToken}))(),this.tokenCache.set(this.email,pn)),pn})}}var qt=s(97),Zt=s(40),Wt=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class Gt extends Zt.a{constructor(pn){super(pn)}postLanRtcOffer(pn){return Wt(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(pn)})})}}var Ht=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};function kt(Jn){return Ht(this,void 0,void 0,function*(){return(yield Promise.all(Jn.map(pn=>pn.catch(wn=>wn)))).filter(pn=>pn instanceof Error)})}function Rt(Jn){if(Jn!==void 0)return Jn;throw new Error("Value is undefined")}function $t(Jn,pn){const wn=Jn.reduce((Nn,jn)=>[...Nn,...jn.urls],[]).filter(Nn=>nn(Nn,pn)).sort(Nn=>Un(Nn,"udp")?-1:0).shift();if(wn)return Object.assign(Object.assign({},Rt(Jn.find(Nn=>Nn.urls.includes(wn)))),{urls:[wn]})}function nn(Jn,pn){switch(pn){case"stun":return/^stuns?:/.test(Jn);case"turn":return/^turns?:/.test(Jn)}}function Un(Jn,pn){return Jn.endsWith(`transport=${pn}`)}var Fn=s(9),En=s(24),fn=s(229);class sn extends Error{constructor(pn,wn){super(`Deadline expired after ${pn}ms + ${wn}ms`)}}class Ct{static withDeadline(pn,wn){const Nn=new Promise((jn,Wn)=>{setTimeout(()=>{Wn(new sn(wn,this.grpcCallDeadlineSlopMs))},wn+this.grpcCallDeadlineSlopMs)});return Promise.race([pn,Nn])}}Ct.grpcCallDeadlineSlopMs=500*nt.a.millisecond;var Dt=s(29);const Xt={ordered:!1,maxPacketLifeTime:300*nt.a.millisecond},_n={ordered:!0},mn={ordered:!0},xn={ordered:!1,maxRetransmits:0},On={ordered:!1,maxRetransmits:0},nr=Jn=>"received"in Jn&&Jn.received!==void 0,Nr=Jn=>!("received"in Jn)||Jn.received===void 0,co=2*nt.a.second;function Zr(Jn,pn={}){const wn=Array.from(Jn.values()),Nn=wn.filter(nr),jn=Nn.length>0,Wn=Math.max(...Nn.map(bn=>bn.received));let rr;if(jn){const bn=wn.length,Sn=Nn.length,Zn=Nn.map(Dr=>Dr.received-Dr.sent),{standardDeviation:ir,mean:hr,jitter:gr}=function(Dr){const Kr=Dr.length;if(Kr===0)return{mean:NaN,standardDeviation:-1,jitter:NaN};const Hr=Dr.reduce((Qo,Do)=>Qo+Do,0)/Kr,wo=Math.sqrt(Dr.map(Qo=>Math.pow(Qo-Hr,2)).reduce((Qo,Do)=>Qo+Do)/Kr);if(Kr===1)return{mean:Hr,standardDeviation:wo,jitter:NaN};let To=0;for(let Qo=1;Qo<Kr;Qo++)To+=Math.abs(Dr[Qo]-Dr[Qo-1]);return{mean:Hr,standardDeviation:wo,jitter:To/(Kr-1)}}(Zn),Rr=wn.filter(Dr=>Dr.sent<Wn-co),mr=Rr.filter(Nr),Er=mr.length===0?0:mr.length/Rr.length;rr={pingsSent:bn,pongsReceived:Sn,average:hr,standardDeviation:ir,jitter:gr,max:Math.max(...Zn),min:Math.min(...Zn),loss:Er}}else rr=null;const{temporalNow:Qr=Date.now()}=pn,Vn=(jn?Wn:Qr)-4*co;return Array.from(Jn.entries()).forEach(bn=>{const[Sn,Zn]=bn;Zn.sent<Vn&&Jn.delete(Sn)}),rr}function mo({entityId:Jn,streamName:pn,streamType:wn}){return`${Jn}.${pn}.${wn}`}var qr=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class io{constructor(pn,wn){this.sessionId=pn,this.connection=wn,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=pn,this.connection=wn}updateRemoteMessagesCounts(pn){if(pn.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const wn of pn.payload.streamsInfo.items)this.counts.remoteSent.set(wn.streamId,wn.sentCount),this.counts.remoteReceived.set(wn.streamId,wn.receivedCount)}}getLocalStreamsInfo(pn){const{localSent:wn,localReceived:Nn}=this.counts;return{items:[...new Set([...wn.keys(),...Nn.keys()])].map(jn=>{var Wn,rr;return{streamId:jn,sentCount:(Wn=wn.get(jn))!==null&&Wn!==void 0?Wn:0,receivedCount:(rr=Nn.get(jn))!==null&&rr!==void 0?rr:0}}),timestamp:pn}}incrementLocalSent(pn){const{localSent:wn}=this.counts,Nn=mo(pn.header.stream);wn.set(Nn,(wn.get(Nn)||0)+1)}incrementLocalReceived(pn){const{localReceived:wn}=this.counts,Nn=mo(pn.header.stream),jn=wn.get(Nn)||0;if(jn===0){const{streamName:Wn,streamType:rr}=pn.header.stream;ut.a.debug("RTC client received first message for stream",{streamName:Wn,streamType:rr})}wn.set(Nn,jn+1)}uploadMetrics(){return qr(this,void 0,void 0,function*(){const{sessionId:pn}=this,wn=yield this.connection.peerConnection.getStats(),Nn={};wn.forEach(bn=>Nn[bn.id]=bn),ut.a.debug("rtc-stats",Object.assign(Object.assign({},Nn),{sessionId:pn}));const{localSent:jn,localReceived:Wn,remoteSent:rr,remoteReceived:Qr}=this.counts,Vn=[...new Set([...jn.keys(),...Wn.keys()])].reduce((bn,Sn)=>{const Zn=jn.get(Sn),ir=Wn.get(Sn),hr=rr.get(Sn),gr=Qr.get(Sn);return Object.assign(Object.assign({},bn),{[`local-${Sn}-sent`]:Zn,[`local-${Sn}-received`]:ir,[`remote-${Sn}-sent`]:hr,[`remote-${Sn}-received`]:gr})},{sessionId:pn});ut.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},Vn))})}}function lo(Jn,pn,wn){return{header:{stream:Jn,created:Date.now(),frameId:wn||""},payload:pn}}function Vo(Jn){return new Set(["disconnected","failed","closed"]).has(Jn.iceConnectionState)}function Io(Jn){switch(Jn.header.stream.streamType){case"twist":{const{twist:pn}=Jn.payload;if(!pn)throw Error("twist not in payload of RTC message with type twist");return{header:Jn.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},pn.linear),angular:Object.assign({x:0,y:0,z:0},pn.angular)}}}}case"pose":{const{pose:pn}=Jn.payload;if(!pn)throw Error("pose not in payload of RTC message with type pose");return{header:Jn.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},pn.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},pn.rotation)}}}}case"pose-with-covariance":{const{poseWithCovariance:pn}=Jn.payload;if(!pn)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const wn=new Array(36).fill(0);return pn.covariance.forEach((Nn,jn)=>{if(jn>=36)throw Error("covariance contains more than 36 elements");wn[jn]=Nn}),{header:Jn.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},pn.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},pn.pose.rotation)},covariance:wn}}}}case"point":{const{point:pn}=Jn.payload;if(!pn)throw Error("point not in payload of RTC message with type point");return{header:Jn.header,payload:{point:Object.assign({x:0,y:0,z:0},pn)}}}default:return Jn}}var Go=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class rs{constructor(pn,wn,Nn){this.peerConnection=pn,this.config=wn,this.dataChannelNotifier=Nn,this.connectTimeoutMs=20*nt.a.second,this.iceGatheringTimeoutMs=15*nt.a.second,this.pingUpdateTimeoutMs=1*nt.a.second,this.pingV2UpdateTimeoutMs=250*nt.a.millisecond,this.pingV2MetricsGatherTimeoutMs=1*nt.a.second,this.streamsInfoUpdateTimeoutMs=2*nt.a.second,this.reassemblyTimeoutMs=500*nt.a.millisecond,this.reassemblyTableCleanupMs=1*nt.a.second,this.heartbeatTimeoutMs=20*nt.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1,this.pingV2Map=new Map,this.sendPingV2=()=>{const{latestTryOnceStreamChannel:Wn}=this;if(!Wn)return;const rr=new Date().getTime(),Qr=Object(fn.a)();this.sendSystemMessage(Wn,{type:"ping-v2",payload:{timestamp:rr,id:Qr}}),this.pingV2Map.set(Qr,{sent:rr})},this.gatherPingV2Metrics=()=>{const Wn=Zr(this.pingV2Map);if(Wn){const rr=this.getRemoteDeviceId();this.pingInfo=Wn,Ft.aggregate("rtc-ping-average",Wn.average,Object.assign({},rr?{deviceId:rr}:{})),Ft.aggregate("rtc-ping-loss",Wn.loss,Object.assign({},rr?{deviceId:rr}:{})),Ft.aggregate("rtc-jitter",Wn.jitter,Object.assign({},rr?{deviceId:rr}:{}))}};const{isOffer:jn}=wn.baseConfig;jn?this.initializeChannels(pn):pn.ondatachannel=Wn=>{switch(Wn.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=Wn.channel;break;case"stream.reliable":this.reliableStreamChannel=Wn.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=Wn.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=Wn.channel;break;case"heartbeat":return void(this.heartbeatChannel=Wn.channel);default:return void this.dataChannelNotifier(Wn.channel)}this.setupChannel(Wn.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:Wn}=this;Wn&&this.sendSystemMessage(Wn,{type:"ping"})},this.pingUpdateTimeoutMs),this.pingV2UpdateTimeout=setInterval(this.sendPingV2,this.pingV2UpdateTimeoutMs),this.pingV2MetricsGatherTimeout=setInterval(this.gatherPingV2Metrics,this.pingV2MetricsGatherTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:Wn}=this;Wn&&this.sendSystemMessage(Wn,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const Wn=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((rr,Qr,Vn)=>{Wn>Qr+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(rr)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:Wn}=this;Wn&&Wn.readyState==="open"&&Wn.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(pn){return Go(this,void 0,void 0,function*(){const{peerConnection:wn}=this,{track:Nn}=this.config.baseConfig,jn=(()=>{try{return JSON.parse(pn.getPayload())}catch{return}})();if(!jn)return void ut.a.error("Received unparseable signal.");ut.a.debug("Handling signal",{description:jn});const{sdp:Wn,type:rr}=jn;if(!Wn||!rr)return void ut.a.warn("Received non-SDP signal");const{signalingState:Qr,connectionState:Vn}=wn;if(Qr!=="stable"||Vn!=="connected")if(wn.remoteDescription)ut.a.warn(`Received SDP after remote description was set: ${Wn}`);else{if(rr==="offer"){if(Qr!=="stable")return void ut.a.warn("Received offer SDP when signaling is ongoing.");yield wn.setRemoteDescription(jn);const bn=yield wn.createAnswer();yield wn.setLocalDescription(bn);const Sn=pn.clone();return Nn==null||Nn("Answer Received",Sn),Sn.setPayload(JSON.stringify(bn)),Sn.setReceiverId(pn.getSenderId()),Sn.setSenderId(pn.getReceiverId()),Sn}if(rr==="answer"){if(Qr==="stable")return void ut.a.warn("Received answer SDP when signaling hasn't started.");yield wn.setRemoteDescription(jn)}}else ut.a.warn(`Received SDP when already connected: ${Wn}`)})}send(pn,wn){const Nn=this.getChannelFromLabel(wn.channelLabel);Nn?this.sendOnChannel(Nn,pn):ut.a.warn("Send called with unexpected channel label",{channelLabel:wn.channelLabel})}controlRemoteStream(pn){this.sendSystemMessage(Rt(this.reliableStreamChannel),{type:"stream-control",streamControl:pn})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:pn,latestTtlStreamChannel:wn,latestTryOnceStreamChannel:Nn,latestReliableStreamChannel:jn}=this;return(pn==null?void 0:pn.readyState)==="open"&&(wn==null?void 0:wn.readyState)==="open"&&(Nn==null?void 0:Nn.readyState)==="open"&&(jn==null?void 0:jn.readyState)==="open"}close(){return Go(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),$o(this.pingUpdateTimeout),$o(this.pingV2UpdateTimeout),$o(this.pingV2MetricsGatherTimeout),$o(this.reassemblyTableCleanupTimeout),$o(this.streamsInfoUpdateTimeout),$o(this.heartbeatTimeout);const{peerConnection:pn,reliableStreamChannel:wn,latestTtlStreamChannel:Nn,latestTryOnceStreamChannel:jn,latestReliableStreamChannel:Wn}=this;pn.close(),wn==null||wn.close(),Nn==null||Nn.close(),jn==null||jn.close(),Wn==null||Wn.close()})}getPing(){return this.pingTimeMs}getPingInfo(){return this.pingInfo}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var pn;return(pn=this.config.remoteConfig)===null||pn===void 0?void 0:pn.sessionCreatedTimestamp}setSessionCreatedTimestamp(pn){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=pn)}getSessionId(){var pn;return(pn=this.config.remoteConfig)===null||pn===void 0?void 0:pn.sessionId}setSessionId(pn){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=pn,this.sessionMetrics=new io(pn,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var pn;return(pn=this.config.baseConfig)===null||pn===void 0?void 0:pn.remoteDeviceId}setRemoteDeviceId(pn){this.config.baseConfig.remoteDeviceId=pn}getSessionMetricsMessageCounts(){var pn;return(pn=this.sessionMetrics)===null||pn===void 0?void 0:pn.counts}getConnectionStatsInfo(){return Go(this,void 0,void 0,function*(){const{peerConnection:pn}=this;if(!pn)return;const wn=yield pn.getStats(null),Nn=[];wn.forEach(Vn=>{Nn.push(Vn)});const jn=Nn.find(Vn=>Vn.type==="transport");if(!jn)return;const Wn=Nn.find(Vn=>(Vn.type==="candidate-pair"||Vn.type==="candidatepair")&&Vn.id===jn.selectedCandidatePairId);if(!Wn)return;const rr=Nn.find(Vn=>Vn.id===Wn.localCandidateId),Qr=Nn.find(Vn=>Vn.id===Wn.remoteCandidateId);return rr&&Qr&&(rr.address=rr.address||rr.ip,Qr.address=Qr.address||Qr.ip,rr.address!==void 0&&Qr.address!==void 0)?{transport:jn,localCandidate:rr,remoteCandidate:Qr}:void 0})}initializeChannels(pn){this.heartbeatChannel=pn.createDataChannel("heartbeat",On),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=pn.createDataChannel("stream.latest-ttl",Xt),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=pn.createDataChannel("stream.reliable",_n),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=pn.createDataChannel("stream.latest-reliable",mn),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=pn.createDataChannel("stream.latest-try-once",xn),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var pn,wn,Nn;return Go(this,void 0,void 0,function*(){const{gotOffer:jn}=this,{peerConnection:Wn,config:rr}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const Qr=(pn=this.config.remoteConfig)===null||pn===void 0?void 0:pn.sessionId;if(jn)return void ut.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Vo(this.peerConnection))return void ut.a.debug("Failed to generate offer because the peer connection was inactive.");const Vn=rr.baseConfig.track;Wn.onicecandidate=()=>{this.hasIceCandidate=!0},Wn.oniceconnectionstatechange=()=>Go(this,void 0,void 0,function*(){const hr=Wn.iceConnectionState;if(hr==="connected"||hr==="completed"){const gr=yield this.getConnectionStatsInfo(),Rr=gr?function(mr){const Er=mr.localCandidate.candidateType,Dr=mr.remoteCandidate.candidateType;return Er==="host"&&Dr==="host"?"local":Er==="relay"||Dr==="relay"?"TURN":"STUN"}(gr):void 0;ut.a.info(`ICE connection state changed to ${hr}`,{sessionId:Qr,connectionStatsInfo:gr,iceMode:Rr}),Vn==null||Vn("ICE connection state change",{iceConnectionState:hr,sessionId:Qr,connectionStatsInfo:gr,iceMode:Rr})}}),yield Wn.setLocalDescription(yield Wn.createOffer());const bn=new Date().getTime();for(;;){const hr=new Date().getTime()-bn;if(hr>this.connectTimeoutMs)return void ut.a.debug("Failed to generate offer because ICE gathering timed out.");if(hr>this.iceGatheringTimeoutMs&&this.hasIceCandidate){ut.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:Wn.getConfiguration().iceTransportPolicy,waitTime:hr}),Vn==null||Vn("ICE gathering partially completed",{sessionId:Qr,iceTransportPolicy:Wn.getConfiguration().iceTransportPolicy,waitTime:hr});break}if(Wn.iceGatheringState==="complete"){ut.a.debug("ICE gathering complete",{iceTransportPolicy:Wn.getConfiguration().iceTransportPolicy,waitTime:hr}),Vn==null||Vn("ICE gathering completed",{sessionId:Qr,iceTransportPolicy:Wn.getConfiguration().iceTransportPolicy,waitTime:hr});break}yield Object(ot.a)(.1*nt.a.second)}const Sn=(wn=this.peerConnection.getConfiguration().iceServers)!==null&&wn!==void 0?wn:[];for(const hr of Sn)"credentialType"in hr&&(hr.credentialType=void 0);const Zn=JSON.stringify(Sn),ir=new Fn.Signal;return ir.setPayload(JSON.stringify(Wn.localDescription)),ir.setSenderId(this.config.baseConfig.localPeerId),ir.setReceiverId(this.config.baseConfig.remotePeerId),ir.setIceServers(Zn),ir.setIceTransportPolicy((Nn=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&Nn!==void 0?Nn:"all"),this.config.baseConfig.sessionType!==void 0?ir.setSessionType(this.config.baseConfig.sessionType):ir.setSessionType(Fn.SessionType.TELEOP),ut.a.debug("Sending offer signal with description",{description:ir.getPayload()}),ir})}getLanOffer(){return Go(this,void 0,void 0,function*(){const{peerConnection:pn,gotOffer:wn}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(wn)return void ut.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Vo(this.peerConnection))return void ut.a.debug("Failed to generate offer because the peer connection was inactive.");yield pn.setLocalDescription(yield pn.createOffer());const Nn=new Date().getTime();for(;;){if(new Date().getTime()-Nn>this.iceGatheringTimeoutMs)return void ut.a.debug("Failed to generate offer because ICE gathering timed out.");if(pn.iceGatheringState==="complete")break;yield Object(ot.a)(.1*nt.a.second)}const jn=pn.localDescription;if(jn)return ut.a.debug("Sending LAN offer signal with description",{description:jn}),jn;ut.a.error("Failed to generate LAN offer description")})}handleLanAnswer(pn){return Go(this,void 0,void 0,function*(){const{peerConnection:wn}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield wn.setRemoteDescription(pn)})}getChannelFromLabel(pn){switch(pn){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(pn,wn){let Nn;try{Nn=Object(Dt.encode)(JSON.stringify(wn))}catch(jn){return void ut.a.warn("Failed to encode RTC message",{error:jn})}try{pn.send(Nn),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(wn)}catch(jn){ut.a.warn("Failed to send message to channel",{error:jn,channel:pn.label})}}channelNotRecognized(pn){return pn!==this.latestTtlStreamChannel&&pn!==this.latestReliableStreamChannel&&pn!==this.latestTryOnceStreamChannel&&pn!==this.reliableStreamChannel}setupChannel(pn){pn.onmessage=wn=>{if(this.channelNotRecognized(pn))return void ut.a.warn("Received message on unrecognized data channel.");let Nn;try{Nn=JSON.parse(Object(Dt.decode)(wn.data))}catch(jn){return void ut.a.warn("Received unparseable message on RTC stream data channel",{error:jn,channel:pn.label})}Nn.communicationType==="message-chunk"?this.receiveChannelMessageChunk(pn,Nn):this.receiveChannelMessage(pn,Nn)},pn.onerror=wn=>{ut.a.warn(`Channel error: ${wn.error}`,{error:wn.error,sessionId:this.getSessionId(),channelLabel:pn.label})},pn.onopen=()=>{ut.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:pn.label})},pn.onclose=()=>{const wn={bufferedAmount:pn.bufferedAmount,sessionId:this.getSessionId(),channelLabel:pn.label};this.closeCalled===!1?ut.a.debug("Unexpected channel closed",wn):ut.a.debug("Channel closed",wn)}}receiveChannelMessage(pn,wn){const{config:Nn}=this,{remotePeerId:jn}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),wn=Io(wn),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(wn),this.handleSystemMessage(pn,wn)||(pn===this.latestTryOnceStreamChannel||pn===this.latestTtlStreamChannel||pn===this.latestReliableStreamChannel)&&!this.isLatestMessage(wn)||Nn.baseConfig.receive(jn,wn)}receiveChannelMessageChunk(pn,wn){const Nn=this.reassemblyTable.get(wn.id)||[];if(Nn.push(wn),Nn.length===wn.total){const jn=function(Wn){const rr=Wn.sort((Qr,Vn)=>Qr.seq<Vn.seq?-1:1).map(Qr=>Qr.part).reduce((Qr,Vn)=>Qr+Vn);try{return JSON.parse(rr)}catch{return void ut.a.warn("Could not reassemble RTC message chunks")}}(Nn);return jn&&this.receiveChannelMessage(pn,jn),void this.reassemblyTable.delete(wn.id)}this.reassemblyTable.set(wn.id,Nn),this.reassemblyTableLastTimestamp.set(wn.id,new Date().getTime())}handleSystemMessage(pn,wn){var Nn,jn;const{config:Wn}=this,{baseConfig:rr}=Wn,{remotePeerId:Qr,remoteDeviceId:Vn}=rr;switch(wn.header.stream.streamType){case"ping":return this.sendSystemMessage(pn,{type:"pong",timestamp:Rt(wn.payload.ping)}),!0;case"pong":{const bn=new Date().getTime()-Rt(wn.payload.pong);return this.pingTimeMs=bn,Ft.aggregate("rtc-ping-time",bn,Object.assign({},Vn?{deviceId:Vn}:{})),!0}case"ping-v2":return this.sendPingV2(),!0;case"pong-v2":{const bn=Rt(wn.payload.pongV2),Sn=this.pingV2Map.get(bn.id);return(Sn==null?void 0:Sn.sent)!==bn.timestamp&&ut.a.warn("Pong timestamp doesn't match stored value",{currentEntry:Sn,pong:bn}),this.pingV2Map.set(bn.id,{sent:bn.timestamp,received:new Date().getTime()}),!0}case"streams-info":{const{sessionMetrics:bn}=this,Sn=(Nn=wn.payload.streamsInfo)===null||Nn===void 0?void 0:Nn.timestamp;return!!Sn&&(bn==null||bn.updateRemoteMessagesCounts(wn),(jn=rr.onStreamsInfoUpdate)===null||jn===void 0||jn.call(rr,Qr,Sn),!0)}case"stream-control":return!0;default:return!1}}sendSystemMessage(pn,wn){var Nn;const{localUserId:jn,localPeerId:Wn}=this.config.baseConfig;if(pn.readyState!=="open")return;const rr={entityId:jn??Wn,streamName:`$.${wn.type}`,streamType:wn.type};let Qr;switch(wn.type){case"ping":Qr={ping:new Date().getTime()};break;case"pong":Qr={pong:wn.timestamp};break;case"ping-v2":Qr={pingV2:wn.payload};break;case"pong-v2":Qr={pongV2:wn.payload};break;case"stream-control":Qr={streamControl:wn.streamControl};break;case"streams-info":Qr={streamsInfo:(Nn=this.sessionMetrics)===null||Nn===void 0?void 0:Nn.getLocalStreamsInfo(new Date().getTime())}}this.sendOnChannel(pn,lo(rr,Qr))}isLatestMessage(pn){const wn=mo(pn.header.stream),Nn=(this.streamLatestTimestamp.get(wn)||0)<=pn.header.created;return Nn&&this.streamLatestTimestamp.set(wn,pn.header.created),Nn}}function $o(Jn){Jn&&clearInterval(Jn)}function ds(){ut.a.debug("forceGarbageCollection() triggered"),queueMicrotask(()=>{let Jn=document.createElement("img");Jn.src=window.URL.createObjectURL(new Blob([new ArrayBuffer(5e7)])),Jn.onerror=function(){window.URL.revokeObjectURL(this.src),Jn=null}})}function ba(Jn){try{return Jn instanceof Error?`${Jn.name}: ${Jn.message}`:typeof Jn=="object"?JSON.stringify(Jn):String(Jn)}catch{return"Unknown error"}}function Ss(Jn){var pn,wn;return{userId:(pn=Jn.getUserId())===null||pn===void 0?void 0:pn.getValue(),deviceId:(wn=Jn.getDeviceId())===null||wn===void 0?void 0:wn.getValue(),organizationId:Jn.getOrganizationId(),id:Jn.getPeerId(),capabilities:[],capabilitySet:{}}}var Fs=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class Yl{constructor(pn){this.config=pn,this.grpcCallDeadline=5*nt.a.second,this.refreshIntervalDelayMs=2*nt.a.second,this.iceServersTtl=30*nt.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[],this.rtcInstancesConstructed=0;const{refreshIntervalDelayMs:wn}=this;this.refreshInterval=mt({func:()=>Fs(this,void 0,void 0,function*(){try{yield this.update()}catch(Nn){ut.a.warn("RTC refresh failed",{error:Nn})}}),delay:wn,immediate:!0})}send(pn,wn,Nn){const jn=this.getActiveConnection(pn);jn?jn.isReady()?jn.send(wn,Nn):ut.a.warn("Send called with unready connection."):ut.a.warn("Send called with no connection.")}controlRemoteStream(pn,wn){const Nn=this.getActiveConnection(pn);Nn?Nn.isReady()?Nn.controlRemoteStream(wn):ut.a.warn("controlRemoteStream called with unready connection."):ut.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return Fs(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(ot.a)(.1*nt.a.second);return Ss(this.localPeer)})}connect(pn,wn){var Nn,jn,Wn;return Fs(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:rr,signalingClient:Qr}=this.config,{localPeer:Vn,receiveSignalStream:bn,iceServers:Sn}=this;if(!Vn||!bn||!Sn)return void ut.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(pn))return void ut.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(pn))return void ut.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(pn,!0);const Zn=function(Dr,Kr,Hr){const{rtcIceTransportPolicies:wo,rtcIceServerProtocol:To,useAllServers:Qo}=Kr||{},Do=Dr.map(Zo=>Object.assign(Object.assign({},Zo),{urls:Zo.urls.filter(as=>{const Eo=(wo===void 0||wo.some(Qs=>nn(as,Qs)))&&(To===void 0||Un(as,To));return Eo||ut.a.debug(`Ignoring ICE server: ${as}`,{organizationId:Hr}),Eo})})).filter(({urls:Zo})=>Zo.filter(as=>as).length>0);return Qo?Do:[$t(Do,"stun"),$t(Do,"turn")].filter(Zo=>Zo!==void 0).map(Zo=>Rt(Zo))}(Sn,wn);ut.a.debug("Received ICE servers:",Sn),ut.a.debug("Using ICE servers:",Zn);const ir=new rs(yield this.createRTCPeerConnection(Zn),{baseConfig:{isOffer:!0,isLan:!1,receive:(Dr,Kr)=>this.config.receive(Dr,Kr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Dr,Kr)=>{var Hr,wo;return(wo=(Hr=this.config).onStreamsInfoUpdate)===null||wo===void 0?void 0:wo.call(Hr,Dr,Kr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(Nn=Vn.getUserId())===null||Nn===void 0?void 0:Nn.getValue(),localPeerId:Vn.getPeerId(),remotePeerId:pn,sessionType:this.config.sessionType},remoteConfig:{}},Dr=>this.onCustomDataChannel(pn,Dr)),hr=yield ir.getOffer();if(!hr)return ut.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(pn);ut.a.debug("Sending offer."),rr==null||rr("Sending offer",hr);const gr=new Fn.SendSignalRequest;gr.setSignal(hr);const Rr=yield(()=>Fs(this,void 0,void 0,function*(){try{return yield Ct.withDeadline(Qr.sendSignal(gr,yield this.getMetadata({})),this.grpcCallDeadline)}catch(Dr){ut.a.warn("Error when sending signal",{error:Dr})}}))();if(!this.isOutgoingConnection.get(pn))return void ut.a.debug("No offer set after receiving offer signal response.");ut.a.debug("Offer sent.");const mr=(jn=Rr==null?void 0:Rr.getSessionId())===null||jn===void 0?void 0:jn.getValue(),Er=(Wn=Rr==null?void 0:Rr.getSessionCreatedTimestamp())===null||Wn===void 0?void 0:Wn.getValue();return mr&&Er?(ir.setSessionId(mr),ir.setSessionCreatedTimestamp(Er),this.isOutgoingConnection.delete(pn),this.connections.push(ir),this.isConnectionInitiator.set(ir,!0),this.setupHandlers(ir),mr):(ut.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(pn))})}connectLan(pn){var wn,Nn;return Fs(this,void 0,void 0,function*(){const jn=new Gt(pn),Wn=new rs(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(bn,Sn)=>this.config.receive(bn,Sn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(bn,Sn)=>{var Zn,ir;return(ir=(Zn=this.config).onStreamsInfoUpdate)===null||ir===void 0?void 0:ir.call(Zn,bn,Sn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(Nn=(wn=this.localPeer)===null||wn===void 0?void 0:wn.getUserId())===null||Nn===void 0?void 0:Nn.getValue(),localPeerId:"lan_client",remotePeerId:pn}},bn=>this.onCustomDataChannel(pn,bn)),rr=yield Wn.getLanOffer();if(!rr)return ut.a.warn("Could not generate LAN offer"),!1;const Qr=yield jn.postLanRtcOffer({offer:JSON.stringify(rr)}),Vn=new RTCSessionDescription(JSON.parse(Qr.answer));return yield Wn.handleLanAnswer(Vn),this.localConnections.push(Wn),this.isConnectionInitiator.set(Wn,!0),Object(fn.a)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(pn,wn,Nn,jn,Wn){const rr=this.getActiveConnection(pn);if(rr&&this.isConnectionInitiator.has(rr)){const Vn=rr.peerConnection.createDataChannel("custom."+wn,Nn);return jn&&(Vn.binaryType="arraybuffer"),Wn(pn,Vn),()=>{}}const Qr=(Vn,bn)=>{pn===Vn&&bn.label==="custom."+wn&&Wn(pn,bn)};return this.peerDataChannelListeners.push(Qr),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(Vn=>Vn!==Qr)}}onCustomDataChannel(pn,wn){this.peerDataChannelListeners.forEach(Nn=>Nn(pn,wn))}getConnectionStatus(pn){if(this.isOutgoingConnection.get(pn))return"connecting";const wn=this.getActiveConnection(pn);return wn?wn.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(pn){return Fs(this,void 0,void 0,function*(){const wn=this.getActiveConnection(pn);if(wn)return yield wn.getConnectionStatsInfo()})}disconnect(pn){return Fs(this,void 0,void 0,function*(){const wn=this.getActiveConnection(pn);wn&&(yield wn.close())})}getPeers(){return Fs(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:pn}=this.config,wn=yield(()=>Fs(this,void 0,void 0,function*(){try{return yield Ct.withDeadline(pn.getPeers(new Fn.GetPeersRequest,yield this.getMetadata({})),this.grpcCallDeadline)}catch(Wn){ut.a.warn("Error when getting peers",{error:Wn})}}))();if(!wn)return[];const Nn=wn.getPeersList();if(!Nn)return[];const jn=Wn=>{var rr,Qr;return(Qr=(rr=Wn.getPeerCreatedTimestamp())===null||rr===void 0?void 0:rr.getValue())!==null&&Qr!==void 0?Qr:0};return Nn.sort((Wn,rr)=>jn(rr)-jn(Wn)).map(Wn=>Ss(Wn))})}getSessions(){return Fs(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:pn}=this.config,wn=yield(()=>Fs(this,void 0,void 0,function*(){try{return yield Ct.withDeadline(pn.getPeers(new Fn.GetPeersRequest,yield this.getMetadata({})),this.grpcCallDeadline)}catch(Wn){ut.a.warn("Error when getting peers",{error:Wn})}}))();if(!wn)return{};const Nn=wn.getPeersList(),jn={};for(const Wn of Nn)jn[Wn.getPeerId()]=Wn.getSessionIdsList();return jn})}getPing(pn){const wn=this.getActiveConnection(pn);if(wn)return wn.getPing();ut.a.warn("Attempted to get ping time from inactive peer.")}getPingInfo(pn){const wn=this.getActiveConnection(pn);if(wn)return wn.getPingInfo();ut.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(pn){const wn=this.getActiveConnection(pn);if(wn)return wn.getLastMessageTimestamp();ut.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(pn){const wn=this.getActiveConnection(pn);if(wn)return wn.getSessionMetricsMessageCounts();ut.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:pn,receiveSignalStream:wn,iceServers:Nn}=this;return!!(pn&&wn&&Nn)}shutdown(){return Fs(this,void 0,void 0,function*(){ut.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const pn=this.connections;this.connections=[],yield this.closeConnections(pn);const{localPeer:wn}=this;if(!wn||this.config.lanOnlyMode)return;const{signalingClient:Nn}=this.config;yield(()=>Fs(this,void 0,void 0,function*(){try{const jn=new Fn.DeletePeerRequest;jn.setPeerId(wn.getPeerId()),yield Ct.withDeadline(Nn.deletePeer(jn,yield this.getMetadata({})),this.grpcCallDeadline)}catch(jn){return void ut.a.warn("Error deleting local peer",{error:jn})}}))()})}createPeer(){return Fs(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:pn}=this.config,wn=yield(()=>Fs(this,void 0,void 0,function*(){try{return yield Ct.withDeadline(pn.createPeer(new Fn.CreatePeerRequest,yield this.getMetadata({})),this.grpcCallDeadline)}catch(jn){const Wn=jn;ut.a.debug("createPeer failed",{error:Wn});const rr=ba(Wn);throw new Error(`Was not able to create peer: ${rr}`)}}))(),Nn=wn==null?void 0:wn.getPeer();if(!Nn)throw new Error("Response did not provide peer.");return this.localPeer=Nn})}createReceiveSignalStream(){return Fs(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:pn}=this.config,{localPeer:wn,iceServers:Nn}=this;if(!wn||!Nn)return;const{receiveSignalStream:jn}=this;jn&&jn.cancel();const Wn=new Fn.ReceiveSignalStreamRequest;Wn.setPeerId(wn.getPeerId());const rr=yield(()=>Fs(this,void 0,void 0,function*(){try{return pn.receiveSignalStream(Wn,yield this.getMetadata({hasDeadline:!1}))}catch(Qr){ut.a.debug("createReceiveSignalStream failed",{error:Qr});const Vn=ba(Qr);throw new Error(`Unable to create receive signal stream: ${Vn}`)}}))();if(!rr)throw new Error("Response did not provide stream.");return rr.on("data",Qr=>Fs(this,void 0,void 0,function*(){var Vn,bn,Sn,Zn;const ir=Qr.getSignal(),hr=(Vn=ir==null?void 0:ir.getSessionId())===null||Vn===void 0?void 0:Vn.getValue(),gr=ir==null?void 0:ir.getSenderId(),Rr=ir==null?void 0:ir.getReceiverId(),mr=(bn=ir==null?void 0:ir.getSessionCreatedTimestamp())===null||bn===void 0?void 0:bn.getValue();if(!(ir&&hr&&gr&&Rr&&mr))return void ut.a.warn("Received signal with missing information.");const Er=this.getActiveConnection(gr);if(Er)if(Er.getSessionId()!==hr){if(ut.a.debug("Received signal: different session for a peer we're already connected to."),(Er.getSessionCreatedTimestamp()||0)>mr)return;const Dr=new rs(yield this.createRTCPeerConnection(Nn),{baseConfig:{isOffer:!1,isLan:!1,receive:(Kr,Hr)=>this.config.receive(Kr,Hr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Kr,Hr)=>{var wo,To;return(To=(wo=this.config).onStreamsInfoUpdate)===null||To===void 0?void 0:To.call(wo,Kr,Hr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:wn.getPeerId(),localUserId:(Zn=wn.getUserId())===null||Zn===void 0?void 0:Zn.getValue(),remotePeerId:gr},remoteConfig:{sessionId:hr,sessionCreatedTimestamp:mr}},Kr=>this.onCustomDataChannel(gr,Kr));yield Dr.handleSignal(ir),this.connections.push(Dr)}else ut.a.debug("Received signal: for an existing connection."),yield Er.handleSignal(ir);else{ut.a.debug("Received signal: new connection.");const Dr=new rs(yield this.createRTCPeerConnection(Nn),{baseConfig:{isOffer:!1,isLan:!1,receive:(Kr,Hr)=>this.config.receive(Kr,Hr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Kr,Hr)=>{var wo,To;return(To=(wo=this.config).onStreamsInfoUpdate)===null||To===void 0?void 0:To.call(wo,Kr,Hr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:wn.getPeerId(),localUserId:(Sn=wn.getUserId())===null||Sn===void 0?void 0:Sn.getValue(),remotePeerId:gr},remoteConfig:{sessionId:hr,sessionCreatedTimestamp:mr}},Kr=>this.onCustomDataChannel(gr,Kr));yield Dr.handleSignal(ir),this.connections.push(Dr)}})),rr.on("end",()=>{rr.cancel(),this.receiveSignalStream=void 0}),rr.on("error",Qr=>{switch(Qr.code){case En.StatusCode.CANCELLED:case En.StatusCode.UNAVAILABLE:case En.StatusCode.UNKNOWN:ut.a.debug("Receive signal stream error",{error:Qr});break;case En.StatusCode.UNAUTHENTICATED:ut.a.warn("Receive signal stream error",{error:Qr});break;default:ut.a.error("Receive signal stream error",{error:Qr})}rr.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=rr})}createRTCPeerConnection(pn){var wn;return Fs(this,void 0,void 0,function*(){const Nn=(wn=this.config.alternateRTCPeerConnection)!==null&&wn!==void 0?wn:window.RTCPeerConnection;if(!Nn)throw function(){const{userAgent:jn}=navigator;return jn.includes("Firefox/")?"Firefox":jn.includes("Edg/")?"Edge":jn.includes("Chrome/")?"Chrome":jn.includes("Safari/")?"Safari":jn.includes("MSIE/")||jn.includes("Trident/")?"IE":"Other"}()!=="Chrome"?new Error("WebRTC is not enabled. Please try again with the latest version of Google Chrome."):new Error("WebRTC is not enabled. Please ensure WebRTC is not disabled by ad blocking software.");this.rtcInstancesConstructed++,this.rtcInstancesConstructed%20||ds();try{return new Nn({iceServers:pn})}catch(jn){throw ut.a.debug(`Failed to create RTCPeerConnection: ${this.rtcInstancesConstructed} total allocated`),jn}})}closeConnections(pn){return Fs(this,void 0,void 0,function*(){const wn=yield kt(pn.map(Nn=>Fs(this,void 0,void 0,function*(){yield Nn.close()})));for(const Nn of wn)ut.a.warn("Request to close session failed",{error:Nn})})}getActiveConnection(pn){return this.getConnections().find(wn=>wn.getRemotePeerId()===pn&&wn.isActive())}update(){var pn;return Fs(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(Qr=>Qr.isActive()),this.config.lanOnlyMode)return;const{signalingClient:wn}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers){const Qr=[];return this.localPeer||Qr.push(this.createPeer()),this.iceServers||Qr.push(this.updateIceServers()),yield Promise.all(Qr),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()))}yield this.closeConnections(this.connections.filter(Qr=>!Qr.isActive())),this.connections=this.connections.filter(Qr=>Qr.isActive());const{localPeer:Nn}=this,jn=this.connections.filter(Qr=>Qr.getSessionId).map(Qr=>Rt(Qr.getSessionId()));Nn.setSessionIdsList(jn);const Wn=new Fn.RefreshPeerRequest;Wn.setPeer(Nn);try{yield Ct.withDeadline(wn.refreshPeer(Wn,yield this.getMetadata({})),this.grpcCallDeadline)}catch(Qr){Qr.code===En.StatusCode.NOT_FOUND?(ut.a.warn("Peer expired, creating new peer",{peerId:Nn.getPeerId()}),yield this.reset()):ut.a.warn("Error calling RefreshPeer",{error:Qr})}const rr=yield this.getPeers();for(const Qr of this.connections)Qr.setRemoteDeviceId((pn=rr.find(Vn=>Vn.id===Qr.getRemotePeerId()))===null||pn===void 0?void 0:pn.deviceId)})}reset(){return Fs(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return Fs(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:pn,iceServersTtl:wn}=this,Nn=new Date().getTime();if(!pn||Nn-pn>wn)try{const jn=(yield Ct.withDeadline(this.config.signalingClient.getIceServers(new Fn.GetIceServersRequest,yield this.getMetadata({})),this.grpcCallDeadline)).getIceServers();this.iceServers=JSON.parse(jn),this.iceServersLastUpdate=Nn}catch(jn){ut.a.warn("Error in updateIceServers",{error:jn})}})}setupHandlers(pn){const{peerConnection:wn}=pn,Nn=pn.getSessionCreatedTimestamp();wn.onconnectionstatechange=()=>Fs(this,void 0,void 0,function*(){const jn=wn.connectionState;if(!Nn)return;const Wn=pn.getRemoteDeviceId();switch(jn){case"connected":Ft.aggregate("rtc-connect-time",new Date().getTime()-Nn,Object.assign({},Wn?{deviceId:Wn}:{}));break;case"failed":Ft.increment("rtc-connect-failed",Object.assign({},Wn?{deviceId:Wn}:{}))}})}getMetadata(pn){return Fs(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:wn}=this.config,{grpcCallDeadline:Nn}=this,{hasDeadline:jn}=pn,Wn=jn===!1?void 0:new Date().getTime()+Nn;try{return{authorization:yield wn(),deadline:Wn}}catch(rr){throw ut.a.error("getToken() failed",{error:rr}),new Error("Cannot get authorization token")}})}}var Ps=s(10),Cs=s(11),gu=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class Us{constructor(pn,wn){this.sessionId=pn,this.connection=wn,this.sentMessagesCounts=new Map,this.receivedMessagesCounts=new Map,this.sessionId=pn,this.connection=wn}incrementMessageSent(pn){const wn=mo(pn.header.stream);this.sentMessagesCounts.set(wn,(this.sentMessagesCounts.get(wn)||0)+1)}incrementMessageReceived(pn){const wn=mo(pn.header.stream);this.receivedMessagesCounts.set(wn,(this.receivedMessagesCounts.get(wn)||0)+1)}uploadMetrics(){return gu(this,void 0,void 0,function*(){const{sessionId:pn}=this,wn=yield this.connection.peerConnection.getStats(),Nn={};wn.forEach(Wn=>Nn[Wn.id]=Wn),ut.a.debug("rtc-stats",Object.assign(Object.assign({},Nn),{sessionId:pn}));const jn=[...new Set(Array.from(this.sentMessagesCounts.keys()).concat(Array.from(this.receivedMessagesCounts.keys())))].reduce((Wn,rr)=>{const Qr=this.sentMessagesCounts.get(rr),Vn=this.receivedMessagesCounts.get(rr);return Object.assign(Object.assign({},Wn),{[`${rr}-sent`]:Qr,[`${rr}-received`]:Vn})},{sessionId:pn});ut.a.debug("rtc-message-report",jn)})}}function ru(Jn,pn){return mo(Jn)===mo(pn)}var Gr=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class Cn{constructor(pn,wn){this.peerConnection=pn,this.config=wn,this.connectTimeoutMs=10*nt.a.second,this.gatherIceTimeoutMs=5*nt.a.second,this.pingUpdateTimeoutMs=2*nt.a.second,this.streamLatestTimestamp=new Map,this.closeCalled=!1,this.connectCalled=!1,this.sentOffer=!1,this.receivedIceCandidate=!1;const{isOffer:Nn}=wn;Nn?this.initializeChannels(pn):pn.ondatachannel=jn=>{switch(jn.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=jn.channel;break;case"stream.reliable":this.reliableStreamChannel=jn.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=jn.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=jn.channel}this.setupChannel(jn.channel)},this.sessionMetrics=new Us(this.getSessionId(),this)}connect(){return Gr(this,void 0,void 0,function*(){if(this.connectCalled)return;this.connectCalled=!0,this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:jn}=this;jn&&this.sendSystemMessage(jn,{type:"ping"})},this.pingUpdateTimeoutMs),this.connectTimeout=setTimeout(()=>Gr(this,void 0,void 0,function*(){this.isReady()||(ut.a.warn("RTC connect timed out, closing connection"),yield this.close())}),this.connectTimeoutMs);const{peerConnection:pn,config:{isOffer:wn,sessionId:Nn}}=this;if(wn){const jn=yield pn.createOffer();yield pn.setLocalDescription(jn)}wn&&(this.gatherIceTimeout=setTimeout(()=>Gr(this,void 0,void 0,function*(){this.sentOffer||(ut.a.warn("ICE gathering timed out"),this.receivedIceCandidate?(ut.a.warn("Attempting to connect with partial ICE candidate pool"),yield this.sendOffer()):yield this.close())}),this.gatherIceTimeoutMs),pn.onicecandidate=jn=>Gr(this,void 0,void 0,function*(){jn.candidate?this.receivedIceCandidate=!0:yield this.sendOffer()}),pn.onicegatheringstatechange=()=>Gr(this,void 0,void 0,function*(){pn.iceGatheringState==="complete"&&(yield this.sendOffer())}),pn.onnegotiationneeded=()=>{ut.a.debug("Negotiation needed",{sessionId:Nn})})})}handleSignal(pn){return Gr(this,void 0,void 0,function*(){const{peerConnection:wn,config:{sessionId:Nn,sendSignal:jn}}=this,{description:Wn}=JSON.parse(pn.payload);if(ut.a.debug("Handling signal",{sessionId:Nn,description:JSON.stringify(Wn)}),Wn)if(wn.signalingState!=="stable"||wn.connectionState!=="connected")if(wn.remoteDescription)ut.a.warn(`Received SDP signal during negotiation when remote description is already set: ${JSON.stringify(pn)}`);else if(Wn.type==="offer"){yield wn.setRemoteDescription(Wn);const rr=yield wn.createAnswer();yield wn.setLocalDescription(rr),yield jn({payload:JSON.stringify({description:rr})})}else Wn.type==="answer"&&(yield wn.setRemoteDescription(Wn));else ut.a.warn(`Received SDP signal when signaling is stable and connected: ${JSON.stringify(pn)}`);else ut.a.warn(`Received non-SDP signal: ${JSON.stringify(pn)}`)})}send(pn,wn){const Nn=this.getChannelFromLabel(wn.channelLabel);Nn?this.sendOnChannel(Nn,pn):ut.a.warn("Send called with unexpected channel label",{channelLabel:wn.channelLabel})}controlRemoteStream(pn){this.sendSystemMessage(Rt(this.reliableStreamChannel),{type:"stream-control",streamControl:pn})}isActive(){return new Set(["new","connecting","connected"]).has(this.peerConnection.connectionState)}isReady(){const{peerConnection:pn,latestTtlStreamChannel:wn,reliableStreamChannel:Nn,latestTryOnceStreamChannel:jn}=this;return!!(Nn&&wn&&jn)&&pn.connectionState==="connected"&&Nn.readyState==="open"&&wn.readyState==="open"&&jn.readyState==="open"}isClosed(){const{peerConnection:pn,reliableStreamChannel:wn,latestTryOnceStreamChannel:Nn,latestTtlStreamChannel:jn}=this;return!(pn.connectionState!=="closed"||wn!==void 0&&wn.readyState!=="closed"||Nn!==void 0&&Nn.readyState!=="closed"||jn!==void 0&&jn.readyState!=="closed")}needsClosing(){const{peerConnection:pn,latestTtlStreamChannel:wn,reliableStreamChannel:Nn,latestTryOnceStreamChannel:jn}=this;if(this.isClosed())return!1;const Wn=new Set(["closing","closed"]),rr=Qr=>Qr&&Wn.has(Qr.readyState);return Vo(pn)||rr(wn)||rr(Nn)||rr(jn)}close(){return Gr(this,void 0,void 0,function*(){this.closeCalled||(this.closeCalled=!0,yield this.sessionMetrics.uploadMetrics(),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.connectTimeout&&clearTimeout(this.connectTimeout),this.gatherIceTimeout&&clearTimeout(this.gatherIceTimeout),this.peerConnection.close())})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionId(){return this.config.sessionId}getRemotePeer(){return this.config.remotePeer}initializeChannels(pn){this.latestTtlStreamChannel=pn.createDataChannel("stream.latest-ttl",Xt),this.reliableStreamChannel=pn.createDataChannel("stream.reliable",_n),this.latestReliableStreamChannel=pn.createDataChannel("stream.latest-reliable",mn),this.latestTryOnceStreamChannel=pn.createDataChannel("stream.latest-try-once",xn),this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}sendOffer(){return Gr(this,void 0,void 0,function*(){if(this.sentOffer||(this.sentOffer=!0,Vo(this.peerConnection)))return;const{peerConnection:pn,config:{sendSignal:wn}}=this,Nn=yield pn.createOffer();yield pn.setLocalDescription(Nn);const jn={payload:JSON.stringify({description:Nn})};yield wn(jn)})}getChannelFromLabel(pn){switch(pn){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(pn,wn){let Nn;try{Nn=Object(Dt.encode)(JSON.stringify(wn))}catch(jn){return void ut.a.warn("Failed to encode RTC message",{error:jn})}try{pn.send(Nn),this.sessionMetrics.incrementMessageSent(wn)}catch(jn){ut.a.warn("Failed to send message to channel",{error:jn,channel:pn.label})}}channelNotRecognized(pn){return pn!==this.latestTtlStreamChannel&&pn!==this.latestReliableStreamChannel&&pn!==this.latestTryOnceStreamChannel&&pn!==this.reliableStreamChannel}setupChannel(pn){pn.onmessage=wn=>{if(this.channelNotRecognized(pn))return void ut.a.warn("Received message on unrecognized data channel.");let Nn;try{Nn=JSON.parse(Object(Dt.decode)(wn.data))}catch(jn){return void ut.a.warn("Received unparseable RTC message",{error:jn,channel:pn.label})}if(this.lastMessageTimestamp=new Date().getTime(),Nn=Io(Nn),this.sessionMetrics.incrementMessageReceived(Nn),!this.handleSystemMessage(pn,Nn)){if(!this.hasCapabilities(Nn))return void ut.a.warn("Received RTC message that was not within the capability scope of the connection.");(pn===this.latestTryOnceStreamChannel||pn===this.latestTtlStreamChannel||pn===this.latestReliableStreamChannel)&&!this.isLatestMessage(Nn)||this.config.receive(this.config.remotePeer.id,Nn)}},pn.onerror=wn=>{ut.a.warn(`Channel error: ${wn.error}`,{error:wn.error,sessionId:this.getSessionId(),channelLabel:pn.label})},pn.onopen=()=>{ut.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:pn.label})},pn.onclose=()=>{const wn={bufferedAmount:pn.bufferedAmount,sessionId:this.getSessionId(),channelLabel:pn.label};this.closeCalled===!1?ut.a.debug("Unexpected channel closed",wn):ut.a.debug("Channel closed",wn)}}handleSystemMessage(pn,wn){switch(wn.header.stream.streamType){case"ping":return this.sendSystemMessage(pn,{type:"pong",timestamp:Rt(wn.payload.ping)}),!0;case"pong":{const Nn=new Date().getTime()-Rt(wn.payload.pong);return this.pingTimeMs=Nn,Ft.aggregate("rtc-ping-time",Nn),!0}case"stream-control":return!0;default:return!1}}sendSystemMessage(pn,wn){if(pn.readyState!=="open")return;const Nn={entityId:Rt(this.config.localPeer.deviceId||this.config.localPeer.userId),streamName:`$.${wn.type}`,streamType:wn.type};let jn;switch(wn.type){case"ping":jn={ping:new Date().getTime()};break;case"pong":jn={pong:wn.timestamp};break;case"stream-control":jn={streamControl:wn.streamControl}}this.sendOnChannel(pn,lo(Nn,jn))}hasCapabilities(pn){var wn,Nn;const{localPeer:jn,remotePeer:Wn}=this.config,rr=(wn=jn.capabilitySet.streaming)===null||wn===void 0?void 0:wn.streams,Qr=rr&&rr.some(Sn=>Sn.receive&&ru(Sn.stream,pn.header.stream)),Vn=(Nn=Wn.capabilitySet.streaming)===null||Nn===void 0?void 0:Nn.streams,bn=Vn&&Vn.some(Sn=>Sn.send&&ru(Sn.stream,pn.header.stream));return Qr||bn}isLatestMessage(pn){const wn=mo(pn.header.stream),Nn=(this.streamLatestTimestamp.get(wn)||0)<=pn.header.created;return Nn&&this.streamLatestTimestamp.set(wn,pn.header.created),Nn}}var Mn=function(Jn,pn,wn,Nn){return new(wn||(wn=Promise))(function(jn,Wn){function rr(bn){try{Vn(Nn.next(bn))}catch(Sn){Wn(Sn)}}function Qr(bn){try{Vn(Nn.throw(bn))}catch(Sn){Wn(Sn)}}function Vn(bn){var Sn;bn.done?jn(bn.value):(Sn=bn.value,Sn instanceof wn?Sn:new wn(function(Zn){Zn(Sn)})).then(rr,Qr)}Vn((Nn=Nn.apply(Jn,pn||[])).next())})};class Hn{constructor(pn){this.config=pn,this.connections=[],this.connectingSessions=new Map,this.rtcInstancesConstructed=0,this.updateInterval=mt({func:()=>Mn(this,void 0,void 0,function*(){try{yield this.update()}catch(wn){ut.a.warn("RTC update failed",{error:wn})}}),delay:250*nt.a.millisecond,immediate:!0}),this.localPeer=this.createPeer()}send(pn,wn,Nn){const jn=this.getActiveConnection(pn);jn?jn.isReady()?jn.send(wn,Nn):ut.a.warn("Attempted to send with an active connection to that peer which was not yet ready."):ut.a.warn("Attempted to send with no active connection to that peer.")}controlRemoteStream(pn,wn){const Nn=this.getActiveConnection(pn);Nn?Nn.isReady()?Nn.controlRemoteStream(wn):ut.a.warn("Attempted to control remote stream with an active connection to that peer which was not yet ready."):ut.a.warn("Attempted to control remote stream with no active connection to that peer.")}connect(pn){return Mn(this,void 0,void 0,function*(){const wn=yield this.getLocalPeer();if(this.getActiveConnection(pn))return void ut.a.warn("Attempted to connect to peer with an already active connection.");let Nn;try{Nn=yield this.config.signalingClient.createSession(yield this.config.getToken(),{offerPeerId:wn.id,answerPeerId:pn})}catch(jn){Object(Cs.a)(jn,Ps.a,Wn=>Wn.statusCode===404),ut.a.warn("Attempted to connect to peer that does not exist.")}if(Nn)for(this.connectingSessions.set(Nn.id,new Date().getTime()),yield this.connectToSession(Nn);;)switch(yield Object(ot.a)(.1),this.getConnectionStatus(pn)){case"connecting":continue;case"connected":return Nn.id;case"disconnected":return}})}getConnectionStatus(pn){const wn=this.getActiveConnection(pn);return wn?wn.isReady()?"connected":"connecting":"disconnected"}getIceMode(pn){const wn=this.getActiveConnection(pn);if(wn)return wn.iceMode}disconnect(pn){return Mn(this,void 0,void 0,function*(){const wn=this.getActiveConnection(pn);wn&&(yield this.closeConnection(wn))})}getLocalPeer(){return Mn(this,void 0,void 0,function*(){return yield this.localPeer})}getPeers(){return Mn(this,void 0,void 0,function*(){return yield this.config.signalingClient.getPeers(yield this.config.getToken())})}getPing(pn){const wn=this.getActiveConnection(pn);if(wn)return wn.getPing();ut.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(pn){const wn=this.getActiveConnection(pn);if(wn)return wn.getLastMessageTimestamp();ut.a.warn("Attempted to get ping time from inactive peer.")}shutdown(){return Mn(this,void 0,void 0,function*(){yield this.updateInterval.stop();const pn=this.connections;this.connections=[],yield this.closeConnections(pn)})}closeConnection(pn){return Mn(this,void 0,void 0,function*(){this.connectingSessions.delete(pn.getSessionId()),yield pn.close();try{yield this.config.signalingClient.deleteSession(yield this.config.getToken(),pn.getSessionId())}catch(wn){Object(Cs.a)(wn,Ps.a,Nn=>Nn.statusCode===404)}})}getSessions(){return Mn(this,void 0,void 0,function*(){const pn=yield this.getLocalPeer();return(yield this.config.signalingClient.getSessions(yield this.config.getToken())).filter(wn=>wn.offer.peer.id===pn.id||wn.answer.peer.id===pn.id)})}createPeer(){return Mn(this,void 0,void 0,function*(){return yield this.config.signalingClient.createPeer(yield this.config.getToken(),{capabilitySet:this.config.capabilitySet||{}})})}createRTCPeerConnection(pn={}){return Mn(this,void 0,void 0,function*(){const wn=this.config.alternateRTCPeerConnection||RTCPeerConnection;this.rtcInstancesConstructed++,this.rtcInstancesConstructed%20||ds();try{return new wn(Object.assign({iceServers:yield this.config.signalingClient.getIceServers(yield this.config.getToken())},pn))}catch(Nn){throw ut.a.debug(`Failed to create RTCPeerConnection: ${this.rtcInstancesConstructed} total allocated`),Nn}})}closeConnections(pn){return Mn(this,void 0,void 0,function*(){const wn=yield kt(pn.map(Nn=>Mn(this,void 0,void 0,function*(){yield this.closeConnection(Nn)})));for(const Nn of wn)ut.a.warn("Request to close session failed",{error:Nn})})}reset(){return Mn(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.connectingSessions=new Map,this.localPeer=this.createPeer(),yield this.localPeer})}getActiveConnection(pn){return this.connections.find(wn=>wn.getRemotePeer().id===pn&&wn.isActive())}update(){return Mn(this,void 0,void 0,function*(){const pn=yield this.getLocalPeer();try{yield this.config.signalingClient.refreshPeer(yield this.config.getToken(),pn.id)}catch(wn){Object(Cs.a)(wn,Ps.a,Nn=>Nn.statusCode===404),ut.a.warn("Peer expired, creating new peer",{peerId:pn.id}),yield this.reset()}yield this.handleSessions(yield this.getSessions())})}handleSessions(pn){return Mn(this,void 0,void 0,function*(){yield this.syncConnectionsAndSessions(pn);const wn=pn.map(Nn=>({session:Nn,connection:this.connections.find(jn=>jn.getSessionId()===Nn.id)}));yield Promise.all(wn.map(({session:Nn,connection:jn})=>Mn(this,void 0,void 0,function*(){return yield this.maintainConnection(Nn,jn)})))})}syncConnectionsAndSessions(pn){return Mn(this,void 0,void 0,function*(){const wn=new Set(pn.map(Wn=>Wn.id)),Nn=Wn=>wn.has(Wn.getSessionId())||this.connectingSessions.has(Wn.getSessionId());this.connections=this.connections.filter(Wn=>Nn(Wn));const jn=this.connections.filter(Wn=>!Nn(Wn)||Wn.needsClosing());yield Promise.all(jn.map(Wn=>Mn(this,void 0,void 0,function*(){yield this.closeConnection(Wn)})))})}maintainConnection(pn,wn){return Mn(this,void 0,void 0,function*(){const Nn=yield this.getLocalPeer(),jn=pn.offer.peer.id===Nn.id;if(wn){if(wn.isReady())try{yield this.config.signalingClient.refreshSession(yield this.config.getToken(),pn.id)}catch(Wn){Object(Cs.a)(Wn,Ps.a,rr=>rr.statusCode===404),ut.a.debug("Refresh session not found",{sessionId:pn.id})}else if(wn.isActive())try{yield this.consumeSignals(wn)}catch(Wn){ut.a.warn("Failed to ingest signals, closing connection",{error:Wn}),yield this.closeConnection(wn)}}else{if(jn)return;yield this.connectToSession(pn)}})}connectToSession(pn){return Mn(this,void 0,void 0,function*(){const wn=yield this.getLocalPeer(),Nn=pn.offer.peer.id===wn.id,jn=yield this.createRTCPeerConnection(),Wn=new Cn(jn,{localPeer:Nn?pn.offer.peer:pn.answer.peer,remotePeer:Nn?pn.answer.peer:pn.offer.peer,sessionId:pn.id,isOffer:Nn,sendSignal:rr=>this.sendSignal(pn.id,rr),receive:(rr,Qr)=>this.config.receive(rr,Qr)});if(this.connections.find(rr=>rr.getSessionId()===pn.id))return ut.a.warn("connectToSession called on a session that already has a connection.",{sessionId:pn.id}),void(yield Wn.close());this.setupHandlers(Wn),this.connections.push(Wn);try{yield Wn.connect()}catch(rr){ut.a.warn("Failed to handle negotiation, closing connection",{error:rr}),yield this.closeConnection(Wn)}})}setupHandlers(pn){const{peerConnection:wn}=pn,Nn=pn.getSessionId();wn.onconnectionstatechange=()=>Mn(this,void 0,void 0,function*(){const jn=this.connectingSessions.get(Nn);if(jn===void 0)return;const Wn=wn.connectionState;switch(Vo(wn)&&this.connectingSessions.delete(Nn),Wn){case"connected":{this.connectingSessions.delete(Nn);const rr=new Date().getTime()-jn;Ft.aggregate("rtc-connect-time",rr);break}case"failed":Ft.increment("rtc-connect-failed"),yield this.closeConnection(pn)}})}consumeSignals(pn){return Mn(this,void 0,void 0,function*(){let wn=[];try{wn=yield this.config.signalingClient.takeSignals(yield this.config.getToken(),pn.getSessionId())}catch(Nn){Object(Cs.a)(Nn,Ps.a,jn=>jn.statusCode===404)}for(const Nn of wn)yield pn.handleSignal(Nn)})}sendSignal(pn,wn){return Mn(this,void 0,void 0,function*(){try{yield this.config.signalingClient.addSignals(yield this.config.getToken(),pn,{signals:[wn]})}catch(Nn){Object(Cs.a)(Nn,Ps.a,jn=>jn.statusCode===404)}})}}},function(i,o,s){var _={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $;const _e=new Uint8Array(16);function et(){if(!$&&($=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(_e)}const j=[];for(let ot=0;ot<256;++ot)j.push((ot+256).toString(16).slice(1));function nt(ot,ct=0){return(j[ot[ct+0]]+j[ot[ct+1]]+j[ot[ct+2]]+j[ot[ct+3]]+"-"+j[ot[ct+4]]+j[ot[ct+5]]+"-"+j[ot[ct+6]]+j[ot[ct+7]]+"-"+j[ot[ct+8]]+j[ot[ct+9]]+"-"+j[ot[ct+10]]+j[ot[ct+11]]+j[ot[ct+12]]+j[ot[ct+13]]+j[ot[ct+14]]+j[ot[ct+15]]).toLowerCase()}o.a=function(ot,ct,gt){if(_.randomUUID&&!ct&&!ot)return _.randomUUID();const pt=(ot=ot||{}).random||(ot.rng||et)();if(pt[6]=15&pt[6]|64,pt[8]=63&pt[8]|128,ct){gt=gt||0;for(let ft=0;ft<16;++ft)ct[gt+ft]=pt[ft];return ct}return nt(pt)}},,function(i,o,s){s.r(o),s.d(o,"LogClient",function(){return j});var _=s(28),$=s(11),_e=s(10),et=function(nt,ot,ct,gt){return new(ct||(ct=Promise))(function(pt,ft){function ut(Qt){try{wt(gt.next(Qt))}catch(It){ft(It)}}function yt(Qt){try{wt(gt.throw(Qt))}catch(It){ft(It)}}function wt(Qt){var It;Qt.done?pt(Qt.value):(It=Qt.value,It instanceof ct?It:new ct(function(xt){xt(It)})).then(ut,yt)}wt((gt=gt.apply(nt,ot||[])).next())})};class j extends _.a{log(ot){return et(this,void 0,void 0,function*(){const ct=j.token;try{yield this.fetch("logs",{token:ct,method:"POST",body:JSON.stringify({logs:ot}),allowUnsafeRetries:!0})}catch(gt){Object($.a)(gt,_e.a,pt=>pt.statusCode===401&&ct!==void 0),j.token===ct&&delete j.token,yield this.log(ot)}})}}}])})})(dist$1);var distExports=dist$1.exports;const SessionTypes={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3},singleton=Symbol("RtcClientPool.instance");var cn;class RtcClientPool{constructor(o){Te(this,cn,null),Te(this,"createClient"),Te(this,"ttlMs"),Te(this,"proxyHandler"),Te(this,"proxyReceivers",new Map),Te(this,"teardownTimeout",null),Te(this,"dispatch",($,_e)=>{this.proxyReceivers.forEach(et=>et==null?void 0:et($,_e))});const{createClient:s,ttlMs:_=0}=o;this.createClient=s,this.ttlMs=Math.max(_,0),this.proxyHandler={get:($,_e,et)=>{switch(_e){case"shutdown":return()=>this.releaseInstance(et);default:return Reflect.get($,_e,et)}}}}get isActive(){return this[singleton]!==null}get size(){return this.proxyReceivers.size}get(o){const s=new Proxy(this.allocate(),this.proxyHandler);return this.proxyReceivers.set(s,o??null),s}allocate(){if(this[singleton])return this.teardownTimeout&&(clearTimeout(this.teardownTimeout),this.teardownTimeout=null),this[singleton];const o=this.createClient(this.dispatch);return this[singleton]=o,o}async teardown(){const o=this[singleton];if(!o){console.warn("singleton has already been shutdown!");return}try{await o.shutdown()}finally{this[singleton]=null}}async releaseInstance(o){return this.proxyReceivers.delete(o)?this.proxyReceivers.size!==0?!1:(!this.teardownTimeout&&Number.isFinite(this.ttlMs)&&(this.ttlMs===0?await this.teardown():this.teardownTimeout=setTimeout(()=>{this.teardown().catch(s=>console.error("teardown failed",{err:s})).finally(()=>this.teardownTimeout=null)},this.ttlMs)),!0):(console.warn("this instance has already been released!"),!1)}}cn=singleton;const getToken=async()=>defined$2(Authentication$1.token,"Realtime when user isn't authorized"),EnumRtcClientPools={[SessionTypes.UNKNOWN]:new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL$1),getToken,sessionType:SessionTypes.UNKNOWN,receive:i})}),[SessionTypes.TELEOP]:new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL$1),getToken,sessionType:SessionTypes.TELEOP,receive:i})}),[SessionTypes.PORT_FORWARD]:new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL$1),getToken,sessionType:SessionTypes.PORT_FORWARD,receive:i})}),[SessionTypes.OBSERVE]:new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL$1),getToken,sessionType:SessionTypes.OBSERVE,receive:i})})},AppRtcClientPools={...EnumRtcClientPools,unknown:EnumRtcClientPools[SessionTypes.UNKNOWN],teleop:EnumRtcClientPools[SessionTypes.TELEOP],portForward:EnumRtcClientPools[SessionTypes.PORT_FORWARD],observe:EnumRtcClientPools[SessionTypes.OBSERVE]},defaultRtcClientPool=EnumRtcClientPools[SessionTypes.TELEOP],v1RtcClientPool=new RtcClientPool({ttlMs:2500,createClient:i=>new distExports.RtcClientV1({signalingClient:new distExports.RtcSignalingClient(FORMANT_API_URL$1+"/v1/signaling"),getToken,receive:i})}),getRtcClientPool=i=>{const{version:o,sessionType:s}=i;return o==="1"?v1RtcClientPool:s?AppRtcClientPools[s]:defaultRtcClientPool};let DataChannel$1=class{constructor(o){Te(this,"ready",!1),Te(this,"listeners",[]),Te(this,"openListeners",[]),Te(this,"closeListeners",[]),Te(this,"errorListeners",[]),Te(this,"binaryListeners",[]),Te(this,"error"),Te(this,"decoder",new TextDecoder),this.dataChannel=o,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0,this.openListeners.forEach(s=>s())},this.dataChannel.onclose=()=>{this.ready=!1,this.closeListeners.forEach(s=>s())},this.dataChannel.onerror=s=>{console.error(s),this.error="An error occurred in DataChannel",this.errorListeners.forEach(_=>_(s))},this.dataChannel.onmessage=s=>{this.listeners.forEach(_=>{const $=new Uint8Array(s.data),_e=this.decoder.decode($);_(_e)}),this.binaryListeners.forEach(_=>{_(new Uint8Array(s.data))})}}addOpenListener(o){this.openListeners.push(o)}removeOpenListener(o){this.openListeners=this.openListeners.filter(s=>s!==o)}addCloseListener(o){this.closeListeners.push(o)}removeCloseListener(o){this.closeListeners=this.closeListeners.filter(s=>s!==o)}addErrorListener(o){this.errorListeners.push(o)}removeErrorListener(o){this.errorListeners=this.errorListeners.filter(s=>s!==o)}async waitTilReady(){return this.ready?!0:new Promise((o,s)=>{let _=window.setInterval(()=>{this.ready&&(window.clearInterval(_),o(!0)),this.error&&s(this.error)},10)})}send(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}sendBinary(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}addListener(o){this.listeners.push(o)}removeListener(o){const s=this.listeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(s,1)}addBinaryListener(o){this.binaryListeners.push(o)}removeBinaryListener(o){const s=this.binaryListeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(s,1)}},CaptureStream$1=class{constructor(o){Te(this,"token"),this.captureSession=o}async ingestJSON(o){if(!this.token){const s=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"})).json();this.token=s.token}await fetch(`${FORMANT_API_URL$1}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(o)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}},Manipulator$1=class{constructor(o,s){Te(this,"currentListeners",[]),Te(this,"onRealtimeMessage",(_,$)=>{$.payload.jointState&&this.currentListeners.forEach(_e=>{$.payload.jointState&&_e($.payload.jointState)})}),this.device=o,this.config=s}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(o){this.currentListeners.push(o)}};function delay$1(i){return new Promise(o=>setTimeout(o,i))}let RequestDataChannel$1=class{constructor(o,s,_){Te(this,"channel"),Te(this,"requestIdToResponseMap",new Map),this.device=o,this.channel_name=s,this.timeout=_}addOpenListener(o){defined$2(this.channel,"channel not initalized").addOpenListener(o)}removeOpenListener(o){defined$2(this.channel,"channel not initalized").removeOpenListener(o)}addCloseListener(o){defined$2(this.channel,"channel not initalized").addCloseListener(o)}removeCloseListener(o){defined$2(this.channel,"channel not initalized").removeCloseListener(o)}addErrorListener(o){defined$2(this.channel,"channel not initalized").addErrorListener(o)}removeErrorListener(o){defined$2(this.channel,"channel not initalized").removeErrorListener(o)}},BinaryRequestDataChannel$1=class extends RequestDataChannel$1{constructor(){super(...arguments),Te(this,"RESPONSE_SUCCESS_BYTE",0),Te(this,"decoder",new TextDecoder)}generateBinaryId(){const o=new Uint8Array(16);for(let s=0;s<o.length;s++)o[s]=Math.floor(Math.random()*256);return o}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(o=>{const s=o.slice(0,16).toString();if(s.length===0)throw new Error("Invalid response");const _=o.slice(16);if(_.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(s)&&this.requestIdToResponseMap.set(s,_)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const _e=this.generateBinaryId(),et=_e.toString();_.set(et,!0),s.sendBinary(new Uint8Array([..._e,...o]));const j=new Date().getTime();for(;new Date().getTime()<j+$;)if(await delay$1(50),_.has(et)){const nt=_.get(et);if(nt!==!0){_.delete(et);const ot=nt[0]===this.RESPONSE_SUCCESS_BYTE,ct=nt.slice(1);if(ot)return ct;throw console.error({name:"AdapterError",message:this.decoder.decode(ct)}),new Error("Binary request datachannel adapter error")}}throw _.delete(et),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Binary request data channel request timed out")}},TextRequestDataChannel$1=class extends RequestDataChannel$1{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(o=>{const s=JSON.parse(o),{id:_,data:$,error:_e}=s;if(!_)throw new Error("Invalid response");if(!$&&!_e)throw new Error("Invalid response");this.requestIdToResponseMap.has(_)&&this.requestIdToResponseMap.set(_,s)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const _e=this.generateTextId();_.set(_e,!0),s.send(JSON.stringify({id:_e,data:o}));const et=new Date().getTime();for(;new Date().getTime()<et+$;)if(await delay$1(50),_.has(_e)){const j=_.get(_e);if(j!==!0){_.delete(_e);const{data:nt,error:ot}=j;if(nt)return nt;if(ot)throw console.error({name:"AdapterError",message:ot}),new Error("Text request datachannel adapter error")}}throw _.delete(_e),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Text request datachannel request timed out")}};const aggregateByDateFunctions={day:{interval:eachDayOfInterval,start:startOfDay,end:endOfDay,sub:subDays,get:getDay},week:{interval:eachWeekOfInterval,start:startOfWeek,end:endOfWeek,sub:subWeeks,get:getWeek},month:{interval:eachMonthOfInterval,start:startOfMonth,end:endOfMonth,sub:subMonths,get:getMonth},year:{interval:eachYearOfInterval,start:startOfYear,end:endOfYear,sub:subYears,get:getYear},hour:{interval:eachHourOfInterval,start:startOfHour,end:endOfHour,sub:subHours,get:getHours},minute:{interval:eachMinuteOfInterval,start:startOfMinute$1,end:endOfMinute,sub:subMinutes,get:getMinutes},quarter:{interval:eachQuarterOfInterval,start:startOfQuarter,end:endOfQuarter,sub:subQuarters,get:getQuarter}},formatTimeFrameText=(i,o)=>i.split("/")[0]+"/"+i.split("/")[1]+"–"+o.split("/")[0]+"/"+o.split("/")[1];function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;typeof global$1.setTimeout=="function"&&(cachedSetTimeout=setTimeout);typeof global$1.clearTimeout=="function"&&(cachedClearTimeout=clearTimeout);function runTimeout(i){if(cachedSetTimeout===setTimeout)return setTimeout(i,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(i,0);try{return cachedSetTimeout(i,0)}catch{try{return cachedSetTimeout.call(null,i,0)}catch{return cachedSetTimeout.call(this,i,0)}}}function runClearTimeout(i){if(cachedClearTimeout===clearTimeout)return clearTimeout(i);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(i);try{return cachedClearTimeout(i)}catch{try{return cachedClearTimeout.call(null,i)}catch{return cachedClearTimeout.call(this,i)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var i=runTimeout(cleanUpNextTick);draining=!0;for(var o=queue.length;o;){for(currentQueue=queue,queue=[];++queueIndex<o;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,o=queue.length}currentQueue=null,draining=!1,runClearTimeout(i)}}function nextTick(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];queue.push(new Item(i,o)),queue.length===1&&!draining&&runTimeout(drainQueue)}function Item(i,o){this.fun=i,this.array=o}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser$1=!0,env={},argv=[],version$1="",versions={},release={},config={};function noop$2(){}var on=noop$2,addListener$1=noop$2,once=noop$2,off=noop$2,removeListener$1=noop$2,removeAllListeners=noop$2,emit=noop$2;function binding$1(i){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(i){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance$1=global$1.performance||{},performanceNow=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return new Date().getTime()};function hrtime(i){var o=performanceNow.call(performance$1)*.001,s=Math.floor(o),_=Math.floor(o%1*1e9);return i&&(s=s-i[0],_=_-i[1],_<0&&(s--,_+=1e9)),[s,_]}var startTime=new Date;function uptime(){var i=new Date,o=i-startTime;return o/1e3}var browser$1$1={nextTick,title,browser:browser$1,env,argv,version:version$1,versions,on,addListener:addListener$1,once,off,removeListener:removeListener$1,removeAllListeners,emit,binding:binding$1,cwd,chdir,umask,hrtime,platform,release,config,uptime},inherits;typeof Object.create=="function"?inherits=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(i,o){i.super_=o;var s=function(){};s.prototype=o.prototype,i.prototype=new s,i.prototype.constructor=i};const inherits$1=inherits;var formatRegExp=/%[sdj%]/g;function format(i){if(!isString(i)){for(var o=[],s=0;s<arguments.length;s++)o.push(inspect(arguments[s]));return o.join(" ")}for(var s=1,_=arguments,$=_.length,_e=String(i).replace(formatRegExp,function(nt){if(nt==="%%")return"%";if(s>=$)return nt;switch(nt){case"%s":return String(_[s++]);case"%d":return Number(_[s++]);case"%j":try{return JSON.stringify(_[s++])}catch{return"[Circular]"}default:return nt}}),et=_[s];s<$;et=_[++s])isNull(et)||!isObject$1(et)?_e+=" "+et:_e+=" "+inspect(et);return _e}function deprecate(i,o){if(isUndefined(global$1.process))return function(){return deprecate(i,o).apply(this,arguments)};if(browser$1$1.noDeprecation===!0)return i;var s=!1;function _(){if(!s){if(browser$1$1.throwDeprecation)throw new Error(o);browser$1$1.traceDeprecation?console.trace(o):console.error(o),s=!0}return i.apply(this,arguments)}return _}var debugs={},debugEnviron;function debuglog(i){if(isUndefined(debugEnviron)&&(debugEnviron=browser$1$1.env.NODE_DEBUG||""),i=i.toUpperCase(),!debugs[i])if(new RegExp("\\b"+i+"\\b","i").test(debugEnviron)){var o=0;debugs[i]=function(){var s=format.apply(null,arguments);console.error("%s %d: %s",i,o,s)}}else debugs[i]=function(){};return debugs[i]}function inspect(i,o){var s={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),isBoolean(o)?s.showHidden=o:o&&_extend(s,o),isUndefined(s.showHidden)&&(s.showHidden=!1),isUndefined(s.depth)&&(s.depth=2),isUndefined(s.colors)&&(s.colors=!1),isUndefined(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=stylizeWithColor),formatValue(s,i,s.depth)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(i,o){var s=inspect.styles[o];return s?"\x1B["+inspect.colors[s][0]+"m"+i+"\x1B["+inspect.colors[s][1]+"m":i}function stylizeNoColor(i,o){return i}function arrayToHash(i){var o={};return i.forEach(function(s,_){o[s]=!0}),o}function formatValue(i,o,s){if(i.customInspect&&o&&isFunction$1(o.inspect)&&o.inspect!==inspect&&!(o.constructor&&o.constructor.prototype===o)){var _=o.inspect(s,i);return isString(_)||(_=formatValue(i,_,s)),_}var $=formatPrimitive(i,o);if($)return $;var _e=Object.keys(o),et=arrayToHash(_e);if(i.showHidden&&(_e=Object.getOwnPropertyNames(o)),isError(o)&&(_e.indexOf("message")>=0||_e.indexOf("description")>=0))return formatError(o);if(_e.length===0){if(isFunction$1(o)){var j=o.name?": "+o.name:"";return i.stylize("[Function"+j+"]","special")}if(isRegExp(o))return i.stylize(RegExp.prototype.toString.call(o),"regexp");if(isDate(o))return i.stylize(Date.prototype.toString.call(o),"date");if(isError(o))return formatError(o)}var nt="",ot=!1,ct=["{","}"];if(isArray$2(o)&&(ot=!0,ct=["[","]"]),isFunction$1(o)){var gt=o.name?": "+o.name:"";nt=" [Function"+gt+"]"}if(isRegExp(o)&&(nt=" "+RegExp.prototype.toString.call(o)),isDate(o)&&(nt=" "+Date.prototype.toUTCString.call(o)),isError(o)&&(nt=" "+formatError(o)),_e.length===0&&(!ot||o.length==0))return ct[0]+nt+ct[1];if(s<0)return isRegExp(o)?i.stylize(RegExp.prototype.toString.call(o),"regexp"):i.stylize("[Object]","special");i.seen.push(o);var pt;return ot?pt=formatArray(i,o,s,et,_e):pt=_e.map(function(ft){return formatProperty(i,o,s,et,ft,ot)}),i.seen.pop(),reduceToSingleString(pt,nt,ct)}function formatPrimitive(i,o){if(isUndefined(o))return i.stylize("undefined","undefined");if(isString(o)){var s="'"+JSON.stringify(o).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return i.stylize(s,"string")}if(isNumber$1(o))return i.stylize(""+o,"number");if(isBoolean(o))return i.stylize(""+o,"boolean");if(isNull(o))return i.stylize("null","null")}function formatError(i){return"["+Error.prototype.toString.call(i)+"]"}function formatArray(i,o,s,_,$){for(var _e=[],et=0,j=o.length;et<j;++et)hasOwnProperty(o,String(et))?_e.push(formatProperty(i,o,s,_,String(et),!0)):_e.push("");return $.forEach(function(nt){nt.match(/^\d+$/)||_e.push(formatProperty(i,o,s,_,nt,!0))}),_e}function formatProperty(i,o,s,_,$,_e){var et,j,nt;if(nt=Object.getOwnPropertyDescriptor(o,$)||{value:o[$]},nt.get?nt.set?j=i.stylize("[Getter/Setter]","special"):j=i.stylize("[Getter]","special"):nt.set&&(j=i.stylize("[Setter]","special")),hasOwnProperty(_,$)||(et="["+$+"]"),j||(i.seen.indexOf(nt.value)<0?(isNull(s)?j=formatValue(i,nt.value,null):j=formatValue(i,nt.value,s-1),j.indexOf(`
`)>-1&&(_e?j=j.split(`
`).map(function(ot){return"  "+ot}).join(`
`).substr(2):j=`
`+j.split(`
`).map(function(ot){return"   "+ot}).join(`
`))):j=i.stylize("[Circular]","special")),isUndefined(et)){if(_e&&$.match(/^\d+$/))return j;et=JSON.stringify(""+$),et.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(et=et.substr(1,et.length-2),et=i.stylize(et,"name")):(et=et.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),et=i.stylize(et,"string"))}return et+": "+j}function reduceToSingleString(i,o,s){var _=i.reduce(function($,_e){return _e.indexOf(`
`)>=0,$+_e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return _>60?s[0]+(o===""?"":o+`
 `)+" "+i.join(`,
  `)+" "+s[1]:s[0]+o+" "+i.join(", ")+" "+s[1]}function isArray$2(i){return Array.isArray(i)}function isBoolean(i){return typeof i=="boolean"}function isNull(i){return i===null}function isNumber$1(i){return typeof i=="number"}function isString(i){return typeof i=="string"}function isUndefined(i){return i===void 0}function isRegExp(i){return isObject$1(i)&&objectToString(i)==="[object RegExp]"}function isObject$1(i){return typeof i=="object"&&i!==null}function isDate(i){return isObject$1(i)&&objectToString(i)==="[object Date]"}function isError(i){return isObject$1(i)&&(objectToString(i)==="[object Error]"||i instanceof Error)}function isFunction$1(i){return typeof i=="function"}function objectToString(i){return Object.prototype.toString.call(i)}function _extend(i,o){if(!o||!isObject$1(o))return i;for(var s=Object.keys(o),_=s.length;_--;)i[s[_]]=o[s[_]];return i}function hasOwnProperty(i,o){return Object.prototype.hasOwnProperty.call(i,o)}function BufferList(){this.head=null,this.tail=null,this.length=0}BufferList.prototype.push=function(i){var o={data:i,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length};BufferList.prototype.unshift=function(i){var o={data:i,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length};BufferList.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}};BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0};BufferList.prototype.join=function(i){if(this.length===0)return"";for(var o=this.head,s=""+o.data;o=o.next;)s+=i+o.data;return s};BufferList.prototype.concat=function(i){if(this.length===0)return Buffer.alloc(0);if(this.length===1)return this.head.data;for(var o=Buffer.allocUnsafe(i>>>0),s=this.head,_=0;s;)s.data.copy(o,_),_+=s.data.length,s=s.next;return o};var isBufferEncoding=Buffer.isEncoding||function(i){switch(i&&i.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(i){if(i&&!isBufferEncoding(i))throw new Error("Unknown encoding: "+i)}function StringDecoder(i){switch(this.encoding=(i||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(i),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0}StringDecoder.prototype.write=function(i){for(var o="";this.charLength;){var s=i.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:i.length;if(i.copy(this.charBuffer,this.charReceived,0,s),this.charReceived+=s,this.charReceived<this.charLength)return"";i=i.slice(s,i.length),o=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var $=o.charCodeAt(o.length-1);if($>=55296&&$<=56319){this.charLength+=this.surrogateSize,o="";continue}if(this.charReceived=this.charLength=0,i.length===0)return o;break}this.detectIncompleteChar(i);var _=i.length;this.charLength&&(i.copy(this.charBuffer,0,i.length-this.charReceived,_),_-=this.charReceived),o+=i.toString(this.encoding,0,_);var _=o.length-1,$=o.charCodeAt(_);if($>=55296&&$<=56319){var _e=this.surrogateSize;return this.charLength+=_e,this.charReceived+=_e,this.charBuffer.copy(this.charBuffer,_e,0,_e),i.copy(this.charBuffer,0,0,_e),o.substring(0,_)}return o};StringDecoder.prototype.detectIncompleteChar=function(i){for(var o=i.length>=3?3:i.length;o>0;o--){var s=i[i.length-o];if(o==1&&s>>5==6){this.charLength=2;break}if(o<=2&&s>>4==14){this.charLength=3;break}if(o<=3&&s>>3==30){this.charLength=4;break}}this.charReceived=o};StringDecoder.prototype.end=function(i){var o="";if(i&&i.length&&(o=this.write(i)),this.charReceived){var s=this.charReceived,_=this.charBuffer,$=this.encoding;o+=_.slice(0,s).toString($)}return o};function passThroughWrite(i){return i.toString(this.encoding)}function utf16DetectIncompleteChar(i){this.charReceived=i.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(i){this.charReceived=i.length%3,this.charLength=this.charReceived?3:0}Readable.ReadableState=ReadableState;var debug=debuglog("stream");inherits$1(Readable,EventEmitter);function prependListener(i,o,s){if(typeof i.prependListener=="function")return i.prependListener(o,s);!i._events||!i._events[o]?i.on(o,s):Array.isArray(i._events[o])?i._events[o].unshift(s):i._events[o]=[s,i._events[o]]}function listenerCount(i,o){return i.listeners(o).length}function ReadableState(i,o){i=i||{},this.objectMode=!!i.objectMode,o instanceof Duplex&&(this.objectMode=this.objectMode||!!i.readableObjectMode);var s=i.highWaterMark,_=this.objectMode?16:16*1024;this.highWaterMark=s||s===0?s:_,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(this.decoder=new StringDecoder(i.encoding),this.encoding=i.encoding)}function Readable(i){if(!(this instanceof Readable))return new Readable(i);this._readableState=new ReadableState(i,this),this.readable=!0,i&&typeof i.read=="function"&&(this._read=i.read),EventEmitter.call(this)}Readable.prototype.push=function(i,o){var s=this._readableState;return!s.objectMode&&typeof i=="string"&&(o=o||s.defaultEncoding,o!==s.encoding&&(i=Buffer.from(i,o),o="")),readableAddChunk(this,s,i,o,!1)};Readable.prototype.unshift=function(i){var o=this._readableState;return readableAddChunk(this,o,i,"",!0)};Readable.prototype.isPaused=function(){return this._readableState.flowing===!1};function readableAddChunk(i,o,s,_,$){var _e=chunkInvalid(o,s);if(_e)i.emit("error",_e);else if(s===null)o.reading=!1,onEofChunk(i,o);else if(o.objectMode||s&&s.length>0)if(o.ended&&!$){var et=new Error("stream.push() after EOF");i.emit("error",et)}else if(o.endEmitted&&$){var j=new Error("stream.unshift() after end event");i.emit("error",j)}else{var nt;o.decoder&&!$&&!_&&(s=o.decoder.write(s),nt=!o.objectMode&&s.length===0),$||(o.reading=!1),nt||(o.flowing&&o.length===0&&!o.sync?(i.emit("data",s),i.read(0)):(o.length+=o.objectMode?1:s.length,$?o.buffer.unshift(s):o.buffer.push(s),o.needReadable&&emitReadable(i))),maybeReadMore(i,o)}else $||(o.reading=!1);return needMoreData(o)}function needMoreData(i){return!i.ended&&(i.needReadable||i.length<i.highWaterMark||i.length===0)}Readable.prototype.setEncoding=function(i){return this._readableState.decoder=new StringDecoder(i),this._readableState.encoding=i,this};var MAX_HWM=8388608;function computeNewHighWaterMark(i){return i>=MAX_HWM?i=MAX_HWM:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),i}function howMuchToRead(i,o){return i<=0||o.length===0&&o.ended?0:o.objectMode?1:i!==i?o.flowing&&o.length?o.buffer.head.data.length:o.length:(i>o.highWaterMark&&(o.highWaterMark=computeNewHighWaterMark(i)),i<=o.length?i:o.ended?o.length:(o.needReadable=!0,0))}Readable.prototype.read=function(i){debug("read",i),i=parseInt(i,10);var o=this._readableState,s=i;if(i!==0&&(o.emittedReadable=!1),i===0&&o.needReadable&&(o.length>=o.highWaterMark||o.ended))return debug("read: emitReadable",o.length,o.ended),o.length===0&&o.ended?endReadable(this):emitReadable(this),null;if(i=howMuchToRead(i,o),i===0&&o.ended)return o.length===0&&endReadable(this),null;var _=o.needReadable;debug("need readable",_),(o.length===0||o.length-i<o.highWaterMark)&&(_=!0,debug("length less than watermark",_)),o.ended||o.reading?(_=!1,debug("reading or ended",_)):_&&(debug("do read"),o.reading=!0,o.sync=!0,o.length===0&&(o.needReadable=!0),this._read(o.highWaterMark),o.sync=!1,o.reading||(i=howMuchToRead(s,o)));var $;return i>0?$=fromList(i,o):$=null,$===null?(o.needReadable=!0,i=0):o.length-=i,o.length===0&&(o.ended||(o.needReadable=!0),s!==i&&o.ended&&endReadable(this)),$!==null&&this.emit("data",$),$};function chunkInvalid(i,o){var s=null;return!Buffer.isBuffer(o)&&typeof o!="string"&&o!==null&&o!==void 0&&!i.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s}function onEofChunk(i,o){if(!o.ended){if(o.decoder){var s=o.decoder.end();s&&s.length&&(o.buffer.push(s),o.length+=o.objectMode?1:s.length)}o.ended=!0,emitReadable(i)}}function emitReadable(i){var o=i._readableState;o.needReadable=!1,o.emittedReadable||(debug("emitReadable",o.flowing),o.emittedReadable=!0,o.sync?nextTick(emitReadable_,i):emitReadable_(i))}function emitReadable_(i){debug("emit readable"),i.emit("readable"),flow(i)}function maybeReadMore(i,o){o.readingMore||(o.readingMore=!0,nextTick(maybeReadMore_,i,o))}function maybeReadMore_(i,o){for(var s=o.length;!o.reading&&!o.flowing&&!o.ended&&o.length<o.highWaterMark&&(debug("maybeReadMore read 0"),i.read(0),s!==o.length);)s=o.length;o.readingMore=!1}Readable.prototype._read=function(i){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(i,o){var s=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=i;break;case 1:_.pipes=[_.pipes,i];break;default:_.pipes.push(i);break}_.pipesCount+=1,debug("pipe count=%d opts=%j",_.pipesCount,o);var $=!o||o.end!==!1,_e=$?j:ct;_.endEmitted?nextTick(_e):s.once("end",_e),i.on("unpipe",et);function et(Qt){debug("onunpipe"),Qt===s&&ct()}function j(){debug("onend"),i.end()}var nt=pipeOnDrain(s);i.on("drain",nt);var ot=!1;function ct(){debug("cleanup"),i.removeListener("close",ut),i.removeListener("finish",yt),i.removeListener("drain",nt),i.removeListener("error",ft),i.removeListener("unpipe",et),s.removeListener("end",j),s.removeListener("end",ct),s.removeListener("data",pt),ot=!0,_.awaitDrain&&(!i._writableState||i._writableState.needDrain)&&nt()}var gt=!1;s.on("data",pt);function pt(Qt){debug("ondata"),gt=!1;var It=i.write(Qt);It===!1&&!gt&&((_.pipesCount===1&&_.pipes===i||_.pipesCount>1&&indexOf(_.pipes,i)!==-1)&&!ot&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,gt=!0),s.pause())}function ft(Qt){debug("onerror",Qt),wt(),i.removeListener("error",ft),listenerCount(i,"error")===0&&i.emit("error",Qt)}prependListener(i,"error",ft);function ut(){i.removeListener("finish",yt),wt()}i.once("close",ut);function yt(){debug("onfinish"),i.removeListener("close",ut),wt()}i.once("finish",yt);function wt(){debug("unpipe"),s.unpipe(i)}return i.emit("pipe",s),_.flowing||(debug("pipe resume"),s.resume()),i};function pipeOnDrain(i){return function(){var o=i._readableState;debug("pipeOnDrain",o.awaitDrain),o.awaitDrain&&o.awaitDrain--,o.awaitDrain===0&&i.listeners("data").length&&(o.flowing=!0,flow(i))}}Readable.prototype.unpipe=function(i){var o=this._readableState;if(o.pipesCount===0)return this;if(o.pipesCount===1)return i&&i!==o.pipes?this:(i||(i=o.pipes),o.pipes=null,o.pipesCount=0,o.flowing=!1,i&&i.emit("unpipe",this),this);if(!i){var s=o.pipes,_=o.pipesCount;o.pipes=null,o.pipesCount=0,o.flowing=!1;for(var $=0;$<_;$++)s[$].emit("unpipe",this);return this}var _e=indexOf(o.pipes,i);return _e===-1?this:(o.pipes.splice(_e,1),o.pipesCount-=1,o.pipesCount===1&&(o.pipes=o.pipes[0]),i.emit("unpipe",this),this)};Readable.prototype.on=function(i,o){var s=EventEmitter.prototype.on.call(this,i,o);if(i==="data")this._readableState.flowing!==!1&&this.resume();else if(i==="readable"){var _=this._readableState;!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.emittedReadable=!1,_.reading?_.length&&emitReadable(this):nextTick(nReadingNextTick,this))}return s};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(i){debug("readable nexttick read 0"),i.read(0)}Readable.prototype.resume=function(){var i=this._readableState;return i.flowing||(debug("resume"),i.flowing=!0,resume(this,i)),this};function resume(i,o){o.resumeScheduled||(o.resumeScheduled=!0,nextTick(resume_,i,o))}function resume_(i,o){o.reading||(debug("resume read 0"),i.read(0)),o.resumeScheduled=!1,o.awaitDrain=0,i.emit("resume"),flow(i),o.flowing&&!o.reading&&i.read(0)}Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function flow(i){var o=i._readableState;for(debug("flow",o.flowing);o.flowing&&i.read()!==null;);}Readable.prototype.wrap=function(i){var o=this._readableState,s=!1,_=this;i.on("end",function(){if(debug("wrapped end"),o.decoder&&!o.ended){var et=o.decoder.end();et&&et.length&&_.push(et)}_.push(null)}),i.on("data",function(et){if(debug("wrapped data"),o.decoder&&(et=o.decoder.write(et)),!(o.objectMode&&et==null)&&!(!o.objectMode&&(!et||!et.length))){var j=_.push(et);j||(s=!0,i.pause())}});for(var $ in i)this[$]===void 0&&typeof i[$]=="function"&&(this[$]=function(et){return function(){return i[et].apply(i,arguments)}}($));var _e=["error","close","destroy","pause","resume"];return forEach(_e,function(et){i.on(et,_.emit.bind(_,et))}),_._read=function(et){debug("wrapped _read",et),s&&(s=!1,i.resume())},_};Readable._fromList=fromList;function fromList(i,o){if(o.length===0)return null;var s;return o.objectMode?s=o.buffer.shift():!i||i>=o.length?(o.decoder?s=o.buffer.join(""):o.buffer.length===1?s=o.buffer.head.data:s=o.buffer.concat(o.length),o.buffer.clear()):s=fromListPartial(i,o.buffer,o.decoder),s}function fromListPartial(i,o,s){var _;return i<o.head.data.length?(_=o.head.data.slice(0,i),o.head.data=o.head.data.slice(i)):i===o.head.data.length?_=o.shift():_=s?copyFromBufferString(i,o):copyFromBuffer(i,o),_}function copyFromBufferString(i,o){var s=o.head,_=1,$=s.data;for(i-=$.length;s=s.next;){var _e=s.data,et=i>_e.length?_e.length:i;if(et===_e.length?$+=_e:$+=_e.slice(0,i),i-=et,i===0){et===_e.length?(++_,s.next?o.head=s.next:o.head=o.tail=null):(o.head=s,s.data=_e.slice(et));break}++_}return o.length-=_,$}function copyFromBuffer(i,o){var s=Buffer.allocUnsafe(i),_=o.head,$=1;for(_.data.copy(s),i-=_.data.length;_=_.next;){var _e=_.data,et=i>_e.length?_e.length:i;if(_e.copy(s,s.length-i,0,et),i-=et,i===0){et===_e.length?(++$,_.next?o.head=_.next:o.head=o.tail=null):(o.head=_,_.data=_e.slice(et));break}++$}return o.length-=$,s}function endReadable(i){var o=i._readableState;if(o.length>0)throw new Error('"endReadable()" called on non-empty stream');o.endEmitted||(o.ended=!0,nextTick(endReadableNT,o,i))}function endReadableNT(i,o){!i.endEmitted&&i.length===0&&(i.endEmitted=!0,o.readable=!1,o.emit("end"))}function forEach(i,o){for(var s=0,_=i.length;s<_;s++)o(i[s],s)}function indexOf(i,o){for(var s=0,_=i.length;s<_;s++)if(i[s]===o)return s;return-1}Writable.WritableState=WritableState;inherits$1(Writable,EventEmitter);function nop(){}function WriteReq(i,o,s){this.chunk=i,this.encoding=o,this.callback=s,this.next=null}function WritableState(i,o){Object.defineProperty(this,"buffer",{get:deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),i=i||{},this.objectMode=!!i.objectMode,o instanceof Duplex&&(this.objectMode=this.objectMode||!!i.writableObjectMode);var s=i.highWaterMark,_=this.objectMode?16:16*1024;this.highWaterMark=s||s===0?s:_,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var $=i.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){onwrite(o,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function i(){for(var o=this.bufferedRequest,s=[];o;)s.push(o),o=o.next;return s};function Writable(i){if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(i);this._writableState=new WritableState(i,this),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev)),EventEmitter.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(i,o){var s=new Error("write after end");i.emit("error",s),nextTick(o,s)}function validChunk(i,o,s,_){var $=!0,_e=!1;return s===null?_e=new TypeError("May not write null values to stream"):!Buffer.isBuffer(s)&&typeof s!="string"&&s!==void 0&&!o.objectMode&&(_e=new TypeError("Invalid non-string/buffer chunk")),_e&&(i.emit("error",_e),nextTick(_,_e),$=!1),$}Writable.prototype.write=function(i,o,s){var _=this._writableState,$=!1;return typeof o=="function"&&(s=o,o=null),Buffer.isBuffer(i)?o="buffer":o||(o=_.defaultEncoding),typeof s!="function"&&(s=nop),_.ended?writeAfterEnd(this,s):validChunk(this,_,i,s)&&(_.pendingcb++,$=writeOrBuffer(this,_,i,o,s)),$};Writable.prototype.cork=function(){var i=this._writableState;i.corked++};Writable.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.finished&&!i.bufferProcessing&&i.bufferedRequest&&clearBuffer(this,i))};Writable.prototype.setDefaultEncoding=function i(o){if(typeof o=="string"&&(o=o.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((o+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+o);return this._writableState.defaultEncoding=o,this};function decodeChunk(i,o,s){return!i.objectMode&&i.decodeStrings!==!1&&typeof o=="string"&&(o=Buffer.from(o,s)),o}function writeOrBuffer(i,o,s,_,$){s=decodeChunk(o,s,_),Buffer.isBuffer(s)&&(_="buffer");var _e=o.objectMode?1:s.length;o.length+=_e;var et=o.length<o.highWaterMark;if(et||(o.needDrain=!0),o.writing||o.corked){var j=o.lastBufferedRequest;o.lastBufferedRequest=new WriteReq(s,_,$),j?j.next=o.lastBufferedRequest:o.bufferedRequest=o.lastBufferedRequest,o.bufferedRequestCount+=1}else doWrite(i,o,!1,_e,s,_,$);return et}function doWrite(i,o,s,_,$,_e,et){o.writelen=_,o.writecb=et,o.writing=!0,o.sync=!0,s?i._writev($,o.onwrite):i._write($,_e,o.onwrite),o.sync=!1}function onwriteError(i,o,s,_,$){--o.pendingcb,s?nextTick($,_):$(_),i._writableState.errorEmitted=!0,i.emit("error",_)}function onwriteStateUpdate(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}function onwrite(i,o){var s=i._writableState,_=s.sync,$=s.writecb;if(onwriteStateUpdate(s),o)onwriteError(i,s,_,o,$);else{var _e=needFinish(s);!_e&&!s.corked&&!s.bufferProcessing&&s.bufferedRequest&&clearBuffer(i,s),_?nextTick(afterWrite,i,s,_e,$):afterWrite(i,s,_e,$)}}function afterWrite(i,o,s,_){s||onwriteDrain(i,o),o.pendingcb--,_(),finishMaybe(i,o)}function onwriteDrain(i,o){o.length===0&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))}function clearBuffer(i,o){o.bufferProcessing=!0;var s=o.bufferedRequest;if(i._writev&&s&&s.next){var _=o.bufferedRequestCount,$=new Array(_),_e=o.corkedRequestsFree;_e.entry=s;for(var et=0;s;)$[et]=s,s=s.next,et+=1;doWrite(i,o,!0,o.length,$,"",_e.finish),o.pendingcb++,o.lastBufferedRequest=null,_e.next?(o.corkedRequestsFree=_e.next,_e.next=null):o.corkedRequestsFree=new CorkedRequest(o)}else{for(;s;){var j=s.chunk,nt=s.encoding,ot=s.callback,ct=o.objectMode?1:j.length;if(doWrite(i,o,!1,ct,j,nt,ot),s=s.next,o.writing)break}s===null&&(o.lastBufferedRequest=null)}o.bufferedRequestCount=0,o.bufferedRequest=s,o.bufferProcessing=!1}Writable.prototype._write=function(i,o,s){s(new Error("not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(i,o,s){var _=this._writableState;typeof i=="function"?(s=i,i=null,o=null):typeof o=="function"&&(s=o,o=null),i!=null&&this.write(i,o),_.corked&&(_.corked=1,this.uncork()),!_.ending&&!_.finished&&endWritable(this,_,s)};function needFinish(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}function prefinish(i,o){o.prefinished||(o.prefinished=!0,i.emit("prefinish"))}function finishMaybe(i,o){var s=needFinish(o);return s&&(o.pendingcb===0?(prefinish(i,o),o.finished=!0,i.emit("finish")):prefinish(i,o)),s}function endWritable(i,o,s){o.ending=!0,finishMaybe(i,o),s&&(o.finished?nextTick(s):i.once("finish",s)),o.ended=!0,i.writable=!1}function CorkedRequest(i){var o=this;this.next=null,this.entry=null,this.finish=function(s){var _=o.entry;for(o.entry=null;_;){var $=_.callback;i.pendingcb--,$(s),_=_.next}i.corkedRequestsFree?i.corkedRequestsFree.next=o:i.corkedRequestsFree=o}}inherits$1(Duplex,Readable);var keys=Object.keys(Writable.prototype);for(var v$1=0;v$1<keys.length;v$1++){var method=keys[v$1];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(i){if(!(this instanceof Duplex))return new Duplex(i);Readable.call(this,i),Writable.call(this,i),i&&i.readable===!1&&(this.readable=!1),i&&i.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,i&&i.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||nextTick(onEndNT,this)}function onEndNT(i){i.end()}inherits$1(Transform,Duplex);function TransformState(i){this.afterTransform=function(o,s){return afterTransform(i,o,s)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(i,o,s){var _=i._transformState;_.transforming=!1;var $=_.writecb;if(!$)return i.emit("error",new Error("no writecb in Transform class"));_.writechunk=null,_.writecb=null,s!=null&&i.push(s),$(o);var _e=i._readableState;_e.reading=!1,(_e.needReadable||_e.length<_e.highWaterMark)&&i._read(_e.highWaterMark)}function Transform(i){if(!(this instanceof Transform))return new Transform(i);Duplex.call(this,i),this._transformState=new TransformState(this);var o=this;this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(s){done(o,s)}):done(o)})}Transform.prototype.push=function(i,o){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,i,o)};Transform.prototype._transform=function(i,o,s){throw new Error("Not implemented")};Transform.prototype._write=function(i,o,s){var _=this._transformState;if(_.writecb=s,_.writechunk=i,_.writeencoding=o,!_.transforming){var $=this._readableState;(_.needTransform||$.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}};Transform.prototype._read=function(i){var o=this._transformState;o.writechunk!==null&&o.writecb&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0};function done(i,o){if(o)return i.emit("error",o);var s=i._writableState,_=i._transformState;if(s.length)throw new Error("Calling transform done when ws.length != 0");if(_.transforming)throw new Error("Calling transform done when still transforming");return i.push(null)}inherits$1(PassThrough,Transform);function PassThrough(i){if(!(this instanceof PassThrough))return new PassThrough(i);Transform.call(this,i)}PassThrough.prototype._transform=function(i,o,s){s(null,i)};inherits$1(Stream,EventEmitter);Stream.Readable=Readable;Stream.Writable=Writable;Stream.Duplex=Duplex;Stream.Transform=Transform;Stream.PassThrough=PassThrough;Stream.Stream=Stream;function Stream(){EventEmitter.call(this)}Stream.prototype.pipe=function(i,o){var s=this;function _(ct){i.writable&&i.write(ct)===!1&&s.pause&&s.pause()}s.on("data",_);function $(){s.readable&&s.resume&&s.resume()}i.on("drain",$),!i._isStdio&&(!o||o.end!==!1)&&(s.on("end",et),s.on("close",j));var _e=!1;function et(){_e||(_e=!0,i.end())}function j(){_e||(_e=!0,typeof i.destroy=="function"&&i.destroy())}function nt(ct){if(ot(),EventEmitter.listenerCount(this,"error")===0)throw ct}s.on("error",nt),i.on("error",nt);function ot(){s.removeListener("data",_),i.removeListener("drain",$),s.removeListener("end",et),s.removeListener("close",j),s.removeListener("error",nt),i.removeListener("error",nt),s.removeListener("end",ot),s.removeListener("close",ot),i.removeListener("close",ot)}return s.on("end",ot),s.on("close",ot),i.on("close",ot),i.emit("pipe",s),i};const msg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function arraySet(i,o,s,_,$){if(o.subarray&&i.subarray){i.set(o.subarray(s,s+_),$);return}for(var _e=0;_e<_;_e++)i[$+_e]=o[s+_e]}var Buf8=Uint8Array,Buf16=Uint16Array,Buf32=Int32Array,Z_FIXED$2=4,Z_BINARY$1=0,Z_TEXT$1=1,Z_UNKNOWN$2=2;function zero$1(i){for(var o=i.length;--o>=0;)i[o]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(i,o,s,_,$){this.static_tree=i,this.extra_bits=o,this.extra_base=s,this.elems=_,this.max_length=$,this.has_stree=i&&i.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(i,o){this.dyn_tree=i,this.max_code=0,this.stat_desc=o}function d_code(i){return i<256?_dist_code[i]:_dist_code[256+(i>>>7)]}function put_short(i,o){i.pending_buf[i.pending++]=o&255,i.pending_buf[i.pending++]=o>>>8&255}function send_bits(i,o,s){i.bi_valid>Buf_size-s?(i.bi_buf|=o<<i.bi_valid&65535,put_short(i,i.bi_buf),i.bi_buf=o>>Buf_size-i.bi_valid,i.bi_valid+=s-Buf_size):(i.bi_buf|=o<<i.bi_valid&65535,i.bi_valid+=s)}function send_code(i,o,s){send_bits(i,s[o*2],s[o*2+1])}function bi_reverse(i,o){var s=0;do s|=i&1,i>>>=1,s<<=1;while(--o>0);return s>>>1}function bi_flush(i){i.bi_valid===16?(put_short(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)}function gen_bitlen(i,o){var s=o.dyn_tree,_=o.max_code,$=o.stat_desc.static_tree,_e=o.stat_desc.has_stree,et=o.stat_desc.extra_bits,j=o.stat_desc.extra_base,nt=o.stat_desc.max_length,ot,ct,gt,pt,ft,ut,yt=0;for(pt=0;pt<=MAX_BITS$1;pt++)i.bl_count[pt]=0;for(s[i.heap[i.heap_max]*2+1]=0,ot=i.heap_max+1;ot<HEAP_SIZE$1;ot++)ct=i.heap[ot],pt=s[s[ct*2+1]*2+1]+1,pt>nt&&(pt=nt,yt++),s[ct*2+1]=pt,!(ct>_)&&(i.bl_count[pt]++,ft=0,ct>=j&&(ft=et[ct-j]),ut=s[ct*2],i.opt_len+=ut*(pt+ft),_e&&(i.static_len+=ut*($[ct*2+1]+ft)));if(yt!==0){do{for(pt=nt-1;i.bl_count[pt]===0;)pt--;i.bl_count[pt]--,i.bl_count[pt+1]+=2,i.bl_count[nt]--,yt-=2}while(yt>0);for(pt=nt;pt!==0;pt--)for(ct=i.bl_count[pt];ct!==0;)gt=i.heap[--ot],!(gt>_)&&(s[gt*2+1]!==pt&&(i.opt_len+=(pt-s[gt*2+1])*s[gt*2],s[gt*2+1]=pt),ct--)}}function gen_codes(i,o,s){var _=new Array(MAX_BITS$1+1),$=0,_e,et;for(_e=1;_e<=MAX_BITS$1;_e++)_[_e]=$=$+s[_e-1]<<1;for(et=0;et<=o;et++){var j=i[et*2+1];j!==0&&(i[et*2]=bi_reverse(_[j]++,j))}}function tr_static_init(){var i,o,s,_,$,_e=new Array(MAX_BITS$1+1);for(s=0,_=0;_<LENGTH_CODES$1-1;_++)for(base_length[_]=s,i=0;i<1<<extra_lbits[_];i++)_length_code[s++]=_;for(_length_code[s-1]=_,$=0,_=0;_<16;_++)for(base_dist[_]=$,i=0;i<1<<extra_dbits[_];i++)_dist_code[$++]=_;for($>>=7;_<D_CODES$1;_++)for(base_dist[_]=$<<7,i=0;i<1<<extra_dbits[_]-7;i++)_dist_code[256+$++]=_;for(o=0;o<=MAX_BITS$1;o++)_e[o]=0;for(i=0;i<=143;)static_ltree[i*2+1]=8,i++,_e[8]++;for(;i<=255;)static_ltree[i*2+1]=9,i++,_e[9]++;for(;i<=279;)static_ltree[i*2+1]=7,i++,_e[7]++;for(;i<=287;)static_ltree[i*2+1]=8,i++,_e[8]++;for(gen_codes(static_ltree,L_CODES$1+1,_e),i=0;i<D_CODES$1;i++)static_dtree[i*2+1]=5,static_dtree[i*2]=bi_reverse(i,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(i){var o;for(o=0;o<L_CODES$1;o++)i.dyn_ltree[o*2]=0;for(o=0;o<D_CODES$1;o++)i.dyn_dtree[o*2]=0;for(o=0;o<BL_CODES$1;o++)i.bl_tree[o*2]=0;i.dyn_ltree[END_BLOCK*2]=1,i.opt_len=i.static_len=0,i.last_lit=i.matches=0}function bi_windup(i){i.bi_valid>8?put_short(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0}function copy_block(i,o,s,_){bi_windup(i),_&&(put_short(i,s),put_short(i,~s)),arraySet(i.pending_buf,i.window,o,s,i.pending),i.pending+=s}function smaller(i,o,s,_){var $=o*2,_e=s*2;return i[$]<i[_e]||i[$]===i[_e]&&_[o]<=_[s]}function pqdownheap(i,o,s){for(var _=i.heap[s],$=s<<1;$<=i.heap_len&&($<i.heap_len&&smaller(o,i.heap[$+1],i.heap[$],i.depth)&&$++,!smaller(o,_,i.heap[$],i.depth));)i.heap[s]=i.heap[$],s=$,$<<=1;i.heap[s]=_}function compress_block(i,o,s){var _,$,_e=0,et,j;if(i.last_lit!==0)do _=i.pending_buf[i.d_buf+_e*2]<<8|i.pending_buf[i.d_buf+_e*2+1],$=i.pending_buf[i.l_buf+_e],_e++,_===0?send_code(i,$,o):(et=_length_code[$],send_code(i,et+LITERALS$1+1,o),j=extra_lbits[et],j!==0&&($-=base_length[et],send_bits(i,$,j)),_--,et=d_code(_),send_code(i,et,s),j=extra_dbits[et],j!==0&&(_-=base_dist[et],send_bits(i,_,j)));while(_e<i.last_lit);send_code(i,END_BLOCK,o)}function build_tree(i,o){var s=o.dyn_tree,_=o.stat_desc.static_tree,$=o.stat_desc.has_stree,_e=o.stat_desc.elems,et,j,nt=-1,ot;for(i.heap_len=0,i.heap_max=HEAP_SIZE$1,et=0;et<_e;et++)s[et*2]!==0?(i.heap[++i.heap_len]=nt=et,i.depth[et]=0):s[et*2+1]=0;for(;i.heap_len<2;)ot=i.heap[++i.heap_len]=nt<2?++nt:0,s[ot*2]=1,i.depth[ot]=0,i.opt_len--,$&&(i.static_len-=_[ot*2+1]);for(o.max_code=nt,et=i.heap_len>>1;et>=1;et--)pqdownheap(i,s,et);ot=_e;do et=i.heap[1],i.heap[1]=i.heap[i.heap_len--],pqdownheap(i,s,1),j=i.heap[1],i.heap[--i.heap_max]=et,i.heap[--i.heap_max]=j,s[ot*2]=s[et*2]+s[j*2],i.depth[ot]=(i.depth[et]>=i.depth[j]?i.depth[et]:i.depth[j])+1,s[et*2+1]=s[j*2+1]=ot,i.heap[1]=ot++,pqdownheap(i,s,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],gen_bitlen(i,o),gen_codes(s,nt,i.bl_count)}function scan_tree(i,o,s){var _,$=-1,_e,et=o[0*2+1],j=0,nt=7,ot=4;for(et===0&&(nt=138,ot=3),o[(s+1)*2+1]=65535,_=0;_<=s;_++)_e=et,et=o[(_+1)*2+1],!(++j<nt&&_e===et)&&(j<ot?i.bl_tree[_e*2]+=j:_e!==0?(_e!==$&&i.bl_tree[_e*2]++,i.bl_tree[REP_3_6*2]++):j<=10?i.bl_tree[REPZ_3_10*2]++:i.bl_tree[REPZ_11_138*2]++,j=0,$=_e,et===0?(nt=138,ot=3):_e===et?(nt=6,ot=3):(nt=7,ot=4))}function send_tree(i,o,s){var _,$=-1,_e,et=o[0*2+1],j=0,nt=7,ot=4;for(et===0&&(nt=138,ot=3),_=0;_<=s;_++)if(_e=et,et=o[(_+1)*2+1],!(++j<nt&&_e===et)){if(j<ot)do send_code(i,_e,i.bl_tree);while(--j!==0);else _e!==0?(_e!==$&&(send_code(i,_e,i.bl_tree),j--),send_code(i,REP_3_6,i.bl_tree),send_bits(i,j-3,2)):j<=10?(send_code(i,REPZ_3_10,i.bl_tree),send_bits(i,j-3,3)):(send_code(i,REPZ_11_138,i.bl_tree),send_bits(i,j-11,7));j=0,$=_e,et===0?(nt=138,ot=3):_e===et?(nt=6,ot=3):(nt=7,ot=4)}}function build_bl_tree(i){var o;for(scan_tree(i,i.dyn_ltree,i.l_desc.max_code),scan_tree(i,i.dyn_dtree,i.d_desc.max_code),build_tree(i,i.bl_desc),o=BL_CODES$1-1;o>=3&&i.bl_tree[bl_order[o]*2+1]===0;o--);return i.opt_len+=3*(o+1)+5+5+4,o}function send_all_trees(i,o,s,_){var $;for(send_bits(i,o-257,5),send_bits(i,s-1,5),send_bits(i,_-4,4),$=0;$<_;$++)send_bits(i,i.bl_tree[bl_order[$]*2+1],3);send_tree(i,i.dyn_ltree,o-1),send_tree(i,i.dyn_dtree,s-1)}function detect_data_type(i){var o=4093624447,s;for(s=0;s<=31;s++,o>>>=1)if(o&1&&i.dyn_ltree[s*2]!==0)return Z_BINARY$1;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return Z_TEXT$1;for(s=32;s<LITERALS$1;s++)if(i.dyn_ltree[s*2]!==0)return Z_TEXT$1;return Z_BINARY$1}var static_init_done=!1;function _tr_init(i){static_init_done||(tr_static_init(),static_init_done=!0),i.l_desc=new TreeDesc(i.dyn_ltree,static_l_desc),i.d_desc=new TreeDesc(i.dyn_dtree,static_d_desc),i.bl_desc=new TreeDesc(i.bl_tree,static_bl_desc),i.bi_buf=0,i.bi_valid=0,init_block(i)}function _tr_stored_block(i,o,s,_){send_bits(i,(STORED_BLOCK<<1)+(_?1:0),3),copy_block(i,o,s,!0)}function _tr_align(i){send_bits(i,STATIC_TREES<<1,3),send_code(i,END_BLOCK,static_ltree),bi_flush(i)}function _tr_flush_block(i,o,s,_){var $,_e,et=0;i.level>0?(i.strm.data_type===Z_UNKNOWN$2&&(i.strm.data_type=detect_data_type(i)),build_tree(i,i.l_desc),build_tree(i,i.d_desc),et=build_bl_tree(i),$=i.opt_len+3+7>>>3,_e=i.static_len+3+7>>>3,_e<=$&&($=_e)):$=_e=s+5,s+4<=$&&o!==-1?_tr_stored_block(i,o,s,_):i.strategy===Z_FIXED$2||_e===$?(send_bits(i,(STATIC_TREES<<1)+(_?1:0),3),compress_block(i,static_ltree,static_dtree)):(send_bits(i,(DYN_TREES<<1)+(_?1:0),3),send_all_trees(i,i.l_desc.max_code+1,i.d_desc.max_code+1,et+1),compress_block(i,i.dyn_ltree,i.dyn_dtree)),init_block(i),_&&bi_windup(i)}function _tr_tally(i,o,s){return i.pending_buf[i.d_buf+i.last_lit*2]=o>>>8&255,i.pending_buf[i.d_buf+i.last_lit*2+1]=o&255,i.pending_buf[i.l_buf+i.last_lit]=s&255,i.last_lit++,o===0?i.dyn_ltree[s*2]++:(i.matches++,o--,i.dyn_ltree[(_length_code[s]+LITERALS$1+1)*2]++,i.dyn_dtree[d_code(o)*2]++),i.last_lit===i.lit_bufsize-1}function adler32(i,o,s,_){for(var $=i&65535|0,_e=i>>>16&65535|0,et=0;s!==0;){et=s>2e3?2e3:s,s-=et;do $=$+o[_++]|0,_e=_e+$|0;while(--et);$%=65521,_e%=65521}return $|_e<<16|0}function makeTable(){for(var i,o=[],s=0;s<256;s++){i=s;for(var _=0;_<8;_++)i=i&1?3988292384^i>>>1:i>>>1;o[s]=i}return o}var crcTable=makeTable();function crc32(i,o,s,_){var $=crcTable,_e=_+s;i^=-1;for(var et=_;et<_e;et++)i=i>>>8^$[(i^o[et])&255];return i^-1}var Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH$1=1,Z_FULL_FLUSH$1=3,Z_FINISH$2=4,Z_BLOCK$2=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$2=-2,Z_DATA_ERROR$2=-3,Z_BUF_ERROR$2=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED$1=1,Z_HUFFMAN_ONLY$1=2,Z_RLE$1=3,Z_FIXED$1=4,Z_UNKNOWN$1=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(i,o){return i.msg=msg[o],o}function rank(i){return(i<<1)-(i>4?9:0)}function zero(i){for(var o=i.length;--o>=0;)i[o]=0}function flush_pending(i){var o=i.state,s=o.pending;s>i.avail_out&&(s=i.avail_out),s!==0&&(arraySet(i.output,o.pending_buf,o.pending_out,s,i.next_out),i.next_out+=s,o.pending_out+=s,i.total_out+=s,i.avail_out-=s,o.pending-=s,o.pending===0&&(o.pending_out=0))}function flush_block_only(i,o){_tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,o),i.block_start=i.strstart,flush_pending(i.strm)}function put_byte(i,o){i.pending_buf[i.pending++]=o}function putShortMSB(i,o){i.pending_buf[i.pending++]=o>>>8&255,i.pending_buf[i.pending++]=o&255}function read_buf(i,o,s,_){var $=i.avail_in;return $>_&&($=_),$===0?0:(i.avail_in-=$,arraySet(o,i.input,i.next_in,$,s),i.state.wrap===1?i.adler=adler32(i.adler,o,$,s):i.state.wrap===2&&(i.adler=crc32(i.adler,o,$,s)),i.next_in+=$,i.total_in+=$,$)}function longest_match(i,o){var s=i.max_chain_length,_=i.strstart,$,_e,et=i.prev_length,j=i.nice_match,nt=i.strstart>i.w_size-MIN_LOOKAHEAD?i.strstart-(i.w_size-MIN_LOOKAHEAD):0,ot=i.window,ct=i.w_mask,gt=i.prev,pt=i.strstart+MAX_MATCH,ft=ot[_+et-1],ut=ot[_+et];i.prev_length>=i.good_match&&(s>>=2),j>i.lookahead&&(j=i.lookahead);do if($=o,!(ot[$+et]!==ut||ot[$+et-1]!==ft||ot[$]!==ot[_]||ot[++$]!==ot[_+1])){_+=2,$++;do;while(ot[++_]===ot[++$]&&ot[++_]===ot[++$]&&ot[++_]===ot[++$]&&ot[++_]===ot[++$]&&ot[++_]===ot[++$]&&ot[++_]===ot[++$]&&ot[++_]===ot[++$]&&ot[++_]===ot[++$]&&_<pt);if(_e=MAX_MATCH-(pt-_),_=pt-MAX_MATCH,_e>et){if(i.match_start=o,et=_e,_e>=j)break;ft=ot[_+et-1],ut=ot[_+et]}}while((o=gt[o&ct])>nt&&--s!==0);return et<=i.lookahead?et:i.lookahead}function fill_window(i){var o=i.w_size,s,_,$,_e,et;do{if(_e=i.window_size-i.lookahead-i.strstart,i.strstart>=o+(o-MIN_LOOKAHEAD)){arraySet(i.window,i.window,o,o,0),i.match_start-=o,i.strstart-=o,i.block_start-=o,_=i.hash_size,s=_;do $=i.head[--s],i.head[s]=$>=o?$-o:0;while(--_);_=o,s=_;do $=i.prev[--s],i.prev[s]=$>=o?$-o:0;while(--_);_e+=o}if(i.strm.avail_in===0)break;if(_=read_buf(i.strm,i.window,i.strstart+i.lookahead,_e),i.lookahead+=_,i.lookahead+i.insert>=MIN_MATCH)for(et=i.strstart-i.insert,i.ins_h=i.window[et],i.ins_h=(i.ins_h<<i.hash_shift^i.window[et+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[et+MIN_MATCH-1])&i.hash_mask,i.prev[et&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=et,et++,i.insert--,!(i.lookahead+i.insert<MIN_MATCH)););}while(i.lookahead<MIN_LOOKAHEAD&&i.strm.avail_in!==0)}function deflate_stored(i,o){var s=65535;for(s>i.pending_buf_size-5&&(s=i.pending_buf_size-5);;){if(i.lookahead<=1){if(fill_window(i),i.lookahead===0&&o===Z_NO_FLUSH$1)return BS_NEED_MORE;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var _=i.block_start+s;if((i.strstart===0||i.strstart>=_)&&(i.lookahead=i.strstart-_,i.strstart=_,flush_block_only(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-MIN_LOOKAHEAD&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=0,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(i.strstart>i.block_start&&(flush_block_only(i,!1),i.strm.avail_out),BS_NEED_MORE)}function deflate_fast(i,o){for(var s,_;;){if(i.lookahead<MIN_LOOKAHEAD){if(fill_window(i),i.lookahead<MIN_LOOKAHEAD&&o===Z_NO_FLUSH$1)return BS_NEED_MORE;if(i.lookahead===0)break}if(s=0,i.lookahead>=MIN_MATCH&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+MIN_MATCH-1])&i.hash_mask,s=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),s!==0&&i.strstart-s<=i.w_size-MIN_LOOKAHEAD&&(i.match_length=longest_match(i,s)),i.match_length>=MIN_MATCH)if(_=_tr_tally(i,i.strstart-i.match_start,i.match_length-MIN_MATCH),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=MIN_MATCH){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+MIN_MATCH-1])&i.hash_mask,s=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else _=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(_&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=i.strstart<MIN_MATCH-1?i.strstart:MIN_MATCH-1,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.last_lit&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(i,o){for(var s,_,$;;){if(i.lookahead<MIN_LOOKAHEAD){if(fill_window(i),i.lookahead<MIN_LOOKAHEAD&&o===Z_NO_FLUSH$1)return BS_NEED_MORE;if(i.lookahead===0)break}if(s=0,i.lookahead>=MIN_MATCH&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+MIN_MATCH-1])&i.hash_mask,s=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=MIN_MATCH-1,s!==0&&i.prev_length<i.max_lazy_match&&i.strstart-s<=i.w_size-MIN_LOOKAHEAD&&(i.match_length=longest_match(i,s),i.match_length<=5&&(i.strategy===Z_FILTERED$1||i.match_length===MIN_MATCH&&i.strstart-i.match_start>4096)&&(i.match_length=MIN_MATCH-1)),i.prev_length>=MIN_MATCH&&i.match_length<=i.prev_length){$=i.strstart+i.lookahead-MIN_MATCH,_=_tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-MIN_MATCH),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=$&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+MIN_MATCH-1])&i.hash_mask,s=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=MIN_MATCH-1,i.strstart++,_&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}else if(i.match_available){if(_=_tr_tally(i,0,i.window[i.strstart-1]),_&&flush_block_only(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return BS_NEED_MORE}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(_=_tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<MIN_MATCH-1?i.strstart:MIN_MATCH-1,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.last_lit&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(i,o){for(var s,_,$,_e,et=i.window;;){if(i.lookahead<=MAX_MATCH){if(fill_window(i),i.lookahead<=MAX_MATCH&&o===Z_NO_FLUSH$1)return BS_NEED_MORE;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=MIN_MATCH&&i.strstart>0&&($=i.strstart-1,_=et[$],_===et[++$]&&_===et[++$]&&_===et[++$])){_e=i.strstart+MAX_MATCH;do;while(_===et[++$]&&_===et[++$]&&_===et[++$]&&_===et[++$]&&_===et[++$]&&_===et[++$]&&_===et[++$]&&_===et[++$]&&$<_e);i.match_length=MAX_MATCH-(_e-$),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=MIN_MATCH?(s=_tr_tally(i,1,i.match_length-MIN_MATCH),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(s=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),s&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=0,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.last_lit&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(i,o){for(var s;;){if(i.lookahead===0&&(fill_window(i),i.lookahead===0)){if(o===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(i.match_length=0,s=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,s&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=0,o===Z_FINISH$2?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.last_lit&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config$1(i,o,s,_,$){this.good_length=i,this.max_lazy=o,this.nice_length=s,this.max_chain=_,this.func=$}var configuration_table;configuration_table=[new Config$1(0,0,0,0,deflate_stored),new Config$1(4,4,8,4,deflate_fast),new Config$1(4,5,16,8,deflate_fast),new Config$1(4,6,32,32,deflate_fast),new Config$1(4,4,16,16,deflate_slow),new Config$1(8,16,32,32,deflate_slow),new Config$1(8,16,128,128,deflate_slow),new Config$1(8,32,128,256,deflate_slow),new Config$1(32,128,258,1024,deflate_slow),new Config$1(32,258,258,4096,deflate_slow)];function lm_init(i){i.window_size=2*i.w_size,zero(i.head),i.max_lazy_match=configuration_table[i.level].max_lazy,i.good_match=configuration_table[i.level].good_length,i.nice_match=configuration_table[i.level].nice_length,i.max_chain_length=configuration_table[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=MIN_MATCH-1,i.match_available=0,i.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Buf16(HEAP_SIZE*2),this.dyn_dtree=new Buf16((2*D_CODES+1)*2),this.bl_tree=new Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Buf16(MAX_BITS+1),this.heap=new Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(i){var o;return!i||!i.state?err(i,Z_STREAM_ERROR$2):(i.total_in=i.total_out=0,i.data_type=Z_UNKNOWN$1,o=i.state,o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap?INIT_STATE:BUSY_STATE,i.adler=o.wrap===2?0:1,o.last_flush=Z_NO_FLUSH$1,_tr_init(o),Z_OK$2)}function deflateReset(i){var o=deflateResetKeep(i);return o===Z_OK$2&&lm_init(i.state),o}function deflateInit2(i,o,s,_,$,_e){if(!i)return Z_STREAM_ERROR$2;var et=1;if(o===Z_DEFAULT_COMPRESSION$1&&(o=6),_<0?(et=0,_=-_):_>15&&(et=2,_-=16),$<1||$>MAX_MEM_LEVEL||s!==Z_DEFLATED$2||_<8||_>15||o<0||o>9||_e<0||_e>Z_FIXED$1)return err(i,Z_STREAM_ERROR$2);_===8&&(_=9);var j=new DeflateState;return i.state=j,j.strm=i,j.wrap=et,j.gzhead=null,j.w_bits=_,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=$+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+MIN_MATCH-1)/MIN_MATCH),j.window=new Buf8(j.w_size*2),j.head=new Buf16(j.hash_size),j.prev=new Buf16(j.w_size),j.lit_bufsize=1<<$+6,j.pending_buf_size=j.lit_bufsize*4,j.pending_buf=new Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=(1+2)*j.lit_bufsize,j.level=o,j.strategy=_e,j.method=s,deflateReset(i)}function deflate(i,o){var s,_,$,_e;if(!i||!i.state||o>Z_BLOCK$2||o<0)return i?err(i,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;if(_=i.state,!i.output||!i.input&&i.avail_in!==0||_.status===FINISH_STATE&&o!==Z_FINISH$2)return err(i,i.avail_out===0?Z_BUF_ERROR$2:Z_STREAM_ERROR$2);if(_.strm=i,s=_.last_flush,_.last_flush=o,_.status===INIT_STATE)if(_.wrap===2)i.adler=0,put_byte(_,31),put_byte(_,139),put_byte(_,8),_.gzhead?(put_byte(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),put_byte(_,_.gzhead.time&255),put_byte(_,_.gzhead.time>>8&255),put_byte(_,_.gzhead.time>>16&255),put_byte(_,_.gzhead.time>>24&255),put_byte(_,_.level===9?2:_.strategy>=Z_HUFFMAN_ONLY$1||_.level<2?4:0),put_byte(_,_.gzhead.os&255),_.gzhead.extra&&_.gzhead.extra.length&&(put_byte(_,_.gzhead.extra.length&255),put_byte(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(i.adler=crc32(i.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=EXTRA_STATE):(put_byte(_,0),put_byte(_,0),put_byte(_,0),put_byte(_,0),put_byte(_,0),put_byte(_,_.level===9?2:_.strategy>=Z_HUFFMAN_ONLY$1||_.level<2?4:0),put_byte(_,OS_CODE),_.status=BUSY_STATE);else{var et=Z_DEFLATED$2+(_.w_bits-8<<4)<<8,j=-1;_.strategy>=Z_HUFFMAN_ONLY$1||_.level<2?j=0:_.level<6?j=1:_.level===6?j=2:j=3,et|=j<<6,_.strstart!==0&&(et|=PRESET_DICT),et+=31-et%31,_.status=BUSY_STATE,putShortMSB(_,et),_.strstart!==0&&(putShortMSB(_,i.adler>>>16),putShortMSB(_,i.adler&65535)),i.adler=1}if(_.status===EXTRA_STATE)if(_.gzhead.extra){for($=_.pending;_.gzindex<(_.gzhead.extra.length&65535)&&!(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),flush_pending(i),$=_.pending,_.pending===_.pending_buf_size));)put_byte(_,_.gzhead.extra[_.gzindex]&255),_.gzindex++;_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=NAME_STATE)}else _.status=NAME_STATE;if(_.status===NAME_STATE)if(_.gzhead.name){$=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),flush_pending(i),$=_.pending,_.pending===_.pending_buf_size)){_e=1;break}_.gzindex<_.gzhead.name.length?_e=_.gzhead.name.charCodeAt(_.gzindex++)&255:_e=0,put_byte(_,_e)}while(_e!==0);_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),_e===0&&(_.gzindex=0,_.status=COMMENT_STATE)}else _.status=COMMENT_STATE;if(_.status===COMMENT_STATE)if(_.gzhead.comment){$=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),flush_pending(i),$=_.pending,_.pending===_.pending_buf_size)){_e=1;break}_.gzindex<_.gzhead.comment.length?_e=_.gzhead.comment.charCodeAt(_.gzindex++)&255:_e=0,put_byte(_,_e)}while(_e!==0);_.gzhead.hcrc&&_.pending>$&&(i.adler=crc32(i.adler,_.pending_buf,_.pending-$,$)),_e===0&&(_.status=HCRC_STATE)}else _.status=HCRC_STATE;if(_.status===HCRC_STATE&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&flush_pending(i),_.pending+2<=_.pending_buf_size&&(put_byte(_,i.adler&255),put_byte(_,i.adler>>8&255),i.adler=0,_.status=BUSY_STATE)):_.status=BUSY_STATE),_.pending!==0){if(flush_pending(i),i.avail_out===0)return _.last_flush=-1,Z_OK$2}else if(i.avail_in===0&&rank(o)<=rank(s)&&o!==Z_FINISH$2)return err(i,Z_BUF_ERROR$2);if(_.status===FINISH_STATE&&i.avail_in!==0)return err(i,Z_BUF_ERROR$2);if(i.avail_in!==0||_.lookahead!==0||o!==Z_NO_FLUSH$1&&_.status!==FINISH_STATE){var nt=_.strategy===Z_HUFFMAN_ONLY$1?deflate_huff(_,o):_.strategy===Z_RLE$1?deflate_rle(_,o):configuration_table[_.level].func(_,o);if((nt===BS_FINISH_STARTED||nt===BS_FINISH_DONE)&&(_.status=FINISH_STATE),nt===BS_NEED_MORE||nt===BS_FINISH_STARTED)return i.avail_out===0&&(_.last_flush=-1),Z_OK$2;if(nt===BS_BLOCK_DONE&&(o===Z_PARTIAL_FLUSH$1?_tr_align(_):o!==Z_BLOCK$2&&(_tr_stored_block(_,0,0,!1),o===Z_FULL_FLUSH$1&&(zero(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),flush_pending(i),i.avail_out===0))return _.last_flush=-1,Z_OK$2}return o!==Z_FINISH$2?Z_OK$2:_.wrap<=0?Z_STREAM_END$2:(_.wrap===2?(put_byte(_,i.adler&255),put_byte(_,i.adler>>8&255),put_byte(_,i.adler>>16&255),put_byte(_,i.adler>>24&255),put_byte(_,i.total_in&255),put_byte(_,i.total_in>>8&255),put_byte(_,i.total_in>>16&255),put_byte(_,i.total_in>>24&255)):(putShortMSB(_,i.adler>>>16),putShortMSB(_,i.adler&65535)),flush_pending(i),_.wrap>0&&(_.wrap=-_.wrap),_.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(i){var o;return!i||!i.state?Z_STREAM_ERROR$2:(o=i.state.status,o!==INIT_STATE&&o!==EXTRA_STATE&&o!==NAME_STATE&&o!==COMMENT_STATE&&o!==HCRC_STATE&&o!==BUSY_STATE&&o!==FINISH_STATE?err(i,Z_STREAM_ERROR$2):(i.state=null,o===BUSY_STATE?err(i,Z_DATA_ERROR$2):Z_OK$2))}var BAD$1=30,TYPE$1=12;function inflate_fast(i,o){var s,_,$,_e,et,j,nt,ot,ct,gt,pt,ft,ut,yt,wt,Qt,It,xt,Tt,mt,Nt,en,rn,Ft,St;s=i.state,_=i.next_in,Ft=i.input,$=_+(i.avail_in-5),_e=i.next_out,St=i.output,et=_e-(o-i.avail_out),j=_e+(i.avail_out-257),nt=s.dmax,ot=s.wsize,ct=s.whave,gt=s.wnext,pt=s.window,ft=s.hold,ut=s.bits,yt=s.lencode,wt=s.distcode,Qt=(1<<s.lenbits)-1,It=(1<<s.distbits)-1;e:do{ut<15&&(ft+=Ft[_++]<<ut,ut+=8,ft+=Ft[_++]<<ut,ut+=8),xt=yt[ft&Qt];t:for(;;){if(Tt=xt>>>24,ft>>>=Tt,ut-=Tt,Tt=xt>>>16&255,Tt===0)St[_e++]=xt&65535;else if(Tt&16){mt=xt&65535,Tt&=15,Tt&&(ut<Tt&&(ft+=Ft[_++]<<ut,ut+=8),mt+=ft&(1<<Tt)-1,ft>>>=Tt,ut-=Tt),ut<15&&(ft+=Ft[_++]<<ut,ut+=8,ft+=Ft[_++]<<ut,ut+=8),xt=wt[ft&It];n:for(;;){if(Tt=xt>>>24,ft>>>=Tt,ut-=Tt,Tt=xt>>>16&255,Tt&16){if(Nt=xt&65535,Tt&=15,ut<Tt&&(ft+=Ft[_++]<<ut,ut+=8,ut<Tt&&(ft+=Ft[_++]<<ut,ut+=8)),Nt+=ft&(1<<Tt)-1,Nt>nt){i.msg="invalid distance too far back",s.mode=BAD$1;break e}if(ft>>>=Tt,ut-=Tt,Tt=_e-et,Nt>Tt){if(Tt=Nt-Tt,Tt>ct&&s.sane){i.msg="invalid distance too far back",s.mode=BAD$1;break e}if(en=0,rn=pt,gt===0){if(en+=ot-Tt,Tt<mt){mt-=Tt;do St[_e++]=pt[en++];while(--Tt);en=_e-Nt,rn=St}}else if(gt<Tt){if(en+=ot+gt-Tt,Tt-=gt,Tt<mt){mt-=Tt;do St[_e++]=pt[en++];while(--Tt);if(en=0,gt<mt){Tt=gt,mt-=Tt;do St[_e++]=pt[en++];while(--Tt);en=_e-Nt,rn=St}}}else if(en+=gt-Tt,Tt<mt){mt-=Tt;do St[_e++]=pt[en++];while(--Tt);en=_e-Nt,rn=St}for(;mt>2;)St[_e++]=rn[en++],St[_e++]=rn[en++],St[_e++]=rn[en++],mt-=3;mt&&(St[_e++]=rn[en++],mt>1&&(St[_e++]=rn[en++]))}else{en=_e-Nt;do St[_e++]=St[en++],St[_e++]=St[en++],St[_e++]=St[en++],mt-=3;while(mt>2);mt&&(St[_e++]=St[en++],mt>1&&(St[_e++]=St[en++]))}}else if(Tt&64){i.msg="invalid distance code",s.mode=BAD$1;break e}else{xt=wt[(xt&65535)+(ft&(1<<Tt)-1)];continue n}break}}else if(Tt&64)if(Tt&32){s.mode=TYPE$1;break e}else{i.msg="invalid literal/length code",s.mode=BAD$1;break e}else{xt=yt[(xt&65535)+(ft&(1<<Tt)-1)];continue t}break}}while(_<$&&_e<j);mt=ut>>3,_-=mt,ut-=mt<<3,ft&=(1<<ut)-1,i.next_in=_,i.next_out=_e,i.avail_in=_<$?5+($-_):5-(_-$),i.avail_out=_e<j?257+(j-_e):257-(_e-j),s.hold=ft,s.bits=ut}var MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function inflate_table(i,o,s,_,$,_e,et,j){var nt=j.bits,ot=0,ct=0,gt=0,pt=0,ft=0,ut=0,yt=0,wt=0,Qt=0,It=0,xt,Tt,mt,Nt,en,rn=null,Ft=0,St,Pt=new Buf16(MAXBITS+1),Bt=new Buf16(MAXBITS+1),jt=null,qt=0,Zt,Wt,Gt;for(ot=0;ot<=MAXBITS;ot++)Pt[ot]=0;for(ct=0;ct<_;ct++)Pt[o[s+ct]]++;for(ft=nt,pt=MAXBITS;pt>=1&&Pt[pt]===0;pt--);if(ft>pt&&(ft=pt),pt===0)return $[_e++]=1<<24|64<<16|0,$[_e++]=1<<24|64<<16|0,j.bits=1,0;for(gt=1;gt<pt&&Pt[gt]===0;gt++);for(ft<gt&&(ft=gt),wt=1,ot=1;ot<=MAXBITS;ot++)if(wt<<=1,wt-=Pt[ot],wt<0)return-1;if(wt>0&&(i===CODES$1||pt!==1))return-1;for(Bt[1]=0,ot=1;ot<MAXBITS;ot++)Bt[ot+1]=Bt[ot]+Pt[ot];for(ct=0;ct<_;ct++)o[s+ct]!==0&&(et[Bt[o[s+ct]]++]=ct);if(i===CODES$1?(rn=jt=et,St=19):i===LENS$1?(rn=lbase,Ft-=257,jt=lext,qt-=257,St=256):(rn=dbase,jt=dext,St=-1),It=0,ct=0,ot=gt,en=_e,ut=ft,yt=0,mt=-1,Qt=1<<ft,Nt=Qt-1,i===LENS$1&&Qt>ENOUGH_LENS$1||i===DISTS$1&&Qt>ENOUGH_DISTS$1)return 1;for(;;){Zt=ot-yt,et[ct]<St?(Wt=0,Gt=et[ct]):et[ct]>St?(Wt=jt[qt+et[ct]],Gt=rn[Ft+et[ct]]):(Wt=32+64,Gt=0),xt=1<<ot-yt,Tt=1<<ut,gt=Tt;do Tt-=xt,$[en+(It>>yt)+Tt]=Zt<<24|Wt<<16|Gt|0;while(Tt!==0);for(xt=1<<ot-1;It&xt;)xt>>=1;if(xt!==0?(It&=xt-1,It+=xt):It=0,ct++,--Pt[ot]===0){if(ot===pt)break;ot=o[s+et[ct]]}if(ot>ft&&(It&Nt)!==mt){for(yt===0&&(yt=ft),en+=gt,ut=ot-yt,wt=1<<ut;ut+yt<pt&&(wt-=Pt[ut+yt],!(wt<=0));)ut++,wt<<=1;if(Qt+=1<<ut,i===LENS$1&&Qt>ENOUGH_LENS$1||i===DISTS$1&&Qt>ENOUGH_DISTS$1)return 1;mt=It&Nt,$[mt]=ft<<24|ut<<16|en-_e|0}}return It!==0&&($[en+It]=ot-yt<<24|64<<16|0),j.bits=ft,0}var CODES=0,LENS=1,DISTS=2,Z_FINISH$1=4,Z_BLOCK$1=5,Z_TREES$1=6,Z_OK$1=0,Z_STREAM_END$1=1,Z_NEED_DICT$1=2,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR$1=-5,Z_DEFLATED$1=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT$1=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592;function zswap32(i){return(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Buf16(320),this.work=new Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(i){var o;return!i||!i.state?Z_STREAM_ERROR$1:(o=i.state,i.total_in=i.total_out=o.total=0,i.msg="",o.wrap&&(i.adler=o.wrap&1),o.mode=HEAD,o.last=0,o.havedict=0,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Buf32(ENOUGH_LENS),o.distcode=o.distdyn=new Buf32(ENOUGH_DISTS),o.sane=1,o.back=-1,Z_OK$1)}function inflateReset(i){var o;return!i||!i.state?Z_STREAM_ERROR$1:(o=i.state,o.wsize=0,o.whave=0,o.wnext=0,inflateResetKeep(i))}function inflateReset2(i,o){var s,_;return!i||!i.state||(_=i.state,o<0?(s=0,o=-o):(s=(o>>4)+1,o<48&&(o&=15)),o&&(o<8||o>15))?Z_STREAM_ERROR$1:(_.window!==null&&_.wbits!==o&&(_.window=null),_.wrap=s,_.wbits=o,inflateReset(i))}function inflateInit2(i,o){var s,_;return i?(_=new InflateState,i.state=_,_.window=null,s=inflateReset2(i,o),s!==Z_OK$1&&(i.state=null),s):Z_STREAM_ERROR$1}var virgin=!0,lenfix,distfix;function fixedtables(i){if(virgin){var o;for(lenfix=new Buf32(512),distfix=new Buf32(32),o=0;o<144;)i.lens[o++]=8;for(;o<256;)i.lens[o++]=9;for(;o<280;)i.lens[o++]=7;for(;o<288;)i.lens[o++]=8;for(inflate_table(LENS,i.lens,0,288,lenfix,0,i.work,{bits:9}),o=0;o<32;)i.lens[o++]=5;inflate_table(DISTS,i.lens,0,32,distfix,0,i.work,{bits:5}),virgin=!1}i.lencode=lenfix,i.lenbits=9,i.distcode=distfix,i.distbits=5}function updatewindow(i,o,s,_){var $,_e=i.state;return _e.window===null&&(_e.wsize=1<<_e.wbits,_e.wnext=0,_e.whave=0,_e.window=new Buf8(_e.wsize)),_>=_e.wsize?(arraySet(_e.window,o,s-_e.wsize,_e.wsize,0),_e.wnext=0,_e.whave=_e.wsize):($=_e.wsize-_e.wnext,$>_&&($=_),arraySet(_e.window,o,s-_,$,_e.wnext),_-=$,_?(arraySet(_e.window,o,s-_,_,0),_e.wnext=_,_e.whave=_e.wsize):(_e.wnext+=$,_e.wnext===_e.wsize&&(_e.wnext=0),_e.whave<_e.wsize&&(_e.whave+=$))),0}function inflate(i,o){var s,_,$,_e,et,j,nt,ot,ct,gt,pt,ft,ut,yt,wt=0,Qt,It,xt,Tt,mt,Nt,en,rn,Ft=new Buf8(4),St,Pt,Bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!i||!i.state||!i.output||!i.input&&i.avail_in!==0)return Z_STREAM_ERROR$1;s=i.state,s.mode===TYPE&&(s.mode=TYPEDO),et=i.next_out,$=i.output,nt=i.avail_out,_e=i.next_in,_=i.input,j=i.avail_in,ot=s.hold,ct=s.bits,gt=j,pt=nt,rn=Z_OK$1;e:for(;;)switch(s.mode){case HEAD:if(s.wrap===0){s.mode=TYPEDO;break}for(;ct<16;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(s.wrap&2&&ot===35615){s.check=0,Ft[0]=ot&255,Ft[1]=ot>>>8&255,s.check=crc32(s.check,Ft,2,0),ot=0,ct=0,s.mode=FLAGS;break}if(s.flags=0,s.head&&(s.head.done=!1),!(s.wrap&1)||(((ot&255)<<8)+(ot>>8))%31){i.msg="incorrect header check",s.mode=BAD;break}if((ot&15)!==Z_DEFLATED$1){i.msg="unknown compression method",s.mode=BAD;break}if(ot>>>=4,ct-=4,en=(ot&15)+8,s.wbits===0)s.wbits=en;else if(en>s.wbits){i.msg="invalid window size",s.mode=BAD;break}s.dmax=1<<en,i.adler=s.check=1,s.mode=ot&512?DICTID:TYPE,ot=0,ct=0;break;case FLAGS:for(;ct<16;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(s.flags=ot,(s.flags&255)!==Z_DEFLATED$1){i.msg="unknown compression method",s.mode=BAD;break}if(s.flags&57344){i.msg="unknown header flags set",s.mode=BAD;break}s.head&&(s.head.text=ot>>8&1),s.flags&512&&(Ft[0]=ot&255,Ft[1]=ot>>>8&255,s.check=crc32(s.check,Ft,2,0)),ot=0,ct=0,s.mode=TIME;case TIME:for(;ct<32;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}s.head&&(s.head.time=ot),s.flags&512&&(Ft[0]=ot&255,Ft[1]=ot>>>8&255,Ft[2]=ot>>>16&255,Ft[3]=ot>>>24&255,s.check=crc32(s.check,Ft,4,0)),ot=0,ct=0,s.mode=OS;case OS:for(;ct<16;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}s.head&&(s.head.xflags=ot&255,s.head.os=ot>>8),s.flags&512&&(Ft[0]=ot&255,Ft[1]=ot>>>8&255,s.check=crc32(s.check,Ft,2,0)),ot=0,ct=0,s.mode=EXLEN;case EXLEN:if(s.flags&1024){for(;ct<16;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}s.length=ot,s.head&&(s.head.extra_len=ot),s.flags&512&&(Ft[0]=ot&255,Ft[1]=ot>>>8&255,s.check=crc32(s.check,Ft,2,0)),ot=0,ct=0}else s.head&&(s.head.extra=null);s.mode=EXTRA;case EXTRA:if(s.flags&1024&&(ft=s.length,ft>j&&(ft=j),ft&&(s.head&&(en=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),arraySet(s.head.extra,_,_e,ft,en)),s.flags&512&&(s.check=crc32(s.check,_,ft,_e)),j-=ft,_e+=ft,s.length-=ft),s.length))break e;s.length=0,s.mode=NAME;case NAME:if(s.flags&2048){if(j===0)break e;ft=0;do en=_[_e+ft++],s.head&&en&&s.length<65536&&(s.head.name+=String.fromCharCode(en));while(en&&ft<j);if(s.flags&512&&(s.check=crc32(s.check,_,ft,_e)),j-=ft,_e+=ft,en)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=COMMENT$1;case COMMENT$1:if(s.flags&4096){if(j===0)break e;ft=0;do en=_[_e+ft++],s.head&&en&&s.length<65536&&(s.head.comment+=String.fromCharCode(en));while(en&&ft<j);if(s.flags&512&&(s.check=crc32(s.check,_,ft,_e)),j-=ft,_e+=ft,en)break e}else s.head&&(s.head.comment=null);s.mode=HCRC;case HCRC:if(s.flags&512){for(;ct<16;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(ot!==(s.check&65535)){i.msg="header crc mismatch",s.mode=BAD;break}ot=0,ct=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),i.adler=s.check=0,s.mode=TYPE;break;case DICTID:for(;ct<32;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}i.adler=s.check=zswap32(ot),ot=0,ct=0,s.mode=DICT;case DICT:if(s.havedict===0)return i.next_out=et,i.avail_out=nt,i.next_in=_e,i.avail_in=j,s.hold=ot,s.bits=ct,Z_NEED_DICT$1;i.adler=s.check=1,s.mode=TYPE;case TYPE:if(o===Z_BLOCK$1||o===Z_TREES$1)break e;case TYPEDO:if(s.last){ot>>>=ct&7,ct-=ct&7,s.mode=CHECK;break}for(;ct<3;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}switch(s.last=ot&1,ot>>>=1,ct-=1,ot&3){case 0:s.mode=STORED;break;case 1:if(fixedtables(s),s.mode=LEN_,o===Z_TREES$1){ot>>>=2,ct-=2;break e}break;case 2:s.mode=TABLE;break;case 3:i.msg="invalid block type",s.mode=BAD}ot>>>=2,ct-=2;break;case STORED:for(ot>>>=ct&7,ct-=ct&7;ct<32;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if((ot&65535)!==(ot>>>16^65535)){i.msg="invalid stored block lengths",s.mode=BAD;break}if(s.length=ot&65535,ot=0,ct=0,s.mode=COPY_,o===Z_TREES$1)break e;case COPY_:s.mode=COPY;case COPY:if(ft=s.length,ft){if(ft>j&&(ft=j),ft>nt&&(ft=nt),ft===0)break e;arraySet($,_,_e,ft,et),j-=ft,_e+=ft,nt-=ft,et+=ft,s.length-=ft;break}s.mode=TYPE;break;case TABLE:for(;ct<14;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(s.nlen=(ot&31)+257,ot>>>=5,ct-=5,s.ndist=(ot&31)+1,ot>>>=5,ct-=5,s.ncode=(ot&15)+4,ot>>>=4,ct-=4,s.nlen>286||s.ndist>30){i.msg="too many length or distance symbols",s.mode=BAD;break}s.have=0,s.mode=LENLENS;case LENLENS:for(;s.have<s.ncode;){for(;ct<3;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}s.lens[Bt[s.have++]]=ot&7,ot>>>=3,ct-=3}for(;s.have<19;)s.lens[Bt[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,St={bits:s.lenbits},rn=inflate_table(CODES,s.lens,0,19,s.lencode,0,s.work,St),s.lenbits=St.bits,rn){i.msg="invalid code lengths set",s.mode=BAD;break}s.have=0,s.mode=CODELENS;case CODELENS:for(;s.have<s.nlen+s.ndist;){for(;wt=s.lencode[ot&(1<<s.lenbits)-1],Qt=wt>>>24,It=wt>>>16&255,xt=wt&65535,!(Qt<=ct);){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(xt<16)ot>>>=Qt,ct-=Qt,s.lens[s.have++]=xt;else{if(xt===16){for(Pt=Qt+2;ct<Pt;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(ot>>>=Qt,ct-=Qt,s.have===0){i.msg="invalid bit length repeat",s.mode=BAD;break}en=s.lens[s.have-1],ft=3+(ot&3),ot>>>=2,ct-=2}else if(xt===17){for(Pt=Qt+3;ct<Pt;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}ot>>>=Qt,ct-=Qt,en=0,ft=3+(ot&7),ot>>>=3,ct-=3}else{for(Pt=Qt+7;ct<Pt;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}ot>>>=Qt,ct-=Qt,en=0,ft=11+(ot&127),ot>>>=7,ct-=7}if(s.have+ft>s.nlen+s.ndist){i.msg="invalid bit length repeat",s.mode=BAD;break}for(;ft--;)s.lens[s.have++]=en}}if(s.mode===BAD)break;if(s.lens[256]===0){i.msg="invalid code -- missing end-of-block",s.mode=BAD;break}if(s.lenbits=9,St={bits:s.lenbits},rn=inflate_table(LENS,s.lens,0,s.nlen,s.lencode,0,s.work,St),s.lenbits=St.bits,rn){i.msg="invalid literal/lengths set",s.mode=BAD;break}if(s.distbits=6,s.distcode=s.distdyn,St={bits:s.distbits},rn=inflate_table(DISTS,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,St),s.distbits=St.bits,rn){i.msg="invalid distances set",s.mode=BAD;break}if(s.mode=LEN_,o===Z_TREES$1)break e;case LEN_:s.mode=LEN;case LEN:if(j>=6&&nt>=258){i.next_out=et,i.avail_out=nt,i.next_in=_e,i.avail_in=j,s.hold=ot,s.bits=ct,inflate_fast(i,pt),et=i.next_out,$=i.output,nt=i.avail_out,_e=i.next_in,_=i.input,j=i.avail_in,ot=s.hold,ct=s.bits,s.mode===TYPE&&(s.back=-1);break}for(s.back=0;wt=s.lencode[ot&(1<<s.lenbits)-1],Qt=wt>>>24,It=wt>>>16&255,xt=wt&65535,!(Qt<=ct);){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(It&&!(It&240)){for(Tt=Qt,mt=It,Nt=xt;wt=s.lencode[Nt+((ot&(1<<Tt+mt)-1)>>Tt)],Qt=wt>>>24,It=wt>>>16&255,xt=wt&65535,!(Tt+Qt<=ct);){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}ot>>>=Tt,ct-=Tt,s.back+=Tt}if(ot>>>=Qt,ct-=Qt,s.back+=Qt,s.length=xt,It===0){s.mode=LIT;break}if(It&32){s.back=-1,s.mode=TYPE;break}if(It&64){i.msg="invalid literal/length code",s.mode=BAD;break}s.extra=It&15,s.mode=LENEXT;case LENEXT:if(s.extra){for(Pt=s.extra;ct<Pt;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}s.length+=ot&(1<<s.extra)-1,ot>>>=s.extra,ct-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=DIST;case DIST:for(;wt=s.distcode[ot&(1<<s.distbits)-1],Qt=wt>>>24,It=wt>>>16&255,xt=wt&65535,!(Qt<=ct);){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(!(It&240)){for(Tt=Qt,mt=It,Nt=xt;wt=s.distcode[Nt+((ot&(1<<Tt+mt)-1)>>Tt)],Qt=wt>>>24,It=wt>>>16&255,xt=wt&65535,!(Tt+Qt<=ct);){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}ot>>>=Tt,ct-=Tt,s.back+=Tt}if(ot>>>=Qt,ct-=Qt,s.back+=Qt,It&64){i.msg="invalid distance code",s.mode=BAD;break}s.offset=xt,s.extra=It&15,s.mode=DISTEXT;case DISTEXT:if(s.extra){for(Pt=s.extra;ct<Pt;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}s.offset+=ot&(1<<s.extra)-1,ot>>>=s.extra,ct-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){i.msg="invalid distance too far back",s.mode=BAD;break}s.mode=MATCH;case MATCH:if(nt===0)break e;if(ft=pt-nt,s.offset>ft){if(ft=s.offset-ft,ft>s.whave&&s.sane){i.msg="invalid distance too far back",s.mode=BAD;break}ft>s.wnext?(ft-=s.wnext,ut=s.wsize-ft):ut=s.wnext-ft,ft>s.length&&(ft=s.length),yt=s.window}else yt=$,ut=et-s.offset,ft=s.length;ft>nt&&(ft=nt),nt-=ft,s.length-=ft;do $[et++]=yt[ut++];while(--ft);s.length===0&&(s.mode=LEN);break;case LIT:if(nt===0)break e;$[et++]=s.length,nt--,s.mode=LEN;break;case CHECK:if(s.wrap){for(;ct<32;){if(j===0)break e;j--,ot|=_[_e++]<<ct,ct+=8}if(pt-=nt,i.total_out+=pt,s.total+=pt,pt&&(i.adler=s.check=s.flags?crc32(s.check,$,pt,et-pt):adler32(s.check,$,pt,et-pt)),pt=nt,(s.flags?ot:zswap32(ot))!==s.check){i.msg="incorrect data check",s.mode=BAD;break}ot=0,ct=0}s.mode=LENGTH;case LENGTH:if(s.wrap&&s.flags){for(;ct<32;){if(j===0)break e;j--,ot+=_[_e++]<<ct,ct+=8}if(ot!==(s.total&4294967295)){i.msg="incorrect length check",s.mode=BAD;break}ot=0,ct=0}s.mode=DONE;case DONE:rn=Z_STREAM_END$1;break e;case BAD:rn=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR$1}return i.next_out=et,i.avail_out=nt,i.next_in=_e,i.avail_in=j,s.hold=ot,s.bits=ct,(s.wsize||pt!==i.avail_out&&s.mode<BAD&&(s.mode<CHECK||o!==Z_FINISH$1))&&updatewindow(i,i.output,i.next_out,pt-i.avail_out),gt-=i.avail_in,pt-=i.avail_out,i.total_in+=gt,i.total_out+=pt,s.total+=pt,s.wrap&&pt&&(i.adler=s.check=s.flags?crc32(s.check,$,pt,i.next_out-pt):adler32(s.check,$,pt,i.next_out-pt)),i.data_type=s.bits+(s.last?64:0)+(s.mode===TYPE?128:0)+(s.mode===LEN_||s.mode===COPY_?256:0),(gt===0&&pt===0||o===Z_FINISH$1)&&rn===Z_OK$1&&(rn=Z_BUF_ERROR$1),rn}function inflateEnd(i){if(!i||!i.state)return Z_STREAM_ERROR$1;var o=i.state;return o.window&&(o.window=null),i.state=null,Z_OK$1}var NONE=0,DEFLATE=1,INFLATE=2,GZIP=3,GUNZIP=4,DEFLATERAW=5,INFLATERAW=6,UNZIP=7,Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_SYNC_FLUSH=2,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_ERRNO=-1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_NO_COMPRESSION=0,Z_BEST_SPEED=1,Z_BEST_COMPRESSION=9,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,Z_DEFLATED=8;function Zlib$1(i){if(i<DEFLATE||i>UNZIP)throw new TypeError("Bad argument");this.mode=i,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}Zlib$1.prototype.init=function(i,o,s,_,$){this.windowBits=i,this.level=o,this.memLevel=s,this.strategy=_,(this.mode===GZIP||this.mode===GUNZIP)&&(this.windowBits+=16),this.mode===UNZIP&&(this.windowBits+=32),(this.mode===DEFLATERAW||this.mode===INFLATERAW)&&(this.windowBits=-this.windowBits),this.strm=new ZStream;var _e;switch(this.mode){case DEFLATE:case GZIP:case DEFLATERAW:_e=deflateInit2(this.strm,this.level,Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case INFLATE:case GUNZIP:case INFLATERAW:case UNZIP:_e=inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(_e!==Z_OK){this._error(_e);return}this.write_in_progress=!1,this.init_done=!0};Zlib$1.prototype.params=function(){throw new Error("deflateParams Not supported")};Zlib$1.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")};Zlib$1.prototype.write=function(i,o,s,_,$,_e,et){this._writeCheck(),this.write_in_progress=!0;var j=this;return browser$1$1.nextTick(function(){j.write_in_progress=!1;var nt=j._write(i,o,s,_,$,_e,et);j.callback(nt[0],nt[1]),j.pending_close&&j.close()}),this};function bufferSet(i,o){for(var s=0;s<i.length;s++)this[o+s]=i[s]}Zlib$1.prototype.writeSync=function(i,o,s,_,$,_e,et){return this._writeCheck(),this._write(i,o,s,_,$,_e,et)};Zlib$1.prototype._write=function(i,o,s,_,$,_e,et){if(this.write_in_progress=!0,i!==Z_NO_FLUSH&&i!==Z_PARTIAL_FLUSH&&i!==Z_SYNC_FLUSH&&i!==Z_FULL_FLUSH&&i!==Z_FINISH&&i!==Z_BLOCK)throw new Error("Invalid flush value");o==null&&(o=new Buffer(0),_=0,s=0),$._set?$.set=$._set:$.set=bufferSet;var j=this.strm;j.avail_in=_,j.input=o,j.next_in=s,j.avail_out=et,j.output=$,j.next_out=_e;var nt;switch(this.mode){case DEFLATE:case GZIP:case DEFLATERAW:nt=deflate(j,i);break;case UNZIP:case INFLATE:case GUNZIP:case INFLATERAW:nt=inflate(j,i);break;default:throw new Error("Unknown mode "+this.mode)}return nt!==Z_STREAM_END&&nt!==Z_OK&&this._error(nt),this.write_in_progress=!1,[j.avail_in,j.avail_out]};Zlib$1.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===DEFLATE||this.mode===GZIP||this.mode===DEFLATERAW?deflateEnd(this.strm):inflateEnd(this.strm),this.mode=NONE};var status;Zlib$1.prototype.reset=function(){switch(this.mode){case DEFLATE:case DEFLATERAW:status=deflateReset(this.strm);break;case INFLATE:case INFLATERAW:status=inflateReset(this.strm);break}status!==Z_OK&&this._error(status)};Zlib$1.prototype._error=function(i){this.onerror(msg[i]+": "+this.strm.msg,i),this.write_in_progress=!1,this.pending_close&&this.close()};const _binding=Object.freeze(Object.defineProperty({__proto__:null,DEFLATE,DEFLATERAW,GUNZIP,GZIP,INFLATE,INFLATERAW,NONE,UNZIP,Z_BEST_COMPRESSION,Z_BEST_SPEED,Z_BINARY,Z_BLOCK,Z_BUF_ERROR,Z_DATA_ERROR,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED,Z_ERRNO,Z_FILTERED,Z_FINISH,Z_FIXED,Z_FULL_FLUSH,Z_HUFFMAN_ONLY,Z_NEED_DICT,Z_NO_COMPRESSION,Z_NO_FLUSH,Z_OK,Z_PARTIAL_FLUSH,Z_RLE,Z_STREAM_END,Z_STREAM_ERROR,Z_SYNC_FLUSH,Z_TEXT,Z_TREES,Z_UNKNOWN,Zlib:Zlib$1},Symbol.toStringTag,{value:"Module"}));function assert(i,o){if(!i)throw new Error(o)}var binding={};Object.keys(_binding).forEach(function(i){binding[i]=_binding[i]});binding.Z_MIN_WINDOWBITS=8;binding.Z_MAX_WINDOWBITS=15;binding.Z_DEFAULT_WINDOWBITS=15;binding.Z_MIN_CHUNK=64;binding.Z_MAX_CHUNK=1/0;binding.Z_DEFAULT_CHUNK=16*1024;binding.Z_MIN_MEMLEVEL=1;binding.Z_MAX_MEMLEVEL=9;binding.Z_DEFAULT_MEMLEVEL=8;binding.Z_MIN_LEVEL=-1;binding.Z_MAX_LEVEL=9;binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION;var codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR};Object.keys(codes).forEach(function(i){codes[codes[i]]=i});function deflateSync(i,o){return zlibBufferSync(new Deflate(o),i)}function zlibBufferSync(i,o){if(typeof o=="string"&&(o=new Buffer(o)),!Buffer.isBuffer(o))throw new TypeError("Not a string or buffer");var s=binding.Z_FINISH;return i._processChunk(o,s)}function Deflate(i){if(!(this instanceof Deflate))return new Deflate(i);Zlib.call(this,i,binding.DEFLATE)}function Inflate(i){if(!(this instanceof Inflate))return new Inflate(i);Zlib.call(this,i,binding.INFLATE)}function Gzip(i){if(!(this instanceof Gzip))return new Gzip(i);Zlib.call(this,i,binding.GZIP)}function Gunzip(i){if(!(this instanceof Gunzip))return new Gunzip(i);Zlib.call(this,i,binding.GUNZIP)}function DeflateRaw(i){if(!(this instanceof DeflateRaw))return new DeflateRaw(i);Zlib.call(this,i,binding.DEFLATERAW)}function InflateRaw(i){if(!(this instanceof InflateRaw))return new InflateRaw(i);Zlib.call(this,i,binding.INFLATERAW)}function Unzip(i){if(!(this instanceof Unzip))return new Unzip(i);Zlib.call(this,i,binding.UNZIP)}function Zlib(i,o){if(this._opts=i=i||{},this._chunkSize=i.chunkSize||binding.Z_DEFAULT_CHUNK,Transform.call(this,i),i.flush&&i.flush!==binding.Z_NO_FLUSH&&i.flush!==binding.Z_PARTIAL_FLUSH&&i.flush!==binding.Z_SYNC_FLUSH&&i.flush!==binding.Z_FULL_FLUSH&&i.flush!==binding.Z_FINISH&&i.flush!==binding.Z_BLOCK)throw new Error("Invalid flush flag: "+i.flush);if(this._flushFlag=i.flush||binding.Z_NO_FLUSH,i.chunkSize&&(i.chunkSize<binding.Z_MIN_CHUNK||i.chunkSize>binding.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+i.chunkSize);if(i.windowBits&&(i.windowBits<binding.Z_MIN_WINDOWBITS||i.windowBits>binding.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+i.windowBits);if(i.level&&(i.level<binding.Z_MIN_LEVEL||i.level>binding.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+i.level);if(i.memLevel&&(i.memLevel<binding.Z_MIN_MEMLEVEL||i.memLevel>binding.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+i.memLevel);if(i.strategy&&i.strategy!=binding.Z_FILTERED&&i.strategy!=binding.Z_HUFFMAN_ONLY&&i.strategy!=binding.Z_RLE&&i.strategy!=binding.Z_FIXED&&i.strategy!=binding.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+i.strategy);if(i.dictionary&&!Buffer.isBuffer(i.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new binding.Zlib(o);var s=this;this._hadError=!1,this._binding.onerror=function(_e,et){s._binding=null,s._hadError=!0;var j=new Error(_e);j.errno=et,j.code=binding.codes[et],s.emit("error",j)};var _=binding.Z_DEFAULT_COMPRESSION;typeof i.level=="number"&&(_=i.level);var $=binding.Z_DEFAULT_STRATEGY;typeof i.strategy=="number"&&($=i.strategy),this._binding.init(i.windowBits||binding.Z_DEFAULT_WINDOWBITS,_,i.memLevel||binding.Z_DEFAULT_MEMLEVEL,$,i.dictionary),this._buffer=new Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=_,this._strategy=$,this.once("end",this.close)}inherits$1(Zlib,Transform);Zlib.prototype.params=function(i,o,s){if(i<binding.Z_MIN_LEVEL||i>binding.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+i);if(o!=binding.Z_FILTERED&&o!=binding.Z_HUFFMAN_ONLY&&o!=binding.Z_RLE&&o!=binding.Z_FIXED&&o!=binding.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+o);if(this._level!==i||this._strategy!==o){var _=this;this.flush(binding.Z_SYNC_FLUSH,function(){_._binding.params(i,o),_._hadError||(_._level=i,_._strategy=o,s&&s())})}else browser$1$1.nextTick(s)};Zlib.prototype.reset=function(){return this._binding.reset()};Zlib.prototype._flush=function(i){this._transform(new Buffer(0),"",i)};Zlib.prototype.flush=function(i,o){var s=this._writableState;if((typeof i=="function"||i===void 0&&!o)&&(o=i,i=binding.Z_FULL_FLUSH),s.ended)o&&browser$1$1.nextTick(o);else if(s.ending)o&&this.once("end",o);else if(s.needDrain){var _=this;this.once("drain",function(){_.flush(o)})}else this._flushFlag=i,this.write(new Buffer(0),"",o)};Zlib.prototype.close=function(i){if(i&&browser$1$1.nextTick(i),!this._closed){this._closed=!0,this._binding.close();var o=this;browser$1$1.nextTick(function(){o.emit("close")})}};Zlib.prototype._transform=function(i,o,s){var _,$=this._writableState,_e=$.ending||$.ended,et=_e&&(!i||$.length===i.length);if(!i===null&&!Buffer.isBuffer(i))return s(new Error("invalid input"));et?_=binding.Z_FINISH:(_=this._flushFlag,i.length>=$.length&&(this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH)),this._processChunk(i,_,s)};Zlib.prototype._processChunk=function(i,o,s){var _=i&&i.length,$=this._chunkSize-this._offset,_e=0,et=this,j=typeof s=="function";if(!j){var nt=[],ot=0,ct;this.on("error",function(yt){ct=yt});do var gt=this._binding.writeSync(o,i,_e,_,this._buffer,this._offset,$);while(!this._hadError&&ut(gt[0],gt[1]));if(this._hadError)throw ct;var pt=Buffer.concat(nt,ot);return this.close(),pt}var ft=this._binding.write(o,i,_e,_,this._buffer,this._offset,$);ft.buffer=i,ft.callback=ut;function ut(yt,wt){if(!et._hadError){var Qt=$-wt;if(assert(Qt>=0,"have should not go down"),Qt>0){var It=et._buffer.slice(et._offset,et._offset+Qt);et._offset+=Qt,j?et.push(It):(nt.push(It),ot+=It.length)}if((wt===0||et._offset>=et._chunkSize)&&($=et._chunkSize,et._offset=0,et._buffer=new Buffer(et._chunkSize)),wt===0){if(_e+=_-yt,_=yt,!j)return!0;var xt=et._binding.write(o,i,_e,_,et._buffer,et._offset,et._chunkSize);xt.callback=ut,xt.buffer=i;return}if(!j)return!1;s()}}};inherits$1(Deflate,Zlib);inherits$1(Inflate,Zlib);inherits$1(Gzip,Zlib);inherits$1(Gunzip,Zlib);inherits$1(DeflateRaw,Zlib);inherits$1(InflateRaw,Zlib);inherits$1(Unzip,Zlib);function serializeHash(i){return deflateSync(Buffer.from(JSON.stringify(i),"utf8")).toString("base64")}const isRtcPeer=i=>i!==void 0&&i.capabilities!==void 0&&i.capabilitySet!==void 0;let version$2;function getRtcClientVersion(){return version$2===void 0&&(version$2=new URLSearchParams(window.location.search).get("rtc_client")),version$2}function assertNotCancelled(i){if(i)throw new Error("Cancelled by deadline")}let Device$1=class extends EventEmitter{constructor(o,s,_){super(),Te(this,"rtcClient"),Te(this,"remoteDevicePeerId",null),Te(this,"realtimeListeners",[]),Te(this,"connectionMonitorInterval"),Te(this,"handleMessage",($,_e)=>{this.realtimeListeners.forEach(et=>et($,_e))}),this.id=o,this.name=s,this.organizationId=_}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}async getConfiguration(){let o=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}});const s=await o.json();if(!s.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const _=s.state.reportedConfiguration.version;return o=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${this.id}/configurations/${_}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),(await o.json()).document}async getFileUrl(o){return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[o]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).fileUrls}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async startRealtimeConnection(o={}){if(console.debug(`${new Date().toISOString()} :: Connection start requested`),this.rtcClient&&this.connectionMonitorInterval!==void 0)throw new Error(`Already created realtime connection to device ${this.id}`);this.rtcClient&&console.warn("overwriting existing rtcClient due to missing connectionMonitorInterval");const{sessionType:s,deadlineMs:_=1e4,maxConnectRetries:$=3}=typeof o=="number"?{sessionType:o}:o,_e=getRtcClientPool({sessionType:s,version:getRtcClientVersion()??"2"}).get(this.handleMessage);let et=!1;const j=new Promise((ot,ct)=>setTimeout(()=>{et=!0,ct(new Error("Connection timed out: the connection could not be finalized in time, possibly due to network issues or misconfigured settings."))},_)),nt=async()=>{if("isReady"in _e)for(;!_e.isReady();)assertNotCancelled(et),await delay$1(100);const ot=await this.getRemoteDevicePeerId(_e);assertNotCancelled(et);let ct;for(let pt=0;pt<$&&(ct=await _e.connect(ot),!ct);pt++)delay$1(100),assertNotCancelled(et);if(!ct)throw new Error(`Session could not be created: exhausted ${$} retries`);let gt=0;for(;!et&&_e.getConnectionStatus(ot)!=="connected";)await delay$1(100),gt+=1;return assertNotCancelled(et),console.debug(`${new Date().toISOString()} :: Connection completed after ${gt} retries`),ot};return Promise.race([nt(),j]).then(ot=>{this.remoteDevicePeerId=ot,this.initConnectionMonitoring(),this.rtcClient=_e,this.emit("connect")}).catch(ot=>{throw console.debug(`${new Date().toISOString()} :: Connection failed: %o`,ot),this.remoteDevicePeerId=null,_e.shutdown().catch(ct=>{console.error("rtcClient cannot shutdown: %o",ct)}),this.emit("connection_failed",ot),ot})}async getRemoteDevicePeerId(o){const s=(await o.getPeers()).find(_=>_.deviceId===this.id);if(!isRtcPeer(s))throw new Error("Cannot find peer, is the robot offline?");return s.id}initConnectionMonitoring(){this.connectionMonitorInterval=setInterval(async()=>{if(!this.isV2Signaling(this.rtcClient))return;const o=this.rtcClient.getConnections().find(_=>_.getRemotePeerId()===this.remoteDevicePeerId&&_.isActive());let s=!1;o===void 0||!o.isReady()?(console.debug(`${new Date().toISOString()} :: data channel closed`),s=!0):console.debug(`${new Date().toISOString()} :: data channel appears active`),(!this.rtcClient||!this.remoteDevicePeerId||await this.rtcClient.getConnectionStatsInfo(this.remoteDevicePeerId)===void 0||s)&&(this.emit("disconnect"),this.stopRealtimeConnection().catch(_=>{console.error(_)}))},1e3)}isV2Signaling(o){return o.getConnectionStatsInfo!==void 0}stopConnectionMonitoring(){clearInterval(this.connectionMonitorInterval),this.connectionMonitorInterval=void 0}async sendRealtimeMessage(o,s={channelLabel:"stream.reliable"}){const _=defined$2(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeerId();_.send($,o,s)}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeAudioStreams(){var o,s,_;const $=await this.getConfiguration(),_e=[];for(const et of((o=$.teleop)==null?void 0:o.hardwareStreams)??[])et.rtcStreamType==="audio-chunk"&&_e.push({name:et.name});for(const et of((s=$.teleop)==null?void 0:s.rosStreams)??[])et.topicType=="audio_common_msgs/AudioData"&&_e.push({name:et.topicName});for(const et of((_=$.teleop)==null?void 0:_.customStreams)??[])et.rtcStreamType==="audio-chunk"&&_e.push({name:et.name});return _e}async getRealtimeVideoStreams(){var o,s,_;const $=await this.getConfiguration(),_e=[];for(const et of((o=$.teleop)==null?void 0:o.hardwareStreams)??[])et.rtcStreamType==="h264-video-frame"&&_e.push({name:et.name});for(const et of((s=$.teleop)==null?void 0:s.rosStreams)??[])et.topicType=="formant/H264VideoFrame"&&_e.push({name:et.topicName}),(et.topicType==="sensor_msgs/Image"||et.topicType==="sensor_msgs/CompressedImage")&&et.encodeVideo&&_e.push({name:et.topicName});for(const et of((_=$.teleop)==null?void 0:_.customStreams)??[])et.rtcStreamType==="h264-video-frame"&&_e.push({name:et.name});return _e}async getRealtimeManipulators(){const o=await this.getConfiguration(),s=[];for(const _ of o.teleop.rosStreams??[])_.topicType=="sensor_msgs/JointState"&&s.push(new Manipulator$1(this,{currentJointStateStream:{name:_.topicName},plannedJointStateStream:_.plannedTopic?{name:_.plannedTopic}:void 0,planValidStream:_.planValidTopic?{name:_.planValidTopic}:void 0,endEffectorStream:_.endEffectorTopic?{name:_.endEffectorTopic}:void 0,endEffectorLinkName:_.endEffectorLinkName,baseReferenceFrame:_.baseReferenceFrame,localFrame:_.localFrame}));return s}async startListeningToRealtimeVideo(o){console.debug(`RealtimeVideo(${this.id}).start(${o.name})`);const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o.name,enable:!1,pipeline:"rtc"}),console.debug(`RealtimeVideo(${this.id}).stop(${o.name})`)}async startListeningToRealtimeDataStream(o){console.debug(`RealtimeDataStream(${this.id}).start(${o.name})`);const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o.name,enable:!1,pipeline:"rtc"}),console.debug(`RealtimeDataStream(${this.id}).stop(${o.name})`)}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async changeStreamAudioType(o,s){const _=defined$2(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeerId();_.controlRemoteStream($,{streamName:o,setAudioFormat:s})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeerId();s.controlRemoteStream(_,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const o=(await defined$2(this.rtcClient,"Realtime connection has not been started").getPeers()).find(s=>s.deviceId===this.id);return defined$2(o,"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){let o=!1;if(this.rtcClient){this.stopConnectionMonitoring(),this.remoteDevicePeerId?(await this.rtcClient.disconnect(this.remoteDevicePeerId),this.remoteDevicePeerId=null):o=!0;try{await this.rtcClient.shutdown()}finally{this.rtcClient=void 0}}if(o)throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async isInRealtimeSession(){const o=await Fleet$2.getPeers(),s=await Fleet$2.getRealtimeSessions(),_=o.find($=>$.deviceId===this.id);return _?s[_.id].length>0:!1}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map(o=>({name:o.name,id:o.id,command:o.command,description:o.description,parameterEnabled:o.parameterEnabled,parameterValue:o.parameterValue,parameterMeta:o.parameterMeta,enabled:o.enabled}))}async sendCommand(o,s,_,$){var _e;const et=(await this.getAvailableCommands()).find(ot=>ot.name===o);if(!et)throw new Error(`Could not find command with name "${o}"`);let j="";s===void 0?et.parameterEnabled&&et.parameterValue&&(j=et.parameterValue):j=s;let nt={value:j,scrubberTime:(_||new Date).toISOString(),meta:{...et.parameterMeta,...$}};return await fetch(`${FORMANT_API_URL$1}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:et.id,organizationId:this.organizationId,deviceId:this.id,command:et.command,parameter:nt,userId:(_e=Authentication$1.currentUser)==null?void 0:_e.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})}async getCommand(o){return await fetch(`${FORMANT_API_URL$1}/v1/admin/commands/${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})}async createCustomDataChannel(o,s){if(getRtcClientVersion()==="1")throw new Error("createCustomDataChannel is not supported in rtcClientVersion 1");const _=defined$2(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeerId(),_e=await new Promise(et=>{_.createCustomDataChannel($,o,{ordered:!0,...s},!1,(j,nt)=>{const ot=new DataChannel$1(nt);et(ot)})});return await _e.waitTilReady(),_e}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel$1(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel$1(this,o,s)}async createCaptureStream(o){const s=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:o,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();return new CaptureStream$1(s)}async getTelemetry(o,s,_,$){return await Fleet$2.getTelemetry(this.id,o,s,_,$)}async getTelemetryStreams(){var o,s;const _=await this.getConfiguration(),$=await fetch(`${FORMANT_API_URL$1}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),_e=[],et=[];return(s=(o=_.telemetry)==null?void 0:o.streams)==null||s.forEach(j=>{j.disabled!==!0&&_e.push(j.name),j.onDemand===!0&&et.push(j.name)}),console.log(et),(await $.json()).items.filter(j=>!_e.includes(j)).map(j=>({name:j,onDemand:et.includes(j)}))}async createInterventionRequest(o,s,_,$){return await(await fetch(`${FORMANT_API_URL$1}/v1/admin/intervention-requests`,{method:"POST",body:JSON.stringify({message:o,interventionType:s,time:new Date().toISOString(),deviceId:this.id,tags:$,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}async addInterventionResponse(o,s,_){return await(await fetch(`${FORMANT_API_URL$1}/v1/admin/intervention-responses`,{method:"POST",body:JSON.stringify({interventionId:o,interventionType:s,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}async getAnnotationCount(o,s){return await Fleet$2.getAnnotationCount({...o,deviceIds:[this.id]},s)}async getAnnotationCountByIntervals(o,s,_){return await Fleet$2.getAnnotationCountByIntervals({...o,deviceIds:[this.id]},s,_)}async eventsCounter(o,s,_,$,_e){return await Fleet$2.eventsCounter(o,s,_,$,{..._e,deviceIds:[this.id]})}async createShareLink(o,s){return o.scope.deviceIds=[this.id],await Fleet$2.createShareLink(o,s)}async getRemotePeerId(){return this.remoteDevicePeerId??(await this.getRemotePeer()).id}},PeerDevice$1=class{constructor(o){Te(this,"rtcClient"),Te(this,"remoteDevicePeerId"),Te(this,"realtimeListeners",[]),Te(this,"id"),Te(this,"handleMessage",(s,_)=>{this.realtimeListeners.forEach($=>$(s,_))}),this.peerUrl=o}async getLatestTelemetry(){const o=await(await fetch(`${this.peerUrl}/telemetry`)).json();return Object.entries(o).map(([s,_])=>({deviceId:this.id,streamName:s,streamType:"json",currentValue:_,currentValueTime:_.timestamp,tags:{}}))}async getDeviceId(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.id}async getConfiguration(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.document}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}async startRealtimeConnection(o){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const s=new distExports.RtcClient({lanOnlyMode:!0,receive:this.handleMessage,sessionType:o});for(await s.connectLan(this.peerUrl);s.getConnectionStatus(this.peerUrl)!=="connected";)await delay$1(100);this.rtcClient=s}}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeVideoStreams(){const o=await this.getConfiguration(),s=[];for(const _ of o.teleop.hardwareStreams??[])_.rtcStreamType==="h264-video-frame"&&s.push({name:_.name});for(const _ of o.teleop.rosStreams??[])_.topicType=="formant/H264VideoFrame"&&s.push({name:_.topicName}),(_.topicType==="sensor_msgs/Image"||_.topicType==="sensor_msgs/CompressedImage")&&_.encodeVideo&&s.push({name:_.topicName});for(const _ of o.teleop.customStreams??[])_.rtcStreamType==="h264-video-frame"&&s.push({name:_.name});return s}async getRealtimeManipulators(){const o=await this.getConfiguration(),s=[];for(const _ of o.teleop.rosStreams??[])_.topicType=="sensor_msgs/JointState"&&s.push(new Manipulator$1(this,{currentJointStateStream:{name:_.topicName},plannedJointStateStream:_.plannedTopic?{name:_.plannedTopic}:void 0,planValidStream:_.planValidTopic?{name:_.planValidTopic}:void 0,endEffectorStream:_.endEffectorTopic?{name:_.endEffectorTopic}:void 0,endEffectorLinkName:_.endEffectorLinkName,baseReferenceFrame:_.baseReferenceFrame,localFrame:_.localFrame}));return s}async startListeningToRealtimeVideo(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){return{id:this.peerUrl,organizationId:"",deviceId:this.id,capabilities:[],capabilitySet:{}}}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async createCustomDataChannel(o,s){const _=defined$2(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer(),_e=await new Promise(et=>{_.createCustomDataChannel(defined$2($).id,o,{ordered:!0,...s},!1,(j,nt)=>{const ot=new DataChannel$1(nt);et(ot)})});return await _e.waitTilReady(),_e}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel$1(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel$1(this,o,s)}};const at=class{static async setDefaultDevice(i){at.defaultDeviceId=i}static async getCurrentDevice(){if(!Authentication$1.token)throw new Error("Not authenticated");if(!at.defaultDeviceId)throw new Error("No known default device");const i=(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.find(s=>s.id===at.defaultDeviceId).name,o=new Device$1(at.defaultDeviceId,i,defined$2(Authentication$1.currentOrganization));return at.knownContext.push(new WeakRef(o)),o}static async getPeerDevice(i){const o=new PeerDevice$1(i);return o.id=await o.getDeviceId(),o}static async getDevice(i){if(!Authentication$1.token)throw new Error("Not authenticated");const o=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json(),s=o.name,_=new Device$1(i,s,o.organizationId);return at.knownContext.push(new WeakRef(_)),_}static async getDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const i=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();return i.items,i.items.map(o=>new Device$1(o.id,o.name,o.organizationId))}static async queryDevices(i){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map(o=>new Device$1(o.id,o.name,o.organizationId))}static async getOnlineDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const i=(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items;return(await at.getDevices()).filter(o=>i.includes(o.id))}static async getPeers(){if(!Authentication$1.token)throw new Error("Not authenticated");const i=defaultRtcClientPool.get();try{return await i.getPeers()}finally{await i.shutdown()}}static async getRealtimeSessions(){if(!Authentication$1.token)throw new Error("Not authenticated");const i=defaultRtcClientPool.get();try{return await i.getSessions()}finally{await i.shutdown()}}static async getRealtimeDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const i=(await(await fetch(`${FORMANT_API_URL$1}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map(o=>o.deviceId);return(await at.getDevices()).filter(o=>i.includes(o.id))}static async getLatestTelemetry(...i){const o=i.flat().filter(s=>!!s);return o.length===0?[]:(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getTelemetry(i,o,s,_,$){let _e=i;Array.isArray(i)||(_e=[i]);let et=o;return Array.isArray(o)||(et=[o]),(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:_e,end:_.toISOString(),names:et,start:s.toISOString(),tags:$}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getFileUrl(i){const o=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[i]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();if(o.fileUrls.length===0)throw new Error("File not found");return o.fileUrls[0]}static async queryTelemetry(i){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async aggregateTelemetry(i){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).aggregates}static async queryEvents(i){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getEvent(i){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/events/query/id=${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getInterventions(){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/intervention-requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getCurrentGroup(){if(!Authentication$1.token)throw new Error("Not authenticated");let i=new URLSearchParams("");typeof window<"u"&&(i=new URLSearchParams(window.location.search));const o=i.get("group");if(o===null||o.trim()==="")return;const s=await fetch(`${FORMANT_API_URL$1}/v1/admin/groups/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),{tagKey:_,tagValue:$}=await s.json();return await this.queryDevices({tags:{[_]:[$]},enabled:!0,type:"default"})}static async getAnnotationCount(i,o){return(await this.queryEvents({...i,eventTypes:["annotation"]})).filter(s=>!!s.tags&&Object.keys(s.tags).includes(o)).reduce((s,_)=>{const $=_.tags[o];return $ in s?(s[$]+=1,s):(s[$]=1,s)},{})}static async getAnnotationCountByIntervals(i,o,s){const{end:_,start:$}=i,_e=aggregateByDateFunctions[s].interval({start:new Date($),end:new Date(_)}),et=_e.map((nt,ot)=>{const ct=new Date(nt).toISOString(),gt=ot===_e.length-1?new Date(Date.now()).toISOString():new Date(_e[ot+1]);return this.getAnnotationCount({...i,start:ct,end:gt},o)}),j=await Promise.all(et);return _e.map((nt,ot)=>({date:new Date(nt).toISOString(),annotations:j[ot]}))}static async getStreams(){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/streams`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.filter(i=>i.enabled)}static async patchStream(i){if(!Authentication$1.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL$1}/v1/admin/streams/${i.id}`,{method:"PATCH",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}static async getViews(){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/views`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async patchView(i){if(!Authentication$1.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL$1}/v1/admin/views/${i.id}`,{method:"PATCH",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}static async eventsCounter(i,o,s,_,$){const _e=aggregateByDateFunctions[o];return await Promise.all(Array(s).fill(0).map(async(et,j)=>{const nt=new Date(_),ot=_e.sub(_e.start(nt),s-j-1),ct=_e.sub(_e.end(nt),s-j-1),gt=formatTimeFrameText(ot.toLocaleDateString(),ct.toLocaleDateString()),pt=await at.queryEvents({...$,eventTypes:i,start:new Date(ot).toISOString(),end:new Date(ct).toISOString()});return{date:gt,events:pt}}))}static async getAnalyticsModules(){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/analytics-modules`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getAnalyticStreams(){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/analytics/streams`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getTaskReportTables(){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/analytics/task-reports`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async queryAnalytics(i){if(!Authentication$1.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL$1}/v1/queries/analytics`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}static async getAnalyticsRows(i){if(!Authentication$1.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL$1}/v1/queries/analytics/rows`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}static async getTaskReportRows(i){if(!Authentication$1.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL$1}/v1/queries/analytics/task-report-rows`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}static async createShareLink(i,o){if(!Authentication$1.token)throw new Error("Not authenticated");const s=(await this.getViews()).filter(et=>et.name===o);if(s.length===0)return console.warn("View does not exist or it is misspell"),null;const _=await fetch(`${FORMANT_API_URL$1}/v1/admin/shares`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),$=FORMANT_API_URL$1.replace("api","app"),{code:_e}=await _.json();return`${$}/shares/${_e}#${serializeHash({viewId:s[0].id})}`}};let Fleet$2=at;Te(Fleet$2,"defaultDeviceId"),Te(Fleet$2,"knownContext",[]);window.Buffer=Buffer;const urlParams$3=typeof window<"u"?new URLSearchParams(window.location.search):new URLSearchParams(""),urlDevice$1=urlParams$3.get("device");urlDevice$1&&Fleet$2.setDefaultDevice(urlDevice$1);const urlAuth$1=urlParams$3.get("auth");urlAuth$1&&Authentication$1.loginWithToken(urlAuth$1);const moduleName$1=urlParams$3.get("module");moduleName$1&&Authentication$1.listenForRefresh();typeof window<"u"&&App$2.listenForConnectionEvents();function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])}return i},_extends$2.apply(this,arguments)}function isPlainObject$1(i){return i!==null&&typeof i=="object"&&i.constructor===Object}function deepClone(i){if(!isPlainObject$1(i))return i;const o={};return Object.keys(i).forEach(s=>{o[s]=deepClone(i[s])}),o}function deepmerge(i,o,s={clone:!0}){const _=s.clone?_extends$2({},i):i;return isPlainObject$1(i)&&isPlainObject$1(o)&&Object.keys(o).forEach($=>{$!=="__proto__"&&(isPlainObject$1(o[$])&&$ in i&&isPlainObject$1(i[$])?_[$]=deepmerge(i[$],o[$],s):s.clone?_[$]=isPlainObject$1(o[$])?deepClone(o[$]):o[$]:_[$]=o[$])}),_}function formatMuiErrorMessage(i){let o="https://mui.com/production-error/?code="+i;for(let s=1;s<arguments.length;s+=1)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+i+"; visit "+o+" for the full message."}function capitalize(i){if(typeof i!="string")throw new Error(formatMuiErrorMessage(7));return i.charAt(0).toUpperCase()+i.slice(1)}function resolveProps(i,o){const s=_extends$2({},o);return Object.keys(i).forEach(_=>{if(_.toString().match(/^(components|slots)$/))s[_]=_extends$2({},i[_],s[_]);else if(_.toString().match(/^(componentsProps|slotProps)$/)){const $=i[_]||{},_e=o[_];s[_]={},!_e||!Object.keys(_e)?s[_]=$:!$||!Object.keys($)?s[_]=_e:(s[_]=_extends$2({},_e),Object.keys($).forEach(et=>{s[_][et]=resolveProps($[et],_e[et])}))}else s[_]===void 0&&(s[_]=i[_])}),s}function composeClasses$1(i,o,s){const _={};return Object.keys(i).forEach($=>{_[$]=i[$].reduce((_e,et)=>(et&&(_e.push(o(et)),s&&s[et]&&_e.push(s[et])),_e),[]).join(" ")}),_}const defaultGenerator$1=i=>i,createClassNameGenerator$1=()=>{let i=defaultGenerator$1;return{configure(o){i=o},generate(o){return i(o)},reset(){i=defaultGenerator$1}}},ClassNameGenerator$2=createClassNameGenerator$1(),ClassNameGenerator$3=ClassNameGenerator$2,globalStateClassesMapping$1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass$1(i,o,s="Mui"){const _=globalStateClassesMapping$1[o];return _?`${s}-${_}`:`${ClassNameGenerator$3.generate(i)}-${o}`}function generateUtilityClasses$1(i,o,s="Mui"){const _={};return o.forEach($=>{_[$]=generateUtilityClass$1(i,$,s)}),_}function memoize$2(i){var o=Object.create(null);return function(s){return o[s]===void 0&&(o[s]=i(s)),o[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$2(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91});function sheetForTag(i){if(i.sheet)return i.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===i)return document.styleSheets[o]}function createStyleElement(i){var o=document.createElement("style");return o.setAttribute("data-emotion",i.key),i.nonce!==void 0&&o.setAttribute("nonce",i.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function i(s){var _=this;this._insertTag=function($){var _e;_.tags.length===0?_.insertionPoint?_e=_.insertionPoint.nextSibling:_.prepend?_e=_.container.firstChild:_e=_.before:_e=_.tags[_.tags.length-1].nextSibling,_.container.insertBefore($,_e),_.tags.push($)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var o=i.prototype;return o.hydrate=function(_){_.forEach(this._insertTag)},o.insert=function(_){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var $=this.tags[this.tags.length-1];if(this.isSpeedy){var _e=sheetForTag($);try{_e.insertRule(_,_e.cssRules.length)}catch{}}else $.appendChild(document.createTextNode(_));this.ctr++},o.flush=function(){this.tags.forEach(function(_){return _.parentNode&&_.parentNode.removeChild(_)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from$1=String.fromCharCode,assign=Object.assign;function hash(i,o){return charat(i,0)^45?(((o<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,o){return(i=o.exec(i))?i[0]:i}function replace(i,o,s){return i.replace(o,s)}function indexof(i,o){return i.indexOf(o)}function charat(i,o){return i.charCodeAt(o)|0}function substr(i,o,s){return i.slice(o,s)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,o){return o.push(i),i}function combine(i,o){return i.map(o).join("")}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(i,o,s,_,$,_e,et){return{value:i,root:o,parent:s,type:_,props:$,children:_e,line,column,length:et,return:""}}function copy(i,o){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},o)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(i,o){return substr(characters,i,o)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position$1=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position$1-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(o<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position$1;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position$1}function commenter(i,o){for(;next()&&i+character!==47+10;)if(i+character===42+42&&peek()===47)break;return"/*"+slice(o,position$1-1)+"*"+from$1(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position$1)}function compile(i){return dealloc(parse$1("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$1(i,o,s,_,$,_e,et,j,nt){for(var ot=0,ct=0,gt=et,pt=0,ft=0,ut=0,yt=1,wt=1,Qt=1,It=0,xt="",Tt=$,mt=_e,Nt=_,en=xt;wt;)switch(ut=It,It=next()){case 40:if(ut!=108&&charat(en,gt-1)==58){indexof(en+=replace(delimit(It),"&","&\f"),"&\f")!=-1&&(Qt=-1);break}case 34:case 39:case 91:en+=delimit(It);break;case 9:case 10:case 13:case 32:en+=whitespace(ut);break;case 92:en+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,s),nt);break;default:en+="/"}break;case 123*yt:j[ot++]=strlen(en)*Qt;case 125*yt:case 59:case 0:switch(It){case 0:case 125:wt=0;case 59+ct:ft>0&&strlen(en)-gt&&append(ft>32?declaration(en+";",_,s,gt-1):declaration(replace(en," ","")+";",_,s,gt-2),nt);break;case 59:en+=";";default:if(append(Nt=ruleset(en,o,s,ot,ct,$,j,xt,Tt=[],mt=[],gt),_e),It===123)if(ct===0)parse$1(en,o,Nt,Nt,Tt,_e,gt,j,mt);else switch(pt===99&&charat(en,3)===110?100:pt){case 100:case 109:case 115:parse$1(i,Nt,Nt,_&&append(ruleset(i,Nt,Nt,0,0,$,j,xt,$,Tt=[],gt),mt),$,mt,gt,j,_?Tt:mt);break;default:parse$1(en,Nt,Nt,Nt,[""],mt,0,j,mt)}}ot=ct=ft=0,yt=Qt=1,xt=en="",gt=et;break;case 58:gt=1+strlen(en),ft=ut;default:if(yt<1){if(It==123)--yt;else if(It==125&&yt++==0&&prev()==125)continue}switch(en+=from$1(It),It*yt){case 38:Qt=ct>0?1:(en+="\f",-1);break;case 44:j[ot++]=(strlen(en)-1)*Qt,Qt=1;break;case 64:peek()===45&&(en+=delimit(next())),pt=peek(),ct=gt=strlen(xt=en+=identifier(caret())),It++;break;case 45:ut===45&&strlen(en)==2&&(yt=0)}}return _e}function ruleset(i,o,s,_,$,_e,et,j,nt,ot,ct){for(var gt=$-1,pt=$===0?_e:[""],ft=sizeof(pt),ut=0,yt=0,wt=0;ut<_;++ut)for(var Qt=0,It=substr(i,gt+1,gt=abs(yt=et[ut])),xt=i;Qt<ft;++Qt)(xt=trim(yt>0?pt[Qt]+" "+It:replace(It,/&\f/g,pt[Qt])))&&(nt[wt++]=xt);return node(i,o,s,$===0?RULESET:j,nt,ot,ct)}function comment(i,o,s){return node(i,o,s,COMMENT,from$1(char()),substr(i,2,-2),0)}function declaration(i,o,s,_){return node(i,o,s,DECLARATION,substr(i,0,_),substr(i,_+1,-1),_)}function serialize(i,o){for(var s="",_=sizeof(i),$=0;$<_;$++)s+=o(i[$],$,i,o)||"";return s}function stringify(i,o,s,_){switch(i.type){case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,_)+"}";case RULESET:i.value=i.props.join(",")}return strlen(s=serialize(i.children,_))?i.return=i.value+"{"+s+"}":""}function middleware(i){var o=sizeof(i);return function(s,_,$,_e){for(var et="",j=0;j<o;j++)et+=i[j](s,_,$,_e)||"";return et}}function rulesheet(i){return function(o){o.root||(o=o.return)&&i(o)}}var identifierWithPointTracking=function i(o,s,_){for(var $=0,_e=0;$=_e,_e=peek(),$===38&&_e===12&&(s[_]=1),!token(_e);)next();return slice(o,position$1)},toRules=function i(o,s){var _=-1,$=44;do switch(token($)){case 0:$===38&&peek()===12&&(s[_]=1),o[_]+=identifierWithPointTracking(position$1-1,s,_);break;case 2:o[_]+=delimit($);break;case 4:if($===44){o[++_]=peek()===58?"&\f":"",s[_]=o[_].length;break}default:o[_]+=from$1($)}while($=next());return o},getRules=function i(o,s){return dealloc(toRules(alloc(o),s))},fixedElements=new WeakMap,compat=function i(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var s=o.value,_=o.parent,$=o.column===_.column&&o.line===_.line;_.type!=="rule";)if(_=_.parent,!_)return;if(!(o.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(_))&&!$){fixedElements.set(o,!0);for(var _e=[],et=getRules(s,_e),j=_.props,nt=0,ot=0;nt<et.length;nt++)for(var ct=0;ct<j.length;ct++,ot++)o.props[ot]=_e[nt]?et[nt].replace(/&\f/g,j[ct]):j[ct]+" "+et[nt]}}},removeLabel=function i(o){if(o.type==="decl"){var s=o.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix(i,o){switch(hash(i,o)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-o>6)switch(charat(i,o+1)){case 109:if(charat(i,o+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,o+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),o)+i:i}break;case 4949:if(charat(i,o+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,o+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function i(o,s,_,$){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],$);case RULESET:if(o.length)return combine(o.props,function(_e){switch(match(_e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(_e,/:(read-\w+)/,":"+MOZ+"$1")]})],$);case"::placeholder":return serialize([copy(o,{props:[replace(_e,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(_e,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(_e,/:(plac\w+)/,MS+"input-$1")]})],$)}return""})}},defaultStylisPlugins=[prefixer],createCache=function i(o){var s=o.key;if(s==="css"){var _=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(_,function(yt){var wt=yt.getAttribute("data-emotion");wt.indexOf(" ")!==-1&&(document.head.appendChild(yt),yt.setAttribute("data-s",""))})}var $=o.stylisPlugins||defaultStylisPlugins,_e={},et,j=[];et=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(yt){for(var wt=yt.getAttribute("data-emotion").split(" "),Qt=1;Qt<wt.length;Qt++)_e[wt[Qt]]=!0;j.push(yt)});var nt,ot=[compat,removeLabel];{var ct,gt=[stringify,rulesheet(function(yt){ct.insert(yt)})],pt=middleware(ot.concat($,gt)),ft=function(wt){return serialize(compile(wt),pt)};nt=function(wt,Qt,It,xt){ct=It,ft(wt?wt+"{"+Qt.styles+"}":Qt.styles),xt&&(ut.inserted[Qt.name]=!0)}}var ut={key:s,sheet:new StyleSheet({key:s,container:et,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:_e,registered:{},insert:nt};return ut.sheet.hydrate(j),ut},reactIsExports={},reactIs$1={get exports(){return reactIsExports},set exports(i){reactIsExports=i}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f$1=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k$1=b?Symbol.for("react.context"):60110,l$1=b?Symbol.for("react.async_mode"):60111,m$1=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var o=i.$$typeof;switch(o){case c:switch(i=i.type,i){case l$1:case m$1:case e:case g:case f$1:case p$1:return i;default:switch(i=i&&i.$$typeof,i){case k$1:case n$1:case t:case r$1:case h:return i;default:return o}}case d:return o}}}function A(i){return z(i)===m$1}reactIs_production_min.AsyncMode=l$1;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(i){return A(i)||z(i)===l$1};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(i){return z(i)===k$1};reactIs_production_min.isContextProvider=function(i){return z(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z(i)===n$1};reactIs_production_min.isFragment=function(i){return z(i)===e};reactIs_production_min.isLazy=function(i){return z(i)===t};reactIs_production_min.isMemo=function(i){return z(i)===r$1};reactIs_production_min.isPortal=function(i){return z(i)===d};reactIs_production_min.isProfiler=function(i){return z(i)===g};reactIs_production_min.isStrictMode=function(i){return z(i)===f$1};reactIs_production_min.isSuspense=function(i){return z(i)===p$1};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m$1||i===g||i===f$1||i===p$1||i===q$1||typeof i=="object"&&i!==null&&(i.$$typeof===t||i.$$typeof===r$1||i.$$typeof===h||i.$$typeof===k$1||i.$$typeof===n$1||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v)};reactIs_production_min.typeOf=z;(function(i){i.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(i,o,s){var _="";return s.split(" ").forEach(function($){i[$]!==void 0?o.push(i[$]+";"):_+=$+" "}),_}var registerStyles=function i(o,s,_){var $=o.key+"-"+s.name;(_===!1||isBrowser$1===!1)&&o.registered[$]===void 0&&(o.registered[$]=s.styles)},insertStyles=function i(o,s,_){registerStyles(o,s,_);var $=o.key+"-"+s.name;if(o.inserted[s.name]===void 0){var _e=s;do o.insert(s===_e?"."+$:"",_e,o.sheet,!0),_e=_e.next;while(_e!==void 0)}};function murmur2(i){for(var o=0,s,_=0,$=i.length;$>=4;++_,$-=4)s=i.charCodeAt(_)&255|(i.charCodeAt(++_)&255)<<8|(i.charCodeAt(++_)&255)<<16|(i.charCodeAt(++_)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,o=(s&65535)*1540483477+((s>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch($){case 3:o^=(i.charCodeAt(_+2)&255)<<16;case 2:o^=(i.charCodeAt(_+1)&255)<<8;case 1:o^=i.charCodeAt(_)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function i(o){return o.charCodeAt(1)===45},isProcessableValue=function i(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$2(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function i(o,s){switch(o){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function(_,$,_e){return cursor={name:$,styles:_e,next:cursor},$})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof s=="number"&&s!==0?s+"px":s},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,o,s){if(s==null)return"";if(s.__emotion_styles!==void 0)return s;switch(typeof s){case"boolean":return"";case"object":{if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;if(s.styles!==void 0){var _=s.next;if(_!==void 0)for(;_!==void 0;)cursor={name:_.name,styles:_.styles,next:cursor},_=_.next;var $=s.styles+";";return $}return createStringFromObject(i,o,s)}case"function":{if(i!==void 0){var _e=cursor,et=s(i);return cursor=_e,handleInterpolation(i,o,et)}break}}if(o==null)return s;var j=o[s];return j!==void 0?j:s}function createStringFromObject(i,o,s){var _="";if(Array.isArray(s))for(var $=0;$<s.length;$++)_+=handleInterpolation(i,o,s[$])+";";else for(var _e in s){var et=s[_e];if(typeof et!="object")o!=null&&o[et]!==void 0?_+=_e+"{"+o[et]+"}":isProcessableValue(et)&&(_+=processStyleName(_e)+":"+processStyleValue(_e,et)+";");else if(Array.isArray(et)&&typeof et[0]=="string"&&(o==null||o[et[0]]===void 0))for(var j=0;j<et.length;j++)isProcessableValue(et[j])&&(_+=processStyleName(_e)+":"+processStyleValue(_e,et[j])+";");else{var nt=handleInterpolation(i,o,et);switch(_e){case"animation":case"animationName":{_+=processStyleName(_e)+":"+nt+";";break}default:_+=_e+"{"+nt+"}"}}}return _}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function i(o,s,_){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var $=!0,_e="";cursor=void 0;var et=o[0];et==null||et.raw===void 0?($=!1,_e+=handleInterpolation(_,s,et)):_e+=et[0];for(var j=1;j<o.length;j++)_e+=handleInterpolation(_,s,o[j]),$&&(_e+=et[j]);labelPattern.lastIndex=0;for(var nt="",ot;(ot=labelPattern.exec(_e))!==null;)nt+="-"+ot[1];var ct=murmur2(_e)+nt;return{name:ct,styles:_e,next:cursor}},syncFallback=function i(o){return o()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function i(o){return reactExports.forwardRef(function(s,_){var $=reactExports.useContext(EmotionCacheContext);return o(s,$,_)})},ThemeContext$4=reactExports.createContext({}),Global=withEmotionCache(function(i,o){var s=i.styles,_=serializeStyles([s],void 0,reactExports.useContext(ThemeContext$4)),$=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var _e=o.key+"-global",et=new o.sheet.constructor({key:_e,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),j=!1,nt=document.querySelector('style[data-emotion="'+_e+" "+_.name+'"]');return o.sheet.tags.length&&(et.before=o.sheet.tags[0]),nt!==null&&(j=!0,nt.setAttribute("data-emotion",_e),et.hydrate([nt])),$.current=[et,j],function(){et.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var _e=$.current,et=_e[0],j=_e[1];if(j){_e[1]=!1;return}if(_.next!==void 0&&insertStyles(o,_.next,!0),et.tags.length){var nt=et.tags[et.tags.length-1].nextElementSibling;et.before=nt,et.flush()}o.insert("",_,et,!1)},[o,_.name]),null}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function i(o){return o!=="theme"},getDefaultShouldForwardProp=function i(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function i(o,s,_){var $;if(s){var _e=s.shouldForwardProp;$=o.__emotion_forwardProp&&_e?function(et){return o.__emotion_forwardProp(et)&&_e(et)}:_e}return typeof $!="function"&&_&&($=o.__emotion_forwardProp),$},Insertion=function i(o){var s=o.cache,_=o.serialized,$=o.isStringTag;return registerStyles(s,_,$),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,_,$)}),null},createStyled$2=function i(o,s){var _=o.__emotion_real===o,$=_&&o.__emotion_base||o,_e,et;s!==void 0&&(_e=s.label,et=s.target);var j=composeShouldForwardProps(o,s,_),nt=j||getDefaultShouldForwardProp($),ot=!nt("as");return function(){var ct=arguments,gt=_&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(_e!==void 0&&gt.push("label:"+_e+";"),ct[0]==null||ct[0].raw===void 0)gt.push.apply(gt,ct);else{gt.push(ct[0][0]);for(var pt=ct.length,ft=1;ft<pt;ft++)gt.push(ct[ft],ct[0][ft])}var ut=withEmotionCache(function(yt,wt,Qt){var It=ot&&yt.as||$,xt="",Tt=[],mt=yt;if(yt.theme==null){mt={};for(var Nt in yt)mt[Nt]=yt[Nt];mt.theme=reactExports.useContext(ThemeContext$4)}typeof yt.className=="string"?xt=getRegisteredStyles(wt.registered,Tt,yt.className):yt.className!=null&&(xt=yt.className+" ");var en=serializeStyles(gt.concat(Tt),wt.registered,mt);xt+=wt.key+"-"+en.name,et!==void 0&&(xt+=" "+et);var rn=ot&&j===void 0?getDefaultShouldForwardProp(It):nt,Ft={};for(var St in yt)ot&&St==="as"||rn(St)&&(Ft[St]=yt[St]);return Ft.className=xt,Ft.ref=Qt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:wt,serialized:en,isStringTag:typeof It=="string"}),reactExports.createElement(It,Ft))});return ut.displayName=_e!==void 0?_e:"Styled("+(typeof $=="string"?$:$.displayName||$.name||"Component")+")",ut.defaultProps=o.defaultProps,ut.__emotion_real=ut,ut.__emotion_base=$,ut.__emotion_styles=gt,ut.__emotion_forwardProp=j,Object.defineProperty(ut,"toString",{value:function(){return"."+et}}),ut.withComponent=function(yt,wt){return i(yt,_extends$2({},s,wt,{shouldForwardProp:composeShouldForwardProps(ut,wt,!0)})).apply(void 0,gt)},ut}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$2.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});function isEmpty$4(i){return i==null||Object.keys(i).length===0}function GlobalStyles$1(i){const{styles:o,defaultTheme:s={}}=i;return jsx(Global,{styles:typeof o=="function"?$=>o(isEmpty$4($)?s:$):o})}/** @license MUI v5.11.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$5(i,o){return newStyled(i,o)}const internal_processStyles=(i,o)=>{Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=o(i.__emotion_styles))};function merge$2(i,o){return o?deepmerge(i,o,{clone:!1}):i}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints$1={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values$1[i]}px)`};function handleBreakpoints$1(i,o,s){const _=i.theme||{};if(Array.isArray(o)){const _e=_.breakpoints||defaultBreakpoints$1;return o.reduce((et,j,nt)=>(et[_e.up(_e.keys[nt])]=s(o[nt]),et),{})}if(typeof o=="object"){const _e=_.breakpoints||defaultBreakpoints$1;return Object.keys(o).reduce((et,j)=>{if(Object.keys(_e.values||values$1).indexOf(j)!==-1){const nt=_e.up(j);et[nt]=s(o[j],j)}else{const nt=j;et[nt]=o[nt]}return et},{})}return s(o)}function createEmptyBreakpointObject$1(i={}){var o;return((o=i.keys)==null?void 0:o.reduce((_,$)=>{const _e=i.up($);return _[_e]={},_},{}))||{}}function removeUnusedBreakpoints$1(i,o){return i.reduce((s,_)=>{const $=s[_];return(!$||Object.keys($).length===0)&&delete s[_],s},o)}function getPath$1(i,o,s=!0){if(!o||typeof o!="string")return null;if(i&&i.vars&&s){const _=`vars.${o}`.split(".").reduce(($,_e)=>$&&$[_e]?$[_e]:null,i);if(_!=null)return _}return o.split(".").reduce((_,$)=>_&&_[$]!=null?_[$]:null,i)}function getStyleValue(i,o,s,_=s){let $;return typeof i=="function"?$=i(s):Array.isArray(i)?$=i[s]||_:$=getPath$1(i,s)||_,o&&($=o($,_,i)),$}function style$3(i){const{prop:o,cssProperty:s=i.prop,themeKey:_,transform:$}=i,_e=et=>{if(et[o]==null)return null;const j=et[o],nt=et.theme,ot=getPath$1(nt,_)||{};return handleBreakpoints$1(et,j,gt=>{let pt=getStyleValue(ot,$,gt);return gt===pt&&typeof gt=="string"&&(pt=getStyleValue(ot,$,`${o}${gt==="default"?"":capitalize(gt)}`,gt)),s===!1?pt:{[s]:pt}})};return _e.propTypes={},_e.filterProps=[o],_e}function compose$1(...i){const o=i.reduce((_,$)=>($.filterProps.forEach(_e=>{_[_e]=$}),_),{}),s=_=>Object.keys(_).reduce(($,_e)=>o[_e]?merge$2($,o[_e](_)):$,{});return s.propTypes={},s.filterProps=i.reduce((_,$)=>_.concat($.filterProps),[]),s}function memoize$1(i){const o={};return s=>(o[s]===void 0&&(o[s]=i(s)),o[s])}const properties$1={m:"margin",p:"padding"},directions$1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases$1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties$1=memoize$1(i=>{if(i.length>2)if(aliases$1[i])i=aliases$1[i];else return[i];const[o,s]=i.split(""),_=properties$1[o],$=directions$1[s]||"";return Array.isArray($)?$.map(_e=>_+_e):[_+$]}),marginKeys$1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys$1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys$1,...paddingKeys$1];function createUnaryUnit$1(i,o,s,_){var $;const _e=($=getPath$1(i,o,!1))!=null?$:s;return typeof _e=="number"?et=>typeof et=="string"?et:_e*et:Array.isArray(_e)?et=>typeof et=="string"?et:_e[et]:typeof _e=="function"?_e:()=>{}}function createUnarySpacing$1(i){return createUnaryUnit$1(i,"spacing",8)}function getValue$2(i,o){if(typeof o=="string"||o==null)return o;const s=Math.abs(o),_=i(s);return o>=0?_:typeof _=="number"?-_:`-${_}`}function getStyleFromPropValue$1(i,o){return s=>i.reduce((_,$)=>(_[$]=getValue$2(o,s),_),{})}function resolveCssProperty$1(i,o,s,_){if(o.indexOf(s)===-1)return null;const $=getCssProperties$1(s),_e=getStyleFromPropValue$1($,_),et=i[s];return handleBreakpoints$1(i,et,_e)}function style$2(i,o){const s=createUnarySpacing$1(i.theme);return Object.keys(i).map(_=>resolveCssProperty$1(i,o,_,s)).reduce(merge$2,{})}function margin(i){return style$2(i,marginKeys$1)}margin.propTypes={};margin.filterProps=marginKeys$1;function padding(i){return style$2(i,paddingKeys$1)}padding.propTypes={};padding.filterProps=paddingKeys$1;function borderTransform(i){return typeof i!="number"?i:`${i}px solid`}const border$1=style$3({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop$1=style$3({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight$1=style$3({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom$1=style$3({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft$1=style$3({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor$1=style$3({prop:"borderColor",themeKey:"palette"}),borderTopColor$1=style$3({prop:"borderTopColor",themeKey:"palette"}),borderRightColor$1=style$3({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor$1=style$3({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor$1=style$3({prop:"borderLeftColor",themeKey:"palette"}),borderRadius$1=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const o=createUnaryUnit$1(i.theme,"shape.borderRadius",4),s=_=>({borderRadius:getValue$2(o,_)});return handleBreakpoints$1(i,i.borderRadius,s)}return null};borderRadius$1.propTypes={};borderRadius$1.filterProps=["borderRadius"];compose$1(border$1,borderTop$1,borderRight$1,borderBottom$1,borderLeft$1,borderColor$1,borderTopColor$1,borderRightColor$1,borderBottomColor$1,borderLeftColor$1,borderRadius$1);const gap$1=i=>{if(i.gap!==void 0&&i.gap!==null){const o=createUnaryUnit$1(i.theme,"spacing",8),s=_=>({gap:getValue$2(o,_)});return handleBreakpoints$1(i,i.gap,s)}return null};gap$1.propTypes={};gap$1.filterProps=["gap"];const columnGap$1=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const o=createUnaryUnit$1(i.theme,"spacing",8),s=_=>({columnGap:getValue$2(o,_)});return handleBreakpoints$1(i,i.columnGap,s)}return null};columnGap$1.propTypes={};columnGap$1.filterProps=["columnGap"];const rowGap$1=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const o=createUnaryUnit$1(i.theme,"spacing",8),s=_=>({rowGap:getValue$2(o,_)});return handleBreakpoints$1(i,i.rowGap,s)}return null};rowGap$1.propTypes={};rowGap$1.filterProps=["rowGap"];const gridColumn$1=style$3({prop:"gridColumn"}),gridRow$1=style$3({prop:"gridRow"}),gridAutoFlow$1=style$3({prop:"gridAutoFlow"}),gridAutoColumns$1=style$3({prop:"gridAutoColumns"}),gridAutoRows$1=style$3({prop:"gridAutoRows"}),gridTemplateColumns$1=style$3({prop:"gridTemplateColumns"}),gridTemplateRows$1=style$3({prop:"gridTemplateRows"}),gridTemplateAreas$1=style$3({prop:"gridTemplateAreas"}),gridArea$1=style$3({prop:"gridArea"});compose$1(gap$1,columnGap$1,rowGap$1,gridColumn$1,gridRow$1,gridAutoFlow$1,gridAutoColumns$1,gridAutoRows$1,gridTemplateColumns$1,gridTemplateRows$1,gridTemplateAreas$1,gridArea$1);function paletteTransform(i,o){return o==="grey"?o:i}const color$2=style$3({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor$1=style$3({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor$1=style$3({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$1(color$2,bgcolor$1,backgroundColor$1);function sizingTransform(i){return i<=1&&i!==0?`${i*100}%`:i}const width$1=style$3({prop:"width",transform:sizingTransform}),maxWidth$1=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const o=s=>{var _,$,_e;return{maxWidth:((_=i.theme)==null||($=_.breakpoints)==null||(_e=$.values)==null?void 0:_e[s])||values$1[s]||sizingTransform(s)}};return handleBreakpoints$1(i,i.maxWidth,o)}return null};maxWidth$1.filterProps=["maxWidth"];const minWidth$1=style$3({prop:"minWidth",transform:sizingTransform}),height$1=style$3({prop:"height",transform:sizingTransform}),maxHeight$1=style$3({prop:"maxHeight",transform:sizingTransform}),minHeight$1=style$3({prop:"minHeight",transform:sizingTransform});style$3({prop:"size",cssProperty:"width",transform:sizingTransform});style$3({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing$1=style$3({prop:"boxSizing"});compose$1(width$1,maxWidth$1,minWidth$1,height$1,maxHeight$1,minHeight$1,boxSizing$1);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius$1},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap$1},rowGap:{style:rowGap$1},columnGap:{style:columnGap$1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth$1},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys$1(...i){const o=i.reduce((_,$)=>_.concat(Object.keys($)),[]),s=new Set(o);return i.every(_=>s.size===Object.keys(_).length)}function callIfFn$1(i,o){return typeof i=="function"?i(o):i}function unstable_createStyleFunctionSx$1(){function i(s,_,$,_e){const et={[s]:_,theme:$},j=_e[s];if(!j)return{[s]:_};const{cssProperty:nt=s,themeKey:ot,transform:ct,style:gt}=j;if(_==null)return null;const pt=getPath$1($,ot)||{};return gt?gt(et):handleBreakpoints$1(et,_,ut=>{let yt=getStyleValue(pt,ct,ut);return ut===yt&&typeof ut=="string"&&(yt=getStyleValue(pt,ct,`${s}${ut==="default"?"":capitalize(ut)}`,ut)),nt===!1?yt:{[nt]:yt}})}function o(s){var _;const{sx:$,theme:_e={}}=s||{};if(!$)return null;const et=(_=_e.unstable_sxConfig)!=null?_:defaultSxConfig$1;function j(nt){let ot=nt;if(typeof nt=="function")ot=nt(_e);else if(typeof nt!="object")return nt;if(!ot)return null;const ct=createEmptyBreakpointObject$1(_e.breakpoints),gt=Object.keys(ct);let pt=ct;return Object.keys(ot).forEach(ft=>{const ut=callIfFn$1(ot[ft],_e);if(ut!=null)if(typeof ut=="object")if(et[ft])pt=merge$2(pt,i(ft,ut,_e,et));else{const yt=handleBreakpoints$1({theme:_e},ut,wt=>({[ft]:wt}));objectsHaveSameKeys$1(yt,ut)?pt[ft]=o({sx:ut,theme:_e}):pt=merge$2(pt,yt)}else pt=merge$2(pt,i(ft,ut,_e,et))}),removeUnusedBreakpoints$1(gt,pt)}return Array.isArray($)?$.map(j):j($)}return o}const styleFunctionSx$1=unstable_createStyleFunctionSx$1();styleFunctionSx$1.filterProps=["sx"];const styleFunctionSx$2=styleFunctionSx$1;function _objectWithoutPropertiesLoose$2(i,o){if(i==null)return{};var s={},_=Object.keys(i),$,_e;for(_e=0;_e<_.length;_e++)$=_[_e],!(o.indexOf($)>=0)&&(s[$]=i[$]);return s}const _excluded$i=["sx"],splitProps=i=>{var o,s;const _={systemProps:{},otherProps:{}},$=(o=i==null||(s=i.theme)==null?void 0:s.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys(i).forEach(_e=>{$[_e]?_.systemProps[_e]=i[_e]:_.otherProps[_e]=i[_e]}),_};function extendSxProp(i){const{sx:o}=i,s=_objectWithoutPropertiesLoose$2(i,_excluded$i),{systemProps:_,otherProps:$}=splitProps(s);let _e;return Array.isArray(o)?_e=[_,...o]:typeof o=="function"?_e=(...et)=>{const j=o(...et);return isPlainObject$1(j)?_extends$2({},_,j):_}:_e=_extends$2({},_,o),_extends$2({},$,{sx:_e})}function r(i){var o,s,_="";if(typeof i=="string"||typeof i=="number")_+=i;else if(typeof i=="object")if(Array.isArray(i))for(o=0;o<i.length;o++)i[o]&&(s=r(i[o]))&&(_&&(_+=" "),_+=s);else for(o in i)i[o]&&(_&&(_+=" "),_+=o);return _}function clsx$1(){for(var i,o,s=0,_="";s<arguments.length;)(i=arguments[s++])&&(o=r(i))&&(_&&(_+=" "),_+=o);return _}const _excluded$h=["values","unit","step"],sortBreakpointsValues$1=i=>{const o=Object.keys(i).map(s=>({key:s,val:i[s]}))||[];return o.sort((s,_)=>s.val-_.val),o.reduce((s,_)=>_extends$2({},s,{[_.key]:_.val}),{})};function createBreakpoints$1(i){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:_=5}=i,$=_objectWithoutPropertiesLoose$2(i,_excluded$h),_e=sortBreakpointsValues$1(o),et=Object.keys(_e);function j(pt){return`@media (min-width:${typeof o[pt]=="number"?o[pt]:pt}${s})`}function nt(pt){return`@media (max-width:${(typeof o[pt]=="number"?o[pt]:pt)-_/100}${s})`}function ot(pt,ft){const ut=et.indexOf(ft);return`@media (min-width:${typeof o[pt]=="number"?o[pt]:pt}${s}) and (max-width:${(ut!==-1&&typeof o[et[ut]]=="number"?o[et[ut]]:ft)-_/100}${s})`}function ct(pt){return et.indexOf(pt)+1<et.length?ot(pt,et[et.indexOf(pt)+1]):j(pt)}function gt(pt){const ft=et.indexOf(pt);return ft===0?j(et[1]):ft===et.length-1?nt(et[ft]):ot(pt,et[et.indexOf(pt)+1]).replace("@media","@media not all and")}return _extends$2({keys:et,values:_e,up:j,down:nt,between:ot,only:ct,not:gt,unit:s},$)}const shape$2={borderRadius:4},shape$3=shape$2;function createSpacing$1(i=8){if(i.mui)return i;const o=createUnarySpacing$1({spacing:i}),s=(..._)=>(_.length===0?[1]:_).map(_e=>{const et=o(_e);return typeof et=="number"?`${et}px`:et}).join(" ");return s.mui=!0,s}const _excluded$g=["breakpoints","palette","spacing","shape"];function createTheme$3(i={},...o){const{breakpoints:s={},palette:_={},spacing:$,shape:_e={}}=i,et=_objectWithoutPropertiesLoose$2(i,_excluded$g),j=createBreakpoints$1(s),nt=createSpacing$1($);let ot=deepmerge({breakpoints:j,direction:"ltr",components:{},palette:_extends$2({mode:"light"},_),spacing:nt,shape:_extends$2({},shape$3,_e)},et);return ot=o.reduce((ct,gt)=>deepmerge(ct,gt),ot),ot.unstable_sxConfig=_extends$2({},defaultSxConfig$1,et==null?void 0:et.unstable_sxConfig),ot.unstable_sx=function(gt){return styleFunctionSx$2({sx:gt,theme:this})},ot}const ThemeContext$2=reactExports.createContext(null),ThemeContext$3=ThemeContext$2;function useTheme$5(){return reactExports.useContext(ThemeContext$3)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(i,o){return typeof o=="function"?o(i):_extends$2({},i,o)}function ThemeProvider$1(i){const{children:o,theme:s}=i,_=useTheme$5(),$=reactExports.useMemo(()=>{const _e=_===null?s:mergeOuterLocalTheme(_,s);return _e!=null&&(_e[nested]=_!==null),_e},[s,_]);return jsx(ThemeContext$3.Provider,{value:$,children:o})}function isObjectEmpty$1(i){return Object.keys(i).length===0}function useTheme$4(i=null){const o=useTheme$5();return!o||isObjectEmpty$1(o)?i:o}const systemDefaultTheme$3=createTheme$3();function useTheme$3(i=systemDefaultTheme$3){return useTheme$4(i)}const _excluded$f=["variant"];function isEmpty$3(i){return i.length===0}function propsToClassKey$1(i){const{variant:o}=i,s=_objectWithoutPropertiesLoose$2(i,_excluded$f);let _=o||"";return Object.keys(s).sort().forEach($=>{$==="color"?_+=isEmpty$3(_)?i[$]:capitalize(i[$]):_+=`${isEmpty$3(_)?$:capitalize($)}${capitalize(i[$].toString())}`}),_}const _excluded$e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2$1=["theme"],_excluded3$1=["theme"];function isEmpty$2(i){return Object.keys(i).length===0}function isStringTag(i){return typeof i=="string"&&i.charCodeAt(0)>96}const getStyleOverrides$1=(i,o)=>o.components&&o.components[i]&&o.components[i].styleOverrides?o.components[i].styleOverrides:null,getVariantStyles$1=(i,o)=>{let s=[];o&&o.components&&o.components[i]&&o.components[i].variants&&(s=o.components[i].variants);const _={};return s.forEach($=>{const _e=propsToClassKey$1($.props);_[_e]=$.style}),_},variantsResolver$1=(i,o,s,_)=>{var $,_e;const{ownerState:et={}}=i,j=[],nt=s==null||($=s.components)==null||(_e=$[_])==null?void 0:_e.variants;return nt&&nt.forEach(ot=>{let ct=!0;Object.keys(ot.props).forEach(gt=>{et[gt]!==ot.props[gt]&&i[gt]!==ot.props[gt]&&(ct=!1)}),ct&&j.push(o[propsToClassKey$1(ot.props)])}),j};function shouldForwardProp$1(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const systemDefaultTheme$2=createTheme$3();function createStyled$1(i={}){const{defaultTheme:o=systemDefaultTheme$2,rootShouldForwardProp:s=shouldForwardProp$1,slotShouldForwardProp:_=shouldForwardProp$1}=i,$=_e=>{const et=isEmpty$2(_e.theme)?o:_e.theme;return styleFunctionSx$2(_extends$2({},_e,{theme:et}))};return $.__mui_systemSx=!0,(_e,et={})=>{internal_processStyles(_e,xt=>xt.filter(Tt=>!(Tt!=null&&Tt.__mui_systemSx)));const{name:j,slot:nt,skipVariantsResolver:ot,skipSx:ct,overridesResolver:gt}=et,pt=_objectWithoutPropertiesLoose$2(et,_excluded$e),ft=ot!==void 0?ot:nt&&nt!=="Root"||!1,ut=ct||!1;let yt,wt=shouldForwardProp$1;nt==="Root"?wt=s:nt?wt=_:isStringTag(_e)&&(wt=void 0);const Qt=styled$5(_e,_extends$2({shouldForwardProp:wt,label:yt},pt)),It=(xt,...Tt)=>{const mt=Tt?Tt.map(Ft=>typeof Ft=="function"&&Ft.__emotion_real!==Ft?St=>{let{theme:Pt}=St,Bt=_objectWithoutPropertiesLoose$2(St,_excluded2$1);return Ft(_extends$2({theme:isEmpty$2(Pt)?o:Pt},Bt))}:Ft):[];let Nt=xt;j&&gt&&mt.push(Ft=>{const St=isEmpty$2(Ft.theme)?o:Ft.theme,Pt=getStyleOverrides$1(j,St);if(Pt){const Bt={};return Object.entries(Pt).forEach(([jt,qt])=>{Bt[jt]=typeof qt=="function"?qt(_extends$2({},Ft,{theme:St})):qt}),gt(Ft,Bt)}return null}),j&&!ft&&mt.push(Ft=>{const St=isEmpty$2(Ft.theme)?o:Ft.theme;return variantsResolver$1(Ft,getVariantStyles$1(j,St),St,j)}),ut||mt.push($);const en=mt.length-Tt.length;if(Array.isArray(xt)&&en>0){const Ft=new Array(en).fill("");Nt=[...xt,...Ft],Nt.raw=[...xt.raw,...Ft]}else typeof xt=="function"&&xt.__emotion_real!==xt&&(Nt=Ft=>{let{theme:St}=Ft,Pt=_objectWithoutPropertiesLoose$2(Ft,_excluded3$1);return xt(_extends$2({theme:isEmpty$2(St)?o:St},Pt))});return Qt(Nt,...mt)};return Qt.withConfig&&(It.withConfig=Qt.withConfig),It}}function getThemeProps$1(i){const{theme:o,name:s,props:_}=i;return!o||!o.components||!o.components[s]||!o.components[s].defaultProps?_:resolveProps(o.components[s].defaultProps,_)}function useThemeProps$3({props:i,name:o,defaultTheme:s}){const _=useTheme$3(s);return getThemeProps$1({theme:_,name:o,props:i})}function clamp$1(i,o=0,s=1){return Math.min(Math.max(o,i),s)}function hexToRgb$1(i){i=i.slice(1);const o=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let s=i.match(o);return s&&s[0].length===1&&(s=s.map(_=>_+_)),s?`rgb${s.length===4?"a":""}(${s.map((_,$)=>$<3?parseInt(_,16):Math.round(parseInt(_,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor$1(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor$1(hexToRgb$1(i));const o=i.indexOf("("),s=i.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,i));let _=i.substring(o+1,i.length-1),$;if(s==="color"){if(_=_.split(" "),$=_.shift(),_.length===4&&_[3].charAt(0)==="/"&&(_[3]=_[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error(formatMuiErrorMessage(10,$))}else _=_.split(",");return _=_.map(_e=>parseFloat(_e)),{type:s,values:_,colorSpace:$}}function recomposeColor$1(i){const{type:o,colorSpace:s}=i;let{values:_}=i;return o.indexOf("rgb")!==-1?_=_.map(($,_e)=>_e<3?parseInt($,10):$):o.indexOf("hsl")!==-1&&(_[1]=`${_[1]}%`,_[2]=`${_[2]}%`),o.indexOf("color")!==-1?_=`${s} ${_.join(" ")}`:_=`${_.join(", ")}`,`${o}(${_})`}function hslToRgb$1(i){i=decomposeColor$1(i);const{values:o}=i,s=o[0],_=o[1]/100,$=o[2]/100,_e=_*Math.min($,1-$),et=(ot,ct=(ot+s/30)%12)=>$-_e*Math.max(Math.min(ct-3,9-ct,1),-1);let j="rgb";const nt=[Math.round(et(0)*255),Math.round(et(8)*255),Math.round(et(4)*255)];return i.type==="hsla"&&(j+="a",nt.push(o[3])),recomposeColor$1({type:j,values:nt})}function getLuminance$1(i){i=decomposeColor$1(i);let o=i.type==="hsl"||i.type==="hsla"?decomposeColor$1(hslToRgb$1(i)).values:i.values;return o=o.map(s=>(i.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio$1(i,o){const s=getLuminance$1(i),_=getLuminance$1(o);return(Math.max(s,_)+.05)/(Math.min(s,_)+.05)}function darken$1(i,o){if(i=decomposeColor$1(i),o=clamp$1(o),i.type.indexOf("hsl")!==-1)i.values[2]*=1-o;else if(i.type.indexOf("rgb")!==-1||i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]*=1-o;return recomposeColor$1(i)}function lighten$1(i,o){if(i=decomposeColor$1(i),o=clamp$1(o),i.type.indexOf("hsl")!==-1)i.values[2]+=(100-i.values[2])*o;else if(i.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(255-i.values[s])*o;else if(i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(1-i.values[s])*o;return recomposeColor$1(i)}const EMPTY_THEME={};function InnerThemeProvider(i){const o=useTheme$3();return jsx(ThemeContext$4.Provider,{value:typeof o=="object"?o:EMPTY_THEME,children:i.children})}function ThemeProvider(i){const{children:o,theme:s}=i;return jsx(ThemeProvider$1,{theme:s,children:jsx(InnerThemeProvider,{children:o})})}function createMixins$1(i,o){return _extends$2({toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}}},o)}const common$2={black:"#000",white:"#fff"},common$3=common$2,grey$2={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$3=grey$2,purple$2={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$3=purple$2,red$2={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$3=red$2,orange$2={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$3=orange$2,blue$2={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$3=blue$2,lightBlue$2={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$3=lightBlue$2,green$2={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$3=green$2,_excluded$d=["mode","contrastThreshold","tonalOffset"],light$1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$3.white,default:common$3.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark$1={text:{primary:common$3.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$3.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark$1(i,o,s,_){const $=_.light||_,_e=_.dark||_*1.5;i[o]||(i.hasOwnProperty(s)?i[o]=i[s]:o==="light"?i.light=lighten$1(i.main,$):o==="dark"&&(i.dark=darken$1(i.main,_e)))}function getDefaultPrimary$1(i="light"){return i==="dark"?{main:blue$3[200],light:blue$3[50],dark:blue$3[400]}:{main:blue$3[700],light:blue$3[400],dark:blue$3[800]}}function getDefaultSecondary$1(i="light"){return i==="dark"?{main:purple$3[200],light:purple$3[50],dark:purple$3[400]}:{main:purple$3[500],light:purple$3[300],dark:purple$3[700]}}function getDefaultError$1(i="light"){return i==="dark"?{main:red$3[500],light:red$3[300],dark:red$3[700]}:{main:red$3[700],light:red$3[400],dark:red$3[800]}}function getDefaultInfo$1(i="light"){return i==="dark"?{main:lightBlue$3[400],light:lightBlue$3[300],dark:lightBlue$3[700]}:{main:lightBlue$3[700],light:lightBlue$3[500],dark:lightBlue$3[900]}}function getDefaultSuccess$1(i="light"){return i==="dark"?{main:green$3[400],light:green$3[300],dark:green$3[700]}:{main:green$3[800],light:green$3[500],dark:green$3[900]}}function getDefaultWarning$1(i="light"){return i==="dark"?{main:orange$3[400],light:orange$3[300],dark:orange$3[700]}:{main:"#ed6c02",light:orange$3[500],dark:orange$3[900]}}function createPalette$1(i){const{mode:o="light",contrastThreshold:s=3,tonalOffset:_=.2}=i,$=_objectWithoutPropertiesLoose$2(i,_excluded$d),_e=i.primary||getDefaultPrimary$1(o),et=i.secondary||getDefaultSecondary$1(o),j=i.error||getDefaultError$1(o),nt=i.info||getDefaultInfo$1(o),ot=i.success||getDefaultSuccess$1(o),ct=i.warning||getDefaultWarning$1(o);function gt(yt){return getContrastRatio$1(yt,dark$1.text.primary)>=s?dark$1.text.primary:light$1.text.primary}const pt=({color:yt,name:wt,mainShade:Qt=500,lightShade:It=300,darkShade:xt=700})=>{if(yt=_extends$2({},yt),!yt.main&&yt[Qt]&&(yt.main=yt[Qt]),!yt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,wt?` (${wt})`:"",Qt));if(typeof yt.main!="string")throw new Error(formatMuiErrorMessage(12,wt?` (${wt})`:"",JSON.stringify(yt.main)));return addLightOrDark$1(yt,"light",It,_),addLightOrDark$1(yt,"dark",xt,_),yt.contrastText||(yt.contrastText=gt(yt.main)),yt},ft={dark:dark$1,light:light$1};return deepmerge(_extends$2({common:_extends$2({},common$3),mode:o,primary:pt({color:_e,name:"primary"}),secondary:pt({color:et,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:pt({color:j,name:"error"}),warning:pt({color:ct,name:"warning"}),info:pt({color:nt,name:"info"}),success:pt({color:ot,name:"success"}),grey:grey$3,contrastThreshold:s,getContrastText:gt,augmentColor:pt,tonalOffset:_},ft[o]),$)}const _excluded$c=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$2(i){return Math.round(i*1e5)/1e5}const caseAllCaps$1={textTransform:"uppercase"},defaultFontFamily$1='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography$1(i,o){const s=typeof o=="function"?o(i):o,{fontFamily:_=defaultFontFamily$1,fontSize:$=14,fontWeightLight:_e=300,fontWeightRegular:et=400,fontWeightMedium:j=500,fontWeightBold:nt=700,htmlFontSize:ot=16,allVariants:ct,pxToRem:gt}=s,pt=_objectWithoutPropertiesLoose$2(s,_excluded$c),ft=$/14,ut=gt||(Qt=>`${Qt/ot*ft}rem`),yt=(Qt,It,xt,Tt,mt)=>_extends$2({fontFamily:_,fontWeight:Qt,fontSize:ut(It),lineHeight:xt},_===defaultFontFamily$1?{letterSpacing:`${round$2(Tt/It)}em`}:{},mt,ct),wt={h1:yt(_e,96,1.167,-1.5),h2:yt(_e,60,1.2,-.5),h3:yt(et,48,1.167,0),h4:yt(et,34,1.235,.25),h5:yt(et,24,1.334,0),h6:yt(j,20,1.6,.15),subtitle1:yt(et,16,1.75,.15),subtitle2:yt(j,14,1.57,.1),body1:yt(et,16,1.5,.15),body2:yt(et,14,1.43,.15),button:yt(j,14,1.75,.4,caseAllCaps$1),caption:yt(et,12,1.66,.4),overline:yt(et,12,2.66,1,caseAllCaps$1)};return deepmerge(_extends$2({htmlFontSize:ot,pxToRem:ut,fontFamily:_,fontSize:$,fontWeightLight:_e,fontWeightRegular:et,fontWeightMedium:j,fontWeightBold:nt},wt),pt,{clone:!1})}const shadowKeyUmbraOpacity$1=.2,shadowKeyPenumbraOpacity$1=.14,shadowAmbientShadowOpacity$1=.12;function createShadow$1(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity$1})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity$1})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity$1})`].join(",")}const shadows$3=["none",createShadow$1(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow$1(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow$1(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow$1(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow$1(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow$1(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow$1(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow$1(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow$1(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow$1(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow$1(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow$1(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow$1(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow$1(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow$1(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow$1(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow$1(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow$1(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow$1(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow$1(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow$1(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow$1(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow$1(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow$1(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$4=shadows$3,_excluded$b=["duration","easing","delay"],easing$1={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs$1(i){return`${Math.round(i)}ms`}function getAutoHeightDuration$1(i){if(!i)return 0;const o=i/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions$1(i){const o=_extends$2({},easing$1,i.easing),s=_extends$2({},duration$1,i.duration);return _extends$2({getAutoHeightDuration:getAutoHeightDuration$1,create:($=["all"],_e={})=>{const{duration:et=s.standard,easing:j=o.easeInOut,delay:nt=0}=_e;return _objectWithoutPropertiesLoose$2(_e,_excluded$b),(Array.isArray($)?$:[$]).map(ot=>`${ot} ${typeof et=="string"?et:formatMs$1(et)} ${j} ${typeof nt=="string"?nt:formatMs$1(nt)}`).join(",")}},i,{easing:o,duration:s})}const zIndex$3={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$4=zIndex$3,_excluded$a=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme$2(i={},...o){const{mixins:s={},palette:_={},transitions:$={},typography:_e={}}=i,et=_objectWithoutPropertiesLoose$2(i,_excluded$a);if(i.vars)throw new Error(formatMuiErrorMessage(18));const j=createPalette$1(_),nt=createTheme$3(i);let ot=deepmerge(nt,{mixins:createMixins$1(nt.breakpoints,s),palette:j,shadows:shadows$4.slice(),typography:createTypography$1(j,_e),transitions:createTransitions$1($),zIndex:_extends$2({},zIndex$4)});return ot=deepmerge(ot,et),ot=o.reduce((ct,gt)=>deepmerge(ct,gt),ot),ot.unstable_sxConfig=_extends$2({},defaultSxConfig$1,et==null?void 0:et.unstable_sxConfig),ot.unstable_sx=function(gt){return styleFunctionSx$2({sx:gt,theme:this})},ot}const defaultTheme$3=createTheme$2(),defaultTheme$4=defaultTheme$3;function useThemeProps$2({props:i,name:o}){return useThemeProps$3({props:i,name:o,defaultTheme:defaultTheme$4})}function GlobalStyles(i){return jsx(GlobalStyles$1,_extends$2({},i,{defaultTheme:defaultTheme$4}))}const html$1=(i,o)=>_extends$2({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&!i.vars&&{colorScheme:i.palette.mode}),body$1=i=>_extends$2({color:(i.vars||i).palette.text.primary},i.typography.body1,{backgroundColor:(i.vars||i).palette.background.default,"@media print":{backgroundColor:(i.vars||i).palette.common.white}}),styles=(i,o=!1)=>{var s,_;const $={};o&&i.colorSchemes&&Object.entries(i.colorSchemes).forEach(([j,nt])=>{var ot;$[i.getColorSchemeSelector(j).replace(/\s*&/,"")]={colorScheme:(ot=nt.palette)==null?void 0:ot.mode}});let _e=_extends$2({html:html$1(i,o),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:i.typography.fontWeightBold},body:_extends$2({margin:0},body$1(i),{"&::backdrop":{backgroundColor:(i.vars||i).palette.background.default}})},$);const et=(s=i.components)==null||(_=s.MuiCssBaseline)==null?void 0:_.styleOverrides;return et&&(_e=[_e,et]),_e};function CssBaseline(i){const o=useThemeProps$2({props:i,name:"MuiCssBaseline"}),{children:s,enableColorScheme:_=!1}=o;return jsxs(reactExports.Fragment,{children:[jsx(GlobalStyles,{styles:$=>styles($,_)}),s]})}const rootShouldForwardProp$1=i=>shouldForwardProp$1(i)&&i!=="classes",styled$3=createStyled$1({defaultTheme:defaultTheme$4,rootShouldForwardProp:rootShouldForwardProp$1}),styled$4=styled$3;function _inheritsLoose(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,_setPrototypeOf$1(i,o)}function getTypographyUtilityClass(i){return generateUtilityClass$1("MuiTypography",i)}generateUtilityClasses$1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$9=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$1=i=>{const{align:o,gutterBottom:s,noWrap:_,paragraph:$,variant:_e,classes:et}=i,j={root:["root",_e,i.align!=="inherit"&&`align${capitalize(o)}`,s&&"gutterBottom",_&&"noWrap",$&&"paragraph"]};return composeClasses$1(j,getTypographyUtilityClass,et)},TypographyRoot=styled$4("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.variant&&o[s.variant],s.align!=="inherit"&&o[`align${capitalize(s.align)}`],s.noWrap&&o.noWrap,s.gutterBottom&&o.gutterBottom,s.paragraph&&o.paragraph]}})(({theme:i,ownerState:o})=>_extends$2({margin:0},o.variant&&i.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=i=>colorTransformations[i]||i,Typography=reactExports.forwardRef(function i(o,s){const _=useThemeProps$2({props:o,name:"MuiTypography"}),$=transformDeprecatedColors(_.color),_e=extendSxProp(_extends$2({},_,{color:$})),{align:et="inherit",className:j,component:nt,gutterBottom:ot=!1,noWrap:ct=!1,paragraph:gt=!1,variant:pt="body1",variantMapping:ft=defaultVariantMapping}=_e,ut=_objectWithoutPropertiesLoose$2(_e,_excluded$9),yt=_extends$2({},_e,{align:et,color:$,className:j,component:nt,gutterBottom:ot,noWrap:ct,paragraph:gt,variant:pt,variantMapping:ft}),wt=nt||(gt?"p":ft[pt]||defaultVariantMapping[pt])||"span",Qt=useUtilityClasses$1(yt);return jsx(TypographyRoot,_extends$2({as:wt,ref:s,ownerState:yt,className:clsx$1(Qt.root,j)},ut))}),Typography$1=Typography;var __defProp3=Object.defineProperty,__defProps2=Object.defineProperties,__getOwnPropDescs2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols2=Object.getOwnPropertySymbols,__hasOwnProp2=Object.prototype.hasOwnProperty,__propIsEnum2=Object.prototype.propertyIsEnumerable,__defNormalProp3=(i,o,s)=>o in i?__defProp3(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__spreadValues2=(i,o)=>{for(var s in o||(o={}))__hasOwnProp2.call(o,s)&&__defNormalProp3(i,s,o[s]);if(__getOwnPropSymbols2)for(var s of __getOwnPropSymbols2(o))__propIsEnum2.call(o,s)&&__defNormalProp3(i,s,o[s]);return i},__spreadProps2=(i,o)=>__defProps2(i,__getOwnPropDescs2(o)),__publicField3=(i,o,s)=>(__defNormalProp3(i,typeof o!="symbol"?o+"":o,s),s);function _objectWithoutPropertiesLoose$1(i,o){if(i==null)return{};var s={},_=Object.keys(i),$,_e;for(_e=0;_e<_.length;_e++)$=_[_e],!(o.indexOf($)>=0)&&(s[$]=i[$]);return s}function _extends$1(){return _extends$1=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])}return i},_extends$1.apply(this,arguments)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function toVal(i){var o,s,_="";if(typeof i=="string"||typeof i=="number")_+=i;else if(typeof i=="object")if(Array.isArray(i))for(o=0;o<i.length;o++)i[o]&&(s=toVal(i[o]))&&(_&&(_+=" "),_+=s);else for(o in i)i[o]&&(_&&(_+=" "),_+=o);return _}function clsx(){for(var i=0,o,s,_="";i<arguments.length;)(o=arguments[i++])&&(s=toVal(o))&&(_&&(_+=" "),_+=s);return _}function composeClasses(i,o,s){const _={};return Object.keys(i).forEach($=>{_[$]=i[$].reduce((_e,et)=>(et&&(s&&s[et]&&_e.push(s[et]),_e.push(o(et))),_e),[]).join(" ")}),_}const defaultGenerator=i=>i,createClassNameGenerator=()=>{let i=defaultGenerator;return{configure(o){i=o},generate(o){return i(o)},reset(){i=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();var ClassNameGenerator$1=ClassNameGenerator;const globalStateClassesMapping={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function generateUtilityClass(i,o){return globalStateClassesMapping[o]||`${ClassNameGenerator$1.generate(i)}-${o}`}function generateUtilityClasses(i,o){const s={};return o.forEach(_=>{s[_]=generateUtilityClass(i,_)}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=React$1,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(i,o,s){var _,$={},_e=null,et=null;s!==void 0&&(_e=""+s),o.key!==void 0&&(_e=""+o.key),o.ref!==void 0&&(et=o.ref);for(_ in o)m.call(o,_)&&!p.hasOwnProperty(_)&&($[_]=o[_]);if(i&&i.defaultProps)for(_ in o=i.defaultProps,o)$[_]===void 0&&($[_]=o[_]);return{$$typeof:k,type:i,key:_e,ref:et,props:$,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;/** @license MUI v5.6.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(i,o){return newStyled(i,o)}function merge$1(i,o){return o?deepmerge(i,o,{clone:!1}):i}const values={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values[i]}px)`};function handleBreakpoints(i,o,s){const _=i.theme||{};if(Array.isArray(o)){const _e=_.breakpoints||defaultBreakpoints;return o.reduce((et,j,nt)=>(et[_e.up(_e.keys[nt])]=s(o[nt]),et),{})}if(typeof o=="object"){const _e=_.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((et,j)=>{if(Object.keys(_e.values||values).indexOf(j)!==-1){const nt=_e.up(j);et[nt]=s(o[j],j)}else{const nt=j;et[nt]=o[nt]}return et},{})}return s(o)}function createEmptyBreakpointObject(i={}){var o;return(i==null||(o=i.keys)==null?void 0:o.reduce((_,$)=>{const _e=i.up($);return _[_e]={},_},{}))||{}}function removeUnusedBreakpoints(i,o){return i.reduce((s,_)=>{const $=s[_];return(!$||Object.keys($).length===0)&&delete s[_],s},o)}function getPath(i,o){return!o||typeof o!="string"?null:o.split(".").reduce((s,_)=>s&&s[_]?s[_]:null,i)}function getValue$1(i,o,s,_=s){let $;return typeof i=="function"?$=i(s):Array.isArray(i)?$=i[s]||_:$=getPath(i,s)||_,o&&($=o($)),$}function style$1(i){const{prop:o,cssProperty:s=i.prop,themeKey:_,transform:$}=i,_e=et=>{if(et[o]==null)return null;const j=et[o],nt=et.theme,ot=getPath(nt,_)||{};return handleBreakpoints(et,j,gt=>{let pt=getValue$1(ot,$,gt);return gt===pt&&typeof gt=="string"&&(pt=getValue$1(ot,$,`${o}${gt==="default"?"":capitalize(gt)}`,gt)),s===!1?pt:{[s]:pt}})};return _e.propTypes={},_e.filterProps=[o],_e}function compose(...i){const o=i.reduce((_,$)=>($.filterProps.forEach(_e=>{_[_e]=$}),_),{}),s=_=>Object.keys(_).reduce(($,_e)=>o[_e]?merge$1($,o[_e](_)):$,{});return s.propTypes={},s.filterProps=i.reduce((_,$)=>_.concat($.filterProps),[]),s}function memoize(i){const o={};return s=>(o[s]===void 0&&(o[s]=i(s)),o[s])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(i=>{if(i.length>2)if(aliases[i])i=aliases[i];else return[i];const[o,s]=i.split(""),_=properties[o],$=directions[s]||"";return Array.isArray($)?$.map(_e=>_+_e):[_+$]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],spacingKeys=[...marginKeys,...paddingKeys];function createUnaryUnit(i,o,s,_){const $=getPath(i,o)||s;return typeof $=="number"?_e=>typeof _e=="string"?_e:$*_e:Array.isArray($)?_e=>typeof _e=="string"?_e:$[_e]:typeof $=="function"?$:()=>{}}function createUnarySpacing(i){return createUnaryUnit(i,"spacing",8)}function getValue(i,o){if(typeof o=="string"||o==null)return o;const s=Math.abs(o),_=i(s);return o>=0?_:typeof _=="number"?-_:`-${_}`}function getStyleFromPropValue(i,o){return s=>i.reduce((_,$)=>(_[$]=getValue(o,s),_),{})}function resolveCssProperty(i,o,s,_){if(o.indexOf(s)===-1)return null;const $=getCssProperties(s),_e=getStyleFromPropValue($,_),et=i[s];return handleBreakpoints(i,et,_e)}function style(i,o){const s=createUnarySpacing(i.theme);return Object.keys(i).map(_=>resolveCssProperty(i,o,_,s)).reduce(merge$1,{})}function spacing(i){return style(i,spacingKeys)}spacing.propTypes={};spacing.filterProps=spacingKeys;function getBorder(i){return typeof i!="number"?i:`${i}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:getBorder}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:getBorder}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:getBorder}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:getBorder}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:getBorder}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const o=createUnaryUnit(i.theme,"shape.borderRadius",4),s=_=>({borderRadius:getValue(o,_)});return handleBreakpoints(i,i.borderRadius,s)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];const borders=compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);var borders$1=borders;const displayPrint=style$1({prop:"displayPrint",cssProperty:!1,transform:i=>({"@media print":{display:i}})}),displayRaw=style$1({prop:"display"}),overflow=style$1({prop:"overflow"}),textOverflow=style$1({prop:"textOverflow"}),visibility=style$1({prop:"visibility"}),whiteSpace=style$1({prop:"whiteSpace"});var display=compose(displayPrint,displayRaw,overflow,textOverflow,visibility,whiteSpace);const flexBasis=style$1({prop:"flexBasis"}),flexDirection=style$1({prop:"flexDirection"}),flexWrap=style$1({prop:"flexWrap"}),justifyContent=style$1({prop:"justifyContent"}),alignItems=style$1({prop:"alignItems"}),alignContent=style$1({prop:"alignContent"}),order=style$1({prop:"order"}),flex=style$1({prop:"flex"}),flexGrow=style$1({prop:"flexGrow"}),flexShrink=style$1({prop:"flexShrink"}),alignSelf=style$1({prop:"alignSelf"}),justifyItems=style$1({prop:"justifyItems"}),justifySelf=style$1({prop:"justifySelf"}),flexbox=compose(flexBasis,flexDirection,flexWrap,justifyContent,alignItems,alignContent,order,flex,flexGrow,flexShrink,alignSelf,justifyItems,justifySelf);var flexbox$1=flexbox;const gap=i=>{if(i.gap!==void 0&&i.gap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({gap:getValue(o,_)});return handleBreakpoints(i,i.gap,s)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({columnGap:getValue(o,_)});return handleBreakpoints(i,i.columnGap,s)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({rowGap:getValue(o,_)});return handleBreakpoints(i,i.rowGap,s)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"}),grid=compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);var grid$1=grid;const color$1=style$1({prop:"color",themeKey:"palette"}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette"}),palette=compose(color$1,bgcolor,backgroundColor);var palette$1=palette;const position=style$1({prop:"position"}),zIndex$2=style$1({prop:"zIndex",themeKey:"zIndex"}),top=style$1({prop:"top"}),right=style$1({prop:"right"}),bottom=style$1({prop:"bottom"}),left=style$1({prop:"left"});var positions$1=compose(position,zIndex$2,top,right,bottom,left);const boxShadow=style$1({prop:"boxShadow",themeKey:"shadows"});var shadows$2=boxShadow;function transform(i){return i<=1&&i!==0?`${i*100}%`:i}const width=style$1({prop:"width",transform}),maxWidth=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const o=s=>{var _,$,_e;return{maxWidth:((_=i.theme)==null||($=_.breakpoints)==null||(_e=$.values)==null?void 0:_e[s])||values[s]||transform(s)}};return handleBreakpoints(i,i.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform}),height=style$1({prop:"height",transform}),maxHeight=style$1({prop:"maxHeight",transform}),minHeight=style$1({prop:"minHeight",transform});style$1({prop:"size",cssProperty:"width",transform});style$1({prop:"size",cssProperty:"height",transform});const boxSizing=style$1({prop:"boxSizing"}),sizing=compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);var sizing$1=sizing;const fontFamily=style$1({prop:"fontFamily",themeKey:"typography"}),fontSize=style$1({prop:"fontSize",themeKey:"typography"}),fontStyle=style$1({prop:"fontStyle",themeKey:"typography"}),fontWeight=style$1({prop:"fontWeight",themeKey:"typography"}),letterSpacing=style$1({prop:"letterSpacing"}),textTransform=style$1({prop:"textTransform"}),lineHeight=style$1({prop:"lineHeight"}),textAlign=style$1({prop:"textAlign"}),typographyVariant=style$1({prop:"typography",cssProperty:!1,themeKey:"typography"}),typography=compose(typographyVariant,fontFamily,fontSize,fontStyle,fontWeight,letterSpacing,lineHeight,textAlign,textTransform);var typography$1=typography;const filterPropsMapping={borders:borders$1.filterProps,display:display.filterProps,flexbox:flexbox$1.filterProps,grid:grid$1.filterProps,positions:positions$1.filterProps,palette:palette$1.filterProps,shadows:shadows$2.filterProps,sizing:sizing$1.filterProps,spacing:spacing.filterProps,typography:typography$1.filterProps},styleFunctionMapping={borders:borders$1,display,flexbox:flexbox$1,grid:grid$1,positions:positions$1,palette:palette$1,shadows:shadows$2,sizing:sizing$1,spacing,typography:typography$1};Object.keys(filterPropsMapping).reduce((i,o)=>(filterPropsMapping[o].forEach(s=>{i[s]=styleFunctionMapping[o]}),i),{});function objectsHaveSameKeys(...i){const o=i.reduce((_,$)=>_.concat(Object.keys($)),[]),s=new Set(o);return i.every(_=>s.size===Object.keys(_).length)}function callIfFn(i,o){return typeof i=="function"?i(o):i}function unstable_createStyleFunctionSx(i=styleFunctionMapping){const o=Object.keys(i).reduce(($,_e)=>(i[_e].filterProps.forEach(et=>{$[et]=i[_e]}),$),{});function s($,_e,et){const j={[$]:_e,theme:et},nt=o[$];return nt?nt(j):{[$]:_e}}function _($){const{sx:_e,theme:et={}}=$||{};if(!_e)return null;function j(nt){let ot=nt;if(typeof nt=="function")ot=nt(et);else if(typeof nt!="object")return nt;if(!ot)return null;const ct=createEmptyBreakpointObject(et.breakpoints),gt=Object.keys(ct);let pt=ct;return Object.keys(ot).forEach(ft=>{const ut=callIfFn(ot[ft],et);if(ut!=null)if(typeof ut=="object")if(o[ft])pt=merge$1(pt,s(ft,ut,et));else{const yt=handleBreakpoints({theme:et},ut,wt=>({[ft]:wt}));objectsHaveSameKeys(yt,ut)?pt[ft]=_({sx:ut,theme:et}):pt=merge$1(pt,yt)}else pt=merge$1(pt,s(ft,ut,et))}),removeUnusedBreakpoints(gt,pt)}return Array.isArray(_e)?_e.map(j):j(_e)}return _}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];var defaultStyleFunctionSx=styleFunctionSx;const _excluded$8=["values","unit","step"],sortBreakpointsValues=i=>{const o=Object.keys(i).map(s=>({key:s,val:i[s]}))||[];return o.sort((s,_)=>s.val-_.val),o.reduce((s,_)=>_extends$1({},s,{[_.key]:_.val}),{})};function createBreakpoints(i){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:_=5}=i,$=_objectWithoutPropertiesLoose$1(i,_excluded$8),_e=sortBreakpointsValues(o),et=Object.keys(_e);function j(pt){return`@media (min-width:${typeof o[pt]=="number"?o[pt]:pt}${s})`}function nt(pt){return`@media (max-width:${(typeof o[pt]=="number"?o[pt]:pt)-_/100}${s})`}function ot(pt,ft){const ut=et.indexOf(ft);return`@media (min-width:${typeof o[pt]=="number"?o[pt]:pt}${s}) and (max-width:${(ut!==-1&&typeof o[et[ut]]=="number"?o[et[ut]]:ft)-_/100}${s})`}function ct(pt){return et.indexOf(pt)+1<et.length?ot(pt,et[et.indexOf(pt)+1]):j(pt)}function gt(pt){const ft=et.indexOf(pt);return ft===0?j(et[1]):ft===et.length-1?nt(et[ft]):ot(pt,et[et.indexOf(pt)+1]).replace("@media","@media not all and")}return _extends$1({keys:et,values:_e,up:j,down:nt,between:ot,only:ct,not:gt,unit:s},$)}const shape={borderRadius:4};var shape$1=shape;function createSpacing(i=8){if(i.mui)return i;const o=createUnarySpacing({spacing:i}),s=(..._)=>(_.length===0?[1]:_).map(_e=>{const et=o(_e);return typeof et=="number"?`${et}px`:et}).join(" ");return s.mui=!0,s}const _excluded$7=["breakpoints","palette","spacing","shape"];function createTheme$1(i={},...o){const{breakpoints:s={},palette:_={},spacing:$,shape:_e={}}=i,et=_objectWithoutPropertiesLoose$1(i,_excluded$7),j=createBreakpoints(s),nt=createSpacing($);let ot=deepmerge({breakpoints:j,direction:"ltr",components:{},palette:_extends$1({mode:"light"},_),spacing:nt,shape:_extends$1({},shape$1,_e)},et);return ot=o.reduce((ct,gt)=>deepmerge(ct,gt),ot),ot}const ThemeContext=reactExports.createContext(null);var ThemeContext$1=ThemeContext;function useTheme$2(){return reactExports.useContext(ThemeContext$1)}function isObjectEmpty(i){return Object.keys(i).length===0}function useTheme$1(i=null){const o=useTheme$2();return!o||isObjectEmpty(o)?i:o}const systemDefaultTheme$1=createTheme$1();function useTheme(i=systemDefaultTheme$1){return useTheme$1(i)}const _excluded$6=["variant"];function isEmpty$1(i){return i.length===0}function propsToClassKey(i){const{variant:o}=i,s=_objectWithoutPropertiesLoose$1(i,_excluded$6);let _=o||"";return Object.keys(s).sort().forEach($=>{$==="color"?_+=isEmpty$1(_)?i[$]:capitalize(i[$]):_+=`${isEmpty$1(_)?$:capitalize($)}${capitalize(i[$].toString())}`}),_}const _excluded$5=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2=["theme"],_excluded3=["theme"];function isEmpty(i){return Object.keys(i).length===0}const getStyleOverrides=(i,o)=>o.components&&o.components[i]&&o.components[i].styleOverrides?o.components[i].styleOverrides:null,getVariantStyles=(i,o)=>{let s=[];o&&o.components&&o.components[i]&&o.components[i].variants&&(s=o.components[i].variants);const _={};return s.forEach($=>{const _e=propsToClassKey($.props);_[_e]=$.style}),_},variantsResolver=(i,o,s,_)=>{var $,_e;const{ownerState:et={}}=i,j=[],nt=s==null||($=s.components)==null||(_e=$[_])==null?void 0:_e.variants;return nt&&nt.forEach(ot=>{let ct=!0;Object.keys(ot.props).forEach(gt=>{et[gt]!==ot.props[gt]&&i[gt]!==ot.props[gt]&&(ct=!1)}),ct&&j.push(o[propsToClassKey(ot.props)])}),j};function shouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const systemDefaultTheme=createTheme$1();function createStyled(i={}){const{defaultTheme:o=systemDefaultTheme,rootShouldForwardProp:s=shouldForwardProp,slotShouldForwardProp:_=shouldForwardProp,styleFunctionSx:$=defaultStyleFunctionSx}=i;return(_e,et={})=>{const{name:j,slot:nt,skipVariantsResolver:ot,skipSx:ct,overridesResolver:gt}=et,pt=_objectWithoutPropertiesLoose$1(et,_excluded$5),ft=ot!==void 0?ot:nt&&nt!=="Root"||!1,ut=ct||!1;let yt,wt=shouldForwardProp;nt==="Root"?wt=s:nt&&(wt=_);const Qt=styled$2(_e,_extends$1({shouldForwardProp:wt,label:yt},pt)),It=(xt,...Tt)=>{const mt=Tt?Tt.map(Ft=>typeof Ft=="function"&&Ft.__emotion_real!==Ft?St=>{let{theme:Pt}=St,Bt=_objectWithoutPropertiesLoose$1(St,_excluded2);return Ft(_extends$1({theme:isEmpty(Pt)?o:Pt},Bt))}:Ft):[];let Nt=xt;j&&gt&&mt.push(Ft=>{const St=isEmpty(Ft.theme)?o:Ft.theme,Pt=getStyleOverrides(j,St);if(Pt){const Bt={};return Object.entries(Pt).forEach(([jt,qt])=>{Bt[jt]=typeof qt=="function"?qt(Ft):qt}),gt(Ft,Bt)}return null}),j&&!ft&&mt.push(Ft=>{const St=isEmpty(Ft.theme)?o:Ft.theme;return variantsResolver(Ft,getVariantStyles(j,St),St,j)}),ut||mt.push(Ft=>{const St=isEmpty(Ft.theme)?o:Ft.theme;return $(_extends$1({},Ft,{theme:St}))});const en=mt.length-Tt.length;if(Array.isArray(xt)&&en>0){const Ft=new Array(en).fill("");Nt=[...xt,...Ft],Nt.raw=[...xt.raw,...Ft]}else typeof xt=="function"&&xt.__emotion_real!==xt&&(Nt=Ft=>{let{theme:St}=Ft,Pt=_objectWithoutPropertiesLoose$1(Ft,_excluded3);return xt(_extends$1({theme:isEmpty(St)?o:St},Pt))});return Qt(Nt,...mt)};return Qt.withConfig&&(It.withConfig=Qt.withConfig),It}}function getThemeProps(i){const{theme:o,name:s,props:_}=i;return!o||!o.components||!o.components[s]||!o.components[s].defaultProps?_:resolveProps(o.components[s].defaultProps,_)}function useThemeProps$1({props:i,name:o,defaultTheme:s}){const _=useTheme(s);return getThemeProps({theme:_,name:o,props:i})}function clamp(i,o=0,s=1){return Math.min(Math.max(o,i),s)}function hexToRgb(i){i=i.slice(1);const o=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let s=i.match(o);return s&&s[0].length===1&&(s=s.map(_=>_+_)),s?`rgb${s.length===4?"a":""}(${s.map((_,$)=>$<3?parseInt(_,16):Math.round(parseInt(_,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor(hexToRgb(i));const o=i.indexOf("("),s=i.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,i));let _=i.substring(o+1,i.length-1),$;if(s==="color"){if(_=_.split(" "),$=_.shift(),_.length===4&&_[3].charAt(0)==="/"&&(_[3]=_[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error(formatMuiErrorMessage(10,$))}else _=_.split(",");return _=_.map(_e=>parseFloat(_e)),{type:s,values:_,colorSpace:$}}function recomposeColor(i){const{type:o,colorSpace:s}=i;let{values:_}=i;return o.indexOf("rgb")!==-1?_=_.map(($,_e)=>_e<3?parseInt($,10):$):o.indexOf("hsl")!==-1&&(_[1]=`${_[1]}%`,_[2]=`${_[2]}%`),o.indexOf("color")!==-1?_=`${s} ${_.join(" ")}`:_=`${_.join(", ")}`,`${o}(${_})`}function hslToRgb(i){i=decomposeColor(i);const{values:o}=i,s=o[0],_=o[1]/100,$=o[2]/100,_e=_*Math.min($,1-$),et=(ot,ct=(ot+s/30)%12)=>$-_e*Math.max(Math.min(ct-3,9-ct,1),-1);let j="rgb";const nt=[Math.round(et(0)*255),Math.round(et(8)*255),Math.round(et(4)*255)];return i.type==="hsla"&&(j+="a",nt.push(o[3])),recomposeColor({type:j,values:nt})}function getLuminance(i){i=decomposeColor(i);let o=i.type==="hsl"?decomposeColor(hslToRgb(i)).values:i.values;return o=o.map(s=>(i.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio(i,o){const s=getLuminance(i),_=getLuminance(o);return(Math.max(s,_)+.05)/(Math.min(s,_)+.05)}function darken(i,o){if(i=decomposeColor(i),o=clamp(o),i.type.indexOf("hsl")!==-1)i.values[2]*=1-o;else if(i.type.indexOf("rgb")!==-1||i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]*=1-o;return recomposeColor(i)}function lighten(i,o){if(i=decomposeColor(i),o=clamp(o),i.type.indexOf("hsl")!==-1)i.values[2]+=(100-i.values[2])*o;else if(i.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(255-i.values[s])*o;else if(i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(1-i.values[s])*o;return recomposeColor(i)}function createMixins(i,o,s){return _extends$1({toolbar:{minHeight:56,[`${i.up("xs")} and (orientation: landscape)`]:{minHeight:48},[i.up("sm")]:{minHeight:64}}},s)}const common={black:"#000",white:"#fff"};var common$1=common;const grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var grey$1=grey;const purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var purple$1=purple;const red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var red$1=red;const orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var orange$1=orange;const blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var blue$1=blue;const lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var lightBlue$1=lightBlue;const green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var green$1=green;const _excluded$4=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(i,o,s,_){const $=_.light||_,_e=_.dark||_*1.5;i[o]||(i.hasOwnProperty(s)?i[o]=i[s]:o==="light"?i.light=lighten(i.main,$):o==="dark"&&(i.dark=darken(i.main,_e)))}function getDefaultPrimary(i="light"){return i==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(i="light"){return i==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(i="light"){return i==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(i="light"){return i==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(i="light"){return i==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(i="light"){return i==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(i){const{mode:o="light",contrastThreshold:s=3,tonalOffset:_=.2}=i,$=_objectWithoutPropertiesLoose$1(i,_excluded$4),_e=i.primary||getDefaultPrimary(o),et=i.secondary||getDefaultSecondary(o),j=i.error||getDefaultError(o),nt=i.info||getDefaultInfo(o),ot=i.success||getDefaultSuccess(o),ct=i.warning||getDefaultWarning(o);function gt(yt){return getContrastRatio(yt,dark.text.primary)>=s?dark.text.primary:light.text.primary}const pt=({color:yt,name:wt,mainShade:Qt=500,lightShade:It=300,darkShade:xt=700})=>{if(yt=_extends$1({},yt),!yt.main&&yt[Qt]&&(yt.main=yt[Qt]),!yt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,wt?` (${wt})`:"",Qt));if(typeof yt.main!="string")throw new Error(formatMuiErrorMessage(12,wt?` (${wt})`:"",JSON.stringify(yt.main)));return addLightOrDark(yt,"light",It,_),addLightOrDark(yt,"dark",xt,_),yt.contrastText||(yt.contrastText=gt(yt.main)),yt},ft={dark,light};return deepmerge(_extends$1({common:common$1,mode:o,primary:pt({color:_e,name:"primary"}),secondary:pt({color:et,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:pt({color:j,name:"error"}),warning:pt({color:ct,name:"warning"}),info:pt({color:nt,name:"info"}),success:pt({color:ot,name:"success"}),grey:grey$1,contrastThreshold:s,getContrastText:gt,augmentColor:pt,tonalOffset:_},ft[o]),$)}const _excluded$3=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$1(i){return Math.round(i*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(i,o){const s=typeof o=="function"?o(i):o,{fontFamily:_=defaultFontFamily,fontSize:$=14,fontWeightLight:_e=300,fontWeightRegular:et=400,fontWeightMedium:j=500,fontWeightBold:nt=700,htmlFontSize:ot=16,allVariants:ct,pxToRem:gt}=s,pt=_objectWithoutPropertiesLoose$1(s,_excluded$3),ft=$/14,ut=gt||(Qt=>`${Qt/ot*ft}rem`),yt=(Qt,It,xt,Tt,mt)=>_extends$1({fontFamily:_,fontWeight:Qt,fontSize:ut(It),lineHeight:xt},_===defaultFontFamily?{letterSpacing:`${round$1(Tt/It)}em`}:{},mt,ct),wt={h1:yt(_e,96,1.167,-1.5),h2:yt(_e,60,1.2,-.5),h3:yt(et,48,1.167,0),h4:yt(et,34,1.235,.25),h5:yt(et,24,1.334,0),h6:yt(j,20,1.6,.15),subtitle1:yt(et,16,1.75,.15),subtitle2:yt(j,14,1.57,.1),body1:yt(et,16,1.5,.15),body2:yt(et,14,1.43,.15),button:yt(j,14,1.75,.4,caseAllCaps),caption:yt(et,12,1.66,.4),overline:yt(et,12,2.66,1,caseAllCaps)};return deepmerge(_extends$1({htmlFontSize:ot,pxToRem:ut,fontFamily:_,fontSize:$,fontWeightLight:_e,fontWeightRegular:et,fontWeightMedium:j,fontWeightBold:nt},wt),pt,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];var shadows$1=shadows;const _excluded$2=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(i){return`${Math.round(i)}ms`}function getAutoHeightDuration(i){if(!i)return 0;const o=i/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions(i){const o=_extends$1({},easing,i.easing),s=_extends$1({},duration$3,i.duration);return _extends$1({getAutoHeightDuration,create:($=["all"],_e={})=>{const{duration:et=s.standard,easing:j=o.easeInOut,delay:nt=0}=_e;return _objectWithoutPropertiesLoose$1(_e,_excluded$2),(Array.isArray($)?$:[$]).map(ot=>`${ot} ${typeof et=="string"?et:formatMs(et)} ${j} ${typeof nt=="string"?nt:formatMs(nt)}`).join(",")}},i,{easing:o,duration:s})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var zIndex$1=zIndex;const _excluded$1=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(i={},...o){const{mixins:s={},palette:_={},transitions:$={},typography:_e={}}=i,et=_objectWithoutPropertiesLoose$1(i,_excluded$1),j=createPalette(_),nt=createTheme$1(i);let ot=deepmerge(nt,{mixins:createMixins(nt.breakpoints,nt.spacing,s),palette:j,shadows:shadows$1.slice(),typography:createTypography(j,_e),transitions:createTransitions($),zIndex:_extends$1({},zIndex$1)});return ot=deepmerge(ot,et),ot=o.reduce((ct,gt)=>deepmerge(ct,gt),ot),ot}const defaultTheme$1=createTheme();var defaultTheme$2=defaultTheme$1;function useThemeProps({props:i,name:o}){return useThemeProps$1({props:i,name:o,defaultTheme:defaultTheme$2})}const rootShouldForwardProp=i=>shouldForwardProp(i)&&i!=="classes",styled=createStyled({defaultTheme:defaultTheme$2,rootShouldForwardProp});var styled$1=styled;const html=(i,o)=>_extends$1({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&{colorScheme:i.palette.mode}),body=i=>_extends$1({color:i.palette.text.primary},i.typography.body1,{backgroundColor:i.palette.background.default,"@media print":{backgroundColor:i.palette.common.white}});function getScopedCssBaselineUtilityClass(i){return generateUtilityClass("MuiScopedCssBaseline",i)}generateUtilityClasses("MuiScopedCssBaseline",["root"]);const _excluded=["className","component","enableColorScheme"],useUtilityClasses=i=>{const{classes:o}=i;return composeClasses({root:["root"]},getScopedCssBaselineUtilityClass,o)},ScopedCssBaselineRoot=styled$1("div",{name:"MuiScopedCssBaseline",slot:"Root",overridesResolver:(i,o)=>o.root})(({theme:i,ownerState:o})=>_extends$1({},html(i,o.enableColorScheme),body(i),{"& *, & *::before, & *::after":{boxSizing:"inherit"},"& strong, & b":{fontWeight:i.typography.fontWeightBold}})),ScopedCssBaseline=reactExports.forwardRef(function i(o,s){const _=useThemeProps({props:o,name:"MuiScopedCssBaseline"}),{className:$,component:_e="div"}=_,et=_objectWithoutPropertiesLoose$1(_,_excluded),j=_extends$1({},_,{component:_e}),nt=useUtilityClasses(j);return jsxRuntime.exports.jsx(ScopedCssBaselineRoot,_extends$1({as:_e,className:clsx(nt.root,$),ref:s,ownerState:j},et))});var ScopedCssBaseline$1=ScopedCssBaseline;const baseTheme=createTheme$2({typography:{fontFamily:"'Moderat', 'Inter', 'Source Sans Pro', sans-serif",h1:{fontStyle:"normal",fontWeight:"normal",fontSize:"2rem",lineHeight:"2.5rem",letterSpacing:0},h2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1.5rem",lineHeight:"2.125rem",letterSpacing:"0.069rem",fontFeatureSettings:'"zero" on'},h3:{fontStyle:"normal",fontWeight:500,fontSize:"1.125rem",lineHeight:"1.688rem",letterSpacing:"0.069rem"},h4:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.375rem",letterSpacing:"0.069rem",textTransform:"uppercase"},h5:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.125rem",letterSpacing:"0.038rem",textTransform:"uppercase"},h6:{fontStyle:"normal",fontWeight:"normal",fontSize:"0.625rem",lineHeight:"0.938rem",letterSpacing:"0.063rem"},body1:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on'},body2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on',fontVariantNumeric:"tabular-nums"},button:{fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053.rem",textTransform:"uppercase"}}}),lightPalette={palette:{mode:"light",success:{main:"#34dea9",dark:"#2d8376"},info:{main:"#297ceb",dark:"#256faf",light:"#3BABFF"},error:{main:"#fd76a7",dark:"#7f5072"},warning:{main:"#ffb179",dark:"#94645f"},primary:{main:"#657197",light:"#BAC4E2",dark:"#3B4668"},secondary:{main:"#3babff",dark:"#76a7dc"},background:{default:"#FFFFFF",paper:"#F1F3F9"},common:{black:"#ffffff",white:"#000000"}}},darkPalette={palette:{mode:"dark",primary:{main:"#657197",dark:"#3B4668",light:"#BAC4E2",contrastText:"#ffffff"},secondary:{main:"#18d2ff",light:"#18d2ff",dark:"#256faf"},background:{default:"#2d3855",paper:"#2d3855"},common:{black:"#000000",white:"#ffffff"},text:{primary:"#bac4e2"},error:{main:"#ea719d",dark:"#7F5072"},warning:{main:"#a961e4",dark:"#564A94"},info:{main:"#20a0ff",dark:"#256FAF"},success:{main:"#2ec495",dark:"#2D8376"}}};function createComponents(i){const o={components:{MuiCssBaseline:{styleOverrides:{body:{"&::-webkit-scrollbar, & *::-webkit-scrollbar":{background:"transparent",width:"0.5rem",height:"0.5rem"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{background:i.palette.primary.light,borderRadius:"0.25rem"},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:i.palette.primary.light},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:i.palette.primary.light}}}},MuiLink:{styleOverrides:{root:{color:i.palette.secondary.main}}},MuiDialogActions:{styleOverrides:{root:{padding:baseTheme.spacing(3)}}},MuiInputLabel:{styleOverrides:{root:{color:i.palette.primary.light,"&.Mui-focused":{color:i.palette.secondary.main}},outlined:{borderRadius:4,padding:"0.125rem 0.375rem","&.Mui-focused":{backgroundColor:"#2d3855"}}}},MuiFilledInput:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderTop:"1px solid transparent",":before":{borderBottom:`1px dotted ${i.palette.primary.light}`},"&.Mui-focused":{background:i.palette.common.black,border:`1px solid ${i.palette.secondary.main}`,borderBottom:"none",borderTop:`1px solid ${i.palette.secondary.main}`},":after":{borderBottom:`1px solid ${i.palette.secondary.main}`}}}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:`1px dotted ${i.palette.primary.light}`,"&.Mui-focused":{border:`1px solid ${i.palette.secondary.main}`,backgroundColor:i.palette.common.black}},notchedOutline:{border:"transparent"},input:{"&:-webkit-autofill":{"-webkit-box-shadow":`0 0 0 100px ${i.palette.primary.dark} inset`,"-webkit-text-fill-color":i.palette.primary.light}}}},MuiFormHelperText:{styleOverrides:{root:{color:i.palette.error.main}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.87)",color:"white",padding:baseTheme.spacing(1.2)}}},MuiDialogTitle:{styleOverrides:{root:__spreadValues2({color:i.palette.common.white,fontStyle:"normal",fontWeight:500},baseTheme.typography.h3)}},MuiDialogContentText:{styleOverrides:{root:{color:i.palette.primary.light}}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{willChange:"background-color , color , border-color , box-shadow",transition:"background-color 200ms ease-in-out 0ms , color 200ms ease-in-out 0ms , border-color 200ms ease-in-out 0ms , box-shadow 200ms ease-in-out 0ms",borderRadius:40,boxShadow:`0 0 0 0rem ${i.palette.primary.main}`,"&.Mui-disabled":{color:i.palette.primary.main}},sizeSmall:{height:"1.25rem",fontWeight:500,fontSize:"0.688rem",lineHeight:"0.825rem",letterSpacing:"0.047rem"},sizeMedium:{height:"1.813rem",fontWeight:500},sizeLarge:{height:"2.563rem",fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053rem"},containedPrimary:{background:i.palette.primary.light,color:i.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${i.palette.primary.light}`,background:i.palette.primary.light}}},containedSecondary:{color:i.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${i.palette.secondary.main}`,background:i.palette.secondary.main}}},outlinedPrimary:{color:i.palette.primary.light}}},MuiDialog:{styleOverrides:{paper:{background:i.palette.background.paper}}},MuiNativeSelect:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderTop:"1px solid transparent"},icon:{color:i.palette.primary.light}}},MuiSelect:{styleOverrides:{icon:{color:i.palette.primary.light}}},MuiSnackbarContent:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,color:i.palette.primary.light}}},MuiSwitch:{styleOverrides:{switchBase:{"&.Mui-checked+.MuiSwitch-track":{backgroundColor:i.palette.common.black},"&.Mui-checked .MuiSwitch-thumb":{backgroundColor:i.palette.secondary.main}},thumb:{backgroundColor:i.palette.primary.light},track:{backgroundColor:i.palette.common.black}}}}};return createTheme$2(i,o)}const darkTheme=createComponents(createTheme$2(baseTheme,darkPalette)),lightTheme=createComponents(createTheme$2(baseTheme,lightPalette)),defaultTheme=darkTheme;function toInteger(i){if(i===null||i===!0||i===!1)return NaN;var o=Number(i);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}function requiredArgs(i,o){if(o.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+o.length+" present")}function _typeof$1(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(s){return typeof s}:_typeof$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(i)}function toDate(i){requiredArgs(1,arguments);var o=Object.prototype.toString.call(i);return i instanceof Date||_typeof$1(i)==="object"&&o==="[object Date]"?new Date(i.getTime()):typeof i=="number"||o==="[object Number]"?new Date(i):((typeof i=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function addMilliseconds(i,o){requiredArgs(2,arguments);var s=toDate(i).getTime(),_=toInteger(o);return new Date(s+_)}var MILLISECONDS_IN_MINUTE=6e4;function addMinutes(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMilliseconds(i,s*MILLISECONDS_IN_MINUTE)}function addSeconds(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMilliseconds(i,s*1e3)}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function i(o){return o<0?Math.ceil(o):Math.floor(o)}},defaultRoundingMethod="trunc";function getRoundingMethod(i){return i?roundingMap[i]:roundingMap[defaultRoundingMethod]}function startOfMinute(i){requiredArgs(1,arguments);var o=toDate(i);return o.setSeconds(0,0),o}function roundToNearestMinutes(i,o){var s;if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var _=toInteger((s=o==null?void 0:o.nearestTo)!==null&&s!==void 0?s:1);if(_<1||_>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var $=toDate(i),_e=$.getSeconds(),et=$.getMinutes()+_e/60,j=getRoundingMethod(o==null?void 0:o.roundingMethod),nt=j(et/_)*_,ot=et%_,ct=Math.round(ot/_)*_;return new Date($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),nt+ct)}var __defProp$1=Object.defineProperty,__defNormalProp$1=(i,o,s)=>o in i?__defProp$1(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField$1=(i,o,s)=>(__defNormalProp$1(i,typeof o!="symbol"?o+"":o,s),s),dist={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){(function(i,o){module.exports=o()})(window,function(){return function(i){function o(ot){for(var ct,gt,pt=ot[0],ft=ot[1],ut=0,yt=[];ut<pt.length;ut++)gt=pt[ut],Object.prototype.hasOwnProperty.call(_,gt)&&_[gt]&&yt.push(_[gt][0]),_[gt]=0;for(ct in ft)Object.prototype.hasOwnProperty.call(ft,ct)&&(i[ct]=ft[ct]);for(nt&&nt(ot);yt.length;)yt.shift()()}var s={},_={0:0};function $(ot){if(s[ot])return s[ot].exports;var ct=s[ot]={i:ot,l:!1,exports:{}};return i[ot].call(ct.exports,ct,ct.exports,$),ct.l=!0,ct.exports}$.e=function(){return Promise.resolve()},$.m=i,$.c=s,$.d=function(ot,ct,gt){$.o(ot,ct)||Object.defineProperty(ot,ct,{enumerable:!0,get:gt})},$.r=function(ot){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ot,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ot,"__esModule",{value:!0})},$.t=function(ot,ct){if(1&ct&&(ot=$(ot)),8&ct||4&ct&&typeof ot=="object"&&ot&&ot.__esModule)return ot;var gt=Object.create(null);if($.r(gt),Object.defineProperty(gt,"default",{enumerable:!0,value:ot}),2&ct&&typeof ot!="string")for(var pt in ot)$.d(gt,pt,function(ft){return ot[ft]}.bind(null,pt));return gt},$.n=function(ot){var ct=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return $.d(ct,"a",ct),ct},$.o=function(ot,ct){return Object.prototype.hasOwnProperty.call(ot,ct)},$.p="",$.oe=function(ot){throw console.error(ot),ot};var _e=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],et=_e.push.bind(_e);_e.push=o,_e=_e.slice();for(var j=0;j<_e.length;j++)o(_e[j]);var nt=et;return $($.s=228)}([function(i,o,s){s.d(o,"a",function(){return sn});var _=s(14),$=s.n(_),_e=s(18),et=s(56),j=s(19);const nt=Math.pow(2,20),ot=nt;function ct(Dt,Xt){if(Xt.length<Dt)throw new TypeError(Dt+" argument"+(Dt>1?"s":"")+" required, but only "+Xt.length+" present")}function gt(Dt){if(Dt===null||Dt===!0||Dt===!1)return NaN;var Xt=Number(Dt);return isNaN(Xt)?Xt:Xt<0?Math.ceil(Xt):Math.floor(Xt)}var pt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ft=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ut=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wt(Dt){var Xt,_n={},mn=Dt.split(pt.dateTimeDelimiter);if(mn.length>2)return _n;if(/:/.test(mn[0])?Xt=mn[0]:(_n.date=mn[0],Xt=mn[1],pt.timeZoneDelimiter.test(_n.date)&&(_n.date=Dt.split(pt.timeZoneDelimiter)[0],Xt=Dt.substr(_n.date.length,Dt.length))),Xt){var xn=pt.timezone.exec(Xt);xn?(_n.time=Xt.replace(xn[1],""),_n.timezone=xn[1]):_n.time=Xt}return _n}function Qt(Dt,Xt){var _n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+Xt)+"})|(\\d{2}|[+-]\\d{"+(2+Xt)+"})$)"),mn=Dt.match(_n);if(!mn)return{year:NaN,restDateString:""};var xn=mn[1]?parseInt(mn[1]):null,On=mn[2]?parseInt(mn[2]):null;return{year:On===null?xn:100*On,restDateString:Dt.slice((mn[1]||mn[2]).length)}}function It(Dt,Xt){if(Xt===null)return new Date(NaN);var _n=Dt.match(ft);if(!_n)return new Date(NaN);var mn=!!_n[4],xn=xt(_n[1]),On=xt(_n[2])-1,nr=xt(_n[3]),Nr=xt(_n[4]),co=xt(_n[5])-1;if(mn)return function(mo,qr,io){return qr>=1&&qr<=53&&io>=0&&io<=6}(0,Nr,co)?function(mo,qr,io){var lo=new Date(0);lo.setUTCFullYear(mo,0,4);var Vo=lo.getUTCDay()||7,Io=7*(qr-1)+io+1-Vo;return lo.setUTCDate(lo.getUTCDate()+Io),lo}(Xt,Nr,co):new Date(NaN);var Zr=new Date(0);return function(mo,qr,io){return qr>=0&&qr<=11&&io>=1&&io<=(en[qr]||(rn(mo)?29:28))}(Xt,On,nr)&&function(mo,qr){return qr>=1&&qr<=(rn(mo)?366:365)}(Xt,xn)?(Zr.setUTCFullYear(Xt,On,Math.max(xn,nr)),Zr):new Date(NaN)}function xt(Dt){return Dt?parseInt(Dt):1}function Tt(Dt){var Xt=Dt.match(ut);if(!Xt)return NaN;var _n=mt(Xt[1]),mn=mt(Xt[2]),xn=mt(Xt[3]);return function(On,nr,Nr){return On===24?nr===0&&Nr===0:Nr>=0&&Nr<60&&nr>=0&&nr<60&&On>=0&&On<25}(_n,mn,xn)?36e5*_n+6e4*mn+1e3*xn:NaN}function mt(Dt){return Dt&&parseFloat(Dt.replace(",","."))||0}function Nt(Dt){if(Dt==="Z")return 0;var Xt=Dt.match(yt);if(!Xt)return 0;var _n=Xt[1]==="+"?-1:1,mn=parseInt(Xt[2]),xn=Xt[3]&&parseInt(Xt[3])||0;return function(On,nr){return nr>=0&&nr<=59}(0,xn)?_n*(36e5*mn+6e4*xn):NaN}var en=[31,null,31,30,31,30,31,31,30,31,30,31];function rn(Dt){return Dt%400==0||Dt%4==0&&Dt%100!=0}function Ft(Dt){return ct(1,arguments),Dt instanceof Date||typeof Dt=="object"&&Object.prototype.toString.call(Dt)==="[object Date]"}function St(Dt){ct(1,arguments);var Xt=Object.prototype.toString.call(Dt);return Dt instanceof Date||typeof Dt=="object"&&Xt==="[object Date]"?new Date(Dt.getTime()):typeof Dt=="number"||Xt==="[object Number]"?new Date(Dt):(typeof Dt!="string"&&Xt!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Pt(Dt){const Xt=function(_n,mn){var xn;ct(1,arguments);var On=gt((xn=mn==null?void 0:mn.additionalDigits)!==null&&xn!==void 0?xn:2);if(On!==2&&On!==1&&On!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(typeof _n!="string"&&Object.prototype.toString.call(_n)!=="[object String]")return new Date(NaN);var nr,Nr=wt(_n);if(Nr.date){var co=Qt(Nr.date,On);nr=It(co.restDateString,co.year)}if(!nr||isNaN(nr.getTime()))return new Date(NaN);var Zr,mo=nr.getTime(),qr=0;if(Nr.time&&(qr=Tt(Nr.time),isNaN(qr)))return new Date(NaN);if(!Nr.timezone){var io=new Date(mo+qr),lo=new Date(0);return lo.setFullYear(io.getUTCFullYear(),io.getUTCMonth(),io.getUTCDate()),lo.setHours(io.getUTCHours(),io.getUTCMinutes(),io.getUTCSeconds(),io.getUTCMilliseconds()),lo}return Zr=Nt(Nr.timezone),isNaN(Zr)?new Date(NaN):new Date(mo+qr+Zr)}(Dt);if(!function(_n){if(ct(1,arguments),!Ft(_n)&&typeof _n!="number")return!1;var mn=St(_n);return!isNaN(Number(mn))}(Xt))throw new Error(`Invalid ISO 8601 date string (${Dt})`);return Xt}var Bt=s(4),jt=s(34);function qt(Dt){return $()(Dt,{cycles:!0})}var Zt=function(Dt,Xt){var _n={};for(var mn in Dt)Object.prototype.hasOwnProperty.call(Dt,mn)&&Xt.indexOf(mn)<0&&(_n[mn]=Dt[mn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var xn=0;for(mn=Object.getOwnPropertySymbols(Dt);xn<mn.length;xn++)Xt.indexOf(mn[xn])<0&&Object.prototype.propertyIsEnumerable.call(Dt,mn[xn])&&(_n[mn[xn]]=Dt[mn[xn]])}return _n};function Wt(Dt,Xt={}){const _n=Nr=>Xt.redacted!==!1?Object(jt.a)(Nr):Nr;if(!Dt.stack)return{message:qt(_n(Dt))};const{name:mn,message:xn,stack:On}=Dt,nr=Zt(Dt,["name","message","stack"]);return{name:mn,message:xn!==void 0?xn:qt(_n(Dt)),stack:On,meta:nr&&Object.keys(nr).length===0?void 0:_n(nr)}}function Gt(Dt,Xt={}){const{message:_n,stack:mn,meta:xn}=Wt(Dt,Xt);return`${mn||_n||""}${xn&&Object.keys(xn).length>0?` -- ${qt(xn)}`:""}`}var Ht=s(39),kt=s(103),Rt=s.n(kt),$t=function(Dt,Xt,_n,mn){return new(_n||(_n=Promise))(function(xn,On){function nr(Zr){try{co(mn.next(Zr))}catch(mo){On(mo)}}function Nr(Zr){try{co(mn.throw(Zr))}catch(mo){On(mo)}}function co(Zr){var mo;Zr.done?xn(Zr.value):(mo=Zr.value,mo instanceof _n?mo:new _n(function(qr){qr(mo)})).then(nr,Nr)}co((mn=mn.apply(Dt,Xt||[])).next())})},nn=function(Dt,Xt){var _n={};for(var mn in Dt)Object.prototype.hasOwnProperty.call(Dt,mn)&&Xt.indexOf(mn)<0&&(_n[mn]=Dt[mn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var xn=0;for(mn=Object.getOwnPropertySymbols(Dt);xn<mn.length;xn++)Xt.indexOf(mn[xn])<0&&Object.prototype.propertyIsEnumerable.call(Dt,mn[xn])&&(_n[mn[xn]]=Dt[mn[xn]])}return _n};class Un extends Rt.a{constructor(Xt,_n){super(),this.endpoint=Xt,this.metadata=_n,this.logClient=this.getLogClient()}getLogClient(){return $t(this,void 0,void 0,function*(){const{LogClient:Xt}=yield Promise.resolve().then(s.bind(null,231));return new Xt(this.endpoint)})}log(Xt,_n){return $t(this,void 0,void 0,function*(){const{level:mn,message:xn,error:On}=Xt,nr=nn(Xt,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:mn,message:`${xn}`.substring(0,1e3),error:On!==void 0?Wt(On):void 0,meta:Object.assign(Object.assign({},nr),this.metadata)}])}catch(Nr){console.error(`Failed to log to log-api: ${Gt(Nr)}`)}_n()})}}var Fn=function(Dt,Xt){var _n={};for(var mn in Dt)Object.prototype.hasOwnProperty.call(Dt,mn)&&Xt.indexOf(mn)<0&&(_n[mn]=Dt[mn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var xn=0;for(mn=Object.getOwnPropertySymbols(Dt);xn<mn.length;xn++)Xt.indexOf(mn[xn])<0&&Object.prototype.propertyIsEnumerable.call(Dt,mn[xn])&&(_n[mn[xn]]=Dt[mn[xn]])}return _n};const En={app:Bt.a,namespace:Bt.i,buildTag:Bt.b,instanceId:Ht.a},fn=Bt.e?j.format.printf(Dt=>{var{timestamp:Xt,level:_n,message:mn,error:xn}=Dt,On=Fn(Dt,["timestamp","level","message","error"]);const nr=Object.assign(Object.assign({timestamp:Xt?Pt(Xt).getTime():new Date().getTime(),level:_n.toUpperCase(),message:mn},xn?{error:Wt(xn)}:{}),{meta:Object.assign(Object.assign({},En),On)});return $()(nr,{cycles:!0})}):j.format.printf(Dt=>{var{timestamp:Xt,level:_n,message:mn,error:xn}=Dt,On=Fn(Dt,["timestamp","level","message","error"]);let nr=`${Xt||new Date().toISOString()} ${_n.toUpperCase()}: ${mn} `;return Object.keys(On).length>0&&(nr+=$()(On,{cycles:!0})),xn&&(nr+=`
${Gt(xn)}`),nr}),sn=Object(j.createLogger)({level:Bt.f});if(Bt.g&&sn.add(new j.transports.Console({format:fn,level:"debug"})),Bt.d&&sn.add(new Un(Bt.d,En)),Bt.h){const Dt=et.resolve(_e.tmpdir(),`silly-${Bt.a}.log`);sn.debug("Logging silly logs to file",{filename:Dt}),sn.add(new j.transports.File({filename:Dt,maxsize:1*ot,maxFiles:10,format:j.format.combine((Ct="silly",Object(j.format)(Xt=>Xt.level===Ct&&Xt)()),fn),level:"silly"}))}var Ct},function(i,o,s){s.d(o,"a",function(){return _});const _={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(i,o){var s,_,$=i.exports={};function _e(){throw new Error("setTimeout has not been defined")}function et(){throw new Error("clearTimeout has not been defined")}function j(wt){if(s===setTimeout)return setTimeout(wt,0);if((s===_e||!s)&&setTimeout)return s=setTimeout,setTimeout(wt,0);try{return s(wt,0)}catch{try{return s.call(null,wt,0)}catch{return s.call(this,wt,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:_e}catch{s=_e}try{_=typeof clearTimeout=="function"?clearTimeout:et}catch{_=et}})();var nt,ot=[],ct=!1,gt=-1;function pt(){ct&&nt&&(ct=!1,nt.length?ot=nt.concat(ot):gt=-1,ot.length&&ft())}function ft(){if(!ct){var wt=j(pt);ct=!0;for(var Qt=ot.length;Qt;){for(nt=ot,ot=[];++gt<Qt;)nt&&nt[gt].run();gt=-1,Qt=ot.length}nt=null,ct=!1,function(It){if(_===clearTimeout)return clearTimeout(It);if((_===et||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(It);try{_(It)}catch{try{return _.call(null,It)}catch{return _.call(this,It)}}}(wt)}}function ut(wt,Qt){this.fun=wt,this.array=Qt}function yt(){}$.nextTick=function(wt){var Qt=new Array(arguments.length-1);if(arguments.length>1)for(var It=1;It<arguments.length;It++)Qt[It-1]=arguments[It];ot.push(new ut(wt,Qt)),ot.length!==1||ct||j(ft)},ut.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=yt,$.addListener=yt,$.once=yt,$.off=yt,$.removeListener=yt,$.removeAllListeners=yt,$.emit=yt,$.prependListener=yt,$.prependOnceListener=yt,$.listeners=function(wt){return[]},$.binding=function(wt){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(wt){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},function(i,o,s){Object.defineProperty(o,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(o,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(o,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(o,"configs",{value:s(118)})},function(i,o,s){(function(_){s.d(o,"a",function(){return et}),s.d(o,"i",function(){return j}),s.d(o,"j",function(){return nt}),s.d(o,"b",function(){return ot}),s.d(o,"f",function(){return ct}),s.d(o,"e",function(){return gt}),s.d(o,"g",function(){return pt}),s.d(o,"d",function(){return ft}),s.d(o,"c",function(){return ut}),s.d(o,"h",function(){return yt});var $=s(102);const _e=$.from({ENVIRONMENT:_.env.ENV,API_ENDPOINT:_.env.API_ENDPOINT,APP:"realtime-sdk",APP_PATH:_.env.APP_PATH,BUILD_TAG:_.env.BUILD_TAG,ENABLE_SELF_SERVE:_.env.ENABLE_SELF_SERVE,ENABLE_SENTRY:_.env.ENABLE_SENTRY,ENABLE_SENTRY_PROFILING:_.env.ENABLE_SENTRY_PROFILING,GIT_COMMIT:_.env.GIT_COMMIT,JEST_WORKER_ID:_.env.JEST_WORKER_ID,LOG_API_ENDPOINT:_.env.LOG_API_ENDPOINT,LOG_JSON:"false",LOG_LEVEL:_.env.LOG_LEVEL,LOG_TO_CONSOLE:_.env.LOG_TO_CONSOLE,LOG_TO_FILE:_.env.LOG_TO_FILE,NAMESPACE:"production",SENTRY_DSN:_.env.SENTRY_DSN,SHEET_EXPORT_MAX_ROW_COUNT:_.env.SHEET_EXPORT_MAX_ROW_COUNT,STABLE_AGENT_VERSION:_.env.STABLE_AGENT_VERSION,VERSION:_.env.VERSION}),et=(_e.get("ENVIRONMENT").default("").asString(),_e.get("APP").default("").asString()),j=(_e.get("APP_PATH").default("").asString(),_e.get("API_ENDPOINT").default("").asString(),_e.get("NAMESPACE").default("").asString()),nt=_e.get("VERSION").default("").asString(),ot=_e.get("BUILD_TAG").default("").asString(),ct=(_e.get("GIT_COMMIT").default("").asString(),_e.get("ENABLE_SENTRY").default("false").asBool(),_e.get("ENABLE_SENTRY_PROFILING").default("false").asBool(),_e.get("SENTRY_DSN").default("").asString(),_e.get("LOG_LEVEL").default("debug").asString()),gt=_e.get("LOG_JSON").default("true").asBool(),pt=_e.get("LOG_TO_CONSOLE").default("true").asBool(),ft=(_e.get("STABLE_AGENT_VERSION").default("").asString(),_e.get("LOG_API_ENDPOINT").asString()),ut=_e.get("JEST_WORKER_ID").asString(),yt=(_e.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),_e.get("LOG_TO_FILE").default("false").asBoolStrict());_e.get("ENABLE_SELF_SERVE").default("true").asBoolStrict()}).call(this,s(2))},function(i,o,s){(function(_){var $=s(126),_e=s(127),et=s(42);function j(){return ot.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function nt(Ct,Dt){if(j()<Dt)throw new RangeError("Invalid typed array length");return ot.TYPED_ARRAY_SUPPORT?(Ct=new Uint8Array(Dt)).__proto__=ot.prototype:(Ct===null&&(Ct=new ot(Dt)),Ct.length=Dt),Ct}function ot(Ct,Dt,Xt){if(!(ot.TYPED_ARRAY_SUPPORT||this instanceof ot))return new ot(Ct,Dt,Xt);if(typeof Ct=="number"){if(typeof Dt=="string")throw new Error("If encoding is specified then the first argument must be a string");return pt(this,Ct)}return ct(this,Ct,Dt,Xt)}function ct(Ct,Dt,Xt,_n){if(typeof Dt=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&Dt instanceof ArrayBuffer?function(mn,xn,On,nr){if(xn.byteLength,On<0||xn.byteLength<On)throw new RangeError("'offset' is out of bounds");if(xn.byteLength<On+(nr||0))throw new RangeError("'length' is out of bounds");return xn=On===void 0&&nr===void 0?new Uint8Array(xn):nr===void 0?new Uint8Array(xn,On):new Uint8Array(xn,On,nr),ot.TYPED_ARRAY_SUPPORT?(mn=xn).__proto__=ot.prototype:mn=ft(mn,xn),mn}(Ct,Dt,Xt,_n):typeof Dt=="string"?function(mn,xn,On){if(typeof On=="string"&&On!==""||(On="utf8"),!ot.isEncoding(On))throw new TypeError('"encoding" must be a valid string encoding');var nr=0|yt(xn,On),Nr=(mn=nt(mn,nr)).write(xn,On);return Nr!==nr&&(mn=mn.slice(0,Nr)),mn}(Ct,Dt,Xt):function(mn,xn){if(ot.isBuffer(xn)){var On=0|ut(xn.length);return(mn=nt(mn,On)).length===0||xn.copy(mn,0,0,On),mn}if(xn){if(typeof ArrayBuffer<"u"&&xn.buffer instanceof ArrayBuffer||"length"in xn)return typeof xn.length!="number"||(nr=xn.length)!=nr?nt(mn,0):ft(mn,xn);if(xn.type==="Buffer"&&et(xn.data))return ft(mn,xn.data)}var nr;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Ct,Dt)}function gt(Ct){if(typeof Ct!="number")throw new TypeError('"size" argument must be a number');if(Ct<0)throw new RangeError('"size" argument must not be negative')}function pt(Ct,Dt){if(gt(Dt),Ct=nt(Ct,Dt<0?0:0|ut(Dt)),!ot.TYPED_ARRAY_SUPPORT)for(var Xt=0;Xt<Dt;++Xt)Ct[Xt]=0;return Ct}function ft(Ct,Dt){var Xt=Dt.length<0?0:0|ut(Dt.length);Ct=nt(Ct,Xt);for(var _n=0;_n<Xt;_n+=1)Ct[_n]=255&Dt[_n];return Ct}function ut(Ct){if(Ct>=j())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j().toString(16)+" bytes");return 0|Ct}function yt(Ct,Dt){if(ot.isBuffer(Ct))return Ct.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Ct)||Ct instanceof ArrayBuffer))return Ct.byteLength;typeof Ct!="string"&&(Ct=""+Ct);var Xt=Ct.length;if(Xt===0)return 0;for(var _n=!1;;)switch(Dt){case"ascii":case"latin1":case"binary":return Xt;case"utf8":case"utf-8":case void 0:return En(Ct).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Xt;case"hex":return Xt>>>1;case"base64":return fn(Ct).length;default:if(_n)return En(Ct).length;Dt=(""+Dt).toLowerCase(),_n=!0}}function wt(Ct,Dt,Xt){var _n=!1;if((Dt===void 0||Dt<0)&&(Dt=0),Dt>this.length||((Xt===void 0||Xt>this.length)&&(Xt=this.length),Xt<=0)||(Xt>>>=0)<=(Dt>>>=0))return"";for(Ct||(Ct="utf8");;)switch(Ct){case"hex":return qt(this,Dt,Xt);case"utf8":case"utf-8":return Pt(this,Dt,Xt);case"ascii":return Bt(this,Dt,Xt);case"latin1":case"binary":return jt(this,Dt,Xt);case"base64":return St(this,Dt,Xt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zt(this,Dt,Xt);default:if(_n)throw new TypeError("Unknown encoding: "+Ct);Ct=(Ct+"").toLowerCase(),_n=!0}}function Qt(Ct,Dt,Xt){var _n=Ct[Dt];Ct[Dt]=Ct[Xt],Ct[Xt]=_n}function It(Ct,Dt,Xt,_n,mn){if(Ct.length===0)return-1;if(typeof Xt=="string"?(_n=Xt,Xt=0):Xt>2147483647?Xt=2147483647:Xt<-2147483648&&(Xt=-2147483648),Xt=+Xt,isNaN(Xt)&&(Xt=mn?0:Ct.length-1),Xt<0&&(Xt=Ct.length+Xt),Xt>=Ct.length){if(mn)return-1;Xt=Ct.length-1}else if(Xt<0){if(!mn)return-1;Xt=0}if(typeof Dt=="string"&&(Dt=ot.from(Dt,_n)),ot.isBuffer(Dt))return Dt.length===0?-1:xt(Ct,Dt,Xt,_n,mn);if(typeof Dt=="number")return Dt&=255,ot.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?mn?Uint8Array.prototype.indexOf.call(Ct,Dt,Xt):Uint8Array.prototype.lastIndexOf.call(Ct,Dt,Xt):xt(Ct,[Dt],Xt,_n,mn);throw new TypeError("val must be string, number or Buffer")}function xt(Ct,Dt,Xt,_n,mn){var xn,On=1,nr=Ct.length,Nr=Dt.length;if(_n!==void 0&&((_n=String(_n).toLowerCase())==="ucs2"||_n==="ucs-2"||_n==="utf16le"||_n==="utf-16le")){if(Ct.length<2||Dt.length<2)return-1;On=2,nr/=2,Nr/=2,Xt/=2}function co(io,lo){return On===1?io[lo]:io.readUInt16BE(lo*On)}if(mn){var Zr=-1;for(xn=Xt;xn<nr;xn++)if(co(Ct,xn)===co(Dt,Zr===-1?0:xn-Zr)){if(Zr===-1&&(Zr=xn),xn-Zr+1===Nr)return Zr*On}else Zr!==-1&&(xn-=xn-Zr),Zr=-1}else for(Xt+Nr>nr&&(Xt=nr-Nr),xn=Xt;xn>=0;xn--){for(var mo=!0,qr=0;qr<Nr;qr++)if(co(Ct,xn+qr)!==co(Dt,qr)){mo=!1;break}if(mo)return xn}return-1}function Tt(Ct,Dt,Xt,_n){Xt=Number(Xt)||0;var mn=Ct.length-Xt;_n?(_n=Number(_n))>mn&&(_n=mn):_n=mn;var xn=Dt.length;if(xn%2!=0)throw new TypeError("Invalid hex string");_n>xn/2&&(_n=xn/2);for(var On=0;On<_n;++On){var nr=parseInt(Dt.substr(2*On,2),16);if(isNaN(nr))return On;Ct[Xt+On]=nr}return On}function mt(Ct,Dt,Xt,_n){return sn(En(Dt,Ct.length-Xt),Ct,Xt,_n)}function Nt(Ct,Dt,Xt,_n){return sn(function(mn){for(var xn=[],On=0;On<mn.length;++On)xn.push(255&mn.charCodeAt(On));return xn}(Dt),Ct,Xt,_n)}function en(Ct,Dt,Xt,_n){return Nt(Ct,Dt,Xt,_n)}function rn(Ct,Dt,Xt,_n){return sn(fn(Dt),Ct,Xt,_n)}function Ft(Ct,Dt,Xt,_n){return sn(function(mn,xn){for(var On,nr,Nr,co=[],Zr=0;Zr<mn.length&&!((xn-=2)<0);++Zr)On=mn.charCodeAt(Zr),nr=On>>8,Nr=On%256,co.push(Nr),co.push(nr);return co}(Dt,Ct.length-Xt),Ct,Xt,_n)}function St(Ct,Dt,Xt){return Dt===0&&Xt===Ct.length?$.fromByteArray(Ct):$.fromByteArray(Ct.slice(Dt,Xt))}function Pt(Ct,Dt,Xt){Xt=Math.min(Ct.length,Xt);for(var _n=[],mn=Dt;mn<Xt;){var xn,On,nr,Nr,co=Ct[mn],Zr=null,mo=co>239?4:co>223?3:co>191?2:1;if(mn+mo<=Xt)switch(mo){case 1:co<128&&(Zr=co);break;case 2:(192&(xn=Ct[mn+1]))==128&&(Nr=(31&co)<<6|63&xn)>127&&(Zr=Nr);break;case 3:xn=Ct[mn+1],On=Ct[mn+2],(192&xn)==128&&(192&On)==128&&(Nr=(15&co)<<12|(63&xn)<<6|63&On)>2047&&(Nr<55296||Nr>57343)&&(Zr=Nr);break;case 4:xn=Ct[mn+1],On=Ct[mn+2],nr=Ct[mn+3],(192&xn)==128&&(192&On)==128&&(192&nr)==128&&(Nr=(15&co)<<18|(63&xn)<<12|(63&On)<<6|63&nr)>65535&&Nr<1114112&&(Zr=Nr)}Zr===null?(Zr=65533,mo=1):Zr>65535&&(Zr-=65536,_n.push(Zr>>>10&1023|55296),Zr=56320|1023&Zr),_n.push(Zr),mn+=mo}return function(qr){var io=qr.length;if(io<=4096)return String.fromCharCode.apply(String,qr);for(var lo="",Vo=0;Vo<io;)lo+=String.fromCharCode.apply(String,qr.slice(Vo,Vo+=4096));return lo}(_n)}o.Buffer=ot,o.SlowBuffer=function(Ct){return+Ct!=Ct&&(Ct=0),ot.alloc(+Ct)},o.INSPECT_MAX_BYTES=50,ot.TYPED_ARRAY_SUPPORT=_.TYPED_ARRAY_SUPPORT!==void 0?_.TYPED_ARRAY_SUPPORT:function(){try{var Ct=new Uint8Array(1);return Ct.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Ct.foo()===42&&typeof Ct.subarray=="function"&&Ct.subarray(1,1).byteLength===0}catch{return!1}}(),o.kMaxLength=j(),ot.poolSize=8192,ot._augment=function(Ct){return Ct.__proto__=ot.prototype,Ct},ot.from=function(Ct,Dt,Xt){return ct(null,Ct,Dt,Xt)},ot.TYPED_ARRAY_SUPPORT&&(ot.prototype.__proto__=Uint8Array.prototype,ot.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&ot[Symbol.species]===ot&&Object.defineProperty(ot,Symbol.species,{value:null,configurable:!0})),ot.alloc=function(Ct,Dt,Xt){return function(_n,mn,xn,On){return gt(mn),mn<=0?nt(_n,mn):xn!==void 0?typeof On=="string"?nt(_n,mn).fill(xn,On):nt(_n,mn).fill(xn):nt(_n,mn)}(null,Ct,Dt,Xt)},ot.allocUnsafe=function(Ct){return pt(null,Ct)},ot.allocUnsafeSlow=function(Ct){return pt(null,Ct)},ot.isBuffer=function(Ct){return!(Ct==null||!Ct._isBuffer)},ot.compare=function(Ct,Dt){if(!ot.isBuffer(Ct)||!ot.isBuffer(Dt))throw new TypeError("Arguments must be Buffers");if(Ct===Dt)return 0;for(var Xt=Ct.length,_n=Dt.length,mn=0,xn=Math.min(Xt,_n);mn<xn;++mn)if(Ct[mn]!==Dt[mn]){Xt=Ct[mn],_n=Dt[mn];break}return Xt<_n?-1:_n<Xt?1:0},ot.isEncoding=function(Ct){switch(String(Ct).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(Ct,Dt){if(!et(Ct))throw new TypeError('"list" argument must be an Array of Buffers');if(Ct.length===0)return ot.alloc(0);var Xt;if(Dt===void 0)for(Dt=0,Xt=0;Xt<Ct.length;++Xt)Dt+=Ct[Xt].length;var _n=ot.allocUnsafe(Dt),mn=0;for(Xt=0;Xt<Ct.length;++Xt){var xn=Ct[Xt];if(!ot.isBuffer(xn))throw new TypeError('"list" argument must be an Array of Buffers');xn.copy(_n,mn),mn+=xn.length}return _n},ot.byteLength=yt,ot.prototype._isBuffer=!0,ot.prototype.swap16=function(){var Ct=this.length;if(Ct%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Dt=0;Dt<Ct;Dt+=2)Qt(this,Dt,Dt+1);return this},ot.prototype.swap32=function(){var Ct=this.length;if(Ct%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Dt=0;Dt<Ct;Dt+=4)Qt(this,Dt,Dt+3),Qt(this,Dt+1,Dt+2);return this},ot.prototype.swap64=function(){var Ct=this.length;if(Ct%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Dt=0;Dt<Ct;Dt+=8)Qt(this,Dt,Dt+7),Qt(this,Dt+1,Dt+6),Qt(this,Dt+2,Dt+5),Qt(this,Dt+3,Dt+4);return this},ot.prototype.toString=function(){var Ct=0|this.length;return Ct===0?"":arguments.length===0?Pt(this,0,Ct):wt.apply(this,arguments)},ot.prototype.equals=function(Ct){if(!ot.isBuffer(Ct))throw new TypeError("Argument must be a Buffer");return this===Ct||ot.compare(this,Ct)===0},ot.prototype.inspect=function(){var Ct="",Dt=o.INSPECT_MAX_BYTES;return this.length>0&&(Ct=this.toString("hex",0,Dt).match(/.{2}/g).join(" "),this.length>Dt&&(Ct+=" ... ")),"<Buffer "+Ct+">"},ot.prototype.compare=function(Ct,Dt,Xt,_n,mn){if(!ot.isBuffer(Ct))throw new TypeError("Argument must be a Buffer");if(Dt===void 0&&(Dt=0),Xt===void 0&&(Xt=Ct?Ct.length:0),_n===void 0&&(_n=0),mn===void 0&&(mn=this.length),Dt<0||Xt>Ct.length||_n<0||mn>this.length)throw new RangeError("out of range index");if(_n>=mn&&Dt>=Xt)return 0;if(_n>=mn)return-1;if(Dt>=Xt)return 1;if(this===Ct)return 0;for(var xn=(mn>>>=0)-(_n>>>=0),On=(Xt>>>=0)-(Dt>>>=0),nr=Math.min(xn,On),Nr=this.slice(_n,mn),co=Ct.slice(Dt,Xt),Zr=0;Zr<nr;++Zr)if(Nr[Zr]!==co[Zr]){xn=Nr[Zr],On=co[Zr];break}return xn<On?-1:On<xn?1:0},ot.prototype.includes=function(Ct,Dt,Xt){return this.indexOf(Ct,Dt,Xt)!==-1},ot.prototype.indexOf=function(Ct,Dt,Xt){return It(this,Ct,Dt,Xt,!0)},ot.prototype.lastIndexOf=function(Ct,Dt,Xt){return It(this,Ct,Dt,Xt,!1)},ot.prototype.write=function(Ct,Dt,Xt,_n){if(Dt===void 0)_n="utf8",Xt=this.length,Dt=0;else if(Xt===void 0&&typeof Dt=="string")_n=Dt,Xt=this.length,Dt=0;else{if(!isFinite(Dt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Dt|=0,isFinite(Xt)?(Xt|=0,_n===void 0&&(_n="utf8")):(_n=Xt,Xt=void 0)}var mn=this.length-Dt;if((Xt===void 0||Xt>mn)&&(Xt=mn),Ct.length>0&&(Xt<0||Dt<0)||Dt>this.length)throw new RangeError("Attempt to write outside buffer bounds");_n||(_n="utf8");for(var xn=!1;;)switch(_n){case"hex":return Tt(this,Ct,Dt,Xt);case"utf8":case"utf-8":return mt(this,Ct,Dt,Xt);case"ascii":return Nt(this,Ct,Dt,Xt);case"latin1":case"binary":return en(this,Ct,Dt,Xt);case"base64":return rn(this,Ct,Dt,Xt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ft(this,Ct,Dt,Xt);default:if(xn)throw new TypeError("Unknown encoding: "+_n);_n=(""+_n).toLowerCase(),xn=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Bt(Ct,Dt,Xt){var _n="";Xt=Math.min(Ct.length,Xt);for(var mn=Dt;mn<Xt;++mn)_n+=String.fromCharCode(127&Ct[mn]);return _n}function jt(Ct,Dt,Xt){var _n="";Xt=Math.min(Ct.length,Xt);for(var mn=Dt;mn<Xt;++mn)_n+=String.fromCharCode(Ct[mn]);return _n}function qt(Ct,Dt,Xt){var _n=Ct.length;(!Dt||Dt<0)&&(Dt=0),(!Xt||Xt<0||Xt>_n)&&(Xt=_n);for(var mn="",xn=Dt;xn<Xt;++xn)mn+=Fn(Ct[xn]);return mn}function Zt(Ct,Dt,Xt){for(var _n=Ct.slice(Dt,Xt),mn="",xn=0;xn<_n.length;xn+=2)mn+=String.fromCharCode(_n[xn]+256*_n[xn+1]);return mn}function Wt(Ct,Dt,Xt){if(Ct%1!=0||Ct<0)throw new RangeError("offset is not uint");if(Ct+Dt>Xt)throw new RangeError("Trying to access beyond buffer length")}function Gt(Ct,Dt,Xt,_n,mn,xn){if(!ot.isBuffer(Ct))throw new TypeError('"buffer" argument must be a Buffer instance');if(Dt>mn||Dt<xn)throw new RangeError('"value" argument is out of bounds');if(Xt+_n>Ct.length)throw new RangeError("Index out of range")}function Ht(Ct,Dt,Xt,_n){Dt<0&&(Dt=65535+Dt+1);for(var mn=0,xn=Math.min(Ct.length-Xt,2);mn<xn;++mn)Ct[Xt+mn]=(Dt&255<<8*(_n?mn:1-mn))>>>8*(_n?mn:1-mn)}function kt(Ct,Dt,Xt,_n){Dt<0&&(Dt=4294967295+Dt+1);for(var mn=0,xn=Math.min(Ct.length-Xt,4);mn<xn;++mn)Ct[Xt+mn]=Dt>>>8*(_n?mn:3-mn)&255}function Rt(Ct,Dt,Xt,_n,mn,xn){if(Xt+_n>Ct.length)throw new RangeError("Index out of range");if(Xt<0)throw new RangeError("Index out of range")}function $t(Ct,Dt,Xt,_n,mn){return mn||Rt(Ct,0,Xt,4),_e.write(Ct,Dt,Xt,_n,23,4),Xt+4}function nn(Ct,Dt,Xt,_n,mn){return mn||Rt(Ct,0,Xt,8),_e.write(Ct,Dt,Xt,_n,52,8),Xt+8}ot.prototype.slice=function(Ct,Dt){var Xt,_n=this.length;if((Ct=~~Ct)<0?(Ct+=_n)<0&&(Ct=0):Ct>_n&&(Ct=_n),(Dt=Dt===void 0?_n:~~Dt)<0?(Dt+=_n)<0&&(Dt=0):Dt>_n&&(Dt=_n),Dt<Ct&&(Dt=Ct),ot.TYPED_ARRAY_SUPPORT)(Xt=this.subarray(Ct,Dt)).__proto__=ot.prototype;else{var mn=Dt-Ct;Xt=new ot(mn,void 0);for(var xn=0;xn<mn;++xn)Xt[xn]=this[xn+Ct]}return Xt},ot.prototype.readUIntLE=function(Ct,Dt,Xt){Ct|=0,Dt|=0,Xt||Wt(Ct,Dt,this.length);for(var _n=this[Ct],mn=1,xn=0;++xn<Dt&&(mn*=256);)_n+=this[Ct+xn]*mn;return _n},ot.prototype.readUIntBE=function(Ct,Dt,Xt){Ct|=0,Dt|=0,Xt||Wt(Ct,Dt,this.length);for(var _n=this[Ct+--Dt],mn=1;Dt>0&&(mn*=256);)_n+=this[Ct+--Dt]*mn;return _n},ot.prototype.readUInt8=function(Ct,Dt){return Dt||Wt(Ct,1,this.length),this[Ct]},ot.prototype.readUInt16LE=function(Ct,Dt){return Dt||Wt(Ct,2,this.length),this[Ct]|this[Ct+1]<<8},ot.prototype.readUInt16BE=function(Ct,Dt){return Dt||Wt(Ct,2,this.length),this[Ct]<<8|this[Ct+1]},ot.prototype.readUInt32LE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),(this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16)+16777216*this[Ct+3]},ot.prototype.readUInt32BE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),16777216*this[Ct]+(this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3])},ot.prototype.readIntLE=function(Ct,Dt,Xt){Ct|=0,Dt|=0,Xt||Wt(Ct,Dt,this.length);for(var _n=this[Ct],mn=1,xn=0;++xn<Dt&&(mn*=256);)_n+=this[Ct+xn]*mn;return _n>=(mn*=128)&&(_n-=Math.pow(2,8*Dt)),_n},ot.prototype.readIntBE=function(Ct,Dt,Xt){Ct|=0,Dt|=0,Xt||Wt(Ct,Dt,this.length);for(var _n=Dt,mn=1,xn=this[Ct+--_n];_n>0&&(mn*=256);)xn+=this[Ct+--_n]*mn;return xn>=(mn*=128)&&(xn-=Math.pow(2,8*Dt)),xn},ot.prototype.readInt8=function(Ct,Dt){return Dt||Wt(Ct,1,this.length),128&this[Ct]?-1*(255-this[Ct]+1):this[Ct]},ot.prototype.readInt16LE=function(Ct,Dt){Dt||Wt(Ct,2,this.length);var Xt=this[Ct]|this[Ct+1]<<8;return 32768&Xt?4294901760|Xt:Xt},ot.prototype.readInt16BE=function(Ct,Dt){Dt||Wt(Ct,2,this.length);var Xt=this[Ct+1]|this[Ct]<<8;return 32768&Xt?4294901760|Xt:Xt},ot.prototype.readInt32LE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16|this[Ct+3]<<24},ot.prototype.readInt32BE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),this[Ct]<<24|this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3]},ot.prototype.readFloatLE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),_e.read(this,Ct,!0,23,4)},ot.prototype.readFloatBE=function(Ct,Dt){return Dt||Wt(Ct,4,this.length),_e.read(this,Ct,!1,23,4)},ot.prototype.readDoubleLE=function(Ct,Dt){return Dt||Wt(Ct,8,this.length),_e.read(this,Ct,!0,52,8)},ot.prototype.readDoubleBE=function(Ct,Dt){return Dt||Wt(Ct,8,this.length),_e.read(this,Ct,!1,52,8)},ot.prototype.writeUIntLE=function(Ct,Dt,Xt,_n){Ct=+Ct,Dt|=0,Xt|=0,_n||Gt(this,Ct,Dt,Xt,Math.pow(2,8*Xt)-1,0);var mn=1,xn=0;for(this[Dt]=255&Ct;++xn<Xt&&(mn*=256);)this[Dt+xn]=Ct/mn&255;return Dt+Xt},ot.prototype.writeUIntBE=function(Ct,Dt,Xt,_n){Ct=+Ct,Dt|=0,Xt|=0,_n||Gt(this,Ct,Dt,Xt,Math.pow(2,8*Xt)-1,0);var mn=Xt-1,xn=1;for(this[Dt+mn]=255&Ct;--mn>=0&&(xn*=256);)this[Dt+mn]=Ct/xn&255;return Dt+Xt},ot.prototype.writeUInt8=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,1,255,0),ot.TYPED_ARRAY_SUPPORT||(Ct=Math.floor(Ct)),this[Dt]=255&Ct,Dt+1},ot.prototype.writeUInt16LE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,2,65535,0),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=255&Ct,this[Dt+1]=Ct>>>8):Ht(this,Ct,Dt,!0),Dt+2},ot.prototype.writeUInt16BE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,2,65535,0),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=Ct>>>8,this[Dt+1]=255&Ct):Ht(this,Ct,Dt,!1),Dt+2},ot.prototype.writeUInt32LE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,4,4294967295,0),ot.TYPED_ARRAY_SUPPORT?(this[Dt+3]=Ct>>>24,this[Dt+2]=Ct>>>16,this[Dt+1]=Ct>>>8,this[Dt]=255&Ct):kt(this,Ct,Dt,!0),Dt+4},ot.prototype.writeUInt32BE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,4,4294967295,0),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=Ct>>>24,this[Dt+1]=Ct>>>16,this[Dt+2]=Ct>>>8,this[Dt+3]=255&Ct):kt(this,Ct,Dt,!1),Dt+4},ot.prototype.writeIntLE=function(Ct,Dt,Xt,_n){if(Ct=+Ct,Dt|=0,!_n){var mn=Math.pow(2,8*Xt-1);Gt(this,Ct,Dt,Xt,mn-1,-mn)}var xn=0,On=1,nr=0;for(this[Dt]=255&Ct;++xn<Xt&&(On*=256);)Ct<0&&nr===0&&this[Dt+xn-1]!==0&&(nr=1),this[Dt+xn]=(Ct/On>>0)-nr&255;return Dt+Xt},ot.prototype.writeIntBE=function(Ct,Dt,Xt,_n){if(Ct=+Ct,Dt|=0,!_n){var mn=Math.pow(2,8*Xt-1);Gt(this,Ct,Dt,Xt,mn-1,-mn)}var xn=Xt-1,On=1,nr=0;for(this[Dt+xn]=255&Ct;--xn>=0&&(On*=256);)Ct<0&&nr===0&&this[Dt+xn+1]!==0&&(nr=1),this[Dt+xn]=(Ct/On>>0)-nr&255;return Dt+Xt},ot.prototype.writeInt8=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,1,127,-128),ot.TYPED_ARRAY_SUPPORT||(Ct=Math.floor(Ct)),Ct<0&&(Ct=255+Ct+1),this[Dt]=255&Ct,Dt+1},ot.prototype.writeInt16LE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,2,32767,-32768),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=255&Ct,this[Dt+1]=Ct>>>8):Ht(this,Ct,Dt,!0),Dt+2},ot.prototype.writeInt16BE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,2,32767,-32768),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=Ct>>>8,this[Dt+1]=255&Ct):Ht(this,Ct,Dt,!1),Dt+2},ot.prototype.writeInt32LE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,4,2147483647,-2147483648),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=255&Ct,this[Dt+1]=Ct>>>8,this[Dt+2]=Ct>>>16,this[Dt+3]=Ct>>>24):kt(this,Ct,Dt,!0),Dt+4},ot.prototype.writeInt32BE=function(Ct,Dt,Xt){return Ct=+Ct,Dt|=0,Xt||Gt(this,Ct,Dt,4,2147483647,-2147483648),Ct<0&&(Ct=4294967295+Ct+1),ot.TYPED_ARRAY_SUPPORT?(this[Dt]=Ct>>>24,this[Dt+1]=Ct>>>16,this[Dt+2]=Ct>>>8,this[Dt+3]=255&Ct):kt(this,Ct,Dt,!1),Dt+4},ot.prototype.writeFloatLE=function(Ct,Dt,Xt){return $t(this,Ct,Dt,!0,Xt)},ot.prototype.writeFloatBE=function(Ct,Dt,Xt){return $t(this,Ct,Dt,!1,Xt)},ot.prototype.writeDoubleLE=function(Ct,Dt,Xt){return nn(this,Ct,Dt,!0,Xt)},ot.prototype.writeDoubleBE=function(Ct,Dt,Xt){return nn(this,Ct,Dt,!1,Xt)},ot.prototype.copy=function(Ct,Dt,Xt,_n){if(Xt||(Xt=0),_n||_n===0||(_n=this.length),Dt>=Ct.length&&(Dt=Ct.length),Dt||(Dt=0),_n>0&&_n<Xt&&(_n=Xt),_n===Xt||Ct.length===0||this.length===0)return 0;if(Dt<0)throw new RangeError("targetStart out of bounds");if(Xt<0||Xt>=this.length)throw new RangeError("sourceStart out of bounds");if(_n<0)throw new RangeError("sourceEnd out of bounds");_n>this.length&&(_n=this.length),Ct.length-Dt<_n-Xt&&(_n=Ct.length-Dt+Xt);var mn,xn=_n-Xt;if(this===Ct&&Xt<Dt&&Dt<_n)for(mn=xn-1;mn>=0;--mn)Ct[mn+Dt]=this[mn+Xt];else if(xn<1e3||!ot.TYPED_ARRAY_SUPPORT)for(mn=0;mn<xn;++mn)Ct[mn+Dt]=this[mn+Xt];else Uint8Array.prototype.set.call(Ct,this.subarray(Xt,Xt+xn),Dt);return xn},ot.prototype.fill=function(Ct,Dt,Xt,_n){if(typeof Ct=="string"){if(typeof Dt=="string"?(_n=Dt,Dt=0,Xt=this.length):typeof Xt=="string"&&(_n=Xt,Xt=this.length),Ct.length===1){var mn=Ct.charCodeAt(0);mn<256&&(Ct=mn)}if(_n!==void 0&&typeof _n!="string")throw new TypeError("encoding must be a string");if(typeof _n=="string"&&!ot.isEncoding(_n))throw new TypeError("Unknown encoding: "+_n)}else typeof Ct=="number"&&(Ct&=255);if(Dt<0||this.length<Dt||this.length<Xt)throw new RangeError("Out of range index");if(Xt<=Dt)return this;var xn;if(Dt>>>=0,Xt=Xt===void 0?this.length:Xt>>>0,Ct||(Ct=0),typeof Ct=="number")for(xn=Dt;xn<Xt;++xn)this[xn]=Ct;else{var On=ot.isBuffer(Ct)?Ct:En(new ot(Ct,_n).toString()),nr=On.length;for(xn=0;xn<Xt-Dt;++xn)this[xn+Dt]=On[xn%nr]}return this};var Un=/[^+\/0-9A-Za-z-_]/g;function Fn(Ct){return Ct<16?"0"+Ct.toString(16):Ct.toString(16)}function En(Ct,Dt){var Xt;Dt=Dt||1/0;for(var _n=Ct.length,mn=null,xn=[],On=0;On<_n;++On){if((Xt=Ct.charCodeAt(On))>55295&&Xt<57344){if(!mn){if(Xt>56319){(Dt-=3)>-1&&xn.push(239,191,189);continue}if(On+1===_n){(Dt-=3)>-1&&xn.push(239,191,189);continue}mn=Xt;continue}if(Xt<56320){(Dt-=3)>-1&&xn.push(239,191,189),mn=Xt;continue}Xt=65536+(mn-55296<<10|Xt-56320)}else mn&&(Dt-=3)>-1&&xn.push(239,191,189);if(mn=null,Xt<128){if((Dt-=1)<0)break;xn.push(Xt)}else if(Xt<2048){if((Dt-=2)<0)break;xn.push(Xt>>6|192,63&Xt|128)}else if(Xt<65536){if((Dt-=3)<0)break;xn.push(Xt>>12|224,Xt>>6&63|128,63&Xt|128)}else{if(!(Xt<1114112))throw new Error("Invalid code point");if((Dt-=4)<0)break;xn.push(Xt>>18|240,Xt>>12&63|128,Xt>>6&63|128,63&Xt|128)}}return xn}function fn(Ct){return $.toByteArray(function(Dt){if((Dt=function(Xt){return Xt.trim?Xt.trim():Xt.replace(/^\s+|\s+$/g,"")}(Dt).replace(Un,"")).length<2)return"";for(;Dt.length%4!=0;)Dt+="=";return Dt}(Ct))}function sn(Ct,Dt,Xt,_n){for(var mn=0;mn<_n&&!(mn+Xt>=Dt.length||mn>=Ct.length);++mn)Dt[mn+Xt]=Ct[mn];return mn}}).call(this,s(6))},function(i,o){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}i.exports=s},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){_&&(s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(s,_){if(_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}}},function(i,o,s){s.d(o,"a",function(){return _});const _=$=>new Promise(_e=>setTimeout(_e,$||0))},function(i,o,s){var _=s(99),$=_,_e=Function("return this")(),et=s(98);$.object.extend(proto,et),$.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetHealthRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetHealthResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.Peer",null,_e),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.SessionType",null,_e),$.exportSymbol("proto.v1.signaling.api.Signal",null,_e),proto.v1.signaling.api.Peer=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.Peer,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.Signal,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.GetHealthRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthRequest.displayName="proto.v1.signaling.api.GetHealthRequest"),proto.v1.signaling.api.GetHealthResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthResponse.displayName="proto.v1.signaling.api.GetHealthResponse"),proto.v1.signaling.api.CreatePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetPeersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.GetPeersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(j){return proto.v1.signaling.api.Peer.toObject(j,this)},proto.v1.signaling.api.Peer.toObject=function(j,nt){var ot,ct={peerId:_.Message.getFieldWithDefault(nt,1,""),organizationId:_.Message.getFieldWithDefault(nt,2,""),userId:(ot=nt.getUserId())&&et.StringValue.toObject(j,ot),deviceId:(ot=nt.getDeviceId())&&et.StringValue.toObject(j,ot),sessionIdsList:(ot=_.Message.getRepeatedField(nt,5))==null?void 0:ot,peerCreatedTimestamp:(ot=nt.getPeerCreatedTimestamp())&&et.Int64Value.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.Peer.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setPeerId(ot);break;case 2:ot=nt.readString(),j.setOrganizationId(ot);break;case 3:ot=new et.StringValue,nt.readMessage(ot,et.StringValue.deserializeBinaryFromReader),j.setUserId(ot);break;case 4:ot=new et.StringValue,nt.readMessage(ot,et.StringValue.deserializeBinaryFromReader),j.setDeviceId(ot);break;case 5:ot=nt.readString(),j.addSessionIds(ot);break;case 6:ot=new et.Int64Value,nt.readMessage(ot,et.Int64Value.deserializeBinaryFromReader),j.setPeerCreatedTimestamp(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(j,nt){var ot=void 0;(ot=j.getPeerId()).length>0&&nt.writeString(1,ot),(ot=j.getOrganizationId()).length>0&&nt.writeString(2,ot),(ot=j.getUserId())!=null&&nt.writeMessage(3,ot,et.StringValue.serializeBinaryToWriter),(ot=j.getDeviceId())!=null&&nt.writeMessage(4,ot,et.StringValue.serializeBinaryToWriter),(ot=j.getSessionIdsList()).length>0&&nt.writeRepeatedString(5,ot),(ot=j.getPeerCreatedTimestamp())!=null&&nt.writeMessage(6,ot,et.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return _.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(j){return _.Message.setProto3StringField(this,2,j)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return _.Message.getWrapperField(this,et.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(j){return _.Message.setWrapperField(this,3,j)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return _.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return _.Message.getWrapperField(this,et.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(j){return _.Message.setWrapperField(this,4,j)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return _.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return _.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(j){return _.Message.setField(this,5,j||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(j,nt){return _.Message.addToRepeatedField(this,5,j,nt)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return _.Message.getWrapperField(this,et.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(j){return _.Message.setWrapperField(this,6,j)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return _.Message.getField(this,6)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(j){return proto.v1.signaling.api.Signal.toObject(j,this)},proto.v1.signaling.api.Signal.toObject=function(j,nt){var ot,ct={sessionId:(ot=nt.getSessionId())&&et.StringValue.toObject(j,ot),sessionCreatedTimestamp:(ot=nt.getSessionCreatedTimestamp())&&et.Int64Value.toObject(j,ot),senderId:_.Message.getFieldWithDefault(nt,3,""),receiverId:_.Message.getFieldWithDefault(nt,4,""),payload:_.Message.getFieldWithDefault(nt,5,""),iceServers:_.Message.getFieldWithDefault(nt,6,""),iceTransportPolicy:_.Message.getFieldWithDefault(nt,7,""),sessionType:_.Message.getFieldWithDefault(nt,8,0)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.Signal.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new et.StringValue;nt.readMessage(ot,et.StringValue.deserializeBinaryFromReader),j.setSessionId(ot);break;case 2:ot=new et.Int64Value,nt.readMessage(ot,et.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(ot);break;case 3:ot=nt.readString(),j.setSenderId(ot);break;case 4:ot=nt.readString(),j.setReceiverId(ot);break;case 5:ot=nt.readString(),j.setPayload(ot);break;case 6:ot=nt.readString(),j.setIceServers(ot);break;case 7:ot=nt.readString(),j.setIceTransportPolicy(ot);break;case 8:ot=nt.readEnum(),j.setSessionType(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(j,nt){var ot=void 0;(ot=j.getSessionId())!=null&&nt.writeMessage(1,ot,et.StringValue.serializeBinaryToWriter),(ot=j.getSessionCreatedTimestamp())!=null&&nt.writeMessage(2,ot,et.Int64Value.serializeBinaryToWriter),(ot=j.getSenderId()).length>0&&nt.writeString(3,ot),(ot=j.getReceiverId()).length>0&&nt.writeString(4,ot),(ot=j.getPayload()).length>0&&nt.writeString(5,ot),(ot=j.getIceServers()).length>0&&nt.writeString(6,ot),(ot=j.getIceTransportPolicy()).length>0&&nt.writeString(7,ot),(ot=j.getSessionType())!==0&&nt.writeEnum(8,ot)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return _.Message.getWrapperField(this,et.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,et.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return _.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(j){return _.Message.setProto3StringField(this,3,j)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return _.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(j){return _.Message.setProto3StringField(this,4,j)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return _.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(j){return _.Message.setProto3StringField(this,5,j)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,6,j)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return _.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(j){return _.Message.setProto3StringField(this,7,j)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return _.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(j){return _.Message.setProto3EnumField(this,8,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthRequest.toObject(j,this)},proto.v1.signaling.api.GetHealthRequest.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetHealthRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetHealthRequest;return proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetHealthRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthResponse.toObject(j,this)},proto.v1.signaling.api.GetHealthResponse.toObject=function(j,nt){var ot={version:_.Message.getFieldWithDefault(nt,1,"")};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetHealthResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetHealthResponse;return proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setVersion(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetHealthResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getVersion()).length>0&&nt.writeString(1,ot)},proto.v1.signaling.api.GetHealthResponse.prototype.getVersion=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetHealthResponse.prototype.setVersion=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerRequest.toObject(j,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerResponse.toObject(j,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(j,nt){var ot,ct={peer:(ot=nt.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Peer;nt.readMessage(ot,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeer())!=null&&nt.writeMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerRequest.toObject(j,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(j,nt){var ot={peerId:_.Message.getFieldWithDefault(nt,1,"")};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setPeerId(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeerId()).length>0&&nt.writeString(1,ot)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerResponse.toObject(j,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerRequest.toObject(j,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(j,nt){var ot,ct={peer:(ot=nt.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Peer;nt.readMessage(ot,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeer())!=null&&nt.writeMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerResponse.toObject(j,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersRequest.toObject(j,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(j,nt){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersResponse.toObject(j,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(j,nt){var ot={peersList:_.Message.toObjectList(nt.getPeersList(),proto.v1.signaling.api.Peer.toObject,j)};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Peer;nt.readMessage(ot,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.addPeers(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeersList()).length>0&&nt.writeRepeatedMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return _.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(j){return _.Message.setRepeatedWrapperField(this,1,j)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(j,nt){return _.Message.addToRepeatedWrapperField(this,1,j,proto.v1.signaling.api.Peer,nt)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersRequest.toObject(j,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(j,nt){var ot={};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersResponse.toObject(j,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(j,nt){var ot={iceServers:_.Message.getFieldWithDefault(nt,1,"")};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setIceServers(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getIceServers()).length>0&&nt.writeString(1,ot)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalRequest.toObject(j,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(j,nt){var ot,ct={signal:(ot=nt.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Signal;nt.readMessage(ot,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getSignal())!=null&&nt.writeMessage(1,ot,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalResponse.toObject(j,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(j,nt){var ot,ct={sessionId:(ot=nt.getSessionId())&&et.StringValue.toObject(j,ot),sessionCreatedTimestamp:(ot=nt.getSessionCreatedTimestamp())&&et.Int64Value.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new et.StringValue;nt.readMessage(ot,et.StringValue.deserializeBinaryFromReader),j.setSessionId(ot);break;case 2:ot=new et.Int64Value,nt.readMessage(ot,et.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(j,nt){var ot=void 0;(ot=j.getSessionId())!=null&&nt.writeMessage(1,ot,et.StringValue.serializeBinaryToWriter),(ot=j.getSessionCreatedTimestamp())!=null&&nt.writeMessage(2,ot,et.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return _.Message.getWrapperField(this,et.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,et.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(j,nt){var ot={peerId:_.Message.getFieldWithDefault(nt,1,"")};return j&&(ot.$jspbMessageInstance=nt),ot}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=nt.readString();j.setPeerId(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getPeerId()).length>0&&nt.writeString(1,ot)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(j,nt){var ot,ct={signal:(ot=nt.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,ot)};return j&&(ct.$jspbMessageInstance=nt),ct}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),ot=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(ot,nt)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var ot=new proto.v1.signaling.api.Signal;nt.readMessage(ot,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(ot);break;default:nt.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(j,nt){var ot;(ot=j.getSignal())!=null&&nt.writeMessage(1,ot,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3},$.object.extend(o,proto.v1.signaling.api)},function(i,o,s){function _($,_e,et=()=>!0){if($ instanceof _e&&et($))return $;throw $}s.d(o,"a",function(){return _})},function(i,o,s){s.d(o,"a",function(){return $});var _=s(34);class $ extends Error{constructor(et,j,nt,ot,ct={},gt){super(`Unexpected response (${nt}) for ${et} ${j}: ${JSON.stringify(gt?Object(_.a)([...gt.entries()].reduce((pt,[ft,ut])=>(pt[ft]=ut,pt),{})):{})} -- ${JSON.stringify(Object(_.a)(ot))}`),this.method=et,this.url=j,this.statusCode=nt,this.body=ot,this.validationErrors=ct,this.headers=gt}}},function(i,o,s){function _(pt){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft})(pt)}function $(pt,ft){return!ft||_(ft)!=="object"&&typeof ft!="function"?_e(pt):ft}function _e(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function et(pt){var ft=typeof Map=="function"?new Map:void 0;return(et=function(ut){if(ut===null||(yt=ut,Function.toString.call(yt).indexOf("[native code]")===-1))return ut;var yt;if(typeof ut!="function")throw new TypeError("Super expression must either be null or a function");if(ft!==void 0){if(ft.has(ut))return ft.get(ut);ft.set(ut,wt)}function wt(){return j(ut,arguments,ct(this).constructor)}return wt.prototype=Object.create(ut.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),ot(wt,ut)})(pt)}function j(pt,ft,ut){return(j=nt()?Reflect.construct:function(yt,wt,Qt){var It=[null];It.push.apply(It,wt);var xt=new(Function.bind.apply(yt,It));return Qt&&ot(xt,Qt.prototype),xt}).apply(null,arguments)}function nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ot(pt,ft){return(ot=Object.setPrototypeOf||function(ut,yt){return ut.__proto__=yt,ut})(pt,ft)}function ct(pt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(ft){return ft.__proto__||Object.getPrototypeOf(ft)})(pt)}var gt=function(pt){(function(Qt,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function");Qt.prototype=Object.create(It&&It.prototype,{constructor:{value:Qt,writable:!0,configurable:!0}}),It&&ot(Qt,It)})(wt,pt);var ft,ut,yt=(ft=wt,ut=nt(),function(){var Qt,It=ct(ft);if(ut){var xt=ct(this).constructor;Qt=Reflect.construct(It,arguments,xt)}else Qt=It.apply(this,arguments);return $(this,Qt)});function wt(Qt){var It;return function(xt,Tt){if(!(xt instanceof Tt))throw new TypeError("Cannot call a class as a function")}(this,wt),It=yt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(Qt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(_e(It),wt),It}return wt}(et(Error));i.exports=function(pt){if(pt.length>2)throw new gt(pt);function ft(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=yt}function ut(yt){return new ft(yt)}return ft.prototype.transform=pt,ut.Format=ft,ut}},function(i,o,s){(function(_){var $=Object.getOwnPropertyDescriptors||function(Wt){for(var Gt=Object.keys(Wt),Ht={},kt=0;kt<Gt.length;kt++)Ht[Gt[kt]]=Object.getOwnPropertyDescriptor(Wt,Gt[kt]);return Ht},_e=/%[sdj%]/g;o.format=function(Wt){if(!It(Wt)){for(var Gt=[],Ht=0;Ht<arguments.length;Ht++)Gt.push(nt(arguments[Ht]));return Gt.join(" ")}Ht=1;for(var kt=arguments,Rt=kt.length,$t=String(Wt).replace(_e,function(Un){if(Un==="%%")return"%";if(Ht>=Rt)return Un;switch(Un){case"%s":return String(kt[Ht++]);case"%d":return Number(kt[Ht++]);case"%j":try{return JSON.stringify(kt[Ht++])}catch{return"[Circular]"}default:return Un}}),nn=kt[Ht];Ht<Rt;nn=kt[++Ht])wt(nn)||!mt(nn)?$t+=" "+nn:$t+=" "+nt(nn);return $t},o.deprecate=function(Wt,Gt){if(_!==void 0&&_.noDeprecation===!0)return Wt;if(_===void 0)return function(){return o.deprecate(Wt,Gt).apply(this,arguments)};var Ht=!1;return function(){if(!Ht){if(_.throwDeprecation)throw new Error(Gt);_.traceDeprecation?console.trace(Gt):console.error(Gt),Ht=!0}return Wt.apply(this,arguments)}};var et,j={};function nt(Wt,Gt){var Ht={seen:[],stylize:ct};return arguments.length>=3&&(Ht.depth=arguments[2]),arguments.length>=4&&(Ht.colors=arguments[3]),yt(Gt)?Ht.showHidden=Gt:Gt&&o._extend(Ht,Gt),xt(Ht.showHidden)&&(Ht.showHidden=!1),xt(Ht.depth)&&(Ht.depth=2),xt(Ht.colors)&&(Ht.colors=!1),xt(Ht.customInspect)&&(Ht.customInspect=!0),Ht.colors&&(Ht.stylize=ot),gt(Ht,Wt,Ht.depth)}function ot(Wt,Gt){var Ht=nt.styles[Gt];return Ht?"\x1B["+nt.colors[Ht][0]+"m"+Wt+"\x1B["+nt.colors[Ht][1]+"m":Wt}function ct(Wt,Gt){return Wt}function gt(Wt,Gt,Ht){if(Wt.customInspect&&Gt&&rn(Gt.inspect)&&Gt.inspect!==o.inspect&&(!Gt.constructor||Gt.constructor.prototype!==Gt)){var kt=Gt.inspect(Ht,Wt);return It(kt)||(kt=gt(Wt,kt,Ht)),kt}var Rt=function(Ct,Dt){if(xt(Dt))return Ct.stylize("undefined","undefined");if(It(Dt)){var Xt="'"+JSON.stringify(Dt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ct.stylize(Xt,"string")}if(Qt(Dt))return Ct.stylize(""+Dt,"number");if(yt(Dt))return Ct.stylize(""+Dt,"boolean");if(wt(Dt))return Ct.stylize("null","null")}(Wt,Gt);if(Rt)return Rt;var $t=Object.keys(Gt),nn=function(Ct){var Dt={};return Ct.forEach(function(Xt,_n){Dt[Xt]=!0}),Dt}($t);if(Wt.showHidden&&($t=Object.getOwnPropertyNames(Gt)),en(Gt)&&($t.indexOf("message")>=0||$t.indexOf("description")>=0))return pt(Gt);if($t.length===0){if(rn(Gt)){var Un=Gt.name?": "+Gt.name:"";return Wt.stylize("[Function"+Un+"]","special")}if(Tt(Gt))return Wt.stylize(RegExp.prototype.toString.call(Gt),"regexp");if(Nt(Gt))return Wt.stylize(Date.prototype.toString.call(Gt),"date");if(en(Gt))return pt(Gt)}var Fn,En="",fn=!1,sn=["{","}"];return ut(Gt)&&(fn=!0,sn=["[","]"]),rn(Gt)&&(En=" [Function"+(Gt.name?": "+Gt.name:"")+"]"),Tt(Gt)&&(En=" "+RegExp.prototype.toString.call(Gt)),Nt(Gt)&&(En=" "+Date.prototype.toUTCString.call(Gt)),en(Gt)&&(En=" "+pt(Gt)),$t.length!==0||fn&&Gt.length!=0?Ht<0?Tt(Gt)?Wt.stylize(RegExp.prototype.toString.call(Gt),"regexp"):Wt.stylize("[Object]","special"):(Wt.seen.push(Gt),Fn=fn?function(Ct,Dt,Xt,_n,mn){for(var xn=[],On=0,nr=Dt.length;On<nr;++On)jt(Dt,String(On))?xn.push(ft(Ct,Dt,Xt,_n,String(On),!0)):xn.push("");return mn.forEach(function(Nr){Nr.match(/^\d+$/)||xn.push(ft(Ct,Dt,Xt,_n,Nr,!0))}),xn}(Wt,Gt,Ht,nn,$t):$t.map(function(Ct){return ft(Wt,Gt,Ht,nn,Ct,fn)}),Wt.seen.pop(),function(Ct,Dt,Xt){return Ct.reduce(function(_n,mn){return mn.indexOf(`
`)>=0,_n+mn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Xt[0]+(Dt===""?"":Dt+`
 `)+" "+Ct.join(`,
  `)+" "+Xt[1]:Xt[0]+Dt+" "+Ct.join(", ")+" "+Xt[1]}(Fn,En,sn)):sn[0]+En+sn[1]}function pt(Wt){return"["+Error.prototype.toString.call(Wt)+"]"}function ft(Wt,Gt,Ht,kt,Rt,$t){var nn,Un,Fn;if((Fn=Object.getOwnPropertyDescriptor(Gt,Rt)||{value:Gt[Rt]}).get?Un=Fn.set?Wt.stylize("[Getter/Setter]","special"):Wt.stylize("[Getter]","special"):Fn.set&&(Un=Wt.stylize("[Setter]","special")),jt(kt,Rt)||(nn="["+Rt+"]"),Un||(Wt.seen.indexOf(Fn.value)<0?(Un=wt(Ht)?gt(Wt,Fn.value,null):gt(Wt,Fn.value,Ht-1)).indexOf(`
`)>-1&&(Un=$t?Un.split(`
`).map(function(En){return"  "+En}).join(`
`).substr(2):`
`+Un.split(`
`).map(function(En){return"   "+En}).join(`
`)):Un=Wt.stylize("[Circular]","special")),xt(nn)){if($t&&Rt.match(/^\d+$/))return Un;(nn=JSON.stringify(""+Rt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(nn=nn.substr(1,nn.length-2),nn=Wt.stylize(nn,"name")):(nn=nn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),nn=Wt.stylize(nn,"string"))}return nn+": "+Un}function ut(Wt){return Array.isArray(Wt)}function yt(Wt){return typeof Wt=="boolean"}function wt(Wt){return Wt===null}function Qt(Wt){return typeof Wt=="number"}function It(Wt){return typeof Wt=="string"}function xt(Wt){return Wt===void 0}function Tt(Wt){return mt(Wt)&&Ft(Wt)==="[object RegExp]"}function mt(Wt){return typeof Wt=="object"&&Wt!==null}function Nt(Wt){return mt(Wt)&&Ft(Wt)==="[object Date]"}function en(Wt){return mt(Wt)&&(Ft(Wt)==="[object Error]"||Wt instanceof Error)}function rn(Wt){return typeof Wt=="function"}function Ft(Wt){return Object.prototype.toString.call(Wt)}function St(Wt){return Wt<10?"0"+Wt.toString(10):Wt.toString(10)}o.debuglog=function(Wt){if(xt(et)&&(et=_.env.NODE_DEBUG||""),Wt=Wt.toUpperCase(),!j[Wt])if(new RegExp("\\b"+Wt+"\\b","i").test(et)){var Gt=_.pid;j[Wt]=function(){var Ht=o.format.apply(o,arguments);console.error("%s %d: %s",Wt,Gt,Ht)}}else j[Wt]=function(){};return j[Wt]},o.inspect=nt,nt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=ut,o.isBoolean=yt,o.isNull=wt,o.isNullOrUndefined=function(Wt){return Wt==null},o.isNumber=Qt,o.isString=It,o.isSymbol=function(Wt){return typeof Wt=="symbol"},o.isUndefined=xt,o.isRegExp=Tt,o.isObject=mt,o.isDate=Nt,o.isError=en,o.isFunction=rn,o.isPrimitive=function(Wt){return Wt===null||typeof Wt=="boolean"||typeof Wt=="number"||typeof Wt=="string"||typeof Wt=="symbol"||Wt===void 0},o.isBuffer=s(107);var Pt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bt(){var Wt=new Date,Gt=[St(Wt.getHours()),St(Wt.getMinutes()),St(Wt.getSeconds())].join(":");return[Wt.getDate(),Pt[Wt.getMonth()],Gt].join(" ")}function jt(Wt,Gt){return Object.prototype.hasOwnProperty.call(Wt,Gt)}o.log=function(){console.log("%s - %s",Bt(),o.format.apply(o,arguments))},o.inherits=s(108),o._extend=function(Wt,Gt){if(!Gt||!mt(Gt))return Wt;for(var Ht=Object.keys(Gt),kt=Ht.length;kt--;)Wt[Ht[kt]]=Gt[Ht[kt]];return Wt};var qt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Zt(Wt,Gt){if(!Wt){var Ht=new Error("Promise was rejected with a falsy value");Ht.reason=Wt,Wt=Ht}return Gt(Wt)}o.promisify=function(Wt){if(typeof Wt!="function")throw new TypeError('The "original" argument must be of type Function');if(qt&&Wt[qt]){var Gt;if(typeof(Gt=Wt[qt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Gt,qt,{value:Gt,enumerable:!1,writable:!1,configurable:!0}),Gt}function Gt(){for(var Ht,kt,Rt=new Promise(function(Un,Fn){Ht=Un,kt=Fn}),$t=[],nn=0;nn<arguments.length;nn++)$t.push(arguments[nn]);$t.push(function(Un,Fn){Un?kt(Un):Ht(Fn)});try{Wt.apply(this,$t)}catch(Un){kt(Un)}return Rt}return Object.setPrototypeOf(Gt,Object.getPrototypeOf(Wt)),qt&&Object.defineProperty(Gt,qt,{value:Gt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Gt,$(Wt))},o.promisify.custom=qt,o.callbackify=function(Wt){if(typeof Wt!="function")throw new TypeError('The "original" argument must be of type Function');function Gt(){for(var Ht=[],kt=0;kt<arguments.length;kt++)Ht.push(arguments[kt]);var Rt=Ht.pop();if(typeof Rt!="function")throw new TypeError("The last argument must be of type Function");var $t=this,nn=function(){return Rt.apply($t,arguments)};Wt.apply(this,Ht).then(function(Un){_.nextTick(nn,null,Un)},function(Un){_.nextTick(Zt,Un,nn)})}return Object.setPrototypeOf(Gt,Object.getPrototypeOf(Wt)),Object.defineProperties(Gt,$(Wt)),Gt}}).call(this,s(2))},function(i,o,s){i.exports=function(_,$){$||($={}),typeof $=="function"&&($={cmp:$});var _e,et=typeof $.cycles=="boolean"&&$.cycles,j=$.cmp&&(_e=$.cmp,function(ot){return function(ct,gt){var pt={key:ct,value:ot[ct]},ft={key:gt,value:ot[gt]};return _e(pt,ft)}}),nt=[];return function ot(ct){if(ct&&ct.toJSON&&typeof ct.toJSON=="function"&&(ct=ct.toJSON()),ct!==void 0){if(typeof ct=="number")return isFinite(ct)?""+ct:"null";if(typeof ct!="object")return JSON.stringify(ct);var gt,pt;if(Array.isArray(ct)){for(pt="[",gt=0;gt<ct.length;gt++)gt&&(pt+=","),pt+=ot(ct[gt])||"null";return pt+"]"}if(ct===null)return"null";if(nt.indexOf(ct)!==-1){if(et)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var ft=nt.push(ct)-1,ut=Object.keys(ct).sort(j&&j(ct));for(pt="",gt=0;gt<ut.length;gt++){var yt=ut[gt],wt=ot(ct[yt]);wt&&(pt&&(pt+=","),pt+=JSON.stringify(yt)+":"+wt)}return nt.splice(ft,1),"{"+pt+"}"}}(_)}},function(i,o,s){(function(_){var $=_!==void 0&&_||typeof self<"u"&&self||window,_e=Function.prototype.apply;function et(j,nt){this._id=j,this._clearFn=nt}o.setTimeout=function(){return new et(_e.call(setTimeout,$,arguments),clearTimeout)},o.setInterval=function(){return new et(_e.call(setInterval,$,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(j){j&&j.close()},et.prototype.unref=et.prototype.ref=function(){},et.prototype.close=function(){this._clearFn.call($,this._id)},o.enroll=function(j,nt){clearTimeout(j._idleTimeoutId),j._idleTimeout=nt},o.unenroll=function(j){clearTimeout(j._idleTimeoutId),j._idleTimeout=-1},o._unrefActive=o.active=function(j){clearTimeout(j._idleTimeoutId);var nt=j._idleTimeout;nt>=0&&(j._idleTimeoutId=setTimeout(function(){j._onTimeout&&j._onTimeout()},nt))},s(141),o.setImmediate=typeof self<"u"&&self.setImmediate||_!==void 0&&_.setImmediate||this&&this.setImmediate,o.clearImmediate=typeof self<"u"&&self.clearImmediate||_!==void 0&&_.clearImmediate||this&&this.clearImmediate}).call(this,s(6))},function(i,o,s){(function(_){_===void 0||!_.version||_.version.indexOf("v0.")===0||_.version.indexOf("v1.")===0&&_.version.indexOf("v1.8.")!==0?i.exports={nextTick:function($,_e,et,j){if(typeof $!="function")throw new TypeError('"callback" argument must be a function');var nt,ot,ct=arguments.length;switch(ct){case 0:case 1:return _.nextTick($);case 2:return _.nextTick(function(){$.call(null,_e)});case 3:return _.nextTick(function(){$.call(null,_e,et)});case 4:return _.nextTick(function(){$.call(null,_e,et,j)});default:for(nt=new Array(ct-1),ot=0;ot<nt.length;)nt[ot++]=arguments[ot];return _.nextTick(function(){$.apply(null,nt)})}}}:i.exports=_}).call(this,s(2))},function(i,o,s){(function(_){function $(_e){return Object.prototype.toString.call(_e)}o.isArray=function(_e){return Array.isArray?Array.isArray(_e):$(_e)==="[object Array]"},o.isBoolean=function(_e){return typeof _e=="boolean"},o.isNull=function(_e){return _e===null},o.isNullOrUndefined=function(_e){return _e==null},o.isNumber=function(_e){return typeof _e=="number"},o.isString=function(_e){return typeof _e=="string"},o.isSymbol=function(_e){return typeof _e=="symbol"},o.isUndefined=function(_e){return _e===void 0},o.isRegExp=function(_e){return $(_e)==="[object RegExp]"},o.isObject=function(_e){return typeof _e=="object"&&_e!==null},o.isDate=function(_e){return $(_e)==="[object Date]"},o.isError=function(_e){return $(_e)==="[object Error]"||_e instanceof Error},o.isFunction=function(_e){return typeof _e=="function"},o.isPrimitive=function(_e){return _e===null||typeof _e=="boolean"||typeof _e=="number"||typeof _e=="string"||typeof _e=="symbol"||_e===void 0},o.isBuffer=_.isBuffer}).call(this,s(5).Buffer)},function(i,o){o.endianness=function(){return"LE"},o.hostname=function(){return typeof location<"u"?location.hostname:""},o.loadavg=function(){return[]},o.uptime=function(){return 0},o.freemem=function(){return Number.MAX_VALUE},o.totalmem=function(){return Number.MAX_VALUE},o.cpus=function(){return[]},o.type=function(){return"Browser"},o.release=function(){return typeof navigator<"u"?navigator.appVersion:""},o.networkInterfaces=o.getNetworkInterfaces=function(){return{}},o.arch=function(){return"javascript"},o.platform=function(){return"browser"},o.tmpdir=o.tmpDir=function(){return"/tmp"},o.EOL=`
`,o.homedir=function(){return"/"}},function(i,o,s){var _=s(58),$=s(61).warn,_e=o;_e.version=s(138).version,_e.transports=s(139),_e.config=s(50),_e.addColors=_.levels,_e.format=_.format,_e.createLogger=s(88),_e.ExceptionHandler=s(89),_e.RejectionHandler=s(93),_e.Container=s(210),_e.Transport=s(20),_e.loggers=new _e.Container;var et=_e.createLogger();Object.keys(_e.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(j){return _e[j]=function(){return et[j].apply(et,arguments)}}),Object.defineProperty(_e,"level",{get:function(){return et.level},set:function(j){et.level=j}}),Object.defineProperty(_e,"exceptions",{get:function(){return et.exceptions}}),["exitOnError"].forEach(function(j){Object.defineProperty(_e,j,{get:function(){return et[j]},set:function(nt){et[j]=nt}})}),Object.defineProperty(_e,"default",{get:function(){return{exceptionHandlers:et.exceptionHandlers,rejectionHandlers:et.rejectionHandlers,transports:et.transports}}}),$.deprecated(_e,"setLevels"),$.forFunctions(_e,"useFormat",["cli"]),$.forProperties(_e,"useFormat",["padLevels","stripColors"]),$.forFunctions(_e,"deprecated",["addRewriter","addFilter","clone","extend"]),$.forProperties(_e,"deprecated",["emitErrs","levelLength"]),$.moved(_e,"createLogger","Logger")},function(i,o,s){var _=s(13),$=s(142),_e=s(3).LEVEL,et=i.exports=function(){var j=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:nt.highWaterMark}),this.format=nt.format,this.level=nt.level,this.handleExceptions=nt.handleExceptions,this.handleRejections=nt.handleRejections,this.silent=nt.silent,nt.log&&(this.log=nt.log),nt.logv&&(this.logv=nt.logv),nt.close&&(this.close=nt.close),this.once("pipe",function(ot){j.levels=ot.levels,j.parent=ot}),this.once("unpipe",function(ot){ot===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(et,$),et.prototype._write=function(j,nt,ot){if(this.silent||j.exception===!0&&!this.handleExceptions)return ot(null);var ct=this.level||this.parent&&this.parent.level;if(!ct||this.levels[ct]>=this.levels[j[_e]]){if(j&&!this.format)return this.log(j,ot);var gt=void 0,pt=void 0;try{pt=this.format.transform(Object.assign({},j),this.format.options)}catch(ft){gt=ft}if(gt||!pt){if(ot(),gt)throw gt;return}return this.log(pt,ot)}return ot(null)},et.prototype._writev=function(j,nt){if(this.logv){var ot=j.filter(this._accept,this);return ot.length?this.logv(ot,nt):nt(null)}for(var ct=0;ct<j.length;ct++)if(this._accept(j[ct]))if(!j[ct].chunk||this.format){var gt=void 0,pt=void 0;try{pt=this.format.transform(Object.assign({},j[ct].chunk),this.format.options)}catch(ft){gt=ft}if(gt||!pt){if(j[ct].callback(),gt)throw nt(null),gt}else this.log(pt,j[ct].callback)}else this.log(j[ct].chunk,j[ct].callback);return nt(null)},et.prototype._accept=function(j){var nt=j.chunk;if(this.silent)return!1;var ot=this.level||this.parent&&this.parent.level;return!(nt.exception!==!0&&ot&&!(this.levels[ot]>=this.levels[nt[_e]])||!this.handleExceptions&&nt.exception===!0)},et.prototype._nop=function(){},i.exports.LegacyTransportStream=s(148)},function(i,o,s){var _,$=typeof Reflect=="object"?Reflect:null,_e=$&&typeof $.apply=="function"?$.apply:function(wt,Qt,It){return Function.prototype.apply.call(wt,Qt,It)};_=$&&typeof $.ownKeys=="function"?$.ownKeys:Object.getOwnPropertySymbols?function(wt){return Object.getOwnPropertyNames(wt).concat(Object.getOwnPropertySymbols(wt))}:function(wt){return Object.getOwnPropertyNames(wt)};var et=Number.isNaN||function(wt){return wt!=wt};function j(){j.init.call(this)}i.exports=j,j.EventEmitter=j,j.prototype._events=void 0,j.prototype._eventsCount=0,j.prototype._maxListeners=void 0;var nt=10;function ot(wt){return wt._maxListeners===void 0?j.defaultMaxListeners:wt._maxListeners}function ct(wt,Qt,It,xt){var Tt,mt,Nt,en;if(typeof It!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof It);if((mt=wt._events)===void 0?(mt=wt._events=Object.create(null),wt._eventsCount=0):(mt.newListener!==void 0&&(wt.emit("newListener",Qt,It.listener?It.listener:It),mt=wt._events),Nt=mt[Qt]),Nt===void 0)Nt=mt[Qt]=It,++wt._eventsCount;else if(typeof Nt=="function"?Nt=mt[Qt]=xt?[It,Nt]:[Nt,It]:xt?Nt.unshift(It):Nt.push(It),(Tt=ot(wt))>0&&Nt.length>Tt&&!Nt.warned){Nt.warned=!0;var rn=new Error("Possible EventEmitter memory leak detected. "+Nt.length+" "+String(Qt)+" listeners added. Use emitter.setMaxListeners() to increase limit");rn.name="MaxListenersExceededWarning",rn.emitter=wt,rn.type=Qt,rn.count=Nt.length,en=rn,console&&console.warn&&console.warn(en)}return wt}function gt(){for(var wt=[],Qt=0;Qt<arguments.length;Qt++)wt.push(arguments[Qt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,_e(this.listener,this.target,wt))}function pt(wt,Qt,It){var xt={fired:!1,wrapFn:void 0,target:wt,type:Qt,listener:It},Tt=gt.bind(xt);return Tt.listener=It,xt.wrapFn=Tt,Tt}function ft(wt,Qt,It){var xt=wt._events;if(xt===void 0)return[];var Tt=xt[Qt];return Tt===void 0?[]:typeof Tt=="function"?It?[Tt.listener||Tt]:[Tt]:It?function(mt){for(var Nt=new Array(mt.length),en=0;en<Nt.length;++en)Nt[en]=mt[en].listener||mt[en];return Nt}(Tt):yt(Tt,Tt.length)}function ut(wt){var Qt=this._events;if(Qt!==void 0){var It=Qt[wt];if(typeof It=="function")return 1;if(It!==void 0)return It.length}return 0}function yt(wt,Qt){for(var It=new Array(Qt),xt=0;xt<Qt;++xt)It[xt]=wt[xt];return It}Object.defineProperty(j,"defaultMaxListeners",{enumerable:!0,get:function(){return nt},set:function(wt){if(typeof wt!="number"||wt<0||et(wt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+wt+".");nt=wt}}),j.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(wt){if(typeof wt!="number"||wt<0||et(wt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+wt+".");return this._maxListeners=wt,this},j.prototype.getMaxListeners=function(){return ot(this)},j.prototype.emit=function(wt){for(var Qt=[],It=1;It<arguments.length;It++)Qt.push(arguments[It]);var xt=wt==="error",Tt=this._events;if(Tt!==void 0)xt=xt&&Tt.error===void 0;else if(!xt)return!1;if(xt){var mt;if(Qt.length>0&&(mt=Qt[0]),mt instanceof Error)throw mt;var Nt=new Error("Unhandled error."+(mt?" ("+mt.message+")":""));throw Nt.context=mt,Nt}var en=Tt[wt];if(en===void 0)return!1;if(typeof en=="function")_e(en,this,Qt);else{var rn=en.length,Ft=yt(en,rn);for(It=0;It<rn;++It)_e(Ft[It],this,Qt)}return!0},j.prototype.addListener=function(wt,Qt){return ct(this,wt,Qt,!1)},j.prototype.on=j.prototype.addListener,j.prototype.prependListener=function(wt,Qt){return ct(this,wt,Qt,!0)},j.prototype.once=function(wt,Qt){if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);return this.on(wt,pt(this,wt,Qt)),this},j.prototype.prependOnceListener=function(wt,Qt){if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);return this.prependListener(wt,pt(this,wt,Qt)),this},j.prototype.removeListener=function(wt,Qt){var It,xt,Tt,mt,Nt;if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);if((xt=this._events)===void 0)return this;if((It=xt[wt])===void 0)return this;if(It===Qt||It.listener===Qt)--this._eventsCount==0?this._events=Object.create(null):(delete xt[wt],xt.removeListener&&this.emit("removeListener",wt,It.listener||Qt));else if(typeof It!="function"){for(Tt=-1,mt=It.length-1;mt>=0;mt--)if(It[mt]===Qt||It[mt].listener===Qt){Nt=It[mt].listener,Tt=mt;break}if(Tt<0)return this;Tt===0?It.shift():function(en,rn){for(;rn+1<en.length;rn++)en[rn]=en[rn+1];en.pop()}(It,Tt),It.length===1&&(xt[wt]=It[0]),xt.removeListener!==void 0&&this.emit("removeListener",wt,Nt||Qt)}return this},j.prototype.off=j.prototype.removeListener,j.prototype.removeAllListeners=function(wt){var Qt,It,xt;if((It=this._events)===void 0)return this;if(It.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):It[wt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete It[wt]),this;if(arguments.length===0){var Tt,mt=Object.keys(It);for(xt=0;xt<mt.length;++xt)(Tt=mt[xt])!=="removeListener"&&this.removeAllListeners(Tt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Qt=It[wt])=="function")this.removeListener(wt,Qt);else if(Qt!==void 0)for(xt=Qt.length-1;xt>=0;xt--)this.removeListener(wt,Qt[xt]);return this},j.prototype.listeners=function(wt){return ft(this,wt,!0)},j.prototype.rawListeners=function(wt){return ft(this,wt,!1)},j.listenerCount=function(wt,Qt){return typeof wt.listenerCount=="function"?wt.listenerCount(Qt):ut.call(wt,Qt)},j.prototype.listenerCount=ut,j.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]}},function(i,o,s){var _=s(147).Buffer,$=_.isEncoding||function(ut){switch((ut=""+ut)&&ut.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _e(ut){var yt;switch(this.encoding=function(wt){var Qt=function(It){if(!It)return"utf8";for(var xt;;)switch(It){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return It;default:if(xt)return;It=(""+It).toLowerCase(),xt=!0}}(wt);if(typeof Qt!="string"&&(_.isEncoding===$||!$(wt)))throw new Error("Unknown encoding: "+wt);return Qt||wt}(ut),this.encoding){case"utf16le":this.text=nt,this.end=ot,yt=4;break;case"utf8":this.fillLast=j,yt=4;break;case"base64":this.text=ct,this.end=gt,yt=3;break;default:return this.write=pt,void(this.end=ft)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(yt)}function et(ut){return ut<=127?0:ut>>5==6?2:ut>>4==14?3:ut>>3==30?4:ut>>6==2?-1:-2}function j(ut){var yt=this.lastTotal-this.lastNeed,wt=function(Qt,It,xt){if((192&It[0])!=128)return Qt.lastNeed=0,"�";if(Qt.lastNeed>1&&It.length>1){if((192&It[1])!=128)return Qt.lastNeed=1,"�";if(Qt.lastNeed>2&&It.length>2&&(192&It[2])!=128)return Qt.lastNeed=2,"�"}}(this,ut);return wt!==void 0?wt:this.lastNeed<=ut.length?(ut.copy(this.lastChar,yt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ut.copy(this.lastChar,yt,0,ut.length),void(this.lastNeed-=ut.length))}function nt(ut,yt){if((ut.length-yt)%2==0){var wt=ut.toString("utf16le",yt);if(wt){var Qt=wt.charCodeAt(wt.length-1);if(Qt>=55296&&Qt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ut[ut.length-2],this.lastChar[1]=ut[ut.length-1],wt.slice(0,-1)}return wt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ut[ut.length-1],ut.toString("utf16le",yt,ut.length-1)}function ot(ut){var yt=ut&&ut.length?this.write(ut):"";if(this.lastNeed){var wt=this.lastTotal-this.lastNeed;return yt+this.lastChar.toString("utf16le",0,wt)}return yt}function ct(ut,yt){var wt=(ut.length-yt)%3;return wt===0?ut.toString("base64",yt):(this.lastNeed=3-wt,this.lastTotal=3,wt===1?this.lastChar[0]=ut[ut.length-1]:(this.lastChar[0]=ut[ut.length-2],this.lastChar[1]=ut[ut.length-1]),ut.toString("base64",yt,ut.length-wt))}function gt(ut){var yt=ut&&ut.length?this.write(ut):"";return this.lastNeed?yt+this.lastChar.toString("base64",0,3-this.lastNeed):yt}function pt(ut){return ut.toString(this.encoding)}function ft(ut){return ut&&ut.length?this.write(ut):""}o.StringDecoder=_e,_e.prototype.write=function(ut){if(ut.length===0)return"";var yt,wt;if(this.lastNeed){if((yt=this.fillLast(ut))===void 0)return"";wt=this.lastNeed,this.lastNeed=0}else wt=0;return wt<ut.length?yt?yt+this.text(ut,wt):this.text(ut,wt):yt||""},_e.prototype.end=function(ut){var yt=ut&&ut.length?this.write(ut):"";return this.lastNeed?yt+"�":yt},_e.prototype.text=function(ut,yt){var wt=function(It,xt,Tt){var mt=xt.length-1;if(mt<Tt)return 0;var Nt=et(xt[mt]);return Nt>=0?(Nt>0&&(It.lastNeed=Nt-1),Nt):--mt<Tt||Nt===-2?0:(Nt=et(xt[mt]))>=0?(Nt>0&&(It.lastNeed=Nt-2),Nt):--mt<Tt||Nt===-2?0:(Nt=et(xt[mt]))>=0?(Nt>0&&(Nt===2?Nt=0:It.lastNeed=Nt-3),Nt):0}(this,ut,yt);if(!this.lastNeed)return ut.toString("utf8",yt);this.lastTotal=wt;var Qt=ut.length-(wt-this.lastNeed);return ut.copy(this.lastChar,0,Qt),ut.toString("utf8",yt,Qt)},_e.prototype.fillLast=function(ut){if(this.lastNeed<=ut.length)return ut.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ut.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ut.length),this.lastNeed-=ut.length}},function(i,o,s){var _=s(16),$=Object.keys||function(ut){var yt=[];for(var wt in ut)yt.push(wt);return yt};i.exports=gt;var _e=s(17);_e.inherits=s(7);var et=s(69),j=s(48);_e.inherits(gt,et);for(var nt=$(j.prototype),ot=0;ot<nt.length;ot++){var ct=nt[ot];gt.prototype[ct]||(gt.prototype[ct]=j.prototype[ct])}function gt(ut){if(!(this instanceof gt))return new gt(ut);et.call(this,ut),j.call(this,ut),ut&&ut.readable===!1&&(this.readable=!1),ut&&ut.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ut&&ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",pt)}function pt(){this.allowHalfOpen||this._writableState.ended||_.nextTick(ft,this)}function ft(ut){ut.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}}),gt.prototype._destroy=function(ut,yt){this.push(null),this.end(),_.nextTick(yt,ut)}},function(i,o,s){(function(_){function $(Jt){var dn=0;return function(){return dn<Jt.length?{done:!1,value:Jt[dn++]}:{done:!0}}}var _e=typeof Object.defineProperties=="function"?Object.defineProperty:function(Jt,dn,Qn){Jt!=Array.prototype&&Jt!=Object.prototype&&(Jt[dn]=Qn.value)},et=function(Jt){Jt=[typeof window=="object"&&window,typeof self=="object"&&self,typeof _=="object"&&_,Jt];for(var dn=0;dn<Jt.length;++dn){var Qn=Jt[dn];if(Qn&&Qn.Math==Math)return Qn}throw Error("Cannot find global object")}(this);function j(Jt,dn){if(dn){var Qn=et;Jt=Jt.split(".");for(var In=0;In<Jt.length-1;In++){var qn=Jt[In];qn in Qn||(Qn[qn]={}),Qn=Qn[qn]}(dn=dn(In=Qn[Jt=Jt[Jt.length-1]]))!=In&&dn!=null&&_e(Qn,Jt,{configurable:!0,writable:!0,value:dn})}}function nt(Jt){var dn=typeof Symbol<"u"&&Symbol.iterator&&Jt[Symbol.iterator];return dn?dn.call(Jt):{next:$(Jt)}}j("Object.is",function(Jt){return Jt||function(dn,Qn){return dn===Qn?dn!==0||1/dn==1/Qn:dn!=dn&&Qn!=Qn}}),j("Array.prototype.includes",function(Jt){return Jt||function(dn,Qn){var In=this;In instanceof String&&(In=String(In));var qn=In.length;for(0>(Qn=Qn||0)&&(Qn=Math.max(Qn+qn,0));Qn<qn;Qn++){var pr=In[Qn];if(pr===dn||Object.is(pr,dn))return!0}return!1}}),j("Promise",function(Jt){function dn(Gn){this.b=0,this.c=void 0,this.a=[];var lr=this.f();try{Gn(lr.resolve,lr.reject)}catch(Cr){lr.reject(Cr)}}function Qn(){this.a=null}function In(Gn){return Gn instanceof dn?Gn:new dn(function(lr){lr(Gn)})}if(Jt)return Jt;Qn.prototype.b=function(Gn){if(this.a==null){this.a=[];var lr=this;this.c(function(){lr.g()})}this.a.push(Gn)};var qn=et.setTimeout;Qn.prototype.c=function(Gn){qn(Gn,0)},Qn.prototype.g=function(){for(;this.a&&this.a.length;){var Gn=this.a;this.a=[];for(var lr=0;lr<Gn.length;++lr){var Cr=Gn[lr];Gn[lr]=null;try{Cr()}catch(Mr){this.f(Mr)}}}this.a=null},Qn.prototype.f=function(Gn){this.c(function(){throw Gn})},dn.prototype.f=function(){function Gn(Mr){return function(Yr){Cr||(Cr=!0,Mr.call(lr,Yr))}}var lr=this,Cr=!1;return{resolve:Gn(this.m),reject:Gn(this.g)}},dn.prototype.m=function(Gn){if(Gn===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Gn instanceof dn)this.o(Gn);else{e:switch(typeof Gn){case"object":var lr=Gn!=null;break e;case"function":lr=!0;break e;default:lr=!1}lr?this.l(Gn):this.h(Gn)}},dn.prototype.l=function(Gn){var lr=void 0;try{lr=Gn.then}catch(Cr){return void this.g(Cr)}typeof lr=="function"?this.u(lr,Gn):this.h(Gn)},dn.prototype.g=function(Gn){this.i(2,Gn)},dn.prototype.h=function(Gn){this.i(1,Gn)},dn.prototype.i=function(Gn,lr){if(this.b!=0)throw Error("Cannot settle("+Gn+", "+lr+"): Promise already settled in state"+this.b);this.b=Gn,this.c=lr,this.j()},dn.prototype.j=function(){if(this.a!=null){for(var Gn=0;Gn<this.a.length;++Gn)pr.b(this.a[Gn]);this.a=null}};var pr=new Qn;return dn.prototype.o=function(Gn){var lr=this.f();Gn.w(lr.resolve,lr.reject)},dn.prototype.u=function(Gn,lr){var Cr=this.f();try{Gn.call(lr,Cr.resolve,Cr.reject)}catch(Mr){Cr.reject(Mr)}},dn.prototype.then=function(Gn,lr){function Cr(Uo,Mo){return typeof Uo=="function"?function(Ko){try{Mr(Uo(Ko))}catch(is){Yr(is)}}:Mo}var Mr,Yr,Po=new dn(function(Uo,Mo){Mr=Uo,Yr=Mo});return this.w(Cr(Gn,Mr),Cr(lr,Yr)),Po},dn.prototype.catch=function(Gn){return this.then(void 0,Gn)},dn.prototype.w=function(Gn,lr){function Cr(){switch(Mr.b){case 1:Gn(Mr.c);break;case 2:lr(Mr.c);break;default:throw Error("Unexpected state: "+Mr.b)}}var Mr=this;this.a==null?pr.b(Cr):this.a.push(Cr)},dn.resolve=In,dn.reject=function(Gn){return new dn(function(lr,Cr){Cr(Gn)})},dn.race=function(Gn){return new dn(function(lr,Cr){for(var Mr=nt(Gn),Yr=Mr.next();!Yr.done;Yr=Mr.next())In(Yr.value).w(lr,Cr)})},dn.all=function(Gn){var lr=nt(Gn),Cr=lr.next();return Cr.done?In([]):new dn(function(Mr,Yr){function Po(Ko){return function(is){Uo[Ko]=is,--Mo==0&&Mr(Uo)}}var Uo=[],Mo=0;do Uo.push(void 0),Mo++,In(Cr.value).w(Po(Uo.length-1),Yr),Cr=lr.next();while(!Cr.done)})},dn});var ot=ot||{},ct=this||self;function gt(Jt,dn){Jt=Jt.split("."),dn=dn||ct;for(var Qn=0;Qn<Jt.length;Qn++)if((dn=dn[Jt[Qn]])==null)return null;return dn}function pt(){}function ft(Jt){var dn=typeof Jt;if(dn=="object"){if(!Jt)return"null";if(Jt instanceof Array)return"array";if(Jt instanceof Object)return dn;var Qn=Object.prototype.toString.call(Jt);if(Qn=="[object Window]")return"object";if(Qn=="[object Array]"||typeof Jt.length=="number"&&Jt.splice!==void 0&&Jt.propertyIsEnumerable!==void 0&&!Jt.propertyIsEnumerable("splice"))return"array";if(Qn=="[object Function]"||Jt.call!==void 0&&Jt.propertyIsEnumerable!==void 0&&!Jt.propertyIsEnumerable("call"))return"function"}else if(dn=="function"&&Jt.call===void 0)return"object";return dn}function ut(Jt){var dn=typeof Jt;return dn=="object"&&Jt!=null||dn=="function"}function yt(Jt,dn,Qn){return Jt.call.apply(Jt.bind,arguments)}function wt(Jt,dn,Qn){if(!Jt)throw Error();if(2<arguments.length){var In=Array.prototype.slice.call(arguments,2);return function(){var qn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(qn,In),Jt.apply(dn,qn)}}return function(){return Jt.apply(dn,arguments)}}function Qt(Jt,dn,Qn){return(Qt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yt:wt).apply(null,arguments)}function It(Jt,dn){function Qn(){}Qn.prototype=dn.prototype,Jt.S=dn.prototype,Jt.prototype=new Qn,Jt.prototype.constructor=Jt}function xt(){this.a={}}function Tt(Jt,dn,Qn,In){this.f=Jt,this.c=dn,this.b=Qn,this.a=In}function mt(Jt,dn,Qn,In){Qn=Qn===void 0?{}:Qn,this.c=Jt,this.a=Qn,this.b=dn,this.f=In===void 0?null:In}function Nt(Jt,dn,Qn,In,qn,pr){this.name=Jt,this.a=qn,this.b=pr}function en(Jt,dn,Qn){Qn=Qn===void 0?{}:Qn;var In=In===void 0?new xt:In;return new Tt(dn,Jt,Qn,In)}function rn(Jt,dn,Qn,In){return In instanceof Nt?In:new Nt(Jt,Qn,In.b||dn.constructor,In.f,In.a,In.c)}function Ft(Jt){this.a=Jt}function St(Jt){switch(Jt){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function Pt(Jt){if(Error.captureStackTrace)Error.captureStackTrace(this,Pt);else{var dn=Error().stack;dn&&(this.stack=dn)}Jt&&(this.message=String(Jt))}function Bt(Jt,dn){for(var Qn="",In=(Jt=Jt.split("%s")).length-1,qn=0;qn<In;qn++)Qn+=Jt[qn]+(qn<dn.length?dn[qn]:"%s");Pt.call(this,Qn+Jt[In])}function jt(){this.j=null,this.i=[],this.l=0,this.b=qt,this.f=this.a=this.h=0,this.c=null,this.g=0}xt.prototype.get=function(Jt){return this.a[Jt]},xt.prototype.f=function(){return Object.keys(this.a)},Tt.prototype.getRequestMessage=function(){return this.f},Tt.prototype.getMethodDescriptor=function(){return this.c},Tt.prototype.getMetadata=function(){return this.b},Tt.prototype.getCallOptions=function(){return this.a},mt.prototype.getResponseMessage=function(){return this.c},mt.prototype.getMetadata=function(){return this.a},mt.prototype.getMethodDescriptor=function(){return this.b},mt.prototype.getStatus=function(){return this.f},Ft.prototype.on=function(Jt,dn){return Jt=="data"||Jt=="error"?this:this.a.on(Jt,dn)},Ft.prototype.removeListener=function(Jt,dn){return this.a.removeListener(Jt,dn)},Ft.prototype.cancel=function(){this.a.cancel()},It(Pt,Error),Pt.prototype.name="CustomError",It(Bt,Pt),Bt.prototype.name="AssertionError";var qt=0,Zt=1,Wt=2,Gt=3,Ht=0,kt=128;function Rt(Jt,dn,Qn,In){throw Jt.b=Gt,Jt.j="The stream is broken @"+Jt.l+"/"+Qn+". Error: "+In+`. With input:
`+dn,Error(Jt.j)}var $t=Array.prototype.indexOf?function(Jt,dn){return Array.prototype.indexOf.call(Jt,dn,void 0)}:function(Jt,dn){if(typeof Jt=="string")return typeof dn!="string"||dn.length!=1?-1:Jt.indexOf(dn,0);for(var Qn=0;Qn<Jt.length;Qn++)if(Qn in Jt&&Jt[Qn]===dn)return Qn;return-1},nn,Un=String.prototype.trim?function(Jt){return Jt.trim()}:function(Jt){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(Jt)[1]};function Fn(Jt,dn){return Jt.indexOf(dn)!=-1}function En(Jt,dn){return Jt<dn?-1:Jt>dn?1:0}e:{var fn=ct.navigator;if(fn){var sn=fn.userAgent;if(sn){nn=sn;break e}}nn=""}var Ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(Jt){var dn=1;Jt=Jt.split(":");for(var Qn=[];0<dn&&Jt.length;)Qn.push(Jt.shift()),dn--;return Jt.length&&Qn.push(Jt.join(":")),Qn}function Xt(Jt){return Xt[" "](Jt),Jt}Xt[" "]=pt;var _n,mn,xn=Fn(nn,"Opera"),On=Fn(nn,"Trident")||Fn(nn,"MSIE"),nr=Fn(nn,"Edge"),Nr=Fn(nn,"Gecko")&&!(Fn(nn.toLowerCase(),"webkit")&&!Fn(nn,"Edge"))&&!(Fn(nn,"Trident")||Fn(nn,"MSIE"))&&!Fn(nn,"Edge"),co=Fn(nn.toLowerCase(),"webkit")&&!Fn(nn,"Edge");function Zr(){var Jt=ct.document;return Jt?Jt.documentMode:void 0}e:{var mo="",qr=(mn=nn,Nr?/rv:([^\);]+)(\)|;)/.exec(mn):nr?/Edge\/([\d\.]+)/.exec(mn):On?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mn):co?/WebKit\/(\S+)/.exec(mn):xn?/(?:Version)[ \/]?(\S+)/.exec(mn):void 0);if(qr&&(mo=qr?qr[1]:""),On){var io=Zr();if(io!=null&&io>parseFloat(mo)){_n=String(io);break e}}_n=mo}var lo,Vo={};function Io(Jt){return function(dn,Qn){var In=Vo;return Object.prototype.hasOwnProperty.call(In,dn)?In[dn]:In[dn]=Qn(dn)}(Jt,function(){for(var dn=0,Qn=Un(String(_n)).split("."),In=Un(String(Jt)).split("."),qn=Math.max(Qn.length,In.length),pr=0;dn==0&&pr<qn;pr++){var Gn=Qn[pr]||"",lr=In[pr]||"";do{if(Gn=/(\d*)(\D*)(.*)/.exec(Gn)||["","","",""],lr=/(\d*)(\D*)(.*)/.exec(lr)||["","","",""],Gn[0].length==0&&lr[0].length==0)break;dn=En(Gn[1].length==0?0:parseInt(Gn[1],10),lr[1].length==0?0:parseInt(lr[1],10))||En(Gn[2].length==0,lr[2].length==0)||En(Gn[2],lr[2]),Gn=Gn[3],lr=lr[3]}while(dn==0)}return 0<=dn})}if(ct.document&&On){var Go=Zr();lo=Go||parseInt(_n,10)||void 0}else lo=void 0;var rs=lo;function $o(){this.F=this.F}$o.prototype.F=!1;var ds,ba=Object.freeze||function(Jt){return Jt};(ds=!On)||(ds=9<=Number(rs));var Ss=ds,Fs=On&&!Io("9"),Yl=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var Jt=!1,dn=Object.defineProperty({},"passive",{get:function(){Jt=!0}});try{ct.addEventListener("test",pt,dn),ct.removeEventListener("test",pt,dn)}catch{}return Jt}();function Ps(Jt,dn){this.type=Jt,this.a=this.target=dn,this.defaultPrevented=!1}function Cs(Jt,dn){if(Ps.call(this,Jt?Jt.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,Jt){var Qn=this.type=Jt.type,In=Jt.changedTouches&&Jt.changedTouches.length?Jt.changedTouches[0]:null;if(this.target=Jt.target||Jt.srcElement,this.a=dn,dn=Jt.relatedTarget){if(Nr){e:{try{Xt(dn.nodeName);var qn=!0;break e}catch{}qn=!1}qn||(dn=null)}}else Qn=="mouseover"?dn=Jt.fromElement:Qn=="mouseout"&&(dn=Jt.toElement);this.relatedTarget=dn,In?(this.clientX=In.clientX!==void 0?In.clientX:In.pageX,this.clientY=In.clientY!==void 0?In.clientY:In.pageY,this.screenX=In.screenX||0,this.screenY=In.screenY||0):(this.clientX=Jt.clientX!==void 0?Jt.clientX:Jt.pageX,this.clientY=Jt.clientY!==void 0?Jt.clientY:Jt.pageY,this.screenX=Jt.screenX||0,this.screenY=Jt.screenY||0),this.button=Jt.button,this.key=Jt.key||"",this.ctrlKey=Jt.ctrlKey,this.altKey=Jt.altKey,this.shiftKey=Jt.shiftKey,this.metaKey=Jt.metaKey,this.pointerId=Jt.pointerId||0,this.pointerType=typeof Jt.pointerType=="string"?Jt.pointerType:gu[Jt.pointerType]||"",this.c=Jt,Jt.defaultPrevented&&this.b()}}Ps.prototype.b=function(){this.defaultPrevented=!0},It(Cs,Ps);var gu=ba({2:"touch",3:"pen",4:"mouse"});Cs.prototype.b=function(){Cs.S.b.call(this);var Jt=this.c;if(Jt.preventDefault)Jt.preventDefault();else if(Jt.returnValue=!1,Fs)try{(Jt.ctrlKey||112<=Jt.keyCode&&123>=Jt.keyCode)&&(Jt.keyCode=-1)}catch{}};var Us="closure_listenable_"+(1e6*Math.random()|0),ru=0;function Gr(Jt,dn,Qn,In,qn){this.listener=Jt,this.proxy=null,this.src=dn,this.type=Qn,this.capture=!!In,this.A=qn,this.key=++ru,this.s=this.v=!1}function Cn(Jt){Jt.s=!0,Jt.listener=null,Jt.proxy=null,Jt.src=null,Jt.A=null}function Mn(Jt){this.src=Jt,this.a={},this.b=0}function Hn(Jt,dn){var Qn=dn.type;if(Qn in Jt.a){var In,qn=Jt.a[Qn],pr=$t(qn,dn);(In=0<=pr)&&Array.prototype.splice.call(qn,pr,1),In&&(Cn(dn),Jt.a[Qn].length==0&&(delete Jt.a[Qn],Jt.b--))}}function Jn(Jt,dn,Qn,In){for(var qn=0;qn<Jt.length;++qn){var pr=Jt[qn];if(!pr.s&&pr.listener==dn&&pr.capture==!!Qn&&pr.A==In)return qn}return-1}Mn.prototype.add=function(Jt,dn,Qn,In,qn){var pr=Jt.toString();(Jt=this.a[pr])||(Jt=this.a[pr]=[],this.b++);var Gn=Jn(Jt,dn,In,qn);return-1<Gn?(dn=Jt[Gn],Qn||(dn.v=!1)):((dn=new Gr(dn,this.src,pr,!!In,qn)).v=Qn,Jt.push(dn)),dn};var pn="closure_lm_"+(1e6*Math.random()|0),wn={};function Nn(Jt,dn,Qn,In,qn){if(In&&In.once)(function Gn(lr,Cr,Mr,Yr,Po){if(Array.isArray(Cr))for(var Uo=0;Uo<Cr.length;Uo++)Gn(lr,Cr[Uo],Mr,Yr,Po);else Mr=ir(Mr),lr&&lr[Us]?lr.f.add(String(Cr),Mr,!0,ut(Yr)?!!Yr.capture:!!Yr,Po):jn(lr,Cr,Mr,!0,Yr,Po)})(Jt,dn,Qn,In,qn);else if(Array.isArray(dn))for(var pr=0;pr<dn.length;pr++)Nn(Jt,dn[pr],Qn,In,qn);else Qn=ir(Qn),Jt&&Jt[Us]?Jt.f.add(String(dn),Qn,!1,ut(In)?!!In.capture:!!In,qn):jn(Jt,dn,Qn,!1,In,qn)}function jn(Jt,dn,Qn,In,qn,pr){if(!dn)throw Error("Invalid event type");var Gn=ut(qn)?!!qn.capture:!!qn,lr=Sn(Jt);if(lr||(Jt[pn]=lr=new Mn(Jt)),!(Qn=lr.add(dn,Qn,In,Gn,pr)).proxy)if(In=function(){var Cr=bn,Mr=Ss?function(Yr){return Cr.call(Mr.src,Mr.listener,Yr)}:function(Yr){if(!(Yr=Cr.call(Mr.src,Mr.listener,Yr)))return Yr};return Mr}(),Qn.proxy=In,In.src=Jt,In.listener=Qn,Jt.addEventListener)Yl||(qn=Gn),qn===void 0&&(qn=!1),Jt.addEventListener(dn.toString(),In,qn);else if(Jt.attachEvent)Jt.attachEvent(rr(dn.toString()),In);else{if(!Jt.addListener||!Jt.removeListener)throw Error("addEventListener and attachEvent are unavailable.");Jt.addListener(In)}}function Wn(Jt){if(typeof Jt!="number"&&Jt&&!Jt.s){var dn=Jt.src;if(dn&&dn[Us])Hn(dn.f,Jt);else{var Qn=Jt.type,In=Jt.proxy;dn.removeEventListener?dn.removeEventListener(Qn,In,Jt.capture):dn.detachEvent?dn.detachEvent(rr(Qn),In):dn.addListener&&dn.removeListener&&dn.removeListener(In),(Qn=Sn(dn))?(Hn(Qn,Jt),Qn.b==0&&(Qn.src=null,dn[pn]=null)):Cn(Jt)}}}function rr(Jt){return Jt in wn?wn[Jt]:wn[Jt]="on"+Jt}function Qr(Jt,dn,Qn,In){var qn=!0;if((Jt=Sn(Jt))&&(dn=Jt.a[dn.toString()]))for(dn=dn.concat(),Jt=0;Jt<dn.length;Jt++){var pr=dn[Jt];pr&&pr.capture==Qn&&!pr.s&&(pr=Vn(pr,In),qn=qn&&pr!==!1)}return qn}function Vn(Jt,dn){var Qn=Jt.listener,In=Jt.A||Jt.src;return Jt.v&&Wn(Jt),Qn.call(In,dn)}function bn(Jt,dn){if(Jt.s)return!0;if(!Ss){var Qn=dn||gt("window.event");dn=new Cs(Qn,this);var In=!0;if(!(0>Qn.keyCode||Qn.returnValue!=null)){e:{var qn=!1;if(Qn.keyCode==0)try{Qn.keyCode=-1;break e}catch{qn=!0}(qn||Qn.returnValue==null)&&(Qn.returnValue=!0)}for(Qn=[],qn=dn.a;qn;qn=qn.parentNode)Qn.push(qn);for(Jt=Jt.type,qn=Qn.length-1;0<=qn;qn--){dn.a=Qn[qn];var pr=Qr(Qn[qn],Jt,!0,dn);In=In&&pr}for(qn=0;qn<Qn.length;qn++)dn.a=Qn[qn],pr=Qr(Qn[qn],Jt,!1,dn),In=In&&pr}return In}return Vn(Jt,new Cs(dn,this))}function Sn(Jt){return(Jt=Jt[pn])instanceof Mn?Jt:null}var Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(Jt){return ft(Jt)=="function"?Jt:(Jt[Zn]||(Jt[Zn]=function(dn){return Jt.handleEvent(dn)}),Jt[Zn])}function hr(){$o.call(this),this.f=new Mn(this),this.N=this}function gr(Jt,dn){Jt=Jt.N;var Qn=dn.type||dn;if(typeof dn=="string")dn=new Ps(dn,Jt);else if(dn instanceof Ps)dn.target=dn.target||Jt;else{var In=dn;(function(qn,pr){for(var Gn,lr,Cr=1;Cr<arguments.length;Cr++){for(Gn in lr=arguments[Cr])qn[Gn]=lr[Gn];for(var Mr=0;Mr<Ct.length;Mr++)Gn=Ct[Mr],Object.prototype.hasOwnProperty.call(lr,Gn)&&(qn[Gn]=lr[Gn])}})(dn=new Ps(Qn,Jt),In)}Rr(Jt=dn.a=Jt,Qn,!0,dn),Rr(Jt,Qn,!1,dn)}function Rr(Jt,dn,Qn,In){if(dn=Jt.f.a[String(dn)]){dn=dn.concat();for(var qn=!0,pr=0;pr<dn.length;++pr){var Gn=dn[pr];if(Gn&&!Gn.s&&Gn.capture==Qn){var lr=Gn.listener,Cr=Gn.A||Gn.src;Gn.v&&Hn(Jt.f,Gn),qn=lr.call(Cr,In)!==!1&&qn}}}}function mr(Jt,dn,Qn){if(ft(Jt)=="function")Qn&&(Jt=Qt(Jt,Qn));else{if(!Jt||typeof Jt.handleEvent!="function")throw Error("Invalid listener argument");Jt=Qt(Jt.handleEvent,Jt)}return 2147483647<Number(dn)?-1:ct.setTimeout(Jt,dn||0)}function Er(Jt,dn,Qn){this.reset(Jt,dn,Qn,void 0,void 0)}It(hr,$o),hr.prototype[Us]=!0,hr.prototype.addEventListener=function(Jt,dn,Qn,In){Nn(this,Jt,dn,Qn,In)},hr.prototype.removeEventListener=function(Jt,dn,Qn,In){(function qn(pr,Gn,lr,Cr,Mr){if(Array.isArray(Gn))for(var Yr=0;Yr<Gn.length;Yr++)qn(pr,Gn[Yr],lr,Cr,Mr);else Cr=ut(Cr)?!!Cr.capture:!!Cr,lr=ir(lr),pr&&pr[Us]?(pr=pr.f,(Gn=String(Gn).toString())in pr.a&&-1<(lr=Jn(Yr=pr.a[Gn],lr,Cr,Mr))&&(Cn(Yr[lr]),Array.prototype.splice.call(Yr,lr,1),Yr.length==0&&(delete pr.a[Gn],pr.b--))):pr&&(pr=Sn(pr))&&(Gn=pr.a[Gn.toString()],pr=-1,Gn&&(pr=Jn(Gn,lr,Cr,Mr)),(lr=-1<pr?Gn[pr]:null)&&Wn(lr))})(this,Jt,dn,Qn,In)},Er.prototype.a=null;function Dr(Jt){this.f=Jt,this.b=this.c=this.a=null}function Kr(Jt,dn){this.name=Jt,this.value=dn}Er.prototype.reset=function(Jt,dn,Qn,In,qn){delete this.a},Kr.prototype.toString=function(){return this.name};var Hr=new Kr("SEVERE",1e3),wo=new Kr("CONFIG",700),To=new Kr("FINE",500);function Qo(Jt){return Jt.c?Jt.c:Jt.a?Qo(Jt.a):(function(dn,Qn){throw new Bt("Failure"+(dn?": "+dn:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}Dr.prototype.log=function(Jt,dn,Qn){if(Jt.value>=Qo(this).value)for(ft(dn)=="function"&&(dn=dn()),Jt=new Er(Jt,String(dn),this.f),Qn&&(Jt.a=Qn),Qn=this;Qn;)Qn=Qn.a};var Do,Zo={},as=null;function Eo(Jt,dn){Jt&&Jt.log(To,dn,void 0)}function Qs(){}function Bs(Jt){var dn;return(dn=Jt.a)||(dn={},zr(Jt)&&(dn[0]=!0,dn[1]=!0),dn=Jt.a=dn),dn}function Qu(){}function mu(Jt){return(Jt=zr(Jt))?new ActiveXObject(Jt):new XMLHttpRequest}function zr(Jt){if(!Jt.b&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var dn=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],Qn=0;Qn<dn.length;Qn++){var In=dn[Qn];try{return new ActiveXObject(In),Jt.b=In}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return Jt.b}function Fl(Jt,dn){this.b={},this.a=[],this.c=0;var Qn=arguments.length;if(1<Qn){if(Qn%2)throw Error("Uneven number of arguments");for(var In=0;In<Qn;In+=2)this.set(arguments[In],arguments[In+1])}else Jt&&yu(this,Jt)}function $s(Jt){if(Jt.c!=Jt.a.length){for(var dn=0,Qn=0;dn<Jt.a.length;){var In=Jt.a[dn];lu(Jt.b,In)&&(Jt.a[Qn++]=In),dn++}Jt.a.length=Qn}if(Jt.c!=Jt.a.length){var qn={};for(Qn=dn=0;dn<Jt.a.length;)lu(qn,In=Jt.a[dn])||(Jt.a[Qn++]=In,qn[In]=1),dn++;Jt.a.length=Qn}}function yu(Jt,dn){if(dn instanceof Fl)for(var Qn=dn.f(),In=0;In<Qn.length;In++)Jt.set(Qn[In],dn.get(Qn[In]));else for(Qn in dn)Jt.set(Qn,dn[Qn])}function lu(Jt,dn){return Object.prototype.hasOwnProperty.call(Jt,dn)}Qs.prototype.a=null,It(Qu,Qs),Do=new Qu,Fl.prototype.f=function(){return $s(this),this.a.concat()},Fl.prototype.get=function(Jt,dn){return lu(this.b,Jt)?this.b[Jt]:dn},Fl.prototype.set=function(Jt,dn){lu(this.b,Jt)||(this.c++,this.a.push(Jt)),this.b[Jt]=dn},Fl.prototype.forEach=function(Jt,dn){for(var Qn=this.f(),In=0;In<Qn.length;In++){var qn=Qn[In],pr=this.get(qn);Jt.call(dn,pr,qn,this)}};var xu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ql(Jt){hr.call(this),this.headers=new Fl,this.D=Jt||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=cm,this.B=this.H=!1}It(Ql,hr);var cm="",cp=Ql.prototype,Fo=function Jt(dn){var Qn;if(as||(as=new Dr(""),Zo[""]=as,as.c=wo),!(Qn=Zo[dn])){Qn=new Dr(dn);var In=dn.lastIndexOf("."),qn=dn.substr(In+1);(In=Jt(dn.substr(0,In))).b||(In.b={}),In.b[qn]=Qn,Qn.a=In,Zo[dn]=Qn}return Qn}("goog.net.XhrIo");cp.b=Fo;var us=/^https?$/i,fs=["POST","PUT"];function Au(Jt,dn,Qn){if(Jt.a)throw Error("[goog.net.XhrIo] Object is active with another request="+Jt.o+"; newUri="+dn);Jt.o=dn,Jt.i="",Jt.g=0,Jt.J="POST",Jt.G=!1,Jt.c=!0,Jt.a=Jt.D?mu(Jt.D):mu(Do),Jt.C=Jt.D?Bs(Jt.D):Bs(Do),Jt.a.onreadystatechange=Qt(Jt.K,Jt);try{Eo(Jt.b,zs(Jt,"Opening Xhr")),Jt.I=!0,Jt.a.open("POST",String(dn),!0),Jt.I=!1}catch(pr){return Eo(Jt.b,zs(Jt,"Error opening Xhr: "+pr.message)),void ss(Jt,pr)}dn=Qn||"";var In=function(pr){e:{for(var Gn=up,lr=pr.length,Cr=typeof pr=="string"?pr.split(""):pr,Mr=0;Mr<lr;Mr++)if(Mr in Cr&&Gn.call(void 0,Cr[Mr],Mr,pr)){Gn=Mr;break e}Gn=-1}return 0>Gn?null:typeof pr=="string"?pr.charAt(Gn):pr[Gn]}((Qn=new Fl(Jt.headers)).f()),qn=ct.FormData&&dn instanceof ct.FormData;!(0<=$t(fs,"POST"))||In||qn||Qn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Qn.forEach(function(pr,Gn){this.a.setRequestHeader(Gn,pr)},Jt),Jt.j&&(Jt.a.responseType=Jt.j),"withCredentials"in Jt.a&&Jt.a.withCredentials!==Jt.H&&(Jt.a.withCredentials=Jt.H);try{Pl(Jt),0<Jt.l&&(Jt.B=function(pr){return On&&Io(9)&&typeof pr.timeout=="number"&&pr.ontimeout!==void 0}(Jt.a),Eo(Jt.b,zs(Jt,"Will abort after "+Jt.l+"ms if incomplete, xhr2 "+Jt.B)),Jt.B?(Jt.a.timeout=Jt.l,Jt.a.ontimeout=Qt(Jt.L,Jt)):Jt.u=mr(Jt.L,Jt.l,Jt)),Eo(Jt.b,zs(Jt,"Sending request")),Jt.m=!0,Jt.a.send(dn),Jt.m=!1}catch(pr){Eo(Jt.b,zs(Jt,"Send error: "+pr.message)),ss(Jt,pr)}}function up(Jt){return Jt.toLowerCase()=="content-type"}function ss(Jt,dn){Jt.c=!1,Jt.a&&(Jt.h=!0,Jt.a.abort(),Jt.h=!1),Jt.i=dn,Jt.g=5,Zu(Jt),_u(Jt)}function Zu(Jt){Jt.G||(Jt.G=!0,gr(Jt,"complete"),gr(Jt,"error"))}function Gu(Jt){if(Jt.c&&ot!==void 0){if(Jt.C[1]&&_s(Jt)==4&&Jt.getStatus()==2)Eo(Jt.b,zs(Jt,"Local request error detected and ignored"));else if(Jt.m&&_s(Jt)==4)mr(Jt.K,0,Jt);else if(gr(Jt,"readystatechange"),_s(Jt)==4){Eo(Jt.b,zs(Jt,"Request complete")),Jt.c=!1;try{var dn,Qn=Jt.getStatus();e:switch(Qn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var In=!0;break e;default:In=!1}if(!(dn=In)){var qn;if(qn=Qn===0){var pr=String(Jt.o).match(xu)[1]||null;if(!pr&&ct.self&&ct.self.location){var Gn=ct.self.location.protocol;pr=Gn.substr(0,Gn.length-1)}qn=!us.test(pr?pr.toLowerCase():"")}dn=qn}if(dn)gr(Jt,"complete"),gr(Jt,"success");else{Jt.g=6;try{var lr=2<_s(Jt)?Jt.a.statusText:""}catch(Cr){Eo(Jt.b,"Can not get status: "+Cr.message),lr=""}Jt.i=lr+" ["+Jt.getStatus()+"]",Zu(Jt)}}finally{_u(Jt)}}}}function _u(Jt){if(Jt.a){Pl(Jt);var dn=Jt.a,Qn=Jt.C[0]?pt:null;Jt.a=null,Jt.C=null,gr(Jt,"ready");try{dn.onreadystatechange=Qn}catch(In){(Jt=Jt.b)&&Jt.log(Hr,"Problem encountered resetting onreadystatechange: "+In.message,void 0)}}}function Pl(Jt){Jt.a&&Jt.B&&(Jt.a.ontimeout=null),Jt.u&&(ct.clearTimeout(Jt.u),Jt.u=null)}function _s(Jt){return Jt.a?Jt.a.readyState:0}function Mm(Jt,dn){if(Jt.a&&_s(Jt)==4)return(Jt=Jt.a.getResponseHeader(dn))===null?void 0:Jt}function zs(Jt,dn){return dn+" ["+Jt.J+" "+Jt.o+" "+Jt.getStatus()+"]"}Ql.prototype.L=function(){ot!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,Eo(this.b,zs(this,this.i)),gr(this,"timeout"),this.abort(8))},Ql.prototype.abort=function(Jt){this.a&&this.c&&(Eo(this.b,zs(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=Jt||7,gr(this,"complete"),gr(this,"abort"),_u(this))},Ql.prototype.K=function(){this.F||(this.I||this.m||this.h?Gu(this):this.O())},Ql.prototype.O=function(){Gu(this)},Ql.prototype.getStatus=function(){try{return 2<_s(this)?this.a.status:-1}catch{return-1}};var Hu={},xa=null;function $u(Jt){var dn=Jt.length,Qn=3*dn/4;Qn%3?Qn=Math.floor(Qn):Fn("=.",Jt[dn-1])&&(Qn=Fn("=.",Jt[dn-2])?Qn-2:Qn-1);var In=new Uint8Array(Qn),qn=0;return function(pr,Gn){function lr(Mo){for(;Cr<pr.length;){var Ko=pr.charAt(Cr++),is=xa[Ko];if(is!=null)return is;if(!/^[\s\xa0]*$/.test(Ko))throw Error("Unknown base64 encoding at char: "+Ko)}return Mo}hp();for(var Cr=0;;){var Mr=lr(-1),Yr=lr(0),Po=lr(64),Uo=lr(64);if(Uo===64&&Mr===-1)break;Gn(Mr<<2|Yr>>4),Po!=64&&(Gn(Yr<<4&240|Po>>2),Uo!=64&&Gn(Po<<6&192|Uo))}}(Jt,function(pr){In[qn++]=pr}),In.subarray(0,qn)}function hp(){if(!xa){xa={};for(var Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),dn=["+/=","+/","-_=","-_.","-_"],Qn=0;5>Qn;Qn++){var In=Jt.concat(dn[Qn].split(""));Hu[Qn]=In;for(var qn=0;qn<In.length;qn++){var pr=In[qn];xa[pr]===void 0&&(xa[pr]=qn)}}}}var zp=["content-type","grpc-status","grpc-message"];function yl(Jt){this.a=Jt.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new jt;var dn=this;Nn(this.a,"readystatechange",function(){var Qn=dn.a;if(Qn=Qn.a?Qn.a.getResponseHeader("Content-Type"):null){if((Qn=Qn.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){Qn=dn.a;try{var In=Qn.a?Qn.a.responseText:""}catch(Mr){Eo(Qn.b,"Can not get responseText: "+Mr.message),In=""}if(In=(Qn=In||"").length-Qn.length%4,(Qn=Qn.substr(dn.i,In-dn.i)).length==0)return;dn.i=In,Qn=$u(Qn)}else{if(Qn.lastIndexOf("application/grpc",0)!=0)return void Ml(dn,{code:2,message:"Unknown Content-type received.",metadata:{}});Qn=new Uint8Array(function(Mr){try{if(!Mr.a)return null;if("response"in Mr.a)return Mr.a.response;switch(Mr.j){case cm:case"text":return Mr.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in Mr.a)return Mr.a.mozResponseArrayBuffer}var Yr=Mr.b;return Yr&&Yr.log(Hr,"Response type "+Mr.j+" is not supported on this browser",void 0),null}catch(Po){return Eo(Mr.b,"Can not get response: "+Po.message),null}}(dn.a))}In=null;try{In=function(Mr,Yr){function Po(cu){Co.f++,Co.a=(Co.a<<8)+cu,Co.f==4&&(Co.b=Wt,Co.g=0,typeof Uint8Array<"u"?Co.c=new Uint8Array(Co.a):Co.c=Array(Co.a),Co.a==0&&Mo())}function Uo(cu){Co.c[Co.g++]=cu,Co.g==Co.a&&Mo()}function Mo(){var cu={};cu[Co.h]=Co.c,Co.i.push(cu),Co.b=qt}var Ko,is,Co=Mr,Al=0;for(Ko=Yr instanceof Uint8Array||Yr instanceof Array?Yr:new Uint8Array(Yr);Al<Ko.length;){switch(Co.b){case Gt:Rt(Co,Ko,Al,"stream already broken");break;case qt:(is=Ko[Al])==Ht||is==kt?Co.h=is:Rt(Co,Ko,Al,"invalid frame byte"),Co.b=Zt,Co.a=0,Co.f=0;break;case Zt:Po(Ko[Al]);break;case Wt:Uo(Ko[Al]);break;default:throw Error("unexpected parser state: "+Co.b)}Co.l++,Al++}return Mr=Co.i,Co.i=[],0<Mr.length?Mr:null}(dn.m,Qn)}catch{Ml(dn,{code:2,message:"Error in parsing response body",metadata:{}})}if(In)for(Qn=0;Qn<In.length;Qn++){if(Ht in In[Qn]){var qn=In[Qn][Ht];if(qn)try{var pr=dn.l(qn);if(pr){qn=dn;for(var Gn=pr,lr=0;lr<qn.b.length;lr++)qn.b[lr](Gn)}}catch{Ml(dn,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(kt in In[Qn]&&0<In[Qn][kt].length){for(qn="",Gn=0;Gn<In[Qn][kt].length;Gn++)qn+=String.fromCharCode(In[Qn][kt][Gn]);for(qn=qn.trim().split(`\r
`),Gn={},lr=0;lr<qn.length;lr++){var Cr=qn[lr].indexOf(":");Gn[qn[lr].substring(0,Cr).trim()]=qn[lr].substring(Cr+1).trim()}qn=Gn,Gn=0,lr="","grpc-status"in qn&&(Gn=qn["grpc-status"],delete qn["grpc-status"]),"grpc-message"in qn&&(lr=qn["grpc-message"],delete qn["grpc-message"]),Ml(dn,{code:Number(Gn),message:lr,metadata:qn})}}}}),Nn(this.a,"complete",function(){var Qn=dn.a.g,In="",qn={},pr=function(lr){var Cr={};lr=(lr.a&&_s(lr)==4&&lr.a.getAllResponseHeaders()||"").split(`\r
`);for(var Mr=0;Mr<lr.length;Mr++)if(!/^[\s\xa0]*$/.test(lr[Mr])){var Yr=Dt(lr[Mr]),Po=Yr[0];if(typeof(Yr=Yr[1])=="string"){Yr=Yr.trim();var Uo=Cr[Po]||[];Cr[Po]=Uo,Uo.push(Yr)}}return function(Mo,Ko){var is,Co={};for(is in Mo)Co[is]=Ko.call(void 0,Mo[is],is,Mo);return Co}(Cr,function(Mo){return Mo.join(", ")})}(dn.a);if(Object.keys(pr).forEach(function(lr){zp.includes(lr)||(qn[lr]=pr[lr])}),function(lr,Cr){for(var Mr=0;Mr<lr.g.length;Mr++)lr.g[Mr](Cr)}(dn,qn),Qn!=0){switch(Qn){case 7:var Gn=10;break;case 8:Gn=4;break;case 6:Gn=function(lr){switch(lr){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(dn.a.getStatus());break;default:Gn=14}Gn==10&&dn.j||Ml(dn,{code:Gn,message:St(Qn),metadata:{}})}else Qn=!1,"grpc-status"in pr&&(Gn=Mm(dn.a,"grpc-status"),"grpc-message"in pr&&(In=Mm(dn.a,"grpc-message")),Number(Gn)!=0&&(Ml(dn,{code:Number(Gn),message:In,metadata:pr}),Qn=!0)),Qn||function(lr){for(var Cr=0;Cr<lr.c.length;Cr++)lr.c[Cr]()}(dn)})}function tu(Jt,dn){-1<(dn=Jt.indexOf(dn))&&Jt.splice(dn,1)}function Ml(Jt,dn){if(dn.code!=0)for(var Qn={code:dn.code,message:decodeURIComponent(dn.message||""),metadata:dn.metadata},In=0;In<Jt.f.length;In++)Jt.f[In](Qn);for(dn={code:dn.code,details:decodeURIComponent(dn.message||""),metadata:dn.metadata},Qn=0;Qn<Jt.h.length;Qn++)Jt.h[Qn](dn)}function vs(Jt){this.a=gt("format",Jt)||"text",this.f=gt("suppressCorsPreflight",Jt)||!1,this.c=gt("withCredentials",Jt)||!1,this.b=gt("streamInterceptors",Jt)||[],this.g=gt("unaryInterceptors",Jt)||[]}function Zs(Jt,dn,Qn){var In=dn.getMethodDescriptor(),qn=Qn+In.name;(Qn=new Ql).H=Jt.c;var pr=new yl({T:Qn});if(pr.l=In.b,yu(Qn.headers,dn.getMetadata()),Jt.a=="text"?(Qn.headers.set("Content-Type","application/grpc-web-text"),Qn.headers.set("Accept","application/grpc-web-text")):Qn.headers.set("Content-Type","application/grpc-web+proto"),Qn.headers.set("X-User-Agent","grpc-web-javascript/0.1"),Qn.headers.set("X-Grpc-Web","1"),lu(Qn.headers.b,"deadline")){var Gn=Qn.headers.get("deadline");Gn=Math.round(Gn-new Date().getTime());var lr=Qn.headers;lu(lr.b,"deadline")&&(delete lr.b.deadline,lr.c--,lr.a.length>2*lr.c&&$s(lr)),1/0===Gn&&(Gn=0),0<Gn&&Qn.headers.set("grpc-timeout",Gn+"m")}if(Jt.f){$s(lr=Qn.headers),Gn={};for(var Cr=0;Cr<lr.a.length;Cr++){var Mr=lr.a[Cr];Gn[Mr]=lr.b[Mr]}(lr=Qn.headers).b={},lr.a.length=0,lr.c=0;e:{for(Yr in Gn){var Yr=!1;break e}Yr=!0}Yr||(Gn=function(Mo){var Ko="";return function(is,Co){for(var Al in is)Co.call(void 0,is[Al],Al,is)}(Mo,function(is,Co){Ko+=Co,Ko+=":",Ko+=is,Ko+=`\r
`}),Ko}(Gn),typeof qn=="string"?(Yr=encodeURIComponent("$httpHeaders"),(Yr+=Gn=Gn!=null?"="+encodeURIComponent(String(Gn)):"")&&(0>(Gn=qn.indexOf("#"))&&(Gn=qn.length),0>(lr=qn.indexOf("?"))||lr>Gn?(lr=Gn,Cr=""):Cr=qn.substring(lr+1,Gn),Gn=(qn=[qn.substr(0,lr),Cr,qn.substr(Gn)])[1],qn[1]=Yr?Gn?Gn+"&"+Yr:Yr:Gn,qn=qn[0]+(qn[1]?"?"+qn[1]:"")+qn[2])):qn.a("$httpHeaders",Gn))}for(In=(dn=(0,In.a)(dn.getRequestMessage())).length,Yr=[0,0,0,0],Gn=new Uint8Array(5+In),lr=3;0<=lr;lr--)Yr[lr]=In%256,In>>>=8;if(Gn.set(new Uint8Array(Yr),1),Gn.set(dn,5),dn=Gn,Jt.a=="text"){var Po;for(Jt=dn,Po===void 0&&(Po=0),hp(),Po=Hu[Po],dn=[],In=0;In<Jt.length;In+=3){Mr=Jt[In];var Uo=(Yr=In+1<Jt.length)?Jt[In+1]:0;lr=Mr>>2,Mr=(3&Mr)<<4|Uo>>4,Uo=(15&Uo)<<2|(Cr=(Gn=In+2<Jt.length)?Jt[In+2]:0)>>6,Cr&=63,Gn||(Cr=64,Yr||(Uo=64)),dn.push(Po[lr],Po[Mr],Po[Uo]||"",Po[Cr]||"")}dn=dn.join("")}else Jt.a=="binary"&&(Qn.j="arraybuffer");return Au(Qn,qn,dn),pr}function Zp(Jt,dn,Qn){var In=null,qn=!1;Jt.on("data",function(pr){In=pr}),Jt.on("error",function(pr){pr.code==0||qn||(qn=!0,dn(pr,null))}),Jt.on("status",function(pr){pr.code==0||qn?Qn&&dn(null,null,pr):(qn=!0,dn({code:pr.code,message:pr.details,metadata:pr.metadata},null))}),Qn&&Jt.on("metadata",function(pr){dn(null,null,null,pr)}),Jt.on("end",function(){qn||(In==null?dn({code:2,message:"Incomplete response"}):dn(null,In)),Qn&&dn(null,null)})}function dp(Jt,dn){var Qn=Jt;return dn.forEach(function(In){var qn=Qn;Qn=function(pr){return In.intercept(pr,qn)}}),Qn}yl.prototype.on=function(Jt,dn){return Jt=="data"?this.b.push(dn):Jt=="status"?this.h.push(dn):Jt=="metadata"?this.g.push(dn):Jt=="end"?this.c.push(dn):Jt=="error"&&this.f.push(dn),this},yl.prototype.removeListener=function(Jt,dn){return Jt=="data"?tu(this.b,dn):Jt=="status"?tu(this.h,dn):Jt=="metadata"?tu(this.g,dn):Jt=="end"?tu(this.c,dn):Jt=="error"&&tu(this.f,dn),this},yl.prototype.cancel=function(){this.j=!0,this.a.abort()},yl.prototype.cancel=yl.prototype.cancel,yl.prototype.removeListener=yl.prototype.removeListener,yl.prototype.on=yl.prototype.on,vs.prototype.P=function(Jt,dn,Qn,In,qn){var pr=this;In=rn(Jt,dn,"unary",In);var Gn=Jt.substr(0,Jt.length-In.name.length);return Zp(Jt=dp(function(lr){return Zs(pr,lr,Gn)},this.b).call(this,en(In,dn,Qn)),qn,!1),new Ft(Jt)},vs.prototype.M=function(Jt,dn,Qn,In){var qn=this;In=rn(Jt,dn,"unary",In);var pr=Jt.substr(0,Jt.length-In.name.length);return dp(function(Gn){return new Promise(function(lr,Cr){var Mr,Yr,Po;Zp(Zs(qn,Gn,pr),function(Uo,Mo,Ko,is){Uo?Cr(Uo):Mo?Po=Mo:Ko?Yr=Ko:is?Mr=is:(Uo=Gn.getMethodDescriptor(),lr(new mt(Po,Uo,Mo=(Mo=Mr)===void 0?{}:Mo,Yr===void 0?null:Yr)))},!0)})},this.g).call(this,en(In,dn,Qn)).then(function(Gn){return Gn.getResponseMessage()})},vs.prototype.unaryCall=function(Jt,dn,Qn,In){return this.M(Jt,dn,Qn,In)},vs.prototype.R=function(Jt,dn,Qn,In){var qn=this;In=rn(Jt,dn,"server_streaming",In);var pr=Jt.substr(0,Jt.length-In.name.length);return dp(function(Gn){return Zs(qn,Gn,pr)},this.b).call(this,en(In,dn,Qn))},vs.prototype.serverStreaming=vs.prototype.R,vs.prototype.unaryCall=vs.prototype.unaryCall,vs.prototype.thenableCall=vs.prototype.M,vs.prototype.rpcCall=vs.prototype.P,i.exports.AbstractClientBase={MethodInfo:function(Jt,dn,Qn,In,qn){this.name=In,this.b=qn,this.f=Jt,this.a=dn,this.c=Qn}},i.exports.GrpcWebClientBase=vs,i.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},i.exports.MethodDescriptor=Nt,i.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,s(6))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isAsyncIterable=o.isAsyncGenerator=o.isAsync=void 0;var _,$=s(152),_e=(_=$)&&_.__esModule?_:{default:_};function et(j){return j[Symbol.toStringTag]==="AsyncFunction"}o.default=function(j){if(typeof j!="function")throw new Error("expected a function");return et(j)?(0,_e.default)(j):j},o.isAsync=et,o.isAsyncGenerator=function(j){return j[Symbol.toStringTag]==="AsyncGenerator"},o.isAsyncIterable=function(j){return typeof j[Symbol.asyncIterator]=="function"}},function(i,o,s){var _={};function $(et,j,nt){nt||(nt=Error);var ot=function(ct){var gt,pt;function ft(ut,yt,wt){return ct.call(this,function(Qt,It,xt){return typeof j=="string"?j:j(Qt,It,xt)}(ut,yt,wt))||this}return pt=ct,(gt=ft).prototype=Object.create(pt.prototype),gt.prototype.constructor=gt,gt.__proto__=pt,ft}(nt);ot.prototype.name=nt.name,ot.prototype.code=et,_[et]=ot}function _e(et,j){if(Array.isArray(et)){var nt=et.length;return et=et.map(function(ot){return String(ot)}),nt>2?"one of ".concat(j," ").concat(et.slice(0,nt-1).join(", "),", or ")+et[nt-1]:nt===2?"one of ".concat(j," ").concat(et[0]," or ").concat(et[1]):"of ".concat(j," ").concat(et[0])}return"of ".concat(j," ").concat(String(et))}$("ERR_INVALID_OPT_VALUE",function(et,j){return'The value "'+j+'" is invalid for option "'+et+'"'},TypeError),$("ERR_INVALID_ARG_TYPE",function(et,j,nt){var ot,ct,gt;if(typeof j=="string"&&(ct="not ",j.substr(0,ct.length)===ct)?(ot="must not be",j=j.replace(/^not /,"")):ot="must be",function(ft,ut,yt){return(yt===void 0||yt>ft.length)&&(yt=ft.length),ft.substring(yt-ut.length,yt)===ut}(et," argument"))gt="The ".concat(et," ").concat(ot," ").concat(_e(j,"type"));else{var pt=function(ft,ut,yt){return typeof yt!="number"&&(yt=0),!(yt+ut.length>ft.length)&&ft.indexOf(ut,yt)!==-1}(et,".")?"property":"argument";gt='The "'.concat(et,'" ').concat(pt," ").concat(ot," ").concat(_e(j,"type"))}return gt+=". Received type ".concat(typeof nt)},TypeError),$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),$("ERR_METHOD_NOT_IMPLEMENTED",function(et){return"The "+et+" method is not implemented"}),$("ERR_STREAM_PREMATURE_CLOSE","Premature close"),$("ERR_STREAM_DESTROYED",function(et){return"Cannot call "+et+" after a stream was destroyed"}),$("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),$("ERR_STREAM_WRITE_AFTER_END","write after end"),$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$("ERR_UNKNOWN_ENCODING",function(et){return"Unknown encoding: "+et},TypeError),$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=_},function(i,o,s){(function(_){var $=Object.keys||function(ft){var ut=[];for(var yt in ft)ut.push(yt);return ut};i.exports=ct;var _e=s(77),et=s(81);s(7)(ct,_e);for(var j=$(et.prototype),nt=0;nt<j.length;nt++){var ot=j[nt];ct.prototype[ot]||(ct.prototype[ot]=et.prototype[ot])}function ct(ft){if(!(this instanceof ct))return new ct(ft);_e.call(this,ft),et.call(this,ft),this.allowHalfOpen=!0,ft&&(ft.readable===!1&&(this.readable=!1),ft.writable===!1&&(this.writable=!1),ft.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",gt)))}function gt(){this._writableState.ended||_.nextTick(pt,this)}function pt(ft){ft.end()}Object.defineProperty(ct.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ct.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ct.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ct.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ft){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ft,this._writableState.destroyed=ft)}})}).call(this,s(2))},function(i,o,s){s.d(o,"a",function(){return et});var _=s(40),$=s(4);const _e={"app-id":["app-id must match formant/*"]};class et extends _.a{constructor(nt,ot={}){super(nt,Object.assign({validateHeaders:ct=>`${ct.get("app-id")}`.startsWith("formant/")?{}:_e},ot)),this.endpoint=nt}getHeaders(){return Object.assign(Object.assign({},et.headers),{"App-ID":`formant/${$.a}`,"App-Version":$.j})}}et.headers={}},function(i,o,s){s(227),i.exports={encode:_=>new TextEncoder().encode(_),decode:_=>new TextDecoder().decode(_)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_,$=_.length){if(!$)throw new Error("arity is undefined");return function(..._e){return typeof _e[$-1]=="function"?_.apply(this,_e):new Promise((et,j)=>{_e[$-1]=(nt,...ot)=>{if(nt)return j(nt);et(ot.length>1?ot:ot[0])},_.apply(this,_e)})}},i.exports=o.default},function(i,o,s){(o=i.exports=s(69)).Stream=o,o.Readable=o,o.Writable=s(48),o.Duplex=s(23),o.Transform=s(72),o.PassThrough=s(165)},function(i,o,s){(o=i.exports=s(77)).Stream=o,o.Readable=o,o.Writable=s(81),o.Duplex=s(27),o.Transform=s(82),o.PassThrough=s(184),o.finished=s(49),o.pipeline=s(185)},function(i,o,s){i.exports=function(_){return _}},function(i,o,s){s.d(o,"a",function(){return $});const _=["password","secret","token","key","buffer"];function $(_e,et=new Set){return et.has(_e)?"[ RECURSIVE ]":!(j=_e)||typeof j!="object"&&typeof j!="function"?_e:(et.add(_e),Object.keys(_e).reduce((nt,ot)=>(nt[ot]=_.some(ct=>ot.toLowerCase().includes(ct.toLowerCase()))?"[ REDACTED ]":$(_e[ot],et),nt),{}));var j}},function(i,o){i.exports=_,_.default=_,_.stable=_e,_.stableStringify=_e;var s=[];function _(et,j,nt){(function gt(pt,ft,ut,yt){var wt;if(typeof pt=="object"&&pt!==null){for(wt=0;wt<ut.length;wt++)if(ut[wt]===pt)return yt[ft]="[Circular]",void s.push([yt,ft,pt]);if(ut.push(pt),Array.isArray(pt))for(wt=0;wt<pt.length;wt++)gt(pt[wt],wt,ut,pt);else{var Qt=Object.keys(pt);for(wt=0;wt<Qt.length;wt++){var It=Qt[wt];gt(pt[It],It,ut,pt)}}ut.pop()}})(et,"",[],void 0);for(var ot=JSON.stringify(et,j,nt);s.length!==0;){var ct=s.pop();ct[0][ct[1]]=ct[2]}return ot}function $(et,j){return et<j?-1:et>j?1:0}function _e(et,j,nt){for(var ot=function pt(ft,ut,yt,wt){var Qt;if(typeof ft=="object"&&ft!==null){for(Qt=0;Qt<yt.length;Qt++)if(yt[Qt]===ft)return wt[ut]="[Circular]",void s.push([wt,ut,ft]);if(typeof ft.toJSON=="function")return;if(yt.push(ft),Array.isArray(ft))for(Qt=0;Qt<ft.length;Qt++)pt(ft[Qt],Qt,yt,ft);else{var It={},xt=Object.keys(ft).sort($);for(Qt=0;Qt<xt.length;Qt++){var Tt=xt[Qt];pt(ft[Tt],Tt,yt,ft),It[Tt]=ft[Tt]}if(wt===void 0)return It;s.push([wt,ut,ft]),wt[ut]=It}yt.pop()}}(et,"",[],void 0)||et,ct=JSON.stringify(ot,j,nt);s.length!==0;){var gt=s.pop();gt[0][gt[1]]=gt[2]}return ct}},function(i,o,s){var _=s(16),$=Object.keys||function(ut){var yt=[];for(var wt in ut)yt.push(wt);return yt};i.exports=gt;var _e=Object.create(s(17));_e.inherits=s(7);var et=s(143),j=s(62);_e.inherits(gt,et);for(var nt=$(j.prototype),ot=0;ot<nt.length;ot++){var ct=nt[ot];gt.prototype[ct]||(gt.prototype[ct]=j.prototype[ct])}function gt(ut){if(!(this instanceof gt))return new gt(ut);et.call(this,ut),j.call(this,ut),ut&&ut.readable===!1&&(this.readable=!1),ut&&ut.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ut&&ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",pt)}function pt(){this.allowHalfOpen||this._writableState.ended||_.nextTick(ft,this)}function ft(ut){ut.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}}),gt.prototype._destroy=function(ut,yt){this.push(null),this.end(),_.nextTick(yt,ut)}},function(i,o,s){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function $(j,nt){return Object.prototype.hasOwnProperty.call(j,nt)}o.assign=function(j){for(var nt=Array.prototype.slice.call(arguments,1);nt.length;){var ot=nt.shift();if(ot){if(typeof ot!="object")throw new TypeError(ot+"must be non-object");for(var ct in ot)$(ot,ct)&&(j[ct]=ot[ct])}}return j},o.shrinkBuf=function(j,nt){return j.length===nt?j:j.subarray?j.subarray(0,nt):(j.length=nt,j)};var _e={arraySet:function(j,nt,ot,ct,gt){if(nt.subarray&&j.subarray)j.set(nt.subarray(ot,ot+ct),gt);else for(var pt=0;pt<ct;pt++)j[gt+pt]=nt[ot+pt]},flattenChunks:function(j){var nt,ot,ct,gt,pt,ft;for(ct=0,nt=0,ot=j.length;nt<ot;nt++)ct+=j[nt].length;for(ft=new Uint8Array(ct),gt=0,nt=0,ot=j.length;nt<ot;nt++)pt=j[nt],ft.set(pt,gt),gt+=pt.length;return ft}},et={arraySet:function(j,nt,ot,ct,gt){for(var pt=0;pt<ct;pt++)j[gt+pt]=nt[ot+pt]},flattenChunks:function(j){return[].concat.apply([],j)}};o.setTyped=function(j){j?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,_e)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,et))},o.setTyped(_)},function(i,o,s){i.exports=s(186)},function(i,o,s){s.d(o,"a",function(){return $});var _=s(229);const $=Object(_.a)()},function(i,o,s){s.d(o,"a",function(){return Qt});var _=s(1),$=s(100),_e=s.n($),et=s(101),j=s.n(et);class nt extends Error{constructor(xt,Tt,mt){super(`Connection failure: ${xt.message}`),this.cause=xt,this.url=Tt,this.retryable=mt}}var ot=s(8),ct=s(0),gt=s(10),pt=s(11);class ft extends Error{constructor(xt,Tt){super(`Invalid headers (${JSON.stringify(xt)}) for response: ${Tt.message}`),this.validationErrors=xt,this.responseError=Tt}}var ut=function(It,xt,Tt,mt){return new(Tt||(Tt=Promise))(function(Nt,en){function rn(Pt){try{St(mt.next(Pt))}catch(Bt){en(Bt)}}function Ft(Pt){try{St(mt.throw(Pt))}catch(Bt){en(Bt)}}function St(Pt){var Bt;Pt.done?Nt(Pt.value):(Bt=Pt.value,Bt instanceof Tt?Bt:new Tt(function(jt){jt(Bt)})).then(rn,Ft)}St((mt=mt.apply(It,xt||[])).next())})},yt=function(It,xt){var Tt={};for(var mt in It)Object.prototype.hasOwnProperty.call(It,mt)&&xt.indexOf(mt)<0&&(Tt[mt]=It[mt]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function"){var Nt=0;for(mt=Object.getOwnPropertySymbols(It);Nt<mt.length;Nt++)xt.indexOf(mt[Nt])<0&&Object.prototype.propertyIsEnumerable.call(It,mt[Nt])&&(Tt[mt[Nt]]=It[mt[Nt]])}return Tt};const wt=new Set(["GET","HEAD","PUT","QUERY","DELETE","OPTIONS","TRACE"]);class Qt{constructor(xt,Tt={}){if(this.endpoint=xt,this.validateHeaders=mt=>Tt.validateHeaders?Tt.validateHeaders(mt):{},this.verbose=Tt.verbose!==!1,Tt.retries!==void 0&&!(Tt.retries>=0))throw new Error("retries must be positive or zero");if(this.configuredRetries=Tt.retries,Tt.timeoutMs!==void 0&&!(Tt.timeoutMs>0))throw new Error("timeoutMs must be positive");if(this.timeoutMs=Tt.timeoutMs,Tt.maxBackoffDelayMs!==void 0&&!(Tt.maxBackoffDelayMs>0))throw new Error("maxBackoffDelayMs must be positive");this.maxBackoffDelayMs=Tt.maxBackoffDelayMs||30*_.a.second}getRetries(){return this.configuredRetries!==void 0?this.configuredRetries:this.getConstructor().retries}getHeaders(){return{}}fetch(xt,Tt={}){return ut(this,void 0,void 0,function*(){return(yield this.fetchVerbose(xt,Tt)).body})}fetchVerbose(xt,Tt={}){return ut(this,void 0,void 0,function*(){let mt=100*_.a.millisecond,Nt=0;const en=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,rn=en?()=>Math.max(en-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(xt,Tt,rn)}catch(Ft){const St=Object(gt.a)(Ft,nt);if((rn==null?void 0:rn())===0||Nt===this.getRetries()||!St.retryable)throw St;Nt++,mt=Math.min(...rn?[rn()]:[],mt*(2+.1*(Math.random()-.5)),this.maxBackoffDelayMs),yield Object(ot.a)(mt),this.verbose&&ct.a.warn(`Connection failure, retrying. Error: ${Ft.cause.message}`,{url:Ft.url,error:Ft.cause,attempt:Nt})}})}doFetch(xt,Tt,mt){return ut(this,void 0,void 0,function*(){const{token:Nt,json:en,allowUnsafeRetries:rn}=Tt,Ft=yt(Tt,["token","json","allowUnsafeRetries"]),St=(Ft.method||"GET").toUpperCase(),Pt=this.endpoint!==void 0?`${this.endpoint}${xt?`/${xt}`:""}`:xt,Bt=new _e.a;let jt;if(mt){const qt=mt();qt>0?jt=setTimeout(()=>{Bt.abort()},qt):Bt.abort()}try{let qt;yield Promise.race([this.getConstructor().waitForConnectivity(),new Promise($t=>{qt=setTimeout($t,mt?Math.min(_.a.minute,mt()):_.a.minute)})]),qt&&clearTimeout(qt);const Zt=yield j()(Pt,Object.assign(Object.assign({},Ft),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},en!==!1?{"Content-Type":"application/json"}:{}),this.getHeaders()),Ft.headers||{}),Nt!==void 0?{Authorization:`Bearer ${Nt}`}:{}),signal:Bt.signal})),Wt=Zt.headers.get("content-type")||"",Gt=Wt&&Wt.startsWith("application/json"),Ht=Gt?yield Zt.json():yield Zt.text(),kt=()=>new pt.a(St,Pt,Zt.status,Ht,Ht&&Ht.validationErrors||{},Zt.headers);if(!Zt.ok)throw this.verbose&&ct.a[Zt.status>=500?"warn":"info"]("Response error",{method:St,url:Pt,statusCode:Zt.status}),kt();const Rt=this.validateHeaders(Zt.headers);if(Object.keys(Rt).length!==0)throw new ft(Rt,kt());if(Zt.status===204)return{body:void 0,headers:Zt.headers};if(en&&!Gt)throw new Error(`Response is not JSON: ${JSON.stringify(Ht)}`);return{body:Ht,headers:Zt.headers}}catch(qt){const Zt=rn||wt.has(St);if(qt.message==="Network request failed")throw new nt(qt,Pt,Zt);if(qt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(kt=>kt===qt.code))throw new nt(qt,Pt,!0);if(qt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(kt=>kt===qt.code))throw new nt(qt,Pt,Zt);if(qt.name==="AbortError")throw new nt(qt,Pt,Zt);const Wt=Object(gt.a)(qt,pt.a),{statusCode:Gt}=Wt;if(Gt===408||Gt===429||Gt===502||Gt===503||Gt===504)throw this.verbose&&!Zt&&ct.a.warn("Potentially unsafe retry"),new nt(qt,Pt,!0);const Ht=this.validateHeaders(Wt.headers);throw Object.keys(Ht).length!==0?new ft(Ht,Wt):(yield this.getConstructor().onResponseError(Wt),qt)}finally{jt&&clearTimeout(jt)}})}getConstructor(){return Object.getPrototypeOf(this).constructor}}Qt.retries=8,Qt.waitForConnectivity=()=>ut(void 0,void 0,void 0,function*(){}),Qt.onResponseError=()=>ut(void 0,void 0,void 0,function*(){})},function(i,o,s){function _(gt,pt){if(!(gt instanceof pt))throw new TypeError("Cannot call a class as a function")}function $(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var _e=s(59),et=s(3),j=et.LEVEL,nt=et.MESSAGE;_e.enabled=!0;var ot=/\s+/,ct=function(){function gt(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,gt),yt.colors&&this.addColors(yt.colors),this.options=yt}var pt,ft,ut;return pt=gt,ut=[{key:"addColors",value:function(yt){var wt=Object.keys(yt).reduce(function(Qt,It){return Qt[It]=ot.test(yt[It])?yt[It].split(ot):yt[It],Qt},{});return gt.allColors=Object.assign({},gt.allColors||{},wt),gt.allColors}}],(ft=[{key:"addColors",value:function(yt){return gt.addColors(yt)}},{key:"colorize",value:function(yt,wt,Qt){if(Qt===void 0&&(Qt=wt),!Array.isArray(gt.allColors[yt]))return _e[gt.allColors[yt]](Qt);for(var It=0,xt=gt.allColors[yt].length;It<xt;It++)Qt=_e[gt.allColors[yt][It]](Qt);return Qt}},{key:"transform",value:function(yt,wt){return wt.all&&typeof yt[nt]=="string"&&(yt[nt]=this.colorize(yt[j],yt.level,yt[nt])),(wt.level||wt.all||!wt.message)&&(yt.level=this.colorize(yt[j],yt.level)),(wt.all||wt.message)&&(yt.message=this.colorize(yt[j],yt.level,yt.message)),yt}}])&&$(pt.prototype,ft),ut&&$(pt,ut),gt}();i.exports=function(gt){return new ct(gt)},i.exports.Colorizer=i.exports.Format=ct},function(i,o){var s={}.toString;i.exports=Array.isArray||function(_){return s.call(_)=="[object Array]"}},function(i,o,s){(function(_){function $(_e){try{if(!_.localStorage)return!1}catch{return!1}var et=_.localStorage[_e];return et!=null&&String(et).toLowerCase()==="true"}i.exports=function(_e,et){if($("noDeprecation"))return _e;var j=!1;return function(){if(!j){if($("throwDeprecation"))throw new Error(et);$("traceDeprecation")?console.trace(et):console.warn(et),j=!0}return _e.apply(this,arguments)}}}).call(this,s(6))},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var ot in j)nt[ot]=j[ot]}function et(j,nt,ot){return $(j,nt,ot)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=et),_e($,et),et.from=function(j,nt,ot){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,ot)},et.alloc=function(j,nt,ot){if(typeof j!="number")throw new TypeError("Argument must be a number");var ct=$(j);return nt!==void 0?typeof ot=="string"?ct.fill(nt,ot):ct.fill(nt):ct.fill(0),ct},et.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},et.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _&&typeof _.length=="number"&&_.length>=0&&_.length%1==0},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default={},i.exports=o.default},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var ot in j)nt[ot]=j[ot]}function et(j,nt,ot){return $(j,nt,ot)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=et),_e($,et),et.from=function(j,nt,ot){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,ot)},et.alloc=function(j,nt,ot){if(typeof j!="number")throw new TypeError("Argument must be a number");var ct=$(j);return nt!==void 0?typeof ot=="string"?ct.fill(nt,ot):ct.fill(nt):ct.fill(0),ct},et.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},et.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){(function(_,$,_e){var et=s(16);function j(St){var Pt=this;this.next=null,this.entry=null,this.finish=function(){(function(Bt,jt,qt){var Zt=Bt.entry;for(Bt.entry=null;Zt;){var Wt=Zt.callback;jt.pendingcb--,Wt(qt),Zt=Zt.next}jt.corkedRequestsFree?jt.corkedRequestsFree.next=Bt:jt.corkedRequestsFree=Bt})(Pt,St)}}i.exports=xt;var nt,ot=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:et.nextTick;xt.WritableState=It;var ct=s(17);ct.inherits=s(7);var gt={deprecate:s(43)},pt=s(70),ft=s(47).Buffer,ut=_e.Uint8Array||function(){},yt,wt=s(71);function Qt(){}function It(St,Pt){nt=nt||s(23),St=St||{};var Bt=Pt instanceof nt;this.objectMode=!!St.objectMode,Bt&&(this.objectMode=this.objectMode||!!St.writableObjectMode);var jt=St.highWaterMark,qt=St.writableHighWaterMark,Zt=this.objectMode?16:16384;this.highWaterMark=jt||jt===0?jt:Bt&&(qt||qt===0)?qt:Zt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Wt=St.decodeStrings===!1;this.decodeStrings=!Wt,this.defaultEncoding=St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Gt){(function(Ht,kt){var Rt=Ht._writableState,$t=Rt.sync,nn=Rt.writecb;if(function(Fn){Fn.writing=!1,Fn.writecb=null,Fn.length-=Fn.writelen,Fn.writelen=0}(Rt),kt)(function(Fn,En,fn,sn,Ct){--En.pendingcb,fn?(et.nextTick(Ct,sn),et.nextTick(Ft,Fn,En),Fn._writableState.errorEmitted=!0,Fn.emit("error",sn)):(Ct(sn),Fn._writableState.errorEmitted=!0,Fn.emit("error",sn),Ft(Fn,En))})(Ht,Rt,$t,kt,nn);else{var Un=en(Rt);Un||Rt.corked||Rt.bufferProcessing||!Rt.bufferedRequest||Nt(Ht,Rt),$t?ot(mt,Ht,Rt,Un,nn):mt(Ht,Rt,Un,nn)}})(Pt,Gt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function xt(St){if(nt=nt||s(23),!(yt.call(xt,this)||this instanceof nt))return new xt(St);this._writableState=new It(St,this),this.writable=!0,St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final)),pt.call(this)}function Tt(St,Pt,Bt,jt,qt,Zt,Wt){Pt.writelen=jt,Pt.writecb=Wt,Pt.writing=!0,Pt.sync=!0,Bt?St._writev(qt,Pt.onwrite):St._write(qt,Zt,Pt.onwrite),Pt.sync=!1}function mt(St,Pt,Bt,jt){Bt||function(qt,Zt){Zt.length===0&&Zt.needDrain&&(Zt.needDrain=!1,qt.emit("drain"))}(St,Pt),Pt.pendingcb--,jt(),Ft(St,Pt)}function Nt(St,Pt){Pt.bufferProcessing=!0;var Bt=Pt.bufferedRequest;if(St._writev&&Bt&&Bt.next){var jt=Pt.bufferedRequestCount,qt=new Array(jt),Zt=Pt.corkedRequestsFree;Zt.entry=Bt;for(var Wt=0,Gt=!0;Bt;)qt[Wt]=Bt,Bt.isBuf||(Gt=!1),Bt=Bt.next,Wt+=1;qt.allBuffers=Gt,Tt(St,Pt,!0,Pt.length,qt,"",Zt.finish),Pt.pendingcb++,Pt.lastBufferedRequest=null,Zt.next?(Pt.corkedRequestsFree=Zt.next,Zt.next=null):Pt.corkedRequestsFree=new j(Pt),Pt.bufferedRequestCount=0}else{for(;Bt;){var Ht=Bt.chunk,kt=Bt.encoding,Rt=Bt.callback;if(Tt(St,Pt,!1,Pt.objectMode?1:Ht.length,Ht,kt,Rt),Bt=Bt.next,Pt.bufferedRequestCount--,Pt.writing)break}Bt===null&&(Pt.lastBufferedRequest=null)}Pt.bufferedRequest=Bt,Pt.bufferProcessing=!1}function en(St){return St.ending&&St.length===0&&St.bufferedRequest===null&&!St.finished&&!St.writing}function rn(St,Pt){St._final(function(Bt){Pt.pendingcb--,Bt&&St.emit("error",Bt),Pt.prefinished=!0,St.emit("prefinish"),Ft(St,Pt)})}function Ft(St,Pt){var Bt=en(Pt);return Bt&&(function(jt,qt){qt.prefinished||qt.finalCalled||(typeof jt._final=="function"?(qt.pendingcb++,qt.finalCalled=!0,et.nextTick(rn,jt,qt)):(qt.prefinished=!0,jt.emit("prefinish")))}(St,Pt),Pt.pendingcb===0&&(Pt.finished=!0,St.emit("finish"))),Bt}ct.inherits(xt,pt),It.prototype.getBuffer=function(){for(var St=this.bufferedRequest,Pt=[];St;)Pt.push(St),St=St.next;return Pt},function(){try{Object.defineProperty(It.prototype,"buffer",{get:gt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yt=Function.prototype[Symbol.hasInstance],Object.defineProperty(xt,Symbol.hasInstance,{value:function(St){return!!yt.call(this,St)||this===xt&&St&&St._writableState instanceof It}})):yt=function(St){return St instanceof this},xt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},xt.prototype.write=function(St,Pt,Bt){var jt,qt=this._writableState,Zt=!1,Wt=!qt.objectMode&&(jt=St,ft.isBuffer(jt)||jt instanceof ut);return Wt&&!ft.isBuffer(St)&&(St=function(Gt){return ft.from(Gt)}(St)),typeof Pt=="function"&&(Bt=Pt,Pt=null),Wt?Pt="buffer":Pt||(Pt=qt.defaultEncoding),typeof Bt!="function"&&(Bt=Qt),qt.ended?function(Gt,Ht){var kt=new Error("write after end");Gt.emit("error",kt),et.nextTick(Ht,kt)}(this,Bt):(Wt||function(Gt,Ht,kt,Rt){var $t=!0,nn=!1;return kt===null?nn=new TypeError("May not write null values to stream"):typeof kt=="string"||kt===void 0||Ht.objectMode||(nn=new TypeError("Invalid non-string/buffer chunk")),nn&&(Gt.emit("error",nn),et.nextTick(Rt,nn),$t=!1),$t}(this,qt,St,Bt))&&(qt.pendingcb++,Zt=function(Gt,Ht,kt,Rt,$t,nn){if(!kt){var Un=function(sn,Ct,Dt){return sn.objectMode||sn.decodeStrings===!1||typeof Ct!="string"||(Ct=ft.from(Ct,Dt)),Ct}(Ht,Rt,$t);Rt!==Un&&(kt=!0,$t="buffer",Rt=Un)}var Fn=Ht.objectMode?1:Rt.length;Ht.length+=Fn;var En=Ht.length<Ht.highWaterMark;if(En||(Ht.needDrain=!0),Ht.writing||Ht.corked){var fn=Ht.lastBufferedRequest;Ht.lastBufferedRequest={chunk:Rt,encoding:$t,isBuf:kt,callback:nn,next:null},fn?fn.next=Ht.lastBufferedRequest:Ht.bufferedRequest=Ht.lastBufferedRequest,Ht.bufferedRequestCount+=1}else Tt(Gt,Ht,!1,Fn,Rt,$t,nn);return En}(this,qt,Wt,St,Pt,Bt)),Zt},xt.prototype.cork=function(){this._writableState.corked++},xt.prototype.uncork=function(){var St=this._writableState;St.corked&&(St.corked--,St.writing||St.corked||St.finished||St.bufferProcessing||!St.bufferedRequest||Nt(this,St))},xt.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this},Object.defineProperty(xt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),xt.prototype._write=function(St,Pt,Bt){Bt(new Error("_write() is not implemented"))},xt.prototype._writev=null,xt.prototype.end=function(St,Pt,Bt){var jt=this._writableState;typeof St=="function"?(Bt=St,St=null,Pt=null):typeof Pt=="function"&&(Bt=Pt,Pt=null),St!=null&&this.write(St,Pt),jt.corked&&(jt.corked=1,this.uncork()),jt.ending||jt.finished||function(qt,Zt,Wt){Zt.ending=!0,Ft(qt,Zt),Wt&&(Zt.finished?et.nextTick(Wt):qt.once("finish",Wt)),Zt.ended=!0,qt.writable=!1}(this,jt,Bt)},Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(St){this._writableState&&(this._writableState.destroyed=St)}}),xt.prototype.destroy=wt.destroy,xt.prototype._undestroy=wt.undestroy,xt.prototype._destroy=function(St,Pt){this.end(),Pt(St)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){var _=s(26).codes.ERR_STREAM_PREMATURE_CLOSE;function $(){}i.exports=function _e(et,j,nt){if(typeof j=="function")return _e(et,null,j);j||(j={}),nt=function(xt){var Tt=!1;return function(){if(!Tt){Tt=!0;for(var mt=arguments.length,Nt=new Array(mt),en=0;en<mt;en++)Nt[en]=arguments[en];xt.apply(this,Nt)}}}(nt||$);var ot=j.readable||j.readable!==!1&&et.readable,ct=j.writable||j.writable!==!1&&et.writable,gt=function(){et.writable||ft()},pt=et._writableState&&et._writableState.finished,ft=function(){ct=!1,pt=!0,ot||nt.call(et)},ut=et._readableState&&et._readableState.endEmitted,yt=function(){ot=!1,ut=!0,ct||nt.call(et)},wt=function(xt){nt.call(et,xt)},Qt=function(){var xt;return ot&&!ut?(et._readableState&&et._readableState.ended||(xt=new _),nt.call(et,xt)):ct&&!pt?(et._writableState&&et._writableState.ended||(xt=new _),nt.call(et,xt)):void 0},It=function(){et.req.on("finish",ft)};return function(xt){return xt.setHeader&&typeof xt.abort=="function"}(et)?(et.on("complete",ft),et.on("abort",Qt),et.req?It():et.on("request",It)):ct&&!et._writableState&&(et.on("end",gt),et.on("close",gt)),et.on("end",yt),et.on("finish",ft),j.error!==!1&&et.on("error",wt),et.on("close",Qt),function(){et.removeListener("complete",ft),et.removeListener("abort",Qt),et.removeListener("request",It),et.req&&et.req.removeListener("finish",ft),et.removeListener("end",gt),et.removeListener("close",gt),et.removeListener("finish",ft),et.removeListener("end",yt),et.removeListener("error",wt),et.removeListener("close",Qt)}}},function(i,o,s){var _=s(58),$=s(3).configs;o.cli=_.levels($.cli),o.npm=_.levels($.npm),o.syslog=_.levels($.syslog),o.addColors=_.levels},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=j(s(203)),$=j(s(204)),_e=j(s(25)),et=j(s(30));function j(nt){return nt&&nt.__esModule?nt:{default:nt}}o.default=(0,et.default)(function(nt,ot,ct){return(0,_.default)(nt,(0,$.default)((0,_e.default)(ot)),ct)},3),i.exports=o.default},function(i,o,s){class _ extends Error{constructor(_e,...et){super(`env-var: ${_e}`,...et),Error.captureStackTrace&&Error.captureStackTrace(this,_),this.name="EnvVarError"}}i.exports=_},function(i,o,s){i.exports=function(_){const $=parseInt(_,10);if(isNaN($)||$.toString(10)!==_)throw new Error("should be a valid integer");return $}},function(i,o,s){i.exports=function(_){const $=parseFloat(_);if(isNaN($)||$.toString()!==_)throw new Error("should be a valid float");return $}},function(i,o,s){i.exports=function(_){try{return JSON.parse(_)}catch{throw new Error("should be valid (parseable) JSON")}}},function(i,o,s){(function(_){function $(j,nt){for(var ot=0,ct=j.length-1;ct>=0;ct--){var gt=j[ct];gt==="."?j.splice(ct,1):gt===".."?(j.splice(ct,1),ot++):ot&&(j.splice(ct,1),ot--)}if(nt)for(;ot--;ot)j.unshift("..");return j}function _e(j,nt){if(j.filter)return j.filter(nt);for(var ot=[],ct=0;ct<j.length;ct++)nt(j[ct],ct,j)&&ot.push(j[ct]);return ot}o.resolve=function(){for(var j="",nt=!1,ot=arguments.length-1;ot>=-1&&!nt;ot--){var ct=ot>=0?arguments[ot]:_.cwd();if(typeof ct!="string")throw new TypeError("Arguments to path.resolve must be strings");ct&&(j=ct+"/"+j,nt=ct.charAt(0)==="/")}return(nt?"/":"")+(j=$(_e(j.split("/"),function(gt){return!!gt}),!nt).join("/"))||"."},o.normalize=function(j){var nt=o.isAbsolute(j),ot=et(j,-1)==="/";return(j=$(_e(j.split("/"),function(ct){return!!ct}),!nt).join("/"))||nt||(j="."),j&&ot&&(j+="/"),(nt?"/":"")+j},o.isAbsolute=function(j){return j.charAt(0)==="/"},o.join=function(){var j=Array.prototype.slice.call(arguments,0);return o.normalize(_e(j,function(nt,ot){if(typeof nt!="string")throw new TypeError("Arguments to path.join must be strings");return nt}).join("/"))},o.relative=function(j,nt){function ot(wt){for(var Qt=0;Qt<wt.length&&wt[Qt]==="";Qt++);for(var It=wt.length-1;It>=0&&wt[It]==="";It--);return Qt>It?[]:wt.slice(Qt,It-Qt+1)}j=o.resolve(j).substr(1),nt=o.resolve(nt).substr(1);for(var ct=ot(j.split("/")),gt=ot(nt.split("/")),pt=Math.min(ct.length,gt.length),ft=pt,ut=0;ut<pt;ut++)if(ct[ut]!==gt[ut]){ft=ut;break}var yt=[];for(ut=ft;ut<ct.length;ut++)yt.push("..");return(yt=yt.concat(gt.slice(ft))).join("/")},o.sep="/",o.delimiter=":",o.dirname=function(j){if(typeof j!="string"&&(j+=""),j.length===0)return".";for(var nt=j.charCodeAt(0),ot=nt===47,ct=-1,gt=!0,pt=j.length-1;pt>=1;--pt)if((nt=j.charCodeAt(pt))===47){if(!gt){ct=pt;break}}else gt=!1;return ct===-1?ot?"/":".":ot&&ct===1?"/":j.slice(0,ct)},o.basename=function(j,nt){var ot=function(ct){typeof ct!="string"&&(ct+="");var gt,pt=0,ft=-1,ut=!0;for(gt=ct.length-1;gt>=0;--gt)if(ct.charCodeAt(gt)===47){if(!ut){pt=gt+1;break}}else ft===-1&&(ut=!1,ft=gt+1);return ft===-1?"":ct.slice(pt,ft)}(j);return nt&&ot.substr(-1*nt.length)===nt&&(ot=ot.substr(0,ot.length-nt.length)),ot},o.extname=function(j){typeof j!="string"&&(j+="");for(var nt=-1,ot=0,ct=-1,gt=!0,pt=0,ft=j.length-1;ft>=0;--ft){var ut=j.charCodeAt(ft);if(ut!==47)ct===-1&&(gt=!1,ct=ft+1),ut===46?nt===-1?nt=ft:pt!==1&&(pt=1):nt!==-1&&(pt=-1);else if(!gt){ot=ft+1;break}}return nt===-1||ct===-1||pt===0||pt===1&&nt===ct-1&&nt===ot+1?"":j.slice(nt,ct)};var et="ab".substr(-1)==="b"?function(j,nt,ot){return j.substr(nt,ot)}:function(j,nt,ot){return nt<0&&(nt=j.length+nt),j.substr(nt,ot)}}).call(this,s(2))},,function(i,o,s){var _=o.format=s(12);o.levels=s(105),Object.defineProperty(_,"align",{value:s(122)}),Object.defineProperty(_,"cli",{value:s(123)}),Object.defineProperty(_,"combine",{value:s(124)}),Object.defineProperty(_,"colorize",{value:s(41)}),Object.defineProperty(_,"json",{value:s(125)}),Object.defineProperty(_,"label",{value:s(128)}),Object.defineProperty(_,"logstash",{value:s(129)}),Object.defineProperty(_,"metadata",{value:s(130)}),Object.defineProperty(_,"padLevels",{value:s(60)}),Object.defineProperty(_,"prettyPrint",{value:s(131)}),Object.defineProperty(_,"printf",{value:s(132)}),Object.defineProperty(_,"simple",{value:s(133)}),Object.defineProperty(_,"splat",{value:s(134)}),Object.defineProperty(_,"timestamp",{value:s(135)}),Object.defineProperty(_,"uncolorize",{value:s(137)})},function(i,o,s){var _=s(106);i.exports=_},function(i,o,s){function _(pt){return function(ft){if(Array.isArray(ft))return $(ft)}(pt)||function(ft){if(typeof Symbol<"u"&&Symbol.iterator in Object(ft))return Array.from(ft)}(pt)||function(ft,ut){if(ft){if(typeof ft=="string")return $(ft,ut);var yt=Object.prototype.toString.call(ft).slice(8,-1);if(yt==="Object"&&ft.constructor&&(yt=ft.constructor.name),yt==="Map"||yt==="Set")return Array.from(ft);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return $(ft,ut)}}(pt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(pt,ft){(ft==null||ft>pt.length)&&(ft=pt.length);for(var ut=0,yt=new Array(ft);ut<ft;ut++)yt[ut]=pt[ut];return yt}function _e(pt,ft){if(!(pt instanceof ft))throw new TypeError("Cannot call a class as a function")}function et(pt,ft){for(var ut=0;ut<ft.length;ut++){var yt=ft[ut];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(pt,yt.key,yt)}}var j=s(3),nt=j.configs,ot=j.LEVEL,ct=j.MESSAGE,gt=function(){function pt(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:nt.npm.levels};_e(this,pt),this.paddings=pt.paddingForLevels(wt.levels,wt.filler),this.options=wt}var ft,ut,yt;return ft=pt,yt=[{key:"getLongestLevel",value:function(wt){var Qt=Object.keys(wt).map(function(It){return It.length});return Math.max.apply(Math,_(Qt))}},{key:"paddingForLevel",value:function(wt,Qt,It){var xt=It+1-wt.length,Tt=Math.floor(xt/Qt.length);return"".concat(Qt).concat(Qt.repeat(Tt)).slice(0,xt)}},{key:"paddingForLevels",value:function(wt){var Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",It=pt.getLongestLevel(wt);return Object.keys(wt).reduce(function(xt,Tt){return xt[Tt]=pt.paddingForLevel(Tt,Qt,It),xt},{})}}],(ut=[{key:"transform",value:function(wt,Qt){return wt.message="".concat(this.paddings[wt[ot]]).concat(wt.message),wt[ct]&&(wt[ct]="".concat(this.paddings[wt[ot]]).concat(wt[ct])),wt}}])&&et(ft.prototype,ut),yt&&et(ft,yt),pt}();i.exports=function(pt){return new gt(pt)},i.exports.Padder=i.exports.Format=gt},function(i,o,s){var _=s(13).format;o.warn={deprecated:function($){return function(){throw new Error(_("{ %s } was removed in winston@3.0.0.",$))}},useFormat:function($){return function(){throw new Error([_("{ %s } was removed in winston@3.0.0.",$),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function($,_e,et){et.forEach(function(j){$[j]=o.warn[_e](j)})},moved:function($,_e,et){function j(){return function(){throw new Error([_("winston.%s was moved in winston@3.0.0.",et),_("Use a winston.%s instead.",_e)].join(`
`))}}Object.defineProperty($,et,{get:j,set:j})},forProperties:function($,_e,et){et.forEach(function(j){var nt=o.warn[_e](j);Object.defineProperty($,j,{get:nt,set:nt})})}}},function(i,o,s){(function(_,$,_e){var et=s(16);function j(St){var Pt=this;this.next=null,this.entry=null,this.finish=function(){(function(Bt,jt,qt){var Zt=Bt.entry;for(Bt.entry=null;Zt;){var Wt=Zt.callback;jt.pendingcb--,Wt(qt),Zt=Zt.next}jt.corkedRequestsFree?jt.corkedRequestsFree.next=Bt:jt.corkedRequestsFree=Bt})(Pt,St)}}i.exports=xt;var nt,ot=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:et.nextTick;xt.WritableState=It;var ct=Object.create(s(17));ct.inherits=s(7);var gt={deprecate:s(43)},pt=s(63),ft=s(44).Buffer,ut=_e.Uint8Array||function(){},yt,wt=s(64);function Qt(){}function It(St,Pt){nt=nt||s(36),St=St||{};var Bt=Pt instanceof nt;this.objectMode=!!St.objectMode,Bt&&(this.objectMode=this.objectMode||!!St.writableObjectMode);var jt=St.highWaterMark,qt=St.writableHighWaterMark,Zt=this.objectMode?16:16384;this.highWaterMark=jt||jt===0?jt:Bt&&(qt||qt===0)?qt:Zt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Wt=St.decodeStrings===!1;this.decodeStrings=!Wt,this.defaultEncoding=St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Gt){(function(Ht,kt){var Rt=Ht._writableState,$t=Rt.sync,nn=Rt.writecb;if(function(Fn){Fn.writing=!1,Fn.writecb=null,Fn.length-=Fn.writelen,Fn.writelen=0}(Rt),kt)(function(Fn,En,fn,sn,Ct){--En.pendingcb,fn?(et.nextTick(Ct,sn),et.nextTick(Ft,Fn,En),Fn._writableState.errorEmitted=!0,Fn.emit("error",sn)):(Ct(sn),Fn._writableState.errorEmitted=!0,Fn.emit("error",sn),Ft(Fn,En))})(Ht,Rt,$t,kt,nn);else{var Un=en(Rt);Un||Rt.corked||Rt.bufferProcessing||!Rt.bufferedRequest||Nt(Ht,Rt),$t?ot(mt,Ht,Rt,Un,nn):mt(Ht,Rt,Un,nn)}})(Pt,Gt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function xt(St){if(nt=nt||s(36),!(yt.call(xt,this)||this instanceof nt))return new xt(St);this._writableState=new It(St,this),this.writable=!0,St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final)),pt.call(this)}function Tt(St,Pt,Bt,jt,qt,Zt,Wt){Pt.writelen=jt,Pt.writecb=Wt,Pt.writing=!0,Pt.sync=!0,Bt?St._writev(qt,Pt.onwrite):St._write(qt,Zt,Pt.onwrite),Pt.sync=!1}function mt(St,Pt,Bt,jt){Bt||function(qt,Zt){Zt.length===0&&Zt.needDrain&&(Zt.needDrain=!1,qt.emit("drain"))}(St,Pt),Pt.pendingcb--,jt(),Ft(St,Pt)}function Nt(St,Pt){Pt.bufferProcessing=!0;var Bt=Pt.bufferedRequest;if(St._writev&&Bt&&Bt.next){var jt=Pt.bufferedRequestCount,qt=new Array(jt),Zt=Pt.corkedRequestsFree;Zt.entry=Bt;for(var Wt=0,Gt=!0;Bt;)qt[Wt]=Bt,Bt.isBuf||(Gt=!1),Bt=Bt.next,Wt+=1;qt.allBuffers=Gt,Tt(St,Pt,!0,Pt.length,qt,"",Zt.finish),Pt.pendingcb++,Pt.lastBufferedRequest=null,Zt.next?(Pt.corkedRequestsFree=Zt.next,Zt.next=null):Pt.corkedRequestsFree=new j(Pt),Pt.bufferedRequestCount=0}else{for(;Bt;){var Ht=Bt.chunk,kt=Bt.encoding,Rt=Bt.callback;if(Tt(St,Pt,!1,Pt.objectMode?1:Ht.length,Ht,kt,Rt),Bt=Bt.next,Pt.bufferedRequestCount--,Pt.writing)break}Bt===null&&(Pt.lastBufferedRequest=null)}Pt.bufferedRequest=Bt,Pt.bufferProcessing=!1}function en(St){return St.ending&&St.length===0&&St.bufferedRequest===null&&!St.finished&&!St.writing}function rn(St,Pt){St._final(function(Bt){Pt.pendingcb--,Bt&&St.emit("error",Bt),Pt.prefinished=!0,St.emit("prefinish"),Ft(St,Pt)})}function Ft(St,Pt){var Bt=en(Pt);return Bt&&(function(jt,qt){qt.prefinished||qt.finalCalled||(typeof jt._final=="function"?(qt.pendingcb++,qt.finalCalled=!0,et.nextTick(rn,jt,qt)):(qt.prefinished=!0,jt.emit("prefinish")))}(St,Pt),Pt.pendingcb===0&&(Pt.finished=!0,St.emit("finish"))),Bt}ct.inherits(xt,pt),It.prototype.getBuffer=function(){for(var St=this.bufferedRequest,Pt=[];St;)Pt.push(St),St=St.next;return Pt},function(){try{Object.defineProperty(It.prototype,"buffer",{get:gt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yt=Function.prototype[Symbol.hasInstance],Object.defineProperty(xt,Symbol.hasInstance,{value:function(St){return!!yt.call(this,St)||this===xt&&St&&St._writableState instanceof It}})):yt=function(St){return St instanceof this},xt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},xt.prototype.write=function(St,Pt,Bt){var jt,qt=this._writableState,Zt=!1,Wt=!qt.objectMode&&(jt=St,ft.isBuffer(jt)||jt instanceof ut);return Wt&&!ft.isBuffer(St)&&(St=function(Gt){return ft.from(Gt)}(St)),typeof Pt=="function"&&(Bt=Pt,Pt=null),Wt?Pt="buffer":Pt||(Pt=qt.defaultEncoding),typeof Bt!="function"&&(Bt=Qt),qt.ended?function(Gt,Ht){var kt=new Error("write after end");Gt.emit("error",kt),et.nextTick(Ht,kt)}(this,Bt):(Wt||function(Gt,Ht,kt,Rt){var $t=!0,nn=!1;return kt===null?nn=new TypeError("May not write null values to stream"):typeof kt=="string"||kt===void 0||Ht.objectMode||(nn=new TypeError("Invalid non-string/buffer chunk")),nn&&(Gt.emit("error",nn),et.nextTick(Rt,nn),$t=!1),$t}(this,qt,St,Bt))&&(qt.pendingcb++,Zt=function(Gt,Ht,kt,Rt,$t,nn){if(!kt){var Un=function(sn,Ct,Dt){return sn.objectMode||sn.decodeStrings===!1||typeof Ct!="string"||(Ct=ft.from(Ct,Dt)),Ct}(Ht,Rt,$t);Rt!==Un&&(kt=!0,$t="buffer",Rt=Un)}var Fn=Ht.objectMode?1:Rt.length;Ht.length+=Fn;var En=Ht.length<Ht.highWaterMark;if(En||(Ht.needDrain=!0),Ht.writing||Ht.corked){var fn=Ht.lastBufferedRequest;Ht.lastBufferedRequest={chunk:Rt,encoding:$t,isBuf:kt,callback:nn,next:null},fn?fn.next=Ht.lastBufferedRequest:Ht.bufferedRequest=Ht.lastBufferedRequest,Ht.bufferedRequestCount+=1}else Tt(Gt,Ht,!1,Fn,Rt,$t,nn);return En}(this,qt,Wt,St,Pt,Bt)),Zt},xt.prototype.cork=function(){this._writableState.corked++},xt.prototype.uncork=function(){var St=this._writableState;St.corked&&(St.corked--,St.writing||St.corked||St.finished||St.bufferProcessing||!St.bufferedRequest||Nt(this,St))},xt.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this},Object.defineProperty(xt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),xt.prototype._write=function(St,Pt,Bt){Bt(new Error("_write() is not implemented"))},xt.prototype._writev=null,xt.prototype.end=function(St,Pt,Bt){var jt=this._writableState;typeof St=="function"?(Bt=St,St=null,Pt=null):typeof Pt=="function"&&(Bt=Pt,Pt=null),St!=null&&this.write(St,Pt),jt.corked&&(jt.corked=1,this.uncork()),jt.ending||jt.finished||function(qt,Zt,Wt){Zt.ending=!0,Ft(qt,Zt),Wt&&(Zt.finished?et.nextTick(Wt):qt.once("finish",Wt)),Zt.ended=!0,qt.writable=!1}(this,jt,Bt)},Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(St){this._writableState&&(this._writableState.destroyed=St)}}),xt.prototype.destroy=wt.destroy,xt.prototype._undestroy=wt.undestroy,xt.prototype._destroy=function(St,Pt){this.end(),Pt(St)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(_e,et){_e.emit("error",et)}i.exports={destroy:function(_e,et){var j=this,nt=this._readableState&&this._readableState.destroyed,ot=this._writableState&&this._writableState.destroyed;return nt||ot?(et?et(_e):!_e||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,_e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_e||null,function(ct){!et&&ct?(_.nextTick($,j,ct),j._writableState&&(j._writableState.errorEmitted=!0)):et&&et(ct)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o){},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=et(s(156)),$=et(s(25)),_e=et(s(30));function et(j){return j&&j.__esModule?j:{default:j}}o.default=(0,_e.default)(function(j,nt,ot,ct){return(0,_.default)(nt)(j,(0,$.default)(ot),ct)},4),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){function $(..._e){if(_!==null){var et=_;_=null,et.apply(this,_e)}}return Object.assign($,_),$},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){if(_===null)throw new Error("Callback was already called.");var _e=_;_=null,_e.apply(this,$)}},i.exports=o.default},function(i,o,s){(function(_,$){var _e=s(16);i.exports=Tt;var et,j=s(42);Tt.ReadableState=xt,s(21).EventEmitter;var nt=function(kt,Rt){return kt.listeners(Rt).length},ot=s(70),ct=s(47).Buffer,gt=_.Uint8Array||function(){},pt=s(17);pt.inherits=s(7);var ft=s(162),ut=void 0;ut=ft&&ft.debuglog?ft.debuglog("stream"):function(){};var yt,wt=s(163),Qt=s(71);pt.inherits(Tt,ot);var It=["error","close","destroy","pause","resume"];function xt(kt,Rt){kt=kt||{};var $t=Rt instanceof(et=et||s(23));this.objectMode=!!kt.objectMode,$t&&(this.objectMode=this.objectMode||!!kt.readableObjectMode);var nn=kt.highWaterMark,Un=kt.readableHighWaterMark,Fn=this.objectMode?16:16384;this.highWaterMark=nn||nn===0?nn:$t&&(Un||Un===0)?Un:Fn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=kt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,kt.encoding&&(yt||(yt=s(22).StringDecoder),this.decoder=new yt(kt.encoding),this.encoding=kt.encoding)}function Tt(kt){if(et=et||s(23),!(this instanceof Tt))return new Tt(kt);this._readableState=new xt(kt,this),this.readable=!0,kt&&(typeof kt.read=="function"&&(this._read=kt.read),typeof kt.destroy=="function"&&(this._destroy=kt.destroy)),ot.call(this)}function mt(kt,Rt,$t,nn,Un){var Fn,En=kt._readableState;return Rt===null?(En.reading=!1,function(fn,sn){if(!sn.ended){if(sn.decoder){var Ct=sn.decoder.end();Ct&&Ct.length&&(sn.buffer.push(Ct),sn.length+=sn.objectMode?1:Ct.length)}sn.ended=!0,rn(fn)}}(kt,En)):(Un||(Fn=function(fn,sn){var Ct;Dt=sn,ct.isBuffer(Dt)||Dt instanceof gt||typeof sn=="string"||sn===void 0||fn.objectMode||(Ct=new TypeError("Invalid non-string/buffer chunk"));var Dt;return Ct}(En,Rt)),Fn?kt.emit("error",Fn):En.objectMode||Rt&&Rt.length>0?(typeof Rt=="string"||En.objectMode||Object.getPrototypeOf(Rt)===ct.prototype||(Rt=function(fn){return ct.from(fn)}(Rt)),nn?En.endEmitted?kt.emit("error",new Error("stream.unshift() after end event")):Nt(kt,En,Rt,!0):En.ended?kt.emit("error",new Error("stream.push() after EOF")):(En.reading=!1,En.decoder&&!$t?(Rt=En.decoder.write(Rt),En.objectMode||Rt.length!==0?Nt(kt,En,Rt,!1):St(kt,En)):Nt(kt,En,Rt,!1))):nn||(En.reading=!1)),function(fn){return!fn.ended&&(fn.needReadable||fn.length<fn.highWaterMark||fn.length===0)}(En)}function Nt(kt,Rt,$t,nn){Rt.flowing&&Rt.length===0&&!Rt.sync?(kt.emit("data",$t),kt.read(0)):(Rt.length+=Rt.objectMode?1:$t.length,nn?Rt.buffer.unshift($t):Rt.buffer.push($t),Rt.needReadable&&rn(kt)),St(kt,Rt)}Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(kt){this._readableState&&(this._readableState.destroyed=kt)}}),Tt.prototype.destroy=Qt.destroy,Tt.prototype._undestroy=Qt.undestroy,Tt.prototype._destroy=function(kt,Rt){this.push(null),Rt(kt)},Tt.prototype.push=function(kt,Rt){var $t,nn=this._readableState;return nn.objectMode?$t=!0:typeof kt=="string"&&((Rt=Rt||nn.defaultEncoding)!==nn.encoding&&(kt=ct.from(kt,Rt),Rt=""),$t=!0),mt(this,kt,Rt,!1,$t)},Tt.prototype.unshift=function(kt){return mt(this,kt,null,!0,!1)},Tt.prototype.isPaused=function(){return this._readableState.flowing===!1},Tt.prototype.setEncoding=function(kt){return yt||(yt=s(22).StringDecoder),this._readableState.decoder=new yt(kt),this._readableState.encoding=kt,this};function en(kt,Rt){return kt<=0||Rt.length===0&&Rt.ended?0:Rt.objectMode?1:kt!=kt?Rt.flowing&&Rt.length?Rt.buffer.head.data.length:Rt.length:(kt>Rt.highWaterMark&&(Rt.highWaterMark=function($t){return $t>=8388608?$t=8388608:($t--,$t|=$t>>>1,$t|=$t>>>2,$t|=$t>>>4,$t|=$t>>>8,$t|=$t>>>16,$t++),$t}(kt)),kt<=Rt.length?kt:Rt.ended?Rt.length:(Rt.needReadable=!0,0))}function rn(kt){var Rt=kt._readableState;Rt.needReadable=!1,Rt.emittedReadable||(ut("emitReadable",Rt.flowing),Rt.emittedReadable=!0,Rt.sync?_e.nextTick(Ft,kt):Ft(kt))}function Ft(kt){ut("emit readable"),kt.emit("readable"),qt(kt)}function St(kt,Rt){Rt.readingMore||(Rt.readingMore=!0,_e.nextTick(Pt,kt,Rt))}function Pt(kt,Rt){for(var $t=Rt.length;!Rt.reading&&!Rt.flowing&&!Rt.ended&&Rt.length<Rt.highWaterMark&&(ut("maybeReadMore read 0"),kt.read(0),$t!==Rt.length);)$t=Rt.length;Rt.readingMore=!1}function Bt(kt){ut("readable nexttick read 0"),kt.read(0)}function jt(kt,Rt){Rt.reading||(ut("resume read 0"),kt.read(0)),Rt.resumeScheduled=!1,Rt.awaitDrain=0,kt.emit("resume"),qt(kt),Rt.flowing&&!Rt.reading&&kt.read(0)}function qt(kt){var Rt=kt._readableState;for(ut("flow",Rt.flowing);Rt.flowing&&kt.read()!==null;);}function Zt(kt,Rt){return Rt.length===0?null:(Rt.objectMode?$t=Rt.buffer.shift():!kt||kt>=Rt.length?($t=Rt.decoder?Rt.buffer.join(""):Rt.buffer.length===1?Rt.buffer.head.data:Rt.buffer.concat(Rt.length),Rt.buffer.clear()):$t=function(nn,Un,Fn){var En;return nn<Un.head.data.length?(En=Un.head.data.slice(0,nn),Un.head.data=Un.head.data.slice(nn)):En=nn===Un.head.data.length?Un.shift():Fn?function(fn,sn){var Ct=sn.head,Dt=1,Xt=Ct.data;for(fn-=Xt.length;Ct=Ct.next;){var _n=Ct.data,mn=fn>_n.length?_n.length:fn;if(mn===_n.length?Xt+=_n:Xt+=_n.slice(0,fn),(fn-=mn)===0){mn===_n.length?(++Dt,Ct.next?sn.head=Ct.next:sn.head=sn.tail=null):(sn.head=Ct,Ct.data=_n.slice(mn));break}++Dt}return sn.length-=Dt,Xt}(nn,Un):function(fn,sn){var Ct=ct.allocUnsafe(fn),Dt=sn.head,Xt=1;for(Dt.data.copy(Ct),fn-=Dt.data.length;Dt=Dt.next;){var _n=Dt.data,mn=fn>_n.length?_n.length:fn;if(_n.copy(Ct,Ct.length-fn,0,mn),(fn-=mn)===0){mn===_n.length?(++Xt,Dt.next?sn.head=Dt.next:sn.head=sn.tail=null):(sn.head=Dt,Dt.data=_n.slice(mn));break}++Xt}return sn.length-=Xt,Ct}(nn,Un),En}(kt,Rt.buffer,Rt.decoder),$t);var $t}function Wt(kt){var Rt=kt._readableState;if(Rt.length>0)throw new Error('"endReadable()" called on non-empty stream');Rt.endEmitted||(Rt.ended=!0,_e.nextTick(Gt,Rt,kt))}function Gt(kt,Rt){kt.endEmitted||kt.length!==0||(kt.endEmitted=!0,Rt.readable=!1,Rt.emit("end"))}function Ht(kt,Rt){for(var $t=0,nn=kt.length;$t<nn;$t++)if(kt[$t]===Rt)return $t;return-1}Tt.prototype.read=function(kt){ut("read",kt),kt=parseInt(kt,10);var Rt=this._readableState,$t=kt;if(kt!==0&&(Rt.emittedReadable=!1),kt===0&&Rt.needReadable&&(Rt.length>=Rt.highWaterMark||Rt.ended))return ut("read: emitReadable",Rt.length,Rt.ended),Rt.length===0&&Rt.ended?Wt(this):rn(this),null;if((kt=en(kt,Rt))===0&&Rt.ended)return Rt.length===0&&Wt(this),null;var nn,Un=Rt.needReadable;return ut("need readable",Un),(Rt.length===0||Rt.length-kt<Rt.highWaterMark)&&ut("length less than watermark",Un=!0),Rt.ended||Rt.reading?ut("reading or ended",Un=!1):Un&&(ut("do read"),Rt.reading=!0,Rt.sync=!0,Rt.length===0&&(Rt.needReadable=!0),this._read(Rt.highWaterMark),Rt.sync=!1,Rt.reading||(kt=en($t,Rt))),(nn=kt>0?Zt(kt,Rt):null)===null?(Rt.needReadable=!0,kt=0):Rt.length-=kt,Rt.length===0&&(Rt.ended||(Rt.needReadable=!0),$t!==kt&&Rt.ended&&Wt(this)),nn!==null&&this.emit("data",nn),nn},Tt.prototype._read=function(kt){this.emit("error",new Error("_read() is not implemented"))},Tt.prototype.pipe=function(kt,Rt){var $t=this,nn=this._readableState;switch(nn.pipesCount){case 0:nn.pipes=kt;break;case 1:nn.pipes=[nn.pipes,kt];break;default:nn.pipes.push(kt)}nn.pipesCount+=1,ut("pipe count=%d opts=%j",nn.pipesCount,Rt);var Un=(!Rt||Rt.end!==!1)&&kt!==$.stdout&&kt!==$.stderr?En:xn;function Fn(On,nr){ut("onunpipe"),On===$t&&nr&&nr.hasUnpiped===!1&&(nr.hasUnpiped=!0,ut("cleanup"),kt.removeListener("close",_n),kt.removeListener("finish",mn),kt.removeListener("drain",fn),kt.removeListener("error",Xt),kt.removeListener("unpipe",Fn),$t.removeListener("end",En),$t.removeListener("end",xn),$t.removeListener("data",Dt),sn=!0,!nn.awaitDrain||kt._writableState&&!kt._writableState.needDrain||fn())}function En(){ut("onend"),kt.end()}nn.endEmitted?_e.nextTick(Un):$t.once("end",Un),kt.on("unpipe",Fn);var fn=function(On){return function(){var nr=On._readableState;ut("pipeOnDrain",nr.awaitDrain),nr.awaitDrain&&nr.awaitDrain--,nr.awaitDrain===0&&nt(On,"data")&&(nr.flowing=!0,qt(On))}}($t);kt.on("drain",fn);var sn=!1,Ct=!1;function Dt(On){ut("ondata"),Ct=!1,kt.write(On)!==!1||Ct||((nn.pipesCount===1&&nn.pipes===kt||nn.pipesCount>1&&Ht(nn.pipes,kt)!==-1)&&!sn&&(ut("false write response, pause",$t._readableState.awaitDrain),$t._readableState.awaitDrain++,Ct=!0),$t.pause())}function Xt(On){ut("onerror",On),xn(),kt.removeListener("error",Xt),nt(kt,"error")===0&&kt.emit("error",On)}function _n(){kt.removeListener("finish",mn),xn()}function mn(){ut("onfinish"),kt.removeListener("close",_n),xn()}function xn(){ut("unpipe"),$t.unpipe(kt)}return $t.on("data",Dt),function(On,nr,Nr){if(typeof On.prependListener=="function")return On.prependListener(nr,Nr);On._events&&On._events[nr]?j(On._events[nr])?On._events[nr].unshift(Nr):On._events[nr]=[Nr,On._events[nr]]:On.on(nr,Nr)}(kt,"error",Xt),kt.once("close",_n),kt.once("finish",mn),kt.emit("pipe",$t),nn.flowing||(ut("pipe resume"),$t.resume()),kt},Tt.prototype.unpipe=function(kt){var Rt=this._readableState,$t={hasUnpiped:!1};if(Rt.pipesCount===0)return this;if(Rt.pipesCount===1)return kt&&kt!==Rt.pipes||(kt||(kt=Rt.pipes),Rt.pipes=null,Rt.pipesCount=0,Rt.flowing=!1,kt&&kt.emit("unpipe",this,$t)),this;if(!kt){var nn=Rt.pipes,Un=Rt.pipesCount;Rt.pipes=null,Rt.pipesCount=0,Rt.flowing=!1;for(var Fn=0;Fn<Un;Fn++)nn[Fn].emit("unpipe",this,$t);return this}var En=Ht(Rt.pipes,kt);return En===-1||(Rt.pipes.splice(En,1),Rt.pipesCount-=1,Rt.pipesCount===1&&(Rt.pipes=Rt.pipes[0]),kt.emit("unpipe",this,$t)),this},Tt.prototype.on=function(kt,Rt){var $t=ot.prototype.on.call(this,kt,Rt);if(kt==="data")this._readableState.flowing!==!1&&this.resume();else if(kt==="readable"){var nn=this._readableState;nn.endEmitted||nn.readableListening||(nn.readableListening=nn.needReadable=!0,nn.emittedReadable=!1,nn.reading?nn.length&&rn(this):_e.nextTick(Bt,this))}return $t},Tt.prototype.addListener=Tt.prototype.on,Tt.prototype.resume=function(){var kt=this._readableState;return kt.flowing||(ut("resume"),kt.flowing=!0,function(Rt,$t){$t.resumeScheduled||($t.resumeScheduled=!0,_e.nextTick(jt,Rt,$t))}(this,kt)),this},Tt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Tt.prototype.wrap=function(kt){var Rt=this,$t=this._readableState,nn=!1;for(var Un in kt.on("end",function(){if(ut("wrapped end"),$t.decoder&&!$t.ended){var En=$t.decoder.end();En&&En.length&&Rt.push(En)}Rt.push(null)}),kt.on("data",function(En){ut("wrapped data"),$t.decoder&&(En=$t.decoder.write(En)),$t.objectMode&&En==null||($t.objectMode||En&&En.length)&&(Rt.push(En)||(nn=!0,kt.pause()))}),kt)this[Un]===void 0&&typeof kt[Un]=="function"&&(this[Un]=function(En){return function(){return kt[En].apply(kt,arguments)}}(Un));for(var Fn=0;Fn<It.length;Fn++)kt.on(It[Fn],this.emit.bind(this,It[Fn]));return this._read=function(En){ut("wrapped _read",En),nn&&(nn=!1,kt.resume())},this},Object.defineProperty(Tt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Tt._fromList=Zt}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(_e,et){_e.emit("error",et)}i.exports={destroy:function(_e,et){var j=this,nt=this._readableState&&this._readableState.destroyed,ot=this._writableState&&this._writableState.destroyed;return nt||ot?(et?et(_e):!_e||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,_e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_e||null,function(ct){!et&&ct?(_.nextTick($,j,ct),j._writableState&&(j._writableState.errorEmitted=!0)):et&&et(ct)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o,s){i.exports=et;var _=s(23),$=s(17);function _e(ot,ct){var gt=this._transformState;gt.transforming=!1;var pt=gt.writecb;if(!pt)return this.emit("error",new Error("write callback called multiple times"));gt.writechunk=null,gt.writecb=null,ct!=null&&this.push(ct),pt(ot);var ft=this._readableState;ft.reading=!1,(ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}function et(ot){if(!(this instanceof et))return new et(ot);_.call(this,ot),this._transformState={afterTransform:_e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ot&&(typeof ot.transform=="function"&&(this._transform=ot.transform),typeof ot.flush=="function"&&(this._flush=ot.flush)),this.on("prefinish",j)}function j(){var ot=this;typeof this._flush=="function"?this._flush(function(ct,gt){nt(ot,ct,gt)}):nt(this,null,null)}function nt(ot,ct,gt){if(ct)return ot.emit("error",ct);if(gt!=null&&ot.push(gt),ot._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(ot._transformState.transforming)throw new Error("Calling transform done when still transforming");return ot.push(null)}$.inherits=s(7),$.inherits(et,_),et.prototype.push=function(ot,ct){return this._transformState.needTransform=!1,_.prototype.push.call(this,ot,ct)},et.prototype._transform=function(ot,ct,gt){throw new Error("_transform() is not implemented")},et.prototype._write=function(ot,ct,gt){var pt=this._transformState;if(pt.writecb=gt,pt.writechunk=ot,pt.writeencoding=ct,!pt.transforming){var ft=this._readableState;(pt.needTransform||ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}},et.prototype._read=function(ot){var ct=this._transformState;ct.writechunk!==null&&ct.writecb&&!ct.transforming?(ct.transforming=!0,this._transform(ct.writechunk,ct.writeencoding,ct.afterTransform)):ct.needTransform=!0},et.prototype._destroy=function(ot,ct){var gt=this;_.prototype._destroy.call(this,ot,function(pt){ct(pt),gt.emit("close")})}},function(i,o,s){i.exports=s(48)},function(i,o,s){(function(_){var $=s(170);function _e(Ft,St){if(Ft===St)return 0;for(var Pt=Ft.length,Bt=St.length,jt=0,qt=Math.min(Pt,Bt);jt<qt;++jt)if(Ft[jt]!==St[jt]){Pt=Ft[jt],Bt=St[jt];break}return Pt<Bt?-1:Bt<Pt?1:0}function et(Ft){return _.Buffer&&typeof _.Buffer.isBuffer=="function"?_.Buffer.isBuffer(Ft):!(Ft==null||!Ft._isBuffer)}var j=s(13),nt=Object.prototype.hasOwnProperty,ot=Array.prototype.slice,ct=function(){}.name==="foo";function gt(Ft){return Object.prototype.toString.call(Ft)}function pt(Ft){return!et(Ft)&&typeof _.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(Ft):!!Ft&&(Ft instanceof DataView||!!(Ft.buffer&&Ft.buffer instanceof ArrayBuffer)))}var ft=i.exports=xt,ut=/\s*function\s+([^\(\s]*)\s*/;function yt(Ft){if(j.isFunction(Ft)){if(ct)return Ft.name;var St=Ft.toString().match(ut);return St&&St[1]}}function wt(Ft,St){return typeof Ft=="string"?Ft.length<St?Ft:Ft.slice(0,St):Ft}function Qt(Ft){if(ct||!j.isFunction(Ft))return j.inspect(Ft);var St=yt(Ft);return"[Function"+(St?": "+St:"")+"]"}function It(Ft,St,Pt,Bt,jt){throw new ft.AssertionError({message:Pt,actual:Ft,expected:St,operator:Bt,stackStartFunction:jt})}function xt(Ft,St){Ft||It(Ft,!0,St,"==",ft.ok)}function Tt(Ft,St,Pt,Bt){if(Ft===St)return!0;if(et(Ft)&&et(St))return _e(Ft,St)===0;if(j.isDate(Ft)&&j.isDate(St))return Ft.getTime()===St.getTime();if(j.isRegExp(Ft)&&j.isRegExp(St))return Ft.source===St.source&&Ft.global===St.global&&Ft.multiline===St.multiline&&Ft.lastIndex===St.lastIndex&&Ft.ignoreCase===St.ignoreCase;if(Ft!==null&&typeof Ft=="object"||St!==null&&typeof St=="object"){if(pt(Ft)&&pt(St)&&gt(Ft)===gt(St)&&!(Ft instanceof Float32Array||Ft instanceof Float64Array))return _e(new Uint8Array(Ft.buffer),new Uint8Array(St.buffer))===0;if(et(Ft)!==et(St))return!1;var jt=(Bt=Bt||{actual:[],expected:[]}).actual.indexOf(Ft);return jt!==-1&&jt===Bt.expected.indexOf(St)||(Bt.actual.push(Ft),Bt.expected.push(St),function(qt,Zt,Wt,Gt){if(qt==null||Zt==null)return!1;if(j.isPrimitive(qt)||j.isPrimitive(Zt))return qt===Zt;if(Wt&&Object.getPrototypeOf(qt)!==Object.getPrototypeOf(Zt))return!1;var Ht=mt(qt),kt=mt(Zt);if(Ht&&!kt||!Ht&&kt)return!1;if(Ht)return qt=ot.call(qt),Zt=ot.call(Zt),Tt(qt,Zt,Wt);var Rt,$t,nn=rn(qt),Un=rn(Zt);if(nn.length!==Un.length)return!1;for(nn.sort(),Un.sort(),$t=nn.length-1;$t>=0;$t--)if(nn[$t]!==Un[$t])return!1;for($t=nn.length-1;$t>=0;$t--)if(Rt=nn[$t],!Tt(qt[Rt],Zt[Rt],Wt,Gt))return!1;return!0}(Ft,St,Pt,Bt))}return Pt?Ft===St:Ft==St}function mt(Ft){return Object.prototype.toString.call(Ft)=="[object Arguments]"}function Nt(Ft,St){if(!Ft||!St)return!1;if(Object.prototype.toString.call(St)=="[object RegExp]")return St.test(Ft);try{if(Ft instanceof St)return!0}catch{}return!Error.isPrototypeOf(St)&&St.call({},Ft)===!0}function en(Ft,St,Pt,Bt){var jt;if(typeof St!="function")throw new TypeError('"block" argument must be a function');typeof Pt=="string"&&(Bt=Pt,Pt=null),jt=function(Wt){var Gt;try{Wt()}catch(Ht){Gt=Ht}return Gt}(St),Bt=(Pt&&Pt.name?" ("+Pt.name+").":".")+(Bt?" "+Bt:"."),Ft&&!jt&&It(jt,Pt,"Missing expected exception"+Bt);var qt=typeof Bt=="string",Zt=!Ft&&jt&&!Pt;if((!Ft&&j.isError(jt)&&qt&&Nt(jt,Pt)||Zt)&&It(jt,Pt,"Got unwanted exception"+Bt),Ft&&jt&&Pt&&!Nt(jt,Pt)||!Ft&&jt)throw jt}ft.AssertionError=function(Ft){this.name="AssertionError",this.actual=Ft.actual,this.expected=Ft.expected,this.operator=Ft.operator,Ft.message?(this.message=Ft.message,this.generatedMessage=!1):(this.message=function(Wt){return wt(Qt(Wt.actual),128)+" "+Wt.operator+" "+wt(Qt(Wt.expected),128)}(this),this.generatedMessage=!0);var St=Ft.stackStartFunction||It;if(Error.captureStackTrace)Error.captureStackTrace(this,St);else{var Pt=new Error;if(Pt.stack){var Bt=Pt.stack,jt=yt(St),qt=Bt.indexOf(`
`+jt);if(qt>=0){var Zt=Bt.indexOf(`
`,qt+1);Bt=Bt.substring(Zt+1)}this.stack=Bt}}},j.inherits(ft.AssertionError,Error),ft.fail=It,ft.ok=xt,ft.equal=function(Ft,St,Pt){Ft!=St&&It(Ft,St,Pt,"==",ft.equal)},ft.notEqual=function(Ft,St,Pt){Ft==St&&It(Ft,St,Pt,"!=",ft.notEqual)},ft.deepEqual=function(Ft,St,Pt){Tt(Ft,St,!1)||It(Ft,St,Pt,"deepEqual",ft.deepEqual)},ft.deepStrictEqual=function(Ft,St,Pt){Tt(Ft,St,!0)||It(Ft,St,Pt,"deepStrictEqual",ft.deepStrictEqual)},ft.notDeepEqual=function(Ft,St,Pt){Tt(Ft,St,!1)&&It(Ft,St,Pt,"notDeepEqual",ft.notDeepEqual)},ft.notDeepStrictEqual=function Ft(St,Pt,Bt){Tt(St,Pt,!0)&&It(St,Pt,Bt,"notDeepStrictEqual",Ft)},ft.strictEqual=function(Ft,St,Pt){Ft!==St&&It(Ft,St,Pt,"===",ft.strictEqual)},ft.notStrictEqual=function(Ft,St,Pt){Ft===St&&It(Ft,St,Pt,"!==",ft.notStrictEqual)},ft.throws=function(Ft,St,Pt){en(!0,Ft,St,Pt)},ft.doesNotThrow=function(Ft,St,Pt){en(!1,Ft,St,Pt)},ft.ifError=function(Ft){if(Ft)throw Ft},ft.strict=$(function Ft(St,Pt){St||It(St,!0,Pt,"==",Ft)},ft,{equal:ft.strictEqual,deepEqual:ft.deepStrictEqual,notEqual:ft.notStrictEqual,notDeepEqual:ft.notDeepStrictEqual}),ft.strict.strict=ft.strict;var rn=Object.keys||function(Ft){var St=[];for(var Pt in Ft)nt.call(Ft,Pt)&&St.push(Pt);return St}}).call(this,s(6))},function(i,o,s){i.exports=function(_,$,_e,et){for(var j=65535&_|0,nt=_>>>16&65535|0,ot=0;_e!==0;){_e-=ot=_e>2e3?2e3:_e;do nt=nt+(j=j+$[et++]|0)|0;while(--ot);j%=65521,nt%=65521}return j|nt<<16|0}},function(i,o,s){var _=function(){for(var $,_e=[],et=0;et<256;et++){$=et;for(var j=0;j<8;j++)$=1&$?3988292384^$>>>1:$>>>1;_e[et]=$}return _e}();i.exports=function($,_e,et,j){var nt=_,ot=j+et;$^=-1;for(var ct=j;ct<ot;ct++)$=$>>>8^nt[255&($^_e[ct])];return-1^$}},function(i,o,s){(function(_,$){var _e;i.exports=St,St.ReadableState=Ft,s(21).EventEmitter;var et=function(fn,sn){return fn.listeners(sn).length},j=s(78),nt=s(5).Buffer,ot=_.Uint8Array||function(){},ct,gt=s(179);ct=gt&&gt.debuglog?gt.debuglog("stream"):function(){};var pt,ft,ut,yt=s(180),wt=s(79),Qt=s(80).getHighWaterMark,It=s(26).codes,xt=It.ERR_INVALID_ARG_TYPE,Tt=It.ERR_STREAM_PUSH_AFTER_EOF,mt=It.ERR_METHOD_NOT_IMPLEMENTED,Nt=It.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;s(7)(St,j);var en=wt.errorOrDestroy,rn=["error","close","destroy","pause","resume"];function Ft(fn,sn,Ct){_e=_e||s(27),fn=fn||{},typeof Ct!="boolean"&&(Ct=sn instanceof _e),this.objectMode=!!fn.objectMode,Ct&&(this.objectMode=this.objectMode||!!fn.readableObjectMode),this.highWaterMark=Qt(this,fn,"readableHighWaterMark",Ct),this.buffer=new yt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=fn.emitClose!==!1,this.autoDestroy=!!fn.autoDestroy,this.destroyed=!1,this.defaultEncoding=fn.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,fn.encoding&&(pt||(pt=s(22).StringDecoder),this.decoder=new pt(fn.encoding),this.encoding=fn.encoding)}function St(fn){if(_e=_e||s(27),!(this instanceof St))return new St(fn);var sn=this instanceof _e;this._readableState=new Ft(fn,this,sn),this.readable=!0,fn&&(typeof fn.read=="function"&&(this._read=fn.read),typeof fn.destroy=="function"&&(this._destroy=fn.destroy)),j.call(this)}function Pt(fn,sn,Ct,Dt,Xt){ct("readableAddChunk",sn);var _n,mn=fn._readableState;if(sn===null)mn.reading=!1,function(xn,On){if(ct("onEofChunk"),!On.ended){if(On.decoder){var nr=On.decoder.end();nr&&nr.length&&(On.buffer.push(nr),On.length+=On.objectMode?1:nr.length)}On.ended=!0,On.sync?qt(xn):(On.needReadable=!1,On.emittedReadable||(On.emittedReadable=!0,Zt(xn)))}}(fn,mn);else if(Xt||(_n=function(xn,On){var nr;Nr=On,nt.isBuffer(Nr)||Nr instanceof ot||typeof On=="string"||On===void 0||xn.objectMode||(nr=new xt("chunk",["string","Buffer","Uint8Array"],On));var Nr;return nr}(mn,sn)),_n)en(fn,_n);else if(mn.objectMode||sn&&sn.length>0)if(typeof sn=="string"||mn.objectMode||Object.getPrototypeOf(sn)===nt.prototype||(sn=function(xn){return nt.from(xn)}(sn)),Dt)mn.endEmitted?en(fn,new Nt):Bt(fn,mn,sn,!0);else if(mn.ended)en(fn,new Tt);else{if(mn.destroyed)return!1;mn.reading=!1,mn.decoder&&!Ct?(sn=mn.decoder.write(sn),mn.objectMode||sn.length!==0?Bt(fn,mn,sn,!1):Wt(fn,mn)):Bt(fn,mn,sn,!1)}else Dt||(mn.reading=!1,Wt(fn,mn));return!mn.ended&&(mn.length<mn.highWaterMark||mn.length===0)}function Bt(fn,sn,Ct,Dt){sn.flowing&&sn.length===0&&!sn.sync?(sn.awaitDrain=0,fn.emit("data",Ct)):(sn.length+=sn.objectMode?1:Ct.length,Dt?sn.buffer.unshift(Ct):sn.buffer.push(Ct),sn.needReadable&&qt(fn)),Wt(fn,sn)}Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(fn){this._readableState&&(this._readableState.destroyed=fn)}}),St.prototype.destroy=wt.destroy,St.prototype._undestroy=wt.undestroy,St.prototype._destroy=function(fn,sn){sn(fn)},St.prototype.push=function(fn,sn){var Ct,Dt=this._readableState;return Dt.objectMode?Ct=!0:typeof fn=="string"&&((sn=sn||Dt.defaultEncoding)!==Dt.encoding&&(fn=nt.from(fn,sn),sn=""),Ct=!0),Pt(this,fn,sn,!1,Ct)},St.prototype.unshift=function(fn){return Pt(this,fn,null,!0,!1)},St.prototype.isPaused=function(){return this._readableState.flowing===!1},St.prototype.setEncoding=function(fn){pt||(pt=s(22).StringDecoder);var sn=new pt(fn);this._readableState.decoder=sn,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ct=this._readableState.buffer.head,Dt="";Ct!==null;)Dt+=sn.write(Ct.data),Ct=Ct.next;return this._readableState.buffer.clear(),Dt!==""&&this._readableState.buffer.push(Dt),this._readableState.length=Dt.length,this};function jt(fn,sn){return fn<=0||sn.length===0&&sn.ended?0:sn.objectMode?1:fn!=fn?sn.flowing&&sn.length?sn.buffer.head.data.length:sn.length:(fn>sn.highWaterMark&&(sn.highWaterMark=function(Ct){return Ct>=1073741824?Ct=1073741824:(Ct--,Ct|=Ct>>>1,Ct|=Ct>>>2,Ct|=Ct>>>4,Ct|=Ct>>>8,Ct|=Ct>>>16,Ct++),Ct}(fn)),fn<=sn.length?fn:sn.ended?sn.length:(sn.needReadable=!0,0))}function qt(fn){var sn=fn._readableState;ct("emitReadable",sn.needReadable,sn.emittedReadable),sn.needReadable=!1,sn.emittedReadable||(ct("emitReadable",sn.flowing),sn.emittedReadable=!0,$.nextTick(Zt,fn))}function Zt(fn){var sn=fn._readableState;ct("emitReadable_",sn.destroyed,sn.length,sn.ended),sn.destroyed||!sn.length&&!sn.ended||(fn.emit("readable"),sn.emittedReadable=!1),sn.needReadable=!sn.flowing&&!sn.ended&&sn.length<=sn.highWaterMark,$t(fn)}function Wt(fn,sn){sn.readingMore||(sn.readingMore=!0,$.nextTick(Gt,fn,sn))}function Gt(fn,sn){for(;!sn.reading&&!sn.ended&&(sn.length<sn.highWaterMark||sn.flowing&&sn.length===0);){var Ct=sn.length;if(ct("maybeReadMore read 0"),fn.read(0),Ct===sn.length)break}sn.readingMore=!1}function Ht(fn){var sn=fn._readableState;sn.readableListening=fn.listenerCount("readable")>0,sn.resumeScheduled&&!sn.paused?sn.flowing=!0:fn.listenerCount("data")>0&&fn.resume()}function kt(fn){ct("readable nexttick read 0"),fn.read(0)}function Rt(fn,sn){ct("resume",sn.reading),sn.reading||fn.read(0),sn.resumeScheduled=!1,fn.emit("resume"),$t(fn),sn.flowing&&!sn.reading&&fn.read(0)}function $t(fn){var sn=fn._readableState;for(ct("flow",sn.flowing);sn.flowing&&fn.read()!==null;);}function nn(fn,sn){return sn.length===0?null:(sn.objectMode?Ct=sn.buffer.shift():!fn||fn>=sn.length?(Ct=sn.decoder?sn.buffer.join(""):sn.buffer.length===1?sn.buffer.first():sn.buffer.concat(sn.length),sn.buffer.clear()):Ct=sn.buffer.consume(fn,sn.decoder),Ct);var Ct}function Un(fn){var sn=fn._readableState;ct("endReadable",sn.endEmitted),sn.endEmitted||(sn.ended=!0,$.nextTick(Fn,sn,fn))}function Fn(fn,sn){if(ct("endReadableNT",fn.endEmitted,fn.length),!fn.endEmitted&&fn.length===0&&(fn.endEmitted=!0,sn.readable=!1,sn.emit("end"),fn.autoDestroy)){var Ct=sn._writableState;(!Ct||Ct.autoDestroy&&Ct.finished)&&sn.destroy()}}function En(fn,sn){for(var Ct=0,Dt=fn.length;Ct<Dt;Ct++)if(fn[Ct]===sn)return Ct;return-1}St.prototype.read=function(fn){ct("read",fn),fn=parseInt(fn,10);var sn=this._readableState,Ct=fn;if(fn!==0&&(sn.emittedReadable=!1),fn===0&&sn.needReadable&&((sn.highWaterMark!==0?sn.length>=sn.highWaterMark:sn.length>0)||sn.ended))return ct("read: emitReadable",sn.length,sn.ended),sn.length===0&&sn.ended?Un(this):qt(this),null;if((fn=jt(fn,sn))===0&&sn.ended)return sn.length===0&&Un(this),null;var Dt,Xt=sn.needReadable;return ct("need readable",Xt),(sn.length===0||sn.length-fn<sn.highWaterMark)&&ct("length less than watermark",Xt=!0),sn.ended||sn.reading?ct("reading or ended",Xt=!1):Xt&&(ct("do read"),sn.reading=!0,sn.sync=!0,sn.length===0&&(sn.needReadable=!0),this._read(sn.highWaterMark),sn.sync=!1,sn.reading||(fn=jt(Ct,sn))),(Dt=fn>0?nn(fn,sn):null)===null?(sn.needReadable=sn.length<=sn.highWaterMark,fn=0):(sn.length-=fn,sn.awaitDrain=0),sn.length===0&&(sn.ended||(sn.needReadable=!0),Ct!==fn&&sn.ended&&Un(this)),Dt!==null&&this.emit("data",Dt),Dt},St.prototype._read=function(fn){en(this,new mt("_read()"))},St.prototype.pipe=function(fn,sn){var Ct=this,Dt=this._readableState;switch(Dt.pipesCount){case 0:Dt.pipes=fn;break;case 1:Dt.pipes=[Dt.pipes,fn];break;default:Dt.pipes.push(fn)}Dt.pipesCount+=1,ct("pipe count=%d opts=%j",Dt.pipesCount,sn);var Xt=(!sn||sn.end!==!1)&&fn!==$.stdout&&fn!==$.stderr?mn:mo;function _n(qr,io){ct("onunpipe"),qr===Ct&&io&&io.hasUnpiped===!1&&(io.hasUnpiped=!0,ct("cleanup"),fn.removeListener("close",co),fn.removeListener("finish",Zr),fn.removeListener("drain",xn),fn.removeListener("error",Nr),fn.removeListener("unpipe",_n),Ct.removeListener("end",mn),Ct.removeListener("end",mo),Ct.removeListener("data",nr),On=!0,!Dt.awaitDrain||fn._writableState&&!fn._writableState.needDrain||xn())}function mn(){ct("onend"),fn.end()}Dt.endEmitted?$.nextTick(Xt):Ct.once("end",Xt),fn.on("unpipe",_n);var xn=function(qr){return function(){var io=qr._readableState;ct("pipeOnDrain",io.awaitDrain),io.awaitDrain&&io.awaitDrain--,io.awaitDrain===0&&et(qr,"data")&&(io.flowing=!0,$t(qr))}}(Ct);fn.on("drain",xn);var On=!1;function nr(qr){ct("ondata");var io=fn.write(qr);ct("dest.write",io),io===!1&&((Dt.pipesCount===1&&Dt.pipes===fn||Dt.pipesCount>1&&En(Dt.pipes,fn)!==-1)&&!On&&(ct("false write response, pause",Dt.awaitDrain),Dt.awaitDrain++),Ct.pause())}function Nr(qr){ct("onerror",qr),mo(),fn.removeListener("error",Nr),et(fn,"error")===0&&en(fn,qr)}function co(){fn.removeListener("finish",Zr),mo()}function Zr(){ct("onfinish"),fn.removeListener("close",co),mo()}function mo(){ct("unpipe"),Ct.unpipe(fn)}return Ct.on("data",nr),function(qr,io,lo){if(typeof qr.prependListener=="function")return qr.prependListener(io,lo);qr._events&&qr._events[io]?Array.isArray(qr._events[io])?qr._events[io].unshift(lo):qr._events[io]=[lo,qr._events[io]]:qr.on(io,lo)}(fn,"error",Nr),fn.once("close",co),fn.once("finish",Zr),fn.emit("pipe",Ct),Dt.flowing||(ct("pipe resume"),Ct.resume()),fn},St.prototype.unpipe=function(fn){var sn=this._readableState,Ct={hasUnpiped:!1};if(sn.pipesCount===0)return this;if(sn.pipesCount===1)return fn&&fn!==sn.pipes||(fn||(fn=sn.pipes),sn.pipes=null,sn.pipesCount=0,sn.flowing=!1,fn&&fn.emit("unpipe",this,Ct)),this;if(!fn){var Dt=sn.pipes,Xt=sn.pipesCount;sn.pipes=null,sn.pipesCount=0,sn.flowing=!1;for(var _n=0;_n<Xt;_n++)Dt[_n].emit("unpipe",this,{hasUnpiped:!1});return this}var mn=En(sn.pipes,fn);return mn===-1||(sn.pipes.splice(mn,1),sn.pipesCount-=1,sn.pipesCount===1&&(sn.pipes=sn.pipes[0]),fn.emit("unpipe",this,Ct)),this},St.prototype.on=function(fn,sn){var Ct=j.prototype.on.call(this,fn,sn),Dt=this._readableState;return fn==="data"?(Dt.readableListening=this.listenerCount("readable")>0,Dt.flowing!==!1&&this.resume()):fn==="readable"&&(Dt.endEmitted||Dt.readableListening||(Dt.readableListening=Dt.needReadable=!0,Dt.flowing=!1,Dt.emittedReadable=!1,ct("on readable",Dt.length,Dt.reading),Dt.length?qt(this):Dt.reading||$.nextTick(kt,this))),Ct},St.prototype.addListener=St.prototype.on,St.prototype.removeListener=function(fn,sn){var Ct=j.prototype.removeListener.call(this,fn,sn);return fn==="readable"&&$.nextTick(Ht,this),Ct},St.prototype.removeAllListeners=function(fn){var sn=j.prototype.removeAllListeners.apply(this,arguments);return fn!=="readable"&&fn!==void 0||$.nextTick(Ht,this),sn},St.prototype.resume=function(){var fn=this._readableState;return fn.flowing||(ct("resume"),fn.flowing=!fn.readableListening,function(sn,Ct){Ct.resumeScheduled||(Ct.resumeScheduled=!0,$.nextTick(Rt,sn,Ct))}(this,fn)),fn.paused=!1,this},St.prototype.pause=function(){return ct("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ct("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},St.prototype.wrap=function(fn){var sn=this,Ct=this._readableState,Dt=!1;for(var Xt in fn.on("end",function(){if(ct("wrapped end"),Ct.decoder&&!Ct.ended){var mn=Ct.decoder.end();mn&&mn.length&&sn.push(mn)}sn.push(null)}),fn.on("data",function(mn){ct("wrapped data"),Ct.decoder&&(mn=Ct.decoder.write(mn)),Ct.objectMode&&mn==null||(Ct.objectMode||mn&&mn.length)&&(sn.push(mn)||(Dt=!0,fn.pause()))}),fn)this[Xt]===void 0&&typeof fn[Xt]=="function"&&(this[Xt]=function(mn){return function(){return fn[mn].apply(fn,arguments)}}(Xt));for(var _n=0;_n<rn.length;_n++)fn.on(rn[_n],this.emit.bind(this,rn[_n]));return this._read=function(mn){ct("wrapped _read",mn),Dt&&(Dt=!1,fn.resume())},this},typeof Symbol=="function"&&(St.prototype[Symbol.asyncIterator]=function(){return ft===void 0&&(ft=s(182)),ft(this)}),Object.defineProperty(St.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(St.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(St.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(fn){this._readableState&&(this._readableState.flowing=fn)}}),St._fromList=nn,Object.defineProperty(St.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(St.from=function(fn,sn){return ut===void 0&&(ut=s(183)),ut(St,fn,sn)})}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){(function(_){function $(j,nt){et(j,nt),_e(j)}function _e(j){j._writableState&&!j._writableState.emitClose||j._readableState&&!j._readableState.emitClose||j.emit("close")}function et(j,nt){j.emit("error",nt)}i.exports={destroy:function(j,nt){var ot=this,ct=this._readableState&&this._readableState.destroyed,gt=this._writableState&&this._writableState.destroyed;return ct||gt?(nt?nt(j):j&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(et,this,j)):_.nextTick(et,this,j)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(pt){!nt&&pt?ot._writableState?ot._writableState.errorEmitted?_.nextTick(_e,ot):(ot._writableState.errorEmitted=!0,_.nextTick($,ot,pt)):_.nextTick($,ot,pt):nt?(_.nextTick(_e,ot),nt(pt)):_.nextTick(_e,ot)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(j,nt){var ot=j._readableState,ct=j._writableState;ot&&ot.autoDestroy||ct&&ct.autoDestroy?j.destroy(nt):j.emit("error",nt)}}}).call(this,s(2))},function(i,o,s){var _=s(26).codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function($,_e,et,j){var nt=function(ot,ct,gt){return ot.highWaterMark!=null?ot.highWaterMark:ct?ot[gt]:null}(_e,j,et);if(nt!=null){if(!isFinite(nt)||Math.floor(nt)!==nt||nt<0)throw new _(j?et:"highWaterMark",nt);return Math.floor(nt)}return $.objectMode?16:16384}}},function(i,o,s){(function(_,$){function _e(Gt){var Ht=this;this.next=null,this.entry=null,this.finish=function(){(function(kt,Rt,$t){var nn=kt.entry;for(kt.entry=null;nn;){var Un=nn.callback;Rt.pendingcb--,Un($t),nn=nn.next}Rt.corkedRequestsFree.next=kt})(Ht,Gt)}}var et;i.exports=St,St.WritableState=Ft;var j={deprecate:s(43)},nt=s(78),ot=s(5).Buffer,ct=_.Uint8Array||function(){},gt,pt=s(79),ft=s(80).getHighWaterMark,ut=s(26).codes,yt=ut.ERR_INVALID_ARG_TYPE,wt=ut.ERR_METHOD_NOT_IMPLEMENTED,Qt=ut.ERR_MULTIPLE_CALLBACK,It=ut.ERR_STREAM_CANNOT_PIPE,xt=ut.ERR_STREAM_DESTROYED,Tt=ut.ERR_STREAM_NULL_VALUES,mt=ut.ERR_STREAM_WRITE_AFTER_END,Nt=ut.ERR_UNKNOWN_ENCODING,en=pt.errorOrDestroy;function rn(){}function Ft(Gt,Ht,kt){et=et||s(27),Gt=Gt||{},typeof kt!="boolean"&&(kt=Ht instanceof et),this.objectMode=!!Gt.objectMode,kt&&(this.objectMode=this.objectMode||!!Gt.writableObjectMode),this.highWaterMark=ft(this,Gt,"writableHighWaterMark",kt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Rt=Gt.decodeStrings===!1;this.decodeStrings=!Rt,this.defaultEncoding=Gt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($t){(function(nn,Un){var Fn=nn._writableState,En=Fn.sync,fn=Fn.writecb;if(typeof fn!="function")throw new Qt;if(function(Ct){Ct.writing=!1,Ct.writecb=null,Ct.length-=Ct.writelen,Ct.writelen=0}(Fn),Un)(function(Ct,Dt,Xt,_n,mn){--Dt.pendingcb,Xt?($.nextTick(mn,_n),$.nextTick(Wt,Ct,Dt),Ct._writableState.errorEmitted=!0,en(Ct,_n)):(mn(_n),Ct._writableState.errorEmitted=!0,en(Ct,_n),Wt(Ct,Dt))})(nn,Fn,En,Un,fn);else{var sn=qt(Fn)||nn.destroyed;sn||Fn.corked||Fn.bufferProcessing||!Fn.bufferedRequest||jt(nn,Fn),En?$.nextTick(Bt,nn,Fn,sn,fn):Bt(nn,Fn,sn,fn)}})(Ht,$t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Gt.emitClose!==!1,this.autoDestroy=!!Gt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _e(this)}function St(Gt){var Ht=this instanceof(et=et||s(27));if(!Ht&&!gt.call(St,this))return new St(Gt);this._writableState=new Ft(Gt,this,Ht),this.writable=!0,Gt&&(typeof Gt.write=="function"&&(this._write=Gt.write),typeof Gt.writev=="function"&&(this._writev=Gt.writev),typeof Gt.destroy=="function"&&(this._destroy=Gt.destroy),typeof Gt.final=="function"&&(this._final=Gt.final)),nt.call(this)}function Pt(Gt,Ht,kt,Rt,$t,nn,Un){Ht.writelen=Rt,Ht.writecb=Un,Ht.writing=!0,Ht.sync=!0,Ht.destroyed?Ht.onwrite(new xt("write")):kt?Gt._writev($t,Ht.onwrite):Gt._write($t,nn,Ht.onwrite),Ht.sync=!1}function Bt(Gt,Ht,kt,Rt){kt||function($t,nn){nn.length===0&&nn.needDrain&&(nn.needDrain=!1,$t.emit("drain"))}(Gt,Ht),Ht.pendingcb--,Rt(),Wt(Gt,Ht)}function jt(Gt,Ht){Ht.bufferProcessing=!0;var kt=Ht.bufferedRequest;if(Gt._writev&&kt&&kt.next){var Rt=Ht.bufferedRequestCount,$t=new Array(Rt),nn=Ht.corkedRequestsFree;nn.entry=kt;for(var Un=0,Fn=!0;kt;)$t[Un]=kt,kt.isBuf||(Fn=!1),kt=kt.next,Un+=1;$t.allBuffers=Fn,Pt(Gt,Ht,!0,Ht.length,$t,"",nn.finish),Ht.pendingcb++,Ht.lastBufferedRequest=null,nn.next?(Ht.corkedRequestsFree=nn.next,nn.next=null):Ht.corkedRequestsFree=new _e(Ht),Ht.bufferedRequestCount=0}else{for(;kt;){var En=kt.chunk,fn=kt.encoding,sn=kt.callback;if(Pt(Gt,Ht,!1,Ht.objectMode?1:En.length,En,fn,sn),kt=kt.next,Ht.bufferedRequestCount--,Ht.writing)break}kt===null&&(Ht.lastBufferedRequest=null)}Ht.bufferedRequest=kt,Ht.bufferProcessing=!1}function qt(Gt){return Gt.ending&&Gt.length===0&&Gt.bufferedRequest===null&&!Gt.finished&&!Gt.writing}function Zt(Gt,Ht){Gt._final(function(kt){Ht.pendingcb--,kt&&en(Gt,kt),Ht.prefinished=!0,Gt.emit("prefinish"),Wt(Gt,Ht)})}function Wt(Gt,Ht){var kt=qt(Ht);if(kt&&(function($t,nn){nn.prefinished||nn.finalCalled||(typeof $t._final!="function"||nn.destroyed?(nn.prefinished=!0,$t.emit("prefinish")):(nn.pendingcb++,nn.finalCalled=!0,$.nextTick(Zt,$t,nn)))}(Gt,Ht),Ht.pendingcb===0&&(Ht.finished=!0,Gt.emit("finish"),Ht.autoDestroy))){var Rt=Gt._readableState;(!Rt||Rt.autoDestroy&&Rt.endEmitted)&&Gt.destroy()}return kt}s(7)(St,nt),Ft.prototype.getBuffer=function(){for(var Gt=this.bufferedRequest,Ht=[];Gt;)Ht.push(Gt),Gt=Gt.next;return Ht},function(){try{Object.defineProperty(Ft.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(Gt){return!!gt.call(this,Gt)||this===St&&Gt&&Gt._writableState instanceof Ft}})):gt=function(Gt){return Gt instanceof this},St.prototype.pipe=function(){en(this,new It)},St.prototype.write=function(Gt,Ht,kt){var Rt,$t=this._writableState,nn=!1,Un=!$t.objectMode&&(Rt=Gt,ot.isBuffer(Rt)||Rt instanceof ct);return Un&&!ot.isBuffer(Gt)&&(Gt=function(Fn){return ot.from(Fn)}(Gt)),typeof Ht=="function"&&(kt=Ht,Ht=null),Un?Ht="buffer":Ht||(Ht=$t.defaultEncoding),typeof kt!="function"&&(kt=rn),$t.ending?function(Fn,En){var fn=new mt;en(Fn,fn),$.nextTick(En,fn)}(this,kt):(Un||function(Fn,En,fn,sn){var Ct;return fn===null?Ct=new Tt:typeof fn=="string"||En.objectMode||(Ct=new yt("chunk",["string","Buffer"],fn)),!Ct||(en(Fn,Ct),$.nextTick(sn,Ct),!1)}(this,$t,Gt,kt))&&($t.pendingcb++,nn=function(Fn,En,fn,sn,Ct,Dt){if(!fn){var Xt=function(On,nr,Nr){return On.objectMode||On.decodeStrings===!1||typeof nr!="string"||(nr=ot.from(nr,Nr)),nr}(En,sn,Ct);sn!==Xt&&(fn=!0,Ct="buffer",sn=Xt)}var _n=En.objectMode?1:sn.length;En.length+=_n;var mn=En.length<En.highWaterMark;if(mn||(En.needDrain=!0),En.writing||En.corked){var xn=En.lastBufferedRequest;En.lastBufferedRequest={chunk:sn,encoding:Ct,isBuf:fn,callback:Dt,next:null},xn?xn.next=En.lastBufferedRequest:En.bufferedRequest=En.lastBufferedRequest,En.bufferedRequestCount+=1}else Pt(Fn,En,!1,_n,sn,Ct,Dt);return mn}(this,$t,Un,Gt,Ht,kt)),nn},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var Gt=this._writableState;Gt.corked&&(Gt.corked--,Gt.writing||Gt.corked||Gt.bufferProcessing||!Gt.bufferedRequest||jt(this,Gt))},St.prototype.setDefaultEncoding=function(Gt){if(typeof Gt=="string"&&(Gt=Gt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Gt+"").toLowerCase())>-1))throw new Nt(Gt);return this._writableState.defaultEncoding=Gt,this},Object.defineProperty(St.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(Gt,Ht,kt){kt(new wt("_write()"))},St.prototype._writev=null,St.prototype.end=function(Gt,Ht,kt){var Rt=this._writableState;return typeof Gt=="function"?(kt=Gt,Gt=null,Ht=null):typeof Ht=="function"&&(kt=Ht,Ht=null),Gt!=null&&this.write(Gt,Ht),Rt.corked&&(Rt.corked=1,this.uncork()),Rt.ending||function($t,nn,Un){nn.ending=!0,Wt($t,nn),Un&&(nn.finished?$.nextTick(Un):$t.once("finish",Un)),nn.ended=!0,$t.writable=!1}(this,Rt,kt),this},Object.defineProperty(St.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Gt){this._writableState&&(this._writableState.destroyed=Gt)}}),St.prototype.destroy=pt.destroy,St.prototype._undestroy=pt.undestroy,St.prototype._destroy=function(Gt,Ht){Ht(Gt)}}).call(this,s(6),s(2))},function(i,o,s){i.exports=ct;var _=s(26).codes,$=_.ERR_METHOD_NOT_IMPLEMENTED,_e=_.ERR_MULTIPLE_CALLBACK,et=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,j=_.ERR_TRANSFORM_WITH_LENGTH_0,nt=s(27);function ot(ft,ut){var yt=this._transformState;yt.transforming=!1;var wt=yt.writecb;if(wt===null)return this.emit("error",new _e);yt.writechunk=null,yt.writecb=null,ut!=null&&this.push(ut),wt(ft);var Qt=this._readableState;Qt.reading=!1,(Qt.needReadable||Qt.length<Qt.highWaterMark)&&this._read(Qt.highWaterMark)}function ct(ft){if(!(this instanceof ct))return new ct(ft);nt.call(this,ft),this._transformState={afterTransform:ot.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ft&&(typeof ft.transform=="function"&&(this._transform=ft.transform),typeof ft.flush=="function"&&(this._flush=ft.flush)),this.on("prefinish",gt)}function gt(){var ft=this;typeof this._flush!="function"||this._readableState.destroyed?pt(this,null,null):this._flush(function(ut,yt){pt(ft,ut,yt)})}function pt(ft,ut,yt){if(ut)return ft.emit("error",ut);if(yt!=null&&ft.push(yt),ft._writableState.length)throw new j;if(ft._transformState.transforming)throw new et;return ft.push(null)}s(7)(ct,nt),ct.prototype.push=function(ft,ut){return this._transformState.needTransform=!1,nt.prototype.push.call(this,ft,ut)},ct.prototype._transform=function(ft,ut,yt){yt(new $("_transform()"))},ct.prototype._write=function(ft,ut,yt){var wt=this._transformState;if(wt.writecb=yt,wt.writechunk=ft,wt.writeencoding=ut,!wt.transforming){var Qt=this._readableState;(wt.needTransform||Qt.needReadable||Qt.length<Qt.highWaterMark)&&this._read(Qt.highWaterMark)}},ct.prototype._read=function(ft){var ut=this._transformState;ut.writechunk===null||ut.transforming?ut.needTransform=!0:(ut.transforming=!0,this._transform(ut.writechunk,ut.writeencoding,ut.afterTransform))},ct.prototype._destroy=function(ft,ut){nt.prototype._destroy.call(this,ft,function(yt){ut(yt)})}},function(i,o,s){(function(_){var $=s(190),_e=s(85),et=s(192),j=s(193),nt=s(86),ot=o;ot.request=function(ct,gt){ct=typeof ct=="string"?nt.parse(ct):et(ct);var pt=_.location.protocol.search(/^https?:$/)===-1?"http:":"",ft=ct.protocol||pt,ut=ct.hostname||ct.host,yt=ct.port,wt=ct.path||"/";ut&&ut.indexOf(":")!==-1&&(ut="["+ut+"]"),ct.url=(ut?ft+"//"+ut:"")+(yt?":"+yt:"")+wt,ct.method=(ct.method||"GET").toUpperCase(),ct.headers=ct.headers||{};var Qt=new $(ct);return gt&&Qt.on("response",gt),Qt},ot.get=function(ct,gt){var pt=ot.request(ct,gt);return pt.end(),pt},ot.ClientRequest=$,ot.IncomingMessage=_e.IncomingMessage,ot.Agent=function(){},ot.Agent.defaultMaxSockets=4,ot.globalAgent=new ot.Agent,ot.STATUS_CODES=j,ot.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,s(6))},function(i,o,s){(function(_){o.fetch=ot(_.fetch)&&ot(_.ReadableStream),o.writableStream=ot(_.WritableStream),o.abortController=ot(_.AbortController),o.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),o.blobConstructor=!0}catch{}var $;function _e(){if($!==void 0)return $;if(_.XMLHttpRequest){$=new _.XMLHttpRequest;try{$.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{$=null}}else $=null;return $}function et(ct){var gt=_e();if(!gt)return!1;try{return gt.responseType=ct,gt.responseType===ct}catch{}return!1}var j=_.ArrayBuffer!==void 0,nt=j&&ot(_.ArrayBuffer.prototype.slice);function ot(ct){return typeof ct=="function"}o.arraybuffer=o.fetch||j&&et("arraybuffer"),o.msstream=!o.fetch&&nt&&et("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&j&&et("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||!!_e()&&ot(_e().overrideMimeType),o.vbArray=ot(_.VBArray),$=null}).call(this,s(6))},function(i,o,s){(function(_,$,_e){var et=s(84),j=s(7),nt=s(31),ot=o.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ct=o.IncomingMessage=function(gt,pt,ft,ut){var yt=this;if(nt.Readable.call(yt),yt._mode=ft,yt.headers={},yt.rawHeaders=[],yt.trailers={},yt.rawTrailers=[],yt.on("end",function(){_.nextTick(function(){yt.emit("close")})}),ft==="fetch"){if(yt._fetchResponse=pt,yt.url=pt.url,yt.statusCode=pt.status,yt.statusMessage=pt.statusText,pt.headers.forEach(function(Tt,mt){yt.headers[mt.toLowerCase()]=Tt,yt.rawHeaders.push(mt,Tt)}),et.writableStream){var wt=new WritableStream({write:function(Tt){return new Promise(function(mt,Nt){yt._destroyed?Nt():yt.push(new $(Tt))?mt():yt._resumeFetch=mt})},close:function(){_e.clearTimeout(ut),yt._destroyed||yt.push(null)},abort:function(Tt){yt._destroyed||yt.emit("error",Tt)}});try{return void pt.body.pipeTo(wt).catch(function(Tt){_e.clearTimeout(ut),yt._destroyed||yt.emit("error",Tt)})}catch{}}var Qt=pt.body.getReader();(function Tt(){Qt.read().then(function(mt){if(!yt._destroyed){if(mt.done)return _e.clearTimeout(ut),void yt.push(null);yt.push(new $(mt.value)),Tt()}}).catch(function(mt){_e.clearTimeout(ut),yt._destroyed||yt.emit("error",mt)})})()}else if(yt._xhr=gt,yt._pos=0,yt.url=gt.responseURL,yt.statusCode=gt.status,yt.statusMessage=gt.statusText,gt.getAllResponseHeaders().split(/\r?\n/).forEach(function(Tt){var mt=Tt.match(/^([^:]+):\s*(.*)/);if(mt){var Nt=mt[1].toLowerCase();Nt==="set-cookie"?(yt.headers[Nt]===void 0&&(yt.headers[Nt]=[]),yt.headers[Nt].push(mt[2])):yt.headers[Nt]!==void 0?yt.headers[Nt]+=", "+mt[2]:yt.headers[Nt]=mt[2],yt.rawHeaders.push(mt[1],mt[2])}}),yt._charset="x-user-defined",!et.overrideMimeType){var It=yt.rawHeaders["mime-type"];if(It){var xt=It.match(/;\s*charset=([^;])(;|$)/);xt&&(yt._charset=xt[1].toLowerCase())}yt._charset||(yt._charset="utf-8")}};j(ct,nt.Readable),ct.prototype._read=function(){var gt=this._resumeFetch;gt&&(this._resumeFetch=null,gt())},ct.prototype._onXHRProgress=function(){var gt=this,pt=gt._xhr,ft=null;switch(gt._mode){case"text:vbarray":if(pt.readyState!==ot.DONE)break;try{ft=new _e.VBArray(pt.responseBody).toArray()}catch{}if(ft!==null){gt.push(new $(ft));break}case"text":try{ft=pt.responseText}catch{gt._mode="text:vbarray";break}if(ft.length>gt._pos){var ut=ft.substr(gt._pos);if(gt._charset==="x-user-defined"){for(var yt=new $(ut.length),wt=0;wt<ut.length;wt++)yt[wt]=255&ut.charCodeAt(wt);gt.push(yt)}else gt.push(ut,gt._charset);gt._pos=ft.length}break;case"arraybuffer":if(pt.readyState!==ot.DONE||!pt.response)break;ft=pt.response,gt.push(new $(new Uint8Array(ft)));break;case"moz-chunked-arraybuffer":if(ft=pt.response,pt.readyState!==ot.LOADING||!ft)break;gt.push(new $(new Uint8Array(ft)));break;case"ms-stream":if(ft=pt.response,pt.readyState!==ot.LOADING)break;var Qt=new _e.MSStreamReader;Qt.onprogress=function(){Qt.result.byteLength>gt._pos&&(gt.push(new $(new Uint8Array(Qt.result.slice(gt._pos)))),gt._pos=Qt.result.byteLength)},Qt.onload=function(){gt.push(null)},Qt.readAsArrayBuffer(ft)}gt._xhr.readyState===ot.DONE&&gt._mode!=="ms-stream"&&gt.push(null)}}).call(this,s(2),s(5).Buffer,s(6))},function(i,o,s){var _=s(194),$=s(196);function _e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o.parse=xt,o.resolve=function(Tt,mt){return xt(Tt,!1,!0).resolve(mt)},o.resolveObject=function(Tt,mt){return Tt?xt(Tt,!1,!0).resolveObject(mt):mt},o.format=function(Tt){return $.isString(Tt)&&(Tt=xt(Tt)),Tt instanceof _e?Tt.format():_e.prototype.format.call(Tt)},o.Url=_e;var et=/^([a-z0-9.+-]+:)/i,j=/:[0-9]*$/,nt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ot=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ct=["'"].concat(ot),gt=["%","/","?",";","#"].concat(ct),pt=["/","?","#"],ft=/^[+a-z0-9A-Z_-]{0,63}$/,ut=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yt={javascript:!0,"javascript:":!0},wt={javascript:!0,"javascript:":!0},Qt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},It=s(197);function xt(Tt,mt,Nt){if(Tt&&$.isObject(Tt)&&Tt instanceof _e)return Tt;var en=new _e;return en.parse(Tt,mt,Nt),en}_e.prototype.parse=function(Tt,mt,Nt){if(!$.isString(Tt))throw new TypeError("Parameter 'url' must be a string, not "+typeof Tt);var en=Tt.indexOf("?"),rn=en!==-1&&en<Tt.indexOf("#")?"?":"#",Ft=Tt.split(rn);Ft[0]=Ft[0].replace(/\\/g,"/");var St=Tt=Ft.join(rn);if(St=St.trim(),!Nt&&Tt.split("#").length===1){var Pt=nt.exec(St);if(Pt)return this.path=St,this.href=St,this.pathname=Pt[1],Pt[2]?(this.search=Pt[2],this.query=mt?It.parse(this.search.substr(1)):this.search.substr(1)):mt&&(this.search="",this.query={}),this}var Bt=et.exec(St);if(Bt){var jt=(Bt=Bt[0]).toLowerCase();this.protocol=jt,St=St.substr(Bt.length)}if(Nt||Bt||St.match(/^\/\/[^@\/]+@[^@\/]+/)){var qt=St.substr(0,2)==="//";!qt||Bt&&wt[Bt]||(St=St.substr(2),this.slashes=!0)}if(!wt[Bt]&&(qt||Bt&&!Qt[Bt])){for(var Zt,Wt,Gt=-1,Ht=0;Ht<pt.length;Ht++)(kt=St.indexOf(pt[Ht]))!==-1&&(Gt===-1||kt<Gt)&&(Gt=kt);for((Wt=Gt===-1?St.lastIndexOf("@"):St.lastIndexOf("@",Gt))!==-1&&(Zt=St.slice(0,Wt),St=St.slice(Wt+1),this.auth=decodeURIComponent(Zt)),Gt=-1,Ht=0;Ht<gt.length;Ht++){var kt;(kt=St.indexOf(gt[Ht]))!==-1&&(Gt===-1||kt<Gt)&&(Gt=kt)}Gt===-1&&(Gt=St.length),this.host=St.slice(0,Gt),St=St.slice(Gt),this.parseHost(),this.hostname=this.hostname||"";var Rt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Rt)for(var $t=this.hostname.split(/\./),nn=(Ht=0,$t.length);Ht<nn;Ht++){var Un=$t[Ht];if(Un&&!Un.match(ft)){for(var Fn="",En=0,fn=Un.length;En<fn;En++)Un.charCodeAt(En)>127?Fn+="x":Fn+=Un[En];if(!Fn.match(ft)){var sn=$t.slice(0,Ht),Ct=$t.slice(Ht+1),Dt=Un.match(ut);Dt&&(sn.push(Dt[1]),Ct.unshift(Dt[2])),Ct.length&&(St="/"+Ct.join(".")+St),this.hostname=sn.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Rt||(this.hostname=_.toASCII(this.hostname));var Xt=this.port?":"+this.port:"",_n=this.hostname||"";this.host=_n+Xt,this.href+=this.host,Rt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),St[0]!=="/"&&(St="/"+St))}if(!yt[jt])for(Ht=0,nn=ct.length;Ht<nn;Ht++){var mn=ct[Ht];if(St.indexOf(mn)!==-1){var xn=encodeURIComponent(mn);xn===mn&&(xn=escape(mn)),St=St.split(mn).join(xn)}}var On=St.indexOf("#");On!==-1&&(this.hash=St.substr(On),St=St.slice(0,On));var nr=St.indexOf("?");if(nr!==-1?(this.search=St.substr(nr),this.query=St.substr(nr+1),mt&&(this.query=It.parse(this.query)),St=St.slice(0,nr)):mt&&(this.search="",this.query={}),St&&(this.pathname=St),Qt[jt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Xt=this.pathname||"";var Nr=this.search||"";this.path=Xt+Nr}return this.href=this.format(),this},_e.prototype.format=function(){var Tt=this.auth||"";Tt&&(Tt=(Tt=encodeURIComponent(Tt)).replace(/%3A/i,":"),Tt+="@");var mt=this.protocol||"",Nt=this.pathname||"",en=this.hash||"",rn=!1,Ft="";this.host?rn=Tt+this.host:this.hostname&&(rn=Tt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(rn+=":"+this.port)),this.query&&$.isObject(this.query)&&Object.keys(this.query).length&&(Ft=It.stringify(this.query));var St=this.search||Ft&&"?"+Ft||"";return mt&&mt.substr(-1)!==":"&&(mt+=":"),this.slashes||(!mt||Qt[mt])&&rn!==!1?(rn="//"+(rn||""),Nt&&Nt.charAt(0)!=="/"&&(Nt="/"+Nt)):rn||(rn=""),en&&en.charAt(0)!=="#"&&(en="#"+en),St&&St.charAt(0)!=="?"&&(St="?"+St),mt+rn+(Nt=Nt.replace(/[?#]/g,function(Pt){return encodeURIComponent(Pt)}))+(St=St.replace("#","%23"))+en},_e.prototype.resolve=function(Tt){return this.resolveObject(xt(Tt,!1,!0)).format()},_e.prototype.resolveObject=function(Tt){if($.isString(Tt)){var mt=new _e;mt.parse(Tt,!1,!0),Tt=mt}for(var Nt=new _e,en=Object.keys(this),rn=0;rn<en.length;rn++){var Ft=en[rn];Nt[Ft]=this[Ft]}if(Nt.hash=Tt.hash,Tt.href==="")return Nt.href=Nt.format(),Nt;if(Tt.slashes&&!Tt.protocol){for(var St=Object.keys(Tt),Pt=0;Pt<St.length;Pt++){var Bt=St[Pt];Bt!=="protocol"&&(Nt[Bt]=Tt[Bt])}return Qt[Nt.protocol]&&Nt.hostname&&!Nt.pathname&&(Nt.path=Nt.pathname="/"),Nt.href=Nt.format(),Nt}if(Tt.protocol&&Tt.protocol!==Nt.protocol){if(!Qt[Tt.protocol]){for(var jt=Object.keys(Tt),qt=0;qt<jt.length;qt++){var Zt=jt[qt];Nt[Zt]=Tt[Zt]}return Nt.href=Nt.format(),Nt}if(Nt.protocol=Tt.protocol,Tt.host||wt[Tt.protocol])Nt.pathname=Tt.pathname;else{for(var Wt=(Tt.pathname||"").split("/");Wt.length&&!(Tt.host=Wt.shift()););Tt.host||(Tt.host=""),Tt.hostname||(Tt.hostname=""),Wt[0]!==""&&Wt.unshift(""),Wt.length<2&&Wt.unshift(""),Nt.pathname=Wt.join("/")}if(Nt.search=Tt.search,Nt.query=Tt.query,Nt.host=Tt.host||"",Nt.auth=Tt.auth,Nt.hostname=Tt.hostname||Tt.host,Nt.port=Tt.port,Nt.pathname||Nt.search){var Gt=Nt.pathname||"",Ht=Nt.search||"";Nt.path=Gt+Ht}return Nt.slashes=Nt.slashes||Tt.slashes,Nt.href=Nt.format(),Nt}var kt=Nt.pathname&&Nt.pathname.charAt(0)==="/",Rt=Tt.host||Tt.pathname&&Tt.pathname.charAt(0)==="/",$t=Rt||kt||Nt.host&&Tt.pathname,nn=$t,Un=Nt.pathname&&Nt.pathname.split("/")||[],Fn=(Wt=Tt.pathname&&Tt.pathname.split("/")||[],Nt.protocol&&!Qt[Nt.protocol]);if(Fn&&(Nt.hostname="",Nt.port=null,Nt.host&&(Un[0]===""?Un[0]=Nt.host:Un.unshift(Nt.host)),Nt.host="",Tt.protocol&&(Tt.hostname=null,Tt.port=null,Tt.host&&(Wt[0]===""?Wt[0]=Tt.host:Wt.unshift(Tt.host)),Tt.host=null),$t=$t&&(Wt[0]===""||Un[0]==="")),Rt)Nt.host=Tt.host||Tt.host===""?Tt.host:Nt.host,Nt.hostname=Tt.hostname||Tt.hostname===""?Tt.hostname:Nt.hostname,Nt.search=Tt.search,Nt.query=Tt.query,Un=Wt;else if(Wt.length)Un||(Un=[]),Un.pop(),Un=Un.concat(Wt),Nt.search=Tt.search,Nt.query=Tt.query;else if(!$.isNullOrUndefined(Tt.search))return Fn&&(Nt.hostname=Nt.host=Un.shift(),(Dt=!!(Nt.host&&Nt.host.indexOf("@")>0)&&Nt.host.split("@"))&&(Nt.auth=Dt.shift(),Nt.host=Nt.hostname=Dt.shift())),Nt.search=Tt.search,Nt.query=Tt.query,$.isNull(Nt.pathname)&&$.isNull(Nt.search)||(Nt.path=(Nt.pathname?Nt.pathname:"")+(Nt.search?Nt.search:"")),Nt.href=Nt.format(),Nt;if(!Un.length)return Nt.pathname=null,Nt.search?Nt.path="/"+Nt.search:Nt.path=null,Nt.href=Nt.format(),Nt;for(var En=Un.slice(-1)[0],fn=(Nt.host||Tt.host||Un.length>1)&&(En==="."||En==="..")||En==="",sn=0,Ct=Un.length;Ct>=0;Ct--)(En=Un[Ct])==="."?Un.splice(Ct,1):En===".."?(Un.splice(Ct,1),sn++):sn&&(Un.splice(Ct,1),sn--);if(!$t&&!nn)for(;sn--;sn)Un.unshift("..");!$t||Un[0]===""||Un[0]&&Un[0].charAt(0)==="/"||Un.unshift(""),fn&&Un.join("/").substr(-1)!=="/"&&Un.push("");var Dt,Xt=Un[0]===""||Un[0]&&Un[0].charAt(0)==="/";return Fn&&(Nt.hostname=Nt.host=Xt?"":Un.length?Un.shift():"",(Dt=!!(Nt.host&&Nt.host.indexOf("@")>0)&&Nt.host.split("@"))&&(Nt.auth=Dt.shift(),Nt.host=Nt.hostname=Dt.shift())),($t=$t||Nt.host&&Un.length)&&!Xt&&Un.unshift(""),Un.length?Nt.pathname=Un.join("/"):(Nt.pathname=null,Nt.path=null),$.isNull(Nt.pathname)&&$.isNull(Nt.search)||(Nt.path=(Nt.pathname?Nt.pathname:"")+(Nt.search?Nt.search:"")),Nt.auth=Tt.auth||Nt.auth,Nt.slashes=Nt.slashes||Tt.slashes,Nt.href=Nt.format(),Nt},_e.prototype.parseHost=function(){var Tt=this.host,mt=j.exec(Tt);mt&&((mt=mt[0])!==":"&&(this.port=mt.substr(1)),Tt=Tt.substr(0,Tt.length-mt.length)),Tt&&(this.hostname=Tt)}},function(i,o,s){const _=$=>$!==null&&typeof $=="object"&&typeof $.pipe=="function";_.writable=$=>_($)&&$.writable!==!1&&typeof $._write=="function"&&typeof $._writableState=="object",_.readable=$=>_($)&&$.readable!==!1&&typeof $._read=="function"&&typeof $._readableState=="object",_.duplex=$=>_.writable($)&&_.readable($),_.transform=$=>_.duplex($)&&typeof $._transform=="function"&&typeof $._transformState=="object",i.exports=_},function(i,o,s){function _(yt){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(yt)}function $(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function _e(yt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),wt&&et(yt,wt)}function et(yt,wt){return(et=Object.setPrototypeOf||function(Qt,It){return Qt.__proto__=It,Qt})(yt,wt)}function j(yt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Qt,It=ot(yt);if(wt){var xt=ot(this).constructor;Qt=Reflect.construct(It,arguments,xt)}else Qt=It.apply(this,arguments);return nt(this,Qt)}}function nt(yt,wt){return!wt||_(wt)!=="object"&&typeof wt!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(yt):wt}function ot(yt){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(yt)}var ct=s(3).LEVEL,gt=s(50),pt=s(202),ft=s(38)("winston:create-logger");function ut(yt){return"is"+yt.charAt(0).toUpperCase()+yt.slice(1)+"Enabled"}i.exports=function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yt.levels=yt.levels||gt.npm.levels;var wt=function(It){_e(Tt,It);var xt=j(Tt);function Tt(mt){return $(this,Tt),xt.call(this,mt)}return Tt}(pt),Qt=new wt(yt);return Object.keys(yt.levels).forEach(function(It){ft('Define prototype method for "%s"',It),It!=="log"?(wt.prototype[It]=function(){for(var xt=this||Qt,Tt=arguments.length,mt=new Array(Tt),Nt=0;Nt<Tt;Nt++)mt[Nt]=arguments[Nt];if(mt.length===1){var en=mt[0],rn=en&&en.message&&en||{message:en};return rn.level=rn[ct]=It,xt._addDefaultMeta(rn),xt.write(rn),this||Qt}return mt.length===0?(xt.log(It,""),xt):xt.log.apply(xt,[It].concat(mt))},wt.prototype[ut(It)]=function(){return(this||Qt).isLevelEnabled(It)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),Qt}},function(i,o,s){(function(_){function $(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var _e=s(18),et=s(51),j=s(38)("winston:exception"),nt=s(90),ot=s(91),ct=s(92);i.exports=function(){function gt(ut){if(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,gt),!ut)throw new Error("Logger is required to handle exceptions");this.logger=ut,this.handlers=new Map}var pt,ft;return pt=gt,(ft=[{key:"handle",value:function(){for(var ut=this,yt=arguments.length,wt=new Array(yt),Qt=0;Qt<yt;Qt++)wt[Qt]=arguments[Qt];wt.forEach(function(It){if(Array.isArray(It))return It.forEach(function(xt){return ut._addHandler(xt)});ut._addHandler(It)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),_.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var ut=this;this.catcher&&(_.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(yt){return ut.logger.unpipe(yt)}))}},{key:"getAllInfo",value:function(ut){var yt=ut.message;return yt||typeof ut!="string"||(yt=ut),{error:ut,level:"error",message:["uncaughtException: ".concat(yt||"(no error message)"),ut.stack||"  No stack trace"].join(`
`),stack:ut.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ut)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:_e.loadavg(),uptime:_e.uptime()}}},{key:"getTrace",value:function(ut){return(ut?ot.parse(ut):ot.get()).map(function(yt){return{column:yt.getColumnNumber(),file:yt.getFileName(),function:yt.getFunctionName(),line:yt.getLineNumber(),method:yt.getMethodName(),native:yt.isNative()}})}},{key:"_addHandler",value:function(ut){if(!this.handlers.has(ut)){ut.handleExceptions=!0;var yt=new ct(ut);this.handlers.set(ut,yt),this.logger.pipe(yt)}}},{key:"_uncaughtException",value:function(ut){var yt,wt=this.getAllInfo(ut),Qt=this._getExceptionHandlers(),It=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ut):this.logger.exitOnError;function xt(){j("doExit",It),j("process._exiting",_._exiting),It&&!_._exiting&&(yt&&clearTimeout(yt),_.exit(1))}if(!Qt.length&&It&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),It=!1),!Qt||Qt.length===0)return _.nextTick(xt);et(Qt,function(Tt,mt){var Nt=nt(mt),en=Tt.transport||Tt;function rn(Ft){return function(){j(Ft),Nt()}}en._ending=!0,en.once("finish",rn("finished")),en.once("error",rn("error"))},function(){return It&&xt()}),this.logger.log(wt),It&&(yt=setTimeout(xt,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(ut){return(ut.transport||ut).handleExceptions})}}])&&$(pt.prototype,ft),gt}()}).call(this,s(2))},function(i,o,s){var _=s(205);i.exports=function($){var _e,et=0;function j(){return et||(et=1,_e=$.apply(this,arguments),$=null),_e}return j.displayName=_($),j}},function(i,o){function s(_){for(var $ in _)this[$]=_[$]}o.get=function(_){var $=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var _e={},et=Error.prepareStackTrace;Error.prepareStackTrace=function(nt,ot){return ot},Error.captureStackTrace(_e,_||o.get);var j=_e.stack;return Error.prepareStackTrace=et,Error.stackTraceLimit=$,j},o.parse=function(_){if(!_.stack)return[];var $=this;return _.stack.split(`
`).slice(1).map(function(_e){if(_e.match(/^\s*[-]{4,}$/))return $._createParsedCallSite({fileName:_e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var et=_e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(et){var j=null,nt=null,ot=null,ct=null,gt=null,pt=et[5]==="native";if(et[1]){var ft=(ot=et[1]).lastIndexOf(".");if(ot[ft-1]=="."&&ft--,ft>0){j=ot.substr(0,ft),nt=ot.substr(ft+1);var ut=j.indexOf(".Module");ut>0&&(ot=ot.substr(ut+1),j=j.substr(0,ut))}ct=null}nt&&(ct=j,gt=nt),nt==="<anonymous>"&&(gt=null,ot=null);var yt={fileName:et[2]||null,lineNumber:parseInt(et[3],10)||null,functionName:ot,typeName:ct,methodName:gt,columnNumber:parseInt(et[4],10)||null,native:pt};return $._createParsedCallSite(yt)}}).filter(function(_e){return!!_e})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(_){s.prototype[_]=null,s.prototype["get"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),["topLevel","eval","native","constructor"].forEach(function(_){s.prototype[_]=!1,s.prototype["is"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),o._createParsedCallSite=function(_){return new s(_)}},function(i,o,s){function _(ct){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt})(ct)}function $(ct,gt){for(var pt=0;pt<gt.length;pt++){var ft=gt[pt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(ct,ft.key,ft)}}function _e(ct,gt){return(_e=Object.setPrototypeOf||function(pt,ft){return pt.__proto__=ft,pt})(ct,gt)}function et(ct){var gt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var pt,ft=nt(ct);if(gt){var ut=nt(this).constructor;pt=Reflect.construct(ft,arguments,ut)}else pt=ft.apply(this,arguments);return j(this,pt)}}function j(ct,gt){return!gt||_(gt)!=="object"&&typeof gt!="function"?function(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}(ct):gt}function nt(ct){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(gt){return gt.__proto__||Object.getPrototypeOf(gt)})(ct)}var ot=s(32).Writable;i.exports=function(ct){(function(yt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),wt&&_e(yt,wt)})(ut,ct);var gt,pt,ft=et(ut);function ut(yt){var wt;if(function(Qt,It){if(!(Qt instanceof It))throw new TypeError("Cannot call a class as a function")}(this,ut),wt=ft.call(this,{objectMode:!0}),!yt)throw new Error("ExceptionStream requires a TransportStream instance.");return wt.handleExceptions=!0,wt.transport=yt,wt}return gt=ut,(pt=[{key:"_write",value:function(yt,wt,Qt){return yt.exception?this.transport.log(yt,Qt):(Qt(),!0)}}])&&$(gt.prototype,pt),ut}(ot)},function(i,o,s){(function(_){function $(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var _e=s(18),et=s(51),j=s(38)("winston:rejection"),nt=s(90),ot=s(91),ct=s(92);i.exports=function(){function gt(ut){if(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,gt),!ut)throw new Error("Logger is required to handle rejections");this.logger=ut,this.handlers=new Map}var pt,ft;return pt=gt,(ft=[{key:"handle",value:function(){for(var ut=this,yt=arguments.length,wt=new Array(yt),Qt=0;Qt<yt;Qt++)wt[Qt]=arguments[Qt];wt.forEach(function(It){if(Array.isArray(It))return It.forEach(function(xt){return ut._addHandler(xt)});ut._addHandler(It)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),_.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var ut=this;this.catcher&&(_.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(yt){return ut.logger.unpipe(yt)}))}},{key:"getAllInfo",value:function(ut){var yt=ut.message;return yt||typeof ut!="string"||(yt=ut),{error:ut,level:"error",message:["unhandledRejection: ".concat(yt||"(no error message)"),ut.stack||"  No stack trace"].join(`
`),stack:ut.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ut)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:_e.loadavg(),uptime:_e.uptime()}}},{key:"getTrace",value:function(ut){return(ut?ot.parse(ut):ot.get()).map(function(yt){return{column:yt.getColumnNumber(),file:yt.getFileName(),function:yt.getFunctionName(),line:yt.getLineNumber(),method:yt.getMethodName(),native:yt.isNative()}})}},{key:"_addHandler",value:function(ut){if(!this.handlers.has(ut)){ut.handleRejections=!0;var yt=new ct(ut);this.handlers.set(ut,yt),this.logger.pipe(yt)}}},{key:"_unhandledRejection",value:function(ut){var yt,wt=this.getAllInfo(ut),Qt=this._getRejectionHandlers(),It=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ut):this.logger.exitOnError;function xt(){j("doExit",It),j("process._exiting",_._exiting),It&&!_._exiting&&(yt&&clearTimeout(yt),_.exit(1))}if(!Qt.length&&It&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),It=!1),!Qt||Qt.length===0)return _.nextTick(xt);et(Qt,function(Tt,mt){var Nt=nt(mt),en=Tt.transport||Tt;function rn(Ft){return function(){j(Ft),Nt()}}en._ending=!0,en.once("finish",rn("finished")),en.once("error",rn("error"))},function(){return It&&xt()}),this.logger.log(wt),It&&(yt=setTimeout(xt,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(ut){return(ut.transport||ut).handleRejections})}}])&&$(pt.prototype,ft),gt}()}).call(this,s(2))},function(i,o,s){i.exports={asArray:s(212),asBoolStrict:s(213),asBool:s(214),asPortNumber:s(215),asEnum:s(216),asFloatNegative:s(217),asFloatPositive:s(218),asFloat:s(54),asIntNegative:s(219),asIntPositive:s(95),asInt:s(53),asJsonArray:s(220),asJsonObject:s(221),asJson:s(55),asRegExp:s(222),asString:s(33),asUrlObject:s(96),asUrlString:s(223),asEmailString:s(224)}},function(i,o,s){const _=s(53);i.exports=function($){const _e=_($);if(_e<0)throw new Error("should be a positive integer");return _e}},function(i,o,s){const _=s(33);i.exports=function($){const _e=_($);try{return new URL(_e)}catch{throw new Error("should be a valid URL")}}},function(i,o,s){const _={};_.web=s(24),s(98);const $={v1:{}};$.v1.signaling={},$.v1.signaling.api=s(9),$.v1.signaling.api.SignalingClient=function(ft,ut,yt){yt||(yt={}),yt.format="text",this.client_=new _.web.GrpcWebClientBase(yt),this.hostname_=ft},$.v1.signaling.api.SignalingPromiseClient=function(ft,ut,yt){yt||(yt={}),yt.format="text",this.client_=new _.web.GrpcWebClientBase(yt),this.hostname_=ft};const _e=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetHealth",_.web.MethodType.UNARY,$.v1.signaling.api.GetHealthRequest,$.v1.signaling.api.GetHealthResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetHealthResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getHealth=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",ft,ut||{},_e,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getHealth=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",ft,ut||{},_e)};const et=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",_.web.MethodType.UNARY,$.v1.signaling.api.CreatePeerRequest,$.v1.signaling.api.CreatePeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.CreatePeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.createPeer=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",ft,ut||{},et,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",ft,ut||{},et)};const j=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",_.web.MethodType.UNARY,$.v1.signaling.api.DeletePeerRequest,$.v1.signaling.api.DeletePeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.DeletePeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.deletePeer=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",ft,ut||{},j,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",ft,ut||{},j)};const nt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",_.web.MethodType.UNARY,$.v1.signaling.api.RefreshPeerRequest,$.v1.signaling.api.RefreshPeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.RefreshPeerResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",ft,ut||{},nt,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",ft,ut||{},nt)};const ot=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",_.web.MethodType.UNARY,$.v1.signaling.api.GetPeersRequest,$.v1.signaling.api.GetPeersResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetPeersResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getPeers=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",ft,ut||{},ot,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",ft,ut||{},ot)};const ct=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",_.web.MethodType.UNARY,$.v1.signaling.api.GetIceServersRequest,$.v1.signaling.api.GetIceServersResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetIceServersResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getIceServers=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",ft,ut||{},ct,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",ft,ut||{},ct)};const gt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",_.web.MethodType.UNARY,$.v1.signaling.api.SendSignalRequest,$.v1.signaling.api.SendSignalResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.SendSignalResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.sendSignal=function(ft,ut,yt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",ft,ut||{},gt,yt)},$.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(ft,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",ft,ut||{},gt)};const pt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",_.web.MethodType.SERVER_STREAMING,$.v1.signaling.api.ReceiveSignalStreamRequest,$.v1.signaling.api.ReceiveSignalStreamResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.ReceiveSignalStreamResponse,function(ft){return ft.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(ft,ut){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",ft,ut||{},pt)},$.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(ft,ut){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",ft,ut||{},pt)},i.exports=$.v1.signaling.api},function(i,o,s){var _=s(99),$=_,_e=Function("return this")();$.exportSymbol("proto.google.protobuf.BoolValue",null,_e),$.exportSymbol("proto.google.protobuf.BytesValue",null,_e),$.exportSymbol("proto.google.protobuf.DoubleValue",null,_e),$.exportSymbol("proto.google.protobuf.FloatValue",null,_e),$.exportSymbol("proto.google.protobuf.Int32Value",null,_e),$.exportSymbol("proto.google.protobuf.Int64Value",null,_e),$.exportSymbol("proto.google.protobuf.StringValue",null,_e),$.exportSymbol("proto.google.protobuf.UInt32Value",null,_e),$.exportSymbol("proto.google.protobuf.UInt64Value",null,_e),proto.google.protobuf.DoubleValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.DoubleValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.FloatValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.Int64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.Int32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.BoolValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.StringValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(et){_.Message.initialize(this,et,0,-1,null,null)},$.inherits(proto.google.protobuf.BytesValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(et){return proto.google.protobuf.DoubleValue.toObject(et,this)},proto.google.protobuf.DoubleValue.toObject=function(et,j){var nt={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.DoubleValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readDouble();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeDouble(1,nt)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(et){return _.Message.setProto3FloatField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(et){return proto.google.protobuf.FloatValue.toObject(et,this)},proto.google.protobuf.FloatValue.toObject=function(et,j){var nt={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.FloatValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readFloat();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeFloat(1,nt)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(et){return _.Message.setProto3FloatField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(et){return proto.google.protobuf.Int64Value.toObject(et,this)},proto.google.protobuf.Int64Value.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.Int64Value.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readInt64();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeInt64(1,nt)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(et){return _.Message.setProto3IntField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(et){return proto.google.protobuf.UInt64Value.toObject(et,this)},proto.google.protobuf.UInt64Value.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.UInt64Value.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readUint64();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeUint64(1,nt)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(et){return _.Message.setProto3IntField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(et){return proto.google.protobuf.Int32Value.toObject(et,this)},proto.google.protobuf.Int32Value.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.Int32Value.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readInt32();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeInt32(1,nt)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(et){return _.Message.setProto3IntField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(et){return proto.google.protobuf.UInt32Value.toObject(et,this)},proto.google.protobuf.UInt32Value.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.UInt32Value.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readUint32();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())!==0&&j.writeUint32(1,nt)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(et){return _.Message.setProto3IntField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(et){return proto.google.protobuf.BoolValue.toObject(et,this)},proto.google.protobuf.BoolValue.toObject=function(et,j){var nt={value:_.Message.getBooleanFieldWithDefault(j,1,!1)};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.BoolValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readBool();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue())&&j.writeBool(1,nt)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return _.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(et){return _.Message.setProto3BooleanField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(et){return proto.google.protobuf.StringValue.toObject(et,this)},proto.google.protobuf.StringValue.toObject=function(et,j){var nt={value:_.Message.getFieldWithDefault(j,1,"")};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.StringValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readString();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue()).length>0&&j.writeString(1,nt)},proto.google.protobuf.StringValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(et){return _.Message.setProto3StringField(this,1,et)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(et){return proto.google.protobuf.BytesValue.toObject(et,this)},proto.google.protobuf.BytesValue.toObject=function(et,j){var nt={value:j.getValue_asB64()};return et&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.BytesValue.deserializeBinary=function(et){var j=new _.BinaryReader(et),nt=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(et,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readBytes();et.setValue(nt);break;default:j.skipField()}return et},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var et=new _.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,et),et.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(et,j){var nt;(nt=et.getValue_asU8()).length>0&&j.writeBytes(1,nt)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return _.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return _.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(et){return _.Message.setProto3BytesField(this,1,et)},$.object.extend(o,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(i,o,s){i instanceof String&&(i=String(i));for(var _=i.length,$=0;$<_;$++){var _e=i[$];if(o.call(s,_e,$,i))return{i:$,v:_e}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(i,o,s){i!=Array.prototype&&i!=Object.prototype&&(i[o]=s.value)},$jscomp.getGlobal=function(i){return typeof window<"u"&&window===i?i:global!==void 0&&global!=null?global:i},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(i,o,s,_){if(o){for(s=$jscomp.global,i=i.split("."),_=0;_<i.length-1;_++){var $=i[_];$ in s||(s[$]={}),s=s[$]}(o=o(_=s[i=i[i.length-1]]))!=_&&o!=null&&$jscomp.defineProperty(s,i,{configurable:!0,writable:!0,value:o})}},$jscomp.polyfill("Array.prototype.findIndex",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).i}},"es6","es3"),$jscomp.checkStringArgs=function(i,o,s){if(i==null)throw new TypeError("The 'this' value for String.prototype."+s+" must not be null or undefined");if(o instanceof RegExp)throw new TypeError("First argument to String.prototype."+s+" must not be a regular expression");return i+""},$jscomp.polyfill("String.prototype.endsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"endsWith");o+="",s===void 0&&(s=_.length),s=Math.max(0,Math.min(0|s,_.length));for(var $=o.length;0<$&&0<s;)if(_[--s]!=o[--$])return!1;return 0>=$}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"startsWith");o+="";var $=_.length,_e=o.length;s=Math.max(0,Math.min(0|s,_.length));for(var et=0;et<_e&&s<$;)if(_[s++]!=o[et++])return!1;return et>=_e}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(i){return i||function(o){var s=$jscomp.checkStringArgs(this,null,"repeat");if(0>o||1342177279<o)throw new RangeError("Invalid count value");o|=0;for(var _="";o;)1&o&&(_+=s),(o>>>=1)&&(s+=s);return _}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(i){return i!==void 0},goog.isString=function(i){return typeof i=="string"},goog.isBoolean=function(i){return typeof i=="boolean"},goog.isNumber=function(i){return typeof i=="number"},goog.exportPath_=function(i,o,s){i=i.split("."),s=s||goog.global,i[0]in s||s.execScript===void 0||s.execScript("var "+i[0]);for(var _;i.length&&(_=i.shift());)!i.length&&goog.isDef(o)?s[_]=o:s=s[_]&&s[_]!==Object.prototype[_]?s[_]:s[_]={}},goog.define=function(i,o){return o},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(i){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(i)},goog.constructNamespace_=function(i,o){goog.exportPath_(i,o)},goog.getScriptNonce=function(i){return i&&i!=goog.global?goog.getScriptNonce_(i.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(i)?i:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(i){if(!goog.isString(i)||!i||i.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+i+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=i},goog.module.get=function(i){return goog.module.getInternal_(i)},goog.module.getInternal_=function(i){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var i=goog.global.$jscomp;return!!i&&typeof i.getCurrentModulePath=="function"&&!!i.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(i){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=i;else{var o=goog.global.$jscomp;if(!o||typeof o.getCurrentModulePath!="function")throw Error('Module with namespace "'+i+'" has been loaded incorrectly.');o=o.require(o.getCurrentModulePath()),goog.loadedModules_[i]={exports:o,type:goog.ModuleType.ES6,moduleId:i}}},goog.setTestOnly=function(i){if(goog.DISALLOW_TEST_ONLY_CODE)throw i=i||"",Error("Importing test-only code into non-debug environment"+(i?": "+i:"."))},goog.forwardDeclare=function(i){},goog.getObjectByName=function(i,o){i=i.split("."),o=o||goog.global;for(var s=0;s<i.length;s++)if(o=o[i[s]],!goog.isDefAndNotNull(o))return null;return o},goog.globalize=function(i,o){for(var s in o=o||goog.global,i)o[s]=i[s]},goog.addDependency=function(i,o,s,_){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(i){goog.global.console&&goog.global.console.error(i)},goog.require=function(i){},goog.requireType=function(i){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(i){i.instance_=void 0,i.getInstance=function(){return i.instance_?i.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=i),i.instance_=new i)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(i){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(i){return"(function(){"+i+`
;})();
`},goog.loadModule=function(i){var o=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(i))var s=i.call(void 0,{});else{if(!goog.isString(i))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(i=goog.workaroundSafari10EvalBug(i)),s=goog.loadModuleFromSource_.call(void 0,i)}var _=goog.moduleLoaderState_.moduleName;if(!goog.isString(_)||!_)throw Error('Invalid module name "'+_+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(_,s):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof s=="object"&&s!=null&&Object.seal(s),goog.loadedModules_[_]={exports:s,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(i){i=i.split("/");for(var o=0;o<i.length;)i[o]=="."?i.splice(o,1):o&&i[o]==".."&&i[o-1]&&i[o-1]!=".."?i.splice(--o,2):o++;return i.join("/")},goog.loadFileSync_=function(i){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(i);try{var o=new goog.global.XMLHttpRequest;return o.open("get",i,!1),o.send(),o.status==0||o.status==200?o.responseText:null}catch{return null}},goog.transpile_=function(i,o,s){var _=goog.global.$jscomp;_||(goog.global.$jscomp=_={});var $=_.transpile;if(!$){var _e=goog.basePath+goog.TRANSPILER,et=goog.loadFileSync_(_e);if(et){if(function(){(0,eval)(et+`
//# sourceURL=`+_e)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,$=(_=goog.global.$jscomp).transpile}}return $||($=_.transpile=function(j,nt){return goog.logToConsole_(nt+" requires transpilation but no transpiler was found."),j}),$(i,o,s)},goog.typeOf=function(i){var o=typeof i;if(o=="object"){if(!i)return"null";if(i instanceof Array)return"array";if(i instanceof Object)return o;var s=Object.prototype.toString.call(i);if(s=="[object Window]")return"object";if(s=="[object Array]"||typeof i.length=="number"&&i.splice!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("splice"))return"array";if(s=="[object Function]"||i.call!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("call"))return"function"}else if(o=="function"&&i.call===void 0)return"object";return o},goog.isNull=function(i){return i===null},goog.isDefAndNotNull=function(i){return i!=null},goog.isArray=function(i){return goog.typeOf(i)=="array"},goog.isArrayLike=function(i){var o=goog.typeOf(i);return o=="array"||o=="object"&&typeof i.length=="number"},goog.isDateLike=function(i){return goog.isObject(i)&&typeof i.getFullYear=="function"},goog.isFunction=function(i){return goog.typeOf(i)=="function"},goog.isObject=function(i){var o=typeof i;return o=="object"&&i!=null||o=="function"},goog.getUid=function(i){return i[goog.UID_PROPERTY_]||(i[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(i){return!!i[goog.UID_PROPERTY_]},goog.removeUid=function(i){i!==null&&"removeAttribute"in i&&i.removeAttribute(goog.UID_PROPERTY_);try{delete i[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(typeof i.clone=="function")return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.cloneObject(i[s]);return o}return i},goog.bindNative_=function(i,o,s){return i.call.apply(i.bind,arguments)},goog.bindJs_=function(i,o,s){if(!i)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,_),i.apply(o,$)}}return function(){return i.apply(o,arguments)}},goog.bind=function(i,o,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=s.slice();return _.push.apply(_,arguments),i.apply(this,_)}},goog.mixin=function(i,o){for(var s in o)i[s]=o[s]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(i){if(goog.global.execScript)goog.global.execScript(i,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(i);else{var o=goog.global.document,s=o.createElement("SCRIPT");s.type="text/javascript",s.defer=!1,s.appendChild(o.createTextNode(i)),o.head.appendChild(s),o.head.removeChild(s)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(i,o){if(String(i).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+i);var s=function($){return goog.cssNameMapping_[$]||$},_=function($){$=$.split("-");for(var _e=[],et=0;et<$.length;et++)_e.push(s($[et]));return _e.join("-")};return _=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?s:_:function($){return $},i=o?i+"-"+_(o):_(i),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(i):i},goog.setCssNameMapping=function(i,o){goog.cssNameMapping_=i,goog.cssNameMappingStyle_=o},goog.getMsg=function(i,o,s){return s&&s.html&&(i=i.replace(/</g,"&lt;")),o&&(i=i.replace(/\{\$([^}]+)}/g,function(_,$){return o!=null&&$ in o?o[$]:_})),i},goog.getMsgWithFallback=function(i,o){return i},goog.exportSymbol=function(i,o,s){goog.exportPath_(i,o,s)},goog.exportProperty=function(i,o,s){i[o]=s},goog.inherits=function(i,o){function s(){}s.prototype=o.prototype,i.superClass_=o.prototype,i.prototype=new s,i.prototype.constructor=i,i.base=function(_,$,_e){for(var et=Array(arguments.length-2),j=2;j<arguments.length;j++)et[j-2]=arguments[j];return o.prototype[$].apply(_,et)}},goog.base=function(i,o,s){var _=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!_)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(_.superClass_!==void 0){for(var $=Array(arguments.length-1),_e=1;_e<arguments.length;_e++)$[_e-1]=arguments[_e];return _.superClass_.constructor.apply(i,$)}if(typeof o!="string"&&typeof o!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for($=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];_e=!1;for(var et=i.constructor.prototype;et;et=Object.getPrototypeOf(et))if(et[o]===_)_e=!0;else if(_e)return et[o].apply(i,$);if(i[o]===_)return i.constructor.prototype[o].apply(i,$);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(i){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");i.call(goog.global)},goog.defineClass=function(i,o){var s=o.constructor,_=o.statics;return s&&s!=Object.prototype.constructor||(s=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),s=goog.defineClass.createSealingConstructor_(s,i),i&&goog.inherits(s,i),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(s.prototype,o),_!=null&&(_ instanceof Function?_(s):goog.defineClass.applyProperties_(s,_)),s},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(i,o){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return i;var s=!goog.defineClass.isUnsealable_(o),_=function(){var $=i.apply(this,arguments)||this;return $[goog.UID_PROPERTY_]=$[goog.UID_PROPERTY_],this.constructor===_&&s&&Object.seal instanceof Function&&Object.seal($),$};return _},goog.defineClass.isUnsealable_=function(i){return i&&i.prototype&&i.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s]);for(var _=0;_<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;_++)s=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[_],Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},goog.tagUnsealableClass=function(i){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(i){return i},goog.createTrustedTypesPolicy=function(i){var o=null;if(typeof TrustedTypes>"u"||!TrustedTypes.createPolicy)return o;try{o=TrustedTypes.createPolicy(i,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(s){goog.logToConsole_(s.message)}return o},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(i){var o=jspb.BinaryConstants.FieldType,s=jspb.BinaryConstants.WireType;switch(i){case o.INT32:case o.INT64:case o.UINT32:case o.UINT64:case o.SINT32:case o.SINT64:case o.BOOL:case o.ENUM:case o.VHASH64:return s.VARINT;case o.DOUBLE:case o.FIXED64:case o.SFIXED64:case o.FHASH64:return s.FIXED64;case o.STRING:case o.MESSAGE:case o.BYTES:return s.DELIMITED;case o.FLOAT:case o.FIXED32:case o.SFIXED32:return s.FIXED32;default:return s.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(i){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}i&&(this.message=String(i)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(i,o){goog.debug.Error.call(this,goog.asserts.subs_(i,o)),this.messagePattern=i},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(i){throw i},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(i,o){for(var s="",_=(i=i.split("%s")).length-1,$=0;$<_;$++)s+=i[$]+($<o.length?o[$]:"%s");return s+i[_]},goog.asserts.doAssertFailure_=function(i,o,s,_){var $="Assertion failed";if(s){$+=": "+s;var _e=_}else i&&($+=": "+i,_e=o);i=new goog.asserts.AssertionError(""+$,_e||[]),goog.asserts.errorHandler_(i)},goog.asserts.setErrorHandler=function(i){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=i)},goog.asserts.assert=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!i&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertExists=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&i==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.fail=function(i,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(i)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertString=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(i)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertFunction=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(i)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObject=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(i)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertArray=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(i)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertBoolean=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(i)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertElement=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(i)&&i.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertInstanceof=function(i,o,s,_){return!goog.asserts.ENABLE_ASSERTS||i instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(i)],s,Array.prototype.slice.call(arguments,3)),i},goog.asserts.assertFinite=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||typeof i=="number"&&isFinite(i)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var i in Object.prototype)goog.asserts.fail(i+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(i){return i[i.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.indexOf.call(i,o,s)}:function(i,o,s){if(s=s==null?0:0>s?Math.max(0,i.length+s):s,goog.isString(i))return goog.isString(o)&&o.length==1?i.indexOf(o,s):-1;for(;s<i.length;s++)if(s in i&&i[s]===o)return s;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.lastIndexOf.call(i,o,s??i.length-1)}:function(i,o,s){if(0>(s=s??i.length-1)&&(s=Math.max(0,i.length+s)),goog.isString(i))return goog.isString(o)&&o.length==1?i.lastIndexOf(o,s):-1;for(;0<=s;s--)if(s in i&&i[s]===o)return s;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(i,o,s){goog.asserts.assert(i.length!=null),Array.prototype.forEach.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)_e in $&&o.call(s,$[_e],_e,i)},goog.array.forEachRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;--_)_ in $&&o.call(s,$[_],_,i)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.filter.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=[],_e=0,et=goog.isString(i)?i.split(""):i,j=0;j<_;j++)if(j in et){var nt=et[j];o.call(s,nt,j,i)&&($[_e++]=nt)}return $},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.map.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=Array(_),_e=goog.isString(i)?i.split(""):i,et=0;et<_;et++)et in _e&&($[et]=o.call(s,_e[et],et,i));return $},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduce.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEach(i,function(_e,et){$=o.call(_,$,_e,et,i)}),$},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),goog.asserts.assert(o!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduceRight.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEachRight(i,function(_e,et){$=o.call(_,$,_e,et,i)}),$},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.some.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&o.call(s,$[_e],_e,i))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.every.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&!o.call(s,$[_e],_e,i))return!1;return!0},goog.array.count=function(i,o,s){var _=0;return goog.array.forEach(i,function($,_e,et){o.call(s,$,_e,et)&&++_},s),_},goog.array.find=function(i,o,s){return 0>(o=goog.array.findIndex(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndex=function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&o.call(s,$[_e],_e,i))return _e;return-1},goog.array.findRight=function(i,o,s){return 0>(o=goog.array.findIndexRight(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndexRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;_--)if(_ in $&&o.call(s,$[_],_,i))return _;return-1},goog.array.contains=function(i,o){return 0<=goog.array.indexOf(i,o)},goog.array.isEmpty=function(i){return i.length==0},goog.array.clear=function(i){if(!goog.isArray(i))for(var o=i.length-1;0<=o;o--)delete i[o];i.length=0},goog.array.insert=function(i,o){goog.array.contains(i,o)||i.push(o)},goog.array.insertAt=function(i,o,s){goog.array.splice(i,s,0,o)},goog.array.insertArrayAt=function(i,o,s){goog.partial(goog.array.splice,i,s,0).apply(null,o)},goog.array.insertBefore=function(i,o,s){var _;arguments.length==2||0>(_=goog.array.indexOf(i,s))?i.push(o):goog.array.insertAt(i,o,_)},goog.array.remove=function(i,o){var s;return(s=0<=(o=goog.array.indexOf(i,o)))&&goog.array.removeAt(i,o),s},goog.array.removeLast=function(i,o){return 0<=(o=goog.array.lastIndexOf(i,o))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAt=function(i,o){return goog.asserts.assert(i.length!=null),Array.prototype.splice.call(i,o,1).length==1},goog.array.removeIf=function(i,o,s){return 0<=(o=goog.array.findIndex(i,o,s))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAllIf=function(i,o,s){var _=0;return goog.array.forEachRight(i,function($,_e){o.call(s,$,_e,i)&&goog.array.removeAt(i,_e)&&_++}),_},goog.array.concat=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(i){var o=i.length;if(0<o){for(var s=Array(o),_=0;_<o;_++)s[_]=i[_];return s}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(i,o){for(var s=1;s<arguments.length;s++){var _=arguments[s];if(goog.isArrayLike(_)){var $=i.length||0,_e=_.length||0;i.length=$+_e;for(var et=0;et<_e;et++)i[$+et]=_[et]}else i.push(_)}},goog.array.splice=function(i,o,s,_){return goog.asserts.assert(i.length!=null),Array.prototype.splice.apply(i,goog.array.slice(arguments,1))},goog.array.slice=function(i,o,s){return goog.asserts.assert(i.length!=null),2>=arguments.length?Array.prototype.slice.call(i,o):Array.prototype.slice.call(i,o,s)},goog.array.removeDuplicates=function(i,o,s){o=o||i;var _=function(nt){return goog.isObject(nt)?"o"+goog.getUid(nt):(typeof nt).charAt(0)+nt};s=s||_,_={};for(var $=0,_e=0;_e<i.length;){var et=i[_e++],j=s(et);Object.prototype.hasOwnProperty.call(_,j)||(_[j]=!0,o[$++]=et)}o.length=$},goog.array.binarySearch=function(i,o,s){return goog.array.binarySearch_(i,s||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(i,o,s){return goog.array.binarySearch_(i,o,!0,void 0,s)},goog.array.binarySearch_=function(i,o,s,_,$){for(var _e,et=0,j=i.length;et<j;){var nt=et+j>>1,ot=s?o.call($,i[nt],nt,i):o(_,i[nt]);0<ot?et=nt+1:(j=nt,_e=!ot)}return _e?et:~et},goog.array.sort=function(i,o){i.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]={index:_,value:i[_]};var $=o||goog.array.defaultCompare;for(goog.array.sort(s,function(_e,et){return $(_e.value,et.value)||_e.index-et.index}),_=0;_<i.length;_++)i[_]=s[_].value},goog.array.sortByKey=function(i,o,s){var _=s||goog.array.defaultCompare;goog.array.sort(i,function($,_e){return _(o($),o(_e))})},goog.array.sortObjectsByKey=function(i,o,s){goog.array.sortByKey(i,function(_){return _[o]},s)},goog.array.isSorted=function(i,o,s){o=o||goog.array.defaultCompare;for(var _=1;_<i.length;_++){var $=o(i[_-1],i[_]);if(0<$||$==0&&s)return!1}return!0},goog.array.equals=function(i,o,s){if(!goog.isArrayLike(i)||!goog.isArrayLike(o)||i.length!=o.length)return!1;var _=i.length;s=s||goog.array.defaultCompareEquality;for(var $=0;$<_;$++)if(!s(i[$],o[$]))return!1;return!0},goog.array.compare3=function(i,o,s){s=s||goog.array.defaultCompare;for(var _=Math.min(i.length,o.length),$=0;$<_;$++){var _e=s(i[$],o[$]);if(_e!=0)return _e}return goog.array.defaultCompare(i.length,o.length)},goog.array.defaultCompare=function(i,o){return i>o?1:i<o?-1:0},goog.array.inverseDefaultCompare=function(i,o){return-goog.array.defaultCompare(i,o)},goog.array.defaultCompareEquality=function(i,o){return i===o},goog.array.binaryInsert=function(i,o,s){return 0>(s=goog.array.binarySearch(i,o,s))&&(goog.array.insertAt(i,o,-(s+1)),!0)},goog.array.binaryRemove=function(i,o,s){return 0<=(o=goog.array.binarySearch(i,o,s))&&goog.array.removeAt(i,o)},goog.array.bucket=function(i,o,s){for(var _={},$=0;$<i.length;$++){var _e=i[$],et=o.call(s,_e,$,i);goog.isDef(et)&&(_[et]||(_[et]=[])).push(_e)}return _},goog.array.toObject=function(i,o,s){var _={};return goog.array.forEach(i,function($,_e){_[o.call(s,$,_e,i)]=$}),_},goog.array.range=function(i,o,s){var _=[],$=0,_e=i;if(o!==void 0&&($=i,_e=o),0>(s=s||1)*(_e-$))return[];if(0<s)for(i=$;i<_e;i+=s)_.push(i);else for(i=$;i>_e;i+=s)_.push(i);return _},goog.array.repeat=function(i,o){for(var s=[],_=0;_<o;_++)s[_]=i;return s},goog.array.flatten=function(i){for(var o=[],s=0;s<arguments.length;s++){var _=arguments[s];if(goog.isArray(_))for(var $=0;$<_.length;$+=8192){var _e=goog.array.slice(_,$,$+8192);_e=goog.array.flatten.apply(null,_e);for(var et=0;et<_e.length;et++)o.push(_e[et])}else o.push(_)}return o},goog.array.rotate=function(i,o){return goog.asserts.assert(i.length!=null),i.length&&(0<(o%=i.length)?Array.prototype.unshift.apply(i,i.splice(-o,o)):0>o&&Array.prototype.push.apply(i,i.splice(0,-o))),i},goog.array.moveItem=function(i,o,s){goog.asserts.assert(0<=o&&o<i.length),goog.asserts.assert(0<=s&&s<i.length),o=Array.prototype.splice.call(i,o,1),Array.prototype.splice.call(i,s,0,o[0])},goog.array.zip=function(i){if(!arguments.length)return[];for(var o=[],s=arguments[0].length,_=1;_<arguments.length;_++)arguments[_].length<s&&(s=arguments[_].length);for(_=0;_<s;_++){for(var $=[],_e=0;_e<arguments.length;_e++)$.push(arguments[_e][_]);o.push($)}return o},goog.array.shuffle=function(i,o){o=o||Math.random;for(var s=i.length-1;0<s;s--){var _=Math.floor(o()*(s+1)),$=i[s];i[s]=i[_],i[_]=$}},goog.array.copyByIndex=function(i,o){var s=[];return goog.array.forEach(o,function(_){s.push(i[_])}),s},goog.array.concatMap=function(i,o,s){return goog.array.concat.apply([],goog.array.map(i,o,s))},goog.crypt={},goog.crypt.stringToByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);255<$&&(o[s++]=255&$,$>>=8),o[s++]=$}return o},goog.crypt.byteArrayToString=function(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var o="",s=0;s<i.length;s+=8192){var _=goog.array.slice(i,s,s+8192);o+=String.fromCharCode.apply(null,_)}return o},goog.crypt.byteArrayToHex=function(i,o){return goog.array.map(i,function(s){return 1<(s=s.toString(16)).length?s:"0"+s}).join(o||"")},goog.crypt.hexToByteArray=function(i){goog.asserts.assert(i.length%2==0,"Key string length must be multiple of 2");for(var o=[],s=0;s<i.length;s+=2)o.push(parseInt(i.substring(s,s+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);128>$?o[s++]=$:(2048>$?o[s++]=$>>6|192:((64512&$)==55296&&_+1<i.length&&(64512&i.charCodeAt(_+1))==56320?($=65536+((1023&$)<<10)+(1023&i.charCodeAt(++_)),o[s++]=$>>18|240,o[s++]=$>>12&63|128):o[s++]=$>>12|224,o[s++]=$>>6&63|128),o[s++]=63&$|128)}return o},goog.crypt.utf8ByteArrayToString=function(i){for(var o=[],s=0,_=0;s<i.length;){var $=i[s++];if(128>$)o[_++]=String.fromCharCode($);else if(191<$&&224>$){var _e=i[s++];o[_++]=String.fromCharCode((31&$)<<6|63&_e)}else if(239<$&&365>$){_e=i[s++];var et=i[s++];$=((7&$)<<18|(63&_e)<<12|(63&et)<<6|63&i[s++])-65536,o[_++]=String.fromCharCode(55296+($>>10)),o[_++]=String.fromCharCode(56320+(1023&$))}else _e=i[s++],et=i[s++],o[_++]=String.fromCharCode((15&$)<<12|(63&_e)<<6|63&et)}return o.join("")},goog.crypt.xorByteArray=function(i,o){goog.asserts.assert(i.length==o.length,"XOR array lengths must match");for(var s=[],_=0;_<i.length;_++)s.push(i[_]^o[_]);return s},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(i,o){return i.lastIndexOf(o,0)==0},goog.string.internal.endsWith=function(i,o){var s=i.length-o.length;return 0<=s&&i.indexOf(o,s)==s},goog.string.internal.caseInsensitiveStartsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(0,o.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(i.length-o.length,o.length))==0},goog.string.internal.caseInsensitiveEquals=function(i,o){return i.toLowerCase()==o.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(i){return/^[\s\xa0]*$/.test(i)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},goog.string.internal.caseInsensitiveCompare=function(i,o){return(i=String(i).toLowerCase())<(o=String(o).toLowerCase())?-1:i==o?0:1},goog.string.internal.newLineToBr=function(i,o){return i.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.internal.htmlEscape=function(i,o){if(o)i=i.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(i))return i;i.indexOf("&")!=-1&&(i=i.replace(goog.string.internal.AMP_RE_,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(goog.string.internal.LT_RE_,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(goog.string.internal.GT_RE_,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(goog.string.internal.QUOT_RE_,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(goog.string.internal.NULL_RE_,"&#0;"))}return i},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(i,o){return goog.string.internal.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.internal.contains=function(i,o){return i.indexOf(o)!=-1},goog.string.internal.caseInsensitiveContains=function(i,o){return goog.string.internal.contains(i.toLowerCase(),o.toLowerCase())},goog.string.internal.compareVersions=function(i,o){var s=0;i=goog.string.internal.trim(String(i)).split("."),o=goog.string.internal.trim(String(o)).split(".");for(var _=Math.max(i.length,o.length),$=0;s==0&&$<_;$++){var _e=i[$]||"",et=o[$]||"";do{if(_e=/(\d*)(\D*)(.*)/.exec(_e)||["","","",""],et=/(\d*)(\D*)(.*)/.exec(et)||["","","",""],_e[0].length==0&&et[0].length==0)break;s=_e[1].length==0?0:parseInt(_e[1],10);var j=et[1].length==0?0:parseInt(et[1],10);s=goog.string.internal.compareElements_(s,j)||goog.string.internal.compareElements_(_e[2].length==0,et[2].length==0)||goog.string.internal.compareElements_(_e[2],et[2]),_e=_e[3],et=et[3]}while(s==0)}return s},goog.string.internal.compareElements_=function(i,o){return i<o?-1:i>o?1:0},goog.string.TypedString=function(){},goog.string.Const=function(i,o){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=i===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(i){return i instanceof goog.string.Const&&i.constructor===goog.string.Const&&i.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?i.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+i+"'"),"type_error:Const")},goog.string.Const.from=function(i){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,i)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(i){return goog.fs.url.getUrlObject_().createObjectURL(i)},goog.fs.url.revokeObjectUrl=function(i){goog.fs.url.getUrlObject_().revokeObjectURL(i)},goog.fs.url.getUrlObject_=function(){var i=goog.fs.url.findUrlObject_();if(i!=null)return i;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(i,o){return typeof i=="number"?0<i?goog.i18n.bidi.Dir.LTR:0>i?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:i==null?null:i?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\uD801\uD804-\uD839\uD83C-\uDBFF豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\uD802-\uD803\uD83A-\uD83Bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(i,o){return o?i.replace(goog.i18n.bidi.htmlSkipReg_,""):i},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(i,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(i,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(i){return goog.i18n.bidi.rtlRe_.test(i)},goog.i18n.bidi.isLtrChar=function(i){return goog.i18n.bidi.ltrRe_.test(i)},goog.i18n.bidi.isNeutralChar=function(i){return!goog.i18n.bidi.isLtrChar(i)&&!goog.i18n.bidi.isRtlChar(i)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(i,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(i,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(i,o){return i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o),goog.i18n.bidi.isRequiredLtrRe_.test(i)||!goog.i18n.bidi.hasAnyLtr(i)&&!goog.i18n.bidi.hasAnyRtl(i)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(i,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(i,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(i){return goog.i18n.bidi.rtlLocalesRe_.test(i)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(i,o){return o=(o===void 0?goog.i18n.bidi.hasAnyRtl(i):o)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,i.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+i+"</span>"},goog.i18n.bidi.enforceRtlInText=function(i){return goog.i18n.bidi.Format.RLE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+i+"</span>"},goog.i18n.bidi.enforceLtrInText=function(i){return goog.i18n.bidi.Format.LRE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(i){return i.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(i){return i.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(i,o){var s=0,_=0,$=!1;for(i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o).split(goog.i18n.bidi.wordSeparatorRe_),o=0;o<i.length;o++){var _e=i[o];goog.i18n.bidi.startsWithRtl(_e)?(s++,_++):goog.i18n.bidi.isRequiredLtrRe_.test(_e)?$=!0:goog.i18n.bidi.hasAnyLtr(_e)?_++:goog.i18n.bidi.hasNumeralsRe_.test(_e)&&($=!0)}return _==0?$?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:s/_>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(i,o){return goog.i18n.bidi.estimateDirection(i,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(i,o){i&&(o=goog.i18n.bidi.toDir(o))&&(i.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,i.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(i,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:i.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:i.dir="rtl";break;default:i.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(i,o){var s=goog.html.TrustedResourceUrl.unwrap(this),_=(s=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(s))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",s[2]||"",i)+goog.html.TrustedResourceUrl.stringifyParams_("#",_,o))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(i){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(i){return i instanceof goog.html.TrustedResourceUrl&&i.constructor===goog.html.TrustedResourceUrl&&i.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(i){return i.trustedURL_?i.trustedURL_:goog.html.TrustedResourceUrl.unwrap(i)},goog.html.TrustedResourceUrl.format=function(i,o){var s=goog.string.Const.unwrap(i);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(s))throw Error("Invalid TrustedResourceUrl format: "+s);return i=s.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(_,$){if(!Object.prototype.hasOwnProperty.call(o,$))throw Error('Found marker, "'+$+'", in format string, "'+s+'", but no valid label mapping found in args: '+JSON.stringify(o));return(_=o[$])instanceof goog.string.Const?goog.string.Const.unwrap(_):encodeURIComponent(String(_))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(i,o,s,_){return goog.html.TrustedResourceUrl.format(i,o).cloneWithParams(s,_)},goog.html.TrustedResourceUrl.fromConstant=function(i){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.TrustedResourceUrl.fromConstants=function(i){for(var o="",s=0;s<i.length;s++)o+=goog.string.Const.unwrap(i[s]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(i):i,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(o.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i)),o},goog.html.TrustedResourceUrl.stringifyParams_=function(i,o,s){if(s==null)return o;if(goog.isString(s))return s?i+encodeURIComponent(s):"";for(var _ in s){var $=s[_];$=goog.isArray($)?$:[$];for(var _e=0;_e<$.length;_e++){var et=$[_e];et!=null&&(o||(o=i),o+=(o.length>i.length?"&":"")+encodeURIComponent(_)+"="+encodeURIComponent(String(et)))}}return o},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(i){return goog.html.SafeUrl.unwrapTrustedURL(i).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(i){return i instanceof goog.html.SafeUrl&&i.constructor===goog.html.SafeUrl&&i.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(i){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(i)},goog.html.SafeUrl.fromBlob=function(i){return i=goog.html.SAFE_MIME_TYPE_PATTERN_.test(i.type)?goog.fs.url.createObjectUrl(i):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(i){var o=(i=i.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return o=o&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(o[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o?i:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"tel:")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(i){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(i))||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"fb-messenger://share")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromWhatsAppUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"whatsapp://send")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromSmsUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(i){var o=i.indexOf("#");if(0<o&&(i=i.substring(0,o)),!(o=i.match(/[?&]body=/gi)))return!0;if(1<o.length)return!1;if(!(i=i.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(i)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(i)},goog.html.SafeUrl.fromSshUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"ssh://")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(i,o,s){return(i=i.exec(o))?(i=i[1],(s instanceof goog.string.Const?[goog.string.Const.unwrap(s)]:s.map(function(_){return goog.string.Const.unwrap(_)})).indexOf(i)==-1&&(o=goog.html.SafeUrl.INNOCUOUS_STRING)):o=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeUrl.fromTrustedResourceUrl=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(i))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(i){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SAFE_URL_PATTERN_.test(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(i,o){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),o&&/^data:/i.test(i)&&(o=goog.html.SafeUrl.fromDataUrl(i)).getTypedStringValue()==i?o:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(i),"%s does not match the safe URL pattern",i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i):i,o},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(i,";"),"Last character of style string is not ';': "+i),goog.asserts.assert(goog.string.internal.contains(i,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+i),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(i){return i instanceof goog.html.SafeStyle&&i.constructor===goog.html.SafeStyle&&i.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=i,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(i){var o,s="";for(o in i){if(!/^[-_a-zA-Z0-9]+$/.test(o))throw Error("Name allows only [-_a-zA-Z0-9], got: "+o);var _=i[o];_!=null&&(s+=o+":"+(_=goog.isArray(_)?goog.array.map(_,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(_))+";")}return s?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(s):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(i){if(i instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(i).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(i=i instanceof goog.string.Const?goog.string.Const.unwrap(i):goog.html.SafeStyle.sanitizePropertyValueString_(String(i)),/[{;}]/.test(i))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[i]);return i},goog.html.SafeStyle.sanitizePropertyValueString_=function(i){var o=i.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(o)?goog.html.SafeStyle.COMMENT_RE_.test(i)?(goog.asserts.fail("String value disallows comments, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(i)?goog.html.SafeStyle.hasBalancedSquareBrackets_(i)?goog.html.SafeStyle.sanitizeUrl_(i):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(i){for(var o=!0,s=!0,_=0;_<i.length;_++){var $=i.charAt(_);$=="'"&&s?o=!o:$=='"'&&o&&(s=!s)}return o&&s},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(i){for(var o=!0,s=/^[-_a-zA-Z0-9]$/,_=0;_<i.length;_++){var $=i.charAt(_);if($=="]"){if(o)return!1;o=!0}else if($=="["){if(!o)return!1;o=!1}else if(!o&&!s.test($))return!1}return o},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(i){return i.replace(goog.html.SafeStyle.URL_RE_,function(o,s,_,$){var _e="";return _=_.replace(/^(['"])(.*)\1$/,function(et,j,nt){return _e=j,nt}),o=goog.html.SafeUrl.sanitize(_).getTypedStringValue(),s+_e+o+_e+$})},goog.html.SafeStyle.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyle.unwrap(_)};return goog.array.forEach(arguments,s),o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeScript.fromConstantAndArgs=function(i,o){for(var s=[],_=1;_<arguments.length;_++)s.push(goog.html.SafeScript.stringify_(arguments[_]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(i)+")("+s.join(", ")+");")},goog.html.SafeScript.fromJson=function(i){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(i))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(i){return goog.html.SafeScript.unwrapTrustedScript(i).toString()},goog.html.SafeScript.unwrapTrustedScript=function(i){return i instanceof goog.html.SafeScript&&i.constructor===goog.html.SafeScript&&i.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(i){return JSON.stringify(i).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(i):i,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(i,o){return i===o?i!==0||1/i==1/o:i!=i&&o!=o},goog.object.forEach=function(i,o,s){for(var _ in i)o.call(s,i[_],_,i)},goog.object.filter=function(i,o,s){var _,$={};for(_ in i)o.call(s,i[_],_,i)&&($[_]=i[_]);return $},goog.object.map=function(i,o,s){var _,$={};for(_ in i)$[_]=o.call(s,i[_],_,i);return $},goog.object.some=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return!0;return!1},goog.object.every=function(i,o,s){for(var _ in i)if(!o.call(s,i[_],_,i))return!1;return!0},goog.object.getCount=function(i){var o,s=0;for(o in i)s++;return s},goog.object.getAnyKey=function(i){for(var o in i)return o},goog.object.getAnyValue=function(i){for(var o in i)return i[o]},goog.object.contains=function(i,o){return goog.object.containsValue(i,o)},goog.object.getValues=function(i){var o,s=[],_=0;for(o in i)s[_++]=i[o];return s},goog.object.getKeys=function(i){var o,s=[],_=0;for(o in i)s[_++]=o;return s},goog.object.getValueByKeys=function(i,o){var s=goog.isArrayLike(o),_=s?o:arguments;for(s=s?0:1;s<_.length;s++){if(i==null)return;i=i[_[s]]}return i},goog.object.containsKey=function(i,o){return i!==null&&o in i},goog.object.containsValue=function(i,o){for(var s in i)if(i[s]==o)return!0;return!1},goog.object.findKey=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return _},goog.object.findValue=function(i,o,s){return(o=goog.object.findKey(i,o,s))&&i[o]},goog.object.isEmpty=function(i){for(var o in i)return!1;return!0},goog.object.clear=function(i){for(var o in i)delete i[o]},goog.object.remove=function(i,o){var s;return(s=o in i)&&delete i[o],s},goog.object.add=function(i,o,s){if(i!==null&&o in i)throw Error('The object already contains the key "'+o+'"');goog.object.set(i,o,s)},goog.object.get=function(i,o,s){return i!==null&&o in i?i[o]:s},goog.object.set=function(i,o,s){i[o]=s},goog.object.setIfUndefined=function(i,o,s){return o in i?i[o]:i[o]=s},goog.object.setWithReturnValueIfNotSet=function(i,o,s){return o in i?i[o]:(s=s(),i[o]=s)},goog.object.equals=function(i,o){for(var s in i)if(!(s in o)||i[s]!==o[s])return!1;for(var _ in o)if(!(_ in i))return!1;return!0},goog.object.clone=function(i){var o,s={};for(o in i)s[o]=i[o];return s},goog.object.unsafeClone=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(goog.isFunction(i.clone))return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.object.unsafeClone(i[s]);return o}return i},goog.object.transpose=function(i){var o,s={};for(o in i)s[i[o]]=o;return s},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(i,o){for(var s,_,$=1;$<arguments.length;$++){for(s in _=arguments[$])i[s]=_[s];for(var _e=0;_e<goog.object.PROTOTYPE_FIELDS_.length;_e++)s=goog.object.PROTOTYPE_FIELDS_[_e],Object.prototype.hasOwnProperty.call(_,s)&&(i[s]=_[s])}},goog.object.create=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(o%2)throw Error("Uneven number of arguments");for(var s={},_=0;_<o;_+=2)s[arguments[_]]=arguments[_+1];return s},goog.object.createSet=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var s={},_=0;_<o;_++)s[arguments[_]]=!0;return s},goog.object.createImmutableView=function(i){var o=i;return Object.isFrozen&&!Object.isFrozen(i)&&(o=Object.create(i),Object.freeze(o)),o},goog.object.isImmutableView=function(i){return!!Object.isFrozen&&Object.isFrozen(i)},goog.object.getAllPropertyNames=function(i,o,s){if(!i)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(i);for(var _={};i&&(i!==Object.prototype||o)&&(i!==Function.prototype||s);){for(var $=Object.getOwnPropertyNames(i),_e=0;_e<$.length;_e++)_[$[_e]]=!0;i=Object.getPrototypeOf(i)}return goog.object.getKeys(_)},goog.object.getSuperClass=function(i){return(i=Object.getPrototypeOf(i.prototype))&&i.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(i,o){if(goog.string.internal.contains(i,"<"))throw Error("Selector does not allow '<', got: "+i);var s=i.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(s))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+i);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(s))throw Error("() and [] in selector must be balanced, got: "+i);return o instanceof goog.html.SafeStyle||(o=goog.html.SafeStyle.create(o)),i=i+"{"+goog.html.SafeStyle.unwrap(o).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(i){for(var o={"(":")","[":"]"},s=[],_=0;_<i.length;_++){var $=i[_];if(o[$])s.push(o[$]);else if(goog.object.contains(o,$)&&s.pop()!=$)return!1}return s.length==0},goog.html.SafeStyleSheet.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyleSheet.unwrap(_)};return goog.array.forEach(arguments,s),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(i,"<"),"Forbidden '<' character in style sheet string: "+i),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(i){return i instanceof goog.html.SafeStyleSheet&&i.constructor===goog.html.SafeStyleSheet&&i.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=i,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(i){return goog.dom.tags.VOID_TAGS_[i]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(i){this.tagName_=i},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var i=goog.labs.userAgent.util.getNavigator_();return i&&(i=i.userAgent)?i:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(i){goog.labs.userAgent.util.userAgent_=i||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(o,i)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(o,i)},goog.labs.userAgent.util.extractVersionTuples=function(i){for(var o,s=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,_=[];o=s.exec(i);)_.push([o[1],o[2],o[3]||void 0]);return _},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function i($){return $=goog.array.find($,_),s[$]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);o=goog.labs.userAgent.util.extractVersionTuples(o);var s={};goog.array.forEach(o,function($){s[$[0]]=$[1]});var _=goog.partial(goog.object.containsKey,s);return goog.labs.userAgent.browser.isOpera()?i(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?i(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?i(["Edg"]):goog.labs.userAgent.browser.isChrome()?i(["Chrome","CriOS"]):(o=o[2])&&o[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(i){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),i)},goog.labs.userAgent.browser.getIEVersion_=function(i){var o=/rv: *([\d\.]*)/.exec(i);if(o&&o[1])return o[1];o="";var s=/MSIE +([\d\.]+)/.exec(i);if(s&&s[1])if(i=/Trident\/(\d.\d)/.exec(i),s[1]=="7.0")if(i&&i[1])switch(i[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=s[1];return o},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(i){return goog.html.SafeHtml.unwrapTrustedHTML(i).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(i){return i instanceof goog.html.SafeHtml&&i.constructor===goog.html.SafeHtml&&i.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(i){if(i instanceof goog.html.SafeHtml)return i;var o=typeof i=="object",s=null;return o&&i.implementsGoogI18nBidiDirectionalString&&(s=i.getDirection()),i=o&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(i),s)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(i,o,s){return goog.html.SafeHtml.verifyTagName(String(i)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(i),o,s)},goog.html.SafeHtml.verifyTagName=function(i){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error("Invalid tag name <"+i+">.");if(i.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+i+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(i,o,s,_){i&&goog.html.TrustedResourceUrl.unwrap(i);var $={};return $.src=i||null,$.srcdoc=o&&goog.html.SafeHtml.unwrap(o),i=goog.html.SafeHtml.combineAttributes($,{sandbox:""},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.createSandboxIframe=function(i,o,s,_){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var $={};return $.src=i?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)):null,$.srcdoc=o||null,$.sandbox="",i=goog.html.SafeHtml.combineAttributes($,{},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(i,o){return goog.html.TrustedResourceUrl.unwrap(i),i=goog.html.SafeHtml.combineAttributes({src:i},{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",i)},goog.html.SafeHtml.createScript=function(i,o){for(var s in o){var _=s.toLowerCase();if(_=="language"||_=="src"||_=="text"||_=="type")throw Error('Cannot set "'+_+'" attribute')}for(s="",i=goog.array.concat(i),_=0;_<i.length;_++)s+=goog.html.SafeScript.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o,i)},goog.html.SafeHtml.createStyle=function(i,o){o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},o);var s="";i=goog.array.concat(i);for(var _=0;_<i.length;_++)s+=goog.html.SafeStyleSheet.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,i)},goog.html.SafeHtml.createMetaRefresh=function(i,o){return i=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(o||0)+"; url="+i})},goog.html.SafeHtml.getAttrNameAndValue_=function(i,o,s){if(s instanceof goog.string.Const)s=goog.string.Const.unwrap(s);else if(o.toLowerCase()=="style")s=goog.html.SafeHtml.getStyleValue_(s);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+s+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(s instanceof goog.html.TrustedResourceUrl)s=goog.html.TrustedResourceUrl.unwrap(s);else if(s instanceof goog.html.SafeUrl)s=goog.html.SafeUrl.unwrap(s);else{if(!goog.isString(s))throw Error('Attribute "'+o+'" on tag "'+i+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+s+'" given.');s=goog.html.SafeUrl.sanitize(s).getTypedStringValue()}}return s.implementsGoogStringTypedString&&(s=s.getTypedStringValue()),goog.asserts.assert(goog.isString(s)||goog.isNumber(s),"String or number value expected, got "+typeof s+" with value: "+s),o+'="'+goog.string.internal.htmlEscape(String(s))+'"'},goog.html.SafeHtml.getStyleValue_=function(i){if(!goog.isObject(i))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof i+" given: "+i);return i instanceof goog.html.SafeStyle||(i=goog.html.SafeStyle.create(i)),goog.html.SafeStyle.unwrap(i)},goog.html.SafeHtml.createWithDir=function(i,o,s,_){return(o=goog.html.SafeHtml.create(o,s,_)).dir_=i,o},goog.html.SafeHtml.join=function(i,o){var s=(i=goog.html.SafeHtml.htmlEscape(i)).getDirection(),_=[],$=function(_e){goog.isArray(_e)?goog.array.forEach(_e,$):(_e=goog.html.SafeHtml.htmlEscape(_e),_.push(goog.html.SafeHtml.unwrap(_e)),_e=_e.getDirection(),s==goog.i18n.bidi.Dir.NEUTRAL?s=_e:_e!=goog.i18n.bidi.Dir.NEUTRAL&&s!=_e&&(s=null))};return goog.array.forEach(o,$),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(_.join(goog.html.SafeHtml.unwrap(i)),s)},goog.html.SafeHtml.concat=function(i){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(i,o){var s=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return s.dir_=i,s},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(i,o){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(i,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(i):i,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(i,o,s){var _=null,$="<"+i+goog.html.SafeHtml.stringifyAttributes(i,o);return goog.isDefAndNotNull(s)?goog.isArray(s)||(s=[s]):s=[],goog.dom.tags.isVoidTag(i.toLowerCase())?(goog.asserts.assert(!s.length,"Void tag <"+i+"> does not allow content."),$+=">"):(_=goog.html.SafeHtml.concat(s),$+=">"+goog.html.SafeHtml.unwrap(_)+"</"+i+">",_=_.getDirection()),(i=o&&o.dir)&&(_=/^(ltr|rtl|auto)$/i.test(i)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse($,_)},goog.html.SafeHtml.stringifyAttributes=function(i,o){var s="";if(o)for(var _ in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(_))throw Error('Invalid attribute name "'+_+'".');var $=o[_];goog.isDefAndNotNull($)&&(s+=" "+goog.html.SafeHtml.getAttrNameAndValue_(i,_,$))}return s},goog.html.SafeHtml.combineAttributes=function(i,o,s){var _,$={};for(_ in i)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=i[_];for(_ in o)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=o[_];for(_ in s){var _e=_.toLowerCase();if(_e in i)throw Error('Cannot override "'+_e+'" attribute, got "'+_+'" with value "'+s[_]+'"');_e in o&&delete $[_e],$[_]=s[_]}return $},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(i,o,s){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,s||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(i){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(i);o&&(!i||!(i instanceof o.Location)&&i instanceof o.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(i))}return i},goog.dom.asserts.assertIsElementType_=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=goog.dom.asserts.getWindow_(i);s&&s[o]!==void 0&&(i&&(i instanceof s[o]||!(i instanceof s.Location||i instanceof s.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,goog.dom.asserts.debugStringForType_(i)))}return i},goog.dom.asserts.assertIsHTMLAnchorElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(i){if(!goog.isObject(i))return i===void 0?"undefined":i===null?"null":typeof i;try{return i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(i){try{var o=i&&i.ownerDocument,s=o&&(o.defaultView||o.parentWindow);if((s=s||goog.global).Element&&s.Location)return s}catch{}return null},goog.functions={},goog.functions.constant=function(i){return function(){return i}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(i,o){return i},goog.functions.error=function(i){return function(){throw Error(i)}},goog.functions.fail=function(i){return function(){throw i}},goog.functions.lock=function(i,o){return o=o||0,function(){return i.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(i){return function(){return arguments[i]}},goog.functions.partialRight=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=Array.prototype.slice.call(arguments);return _.push.apply(_,s),i.apply(this,_)}},goog.functions.withReturnValue=function(i,o){return goog.functions.sequence(i,goog.functions.constant(o))},goog.functions.equalTo=function(i,o){return function(s){return o?i==s:i===s}},goog.functions.compose=function(i,o){var s=arguments,_=s.length;return function(){var $;_&&($=s[_-1].apply(this,arguments));for(var _e=_-2;0<=_e;_e--)$=s[_e].call(this,$);return $}},goog.functions.sequence=function(i){var o=arguments,s=o.length;return function(){for(var _,$=0;$<s;$++)_=o[$].apply(this,arguments);return _}},goog.functions.and=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(!o[_].apply(this,arguments))return!1;return!0}},goog.functions.or=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(o[_].apply(this,arguments))return!0;return!1}},goog.functions.not=function(i){return function(){return!i.apply(this,arguments)}},goog.functions.create=function(i,o){var s=function(){};return s.prototype=i.prototype,s=new s,i.apply(s,Array.prototype.slice.call(arguments,1)),s},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(i){var o,s=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(s||(o=i(),s=!0),o):i()}},goog.functions.once=function(i){var o=i;return function(){if(o){var s=o;o=null,s()}}},goog.functions.debounce=function(i,o,s){var _=0;return function($){goog.global.clearTimeout(_);var _e=arguments;_=goog.global.setTimeout(function(){i.apply(s,_e)},o)}},goog.functions.throttle=function(i,o,s){var _=0,$=!1,_e=[],et=function(){_=0,$&&($=!1,j())},j=function(){_=goog.global.setTimeout(et,o),i.apply(s,_e)};return function(nt){_e=arguments,_?$=!0:j()}},goog.functions.rateLimit=function(i,o,s){var _=0,$=function(){_=0};return function(_e){_||(_=goog.global.setTimeout($,o),i.apply(s,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(i,o,s){i.insertAdjacentHTML(o,goog.html.SafeHtml.unwrapTrustedHTML(s))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var i=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),i.appendChild(o),!(goog.DEBUG&&!i.firstChild)&&(o=i.firstChild.firstChild,i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!o.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(i,o){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;i.lastChild;)i.removeChild(i.lastChild);i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setInnerHtml=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=i.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[s])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+i.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(i,o)},goog.dom.safe.setOuterHtml=function(i,o){i.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setFormElementAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLFormElement(i).action=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setButtonFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLButtonElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setInputFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLInputElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setStyle=function(i,o){i.style.cssText=goog.html.SafeStyle.unwrap(o)},goog.dom.safe.documentWrite=function(i,o){i.write(goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.setAnchorHref=function(i,o){goog.dom.asserts.assertIsHTMLAnchorElement(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setImageSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLImageElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:image\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setAudioSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLAudioElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:audio\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setVideoSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLVideoElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:video\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setEmbedSrc=function(i,o){goog.dom.asserts.assertIsHTMLEmbedElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setFrameSrc=function(i,o){goog.dom.asserts.assertIsHTMLFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrcdoc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setLinkHrefAndRel=function(i,o,s){goog.dom.asserts.assertIsHTMLLinkElement(i),i.rel=s,goog.string.internal.caseInsensitiveContains(s,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),i.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)):i.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(o):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(o))},goog.dom.safe.setObjectData=function(i,o){goog.dom.asserts.assertIsHTMLObjectElement(i),i.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setScriptSrc=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.text=goog.html.SafeScript.unwrapTrustedScript(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.assignLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.assign(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.replaceLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.replace(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.openInWindow=function(i,o,s,_,$){return i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),(o||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(i),s?goog.string.Const.unwrap(s):"",_,$)},goog.dom.safe.parseFromStringHtml=function(i,o){return goog.dom.safe.parseFromString(i,o,"text/html")},goog.dom.safe.parseFromString=function(i,o,s){return i.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(o),s)},goog.dom.safe.createImageFromBlob=function(i){if(!/^image\/.*/g.test(i.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var o=goog.global.URL.createObjectURL(i);return(i=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(o)},goog.dom.safe.setImageSrc(i,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),o)),i},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(i,o){for(var s=i.split("%s"),_="",$=Array.prototype.slice.call(arguments,1);$.length&&1<s.length;)_+=s.shift()+$.shift();return _+s.join("%s")},goog.string.collapseWhitespace=function(i){return i.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(i){return i.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(i){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(i))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(i){return!/[^\t\n\r ]/.test(i)},goog.string.isAlpha=function(i){return!/[^a-zA-Z]/.test(i)},goog.string.isNumeric=function(i){return!/[^0-9]/.test(i)},goog.string.isAlphaNumeric=function(i){return!/[^a-zA-Z0-9]/.test(i)},goog.string.isSpace=function(i){return i==" "},goog.string.isUnicodeChar=function(i){return i.length==1&&" "<=i&&"~">=i||""<=i&&"�">=i},goog.string.stripNewlines=function(i){return i.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(i){return i.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(i){return i.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(i){return i.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(i){return i.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(i){return i.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(i){return i.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(i,o,s){if(i==o)return 0;if(!i)return-1;if(!o)return 1;for(var _=i.toLowerCase().match(s),$=o.toLowerCase().match(s),_e=Math.min(_.length,$.length),et=0;et<_e;et++){s=_[et];var j=$[et];if(s!=j)return i=parseInt(s,10),!isNaN(i)&&(o=parseInt(j,10),!isNaN(o)&&i-o)?i-o:s<j?-1:1}return _.length!=$.length?_.length-$.length:i<o?-1:1},goog.string.intAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\D+/g)},goog.string.floatAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(i){return encodeURIComponent(String(i))},goog.string.urlDecode=function(i){return decodeURIComponent(i.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(i,o){return i=goog.string.internal.htmlEscape(i,o),goog.string.DETECT_DOUBLE_ESCAPING&&(i=i.replace(goog.string.E_RE_,"&#101;")),i},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(i){return goog.string.contains(i,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(i):goog.string.unescapePureXmlEntities_(i):i},goog.string.unescapeEntitiesWithDocument=function(i,o){return goog.string.contains(i,"&")?goog.string.unescapeEntitiesUsingDom_(i,o):i},goog.string.unescapeEntitiesUsingDom_=function(i,o){var s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},_=o?o.createElement("div"):goog.global.document.createElement("div");return i.replace(goog.string.HTML_ENTITY_PATTERN_,function($,_e){var et=s[$];return et||(_e.charAt(0)=="#"&&(_e=Number("0"+_e.substr(1)),isNaN(_e)||(et=String.fromCharCode(_e))),et||(goog.dom.safe.setInnerHtml(_,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),$+" ")),et=_.firstChild.nodeValue.slice(0,-1)),s[$]=et)})},goog.string.unescapePureXmlEntities_=function(i){return i.replace(/&([^;]+);/g,function(o,s){switch(s){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return s.charAt(0)!="#"||(s=Number("0"+s.substr(1)),isNaN(s))?o:String.fromCharCode(s)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(i,o){return goog.string.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(i){return i.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(i,o){for(var s=o.length,_=0;_<s;_++){var $=s==1?o:o.charAt(_);if(i.charAt(0)==$&&i.charAt(i.length-1)==$)return i.substring(1,i.length-1)}return i},goog.string.truncate=function(i,o,s){return s&&(i=goog.string.unescapeEntities(i)),i.length>o&&(i=i.substring(0,o-3)+"..."),s&&(i=goog.string.htmlEscape(i)),i},goog.string.truncateMiddle=function(i,o,s,_){if(s&&(i=goog.string.unescapeEntities(i)),_&&i.length>o){_>o&&(_=o);var $=i.length-_;i=i.substring(0,o-_)+"..."+i.substring($)}else i.length>o&&(_=Math.floor(o/2),$=i.length-_,i=i.substring(0,_+o%2)+"..."+i.substring($));return s&&(i=goog.string.htmlEscape(i)),i},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(i){i=String(i);for(var o=['"'],s=0;s<i.length;s++){var _=i.charAt(s),$=_.charCodeAt(0);o[s+1]=goog.string.specialEscapeChars_[_]||(31<$&&127>$?_:goog.string.escapeChar(_))}return o.push('"'),o.join("")},goog.string.escapeString=function(i){for(var o=[],s=0;s<i.length;s++)o[s]=goog.string.escapeChar(i.charAt(s));return o.join("")},goog.string.escapeChar=function(i){if(i in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[i];if(i in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[i]=goog.string.specialEscapeChars_[i];var o=i.charCodeAt(0);if(31<o&&127>o)var s=i;else 256>o?(s="\\x",(16>o||256<o)&&(s+="0")):(s="\\u",4096>o&&(s+="0")),s+=o.toString(16).toUpperCase();return goog.string.jsEscapeCache_[i]=s},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(i,o){return i&&o?i.split(o).length-1:0},goog.string.removeAt=function(i,o,s){var _=i;return 0<=o&&o<i.length&&0<s&&(_=i.substr(0,o)+i.substr(o+s,i.length-o-s)),_},goog.string.remove=function(i,o){return i.replace(o,"")},goog.string.removeAll=function(i,o){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,"")},goog.string.replaceAll=function(i,o,s){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,s.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(i){return String(i).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(i,o){return i.repeat(o)}:function(i,o){return Array(o+1).join(i)},goog.string.padNumber=function(i,o,s){return(s=(i=goog.isDef(s)?i.toFixed(s):String(i)).indexOf("."))==-1&&(s=i.length),goog.string.repeat("0",Math.max(0,o-s))+i},goog.string.makeSafe=function(i){return i==null?"":String(i)},goog.string.buildString=function(i){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(i){for(var o=0,s=0;s<i.length;++s)o=31*o+i.charCodeAt(s)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(i){var o=Number(i);return o==0&&goog.string.isEmptyOrWhitespace(i)?NaN:o},goog.string.isLowerCamelCase=function(i){return/^[a-z]+([A-Z][a-z]*)*$/.test(i)},goog.string.isUpperCamelCase=function(i){return/^([A-Z][a-z]*)+$/.test(i)},goog.string.toCamelCase=function(i){return String(i).replace(/\-([a-z])/g,function(o,s){return s.toUpperCase()})},goog.string.toSelectorCase=function(i){return String(i).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(i,o){return o=goog.isString(o)?goog.string.regExpEscape(o):"\\s",i.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(s,_,$){return _+$.toUpperCase()})},goog.string.capitalize=function(i){return String(i.charAt(0)).toUpperCase()+String(i.substr(1)).toLowerCase()},goog.string.parseInt=function(i){return isFinite(i)&&(i=String(i)),goog.isString(i)?/^\s*-?0x/i.test(i)?parseInt(i,16):parseInt(i,10):NaN},goog.string.splitLimit=function(i,o,s){i=i.split(o);for(var _=[];0<s&&i.length;)_.push(i.shift()),s--;return i.length&&_.push(i.join(o)),_},goog.string.lastComponent=function(i,o){if(!o)return i;typeof o=="string"&&(o=[o]);for(var s=-1,_=0;_<o.length;_++)if(o[_]!=""){var $=i.lastIndexOf(o[_]);$>s&&(s=$)}return s==-1?i:i.slice(s+1)},goog.string.editDistance=function(i,o){var s=[],_=[];if(i==o)return 0;if(!i.length||!o.length)return Math.max(i.length,o.length);for(var $=0;$<o.length+1;$++)s[$]=$;for($=0;$<i.length;$++){_[0]=$+1;for(var _e=0;_e<o.length;_e++)_[_e+1]=Math.min(_[_e]+1,s[_e+1]+1,s[_e]+Number(i[$]!=o[_e]));for(_e=0;_e<s.length;_e++)s[_e]=_[_e]}return _[o.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?o=(i=(o=/Windows (?:NT|Phone) ([0-9.]+)/).exec(i))?i[1]:"0.0":goog.labs.userAgent.platform.isIos()?o=(i=(o=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(i))&&i[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?o=(i=(o=/Mac OS X ([0-9_.]+)/).exec(i))?i[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?o=(i=(o=/(?:KaiOS)\/(\S+)/i).exec(i))&&i[1]:goog.labs.userAgent.platform.isAndroid()?o=(i=(o=/Android\s+([^\);]+)(\)|;)/).exec(i))&&i[1]:goog.labs.userAgent.platform.isChromeOS()&&(o=(i=(o=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(i))&&i[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),i)},goog.reflect={},goog.reflect.object=function(i,o){return o},goog.reflect.objectProperty=function(i,o){return i},goog.reflect.sinkValue=function(i){return goog.reflect.sinkValue[" "](i),i},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(i,o){try{return goog.reflect.sinkValue(i[o]),!0}catch{}return!1},goog.reflect.cache=function(i,o,s,_){return _=_?_(o):o,Object.prototype.hasOwnProperty.call(i,_)?i[_]:i[_]=s(o)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent();if(i){i=goog.labs.userAgent.util.extractVersionTuples(i);var o,s=goog.labs.userAgent.engine.getEngineTuple_(i);if(s)return s[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(i,"Firefox"):s[1];if((i=i[0])&&(o=i[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(i){if(!goog.labs.userAgent.engine.isEdge())return i[1];for(var o=0;o<i.length;o++){var s=i[o];if(s[0]=="Edge")return s}},goog.labs.userAgent.engine.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),i)},goog.labs.userAgent.engine.getVersionForKey_=function(i,o){return(i=goog.array.find(i,function(s){return o==s[0]}))&&i[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var i=goog.userAgent.getNavigatorTyped();return i&&i.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var i=goog.userAgent.getNavigatorTyped();return!!i&&goog.string.contains(i.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var i="",o=goog.userAgent.getVersionRegexResult_();return o&&(i=o?o[1]:""),goog.userAgent.IE&&(o=goog.userAgent.getDocumentMode_())!=null&&o>parseFloat(i)?String(o):i},goog.userAgent.getVersionRegexResult_=function(){var i=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(i):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(i):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(i):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(i):void 0},goog.userAgent.getDocumentMode_=function(){var i=goog.global.document;return i?i.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(i,o){return goog.string.compareVersions(i,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(i){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,i,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,i)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(i){return Number(goog.userAgent.DOCUMENT_MODE)>=i},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(i){return goog.string.contains(goog.crypt.base64.paddingChars_,i)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(i,o){goog.asserts.assert(goog.isArrayLike(i),"encodeByteArray takes an array as a parameter"),o===void 0&&(o=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),o=goog.crypt.base64.byteToCharMaps_[o];for(var s=[],_=0;_<i.length;_+=3){var $=i[_],_e=_+1<i.length,et=_e?i[_+1]:0,j=_+2<i.length,nt=j?i[_+2]:0,ot=$>>2;$=(3&$)<<4|et>>4,et=(15&et)<<2|nt>>6,nt&=63,j||(nt=64,_e||(et=64)),s.push(o[ot],o[$],o[et]||"",o[nt]||"")}return s.join("")},goog.crypt.base64.encodeString=function(i,o){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!o?goog.global.btoa(i):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(i),o)},goog.crypt.base64.decodeString=function(i,o){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!o)return goog.global.atob(i);var s="";return goog.crypt.base64.decodeStringInternal_(i,function(_){s+=String.fromCharCode(_)}),s},goog.crypt.base64.decodeStringToByteArray=function(i,o){var s=[];return goog.crypt.base64.decodeStringInternal_(i,function(_){s.push(_)}),s},goog.crypt.base64.decodeStringToUint8Array=function(i){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var o=i.length,s=3*o/4;s%3?s=Math.floor(s):goog.crypt.base64.isPadding_(i[o-1])&&(s=goog.crypt.base64.isPadding_(i[o-2])?s-2:s-1);var _=new Uint8Array(s),$=0;return goog.crypt.base64.decodeStringInternal_(i,function(_e){_[$++]=_e}),_.subarray(0,$)},goog.crypt.base64.decodeStringInternal_=function(i,o){function s(nt){for(;_<i.length;){var ot=i.charAt(_++),ct=goog.crypt.base64.charToByteMap_[ot];if(ct!=null)return ct;if(!goog.string.isEmptyOrWhitespace(ot))throw Error("Unknown base64 encoding at char: "+ot)}return nt}goog.crypt.base64.init_();for(var _=0;;){var $=s(-1),_e=s(0),et=s(64),j=s(64);if(j===64&&$===-1)break;o($<<2|_e>>4),et!=64&&(o(_e<<4&240|et>>2),j!=64&&o(et<<6&192|j))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var i=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),o=["+/=","+/","-_=","-_.","-_"],s=0;5>s;s++){var _=i.concat(o[s].split(""));goog.crypt.base64.byteToCharMaps_[s]=_;for(var $=0;$<_.length;$++){var _e=_[$],et=goog.crypt.base64.charToByteMap_[_e];et===void 0?goog.crypt.base64.charToByteMap_[_e]=$:goog.asserts.assert(et===$)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(i){var o=i>>>0;i=Math.floor((i-o)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=o,jspb.utils.split64High=i},jspb.utils.splitInt64=function(i){var o=0>i,s=(i=Math.abs(i))>>>0;i=Math.floor((i-s)/jspb.BinaryConstants.TWO_TO_32),i>>>=0,o&&(i=~i>>>0,4294967295<(s=1+(~s>>>0))&&(s=0,4294967295<++i&&(i=0))),jspb.utils.split64Low=s,jspb.utils.split64High=i},jspb.utils.splitZigzag64=function(i){var o=0>i;i=2*Math.abs(i),jspb.utils.splitUint64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;o&&(i==0?s==0?s=i=4294967295:(s--,i=4294967295):i--),jspb.utils.split64Low=i,jspb.utils.split64High=s},jspb.utils.splitFloat32=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)0<1/i?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(i))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(i>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|2139095040)>>>0;else if(i<jspb.BinaryConstants.FLOAT32_MIN)i=Math.round(i/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|i)>>>0;else{var s=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-s),i=8388607&Math.round(i*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|s+127<<23|i)>>>0}},jspb.utils.splitFloat64=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)jspb.utils.split64High=0<1/i?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(i))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(i>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(o<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(i<jspb.BinaryConstants.FLOAT64_MIN){var s=i/Math.pow(2,-1074);i=s/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(o<<31|i)>>>0,jspb.utils.split64Low=s>>>0}else{var _=0;if(2<=(s=i))for(;2<=s&&1023>_;)_++,s/=2;else for(;1>s&&-1022<_;)s*=2,_--;i=(s=i*Math.pow(2,-_))*jspb.BinaryConstants.TWO_TO_20&1048575,s=s*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(o<<31|_+1023<<20|i)>>>0,jspb.utils.split64Low=s}},jspb.utils.splitHash64=function(i){var o=i.charCodeAt(0),s=i.charCodeAt(1),_=i.charCodeAt(2),$=i.charCodeAt(3),_e=i.charCodeAt(4),et=i.charCodeAt(5),j=i.charCodeAt(6);i=i.charCodeAt(7),jspb.utils.split64Low=o+(s<<8)+(_<<16)+($<<24)>>>0,jspb.utils.split64High=_e+(et<<8)+(j<<16)+(i<<24)>>>0},jspb.utils.joinUint64=function(i,o){return o*jspb.BinaryConstants.TWO_TO_32+(i>>>0)},jspb.utils.joinInt64=function(i,o){var s=2147483648&o;return s&&(o=~o>>>0,(i=1+~i>>>0)==0&&(o=o+1>>>0)),i=jspb.utils.joinUint64(i,o),s?-i:i},jspb.utils.toZigzag64=function(i,o,s){var _=o>>31;return s(i<<1^_,(o<<1|i>>>31)^_)},jspb.utils.joinZigzag64=function(i,o){return jspb.utils.fromZigzag64(i,o,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(i,o,s){var _=-(1&i);return s((i>>>1|o<<31)^_,o>>>1^_)},jspb.utils.joinFloat32=function(i,o){o=2*(i>>31)+1;var s=i>>>23&255;return i&=8388607,s==255?i?NaN:1/0*o:s==0?o*Math.pow(2,-149)*i:o*Math.pow(2,s-150)*(i+Math.pow(2,23))},jspb.utils.joinFloat64=function(i,o){var s=2*(o>>31)+1,_=o>>>20&2047;return i=jspb.BinaryConstants.TWO_TO_32*(1048575&o)+i,_==2047?i?NaN:1/0*s:_==0?s*Math.pow(2,-1074)*i:s*Math.pow(2,_-1075)*(i+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(i,o){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,o>>>0&255,o>>>8&255,o>>>16&255,o>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(i,o){function s($,_e){return $=$?String($):"",_e?"0000000".slice($.length)+$:$}if(2097151>=o)return""+(jspb.BinaryConstants.TWO_TO_32*o+i);var _=(i>>>24|o<<8)>>>0&16777215;return i=(16777215&i)+6777216*_+6710656*(o=o>>16&65535),_+=8147497*o,o*=2,1e7<=i&&(_+=Math.floor(i/1e7),i%=1e7),1e7<=_&&(o+=Math.floor(_/1e7),_%=1e7),s(o,0)+s(_,o)+s(i,1)},jspb.utils.joinSignedDecimalString=function(i,o){var s=2147483648&o;return s&&(o=~o+((i=1+~i>>>0)==0?1:0)>>>0),i=jspb.utils.joinUnsignedDecimalString(i,o),s?"-"+i:i},jspb.utils.hash64ToDecimalString=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinSignedDecimalString(i,s):jspb.utils.joinUnsignedDecimalString(i,s)},jspb.utils.hash64ArrayToDecimalStrings=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]=jspb.utils.hash64ToDecimalString(i[_],o);return s},jspb.utils.decimalStringToHash64=function(i){function o(_e,et){for(var j=0;8>j&&(_e!==1||0<et);j++)et=_e*_[j]+et,_[j]=255&et,et>>>=8}goog.asserts.assert(0<i.length);var s=!1;i[0]==="-"&&(s=!0,i=i.slice(1));for(var _=[0,0,0,0,0,0,0,0],$=0;$<i.length;$++)o(10,i.charCodeAt($)-jspb.utils.ZERO_CHAR_CODE_);return s&&(function(){for(var _e=0;8>_e;_e++)_[_e]=255&~_[_e]}(),o(1,1)),goog.crypt.byteArrayToString(_)},jspb.utils.splitDecimalString=function(i){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i))},jspb.utils.toHexDigit_=function(i){return String.fromCharCode(10>i?jspb.utils.ZERO_CHAR_CODE_+i:jspb.utils.A_CHAR_CODE_-10+i)},jspb.utils.fromHexCharCode_=function(i){return i>=jspb.utils.A_CHAR_CODE_?i-jspb.utils.A_CHAR_CODE_+10:i-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(i){var o=Array(18);o[0]="0",o[1]="x";for(var s=0;8>s;s++){var _=i.charCodeAt(7-s);o[2*s+2]=jspb.utils.toHexDigit_(_>>4),o[2*s+3]=jspb.utils.toHexDigit_(15&_)}return o.join("")},jspb.utils.hexStringToHash64=function(i){i=i.toLowerCase(),goog.asserts.assert(i.length==18),goog.asserts.assert(i[0]=="0"),goog.asserts.assert(i[1]=="x");for(var o="",s=0;8>s;s++){var _=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+2)),$=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+3));o=String.fromCharCode(16*_+$)+o}return o},jspb.utils.hash64ToNumber=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinInt64(i,s):jspb.utils.joinUint64(i,s)},jspb.utils.numberToHash64=function(i){return jspb.utils.splitInt64(i),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(i,o,s){for(var _=0,$=o;$<s;$++)_+=i[$]>>7;return s-o-_},jspb.utils.countVarintFields=function(i,o,s,_){var $=0;if(128>(_=8*_+jspb.BinaryConstants.WireType.VARINT))for(;o<s&&i[o++]==_;)for($++;;){var _e=i[o++];if(!(128&_e))break}else for(;o<s;){for(_e=_;128<_e;){if(i[o]!=(127&_e|128))return $;o++,_e>>=7}if(i[o++]!=_e)break;for($++;128&(_e=i[o++]););}return $},jspb.utils.countFixedFields_=function(i,o,s,_,$){var _e=0;if(128>_)for(;o<s&&i[o++]==_;)_e++,o+=$;else for(;o<s;){for(var et=_;128<et;){if(i[o++]!=(127&et|128))return _e;et>>=7}if(i[o++]!=et)break;_e++,o+=$}return _e},jspb.utils.countFixed32Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(i,o,s,_){var $=0;for(_=8*_+jspb.BinaryConstants.WireType.DELIMITED;o<s;){for(var _e=_;128<_e;){if(i[o++]!=(127&_e|128))return $;_e>>=7}if(i[o++]!=_e)break;$++;for(var et=0,j=1;et+=(127&(_e=i[o++]))*j,j*=128,(128&_e)!=0;);o+=et}return $},jspb.utils.debugBytesToTextFormat=function(i){var o='"';if(i){i=jspb.utils.byteSourceToUint8Array(i);for(var s=0;s<i.length;s++)o+="\\x",16>i[s]&&(o+="0"),o+=i[s].toString(16)}return o+'"'},jspb.utils.debugScalarToTextFormat=function(i){return typeof i=="string"?goog.string.quote(i):i.toString()},jspb.utils.stringToByteArray=function(i){for(var o=new Uint8Array(i.length),s=0;s<i.length;s++){var _=i.charCodeAt(s);if(255<_)throw Error("Conversion error: string contains codepoint outside of byte range");o[s]=_}return o},jspb.utils.byteSourceToUint8Array=function(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer||Buffer!==void 0&&i.constructor===Buffer||i.constructor===Array?new Uint8Array(i):i.constructor===String?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(i,o,s){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,i&&this.setBlock(i,o,s)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(i,o,s){if(jspb.BinaryDecoder.instanceCache_.length){var _=jspb.BinaryDecoder.instanceCache_.pop();return i&&_.setBlock(i,o,s),_}return new jspb.BinaryDecoder(i,o,s)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(i,o,s){this.bytes_=jspb.utils.byteSourceToUint8Array(i),this.start_=o!==void 0?o:0,this.end_=s!==void 0?this.start_+s:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(i){this.end_=i},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(i){this.cursor_=i},jspb.BinaryDecoder.prototype.advance=function(i){this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(i){for(var o=128,s=0,_=0,$=0;4>$&&128<=o;$++)s|=(127&(o=this.bytes_[this.cursor_++]))<<7*$;if(128<=o&&(s|=(127&(o=this.bytes_[this.cursor_++]))<<28,_|=(127&o)>>4),128<=o)for($=0;5>$&&128<=o;$++)_|=(127&(o=this.bytes_[this.cursor_++]))<<7*$+3;if(128>o)return i(s>>>0,_>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(i){return this.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(i){var o=this.bytes_,s=this.cursor_;this.cursor_+=8;for(var _=0,$=0,_e=s+7;_e>=s;_e--)_=_<<8|o[_e],$=$<<8|o[_e+4];return i(_,$)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(i){for(;128<i;)this.cursor_--,i>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var i=this.bytes_,o=i[this.cursor_+0],s=127&o;return 128>o?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+1]))<<7,128>o?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+2]))<<14,128>o?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+3]))<<21,128>o?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(15&(o=i[this.cursor_+4]))<<28,128>o?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),s>>>0):(this.cursor_+=5,128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),s)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var i=this.readUnsignedVarint32();return i>>>1^-(1&i)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i},jspb.BinaryDecoder.prototype.readUint16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8|s<<16|_<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUint64(i,o)},jspb.BinaryDecoder.prototype.readUint64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUnsignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readInt8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8|s<<16|_<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinInt64(i,o)},jspb.BinaryDecoder.prototype.readInt64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinSignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readFloat=function(){var i=this.readUint32();return jspb.utils.joinFloat32(i,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinFloat64(i,o)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(i){var o=this.bytes_,s=this.cursor_;i=s+i;for(var _=[],$="";s<i;){var _e=o[s++];if(128>_e)_.push(_e);else{if(192>_e)continue;if(224>_e){var et=o[s++];_.push((31&_e)<<6|63&et)}else if(240>_e){et=o[s++];var j=o[s++];_.push((15&_e)<<12|(63&et)<<6|63&j)}else 248>_e&&(_e=(7&_e)<<18|(63&(et=o[s++]))<<12|(63&(j=o[s++]))<<6|63&o[s++],_e-=65536,_.push(55296+(_e>>10&1023),56320+(1023&_e)))}8192<=_.length&&($+=String.fromCharCode.apply(null,_),_.length=0)}return $+=goog.crypt.byteArrayToString(_),this.cursor_=s,$},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var i=this.readUnsignedVarint32();return this.readString(i)},jspb.BinaryDecoder.prototype.readBytes=function(i){if(0>i||this.cursor_+i>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var o=this.bytes_.subarray(this.cursor_,this.cursor_+i);return this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_),o},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var i=this.bytes_,o=this.cursor_,s=i[o+0],_=i[o+1],$=i[o+2],_e=i[o+3],et=i[o+4],j=i[o+5],nt=i[o+6];return i=i[o+7],this.cursor_+=8,String.fromCharCode(s,_,$,_e,et,j,nt,i)},jspb.BinaryReader=function(i,o,s){this.decoder_=jspb.BinaryDecoder.alloc(i,o,s),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(i,o,s){if(jspb.BinaryReader.instanceCache_.length){var _=jspb.BinaryReader.instanceCache_.pop();return i&&_.decoder_.setBlock(i,o,s),_}return new jspb.BinaryReader(i,o,s)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(i,o,s){this.decoder_.setBlock(i,o,s),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(i){this.decoder_.advance(i)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var i=this.decoder_.readUnsignedVarint32(),o=i>>>3;return(i&=7)!=jspb.BinaryConstants.WireType.VARINT&&i!=jspb.BinaryConstants.WireType.FIXED32&&i!=jspb.BinaryConstants.WireType.FIXED64&&i!=jspb.BinaryConstants.WireType.DELIMITED&&i!=jspb.BinaryConstants.WireType.START_GROUP&&i!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",i,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=o,this.nextWireType_=i,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var i=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==i;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var i=this.decoder_.readUnsignedVarint32();this.decoder_.advance(i)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var i=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=i&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(i,o){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[i]),this.readCallbacks_[i]=o},jspb.BinaryReader.prototype.runReadCallback=function(i){return goog.asserts.assert(this.readCallbacks_!==null),i=this.readCallbacks_[i],goog.asserts.assert(i),i(this)},jspb.BinaryReader.prototype.readAny=function(i){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(i);var o=jspb.BinaryConstants.FieldType;switch(i){case o.DOUBLE:return this.readDouble();case o.FLOAT:return this.readFloat();case o.INT64:return this.readInt64();case o.UINT64:return this.readUint64();case o.INT32:return this.readInt32();case o.FIXED64:return this.readFixed64();case o.FIXED32:return this.readFixed32();case o.BOOL:return this.readBool();case o.STRING:return this.readString();case o.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case o.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case o.BYTES:return this.readBytes();case o.UINT32:return this.readUint32();case o.ENUM:return this.readEnum();case o.SFIXED32:return this.readSfixed32();case o.SFIXED64:return this.readSfixed64();case o.SINT32:return this.readSint32();case o.SINT64:return this.readSint64();case o.FHASH64:return this.readFixedHash64();case o.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(i,o){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.getEnd(),_=this.decoder_.readUnsignedVarint32();_=this.decoder_.getCursor()+_,this.decoder_.setEnd(_),o(i,this),this.decoder_.setCursor(_),this.decoder_.setEnd(s)},jspb.BinaryReader.prototype.readGroup=function(i,o,s){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==i),s(o,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32(),o=this.decoder_.getCursor(),s=o+i;return i=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),o,i),this.decoder_.setCursor(s),i},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(i)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(i)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(i)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(i)},jspb.BinaryReader.prototype.readPackedField_=function(i){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o;for(var s=[];this.decoder_.getCursor()<o;)s.push(i.call(this.decoder_));return s},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(i,o){this.arr_=i,this.valueCtor_=o,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var i=0;i<this.arr_.length;i++){var o=this.arr_[i],s=o[0];this.map_[s.toString()]=new jspb.Map.Entry_(s,o[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var i,o=this.map_;for(i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var s=o[i].valueWrapper;s&&s.toArray()}}}else{for(this.arr_.length=0,(o=this.stringKeys_()).sort(),i=0;i<o.length;i++){var _=this.map_[o[i]];(s=_.valueWrapper)&&s.toArray(),this.arr_.push([_.key,_.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(i,o){for(var s=this.toArray(),_=[],$=0;$<s.length;$++){var _e=this.map_[s[$][0].toString()];this.wrapEntry_(_e);var et=_e.valueWrapper;et?(goog.asserts.assert(o),_.push([_e.key,o(i,et)])):_.push([_e.key,_e.value])}return _},jspb.Map.fromObject=function(i,o,s){o=new jspb.Map([],o);for(var _=0;_<i.length;_++){var $=i[_][0],_e=s(i[_][1]);o.set($,_e)}return o},jspb.Map.ArrayIteratorIterable_=function(i){this.idx_=0,this.arr_=i},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(i){i=i.toString();var o=this.map_.hasOwnProperty(i);return delete this.map_[i],this.arrClean=!1,o},jspb.Map.prototype.getEntryList=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,_.value])}return i},jspb.Map.prototype.entries=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,this.wrapEntry_(_)])}return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.keys=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.map_[o[s]].key);return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.values=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.wrapEntry_(this.map_[o[s]]));return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.forEach=function(i,o){var s=this.stringKeys_();s.sort();for(var _=0;_<s.length;_++){var $=this.map_[s[_]];i.call(o,this.wrapEntry_($),$.key,this)}},jspb.Map.prototype.set=function(i,o){var s=new jspb.Map.Entry_(i);return this.valueCtor_?(s.valueWrapper=o,s.value=o.toArray()):s.value=o,this.map_[i.toString()]=s,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(i){return this.valueCtor_?(i.valueWrapper||(i.valueWrapper=new this.valueCtor_(i.value)),i.valueWrapper):i.value},jspb.Map.prototype.get=function(i){if(i=this.map_[i.toString()])return this.wrapEntry_(i)},jspb.Map.prototype.has=function(i){return i.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(i,o,s,_,$){var _e=this.stringKeys_();_e.sort();for(var et=0;et<_e.length;et++){var j=this.map_[_e[et]];o.beginSubMessage(i),s.call(o,1,j.key),this.valueCtor_?_.call(o,2,this.wrapEntry_(j),$):_.call(o,2,j.value),o.endSubMessage()}},jspb.Map.deserializeBinary=function(i,o,s,_,$,_e,et){for(;o.nextField()&&!o.isEndGroup();){var j=o.getFieldNumber();j==1?_e=s.call(o):j==2&&(i.valueCtor_?(goog.asserts.assert($),et||(et=new i.valueCtor_),_.call(o,et,$)):et=_.call(o))}goog.asserts.assert(_e!=null),goog.asserts.assert(et!=null),i.set(_e,et)},jspb.Map.prototype.stringKeys_=function(){var i,o=this.map_,s=[];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},jspb.Map.Entry_=function(i,o){this.key=i,this.value=o,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(i,o,s,_,$){this.fieldIndex=i,this.fieldName=o,this.ctor=s,this.toObjectFn=_,this.isRepeated=$},jspb.ExtensionFieldBinaryInfo=function(i,o,s,_,$,_e){this.fieldInfo=i,this.binaryReaderFn=o,this.binaryWriterFn=s,this.binaryMessageSerializeFn=_,this.binaryMessageDeserializeFn=$,this.isPacked=_e},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(i,o){return o+i.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(i,o){return o-i.arrayIndexOffset_},jspb.Message.initialize=function(i,o,s,_,$,_e){if(i.wrappers_=null,o||(o=s?[s]:[]),i.messageId_=s?String(s):void 0,i.arrayIndexOffset_=s===0?-1:0,i.array=o,jspb.Message.initPivotAndExtensionObject_(i,_),i.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(i.repeatedFields=$),$)for(o=0;o<$.length;o++)(s=$[o])<i.pivot_?(s=jspb.Message.getIndex_(i,s),i.array[s]=i.array[s]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[s]=i.extensionObject_[s]||jspb.Message.EMPTY_LIST_SENTINEL_);if(_e&&_e.length)for(o=0;o<_e.length;o++)jspb.Message.computeOneofCase(i,_e[o])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(i){return jspb.Message.ASSUME_LOCAL_ARRAYS?i instanceof Array:Array.isArray(i)},jspb.Message.isExtensionObject_=function(i){return!(i===null||typeof i!="object"||jspb.Message.isArray_(i)||jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(i,o){var s=i.array.length,_=-1;if(s&&(_=s-1,s=i.array[_],jspb.Message.isExtensionObject_(s)))return i.pivot_=jspb.Message.getFieldNumber_(i,_),void(i.extensionObject_=s);-1<o?(i.pivot_=Math.max(o,jspb.Message.getFieldNumber_(i,_+1)),i.extensionObject_=null):i.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(i){var o=jspb.Message.getIndex_(i,i.pivot_);i.array[o]||(i.extensionObject_=i.array[o]={})},jspb.Message.toObjectList=function(i,o,s){for(var _=[],$=0;$<i.length;$++)_[$]=o.call(i[$],s,i[$]);return _},jspb.Message.toObjectExtension=function(i,o,s,_,$){for(var _e in s){var et=s[_e],j=_.call(i,et);if(j!=null){for(var nt in et.fieldName)if(et.fieldName.hasOwnProperty(nt))break;o[nt]=et.toObjectFn?et.isRepeated?jspb.Message.toObjectList(j,et.toObjectFn,$):et.toObjectFn($,j):j}}},jspb.Message.serializeBinaryExtensions=function(i,o,s,_){for(var $ in s){var _e=s[$],et=_e.fieldInfo;if(!_e.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var j=_.call(i,et);if(j!=null)if(et.isMessageType()){if(!_e.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");_e.binaryWriterFn.call(o,et.fieldIndex,j,_e.binaryMessageSerializeFn)}else _e.binaryWriterFn.call(o,et.fieldIndex,j)}},jspb.Message.readBinaryExtension=function(i,o,s,_,$){var _e=s[o.getFieldNumber()];if(_e){if(s=_e.fieldInfo,!_e.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(s.isMessageType()){var et=new s.ctor;_e.binaryReaderFn.call(o,et,_e.binaryMessageDeserializeFn)}else et=_e.binaryReaderFn.call(o);s.isRepeated&&!_e.isPacked?(o=_.call(i,s))?o.push(et):$.call(i,s,[et]):$.call(i,s,et)}else o.skipField()},jspb.Message.getField=function(i,o){if(o<i.pivot_){o=jspb.Message.getIndex_(i,o);var s=i.array[o];return s===jspb.Message.EMPTY_LIST_SENTINEL_?i.array[o]=[]:s}if(i.extensionObject_)return(s=i.extensionObject_[o])===jspb.Message.EMPTY_LIST_SENTINEL_?i.extensionObject_[o]=[]:s},jspb.Message.getRepeatedField=function(i,o){return jspb.Message.getField(i,o)},jspb.Message.getOptionalFloatingPointField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:+i},jspb.Message.getBooleanField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:!!i},jspb.Message.getRepeatedFloatingPointField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=+s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.getRepeatedBooleanField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=!!s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.bytesAsB64=function(i){return i==null||typeof i=="string"?i:jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array?goog.crypt.base64.encodeByteArray(i):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(i)),null)},jspb.Message.bytesAsU8=function(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(i)),null)},jspb.Message.bytesListAsB64=function(i){return jspb.Message.assertConsistentTypes_(i),i.length&&typeof i[0]!="string"?goog.array.map(i,jspb.Message.bytesAsB64):i},jspb.Message.bytesListAsU8=function(i){return jspb.Message.assertConsistentTypes_(i),!i.length||i[0]instanceof Uint8Array?i:goog.array.map(i,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(i){if(goog.DEBUG&&i&&1<i.length){var o=goog.typeOf(i[0]);goog.array.forEach(i,function(s){goog.typeOf(s)!=o&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(s)+" expected "+o)})}},jspb.Message.getFieldWithDefault=function(i,o,s){return(i=jspb.Message.getField(i,o))==null?s:i},jspb.Message.getBooleanFieldWithDefault=function(i,o,s){return(i=jspb.Message.getBooleanField(i,o))==null?s:i},jspb.Message.getFloatingPointFieldWithDefault=function(i,o,s){return(i=jspb.Message.getOptionalFloatingPointField(i,o))==null?s:i},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),o in i.wrappers_)return i.wrappers_[o];var $=jspb.Message.getField(i,o);if(!$){if(s)return;$=[],jspb.Message.setField(i,o,$)}return i.wrappers_[o]=new jspb.Map($,_)},jspb.Message.setField=function(i,o,s){return goog.asserts.assertInstanceof(i,jspb.Message),o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=s:(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[o]=s),i},jspb.Message.setProto3IntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3FloatField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3BooleanField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,!1)},jspb.Message.setProto3StringField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3BytesField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3EnumField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3StringIntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"0")},jspb.Message.setFieldIgnoringDefault_=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),s!==_?jspb.Message.setField(i,o,s):o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(i),delete i.extensionObject_[o]),i},jspb.Message.addToRepeatedField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),o=jspb.Message.getRepeatedField(i,o),_!=null?o.splice(_,0,s):o.push(s),i},jspb.Message.setOneofField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),(s=jspb.Message.computeOneofCase(i,s))&&s!==o&&_!==void 0&&(i.wrappers_&&s in i.wrappers_&&(i.wrappers_[s]=void 0),jspb.Message.setField(i,s,void 0)),jspb.Message.setField(i,o,_)},jspb.Message.computeOneofCase=function(i,o){for(var s,_,$=0;$<o.length;$++){var _e=o[$],et=jspb.Message.getField(i,_e);et!=null&&(s=_e,_=et,jspb.Message.setField(i,_e,void 0))}return s?(jspb.Message.setField(i,s,_),s):0},jspb.Message.getWrapperField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){var $=jspb.Message.getField(i,s);(_||$)&&(i.wrappers_[s]=new o($))}return i.wrappers_[s]},jspb.Message.getRepeatedWrapperField=function(i,o,s){return jspb.Message.wrapRepeatedField_(i,o,s),(o=i.wrappers_[s])==jspb.Message.EMPTY_LIST_SENTINEL_&&(o=i.wrappers_[s]=[]),o},jspb.Message.wrapRepeatedField_=function(i,o,s){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){for(var _=jspb.Message.getRepeatedField(i,s),$=[],_e=0;_e<_.length;_e++)$[_e]=new o(_[_e]);i.wrappers_[s]=$}},jspb.Message.setWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var _=s&&s.toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.setOneofWrapperField=function(i,o,s,_){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var $=_&&_.toArray();return i.wrappers_[o]=_,jspb.Message.setOneofField(i,o,s,$)},jspb.Message.setRepeatedWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={}),s=s||[];for(var _=[],$=0;$<s.length;$++)_[$]=s[$].toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.addToRepeatedWrapperField=function(i,o,s,_,$){jspb.Message.wrapRepeatedField_(i,_,o);var _e=i.wrappers_[o];return _e||(_e=i.wrappers_[o]=[]),s=s||new _,i=jspb.Message.getRepeatedField(i,o),$!=null?(_e.splice($,0,s),i.splice($,0,s.toArray())):(_e.push(s),i.push(s.toArray())),s},jspb.Message.toMap=function(i,o,s,_){for(var $={},_e=0;_e<i.length;_e++)$[o.call(i[_e])]=s?s.call(i[_e],_,i[_e]):i[_e];return $},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var i in this.wrappers_){var o=this.wrappers_[i];if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]&&o[s].toArray();else o&&o.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(i){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var o=i.fieldIndex;if(i.isRepeated){if(i.isMessageType())return this.wrappers_[o]||(this.wrappers_[o]=goog.array.map(this.extensionObject_[o]||[],function(s){return new i.ctor(s)})),this.wrappers_[o]}else if(i.isMessageType())return!this.wrappers_[o]&&this.extensionObject_[o]&&(this.wrappers_[o]=new i.ctor(this.extensionObject_[o])),this.wrappers_[o];return this.extensionObject_[o]}},jspb.Message.prototype.setExtension=function(i,o){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var s=i.fieldIndex;return i.isRepeated?(o=o||[],i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=goog.array.map(o,function(_){return _.toArray()})):this.extensionObject_[s]=o):i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=o&&o.toArray()):this.extensionObject_[s]=o,this},jspb.Message.difference=function(i,o){if(!(i instanceof o.constructor))throw Error("Messages have different types.");var s=i.toArray();o=o.toArray();var _=[],$=0,_e=s.length>o.length?s.length:o.length;for(i.getJsPbMessageId()&&(_[0]=i.getJsPbMessageId(),$=1);$<_e;$++)jspb.Message.compareFields(s[$],o[$])||(_[$]=o[$]);return new i.constructor(_)},jspb.Message.equals=function(i,o){return i==o||!(!i||!o)&&i instanceof o.constructor&&jspb.Message.compareFields(i.toArray(),o.toArray())},jspb.Message.compareExtensions=function(i,o){i=i||{},o=o||{};var s,_={};for(s in i)_[s]=0;for(s in o)_[s]=0;for(s in _)if(!jspb.Message.compareFields(i[s],o[s]))return!1;return!0},jspb.Message.compareFields=function(i,o){if(i==o)return!0;if(!goog.isObject(i)||!goog.isObject(o))return!!(typeof i=="number"&&isNaN(i)||typeof o=="number"&&isNaN(o))&&String(i)==String(o);if(i.constructor!=o.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i.constructor===Uint8Array){if(i.length!=o.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!=o[s])return!1;return!0}if(i.constructor===Array){var _=void 0,$=void 0,_e=Math.max(i.length,o.length);for(s=0;s<_e;s++){var et=i[s],j=o[s];if(et&&et.constructor==Object&&(goog.asserts.assert(_===void 0),goog.asserts.assert(s===i.length-1),_=et,et=void 0),j&&j.constructor==Object&&(goog.asserts.assert($===void 0),goog.asserts.assert(s===o.length-1),$=j,j=void 0),!jspb.Message.compareFields(et,j))return!1}return!_&&!$||(_=_||{},$=$||{},jspb.Message.compareExtensions(_,$))}if(i.constructor===Object)return jspb.Message.compareExtensions(i,o);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(i){return jspb.Message.cloneMessage(i)},jspb.Message.cloneMessage=function(i){return new i.constructor(jspb.Message.clone_(i.toArray()))},jspb.Message.copyInto=function(i,o){goog.asserts.assertInstanceof(i,jspb.Message),goog.asserts.assertInstanceof(o,jspb.Message),goog.asserts.assert(i.constructor==o.constructor,"Copy source and target message should have the same type."),i=jspb.Message.clone(i);for(var s=o.toArray(),_=i.toArray(),$=s.length=0;$<_.length;$++)s[$]=_[$];o.wrappers_=i.wrappers_,o.extensionObject_=i.extensionObject_},jspb.Message.clone_=function(i){if(Array.isArray(i)){for(var o=Array(i.length),s=0;s<i.length;s++){var _=i[s];_!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_)}return o}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)return new Uint8Array(i);for(s in o={},i)(_=i[s])!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_);return o},jspb.Message.registerMessageType=function(i,o){o.messageId=i},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(i,o){this.lo=i,this.hi=o},jspb.arith.UInt64.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(i){return new jspb.arith.UInt64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(i){return new jspb.arith.UInt64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(i,o){var s=65535&i,_=65535&o,$=o>>>16;for(o=s*_+65536*(s*$&65535)+65536*((i>>>=16)*_&65535),s=i*$+(s*$>>>16)+(i*_>>>16);4294967296<=o;)o-=4294967296,s+=1;return new jspb.arith.UInt64(o>>>0,s>>>0)},jspb.arith.UInt64.prototype.mul=function(i){var o=jspb.arith.UInt64.mul32x32(this.lo,i);return(i=jspb.arith.UInt64.mul32x32(this.hi,i)).hi=i.lo,i.lo=0,o.add(i)},jspb.arith.UInt64.prototype.div=function(i){if(i==0)return[];var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(this.lo,this.hi);i=new jspb.arith.UInt64(i,0);for(var _=new jspb.arith.UInt64(1,0);!i.msb();)i=i.leftShift(),_=_.leftShift();for(;!_.zero();)0>=i.cmp(s)&&(o=o.add(_),s=s.sub(i)),i=i.rightShift(),_=_.rightShift();return[o,s]},jspb.arith.UInt64.prototype.toString=function(){for(var i="",o=this;!o.zero();){var s=(o=o.div(10))[0];i=o[1].lo+i,o=s}return i==""&&(i="0"),i},jspb.arith.UInt64.fromString=function(i){for(var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(0,0),_=0;_<i.length;_++){if("0">i[_]||"9"<i[_])return null;var $=parseInt(i[_],10);s.lo=$,o=o.mul(10).add(s)}return o},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(i,o){this.lo=i,this.hi=o},jspb.arith.Int64.prototype.add=function(i){return new jspb.arith.Int64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(i){return new jspb.arith.Int64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var i=(2147483648&this.hi)!=0,o=new jspb.arith.UInt64(this.lo,this.hi);return i&&(o=new jspb.arith.UInt64(0,0).sub(o)),(i?"-":"")+o.toString()},jspb.arith.Int64.fromString=function(i){var o=0<i.length&&i[0]=="-";return o&&(i=i.substring(1)),(i=jspb.arith.UInt64.fromString(i))===null?null:(o&&(i=new jspb.arith.UInt64(0,0).sub(i)),new jspb.arith.Int64(i.lo,i.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var i=this.buffer_;return this.buffer_=[],i},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(i,o){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32);0<o||127<i;)this.buffer_.push(127&i|128),i=(i>>>7|o<<25)>>>0,o>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(i,o){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(i),this.writeUint32(o)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(i){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32);127<i;)this.buffer_.push(127&i|128),i>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(i){if(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),0<=i)this.writeUnsignedVarint32(i);else{for(var o=0;9>o;o++)this.buffer_.push(127&i|128),i>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((i<<1^i>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(i){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(i))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(i){var o=this;jspb.utils.splitHash64(i),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(s,_){o.writeSplitVarint64(s>>>0,_>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&256>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&65536>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-128<=i&&128>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-32768<=i&&32768>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(+i>=-jspb.BinaryConstants.TWO_TO_63&&+i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT32_MAX&&i<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(i),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT64_MAX&&i<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(i){goog.asserts.assert(typeof i=="boolean"||typeof i=="number"),this.buffer_.push(i?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(i)},jspb.BinaryEncoder.prototype.writeBytes=function(i){this.buffer_.push.apply(this.buffer_,i)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(i){jspb.utils.splitHash64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(i){jspb.utils.splitHash64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(i){for(var o=this.buffer_.length,s=0;s<i.length;s++){var _=i.charCodeAt(s);if(128>_)this.buffer_.push(_);else if(2048>_)this.buffer_.push(_>>6|192),this.buffer_.push(63&_|128);else if(65536>_)if(55296<=_&&56319>=_&&s+1<i.length){var $=i.charCodeAt(s+1);56320<=$&&57343>=$&&(_=1024*(_-55296)+$-56320+65536,this.buffer_.push(_>>18|240),this.buffer_.push(_>>12&63|128),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128),s++)}else this.buffer_.push(_>>12|224),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128)}return this.buffer_.length-o},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(i){var o=this.encoder_.end();this.blocks_.push(o),this.blocks_.push(i),this.totalLength_+=o.length+i.length},jspb.BinaryWriter.prototype.beginDelimited_=function(i){return this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),i=this.encoder_.end(),this.blocks_.push(i),this.totalLength_+=i.length,i.push(this.totalLength_),i},jspb.BinaryWriter.prototype.endDelimited_=function(i){var o=i.pop();for(o=this.totalLength_+this.encoder_.length()-o,goog.asserts.assert(0<=o);127<o;)i.push(127&o|128),o>>>=7,this.totalLength_++;i.push(o),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(i,o,s){this.appendUint8Array_(i.subarray(o,s))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(i,o,s){i!=null&&o!=null&&s!=null&&this.writeSerializedMessage(i,o,s)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var i=new Uint8Array(this.totalLength_+this.encoder_.length()),o=this.blocks_,s=o.length,_=0,$=0;$<s;$++){var _e=o[$];i.set(_e,_),_+=_e.length}return o=this.encoder_.end(),i.set(o,_),_+=o.length,goog.asserts.assert(_==i.length),this.blocks_=[i],i},jspb.BinaryWriter.prototype.getResultBase64String=function(i){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),i)},jspb.BinaryWriter.prototype.beginSubMessage=function(i){this.bookmarks_.push(this.beginDelimited_(i))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(i,o){goog.asserts.assert(1<=i&&i==Math.floor(i)),this.encoder_.writeUnsignedVarint32(8*i+o)},jspb.BinaryWriter.prototype.writeAny=function(i,o,s){var _=jspb.BinaryConstants.FieldType;switch(i){case _.DOUBLE:this.writeDouble(o,s);break;case _.FLOAT:this.writeFloat(o,s);break;case _.INT64:this.writeInt64(o,s);break;case _.UINT64:this.writeUint64(o,s);break;case _.INT32:this.writeInt32(o,s);break;case _.FIXED64:this.writeFixed64(o,s);break;case _.FIXED32:this.writeFixed32(o,s);break;case _.BOOL:this.writeBool(o,s);break;case _.STRING:this.writeString(o,s);break;case _.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case _.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case _.BYTES:this.writeBytes(o,s);break;case _.UINT32:this.writeUint32(o,s);break;case _.ENUM:this.writeEnum(o,s);break;case _.SFIXED32:this.writeSfixed32(o,s);break;case _.SFIXED64:this.writeSfixed64(o,s);break;case _.SINT32:this.writeSint32(o,s);break;case _.SINT64:this.writeSint64(o,s);break;case _.FHASH64:this.writeFixedHash64(o,s);break;case _.VHASH64:this.writeVarintHash64(o,s);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(o))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(o))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(o))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(o))},jspb.BinaryWriter.prototype.writeInt32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeInt64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeUint32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeUint64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSint32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(i,o))},jspb.BinaryWriter.prototype.writeSint64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(i,o))},jspb.BinaryWriter.prototype.writeSintHash64=function(i,o){o!=null&&this.writeZigzagVarintHash64_(i,o)},jspb.BinaryWriter.prototype.writeSint64String=function(i,o){o!=null&&this.writeZigzagVarint64String_(i,o)},jspb.BinaryWriter.prototype.writeFixed32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(o))},jspb.BinaryWriter.prototype.writeFixed64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(o))},jspb.BinaryWriter.prototype.writeFixed64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(o))},jspb.BinaryWriter.prototype.writeSfixed64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(o))},jspb.BinaryWriter.prototype.writeSfixed64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeFloat=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(o))},jspb.BinaryWriter.prototype.writeDouble=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(o))},jspb.BinaryWriter.prototype.writeBool=function(i,o){o!=null&&(goog.asserts.assert(typeof o=="boolean"||typeof o=="number"),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(o))},jspb.BinaryWriter.prototype.writeEnum=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeString=function(i,o){o!=null&&(i=this.beginDelimited_(i),this.encoder_.writeString(o),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeBytes=function(i,o){o!=null&&(o=jspb.utils.byteSourceToUint8Array(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),this.appendUint8Array_(o))},jspb.BinaryWriter.prototype.writeMessage=function(i,o,s){o!=null&&(i=this.beginDelimited_(i),s(o,this),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeMessageSet=function(i,o,s){o!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i),i=this.beginDelimited_(3),s(o,this),this.endDelimited_(i),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(i,o,s){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o,this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(o))},jspb.BinaryWriter.prototype.writeVarintHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(o))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o,s)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o,s)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT);var _=this.encoder_;jspb.utils.toZigzag64(o,s,function($,_e){_.writeSplitVarint64($>>>0,_e>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitFixed64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitZigzagVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64String_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarintHash64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFloat(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeDouble(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBool(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeEnum(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedString=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeString(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBytes(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++){var $=this.beginDelimited_(i);s(o[_],this),this.endDelimited_($)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++)this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o[_],this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixedHash64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeVarintHash64(i,o[s])},jspb.BinaryWriter.prototype.writePackedInt32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitFixed64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitVarint64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=this.encoder_,_e=0;_e<o.length;_e++)jspb.utils.toZigzag64(s(o[_e]),_(o[_e]),function(et,j){$.writeSplitVarint64(et>>>0,j>>>0)});this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.Int64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.UInt64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(o[s]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeUint32(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeUint64(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++){var s=jspb.arith.UInt64.fromString(o[i]);this.encoder_.writeSplitFixed64(s.lo,s.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeInt32(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64String(o[i])},jspb.BinaryWriter.prototype.writePackedFloat=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeFloat(o[i])},jspb.BinaryWriter.prototype.writePackedDouble=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeDouble(o[i])},jspb.BinaryWriter.prototype.writePackedBool=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),i=0;i<o.length;i++)this.encoder_.writeBool(o[i])},jspb.BinaryWriter.prototype.writePackedEnum=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeEnum(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeFixedHash64(o[i])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeVarintHash64(o[s]);this.endDelimited_(i)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(6),__webpack_require__(5).Buffer)},function(i,o,s){const{AbortController:_,AbortSignal:$}=typeof self<"u"?self:typeof window<"u"?window:void 0;i.exports=_,i.exports.AbortSignal=$,i.exports.default=_},function(i,o){var s=function(_){function $(){this.fetch=!1,this.DOMException=_.DOMException}return $.prototype=_,new $}(typeof self<"u"?self:this);(function(_){(function($){var _e="URLSearchParams"in _,et="Symbol"in _&&"iterator"in Symbol,j="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),nt="FormData"in _,ot="ArrayBuffer"in _;if(ot)var ct=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],gt=ArrayBuffer.isView||function(Pt){return Pt&&ct.indexOf(Object.prototype.toString.call(Pt))>-1};function pt(Pt){if(typeof Pt!="string"&&(Pt=String(Pt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Pt))throw new TypeError("Invalid character in header field name");return Pt.toLowerCase()}function ft(Pt){return typeof Pt!="string"&&(Pt=String(Pt)),Pt}function ut(Pt){var Bt={next:function(){var jt=Pt.shift();return{done:jt===void 0,value:jt}}};return et&&(Bt[Symbol.iterator]=function(){return Bt}),Bt}function yt(Pt){this.map={},Pt instanceof yt?Pt.forEach(function(Bt,jt){this.append(jt,Bt)},this):Array.isArray(Pt)?Pt.forEach(function(Bt){this.append(Bt[0],Bt[1])},this):Pt&&Object.getOwnPropertyNames(Pt).forEach(function(Bt){this.append(Bt,Pt[Bt])},this)}function wt(Pt){if(Pt.bodyUsed)return Promise.reject(new TypeError("Already read"));Pt.bodyUsed=!0}function Qt(Pt){return new Promise(function(Bt,jt){Pt.onload=function(){Bt(Pt.result)},Pt.onerror=function(){jt(Pt.error)}})}function It(Pt){var Bt=new FileReader,jt=Qt(Bt);return Bt.readAsArrayBuffer(Pt),jt}function xt(Pt){if(Pt.slice)return Pt.slice(0);var Bt=new Uint8Array(Pt.byteLength);return Bt.set(new Uint8Array(Pt)),Bt.buffer}function Tt(){return this.bodyUsed=!1,this._initBody=function(Pt){var Bt;this._bodyInit=Pt,Pt?typeof Pt=="string"?this._bodyText=Pt:j&&Blob.prototype.isPrototypeOf(Pt)?this._bodyBlob=Pt:nt&&FormData.prototype.isPrototypeOf(Pt)?this._bodyFormData=Pt:_e&&URLSearchParams.prototype.isPrototypeOf(Pt)?this._bodyText=Pt.toString():ot&&j&&(Bt=Pt)&&DataView.prototype.isPrototypeOf(Bt)?(this._bodyArrayBuffer=xt(Pt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ot&&(ArrayBuffer.prototype.isPrototypeOf(Pt)||gt(Pt))?this._bodyArrayBuffer=xt(Pt):this._bodyText=Pt=Object.prototype.toString.call(Pt):this._bodyText="",this.headers.get("content-type")||(typeof Pt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_e&&URLSearchParams.prototype.isPrototypeOf(Pt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},j&&(this.blob=function(){var Pt=wt(this);if(Pt)return Pt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?wt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(It)}),this.text=function(){var Pt,Bt,jt,qt=wt(this);if(qt)return qt;if(this._bodyBlob)return Pt=this._bodyBlob,Bt=new FileReader,jt=Qt(Bt),Bt.readAsText(Pt),jt;if(this._bodyArrayBuffer)return Promise.resolve(function(Zt){for(var Wt=new Uint8Array(Zt),Gt=new Array(Wt.length),Ht=0;Ht<Wt.length;Ht++)Gt[Ht]=String.fromCharCode(Wt[Ht]);return Gt.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},nt&&(this.formData=function(){return this.text().then(en)}),this.json=function(){return this.text().then(JSON.parse)},this}yt.prototype.append=function(Pt,Bt){Pt=pt(Pt),Bt=ft(Bt);var jt=this.map[Pt];this.map[Pt]=jt?jt+", "+Bt:Bt},yt.prototype.delete=function(Pt){delete this.map[pt(Pt)]},yt.prototype.get=function(Pt){return Pt=pt(Pt),this.has(Pt)?this.map[Pt]:null},yt.prototype.has=function(Pt){return this.map.hasOwnProperty(pt(Pt))},yt.prototype.set=function(Pt,Bt){this.map[pt(Pt)]=ft(Bt)},yt.prototype.forEach=function(Pt,Bt){for(var jt in this.map)this.map.hasOwnProperty(jt)&&Pt.call(Bt,this.map[jt],jt,this)},yt.prototype.keys=function(){var Pt=[];return this.forEach(function(Bt,jt){Pt.push(jt)}),ut(Pt)},yt.prototype.values=function(){var Pt=[];return this.forEach(function(Bt){Pt.push(Bt)}),ut(Pt)},yt.prototype.entries=function(){var Pt=[];return this.forEach(function(Bt,jt){Pt.push([jt,Bt])}),ut(Pt)},et&&(yt.prototype[Symbol.iterator]=yt.prototype.entries);var mt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Nt(Pt,Bt){var jt,qt,Zt=(Bt=Bt||{}).body;if(Pt instanceof Nt){if(Pt.bodyUsed)throw new TypeError("Already read");this.url=Pt.url,this.credentials=Pt.credentials,Bt.headers||(this.headers=new yt(Pt.headers)),this.method=Pt.method,this.mode=Pt.mode,this.signal=Pt.signal,Zt||Pt._bodyInit==null||(Zt=Pt._bodyInit,Pt.bodyUsed=!0)}else this.url=String(Pt);if(this.credentials=Bt.credentials||this.credentials||"same-origin",!Bt.headers&&this.headers||(this.headers=new yt(Bt.headers)),this.method=(jt=Bt.method||this.method||"GET",qt=jt.toUpperCase(),mt.indexOf(qt)>-1?qt:jt),this.mode=Bt.mode||this.mode||null,this.signal=Bt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Zt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Zt)}function en(Pt){var Bt=new FormData;return Pt.trim().split("&").forEach(function(jt){if(jt){var qt=jt.split("="),Zt=qt.shift().replace(/\+/g," "),Wt=qt.join("=").replace(/\+/g," ");Bt.append(decodeURIComponent(Zt),decodeURIComponent(Wt))}}),Bt}function rn(Pt,Bt){Bt||(Bt={}),this.type="default",this.status=Bt.status===void 0?200:Bt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Bt?Bt.statusText:"OK",this.headers=new yt(Bt.headers),this.url=Bt.url||"",this._initBody(Pt)}Nt.prototype.clone=function(){return new Nt(this,{body:this._bodyInit})},Tt.call(Nt.prototype),Tt.call(rn.prototype),rn.prototype.clone=function(){return new rn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new yt(this.headers),url:this.url})},rn.error=function(){var Pt=new rn(null,{status:0,statusText:""});return Pt.type="error",Pt};var Ft=[301,302,303,307,308];rn.redirect=function(Pt,Bt){if(Ft.indexOf(Bt)===-1)throw new RangeError("Invalid status code");return new rn(null,{status:Bt,headers:{location:Pt}})},$.DOMException=_.DOMException;try{new $.DOMException}catch{$.DOMException=function(Bt,jt){this.message=Bt,this.name=jt;var qt=Error(Bt);this.stack=qt.stack},$.DOMException.prototype=Object.create(Error.prototype),$.DOMException.prototype.constructor=$.DOMException}function St(Pt,Bt){return new Promise(function(jt,qt){var Zt=new Nt(Pt,Bt);if(Zt.signal&&Zt.signal.aborted)return qt(new $.DOMException("Aborted","AbortError"));var Wt=new XMLHttpRequest;function Gt(){Wt.abort()}Wt.onload=function(){var Ht,kt,Rt={status:Wt.status,statusText:Wt.statusText,headers:(Ht=Wt.getAllResponseHeaders()||"",kt=new yt,Ht.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(nn){var Un=nn.split(":"),Fn=Un.shift().trim();if(Fn){var En=Un.join(":").trim();kt.append(Fn,En)}}),kt)};Rt.url="responseURL"in Wt?Wt.responseURL:Rt.headers.get("X-Request-URL");var $t="response"in Wt?Wt.response:Wt.responseText;jt(new rn($t,Rt))},Wt.onerror=function(){qt(new TypeError("Network request failed"))},Wt.ontimeout=function(){qt(new TypeError("Network request failed"))},Wt.onabort=function(){qt(new $.DOMException("Aborted","AbortError"))},Wt.open(Zt.method,Zt.url,!0),Zt.credentials==="include"?Wt.withCredentials=!0:Zt.credentials==="omit"&&(Wt.withCredentials=!1),"responseType"in Wt&&j&&(Wt.responseType="blob"),Zt.headers.forEach(function(Ht,kt){Wt.setRequestHeader(kt,Ht)}),Zt.signal&&(Zt.signal.addEventListener("abort",Gt),Wt.onreadystatechange=function(){Wt.readyState===4&&Zt.signal.removeEventListener("abort",Gt)}),Wt.send(Zt._bodyInit===void 0?null:Zt._bodyInit)})}St.polyfill=!0,_.fetch||(_.fetch=St,_.Headers=yt,_.Request=Nt,_.Response=rn),$.Headers=yt,$.Request=Nt,$.Response=rn,$.fetch=St})({})})(s),delete s.fetch.polyfill,(o=s.fetch).default=s.fetch,o.fetch=s.fetch,o.Headers=s.Headers,o.Request=s.Request,o.Response=s.Response,i.exports=o},function(i,o,s){(function(_){const $=s(211),_e=s(52),et=(j,nt,ot)=>({from:et,EnvVarError:s(52),get:function(ct){if(!ct)return j;if(arguments.length>1)throw new _e("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return $(j,ct,nt||{},ot||function(){})},accessors:s(94),logger:s(225)(console.log,j.NODE_ENV)});i.exports=et(_.env)}).call(this,s(2))},function(i,o,s){var _=s(13),$=s(73),_e=s(3).LEVEL,et=i.exports=function(){var j=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:nt.highWaterMark}),this.format=nt.format,this.level=nt.level,this.handleExceptions=nt.handleExceptions,this.silent=nt.silent,nt.log&&(this.log=nt.log),nt.logv&&(this.logv=nt.logv),nt.close&&(this.close=nt.close),this.once("pipe",function(ot){j.levels=ot.levels,j.parent=ot}),this.once("unpipe",function(ot){ot===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(et,$),et.prototype._write=function(j,nt,ot){if(this.silent||j.exception===!0&&!this.handleExceptions)return ot(null);var ct=this.level||this.parent&&this.parent.level;if(!ct||this.levels[ct]>=this.levels[j[_e]]){if(j&&!this.format)return this.log(j,ot);var gt=void 0,pt=void 0;try{pt=this.format.transform(Object.assign({},j),this.format.options)}catch(ft){gt=ft}if(gt||!pt){if(ot(),gt)throw gt;return}return this.log(pt,ot)}return ot(null)},et.prototype._writev=function(j,nt){if(this.logv){var ot=j.filter(this._accept,this);return ot.length?this.logv(ot,nt):nt(null)}for(var ct=0;ct<j.length;ct++)if(this._accept(j[ct]))if(!j[ct].chunk||this.format){var gt=void 0,pt=void 0;try{pt=this.format.transform(Object.assign({},j[ct].chunk),this.format.options)}catch(ft){gt=ft}if(gt||!pt){if(j[ct].callback(),gt)throw nt(null),gt}else this.log(pt,j[ct].callback)}else this.log(j[ct].chunk,j[ct].callback);return nt(null)},et.prototype._accept=function(j){var nt=j.chunk;if(this.silent)return!1;var ot=this.level||this.parent&&this.parent.level;return!(nt.exception!==!0&&ot&&!(this.levels[ot]>=this.levels[nt[_e]])||!this.handleExceptions&&nt.exception===!0)},et.prototype._nop=function(){}},function(i,o,s){(function(_){const $=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,_e=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new nt}abort(){this.signal.dispatchEvent("abort")}},et=typeof AbortSignal=="function",j=typeof _e.AbortSignal=="function",nt=et?AbortSignal:j?_e.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(Tt){if(Tt==="abort"){this.aborted=!0;const mt={type:Tt,target:this};this.onabort(mt),this._listeners.forEach(Nt=>Nt(mt),this)}}onabort(){}addEventListener(Tt,mt){Tt==="abort"&&this._listeners.push(mt)}removeEventListener(Tt,mt){Tt==="abort"&&(this._listeners=this._listeners.filter(Nt=>Nt!==mt))}},ot=new Set,ct=(Tt,mt)=>{const Nt=`LRU_CACHE_OPTION_${Tt}`;ft(Nt)&&ut(Nt,`${Tt} option`,`options.${mt}`,xt)},gt=(Tt,mt)=>{const Nt=`LRU_CACHE_METHOD_${Tt}`;if(ft(Nt)){const{prototype:en}=xt,{get:rn}=Object.getOwnPropertyDescriptor(en,Tt);ut(Nt,`${Tt} method`,`cache.${mt}()`,rn)}},pt=(...Tt)=>{typeof _=="object"&&_&&typeof _.emitWarning=="function"?_.emitWarning(...Tt):console.error(...Tt)},ft=Tt=>!ot.has(Tt),ut=(Tt,mt,Nt,en)=>{ot.add(Tt),pt(`The ${mt} is deprecated. Please use ${Nt} instead.`,"DeprecationWarning",Tt,en)},yt=Tt=>Tt&&Tt===Math.floor(Tt)&&Tt>0&&isFinite(Tt),wt=Tt=>yt(Tt)?Tt<=Math.pow(2,8)?Uint8Array:Tt<=Math.pow(2,16)?Uint16Array:Tt<=Math.pow(2,32)?Uint32Array:Tt<=Number.MAX_SAFE_INTEGER?Qt:null:null;class Qt extends Array{constructor(mt){super(mt),this.fill(0)}}class It{constructor(mt){if(mt===0)return[];const Nt=wt(mt);this.heap=new Nt(mt),this.length=0}push(mt){this.heap[this.length++]=mt}pop(){return this.heap[--this.length]}}class xt{constructor(mt={}){const{max:Nt=0,ttl:en,ttlResolution:rn=1,ttlAutopurge:Ft,updateAgeOnGet:St,updateAgeOnHas:Pt,allowStale:Bt,dispose:jt,disposeAfter:qt,noDisposeOnSet:Zt,noUpdateTTL:Wt,maxSize:Gt=0,maxEntrySize:Ht=0,sizeCalculation:kt,fetchMethod:Rt,fetchContext:$t,noDeleteOnFetchRejection:nn,noDeleteOnStaleGet:Un}=mt,{length:Fn,maxAge:En,stale:fn}=mt instanceof xt?{}:mt;if(Nt!==0&&!yt(Nt))throw new TypeError("max option must be a nonnegative integer");const sn=Nt?wt(Nt):Array;if(!sn)throw new Error("invalid max value: "+Nt);if(this.max=Nt,this.maxSize=Gt,this.maxEntrySize=Ht||this.maxSize,this.sizeCalculation=kt||Fn,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=Rt||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=$t,!this.fetchMethod&&$t!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(Nt).fill(null),this.valList=new Array(Nt).fill(null),this.next=new sn(Nt),this.prev=new sn(Nt),this.head=0,this.tail=0,this.free=new It(Nt),this.initialFill=1,this.size=0,typeof jt=="function"&&(this.dispose=jt),typeof qt=="function"?(this.disposeAfter=qt,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!Zt,this.noUpdateTTL=!!Wt,this.noDeleteOnFetchRejection=!!nn,this.maxEntrySize!==0){if(this.maxSize!==0&&!yt(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!yt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!Bt||!!fn,this.noDeleteOnStaleGet=!!Un,this.updateAgeOnGet=!!St,this.updateAgeOnHas=!!Pt,this.ttlResolution=yt(rn)||rn===0?rn:1,this.ttlAutopurge=!!Ft,this.ttl=en||En||0,this.ttl){if(!yt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const Ct="LRU_CACHE_UNBOUNDED";ft(Ct)&&(ot.add(Ct),pt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Ct,xt))}fn&&ct("stale","allowStale"),En&&ct("maxAge","ttl"),Fn&&ct("length","sizeCalculation")}getRemainingTTL(mt){return this.has(mt,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Qt(this.max),this.starts=new Qt(this.max),this.setItemTTL=(en,rn,Ft=$.now())=>{if(this.starts[en]=rn!==0?Ft:0,this.ttls[en]=rn,rn!==0&&this.ttlAutopurge){const St=setTimeout(()=>{this.isStale(en)&&this.delete(this.keyList[en])},rn+1);St.unref&&St.unref()}},this.updateItemAge=en=>{this.starts[en]=this.ttls[en]!==0?$.now():0};let mt=0;const Nt=()=>{const en=$.now();if(this.ttlResolution>0){mt=en;const rn=setTimeout(()=>mt=0,this.ttlResolution);rn.unref&&rn.unref()}return en};this.getRemainingTTL=en=>{const rn=this.keyMap.get(en);return rn===void 0?0:this.ttls[rn]===0||this.starts[rn]===0?1/0:this.starts[rn]+this.ttls[rn]-(mt||Nt())},this.isStale=en=>this.ttls[en]!==0&&this.starts[en]!==0&&(mt||Nt())-this.starts[en]>this.ttls[en]}updateItemAge(mt){}setItemTTL(mt,Nt,en){}isStale(mt){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Qt(this.max),this.removeItemSize=mt=>{this.calculatedSize-=this.sizes[mt],this.sizes[mt]=0},this.requireSize=(mt,Nt,en,rn)=>{if(!yt(en)){if(!rn)throw new TypeError("invalid size value (must be positive integer)");if(typeof rn!="function")throw new TypeError("sizeCalculation must be a function");if(en=rn(Nt,mt),!yt(en))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return en},this.addItemSize=(mt,Nt)=>{this.sizes[mt]=Nt;const en=this.maxSize-this.sizes[mt];for(;this.calculatedSize>en;)this.evict(!0);this.calculatedSize+=this.sizes[mt]}}removeItemSize(mt){}addItemSize(mt,Nt){}requireSize(mt,Nt,en,rn){if(en||rn)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:mt=this.allowStale}={}){if(this.size)for(let Nt=this.tail;this.isValidIndex(Nt)&&(!mt&&this.isStale(Nt)||(yield Nt),Nt!==this.head);)Nt=this.prev[Nt]}*rindexes({allowStale:mt=this.allowStale}={}){if(this.size)for(let Nt=this.head;this.isValidIndex(Nt)&&(!mt&&this.isStale(Nt)||(yield Nt),Nt!==this.tail);)Nt=this.next[Nt]}isValidIndex(mt){return this.keyMap.get(this.keyList[mt])===mt}*entries(){for(const mt of this.indexes())yield[this.keyList[mt],this.valList[mt]]}*rentries(){for(const mt of this.rindexes())yield[this.keyList[mt],this.valList[mt]]}*keys(){for(const mt of this.indexes())yield this.keyList[mt]}*rkeys(){for(const mt of this.rindexes())yield this.keyList[mt]}*values(){for(const mt of this.indexes())yield this.valList[mt]}*rvalues(){for(const mt of this.rindexes())yield this.valList[mt]}[Symbol.iterator](){return this.entries()}find(mt,Nt={}){for(const en of this.indexes())if(mt(this.valList[en],this.keyList[en],this))return this.get(this.keyList[en],Nt)}forEach(mt,Nt=this){for(const en of this.indexes())mt.call(Nt,this.valList[en],this.keyList[en],this)}rforEach(mt,Nt=this){for(const en of this.rindexes())mt.call(Nt,this.valList[en],this.keyList[en],this)}get prune(){return gt("prune","purgeStale"),this.purgeStale}purgeStale(){let mt=!1;for(const Nt of this.rindexes({allowStale:!0}))this.isStale(Nt)&&(this.delete(this.keyList[Nt]),mt=!0);return mt}dump(){const mt=[];for(const Nt of this.indexes({allowStale:!0})){const en=this.keyList[Nt],rn=this.valList[Nt],Ft={value:this.isBackgroundFetch(rn)?rn.__staleWhileFetching:rn};if(this.ttls){Ft.ttl=this.ttls[Nt];const St=$.now()-this.starts[Nt];Ft.start=Math.floor(Date.now()-St)}this.sizes&&(Ft.size=this.sizes[Nt]),mt.unshift([en,Ft])}return mt}load(mt){this.clear();for(const[Nt,en]of mt){if(en.start){const rn=Date.now()-en.start;en.start=$.now()-rn}this.set(Nt,en.value,en)}}dispose(mt,Nt,en){}set(mt,Nt,{ttl:en=this.ttl,start:rn,noDisposeOnSet:Ft=this.noDisposeOnSet,size:St=0,sizeCalculation:Pt=this.sizeCalculation,noUpdateTTL:Bt=this.noUpdateTTL}={}){if(St=this.requireSize(mt,Nt,St,Pt),this.maxEntrySize&&St>this.maxEntrySize)return this;let jt=this.size===0?void 0:this.keyMap.get(mt);if(jt===void 0)jt=this.newIndex(),this.keyList[jt]=mt,this.valList[jt]=Nt,this.keyMap.set(mt,jt),this.next[this.tail]=jt,this.prev[jt]=this.tail,this.tail=jt,this.size++,this.addItemSize(jt,St),Bt=!1;else{const qt=this.valList[jt];Nt!==qt&&(this.isBackgroundFetch(qt)?qt.__abortController.abort():Ft||(this.dispose(qt,mt,"set"),this.disposeAfter&&this.disposed.push([qt,mt,"set"])),this.removeItemSize(jt),this.valList[jt]=Nt,this.addItemSize(jt,St)),this.moveToTail(jt)}if(en===0||this.ttl!==0||this.ttls||this.initializeTTLTracking(),Bt||this.setItemTTL(jt,en,rn),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const mt=this.valList[this.head];return this.evict(!0),mt}}evict(mt){const Nt=this.head,en=this.keyList[Nt],rn=this.valList[Nt];return this.isBackgroundFetch(rn)?rn.__abortController.abort():(this.dispose(rn,en,"evict"),this.disposeAfter&&this.disposed.push([rn,en,"evict"])),this.removeItemSize(Nt),mt&&(this.keyList[Nt]=null,this.valList[Nt]=null,this.free.push(Nt)),this.head=this.next[Nt],this.keyMap.delete(en),this.size--,Nt}has(mt,{updateAgeOnHas:Nt=this.updateAgeOnHas}={}){const en=this.keyMap.get(mt);return en!==void 0&&!this.isStale(en)&&(Nt&&this.updateItemAge(en),!0)}peek(mt,{allowStale:Nt=this.allowStale}={}){const en=this.keyMap.get(mt);if(en!==void 0&&(Nt||!this.isStale(en))){const rn=this.valList[en];return this.isBackgroundFetch(rn)?rn.__staleWhileFetching:rn}}backgroundFetch(mt,Nt,en,rn){const Ft=Nt===void 0?void 0:this.valList[Nt];if(this.isBackgroundFetch(Ft))return Ft;const St=new _e,Pt={signal:St.signal,options:en,context:rn},Bt=new Promise(jt=>jt(this.fetchMethod(mt,Ft,Pt))).then(jt=>(St.signal.aborted||this.set(mt,jt,Pt.options),jt),jt=>{if(this.valList[Nt]===Bt&&(!en.noDeleteOnFetchRejection||Bt.__staleWhileFetching===void 0?this.delete(mt):this.valList[Nt]=Bt.__staleWhileFetching),Bt.__returned===Bt)throw jt});return Bt.__abortController=St,Bt.__staleWhileFetching=Ft,Bt.__returned=null,Nt===void 0?(this.set(mt,Bt,Pt.options),Nt=this.keyMap.get(mt)):this.valList[Nt]=Bt,Bt}isBackgroundFetch(mt){return mt&&typeof mt=="object"&&typeof mt.then=="function"&&Object.prototype.hasOwnProperty.call(mt,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(mt,"__returned")&&(mt.__returned===mt||mt.__returned===null)}async fetch(mt,{allowStale:Nt=this.allowStale,updateAgeOnGet:en=this.updateAgeOnGet,noDeleteOnStaleGet:rn=this.noDeleteOnStaleGet,ttl:Ft=this.ttl,noDisposeOnSet:St=this.noDisposeOnSet,size:Pt=0,sizeCalculation:Bt=this.sizeCalculation,noUpdateTTL:jt=this.noUpdateTTL,noDeleteOnFetchRejection:qt=this.noDeleteOnFetchRejection,fetchContext:Zt=this.fetchContext,forceRefresh:Wt=!1}={}){if(!this.fetchMethod)return this.get(mt,{allowStale:Nt,updateAgeOnGet:en,noDeleteOnStaleGet:rn});const Gt={allowStale:Nt,updateAgeOnGet:en,noDeleteOnStaleGet:rn,ttl:Ft,noDisposeOnSet:St,size:Pt,sizeCalculation:Bt,noUpdateTTL:jt,noDeleteOnFetchRejection:qt};let Ht=this.keyMap.get(mt);if(Ht===void 0){const kt=this.backgroundFetch(mt,Ht,Gt,Zt);return kt.__returned=kt}{const kt=this.valList[Ht];if(this.isBackgroundFetch(kt))return Nt&&kt.__staleWhileFetching!==void 0?kt.__staleWhileFetching:kt.__returned=kt;if(!Wt&&!this.isStale(Ht))return this.moveToTail(Ht),en&&this.updateItemAge(Ht),kt;const Rt=this.backgroundFetch(mt,Ht,Gt,Zt);return Nt&&Rt.__staleWhileFetching!==void 0?Rt.__staleWhileFetching:Rt.__returned=Rt}}get(mt,{allowStale:Nt=this.allowStale,updateAgeOnGet:en=this.updateAgeOnGet,noDeleteOnStaleGet:rn=this.noDeleteOnStaleGet}={}){const Ft=this.keyMap.get(mt);if(Ft!==void 0){const St=this.valList[Ft],Pt=this.isBackgroundFetch(St);return this.isStale(Ft)?Pt?Nt?St.__staleWhileFetching:void 0:(rn||this.delete(mt),Nt?St:void 0):Pt?void 0:(this.moveToTail(Ft),en&&this.updateItemAge(Ft),St)}}connect(mt,Nt){this.prev[Nt]=mt,this.next[mt]=Nt}moveToTail(mt){mt!==this.tail&&(mt===this.head?this.head=this.next[mt]:this.connect(this.prev[mt],this.next[mt]),this.connect(this.tail,mt),this.tail=mt)}get del(){return gt("del","delete"),this.delete}delete(mt){let Nt=!1;if(this.size!==0){const en=this.keyMap.get(mt);if(en!==void 0)if(Nt=!0,this.size===1)this.clear();else{this.removeItemSize(en);const rn=this.valList[en];this.isBackgroundFetch(rn)?rn.__abortController.abort():(this.dispose(rn,mt,"delete"),this.disposeAfter&&this.disposed.push([rn,mt,"delete"])),this.keyMap.delete(mt),this.keyList[en]=null,this.valList[en]=null,en===this.tail?this.tail=this.prev[en]:en===this.head?this.head=this.next[en]:(this.next[this.prev[en]]=this.next[en],this.prev[this.next[en]]=this.prev[en]),this.size--,this.free.push(en)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return Nt}clear(){for(const mt of this.rindexes({allowStale:!0})){const Nt=this.valList[mt];if(this.isBackgroundFetch(Nt))Nt.__abortController.abort();else{const en=this.keyList[mt];this.dispose(Nt,en,"delete"),this.disposeAfter&&this.disposed.push([Nt,en,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return gt("reset","clear"),this.clear}get length(){return((mt,Nt)=>{const en=`LRU_CACHE_PROPERTY_${mt}`;if(ft(en)){const{prototype:rn}=xt,{get:Ft}=Object.getOwnPropertyDescriptor(rn,mt);ut(en,`${mt} property`,`cache.${Nt}`,Ft)}})("length","size"),this.size}static get AbortController(){return _e}static get AbortSignal(){return nt}}i.exports=xt}).call(this,s(2))},function(i,o,s){var _=s(41).Colorizer;i.exports=function($){return _.addColors($.colors||$),$}},function(i,o,s){var _={};i.exports=_,_.themes={};var $=s(13),_e=_.styles=s(109),et=Object.defineProperties,j=new RegExp(/[\r\n]+/g);_.supportsColor=s(110).supportsColor,_.enabled===void 0&&(_.enabled=_.supportsColor()!==!1),_.enable=function(){_.enabled=!0},_.disable=function(){_.enabled=!1},_.stripColors=_.strip=function(wt){return(""+wt).replace(/\x1B\[\d+m/g,"")},_.stylize=function(wt,Qt){return _.enabled?_e[Qt].open+wt+_e[Qt].close:wt+""};var nt=/[|\\{}()[\]^$+*?.]/g;function ot(wt){var Qt=function It(){return ft.apply(It,arguments)};return Qt._styles=wt,Qt.__proto__=pt,Qt}var ct,gt=(ct={},_e.grey=_e.gray,Object.keys(_e).forEach(function(wt){_e[wt].closeRe=new RegExp(function(Qt){if(typeof Qt!="string")throw new TypeError("Expected a string");return Qt.replace(nt,"\\$&")}(_e[wt].close),"g"),ct[wt]={get:function(){return ot(this._styles.concat(wt))}}}),ct),pt=et(function(){},gt);function ft(){var wt=Array.prototype.slice.call(arguments),Qt=wt.map(function(Nt){return Nt!==void 0&&Nt.constructor===String?Nt:$.inspect(Nt)}).join(" ");if(!_.enabled||!Qt)return Qt;for(var It=Qt.indexOf(`
`)!=-1,xt=this._styles,Tt=xt.length;Tt--;){var mt=_e[xt[Tt]];Qt=mt.open+Qt.replace(mt.closeRe,mt.open)+mt.close,It&&(Qt=Qt.replace(j,function(Nt){return mt.close+Nt+mt.open}))}return Qt}_.setTheme=function(wt){if(typeof wt!="string")for(var Qt in wt)(function(It){_[It]=function(xt){if(typeof wt[It]=="object"){var Tt=xt;for(var mt in wt[It])Tt=_[wt[It][mt]](Tt);return Tt}return _[wt[It]](xt)}})(Qt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var ut=function(wt,Qt){var It=Qt.split("");return(It=It.map(wt)).join("")};for(var yt in _.trap=s(112),_.zalgo=s(113),_.maps={},_.maps.america=s(114)(_),_.maps.zebra=s(115)(_),_.maps.rainbow=s(116)(_),_.maps.random=s(117)(_),_.maps)(function(wt){_[wt]=function(Qt){return ut(_.maps[wt],Qt)}})(yt);et(_,function(){var wt={};return Object.keys(gt).forEach(function(Qt){wt[Qt]={get:function(){return ot([Qt])}}}),wt}())},function(i,o){i.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(s,_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}},function(i,o){var s={};i.exports=s;var _={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(_).forEach(function($){var _e=_[$],et=s[$]=[];et.open="\x1B["+_e[0]+"m",et.close="\x1B["+_e[1]+"m"})},function(i,o,s){(function(_){var $=s(18),_e=s(111),et=_.env,j=void 0;function nt(ot){return function(ct){return ct!==0&&{level:ct,hasBasic:!0,has256:ct>=2,has16m:ct>=3}}(function(ct){if(j===!1)return 0;if(_e("color=16m")||_e("color=full")||_e("color=truecolor"))return 3;if(_e("color=256"))return 2;if(ct&&!ct.isTTY&&j!==!0)return 0;var gt=j?1:0;if(_.platform==="win32"){var pt=$.release().split(".");return Number(_.versions.node.split(".")[0])>=8&&Number(pt[0])>=10&&Number(pt[2])>=10586?Number(pt[2])>=14931?3:2:1}return"CI"in et?["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(ft){return ft in et})||et.CI_NAME==="codeship"?1:gt:"TEAMCITY_VERSION"in et?/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(et.TEAMCITY_VERSION)?1:0:"TERM_PROGRAM"in et?(parseInt("445".split(".")[0],10),2):/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in et?1:gt}(ot))}_e("no-color")||_e("no-colors")||_e("color=false")?j=!1:(_e("color")||_e("colors")||_e("color=true")||_e("color=always"))&&(j=!0),"FORCE_COLOR"in et&&(j=et.FORCE_COLOR.length===0||parseInt(et.FORCE_COLOR,10)!==0),i.exports={supportsColor:nt,stdout:nt(_.stdout),stderr:nt(_.stderr)}}).call(this,s(2))},function(i,o,s){(function(_){i.exports=function($,_e){var et=(_e=_e||_.argv).indexOf("--"),j=/^-{1,2}/.test($)?"":"--",nt=_e.indexOf(j+$);return nt!==-1&&(et===-1||nt<et)}}).call(this,s(2))},function(i,o){i.exports=function(s,_){var $="";s=(s=s||"Run the trap, drop the bass").split("");var _e={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return s.forEach(function(et){et=et.toLowerCase();var j=_e[et]||[" "],nt=Math.floor(Math.random()*j.length);$+=_e[et]!==void 0?_e[et][nt]:et}),$}},function(i,o){i.exports=function(s,_){s=s||"   he is here   ";var $={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},_e=[].concat($.up,$.down,$.mid);function et(nt){return Math.floor(Math.random()*nt)}function j(nt){var ot=!1;return _e.filter(function(ct){ot=ct===nt}),ot}return function(nt,ot){var ct,gt,pt="";for(gt in(ot=ot||{}).up=ot.up===void 0||ot.up,ot.mid=ot.mid===void 0||ot.mid,ot.down=ot.down===void 0||ot.down,ot.size=ot.size!==void 0?ot.size:"maxi",nt=nt.split(""))if(!j(gt)){switch(pt+=nt[gt],ct={up:0,down:0,mid:0},ot.size){case"mini":ct.up=et(8),ct.mid=et(2),ct.down=et(8);break;case"maxi":ct.up=et(16)+3,ct.mid=et(4)+1,ct.down=et(64)+3;break;default:ct.up=et(8)+1,ct.mid=et(6)/2,ct.down=et(8)+1}var ft=["up","mid","down"];for(var ut in ft)for(var yt=ft[ut],wt=0;wt<=ct[yt];wt++)ot[yt]&&(pt+=$[yt][et($[yt].length)])}return pt}(s,_)}},function(i,o){i.exports=function(s){return function(_,$,_e){if(_===" ")return _;switch($%3){case 0:return s.red(_);case 1:return s.white(_);case 2:return s.blue(_)}}}},function(i,o){i.exports=function(s){return function(_,$,_e){return $%2==0?_:s.inverse(_)}}},function(i,o){i.exports=function(s){var _=["red","yellow","green","blue","magenta"];return function($,_e,et){return $===" "?$:s[_[_e++%_.length]]($)}}},function(i,o){i.exports=function(s){var _=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function($,_e,et){return $===" "?$:s[_[Math.round(Math.random()*(_.length-2))]]($)}}},function(i,o,s){Object.defineProperty(o,"cli",{value:s(119)}),Object.defineProperty(o,"npm",{value:s(120)}),Object.defineProperty(o,"syslog",{value:s(121)})},function(i,o,s){o.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},o.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(i,o,s){o.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},o.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(i,o,s){o.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},o.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(i,o,s){var _=s(12);i.exports=_(function($){return $.message="	".concat($.message),$})},function(i,o,s){function _(gt,pt){if(!(gt instanceof pt))throw new TypeError("Cannot call a class as a function")}function $(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var _e=s(41).Colorizer,et=s(60).Padder,j=s(3),nt=j.configs,ot=j.MESSAGE,ct=function(){function gt(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,gt),ut.levels||(ut.levels=nt.npm.levels),this.colorizer=new _e(ut),this.padder=new et(ut),this.options=ut}var pt,ft;return pt=gt,(ft=[{key:"transform",value:function(ut,yt){return this.colorizer.transform(this.padder.transform(ut,yt),yt),ut[ot]="".concat(ut.level,":").concat(ut.message),ut}}])&&$(pt.prototype,ft),gt}();i.exports=function(gt){return new ct(gt)},i.exports.Format=ct},function(i,o,s){var _=s(12);function $(et){if(et.every(_e))return function(j){for(var nt=j,ot=0;ot<et.length;ot++)if(!(nt=et[ot].transform(nt,et[ot].options)))return!1;return nt}}function _e(et){if(typeof et.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}i.exports=function(){for(var et=arguments.length,j=new Array(et),nt=0;nt<et;nt++)j[nt]=arguments[nt];var ot=_($(j)),ct=ot();return ct.Format=ot.Format,ct},i.exports.cascade=$},function(i,o,s){(function(_){var $=s(12),_e=s(3).MESSAGE,et=s(35);function j(nt,ot){return ot instanceof _?ot.toString("base64"):typeof ot=="bigint"?ot.toString():ot}i.exports=$(function(nt){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return nt[_e]=(ot.stable?et.stableStringify:et)(nt,ot.replacer||j,ot.space),nt})}).call(this,s(5).Buffer)},function(i,o,s){o.byteLength=function(gt){var pt=ot(gt),ft=pt[0],ut=pt[1];return 3*(ft+ut)/4-ut},o.toByteArray=function(gt){for(var pt,ft=ot(gt),ut=ft[0],yt=ft[1],wt=new _e(function(Tt,mt,Nt){return 3*(mt+Nt)/4-Nt}(0,ut,yt)),Qt=0,It=yt>0?ut-4:ut,xt=0;xt<It;xt+=4)pt=$[gt.charCodeAt(xt)]<<18|$[gt.charCodeAt(xt+1)]<<12|$[gt.charCodeAt(xt+2)]<<6|$[gt.charCodeAt(xt+3)],wt[Qt++]=pt>>16&255,wt[Qt++]=pt>>8&255,wt[Qt++]=255&pt;return yt===2&&(pt=$[gt.charCodeAt(xt)]<<2|$[gt.charCodeAt(xt+1)]>>4,wt[Qt++]=255&pt),yt===1&&(pt=$[gt.charCodeAt(xt)]<<10|$[gt.charCodeAt(xt+1)]<<4|$[gt.charCodeAt(xt+2)]>>2,wt[Qt++]=pt>>8&255,wt[Qt++]=255&pt),wt},o.fromByteArray=function(gt){for(var pt,ft=gt.length,ut=ft%3,yt=[],wt=0,Qt=ft-ut;wt<Qt;wt+=16383)yt.push(ct(gt,wt,wt+16383>Qt?Qt:wt+16383));return ut===1?(pt=gt[ft-1],yt.push(_[pt>>2]+_[pt<<4&63]+"==")):ut===2&&(pt=(gt[ft-2]<<8)+gt[ft-1],yt.push(_[pt>>10]+_[pt>>4&63]+_[pt<<2&63]+"=")),yt.join("")};for(var _=[],$=[],_e=typeof Uint8Array<"u"?Uint8Array:Array,et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,nt=et.length;j<nt;++j)_[j]=et[j],$[et.charCodeAt(j)]=j;function ot(gt){var pt=gt.length;if(pt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ft=gt.indexOf("=");return ft===-1&&(ft=pt),[ft,ft===pt?0:4-ft%4]}function ct(gt,pt,ft){for(var ut,yt,wt=[],Qt=pt;Qt<ft;Qt+=3)ut=(gt[Qt]<<16&16711680)+(gt[Qt+1]<<8&65280)+(255&gt[Qt+2]),wt.push(_[(yt=ut)>>18&63]+_[yt>>12&63]+_[yt>>6&63]+_[63&yt]);return wt.join("")}$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63},function(i,o){o.read=function(s,_,$,_e,et){var j,nt,ot=8*et-_e-1,ct=(1<<ot)-1,gt=ct>>1,pt=-7,ft=$?et-1:0,ut=$?-1:1,yt=s[_+ft];for(ft+=ut,j=yt&(1<<-pt)-1,yt>>=-pt,pt+=ot;pt>0;j=256*j+s[_+ft],ft+=ut,pt-=8);for(nt=j&(1<<-pt)-1,j>>=-pt,pt+=_e;pt>0;nt=256*nt+s[_+ft],ft+=ut,pt-=8);if(j===0)j=1-gt;else{if(j===ct)return nt?NaN:1/0*(yt?-1:1);nt+=Math.pow(2,_e),j-=gt}return(yt?-1:1)*nt*Math.pow(2,j-_e)},o.write=function(s,_,$,_e,et,j){var nt,ot,ct,gt=8*j-et-1,pt=(1<<gt)-1,ft=pt>>1,ut=et===23?Math.pow(2,-24)-Math.pow(2,-77):0,yt=_e?0:j-1,wt=_e?1:-1,Qt=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(ot=isNaN(_)?1:0,nt=pt):(nt=Math.floor(Math.log(_)/Math.LN2),_*(ct=Math.pow(2,-nt))<1&&(nt--,ct*=2),(_+=nt+ft>=1?ut/ct:ut*Math.pow(2,1-ft))*ct>=2&&(nt++,ct/=2),nt+ft>=pt?(ot=0,nt=pt):nt+ft>=1?(ot=(_*ct-1)*Math.pow(2,et),nt+=ft):(ot=_*Math.pow(2,ft-1)*Math.pow(2,et),nt=0));et>=8;s[$+yt]=255&ot,yt+=wt,ot/=256,et-=8);for(nt=nt<<et|ot,gt+=et;gt>0;s[$+yt]=255&nt,yt+=wt,nt/=256,gt-=8);s[$+yt-wt]|=128*Qt}},function(i,o,s){var _=s(12);i.exports=_(function($,_e){return _e.message?($.message="[".concat(_e.label,"] ").concat($.message),$):($.label=_e.label,$)})},function(i,o,s){var _=s(12),$=s(3).MESSAGE,_e=s(35);i.exports=_(function(et){var j={};return et.message&&(j["@message"]=et.message,delete et.message),et.timestamp&&(j["@timestamp"]=et.timestamp,delete et.timestamp),j["@fields"]=et,et[$]=_e(j),et})},function(i,o,s){var _=s(12);function $(et,j,nt){var ot,ct,gt,pt=j.reduce(function(ut,yt){return ut[yt]=et[yt],delete et[yt],ut},{}),ft=Object.keys(et).reduce(function(ut,yt){return ut[yt]=et[yt],delete et[yt],ut},{});return Object.assign(et,pt,(gt=ft,(ct=nt)in(ot={})?Object.defineProperty(ot,ct,{value:gt,enumerable:!0,configurable:!0,writable:!0}):ot[ct]=gt,ot)),et}function _e(et,j,nt){return et[nt]=j.reduce(function(ot,ct){return ot[ct]=et[ct],delete et[ct],ot},{}),et}i.exports=_(function(et){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt="metadata";j.key&&(nt=j.key);var ot=[];return j.fillExcept||j.fillWith||(ot.push("level"),ot.push("message")),j.fillExcept&&(ot=j.fillExcept),ot.length>0?$(et,ot,nt):j.fillWith?_e(et,j.fillWith,nt):et})},function(i,o,s){var _=s(13).inspect,$=s(12),_e=s(3),et=_e.LEVEL,j=_e.MESSAGE,nt=_e.SPLAT;i.exports=$(function(ot){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},gt=Object.assign({},ot);return delete gt[et],delete gt[j],delete gt[nt],ot[j]=_(gt,!1,ct.depth||null,ct.colorize),ot})},function(i,o,s){function _(et,j){for(var nt=0;nt<j.length;nt++){var ot=j[nt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(et,ot.key,ot)}}var $=s(3).MESSAGE,_e=function(){function et(ot){(function(ct,gt){if(!(ct instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),this.template=ot}var j,nt;return j=et,(nt=[{key:"transform",value:function(ot){return ot[$]=this.template(ot),ot}}])&&_(j.prototype,nt),et}();i.exports=function(et){return new _e(et)},i.exports.Printf=i.exports.Format=_e},function(i,o,s){var _=s(12),$=s(3).MESSAGE,_e=s(35);i.exports=_(function(et){var j=_e(Object.assign({},et,{level:void 0,message:void 0,splat:void 0})),nt=et.padding&&et.padding[et.level]||"";return et[$]=j!=="{}"?"".concat(et.level,":").concat(nt," ").concat(et.message," ").concat(j):"".concat(et.level,":").concat(nt," ").concat(et.message),et})},function(i,o,s){function _(gt){return function(pt){if(Array.isArray(pt))return $(pt)}(gt)||function(pt){if(typeof Symbol<"u"&&Symbol.iterator in Object(pt))return Array.from(pt)}(gt)||function(pt,ft){if(pt){if(typeof pt=="string")return $(pt,ft);var ut=Object.prototype.toString.call(pt).slice(8,-1);if(ut==="Object"&&pt.constructor&&(ut=pt.constructor.name),ut==="Map"||ut==="Set")return Array.from(pt);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return $(pt,ft)}}(gt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(gt,pt){(pt==null||pt>gt.length)&&(pt=gt.length);for(var ft=0,ut=new Array(pt);ft<pt;ft++)ut[ft]=gt[ft];return ut}function _e(gt,pt){for(var ft=0;ft<pt.length;ft++){var ut=pt[ft];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(gt,ut.key,ut)}}var et=s(13),j=s(3).SPLAT,nt=/%[scdjifoO%]/g,ot=/%%/g,ct=function(){function gt(ut){(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")})(this,gt),this.options=ut}var pt,ft;return pt=gt,(ft=[{key:"_splat",value:function(ut,yt){var wt=ut.message,Qt=ut[j]||ut.splat||[],It=wt.match(ot),xt=It&&It.length||0,Tt=yt.length-xt-Qt.length,mt=Tt<0?Qt.splice(Tt,-1*Tt):[],Nt=mt.length;if(Nt)for(var en=0;en<Nt;en++)Object.assign(ut,mt[en]);return ut.message=et.format.apply(et,[wt].concat(_(Qt))),ut}},{key:"transform",value:function(ut){var yt=ut.message,wt=ut[j]||ut.splat;if(!wt||!wt.length)return ut;var Qt=yt&&yt.match&&yt.match(nt);if(!Qt&&(wt||wt.length)){var It=wt.length>1?wt.splice(0):wt,xt=It.length;if(xt)for(var Tt=0;Tt<xt;Tt++)Object.assign(ut,It[Tt]);return ut}return Qt?this._splat(ut,Qt):ut}}])&&_e(pt.prototype,ft),gt}();i.exports=function(gt){return new ct(gt)}},function(i,o,s){var _=s(136),$=s(12);i.exports=$(function(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return et.format&&(_e.timestamp=typeof et.format=="function"?et.format():_.format(new Date,et.format)),_e.timestamp||(_e.timestamp=new Date().toISOString()),et.alias&&(_e[et.alias]=_e.timestamp),_e})},function(i,o,s){s.r(o),s.d(o,"assign",function(){return nt}),s.d(o,"format",function(){return St}),s.d(o,"parse",function(){return Pt}),s.d(o,"defaultI18n",function(){return pt}),s.d(o,"setGlobalDateI18n",function(){return ut}),s.d(o,"setGlobalDateMasks",function(){return Ft});var _=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,$="[^\\s]+",_e=/\[([^]*?)\]/gm;function et(jt,qt){for(var Zt=[],Wt=0,Gt=jt.length;Wt<Gt;Wt++)Zt.push(jt[Wt].substr(0,qt));return Zt}var j=function(jt){return function(qt,Zt){var Wt=Zt[jt].map(function(Gt){return Gt.toLowerCase()}).indexOf(qt.toLowerCase());return Wt>-1?Wt:null}};function nt(jt){for(var qt=[],Zt=1;Zt<arguments.length;Zt++)qt[Zt-1]=arguments[Zt];for(var Wt=0,Gt=qt;Wt<Gt.length;Wt++){var Ht=Gt[Wt];for(var kt in Ht)jt[kt]=Ht[kt]}return jt}var ot=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"],gt=et(ct,3),pt={dayNamesShort:et(ot,3),dayNames:ot,monthNamesShort:gt,monthNames:ct,amPm:["am","pm"],DoFn:function(jt){return jt+["th","st","nd","rd"][jt%10>3?0:(jt-jt%10!=10?1:0)*jt%10]}},ft=nt({},pt),ut=function(jt){return ft=nt(ft,jt)},yt=function(jt){return jt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},wt=function(jt,qt){for(qt===void 0&&(qt=2),jt=String(jt);jt.length<qt;)jt="0"+jt;return jt},Qt={D:function(jt){return String(jt.getDate())},DD:function(jt){return wt(jt.getDate())},Do:function(jt,qt){return qt.DoFn(jt.getDate())},d:function(jt){return String(jt.getDay())},dd:function(jt){return wt(jt.getDay())},ddd:function(jt,qt){return qt.dayNamesShort[jt.getDay()]},dddd:function(jt,qt){return qt.dayNames[jt.getDay()]},M:function(jt){return String(jt.getMonth()+1)},MM:function(jt){return wt(jt.getMonth()+1)},MMM:function(jt,qt){return qt.monthNamesShort[jt.getMonth()]},MMMM:function(jt,qt){return qt.monthNames[jt.getMonth()]},YY:function(jt){return wt(String(jt.getFullYear()),4).substr(2)},YYYY:function(jt){return wt(jt.getFullYear(),4)},h:function(jt){return String(jt.getHours()%12||12)},hh:function(jt){return wt(jt.getHours()%12||12)},H:function(jt){return String(jt.getHours())},HH:function(jt){return wt(jt.getHours())},m:function(jt){return String(jt.getMinutes())},mm:function(jt){return wt(jt.getMinutes())},s:function(jt){return String(jt.getSeconds())},ss:function(jt){return wt(jt.getSeconds())},S:function(jt){return String(Math.round(jt.getMilliseconds()/100))},SS:function(jt){return wt(Math.round(jt.getMilliseconds()/10),2)},SSS:function(jt){return wt(jt.getMilliseconds(),3)},a:function(jt,qt){return jt.getHours()<12?qt.amPm[0]:qt.amPm[1]},A:function(jt,qt){return jt.getHours()<12?qt.amPm[0].toUpperCase():qt.amPm[1].toUpperCase()},ZZ:function(jt){var qt=jt.getTimezoneOffset();return(qt>0?"-":"+")+wt(100*Math.floor(Math.abs(qt)/60)+Math.abs(qt)%60,4)},Z:function(jt){var qt=jt.getTimezoneOffset();return(qt>0?"-":"+")+wt(Math.floor(Math.abs(qt)/60),2)+":"+wt(Math.abs(qt)%60,2)}},It=function(jt){return+jt-1},xt=[null,"[1-9]\\d?"],Tt=[null,$],mt=["isPm",$,function(jt,qt){var Zt=jt.toLowerCase();return Zt===qt.amPm[0]?0:Zt===qt.amPm[1]?1:null}],Nt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(jt){var qt=(jt+"").match(/([+-]|\d\d)/gi);if(qt){var Zt=60*+qt[1]+parseInt(qt[2],10);return qt[0]==="+"?Zt:-Zt}return 0}],en={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+$,function(jt){return parseInt(jt,10)}],M:["month","[1-9]\\d?",It],MM:["month","\\d\\d",It],YY:["year","\\d\\d",function(jt){var qt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+jt>68?qt-1:qt)+jt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(jt){return 100*+jt}],SS:["millisecond","\\d\\d",function(jt){return 10*+jt}],SSS:["millisecond","\\d{3}"],d:xt,dd:xt,ddd:Tt,dddd:Tt,MMM:["month",$,j("monthNamesShort")],MMMM:["month",$,j("monthNames")],a:mt,A:mt,ZZ:Nt,Z:Nt},rn={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ft=function(jt){return nt(rn,jt)},St=function(jt,qt,Zt){if(qt===void 0&&(qt=rn.default),Zt===void 0&&(Zt={}),typeof jt=="number"&&(jt=new Date(jt)),Object.prototype.toString.call(jt)!=="[object Date]"||isNaN(jt.getTime()))throw new Error("Invalid Date pass to format");var Wt=[];qt=(qt=rn[qt]||qt).replace(_e,function(Ht,kt){return Wt.push(kt),"@@@"});var Gt=nt(nt({},ft),Zt);return(qt=qt.replace(_,function(Ht){return Qt[Ht](jt,Gt)})).replace(/@@@/g,function(){return Wt.shift()})};function Pt(jt,qt,Zt){if(Zt===void 0&&(Zt={}),typeof qt!="string")throw new Error("Invalid format in fecha parse");if(qt=rn[qt]||qt,jt.length>1e3)return null;var Wt={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Gt=[],Ht=[],kt=qt.replace(_e,function(mn,xn){return Ht.push(yt(xn)),"@@@"}),Rt={},$t={};kt=yt(kt).replace(_,function(mn){var xn=en[mn],On=xn[0],nr=xn[1],Nr=xn[3];if(Rt[On])throw new Error("Invalid format. "+On+" specified twice in format");return Rt[On]=!0,Nr&&($t[Nr]=!0),Gt.push(xn),"("+nr+")"}),Object.keys($t).forEach(function(mn){if(!Rt[mn])throw new Error("Invalid format. "+mn+" is required in specified format")}),kt=kt.replace(/@@@/g,function(){return Ht.shift()});var nn=jt.match(new RegExp(kt,"i"));if(!nn)return null;for(var Un=nt(nt({},ft),Zt),Fn=1;Fn<nn.length;Fn++){var En=Gt[Fn-1],fn=En[0],sn=En[2],Ct=sn?sn(nn[Fn],Un):+nn[Fn];if(Ct==null)return null;Wt[fn]=Ct}Wt.isPm===1&&Wt.hour!=null&&+Wt.hour!=12?Wt.hour=+Wt.hour+12:Wt.isPm===0&&+Wt.hour==12&&(Wt.hour=0);for(var Dt=new Date(Wt.year,Wt.month,Wt.day,Wt.hour,Wt.minute,Wt.second,Wt.millisecond),Xt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],_n=(Fn=0,Xt.length);Fn<_n;Fn++)if(Rt[Xt[Fn][0]]&&Wt[Xt[Fn][0]]!==Dt[Xt[Fn][1]]())return null;return Wt.timezoneOffset==null?Dt:new Date(Date.UTC(Wt.year,Wt.month,Wt.day,Wt.hour,Wt.minute-Wt.timezoneOffset,Wt.second,Wt.millisecond))}var Bt={format:St,parse:Pt,defaultI18n:pt,setGlobalDateI18n:ut,setGlobalDateMasks:Ft};o.default=Bt},function(i,o,s){var _=s(59),$=s(12),_e=s(3).MESSAGE;i.exports=$(function(et,j){return j.level!==!1&&(et.level=_.strip(et.level)),j.message!==!1&&(et.message=_.strip(et.message)),j.raw!==!1&&et[_e]&&(et[_e]=_.strip(et[_e])),et})},function(i){i.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(i,o,s){Object.defineProperty(o,"Console",{configurable:!0,enumerable:!0,get:function(){return s(140)}}),Object.defineProperty(o,"File",{configurable:!0,enumerable:!0,get:function(){return s(149)}}),Object.defineProperty(o,"Http",{configurable:!0,enumerable:!0,get:function(){return s(189)}}),Object.defineProperty(o,"Stream",{configurable:!0,enumerable:!0,get:function(){return s(201)}})},function(i,o,s){(function(_){function $(wt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(wt)}function _e(wt,Qt){if(!(wt instanceof Qt))throw new TypeError("Cannot call a class as a function")}function et(wt,Qt){for(var It=0;It<Qt.length;It++){var xt=Qt[It];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(wt,xt.key,xt)}}function j(wt,Qt){return(j=Object.setPrototypeOf||function(It,xt){return It.__proto__=xt,It})(wt,Qt)}function nt(wt){var Qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var It,xt=ct(wt);if(Qt){var Tt=ct(this).constructor;It=Reflect.construct(xt,arguments,Tt)}else It=xt.apply(this,arguments);return ot(this,It)}}function ot(wt,Qt){return!Qt||$(Qt)!=="object"&&typeof Qt!="function"?function(It){if(It===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return It}(wt):Qt}function ct(wt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(Qt){return Qt.__proto__||Object.getPrototypeOf(Qt)})(wt)}var gt=s(18),pt=s(3),ft=pt.LEVEL,ut=pt.MESSAGE,yt=s(20);i.exports=function(wt){(function(mt,Nt){if(typeof Nt!="function"&&Nt!==null)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(Nt&&Nt.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),Nt&&j(mt,Nt)})(Tt,wt);var Qt,It,xt=nt(Tt);function Tt(){var mt,Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _e(this,Tt),(mt=xt.call(this,Nt)).name=Nt.name||"console",mt.stderrLevels=mt._stringArrayToSet(Nt.stderrLevels),mt.consoleWarnLevels=mt._stringArrayToSet(Nt.consoleWarnLevels),mt.eol=Nt.eol||gt.EOL,mt.setMaxListeners(30),mt}return Qt=Tt,(It=[{key:"log",value:function(mt,Nt){var en=this;return _(function(){return en.emit("logged",mt)}),this.stderrLevels[mt[ft]]?(console._stderr?console._stderr.write("".concat(mt[ut]).concat(this.eol)):console.error(mt[ut]),void(Nt&&Nt())):this.consoleWarnLevels[mt[ft]]?(console._stderr?console._stderr.write("".concat(mt[ut]).concat(this.eol)):console.warn(mt[ut]),void(Nt&&Nt())):(console._stdout?console._stdout.write("".concat(mt[ut]).concat(this.eol)):console.log(mt[ut]),void(Nt&&Nt()))}},{key:"_stringArrayToSet",value:function(mt,Nt){if(!mt)return{};if(Nt=Nt||"Cannot make set from type other than Array of string elements",!Array.isArray(mt))throw new Error(Nt);return mt.reduce(function(en,rn){if(typeof rn!="string")throw new Error(Nt);return en[rn]=!0,en},{})}}])&&et(Qt.prototype,It),Tt}(yt)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_,$){(function(_e,et){if(!_e.setImmediate){var j,nt,ot,ct,gt,pt=1,ft={},ut=!1,yt=_e.document,wt=Object.getPrototypeOf&&Object.getPrototypeOf(_e);wt=wt&&wt.setTimeout?wt:_e,{}.toString.call(_e.process)==="[object process]"?j=function(xt){$.nextTick(function(){It(xt)})}:function(){if(_e.postMessage&&!_e.importScripts){var xt=!0,Tt=_e.onmessage;return _e.onmessage=function(){xt=!1},_e.postMessage("","*"),_e.onmessage=Tt,xt}}()?(ct="setImmediate$"+Math.random()+"$",gt=function(xt){xt.source===_e&&typeof xt.data=="string"&&xt.data.indexOf(ct)===0&&It(+xt.data.slice(ct.length))},_e.addEventListener?_e.addEventListener("message",gt,!1):_e.attachEvent("onmessage",gt),j=function(xt){_e.postMessage(ct+xt,"*")}):_e.MessageChannel?((ot=new MessageChannel).port1.onmessage=function(xt){It(xt.data)},j=function(xt){ot.port2.postMessage(xt)}):yt&&"onreadystatechange"in yt.createElement("script")?(nt=yt.documentElement,j=function(xt){var Tt=yt.createElement("script");Tt.onreadystatechange=function(){It(xt),Tt.onreadystatechange=null,nt.removeChild(Tt),Tt=null},nt.appendChild(Tt)}):j=function(xt){setTimeout(It,0,xt)},wt.setImmediate=function(xt){typeof xt!="function"&&(xt=new Function(""+xt));for(var Tt=new Array(arguments.length-1),mt=0;mt<Tt.length;mt++)Tt[mt]=arguments[mt+1];var Nt={callback:xt,args:Tt};return ft[pt]=Nt,j(pt),pt++},wt.clearImmediate=Qt}function Qt(xt){delete ft[xt]}function It(xt){if(ut)setTimeout(It,0,xt);else{var Tt=ft[xt];if(Tt){ut=!0;try{(function(mt){var Nt=mt.callback,en=mt.args;switch(en.length){case 0:Nt();break;case 1:Nt(en[0]);break;case 2:Nt(en[0],en[1]);break;case 3:Nt(en[0],en[1],en[2]);break;default:Nt.apply(void 0,en)}})(Tt)}finally{Qt(xt),ut=!1}}}}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(62)},function(i,o,s){(function(_,$){var _e=s(16);i.exports=Tt;var et,j=s(42);Tt.ReadableState=xt,s(21).EventEmitter;var nt=function(kt,Rt){return kt.listeners(Rt).length},ot=s(63),ct=s(44).Buffer,gt=_.Uint8Array||function(){},pt=Object.create(s(17));pt.inherits=s(7);var ft=s(144),ut=void 0;ut=ft&&ft.debuglog?ft.debuglog("stream"):function(){};var yt,wt=s(145),Qt=s(64);pt.inherits(Tt,ot);var It=["error","close","destroy","pause","resume"];function xt(kt,Rt){kt=kt||{};var $t=Rt instanceof(et=et||s(36));this.objectMode=!!kt.objectMode,$t&&(this.objectMode=this.objectMode||!!kt.readableObjectMode);var nn=kt.highWaterMark,Un=kt.readableHighWaterMark,Fn=this.objectMode?16:16384;this.highWaterMark=nn||nn===0?nn:$t&&(Un||Un===0)?Un:Fn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=kt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,kt.encoding&&(yt||(yt=s(22).StringDecoder),this.decoder=new yt(kt.encoding),this.encoding=kt.encoding)}function Tt(kt){if(et=et||s(36),!(this instanceof Tt))return new Tt(kt);this._readableState=new xt(kt,this),this.readable=!0,kt&&(typeof kt.read=="function"&&(this._read=kt.read),typeof kt.destroy=="function"&&(this._destroy=kt.destroy)),ot.call(this)}function mt(kt,Rt,$t,nn,Un){var Fn,En=kt._readableState;return Rt===null?(En.reading=!1,function(fn,sn){if(!sn.ended){if(sn.decoder){var Ct=sn.decoder.end();Ct&&Ct.length&&(sn.buffer.push(Ct),sn.length+=sn.objectMode?1:Ct.length)}sn.ended=!0,rn(fn)}}(kt,En)):(Un||(Fn=function(fn,sn){var Ct;Dt=sn,ct.isBuffer(Dt)||Dt instanceof gt||typeof sn=="string"||sn===void 0||fn.objectMode||(Ct=new TypeError("Invalid non-string/buffer chunk"));var Dt;return Ct}(En,Rt)),Fn?kt.emit("error",Fn):En.objectMode||Rt&&Rt.length>0?(typeof Rt=="string"||En.objectMode||Object.getPrototypeOf(Rt)===ct.prototype||(Rt=function(fn){return ct.from(fn)}(Rt)),nn?En.endEmitted?kt.emit("error",new Error("stream.unshift() after end event")):Nt(kt,En,Rt,!0):En.ended?kt.emit("error",new Error("stream.push() after EOF")):(En.reading=!1,En.decoder&&!$t?(Rt=En.decoder.write(Rt),En.objectMode||Rt.length!==0?Nt(kt,En,Rt,!1):St(kt,En)):Nt(kt,En,Rt,!1))):nn||(En.reading=!1)),function(fn){return!fn.ended&&(fn.needReadable||fn.length<fn.highWaterMark||fn.length===0)}(En)}function Nt(kt,Rt,$t,nn){Rt.flowing&&Rt.length===0&&!Rt.sync?(kt.emit("data",$t),kt.read(0)):(Rt.length+=Rt.objectMode?1:$t.length,nn?Rt.buffer.unshift($t):Rt.buffer.push($t),Rt.needReadable&&rn(kt)),St(kt,Rt)}Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(kt){this._readableState&&(this._readableState.destroyed=kt)}}),Tt.prototype.destroy=Qt.destroy,Tt.prototype._undestroy=Qt.undestroy,Tt.prototype._destroy=function(kt,Rt){this.push(null),Rt(kt)},Tt.prototype.push=function(kt,Rt){var $t,nn=this._readableState;return nn.objectMode?$t=!0:typeof kt=="string"&&((Rt=Rt||nn.defaultEncoding)!==nn.encoding&&(kt=ct.from(kt,Rt),Rt=""),$t=!0),mt(this,kt,Rt,!1,$t)},Tt.prototype.unshift=function(kt){return mt(this,kt,null,!0,!1)},Tt.prototype.isPaused=function(){return this._readableState.flowing===!1},Tt.prototype.setEncoding=function(kt){return yt||(yt=s(22).StringDecoder),this._readableState.decoder=new yt(kt),this._readableState.encoding=kt,this};function en(kt,Rt){return kt<=0||Rt.length===0&&Rt.ended?0:Rt.objectMode?1:kt!=kt?Rt.flowing&&Rt.length?Rt.buffer.head.data.length:Rt.length:(kt>Rt.highWaterMark&&(Rt.highWaterMark=function($t){return $t>=8388608?$t=8388608:($t--,$t|=$t>>>1,$t|=$t>>>2,$t|=$t>>>4,$t|=$t>>>8,$t|=$t>>>16,$t++),$t}(kt)),kt<=Rt.length?kt:Rt.ended?Rt.length:(Rt.needReadable=!0,0))}function rn(kt){var Rt=kt._readableState;Rt.needReadable=!1,Rt.emittedReadable||(ut("emitReadable",Rt.flowing),Rt.emittedReadable=!0,Rt.sync?_e.nextTick(Ft,kt):Ft(kt))}function Ft(kt){ut("emit readable"),kt.emit("readable"),qt(kt)}function St(kt,Rt){Rt.readingMore||(Rt.readingMore=!0,_e.nextTick(Pt,kt,Rt))}function Pt(kt,Rt){for(var $t=Rt.length;!Rt.reading&&!Rt.flowing&&!Rt.ended&&Rt.length<Rt.highWaterMark&&(ut("maybeReadMore read 0"),kt.read(0),$t!==Rt.length);)$t=Rt.length;Rt.readingMore=!1}function Bt(kt){ut("readable nexttick read 0"),kt.read(0)}function jt(kt,Rt){Rt.reading||(ut("resume read 0"),kt.read(0)),Rt.resumeScheduled=!1,Rt.awaitDrain=0,kt.emit("resume"),qt(kt),Rt.flowing&&!Rt.reading&&kt.read(0)}function qt(kt){var Rt=kt._readableState;for(ut("flow",Rt.flowing);Rt.flowing&&kt.read()!==null;);}function Zt(kt,Rt){return Rt.length===0?null:(Rt.objectMode?$t=Rt.buffer.shift():!kt||kt>=Rt.length?($t=Rt.decoder?Rt.buffer.join(""):Rt.buffer.length===1?Rt.buffer.head.data:Rt.buffer.concat(Rt.length),Rt.buffer.clear()):$t=function(nn,Un,Fn){var En;return nn<Un.head.data.length?(En=Un.head.data.slice(0,nn),Un.head.data=Un.head.data.slice(nn)):En=nn===Un.head.data.length?Un.shift():Fn?function(fn,sn){var Ct=sn.head,Dt=1,Xt=Ct.data;for(fn-=Xt.length;Ct=Ct.next;){var _n=Ct.data,mn=fn>_n.length?_n.length:fn;if(mn===_n.length?Xt+=_n:Xt+=_n.slice(0,fn),(fn-=mn)===0){mn===_n.length?(++Dt,Ct.next?sn.head=Ct.next:sn.head=sn.tail=null):(sn.head=Ct,Ct.data=_n.slice(mn));break}++Dt}return sn.length-=Dt,Xt}(nn,Un):function(fn,sn){var Ct=ct.allocUnsafe(fn),Dt=sn.head,Xt=1;for(Dt.data.copy(Ct),fn-=Dt.data.length;Dt=Dt.next;){var _n=Dt.data,mn=fn>_n.length?_n.length:fn;if(_n.copy(Ct,Ct.length-fn,0,mn),(fn-=mn)===0){mn===_n.length?(++Xt,Dt.next?sn.head=Dt.next:sn.head=sn.tail=null):(sn.head=Dt,Dt.data=_n.slice(mn));break}++Xt}return sn.length-=Xt,Ct}(nn,Un),En}(kt,Rt.buffer,Rt.decoder),$t);var $t}function Wt(kt){var Rt=kt._readableState;if(Rt.length>0)throw new Error('"endReadable()" called on non-empty stream');Rt.endEmitted||(Rt.ended=!0,_e.nextTick(Gt,Rt,kt))}function Gt(kt,Rt){kt.endEmitted||kt.length!==0||(kt.endEmitted=!0,Rt.readable=!1,Rt.emit("end"))}function Ht(kt,Rt){for(var $t=0,nn=kt.length;$t<nn;$t++)if(kt[$t]===Rt)return $t;return-1}Tt.prototype.read=function(kt){ut("read",kt),kt=parseInt(kt,10);var Rt=this._readableState,$t=kt;if(kt!==0&&(Rt.emittedReadable=!1),kt===0&&Rt.needReadable&&(Rt.length>=Rt.highWaterMark||Rt.ended))return ut("read: emitReadable",Rt.length,Rt.ended),Rt.length===0&&Rt.ended?Wt(this):rn(this),null;if((kt=en(kt,Rt))===0&&Rt.ended)return Rt.length===0&&Wt(this),null;var nn,Un=Rt.needReadable;return ut("need readable",Un),(Rt.length===0||Rt.length-kt<Rt.highWaterMark)&&ut("length less than watermark",Un=!0),Rt.ended||Rt.reading?ut("reading or ended",Un=!1):Un&&(ut("do read"),Rt.reading=!0,Rt.sync=!0,Rt.length===0&&(Rt.needReadable=!0),this._read(Rt.highWaterMark),Rt.sync=!1,Rt.reading||(kt=en($t,Rt))),(nn=kt>0?Zt(kt,Rt):null)===null?(Rt.needReadable=!0,kt=0):Rt.length-=kt,Rt.length===0&&(Rt.ended||(Rt.needReadable=!0),$t!==kt&&Rt.ended&&Wt(this)),nn!==null&&this.emit("data",nn),nn},Tt.prototype._read=function(kt){this.emit("error",new Error("_read() is not implemented"))},Tt.prototype.pipe=function(kt,Rt){var $t=this,nn=this._readableState;switch(nn.pipesCount){case 0:nn.pipes=kt;break;case 1:nn.pipes=[nn.pipes,kt];break;default:nn.pipes.push(kt)}nn.pipesCount+=1,ut("pipe count=%d opts=%j",nn.pipesCount,Rt);var Un=(!Rt||Rt.end!==!1)&&kt!==$.stdout&&kt!==$.stderr?En:xn;function Fn(On,nr){ut("onunpipe"),On===$t&&nr&&nr.hasUnpiped===!1&&(nr.hasUnpiped=!0,ut("cleanup"),kt.removeListener("close",_n),kt.removeListener("finish",mn),kt.removeListener("drain",fn),kt.removeListener("error",Xt),kt.removeListener("unpipe",Fn),$t.removeListener("end",En),$t.removeListener("end",xn),$t.removeListener("data",Dt),sn=!0,!nn.awaitDrain||kt._writableState&&!kt._writableState.needDrain||fn())}function En(){ut("onend"),kt.end()}nn.endEmitted?_e.nextTick(Un):$t.once("end",Un),kt.on("unpipe",Fn);var fn=function(On){return function(){var nr=On._readableState;ut("pipeOnDrain",nr.awaitDrain),nr.awaitDrain&&nr.awaitDrain--,nr.awaitDrain===0&&nt(On,"data")&&(nr.flowing=!0,qt(On))}}($t);kt.on("drain",fn);var sn=!1,Ct=!1;function Dt(On){ut("ondata"),Ct=!1,kt.write(On)!==!1||Ct||((nn.pipesCount===1&&nn.pipes===kt||nn.pipesCount>1&&Ht(nn.pipes,kt)!==-1)&&!sn&&(ut("false write response, pause",$t._readableState.awaitDrain),$t._readableState.awaitDrain++,Ct=!0),$t.pause())}function Xt(On){ut("onerror",On),xn(),kt.removeListener("error",Xt),nt(kt,"error")===0&&kt.emit("error",On)}function _n(){kt.removeListener("finish",mn),xn()}function mn(){ut("onfinish"),kt.removeListener("close",_n),xn()}function xn(){ut("unpipe"),$t.unpipe(kt)}return $t.on("data",Dt),function(On,nr,Nr){if(typeof On.prependListener=="function")return On.prependListener(nr,Nr);On._events&&On._events[nr]?j(On._events[nr])?On._events[nr].unshift(Nr):On._events[nr]=[Nr,On._events[nr]]:On.on(nr,Nr)}(kt,"error",Xt),kt.once("close",_n),kt.once("finish",mn),kt.emit("pipe",$t),nn.flowing||(ut("pipe resume"),$t.resume()),kt},Tt.prototype.unpipe=function(kt){var Rt=this._readableState,$t={hasUnpiped:!1};if(Rt.pipesCount===0)return this;if(Rt.pipesCount===1)return kt&&kt!==Rt.pipes||(kt||(kt=Rt.pipes),Rt.pipes=null,Rt.pipesCount=0,Rt.flowing=!1,kt&&kt.emit("unpipe",this,$t)),this;if(!kt){var nn=Rt.pipes,Un=Rt.pipesCount;Rt.pipes=null,Rt.pipesCount=0,Rt.flowing=!1;for(var Fn=0;Fn<Un;Fn++)nn[Fn].emit("unpipe",this,$t);return this}var En=Ht(Rt.pipes,kt);return En===-1||(Rt.pipes.splice(En,1),Rt.pipesCount-=1,Rt.pipesCount===1&&(Rt.pipes=Rt.pipes[0]),kt.emit("unpipe",this,$t)),this},Tt.prototype.on=function(kt,Rt){var $t=ot.prototype.on.call(this,kt,Rt);if(kt==="data")this._readableState.flowing!==!1&&this.resume();else if(kt==="readable"){var nn=this._readableState;nn.endEmitted||nn.readableListening||(nn.readableListening=nn.needReadable=!0,nn.emittedReadable=!1,nn.reading?nn.length&&rn(this):_e.nextTick(Bt,this))}return $t},Tt.prototype.addListener=Tt.prototype.on,Tt.prototype.resume=function(){var kt=this._readableState;return kt.flowing||(ut("resume"),kt.flowing=!0,function(Rt,$t){$t.resumeScheduled||($t.resumeScheduled=!0,_e.nextTick(jt,Rt,$t))}(this,kt)),this},Tt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Tt.prototype.wrap=function(kt){var Rt=this,$t=this._readableState,nn=!1;for(var Un in kt.on("end",function(){if(ut("wrapped end"),$t.decoder&&!$t.ended){var En=$t.decoder.end();En&&En.length&&Rt.push(En)}Rt.push(null)}),kt.on("data",function(En){ut("wrapped data"),$t.decoder&&(En=$t.decoder.write(En)),$t.objectMode&&En==null||($t.objectMode||En&&En.length)&&(Rt.push(En)||(nn=!0,kt.pause()))}),kt)this[Un]===void 0&&typeof kt[Un]=="function"&&(this[Un]=function(En){return function(){return kt[En].apply(kt,arguments)}}(Un));for(var Fn=0;Fn<It.length;Fn++)kt.on(It[Fn],this.emit.bind(this,It[Fn]));return this._read=function(En){ut("wrapped _read",En),nn&&(nn=!1,kt.resume())},this},Object.defineProperty(Tt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Tt._fromList=Zt}).call(this,s(6),s(2))},function(i,o){},function(i,o,s){var _=s(44).Buffer,$=s(146);i.exports=function(){function _e(){(function(et,j){if(!(et instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(et){var j={data:et,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},_e.prototype.unshift=function(et){var j={data:et,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},_e.prototype.shift=function(){if(this.length!==0){var et=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,et}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(et){if(this.length===0)return"";for(var j=this.head,nt=""+j.data;j=j.next;)nt+=et+j.data;return nt},_e.prototype.concat=function(et){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,nt,ot,ct=_.allocUnsafe(et>>>0),gt=this.head,pt=0;gt;)j=gt.data,nt=ct,ot=pt,j.copy(nt,ot),pt+=gt.data.length,gt=gt.next;return ct},_e}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var _e=$.inspect({length:this.length});return this.constructor.name+" "+_e})},function(i,o){},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var ot in j)nt[ot]=j[ot]}function et(j,nt,ot){return $(j,nt,ot)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=et),_e($,et),et.from=function(j,nt,ot){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,ot)},et.alloc=function(j,nt,ot){if(typeof j!="number")throw new TypeError("Argument must be a number");var ct=$(j);return nt!==void 0?typeof ot=="string"?ct.fill(nt,ot):ct.fill(nt):ct.fill(0),ct},et.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},et.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){var _=s(13),$=s(3).LEVEL,_e=s(20),et=i.exports=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function nt(ot){this.emit("error",ot,this.transport)}this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=nt.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(et,_e),et.prototype._write=function(j,nt,ot){if(this.silent||j.exception===!0&&!this.handleExceptions)return ot(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),ot(null)},et.prototype._writev=function(j,nt){for(var ot=0;ot<j.length;ot++)this._accept(j[ot])&&(this.transport.log(j[ot].chunk[$],j[ot].chunk.message,j[ot].chunk,this._nop),j[ot].callback());return nt(null)},et.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},et.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){(function(_,$){function _e(Ft){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St})(Ft)}function et(Ft,St){if(!(Ft instanceof St))throw new TypeError("Cannot call a class as a function")}function j(Ft,St){for(var Pt=0;Pt<St.length;Pt++){var Bt=St[Pt];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Ft,Bt.key,Bt)}}function nt(Ft,St){return(nt=Object.setPrototypeOf||function(Pt,Bt){return Pt.__proto__=Bt,Pt})(Ft,St)}function ot(Ft){var St=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Pt,Bt=pt(Ft);if(St){var jt=pt(this).constructor;Pt=Reflect.construct(Bt,arguments,jt)}else Pt=Bt.apply(this,arguments);return ct(this,Pt)}}function ct(Ft,St){return!St||_e(St)!=="object"&&typeof St!="function"?gt(Ft):St}function gt(Ft){if(Ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ft}function pt(Ft){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(St){return St.__proto__||Object.getPrototypeOf(St)})(Ft)}var ft=s(65),ut=s(56),yt=s(150),wt=s(160),Qt=s(3).MESSAGE,It=s(32),xt=It.Stream,Tt=It.PassThrough,mt=s(20),Nt=s(38)("winston:file"),en=s(18),rn=s(188);i.exports=function(Ft){(function(qt,Zt){if(typeof Zt!="function"&&Zt!==null)throw new TypeError("Super expression must either be null or a function");qt.prototype=Object.create(Zt&&Zt.prototype,{constructor:{value:qt,writable:!0,configurable:!0}}),Zt&&nt(qt,Zt)})(jt,Ft);var St,Pt,Bt=ot(jt);function jt(){var qt,Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Wt(Gt){for(var Ht=arguments.length,kt=new Array(Ht>1?Ht-1:0),Rt=1;Rt<Ht;Rt++)kt[Rt-1]=arguments[Rt];kt.slice(1).forEach(function($t){if(Zt[$t])throw new Error("Cannot set ".concat($t," and ").concat(Gt," together"))})}if(et(this,jt),(qt=Bt.call(this,Zt)).name=Zt.name||"file",qt._stream=new Tt,qt._stream.setMaxListeners(30),qt._onError=qt._onError.bind(gt(qt)),Zt.filename||Zt.dirname)Wt("filename or dirname","stream"),qt._basename=qt.filename=Zt.filename?ut.basename(Zt.filename):"winston.log",qt.dirname=Zt.dirname||ut.dirname(Zt.filename),qt.options=Zt.options||{flags:"a"};else{if(!Zt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Wt("stream","filename","maxsize"),qt._dest=qt._stream.pipe(qt._setupStream(Zt.stream)),qt.dirname=ut.dirname(qt._dest.path)}return qt.maxsize=Zt.maxsize||null,qt.rotationFormat=Zt.rotationFormat||!1,qt.zippedArchive=Zt.zippedArchive||!1,qt.maxFiles=Zt.maxFiles||null,qt.eol=Zt.eol||en.EOL,qt.tailable=Zt.tailable||!1,qt._size=0,qt._pendingSize=0,qt._created=0,qt._drain=!1,qt._opening=!1,qt._ending=!1,qt.dirname&&qt._createLogDirIfNotExist(qt.dirname),qt.open(),qt}return St=jt,(Pt=[{key:"finishIfEnding",value:function(){var qt=this;this._ending&&(this._opening?this.once("open",function(){qt._stream.once("finish",function(){return qt.emit("finish")}),_(function(){return qt._stream.end()})}):(this._stream.once("finish",function(){return qt.emit("finish")}),_(function(){return qt._stream.end()})))}},{key:"log",value:function(qt){var Zt=this,Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return Wt(),!0;if(this._drain)this._stream.once("drain",function(){Zt._drain=!1,Zt.log(qt,Wt)});else{if(!this._rotate){var Gt="".concat(qt[Qt]).concat(this.eol),Ht=$.byteLength(Gt);this._pendingSize+=Ht,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var kt=this._stream.write(Gt,Rt.bind(this));return kt?Wt():(this._drain=!0,this._stream.once("drain",function(){Zt._drain=!1,Wt()})),Nt("written",kt,this._drain),this.finishIfEnding(),kt}this._stream.once("rotate",function(){Zt._rotate=!1,Zt.log(qt,Wt)})}function Rt(){var $t=this;this._size+=Ht,this._pendingSize-=Ht,Nt("logged %s %s",this._size,Gt),this.emit("logged",qt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return $t._rotateFile()}))}}},{key:"query",value:function(qt,Zt){typeof qt=="function"&&(Zt=qt,qt={}),qt=function(nn){return(nn=nn||{}).rows=nn.rows||nn.limit||10,nn.start=nn.start||0,nn.until=nn.until||new Date,_e(nn.until)!=="object"&&(nn.until=new Date(nn.until)),nn.from=nn.from||nn.until-864e5,_e(nn.from)!=="object"&&(nn.from=new Date(nn.from)),nn.order=nn.order||"desc",nn}(qt);var Wt=ut.join(this.dirname,this.filename),Gt="",Ht=[],kt=0,Rt=ft.createReadStream(Wt,{encoding:"utf8"});function $t(nn,Un){try{var Fn=JSON.parse(nn);(function(En){if(En&&_e(En)==="object"){var fn=new Date(En.timestamp);if(!(qt.from&&fn<qt.from||qt.until&&fn>qt.until||qt.level&&qt.level!==En.level))return!0}})(Fn)&&function(En){qt.rows&&Ht.length>=qt.rows&&qt.order!=="desc"?Rt.readable&&Rt.destroy():(qt.fields&&(En=qt.fields.reduce(function(fn,sn){return fn[sn]=En[sn],fn},{})),qt.order==="desc"&&Ht.length>=qt.rows&&Ht.shift(),Ht.push(En))}(Fn)}catch(En){Un||Rt.emit("error",En)}}Rt.on("error",function(nn){if(Rt.readable&&Rt.destroy(),Zt)return nn.code!=="ENOENT"?Zt(nn):Zt(null,Ht)}),Rt.on("data",function(nn){for(var Un=(nn=(Gt+nn).split(/\n+/)).length-1,Fn=0;Fn<Un;Fn++)(!qt.start||kt>=qt.start)&&$t(nn[Fn]),kt++;Gt=nn[Un]}),Rt.on("close",function(){Gt&&$t(Gt,!0),qt.order==="desc"&&(Ht=Ht.reverse()),Zt&&Zt(null,Ht)})}},{key:"stream",value:function(){var qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Zt=ut.join(this.dirname,this.filename),Wt=new xt,Gt={file:Zt,start:qt.start};return Wt.destroy=rn(Gt,function(Ht,kt){if(Ht)return Wt.emit("error",Ht);try{Wt.emit("data",kt),kt=JSON.parse(kt),Wt.emit("log",kt)}catch(Rt){Wt.emit("error",Rt)}}),Wt}},{key:"open",value:function(){var qt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Zt,Wt){if(Zt)return qt.emit("error",Zt);Nt("stat done: %s { size: %s }",qt.filename,Wt),qt._size=Wt,qt._dest=qt._createStream(qt._stream),qt._opening=!1,qt.once("open",function(){qt._stream.eventNames().includes("rotate")?qt._stream.emit("rotate"):qt._rotate=!1})})))}},{key:"stat",value:function(qt){var Zt=this,Wt=this._getFile(),Gt=ut.join(this.dirname,Wt);ft.stat(Gt,function(Ht,kt){return Ht&&Ht.code==="ENOENT"?(Nt("ENOENT ok",Gt),Zt.filename=Wt,qt(null,0)):Ht?(Nt("err ".concat(Ht.code," ").concat(Gt)),qt(Ht)):!kt||Zt._needsNewFile(kt.size)?Zt._incFile(function(){return Zt.stat(qt)}):(Zt.filename=Wt,void qt(null,kt.size))})}},{key:"close",value:function(qt){var Zt=this;this._stream&&this._stream.end(function(){qt&&qt(),Zt.emit("flush"),Zt.emit("closed")})}},{key:"_needsNewFile",value:function(qt){return qt=qt||this._size,this.maxsize&&qt>=this.maxsize}},{key:"_onError",value:function(qt){this.emit("error",qt)}},{key:"_setupStream",value:function(qt){return qt.on("error",this._onError),qt}},{key:"_cleanupStream",value:function(qt){return qt.removeListener("error",this._onError),qt}},{key:"_rotateFile",value:function(){var qt=this;this._incFile(function(){return qt.open()})}},{key:"_endStream",value:function(){var qt=this,Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){qt._cleanupStream(qt._dest),Zt()})):Zt()}},{key:"_createStream",value:function(qt){var Zt=this,Wt=ut.join(this.dirname,this.filename);Nt("create stream start",Wt,this.options);var Gt=ft.createWriteStream(Wt,this.options).on("error",function(kt){return Nt(kt)}).on("close",function(){return Nt("close",Gt.path,Gt.bytesWritten)}).on("open",function(){Nt("file open ok",Wt),Zt.emit("open",Wt),qt.pipe(Gt),Zt.rotatedWhileOpening&&(Zt._stream=new Tt,Zt._stream.setMaxListeners(30),Zt._rotateFile(),Zt.rotatedWhileOpening=!1,Zt._cleanupStream(Gt),qt.end())});if(Nt("create stream ok",Wt),this.zippedArchive){var Ht=wt.createGzip();return Ht.pipe(Gt),Ht}return Gt}},{key:"_incFile",value:function(qt){Nt("_incFile",this.filename);var Zt=ut.extname(this._basename),Wt=ut.basename(this._basename,Zt);this.tailable?this._checkMaxFilesTailable(Zt,Wt,qt):(this._created+=1,this._checkMaxFilesIncrementing(Zt,Wt,qt))}},{key:"_getFile",value:function(){var qt=ut.extname(this._basename),Zt=ut.basename(this._basename,qt),Wt=this.rotationFormat?this.rotationFormat():this._created,Gt=!this.tailable&&this._created?"".concat(Zt).concat(Wt).concat(qt):"".concat(Zt).concat(qt);return this.zippedArchive&&!this.tailable?"".concat(Gt,".gz"):Gt}},{key:"_checkMaxFilesIncrementing",value:function(qt,Zt,Wt){if(!this.maxFiles||this._created<this.maxFiles)return _(Wt);var Gt=this._created-this.maxFiles,Ht=Gt!==0?Gt:"",kt=this.zippedArchive?".gz":"",Rt="".concat(Zt).concat(Ht).concat(qt).concat(kt),$t=ut.join(this.dirname,Rt);ft.unlink($t,Wt)}},{key:"_checkMaxFilesTailable",value:function(qt,Zt,Wt){var Gt=this,Ht=[];if(this.maxFiles){for(var kt=this.zippedArchive?".gz":"",Rt=this.maxFiles-1;Rt>1;Rt--)Ht.push(function($t,nn){var Un=this,Fn="".concat(Zt).concat($t-1).concat(qt).concat(kt),En=ut.join(this.dirname,Fn);ft.exists(En,function(fn){if(!fn)return nn(null);Fn="".concat(Zt).concat($t).concat(qt).concat(kt),ft.rename(En,ut.join(Un.dirname,Fn),nn)})}.bind(this,Rt));yt(Ht,function(){ft.rename(ut.join(Gt.dirname,"".concat(Zt).concat(qt)),ut.join(Gt.dirname,"".concat(Zt,"1").concat(qt).concat(kt)),Wt)})}}},{key:"_createLogDirIfNotExist",value:function(qt){ft.existsSync(qt)||ft.mkdirSync(qt,{recursive:!0})}}])&&j(St.prototype,Pt),jt}(mt)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(et,j){return(0,_.default)($.default,et,j)};var _=_e(s(151)),$=_e(s(155));function _e(et){return et&&et.__esModule?et:{default:et}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=et(s(45)),$=et(s(25)),_e=et(s(30));function et(j){return j&&j.__esModule?j:{default:j}}o.default=(0,_e.default)((j,nt,ot)=>{var ct=(0,_.default)(nt)?[]:{};j(nt,(gt,pt,ft)=>{(0,$.default)(gt)((ut,...yt)=>{yt.length<2&&([yt]=yt),ct[pt]=yt,ft(ut)})},gt=>ot(gt,ct))},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(ot){return(0,_e.isAsync)(ot)?function(...ct){const gt=ct.pop();return j(ot.apply(this,ct),gt)}:(0,_.default)(function(ct,gt){var pt;try{pt=ot.apply(this,ct)}catch(ft){return gt(ft)}if(pt&&typeof pt.then=="function")return j(pt,gt);gt(null,pt)})};var _=et(s(153)),$=et(s(154)),_e=s(25);function et(ot){return ot&&ot.__esModule?ot:{default:ot}}function j(ot,ct){return ot.then(gt=>{nt(ct,null,gt)},gt=>{nt(ct,gt&&gt.message?gt:new Error(gt))})}function nt(ot,ct,gt){try{ot(ct,gt)}catch(pt){(0,$.default)(ft=>{throw ft},pt)}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){var _e=$.pop();return _.call(this,$,_e)}},i.exports=o.default},function(i,o,s){(function(_,$){Object.defineProperty(o,"__esModule",{value:!0}),o.fallback=nt,o.wrap=ot;var _e,et=o.hasSetImmediate=typeof _=="function"&&_,j=o.hasNextTick=typeof $=="object"&&typeof $.nextTick=="function";function nt(ct){setTimeout(ct,0)}function ot(ct){return(gt,...pt)=>ct(()=>gt(...pt))}_e=et?_:j?$.nextTick:nt,o.default=ot(_e)}).call(this,s(15).setImmediate,s(2))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=_e(s(66)),$=_e(s(30));function _e(et){return et&&et.__esModule?et:{default:et}}o.default=(0,$.default)(function(et,j,nt){return(0,_.default)(et,1,j,nt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=ot(s(67)),$=ot(s(157)),_e=ot(s(68)),et=s(25),j=ot(s(159)),nt=ot(s(46));function ot(ct){return ct&&ct.__esModule?ct:{default:ct}}o.default=ct=>(gt,pt,ft)=>{if(ft=(0,_.default)(ft),ct<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!gt)return ft(null);if((0,et.isAsyncGenerator)(gt))return(0,j.default)(gt,ct,pt,ft);if((0,et.isAsyncIterable)(gt))return(0,j.default)(gt[Symbol.asyncIterator](),ct,pt,ft);var ut=(0,$.default)(gt),yt=!1,wt=!1,Qt=0,It=!1;function xt(mt,Nt){if(!wt)if(Qt-=1,mt)yt=!0,ft(mt);else if(mt===!1)yt=!0,wt=!0;else{if(Nt===nt.default||yt&&Qt<=0)return yt=!0,ft(null);It||Tt()}}function Tt(){for(It=!0;Qt<ct&&!yt;){var mt=ut();if(mt===null)return yt=!0,void(Qt<=0&&ft(null));Qt+=1,pt(mt.value,mt.key,(0,_e.default)(xt))}It=!1}Tt()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(et){if((0,_.default)(et))return function(pt){var ft=-1,ut=pt.length;return function(){return++ft<ut?{value:pt[ft],key:ft}:null}}(et);var j=(0,$.default)(et);return j?function(pt){var ft=-1;return function(){var ut=pt.next();return ut.done?null:(ft++,{value:ut.value,key:ft})}}(j):(nt=et,ot=nt?Object.keys(nt):[],ct=-1,gt=ot.length,function(){var pt=ot[++ct];return ct<gt?{value:nt[pt],key:pt}:null});var nt,ot,ct,gt};var _=_e(s(45)),$=_e(s(158));function _e(et){return et&&et.__esModule?et:{default:et}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _[Symbol.iterator]&&_[Symbol.iterator]()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(et,j,nt,ot){let ct=!1,gt=!1,pt=!1,ft=0,ut=0;function yt(){ft>=j||pt||ct||(pt=!0,et.next().then(({value:It,done:xt})=>{if(!gt&&!ct){if(pt=!1,xt)return ct=!0,void(ft<=0&&ot(null));ft++,nt(It,ut,wt),ut++,yt()}}).catch(Qt))}function wt(It,xt){if(ft-=1,!gt)return It?Qt(It):It===!1?(ct=!0,void(gt=!0)):xt===_e.default||ct&&ft<=0?(ct=!0,ot(null)):void yt()}function Qt(It){gt||(pt=!1,ct=!0,ot(It))}yt()};var _,$=s(46),_e=(_=$)&&_.__esModule?_:{default:_};i.exports=o.default},function(i,o,s){(function(_){var $=s(5).Buffer,_e=s(161).Transform,et=s(169),j=s(13),nt=s(74).ok,ot=s(5).kMaxLength,ct="Cannot create final Buffer. It would be larger than 0x"+ot.toString(16)+" bytes";et.Z_MIN_WINDOWBITS=8,et.Z_MAX_WINDOWBITS=15,et.Z_DEFAULT_WINDOWBITS=15,et.Z_MIN_CHUNK=64,et.Z_MAX_CHUNK=1/0,et.Z_DEFAULT_CHUNK=16384,et.Z_MIN_MEMLEVEL=1,et.Z_MAX_MEMLEVEL=9,et.Z_DEFAULT_MEMLEVEL=8,et.Z_MIN_LEVEL=-1,et.Z_MAX_LEVEL=9,et.Z_DEFAULT_LEVEL=et.Z_DEFAULT_COMPRESSION;for(var gt=Object.keys(et),pt=0;pt<gt.length;pt++){var ft=gt[pt];ft.match(/^Z/)&&Object.defineProperty(o,ft,{enumerable:!0,value:et[ft],writable:!1})}for(var ut={Z_OK:et.Z_OK,Z_STREAM_END:et.Z_STREAM_END,Z_NEED_DICT:et.Z_NEED_DICT,Z_ERRNO:et.Z_ERRNO,Z_STREAM_ERROR:et.Z_STREAM_ERROR,Z_DATA_ERROR:et.Z_DATA_ERROR,Z_MEM_ERROR:et.Z_MEM_ERROR,Z_BUF_ERROR:et.Z_BUF_ERROR,Z_VERSION_ERROR:et.Z_VERSION_ERROR},yt=Object.keys(ut),wt=0;wt<yt.length;wt++){var Qt=yt[wt];ut[ut[Qt]]=Qt}function It(Zt,Wt,Gt){var Ht=[],kt=0;function Rt(){for(var nn;(nn=Zt.read())!==null;)Ht.push(nn),kt+=nn.length;Zt.once("readable",Rt)}function $t(){var nn,Un=null;kt>=ot?Un=new RangeError(ct):nn=$.concat(Ht,kt),Ht=[],Zt.close(),Gt(Un,nn)}Zt.on("error",function(nn){Zt.removeListener("end",$t),Zt.removeListener("readable",Rt),Gt(nn)}),Zt.on("end",$t),Zt.end(Wt),Rt()}function xt(Zt,Wt){if(typeof Wt=="string"&&(Wt=$.from(Wt)),!$.isBuffer(Wt))throw new TypeError("Not a string or buffer");var Gt=Zt._finishFlushFlag;return Zt._processChunk(Wt,Gt)}function Tt(Zt){if(!(this instanceof Tt))return new Tt(Zt);Bt.call(this,Zt,et.DEFLATE)}function mt(Zt){if(!(this instanceof mt))return new mt(Zt);Bt.call(this,Zt,et.INFLATE)}function Nt(Zt){if(!(this instanceof Nt))return new Nt(Zt);Bt.call(this,Zt,et.GZIP)}function en(Zt){if(!(this instanceof en))return new en(Zt);Bt.call(this,Zt,et.GUNZIP)}function rn(Zt){if(!(this instanceof rn))return new rn(Zt);Bt.call(this,Zt,et.DEFLATERAW)}function Ft(Zt){if(!(this instanceof Ft))return new Ft(Zt);Bt.call(this,Zt,et.INFLATERAW)}function St(Zt){if(!(this instanceof St))return new St(Zt);Bt.call(this,Zt,et.UNZIP)}function Pt(Zt){return Zt===et.Z_NO_FLUSH||Zt===et.Z_PARTIAL_FLUSH||Zt===et.Z_SYNC_FLUSH||Zt===et.Z_FULL_FLUSH||Zt===et.Z_FINISH||Zt===et.Z_BLOCK}function Bt(Zt,Wt){var Gt=this;if(this._opts=Zt=Zt||{},this._chunkSize=Zt.chunkSize||o.Z_DEFAULT_CHUNK,_e.call(this,Zt),Zt.flush&&!Pt(Zt.flush))throw new Error("Invalid flush flag: "+Zt.flush);if(Zt.finishFlush&&!Pt(Zt.finishFlush))throw new Error("Invalid flush flag: "+Zt.finishFlush);if(this._flushFlag=Zt.flush||et.Z_NO_FLUSH,this._finishFlushFlag=Zt.finishFlush!==void 0?Zt.finishFlush:et.Z_FINISH,Zt.chunkSize&&(Zt.chunkSize<o.Z_MIN_CHUNK||Zt.chunkSize>o.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Zt.chunkSize);if(Zt.windowBits&&(Zt.windowBits<o.Z_MIN_WINDOWBITS||Zt.windowBits>o.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Zt.windowBits);if(Zt.level&&(Zt.level<o.Z_MIN_LEVEL||Zt.level>o.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Zt.level);if(Zt.memLevel&&(Zt.memLevel<o.Z_MIN_MEMLEVEL||Zt.memLevel>o.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Zt.memLevel);if(Zt.strategy&&Zt.strategy!=o.Z_FILTERED&&Zt.strategy!=o.Z_HUFFMAN_ONLY&&Zt.strategy!=o.Z_RLE&&Zt.strategy!=o.Z_FIXED&&Zt.strategy!=o.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Zt.strategy);if(Zt.dictionary&&!$.isBuffer(Zt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new et.Zlib(Wt);var Ht=this;this._hadError=!1,this._handle.onerror=function($t,nn){jt(Ht),Ht._hadError=!0;var Un=new Error($t);Un.errno=nn,Un.code=o.codes[nn],Ht.emit("error",Un)};var kt=o.Z_DEFAULT_COMPRESSION;typeof Zt.level=="number"&&(kt=Zt.level);var Rt=o.Z_DEFAULT_STRATEGY;typeof Zt.strategy=="number"&&(Rt=Zt.strategy),this._handle.init(Zt.windowBits||o.Z_DEFAULT_WINDOWBITS,kt,Zt.memLevel||o.Z_DEFAULT_MEMLEVEL,Rt,Zt.dictionary),this._buffer=$.allocUnsafe(this._chunkSize),this._offset=0,this._level=kt,this._strategy=Rt,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Gt._handle},configurable:!0,enumerable:!0})}function jt(Zt,Wt){Wt&&_.nextTick(Wt),Zt._handle&&(Zt._handle.close(),Zt._handle=null)}function qt(Zt){Zt.emit("close")}Object.defineProperty(o,"codes",{enumerable:!0,value:Object.freeze(ut),writable:!1}),o.Deflate=Tt,o.Inflate=mt,o.Gzip=Nt,o.Gunzip=en,o.DeflateRaw=rn,o.InflateRaw=Ft,o.Unzip=St,o.createDeflate=function(Zt){return new Tt(Zt)},o.createInflate=function(Zt){return new mt(Zt)},o.createDeflateRaw=function(Zt){return new rn(Zt)},o.createInflateRaw=function(Zt){return new Ft(Zt)},o.createGzip=function(Zt){return new Nt(Zt)},o.createGunzip=function(Zt){return new en(Zt)},o.createUnzip=function(Zt){return new St(Zt)},o.deflate=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new Tt(Wt),Zt,Gt)},o.deflateSync=function(Zt,Wt){return xt(new Tt(Wt),Zt)},o.gzip=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new Nt(Wt),Zt,Gt)},o.gzipSync=function(Zt,Wt){return xt(new Nt(Wt),Zt)},o.deflateRaw=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new rn(Wt),Zt,Gt)},o.deflateRawSync=function(Zt,Wt){return xt(new rn(Wt),Zt)},o.unzip=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new St(Wt),Zt,Gt)},o.unzipSync=function(Zt,Wt){return xt(new St(Wt),Zt)},o.inflate=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new mt(Wt),Zt,Gt)},o.inflateSync=function(Zt,Wt){return xt(new mt(Wt),Zt)},o.gunzip=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new en(Wt),Zt,Gt)},o.gunzipSync=function(Zt,Wt){return xt(new en(Wt),Zt)},o.inflateRaw=function(Zt,Wt,Gt){return typeof Wt=="function"&&(Gt=Wt,Wt={}),It(new Ft(Wt),Zt,Gt)},o.inflateRawSync=function(Zt,Wt){return xt(new Ft(Wt),Zt)},j.inherits(Bt,_e),Bt.prototype.params=function(Zt,Wt,Gt){if(Zt<o.Z_MIN_LEVEL||Zt>o.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Zt);if(Wt!=o.Z_FILTERED&&Wt!=o.Z_HUFFMAN_ONLY&&Wt!=o.Z_RLE&&Wt!=o.Z_FIXED&&Wt!=o.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Wt);if(this._level!==Zt||this._strategy!==Wt){var Ht=this;this.flush(et.Z_SYNC_FLUSH,function(){nt(Ht._handle,"zlib binding closed"),Ht._handle.params(Zt,Wt),Ht._hadError||(Ht._level=Zt,Ht._strategy=Wt,Gt&&Gt())})}else _.nextTick(Gt)},Bt.prototype.reset=function(){return nt(this._handle,"zlib binding closed"),this._handle.reset()},Bt.prototype._flush=function(Zt){this._transform($.alloc(0),"",Zt)},Bt.prototype.flush=function(Zt,Wt){var Gt=this,Ht=this._writableState;(typeof Zt=="function"||Zt===void 0&&!Wt)&&(Wt=Zt,Zt=et.Z_FULL_FLUSH),Ht.ended?Wt&&_.nextTick(Wt):Ht.ending?Wt&&this.once("end",Wt):Ht.needDrain?Wt&&this.once("drain",function(){return Gt.flush(Zt,Wt)}):(this._flushFlag=Zt,this.write($.alloc(0),"",Wt))},Bt.prototype.close=function(Zt){jt(this,Zt),_.nextTick(qt,this)},Bt.prototype._transform=function(Zt,Wt,Gt){var Ht,kt=this._writableState,Rt=(kt.ending||kt.ended)&&(!Zt||kt.length===Zt.length);return Zt===null||$.isBuffer(Zt)?this._handle?(Rt?Ht=this._finishFlushFlag:(Ht=this._flushFlag,Zt.length>=kt.length&&(this._flushFlag=this._opts.flush||et.Z_NO_FLUSH)),void this._processChunk(Zt,Ht,Gt)):Gt(new Error("zlib binding closed")):Gt(new Error("invalid input"))},Bt.prototype._processChunk=function(Zt,Wt,Gt){var Ht=Zt&&Zt.length,kt=this._chunkSize-this._offset,Rt=0,$t=this,nn=typeof Gt=="function";if(!nn){var Un,Fn=[],En=0;this.on("error",function(Xt){Un=Xt}),nt(this._handle,"zlib binding closed");do var fn=this._handle.writeSync(Wt,Zt,Rt,Ht,this._buffer,this._offset,kt);while(!this._hadError&&Dt(fn[0],fn[1]));if(this._hadError)throw Un;if(En>=ot)throw jt(this),new RangeError(ct);var sn=$.concat(Fn,En);return jt(this),sn}nt(this._handle,"zlib binding closed");var Ct=this._handle.write(Wt,Zt,Rt,Ht,this._buffer,this._offset,kt);function Dt(Xt,_n){if(this&&(this.buffer=null,this.callback=null),!$t._hadError){var mn=kt-_n;if(nt(mn>=0,"have should not go down"),mn>0){var xn=$t._buffer.slice($t._offset,$t._offset+mn);$t._offset+=mn,nn?$t.push(xn):(Fn.push(xn),En+=xn.length)}if((_n===0||$t._offset>=$t._chunkSize)&&(kt=$t._chunkSize,$t._offset=0,$t._buffer=$.allocUnsafe($t._chunkSize)),_n===0){if(Rt+=Ht-Xt,Ht=Xt,!nn)return!0;var On=$t._handle.write(Wt,Zt,Rt,Ht,$t._buffer,$t._offset,$t._chunkSize);return On.callback=Dt,void(On.buffer=Zt)}if(!nn)return!1;Gt()}}Ct.buffer=Zt,Ct.callback=Dt},j.inherits(Tt,Bt),j.inherits(mt,Bt),j.inherits(Nt,Bt),j.inherits(en,Bt),j.inherits(rn,Bt),j.inherits(Ft,Bt),j.inherits(St,Bt)}).call(this,s(2))},function(i,o,s){i.exports=$;var _=s(21).EventEmitter;function $(){_.call(this)}s(7)($,_),$.Readable=s(31),$.Writable=s(73),$.Duplex=s(166),$.Transform=s(167),$.PassThrough=s(168),$.Stream=$,$.prototype.pipe=function(_e,et){var j=this;function nt(yt){_e.writable&&_e.write(yt)===!1&&j.pause&&j.pause()}function ot(){j.readable&&j.resume&&j.resume()}j.on("data",nt),_e.on("drain",ot),_e._isStdio||et&&et.end===!1||(j.on("end",gt),j.on("close",pt));var ct=!1;function gt(){ct||(ct=!0,_e.end())}function pt(){ct||(ct=!0,typeof _e.destroy=="function"&&_e.destroy())}function ft(yt){if(ut(),_.listenerCount(this,"error")===0)throw yt}function ut(){j.removeListener("data",nt),_e.removeListener("drain",ot),j.removeListener("end",gt),j.removeListener("close",pt),j.removeListener("error",ft),_e.removeListener("error",ft),j.removeListener("end",ut),j.removeListener("close",ut),_e.removeListener("close",ut)}return j.on("error",ft),_e.on("error",ft),j.on("end",ut),j.on("close",ut),_e.on("close",ut),_e.emit("pipe",j),_e}},function(i,o){},function(i,o,s){var _=s(47).Buffer,$=s(164);i.exports=function(){function _e(){(function(et,j){if(!(et instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(et){var j={data:et,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},_e.prototype.unshift=function(et){var j={data:et,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},_e.prototype.shift=function(){if(this.length!==0){var et=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,et}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(et){if(this.length===0)return"";for(var j=this.head,nt=""+j.data;j=j.next;)nt+=et+j.data;return nt},_e.prototype.concat=function(et){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,nt,ot,ct=_.allocUnsafe(et>>>0),gt=this.head,pt=0;gt;)j=gt.data,nt=ct,ot=pt,j.copy(nt,ot),pt+=gt.data.length,gt=gt.next;return ct},_e}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var _e=$.inspect({length:this.length});return this.constructor.name+" "+_e})},function(i,o){},function(i,o,s){i.exports=_e;var _=s(72),$=s(17);function _e(et){if(!(this instanceof _e))return new _e(et);_.call(this,et)}$.inherits=s(7),$.inherits(_e,_),_e.prototype._transform=function(et,j,nt){nt(null,et)}},function(i,o,s){i.exports=s(23)},function(i,o,s){i.exports=s(31).Transform},function(i,o,s){i.exports=s(31).PassThrough},function(i,o,s){(function(_,$){var _e=s(74),et=s(171),j=s(172),nt=s(175),ot=s(178);for(var ct in ot)o[ct]=ot[ct];o.NONE=0,o.DEFLATE=1,o.INFLATE=2,o.GZIP=3,o.GUNZIP=4,o.DEFLATERAW=5,o.INFLATERAW=6,o.UNZIP=7;function gt(pt){if(typeof pt!="number"||pt<o.DEFLATE||pt>o.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=pt,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}gt.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,_e(this.init_done,"close before init"),_e(this.mode<=o.UNZIP),this.mode===o.DEFLATE||this.mode===o.GZIP||this.mode===o.DEFLATERAW?j.deflateEnd(this.strm):this.mode!==o.INFLATE&&this.mode!==o.GUNZIP&&this.mode!==o.INFLATERAW&&this.mode!==o.UNZIP||nt.inflateEnd(this.strm),this.mode=o.NONE,this.dictionary=null)},gt.prototype.write=function(pt,ft,ut,yt,wt,Qt,It){return this._write(!0,pt,ft,ut,yt,wt,Qt,It)},gt.prototype.writeSync=function(pt,ft,ut,yt,wt,Qt,It){return this._write(!1,pt,ft,ut,yt,wt,Qt,It)},gt.prototype._write=function(pt,ft,ut,yt,wt,Qt,It,xt){if(_e.equal(arguments.length,8),_e(this.init_done,"write before init"),_e(this.mode!==o.NONE,"already finalized"),_e.equal(!1,this.write_in_progress,"write already in progress"),_e.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,_e.equal(!1,ft===void 0,"must provide flush value"),this.write_in_progress=!0,ft!==o.Z_NO_FLUSH&&ft!==o.Z_PARTIAL_FLUSH&&ft!==o.Z_SYNC_FLUSH&&ft!==o.Z_FULL_FLUSH&&ft!==o.Z_FINISH&&ft!==o.Z_BLOCK)throw new Error("Invalid flush value");if(ut==null&&(ut=_.alloc(0),wt=0,yt=0),this.strm.avail_in=wt,this.strm.input=ut,this.strm.next_in=yt,this.strm.avail_out=xt,this.strm.output=Qt,this.strm.next_out=It,this.flush=ft,!pt)return this._process(),this._checkError()?this._afterSync():void 0;var Tt=this;return $.nextTick(function(){Tt._process(),Tt._after()}),this},gt.prototype._afterSync=function(){var pt=this.strm.avail_out,ft=this.strm.avail_in;return this.write_in_progress=!1,[ft,pt]},gt.prototype._process=function(){var pt=null;switch(this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflate(this.strm,this.flush);break;case o.UNZIP:switch(this.strm.avail_in>0&&(pt=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(pt===null)break;if(this.strm.input[pt]!==31){this.mode=o.INFLATE;break}if(this.gzip_id_bytes_read=1,pt++,this.strm.avail_in===1)break;case 1:if(pt===null)break;this.strm.input[pt]===139?(this.gzip_id_bytes_read=2,this.mode=o.GUNZIP):this.mode=o.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:for(this.err=nt.inflate(this.strm,this.flush),this.err===o.Z_NEED_DICT&&this.dictionary&&(this.err=nt.inflateSetDictionary(this.strm,this.dictionary),this.err===o.Z_OK?this.err=nt.inflate(this.strm,this.flush):this.err===o.Z_DATA_ERROR&&(this.err=o.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===o.GUNZIP&&this.err===o.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=nt.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},gt.prototype._checkError=function(){switch(this.err){case o.Z_OK:case o.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===o.Z_FINISH)return this._error("unexpected end of file"),!1;break;case o.Z_STREAM_END:break;case o.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},gt.prototype._after=function(){if(this._checkError()){var pt=this.strm.avail_out,ft=this.strm.avail_in;this.write_in_progress=!1,this.callback(ft,pt),this.pending_close&&this.close()}},gt.prototype._error=function(pt){this.strm.msg&&(pt=this.strm.msg),this.onerror(pt,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},gt.prototype.init=function(pt,ft,ut,yt,wt){_e(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),_e(pt>=8&&pt<=15,"invalid windowBits"),_e(ft>=-1&&ft<=9,"invalid compression level"),_e(ut>=1&&ut<=9,"invalid memlevel"),_e(yt===o.Z_FILTERED||yt===o.Z_HUFFMAN_ONLY||yt===o.Z_RLE||yt===o.Z_FIXED||yt===o.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ft,pt,ut,yt,wt),this._setDictionary()},gt.prototype.params=function(){throw new Error("deflateParams Not supported")},gt.prototype.reset=function(){this._reset(),this._setDictionary()},gt.prototype._init=function(pt,ft,ut,yt,wt){switch(this.level=pt,this.windowBits=ft,this.memLevel=ut,this.strategy=yt,this.flush=o.Z_NO_FLUSH,this.err=o.Z_OK,this.mode!==o.GZIP&&this.mode!==o.GUNZIP||(this.windowBits+=16),this.mode===o.UNZIP&&(this.windowBits+=32),this.mode!==o.DEFLATERAW&&this.mode!==o.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new et,this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflateInit2(this.strm,this.level,o.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:case o.UNZIP:this.err=nt.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==o.Z_OK&&this._error("Init error"),this.dictionary=wt,this.write_in_progress=!1,this.init_done=!0},gt.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:this.err=j.deflateSetDictionary(this.strm,this.dictionary)}this.err!==o.Z_OK&&this._error("Failed to set dictionary")}},gt.prototype._reset=function(){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:case o.GZIP:this.err=j.deflateReset(this.strm);break;case o.INFLATE:case o.INFLATERAW:case o.GUNZIP:this.err=nt.inflateReset(this.strm)}this.err!==o.Z_OK&&this._error("Failed to reset stream")},o.Zlib=gt}).call(this,s(5).Buffer,s(2))},function(i,o,s){var _=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;function et(j){if(j==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(j)}i.exports=function(){try{if(!Object.assign)return!1;var j=new String("abc");if(j[5]="de",Object.getOwnPropertyNames(j)[0]==="5")return!1;for(var nt={},ot=0;ot<10;ot++)nt["_"+String.fromCharCode(ot)]=ot;if(Object.getOwnPropertyNames(nt).map(function(gt){return nt[gt]}).join("")!=="0123456789")return!1;var ct={};return"abcdefghijklmnopqrst".split("").forEach(function(gt){ct[gt]=gt}),Object.keys(Object.assign({},ct)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(j,nt){for(var ot,ct,gt=et(j),pt=1;pt<arguments.length;pt++){for(var ft in ot=Object(arguments[pt]))$.call(ot,ft)&&(gt[ft]=ot[ft]);if(_){ct=_(ot);for(var ut=0;ut<ct.length;ut++)_e.call(ot,ct[ut])&&(gt[ct[ut]]=ot[ct[ut]])}}return gt}},function(i,o,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(i,o,s){var _,$=s(37),_e=s(173),et=s(75),j=s(76),nt=s(174);function ot(Ft,St){return Ft.msg=nt[St],St}function ct(Ft){return(Ft<<1)-(Ft>4?9:0)}function gt(Ft){for(var St=Ft.length;--St>=0;)Ft[St]=0}function pt(Ft){var St=Ft.state,Pt=St.pending;Pt>Ft.avail_out&&(Pt=Ft.avail_out),Pt!==0&&($.arraySet(Ft.output,St.pending_buf,St.pending_out,Pt,Ft.next_out),Ft.next_out+=Pt,St.pending_out+=Pt,Ft.total_out+=Pt,Ft.avail_out-=Pt,St.pending-=Pt,St.pending===0&&(St.pending_out=0))}function ft(Ft,St){_e._tr_flush_block(Ft,Ft.block_start>=0?Ft.block_start:-1,Ft.strstart-Ft.block_start,St),Ft.block_start=Ft.strstart,pt(Ft.strm)}function ut(Ft,St){Ft.pending_buf[Ft.pending++]=St}function yt(Ft,St){Ft.pending_buf[Ft.pending++]=St>>>8&255,Ft.pending_buf[Ft.pending++]=255&St}function wt(Ft,St){var Pt,Bt,jt=Ft.max_chain_length,qt=Ft.strstart,Zt=Ft.prev_length,Wt=Ft.nice_match,Gt=Ft.strstart>Ft.w_size-262?Ft.strstart-(Ft.w_size-262):0,Ht=Ft.window,kt=Ft.w_mask,Rt=Ft.prev,$t=Ft.strstart+258,nn=Ht[qt+Zt-1],Un=Ht[qt+Zt];Ft.prev_length>=Ft.good_match&&(jt>>=2),Wt>Ft.lookahead&&(Wt=Ft.lookahead);do if(Ht[(Pt=St)+Zt]===Un&&Ht[Pt+Zt-1]===nn&&Ht[Pt]===Ht[qt]&&Ht[++Pt]===Ht[qt+1]){qt+=2,Pt++;do;while(Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&Ht[++qt]===Ht[++Pt]&&qt<$t);if(Bt=258-($t-qt),qt=$t-258,Bt>Zt){if(Ft.match_start=St,Zt=Bt,Bt>=Wt)break;nn=Ht[qt+Zt-1],Un=Ht[qt+Zt]}}while((St=Rt[St&kt])>Gt&&--jt!=0);return Zt<=Ft.lookahead?Zt:Ft.lookahead}function Qt(Ft){var St,Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt,Rt=Ft.w_size;do{if(jt=Ft.window_size-Ft.lookahead-Ft.strstart,Ft.strstart>=Rt+(Rt-262)){$.arraySet(Ft.window,Ft.window,Rt,Rt,0),Ft.match_start-=Rt,Ft.strstart-=Rt,Ft.block_start-=Rt,St=Pt=Ft.hash_size;do Bt=Ft.head[--St],Ft.head[St]=Bt>=Rt?Bt-Rt:0;while(--Pt);St=Pt=Rt;do Bt=Ft.prev[--St],Ft.prev[St]=Bt>=Rt?Bt-Rt:0;while(--Pt);jt+=Rt}if(Ft.strm.avail_in===0)break;if(Zt=Ft.strm,Wt=Ft.window,Gt=Ft.strstart+Ft.lookahead,Ht=jt,kt=void 0,(kt=Zt.avail_in)>Ht&&(kt=Ht),Pt=kt===0?0:(Zt.avail_in-=kt,$.arraySet(Wt,Zt.input,Zt.next_in,kt,Gt),Zt.state.wrap===1?Zt.adler=et(Zt.adler,Wt,kt,Gt):Zt.state.wrap===2&&(Zt.adler=j(Zt.adler,Wt,kt,Gt)),Zt.next_in+=kt,Zt.total_in+=kt,kt),Ft.lookahead+=Pt,Ft.lookahead+Ft.insert>=3)for(qt=Ft.strstart-Ft.insert,Ft.ins_h=Ft.window[qt],Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[qt+1])&Ft.hash_mask;Ft.insert&&(Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[qt+3-1])&Ft.hash_mask,Ft.prev[qt&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=qt,qt++,Ft.insert--,!(Ft.lookahead+Ft.insert<3)););}while(Ft.lookahead<262&&Ft.strm.avail_in!==0)}function It(Ft,St){for(var Pt,Bt;;){if(Ft.lookahead<262){if(Qt(Ft),Ft.lookahead<262&&St===0)return 1;if(Ft.lookahead===0)break}if(Pt=0,Ft.lookahead>=3&&(Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+3-1])&Ft.hash_mask,Pt=Ft.prev[Ft.strstart&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ft.strstart),Pt!==0&&Ft.strstart-Pt<=Ft.w_size-262&&(Ft.match_length=wt(Ft,Pt)),Ft.match_length>=3)if(Bt=_e._tr_tally(Ft,Ft.strstart-Ft.match_start,Ft.match_length-3),Ft.lookahead-=Ft.match_length,Ft.match_length<=Ft.max_lazy_match&&Ft.lookahead>=3){Ft.match_length--;do Ft.strstart++,Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+3-1])&Ft.hash_mask,Pt=Ft.prev[Ft.strstart&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ft.strstart;while(--Ft.match_length!=0);Ft.strstart++}else Ft.strstart+=Ft.match_length,Ft.match_length=0,Ft.ins_h=Ft.window[Ft.strstart],Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+1])&Ft.hash_mask;else Bt=_e._tr_tally(Ft,0,Ft.window[Ft.strstart]),Ft.lookahead--,Ft.strstart++;if(Bt&&(ft(Ft,!1),Ft.strm.avail_out===0))return 1}return Ft.insert=Ft.strstart<2?Ft.strstart:2,St===4?(ft(Ft,!0),Ft.strm.avail_out===0?3:4):Ft.last_lit&&(ft(Ft,!1),Ft.strm.avail_out===0)?1:2}function xt(Ft,St){for(var Pt,Bt,jt;;){if(Ft.lookahead<262){if(Qt(Ft),Ft.lookahead<262&&St===0)return 1;if(Ft.lookahead===0)break}if(Pt=0,Ft.lookahead>=3&&(Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+3-1])&Ft.hash_mask,Pt=Ft.prev[Ft.strstart&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ft.strstart),Ft.prev_length=Ft.match_length,Ft.prev_match=Ft.match_start,Ft.match_length=2,Pt!==0&&Ft.prev_length<Ft.max_lazy_match&&Ft.strstart-Pt<=Ft.w_size-262&&(Ft.match_length=wt(Ft,Pt),Ft.match_length<=5&&(Ft.strategy===1||Ft.match_length===3&&Ft.strstart-Ft.match_start>4096)&&(Ft.match_length=2)),Ft.prev_length>=3&&Ft.match_length<=Ft.prev_length){jt=Ft.strstart+Ft.lookahead-3,Bt=_e._tr_tally(Ft,Ft.strstart-1-Ft.prev_match,Ft.prev_length-3),Ft.lookahead-=Ft.prev_length-1,Ft.prev_length-=2;do++Ft.strstart<=jt&&(Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ft.strstart+3-1])&Ft.hash_mask,Pt=Ft.prev[Ft.strstart&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ft.strstart);while(--Ft.prev_length!=0);if(Ft.match_available=0,Ft.match_length=2,Ft.strstart++,Bt&&(ft(Ft,!1),Ft.strm.avail_out===0))return 1}else if(Ft.match_available){if((Bt=_e._tr_tally(Ft,0,Ft.window[Ft.strstart-1]))&&ft(Ft,!1),Ft.strstart++,Ft.lookahead--,Ft.strm.avail_out===0)return 1}else Ft.match_available=1,Ft.strstart++,Ft.lookahead--}return Ft.match_available&&(Bt=_e._tr_tally(Ft,0,Ft.window[Ft.strstart-1]),Ft.match_available=0),Ft.insert=Ft.strstart<2?Ft.strstart:2,St===4?(ft(Ft,!0),Ft.strm.avail_out===0?3:4):Ft.last_lit&&(ft(Ft,!1),Ft.strm.avail_out===0)?1:2}function Tt(Ft,St,Pt,Bt,jt){this.good_length=Ft,this.max_lazy=St,this.nice_length=Pt,this.max_chain=Bt,this.func=jt}function mt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $.Buf16(1146),this.dyn_dtree=new $.Buf16(122),this.bl_tree=new $.Buf16(78),gt(this.dyn_ltree),gt(this.dyn_dtree),gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $.Buf16(16),this.heap=new $.Buf16(573),gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $.Buf16(573),gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Nt(Ft){var St;return Ft&&Ft.state?(Ft.total_in=Ft.total_out=0,Ft.data_type=2,(St=Ft.state).pending=0,St.pending_out=0,St.wrap<0&&(St.wrap=-St.wrap),St.status=St.wrap?42:113,Ft.adler=St.wrap===2?0:1,St.last_flush=0,_e._tr_init(St),0):ot(Ft,-2)}function en(Ft){var St,Pt=Nt(Ft);return Pt===0&&((St=Ft.state).window_size=2*St.w_size,gt(St.head),St.max_lazy_match=_[St.level].max_lazy,St.good_match=_[St.level].good_length,St.nice_match=_[St.level].nice_length,St.max_chain_length=_[St.level].max_chain,St.strstart=0,St.block_start=0,St.lookahead=0,St.insert=0,St.match_length=St.prev_length=2,St.match_available=0,St.ins_h=0),Pt}function rn(Ft,St,Pt,Bt,jt,qt){if(!Ft)return-2;var Zt=1;if(St===-1&&(St=6),Bt<0?(Zt=0,Bt=-Bt):Bt>15&&(Zt=2,Bt-=16),jt<1||jt>9||Pt!==8||Bt<8||Bt>15||St<0||St>9||qt<0||qt>4)return ot(Ft,-2);Bt===8&&(Bt=9);var Wt=new mt;return Ft.state=Wt,Wt.strm=Ft,Wt.wrap=Zt,Wt.gzhead=null,Wt.w_bits=Bt,Wt.w_size=1<<Wt.w_bits,Wt.w_mask=Wt.w_size-1,Wt.hash_bits=jt+7,Wt.hash_size=1<<Wt.hash_bits,Wt.hash_mask=Wt.hash_size-1,Wt.hash_shift=~~((Wt.hash_bits+3-1)/3),Wt.window=new $.Buf8(2*Wt.w_size),Wt.head=new $.Buf16(Wt.hash_size),Wt.prev=new $.Buf16(Wt.w_size),Wt.lit_bufsize=1<<jt+6,Wt.pending_buf_size=4*Wt.lit_bufsize,Wt.pending_buf=new $.Buf8(Wt.pending_buf_size),Wt.d_buf=1*Wt.lit_bufsize,Wt.l_buf=3*Wt.lit_bufsize,Wt.level=St,Wt.strategy=qt,Wt.method=Pt,en(Ft)}_=[new Tt(0,0,0,0,function(Ft,St){var Pt=65535;for(Pt>Ft.pending_buf_size-5&&(Pt=Ft.pending_buf_size-5);;){if(Ft.lookahead<=1){if(Qt(Ft),Ft.lookahead===0&&St===0)return 1;if(Ft.lookahead===0)break}Ft.strstart+=Ft.lookahead,Ft.lookahead=0;var Bt=Ft.block_start+Pt;if((Ft.strstart===0||Ft.strstart>=Bt)&&(Ft.lookahead=Ft.strstart-Bt,Ft.strstart=Bt,ft(Ft,!1),Ft.strm.avail_out===0)||Ft.strstart-Ft.block_start>=Ft.w_size-262&&(ft(Ft,!1),Ft.strm.avail_out===0))return 1}return Ft.insert=0,St===4?(ft(Ft,!0),Ft.strm.avail_out===0?3:4):(Ft.strstart>Ft.block_start&&(ft(Ft,!1),Ft.strm.avail_out),1)}),new Tt(4,4,8,4,It),new Tt(4,5,16,8,It),new Tt(4,6,32,32,It),new Tt(4,4,16,16,xt),new Tt(8,16,32,32,xt),new Tt(8,16,128,128,xt),new Tt(8,32,128,256,xt),new Tt(32,128,258,1024,xt),new Tt(32,258,258,4096,xt)],o.deflateInit=function(Ft,St){return rn(Ft,St,8,15,8,0)},o.deflateInit2=rn,o.deflateReset=en,o.deflateResetKeep=Nt,o.deflateSetHeader=function(Ft,St){return Ft&&Ft.state?Ft.state.wrap!==2?-2:(Ft.state.gzhead=St,0):-2},o.deflate=function(Ft,St){var Pt,Bt,jt,qt;if(!Ft||!Ft.state||St>5||St<0)return Ft?ot(Ft,-2):-2;if(Bt=Ft.state,!Ft.output||!Ft.input&&Ft.avail_in!==0||Bt.status===666&&St!==4)return ot(Ft,Ft.avail_out===0?-5:-2);if(Bt.strm=Ft,Pt=Bt.last_flush,Bt.last_flush=St,Bt.status===42)if(Bt.wrap===2)Ft.adler=0,ut(Bt,31),ut(Bt,139),ut(Bt,8),Bt.gzhead?(ut(Bt,(Bt.gzhead.text?1:0)+(Bt.gzhead.hcrc?2:0)+(Bt.gzhead.extra?4:0)+(Bt.gzhead.name?8:0)+(Bt.gzhead.comment?16:0)),ut(Bt,255&Bt.gzhead.time),ut(Bt,Bt.gzhead.time>>8&255),ut(Bt,Bt.gzhead.time>>16&255),ut(Bt,Bt.gzhead.time>>24&255),ut(Bt,Bt.level===9?2:Bt.strategy>=2||Bt.level<2?4:0),ut(Bt,255&Bt.gzhead.os),Bt.gzhead.extra&&Bt.gzhead.extra.length&&(ut(Bt,255&Bt.gzhead.extra.length),ut(Bt,Bt.gzhead.extra.length>>8&255)),Bt.gzhead.hcrc&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending,0)),Bt.gzindex=0,Bt.status=69):(ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,Bt.level===9?2:Bt.strategy>=2||Bt.level<2?4:0),ut(Bt,3),Bt.status=113);else{var Zt=8+(Bt.w_bits-8<<4)<<8;Zt|=(Bt.strategy>=2||Bt.level<2?0:Bt.level<6?1:Bt.level===6?2:3)<<6,Bt.strstart!==0&&(Zt|=32),Zt+=31-Zt%31,Bt.status=113,yt(Bt,Zt),Bt.strstart!==0&&(yt(Bt,Ft.adler>>>16),yt(Bt,65535&Ft.adler)),Ft.adler=1}if(Bt.status===69)if(Bt.gzhead.extra){for(jt=Bt.pending;Bt.gzindex<(65535&Bt.gzhead.extra.length)&&(Bt.pending!==Bt.pending_buf_size||(Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),pt(Ft),jt=Bt.pending,Bt.pending!==Bt.pending_buf_size));)ut(Bt,255&Bt.gzhead.extra[Bt.gzindex]),Bt.gzindex++;Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),Bt.gzindex===Bt.gzhead.extra.length&&(Bt.gzindex=0,Bt.status=73)}else Bt.status=73;if(Bt.status===73)if(Bt.gzhead.name){jt=Bt.pending;do{if(Bt.pending===Bt.pending_buf_size&&(Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),pt(Ft),jt=Bt.pending,Bt.pending===Bt.pending_buf_size)){qt=1;break}qt=Bt.gzindex<Bt.gzhead.name.length?255&Bt.gzhead.name.charCodeAt(Bt.gzindex++):0,ut(Bt,qt)}while(qt!==0);Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),qt===0&&(Bt.gzindex=0,Bt.status=91)}else Bt.status=91;if(Bt.status===91)if(Bt.gzhead.comment){jt=Bt.pending;do{if(Bt.pending===Bt.pending_buf_size&&(Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),pt(Ft),jt=Bt.pending,Bt.pending===Bt.pending_buf_size)){qt=1;break}qt=Bt.gzindex<Bt.gzhead.comment.length?255&Bt.gzhead.comment.charCodeAt(Bt.gzindex++):0,ut(Bt,qt)}while(qt!==0);Bt.gzhead.hcrc&&Bt.pending>jt&&(Ft.adler=j(Ft.adler,Bt.pending_buf,Bt.pending-jt,jt)),qt===0&&(Bt.status=103)}else Bt.status=103;if(Bt.status===103&&(Bt.gzhead.hcrc?(Bt.pending+2>Bt.pending_buf_size&&pt(Ft),Bt.pending+2<=Bt.pending_buf_size&&(ut(Bt,255&Ft.adler),ut(Bt,Ft.adler>>8&255),Ft.adler=0,Bt.status=113)):Bt.status=113),Bt.pending!==0){if(pt(Ft),Ft.avail_out===0)return Bt.last_flush=-1,0}else if(Ft.avail_in===0&&ct(St)<=ct(Pt)&&St!==4)return ot(Ft,-5);if(Bt.status===666&&Ft.avail_in!==0)return ot(Ft,-5);if(Ft.avail_in!==0||Bt.lookahead!==0||St!==0&&Bt.status!==666){var Wt=Bt.strategy===2?function(Gt,Ht){for(var kt;;){if(Gt.lookahead===0&&(Qt(Gt),Gt.lookahead===0)){if(Ht===0)return 1;break}if(Gt.match_length=0,kt=_e._tr_tally(Gt,0,Gt.window[Gt.strstart]),Gt.lookahead--,Gt.strstart++,kt&&(ft(Gt,!1),Gt.strm.avail_out===0))return 1}return Gt.insert=0,Ht===4?(ft(Gt,!0),Gt.strm.avail_out===0?3:4):Gt.last_lit&&(ft(Gt,!1),Gt.strm.avail_out===0)?1:2}(Bt,St):Bt.strategy===3?function(Gt,Ht){for(var kt,Rt,$t,nn,Un=Gt.window;;){if(Gt.lookahead<=258){if(Qt(Gt),Gt.lookahead<=258&&Ht===0)return 1;if(Gt.lookahead===0)break}if(Gt.match_length=0,Gt.lookahead>=3&&Gt.strstart>0&&(Rt=Un[$t=Gt.strstart-1])===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]){nn=Gt.strstart+258;do;while(Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&Rt===Un[++$t]&&$t<nn);Gt.match_length=258-(nn-$t),Gt.match_length>Gt.lookahead&&(Gt.match_length=Gt.lookahead)}if(Gt.match_length>=3?(kt=_e._tr_tally(Gt,1,Gt.match_length-3),Gt.lookahead-=Gt.match_length,Gt.strstart+=Gt.match_length,Gt.match_length=0):(kt=_e._tr_tally(Gt,0,Gt.window[Gt.strstart]),Gt.lookahead--,Gt.strstart++),kt&&(ft(Gt,!1),Gt.strm.avail_out===0))return 1}return Gt.insert=0,Ht===4?(ft(Gt,!0),Gt.strm.avail_out===0?3:4):Gt.last_lit&&(ft(Gt,!1),Gt.strm.avail_out===0)?1:2}(Bt,St):_[Bt.level].func(Bt,St);if(Wt!==3&&Wt!==4||(Bt.status=666),Wt===1||Wt===3)return Ft.avail_out===0&&(Bt.last_flush=-1),0;if(Wt===2&&(St===1?_e._tr_align(Bt):St!==5&&(_e._tr_stored_block(Bt,0,0,!1),St===3&&(gt(Bt.head),Bt.lookahead===0&&(Bt.strstart=0,Bt.block_start=0,Bt.insert=0))),pt(Ft),Ft.avail_out===0))return Bt.last_flush=-1,0}return St!==4?0:Bt.wrap<=0?1:(Bt.wrap===2?(ut(Bt,255&Ft.adler),ut(Bt,Ft.adler>>8&255),ut(Bt,Ft.adler>>16&255),ut(Bt,Ft.adler>>24&255),ut(Bt,255&Ft.total_in),ut(Bt,Ft.total_in>>8&255),ut(Bt,Ft.total_in>>16&255),ut(Bt,Ft.total_in>>24&255)):(yt(Bt,Ft.adler>>>16),yt(Bt,65535&Ft.adler)),pt(Ft),Bt.wrap>0&&(Bt.wrap=-Bt.wrap),Bt.pending!==0?0:1)},o.deflateEnd=function(Ft){var St;return Ft&&Ft.state?(St=Ft.state.status)!==42&&St!==69&&St!==73&&St!==91&&St!==103&&St!==113&&St!==666?ot(Ft,-2):(Ft.state=null,St===113?ot(Ft,-3):0):-2},o.deflateSetDictionary=function(Ft,St){var Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt=St.length;if(!Ft||!Ft.state||(qt=(Pt=Ft.state).wrap)===2||qt===1&&Pt.status!==42||Pt.lookahead)return-2;for(qt===1&&(Ft.adler=et(Ft.adler,St,kt,0)),Pt.wrap=0,kt>=Pt.w_size&&(qt===0&&(gt(Pt.head),Pt.strstart=0,Pt.block_start=0,Pt.insert=0),Ht=new $.Buf8(Pt.w_size),$.arraySet(Ht,St,kt-Pt.w_size,Pt.w_size,0),St=Ht,kt=Pt.w_size),Zt=Ft.avail_in,Wt=Ft.next_in,Gt=Ft.input,Ft.avail_in=kt,Ft.next_in=0,Ft.input=St,Qt(Pt);Pt.lookahead>=3;){Bt=Pt.strstart,jt=Pt.lookahead-2;do Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[Bt+3-1])&Pt.hash_mask,Pt.prev[Bt&Pt.w_mask]=Pt.head[Pt.ins_h],Pt.head[Pt.ins_h]=Bt,Bt++;while(--jt);Pt.strstart=Bt,Pt.lookahead=2,Qt(Pt)}return Pt.strstart+=Pt.lookahead,Pt.block_start=Pt.strstart,Pt.insert=Pt.lookahead,Pt.lookahead=0,Pt.match_length=Pt.prev_length=2,Pt.match_available=0,Ft.next_in=Wt,Ft.input=Gt,Ft.avail_in=Zt,Pt.wrap=qt,0},o.deflateInfo="pako deflate (from Nodeca project)"},function(i,o,s){var _=s(37);function $(Rt){for(var $t=Rt.length;--$t>=0;)Rt[$t]=0}var _e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],et=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=new Array(576);$(ot);var ct=new Array(60);$(ct);var gt=new Array(512);$(gt);var pt=new Array(256);$(pt);var ft=new Array(29);$(ft);var ut,yt,wt,Qt=new Array(30);function It(Rt,$t,nn,Un,Fn){this.static_tree=Rt,this.extra_bits=$t,this.extra_base=nn,this.elems=Un,this.max_length=Fn,this.has_stree=Rt&&Rt.length}function xt(Rt,$t){this.dyn_tree=Rt,this.max_code=0,this.stat_desc=$t}function Tt(Rt){return Rt<256?gt[Rt]:gt[256+(Rt>>>7)]}function mt(Rt,$t){Rt.pending_buf[Rt.pending++]=255&$t,Rt.pending_buf[Rt.pending++]=$t>>>8&255}function Nt(Rt,$t,nn){Rt.bi_valid>16-nn?(Rt.bi_buf|=$t<<Rt.bi_valid&65535,mt(Rt,Rt.bi_buf),Rt.bi_buf=$t>>16-Rt.bi_valid,Rt.bi_valid+=nn-16):(Rt.bi_buf|=$t<<Rt.bi_valid&65535,Rt.bi_valid+=nn)}function en(Rt,$t,nn){Nt(Rt,nn[2*$t],nn[2*$t+1])}function rn(Rt,$t){var nn=0;do nn|=1&Rt,Rt>>>=1,nn<<=1;while(--$t>0);return nn>>>1}function Ft(Rt,$t,nn){var Un,Fn,En=new Array(16),fn=0;for(Un=1;Un<=15;Un++)En[Un]=fn=fn+nn[Un-1]<<1;for(Fn=0;Fn<=$t;Fn++){var sn=Rt[2*Fn+1];sn!==0&&(Rt[2*Fn]=rn(En[sn]++,sn))}}function St(Rt){var $t;for($t=0;$t<286;$t++)Rt.dyn_ltree[2*$t]=0;for($t=0;$t<30;$t++)Rt.dyn_dtree[2*$t]=0;for($t=0;$t<19;$t++)Rt.bl_tree[2*$t]=0;Rt.dyn_ltree[512]=1,Rt.opt_len=Rt.static_len=0,Rt.last_lit=Rt.matches=0}function Pt(Rt){Rt.bi_valid>8?mt(Rt,Rt.bi_buf):Rt.bi_valid>0&&(Rt.pending_buf[Rt.pending++]=Rt.bi_buf),Rt.bi_buf=0,Rt.bi_valid=0}function Bt(Rt,$t,nn,Un){var Fn=2*$t,En=2*nn;return Rt[Fn]<Rt[En]||Rt[Fn]===Rt[En]&&Un[$t]<=Un[nn]}function jt(Rt,$t,nn){for(var Un=Rt.heap[nn],Fn=nn<<1;Fn<=Rt.heap_len&&(Fn<Rt.heap_len&&Bt($t,Rt.heap[Fn+1],Rt.heap[Fn],Rt.depth)&&Fn++,!Bt($t,Un,Rt.heap[Fn],Rt.depth));)Rt.heap[nn]=Rt.heap[Fn],nn=Fn,Fn<<=1;Rt.heap[nn]=Un}function qt(Rt,$t,nn){var Un,Fn,En,fn,sn=0;if(Rt.last_lit!==0)do Un=Rt.pending_buf[Rt.d_buf+2*sn]<<8|Rt.pending_buf[Rt.d_buf+2*sn+1],Fn=Rt.pending_buf[Rt.l_buf+sn],sn++,Un===0?en(Rt,Fn,$t):(en(Rt,(En=pt[Fn])+256+1,$t),(fn=_e[En])!==0&&Nt(Rt,Fn-=ft[En],fn),en(Rt,En=Tt(--Un),nn),(fn=et[En])!==0&&Nt(Rt,Un-=Qt[En],fn));while(sn<Rt.last_lit);en(Rt,256,$t)}function Zt(Rt,$t){var nn,Un,Fn,En=$t.dyn_tree,fn=$t.stat_desc.static_tree,sn=$t.stat_desc.has_stree,Ct=$t.stat_desc.elems,Dt=-1;for(Rt.heap_len=0,Rt.heap_max=573,nn=0;nn<Ct;nn++)En[2*nn]!==0?(Rt.heap[++Rt.heap_len]=Dt=nn,Rt.depth[nn]=0):En[2*nn+1]=0;for(;Rt.heap_len<2;)En[2*(Fn=Rt.heap[++Rt.heap_len]=Dt<2?++Dt:0)]=1,Rt.depth[Fn]=0,Rt.opt_len--,sn&&(Rt.static_len-=fn[2*Fn+1]);for($t.max_code=Dt,nn=Rt.heap_len>>1;nn>=1;nn--)jt(Rt,En,nn);Fn=Ct;do nn=Rt.heap[1],Rt.heap[1]=Rt.heap[Rt.heap_len--],jt(Rt,En,1),Un=Rt.heap[1],Rt.heap[--Rt.heap_max]=nn,Rt.heap[--Rt.heap_max]=Un,En[2*Fn]=En[2*nn]+En[2*Un],Rt.depth[Fn]=(Rt.depth[nn]>=Rt.depth[Un]?Rt.depth[nn]:Rt.depth[Un])+1,En[2*nn+1]=En[2*Un+1]=Fn,Rt.heap[1]=Fn++,jt(Rt,En,1);while(Rt.heap_len>=2);Rt.heap[--Rt.heap_max]=Rt.heap[1],function(Xt,_n){var mn,xn,On,nr,Nr,co,Zr=_n.dyn_tree,mo=_n.max_code,qr=_n.stat_desc.static_tree,io=_n.stat_desc.has_stree,lo=_n.stat_desc.extra_bits,Vo=_n.stat_desc.extra_base,Io=_n.stat_desc.max_length,Go=0;for(nr=0;nr<=15;nr++)Xt.bl_count[nr]=0;for(Zr[2*Xt.heap[Xt.heap_max]+1]=0,mn=Xt.heap_max+1;mn<573;mn++)(nr=Zr[2*Zr[2*(xn=Xt.heap[mn])+1]+1]+1)>Io&&(nr=Io,Go++),Zr[2*xn+1]=nr,xn>mo||(Xt.bl_count[nr]++,Nr=0,xn>=Vo&&(Nr=lo[xn-Vo]),co=Zr[2*xn],Xt.opt_len+=co*(nr+Nr),io&&(Xt.static_len+=co*(qr[2*xn+1]+Nr)));if(Go!==0){do{for(nr=Io-1;Xt.bl_count[nr]===0;)nr--;Xt.bl_count[nr]--,Xt.bl_count[nr+1]+=2,Xt.bl_count[Io]--,Go-=2}while(Go>0);for(nr=Io;nr!==0;nr--)for(xn=Xt.bl_count[nr];xn!==0;)(On=Xt.heap[--mn])>mo||(Zr[2*On+1]!==nr&&(Xt.opt_len+=(nr-Zr[2*On+1])*Zr[2*On],Zr[2*On+1]=nr),xn--)}}(Rt,$t),Ft(En,Dt,Rt.bl_count)}function Wt(Rt,$t,nn){var Un,Fn,En=-1,fn=$t[1],sn=0,Ct=7,Dt=4;for(fn===0&&(Ct=138,Dt=3),$t[2*(nn+1)+1]=65535,Un=0;Un<=nn;Un++)Fn=fn,fn=$t[2*(Un+1)+1],++sn<Ct&&Fn===fn||(sn<Dt?Rt.bl_tree[2*Fn]+=sn:Fn!==0?(Fn!==En&&Rt.bl_tree[2*Fn]++,Rt.bl_tree[32]++):sn<=10?Rt.bl_tree[34]++:Rt.bl_tree[36]++,sn=0,En=Fn,fn===0?(Ct=138,Dt=3):Fn===fn?(Ct=6,Dt=3):(Ct=7,Dt=4))}function Gt(Rt,$t,nn){var Un,Fn,En=-1,fn=$t[1],sn=0,Ct=7,Dt=4;for(fn===0&&(Ct=138,Dt=3),Un=0;Un<=nn;Un++)if(Fn=fn,fn=$t[2*(Un+1)+1],!(++sn<Ct&&Fn===fn)){if(sn<Dt)do en(Rt,Fn,Rt.bl_tree);while(--sn!=0);else Fn!==0?(Fn!==En&&(en(Rt,Fn,Rt.bl_tree),sn--),en(Rt,16,Rt.bl_tree),Nt(Rt,sn-3,2)):sn<=10?(en(Rt,17,Rt.bl_tree),Nt(Rt,sn-3,3)):(en(Rt,18,Rt.bl_tree),Nt(Rt,sn-11,7));sn=0,En=Fn,fn===0?(Ct=138,Dt=3):Fn===fn?(Ct=6,Dt=3):(Ct=7,Dt=4)}}$(Qt);var Ht=!1;function kt(Rt,$t,nn,Un){Nt(Rt,0+(Un?1:0),3),function(Fn,En,fn,sn){Pt(Fn),sn&&(mt(Fn,fn),mt(Fn,~fn)),_.arraySet(Fn.pending_buf,Fn.window,En,fn,Fn.pending),Fn.pending+=fn}(Rt,$t,nn,!0)}o._tr_init=function(Rt){Ht||(function(){var $t,nn,Un,Fn,En,fn=new Array(16);for(Un=0,Fn=0;Fn<28;Fn++)for(ft[Fn]=Un,$t=0;$t<1<<_e[Fn];$t++)pt[Un++]=Fn;for(pt[Un-1]=Fn,En=0,Fn=0;Fn<16;Fn++)for(Qt[Fn]=En,$t=0;$t<1<<et[Fn];$t++)gt[En++]=Fn;for(En>>=7;Fn<30;Fn++)for(Qt[Fn]=En<<7,$t=0;$t<1<<et[Fn]-7;$t++)gt[256+En++]=Fn;for(nn=0;nn<=15;nn++)fn[nn]=0;for($t=0;$t<=143;)ot[2*$t+1]=8,$t++,fn[8]++;for(;$t<=255;)ot[2*$t+1]=9,$t++,fn[9]++;for(;$t<=279;)ot[2*$t+1]=7,$t++,fn[7]++;for(;$t<=287;)ot[2*$t+1]=8,$t++,fn[8]++;for(Ft(ot,287,fn),$t=0;$t<30;$t++)ct[2*$t+1]=5,ct[2*$t]=rn($t,5);ut=new It(ot,_e,257,286,15),yt=new It(ct,et,0,30,15),wt=new It(new Array(0),j,0,19,7)}(),Ht=!0),Rt.l_desc=new xt(Rt.dyn_ltree,ut),Rt.d_desc=new xt(Rt.dyn_dtree,yt),Rt.bl_desc=new xt(Rt.bl_tree,wt),Rt.bi_buf=0,Rt.bi_valid=0,St(Rt)},o._tr_stored_block=kt,o._tr_flush_block=function(Rt,$t,nn,Un){var Fn,En,fn=0;Rt.level>0?(Rt.strm.data_type===2&&(Rt.strm.data_type=function(sn){var Ct,Dt=4093624447;for(Ct=0;Ct<=31;Ct++,Dt>>>=1)if(1&Dt&&sn.dyn_ltree[2*Ct]!==0)return 0;if(sn.dyn_ltree[18]!==0||sn.dyn_ltree[20]!==0||sn.dyn_ltree[26]!==0)return 1;for(Ct=32;Ct<256;Ct++)if(sn.dyn_ltree[2*Ct]!==0)return 1;return 0}(Rt)),Zt(Rt,Rt.l_desc),Zt(Rt,Rt.d_desc),fn=function(sn){var Ct;for(Wt(sn,sn.dyn_ltree,sn.l_desc.max_code),Wt(sn,sn.dyn_dtree,sn.d_desc.max_code),Zt(sn,sn.bl_desc),Ct=18;Ct>=3&&sn.bl_tree[2*nt[Ct]+1]===0;Ct--);return sn.opt_len+=3*(Ct+1)+5+5+4,Ct}(Rt),Fn=Rt.opt_len+3+7>>>3,(En=Rt.static_len+3+7>>>3)<=Fn&&(Fn=En)):Fn=En=nn+5,nn+4<=Fn&&$t!==-1?kt(Rt,$t,nn,Un):Rt.strategy===4||En===Fn?(Nt(Rt,2+(Un?1:0),3),qt(Rt,ot,ct)):(Nt(Rt,4+(Un?1:0),3),function(sn,Ct,Dt,Xt){var _n;for(Nt(sn,Ct-257,5),Nt(sn,Dt-1,5),Nt(sn,Xt-4,4),_n=0;_n<Xt;_n++)Nt(sn,sn.bl_tree[2*nt[_n]+1],3);Gt(sn,sn.dyn_ltree,Ct-1),Gt(sn,sn.dyn_dtree,Dt-1)}(Rt,Rt.l_desc.max_code+1,Rt.d_desc.max_code+1,fn+1),qt(Rt,Rt.dyn_ltree,Rt.dyn_dtree)),St(Rt),Un&&Pt(Rt)},o._tr_tally=function(Rt,$t,nn){return Rt.pending_buf[Rt.d_buf+2*Rt.last_lit]=$t>>>8&255,Rt.pending_buf[Rt.d_buf+2*Rt.last_lit+1]=255&$t,Rt.pending_buf[Rt.l_buf+Rt.last_lit]=255&nn,Rt.last_lit++,$t===0?Rt.dyn_ltree[2*nn]++:(Rt.matches++,$t--,Rt.dyn_ltree[2*(pt[nn]+256+1)]++,Rt.dyn_dtree[2*Tt($t)]++),Rt.last_lit===Rt.lit_bufsize-1},o._tr_align=function(Rt){Nt(Rt,2,3),en(Rt,256,ot),function($t){$t.bi_valid===16?(mt($t,$t.bi_buf),$t.bi_buf=0,$t.bi_valid=0):$t.bi_valid>=8&&($t.pending_buf[$t.pending++]=255&$t.bi_buf,$t.bi_buf>>=8,$t.bi_valid-=8)}(Rt)}},function(i,o,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(i,o,s){var _=s(37),$=s(75),_e=s(76),et=s(176),j=s(177);function nt(xt){return(xt>>>24&255)+(xt>>>8&65280)+((65280&xt)<<8)+((255&xt)<<24)}function ot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ct(xt){var Tt;return xt&&xt.state?(Tt=xt.state,xt.total_in=xt.total_out=Tt.total=0,xt.msg="",Tt.wrap&&(xt.adler=1&Tt.wrap),Tt.mode=1,Tt.last=0,Tt.havedict=0,Tt.dmax=32768,Tt.head=null,Tt.hold=0,Tt.bits=0,Tt.lencode=Tt.lendyn=new _.Buf32(852),Tt.distcode=Tt.distdyn=new _.Buf32(592),Tt.sane=1,Tt.back=-1,0):-2}function gt(xt){var Tt;return xt&&xt.state?((Tt=xt.state).wsize=0,Tt.whave=0,Tt.wnext=0,ct(xt)):-2}function pt(xt,Tt){var mt,Nt;return xt&&xt.state?(Nt=xt.state,Tt<0?(mt=0,Tt=-Tt):(mt=1+(Tt>>4),Tt<48&&(Tt&=15)),Tt&&(Tt<8||Tt>15)?-2:(Nt.window!==null&&Nt.wbits!==Tt&&(Nt.window=null),Nt.wrap=mt,Nt.wbits=Tt,gt(xt))):-2}function ft(xt,Tt){var mt,Nt;return xt?(Nt=new ot,xt.state=Nt,Nt.window=null,(mt=pt(xt,Tt))!==0&&(xt.state=null),mt):-2}var ut,yt,wt=!0;function Qt(xt){if(wt){var Tt;for(ut=new _.Buf32(512),yt=new _.Buf32(32),Tt=0;Tt<144;)xt.lens[Tt++]=8;for(;Tt<256;)xt.lens[Tt++]=9;for(;Tt<280;)xt.lens[Tt++]=7;for(;Tt<288;)xt.lens[Tt++]=8;for(j(1,xt.lens,0,288,ut,0,xt.work,{bits:9}),Tt=0;Tt<32;)xt.lens[Tt++]=5;j(2,xt.lens,0,32,yt,0,xt.work,{bits:5}),wt=!1}xt.lencode=ut,xt.lenbits=9,xt.distcode=yt,xt.distbits=5}function It(xt,Tt,mt,Nt){var en,rn=xt.state;return rn.window===null&&(rn.wsize=1<<rn.wbits,rn.wnext=0,rn.whave=0,rn.window=new _.Buf8(rn.wsize)),Nt>=rn.wsize?(_.arraySet(rn.window,Tt,mt-rn.wsize,rn.wsize,0),rn.wnext=0,rn.whave=rn.wsize):((en=rn.wsize-rn.wnext)>Nt&&(en=Nt),_.arraySet(rn.window,Tt,mt-Nt,en,rn.wnext),(Nt-=en)?(_.arraySet(rn.window,Tt,mt-Nt,Nt,0),rn.wnext=Nt,rn.whave=rn.wsize):(rn.wnext+=en,rn.wnext===rn.wsize&&(rn.wnext=0),rn.whave<rn.wsize&&(rn.whave+=en))),0}o.inflateReset=gt,o.inflateReset2=pt,o.inflateResetKeep=ct,o.inflateInit=function(xt){return ft(xt,15)},o.inflateInit2=ft,o.inflate=function(xt,Tt){var mt,Nt,en,rn,Ft,St,Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt,Rt,$t,nn,Un,Fn,En,fn,sn,Ct,Dt=0,Xt=new _.Buf8(4),_n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!xt||!xt.state||!xt.output||!xt.input&&xt.avail_in!==0)return-2;(mt=xt.state).mode===12&&(mt.mode=13),Ft=xt.next_out,en=xt.output,Pt=xt.avail_out,rn=xt.next_in,Nt=xt.input,St=xt.avail_in,Bt=mt.hold,jt=mt.bits,qt=St,Zt=Pt,fn=0;e:for(;;)switch(mt.mode){case 1:if(mt.wrap===0){mt.mode=13;break}for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(2&mt.wrap&&Bt===35615){mt.check=0,Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,mt.check=_e(mt.check,Xt,2,0),Bt=0,jt=0,mt.mode=2;break}if(mt.flags=0,mt.head&&(mt.head.done=!1),!(1&mt.wrap)||(((255&Bt)<<8)+(Bt>>8))%31){xt.msg="incorrect header check",mt.mode=30;break}if((15&Bt)!=8){xt.msg="unknown compression method",mt.mode=30;break}if(jt-=4,En=8+(15&(Bt>>>=4)),mt.wbits===0)mt.wbits=En;else if(En>mt.wbits){xt.msg="invalid window size",mt.mode=30;break}mt.dmax=1<<En,xt.adler=mt.check=1,mt.mode=512&Bt?10:12,Bt=0,jt=0;break;case 2:for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(mt.flags=Bt,(255&mt.flags)!=8){xt.msg="unknown compression method",mt.mode=30;break}if(57344&mt.flags){xt.msg="unknown header flags set",mt.mode=30;break}mt.head&&(mt.head.text=Bt>>8&1),512&mt.flags&&(Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,mt.check=_e(mt.check,Xt,2,0)),Bt=0,jt=0,mt.mode=3;case 3:for(;jt<32;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.head&&(mt.head.time=Bt),512&mt.flags&&(Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,Xt[2]=Bt>>>16&255,Xt[3]=Bt>>>24&255,mt.check=_e(mt.check,Xt,4,0)),Bt=0,jt=0,mt.mode=4;case 4:for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.head&&(mt.head.xflags=255&Bt,mt.head.os=Bt>>8),512&mt.flags&&(Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,mt.check=_e(mt.check,Xt,2,0)),Bt=0,jt=0,mt.mode=5;case 5:if(1024&mt.flags){for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.length=Bt,mt.head&&(mt.head.extra_len=Bt),512&mt.flags&&(Xt[0]=255&Bt,Xt[1]=Bt>>>8&255,mt.check=_e(mt.check,Xt,2,0)),Bt=0,jt=0}else mt.head&&(mt.head.extra=null);mt.mode=6;case 6:if(1024&mt.flags&&((Wt=mt.length)>St&&(Wt=St),Wt&&(mt.head&&(En=mt.head.extra_len-mt.length,mt.head.extra||(mt.head.extra=new Array(mt.head.extra_len)),_.arraySet(mt.head.extra,Nt,rn,Wt,En)),512&mt.flags&&(mt.check=_e(mt.check,Nt,Wt,rn)),St-=Wt,rn+=Wt,mt.length-=Wt),mt.length))break e;mt.length=0,mt.mode=7;case 7:if(2048&mt.flags){if(St===0)break e;Wt=0;do En=Nt[rn+Wt++],mt.head&&En&&mt.length<65536&&(mt.head.name+=String.fromCharCode(En));while(En&&Wt<St);if(512&mt.flags&&(mt.check=_e(mt.check,Nt,Wt,rn)),St-=Wt,rn+=Wt,En)break e}else mt.head&&(mt.head.name=null);mt.length=0,mt.mode=8;case 8:if(4096&mt.flags){if(St===0)break e;Wt=0;do En=Nt[rn+Wt++],mt.head&&En&&mt.length<65536&&(mt.head.comment+=String.fromCharCode(En));while(En&&Wt<St);if(512&mt.flags&&(mt.check=_e(mt.check,Nt,Wt,rn)),St-=Wt,rn+=Wt,En)break e}else mt.head&&(mt.head.comment=null);mt.mode=9;case 9:if(512&mt.flags){for(;jt<16;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(Bt!==(65535&mt.check)){xt.msg="header crc mismatch",mt.mode=30;break}Bt=0,jt=0}mt.head&&(mt.head.hcrc=mt.flags>>9&1,mt.head.done=!0),xt.adler=mt.check=0,mt.mode=12;break;case 10:for(;jt<32;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}xt.adler=mt.check=nt(Bt),Bt=0,jt=0,mt.mode=11;case 11:if(mt.havedict===0)return xt.next_out=Ft,xt.avail_out=Pt,xt.next_in=rn,xt.avail_in=St,mt.hold=Bt,mt.bits=jt,2;xt.adler=mt.check=1,mt.mode=12;case 12:if(Tt===5||Tt===6)break e;case 13:if(mt.last){Bt>>>=7&jt,jt-=7&jt,mt.mode=27;break}for(;jt<3;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}switch(mt.last=1&Bt,jt-=1,3&(Bt>>>=1)){case 0:mt.mode=14;break;case 1:if(Qt(mt),mt.mode=20,Tt===6){Bt>>>=2,jt-=2;break e}break;case 2:mt.mode=17;break;case 3:xt.msg="invalid block type",mt.mode=30}Bt>>>=2,jt-=2;break;case 14:for(Bt>>>=7&jt,jt-=7&jt;jt<32;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if((65535&Bt)!=(Bt>>>16^65535)){xt.msg="invalid stored block lengths",mt.mode=30;break}if(mt.length=65535&Bt,Bt=0,jt=0,mt.mode=15,Tt===6)break e;case 15:mt.mode=16;case 16:if(Wt=mt.length){if(Wt>St&&(Wt=St),Wt>Pt&&(Wt=Pt),Wt===0)break e;_.arraySet(en,Nt,rn,Wt,Ft),St-=Wt,rn+=Wt,Pt-=Wt,Ft+=Wt,mt.length-=Wt;break}mt.mode=12;break;case 17:for(;jt<14;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(mt.nlen=257+(31&Bt),Bt>>>=5,jt-=5,mt.ndist=1+(31&Bt),Bt>>>=5,jt-=5,mt.ncode=4+(15&Bt),Bt>>>=4,jt-=4,mt.nlen>286||mt.ndist>30){xt.msg="too many length or distance symbols",mt.mode=30;break}mt.have=0,mt.mode=18;case 18:for(;mt.have<mt.ncode;){for(;jt<3;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.lens[_n[mt.have++]]=7&Bt,Bt>>>=3,jt-=3}for(;mt.have<19;)mt.lens[_n[mt.have++]]=0;if(mt.lencode=mt.lendyn,mt.lenbits=7,sn={bits:mt.lenbits},fn=j(0,mt.lens,0,19,mt.lencode,0,mt.work,sn),mt.lenbits=sn.bits,fn){xt.msg="invalid code lengths set",mt.mode=30;break}mt.have=0,mt.mode=19;case 19:for(;mt.have<mt.nlen+mt.ndist;){for(;Rt=(Dt=mt.lencode[Bt&(1<<mt.lenbits)-1])>>>16&255,$t=65535&Dt,!((kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if($t<16)Bt>>>=kt,jt-=kt,mt.lens[mt.have++]=$t;else{if($t===16){for(Ct=kt+2;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(Bt>>>=kt,jt-=kt,mt.have===0){xt.msg="invalid bit length repeat",mt.mode=30;break}En=mt.lens[mt.have-1],Wt=3+(3&Bt),Bt>>>=2,jt-=2}else if($t===17){for(Ct=kt+3;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}jt-=kt,En=0,Wt=3+(7&(Bt>>>=kt)),Bt>>>=3,jt-=3}else{for(Ct=kt+7;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}jt-=kt,En=0,Wt=11+(127&(Bt>>>=kt)),Bt>>>=7,jt-=7}if(mt.have+Wt>mt.nlen+mt.ndist){xt.msg="invalid bit length repeat",mt.mode=30;break}for(;Wt--;)mt.lens[mt.have++]=En}}if(mt.mode===30)break;if(mt.lens[256]===0){xt.msg="invalid code -- missing end-of-block",mt.mode=30;break}if(mt.lenbits=9,sn={bits:mt.lenbits},fn=j(1,mt.lens,0,mt.nlen,mt.lencode,0,mt.work,sn),mt.lenbits=sn.bits,fn){xt.msg="invalid literal/lengths set",mt.mode=30;break}if(mt.distbits=6,mt.distcode=mt.distdyn,sn={bits:mt.distbits},fn=j(2,mt.lens,mt.nlen,mt.ndist,mt.distcode,0,mt.work,sn),mt.distbits=sn.bits,fn){xt.msg="invalid distances set",mt.mode=30;break}if(mt.mode=20,Tt===6)break e;case 20:mt.mode=21;case 21:if(St>=6&&Pt>=258){xt.next_out=Ft,xt.avail_out=Pt,xt.next_in=rn,xt.avail_in=St,mt.hold=Bt,mt.bits=jt,et(xt,Zt),Ft=xt.next_out,en=xt.output,Pt=xt.avail_out,rn=xt.next_in,Nt=xt.input,St=xt.avail_in,Bt=mt.hold,jt=mt.bits,mt.mode===12&&(mt.back=-1);break}for(mt.back=0;Rt=(Dt=mt.lencode[Bt&(1<<mt.lenbits)-1])>>>16&255,$t=65535&Dt,!((kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(Rt&&!(240&Rt)){for(nn=kt,Un=Rt,Fn=$t;Rt=(Dt=mt.lencode[Fn+((Bt&(1<<nn+Un)-1)>>nn)])>>>16&255,$t=65535&Dt,!(nn+(kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}Bt>>>=nn,jt-=nn,mt.back+=nn}if(Bt>>>=kt,jt-=kt,mt.back+=kt,mt.length=$t,Rt===0){mt.mode=26;break}if(32&Rt){mt.back=-1,mt.mode=12;break}if(64&Rt){xt.msg="invalid literal/length code",mt.mode=30;break}mt.extra=15&Rt,mt.mode=22;case 22:if(mt.extra){for(Ct=mt.extra;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.length+=Bt&(1<<mt.extra)-1,Bt>>>=mt.extra,jt-=mt.extra,mt.back+=mt.extra}mt.was=mt.length,mt.mode=23;case 23:for(;Rt=(Dt=mt.distcode[Bt&(1<<mt.distbits)-1])>>>16&255,$t=65535&Dt,!((kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(!(240&Rt)){for(nn=kt,Un=Rt,Fn=$t;Rt=(Dt=mt.distcode[Fn+((Bt&(1<<nn+Un)-1)>>nn)])>>>16&255,$t=65535&Dt,!(nn+(kt=Dt>>>24)<=jt);){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}Bt>>>=nn,jt-=nn,mt.back+=nn}if(Bt>>>=kt,jt-=kt,mt.back+=kt,64&Rt){xt.msg="invalid distance code",mt.mode=30;break}mt.offset=$t,mt.extra=15&Rt,mt.mode=24;case 24:if(mt.extra){for(Ct=mt.extra;jt<Ct;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}mt.offset+=Bt&(1<<mt.extra)-1,Bt>>>=mt.extra,jt-=mt.extra,mt.back+=mt.extra}if(mt.offset>mt.dmax){xt.msg="invalid distance too far back",mt.mode=30;break}mt.mode=25;case 25:if(Pt===0)break e;if(Wt=Zt-Pt,mt.offset>Wt){if((Wt=mt.offset-Wt)>mt.whave&&mt.sane){xt.msg="invalid distance too far back",mt.mode=30;break}Wt>mt.wnext?(Wt-=mt.wnext,Gt=mt.wsize-Wt):Gt=mt.wnext-Wt,Wt>mt.length&&(Wt=mt.length),Ht=mt.window}else Ht=en,Gt=Ft-mt.offset,Wt=mt.length;Wt>Pt&&(Wt=Pt),Pt-=Wt,mt.length-=Wt;do en[Ft++]=Ht[Gt++];while(--Wt);mt.length===0&&(mt.mode=21);break;case 26:if(Pt===0)break e;en[Ft++]=mt.length,Pt--,mt.mode=21;break;case 27:if(mt.wrap){for(;jt<32;){if(St===0)break e;St--,Bt|=Nt[rn++]<<jt,jt+=8}if(Zt-=Pt,xt.total_out+=Zt,mt.total+=Zt,Zt&&(xt.adler=mt.check=mt.flags?_e(mt.check,en,Zt,Ft-Zt):$(mt.check,en,Zt,Ft-Zt)),Zt=Pt,(mt.flags?Bt:nt(Bt))!==mt.check){xt.msg="incorrect data check",mt.mode=30;break}Bt=0,jt=0}mt.mode=28;case 28:if(mt.wrap&&mt.flags){for(;jt<32;){if(St===0)break e;St--,Bt+=Nt[rn++]<<jt,jt+=8}if(Bt!==(4294967295&mt.total)){xt.msg="incorrect length check",mt.mode=30;break}Bt=0,jt=0}mt.mode=29;case 29:fn=1;break e;case 30:fn=-3;break e;case 31:return-4;case 32:default:return-2}return xt.next_out=Ft,xt.avail_out=Pt,xt.next_in=rn,xt.avail_in=St,mt.hold=Bt,mt.bits=jt,(mt.wsize||Zt!==xt.avail_out&&mt.mode<30&&(mt.mode<27||Tt!==4))&&It(xt,xt.output,xt.next_out,Zt-xt.avail_out)?(mt.mode=31,-4):(qt-=xt.avail_in,Zt-=xt.avail_out,xt.total_in+=qt,xt.total_out+=Zt,mt.total+=Zt,mt.wrap&&Zt&&(xt.adler=mt.check=mt.flags?_e(mt.check,en,Zt,xt.next_out-Zt):$(mt.check,en,Zt,xt.next_out-Zt)),xt.data_type=mt.bits+(mt.last?64:0)+(mt.mode===12?128:0)+(mt.mode===20||mt.mode===15?256:0),(qt===0&&Zt===0||Tt===4)&&fn===0&&(fn=-5),fn)},o.inflateEnd=function(xt){if(!xt||!xt.state)return-2;var Tt=xt.state;return Tt.window&&(Tt.window=null),xt.state=null,0},o.inflateGetHeader=function(xt,Tt){var mt;return xt&&xt.state&&2&(mt=xt.state).wrap?(mt.head=Tt,Tt.done=!1,0):-2},o.inflateSetDictionary=function(xt,Tt){var mt,Nt=Tt.length;return xt&&xt.state?(mt=xt.state).wrap!==0&&mt.mode!==11?-2:mt.mode===11&&$(1,Tt,Nt,0)!==mt.check?-3:It(xt,Tt,Nt,Nt)?(mt.mode=31,-4):(mt.havedict=1,0):-2},o.inflateInfo="pako inflate (from Nodeca project)"},function(i,o,s){i.exports=function(_,$){var _e,et,j,nt,ot,ct,gt,pt,ft,ut,yt,wt,Qt,It,xt,Tt,mt,Nt,en,rn,Ft,St,Pt,Bt,jt;_e=_.state,et=_.next_in,Bt=_.input,j=et+(_.avail_in-5),nt=_.next_out,jt=_.output,ot=nt-($-_.avail_out),ct=nt+(_.avail_out-257),gt=_e.dmax,pt=_e.wsize,ft=_e.whave,ut=_e.wnext,yt=_e.window,wt=_e.hold,Qt=_e.bits,It=_e.lencode,xt=_e.distcode,Tt=(1<<_e.lenbits)-1,mt=(1<<_e.distbits)-1;e:do{Qt<15&&(wt+=Bt[et++]<<Qt,Qt+=8,wt+=Bt[et++]<<Qt,Qt+=8),Nt=It[wt&Tt];t:for(;;){if(wt>>>=en=Nt>>>24,Qt-=en,(en=Nt>>>16&255)===0)jt[nt++]=65535&Nt;else{if(!(16&en)){if(!(64&en)){Nt=It[(65535&Nt)+(wt&(1<<en)-1)];continue t}if(32&en){_e.mode=12;break e}_.msg="invalid literal/length code",_e.mode=30;break e}rn=65535&Nt,(en&=15)&&(Qt<en&&(wt+=Bt[et++]<<Qt,Qt+=8),rn+=wt&(1<<en)-1,wt>>>=en,Qt-=en),Qt<15&&(wt+=Bt[et++]<<Qt,Qt+=8,wt+=Bt[et++]<<Qt,Qt+=8),Nt=xt[wt&mt];n:for(;;){if(wt>>>=en=Nt>>>24,Qt-=en,!(16&(en=Nt>>>16&255))){if(!(64&en)){Nt=xt[(65535&Nt)+(wt&(1<<en)-1)];continue n}_.msg="invalid distance code",_e.mode=30;break e}if(Ft=65535&Nt,Qt<(en&=15)&&(wt+=Bt[et++]<<Qt,(Qt+=8)<en&&(wt+=Bt[et++]<<Qt,Qt+=8)),(Ft+=wt&(1<<en)-1)>gt){_.msg="invalid distance too far back",_e.mode=30;break e}if(wt>>>=en,Qt-=en,Ft>(en=nt-ot)){if((en=Ft-en)>ft&&_e.sane){_.msg="invalid distance too far back",_e.mode=30;break e}if(St=0,Pt=yt,ut===0){if(St+=pt-en,en<rn){rn-=en;do jt[nt++]=yt[St++];while(--en);St=nt-Ft,Pt=jt}}else if(ut<en){if(St+=pt+ut-en,(en-=ut)<rn){rn-=en;do jt[nt++]=yt[St++];while(--en);if(St=0,ut<rn){rn-=en=ut;do jt[nt++]=yt[St++];while(--en);St=nt-Ft,Pt=jt}}}else if(St+=ut-en,en<rn){rn-=en;do jt[nt++]=yt[St++];while(--en);St=nt-Ft,Pt=jt}for(;rn>2;)jt[nt++]=Pt[St++],jt[nt++]=Pt[St++],jt[nt++]=Pt[St++],rn-=3;rn&&(jt[nt++]=Pt[St++],rn>1&&(jt[nt++]=Pt[St++]))}else{St=nt-Ft;do jt[nt++]=jt[St++],jt[nt++]=jt[St++],jt[nt++]=jt[St++],rn-=3;while(rn>2);rn&&(jt[nt++]=jt[St++],rn>1&&(jt[nt++]=jt[St++]))}break}}break}}while(et<j&&nt<ct);et-=rn=Qt>>3,wt&=(1<<(Qt-=rn<<3))-1,_.next_in=et,_.next_out=nt,_.avail_in=et<j?j-et+5:5-(et-j),_.avail_out=nt<ct?ct-nt+257:257-(nt-ct),_e.hold=wt,_e.bits=Qt}},function(i,o,s){var _=s(37),$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],et=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(nt,ot,ct,gt,pt,ft,ut,yt){var wt,Qt,It,xt,Tt,mt,Nt,en,rn,Ft=yt.bits,St=0,Pt=0,Bt=0,jt=0,qt=0,Zt=0,Wt=0,Gt=0,Ht=0,kt=0,Rt=null,$t=0,nn=new _.Buf16(16),Un=new _.Buf16(16),Fn=null,En=0;for(St=0;St<=15;St++)nn[St]=0;for(Pt=0;Pt<gt;Pt++)nn[ot[ct+Pt]]++;for(qt=Ft,jt=15;jt>=1&&nn[jt]===0;jt--);if(qt>jt&&(qt=jt),jt===0)return pt[ft++]=20971520,pt[ft++]=20971520,yt.bits=1,0;for(Bt=1;Bt<jt&&nn[Bt]===0;Bt++);for(qt<Bt&&(qt=Bt),Gt=1,St=1;St<=15;St++)if(Gt<<=1,(Gt-=nn[St])<0)return-1;if(Gt>0&&(nt===0||jt!==1))return-1;for(Un[1]=0,St=1;St<15;St++)Un[St+1]=Un[St]+nn[St];for(Pt=0;Pt<gt;Pt++)ot[ct+Pt]!==0&&(ut[Un[ot[ct+Pt]]++]=Pt);if(nt===0?(Rt=Fn=ut,mt=19):nt===1?(Rt=$,$t-=257,Fn=_e,En-=257,mt=256):(Rt=et,Fn=j,mt=-1),kt=0,Pt=0,St=Bt,Tt=ft,Zt=qt,Wt=0,It=-1,xt=(Ht=1<<qt)-1,nt===1&&Ht>852||nt===2&&Ht>592)return 1;for(;;){Nt=St-Wt,ut[Pt]<mt?(en=0,rn=ut[Pt]):ut[Pt]>mt?(en=Fn[En+ut[Pt]],rn=Rt[$t+ut[Pt]]):(en=96,rn=0),wt=1<<St-Wt,Bt=Qt=1<<Zt;do pt[Tt+(kt>>Wt)+(Qt-=wt)]=Nt<<24|en<<16|rn|0;while(Qt!==0);for(wt=1<<St-1;kt&wt;)wt>>=1;if(wt!==0?(kt&=wt-1,kt+=wt):kt=0,Pt++,--nn[St]==0){if(St===jt)break;St=ot[ct+ut[Pt]]}if(St>qt&&(kt&xt)!==It){for(Wt===0&&(Wt=qt),Tt+=Bt,Gt=1<<(Zt=St-Wt);Zt+Wt<jt&&!((Gt-=nn[Zt+Wt])<=0);)Zt++,Gt<<=1;if(Ht+=1<<Zt,nt===1&&Ht>852||nt===2&&Ht>592)return 1;pt[It=kt&xt]=qt<<24|Zt<<16|Tt-ft|0}}return kt!==0&&(pt[Tt+kt]=St-Wt<<24|64<<16|0),yt.bits=qt,0}},function(i,o,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(i,o){},function(i,o,s){function _(ot,ct){var gt=Object.keys(ot);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(ot);ct&&(pt=pt.filter(function(ft){return Object.getOwnPropertyDescriptor(ot,ft).enumerable})),gt.push.apply(gt,pt)}return gt}function $(ot,ct,gt){return ct in ot?Object.defineProperty(ot,ct,{value:gt,enumerable:!0,configurable:!0,writable:!0}):ot[ct]=gt,ot}function _e(ot,ct){for(var gt=0;gt<ct.length;gt++){var pt=ct[gt];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ot,pt.key,pt)}}var et=s(5).Buffer,j=s(181).inspect,nt=j&&j.custom||"inspect";i.exports=function(){function ot(){(function(pt,ft){if(!(pt instanceof ft))throw new TypeError("Cannot call a class as a function")})(this,ot),this.head=null,this.tail=null,this.length=0}var ct,gt;return ct=ot,(gt=[{key:"push",value:function(pt){var ft={data:pt,next:null};this.length>0?this.tail.next=ft:this.head=ft,this.tail=ft,++this.length}},{key:"unshift",value:function(pt){var ft={data:pt,next:this.head};this.length===0&&(this.tail=ft),this.head=ft,++this.length}},{key:"shift",value:function(){if(this.length!==0){var pt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,pt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(pt){if(this.length===0)return"";for(var ft=this.head,ut=""+ft.data;ft=ft.next;)ut+=pt+ft.data;return ut}},{key:"concat",value:function(pt){if(this.length===0)return et.alloc(0);for(var ft,ut,yt,wt=et.allocUnsafe(pt>>>0),Qt=this.head,It=0;Qt;)ft=Qt.data,ut=wt,yt=It,et.prototype.copy.call(ft,ut,yt),It+=Qt.data.length,Qt=Qt.next;return wt}},{key:"consume",value:function(pt,ft){var ut;return pt<this.head.data.length?(ut=this.head.data.slice(0,pt),this.head.data=this.head.data.slice(pt)):ut=pt===this.head.data.length?this.shift():ft?this._getString(pt):this._getBuffer(pt),ut}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(pt){var ft=this.head,ut=1,yt=ft.data;for(pt-=yt.length;ft=ft.next;){var wt=ft.data,Qt=pt>wt.length?wt.length:pt;if(Qt===wt.length?yt+=wt:yt+=wt.slice(0,pt),(pt-=Qt)==0){Qt===wt.length?(++ut,ft.next?this.head=ft.next:this.head=this.tail=null):(this.head=ft,ft.data=wt.slice(Qt));break}++ut}return this.length-=ut,yt}},{key:"_getBuffer",value:function(pt){var ft=et.allocUnsafe(pt),ut=this.head,yt=1;for(ut.data.copy(ft),pt-=ut.data.length;ut=ut.next;){var wt=ut.data,Qt=pt>wt.length?wt.length:pt;if(wt.copy(ft,ft.length-pt,0,Qt),(pt-=Qt)==0){Qt===wt.length?(++yt,ut.next?this.head=ut.next:this.head=this.tail=null):(this.head=ut,ut.data=wt.slice(Qt));break}++yt}return this.length-=yt,ft}},{key:nt,value:function(pt,ft){return j(this,function(ut){for(var yt=1;yt<arguments.length;yt++){var wt=arguments[yt]!=null?arguments[yt]:{};yt%2?_(Object(wt),!0).forEach(function(Qt){$(ut,Qt,wt[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(wt)):_(Object(wt)).forEach(function(Qt){Object.defineProperty(ut,Qt,Object.getOwnPropertyDescriptor(wt,Qt))})}return ut}({},ft,{depth:0,customInspect:!1}))}}])&&_e(ct.prototype,gt),ot}()},function(i,o){},function(i,o,s){(function(_){var $;function _e(xt,Tt,mt){return Tt in xt?Object.defineProperty(xt,Tt,{value:mt,enumerable:!0,configurable:!0,writable:!0}):xt[Tt]=mt,xt}var et=s(49),j=Symbol("lastResolve"),nt=Symbol("lastReject"),ot=Symbol("error"),ct=Symbol("ended"),gt=Symbol("lastPromise"),pt=Symbol("handlePromise"),ft=Symbol("stream");function ut(xt,Tt){return{value:xt,done:Tt}}function yt(xt){var Tt=xt[j];if(Tt!==null){var mt=xt[ft].read();mt!==null&&(xt[gt]=null,xt[j]=null,xt[nt]=null,Tt(ut(mt,!1)))}}function wt(xt){_.nextTick(yt,xt)}var Qt=Object.getPrototypeOf(function(){}),It=Object.setPrototypeOf((_e($={get stream(){return this[ft]},next:function(){var xt=this,Tt=this[ot];if(Tt!==null)return Promise.reject(Tt);if(this[ct])return Promise.resolve(ut(void 0,!0));if(this[ft].destroyed)return new Promise(function(rn,Ft){_.nextTick(function(){xt[ot]?Ft(xt[ot]):rn(ut(void 0,!0))})});var mt,Nt=this[gt];if(Nt)mt=new Promise(function(rn,Ft){return function(St,Pt){rn.then(function(){Ft[ct]?St(ut(void 0,!0)):Ft[pt](St,Pt)},Pt)}}(Nt,this));else{var en=this[ft].read();if(en!==null)return Promise.resolve(ut(en,!1));mt=new Promise(this[pt])}return this[gt]=mt,mt}},Symbol.asyncIterator,function(){return this}),_e($,"return",function(){var xt=this;return new Promise(function(Tt,mt){xt[ft].destroy(null,function(Nt){Nt?mt(Nt):Tt(ut(void 0,!0))})})}),$),Qt);i.exports=function(xt){var Tt,mt=Object.create(It,(_e(Tt={},ft,{value:xt,writable:!0}),_e(Tt,j,{value:null,writable:!0}),_e(Tt,nt,{value:null,writable:!0}),_e(Tt,ot,{value:null,writable:!0}),_e(Tt,ct,{value:xt._readableState.endEmitted,writable:!0}),_e(Tt,pt,{value:function(Nt,en){var rn=mt[ft].read();rn?(mt[gt]=null,mt[j]=null,mt[nt]=null,Nt(ut(rn,!1))):(mt[j]=Nt,mt[nt]=en)},writable:!0}),Tt));return mt[gt]=null,et(xt,function(Nt){if(Nt&&Nt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var en=mt[nt];return en!==null&&(mt[gt]=null,mt[j]=null,mt[nt]=null,en(Nt)),void(mt[ot]=Nt)}var rn=mt[j];rn!==null&&(mt[gt]=null,mt[j]=null,mt[nt]=null,rn(ut(void 0,!0))),mt[ct]=!0}),xt.on("readable",wt.bind(null,mt)),mt}}).call(this,s(2))},function(i,o){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(i,o,s){i.exports=$;var _=s(82);function $(_e){if(!(this instanceof $))return new $(_e);_.call(this,_e)}s(7)($,_),$.prototype._transform=function(_e,et,j){j(null,_e)}},function(i,o,s){var _,$=s(26).codes,_e=$.ERR_MISSING_ARGS,et=$.ERR_STREAM_DESTROYED;function j(pt){if(pt)throw pt}function nt(pt,ft,ut,yt){yt=function(It){var xt=!1;return function(){xt||(xt=!0,It.apply(void 0,arguments))}}(yt);var wt=!1;pt.on("close",function(){wt=!0}),_===void 0&&(_=s(49)),_(pt,{readable:ft,writable:ut},function(It){if(It)return yt(It);wt=!0,yt()});var Qt=!1;return function(It){if(!wt&&!Qt)return Qt=!0,function(xt){return xt.setHeader&&typeof xt.abort=="function"}(pt)?pt.abort():typeof pt.destroy=="function"?pt.destroy():void yt(It||new et("pipe"))}}function ot(pt){pt()}function ct(pt,ft){return pt.pipe(ft)}function gt(pt){return pt.length?typeof pt[pt.length-1]!="function"?j:pt.pop():j}i.exports=function(){for(var pt=arguments.length,ft=new Array(pt),ut=0;ut<pt;ut++)ft[ut]=arguments[ut];var yt,wt=gt(ft);if(Array.isArray(ft[0])&&(ft=ft[0]),ft.length<2)throw new _e("streams");var Qt=ft.map(function(It,xt){var Tt=xt<ft.length-1;return nt(It,Tt,xt>0,function(mt){yt||(yt=mt),mt&&Qt.forEach(ot),Tt||(Qt.forEach(ot),wt(yt))})});return ft.reduce(ct)}},function(i,o,s){var _=s(187)(function $(_e,et){return(et=et||{}).namespace=_e,et.prod=!0,et.dev=!1,et.force||$.force?$.yep(et):$.nope(et)});i.exports=_},function(i,o){var s=[],_=[],$=function(){};function _e(ut){return!~s.indexOf(ut)&&(s.push(ut),!0)}function et(ut){$=ut}function j(ut){for(var yt=[],wt=0;wt<s.length;wt++)if(s[wt].async)yt.push(s[wt]);else if(s[wt](ut))return!0;return!!yt.length&&new Promise(function(Qt){Promise.all(yt.map(function(It){return It(ut)})).then(function(It){Qt(It.some(Boolean))})})}function nt(ut){return!~_.indexOf(ut)&&(_.push(ut),!0)}function ot(){$.apply($,arguments)}function ct(ut){for(var yt=0;yt<_.length;yt++)ut=_[yt].apply(_[yt],arguments);return ut}function gt(ut,yt){var wt=Object.prototype.hasOwnProperty;for(var Qt in yt)wt.call(yt,Qt)&&(ut[Qt]=yt[Qt]);return ut}function pt(ut){return ut.enabled=!1,ut.modify=nt,ut.set=et,ut.use=_e,gt(function(){return!1},ut)}function ft(ut){return ut.enabled=!0,ut.modify=nt,ut.set=et,ut.use=_e,gt(function(){var yt=Array.prototype.slice.call(arguments,0);return ot.call(ot,ut,ct(yt,ut)),!0},ut)}i.exports=function(ut){return ut.introduce=gt,ut.enabled=j,ut.process=ct,ut.modify=nt,ut.write=ot,ut.nope=pt,ut.yep=ft,ut.set=et,ut.use=_e,ut}},function(i,o,s){(function(_){var $=s(65),_e=s(22).StringDecoder,et=s(32).Stream;function j(){}i.exports=function(nt,ot){var ct=_.alloc(65536),gt=new _e("utf8"),pt=new et,ft="",ut=0,yt=0;return nt.start===-1&&delete nt.start,pt.readable=!0,pt.destroy=function(){pt.destroyed=!0,pt.emit("end"),pt.emit("close")},$.open(nt.file,"a+","0644",function(wt,Qt){if(wt)return ot?ot(wt):pt.emit("error",wt),void pt.destroy();(function It(){if(!pt.destroyed)return $.read(Qt,ct,0,ct.length,ut,function(xt,Tt){if(xt)return ot?ot(xt):pt.emit("error",xt),void pt.destroy();if(!Tt)return ft&&((nt.start==null||yt>nt.start)&&(ot?ot(null,ft):pt.emit("line",ft)),yt++,ft=""),setTimeout(It,1e3);var mt=gt.write(ct.slice(0,Tt));ot||pt.emit("data",mt);for(var Nt=(mt=(ft+mt).split(/\n+/)).length-1,en=0;en<Nt;en++)(nt.start==null||yt>nt.start)&&(ot?ot(null,mt[en]):pt.emit("line",mt[en])),yt++;return ft=mt[Nt],ut+=Tt,It()});$.close(Qt,j)})()}),ot?pt.destroy:pt}}).call(this,s(5).Buffer)},function(i,o,s){(function(_,$){function _e(xt){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tt){return typeof Tt}:function(Tt){return Tt&&typeof Symbol=="function"&&Tt.constructor===Symbol&&Tt!==Symbol.prototype?"symbol":typeof Tt})(xt)}function et(xt,Tt){var mt=Object.keys(xt);if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(xt);Tt&&(Nt=Nt.filter(function(en){return Object.getOwnPropertyDescriptor(xt,en).enumerable})),mt.push.apply(mt,Nt)}return mt}function j(xt){for(var Tt=1;Tt<arguments.length;Tt++){var mt=arguments[Tt]!=null?arguments[Tt]:{};Tt%2?et(Object(mt),!0).forEach(function(Nt){nt(xt,Nt,mt[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(mt)):et(Object(mt)).forEach(function(Nt){Object.defineProperty(xt,Nt,Object.getOwnPropertyDescriptor(mt,Nt))})}return xt}function nt(xt,Tt,mt){return Tt in xt?Object.defineProperty(xt,Tt,{value:mt,enumerable:!0,configurable:!0,writable:!0}):xt[Tt]=mt,xt}function ot(xt,Tt){if(!(xt instanceof Tt))throw new TypeError("Cannot call a class as a function")}function ct(xt,Tt){for(var mt=0;mt<Tt.length;mt++){var Nt=Tt[mt];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(xt,Nt.key,Nt)}}function gt(xt,Tt){return(gt=Object.setPrototypeOf||function(mt,Nt){return mt.__proto__=Nt,mt})(xt,Tt)}function pt(xt){var Tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var mt,Nt=ut(xt);if(Tt){var en=ut(this).constructor;mt=Reflect.construct(Nt,arguments,en)}else mt=Nt.apply(this,arguments);return ft(this,mt)}}function ft(xt,Tt){return!Tt||_e(Tt)!=="object"&&typeof Tt!="function"?function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(xt):Tt}function ut(xt){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)})(xt)}var yt=s(83),wt=s(200),Qt=s(32).Stream,It=s(20);i.exports=function(xt){(function(rn,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");rn.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:rn,writable:!0,configurable:!0}}),Ft&&gt(rn,Ft)})(en,xt);var Tt,mt,Nt=pt(en);function en(){var rn,Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ot(this,en),(rn=Nt.call(this,Ft)).options=Ft,rn.name=Ft.name||"http",rn.ssl=!!Ft.ssl,rn.host=Ft.host||"localhost",rn.port=Ft.port,rn.auth=Ft.auth,rn.path=Ft.path||"",rn.agent=Ft.agent,rn.headers=Ft.headers||{},rn.headers["content-type"]="application/json",rn.port||(rn.port=rn.ssl?443:80),rn}return Tt=en,(mt=[{key:"log",value:function(rn,Ft){var St=this;this._request(rn,function(Pt,Bt){Bt&&Bt.statusCode!==200&&(Pt=new Error("Invalid HTTP Status Code: ".concat(Bt.statusCode))),Pt?St.emit("warn",Pt):St.emit("logged",rn)}),Ft&&_(Ft)}},{key:"query",value:function(rn,Ft){typeof rn=="function"&&(Ft=rn,rn={}),(rn={method:"query",params:this.normalizeQuery(rn)}).params.path&&(rn.path=rn.params.path,delete rn.params.path),rn.params.auth&&(rn.auth=rn.params.auth,delete rn.params.auth),this._request(rn,function(St,Pt,Bt){if(Pt&&Pt.statusCode!==200&&(St=new Error("Invalid HTTP Status Code: ".concat(Pt.statusCode))),St)return Ft(St);if(typeof Bt=="string")try{Bt=JSON.parse(Bt)}catch(jt){return Ft(jt)}Ft(null,Bt)})}},{key:"stream",value:function(){var rn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ft=new Qt;(rn={method:"stream",params:rn}).params.path&&(rn.path=rn.params.path,delete rn.params.path),rn.params.auth&&(rn.auth=rn.params.auth,delete rn.params.auth);var St="",Pt=this._request(rn);return Ft.destroy=function(){return Pt.destroy()},Pt.on("data",function(Bt){for(var jt=(Bt=(St+Bt).split(/\n+/)).length-1,qt=0;qt<jt;qt++)try{Ft.emit("log",JSON.parse(Bt[qt]))}catch(Zt){Ft.emit("error",Zt)}St=Bt[jt]}),Pt.on("error",function(Bt){return Ft.emit("error",Bt)}),Ft}},{key:"_request",value:function(rn,Ft){var St=(rn=rn||{}).auth||this.auth,Pt=rn.path||this.path||"";delete rn.auth,delete rn.path;var Bt=Object.assign({},this.headers);St&&St.bearer&&(Bt.Authorization="Bearer ".concat(St.bearer));var jt=(this.ssl?wt:yt).request(j(j({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(Pt.replace(/^\//,"")),headers:Bt,auth:St&&St.username&&St.password?"".concat(St.username,":").concat(St.password):"",agent:this.agent}));jt.on("error",Ft),jt.on("response",function(qt){return qt.on("end",function(){return Ft(null,qt)}).resume()}),jt.end($.from(JSON.stringify(rn),"utf8"))}}])&&ct(Tt.prototype,mt),en}(It)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){(function(_,$,_e){var et=s(84),j=s(7),nt=s(85),ot=s(31),ct=s(191),gt=nt.IncomingMessage,pt=nt.readyStates,ft=i.exports=function(yt){var wt,Qt=this;ot.Writable.call(Qt),Qt._opts=yt,Qt._body=[],Qt._headers={},yt.auth&&Qt.setHeader("Authorization","Basic "+new _(yt.auth).toString("base64")),Object.keys(yt.headers).forEach(function(xt){Qt.setHeader(xt,yt.headers[xt])});var It=!0;if(yt.mode==="disable-fetch"||"requestTimeout"in yt&&!et.abortController)It=!1,wt=!0;else if(yt.mode==="prefer-streaming")wt=!1;else if(yt.mode==="allow-wrong-content-type")wt=!et.overrideMimeType;else{if(yt.mode&&yt.mode!=="default"&&yt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");wt=!0}Qt._mode=function(xt,Tt){return et.fetch&&Tt?"fetch":et.mozchunkedarraybuffer?"moz-chunked-arraybuffer":et.msstream?"ms-stream":et.arraybuffer&&xt?"arraybuffer":et.vbArray&&xt?"text:vbarray":"text"}(wt,It),Qt._fetchTimer=null,Qt.on("finish",function(){Qt._onFinish()})};j(ft,ot.Writable),ft.prototype.setHeader=function(yt,wt){var Qt=yt.toLowerCase();ut.indexOf(Qt)===-1&&(this._headers[Qt]={name:yt,value:wt})},ft.prototype.getHeader=function(yt){var wt=this._headers[yt.toLowerCase()];return wt?wt.value:null},ft.prototype.removeHeader=function(yt){delete this._headers[yt.toLowerCase()]},ft.prototype._onFinish=function(){var yt=this;if(!yt._destroyed){var wt=yt._opts,Qt=yt._headers,It=null;wt.method!=="GET"&&wt.method!=="HEAD"&&(It=et.arraybuffer?ct(_.concat(yt._body)):et.blobConstructor?new $.Blob(yt._body.map(function(en){return ct(en)}),{type:(Qt["content-type"]||{}).value||""}):_.concat(yt._body).toString());var xt=[];if(Object.keys(Qt).forEach(function(en){var rn=Qt[en].name,Ft=Qt[en].value;Array.isArray(Ft)?Ft.forEach(function(St){xt.push([rn,St])}):xt.push([rn,Ft])}),yt._mode==="fetch"){var Tt=null;if(et.abortController){var mt=new AbortController;Tt=mt.signal,yt._fetchAbortController=mt,"requestTimeout"in wt&&wt.requestTimeout!==0&&(yt._fetchTimer=$.setTimeout(function(){yt.emit("requestTimeout"),yt._fetchAbortController&&yt._fetchAbortController.abort()},wt.requestTimeout))}$.fetch(yt._opts.url,{method:yt._opts.method,headers:xt,body:It||void 0,mode:"cors",credentials:wt.withCredentials?"include":"same-origin",signal:Tt}).then(function(en){yt._fetchResponse=en,yt._connect()},function(en){$.clearTimeout(yt._fetchTimer),yt._destroyed||yt.emit("error",en)})}else{var Nt=yt._xhr=new $.XMLHttpRequest;try{Nt.open(yt._opts.method,yt._opts.url,!0)}catch(en){return void _e.nextTick(function(){yt.emit("error",en)})}"responseType"in Nt&&(Nt.responseType=yt._mode.split(":")[0]),"withCredentials"in Nt&&(Nt.withCredentials=!!wt.withCredentials),yt._mode==="text"&&"overrideMimeType"in Nt&&Nt.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in wt&&(Nt.timeout=wt.requestTimeout,Nt.ontimeout=function(){yt.emit("requestTimeout")}),xt.forEach(function(en){Nt.setRequestHeader(en[0],en[1])}),yt._response=null,Nt.onreadystatechange=function(){switch(Nt.readyState){case pt.LOADING:case pt.DONE:yt._onXHRProgress()}},yt._mode==="moz-chunked-arraybuffer"&&(Nt.onprogress=function(){yt._onXHRProgress()}),Nt.onerror=function(){yt._destroyed||yt.emit("error",new Error("XHR error"))};try{Nt.send(It)}catch(en){return void _e.nextTick(function(){yt.emit("error",en)})}}}},ft.prototype._onXHRProgress=function(){(function(yt){try{var wt=yt.status;return wt!==null&&wt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},ft.prototype._connect=function(){var yt=this;yt._destroyed||(yt._response=new gt(yt._xhr,yt._fetchResponse,yt._mode,yt._fetchTimer),yt._response.on("error",function(wt){yt.emit("error",wt)}),yt.emit("response",yt._response))},ft.prototype._write=function(yt,wt,Qt){this._body.push(yt),Qt()},ft.prototype.abort=ft.prototype.destroy=function(){this._destroyed=!0,$.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},ft.prototype.end=function(yt,wt,Qt){typeof yt=="function"&&(Qt=yt,yt=void 0),ot.Writable.prototype.end.call(this,yt,wt,Qt)},ft.prototype.flushHeaders=function(){},ft.prototype.setTimeout=function(){},ft.prototype.setNoDelay=function(){},ft.prototype.setSocketKeepAlive=function(){};var ut=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,s(5).Buffer,s(6),s(2))},function(i,o,s){var _=s(5).Buffer;i.exports=function($){if($ instanceof Uint8Array){if($.byteOffset===0&&$.byteLength===$.buffer.byteLength)return $.buffer;if(typeof $.buffer.slice=="function")return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}if(_.isBuffer($)){for(var _e=new Uint8Array($.length),et=$.length,j=0;j<et;j++)_e[j]=$[j];return _e.buffer}throw new Error("Argument must be a Buffer")}},function(i,o){i.exports=function(){for(var _={},$=0;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)s.call(_e,et)&&(_[et]=_e[et])}return _};var s=Object.prototype.hasOwnProperty},function(i,o){i.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(i,o,s){(function(_,$){var _e;(function(et){o&&o.nodeType,_&&_.nodeType;var j=typeof $=="object"&&$;j.global!==j&&j.window!==j&&j.self;var nt,ot=2147483647,ct=/^xn--/,gt=/[^\x20-\x7E]/,pt=/[\x2E\u3002\uFF0E\uFF61]/g,ft={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ut=Math.floor,yt=String.fromCharCode;function wt(Ft){throw new RangeError(ft[Ft])}function Qt(Ft,St){for(var Pt=Ft.length,Bt=[];Pt--;)Bt[Pt]=St(Ft[Pt]);return Bt}function It(Ft,St){var Pt=Ft.split("@"),Bt="";return Pt.length>1&&(Bt=Pt[0]+"@",Ft=Pt[1]),Bt+Qt((Ft=Ft.replace(pt,".")).split("."),St).join(".")}function xt(Ft){for(var St,Pt,Bt=[],jt=0,qt=Ft.length;jt<qt;)(St=Ft.charCodeAt(jt++))>=55296&&St<=56319&&jt<qt?(64512&(Pt=Ft.charCodeAt(jt++)))==56320?Bt.push(((1023&St)<<10)+(1023&Pt)+65536):(Bt.push(St),jt--):Bt.push(St);return Bt}function Tt(Ft){return Qt(Ft,function(St){var Pt="";return St>65535&&(Pt+=yt((St-=65536)>>>10&1023|55296),St=56320|1023&St),Pt+=yt(St)}).join("")}function mt(Ft,St){return Ft+22+75*(Ft<26)-((St!=0)<<5)}function Nt(Ft,St,Pt){var Bt=0;for(Ft=Pt?ut(Ft/700):Ft>>1,Ft+=ut(Ft/St);Ft>455;Bt+=36)Ft=ut(Ft/35);return ut(Bt+36*Ft/(Ft+38))}function en(Ft){var St,Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt,Rt,$t=[],nn=Ft.length,Un=0,Fn=128,En=72;for((Pt=Ft.lastIndexOf("-"))<0&&(Pt=0),Bt=0;Bt<Pt;++Bt)Ft.charCodeAt(Bt)>=128&&wt("not-basic"),$t.push(Ft.charCodeAt(Bt));for(jt=Pt>0?Pt+1:0;jt<nn;){for(qt=Un,Zt=1,Wt=36;jt>=nn&&wt("invalid-input"),((Gt=(Rt=Ft.charCodeAt(jt++))-48<10?Rt-22:Rt-65<26?Rt-65:Rt-97<26?Rt-97:36)>=36||Gt>ut((ot-Un)/Zt))&&wt("overflow"),Un+=Gt*Zt,!(Gt<(Ht=Wt<=En?1:Wt>=En+26?26:Wt-En));Wt+=36)Zt>ut(ot/(kt=36-Ht))&&wt("overflow"),Zt*=kt;En=Nt(Un-qt,St=$t.length+1,qt==0),ut(Un/St)>ot-Fn&&wt("overflow"),Fn+=ut(Un/St),Un%=St,$t.splice(Un++,0,Fn)}return Tt($t)}function rn(Ft){var St,Pt,Bt,jt,qt,Zt,Wt,Gt,Ht,kt,Rt,$t,nn,Un,Fn,En=[];for($t=(Ft=xt(Ft)).length,St=128,Pt=0,qt=72,Zt=0;Zt<$t;++Zt)(Rt=Ft[Zt])<128&&En.push(yt(Rt));for(Bt=jt=En.length,jt&&En.push("-");Bt<$t;){for(Wt=ot,Zt=0;Zt<$t;++Zt)(Rt=Ft[Zt])>=St&&Rt<Wt&&(Wt=Rt);for(Wt-St>ut((ot-Pt)/(nn=Bt+1))&&wt("overflow"),Pt+=(Wt-St)*nn,St=Wt,Zt=0;Zt<$t;++Zt)if((Rt=Ft[Zt])<St&&++Pt>ot&&wt("overflow"),Rt==St){for(Gt=Pt,Ht=36;!(Gt<(kt=Ht<=qt?1:Ht>=qt+26?26:Ht-qt));Ht+=36)Fn=Gt-kt,Un=36-kt,En.push(yt(mt(kt+Fn%Un,0))),Gt=ut(Fn/Un);En.push(yt(mt(Gt,0))),qt=Nt(Pt,nn,Bt==jt),Pt=0,++Bt}++Pt,++St}return En.join("")}nt={version:"1.4.1",ucs2:{decode:xt,encode:Tt},decode:en,encode:rn,toASCII:function(Ft){return It(Ft,function(St){return gt.test(St)?"xn--"+rn(St):St})},toUnicode:function(Ft){return It(Ft,function(St){return ct.test(St)?en(St.slice(4).toLowerCase()):St})}},(_e=function(){return nt}.call(o,s,o,_))===void 0||(_.exports=_e)})()}).call(this,s(195)(i),s(6))},function(i,o){i.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(i,o,s){i.exports={isString:function(_){return typeof _=="string"},isObject:function(_){return typeof _=="object"&&_!==null},isNull:function(_){return _===null},isNullOrUndefined:function(_){return _==null}}},function(i,o,s){o.decode=o.parse=s(198),o.encode=o.stringify=s(199)},function(i,o,s){function _(_e,et){return Object.prototype.hasOwnProperty.call(_e,et)}i.exports=function(_e,et,j,nt){et=et||"&",j=j||"=";var ot={};if(typeof _e!="string"||_e.length===0)return ot;var ct=/\+/g;_e=_e.split(et);var gt=1e3;nt&&typeof nt.maxKeys=="number"&&(gt=nt.maxKeys);var pt=_e.length;gt>0&&pt>gt&&(pt=gt);for(var ft=0;ft<pt;++ft){var ut,yt,wt,Qt,It=_e[ft].replace(ct,"%20"),xt=It.indexOf(j);xt>=0?(ut=It.substr(0,xt),yt=It.substr(xt+1)):(ut=It,yt=""),wt=decodeURIComponent(ut),Qt=decodeURIComponent(yt),_(ot,wt)?$(ot[wt])?ot[wt].push(Qt):ot[wt]=[ot[wt],Qt]:ot[wt]=Qt}return ot};var $=Array.isArray||function(_e){return Object.prototype.toString.call(_e)==="[object Array]"}},function(i,o,s){var _=function(j){switch(typeof j){case"string":return j;case"boolean":return j?"true":"false";case"number":return isFinite(j)?j:"";default:return""}};i.exports=function(j,nt,ot,ct){return nt=nt||"&",ot=ot||"=",j===null&&(j=void 0),typeof j=="object"?_e(et(j),function(gt){var pt=encodeURIComponent(_(gt))+ot;return $(j[gt])?_e(j[gt],function(ft){return pt+encodeURIComponent(_(ft))}).join(nt):pt+encodeURIComponent(_(j[gt]))}).join(nt):ct?encodeURIComponent(_(ct))+ot+encodeURIComponent(_(j)):""};var $=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"};function _e(j,nt){if(j.map)return j.map(nt);for(var ot=[],ct=0;ct<j.length;ct++)ot.push(nt(j[ct],ct));return ot}var et=Object.keys||function(j){var nt=[];for(var ot in j)Object.prototype.hasOwnProperty.call(j,ot)&&nt.push(ot);return nt}},function(i,o,s){var _=s(83),$=s(86),_e=i.exports;for(var et in _)_.hasOwnProperty(et)&&(_e[et]=_[et]);function j(nt){if(typeof nt=="string"&&(nt=$.parse(nt)),nt.protocol||(nt.protocol="https:"),nt.protocol!=="https:")throw new Error('Protocol "'+nt.protocol+'" not supported. Expected "https:"');return nt}_e.request=function(nt,ot){return nt=j(nt),_.request.call(this,nt,ot)},_e.get=function(nt,ot){return nt=j(nt),_.get.call(this,nt,ot)}},function(i,o,s){(function(_){function $(yt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(yt)}function _e(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function et(yt,wt){for(var Qt=0;Qt<wt.length;Qt++){var It=wt[Qt];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(yt,It.key,It)}}function j(yt,wt){return(j=Object.setPrototypeOf||function(Qt,It){return Qt.__proto__=It,Qt})(yt,wt)}function nt(yt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Qt,It=ct(yt);if(wt){var xt=ct(this).constructor;Qt=Reflect.construct(It,arguments,xt)}else Qt=It.apply(this,arguments);return ot(this,Qt)}}function ot(yt,wt){return!wt||$(wt)!=="object"&&typeof wt!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(yt):wt}function ct(yt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(yt)}var gt=s(87),pt=s(3).MESSAGE,ft=s(18),ut=s(20);i.exports=function(yt){(function(Tt,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");Tt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:Tt,writable:!0,configurable:!0}}),mt&&j(Tt,mt)})(xt,yt);var wt,Qt,It=nt(xt);function xt(){var Tt,mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e(this,xt),Tt=It.call(this,mt),!mt.stream||!gt(mt.stream))throw new Error("options.stream is required.");return Tt._stream=mt.stream,Tt._stream.setMaxListeners(1/0),Tt.isObjectMode=mt.stream._writableState.objectMode,Tt.eol=mt.eol||ft.EOL,Tt}return wt=xt,(Qt=[{key:"log",value:function(Tt,mt){var Nt=this;if(_(function(){return Nt.emit("logged",Tt)}),this.isObjectMode)return this._stream.write(Tt),void(mt&&mt());this._stream.write("".concat(Tt[pt]).concat(this.eol)),mt&&mt()}}])&&et(wt.prototype,Qt),xt}(ut)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_){function $(Bt,jt,qt){return jt in Bt?Object.defineProperty(Bt,jt,{value:qt,enumerable:!0,configurable:!0,writable:!0}):Bt[jt]=qt,Bt}function _e(Bt){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(jt){return typeof jt}:function(jt){return jt&&typeof Symbol=="function"&&jt.constructor===Symbol&&jt!==Symbol.prototype?"symbol":typeof jt})(Bt)}function et(Bt,jt){for(var qt=0;qt<jt.length;qt++){var Zt=jt[qt];Zt.enumerable=Zt.enumerable||!1,Zt.configurable=!0,"value"in Zt&&(Zt.writable=!0),Object.defineProperty(Bt,Zt.key,Zt)}}function j(Bt,jt){return(j=Object.setPrototypeOf||function(qt,Zt){return qt.__proto__=Zt,qt})(Bt,jt)}function nt(Bt){var jt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var qt,Zt=ct(Bt);if(jt){var Wt=ct(this).constructor;qt=Reflect.construct(Zt,arguments,Wt)}else qt=Zt.apply(this,arguments);return ot(this,qt)}}function ot(Bt,jt){return!jt||_e(jt)!=="object"&&typeof jt!="function"?function(qt){if(qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qt}(Bt):jt}function ct(Bt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(jt){return jt.__proto__||Object.getPrototypeOf(jt)})(Bt)}var gt=s(32),pt=gt.Stream,ft=gt.Transform,ut=s(51),yt=s(3),wt=yt.LEVEL,Qt=yt.SPLAT,It=s(87),xt=s(89),Tt=s(93),mt=s(206),Nt=s(207),en=s(61).warn,rn=s(50),Ft=/%[scdjifoO%]/g,St=function(Bt){(function(Gt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function");Gt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:Gt,writable:!0,configurable:!0}}),Ht&&j(Gt,Ht)})(Wt,Bt);var jt,qt,Zt=nt(Wt);function Wt(Gt){var Ht;return function(kt,Rt){if(!(kt instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this,Wt),(Ht=Zt.call(this,{objectMode:!0})).configure(Gt),Ht}return jt=Wt,(qt=[{key:"child",value:function(Gt){var Ht=this;return Object.create(Ht,{write:{value:function(kt){var Rt=Object.assign({},Gt,kt);kt instanceof Error&&(Rt.stack=kt.stack,Rt.message=kt.message),Ht.write(Rt)}}})}},{key:"configure",value:function(){var Gt=this,Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},kt=Ht.silent,Rt=Ht.format,$t=Ht.defaultMeta,nn=Ht.levels,Un=Ht.level,Fn=Un===void 0?"info":Un,En=Ht.exitOnError,fn=En===void 0||En,sn=Ht.transports,Ct=Ht.colors,Dt=Ht.emitErrs,Xt=Ht.formatters,_n=Ht.padLevels,mn=Ht.rewriters,xn=Ht.stripColors,On=Ht.exceptionHandlers,nr=Ht.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=kt,this.format=Rt||this.format||s(208)(),this.defaultMeta=$t||null,this.levels=nn||this.levels||rn.npm.levels,this.level=Fn,this.exceptions=new xt(this),this.rejections=new Tt(this),this.profilers={},this.exitOnError=fn,sn&&(sn=Array.isArray(sn)?sn:[sn]).forEach(function(Nr){return Gt.add(Nr)}),Ct||Dt||Xt||_n||mn||xn)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));On&&this.exceptions.handle(On),nr&&this.rejections.handle(nr)}},{key:"isLevelEnabled",value:function(Gt){var Ht=this,kt=Pt(this.levels,Gt);if(kt===null)return!1;var Rt=Pt(this.levels,this.level);return Rt!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function($t){var nn=Pt(Ht.levels,$t.level);return nn===null&&(nn=Rt),nn>=kt})!==-1:Rt>=kt)}},{key:"log",value:function(Gt,Ht){for(var kt,Rt,$t=arguments.length,nn=new Array($t>2?$t-2:0),Un=2;Un<$t;Un++)nn[Un-2]=arguments[Un];if(arguments.length===1)return Gt[wt]=Gt.level,this._addDefaultMeta(Gt),this.write(Gt),this;if(arguments.length===2)return Ht&&_e(Ht)==="object"?(Ht[wt]=Ht.level=Gt,this._addDefaultMeta(Ht),this.write(Ht),this):(this.write(($(Rt={},wt,Gt),$(Rt,"level",Gt),$(Rt,"message",Ht),Rt)),this);var Fn=nn[0];if(_e(Fn)==="object"&&Fn!==null){var En=Ht&&Ht.match&&Ht.match(Ft);if(!En){var fn,sn=Object.assign({},this.defaultMeta,Fn,($(fn={},wt,Gt),$(fn,Qt,nn),$(fn,"level",Gt),$(fn,"message",Ht),fn));return Fn.message&&(sn.message="".concat(sn.message," ").concat(Fn.message)),Fn.stack&&(sn.stack=Fn.stack),this.write(sn),this}}return this.write(Object.assign({},this.defaultMeta,($(kt={},wt,Gt),$(kt,Qt,nn),$(kt,"level",Gt),$(kt,"message",Ht),kt))),this}},{key:"_transform",value:function(Gt,Ht,kt){if(this.silent)return kt();Gt[wt]||(Gt[wt]=Gt.level),this.levels[Gt[wt]]||this.levels[Gt[wt]]===0||console.error("[winston] Unknown logger level: %s",Gt[wt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",Gt);try{this.push(this.format.transform(Gt,this.format.options))}catch(Rt){throw Rt}finally{kt()}}},{key:"_final",value:function(Gt){var Ht=this.transports.slice();ut(Ht,function(kt,Rt){if(!kt||kt.finished)return _(Rt);kt.once("finish",Rt),kt.end()},Gt)}},{key:"add",value:function(Gt){var Ht=!It(Gt)||Gt.log.length>2?new mt({transport:Gt}):Gt;if(!Ht._writableState||!Ht._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",Ht),this._onEvent("warn",Ht),this.pipe(Ht),Gt.handleExceptions&&this.exceptions.handle(),Gt.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(Gt){if(!Gt)return this;var Ht=Gt;return(!It(Gt)||Gt.log.length>2)&&(Ht=this.transports.filter(function(kt){return kt.transport===Gt})[0]),Ht&&this.unpipe(Ht),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){en.deprecated("setLevels")}},{key:"query",value:function(Gt,Ht){typeof Gt=="function"&&(Ht=Gt,Gt={}),Gt=Gt||{};var kt={},Rt=Object.assign({},Gt.query||{});ut(this.transports.filter(function($t){return!!$t.query}),function($t,nn){(function(Un,Fn){Gt.query&&typeof Un.formatQuery=="function"&&(Gt.query=Un.formatQuery(Rt)),Un.query(Gt,function(En,fn){if(En)return Fn(En);typeof Un.formatResults=="function"&&(fn=Un.formatResults(fn,Gt.format)),Fn(null,fn)})})($t,function(Un,Fn){nn&&((Fn=Un||Fn)&&(kt[$t.name]=Fn),nn()),nn=null})},function(){return Ht(null,kt)})}},{key:"stream",value:function(){var Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ht=new pt,kt=[];return Ht._streams=kt,Ht.destroy=function(){for(var Rt=kt.length;Rt--;)kt[Rt].destroy()},this.transports.filter(function(Rt){return!!Rt.stream}).forEach(function(Rt){var $t=Rt.stream(Gt);$t&&(kt.push($t),$t.on("log",function(nn){nn.transport=nn.transport||[],nn.transport.push(Rt.name),Ht.emit("log",nn)}),$t.on("error",function(nn){nn.transport=nn.transport||[],nn.transport.push(Rt.name),Ht.emit("error",nn)}))}),Ht}},{key:"startTimer",value:function(){return new Nt(this)}},{key:"profile",value:function(Gt){var Ht=Date.now();if(this.profilers[Gt]){var kt=this.profilers[Gt];delete this.profilers[Gt];for(var Rt=arguments.length,$t=new Array(Rt>1?Rt-1:0),nn=1;nn<Rt;nn++)$t[nn-1]=arguments[nn];typeof $t[$t.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),$t.pop());var Un=_e($t[$t.length-1])==="object"?$t.pop():{};return Un.level=Un.level||"info",Un.durationMs=Ht-kt,Un.message=Un.message||Gt,this.write(Un)}return this.profilers[Gt]=Ht,this}},{key:"handleExceptions",value:function(){var Gt;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(Gt=this.exceptions).handle.apply(Gt,arguments)}},{key:"unhandleExceptions",value:function(){var Gt;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(Gt=this.exceptions).unhandle.apply(Gt,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(Gt,Ht){Ht["__winston"+Gt]||(Ht["__winston"+Gt]=function(kt){Gt!=="error"||this.transports.includes(Ht)||this.add(Ht),this.emit(Gt,kt,Ht)}.bind(this),Ht.on(Gt,Ht["__winston"+Gt]))}},{key:"_addDefaultMeta",value:function(Gt){this.defaultMeta&&Object.assign(Gt,this.defaultMeta)}}])&&et(jt.prototype,qt),Wt}(ft);function Pt(Bt,jt){var qt=Bt[jt];return qt||qt===0?qt:null}Object.defineProperty(St.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var Bt=this._readableState.pipes;return Array.isArray(Bt)?Bt:[Bt].filter(Boolean)}}),i.exports=St}).call(this,s(15).setImmediate)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=ct(s(45)),$=ct(s(46)),_e=ct(s(66)),et=ct(s(67)),j=ct(s(68)),nt=ct(s(25)),ot=ct(s(30));function ct(ft){return ft&&ft.__esModule?ft:{default:ft}}function gt(ft,ut,yt){yt=(0,et.default)(yt);var wt=0,Qt=0,{length:It}=ft,xt=!1;function Tt(mt,Nt){mt===!1&&(xt=!0),xt!==!0&&(mt?yt(mt):++Qt!==It&&Nt!==$.default||yt(null))}for(It===0&&yt(null);wt<It;wt++)ut(ft[wt],wt,(0,j.default)(Tt))}function pt(ft,ut,yt){return(0,_e.default)(ft,1/0,ut,yt)}o.default=(0,ot.default)(function(ft,ut,yt){return((0,_.default)(ft)?gt:pt)(ft,(0,nt.default)(ut),yt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return($,_e,et)=>_($,et)},i.exports=o.default},function(i,o,s){var _=Object.prototype.toString;i.exports=function($){if(typeof $.displayName=="string"&&$.constructor.name)return $.displayName;if(typeof $.name=="string"&&$.name)return $.name;if(typeof $=="object"&&$.constructor&&typeof $.constructor.name=="string")return $.constructor.name;var _e=$.toString(),et=_.call($).slice(8,-1);return(_e=et==="Function"?_e.substring(_e.indexOf("(")+1,_e.indexOf(")")):et)||"anonymous"}},function(i,o,s){const _=s(13),{LEVEL:$}=s(3),_e=s(20),et=i.exports=function(j={}){if(_e.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(nt){this.emit("error",nt,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(et,_e),et.prototype._write=function(j,nt,ot){if(this.silent||j.exception===!0&&!this.handleExceptions)return ot(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),ot(null)},et.prototype._writev=function(j,nt){for(let ot=0;ot<j.length;ot++)this._accept(j[ot])&&(this.transport.log(j[ot].chunk[$],j[ot].chunk.message,j[ot].chunk,this._nop),j[ot].callback());return nt(null)},et.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},et.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){function _(_e){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et})(_e)}function $(_e,et){for(var j=0;j<et.length;j++){var nt=et[j];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}i.exports=function(){function _e(nt){if(function(ot,ct){if(!(ot instanceof ct))throw new TypeError("Cannot call a class as a function")}(this,_e),!nt)throw new Error("Logger is required for profiling.");this.logger=nt,this.start=Date.now()}var et,j;return et=_e,(j=[{key:"done",value:function(){for(var nt=arguments.length,ot=new Array(nt),ct=0;ct<nt;ct++)ot[ct]=arguments[ct];typeof ot[ot.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),ot.pop());var gt=_(ot[ot.length-1])==="object"?ot.pop():{};return gt.level=gt.level||"info",gt.durationMs=Date.now()-this.start,this.logger.write(gt)}}])&&$(et.prototype,j),_e}()},function(i,o,s){(function(_){const $=s(209),{MESSAGE:_e}=s(3),et=s(35);function j(nt,ot){return ot instanceof _?ot.toString("base64"):typeof ot=="bigint"?ot.toString():ot}i.exports=$((nt,ot={})=>(nt[_e]=(ot.stable?et.stableStringify:et)(nt,ot.replacer||j,ot.space),nt))}).call(this,s(5).Buffer)},function(i,o,s){class _ extends Error{constructor(_e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${_e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,_)}}i.exports=$=>{if($.length>2)throw new _($);function _e(j={}){this.options=j}function et(j){return new _e(j)}return _e.prototype.transform=$,et.Format=_e,et}},function(i,o,s){function _(et,j){if(!(et instanceof j))throw new TypeError("Cannot call a class as a function")}function $(et,j){for(var nt=0;nt<j.length;nt++){var ot=j[nt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(et,ot.key,ot)}}var _e=s(88);i.exports=function(){function et(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,et),this.loggers=new Map,this.options=ot}var j,nt;return j=et,(nt=[{key:"add",value:function(ot,ct){var gt=this;if(!this.loggers.has(ot)){var pt=(ct=Object.assign({},ct||this.options)).transports||this.options.transports;ct.transports=pt?pt.slice():[];var ft=_e(ct);ft.on("close",function(){return gt._delete(ot)}),this.loggers.set(ot,ft)}return this.loggers.get(ot)}},{key:"get",value:function(ot,ct){return this.add(ot,ct)}},{key:"has",value:function(ot){return!!this.loggers.has(ot)}},{key:"close",value:function(ot){var ct=this;if(ot)return this._removeLogger(ot);this.loggers.forEach(function(gt,pt){return ct._removeLogger(pt)})}},{key:"_removeLogger",value:function(ot){this.loggers.has(ot)&&(this.loggers.get(ot).close(),this._delete(ot))}},{key:"_delete",value:function(ot){this.loggers.delete(ot)}}])&&$(j.prototype,nt),et}()},function(i,o,s){(function(_){const $=s(52),_e=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;i.exports=function(et,j,nt,ot){let ct,gt,pt=!1,ft=!1;const ut=s(94);function yt(It){ot(j,It)}function wt(It,xt){let Tt=`"${j}" ${xt}`;throw It&&(Tt=`${Tt}`),gt&&(Tt=`${Tt}. An example of a valid value would be: ${gt}`),new $(Tt)}const Qt={convertFromBase64:function(){return yt("marking for base64 conversion"),pt=!0,Qt},default:function(It){if(typeof It=="number")ct=It.toString();else if(Array.isArray(It)||typeof It=="object"&&It!==null)ct=JSON.stringify(It);else{if(typeof It!="string")throw new $("values passed to default() must be of Number, String, Array, or Object type");ct=It}return yt(`setting default value to "${ct}"`),Qt},required:function(It){return It===void 0?(yt("marked as required"),ft=!0):(yt(`setting required flag to ${It}`),ft=It),Qt},example:function(It){return gt=It,Qt}};return Object.entries(__spreadValues2(__spreadValues2({},ut),nt)).forEach(([It,xt])=>{Qt[It]=function(Tt){return function(){let mt=et[j];if(yt(`will be read from the environment using "${Tt.name}" accessor`),mt===void 0)if(ct===void 0&&ft)yt("was not found in the environment, but is required to be set"),wt(void 0,"is a required variable, but it was not set");else{if(ct===void 0)return void yt("was not found in the environment, but is not required. returning undefined");yt(`was not found in the environment, parsing default value "${ct}" instead`),mt=ct}ft&&(yt("verifying variable value is not an empty string"),mt.trim().length===0&&wt(void 0,"is a required variable, but its value was empty")),pt&&(yt("verifying variable is a valid base64 string"),mt.match(_e)||wt(mt,"should be a valid base64 string if using convertFromBase64"),yt("converting from base64 to utf8 string"),mt=_.from(mt,"base64").toString());const Nt=[mt].concat(Array.prototype.slice.call(arguments));try{yt(`passing value "${mt}" to "${Tt.name}" accessor`);const en=Tt.apply(Tt,Nt);return yt(`parsed successfully, returning ${en}`),en}catch(en){wt(mt,en.message)}}}(xt)}),Qt}}).call(this,s(5).Buffer)},function(i,o,s){const _=s(33);i.exports=function($,_e){return _e=_e||",",$.length?_($).split(_e).filter(Boolean):[]}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if($!=="false"&&$!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return $!=="false"}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if(["false","0","true","1"].indexOf($)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!($==="0"||$==="false")}},function(i,o,s){const _=s(95);i.exports=function($){var _e=_($);if(_e>65535)throw new Error("cannot assign a port number greater than 65535");return _e}},function(i,o,s){const _=s(33);i.exports=function($,_e){const et=_($);if(_e.indexOf(et)<0)throw new Error(`should be one of [${_e.join(", ")}]`);return et}},function(i,o,s){const _=s(54);i.exports=function($){const _e=_($);if(_e>0)throw new Error("should be a negative float");return _e}},function(i,o,s){const _=s(54);i.exports=function($){const _e=_($);if(_e<0)throw new Error("should be a positive float");return _e}},function(i,o,s){const _=s(53);i.exports=function($){const _e=_($);if(_e>0)throw new Error("should be a negative integer");return _e}},function(i,o,s){const _=s(55);i.exports=function($){var _e=_($);if(!Array.isArray(_e))throw new Error("should be a parseable JSON Array");return _e}},function(i,o,s){const _=s(55);i.exports=function($){var _e=_($);if(Array.isArray(_e))throw new Error("should be a parseable JSON Object");return _e}},function(i,o,s){i.exports=function(_,$){try{RegExp(void 0,$)}catch{throw new Error("invalid regexp flags")}try{return new RegExp(_,$)}catch{throw new Error("should be a valid regexp")}}},function(i,o,s){const _=s(96);i.exports=function($){return _($).toString()}},function(i,o,s){const _=s(33),$=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021\u0023-\u005b\u005d-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021-\u005a\u0053-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])+)\])$/;i.exports=function(_e){const et=_(_e);if(!$.test(et))throw new Error("should be a valid email address");return et}},function(i,o,s){i.exports=function(_,$){return function(_e,et){$&&$.match(/prod|production/)||_(`env-var (${_e}): ${et}`)}}},function(i,o,s){(function(_){(function(){var $,_e,et,j,nt,ot;typeof performance<"u"&&performance!==null&&performance.now?i.exports=function(){return performance.now()}:_!=null&&_.hrtime?(i.exports=function(){return($()-nt)/1e6},_e=_.hrtime,j=($=function(){var ct;return 1e9*(ct=_e())[0]+ct[1]})(),ot=1e9*_.uptime(),nt=j-ot):Date.now?(i.exports=function(){return Date.now()-et},et=Date.now()):(i.exports=function(){return new Date().getTime()-et},et=new Date().getTime())}).call(this)}).call(this,s(2))},function(i,o,s){(function(_){(function($){function _e(j){if((j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+j+"') is invalid.")}function et(j,nt){if(nt=nt===void 0?{fatal:!1}:nt,(j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+j+"') is invalid.");if(nt.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if($.TextEncoder&&$.TextDecoder)return!1;Object.defineProperty(_e.prototype,"encoding",{value:"utf-8"}),_e.prototype.encode=function(j,nt){if((nt=nt===void 0?{stream:!1}:nt).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");nt=0;for(var ot=j.length,ct=0,gt=Math.max(32,ot+(ot>>1)+7),pt=new Uint8Array(gt>>3<<3);nt<ot;){var ft=j.charCodeAt(nt++);if(55296<=ft&&56319>=ft){if(nt<ot){var ut=j.charCodeAt(nt);(64512&ut)==56320&&(++nt,ft=((1023&ft)<<10)+(1023&ut)+65536)}if(55296<=ft&&56319>=ft)continue}if(ct+4>pt.length&&(gt+=8,gt=(gt*=1+nt/j.length*2)>>3<<3,(ut=new Uint8Array(gt)).set(pt),pt=ut),(4294967168&ft)==0)pt[ct++]=ft;else{if(!(4294965248&ft))pt[ct++]=ft>>6&31|192;else if(!(4294901760&ft))pt[ct++]=ft>>12&15|224,pt[ct++]=ft>>6&63|128;else{if(4292870144&ft)continue;pt[ct++]=ft>>18&7|240,pt[ct++]=ft>>12&63|128,pt[ct++]=ft>>6&63|128}pt[ct++]=63&ft|128}}return pt.slice(0,ct)},Object.defineProperty(et.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(et.prototype,"fatal",{value:!1}),Object.defineProperty(et.prototype,"ignoreBOM",{value:!1}),et.prototype.decode=function(j,nt){if((nt=nt===void 0?{stream:!1}:nt).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");nt=0;for(var ot=(j=new Uint8Array(j)).length,ct=[];nt<ot;){var gt=j[nt++];if(gt===0)break;if(!(128&gt))ct.push(gt);else if((224&gt)==192){var pt=63&j[nt++];ct.push((31&gt)<<6|pt)}else if((240&gt)==224){pt=63&j[nt++];var ft=63&j[nt++];ct.push((31&gt)<<12|pt<<6|ft)}else(248&gt)==240&&(65535<(gt=(7&gt)<<18|(pt=63&j[nt++])<<12|(ft=63&j[nt++])<<6|63&j[nt++])&&(gt-=65536,ct.push(gt>>>10&1023|55296),gt=56320|1023&gt),ct.push(gt))}return String.fromCharCode.apply(null,ct)},$.TextEncoder=_e,$.TextDecoder=et})(typeof window<"u"?window:_!==void 0?_:this)}).call(this,s(6))},function(i,o,s){s.r(o),s.d(o,"AuthClient",function(){return _e}),s.d(o,"RtcSignalingClient",function(){return j}),s.d(o,"Credentials",function(){return jt}),s.d(o,"IRtcStream",function(){}),s.d(o,"SignalingPromiseClient",function(){return qt.SignalingPromiseClient}),s.d(o,"IRtcClientConfigurationV1",function(){}),s.d(o,"IRtcClientConfiguration",function(){}),s.d(o,"IRtcConnectionStatsInfo",function(){}),s.d(o,"IRtcSendConfiguration",function(){}),s.d(o,"IRtcSessionMetricsMessageCounts",function(){}),s.d(o,"IRtcStreamMessage",function(){}),s.d(o,"IRtcStreamPayload",function(){}),s.d(o,"IStreamControl",function(){}),s.d(o,"RtcClient",function(){return ds}),s.d(o,"RtcClientV1",function(){return ru}),s.d(o,"createRtcStreamMessage",function(){return qr});var _=s(28),$=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class _e extends _.a{adminSignup(Cn,Mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:Mn,method:"POST",body:JSON.stringify(Cn)})})}login(Cn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(Cn),allowUnsafeRetries:!0})})}loginWithGoogleToken(Cn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(Cn),allowUnsafeRetries:!0})})}refresh(Cn,Mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:Cn,tokenExpirationSeconds:Mn}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(Cn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(Cn)})})}forgotPassword(Cn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:Cn})})})}confirmForgotPassword(Cn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(Cn)})})}resendInvitation(Cn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:Cn})})})}changePassword({token:Cn,refreshToken:Mn,currentPassword:Hn,newPassword:Jn}){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:Cn,method:"POST",body:JSON.stringify({refreshToken:Mn,currentPassword:Hn,newPassword:Jn})})})}getDeviceCredentials(Cn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:Cn,method:"POST",allowUnsafeRetries:!0})})}impersonate(Cn,Mn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:Cn,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:Mn})})})}createServiceAccount(Cn,Mn,Hn,Jn){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:Cn,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:Mn,roleId:Hn,tags:Jn})})})}getFeatures(Cn){return $(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:Cn})).features})}}var et=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class j extends _.a{createPeer(Cn,Mn){return et(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:Cn,method:"POST",body:JSON.stringify(Mn)})})}getPeers(Cn){return et(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:Cn})).items})}refreshPeer(Cn,Mn){return et(this,void 0,void 0,function*(){yield this.fetch(`peers/${Mn}/refresh`,{token:Cn,method:"POST",allowUnsafeRetries:!0})})}createSession(Cn,Mn){return et(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:Cn,method:"POST",body:JSON.stringify(Mn)})})}refreshSession(Cn,Mn){return et(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Mn}/refresh`,{token:Cn,method:"POST",allowUnsafeRetries:!0})})}deleteSession(Cn,Mn){return et(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Mn}`,{token:Cn,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(Cn){return et(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:Cn})).items})}getIceServers(Cn){return et(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:Cn})).items})}addSignals(Cn,Mn,Hn){return et(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Mn}/add-signals`,{token:Cn,method:"POST",body:JSON.stringify(Hn)})})}takeSignals(Cn,Mn){return et(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${Mn}/take-signals`,{token:Cn,method:"POST"})).items})}}var nt=s(1),ot=s(8),ct=s(14),gt=s.n(ct),pt=s(104),ft=s.n(pt),ut=s(0),yt=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class wt{constructor(Cn){this.name="LogReporter",this.type="simple",this.message=Cn}send(Cn){return yt(this,void 0,void 0,function*(){var Mn,Hn;ut.a.info(this.message,(Mn=Cn.reduce((Jn,pn)=>Object.assign(Object.assign({},Jn),{[pn.name]:pn.stat}),{}),Hn=Jn=>{const{sum:pn,count:wn}=Jn,Nn=pn/wn;return Object.assign(Object.assign({},Jn),{average:Nn})},Object.keys(Mn).reduce((Jn,pn)=>Object.assign(Object.assign({},Jn),{[pn]:Hn(Mn[pn])}),{})))})}}var Qt=s(4),It=s(39);function xt(Gr){return!!Gr.match(/^[a-zA-Z0-9-_.,:?'"()@\/\\#$+ ]{1,255}$/)}var Tt=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};function mt({func:Gr,delay:Cn,immediate:Mn}){let Hn=!1,Jn=setTimeout(function wn(){return Tt(this,void 0,void 0,function*(){if(Hn)return;const Nn=new Date().getTime();try{pn=Gr(),yield pn}finally{if(!Hn){const jn=new Date().getTime();Jn=setTimeout(wn,Math.max(Cn-(jn-Nn),0))}}})},Mn?0:Cn),pn=Promise.resolve();return{stop(){return Tt(this,void 0,void 0,function*(){Hn=!0,clearTimeout(Jn),yield pn})}}}var Nt=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};const en=s(226),rn=!!Qt.c,Ft=new class{constructor(Gr){this.samplePeriodSeconds=60,this.buffer={},this.reporters=[],this.flushInterval=mt({func:()=>this.flushStats(),delay:this.samplePeriodSeconds*nt.a.second}),this.tags=this.filterTags((Gr==null?void 0:Gr.tags)||{app:Qt.a,version:Qt.j,namespace:Qt.i,instanceId:It.a})}shutdown(){return Nt(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(ot.a)(2*nt.a.second)})}aggregate(Gr,Cn,Mn){this.addToBuffer(this.buffer,this.encodeKey({metric:Gr,tags:this.filterTags(Mn||{})}),typeof Cn=="number"?{min:Cn,max:Cn,sum:Cn,count:1}:Cn)}increment(Gr,Cn){this.aggregate(Gr,1,Cn)}timer(Gr,Cn,Mn){return Nt(this,void 0,void 0,function*(){const Hn=en(),Jn=yield Cn(),pn=en();return this.aggregate(Gr,pn-Hn,Mn),Jn})}registerStatsReporter(Gr){this.reporters.push(Gr)}setTag(Gr,Cn){const Mn=this.filterTags({[Gr]:Cn});this.tags=Object.assign(Object.assign({},this.tags),Mn)}addToBuffer(Gr,Cn,Mn){if(Gr[Cn]){const{min:Hn,max:Jn,sum:pn,count:wn}=Gr[Cn];Gr[Cn]={min:Math.min(Hn,Mn.min),max:Math.max(Jn,Mn.max),sum:pn+Mn.sum,count:wn+Mn.count}}else Gr[Cn]=Mn}write(Gr){return Nt(this,void 0,void 0,function*(){yield Promise.all(this.reporters.map(Cn=>Nt(this,void 0,void 0,function*(){let Mn;const Hn={};switch(Cn.type){case"simple":for(const[pn,wn]of Object.entries(Gr)){const{metric:Nn}=this.decodeKey(pn);this.addToBuffer(Hn,this.encodeKey({metric:Nn}),wn)}Mn=Hn;break;case"tagged":Mn=Gr;break;default:(function(pn){throw new Error(`Unreachable type encountered (${pn})`)})(Cn.type)}const Jn=Object.entries(Mn);if(Jn.length>0)return Cn.send(Jn.map(([pn,wn])=>{const{metric:Nn,tags:jn}=this.decodeKey(pn);return{name:Nn,tags:Object.assign(Object.assign({},jn),this.tags),stat:wn}}),this.samplePeriodSeconds).catch(pn=>{ut.a.debug(`Failed to write stats to ${Cn.name}`,{error:pn})})})))})}flushStats(){return Nt(this,void 0,void 0,function*(){yield this.write(this.buffer),this.buffer={}})}encodeKey(Gr){return gt()(Object.assign(Object.assign({},Gr),Object.keys(Gr.tags||{}).length>0?{tags:Gr.tags}:{}))}decodeKey(Gr){return JSON.parse(Gr)}filterTags(Gr){return Object.entries(Gr||{}).reduce((Cn,[Mn,Hn])=>(xt(Mn)&&xt(Hn)&&(Cn[Mn]=Hn),Cn),{})}};rn||["local","on-prem"].includes(Qt.i)||Ft.registerStatsReporter(new wt("stats"));var St=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class Pt extends class{constructor(Cn){this.options=Cn,this.cache=new ft.a(Object.assign(Object.assign(Object.assign({},Cn.dispose||Cn.disposeAfter?{ttlAutopurge:!0}:{}),Cn),{dispose:(...Mn)=>{var Hn;Mn[2]==="evict"&&Ft.increment("lru-eviction",{name:Cn.name}),(Hn=Cn.dispose)===null||Hn===void 0||Hn.call(Cn,...Mn)},disposeAfter:(...Mn)=>{var Hn;this.updateStats(),(Hn=Cn.disposeAfter)===null||Hn===void 0||Hn.call(Cn,...Mn)}})),this.stringify=Cn.fastStringify?JSON.stringify:gt.a}set(Cn,Mn,Hn){const Jn=this.stringify(Cn);if(!this.cache.set(Jn,Mn,{ttl:Hn})){const pn=this.cache.sizeCalculation?this.cache.sizeCalculation(Mn,Jn):"unknown";throw Error(`Value too large (${pn} > ${this.cache.max})`)}this.updateStats()}get(Cn){const{name:Mn}=this.options,Hn=this.stringify(Cn),Jn=this.cache.getRemainingTTL(Hn);return Jn<=0?Ft.increment("cache-miss",{name:Mn}):Jn!==1/0&&Ft.aggregate("cache-item-ttl",Jn,{name:Mn}),this.cache.get(Hn)}delete(Cn){this.cache.delete(this.stringify(Cn))}peek(Cn){return this.cache.peek(this.stringify(Cn))}size(){return this.cache.size}clear(){this.cache.clear()}forEach(Cn){this.cache.forEach(Cn)}purgeStale(){return this.cache.purgeStale()}updateStats(){const{name:Cn}=this.options;Ft.aggregate("cache-item-count",this.cache.size,{name:Cn}),this.cache.calculatedSize!==void 0&&Ft.aggregate("cache-length",this.cache.calculatedSize,{name:Cn})}}{constructor(Cn){if(super(Cn),this.expireRejectedPromiseValues=Cn.expireRejectedPromiseValues===void 0||Cn.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=Cn.rejectedPromiseValueTtl!==void 0?Cn.rejectedPromiseValueTtl:nt.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(Cn,Mn,Hn){super.set(Cn,Mn,Hn),this.expireRejectedPromiseValues&&Mn.catch(()=>St(this,void 0,void 0,function*(){yield Object(ot.a)(this.rejectedPromiseValueTtl),this.peek(Cn)===Mn&&this.delete(Cn)}))}}var Bt=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class jt{constructor(Cn,Mn,Hn){this.authClient=Cn,this.email=Mn,this.password=Hn,this.tokenTtlMs=1*nt.a.hour,this.tokenCache=new Pt({name:"Credentials-tokenCache",max:100,ttl:this.tokenTtlMs-5*nt.a.minute,fastStringify:!0})}getToken(){return Bt(this,void 0,void 0,function*(){let Cn=this.tokenCache.get(this.email);return Cn||(Cn=(()=>Bt(this,void 0,void 0,function*(){const{authentication:Mn}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/nt.a.second});if(!Mn)throw new Error("User account not verified.");return Mn.accessToken}))(),this.tokenCache.set(this.email,Cn)),Cn})}}var qt=s(97),Zt=s(40),Wt=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class Gt extends Zt.a{constructor(Cn){super(Cn)}postLanRtcOffer(Cn){return Wt(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(Cn)})})}}var Ht=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};function kt(Gr){return Ht(this,void 0,void 0,function*(){return(yield Promise.all(Gr.map(Cn=>Cn.catch(Mn=>Mn)))).filter(Cn=>Cn instanceof Error)})}function Rt(Gr){if(Gr!==void 0)return Gr;throw new Error("Value is undefined")}function $t(Gr,Cn){const Mn=Gr.reduce((Hn,Jn)=>[...Hn,...Jn.urls],[]).filter(Hn=>nn(Hn,Cn)).sort(Hn=>Un(Hn,"udp")?-1:0).shift();if(Mn)return Object.assign(Object.assign({},Rt(Gr.find(Hn=>Hn.urls.includes(Mn)))),{urls:[Mn]})}function nn(Gr,Cn){switch(Cn){case"stun":return/^stuns?:/.test(Gr);case"turn":return/^turns?:/.test(Gr)}}function Un(Gr,Cn){return Gr.endsWith(`transport=${Cn}`)}var Fn=s(9),En=s(24),fn=s(229),sn=s(29);const Ct={ordered:!1,maxPacketLifeTime:300*nt.a.millisecond},Dt={ordered:!0},Xt={ordered:!0},_n={ordered:!1,maxRetransmits:0},mn={ordered:!1,maxRetransmits:0},xn=Gr=>"received"in Gr&&Gr.received!==void 0,On=Gr=>!("received"in Gr)||Gr.received===void 0,nr=2*nt.a.second;function Nr(Gr,Cn={}){const Mn=Array.from(Gr.values()),Hn=Mn.filter(xn),Jn=Hn.length>0,pn=Math.max(...Hn.map(Wn=>Wn.received));let wn;if(Jn){const Wn=Mn.length,rr=Hn.length,Qr=Hn.map(gr=>gr.received-gr.sent),{standardDeviation:Vn,mean:bn,jitter:Sn}=function(gr){const Rr=gr.length;if(Rr===0)return{mean:NaN,standardDeviation:-1,jitter:NaN};const mr=gr.reduce((Kr,Hr)=>Kr+Hr,0)/Rr,Er=Math.sqrt(gr.map(Kr=>Math.pow(Kr-mr,2)).reduce((Kr,Hr)=>Kr+Hr)/Rr);let Dr=0;for(let Kr=1;Kr<Rr;++Kr)Dr+=Math.abs(gr[Kr]-gr[Kr-1]);return{mean:mr,standardDeviation:Er,jitter:Dr/(Rr-1)}}(Qr),Zn=Mn.filter(gr=>gr.sent<pn-nr),ir=Zn.filter(On),hr=ir.length===0?0:ir.length/Zn.length;wn={pingsSent:Wn,pongsReceived:rr,average:bn,standardDeviation:Vn,jitter:Sn,max:Math.max(...Qr),min:Math.min(...Qr),loss:hr}}else wn=null;const{temporalNow:Nn=Date.now()}=Cn,jn=(Jn?pn:Nn)-4*nr;return Array.from(Gr.entries()).forEach(Wn=>{const[rr,Qr]=Wn;Qr.sent<jn&&Gr.delete(rr)}),wn}function co({entityId:Gr,streamName:Cn,streamType:Mn}){return`${Gr}.${Cn}.${Mn}`}var Zr=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class mo{constructor(Cn,Mn){this.sessionId=Cn,this.connection=Mn,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=Cn,this.connection=Mn}updateRemoteMessagesCounts(Cn){if(Cn.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const Mn of Cn.payload.streamsInfo.items)this.counts.remoteSent.set(Mn.streamId,Mn.sentCount),this.counts.remoteReceived.set(Mn.streamId,Mn.receivedCount)}}getLocalStreamsInfo(Cn){const{localSent:Mn,localReceived:Hn}=this.counts;return{items:[...new Set([...Mn.keys(),...Hn.keys()])].map(Jn=>{var pn,wn;return{streamId:Jn,sentCount:(pn=Mn.get(Jn))!==null&&pn!==void 0?pn:0,receivedCount:(wn=Hn.get(Jn))!==null&&wn!==void 0?wn:0}}),timestamp:Cn}}incrementLocalSent(Cn){const{localSent:Mn}=this.counts,Hn=co(Cn.header.stream);Mn.set(Hn,(Mn.get(Hn)||0)+1)}incrementLocalReceived(Cn){const{localReceived:Mn}=this.counts,Hn=co(Cn.header.stream),Jn=Mn.get(Hn)||0;if(Jn===0){const{streamName:pn,streamType:wn}=Cn.header.stream;ut.a.debug("RTC client received first message for stream",{streamName:pn,streamType:wn})}Mn.set(Hn,Jn+1)}uploadMetrics(){return Zr(this,void 0,void 0,function*(){const{sessionId:Cn}=this,Mn=yield this.connection.peerConnection.getStats(),Hn={};Mn.forEach(Wn=>Hn[Wn.id]=Wn),ut.a.debug("rtc-stats",Object.assign(Object.assign({},Hn),{sessionId:Cn}));const{localSent:Jn,localReceived:pn,remoteSent:wn,remoteReceived:Nn}=this.counts,jn=[...new Set([...Jn.keys(),...pn.keys()])].reduce((Wn,rr)=>{const Qr=Jn.get(rr),Vn=pn.get(rr),bn=wn.get(rr),Sn=Nn.get(rr);return Object.assign(Object.assign({},Wn),{[`local-${rr}-sent`]:Qr,[`local-${rr}-received`]:Vn,[`remote-${rr}-sent`]:bn,[`remote-${rr}-received`]:Sn})},{sessionId:Cn});ut.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},jn))})}}function qr(Gr,Cn,Mn){return{header:{stream:Gr,created:Date.now(),frameId:Mn||""},payload:Cn}}function io(Gr){return new Set(["disconnected","failed","closed"]).has(Gr.iceConnectionState)}function lo(Gr){switch(Gr.header.stream.streamType){case"twist":{const{twist:Cn}=Gr.payload;if(!Cn)throw Error("twist not in payload of RTC message with type twist");return{header:Gr.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},Cn.linear),angular:Object.assign({x:0,y:0,z:0},Cn.angular)}}}}case"pose":{const{pose:Cn}=Gr.payload;if(!Cn)throw Error("pose not in payload of RTC message with type pose");return{header:Gr.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},Cn.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},Cn.rotation)}}}}case"pose-with-covariance":{const{poseWithCovariance:Cn}=Gr.payload;if(!Cn)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const Mn=new Array(36).fill(0);return Cn.covariance.forEach((Hn,Jn)=>{if(Jn>=36)throw Error("covariance contains more than 36 elements");Mn[Jn]=Hn}),{header:Gr.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},Cn.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},Cn.pose.rotation)},covariance:Mn}}}}case"point":{const{point:Cn}=Gr.payload;if(!Cn)throw Error("point not in payload of RTC message with type point");return{header:Gr.header,payload:{point:Object.assign({x:0,y:0,z:0},Cn)}}}default:return Gr}}var Vo=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class Io{constructor(Cn,Mn,Hn){this.peerConnection=Cn,this.config=Mn,this.dataChannelNotifier=Hn,this.connectTimeoutMs=20*nt.a.second,this.iceGatheringTimeoutMs=15*nt.a.second,this.pingUpdateTimeoutMs=1*nt.a.second,this.pingV2UpdateTimeoutMs=250*nt.a.millisecond,this.pingV2MetricsGatherTimeoutMs=1*nt.a.second,this.streamsInfoUpdateTimeoutMs=2*nt.a.second,this.reassemblyTimeoutMs=500*nt.a.millisecond,this.reassemblyTableCleanupMs=1*nt.a.second,this.heartbeatTimeoutMs=20*nt.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1,this.pingV2Map=new Map,this.sendPingV2=()=>{const{latestTryOnceStreamChannel:pn}=this;if(!pn)return;const wn=new Date().getTime(),Nn=Object(fn.a)();this.sendSystemMessage(pn,{type:"ping-v2",payload:{timestamp:wn,id:Nn}}),this.pingV2Map.set(Nn,{sent:wn})},this.gatherPingV2Metrics=()=>{const pn=Nr(this.pingV2Map);pn&&(this.pingInfo=pn,Ft.aggregate("rtc-ping-average",pn.average),Ft.aggregate("rtc-ping-loss",pn.loss),Ft.aggregate("rtc-jitter",pn.jitter))};const{isOffer:Jn}=Mn.baseConfig;Jn?this.initializeChannels(Cn):Cn.ondatachannel=pn=>{switch(pn.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=pn.channel;break;case"stream.reliable":this.reliableStreamChannel=pn.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=pn.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=pn.channel;break;case"heartbeat":return void(this.heartbeatChannel=pn.channel);default:return void this.dataChannelNotifier(pn.channel)}this.setupChannel(pn.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:pn}=this;pn&&this.sendSystemMessage(pn,{type:"ping"})},this.pingUpdateTimeoutMs),this.pingV2UpdateTimeout=setInterval(this.sendPingV2,this.pingV2UpdateTimeoutMs),this.pingV2MetricsGatherTimeout=setInterval(this.gatherPingV2Metrics,this.pingV2MetricsGatherTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:pn}=this;pn&&this.sendSystemMessage(pn,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const pn=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((wn,Nn,jn)=>{pn>Nn+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(wn)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:pn}=this;pn&&pn.readyState==="open"&&pn.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(Cn){return Vo(this,void 0,void 0,function*(){const{peerConnection:Mn}=this,{track:Hn}=this.config.baseConfig,Jn=(()=>{try{return JSON.parse(Cn.getPayload())}catch{return}})();if(!Jn)return void ut.a.error("Received unparseable signal.");ut.a.debug("Handling signal",{description:Jn});const{sdp:pn,type:wn}=Jn;if(!pn||!wn)return void ut.a.warn("Received non-SDP signal");const{signalingState:Nn,connectionState:jn}=Mn;if(Nn!=="stable"||jn!=="connected")if(Mn.remoteDescription)ut.a.warn(`Received SDP after remote description was set: ${pn}`);else{if(wn==="offer"){if(Nn!=="stable")return void ut.a.warn("Received offer SDP when signaling is ongoing.");yield Mn.setRemoteDescription(Jn);const Wn=yield Mn.createAnswer();yield Mn.setLocalDescription(Wn);const rr=Cn.clone();return Hn==null||Hn("Answer Received",rr),rr.setPayload(JSON.stringify(Wn)),rr.setReceiverId(Cn.getSenderId()),rr.setSenderId(Cn.getReceiverId()),rr}if(wn==="answer"){if(Nn==="stable")return void ut.a.warn("Received answer SDP when signaling hasn't started.");yield Mn.setRemoteDescription(Jn)}}else ut.a.warn(`Received SDP when already connected: ${pn}`)})}send(Cn,Mn){const Hn=this.getChannelFromLabel(Mn.channelLabel);Hn?this.sendOnChannel(Hn,Cn):ut.a.warn("Send called with unexpected channel label",{channelLabel:Mn.channelLabel})}controlRemoteStream(Cn){this.sendSystemMessage(Rt(this.reliableStreamChannel),{type:"stream-control",streamControl:Cn})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:Cn,latestTtlStreamChannel:Mn,latestTryOnceStreamChannel:Hn,latestReliableStreamChannel:Jn}=this;return(Cn==null?void 0:Cn.readyState)==="open"&&(Mn==null?void 0:Mn.readyState)==="open"&&(Hn==null?void 0:Hn.readyState)==="open"&&(Jn==null?void 0:Jn.readyState)==="open"}close(){return Vo(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),Go(this.pingUpdateTimeout),Go(this.pingV2UpdateTimeout),Go(this.pingV2MetricsGatherTimeout),Go(this.reassemblyTableCleanupTimeout),Go(this.streamsInfoUpdateTimeout),Go(this.heartbeatTimeout);const{peerConnection:Cn,reliableStreamChannel:Mn,latestTtlStreamChannel:Hn,latestTryOnceStreamChannel:Jn,latestReliableStreamChannel:pn}=this;Cn.close(),Mn==null||Mn.close(),Hn==null||Hn.close(),Jn==null||Jn.close(),pn==null||pn.close()})}getPing(){return this.pingTimeMs}getPingInfo(){return this.pingInfo}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var Cn;return(Cn=this.config.remoteConfig)===null||Cn===void 0?void 0:Cn.sessionCreatedTimestamp}setSessionCreatedTimestamp(Cn){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=Cn)}getSessionId(){var Cn;return(Cn=this.config.remoteConfig)===null||Cn===void 0?void 0:Cn.sessionId}setSessionId(Cn){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=Cn,this.sessionMetrics=new mo(Cn,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var Cn;return(Cn=this.config.baseConfig)===null||Cn===void 0?void 0:Cn.remoteDeviceId}setRemoteDeviceId(Cn){this.config.baseConfig.remoteDeviceId=Cn}getSessionMetricsMessageCounts(){var Cn;return(Cn=this.sessionMetrics)===null||Cn===void 0?void 0:Cn.counts}getConnectionStatsInfo(){return Vo(this,void 0,void 0,function*(){const{peerConnection:Cn}=this;if(!Cn)return;const Mn=yield Cn.getStats(null),Hn=[];Mn.forEach(jn=>{Hn.push(jn)});const Jn=Hn.find(jn=>jn.type==="transport");if(!Jn)return;const pn=Hn.find(jn=>(jn.type==="candidate-pair"||jn.type==="candidatepair")&&jn.id===Jn.selectedCandidatePairId);if(!pn)return;const wn=Hn.find(jn=>jn.id===pn.localCandidateId),Nn=Hn.find(jn=>jn.id===pn.remoteCandidateId);return wn&&Nn&&(wn.address=wn.address||wn.ip,Nn.address=Nn.address||Nn.ip,wn.address!==void 0&&Nn.address!==void 0)?{transport:Jn,localCandidate:wn,remoteCandidate:Nn}:void 0})}initializeChannels(Cn){this.heartbeatChannel=Cn.createDataChannel("heartbeat",mn),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=Cn.createDataChannel("stream.latest-ttl",Ct),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=Cn.createDataChannel("stream.reliable",Dt),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=Cn.createDataChannel("stream.latest-reliable",Xt),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=Cn.createDataChannel("stream.latest-try-once",_n),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var Cn,Mn,Hn;return Vo(this,void 0,void 0,function*(){const{gotOffer:Jn}=this,{peerConnection:pn,config:wn}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const Nn=(Cn=this.config.remoteConfig)===null||Cn===void 0?void 0:Cn.sessionId;if(Jn)return void ut.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,io(this.peerConnection))return void ut.a.debug("Failed to generate offer because the peer connection was inactive.");const jn=wn.baseConfig.track;pn.onicecandidate=()=>{this.hasIceCandidate=!0},pn.oniceconnectionstatechange=()=>Vo(this,void 0,void 0,function*(){const bn=pn.iceConnectionState;if(bn==="connected"||bn==="completed"){const Sn=yield this.getConnectionStatsInfo(),Zn=Sn?function(ir){const hr=ir.localCandidate.candidateType,gr=ir.remoteCandidate.candidateType;return hr==="host"&&gr==="host"?"local":hr==="relay"||gr==="relay"?"TURN":"STUN"}(Sn):void 0;ut.a.info(`ICE connection state changed to ${bn}`,{sessionId:Nn,connectionStatsInfo:Sn,iceMode:Zn}),jn==null||jn("ICE connection state change",{iceConnectionState:bn,sessionId:Nn,connectionStatsInfo:Sn,iceMode:Zn})}}),yield pn.setLocalDescription(yield pn.createOffer());const Wn=new Date().getTime();for(;;){const bn=new Date().getTime()-Wn;if(bn>this.connectTimeoutMs)return void ut.a.debug("Failed to generate offer because ICE gathering timed out.");if(bn>this.iceGatheringTimeoutMs&&this.hasIceCandidate){ut.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:pn.getConfiguration().iceTransportPolicy,waitTime:bn}),jn==null||jn("ICE gathering partially completed",{sessionId:Nn,iceTransportPolicy:pn.getConfiguration().iceTransportPolicy,waitTime:bn});break}if(pn.iceGatheringState==="complete"){ut.a.debug("ICE gathering complete",{iceTransportPolicy:pn.getConfiguration().iceTransportPolicy,waitTime:bn}),jn==null||jn("ICE gathering completed",{sessionId:Nn,iceTransportPolicy:pn.getConfiguration().iceTransportPolicy,waitTime:bn});break}yield Object(ot.a)(.1*nt.a.second)}const rr=(Mn=this.peerConnection.getConfiguration().iceServers)!==null&&Mn!==void 0?Mn:[];for(const bn of rr)bn.credentialType=void 0;const Qr=JSON.stringify(rr),Vn=new Fn.Signal;return Vn.setPayload(JSON.stringify(pn.localDescription)),Vn.setSenderId(this.config.baseConfig.localPeerId),Vn.setReceiverId(this.config.baseConfig.remotePeerId),Vn.setIceServers(Qr),Vn.setIceTransportPolicy((Hn=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&Hn!==void 0?Hn:"all"),this.config.baseConfig.sessionType!==void 0?Vn.setSessionType(this.config.baseConfig.sessionType):Vn.setSessionType(Fn.SessionType.TELEOP),ut.a.debug("Sending offer signal with description",{description:Vn.getPayload()}),Vn})}getLanOffer(){return Vo(this,void 0,void 0,function*(){const{peerConnection:Cn,gotOffer:Mn}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(Mn)return void ut.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,io(this.peerConnection))return void ut.a.debug("Failed to generate offer because the peer connection was inactive.");yield Cn.setLocalDescription(yield Cn.createOffer());const Hn=new Date().getTime();for(;;){if(new Date().getTime()-Hn>this.iceGatheringTimeoutMs)return void ut.a.debug("Failed to generate offer because ICE gathering timed out.");if(Cn.iceGatheringState==="complete")break;yield Object(ot.a)(.1*nt.a.second)}const Jn=Cn.localDescription;if(Jn)return ut.a.debug("Sending LAN offer signal with description",{description:Jn}),Jn;ut.a.error("Failed to generate LAN offer description")})}handleLanAnswer(Cn){return Vo(this,void 0,void 0,function*(){const{peerConnection:Mn}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield Mn.setRemoteDescription(Cn)})}getChannelFromLabel(Cn){switch(Cn){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(Cn,Mn){let Hn;try{Hn=Object(sn.encode)(JSON.stringify(Mn))}catch(Jn){return void ut.a.warn("Failed to encode RTC message",{error:Jn})}try{Cn.send(Hn),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(Mn)}catch(Jn){ut.a.warn("Failed to send message to channel",{error:Jn,channel:Cn.label})}}channelNotRecognized(Cn){return Cn!==this.latestTtlStreamChannel&&Cn!==this.latestReliableStreamChannel&&Cn!==this.latestTryOnceStreamChannel&&Cn!==this.reliableStreamChannel}setupChannel(Cn){Cn.onmessage=Mn=>{if(this.channelNotRecognized(Cn))return void ut.a.warn("Received message on unrecognized data channel.");let Hn;try{Hn=JSON.parse(Object(sn.decode)(Mn.data))}catch(Jn){return void ut.a.warn("Received unparseable message on RTC stream data channel",{error:Jn,channel:Cn.label})}Hn.communicationType==="message-chunk"?this.receiveChannelMessageChunk(Cn,Hn):this.receiveChannelMessage(Cn,Hn)},Cn.onerror=Mn=>{ut.a.warn(`Channel error: ${Mn.error}`,{error:Mn.error,sessionId:this.getSessionId(),channelLabel:Cn.label})},Cn.onopen=()=>{ut.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:Cn.label})},Cn.onclose=()=>{const Mn={bufferedAmount:Cn.bufferedAmount,sessionId:this.getSessionId(),channelLabel:Cn.label};this.closeCalled===!1?ut.a.debug("Unexpected channel closed",Mn):ut.a.debug("Channel closed",Mn)}}receiveChannelMessage(Cn,Mn){const{config:Hn}=this,{remotePeerId:Jn}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),Mn=lo(Mn),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(Mn),this.handleSystemMessage(Cn,Mn)||(Cn===this.latestTryOnceStreamChannel||Cn===this.latestTtlStreamChannel||Cn===this.latestReliableStreamChannel)&&!this.isLatestMessage(Mn)||Hn.baseConfig.receive(Jn,Mn)}receiveChannelMessageChunk(Cn,Mn){const Hn=this.reassemblyTable.get(Mn.id)||[];if(Hn.push(Mn),Hn.length===Mn.total){const Jn=function(pn){const wn=pn.sort((Nn,jn)=>Nn.seq<jn.seq?-1:1).map(Nn=>Nn.part).reduce((Nn,jn)=>Nn+jn);try{return JSON.parse(wn)}catch{return void ut.a.warn("Could not reassemble RTC message chunks")}}(Hn);return Jn&&this.receiveChannelMessage(Cn,Jn),void this.reassemblyTable.delete(Mn.id)}this.reassemblyTable.set(Mn.id,Hn),this.reassemblyTableLastTimestamp.set(Mn.id,new Date().getTime())}handleSystemMessage(Cn,Mn){var Hn,Jn;const{config:pn}=this,{baseConfig:wn}=pn,{remotePeerId:Nn}=wn;switch(Mn.header.stream.streamType){case"ping":return this.sendSystemMessage(Cn,{type:"pong",timestamp:Rt(Mn.payload.ping)}),!0;case"pong":{const jn=new Date().getTime()-Rt(Mn.payload.pong);return this.pingTimeMs=jn,Ft.aggregate("rtc-ping-time",jn),!0}case"ping-v2":return this.sendPingV2(),!0;case"pong-v2":{const jn=Rt(Mn.payload.pongV2),Wn=this.pingV2Map.get(jn.id);return(Wn==null?void 0:Wn.sent)!==jn.timestamp?(ut.a.warn("Pong timestamp doesn't match stored value",{currentEntry:Wn,pong:jn}),!0):(this.pingV2Map.set(jn.id,{sent:jn.timestamp,received:new Date().getTime()}),!0)}case"streams-info":{const{sessionMetrics:jn}=this,Wn=(Hn=Mn.payload.streamsInfo)===null||Hn===void 0?void 0:Hn.timestamp;return!!Wn&&(jn==null||jn.updateRemoteMessagesCounts(Mn),(Jn=wn.onStreamsInfoUpdate)===null||Jn===void 0||Jn.call(wn,Nn,Wn),!0)}case"stream-control":return!0;default:return!1}}sendSystemMessage(Cn,Mn){var Hn;const{localUserId:Jn,localPeerId:pn}=this.config.baseConfig;if(Cn.readyState!=="open")return;const wn={entityId:Jn??pn,streamName:`$.${Mn.type}`,streamType:Mn.type};let Nn;switch(Mn.type){case"ping":Nn={ping:new Date().getTime()};break;case"pong":Nn={pong:Mn.timestamp};break;case"ping-v2":Nn={pingV2:Mn.payload};break;case"pong-v2":Nn={pongV2:Mn.payload};break;case"stream-control":Nn={streamControl:Mn.streamControl};break;case"streams-info":Nn={streamsInfo:(Hn=this.sessionMetrics)===null||Hn===void 0?void 0:Hn.getLocalStreamsInfo(new Date().getTime())}}this.sendOnChannel(Cn,qr(wn,Nn))}isLatestMessage(Cn){const Mn=co(Cn.header.stream),Hn=(this.streamLatestTimestamp.get(Mn)||0)<=Cn.header.created;return Hn&&this.streamLatestTimestamp.set(Mn,Cn.header.created),Hn}}function Go(Gr){Gr&&clearInterval(Gr)}function rs(Gr){var Cn,Mn;return{userId:(Cn=Gr.getUserId())===null||Cn===void 0?void 0:Cn.getValue(),deviceId:(Mn=Gr.getDeviceId())===null||Mn===void 0?void 0:Mn.getValue(),organizationId:Gr.getOrganizationId(),id:Gr.getPeerId(),capabilities:[],capabilitySet:{}}}var $o=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class ds{constructor(Cn){this.config=Cn,this.grpcCallDeadline=5*nt.a.second,this.refreshIntervalDelayMs=2*nt.a.second,this.iceServersTtl=30*nt.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[];const{refreshIntervalDelayMs:Mn}=this;this.refreshInterval=mt({func:()=>$o(this,void 0,void 0,function*(){try{yield this.update()}catch(Hn){ut.a.warn("RTC refresh failed",{error:Hn})}}),delay:Mn,immediate:!0})}send(Cn,Mn,Hn){const Jn=this.getActiveConnection(Cn);Jn?Jn.isReady()?Jn.send(Mn,Hn):ut.a.warn("Send called with unready connection."):ut.a.warn("Send called with no connection.")}controlRemoteStream(Cn,Mn){const Hn=this.getActiveConnection(Cn);Hn?Hn.isReady()?Hn.controlRemoteStream(Mn):ut.a.warn("controlRemoteStream called with unready connection."):ut.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return $o(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(ot.a)(.1*nt.a.second);return rs(this.localPeer)})}connect(Cn,Mn){var Hn,Jn,pn;return $o(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:wn,signalingClient:Nn}=this.config,{localPeer:jn,receiveSignalStream:Wn,iceServers:rr}=this;if(!jn||!Wn||!rr)return void ut.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(Cn))return void ut.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(Cn))return void ut.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(Cn,!0);const Qr=function(gr,Rr,mr){const{rtcIceTransportPolicies:Er,rtcIceServerProtocol:Dr,useAllServers:Kr}=Rr||{},Hr=gr.map(wo=>Object.assign(Object.assign({},wo),{urls:wo.urls.filter(To=>{const Qo=(Er===void 0||Er.some(Do=>nn(To,Do)))&&(Dr===void 0||Un(To,Dr));return Qo||ut.a.debug(`Ignoring ICE server: ${To}`,{organizationId:mr}),Qo})})).filter(({urls:wo})=>wo.filter(To=>To).length>0);return Kr?Hr:[$t(Hr,"stun"),$t(Hr,"turn")].filter(wo=>wo!==void 0).map(wo=>Rt(wo))}(rr,Mn);ut.a.debug("Received ICE servers:",rr),ut.a.debug("Using ICE servers:",Qr);const Vn=new Io(yield this.createRTCPeerConnection(Qr),{baseConfig:{isOffer:!0,isLan:!1,receive:(gr,Rr)=>this.config.receive(gr,Rr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(gr,Rr)=>{var mr,Er;return(Er=(mr=this.config).onStreamsInfoUpdate)===null||Er===void 0?void 0:Er.call(mr,gr,Rr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(Hn=jn.getUserId())===null||Hn===void 0?void 0:Hn.getValue(),localPeerId:jn.getPeerId(),remotePeerId:Cn,sessionType:this.config.sessionType},remoteConfig:{}},gr=>this.onCustomDataChannel(Cn,gr)),bn=yield Vn.getOffer();if(!bn)return ut.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(Cn);ut.a.debug("Sending offer."),wn==null||wn("Sending offer",bn);const Sn=new Fn.SendSignalRequest;Sn.setSignal(bn);const Zn=yield(()=>$o(this,void 0,void 0,function*(){try{return yield Nn.sendSignal(Sn,yield this.getMetadata({}))}catch(gr){ut.a.warn("Error when sending signal",{error:gr})}}))();if(!this.isOutgoingConnection.get(Cn))return void ut.a.debug("No offer set after receiving offer signal response.");ut.a.debug("Offer sent.");const ir=(Jn=Zn==null?void 0:Zn.getSessionId())===null||Jn===void 0?void 0:Jn.getValue(),hr=(pn=Zn==null?void 0:Zn.getSessionCreatedTimestamp())===null||pn===void 0?void 0:pn.getValue();return ir&&hr?(Vn.setSessionId(ir),Vn.setSessionCreatedTimestamp(hr),this.isOutgoingConnection.delete(Cn),this.connections.push(Vn),this.isConnectionInitiator.set(Vn,!0),this.setupHandlers(Vn),ir):(ut.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(Cn))})}connectLan(Cn){var Mn,Hn;return $o(this,void 0,void 0,function*(){const Jn=new Gt(Cn),pn=new Io(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(Wn,rr)=>this.config.receive(Wn,rr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Wn,rr)=>{var Qr,Vn;return(Vn=(Qr=this.config).onStreamsInfoUpdate)===null||Vn===void 0?void 0:Vn.call(Qr,Wn,rr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(Hn=(Mn=this.localPeer)===null||Mn===void 0?void 0:Mn.getUserId())===null||Hn===void 0?void 0:Hn.getValue(),localPeerId:"lan_client",remotePeerId:Cn}},Wn=>this.onCustomDataChannel(Cn,Wn)),wn=yield pn.getLanOffer();if(!wn)return ut.a.warn("Could not generate LAN offer"),!1;const Nn=yield Jn.postLanRtcOffer({offer:JSON.stringify(wn)}),jn=new RTCSessionDescription(JSON.parse(Nn.answer));return yield pn.handleLanAnswer(jn),this.localConnections.push(pn),this.isConnectionInitiator.set(pn,!0),Object(fn.a)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(Cn,Mn,Hn,Jn,pn){const wn=this.getActiveConnection(Cn);if(wn&&this.isConnectionInitiator.has(wn)){const jn=wn.peerConnection.createDataChannel("custom."+Mn,Hn);return Jn&&(jn.binaryType="arraybuffer"),pn(Cn,jn),()=>{}}const Nn=(jn,Wn)=>{Cn===jn&&Wn.label==="custom."+Mn&&pn(Cn,Wn)};return this.peerDataChannelListeners.push(Nn),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(jn=>jn!==Nn)}}onCustomDataChannel(Cn,Mn){this.peerDataChannelListeners.forEach(Hn=>Hn(Cn,Mn))}getConnectionStatus(Cn){if(this.isOutgoingConnection.get(Cn))return"connecting";const Mn=this.getActiveConnection(Cn);return Mn?Mn.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(Cn){return $o(this,void 0,void 0,function*(){const Mn=this.getActiveConnection(Cn);if(Mn)return yield Mn.getConnectionStatsInfo()})}disconnect(Cn){return $o(this,void 0,void 0,function*(){const Mn=this.getActiveConnection(Cn);Mn&&(yield Mn.close())})}getPeers(){return $o(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Cn}=this.config,Mn=yield(()=>$o(this,void 0,void 0,function*(){try{return yield Cn.getPeers(new Fn.GetPeersRequest,yield this.getMetadata({}))}catch(pn){ut.a.warn("Error when getting peers",{error:pn})}}))();if(!Mn)return[];const Hn=Mn.getPeersList();if(!Hn)return[];const Jn=pn=>{var wn,Nn;return(Nn=(wn=pn.getPeerCreatedTimestamp())===null||wn===void 0?void 0:wn.getValue())!==null&&Nn!==void 0?Nn:0};return Hn.sort((pn,wn)=>Jn(wn)-Jn(pn)).map(pn=>rs(pn))})}getSessions(){return $o(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Cn}=this.config,Mn=yield(()=>$o(this,void 0,void 0,function*(){try{return yield Cn.getPeers(new Fn.GetPeersRequest,yield this.getMetadata({}))}catch(pn){ut.a.warn("Error when getting peers",{error:pn})}}))();if(!Mn)return{};const Hn=Mn.getPeersList(),Jn={};for(const pn of Hn)Jn[pn.getPeerId()]=pn.getSessionIdsList();return Jn})}getPing(Cn){const Mn=this.getActiveConnection(Cn);if(Mn)return Mn.getPing();ut.a.warn("Attempted to get ping time from inactive peer.")}getPingInfo(Cn){const Mn=this.getActiveConnection(Cn);if(Mn)return Mn.getPingInfo();ut.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(Cn){const Mn=this.getActiveConnection(Cn);if(Mn)return Mn.getLastMessageTimestamp();ut.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(Cn){const Mn=this.getActiveConnection(Cn);if(Mn)return Mn.getSessionMetricsMessageCounts();ut.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:Cn,receiveSignalStream:Mn,iceServers:Hn}=this;return!!(Cn&&Mn&&Hn)}shutdown(){return $o(this,void 0,void 0,function*(){ut.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const Cn=this.connections;this.connections=[],yield this.closeConnections(Cn);const{localPeer:Mn}=this;if(!Mn||this.config.lanOnlyMode)return;const{signalingClient:Hn}=this.config;yield(()=>$o(this,void 0,void 0,function*(){try{const Jn=new Fn.DeletePeerRequest;Jn.setPeerId(Mn.getPeerId()),yield Hn.deletePeer(Jn,yield this.getMetadata({}))}catch(Jn){return void ut.a.warn("Error deleting local peer",{error:Jn})}}))()})}createPeer(){return $o(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:Cn}=this.config,Mn=yield(()=>$o(this,void 0,void 0,function*(){try{return yield Cn.createPeer(new Fn.CreatePeerRequest,yield this.getMetadata({}))}catch(Jn){throw new Error(`Was not able to create peer: ${JSON.stringify(Jn)}`)}}))(),Hn=Mn==null?void 0:Mn.getPeer();if(!Hn)throw new Error("Response did not provide peer.");return this.localPeer=Hn})}createReceiveSignalStream(){return $o(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:Cn}=this.config,{localPeer:Mn,iceServers:Hn}=this;if(!Mn||!Hn)return;const{receiveSignalStream:Jn}=this;Jn&&Jn.cancel();const pn=new Fn.ReceiveSignalStreamRequest;pn.setPeerId(Mn.getPeerId());const wn=yield(()=>$o(this,void 0,void 0,function*(){try{return Cn.receiveSignalStream(pn,yield this.getMetadata({hasDeadline:!1}))}catch(Nn){throw new Error(`Unable to create receive signal stream: ${JSON.stringify(Nn)}`)}}))();if(!wn)throw new Error("Response did not provide stream.");return wn.on("data",Nn=>$o(this,void 0,void 0,function*(){var jn,Wn,rr,Qr;const Vn=Nn.getSignal(),bn=(jn=Vn==null?void 0:Vn.getSessionId())===null||jn===void 0?void 0:jn.getValue(),Sn=Vn==null?void 0:Vn.getSenderId(),Zn=Vn==null?void 0:Vn.getReceiverId(),ir=(Wn=Vn==null?void 0:Vn.getSessionCreatedTimestamp())===null||Wn===void 0?void 0:Wn.getValue();if(!(Vn&&bn&&Sn&&Zn&&ir))return void ut.a.warn("Received signal with missing information.");const hr=this.getActiveConnection(Sn);if(hr)if(hr.getSessionId()!==bn){if(ut.a.debug("Received signal: different session for a peer we're already connected to."),(hr.getSessionCreatedTimestamp()||0)>ir)return;const gr=new Io(yield this.createRTCPeerConnection(Hn),{baseConfig:{isOffer:!1,isLan:!1,receive:(Rr,mr)=>this.config.receive(Rr,mr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Rr,mr)=>{var Er,Dr;return(Dr=(Er=this.config).onStreamsInfoUpdate)===null||Dr===void 0?void 0:Dr.call(Er,Rr,mr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:Mn.getPeerId(),localUserId:(Qr=Mn.getUserId())===null||Qr===void 0?void 0:Qr.getValue(),remotePeerId:Sn},remoteConfig:{sessionId:bn,sessionCreatedTimestamp:ir}},Rr=>this.onCustomDataChannel(Sn,Rr));yield gr.handleSignal(Vn),this.connections.push(gr)}else ut.a.debug("Received signal: for an existing connection."),yield hr.handleSignal(Vn);else{ut.a.debug("Received signal: new connection.");const gr=new Io(yield this.createRTCPeerConnection(Hn),{baseConfig:{isOffer:!1,isLan:!1,receive:(Rr,mr)=>this.config.receive(Rr,mr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Rr,mr)=>{var Er,Dr;return(Dr=(Er=this.config).onStreamsInfoUpdate)===null||Dr===void 0?void 0:Dr.call(Er,Rr,mr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:Mn.getPeerId(),localUserId:(rr=Mn.getUserId())===null||rr===void 0?void 0:rr.getValue(),remotePeerId:Sn},remoteConfig:{sessionId:bn,sessionCreatedTimestamp:ir}},Rr=>this.onCustomDataChannel(Sn,Rr));yield gr.handleSignal(Vn),this.connections.push(gr)}})),wn.on("end",()=>{wn.cancel(),this.receiveSignalStream=void 0}),wn.on("error",Nn=>{switch(Nn.code){case En.StatusCode.CANCELLED:case En.StatusCode.UNAVAILABLE:case En.StatusCode.UNKNOWN:ut.a.debug("Receive signal stream error",{error:Nn});break;case En.StatusCode.UNAUTHENTICATED:ut.a.warn("Receive signal stream error",{error:Nn});break;default:ut.a.error("Receive signal stream error",{error:Nn})}wn.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=wn})}createRTCPeerConnection(Cn){var Mn;return $o(this,void 0,void 0,function*(){const Hn=(Mn=this.config.alternateRTCPeerConnection)!==null&&Mn!==void 0?Mn:window.RTCPeerConnection;if(!Hn)throw function(){const{userAgent:Jn}=navigator;return Jn.includes("Firefox/")?"Firefox":Jn.includes("Edg/")?"Edge":Jn.includes("Chrome/")?"Chrome":Jn.includes("Safari/")?"Safari":Jn.includes("MSIE/")||Jn.includes("Trident/")?"IE":"Other"}()!=="Chrome"?new Error("WebRTC is not enabled. Please try again with the latest version of Google Chrome."):new Error("WebRTC is not enabled. Please ensure WebRTC is not disabled by ad blocking software.");return new Hn({iceServers:Cn})})}closeConnections(Cn){return $o(this,void 0,void 0,function*(){const Mn=yield kt(Cn.map(Hn=>$o(this,void 0,void 0,function*(){yield Hn.close()})));for(const Hn of Mn)ut.a.warn("Request to close session failed",{error:Hn})})}getActiveConnection(Cn){return this.getConnections().find(Mn=>Mn.getRemotePeerId()===Cn&&Mn.isActive())}update(){var Cn;return $o(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(Nn=>Nn.isActive()),this.config.lanOnlyMode)return;const{signalingClient:Mn}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers)return this.localPeer||(yield this.createPeer()),this.iceServers||(yield this.updateIceServers()),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()));yield this.closeConnections(this.connections.filter(Nn=>!Nn.isActive())),this.connections=this.connections.filter(Nn=>Nn.isActive());const{localPeer:Hn}=this,Jn=this.connections.filter(Nn=>Nn.getSessionId).map(Nn=>Rt(Nn.getSessionId()));Hn.setSessionIdsList(Jn);const pn=new Fn.RefreshPeerRequest;pn.setPeer(Hn);try{yield Mn.refreshPeer(pn,yield this.getMetadata({}))}catch(Nn){Nn.code===En.StatusCode.NOT_FOUND?(ut.a.warn("Peer expired, creating new peer",{peerId:Hn.getPeerId()}),yield this.reset()):ut.a.warn("Error calling RefreshPeer",{error:Nn})}const wn=yield this.getPeers();for(const Nn of this.connections)Nn.setRemoteDeviceId((Cn=wn.find(jn=>jn.id===Nn.getRemotePeerId()))===null||Cn===void 0?void 0:Cn.deviceId)})}reset(){return $o(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return $o(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:Cn,iceServersTtl:Mn}=this,Hn=new Date().getTime();if(!Cn||Hn-Cn>Mn)try{const Jn=(yield this.config.signalingClient.getIceServers(new Fn.GetIceServersRequest,yield this.getMetadata({}))).getIceServers();this.iceServers=JSON.parse(Jn),this.iceServersLastUpdate=Hn}catch(Jn){ut.a.warn("Error in updateIceServers",{error:Jn})}})}setupHandlers(Cn){const{peerConnection:Mn}=Cn,Hn=Cn.getSessionCreatedTimestamp();Mn.onconnectionstatechange=()=>$o(this,void 0,void 0,function*(){const Jn=Mn.connectionState;if(Hn)switch(Jn){case"connected":Ft.aggregate("rtc-connect-time",new Date().getTime()-Hn);break;case"failed":Ft.increment("rtc-connect-failed")}})}getMetadata(Cn){return $o(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:Mn}=this.config,{grpcCallDeadline:Hn}=this,{hasDeadline:Jn}=Cn,pn=Jn===!1?void 0:new Date().getTime()+Hn;return{authorization:yield Mn(),deadline:pn}})}}var ba=s(10),Ss=s(11),Fs=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class Yl{constructor(Cn,Mn){this.sessionId=Cn,this.connection=Mn,this.sentMessagesCounts=new Map,this.receivedMessagesCounts=new Map,this.sessionId=Cn,this.connection=Mn}incrementMessageSent(Cn){const Mn=co(Cn.header.stream);this.sentMessagesCounts.set(Mn,(this.sentMessagesCounts.get(Mn)||0)+1)}incrementMessageReceived(Cn){const Mn=co(Cn.header.stream);this.receivedMessagesCounts.set(Mn,(this.receivedMessagesCounts.get(Mn)||0)+1)}uploadMetrics(){return Fs(this,void 0,void 0,function*(){const{sessionId:Cn}=this,Mn=yield this.connection.peerConnection.getStats(),Hn={};Mn.forEach(pn=>Hn[pn.id]=pn),ut.a.debug("rtc-stats",Object.assign(Object.assign({},Hn),{sessionId:Cn}));const Jn=[...new Set(Array.from(this.sentMessagesCounts.keys()).concat(Array.from(this.receivedMessagesCounts.keys())))].reduce((pn,wn)=>{const Nn=this.sentMessagesCounts.get(wn),jn=this.receivedMessagesCounts.get(wn);return Object.assign(Object.assign({},pn),{[`${wn}-sent`]:Nn,[`${wn}-received`]:jn})},{sessionId:Cn});ut.a.debug("rtc-message-report",Jn)})}}function Ps(Gr,Cn){return co(Gr)===co(Cn)}var Cs=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class gu{constructor(Cn,Mn){this.peerConnection=Cn,this.config=Mn,this.connectTimeoutMs=10*nt.a.second,this.gatherIceTimeoutMs=5*nt.a.second,this.pingUpdateTimeoutMs=2*nt.a.second,this.streamLatestTimestamp=new Map,this.closeCalled=!1,this.connectCalled=!1,this.sentOffer=!1,this.receivedIceCandidate=!1;const{isOffer:Hn}=Mn;Hn?this.initializeChannels(Cn):Cn.ondatachannel=Jn=>{switch(Jn.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=Jn.channel;break;case"stream.reliable":this.reliableStreamChannel=Jn.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=Jn.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=Jn.channel}this.setupChannel(Jn.channel)},this.sessionMetrics=new Yl(this.getSessionId(),this)}connect(){return Cs(this,void 0,void 0,function*(){if(this.connectCalled)return;this.connectCalled=!0,this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:Jn}=this;Jn&&this.sendSystemMessage(Jn,{type:"ping"})},this.pingUpdateTimeoutMs),this.connectTimeout=setTimeout(()=>Cs(this,void 0,void 0,function*(){this.isReady()||(ut.a.warn("RTC connect timed out, closing connection"),yield this.close())}),this.connectTimeoutMs);const{peerConnection:Cn,config:{isOffer:Mn,sessionId:Hn}}=this;if(Mn){const Jn=yield Cn.createOffer();yield Cn.setLocalDescription(Jn)}Mn&&(this.gatherIceTimeout=setTimeout(()=>Cs(this,void 0,void 0,function*(){this.sentOffer||(ut.a.warn("ICE gathering timed out"),this.receivedIceCandidate?(ut.a.warn("Attempting to connect with partial ICE candidate pool"),yield this.sendOffer()):yield this.close())}),this.gatherIceTimeoutMs),Cn.onicecandidate=Jn=>Cs(this,void 0,void 0,function*(){Jn.candidate?this.receivedIceCandidate=!0:yield this.sendOffer()}),Cn.onicegatheringstatechange=()=>Cs(this,void 0,void 0,function*(){Cn.iceGatheringState==="complete"&&(yield this.sendOffer())}),Cn.onnegotiationneeded=()=>{ut.a.debug("Negotiation needed",{sessionId:Hn})})})}handleSignal(Cn){return Cs(this,void 0,void 0,function*(){const{peerConnection:Mn,config:{sessionId:Hn,sendSignal:Jn}}=this,{description:pn}=JSON.parse(Cn.payload);if(ut.a.debug("Handling signal",{sessionId:Hn,description:JSON.stringify(pn)}),pn)if(Mn.signalingState!=="stable"||Mn.connectionState!=="connected")if(Mn.remoteDescription)ut.a.warn(`Received SDP signal during negotiation when remote description is already set: ${JSON.stringify(Cn)}`);else if(pn.type==="offer"){yield Mn.setRemoteDescription(pn);const wn=yield Mn.createAnswer();yield Mn.setLocalDescription(wn),yield Jn({payload:JSON.stringify({description:wn})})}else pn.type==="answer"&&(yield Mn.setRemoteDescription(pn));else ut.a.warn(`Received SDP signal when signaling is stable and connected: ${JSON.stringify(Cn)}`);else ut.a.warn(`Received non-SDP signal: ${JSON.stringify(Cn)}`)})}send(Cn,Mn){const Hn=this.getChannelFromLabel(Mn.channelLabel);Hn?this.sendOnChannel(Hn,Cn):ut.a.warn("Send called with unexpected channel label",{channelLabel:Mn.channelLabel})}controlRemoteStream(Cn){this.sendSystemMessage(Rt(this.reliableStreamChannel),{type:"stream-control",streamControl:Cn})}isActive(){return new Set(["new","connecting","connected"]).has(this.peerConnection.connectionState)}isReady(){const{peerConnection:Cn,latestTtlStreamChannel:Mn,reliableStreamChannel:Hn,latestTryOnceStreamChannel:Jn}=this;return!!(Hn&&Mn&&Jn)&&Cn.connectionState==="connected"&&Hn.readyState==="open"&&Mn.readyState==="open"&&Jn.readyState==="open"}isClosed(){const{peerConnection:Cn,reliableStreamChannel:Mn,latestTryOnceStreamChannel:Hn,latestTtlStreamChannel:Jn}=this;return!(Cn.connectionState!=="closed"||Mn!==void 0&&Mn.readyState!=="closed"||Hn!==void 0&&Hn.readyState!=="closed"||Jn!==void 0&&Jn.readyState!=="closed")}needsClosing(){const{peerConnection:Cn,latestTtlStreamChannel:Mn,reliableStreamChannel:Hn,latestTryOnceStreamChannel:Jn}=this;if(this.isClosed())return!1;const pn=new Set(["closing","closed"]),wn=Nn=>Nn&&pn.has(Nn.readyState);return io(Cn)||wn(Mn)||wn(Hn)||wn(Jn)}close(){return Cs(this,void 0,void 0,function*(){this.closeCalled||(this.closeCalled=!0,yield this.sessionMetrics.uploadMetrics(),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.connectTimeout&&clearTimeout(this.connectTimeout),this.gatherIceTimeout&&clearTimeout(this.gatherIceTimeout),this.peerConnection.close())})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionId(){return this.config.sessionId}getRemotePeer(){return this.config.remotePeer}initializeChannels(Cn){this.latestTtlStreamChannel=Cn.createDataChannel("stream.latest-ttl",Ct),this.reliableStreamChannel=Cn.createDataChannel("stream.reliable",Dt),this.latestReliableStreamChannel=Cn.createDataChannel("stream.latest-reliable",Xt),this.latestTryOnceStreamChannel=Cn.createDataChannel("stream.latest-try-once",_n),this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}sendOffer(){return Cs(this,void 0,void 0,function*(){if(this.sentOffer||(this.sentOffer=!0,io(this.peerConnection)))return;const{peerConnection:Cn,config:{sendSignal:Mn}}=this,Hn=yield Cn.createOffer();yield Cn.setLocalDescription(Hn);const Jn={payload:JSON.stringify({description:Hn})};yield Mn(Jn)})}getChannelFromLabel(Cn){switch(Cn){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(Cn,Mn){let Hn;try{Hn=Object(sn.encode)(JSON.stringify(Mn))}catch(Jn){return void ut.a.warn("Failed to encode RTC message",{error:Jn})}try{Cn.send(Hn),this.sessionMetrics.incrementMessageSent(Mn)}catch(Jn){ut.a.warn("Failed to send message to channel",{error:Jn,channel:Cn.label})}}channelNotRecognized(Cn){return Cn!==this.latestTtlStreamChannel&&Cn!==this.latestReliableStreamChannel&&Cn!==this.latestTryOnceStreamChannel&&Cn!==this.reliableStreamChannel}setupChannel(Cn){Cn.onmessage=Mn=>{if(this.channelNotRecognized(Cn))return void ut.a.warn("Received message on unrecognized data channel.");let Hn;try{Hn=JSON.parse(Object(sn.decode)(Mn.data))}catch(Jn){return void ut.a.warn("Received unparseable RTC message",{error:Jn,channel:Cn.label})}if(this.lastMessageTimestamp=new Date().getTime(),Hn=lo(Hn),this.sessionMetrics.incrementMessageReceived(Hn),!this.handleSystemMessage(Cn,Hn)){if(!this.hasCapabilities(Hn))return void ut.a.warn("Received RTC message that was not within the capability scope of the connection.");(Cn===this.latestTryOnceStreamChannel||Cn===this.latestTtlStreamChannel||Cn===this.latestReliableStreamChannel)&&!this.isLatestMessage(Hn)||this.config.receive(this.config.remotePeer.id,Hn)}},Cn.onerror=Mn=>{ut.a.warn(`Channel error: ${Mn.error}`,{error:Mn.error,sessionId:this.getSessionId(),channelLabel:Cn.label})},Cn.onopen=()=>{ut.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:Cn.label})},Cn.onclose=()=>{const Mn={bufferedAmount:Cn.bufferedAmount,sessionId:this.getSessionId(),channelLabel:Cn.label};this.closeCalled===!1?ut.a.debug("Unexpected channel closed",Mn):ut.a.debug("Channel closed",Mn)}}handleSystemMessage(Cn,Mn){switch(Mn.header.stream.streamType){case"ping":return this.sendSystemMessage(Cn,{type:"pong",timestamp:Rt(Mn.payload.ping)}),!0;case"pong":{const Hn=new Date().getTime()-Rt(Mn.payload.pong);return this.pingTimeMs=Hn,Ft.aggregate("rtc-ping-time",Hn),!0}case"stream-control":return!0;default:return!1}}sendSystemMessage(Cn,Mn){if(Cn.readyState!=="open")return;const Hn={entityId:Rt(this.config.localPeer.deviceId||this.config.localPeer.userId),streamName:`$.${Mn.type}`,streamType:Mn.type};let Jn;switch(Mn.type){case"ping":Jn={ping:new Date().getTime()};break;case"pong":Jn={pong:Mn.timestamp};break;case"stream-control":Jn={streamControl:Mn.streamControl}}this.sendOnChannel(Cn,qr(Hn,Jn))}hasCapabilities(Cn){var Mn,Hn;const{localPeer:Jn,remotePeer:pn}=this.config,wn=(Mn=Jn.capabilitySet.streaming)===null||Mn===void 0?void 0:Mn.streams,Nn=wn&&wn.some(rr=>rr.receive&&Ps(rr.stream,Cn.header.stream)),jn=(Hn=pn.capabilitySet.streaming)===null||Hn===void 0?void 0:Hn.streams,Wn=jn&&jn.some(rr=>rr.send&&Ps(rr.stream,Cn.header.stream));return Nn||Wn}isLatestMessage(Cn){const Mn=co(Cn.header.stream),Hn=(this.streamLatestTimestamp.get(Mn)||0)<=Cn.header.created;return Hn&&this.streamLatestTimestamp.set(Mn,Cn.header.created),Hn}}var Us=function(Gr,Cn,Mn,Hn){return new(Mn||(Mn=Promise))(function(Jn,pn){function wn(Wn){try{jn(Hn.next(Wn))}catch(rr){pn(rr)}}function Nn(Wn){try{jn(Hn.throw(Wn))}catch(rr){pn(rr)}}function jn(Wn){var rr;Wn.done?Jn(Wn.value):(rr=Wn.value,rr instanceof Mn?rr:new Mn(function(Qr){Qr(rr)})).then(wn,Nn)}jn((Hn=Hn.apply(Gr,Cn||[])).next())})};class ru{constructor(Cn){this.config=Cn,this.connections=[],this.connectingSessions=new Map,this.updateInterval=mt({func:()=>Us(this,void 0,void 0,function*(){try{yield this.update()}catch(Mn){ut.a.warn("RTC update failed",{error:Mn})}}),delay:250*nt.a.millisecond,immediate:!0}),this.localPeer=this.createPeer()}send(Cn,Mn,Hn){const Jn=this.getActiveConnection(Cn);Jn?Jn.isReady()?Jn.send(Mn,Hn):ut.a.warn("Attempted to send with an active connection to that peer which was not yet ready."):ut.a.warn("Attempted to send with no active connection to that peer.")}controlRemoteStream(Cn,Mn){const Hn=this.getActiveConnection(Cn);Hn?Hn.isReady()?Hn.controlRemoteStream(Mn):ut.a.warn("Attempted to control remote stream with an active connection to that peer which was not yet ready."):ut.a.warn("Attempted to control remote stream with no active connection to that peer.")}connect(Cn){return Us(this,void 0,void 0,function*(){const Mn=yield this.getLocalPeer();if(this.getActiveConnection(Cn))return void ut.a.warn("Attempted to connect to peer with an already active connection.");let Hn;try{Hn=yield this.config.signalingClient.createSession(yield this.config.getToken(),{offerPeerId:Mn.id,answerPeerId:Cn})}catch(Jn){Object(ba.a)(Jn,Ss.a,pn=>pn.statusCode===404),ut.a.warn("Attempted to connect to peer that does not exist.")}if(Hn)for(this.connectingSessions.set(Hn.id,new Date().getTime()),yield this.connectToSession(Hn);;)switch(yield Object(ot.a)(.1),this.getConnectionStatus(Cn)){case"connecting":continue;case"connected":return Hn.id;case"disconnected":return}})}getConnectionStatus(Cn){const Mn=this.getActiveConnection(Cn);return Mn?Mn.isReady()?"connected":"connecting":"disconnected"}getIceMode(Cn){const Mn=this.getActiveConnection(Cn);if(Mn)return Mn.iceMode}disconnect(Cn){return Us(this,void 0,void 0,function*(){const Mn=this.getActiveConnection(Cn);Mn&&(yield this.closeConnection(Mn))})}getLocalPeer(){return Us(this,void 0,void 0,function*(){return yield this.localPeer})}getPeers(){return Us(this,void 0,void 0,function*(){return yield this.config.signalingClient.getPeers(yield this.config.getToken())})}getPing(Cn){const Mn=this.getActiveConnection(Cn);if(Mn)return Mn.getPing();ut.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(Cn){const Mn=this.getActiveConnection(Cn);if(Mn)return Mn.getLastMessageTimestamp();ut.a.warn("Attempted to get ping time from inactive peer.")}shutdown(){return Us(this,void 0,void 0,function*(){yield this.updateInterval.stop();const Cn=this.connections;this.connections=[],yield this.closeConnections(Cn)})}closeConnection(Cn){return Us(this,void 0,void 0,function*(){this.connectingSessions.delete(Cn.getSessionId()),yield Cn.close();try{yield this.config.signalingClient.deleteSession(yield this.config.getToken(),Cn.getSessionId())}catch(Mn){Object(ba.a)(Mn,Ss.a,Hn=>Hn.statusCode===404)}})}getSessions(){return Us(this,void 0,void 0,function*(){const Cn=yield this.getLocalPeer();return(yield this.config.signalingClient.getSessions(yield this.config.getToken())).filter(Mn=>Mn.offer.peer.id===Cn.id||Mn.answer.peer.id===Cn.id)})}createPeer(){return Us(this,void 0,void 0,function*(){return yield this.config.signalingClient.createPeer(yield this.config.getToken(),{capabilitySet:this.config.capabilitySet||{}})})}createRTCPeerConnection(Cn={}){return Us(this,void 0,void 0,function*(){return new(this.config.alternateRTCPeerConnection||RTCPeerConnection)(Object.assign({iceServers:yield this.config.signalingClient.getIceServers(yield this.config.getToken())},Cn))})}closeConnections(Cn){return Us(this,void 0,void 0,function*(){const Mn=yield kt(Cn.map(Hn=>Us(this,void 0,void 0,function*(){yield this.closeConnection(Hn)})));for(const Hn of Mn)ut.a.warn("Request to close session failed",{error:Hn})})}reset(){return Us(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.connectingSessions=new Map,this.localPeer=this.createPeer(),yield this.localPeer})}getActiveConnection(Cn){return this.connections.find(Mn=>Mn.getRemotePeer().id===Cn&&Mn.isActive())}update(){return Us(this,void 0,void 0,function*(){const Cn=yield this.getLocalPeer();try{yield this.config.signalingClient.refreshPeer(yield this.config.getToken(),Cn.id)}catch(Mn){Object(ba.a)(Mn,Ss.a,Hn=>Hn.statusCode===404),ut.a.warn("Peer expired, creating new peer",{peerId:Cn.id}),yield this.reset()}yield this.handleSessions(yield this.getSessions())})}handleSessions(Cn){return Us(this,void 0,void 0,function*(){yield this.syncConnectionsAndSessions(Cn);const Mn=Cn.map(Hn=>({session:Hn,connection:this.connections.find(Jn=>Jn.getSessionId()===Hn.id)}));yield Promise.all(Mn.map(({session:Hn,connection:Jn})=>Us(this,void 0,void 0,function*(){return yield this.maintainConnection(Hn,Jn)})))})}syncConnectionsAndSessions(Cn){return Us(this,void 0,void 0,function*(){const Mn=new Set(Cn.map(pn=>pn.id)),Hn=pn=>Mn.has(pn.getSessionId())||this.connectingSessions.has(pn.getSessionId());this.connections=this.connections.filter(pn=>Hn(pn));const Jn=this.connections.filter(pn=>!Hn(pn)||pn.needsClosing());yield Promise.all(Jn.map(pn=>Us(this,void 0,void 0,function*(){yield this.closeConnection(pn)})))})}maintainConnection(Cn,Mn){return Us(this,void 0,void 0,function*(){const Hn=yield this.getLocalPeer(),Jn=Cn.offer.peer.id===Hn.id;if(Mn){if(Mn.isReady())try{yield this.config.signalingClient.refreshSession(yield this.config.getToken(),Cn.id)}catch(pn){Object(ba.a)(pn,Ss.a,wn=>wn.statusCode===404),ut.a.debug("Refresh session not found",{sessionId:Cn.id})}else if(Mn.isActive())try{yield this.consumeSignals(Mn)}catch(pn){ut.a.warn("Failed to ingest signals, closing connection",{error:pn}),yield this.closeConnection(Mn)}}else{if(Jn)return;yield this.connectToSession(Cn)}})}connectToSession(Cn){return Us(this,void 0,void 0,function*(){const Mn=yield this.getLocalPeer(),Hn=Cn.offer.peer.id===Mn.id,Jn=yield this.createRTCPeerConnection(),pn=new gu(Jn,{localPeer:Hn?Cn.offer.peer:Cn.answer.peer,remotePeer:Hn?Cn.answer.peer:Cn.offer.peer,sessionId:Cn.id,isOffer:Hn,sendSignal:wn=>this.sendSignal(Cn.id,wn),receive:(wn,Nn)=>this.config.receive(wn,Nn)});if(this.connections.find(wn=>wn.getSessionId()===Cn.id))return ut.a.warn("connectToSession called on a session that already has a connection.",{sessionId:Cn.id}),void(yield pn.close());this.setupHandlers(pn),this.connections.push(pn);try{yield pn.connect()}catch(wn){ut.a.warn("Failed to handle negotiation, closing connection",{error:wn}),yield this.closeConnection(pn)}})}setupHandlers(Cn){const{peerConnection:Mn}=Cn,Hn=Cn.getSessionId();Mn.onconnectionstatechange=()=>Us(this,void 0,void 0,function*(){const Jn=this.connectingSessions.get(Hn);if(Jn===void 0)return;const pn=Mn.connectionState;switch(io(Mn)&&this.connectingSessions.delete(Hn),pn){case"connected":{this.connectingSessions.delete(Hn);const wn=new Date().getTime()-Jn;Ft.aggregate("rtc-connect-time",wn);break}case"failed":Ft.increment("rtc-connect-failed"),yield this.closeConnection(Cn)}})}consumeSignals(Cn){return Us(this,void 0,void 0,function*(){let Mn=[];try{Mn=yield this.config.signalingClient.takeSignals(yield this.config.getToken(),Cn.getSessionId())}catch(Hn){Object(ba.a)(Hn,Ss.a,Jn=>Jn.statusCode===404)}for(const Hn of Mn)yield Cn.handleSignal(Hn)})}sendSignal(Cn,Mn){return Us(this,void 0,void 0,function*(){try{yield this.config.signalingClient.addSignals(yield this.config.getToken(),Cn,{signals:[Mn]})}catch(Hn){Object(ba.a)(Hn,Ss.a,Jn=>Jn.statusCode===404)}})}}},function(i,o,s){var _={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $;const _e=new Uint8Array(16);function et(){if(!$&&($=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(_e)}const j=[];for(let ot=0;ot<256;++ot)j.push((ot+256).toString(16).slice(1));function nt(ot,ct=0){return(j[ot[ct+0]]+j[ot[ct+1]]+j[ot[ct+2]]+j[ot[ct+3]]+"-"+j[ot[ct+4]]+j[ot[ct+5]]+"-"+j[ot[ct+6]]+j[ot[ct+7]]+"-"+j[ot[ct+8]]+j[ot[ct+9]]+"-"+j[ot[ct+10]]+j[ot[ct+11]]+j[ot[ct+12]]+j[ot[ct+13]]+j[ot[ct+14]]+j[ot[ct+15]]).toLowerCase()}o.a=function(ot,ct,gt){if(_.randomUUID&&!ct&&!ot)return _.randomUUID();const pt=(ot=ot||{}).random||(ot.rng||et)();if(pt[6]=15&pt[6]|64,pt[8]=63&pt[8]|128,ct){gt=gt||0;for(let ft=0;ft<16;++ft)ct[gt+ft]=pt[ft];return ct}return nt(pt)}},,function(i,o,s){s.r(o),s.d(o,"LogClient",function(){return j});var _=s(28),$=s(10),_e=s(11),et=function(nt,ot,ct,gt){return new(ct||(ct=Promise))(function(pt,ft){function ut(Qt){try{wt(gt.next(Qt))}catch(It){ft(It)}}function yt(Qt){try{wt(gt.throw(Qt))}catch(It){ft(It)}}function wt(Qt){var It;Qt.done?pt(Qt.value):(It=Qt.value,It instanceof ct?It:new ct(function(xt){xt(It)})).then(ut,yt)}wt((gt=gt.apply(nt,ot||[])).next())})};class j extends _.a{log(ot){return et(this,void 0,void 0,function*(){const ct=j.token;try{yield this.fetch("logs",{token:ct,method:"POST",body:JSON.stringify({logs:ot}),allowUnsafeRetries:!0})}catch(gt){Object($.a)(gt,_e.a,pt=>pt.statusCode===401&&ct!==void 0),j.token===ct&&delete j.token,yield this.log(ot)}})}}}])})})(dist);function defined$1(i,o){if(i!==void 0)return i;throw new Error(o||"Value is undefined")}let FORMANT_API_URL="https://api.formant.io";typeof window<"u"&&(FORMANT_API_URL=window.FORMANT_API_URL||FORMANT_API_URL);let urlParams$2=new URLSearchParams("");typeof window<"u"&&(urlParams$2=new URLSearchParams(window.location.search));const envDev=urlParams$2.get("formant_dev");envDev&&(FORMANT_API_URL="https://api-dev.formant.io");const envStage=urlParams$2.get("formant_stage");envStage&&(FORMANT_API_URL="https://api-stage.formant.io");const envLocal=urlParams$2.get("formant_local");envLocal&&(FORMANT_API_URL="https://api.formant.local");function delay(i){return new Promise(o=>setTimeout(o,i))}class DataChannel{constructor(o){__publicField$1(this,"ready",!1),__publicField$1(this,"listeners",[]),__publicField$1(this,"openListeners",[]),__publicField$1(this,"closeListeners",[]),__publicField$1(this,"errorListeners",[]),__publicField$1(this,"binaryListeners",[]),__publicField$1(this,"error"),__publicField$1(this,"decoder",new TextDecoder),this.dataChannel=o,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0,this.openListeners.forEach(s=>s())},this.dataChannel.onclose=()=>{this.ready=!1,this.closeListeners.forEach(s=>s())},this.dataChannel.onerror=s=>{console.error(s),this.error="An error occurred in DataChannel",this.errorListeners.forEach(_=>_(s))},this.dataChannel.onmessage=s=>{this.listeners.forEach(_=>{const $=new Uint8Array(s.data),_e=this.decoder.decode($);_(_e)}),this.binaryListeners.forEach(_=>{_(new Uint8Array(s.data))})}}addOpenListener(o){this.openListeners.push(o)}removeOpenListener(o){this.openListeners=this.openListeners.filter(s=>s!==o)}addCloseListener(o){this.closeListeners.push(o)}removeCloseListener(o){this.closeListeners=this.closeListeners.filter(s=>s!==o)}addErrorListener(o){this.errorListeners.push(o)}removeErrorListener(o){this.errorListeners=this.errorListeners.filter(s=>s!==o)}async waitTilReady(){return this.ready?!0:new Promise((s,_)=>{let $=window.setInterval(()=>{this.ready&&(window.clearInterval($),s(!0)),this.error&&_(this.error)},10)})}send(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}sendBinary(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}addListener(o){this.listeners.push(o)}removeListener(o){const s=this.listeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(s,1)}addBinaryListener(o){this.binaryListeners.push(o)}removeBinaryListener(o){const s=this.binaryListeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(s,1)}}class CaptureStream{constructor(o){__publicField$1(this,"token"),this.captureSession=o}async ingestJSON(o){if(!this.token){const _=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"})).json();this.token=_.token}await fetch(`${FORMANT_API_URL}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(o)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}}class Manipulator{constructor(o,s){__publicField$1(this,"currentListeners",[]),__publicField$1(this,"onRealtimeMessage",(_,$)=>{$.payload.jointState&&this.currentListeners.forEach(_e=>{$.payload.jointState&&_e($.payload.jointState)})}),this.device=o,this.config=s}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(o){this.currentListeners.push(o)}}class RequestDataChannel{constructor(o,s,_){__publicField$1(this,"channel"),__publicField$1(this,"requestIdToResponseMap",new Map),this.device=o,this.channel_name=s,this.timeout=_}addOpenListener(o){defined$1(this.channel,"channel not initalized").addOpenListener(o)}removeOpenListener(o){defined$1(this.channel,"channel not initalized").removeOpenListener(o)}addCloseListener(o){defined$1(this.channel,"channel not initalized").addCloseListener(o)}removeCloseListener(o){defined$1(this.channel,"channel not initalized").removeCloseListener(o)}addErrorListener(o){defined$1(this.channel,"channel not initalized").addErrorListener(o)}removeErrorListener(o){defined$1(this.channel,"channel not initalized").removeErrorListener(o)}}class BinaryRequestDataChannel extends RequestDataChannel{constructor(){super(...arguments),__publicField$1(this,"RESPONSE_SUCCESS_BYTE",0),__publicField$1(this,"decoder",new TextDecoder)}generateBinaryId(){const o=new Uint8Array(16);for(let s=0;s<o.length;s++)o[s]=Math.floor(Math.random()*256);return o}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(o=>{const _=o.slice(0,16).toString();if(_.length===0)throw new Error("Invalid response");const $=o.slice(16);if($.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(_)&&this.requestIdToResponseMap.set(_,$)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const _e=this.generateBinaryId(),et=_e.toString();_.set(et,!0),s.sendBinary(new Uint8Array([..._e,...o]));const j=new Date().getTime();for(;new Date().getTime()<j+$;)if(await delay(50),_.has(et)){const nt=_.get(et);if(nt!==!0){_.delete(et);const ot=nt[0]===this.RESPONSE_SUCCESS_BYTE,ct=nt.slice(1);if(ot)return ct;throw console.error({name:"AdapterError",message:this.decoder.decode(ct)}),new Error("Binary request datachannel adapter error")}}throw _.delete(et),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Binary request data channel request timed out")}}class TextRequestDataChannel extends RequestDataChannel{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(o=>{const s=JSON.parse(o),{id:_,data:$,error:_e}=s;if(!_)throw new Error("Invalid response");if(!$&&!_e)throw new Error("Invalid response");this.requestIdToResponseMap.has(_)&&this.requestIdToResponseMap.set(_,s)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const _e=this.generateTextId();_.set(_e,!0),s.send(JSON.stringify({id:_e,data:o}));const et=new Date().getTime();for(;new Date().getTime()<et+$;)if(await delay(50),_.has(_e)){const j=_.get(_e);if(j!==!0){_.delete(_e);const{data:nt,error:ot}=j;if(nt)return nt;if(ot)throw console.error({name:"AdapterError",message:ot}),new Error("Text request datachannel adapter error")}}throw _.delete(_e),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Text request datachannel request timed out")}}const urlParams$1=new URLSearchParams(window.location.search),rtcClientVersion=urlParams$1.get("rtc_client");class Device{constructor(o,s,_){__publicField$1(this,"rtcClient"),__publicField$1(this,"remoteDevicePeerId"),__publicField$1(this,"realtimeListeners",[]),__publicField$1(this,"handleMessage",($,_e)=>{this.realtimeListeners.forEach(et=>et($,_e))}),this.id=o,this.name=s,this.organizationId=_}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async getConfiguration(){let o=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}});const s=await o.json();if(!s.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const _=s.state.reportedConfiguration.version;return o=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}/configurations/${_}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),(await o.json()).document}async getFileUrl(o){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[o]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).fileUrls}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async startRealtimeConnection(o){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{let s;if(rtcClientVersion==="1"?s=new dist.exports.RtcClientV1({signalingClient:new dist.exports.RtcSignalingClient(FORMANT_API_URL+"/v1/signaling"),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:this.handleMessage}):s=new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:this.handleMessage,sessionType:o}),s.isReady)for(;!s.isReady();)await delay(100);const $=(await s.getPeers()).find(_e=>_e.deviceId===this.id);if(!$)throw new Error("Cannot find peer, is the robot offline?");for(this.remoteDevicePeerId=$.id,await s.connect(this.remoteDevicePeerId);s.getConnectionStatus(this.remoteDevicePeerId)!=="connected";)await delay(100);this.rtcClient=s}}async sendRealtimeMessage(o,s={channelLabel:"stream.reliable"}){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer();_.send(defined$1($).id,o,s)}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeAudioStreams(){var o,s,_,$,_e,et;const j=await this.getConfiguration(),nt=[];for(const ot of(s=(o=j.teleop)==null?void 0:o.hardwareStreams)!=null?s:[])ot.rtcStreamType==="audio-chunk"&&nt.push({name:ot.name});for(const ot of($=(_=j.teleop)==null?void 0:_.rosStreams)!=null?$:[])ot.topicType=="audio_common_msgs/AudioData"&&nt.push({name:ot.topicName});for(const ot of(et=(_e=j.teleop)==null?void 0:_e.customStreams)!=null?et:[])ot.rtcStreamType==="audio-chunk"&&nt.push({name:ot.name});return nt}async getRealtimeVideoStreams(){var o,s,_,$,_e,et;const j=await this.getConfiguration(),nt=[];for(const ot of(s=(o=j.teleop)==null?void 0:o.hardwareStreams)!=null?s:[])ot.rtcStreamType==="h264-video-frame"&&nt.push({name:ot.name});for(const ot of($=(_=j.teleop)==null?void 0:_.rosStreams)!=null?$:[])ot.topicType=="formant/H264VideoFrame"&&nt.push({name:ot.topicName});for(const ot of(et=(_e=j.teleop)==null?void 0:_e.customStreams)!=null?et:[])ot.rtcStreamType==="h264-video-frame"&&nt.push({name:ot.name});return nt}async getRealtimeManipulators(){var o;const s=await this.getConfiguration(),_=[];for(const $ of(o=s.teleop.rosStreams)!=null?o:[])$.topicType=="sensor_msgs/JointState"&&_.push(new Manipulator(this,{currentJointStateStream:{name:$.topicName},plannedJointStateStream:$.plannedTopic?{name:$.plannedTopic}:void 0,planValidStream:$.planValidTopic?{name:$.planValidTopic}:void 0,endEffectorStream:$.endEffectorTopic?{name:$.endEffectorTopic}:void 0,endEffectorLinkName:$.endEffectorLinkName,baseReferenceFrame:$.baseReferenceFrame,localFrame:$.localFrame}));return _}async startListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async changeStreamAudioType(o,s){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer();_.controlRemoteStream(defined$1($).id,{streamName:o,setAudioFormat:s})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const s=(await defined$1(this.rtcClient,"Realtime connection has not been started").getPeers()).find(_=>_.deviceId===this.id);return defined$1(s,"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async isInRealtimeSession(){let o=await Fleet.getPeers(),s=await Fleet.getRealtimeSessions(),_=o.find($=>$.deviceId===this.id);return _?s[_.id].length>0:!1}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(_=>({name:_.name,id:_.id,command:_.command,description:_.description,parameterEnabled:_.parameterEnabled,parameterValue:_.parameterValue,parameterMeta:_.parameterMeta,enabled:_.enabled}))}async sendCommand(o,s,_,$){var _e;const j=(await this.getAvailableCommands()).find(ct=>ct.name===o);if(!j)throw new Error(`Could not find command with name "${o}"`);let nt;if(s===void 0)if(j.parameterEnabled&&j.parameterValue)nt=j.parameterValue;else throw new Error("Command has no default parameter value, you must provide one");else nt=s;let ot={value:nt,scrubberTime:(_||new Date).toISOString(),meta:__spreadValues2(__spreadValues2({},j.parameterMeta),$)};await fetch(`${FORMANT_API_URL}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:j.id,organizationId:this.organizationId,deviceId:this.id,command:j.command,parameter:ot,userId:(_e=Authentication.currentUser)==null?void 0:_e.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})}async createCustomDataChannel(o,s){if(rtcClientVersion==="1")throw new Error("createCustomDataChannel is not supported in rtcClientVersion 1");const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer(),_e=await new Promise(et=>{_.createCustomDataChannel(defined$1($).id,o,__spreadValues2({ordered:!0},s),!1,(j,nt)=>{const ot=new DataChannel(nt);et(ot)})});return await _e.waitTilReady(),_e}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel(this,o,s)}async createCaptureStream(o){const _=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:o,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return new CaptureStream(_)}async getTelemetry(o,s,_,$){return await Fleet.getTelemetry(this.id,o,s,_,$)}async getTelemetryStreams(){var o,s;const _=await this.getConfiguration(),$=await fetch(`${FORMANT_API_URL}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),_e=[],et=[];return(s=(o=_.telemetry)==null?void 0:o.streams)==null||s.forEach(ot=>{ot.disabled!==!0&&_e.push(ot.name),ot.onDemand===!0&&et.push(ot.name)}),console.log(et),(await $.json()).items.filter(ot=>!_e.includes(ot)).map(ot=>({name:ot,onDemand:et.includes(ot)}))}async createInterventionRequest(o,s,_,$){return await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"POST",body:JSON.stringify({message:o,interventionType:s,time:new Date().toISOString(),deviceId:this.id,tags:$,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async addInterventionResponse(o,s,_){return await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-responses`,{method:"POST",body:JSON.stringify({interventionId:o,interventionType:s,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}}class PeerDevice{constructor(o){__publicField$1(this,"rtcClient"),__publicField$1(this,"remoteDevicePeerId"),__publicField$1(this,"realtimeListeners",[]),__publicField$1(this,"id"),__publicField$1(this,"handleMessage",(s,_)=>{this.realtimeListeners.forEach($=>$(s,_))}),this.peerUrl=o}async getLatestTelemetry(){const s=await(await fetch(`${this.peerUrl}/telemetry`)).json();return Object.entries(s).map(([$,_e])=>({deviceId:this.id,streamName:$,streamType:"json",currentValue:_e,currentValueTime:_e.timestamp,tags:{}}))}async getDeviceId(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.id}async getConfiguration(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.document}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}async startRealtimeConnection(o){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const s=new dist.exports.RtcClient({lanOnlyMode:!0,receive:this.handleMessage,sessionType:o});for(await s.connectLan(this.peerUrl);s.getConnectionStatus(this.peerUrl)!=="connected";)await delay(100);this.rtcClient=s}}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeVideoStreams(){var o,s,_;const $=await this.getConfiguration(),_e=[];for(const et of(o=$.teleop.hardwareStreams)!=null?o:[])et.rtcStreamType==="h264-video-frame"&&_e.push({name:et.name});for(const et of(s=$.teleop.rosStreams)!=null?s:[])et.topicType=="formant/H264VideoFrame"&&_e.push({name:et.topicName});for(const et of(_=$.teleop.customStreams)!=null?_:[])et.rtcStreamType==="h264-video-frame"&&_e.push({name:et.name});return _e}async getRealtimeManipulators(){var o;const s=await this.getConfiguration(),_=[];for(const $ of(o=s.teleop.rosStreams)!=null?o:[])$.topicType=="sensor_msgs/JointState"&&_.push(new Manipulator(this,{currentJointStateStream:{name:$.topicName},plannedJointStateStream:$.plannedTopic?{name:$.plannedTopic}:void 0,planValidStream:$.planValidTopic?{name:$.planValidTopic}:void 0,endEffectorStream:$.endEffectorTopic?{name:$.endEffectorTopic}:void 0,endEffectorLinkName:$.endEffectorLinkName,baseReferenceFrame:$.baseReferenceFrame,localFrame:$.localFrame}));return _}async startListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){return{id:this.peerUrl,organizationId:"",deviceId:this.id,capabilities:[],capabilitySet:{}}}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async createCustomDataChannel(o,s){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer(),_e=await new Promise(et=>{_.createCustomDataChannel(defined$1($).id,o,__spreadValues2({ordered:!0},s),!1,(j,nt)=>{const ot=new DataChannel(nt);et(ot)})});return await _e.waitTilReady(),_e}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel(this,o,s)}}const _Fleet$1=class{static async setDefaultDevice(i){_Fleet$1.defaultDeviceId=i}static async getCurrentDevice(){if(!Authentication.token)throw new Error("Not authenticated");if(!_Fleet$1.defaultDeviceId)throw new Error("No known default device");const _=(await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.find(_e=>_e.id===_Fleet$1.defaultDeviceId).name,$=new Device(_Fleet$1.defaultDeviceId,_,defined$1(Authentication.currentOrganization));return _Fleet$1.knownContext.push(new WeakRef($)),$}static async getPeerDevice(i){const o=new PeerDevice(i);return o.id=await o.getDeviceId(),o}static async getDevice(i){if(!Authentication.token)throw new Error("Not authenticated");const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json(),_=s.name,$=new Device(i,_,s.organizationId);return _Fleet$1.knownContext.push(new WeakRef($)),$}static async getDevices(){if(!Authentication.token)throw new Error("Not authenticated");const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return o.items,o.items.map(s=>new Device(s.id,s.name,s.organizationId))}static async queryDevices(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(_=>new Device(_.id,_.name,_.organizationId))}static async getOnlineDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items;return(await _Fleet$1.getDevices()).filter($=>s.includes($.id))}static async getPeers(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map($=>$.deviceId);return(await _Fleet$1.getDevices()).filter($=>s.includes($.id))}static async getLatestTelemetry(i){let o=i;return i&&!Array.isArray(i)&&(i=[i]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getTelemetry(i,o,s,_,$){let _e=i;Array.isArray(i)||(_e=[i]);let et=o;return Array.isArray(o)||(et=[o]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:_e,end:_.toISOString(),names:et,start:s.toISOString(),tags:$}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getFileUrl(i){const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[i]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();if(s.fileUrls.length===0)throw new Error("File not found");return s.fileUrls[0]}static async queryTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async aggregateTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).aggregates}static async queryEvents(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getEvent(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query/id=${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getInterventions(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getCurrentGroup(){if(!Authentication.token)throw new Error("Not authenticated");let i=new URLSearchParams("");typeof window<"u"&&(i=new URLSearchParams(window.location.search));const o=i.get("group");if(o===null||o.trim()==="")return;const s=await fetch(`${FORMANT_API_URL}/v1/admin/groups/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),{tagKey:_,tagValue:$}=await s.json();return await this.queryDevices({tags:{[_]:[$]},enabled:!0,type:"default"})}static async getAnnotationCount(i){const o=i.tagKey;return delete i.tagKey,delete i.aggregate,(await this.queryEvents(__spreadProps2(__spreadValues2({},i),{eventTypes:["annotation"]}))).filter(_e=>!!_e.tags&&Object.keys(_e.tags).includes(o)).reduce((_e,et)=>{const j=et.tags[o];return j in _e?(_e[j]+=1,_e):(_e[j]=1,_e)},{})}};let Fleet$1=_Fleet$1;__publicField$1(Fleet$1,"defaultDeviceId");__publicField$1(Fleet$1,"knownContext",[]);const millisecond$2=1,second$2=1e3,minute$2=60*second$2,hour$2=60*minute$2,day$2=24*hour$2,week$2=7*day$2,month$2=30*day$2,year$2=365*day$2,duration$2={millisecond:millisecond$2,second:second$2,minute:minute$2,hour:hour$2,day:day$2,week:week$2,month:month$2,year:year$2};function filterDataByType(i,o){return i.filter(s=>s.type===o)}function filterDataByTime(i,o,s){const _=o.getTime(),$=s.getTime();return i.map(_e=>__spreadProps2(__spreadValues2({},_e),{points:_e.points.filter(([et])=>et>=_&&et<$)})).filter(({points:_e})=>_e.length>0)}function fork(i){}class StoreCache{constructor({capacity:o,timeout:s}={}){__publicField$1(this,"entries",new Map),__publicField$1(this,"metadata",new Map),__publicField$1(this,"capacity"),__publicField$1(this,"timeout"),this.capacity=o||1e4,this.timeout=s||duration$2.minute}get(o,s){const _=this.keyToCacheKey(o),$=this.entries.get(_),_e=this.metadata.get(_);return($===void 0||_e&&(_e==null?void 0:_e.expiration.getTime())<Date.now())&&!(_e!=null&&_e.generating)&&s&&this.generate(o,s()),$===void 0&&_e&&_e.lastValue!==void 0?_e.lastValue:$}set(o,s){const _=this.keyToCacheKey(o);this.metadata.set(_,{generating:!1,expiration:new Date(Date.now()+this.timeout),lastValue:s}),this.entries.set(_,s),this.metadata.size>this.capacity&&this.deleteOldestEntry()}clear(){this.entries.clear(),[...this.metadata.values()].forEach(o=>o.generating=!1)}clearKey(o){this.metadata.delete(o),this.entries.delete(o)}keyToCacheKey(o){return JSON.stringify(o)}deleteOldestEntry(){if(this.metadata.size<1)return;const[o]=[...this.metadata.entries()].reduce(([s,_],[$,_e])=>_e.expiration.getTime()<_.expiration.getTime()?[$,_e]:[s,_]);this.clearKey(o)}generate(o,s){const _=this.keyToCacheKey(o),$=this.metadata.get(_)||{};this.metadata.set(_,__spreadProps2(__spreadValues2({},$),{generating:!0,expiration:new Date(Date.now()+this.timeout)})),setTimeout(()=>{s.then(_e=>{const et=this.metadata.get(_);!(et!=null&&et.generating)||this.set(o,_e)})},0)}}class QueryStore{constructor(){__publicField$1(this,"queryStoreCache",new StoreCache({capacity:1e4,timeout:20*duration$2.second})),__publicField$1(this,"liveQueryStoreCache",new StoreCache({capacity:1e4,timeout:200*duration$2.millisecond}))}moduleQuery(o,s,_,$,_e,et=!1){const j=__spreadProps2(__spreadValues2({},o),{names:[s],types:[_]}),nt=this.query(j,$,_e,et);return nt===void 0||nt==="too much data"?nt:filterDataByType(nt,_)}query(o,s,_,$=!1){const _e=__spreadProps2(__spreadValues2({},o),{start:startOfMinute(s).toISOString(),end:$?_.toISOString():addMinutes(roundToNearestMinutes(_),1).toISOString(),latestOnly:$}),et=_>addSeconds(new Date,-20);let j;return et?j=this.liveQueryCache(_e):j=this.queryCache(_e),!j||j==="too much data"||$?j:filterDataByTime(j,s,_)}queryCache(o){return this.queryStoreCache.get(o,async()=>{try{return await Fleet$1.queryTelemetry(o)}catch(s){throw s}})}liveQueryCache(o){return this.liveQueryStoreCache.get(o,async()=>{try{return await Fleet$1.queryTelemetry(o)}catch(s){throw s}})}}const queryStore=new QueryStore;let App$1=class{static sendAppMessage(o){window.parent.postMessage(o,"*")}static getCurrentModuleContext(){let o=new URLSearchParams("");return typeof window<"u"&&(o=new URLSearchParams(window.location.search)),o.get("module")}static async getCurrentModuleConfiguration(){let o=new URLSearchParams("");typeof window<"u"&&(o=new URLSearchParams(window.location.search));const s=o.get("configuration");return s===null||s.trim()===""?void 0:(await(await fetch(`${FORMANT_API_URL}/v1/admin/module-configurations/`+s,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).configuration}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(o){this.sendAppMessage({type:"go_to_time",time:o.getTime()})}static goToDevice(o){this.sendAppMessage({type:"go_to_device",deviceId:o})}static showMessage(o){this.sendAppMessage({type:"show_message",message:o})}static requestModuleData(){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:o})}static setModuleDateTimeRange(o,s){const _=this.getCurrentModuleContext();if(!_)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:_,before:o,after:s||0})}static refreshAuthToken(){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:o})}static sendChannelData(o,s){const _=this.getCurrentModuleContext();if(!_)throw new Error("No module context");this.sendAppMessage({type:"send_channel_data",source:_,channel:o,data:s})}static setupModuleMenus(o){const s=this.getCurrentModuleContext();if(!s)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:s,menus:o})}static addMenuListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="module_menu_item_clicked"&&o(_.menu)})}static addAccessTokenRefreshListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="auth_token"&&o(_.token)})}static addModuleDataListener(o){const s=this.getCurrentModuleContext();s&&this.sendAppMessage({type:"request_module_data",module:s}),window.addEventListener("message",_=>{const $=_.data;$.type==="module_data"&&o({streams:$.streams,time:$.time,queryRange:$.queryRange})})}static addStreamListener(o,s,_){const $=_e=>{const et=_e.data;if(et.type==="module_data"){const{start:j,end:nt}=et.queryRange;_(queryStore.moduleQuery({},o,s,new Date(j),new Date(nt),!1))}};return window.addEventListener("message",$),()=>window.removeEventListener("message",$)}static addModuleConfigurationListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="module_configuration"&&o(_)})}static addChannelDataListener(o,s){window.addEventListener("message",_=>{const $=_.data;$.type==="channel_data"&&$.channel===o&&s({source:$.source,data:$.data})})}static requestOverviewDevices(o){this.sendAppMessage({type:"request_devices"}),window.addEventListener("message",s=>{const _=s.data;o(_)})}static async prompt(o,s){return new Promise(_=>{const $=Math.random().toString();this.sendAppMessage({type:"prompt",promptId:$,schema:o,okText:s==null?void 0:s.okText,cancelText:s==null?void 0:s.cancelText});const _e=et=>{const j=et.data;j.type==="prompt_response"&&j.promptId===$&&_(j.data),window.removeEventListener("message",_e)};window.addEventListener("message",_e)})}};const _Authentication=class{static async login(i,o){try{const s=await fetch(`${FORMANT_API_URL}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:i,password:o}),headers:{"Content-Type":"application/json"}}),_=await s.json();if(s.status!==200)throw new Error(_.message);return await _Authentication.loginWithToken(_.authentication.accessToken,_.authentication.refreshToken),_.authentication}catch(s){return _Authentication.waitingForAuth.forEach(_=>_(!1)),_Authentication.waitingForAuth=[],Promise.reject(s)}}static async loginWithToken(i,o){const s=JSON.parse(atob(i.split(".")[1]));try{let _;if(_Authentication.isShareToken=s["formant:claims"]&&s["formant:claims"].type=="share",s["formant:claims"]&&(_Authentication.currentOrganization=s["formant:claims"].organizationId),s["custom:organization_id"]&&(_Authentication.currentOrganization=s["custom:organization_id"]),_Authentication.isShareToken||(_=s.sub),s["formant:claims"]&&s["formant:claims"].userId&&(_=s["formant:claims"].userId),_){const $=await fetch(`${FORMANT_API_URL}/v1/admin/users/${_}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}}),_e=await $.json();if($.status!==200)throw new Error(_e.message);_Authentication.currentUser=_e}_Authentication.token=i,_Authentication.waitingForAuth.forEach($=>$(!0))}catch(_){console.error(_),_Authentication.waitingForAuth.forEach($=>$(!1))}_Authentication.waitingForAuth=[],o&&(_Authentication.refreshToken=o,setInterval(async()=>{if(_Authentication.refreshToken){const $=await(await fetch(`${FORMANT_API_URL}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:_Authentication.refreshToken})})).json();_Authentication.token=$.authentication.accessToken}},1e3*60*60))}static isAuthenticated(){return _Authentication.token!==void 0}static getCurrentUser(){return _Authentication.currentUser}static async waitTilAuthenticated(){return _Authentication.token!==void 0?!0:new Promise(i=>{_Authentication.waitingForAuth.push(function(o){i(o)})})}static async listenForRefresh(){App$1.addAccessTokenRefreshListener(i=>{this.loginWithToken(i)}),setInterval(async()=>{App$1.refreshAuthToken()},1e3*60*60)}};let Authentication=_Authentication;__publicField$1(Authentication,"token");__publicField$1(Authentication,"refreshToken");__publicField$1(Authentication,"currentUser");__publicField$1(Authentication,"currentOrganization");__publicField$1(Authentication,"isShareToken",!1);__publicField$1(Authentication,"defaultDeviceId");__publicField$1(Authentication,"waitingForAuth",[]);const _Fleet=class{static async setDefaultDevice(i){_Fleet.defaultDeviceId=i}static async getCurrentDevice(){if(!Authentication.token)throw new Error("Not authenticated");if(!_Fleet.defaultDeviceId)throw new Error("No known default device");const _=(await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.find(_e=>_e.id===_Fleet.defaultDeviceId).name,$=new Device(_Fleet.defaultDeviceId,_,defined$1(Authentication.currentOrganization));return _Fleet.knownContext.push(new WeakRef($)),$}static async getPeerDevice(i){const o=new PeerDevice(i);return o.id=await o.getDeviceId(),o}static async getDevice(i){if(!Authentication.token)throw new Error("Not authenticated");const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json(),_=s.name,$=new Device(i,_,s.organizationId);return _Fleet.knownContext.push(new WeakRef($)),$}static async getDevices(){if(!Authentication.token)throw new Error("Not authenticated");const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return o.items,o.items.map(s=>new Device(s.id,s.name,s.organizationId))}static async queryDevices(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(_=>new Device(_.id,_.name,_.organizationId))}static async getOnlineDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items;return(await _Fleet.getDevices()).filter($=>s.includes($.id))}static async getPeers(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map($=>$.deviceId);return(await _Fleet.getDevices()).filter($=>s.includes($.id))}static async getLatestTelemetry(i){let o=i;return i&&!Array.isArray(i)&&(i=[i]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getTelemetry(i,o,s,_,$){let _e=i;Array.isArray(i)||(_e=[i]);let et=o;return Array.isArray(o)||(et=[o]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:_e,end:_.toISOString(),names:et,start:s.toISOString(),tags:$}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getFileUrl(i){const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[i]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();if(s.fileUrls.length===0)throw new Error("File not found");return s.fileUrls[0]}static async queryTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async aggregateTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).aggregates}static async queryEvents(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getEvent(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query/id=${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getInterventions(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getCurrentGroup(){if(!Authentication.token)throw new Error("Not authenticated");let i=new URLSearchParams("");typeof window<"u"&&(i=new URLSearchParams(window.location.search));const o=i.get("group");if(o===null||o.trim()==="")return;const s=await fetch(`${FORMANT_API_URL}/v1/admin/groups/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),{tagKey:_,tagValue:$}=await s.json();return await this.queryDevices({tags:{[_]:[$]},enabled:!0,type:"default"})}static async getAnnotationCount(i){const o=i.tagKey;return delete i.tagKey,delete i.aggregate,(await this.queryEvents(__spreadProps2(__spreadValues2({},i),{eventTypes:["annotation"]}))).filter(_e=>!!_e.tags&&Object.keys(_e.tags).includes(o)).reduce((_e,et)=>{const j=et.tags[o];return j in _e?(_e[j]+=1,_e):(_e[j]=1,_e)},{})}};let Fleet=_Fleet;__publicField$1(Fleet,"defaultDeviceId");__publicField$1(Fleet,"knownContext",[]);let urlParams=new URLSearchParams("");typeof window<"u"&&(urlParams=new URLSearchParams(window.location.search));const urlDevice=urlParams.get("device");urlDevice&&Fleet.setDefaultDevice(urlDevice);const urlAuth=urlParams.get("auth");urlAuth&&Authentication.loginWithToken(urlAuth);const moduleName=urlParams.get("module");moduleName&&Authentication.listenForRefresh();dist.exports.IRtcSendConfiguration;dist.exports.IRtcStreamMessage;dist.exports.IRtcStreamPayload;const useDevice=i=>{const[o,s]=reactExports.useState();reactExports.useEffect(()=>{_()},[]);const _=async()=>{try{if(await Authentication.waitTilAuthenticated()){if(i){const _e=await Fleet.getDevice(i);s(_e);return}const $=await Fleet.getCurrentDevice();s($)}}catch{throw new Error("Authentication failed, please authenticate and try again")}};return o},authenticate=async i=>{try{if(await Authentication.waitTilAuthenticated())return i()}catch(o){throw o}},handleParse=(i,o)=>o?JSON.parse(i):i,getCurrentConfiguration=async(i,o)=>{await authenticate(async()=>{try{const s=await App$1.getCurrentModuleConfiguration();if(!s)return;const _=handleParse(s,o);i(_),App$1.addModuleConfigurationListener($=>{const _e=handleParse($.configuration,o);i(_e)})}catch(s){throw s}})},useConfiguration=i=>{const[o,s]=reactExports.useState("");return reactExports.useEffect(()=>{getCurrentConfiguration(s,i==null?void 0:i.parse)},[]),o},getScrubberTime=async i=>{await authenticate(async()=>{App$1.addModuleDataListener(o=>i(o.time))})},useScruberTime=()=>{const[i,o]=reactExports.useState();return reactExports.useEffect(()=>{getScrubberTime(o)},[]),i};function useFormant(){return reactExports.useContext(FormantContext)}const FormantContext=reactExports.createContext(void 0);function FormantProvider({theme:i,children:o,parseConfiguration:s,scoped:_=!1}){const $=useConfiguration({parse:!!s}),_e=createTheme$2(i==="dark"?darkTheme:i==="light"?lightTheme:defaultTheme),et={configuration:$},j=_?ScopedCssBaseline$1:CssBaseline;return reactExports.createElement(ThemeProvider,{theme:_e},reactExports.createElement(j,null,reactExports.createElement(FormantContext.Provider,{value:et},o)))}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,o){(function(){var s,_="4.17.21",$=200,_e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",et="Expected a function",j="Invalid `variable` option passed into `_.template`",nt="__lodash_hash_undefined__",ot=500,ct="__lodash_placeholder__",gt=1,pt=2,ft=4,ut=1,yt=2,wt=1,Qt=2,It=4,xt=8,Tt=16,mt=32,Nt=64,en=128,rn=256,Ft=512,St=30,Pt="...",Bt=800,jt=16,qt=1,Zt=2,Wt=3,Gt=1/0,Ht=9007199254740991,kt=17976931348623157e292,Rt=0/0,$t=4294967295,nn=$t-1,Un=$t>>>1,Fn=[["ary",en],["bind",wt],["bindKey",Qt],["curry",xt],["curryRight",Tt],["flip",Ft],["partial",mt],["partialRight",Nt],["rearg",rn]],En="[object Arguments]",fn="[object Array]",sn="[object AsyncFunction]",Ct="[object Boolean]",Dt="[object Date]",Xt="[object DOMException]",_n="[object Error]",mn="[object Function]",xn="[object GeneratorFunction]",On="[object Map]",nr="[object Number]",Nr="[object Null]",co="[object Object]",Zr="[object Promise]",mo="[object Proxy]",qr="[object RegExp]",io="[object Set]",lo="[object String]",Vo="[object Symbol]",Io="[object Undefined]",Go="[object WeakMap]",rs="[object WeakSet]",$o="[object ArrayBuffer]",ds="[object DataView]",ba="[object Float32Array]",Ss="[object Float64Array]",Fs="[object Int8Array]",Yl="[object Int16Array]",Ps="[object Int32Array]",Cs="[object Uint8Array]",gu="[object Uint8ClampedArray]",Us="[object Uint16Array]",ru="[object Uint32Array]",Gr=/\b__p \+= '';/g,Cn=/\b(__p \+=) '' \+/g,Mn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hn=/&(?:amp|lt|gt|quot|#39);/g,Jn=/[&<>"']/g,pn=RegExp(Hn.source),wn=RegExp(Jn.source),Nn=/<%-([\s\S]+?)%>/g,jn=/<%([\s\S]+?)%>/g,Wn=/<%=([\s\S]+?)%>/g,rr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qr=/^\w*$/,Vn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bn=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(bn.source),Zn=/^\s+/,ir=/\s/,hr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gr=/\{\n\/\* \[wrapped with (.+)\] \*/,Rr=/,? & /,mr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Er=/[()=,{}\[\]\/\s]/,Dr=/\\(\\)?/g,Kr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hr=/\w*$/,wo=/^[-+]0x[0-9a-f]+$/i,To=/^0b[01]+$/i,Qo=/^\[object .+?Constructor\]$/,Do=/^0o[0-7]+$/i,Zo=/^(?:0|[1-9]\d*)$/,as=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Eo=/($^)/,Qs=/['\n\r\u2028\u2029\\]/g,Bs="\\ud800-\\udfff",Qu="\\u0300-\\u036f",mu="\\ufe20-\\ufe2f",zr="\\u20d0-\\u20ff",Fl=Qu+mu+zr,$s="\\u2700-\\u27bf",yu="a-z\\xdf-\\xf6\\xf8-\\xff",lu="\\xac\\xb1\\xd7\\xf7",xu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ql="\\u2000-\\u206f",cm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cp="A-Z\\xc0-\\xd6\\xd8-\\xde",Fo="\\ufe0e\\ufe0f",us=lu+xu+Ql+cm,fs="['’]",Au="["+Bs+"]",up="["+us+"]",ss="["+Fl+"]",Zu="\\d+",Gu="["+$s+"]",_u="["+yu+"]",Pl="[^"+Bs+us+Zu+$s+yu+cp+"]",_s="\\ud83c[\\udffb-\\udfff]",Mm="(?:"+ss+"|"+_s+")",zs="[^"+Bs+"]",Hu="(?:\\ud83c[\\udde6-\\uddff]){2}",xa="[\\ud800-\\udbff][\\udc00-\\udfff]",$u="["+cp+"]",hp="\\u200d",zp="(?:"+_u+"|"+Pl+")",yl="(?:"+$u+"|"+Pl+")",tu="(?:"+fs+"(?:d|ll|m|re|s|t|ve))?",Ml="(?:"+fs+"(?:D|LL|M|RE|S|T|VE))?",vs=Mm+"?",Zs="["+Fo+"]?",Zp="(?:"+hp+"(?:"+[zs,Hu,xa].join("|")+")"+Zs+vs+")*",dp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dn=Zs+vs+Zp,Qn="(?:"+[Gu,Hu,xa].join("|")+")"+dn,In="(?:"+[zs+ss+"?",ss,Hu,xa,Au].join("|")+")",qn=RegExp(fs,"g"),pr=RegExp(ss,"g"),Gn=RegExp(_s+"(?="+_s+")|"+In+dn,"g"),lr=RegExp([$u+"?"+_u+"+"+tu+"(?="+[up,$u,"$"].join("|")+")",yl+"+"+Ml+"(?="+[up,$u+zp,"$"].join("|")+")",$u+"?"+zp+"+"+tu,$u+"+"+Ml,Jt,dp,Zu,Qn].join("|"),"g"),Cr=RegExp("["+hp+Bs+Fl+Fo+"]"),Mr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Po=-1,Uo={};Uo[ba]=Uo[Ss]=Uo[Fs]=Uo[Yl]=Uo[Ps]=Uo[Cs]=Uo[gu]=Uo[Us]=Uo[ru]=!0,Uo[En]=Uo[fn]=Uo[$o]=Uo[Ct]=Uo[ds]=Uo[Dt]=Uo[_n]=Uo[mn]=Uo[On]=Uo[nr]=Uo[co]=Uo[qr]=Uo[io]=Uo[lo]=Uo[Go]=!1;var Mo={};Mo[En]=Mo[fn]=Mo[$o]=Mo[ds]=Mo[Ct]=Mo[Dt]=Mo[ba]=Mo[Ss]=Mo[Fs]=Mo[Yl]=Mo[Ps]=Mo[On]=Mo[nr]=Mo[co]=Mo[qr]=Mo[io]=Mo[lo]=Mo[Vo]=Mo[Cs]=Mo[gu]=Mo[Us]=Mo[ru]=!0,Mo[_n]=Mo[mn]=Mo[Go]=!1;var Ko={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Co={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Al={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cu=parseFloat,Nm=parseInt,Yu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,a0=typeof self=="object"&&self&&self.Object===Object&&self,xl=Yu||a0||Function("return this")(),Cy=o&&!o.nodeType&&o,Ep=Cy&&!0&&i&&!i.nodeType&&i,fp=Ep&&Ep.exports===Cy,l0=fp&&Yu.process,vu=function(){try{var kr=Ep&&Ep.require&&Ep.require("util").types;return kr||l0&&l0.binding&&l0.binding("util")}catch{}}(),f_=vu&&vu.isArrayBuffer,c0=vu&&vu.isDate,p_=vu&&vu.isMap,u0=vu&&vu.isRegExp,h0=vu&&vu.isSet,um=vu&&vu.isTypedArray;function bu(kr,oo,$r){switch($r.length){case 0:return kr.call(oo);case 1:return kr.call(oo,$r[0]);case 2:return kr.call(oo,$r[0],$r[1]);case 3:return kr.call(oo,$r[0],$r[1],$r[2])}return kr.apply(oo,$r)}function g_(kr,oo,$r,Jo){for(var ys=-1,Js=kr==null?0:kr.length;++ys<Js;){var Vl=kr[ys];oo(Jo,Vl,$r(Vl),kr)}return Jo}function Uu(kr,oo){for(var $r=-1,Jo=kr==null?0:kr.length;++$r<Jo&&oo(kr[$r],$r,kr)!==!1;);return kr}function m_(kr,oo){for(var $r=kr==null?0:kr.length;$r--&&oo(kr[$r],$r,kr)!==!1;);return kr}function pp(kr,oo){for(var $r=-1,Jo=kr==null?0:kr.length;++$r<Jo;)if(!oo(kr[$r],$r,kr))return!1;return!0}function Rs(kr,oo){for(var $r=-1,Jo=kr==null?0:kr.length,ys=0,Js=[];++$r<Jo;){var Vl=kr[$r];oo(Vl,$r,kr)&&(Js[ys++]=Vl)}return Js}function hm(kr,oo){var $r=kr==null?0:kr.length;return!!$r&&mp(kr,oo,0)>-1}function Km(kr,oo,$r){for(var Jo=-1,ys=kr==null?0:kr.length;++Jo<ys;)if($r(oo,kr[Jo]))return!0;return!1}function _l(kr,oo){for(var $r=-1,Jo=kr==null?0:kr.length,ys=Array(Jo);++$r<Jo;)ys[$r]=oo(kr[$r],$r,kr);return ys}function gp(kr,oo){for(var $r=-1,Jo=oo.length,ys=kr.length;++$r<Jo;)kr[ys+$r]=oo[$r];return kr}function d0(kr,oo,$r,Jo){var ys=-1,Js=kr==null?0:kr.length;for(Jo&&Js&&($r=kr[++ys]);++ys<Js;)$r=oo($r,kr[ys],ys,kr);return $r}function f0(kr,oo,$r,Jo){var ys=kr==null?0:kr.length;for(Jo&&ys&&($r=kr[--ys]);ys--;)$r=oo($r,kr[ys],ys,kr);return $r}function ky(kr,oo){for(var $r=-1,Jo=kr==null?0:kr.length;++$r<Jo;)if(oo(kr[$r],$r,kr))return!0;return!1}var p0=ey("length");function My(kr){return kr.split("")}function dm(kr){return kr.match(mr)||[]}function Vm(kr,oo,$r){var Jo;return $r(kr,function(ys,Js,Vl){if(oo(ys,Js,Vl))return Jo=Js,!1}),Jo}function xs(kr,oo,$r,Jo){for(var ys=kr.length,Js=$r+(Jo?1:-1);Jo?Js--:++Js<ys;)if(oo(kr[Js],Js,kr))return Js;return-1}function mp(kr,oo,$r){return oo===oo?gv(kr,oo,$r):xs(kr,__,$r)}function y_(kr,oo,$r,Jo){for(var ys=$r-1,Js=kr.length;++ys<Js;)if(Jo(kr[ys],oo))return ys;return-1}function __(kr){return kr!==kr}function v_(kr,oo){var $r=kr==null?0:kr.length;return $r?Ny(kr,oo)/$r:Rt}function ey(kr){return function(oo){return oo==null?s:oo[kr]}}function g0(kr){return function(oo){return kr==null?s:kr[oo]}}function b_(kr,oo,$r,Jo,ys){return ys(kr,function(Js,Vl,$a){$r=Jo?(Jo=!1,Js):oo($r,Js,Vl,$a)}),$r}function fv(kr,oo){var $r=kr.length;for(kr.sort(oo);$r--;)kr[$r]=kr[$r].value;return kr}function Ny(kr,oo){for(var $r,Jo=-1,ys=kr.length;++Jo<ys;){var Js=oo(kr[Jo]);Js!==s&&($r=$r===s?Js:$r+Js)}return $r}function ty(kr,oo){for(var $r=-1,Jo=Array(kr);++$r<kr;)Jo[$r]=oo($r);return Jo}function U_(kr,oo){return _l(oo,function($r){return[$r,kr[$r]]})}function Vy(kr){return kr&&kr.slice(0,mv(kr)+1).replace(Zn,"")}function Fu(kr){return function(oo){return kr(oo)}}function m0(kr,oo){return _l(oo,function($r){return kr[$r]})}function Dy(kr,oo){return kr.has(oo)}function ny(kr,oo){for(var $r=-1,Jo=kr.length;++$r<Jo&&mp(oo,kr[$r],0)>-1;);return $r}function ry(kr,oo){for(var $r=kr.length;$r--&&mp(oo,kr[$r],0)>-1;);return $r}function pv(kr,oo){for(var $r=kr.length,Jo=0;$r--;)kr[$r]===oo&&++Jo;return Jo}var y0=g0(Ko),_0=g0(is);function Bp(kr){return"\\"+Al[kr]}function F_(kr,oo){return kr==null?s:kr[oo]}function Dm(kr){return Cr.test(kr)}function S_(kr){return Mr.test(kr)}function R_(kr){for(var oo,$r=[];!(oo=kr.next()).done;)$r.push(oo.value);return $r}function iy(kr){var oo=-1,$r=Array(kr.size);return kr.forEach(function(Jo,ys){$r[++oo]=[ys,Jo]}),$r}function w_(kr,oo){return function($r){return kr(oo($r))}}function Tp(kr,oo){for(var $r=-1,Jo=kr.length,ys=0,Js=[];++$r<Jo;){var Vl=kr[$r];(Vl===oo||Vl===ct)&&(kr[$r]=ct,Js[ys++]=$r)}return Js}function v0(kr){var oo=-1,$r=Array(kr.size);return kr.forEach(function(Jo){$r[++oo]=Jo}),$r}function Oy(kr){var oo=-1,$r=Array(kr.size);return kr.forEach(function(Jo){$r[++oo]=[Jo,Jo]}),$r}function gv(kr,oo,$r){for(var Jo=$r-1,ys=kr.length;++Jo<ys;)if(kr[Jo]===oo)return Jo;return-1}function b0(kr,oo,$r){for(var Jo=$r+1;Jo--;)if(kr[Jo]===oo)return Jo;return Jo}function oy(kr){return Dm(kr)?F0(kr):p0(kr)}function Ou(kr){return Dm(kr)?E_(kr):My(kr)}function mv(kr){for(var oo=kr.length;oo--&&ir.test(kr.charAt(oo)););return oo}var U0=g0(Co);function F0(kr){for(var oo=Gn.lastIndex=0;Gn.test(kr);)++oo;return oo}function E_(kr){return kr.match(Gn)||[]}function B_(kr){return kr.match(lr)||[]}var sy=function kr(oo){oo=oo==null?xl:ay.defaults(xl.Object(),oo,ay.pick(xl,Yr));var $r=oo.Array,Jo=oo.Date,ys=oo.Error,Js=oo.Function,Vl=oo.Math,$a=oo.Object,S0=oo.RegExp,yv=oo.String,Cu=oo.TypeError,Qp=$r.prototype,ly=Js.prototype,fm=$a.prototype,Xu=oo["__core-js_shared__"],Gp=ly.toString,Ys=fm.hasOwnProperty,xp=0,Ns=function(){var vt=/[^.]+$/.exec(Xu&&Xu.keys&&Xu.keys.IE_PROTO||"");return vt?"Symbol(src)_1."+vt:""}(),qu=fm.toString,AU=Gp.call($a),_v=xl._,cy=S0("^"+Gp.call(Ys).replace(bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R0=fp?oo.Buffer:s,Ap=oo.Symbol,uy=oo.Uint8Array,w0=R0?R0.allocUnsafe:s,pm=w_($a.getPrototypeOf,$a),hy=$a.create,gm=fm.propertyIsEnumerable,Om=Qp.splice,Iy=Ap?Ap.isConcatSpreadable:s,Hp=Ap?Ap.iterator:s,Su=Ap?Ap.toStringTag:s,mm=function(){try{var vt=Lu($a,"defineProperty");return vt({},"",{}),vt}catch{}}(),Ao=oo.clearTimeout!==xl.clearTimeout&&oo.clearTimeout,Iu=Jo&&Jo.now!==xl.Date.now&&Jo.now,T_=oo.setTimeout!==xl.setTimeout&&oo.setTimeout,Py=Vl.ceil,dy=Vl.floor,yp=$a.getOwnPropertySymbols,vv=R0?R0.isBuffer:s,Ly=oo.isFinite,Q_=Qp.join,E0=w_($a.keys,$a),Ll=Vl.max,Wl=Vl.min,$p=Jo.now,Pu=oo.parseInt,Wy=Vl.random,bv=Qp.reverse,fy=Lu(oo,"DataView"),Im=Lu(oo,"Map"),B0=Lu(oo,"Promise"),Yp=Lu(oo,"Set"),ym=Lu(oo,"WeakMap"),Xp=Lu($a,"create"),Jy=ym&&new ym,Pm={},T0=sm(fy),Uv=sm(Im),x_=sm(B0),Lm=sm(Yp),Fv=sm(ym),Wm=Ap?Ap.prototype:s,qp=Wm?Wm.valueOf:s,Q0=Wm?Wm.toString:s;function Kn(vt){if(Gl(vt)&&!ws(vt)&&!(vt instanceof ks)){if(vt instanceof ku)return vt;if(Ys.call(vt,"__wrapped__"))return Bm(vt)}return new ku(vt)}var _m=function(){function vt(){}return function(At){if(!Ol(At))return{};if(hy)return hy(At);vt.prototype=At;var tn=new vt;return vt.prototype=s,tn}}();function Xl(){}function ku(vt,At){this.__wrapped__=vt,this.__actions__=[],this.__chain__=!!At,this.__index__=0,this.__values__=s}Kn.templateSettings={escape:Nn,evaluate:jn,interpolate:Wn,variable:"",imports:{_:Kn}},Kn.prototype=Xl.prototype,Kn.prototype.constructor=Kn,ku.prototype=_m(Xl.prototype),ku.prototype.constructor=ku;function ks(vt){this.__wrapped__=vt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$t,this.__views__=[]}function CU(){var vt=new ks(this.__wrapped__);return vt.__actions__=_f(this.__actions__),vt.__dir__=this.__dir__,vt.__filtered__=this.__filtered__,vt.__iteratees__=_f(this.__iteratees__),vt.__takeCount__=this.__takeCount__,vt.__views__=_f(this.__views__),vt}function kU(){if(this.__filtered__){var vt=new ks(this);vt.__dir__=-1,vt.__filtered__=!0}else vt=this.clone(),vt.__dir__*=-1;return vt}function Kp(){var vt=this.__wrapped__.value(),At=this.__dir__,tn=ws(vt),Bn=At<0,Ln=tn?vt.length:0,sr=$F(0,Ln,this.__views__),Ur=sr.start,Tr=sr.end,Or=Tr-Ur,uo=Bn?Tr:Ur-1,so=this.__iteratees__,po=so.length,No=0,jo=Wl(Or,this.__takeCount__);if(!tn||!Bn&&Ln==Or&&jo==Or)return DU(vt,this.__actions__);var ts=[];e:for(;Or--&&No<jo;){uo+=At;for(var Es=-1,ps=vt[uo];++Es<po;){var Vs=so[Es],Ls=Vs.iteratee,Ju=Vs.type,ju=Ls(ps);if(Ju==Zt)ps=ju;else if(!ju){if(Ju==qt)continue e;break e}}ts[No++]=ps}return ts}ks.prototype=_m(Xl.prototype),ks.prototype.constructor=ks;function _g(vt){var At=-1,tn=vt==null?0:vt.length;for(this.clear();++At<tn;){var Bn=vt[At];this.set(Bn[0],Bn[1])}}function py(){this.__data__=Xp?Xp(null):{},this.size=0}function Cp(vt){var At=this.has(vt)&&delete this.__data__[vt];return this.size-=At?1:0,At}function x0(vt){var At=this.__data__;if(Xp){var tn=At[vt];return tn===nt?s:tn}return Ys.call(At,vt)?At[vt]:s}function ko(vt){var At=this.__data__;return Xp?At[vt]!==s:Ys.call(At,vt)}function Sv(vt,At){var tn=this.__data__;return this.size+=this.has(vt)?0:1,tn[vt]=Xp&&At===s?nt:At,this}_g.prototype.clear=py,_g.prototype.delete=Cp,_g.prototype.get=x0,_g.prototype.has=ko,_g.prototype.set=Sv;function kp(vt){var At=-1,tn=vt==null?0:vt.length;for(this.clear();++At<tn;){var Bn=vt[At];this.set(Bn[0],Bn[1])}}function jy(){this.__data__=[],this.size=0}function vm(vt){var At=this.__data__,tn=Jm(At,vt);if(tn<0)return!1;var Bn=At.length-1;return tn==Bn?At.pop():Om.call(At,tn,1),--this.size,!0}function Rv(vt){var At=this.__data__,tn=Jm(At,vt);return tn<0?s:At[tn][1]}function wv(vt){return Jm(this.__data__,vt)>-1}function zy(vt,At){var tn=this.__data__,Bn=Jm(tn,vt);return Bn<0?(++this.size,tn.push([vt,At])):tn[Bn][1]=At,this}kp.prototype.clear=jy,kp.prototype.delete=vm,kp.prototype.get=Rv,kp.prototype.has=wv,kp.prototype.set=zy;function Mp(vt){var At=-1,tn=vt==null?0:vt.length;for(this.clear();++At<tn;){var Bn=vt[At];this.set(Bn[0],Bn[1])}}function A_(){this.size=0,this.__data__={hash:new _g,map:new(Im||kp),string:new _g}}function Ev(vt){var At=J_(this,vt).delete(vt);return this.size-=At?1:0,At}function C_(vt){return J_(this,vt).get(vt)}function Zy(vt){return J_(this,vt).has(vt)}function A0(vt,At){var tn=J_(this,vt),Bn=tn.size;return tn.set(vt,At),this.size+=tn.size==Bn?0:1,this}Mp.prototype.clear=A_,Mp.prototype.delete=Ev,Mp.prototype.get=C_,Mp.prototype.has=Zy,Mp.prototype.set=A0;function _p(vt){var At=-1,tn=vt==null?0:vt.length;for(this.__data__=new Mp;++At<tn;)this.add(vt[At])}function C0(vt){return this.__data__.set(vt,nt),this}function k0(vt){return this.__data__.has(vt)}_p.prototype.add=_p.prototype.push=C0,_p.prototype.has=k0;function Ku(vt){var At=this.__data__=new kp(vt);this.size=At.size}function Bv(){this.__data__=new kp,this.size=0}function k_(vt){var At=this.__data__,tn=At.delete(vt);return this.size=At.size,tn}function Tv(vt){return this.__data__.get(vt)}function Qv(vt){return this.__data__.has(vt)}function M_(vt,At){var tn=this.__data__;if(tn instanceof kp){var Bn=tn.__data__;if(!Im||Bn.length<$-1)return Bn.push([vt,At]),this.size=++tn.size,this;tn=this.__data__=new Mp(Bn)}return tn.set(vt,At),this.size=tn.size,this}Ku.prototype.clear=Bv,Ku.prototype.delete=k_,Ku.prototype.get=Tv,Ku.prototype.has=Qv,Ku.prototype.set=M_;function Gy(vt,At){var tn=ws(vt),Bn=!tn&&Ry(vt),Ln=!tn&&!Bn&&wy(vt),sr=!tn&&!Bn&&!Ln&&e_(vt),Ur=tn||Bn||Ln||sr,Tr=Ur?ty(vt.length,yv):[],Or=Tr.length;for(var uo in vt)(At||Ys.call(vt,uo))&&!(Ur&&(uo=="length"||Ln&&(uo=="offset"||uo=="parent")||sr&&(uo=="buffer"||uo=="byteLength"||uo=="byteOffset")||Em(uo,Or)))&&Tr.push(uo);return Tr}function N_(vt){var At=vt.length;return At?vt[iu(0,At-1)]:s}function xv(vt,At){return Gv(_f(vt),Vt(At,0,vt.length))}function Av(vt){return Gv(_f(vt))}function Hy(vt,At,tn){(tn!==s&&!ip(vt[At],tn)||tn===s&&!(At in vt))&&ht(vt,At,tn)}function gy(vt,At,tn){var Bn=vt[At];(!(Ys.call(vt,At)&&ip(Bn,tn))||tn===s&&!(At in vt))&&ht(vt,At,tn)}function Jm(vt,At){for(var tn=vt.length;tn--;)if(ip(vt[tn][0],At))return tn;return-1}function $y(vt,At,tn,Bn){return Tn(vt,function(Ln,sr,Ur){At(Bn,Ln,tn(Ln),Ur)}),Bn}function _t(vt,At){return vt&&Fm(At,su(At),vt)}function st(vt,At){return vt&&Fm(At,Wu(At),vt)}function ht(vt,At,tn){At=="__proto__"&&mm?mm(vt,At,{configurable:!0,enumerable:!0,value:tn,writable:!0}):vt[At]=tn}function Ut(vt,At){for(var tn=-1,Bn=At.length,Ln=$r(Bn),sr=vt==null;++tn<Bn;)Ln[tn]=sr?s:dU(vt,At[tn]);return Ln}function Vt(vt,At,tn){return vt===vt&&(tn!==s&&(vt=vt<=tn?vt:tn),At!==s&&(vt=vt>=At?vt:At)),vt}function Lt(vt,At,tn,Bn,Ln,sr){var Ur,Tr=At&gt,Or=At&pt,uo=At&ft;if(tn&&(Ur=Ln?tn(vt,Bn,Ln,sr):tn(vt)),Ur!==s)return Ur;if(!Ol(vt))return vt;var so=ws(vt);if(so){if(Ur=US(vt),!Tr)return _f(vt,Ur)}else{var po=fu(vt),No=po==mn||po==xn;if(wy(vt))return LU(vt,Tr);if(po==co||po==En||No&&!Ln){if(Ur=Or||No?{}:Wv(vt),!Tr)return Or?ZU(vt,st(Ur,vt)):_S(vt,_t(Ur,vt))}else{if(!Mo[po])return Ln?vt:{};Ur=FS(vt,po,Tr)}}sr||(sr=new Ku);var jo=sr.get(vt);if(jo)return jo;sr.set(vt,Ur),P1(vt)?vt.forEach(function(ps){Ur.add(Lt(ps,At,tn,ps,vt,sr))}):K0(vt)&&vt.forEach(function(ps,Vs){Ur.set(Vs,Lt(ps,At,tn,Vs,vt,sr))});var ts=uo?Or?W_:by:Or?Wu:su,Es=so?s:ts(vt);return Uu(Es||vt,function(ps,Vs){Es&&(Vs=ps,ps=vt[Vs]),gy(Ur,Vs,Lt(ps,At,tn,Vs,vt,sr))}),Ur}function Kt(vt){var At=su(vt);return function(tn){return hn(tn,vt,At)}}function hn(vt,At,tn){var Bn=tn.length;if(vt==null)return!Bn;for(vt=$a(vt);Bn--;){var Ln=tn[Bn],sr=At[Ln],Ur=vt[Ln];if(Ur===s&&!(Ln in vt)||!sr(Ur))return!1}return!0}function gn(vt,At,tn){if(typeof vt!="function")throw new Cu(et);return qy(function(){vt.apply(s,tn)},At)}function Rn(vt,At,tn,Bn){var Ln=-1,sr=hm,Ur=!0,Tr=vt.length,Or=[],uo=At.length;if(!Tr)return Or;tn&&(At=_l(At,Fu(tn))),Bn?(sr=Km,Ur=!1):At.length>=$&&(sr=Dy,Ur=!1,At=new _p(At));e:for(;++Ln<Tr;){var so=vt[Ln],po=tn==null?so:tn(so);if(so=Bn||so!==0?so:0,Ur&&po===po){for(var No=uo;No--;)if(At[No]===po)continue e;Or.push(so)}else sr(At,po,Bn)||Or.push(so)}return Or}var Tn=Sm(tr),Dn=Sm(yr,!0);function zn(vt,At){var tn=!0;return Tn(vt,function(Bn,Ln,sr){return tn=!!At(Bn,Ln,sr),tn}),tn}function or(vt,At,tn){for(var Bn=-1,Ln=vt.length;++Bn<Ln;){var sr=vt[Bn],Ur=At(sr);if(Ur!=null&&(Tr===s?Ur===Ur&&!Rp(Ur):tn(Ur,Tr)))var Tr=Ur,Or=sr}return Or}function er(vt,At,tn,Bn){var Ln=vt.length;for(tn=As(tn),tn<0&&(tn=-tn>Ln?0:Ln+tn),Bn=Bn===s||Bn>Ln?Ln:As(Bn),Bn<0&&(Bn+=Ln),Bn=tn>Bn?0:L1(Bn);tn<Bn;)vt[tn++]=At;return vt}function ar(vt,At){var tn=[];return Tn(vt,function(Bn,Ln,sr){At(Bn,Ln,sr)&&tn.push(Bn)}),tn}function Yn(vt,At,tn,Bn,Ln){var sr=-1,Ur=vt.length;for(tn||(tn=YF),Ln||(Ln=[]);++sr<Ur;){var Tr=vt[sr];At>0&&tn(Tr)?At>1?Yn(Tr,At-1,tn,Bn,Ln):gp(Ln,Tr):Bn||(Ln[Ln.length]=Tr)}return Ln}var $n=Dp(),cr=Dp(!0);function tr(vt,At){return vt&&$n(vt,At,su)}function yr(vt,At){return vt&&cr(vt,At,su)}function br(vt,At){return Rs(At,function(tn){return Hm(vt[tn])})}function ur(vt,At){At=yy(At,vt);for(var tn=0,Bn=At.length;vt!=null&&tn<Bn;)vt=vt[om(At[tn++])];return tn&&tn==Bn?vt:s}function Sr(vt,At,tn){var Bn=At(vt);return ws(vt)?Bn:gp(Bn,tn(vt))}function Ar(vt){return vt==null?vt===s?Io:Nr:Su&&Su in $a(vt)?Yy(vt):t1(vt)}function Wr(vt,At){return vt>At}function Pr(vt,At){return vt!=null&&Ys.call(vt,At)}function ho(vt,At){return vt!=null&&At in $a(vt)}function xr(vt,At,tn){return vt>=Wl(At,tn)&&vt<Ll(At,tn)}function _i(vt,At,tn){for(var Bn=tn?Km:hm,Ln=vt[0].length,sr=vt.length,Ur=sr,Tr=$r(sr),Or=1/0,uo=[];Ur--;){var so=vt[Ur];Ur&&At&&(so=_l(so,Fu(At))),Or=Wl(so.length,Or),Tr[Ur]=!tn&&(At||Ln>=120&&so.length>=120)?new _p(Ur&&so):s}so=vt[0];var po=-1,No=Tr[0];e:for(;++po<Ln&&uo.length<Or;){var jo=so[po],ts=At?At(jo):jo;if(jo=tn||jo!==0?jo:0,!(No?Dy(No,ts):Bn(uo,ts,tn))){for(Ur=sr;--Ur;){var Es=Tr[Ur];if(!(Es?Dy(Es,ts):Bn(vt[Ur],ts,tn)))continue e}No&&No.push(ts),uo.push(jo)}}return uo}function eo(vt,At,tn,Bn){return tr(vt,function(Ln,sr,Ur){At(Bn,tn(Ln),sr,Ur)}),Bn}function Vr(vt,At,tn){At=yy(At,vt),vt=Zv(vt,At);var Bn=vt==null?vt:vt[om(np(At))];return Bn==null?s:bu(Bn,vt,tn)}function Br(vt){return Gl(vt)&&Ar(vt)==En}function So(vt){return Gl(vt)&&Ar(vt)==$o}function yo(vt){return Gl(vt)&&Ar(vt)==Dt}function bo(vt,At,tn,Bn,Ln){return vt===At?!0:vt==null||At==null||!Gl(vt)&&!Gl(At)?vt!==vt&&At!==At:_o(vt,At,tn,Bn,bo,Ln)}function _o(vt,At,tn,Bn,Ln,sr){var Ur=ws(vt),Tr=ws(At),Or=Ur?fn:fu(vt),uo=Tr?fn:fu(At);Or=Or==En?co:Or,uo=uo==En?co:uo;var so=Or==co,po=uo==co,No=Or==uo;if(No&&wy(vt)){if(!wy(At))return!1;Ur=!0,so=!1}if(No&&!so)return sr||(sr=new Ku),Ur||e_(vt)?ou(vt,At,tn,Bn,Ln,sr):HF(vt,At,Or,tn,Bn,Ln,sr);if(!(tn&ut)){var jo=so&&Ys.call(vt,"__wrapped__"),ts=po&&Ys.call(At,"__wrapped__");if(jo||ts){var Es=jo?vt.value():vt,ps=ts?At.value():At;return sr||(sr=new Ku),Ln(Es,ps,tn,Bn,sr)}}return No?(sr||(sr=new Ku),Rm(vt,At,tn,Bn,Ln,sr)):!1}function Oo(vt){return Gl(vt)&&fu(vt)==On}function Ho(vt,At,tn,Bn){var Ln=tn.length,sr=Ln,Ur=!Bn;if(vt==null)return!sr;for(vt=$a(vt);Ln--;){var Tr=tn[Ln];if(Ur&&Tr[2]?Tr[1]!==vt[Tr[0]]:!(Tr[0]in vt))return!1}for(;++Ln<sr;){Tr=tn[Ln];var Or=Tr[0],uo=vt[Or],so=Tr[1];if(Ur&&Tr[2]){if(uo===s&&!(Or in vt))return!1}else{var po=new Ku;if(Bn)var No=Bn(uo,so,Or,vt,At,po);if(!(No===s?bo(so,uo,ut|yt,Bn,po):No))return!1}}return!0}function zo(vt){if(!Ol(vt)||jv(vt))return!1;var At=Hm(vt)?cy:Qo;return At.test(sm(vt))}function Wo(vt){return Gl(vt)&&Ar(vt)==qr}function vo(vt){return Gl(vt)&&fu(vt)==io}function ns(vt){return Gl(vt)&&Ey(vt.length)&&!!Uo[Ar(vt)]}function gs(vt){return typeof vt=="function"?vt:vt==null?sp:typeof vt=="object"?ws(vt)?vp(vt[0],vt[1]):uu(vt):hS(vt)}function js(vt){if(!P0(vt))return E0(vt);var At=[];for(var tn in $a(vt))Ys.call(vt,tn)&&tn!="constructor"&&At.push(tn);return At}function Gs(vt){if(!Ol(vt))return e1(vt);var At=P0(vt),tn=[];for(var Bn in vt)Bn=="constructor"&&(At||!Ys.call(vt,Bn))||tn.push(Bn);return tn}function Os(vt,At){return vt<At}function Jl(vt,At){var tn=-1,Bn=op(vt)?$r(vt.length):[];return Tn(vt,function(Ln,sr,Ur){Bn[++tn]=At(Ln,sr,Ur)}),Bn}function uu(vt){var At=HU(vt);return At.length==1&&At[0][2]?KF(At[0][0],At[0][1]):function(tn){return tn===vt||Ho(tn,vt,At)}}function vp(vt,At){return Jv(vt)&&qF(At)?KF(om(vt),At):function(tn){var Bn=dU(tn,vt);return Bn===s&&Bn===At?fU(tn,vt):bo(At,Bn,ut|yt)}}function Hs(vt,At,tn,Bn,Ln){vt!==At&&$n(At,function(sr,Ur){if(Ln||(Ln=new Ku),Ol(sr))El(vt,At,Ur,tn,Hs,Bn,Ln);else{var Tr=Bn?Bn(Xy(vt,Ur),sr,Ur+"",vt,At,Ln):s;Tr===s&&(Tr=sr),Hy(vt,Ur,Tr)}},Wu)}function El(vt,At,tn,Bn,Ln,sr,Ur){var Tr=Xy(vt,tn),Or=Xy(At,tn),uo=Ur.get(Or);if(uo){Hy(vt,tn,uo);return}var so=sr?sr(Tr,Or,tn+"",vt,At,Ur):s,po=so===s;if(po){var No=ws(Or),jo=!No&&wy(Or),ts=!No&&!jo&&e_(Or);so=Or,No||jo||ts?ws(Tr)?so=Tr:_c(Tr)?so=_f(Tr):jo?(po=!1,so=LU(Or,!0)):ts?(po=!1,so=D_(Or,!0)):so=[]:xm(Or)||Ry(Or)?(so=Tr,Ry(Tr)?so=uU(Tr):(!Ol(Tr)||Hm(Tr))&&(so=Wv(Or))):po=!1}po&&(Ur.set(Or,so),Ln(so,Or,Bn,sr,Ur),Ur.delete(Or)),Hy(vt,tn,so)}function Is(vt,At){var tn=vt.length;if(tn)return At+=At<0?tn:0,Em(At,tn)?vt[At]:s}function Nl(vt,At,tn){At.length?At=_l(At,function(sr){return ws(sr)?function(Ur){return ur(Ur,sr.length===1?sr[0]:sr)}:sr}):At=[sp];var Bn=-1;At=_l(At,Fu(ls()));var Ln=Jl(vt,function(sr,Ur,Tr){var Or=_l(At,function(uo){return uo(sr)});return{criteria:Or,index:++Bn,value:sr}});return fv(Ln,function(sr,Ur){return Ov(sr,Ur,tn)})}function hu(vt,At){return Xs(vt,At,function(tn,Bn){return fU(vt,Bn)})}function Xs(vt,At,tn){for(var Bn=-1,Ln=At.length,sr={};++Bn<Ln;){var Ur=At[Bn],Tr=ur(vt,Ur);tn(Tr,Ur)&&Ru(sr,yy(Ur,vt),Tr)}return sr}function Mu(vt){return function(At){return ur(At,vt)}}function em(vt,At,tn,Bn){var Ln=Bn?y_:mp,sr=-1,Ur=At.length,Tr=vt;for(vt===At&&(At=_f(At)),tn&&(Tr=_l(vt,Fu(tn)));++sr<Ur;)for(var Or=0,uo=At[sr],so=tn?tn(uo):uo;(Or=Ln(Tr,so,Or,Bn))>-1;)Tr!==vt&&Om.call(Tr,Or,1),Om.call(vt,Or,1);return vt}function _h(vt,At){for(var tn=vt?At.length:0,Bn=tn-1;tn--;){var Ln=At[tn];if(tn==Bn||Ln!==sr){var sr=Ln;Em(Ln)?Om.call(vt,Ln,1):Mv(vt,Ln)}}return vt}function iu(vt,At){return vt+dy(Wy()*(At-vt+1))}function my(vt,At,tn,Bn){for(var Ln=-1,sr=Ll(Py((At-vt)/(tn||1)),0),Ur=$r(sr);sr--;)Ur[Bn?sr:++Ln]=vt,vt+=tn;return Ur}function Np(vt,At){var tn="";if(!vt||At<1||At>Ht)return tn;do At%2&&(tn+=vt),At=dy(At/2),At&&(vt+=vt);while(At);return tn}function es(vt,At){return W0(im(vt,At,sp),vt+"")}function Vp(vt){return N_(i_(vt))}function bm(vt,At){var tn=i_(vt);return Gv(tn,Vt(At,0,tn.length))}function Ru(vt,At,tn,Bn){if(!Ol(vt))return vt;At=yy(At,vt);for(var Ln=-1,sr=At.length,Ur=sr-1,Tr=vt;Tr!=null&&++Ln<sr;){var Or=om(At[Ln]),uo=tn;if(Or==="__proto__"||Or==="constructor"||Or==="prototype")return vt;if(Ln!=Ur){var so=Tr[Or];uo=Bn?Bn(so,Or,Tr):s,uo===s&&(uo=Ol(so)?so:Em(At[Ln+1])?[]:{})}gy(Tr,Or,uo),Tr=Tr[Or]}return vt}var M0=Jy?function(vt,At){return Jy.set(vt,At),vt}:sp,Cv=mm?function(vt,At){return mm(vt,"toString",{configurable:!0,enumerable:!1,value:bU(At),writable:!0})}:sp;function WF(vt){return Gv(i_(vt))}function bp(vt,At,tn){var Bn=-1,Ln=vt.length;At<0&&(At=-At>Ln?0:Ln+At),tn=tn>Ln?Ln:tn,tn<0&&(tn+=Ln),Ln=At>tn?0:tn-At>>>0,At>>>=0;for(var sr=$r(Ln);++Bn<Ln;)sr[Bn]=vt[Bn+At];return sr}function JF(vt,At){var tn;return Tn(vt,function(Bn,Ln,sr){return tn=At(Bn,Ln,sr),!tn}),!!tn}function N0(vt,At,tn){var Bn=0,Ln=vt==null?Bn:vt.length;if(typeof At=="number"&&At===At&&Ln<=Un){for(;Bn<Ln;){var sr=Bn+Ln>>>1,Ur=vt[sr];Ur!==null&&!Rp(Ur)&&(tn?Ur<=At:Ur<At)?Bn=sr+1:Ln=sr}return Ln}return kv(vt,At,sp,tn)}function kv(vt,At,tn,Bn){var Ln=0,sr=vt==null?0:vt.length;if(sr===0)return 0;At=tn(At);for(var Ur=At!==At,Tr=At===null,Or=Rp(At),uo=At===s;Ln<sr;){var so=dy((Ln+sr)/2),po=tn(vt[so]),No=po!==s,jo=po===null,ts=po===po,Es=Rp(po);if(Ur)var ps=Bn||ts;else uo?ps=ts&&(Bn||No):Tr?ps=ts&&No&&(Bn||!jo):Or?ps=ts&&No&&!jo&&(Bn||!Es):jo||Es?ps=!1:ps=Bn?po<=At:po<At;ps?Ln=so+1:sr=so}return Wl(sr,nn)}function MU(vt,At){for(var tn=-1,Bn=vt.length,Ln=0,sr=[];++tn<Bn;){var Ur=vt[tn],Tr=At?At(Ur):Ur;if(!tn||!ip(Tr,Or)){var Or=Tr;sr[Ln++]=Ur===0?0:Ur}}return sr}function NU(vt){return typeof vt=="number"?vt:Rp(vt)?Rt:+vt}function _d(vt){if(typeof vt=="string")return vt;if(ws(vt))return _l(vt,_d)+"";if(Rp(vt))return Q0?Q0.call(vt):"";var At=vt+"";return At=="0"&&1/vt==-Gt?"-0":At}function jm(vt,At,tn){var Bn=-1,Ln=hm,sr=vt.length,Ur=!0,Tr=[],Or=Tr;if(tn)Ur=!1,Ln=Km;else if(sr>=$){var uo=At?null:GF(vt);if(uo)return v0(uo);Ur=!1,Ln=Dy,Or=new _p}else Or=At?[]:Tr;e:for(;++Bn<sr;){var so=vt[Bn],po=At?At(so):so;if(so=tn||so!==0?so:0,Ur&&po===po){for(var No=Or.length;No--;)if(Or[No]===po)continue e;At&&Or.push(po),Tr.push(so)}else Ln(Or,po,tn)||(Or!==Tr&&Or.push(po),Tr.push(so))}return Tr}function Mv(vt,At){return At=yy(At,vt),vt=Zv(vt,At),vt==null||delete vt[om(np(At))]}function VU(vt,At,tn,Bn){return Ru(vt,At,tn(ur(vt,At)),Bn)}function V_(vt,At,tn,Bn){for(var Ln=vt.length,sr=Bn?Ln:-1;(Bn?sr--:++sr<Ln)&&At(vt[sr],sr,vt););return tn?bp(vt,Bn?0:sr,Bn?sr+1:Ln):bp(vt,Bn?sr+1:0,Bn?Ln:sr)}function DU(vt,At){var tn=vt;return tn instanceof ks&&(tn=tn.value()),d0(At,function(Bn,Ln){return Ln.func.apply(Ln.thisArg,gp([Bn],Ln.args))},tn)}function Nv(vt,At,tn){var Bn=vt.length;if(Bn<2)return Bn?jm(vt[0]):[];for(var Ln=-1,sr=$r(Bn);++Ln<Bn;)for(var Ur=vt[Ln],Tr=-1;++Tr<Bn;)Tr!=Ln&&(sr[Ln]=Rn(sr[Ln]||Ur,vt[Tr],At,tn));return jm(Yn(sr,1),At,tn)}function OU(vt,At,tn){for(var Bn=-1,Ln=vt.length,sr=At.length,Ur={};++Bn<Ln;){var Tr=Bn<sr?At[Bn]:s;tn(Ur,vt[Bn],Tr)}return Ur}function Vv(vt){return _c(vt)?vt:[]}function IU(vt){return typeof vt=="function"?vt:sp}function yy(vt,At){return ws(vt)?vt:Jv(vt,At)?[vt]:Hv(na(vt))}var V0=es;function zm(vt,At,tn){var Bn=vt.length;return tn=tn===s?Bn:tn,!At&&tn>=Bn?vt:bp(vt,At,tn)}var PU=Ao||function(vt){return xl.clearTimeout(vt)};function LU(vt,At){if(At)return vt.slice();var tn=vt.length,Bn=w0?w0(tn):new vt.constructor(tn);return vt.copy(Bn),Bn}function WU(vt){var At=new vt.constructor(vt.byteLength);return new uy(At).set(new uy(vt)),At}function Dv(vt,At){var tn=At?WU(vt.buffer):vt.buffer;return new vt.constructor(tn,vt.byteOffset,vt.byteLength)}function jF(vt){var At=new vt.constructor(vt.source,Hr.exec(vt));return At.lastIndex=vt.lastIndex,At}function JU(vt){return qp?$a(qp.call(vt)):{}}function D_(vt,At){var tn=At?WU(vt.buffer):vt.buffer;return new vt.constructor(tn,vt.byteOffset,vt.length)}function Um(vt,At){if(vt!==At){var tn=vt!==s,Bn=vt===null,Ln=vt===vt,sr=Rp(vt),Ur=At!==s,Tr=At===null,Or=At===At,uo=Rp(At);if(!Tr&&!uo&&!sr&&vt>At||sr&&Ur&&Or&&!Tr&&!uo||Bn&&Ur&&Or||!tn&&Or||!Ln)return 1;if(!Bn&&!sr&&!uo&&vt<At||uo&&tn&&Ln&&!Bn&&!sr||Tr&&tn&&Ln||!Ur&&Ln||!Or)return-1}return 0}function Ov(vt,At,tn){for(var Bn=-1,Ln=vt.criteria,sr=At.criteria,Ur=Ln.length,Tr=tn.length;++Bn<Ur;){var Or=Um(Ln[Bn],sr[Bn]);if(Or){if(Bn>=Tr)return Or;var uo=tn[Bn];return Or*(uo=="desc"?-1:1)}}return vt.index-At.index}function jU(vt,At,tn,Bn){for(var Ln=-1,sr=vt.length,Ur=tn.length,Tr=-1,Or=At.length,uo=Ll(sr-Ur,0),so=$r(Or+uo),po=!Bn;++Tr<Or;)so[Tr]=At[Tr];for(;++Ln<Ur;)(po||Ln<sr)&&(so[tn[Ln]]=vt[Ln]);for(;uo--;)so[Tr++]=vt[Ln++];return so}function zU(vt,At,tn,Bn){for(var Ln=-1,sr=vt.length,Ur=-1,Tr=tn.length,Or=-1,uo=At.length,so=Ll(sr-Tr,0),po=$r(so+uo),No=!Bn;++Ln<so;)po[Ln]=vt[Ln];for(var jo=Ln;++Or<uo;)po[jo+Or]=At[Or];for(;++Ur<Tr;)(No||Ln<sr)&&(po[jo+tn[Ur]]=vt[Ln++]);return po}function _f(vt,At){var tn=-1,Bn=vt.length;for(At||(At=$r(Bn));++tn<Bn;)At[tn]=vt[tn];return At}function Fm(vt,At,tn,Bn){var Ln=!tn;tn||(tn={});for(var sr=-1,Ur=At.length;++sr<Ur;){var Tr=At[sr],Or=Bn?Bn(tn[Tr],vt[Tr],Tr,tn,vt):s;Or===s&&(Or=vt[Tr]),Ln?ht(tn,Tr,Or):gy(tn,Tr,Or)}return tn}function _S(vt,At){return Fm(vt,I0(vt),At)}function ZU(vt,At){return Fm(vt,j_(vt),At)}function _y(vt,At){return function(tn,Bn){var Ln=ws(tn)?g_:$y,sr=At?At():{};return Ln(tn,vt,ls(Bn,2),sr)}}function tm(vt){return es(function(At,tn){var Bn=-1,Ln=tn.length,sr=Ln>1?tn[Ln-1]:s,Ur=Ln>2?tn[2]:s;for(sr=vt.length>3&&typeof sr=="function"?(Ln--,sr):s,Ur&&Kl(tn[0],tn[1],Ur)&&(sr=Ln<3?s:sr,Ln=1),At=$a(At);++Bn<Ln;){var Tr=tn[Bn];Tr&&vt(At,Tr,Bn,sr)}return At})}function Sm(vt,At){return function(tn,Bn){if(tn==null)return tn;if(!op(tn))return vt(tn,Bn);for(var Ln=tn.length,sr=At?Ln:-1,Ur=$a(tn);(At?sr--:++sr<Ln)&&Bn(Ur[sr],sr,Ur)!==!1;);return tn}}function Dp(vt){return function(At,tn,Bn){for(var Ln=-1,sr=$a(At),Ur=Bn(At),Tr=Ur.length;Tr--;){var Or=Ur[vt?Tr:++Ln];if(tn(sr[Or],Or,sr)===!1)break}return At}}function vy(vt,At,tn){var Bn=At&wt,Ln=O_(vt);function sr(){var Ur=this&&this!==xl&&this instanceof sr?Ln:vt;return Ur.apply(Bn?tn:this,arguments)}return sr}function Zm(vt){return function(At){At=na(At);var tn=Dm(At)?Ou(At):s,Bn=tn?tn[0]:At.charAt(0),Ln=tn?zm(tn,1).join(""):At.slice(1);return Bn[vt]()+Ln}}function Op(vt){return function(At){return d0(l_(EF(At).replace(qn,"")),vt,"")}}function O_(vt){return function(){var At=arguments;switch(At.length){case 0:return new vt;case 1:return new vt(At[0]);case 2:return new vt(At[0],At[1]);case 3:return new vt(At[0],At[1],At[2]);case 4:return new vt(At[0],At[1],At[2],At[3]);case 5:return new vt(At[0],At[1],At[2],At[3],At[4]);case 6:return new vt(At[0],At[1],At[2],At[3],At[4],At[5]);case 7:return new vt(At[0],At[1],At[2],At[3],At[4],At[5],At[6])}var tn=_m(vt.prototype),Bn=vt.apply(tn,At);return Ol(Bn)?Bn:tn}}function vS(vt,At,tn){var Bn=O_(vt);function Ln(){for(var sr=arguments.length,Ur=$r(sr),Tr=sr,Or=O0(Ln);Tr--;)Ur[Tr]=arguments[Tr];var uo=sr<3&&Ur[0]!==Or&&Ur[sr-1]!==Or?[]:Tp(Ur,Or);if(sr-=uo.length,sr<tn)return L_(vt,At,I_,Ln.placeholder,s,Ur,uo,s,s,tn-sr);var so=this&&this!==xl&&this instanceof Ln?Bn:vt;return bu(so,this,Ur)}return Ln}function zF(vt){return function(At,tn,Bn){var Ln=$a(At);if(!op(At)){var sr=ls(tn,3);At=su(At),tn=function(Tr){return sr(Ln[Tr],Tr,Ln)}}var Ur=vt(At,tn,Bn);return Ur>-1?Ln[sr?At[Ur]:Ur]:s}}function ZF(vt){return wm(function(At){var tn=At.length,Bn=tn,Ln=ku.prototype.thru;for(vt&&At.reverse();Bn--;){var sr=At[Bn];if(typeof sr!="function")throw new Cu(et);if(Ln&&!Ur&&D0(sr)=="wrapper")var Ur=new ku([],!0)}for(Bn=Ur?Bn:tn;++Bn<tn;){sr=At[Bn];var Tr=D0(sr),Or=Tr=="wrapper"?Lv(sr):s;Or&&Uy(Or[0])&&Or[1]==(en|xt|mt|rn)&&!Or[4].length&&Or[9]==1?Ur=Ur[D0(Or[0])].apply(Ur,Or[3]):Ur=sr.length==1&&Uy(sr)?Ur[Tr]():Ur.thru(sr)}return function(){var uo=arguments,so=uo[0];if(Ur&&uo.length==1&&ws(so))return Ur.plant(so).value();for(var po=0,No=tn?At[po].apply(this,uo):so;++po<tn;)No=At[po].call(this,No);return No}})}function I_(vt,At,tn,Bn,Ln,sr,Ur,Tr,Or,uo){var so=At&en,po=At&wt,No=At&Qt,jo=At&(xt|Tt),ts=At&Ft,Es=No?s:O_(vt);function ps(){for(var Vs=arguments.length,Ls=$r(Vs),Ju=Vs;Ju--;)Ls[Ju]=arguments[Ju];if(jo)var ju=O0(ps),ap=pv(Ls,ju);if(Bn&&(Ls=jU(Ls,Bn,Ln,jo)),sr&&(Ls=zU(Ls,sr,Ur,jo)),Vs-=ap,jo&&Vs<uo){var Hl=Tp(Ls,ju);return L_(vt,At,I_,ps.placeholder,tn,Ls,Hl,Tr,Or,uo-Vs)}var Wp=po?tn:this,km=No?Wp[vt]:vt;return Vs=Ls.length,Tr?Ls=L0(Ls,Tr):ts&&Vs>1&&Ls.reverse(),so&&Or<Vs&&(Ls.length=Or),this&&this!==xl&&this instanceof ps&&(km=Es||O_(km)),km.apply(Wp,Ls)}return ps}function P_(vt,At){return function(tn,Bn){return eo(tn,vt,At(Bn),{})}}function ep(vt,At){return function(tn,Bn){var Ln;if(tn===s&&Bn===s)return At;if(tn!==s&&(Ln=tn),Bn!==s){if(Ln===s)return Bn;typeof tn=="string"||typeof Bn=="string"?(tn=_d(tn),Bn=_d(Bn)):(tn=NU(tn),Bn=NU(Bn)),Ln=vt(tn,Bn)}return Ln}}function GU(vt){return wm(function(At){return At=_l(At,Fu(ls())),es(function(tn){var Bn=this;return vt(At,function(Ln){return bu(Ln,Bn,tn)})})})}function Iv(vt,At){At=At===s?" ":_d(At);var tn=At.length;if(tn<2)return tn?Np(At,vt):At;var Bn=Np(At,Py(vt/oy(At)));return Dm(At)?zm(Ou(Bn),0,vt).join(""):Bn.slice(0,vt)}function zl(vt,At,tn,Bn){var Ln=At&wt,sr=O_(vt);function Ur(){for(var Tr=-1,Or=arguments.length,uo=-1,so=Bn.length,po=$r(so+Or),No=this&&this!==xl&&this instanceof Ur?sr:vt;++uo<so;)po[uo]=Bn[uo];for(;Or--;)po[uo++]=arguments[++Tr];return bu(No,Ln?tn:this,po)}return Ur}function Xo(vt){return function(At,tn,Bn){return Bn&&typeof Bn!="number"&&Kl(At,tn,Bn)&&(tn=Bn=s),At=Am(At),tn===s?(tn=At,At=0):tn=Am(tn),Bn=Bn===s?At<tn?1:-1:Am(Bn),my(At,tn,Bn,vt)}}function nm(vt){return function(At,tn){return typeof At=="string"&&typeof tn=="string"||(At=Lp(At),tn=Lp(tn)),vt(At,tn)}}function L_(vt,At,tn,Bn,Ln,sr,Ur,Tr,Or,uo){var so=At&xt,po=so?Ur:s,No=so?s:Ur,jo=so?sr:s,ts=so?s:sr;At|=so?mt:Nt,At&=~(so?Nt:mt),At&It||(At&=~(wt|Qt));var Es=[vt,At,Ln,jo,po,ts,No,Tr,Or,uo],ps=tn.apply(s,Es);return Uy(vt)&&Fy(ps,Es),ps.placeholder=Bn,XU(ps,vt,At)}function Ms(vt){var At=Vl[vt];return function(tn,Bn){if(tn=Lp(tn),Bn=Bn==null?0:Wl(As(Bn),292),Bn&&Ly(tn)){var Ln=(na(tn)+"e").split("e"),sr=At(Ln[0]+"e"+(+Ln[1]+Bn));return Ln=(na(sr)+"e").split("e"),+(Ln[0]+"e"+(+Ln[1]-Bn))}return At(tn)}}var GF=Yp&&1/v0(new Yp([,-0]))[1]==Gt?function(vt){return new Yp(vt)}:o0;function Pv(vt){return function(At){var tn=fu(At);return tn==On?iy(At):tn==io?Oy(At):U_(At,vt(At))}}function du(vt,At,tn,Bn,Ln,sr,Ur,Tr){var Or=At&Qt;if(!Or&&typeof vt!="function")throw new Cu(et);var uo=Bn?Bn.length:0;if(uo||(At&=~(mt|Nt),Bn=Ln=s),Ur=Ur===s?Ur:Ll(As(Ur),0),Tr=Tr===s?Tr:As(Tr),uo-=Ln?Ln.length:0,At&Nt){var so=Bn,po=Ln;Bn=Ln=s}var No=Or?s:Lv(vt),jo=[vt,At,tn,Bn,Ln,so,po,sr,Ur,Tr];if(No&&tp(jo,No),vt=jo[0],At=jo[1],tn=jo[2],Bn=jo[3],Ln=jo[4],Tr=jo[9]=jo[9]===s?Or?0:vt.length:Ll(jo[9]-uo,0),!Tr&&At&(xt|Tt)&&(At&=~(xt|Tt)),!At||At==wt)var ts=vy(vt,At,tn);else At==xt||At==Tt?ts=vS(vt,At,Tr):(At==mt||At==(wt|mt))&&!Ln.length?ts=zl(vt,At,tn,Bn):ts=I_.apply(s,jo);var Es=No?M0:Fy;return XU(Es(ts,jo),vt,At)}function rm(vt,At,tn,Bn){return vt===s||ip(vt,fm[tn])&&!Ys.call(Bn,tn)?At:vt}function Up(vt,At,tn,Bn,Ln,sr){return Ol(vt)&&Ol(At)&&(sr.set(At,vt),Hs(vt,At,s,Up,sr),sr.delete(At)),vt}function Fp(vt){return xm(vt)?s:vt}function ou(vt,At,tn,Bn,Ln,sr){var Ur=tn&ut,Tr=vt.length,Or=At.length;if(Tr!=Or&&!(Ur&&Or>Tr))return!1;var uo=sr.get(vt),so=sr.get(At);if(uo&&so)return uo==At&&so==vt;var po=-1,No=!0,jo=tn&yt?new _p:s;for(sr.set(vt,At),sr.set(At,vt);++po<Tr;){var ts=vt[po],Es=At[po];if(Bn)var ps=Ur?Bn(Es,ts,po,At,vt,sr):Bn(ts,Es,po,vt,At,sr);if(ps!==s){if(ps)continue;No=!1;break}if(jo){if(!ky(At,function(Vs,Ls){if(!Dy(jo,Ls)&&(ts===Vs||Ln(ts,Vs,tn,Bn,sr)))return jo.push(Ls)})){No=!1;break}}else if(!(ts===Es||Ln(ts,Es,tn,Bn,sr))){No=!1;break}}return sr.delete(vt),sr.delete(At),No}function HF(vt,At,tn,Bn,Ln,sr,Ur){switch(tn){case ds:if(vt.byteLength!=At.byteLength||vt.byteOffset!=At.byteOffset)return!1;vt=vt.buffer,At=At.buffer;case $o:return!(vt.byteLength!=At.byteLength||!sr(new uy(vt),new uy(At)));case Ct:case Dt:case nr:return ip(+vt,+At);case _n:return vt.name==At.name&&vt.message==At.message;case qr:case lo:return vt==At+"";case On:var Tr=iy;case io:var Or=Bn&ut;if(Tr||(Tr=v0),vt.size!=At.size&&!Or)return!1;var uo=Ur.get(vt);if(uo)return uo==At;Bn|=yt,Ur.set(vt,At);var so=ou(Tr(vt),Tr(At),Bn,Ln,sr,Ur);return Ur.delete(vt),so;case Vo:if(qp)return qp.call(vt)==qp.call(At)}return!1}function Rm(vt,At,tn,Bn,Ln,sr){var Ur=tn&ut,Tr=by(vt),Or=Tr.length,uo=by(At),so=uo.length;if(Or!=so&&!Ur)return!1;for(var po=Or;po--;){var No=Tr[po];if(!(Ur?No in At:Ys.call(At,No)))return!1}var jo=sr.get(vt),ts=sr.get(At);if(jo&&ts)return jo==At&&ts==vt;var Es=!0;sr.set(vt,At),sr.set(At,vt);for(var ps=Ur;++po<Or;){No=Tr[po];var Vs=vt[No],Ls=At[No];if(Bn)var Ju=Ur?Bn(Ls,Vs,No,At,vt,sr):Bn(Vs,Ls,No,vt,At,sr);if(!(Ju===s?Vs===Ls||Ln(Vs,Ls,tn,Bn,sr):Ju)){Es=!1;break}ps||(ps=No=="constructor")}if(Es&&!ps){var ju=vt.constructor,ap=At.constructor;ju!=ap&&"constructor"in vt&&"constructor"in At&&!(typeof ju=="function"&&ju instanceof ju&&typeof ap=="function"&&ap instanceof ap)&&(Es=!1)}return sr.delete(vt),sr.delete(At),Es}function wm(vt){return W0(im(vt,s,i1),vt+"")}function by(vt){return Sr(vt,su,I0)}function W_(vt){return Sr(vt,Wu,j_)}var Lv=Jy?function(vt){return Jy.get(vt)}:o0;function D0(vt){for(var At=vt.name+"",tn=Pm[At],Bn=Ys.call(Pm,At)?tn.length:0;Bn--;){var Ln=tn[Bn],sr=Ln.func;if(sr==null||sr==vt)return Ln.name}return At}function O0(vt){var At=Ys.call(Kn,"placeholder")?Kn:vt;return At.placeholder}function ls(){var vt=Kn.iteratee||CF;return vt=vt===CF?gs:vt,arguments.length?vt(arguments[0],arguments[1]):vt}function J_(vt,At){var tn=vt.__data__;return SS(At)?tn[typeof At=="string"?"string":"hash"]:tn.map}function HU(vt){for(var At=su(vt),tn=At.length;tn--;){var Bn=At[tn],Ln=vt[Bn];At[tn]=[Bn,Ln,qF(Ln)]}return At}function Lu(vt,At){var tn=F_(vt,At);return zo(tn)?tn:s}function Yy(vt){var At=Ys.call(vt,Su),tn=vt[Su];try{vt[Su]=s;var Bn=!0}catch{}var Ln=qu.call(vt);return Bn&&(At?vt[Su]=tn:delete vt[Su]),Ln}var I0=yp?function(vt){return vt==null?[]:(vt=$a(vt),Rs(yp(vt),function(At){return gm.call(vt,At)}))}:SU,j_=yp?function(vt){for(var At=[];vt;)gp(At,I0(vt)),vt=pm(vt);return At}:SU,fu=Ar;(fy&&fu(new fy(new ArrayBuffer(1)))!=ds||Im&&fu(new Im)!=On||B0&&fu(B0.resolve())!=Zr||Yp&&fu(new Yp)!=io||ym&&fu(new ym)!=Go)&&(fu=function(vt){var At=Ar(vt),tn=At==co?vt.constructor:s,Bn=tn?sm(tn):"";if(Bn)switch(Bn){case T0:return ds;case Uv:return On;case x_:return Zr;case Lm:return io;case Fv:return Go}return At});function $F(vt,At,tn){for(var Bn=-1,Ln=tn.length;++Bn<Ln;){var sr=tn[Bn],Ur=sr.size;switch(sr.type){case"drop":vt+=Ur;break;case"dropRight":At-=Ur;break;case"take":At=Wl(At,vt+Ur);break;case"takeRight":vt=Ll(vt,At-Ur);break}}return{start:vt,end:At}}function bS(vt){var At=vt.match(gr);return At?At[1].split(Rr):[]}function $U(vt,At,tn){At=yy(At,vt);for(var Bn=-1,Ln=At.length,sr=!1;++Bn<Ln;){var Ur=om(At[Bn]);if(!(sr=vt!=null&&tn(vt,Ur)))break;vt=vt[Ur]}return sr||++Bn!=Ln?sr:(Ln=vt==null?0:vt.length,!!Ln&&Ey(Ln)&&Em(Ur,Ln)&&(ws(vt)||Ry(vt)))}function US(vt){var At=vt.length,tn=new vt.constructor(At);return At&&typeof vt[0]=="string"&&Ys.call(vt,"index")&&(tn.index=vt.index,tn.input=vt.input),tn}function Wv(vt){return typeof vt.constructor=="function"&&!P0(vt)?_m(pm(vt)):{}}function FS(vt,At,tn){var Bn=vt.constructor;switch(At){case $o:return WU(vt);case Ct:case Dt:return new Bn(+vt);case ds:return Dv(vt,tn);case ba:case Ss:case Fs:case Yl:case Ps:case Cs:case gu:case Us:case ru:return D_(vt,tn);case On:return new Bn;case nr:case lo:return new Bn(vt);case qr:return jF(vt);case io:return new Bn;case Vo:return JU(vt)}}function YU(vt,At){var tn=At.length;if(!tn)return vt;var Bn=tn-1;return At[Bn]=(tn>1?"& ":"")+At[Bn],At=At.join(tn>2?", ":" "),vt.replace(hr,`{
/* [wrapped with `+At+`] */
`)}function YF(vt){return ws(vt)||Ry(vt)||!!(Iy&&vt&&vt[Iy])}function Em(vt,At){var tn=typeof vt;return At=At??Ht,!!At&&(tn=="number"||tn!="symbol"&&Zo.test(vt))&&vt>-1&&vt%1==0&&vt<At}function Kl(vt,At,tn){if(!Ol(tn))return!1;var Bn=typeof At;return(Bn=="number"?op(tn)&&Em(At,tn.length):Bn=="string"&&At in tn)?ip(tn[At],vt):!1}function Jv(vt,At){if(ws(vt))return!1;var tn=typeof vt;return tn=="number"||tn=="symbol"||tn=="boolean"||vt==null||Rp(vt)?!0:Qr.test(vt)||!rr.test(vt)||At!=null&&vt in $a(At)}function SS(vt){var At=typeof vt;return At=="string"||At=="number"||At=="symbol"||At=="boolean"?vt!=="__proto__":vt===null}function Uy(vt){var At=D0(vt),tn=Kn[At];if(typeof tn!="function"||!(At in ks.prototype))return!1;if(vt===tn)return!0;var Bn=Lv(tn);return!!Bn&&vt===Bn[0]}function jv(vt){return!!Ns&&Ns in vt}var XF=Xu?Hm:RU;function P0(vt){var At=vt&&vt.constructor,tn=typeof At=="function"&&At.prototype||fm;return vt===tn}function qF(vt){return vt===vt&&!Ol(vt)}function KF(vt,At){return function(tn){return tn==null?!1:tn[vt]===At&&(At!==s||vt in $a(tn))}}function zv(vt){var At=ev(vt,function(Bn){return tn.size===ot&&tn.clear(),Bn}),tn=At.cache;return At}function tp(vt,At){var tn=vt[1],Bn=At[1],Ln=tn|Bn,sr=Ln<(wt|Qt|en),Ur=Bn==en&&tn==xt||Bn==en&&tn==rn&&vt[7].length<=At[8]||Bn==(en|rn)&&At[7].length<=At[8]&&tn==xt;if(!(sr||Ur))return vt;Bn&wt&&(vt[2]=At[2],Ln|=tn&wt?0:It);var Tr=At[3];if(Tr){var Or=vt[3];vt[3]=Or?jU(Or,Tr,At[4]):Tr,vt[4]=Or?Tp(vt[3],ct):At[4]}return Tr=At[5],Tr&&(Or=vt[5],vt[5]=Or?zU(Or,Tr,At[6]):Tr,vt[6]=Or?Tp(vt[5],ct):At[6]),Tr=At[7],Tr&&(vt[7]=Tr),Bn&en&&(vt[8]=vt[8]==null?At[8]:Wl(vt[8],At[8])),vt[9]==null&&(vt[9]=At[9]),vt[0]=At[0],vt[1]=Ln,vt}function e1(vt){var At=[];if(vt!=null)for(var tn in $a(vt))At.push(tn);return At}function t1(vt){return qu.call(vt)}function im(vt,At,tn){return At=Ll(At===s?vt.length-1:At,0),function(){for(var Bn=arguments,Ln=-1,sr=Ll(Bn.length-At,0),Ur=$r(sr);++Ln<sr;)Ur[Ln]=Bn[At+Ln];Ln=-1;for(var Tr=$r(At+1);++Ln<At;)Tr[Ln]=Bn[Ln];return Tr[At]=tn(Ur),bu(vt,this,Tr)}}function Zv(vt,At){return At.length<2?vt:ur(vt,bp(At,0,-1))}function L0(vt,At){for(var tn=vt.length,Bn=Wl(At.length,tn),Ln=_f(vt);Bn--;){var sr=At[Bn];vt[Bn]=Em(sr,tn)?Ln[sr]:s}return vt}function Xy(vt,At){if(!(At==="constructor"&&typeof vt[At]=="function")&&At!="__proto__")return vt[At]}var Fy=qU(M0),qy=T_||function(vt,At){return xl.setTimeout(vt,At)},W0=qU(Cv);function XU(vt,At,tn){var Bn=At+"";return W0(vt,YU(Bn,J0(bS(Bn),tn)))}function qU(vt){var At=0,tn=0;return function(){var Bn=$p(),Ln=jt-(Bn-tn);if(tn=Bn,Ln>0){if(++At>=Bt)return arguments[0]}else At=0;return vt.apply(s,arguments)}}function Gv(vt,At){var tn=-1,Bn=vt.length,Ln=Bn-1;for(At=At===s?Bn:At;++tn<At;){var sr=iu(tn,Ln),Ur=vt[sr];vt[sr]=vt[tn],vt[tn]=Ur}return vt.length=At,vt}var Hv=zv(function(vt){var At=[];return vt.charCodeAt(0)===46&&At.push(""),vt.replace(Vn,function(tn,Bn,Ln,sr){At.push(Ln?sr.replace(Dr,"$1"):Bn||tn)}),At});function om(vt){if(typeof vt=="string"||Rp(vt))return vt;var At=vt+"";return At=="0"&&1/vt==-Gt?"-0":At}function sm(vt){if(vt!=null){try{return Gp.call(vt)}catch{}try{return vt+""}catch{}}return""}function J0(vt,At){return Uu(Fn,function(tn){var Bn="_."+tn[0];At&tn[1]&&!hm(vt,Bn)&&vt.push(Bn)}),vt.sort()}function Bm(vt){if(vt instanceof ks)return vt.clone();var At=new ku(vt.__wrapped__,vt.__chain__);return At.__actions__=_f(vt.__actions__),At.__index__=vt.__index__,At.__values__=vt.__values__,At}function KU(vt,At,tn){(tn?Kl(vt,At,tn):At===s)?At=1:At=Ll(As(At),0);var Bn=vt==null?0:vt.length;if(!Bn||At<1)return[];for(var Ln=0,sr=0,Ur=$r(Py(Bn/At));Ln<Bn;)Ur[sr++]=bp(vt,Ln,Ln+=At);return Ur}function n1(vt){for(var At=-1,tn=vt==null?0:vt.length,Bn=0,Ln=[];++At<tn;){var sr=vt[At];sr&&(Ln[Bn++]=sr)}return Ln}function z_(){var vt=arguments.length;if(!vt)return[];for(var At=$r(vt-1),tn=arguments[0],Bn=vt;Bn--;)At[Bn-1]=arguments[Bn];return gp(ws(tn)?_f(tn):[tn],Yn(At,1))}var Z_=es(function(vt,At){return _c(vt)?Rn(vt,Yn(At,1,_c,!0)):[]}),Sp=es(function(vt,At){var tn=np(At);return _c(tn)&&(tn=s),_c(vt)?Rn(vt,Yn(At,1,_c,!0),ls(tn,2)):[]}),G_=es(function(vt,At){var tn=np(At);return _c(tn)&&(tn=s),_c(vt)?Rn(vt,Yn(At,1,_c,!0),s,tn):[]});function Nu(vt,At,tn){var Bn=vt==null?0:vt.length;return Bn?(At=tn||At===s?1:As(At),bp(vt,At<0?0:At,Bn)):[]}function Ip(vt,At,tn){var Bn=vt==null?0:vt.length;return Bn?(At=tn||At===s?1:As(At),At=Bn-At,bp(vt,0,At<0?0:At)):[]}function eF(vt,At){return vt&&vt.length?V_(vt,ls(At,3),!0,!0):[]}function Zl(vt,At){return vt&&vt.length?V_(vt,ls(At,3),!0):[]}function r1(vt,At,tn,Bn){var Ln=vt==null?0:vt.length;return Ln?(tn&&typeof tn!="number"&&Kl(vt,At,tn)&&(tn=0,Bn=Ln),er(vt,At,tn,Bn)):[]}function j0(vt,At,tn){var Bn=vt==null?0:vt.length;if(!Bn)return-1;var Ln=tn==null?0:As(tn);return Ln<0&&(Ln=Ll(Bn+Ln,0)),xs(vt,ls(At,3),Ln)}function Pp(vt,At,tn){var Bn=vt==null?0:vt.length;if(!Bn)return-1;var Ln=Bn-1;return tn!==s&&(Ln=As(tn),Ln=tn<0?Ll(Bn+Ln,0):Wl(Ln,Bn-1)),xs(vt,ls(At,3),Ln,!0)}function i1(vt){var At=vt==null?0:vt.length;return At?Yn(vt,1):[]}function RS(vt){var At=vt==null?0:vt.length;return At?Yn(vt,Gt):[]}function o1(vt,At){var tn=vt==null?0:vt.length;return tn?(At=At===s?1:As(At),Yn(vt,At)):[]}function s1(vt){for(var At=-1,tn=vt==null?0:vt.length,Bn={};++At<tn;){var Ln=vt[At];Bn[Ln[0]]=Ln[1]}return Bn}function Sy(vt){return vt&&vt.length?vt[0]:s}function a1(vt,At,tn){var Bn=vt==null?0:vt.length;if(!Bn)return-1;var Ln=tn==null?0:As(tn);return Ln<0&&(Ln=Ll(Bn+Ln,0)),mp(vt,At,Ln)}function l1(vt){var At=vt==null?0:vt.length;return At?bp(vt,0,-1):[]}var c1=es(function(vt){var At=_l(vt,Vv);return At.length&&At[0]===vt[0]?_i(At):[]}),u1=es(function(vt){var At=np(vt),tn=_l(vt,Vv);return At===np(tn)?At=s:tn.pop(),tn.length&&tn[0]===vt[0]?_i(tn,ls(At,2)):[]}),wS=es(function(vt){var At=np(vt),tn=_l(vt,Vv);return At=typeof At=="function"?At:s,At&&tn.pop(),tn.length&&tn[0]===vt[0]?_i(tn,s,At):[]});function tF(vt,At){return vt==null?"":Q_.call(vt,At)}function np(vt){var At=vt==null?0:vt.length;return At?vt[At-1]:s}function nF(vt,At,tn){var Bn=vt==null?0:vt.length;if(!Bn)return-1;var Ln=Bn;return tn!==s&&(Ln=As(tn),Ln=Ln<0?Ll(Bn+Ln,0):Wl(Ln,Bn-1)),At===At?b0(vt,At,Ln):xs(vt,__,Ln,!0)}function Vu(vt,At){return vt&&vt.length?Is(vt,As(At)):s}var d1=es(f1);function f1(vt,At){return vt&&vt.length&&At&&At.length?em(vt,At):vt}function p1(vt,At,tn){return vt&&vt.length&&At&&At.length?em(vt,At,ls(tn,2)):vt}function ES(vt,At,tn){return vt&&vt.length&&At&&At.length?em(vt,At,s,tn):vt}var BS=wm(function(vt,At){var tn=vt==null?0:vt.length,Bn=Ut(vt,At);return _h(vt,_l(At,function(Ln){return Em(Ln,tn)?+Ln:Ln}).sort(Um)),Bn});function g1(vt,At){var tn=[];if(!(vt&&vt.length))return tn;var Bn=-1,Ln=[],sr=vt.length;for(At=ls(At,3);++Bn<sr;){var Ur=vt[Bn];At(Ur,Bn,vt)&&(tn.push(Ur),Ln.push(Bn))}return _h(vt,Ln),tn}function $v(vt){return vt==null?vt:bv.call(vt)}function m1(vt,At,tn){var Bn=vt==null?0:vt.length;return Bn?(tn&&typeof tn!="number"&&Kl(vt,At,tn)?(At=0,tn=Bn):(At=At==null?0:As(At),tn=tn===s?Bn:As(tn)),bp(vt,At,tn)):[]}function rF(vt,At){return N0(vt,At)}function Gm(vt,At,tn){return kv(vt,At,ls(tn,2))}function rp(vt,At){var tn=vt==null?0:vt.length;if(tn){var Bn=N0(vt,At);if(Bn<tn&&ip(vt[Bn],At))return Bn}return-1}function TS(vt,At){return N0(vt,At,!0)}function iF(vt,At,tn){return kv(vt,At,ls(tn,2),!0)}function QS(vt,At){var tn=vt==null?0:vt.length;if(tn){var Bn=N0(vt,At,!0)-1;if(ip(vt[Bn],At))return Bn}return-1}function xS(vt){return vt&&vt.length?MU(vt):[]}function AS(vt,At){return vt&&vt.length?MU(vt,ls(At,2)):[]}function H_(vt){var At=vt==null?0:vt.length;return At?bp(vt,1,At):[]}function Yv(vt,At,tn){return vt&&vt.length?(At=tn||At===s?1:As(At),bp(vt,0,At<0?0:At)):[]}function y1(vt,At,tn){var Bn=vt==null?0:vt.length;return Bn?(At=tn||At===s?1:As(At),At=Bn-At,bp(vt,At<0?0:At,Bn)):[]}function Ky(vt,At){return vt&&vt.length?V_(vt,ls(At,3),!1,!0):[]}function $_(vt,At){return vt&&vt.length?V_(vt,ls(At,3)):[]}var CS=es(function(vt){return jm(Yn(vt,1,_c,!0))}),kS=es(function(vt){var At=np(vt);return _c(At)&&(At=s),jm(Yn(vt,1,_c,!0),ls(At,2))}),NS=es(function(vt){var At=np(vt);return At=typeof At=="function"?At:s,jm(Yn(vt,1,_c,!0),s,At)});function VS(vt){return vt&&vt.length?jm(vt):[]}function DS(vt,At){return vt&&vt.length?jm(vt,ls(At,2)):[]}function IS(vt,At){return At=typeof At=="function"?At:s,vt&&vt.length?jm(vt,s,At):[]}function oF(vt){if(!(vt&&vt.length))return[];var At=0;return vt=Rs(vt,function(tn){if(_c(tn))return At=Ll(tn.length,At),!0}),ty(At,function(tn){return _l(vt,ey(tn))})}function Xv(vt,At){if(!(vt&&vt.length))return[];var tn=oF(vt);return At==null?tn:_l(tn,function(Bn){return bu(At,s,Bn)})}var PS=es(function(vt,At){return _c(vt)?Rn(vt,At):[]}),z0=es(function(vt){return Nv(Rs(vt,_c))}),LS=es(function(vt){var At=np(vt);return _c(At)&&(At=s),Nv(Rs(vt,_c),ls(At,2))}),Dl=es(function(vt){var At=np(vt);return At=typeof At=="function"?At:s,Nv(Rs(vt,_c),s,At)}),qv=es(oF);function _1(vt,At){return OU(vt||[],At||[],gy)}function Kv(vt,At){return OU(vt||[],At||[],Ru)}var _b=es(function(vt){var At=vt.length,tn=At>1?vt[At-1]:s;return tn=typeof tn=="function"?(vt.pop(),tn):s,Xv(vt,tn)});function Z0(vt){var At=Kn(vt);return At.__chain__=!0,At}function v1(vt,At){return At(vt),vt}function Y_(vt,At){return At(vt)}var X_=wm(function(vt){var At=vt.length,tn=At?vt[0]:0,Bn=this.__wrapped__,Ln=function(sr){return Ut(sr,vt)};return At>1||this.__actions__.length||!(Bn instanceof ks)||!Em(tn)?this.thru(Ln):(Bn=Bn.slice(tn,+tn+(At?1:0)),Bn.__actions__.push({func:Y_,args:[Ln],thisArg:s}),new ku(Bn,this.__chain__).thru(function(sr){return At&&!sr.length&&sr.push(s),sr}))});function sF(){return Z0(this)}function aF(){return new ku(this.value(),this.__chain__)}function WS(){this.__values__===s&&(this.__values__=t0(this.value()));var vt=this.__index__>=this.__values__.length,At=vt?s:this.__values__[this.__index__++];return{done:vt,value:At}}function b1(){return this}function q_(vt){for(var At,tn=this;tn instanceof Xl;){var Bn=Bm(tn);Bn.__index__=0,Bn.__values__=s,At?Ln.__wrapped__=Bn:At=Bn;var Ln=Bn;tn=tn.__wrapped__}return Ln.__wrapped__=vt,At}function JS(){var vt=this.__wrapped__;if(vt instanceof ks){var At=vt;return this.__actions__.length&&(At=new ks(this)),At=At.reverse(),At.__actions__.push({func:Y_,args:[$v],thisArg:s}),new ku(At,this.__chain__)}return this.thru($v)}function lF(){return DU(this.__wrapped__,this.__actions__)}var jS=_y(function(vt,At,tn){Ys.call(vt,tn)?++vt[tn]:ht(vt,tn,1)});function cF(vt,At,tn){var Bn=ws(vt)?pp:zn;return tn&&Kl(vt,At,tn)&&(At=s),Bn(vt,ls(At,3))}function uF(vt,At){var tn=ws(vt)?Rs:ar;return tn(vt,ls(At,3))}var eU=zF(j0),zS=zF(Pp);function ZS(vt,At){return Yn(nU(vt,At),1)}function GS(vt,At){return Yn(nU(vt,At),Gt)}function HS(vt,At,tn){return tn=tn===s?1:As(tn),Yn(nU(vt,At),tn)}function U1(vt,At){var tn=ws(vt)?Uu:Tn;return tn(vt,ls(At,3))}function F1(vt,At){var tn=ws(vt)?m_:Dn;return tn(vt,ls(At,3))}var tU=_y(function(vt,At,tn){Ys.call(vt,tn)?vt[tn].push(At):ht(vt,tn,[At])});function $S(vt,At,tn,Bn){vt=op(vt)?vt:i_(vt),tn=tn&&!Bn?As(tn):0;var Ln=vt.length;return tn<0&&(tn=Ll(Ln+tn,0)),lU(vt)?tn<=Ln&&vt.indexOf(At,tn)>-1:!!Ln&&mp(vt,At,tn)>-1}var S1=es(function(vt,At,tn){var Bn=-1,Ln=typeof At=="function",sr=op(vt)?$r(vt.length):[];return Tn(vt,function(Ur){sr[++Bn]=Ln?bu(At,Ur,tn):Vr(Ur,At,tn)}),sr}),G0=_y(function(vt,At,tn){ht(vt,tn,At)});function nU(vt,At){var tn=ws(vt)?_l:Jl;return tn(vt,ls(At,3))}function YS(vt,At,tn,Bn){return vt==null?[]:(ws(At)||(At=At==null?[]:[At]),tn=Bn?s:tn,ws(tn)||(tn=tn==null?[]:[tn]),Nl(vt,At,tn))}var XS=_y(function(vt,At,tn){vt[tn?0:1].push(At)},function(){return[[],[]]});function R1(vt,At,tn){var Bn=ws(vt)?d0:b_,Ln=arguments.length<3;return Bn(vt,ls(At,4),tn,Ln,Tn)}function w1(vt,At,tn){var Bn=ws(vt)?f0:b_,Ln=arguments.length<3;return Bn(vt,ls(At,4),tn,Ln,Dn)}function qS(vt,At){var tn=ws(vt)?Rs:ar;return tn(vt,sU(ls(At,3)))}function KS(vt){var At=ws(vt)?N_:Vp;return At(vt)}function eR(vt,At,tn){(tn?Kl(vt,At,tn):At===s)?At=1:At=As(At);var Bn=ws(vt)?xv:bm;return Bn(vt,At)}function hF(vt){var At=ws(vt)?Av:WF;return At(vt)}function rU(vt){if(vt==null)return 0;if(op(vt))return lU(vt)?oy(vt):vt.length;var At=fu(vt);return At==On||At==io?vt.size:js(vt).length}function iU(vt,At,tn){var Bn=ws(vt)?ky:JF;return tn&&Kl(vt,At,tn)&&(At=s),Bn(vt,ls(At,3))}var tR=es(function(vt,At){if(vt==null)return[];var tn=At.length;return tn>1&&Kl(vt,At[0],At[1])?At=[]:tn>2&&Kl(At[0],At[1],At[2])&&(At=[At[0]]),Nl(vt,Yn(At,1),[])}),oU=Iu||function(){return xl.Date.now()};function K_(vt,At){if(typeof At!="function")throw new Cu(et);return vt=As(vt),function(){if(--vt<1)return At.apply(this,arguments)}}function H0(vt,At,tn){return At=tn?s:At,At=vt&&At==null?vt.length:At,du(vt,en,s,s,s,s,At)}function dF(vt,At){var tn;if(typeof At!="function")throw new Cu(et);return vt=As(vt),function(){return--vt>0&&(tn=At.apply(this,arguments)),vt<=1&&(At=s),tn}}var e0=es(function(vt,At,tn){var Bn=wt;if(tn.length){var Ln=Tp(tn,O0(e0));Bn|=mt}return du(vt,Bn,At,tn,Ln)}),fF=es(function(vt,At,tn){var Bn=wt|Qt;if(tn.length){var Ln=Tp(tn,O0(fF));Bn|=mt}return du(At,Bn,vt,tn,Ln)});function E1(vt,At,tn){At=tn?s:At;var Bn=du(vt,xt,s,s,s,s,s,At);return Bn.placeholder=E1.placeholder,Bn}function pF(vt,At,tn){At=tn?s:At;var Bn=du(vt,Tt,s,s,s,s,s,At);return Bn.placeholder=pF.placeholder,Bn}function gF(vt,At,tn){var Bn,Ln,sr,Ur,Tr,Or,uo=0,so=!1,po=!1,No=!0;if(typeof vt!="function")throw new Cu(et);At=Lp(At)||0,Ol(tn)&&(so=!!tn.leading,po="maxWait"in tn,sr=po?Ll(Lp(tn.maxWait)||0,At):sr,No="trailing"in tn?!!tn.trailing:No);function jo(Hl){var Wp=Bn,km=Ln;return Bn=Ln=s,uo=Hl,Ur=vt.apply(km,Wp),Ur}function ts(Hl){return uo=Hl,Tr=qy(Vs,At),so?jo(Hl):Ur}function Es(Hl){var Wp=Hl-Or,km=Hl-uo,DF=At-Wp;return po?Wl(DF,sr-km):DF}function ps(Hl){var Wp=Hl-Or,km=Hl-uo;return Or===s||Wp>=At||Wp<0||po&&km>=sr}function Vs(){var Hl=oU();if(ps(Hl))return Ls(Hl);Tr=qy(Vs,Es(Hl))}function Ls(Hl){return Tr=s,No&&Bn?jo(Hl):(Bn=Ln=s,Ur)}function Ju(){Tr!==s&&PU(Tr),uo=0,Bn=Or=Ln=Tr=s}function ju(){return Tr===s?Ur:Ls(oU())}function ap(){var Hl=oU(),Wp=ps(Hl);if(Bn=arguments,Ln=this,Or=Hl,Wp){if(Tr===s)return ts(Or);if(po)return PU(Tr),Tr=qy(Vs,At),jo(Or)}return Tr===s&&(Tr=qy(Vs,At)),Ur}return ap.cancel=Ju,ap.flush=ju,ap}var B1=es(function(vt,At){return gn(vt,1,At)}),T1=es(function(vt,At,tn){return gn(vt,Lp(At)||0,tn)});function Q1(vt){return du(vt,Ft)}function ev(vt,At){if(typeof vt!="function"||At!=null&&typeof At!="function")throw new Cu(et);var tn=function(){var Bn=arguments,Ln=At?At.apply(this,Bn):Bn[0],sr=tn.cache;if(sr.has(Ln))return sr.get(Ln);var Ur=vt.apply(this,Bn);return tn.cache=sr.set(Ln,Ur)||sr,Ur};return tn.cache=new(ev.Cache||Mp),tn}ev.Cache=Mp;function sU(vt){if(typeof vt!="function")throw new Cu(et);return function(){var At=arguments;switch(At.length){case 0:return!vt.call(this);case 1:return!vt.call(this,At[0]);case 2:return!vt.call(this,At[0],At[1]);case 3:return!vt.call(this,At[0],At[1],At[2])}return!vt.apply(this,At)}}function nR(vt){return dF(2,vt)}var x1=V0(function(vt,At){At=At.length==1&&ws(At[0])?_l(At[0],Fu(ls())):_l(Yn(At,1),Fu(ls()));var tn=At.length;return es(function(Bn){for(var Ln=-1,sr=Wl(Bn.length,tn);++Ln<sr;)Bn[Ln]=At[Ln].call(this,Bn[Ln]);return bu(vt,this,Bn)})}),$0=es(function(vt,At){var tn=Tp(At,O0($0));return du(vt,mt,s,At,tn)}),mF=es(function(vt,At){var tn=Tp(At,O0(mF));return du(vt,Nt,s,At,tn)}),Du=wm(function(vt,At){return du(vt,rn,s,s,s,At)});function tv(vt,At){if(typeof vt!="function")throw new Cu(et);return At=At===s?At:As(At),es(vt,At)}function Y0(vt,At){if(typeof vt!="function")throw new Cu(et);return At=At==null?0:Ll(As(At),0),es(function(tn){var Bn=tn[At],Ln=zm(tn,0,At);return Bn&&gp(Ln,Bn),bu(vt,this,Ln)})}function nv(vt,At,tn){var Bn=!0,Ln=!0;if(typeof vt!="function")throw new Cu(et);return Ol(tn)&&(Bn="leading"in tn?!!tn.leading:Bn,Ln="trailing"in tn?!!tn.trailing:Ln),gF(vt,At,{leading:Bn,maxWait:At,trailing:Ln})}function A1(vt){return H0(vt,1)}function C1(vt,At){return $0(IU(At),vt)}function rR(){if(!arguments.length)return[];var vt=arguments[0];return ws(vt)?vt:[vt]}function iR(vt){return Lt(vt,ft)}function oR(vt,At){return At=typeof At=="function"?At:s,Lt(vt,ft,At)}function sR(vt){return Lt(vt,gt|ft)}function aR(vt,At){return At=typeof At=="function"?At:s,Lt(vt,gt|ft,At)}function lR(vt,At){return At==null||hn(vt,At,su(At))}function ip(vt,At){return vt===At||vt!==vt&&At!==At}var cR=nm(Wr),k1=nm(function(vt,At){return vt>=At}),Ry=Br(function(){return arguments}())?Br:function(vt){return Gl(vt)&&Ys.call(vt,"callee")&&!gm.call(vt,"callee")},ws=$r.isArray,uR=f_?Fu(f_):So;function op(vt){return vt!=null&&Ey(vt.length)&&!Hm(vt)}function _c(vt){return Gl(vt)&&op(vt)}function hR(vt){return vt===!0||vt===!1||Gl(vt)&&Ar(vt)==Ct}var wy=vv||RU,M1=c0?Fu(c0):yo;function dR(vt){return Gl(vt)&&vt.nodeType===1&&!xm(vt)}function pu(vt){if(vt==null)return!0;if(op(vt)&&(ws(vt)||typeof vt=="string"||typeof vt.splice=="function"||wy(vt)||e_(vt)||Ry(vt)))return!vt.length;var At=fu(vt);if(At==On||At==io)return!vt.size;if(P0(vt))return!js(vt).length;for(var tn in vt)if(Ys.call(vt,tn))return!1;return!0}function Tm(vt,At){return bo(vt,At)}function yF(vt,At,tn){tn=typeof tn=="function"?tn:s;var Bn=tn?tn(vt,At):s;return Bn===s?bo(vt,At,s,tn):!!Bn}function X0(vt){if(!Gl(vt))return!1;var At=Ar(vt);return At==_n||At==Xt||typeof vt.message=="string"&&typeof vt.name=="string"&&!xm(vt)}function q0(vt){return typeof vt=="number"&&Ly(vt)}function Hm(vt){if(!Ol(vt))return!1;var At=Ar(vt);return At==mn||At==xn||At==sn||At==mo}function N1(vt){return typeof vt=="number"&&vt==As(vt)}function Ey(vt){return typeof vt=="number"&&vt>-1&&vt%1==0&&vt<=Ht}function Ol(vt){var At=typeof vt;return vt!=null&&(At=="object"||At=="function")}function Gl(vt){return vt!=null&&typeof vt=="object"}var K0=p_?Fu(p_):Oo;function V1(vt,At){return vt===At||Ho(vt,At,HU(At))}function D1(vt,At,tn){return tn=typeof tn=="function"?tn:s,Ho(vt,At,HU(At),tn)}function Ks(vt){return Qm(vt)&&vt!=+vt}function _F(vt){if(XF(vt))throw new ys(_e);return zo(vt)}function O1(vt){return vt===null}function I1(vt){return vt==null}function Qm(vt){return typeof vt=="number"||Gl(vt)&&Ar(vt)==nr}function xm(vt){if(!Gl(vt)||Ar(vt)!=co)return!1;var At=pm(vt);if(At===null)return!0;var tn=Ys.call(At,"constructor")&&At.constructor;return typeof tn=="function"&&tn instanceof tn&&Gp.call(tn)==AU}var aU=u0?Fu(u0):Wo;function fR(vt){return N1(vt)&&vt>=-Ht&&vt<=Ht}var P1=h0?Fu(h0):vo;function lU(vt){return typeof vt=="string"||!ws(vt)&&Gl(vt)&&Ar(vt)==lo}function Rp(vt){return typeof vt=="symbol"||Gl(vt)&&Ar(vt)==Vo}var e_=um?Fu(um):ns;function pR(vt){return vt===s}function gR(vt){return Gl(vt)&&fu(vt)==Go}function mR(vt){return Gl(vt)&&Ar(vt)==rs}var yR=nm(Os),cU=nm(function(vt,At){return vt<=At});function t0(vt){if(!vt)return[];if(op(vt))return lU(vt)?Ou(vt):_f(vt);if(Hp&&vt[Hp])return R_(vt[Hp]());var At=fu(vt),tn=At==On?iy:At==io?v0:i_;return tn(vt)}function Am(vt){if(!vt)return vt===0?vt:0;if(vt=Lp(vt),vt===Gt||vt===-Gt){var At=vt<0?-1:1;return At*kt}return vt===vt?vt:0}function As(vt){var At=Am(vt),tn=At%1;return At===At?tn?At-tn:At:0}function L1(vt){return vt?Vt(As(vt),0,$t):0}function Lp(vt){if(typeof vt=="number")return vt;if(Rp(vt))return Rt;if(Ol(vt)){var At=typeof vt.valueOf=="function"?vt.valueOf():vt;vt=Ol(At)?At+"":At}if(typeof vt!="string")return vt===0?vt:+vt;vt=Vy(vt);var tn=To.test(vt);return tn||Do.test(vt)?Nm(vt.slice(2),tn?2:8):wo.test(vt)?Rt:+vt}function uU(vt){return Fm(vt,Wu(vt))}function vF(vt){return vt?Vt(As(vt),-Ht,Ht):vt===0?vt:0}function na(vt){return vt==null?"":_d(vt)}var wp=tm(function(vt,At){if(P0(At)||op(At)){Fm(At,su(At),vt);return}for(var tn in At)Ys.call(At,tn)&&gy(vt,tn,At[tn])}),t_=tm(function(vt,At){Fm(At,Wu(At),vt)}),$m=tm(function(vt,At,tn,Bn){Fm(At,Wu(At),vt,Bn)}),bF=tm(function(vt,At,tn,Bn){Fm(At,su(At),vt,Bn)}),hU=wm(Ut);function _R(vt,At){var tn=_m(vt);return At==null?tn:_t(tn,At)}var W1=es(function(vt,At){vt=$a(vt);var tn=-1,Bn=At.length,Ln=Bn>2?At[2]:s;for(Ln&&Kl(At[0],At[1],Ln)&&(Bn=1);++tn<Bn;)for(var sr=At[tn],Ur=Wu(sr),Tr=-1,Or=Ur.length;++Tr<Or;){var uo=Ur[Tr],so=vt[uo];(so===s||ip(so,fm[uo])&&!Ys.call(vt,uo))&&(vt[uo]=sr[uo])}return vt}),J1=es(function(vt){return vt.push(s,Up),bu(pU,s,vt)});function vR(vt,At){return Vm(vt,ls(At,3),tr)}function j1(vt,At){return Vm(vt,ls(At,3),yr)}function z1(vt,At){return vt==null?vt:$n(vt,ls(At,3),Wu)}function UF(vt,At){return vt==null?vt:cr(vt,ls(At,3),Wu)}function Z1(vt,At){return vt&&tr(vt,ls(At,3))}function bR(vt,At){return vt&&yr(vt,ls(At,3))}function G1(vt){return vt==null?[]:br(vt,su(vt))}function Ym(vt){return vt==null?[]:br(vt,Wu(vt))}function dU(vt,At,tn){var Bn=vt==null?s:ur(vt,At);return Bn===s?tn:Bn}function H1(vt,At){return vt!=null&&$U(vt,At,Pr)}function fU(vt,At){return vt!=null&&$U(vt,At,ho)}var $1=P_(function(vt,At,tn){At!=null&&typeof At.toString!="function"&&(At=qu.call(At)),vt[At]=tn},bU(sp)),UR=P_(function(vt,At,tn){At!=null&&typeof At.toString!="function"&&(At=qu.call(At)),Ys.call(vt,At)?vt[At].push(tn):vt[At]=[tn]},ls),FR=es(Vr);function su(vt){return op(vt)?Gy(vt):js(vt)}function Wu(vt){return op(vt)?Gy(vt,!0):Gs(vt)}function rv(vt,At){var tn={};return At=ls(At,3),tr(vt,function(Bn,Ln,sr){ht(tn,At(Bn,Ln,sr),Bn)}),tn}function Y1(vt,At){var tn={};return At=ls(At,3),tr(vt,function(Bn,Ln,sr){ht(tn,Ln,At(Bn,Ln,sr))}),tn}var X1=tm(function(vt,At,tn){Hs(vt,At,tn)}),pU=tm(function(vt,At,tn,Bn){Hs(vt,At,tn,Bn)}),n_=wm(function(vt,At){var tn={};if(vt==null)return tn;var Bn=!1;At=_l(At,function(sr){return sr=yy(sr,vt),Bn||(Bn=sr.length>1),sr}),Fm(vt,W_(vt),tn),Bn&&(tn=Lt(tn,gt|pt|ft,Fp));for(var Ln=At.length;Ln--;)Mv(tn,At[Ln]);return tn});function q1(vt,At){return FF(vt,sU(ls(At)))}var gU=wm(function(vt,At){return vt==null?{}:hu(vt,At)});function FF(vt,At){if(vt==null)return{};var tn=_l(W_(vt),function(Bn){return[Bn]});return At=ls(At),Xs(vt,tn,function(Bn,Ln){return At(Bn,Ln[0])})}function mU(vt,At,tn){At=yy(At,vt);var Bn=-1,Ln=At.length;for(Ln||(Ln=1,vt=s);++Bn<Ln;){var sr=vt==null?s:vt[om(At[Bn])];sr===s&&(Bn=Ln,sr=tn),vt=Hm(sr)?sr.call(vt):sr}return vt}function yU(vt,At,tn){return vt==null?vt:Ru(vt,At,tn)}function SR(vt,At,tn,Bn){return Bn=typeof Bn=="function"?Bn:s,vt==null?vt:Ru(vt,At,tn,Bn)}var K1=Pv(su),eS=Pv(Wu);function RR(vt,At,tn){var Bn=ws(vt),Ln=Bn||wy(vt)||e_(vt);if(At=ls(At,4),tn==null){var sr=vt&&vt.constructor;Ln?tn=Bn?new sr:[]:Ol(vt)?tn=Hm(sr)?_m(pm(vt)):{}:tn={}}return(Ln?Uu:tr)(vt,function(Ur,Tr,Or){return At(tn,Ur,Tr,Or)}),tn}function wR(vt,At){return vt==null?!0:Mv(vt,At)}function r_(vt,At,tn){return vt==null?vt:VU(vt,At,IU(tn))}function SF(vt,At,tn,Bn){return Bn=typeof Bn=="function"?Bn:s,vt==null?vt:VU(vt,At,IU(tn),Bn)}function i_(vt){return vt==null?[]:m0(vt,su(vt))}function tS(vt){return vt==null?[]:m0(vt,Wu(vt))}function ER(vt,At,tn){return tn===s&&(tn=At,At=s),tn!==s&&(tn=Lp(tn),tn=tn===tn?tn:0),At!==s&&(At=Lp(At),At=At===At?At:0),Vt(Lp(vt),At,tn)}function RF(vt,At,tn){return At=Am(At),tn===s?(tn=At,At=0):tn=Am(tn),vt=Lp(vt),xr(vt,At,tn)}function BR(vt,At,tn){if(tn&&typeof tn!="boolean"&&Kl(vt,At,tn)&&(At=tn=s),tn===s&&(typeof At=="boolean"?(tn=At,At=s):typeof vt=="boolean"&&(tn=vt,vt=s)),vt===s&&At===s?(vt=0,At=1):(vt=Am(vt),At===s?(At=vt,vt=0):At=Am(At)),vt>At){var Bn=vt;vt=At,At=Bn}if(tn||vt%1||At%1){var Ln=Wy();return Wl(vt+Ln*(At-vt+cu("1e-"+((Ln+"").length-1))),At)}return iu(vt,At)}var By=Op(function(vt,At,tn){return At=At.toLowerCase(),vt+(tn?wF(At):At)});function wF(vt){return r0(na(vt).toLowerCase())}function EF(vt){return vt=na(vt),vt&&vt.replace(as,y0).replace(pr,"")}function _U(vt,At,tn){vt=na(vt),At=_d(At);var Bn=vt.length;tn=tn===s?Bn:Vt(As(tn),0,Bn);var Ln=tn;return tn-=At.length,tn>=0&&vt.slice(tn,Ln)==At}function BF(vt){return vt=na(vt),vt&&wn.test(vt)?vt.replace(Jn,_0):vt}function TR(vt){return vt=na(vt),vt&&Sn.test(vt)?vt.replace(bn,"\\$&"):vt}var QR=Op(function(vt,At,tn){return vt+(tn?"-":"")+At.toLowerCase()}),nS=Op(function(vt,At,tn){return vt+(tn?" ":"")+At.toLowerCase()}),rS=Zm("toLowerCase");function iv(vt,At,tn){vt=na(vt),At=As(At);var Bn=At?oy(vt):0;if(!At||Bn>=At)return vt;var Ln=(At-Bn)/2;return Iv(dy(Ln),tn)+vt+Iv(Py(Ln),tn)}function Xm(vt,At,tn){vt=na(vt),At=As(At);var Bn=At?oy(vt):0;return At&&Bn<At?vt+Iv(At-Bn,tn):vt}function TF(vt,At,tn){vt=na(vt),At=As(At);var Bn=At?oy(vt):0;return At&&Bn<At?Iv(At-Bn,tn)+vt:vt}function o_(vt,At,tn){return tn||At==null?At=0:At&&(At=+At),Pu(na(vt).replace(Zn,""),At||0)}function s_(vt,At,tn){return(tn?Kl(vt,At,tn):At===s)?At=1:At=As(At),Np(na(vt),At)}function am(){var vt=arguments,At=na(vt[0]);return vt.length<3?At:At.replace(vt[1],vt[2])}var lm=Op(function(vt,At,tn){return vt+(tn?"_":"")+At.toLowerCase()});function xR(vt,At,tn){return tn&&typeof tn!="number"&&Kl(vt,At,tn)&&(At=tn=s),tn=tn===s?$t:tn>>>0,tn?(vt=na(vt),vt&&(typeof At=="string"||At!=null&&!aU(At))&&(At=_d(At),!At&&Dm(vt))?zm(Ou(vt),0,tn):vt.split(At,tn)):[]}var iS=Op(function(vt,At,tn){return vt+(tn?" ":"")+r0(At)});function AR(vt,At,tn){return vt=na(vt),tn=tn==null?0:Vt(As(tn),0,vt.length),At=_d(At),vt.slice(tn,tn+At.length)==At}function QF(vt,At,tn){var Bn=Kn.templateSettings;tn&&Kl(vt,At,tn)&&(At=s),vt=na(vt),At=$m({},At,Bn,rm);var Ln=$m({},At.imports,Bn.imports,rm),sr=su(Ln),Ur=m0(Ln,sr),Tr,Or,uo=0,so=At.interpolate||Eo,po="__p += '",No=S0((At.escape||Eo).source+"|"+so.source+"|"+(so===Wn?Kr:Eo).source+"|"+(At.evaluate||Eo).source+"|$","g"),jo="//# sourceURL="+(Ys.call(At,"sourceURL")?(At.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Po+"]")+`
`;vt.replace(No,function(ps,Vs,Ls,Ju,ju,ap){return Ls||(Ls=Ju),po+=vt.slice(uo,ap).replace(Qs,Bp),Vs&&(Tr=!0,po+=`' +
__e(`+Vs+`) +
'`),ju&&(Or=!0,po+=`';
`+ju+`;
__p += '`),Ls&&(po+=`' +
((__t = (`+Ls+`)) == null ? '' : __t) +
'`),uo=ap+ps.length,ps}),po+=`';
`;var ts=Ys.call(At,"variable")&&At.variable;if(!ts)po=`with (obj) {
`+po+`
}
`;else if(Er.test(ts))throw new ys(j);po=(Or?po.replace(Gr,""):po).replace(Cn,"$1").replace(Mn,"$1;"),po="function("+(ts||"obj")+`) {
`+(ts?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Tr?", __e = _.escape":"")+(Or?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+po+`return __p
}`;var Es=ov(function(){return Js(sr,jo+"return "+po).apply(s,Ur)});if(Es.source=po,X0(Es))throw Es;return Es}function Cm(vt){return na(vt).toLowerCase()}function n0(vt){return na(vt).toUpperCase()}function oS(vt,At,tn){if(vt=na(vt),vt&&(tn||At===s))return Vy(vt);if(!vt||!(At=_d(At)))return vt;var Bn=Ou(vt),Ln=Ou(At),sr=ny(Bn,Ln),Ur=ry(Bn,Ln)+1;return zm(Bn,sr,Ur).join("")}function sS(vt,At,tn){if(vt=na(vt),vt&&(tn||At===s))return vt.slice(0,mv(vt)+1);if(!vt||!(At=_d(At)))return vt;var Bn=Ou(vt),Ln=ry(Bn,Ou(At))+1;return zm(Bn,0,Ln).join("")}function CR(vt,At,tn){if(vt=na(vt),vt&&(tn||At===s))return vt.replace(Zn,"");if(!vt||!(At=_d(At)))return vt;var Bn=Ou(vt),Ln=ny(Bn,Ou(At));return zm(Bn,Ln).join("")}function vU(vt,At){var tn=St,Bn=Pt;if(Ol(At)){var Ln="separator"in At?At.separator:Ln;tn="length"in At?As(At.length):tn,Bn="omission"in At?_d(At.omission):Bn}vt=na(vt);var sr=vt.length;if(Dm(vt)){var Ur=Ou(vt);sr=Ur.length}if(tn>=sr)return vt;var Tr=tn-oy(Bn);if(Tr<1)return Bn;var Or=Ur?zm(Ur,0,Tr).join(""):vt.slice(0,Tr);if(Ln===s)return Or+Bn;if(Ur&&(Tr+=Or.length-Tr),aU(Ln)){if(vt.slice(Tr).search(Ln)){var uo,so=Or;for(Ln.global||(Ln=S0(Ln.source,na(Hr.exec(Ln))+"g")),Ln.lastIndex=0;uo=Ln.exec(so);)var po=uo.index;Or=Or.slice(0,po===s?Tr:po)}}else if(vt.indexOf(_d(Ln),Tr)!=Tr){var No=Or.lastIndexOf(Ln);No>-1&&(Or=Or.slice(0,No))}return Or+Bn}function xF(vt){return vt=na(vt),vt&&pn.test(vt)?vt.replace(Hn,U0):vt}var a_=Op(function(vt,At,tn){return vt+(tn?" ":"")+At.toUpperCase()}),r0=Zm("toUpperCase");function l_(vt,At,tn){return vt=na(vt),At=tn?s:At,At===s?S_(vt)?B_(vt):dm(vt):vt.match(At)||[]}var ov=es(function(vt,At){try{return bu(vt,s,At)}catch(tn){return X0(tn)?tn:new ys(tn)}}),aS=wm(function(vt,At){return Uu(At,function(tn){tn=om(tn),ht(vt,tn,e0(vt[tn],vt))}),vt});function sv(vt){var At=vt==null?0:vt.length,tn=ls();return vt=At?_l(vt,function(Bn){if(typeof Bn[1]!="function")throw new Cu(et);return[tn(Bn[0]),Bn[1]]}):[],es(function(Bn){for(var Ln=-1;++Ln<At;){var sr=vt[Ln];if(bu(sr[0],this,Bn))return bu(sr[1],this,Bn)}})}function AF(vt){return Kt(Lt(vt,gt))}function bU(vt){return function(){return vt}}function c_(vt,At){return vt==null||vt!==vt?At:vt}var lS=ZF(),cS=ZF(!0);function sp(vt){return vt}function CF(vt){return gs(typeof vt=="function"?vt:Lt(vt,gt))}function uS(vt){return uu(Lt(vt,gt))}function i0(vt,At){return vp(vt,Lt(At,gt))}var kR=es(function(vt,At){return function(tn){return Vr(tn,vt,At)}}),Ty=es(function(vt,At){return function(tn){return Vr(vt,tn,At)}});function kF(vt,At,tn){var Bn=su(At),Ln=br(At,Bn);tn==null&&!(Ol(At)&&(Ln.length||!Bn.length))&&(tn=At,At=vt,vt=this,Ln=br(At,su(At)));var sr=!(Ol(tn)&&"chain"in tn)||!!tn.chain,Ur=Hm(vt);return Uu(Ln,function(Tr){var Or=At[Tr];vt[Tr]=Or,Ur&&(vt.prototype[Tr]=function(){var uo=this.__chain__;if(sr||uo){var so=vt(this.__wrapped__),po=so.__actions__=_f(this.__actions__);return po.push({func:Or,args:arguments,thisArg:vt}),so.__chain__=uo,so}return Or.apply(vt,gp([this.value()],arguments))})}),vt}function av(){return xl._===this&&(xl._=_v),this}function o0(){}function lv(vt){return vt=As(vt),es(function(At){return Is(At,vt)})}var cv=GU(_l),UU=GU(pp),MR=GU(ky);function hS(vt){return Jv(vt)?ey(om(vt)):Mu(vt)}function u_(vt){return function(At){return vt==null?s:ur(vt,At)}}var FU=Xo(),NR=Xo(!0);function SU(){return[]}function RU(){return!1}function VR(){return{}}function dS(){return""}function DR(){return!0}function fS(vt,At){if(vt=As(vt),vt<1||vt>Ht)return[];var tn=$t,Bn=Wl(vt,$t);At=ls(At),vt-=$t;for(var Ln=ty(Bn,At);++tn<vt;)At(tn);return Ln}function OR(vt){return ws(vt)?_l(vt,om):Rp(vt)?[vt]:_f(Hv(na(vt)))}function pS(vt){var At=++xp;return na(vt)+At}var IR=ep(function(vt,At){return vt+At},0),PR=Ms("ceil"),wU=ep(function(vt,At){return vt/At},1),EU=Ms("floor");function BU(vt){return vt&&vt.length?or(vt,sp,Wr):s}function LR(vt,At){return vt&&vt.length?or(vt,ls(At,2),Wr):s}function MF(vt){return v_(vt,sp)}function NF(vt,At){return v_(vt,ls(At,2))}function Qy(vt){return vt&&vt.length?or(vt,sp,Os):s}function WR(vt,At){return vt&&vt.length?or(vt,ls(At,2),Os):s}var VF=ep(function(vt,At){return vt*At},1),gS=Ms("round"),TU=ep(function(vt,At){return vt-At},0);function JR(vt){return vt&&vt.length?Ny(vt,sp):0}function jR(vt,At){return vt&&vt.length?Ny(vt,ls(At,2)):0}return Kn.after=K_,Kn.ary=H0,Kn.assign=wp,Kn.assignIn=t_,Kn.assignInWith=$m,Kn.assignWith=bF,Kn.at=hU,Kn.before=dF,Kn.bind=e0,Kn.bindAll=aS,Kn.bindKey=fF,Kn.castArray=rR,Kn.chain=Z0,Kn.chunk=KU,Kn.compact=n1,Kn.concat=z_,Kn.cond=sv,Kn.conforms=AF,Kn.constant=bU,Kn.countBy=jS,Kn.create=_R,Kn.curry=E1,Kn.curryRight=pF,Kn.debounce=gF,Kn.defaults=W1,Kn.defaultsDeep=J1,Kn.defer=B1,Kn.delay=T1,Kn.difference=Z_,Kn.differenceBy=Sp,Kn.differenceWith=G_,Kn.drop=Nu,Kn.dropRight=Ip,Kn.dropRightWhile=eF,Kn.dropWhile=Zl,Kn.fill=r1,Kn.filter=uF,Kn.flatMap=ZS,Kn.flatMapDeep=GS,Kn.flatMapDepth=HS,Kn.flatten=i1,Kn.flattenDeep=RS,Kn.flattenDepth=o1,Kn.flip=Q1,Kn.flow=lS,Kn.flowRight=cS,Kn.fromPairs=s1,Kn.functions=G1,Kn.functionsIn=Ym,Kn.groupBy=tU,Kn.initial=l1,Kn.intersection=c1,Kn.intersectionBy=u1,Kn.intersectionWith=wS,Kn.invert=$1,Kn.invertBy=UR,Kn.invokeMap=S1,Kn.iteratee=CF,Kn.keyBy=G0,Kn.keys=su,Kn.keysIn=Wu,Kn.map=nU,Kn.mapKeys=rv,Kn.mapValues=Y1,Kn.matches=uS,Kn.matchesProperty=i0,Kn.memoize=ev,Kn.merge=X1,Kn.mergeWith=pU,Kn.method=kR,Kn.methodOf=Ty,Kn.mixin=kF,Kn.negate=sU,Kn.nthArg=lv,Kn.omit=n_,Kn.omitBy=q1,Kn.once=nR,Kn.orderBy=YS,Kn.over=cv,Kn.overArgs=x1,Kn.overEvery=UU,Kn.overSome=MR,Kn.partial=$0,Kn.partialRight=mF,Kn.partition=XS,Kn.pick=gU,Kn.pickBy=FF,Kn.property=hS,Kn.propertyOf=u_,Kn.pull=d1,Kn.pullAll=f1,Kn.pullAllBy=p1,Kn.pullAllWith=ES,Kn.pullAt=BS,Kn.range=FU,Kn.rangeRight=NR,Kn.rearg=Du,Kn.reject=qS,Kn.remove=g1,Kn.rest=tv,Kn.reverse=$v,Kn.sampleSize=eR,Kn.set=yU,Kn.setWith=SR,Kn.shuffle=hF,Kn.slice=m1,Kn.sortBy=tR,Kn.sortedUniq=xS,Kn.sortedUniqBy=AS,Kn.split=xR,Kn.spread=Y0,Kn.tail=H_,Kn.take=Yv,Kn.takeRight=y1,Kn.takeRightWhile=Ky,Kn.takeWhile=$_,Kn.tap=v1,Kn.throttle=nv,Kn.thru=Y_,Kn.toArray=t0,Kn.toPairs=K1,Kn.toPairsIn=eS,Kn.toPath=OR,Kn.toPlainObject=uU,Kn.transform=RR,Kn.unary=A1,Kn.union=CS,Kn.unionBy=kS,Kn.unionWith=NS,Kn.uniq=VS,Kn.uniqBy=DS,Kn.uniqWith=IS,Kn.unset=wR,Kn.unzip=oF,Kn.unzipWith=Xv,Kn.update=r_,Kn.updateWith=SF,Kn.values=i_,Kn.valuesIn=tS,Kn.without=PS,Kn.words=l_,Kn.wrap=C1,Kn.xor=z0,Kn.xorBy=LS,Kn.xorWith=Dl,Kn.zip=qv,Kn.zipObject=_1,Kn.zipObjectDeep=Kv,Kn.zipWith=_b,Kn.entries=K1,Kn.entriesIn=eS,Kn.extend=t_,Kn.extendWith=$m,kF(Kn,Kn),Kn.add=IR,Kn.attempt=ov,Kn.camelCase=By,Kn.capitalize=wF,Kn.ceil=PR,Kn.clamp=ER,Kn.clone=iR,Kn.cloneDeep=sR,Kn.cloneDeepWith=aR,Kn.cloneWith=oR,Kn.conformsTo=lR,Kn.deburr=EF,Kn.defaultTo=c_,Kn.divide=wU,Kn.endsWith=_U,Kn.eq=ip,Kn.escape=BF,Kn.escapeRegExp=TR,Kn.every=cF,Kn.find=eU,Kn.findIndex=j0,Kn.findKey=vR,Kn.findLast=zS,Kn.findLastIndex=Pp,Kn.findLastKey=j1,Kn.floor=EU,Kn.forEach=U1,Kn.forEachRight=F1,Kn.forIn=z1,Kn.forInRight=UF,Kn.forOwn=Z1,Kn.forOwnRight=bR,Kn.get=dU,Kn.gt=cR,Kn.gte=k1,Kn.has=H1,Kn.hasIn=fU,Kn.head=Sy,Kn.identity=sp,Kn.includes=$S,Kn.indexOf=a1,Kn.inRange=RF,Kn.invoke=FR,Kn.isArguments=Ry,Kn.isArray=ws,Kn.isArrayBuffer=uR,Kn.isArrayLike=op,Kn.isArrayLikeObject=_c,Kn.isBoolean=hR,Kn.isBuffer=wy,Kn.isDate=M1,Kn.isElement=dR,Kn.isEmpty=pu,Kn.isEqual=Tm,Kn.isEqualWith=yF,Kn.isError=X0,Kn.isFinite=q0,Kn.isFunction=Hm,Kn.isInteger=N1,Kn.isLength=Ey,Kn.isMap=K0,Kn.isMatch=V1,Kn.isMatchWith=D1,Kn.isNaN=Ks,Kn.isNative=_F,Kn.isNil=I1,Kn.isNull=O1,Kn.isNumber=Qm,Kn.isObject=Ol,Kn.isObjectLike=Gl,Kn.isPlainObject=xm,Kn.isRegExp=aU,Kn.isSafeInteger=fR,Kn.isSet=P1,Kn.isString=lU,Kn.isSymbol=Rp,Kn.isTypedArray=e_,Kn.isUndefined=pR,Kn.isWeakMap=gR,Kn.isWeakSet=mR,Kn.join=tF,Kn.kebabCase=QR,Kn.last=np,Kn.lastIndexOf=nF,Kn.lowerCase=nS,Kn.lowerFirst=rS,Kn.lt=yR,Kn.lte=cU,Kn.max=BU,Kn.maxBy=LR,Kn.mean=MF,Kn.meanBy=NF,Kn.min=Qy,Kn.minBy=WR,Kn.stubArray=SU,Kn.stubFalse=RU,Kn.stubObject=VR,Kn.stubString=dS,Kn.stubTrue=DR,Kn.multiply=VF,Kn.nth=Vu,Kn.noConflict=av,Kn.noop=o0,Kn.now=oU,Kn.pad=iv,Kn.padEnd=Xm,Kn.padStart=TF,Kn.parseInt=o_,Kn.random=BR,Kn.reduce=R1,Kn.reduceRight=w1,Kn.repeat=s_,Kn.replace=am,Kn.result=mU,Kn.round=gS,Kn.runInContext=kr,Kn.sample=KS,Kn.size=rU,Kn.snakeCase=lm,Kn.some=iU,Kn.sortedIndex=rF,Kn.sortedIndexBy=Gm,Kn.sortedIndexOf=rp,Kn.sortedLastIndex=TS,Kn.sortedLastIndexBy=iF,Kn.sortedLastIndexOf=QS,Kn.startCase=iS,Kn.startsWith=AR,Kn.subtract=TU,Kn.sum=JR,Kn.sumBy=jR,Kn.template=QF,Kn.times=fS,Kn.toFinite=Am,Kn.toInteger=As,Kn.toLength=L1,Kn.toLower=Cm,Kn.toNumber=Lp,Kn.toSafeInteger=vF,Kn.toString=na,Kn.toUpper=n0,Kn.trim=oS,Kn.trimEnd=sS,Kn.trimStart=CR,Kn.truncate=vU,Kn.unescape=xF,Kn.uniqueId=pS,Kn.upperCase=a_,Kn.upperFirst=r0,Kn.each=U1,Kn.eachRight=F1,Kn.first=Sy,kF(Kn,function(){var vt={};return tr(Kn,function(At,tn){Ys.call(Kn.prototype,tn)||(vt[tn]=At)}),vt}(),{chain:!1}),Kn.VERSION=_,Uu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(vt){Kn[vt].placeholder=Kn}),Uu(["drop","take"],function(vt,At){ks.prototype[vt]=function(tn){tn=tn===s?1:Ll(As(tn),0);var Bn=this.__filtered__&&!At?new ks(this):this.clone();return Bn.__filtered__?Bn.__takeCount__=Wl(tn,Bn.__takeCount__):Bn.__views__.push({size:Wl(tn,$t),type:vt+(Bn.__dir__<0?"Right":"")}),Bn},ks.prototype[vt+"Right"]=function(tn){return this.reverse()[vt](tn).reverse()}}),Uu(["filter","map","takeWhile"],function(vt,At){var tn=At+1,Bn=tn==qt||tn==Wt;ks.prototype[vt]=function(Ln){var sr=this.clone();return sr.__iteratees__.push({iteratee:ls(Ln,3),type:tn}),sr.__filtered__=sr.__filtered__||Bn,sr}}),Uu(["head","last"],function(vt,At){var tn="take"+(At?"Right":"");ks.prototype[vt]=function(){return this[tn](1).value()[0]}}),Uu(["initial","tail"],function(vt,At){var tn="drop"+(At?"":"Right");ks.prototype[vt]=function(){return this.__filtered__?new ks(this):this[tn](1)}}),ks.prototype.compact=function(){return this.filter(sp)},ks.prototype.find=function(vt){return this.filter(vt).head()},ks.prototype.findLast=function(vt){return this.reverse().find(vt)},ks.prototype.invokeMap=es(function(vt,At){return typeof vt=="function"?new ks(this):this.map(function(tn){return Vr(tn,vt,At)})}),ks.prototype.reject=function(vt){return this.filter(sU(ls(vt)))},ks.prototype.slice=function(vt,At){vt=As(vt);var tn=this;return tn.__filtered__&&(vt>0||At<0)?new ks(tn):(vt<0?tn=tn.takeRight(-vt):vt&&(tn=tn.drop(vt)),At!==s&&(At=As(At),tn=At<0?tn.dropRight(-At):tn.take(At-vt)),tn)},ks.prototype.takeRightWhile=function(vt){return this.reverse().takeWhile(vt).reverse()},ks.prototype.toArray=function(){return this.take($t)},tr(ks.prototype,function(vt,At){var tn=/^(?:filter|find|map|reject)|While$/.test(At),Bn=/^(?:head|last)$/.test(At),Ln=Kn[Bn?"take"+(At=="last"?"Right":""):At],sr=Bn||/^find/.test(At);Ln&&(Kn.prototype[At]=function(){var Ur=this.__wrapped__,Tr=Bn?[1]:arguments,Or=Ur instanceof ks,uo=Tr[0],so=Or||ws(Ur),po=function(Vs){var Ls=Ln.apply(Kn,gp([Vs],Tr));return Bn&&No?Ls[0]:Ls};so&&tn&&typeof uo=="function"&&uo.length!=1&&(Or=so=!1);var No=this.__chain__,jo=!!this.__actions__.length,ts=sr&&!No,Es=Or&&!jo;if(!sr&&so){Ur=Es?Ur:new ks(this);var ps=vt.apply(Ur,Tr);return ps.__actions__.push({func:Y_,args:[po],thisArg:s}),new ku(ps,No)}return ts&&Es?vt.apply(this,Tr):(ps=this.thru(po),ts?Bn?ps.value()[0]:ps.value():ps)})}),Uu(["pop","push","shift","sort","splice","unshift"],function(vt){var At=Qp[vt],tn=/^(?:push|sort|unshift)$/.test(vt)?"tap":"thru",Bn=/^(?:pop|shift)$/.test(vt);Kn.prototype[vt]=function(){var Ln=arguments;if(Bn&&!this.__chain__){var sr=this.value();return At.apply(ws(sr)?sr:[],Ln)}return this[tn](function(Ur){return At.apply(ws(Ur)?Ur:[],Ln)})}}),tr(ks.prototype,function(vt,At){var tn=Kn[At];if(tn){var Bn=tn.name+"";Ys.call(Pm,Bn)||(Pm[Bn]=[]),Pm[Bn].push({name:At,func:tn})}}),Pm[I_(s,Qt).name]=[{name:"wrapper",func:s}],ks.prototype.clone=CU,ks.prototype.reverse=kU,ks.prototype.value=Kp,Kn.prototype.at=X_,Kn.prototype.chain=sF,Kn.prototype.commit=aF,Kn.prototype.next=WS,Kn.prototype.plant=q_,Kn.prototype.reverse=JS,Kn.prototype.toJSON=Kn.prototype.valueOf=Kn.prototype.value=lF,Kn.prototype.first=Kn.prototype.head,Hp&&(Kn.prototype[Hp]=b1),Kn},ay=sy();Ep?((Ep.exports=ay)._=ay,Cy._=ay):xl._=ay}).call(commonjsGlobal)})(lodash,lodash.exports);var lib={},uaParser_min={exports:{}};(function(i,o){(function(s,_){var $="1.0.2",_e="",et="?",j="function",nt="undefined",ot="object",ct="string",gt="major",pt="model",ft="name",ut="type",yt="vendor",wt="version",Qt="architecture",It="console",xt="mobile",Tt="tablet",mt="smarttv",Nt="wearable",en="embedded",rn=255,Ft="Amazon",St="Apple",Pt="ASUS",Bt="BlackBerry",jt="Browser",qt="Chrome",Zt="Edge",Wt="Firefox",Gt="Google",Ht="Huawei",kt="LG",Rt="Microsoft",$t="Motorola",nn="Opera",Un="Samsung",Fn="Sony",En="Xiaomi",fn="Zebra",sn="Facebook",Ct=function(lo,Vo){var Io={};for(var Go in lo)Vo[Go]&&Vo[Go].length%2===0?Io[Go]=Vo[Go].concat(lo[Go]):Io[Go]=lo[Go];return Io},Dt=function(lo){for(var Vo={},Io=0;Io<lo.length;Io++)Vo[lo[Io].toUpperCase()]=lo[Io];return Vo},Xt=function(lo,Vo){return typeof lo===ct?_n(Vo).indexOf(_n(lo))!==-1:!1},_n=function(lo){return lo.toLowerCase()},mn=function(lo){return typeof lo===ct?lo.replace(/[^\d\.]/g,_e).split(".")[0]:_},xn=function(lo,Vo){if(typeof lo===ct)return lo=lo.replace(/^\s\s*/,_e).replace(/\s\s*$/,_e),typeof Vo===nt?lo:lo.substring(0,rn)},On=function(lo,Vo){for(var Io=0,Go,rs,$o,ds,ba,Ss;Io<Vo.length&&!ba;){var Fs=Vo[Io],Yl=Vo[Io+1];for(Go=rs=0;Go<Fs.length&&!ba;)if(ba=Fs[Go++].exec(lo),ba)for($o=0;$o<Yl.length;$o++)Ss=ba[++rs],ds=Yl[$o],typeof ds===ot&&ds.length>0?ds.length===2?typeof ds[1]==j?this[ds[0]]=ds[1].call(this,Ss):this[ds[0]]=ds[1]:ds.length===3?typeof ds[1]===j&&!(ds[1].exec&&ds[1].test)?this[ds[0]]=Ss?ds[1].call(this,Ss,ds[2]):_:this[ds[0]]=Ss?Ss.replace(ds[1],ds[2]):_:ds.length===4&&(this[ds[0]]=Ss?ds[3].call(this,Ss.replace(ds[1],ds[2])):_):this[ds]=Ss||_;Io+=2}},nr=function(lo,Vo){for(var Io in Vo)if(typeof Vo[Io]===ot&&Vo[Io].length>0){for(var Go=0;Go<Vo[Io].length;Go++)if(Xt(Vo[Io][Go],lo))return Io===et?_:Io}else if(Xt(Vo[Io],lo))return Io===et?_:Io;return lo},Nr={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},co={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Zr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[wt,[ft,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[wt,[ft,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ft,wt],[/opios[\/ ]+([\w\.]+)/i],[wt,[ft,nn+" Mini"]],[/\bopr\/([\w\.]+)/i],[wt,[ft,nn]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[ft,wt],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[wt,[ft,"UC"+jt]],[/\bqbcore\/([\w\.]+)/i],[wt,[ft,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[wt,[ft,"WeChat"]],[/konqueror\/([\w\.]+)/i],[wt,[ft,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[wt,[ft,"IE"]],[/yabrowser\/([\w\.]+)/i],[wt,[ft,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[ft,/(.+)/,"$1 Secure "+jt],wt],[/\bfocus\/([\w\.]+)/i],[wt,[ft,Wt+" Focus"]],[/\bopt\/([\w\.]+)/i],[wt,[ft,nn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[wt,[ft,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[wt,[ft,"Dolphin"]],[/coast\/([\w\.]+)/i],[wt,[ft,nn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[wt,[ft,"MIUI "+jt]],[/fxios\/([-\w\.]+)/i],[wt,[ft,Wt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[ft,"360 "+jt]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[ft,/(.+)/,"$1 "+jt],wt],[/(comodo_dragon)\/([\w\.]+)/i],[[ft,/_/g," "],wt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[ft,wt],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[ft],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ft,sn],wt],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[ft,wt],[/\bgsa\/([\w\.]+) .*safari\//i],[wt,[ft,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[wt,[ft,qt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ft,qt+" WebView"],wt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[wt,[ft,"Android "+jt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ft,wt],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[wt,[ft,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[wt,ft],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ft,[wt,nr,Nr]],[/(webkit|khtml)\/([\w\.]+)/i],[ft,wt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ft,"Netscape"],wt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[wt,[ft,Wt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[ft,wt]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Qt,"amd64"]],[/(ia32(?=;))/i],[[Qt,_n]],[/((?:i[346]|x)86)[;\)]/i],[[Qt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Qt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Qt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Qt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Qt,/ower/,_e,_n]],[/(sun4\w)[;\)]/i],[[Qt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Qt,_n]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[pt,[yt,Un],[ut,Tt]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[pt,[yt,Un],[ut,xt]],[/\((ip(?:hone|od)[\w ]*);/i],[pt,[yt,St],[ut,xt]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[pt,[yt,St],[ut,Tt]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[pt,[yt,Ht],[ut,Tt]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[pt,[yt,Ht],[ut,xt]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[pt,/_/g," "],[yt,En],[ut,xt]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[pt,/_/g," "],[yt,En],[ut,Tt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[pt,[yt,"OPPO"],[ut,xt]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[pt,[yt,"Vivo"],[ut,xt]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[pt,[yt,"Realme"],[ut,xt]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[pt,[yt,$t],[ut,xt]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[pt,[yt,$t],[ut,Tt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[pt,[yt,kt],[ut,Tt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[pt,[yt,kt],[ut,xt]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[pt,[yt,"Lenovo"],[ut,Tt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[pt,/_/g," "],[yt,"Nokia"],[ut,xt]],[/(pixel c)\b/i],[pt,[yt,Gt],[ut,Tt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[pt,[yt,Gt],[ut,xt]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[pt,[yt,Fn],[ut,xt]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[pt,"Xperia Tablet"],[yt,Fn],[ut,Tt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[pt,[yt,"OnePlus"],[ut,xt]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[pt,[yt,Ft],[ut,Tt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[pt,/(.+)/g,"Fire Phone $1"],[yt,Ft],[ut,xt]],[/(playbook);[-\w\),; ]+(rim)/i],[pt,yt,[ut,Tt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[pt,[yt,Bt],[ut,xt]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[pt,[yt,Pt],[ut,Tt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[pt,[yt,Pt],[ut,xt]],[/(nexus 9)/i],[pt,[yt,"HTC"],[ut,Tt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[yt,[pt,/_/g," "],[ut,xt]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[pt,[yt,"Acer"],[ut,Tt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[pt,[yt,"Meizu"],[ut,xt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[pt,[yt,"Sharp"],[ut,xt]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[yt,pt,[ut,xt]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[yt,pt,[ut,Tt]],[/(surface duo)/i],[pt,[yt,Rt],[ut,Tt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[pt,[yt,"Fairphone"],[ut,xt]],[/(u304aa)/i],[pt,[yt,"AT&T"],[ut,xt]],[/\bsie-(\w*)/i],[pt,[yt,"Siemens"],[ut,xt]],[/\b(rct\w+) b/i],[pt,[yt,"RCA"],[ut,Tt]],[/\b(venue[\d ]{2,7}) b/i],[pt,[yt,"Dell"],[ut,Tt]],[/\b(q(?:mv|ta)\w+) b/i],[pt,[yt,"Verizon"],[ut,Tt]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[pt,[yt,"Barnes & Noble"],[ut,Tt]],[/\b(tm\d{3}\w+) b/i],[pt,[yt,"NuVision"],[ut,Tt]],[/\b(k88) b/i],[pt,[yt,"ZTE"],[ut,Tt]],[/\b(nx\d{3}j) b/i],[pt,[yt,"ZTE"],[ut,xt]],[/\b(gen\d{3}) b.+49h/i],[pt,[yt,"Swiss"],[ut,xt]],[/\b(zur\d{3}) b/i],[pt,[yt,"Swiss"],[ut,Tt]],[/\b((zeki)?tb.*\b) b/i],[pt,[yt,"Zeki"],[ut,Tt]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[yt,"Dragon Touch"],pt,[ut,Tt]],[/\b(ns-?\w{0,9}) b/i],[pt,[yt,"Insignia"],[ut,Tt]],[/\b((nxa|next)-?\w{0,9}) b/i],[pt,[yt,"NextBook"],[ut,Tt]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[yt,"Voice"],pt,[ut,xt]],[/\b(lvtel\-)?(v1[12]) b/i],[[yt,"LvTel"],pt,[ut,xt]],[/\b(ph-1) /i],[pt,[yt,"Essential"],[ut,xt]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[pt,[yt,"Envizen"],[ut,Tt]],[/\b(trio[-\w\. ]+) b/i],[pt,[yt,"MachSpeed"],[ut,Tt]],[/\btu_(1491) b/i],[pt,[yt,"Rotor"],[ut,Tt]],[/(shield[\w ]+) b/i],[pt,[yt,"Nvidia"],[ut,Tt]],[/(sprint) (\w+)/i],[yt,pt,[ut,xt]],[/(kin\.[onetw]{3})/i],[[pt,/\./g," "],[yt,Rt],[ut,xt]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[pt,[yt,fn],[ut,Tt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[pt,[yt,fn],[ut,xt]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[yt,pt,[ut,It]],[/droid.+; (shield) bui/i],[pt,[yt,"Nvidia"],[ut,It]],[/(playstation [345portablevi]+)/i],[pt,[yt,Fn],[ut,It]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[pt,[yt,Rt],[ut,It]],[/smart-tv.+(samsung)/i],[yt,[ut,mt]],[/hbbtv.+maple;(\d+)/i],[[pt,/^/,"SmartTV"],[yt,Un],[ut,mt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[yt,kt],[ut,mt]],[/(apple) ?tv/i],[yt,[pt,St+" TV"],[ut,mt]],[/crkey/i],[[pt,qt+"cast"],[yt,Gt],[ut,mt]],[/droid.+aft(\w)( bui|\))/i],[pt,[yt,Ft],[ut,mt]],[/\(dtv[\);].+(aquos)/i],[pt,[yt,"Sharp"],[ut,mt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[yt,xn],[pt,xn],[ut,mt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[ut,mt]],[/((pebble))app/i],[yt,pt,[ut,Nt]],[/droid.+; (glass) \d/i],[pt,[yt,Gt],[ut,Nt]],[/droid.+; (wt63?0{2,3})\)/i],[pt,[yt,fn],[ut,Nt]],[/(quest( 2)?)/i],[pt,[yt,sn],[ut,Nt]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[yt,[ut,en]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[pt,[ut,xt]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[pt,[ut,Tt]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[ut,Tt]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[ut,xt]],[/(android[-\w\. ]{0,9});.+buil/i],[pt,[yt,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[wt,[ft,Zt+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[wt,[ft,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[ft,wt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[wt,ft]],os:[[/microsoft (windows) (vista|xp)/i],[ft,wt],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[ft,[wt,nr,co]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[ft,"Windows"],[wt,nr,co]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[wt,/_/g,"."],[ft,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ft,"Mac OS"],[wt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[wt,ft],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ft,wt],[/\(bb(10);/i],[wt,[ft,Bt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[wt,[ft,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[wt,[ft,Wt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[wt,[ft,"webOS"]],[/crkey\/([\d\.]+)/i],[wt,[ft,qt+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[ft,"Chromium OS"],wt],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ft,wt],[/(sunos) ?([\w\.\d]*)/i],[[ft,"Solaris"],wt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[ft,wt]]},mo=function(lo,Vo){if(typeof lo===ot&&(Vo=lo,lo=_),!(this instanceof mo))return new mo(lo,Vo).getResult();var Io=lo||(typeof s!==nt&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:_e),Go=Vo?Ct(Zr,Vo):Zr;return this.getBrowser=function(){var rs={};return rs[ft]=_,rs[wt]=_,On.call(rs,Io,Go.browser),rs.major=mn(rs.version),rs},this.getCPU=function(){var rs={};return rs[Qt]=_,On.call(rs,Io,Go.cpu),rs},this.getDevice=function(){var rs={};return rs[yt]=_,rs[pt]=_,rs[ut]=_,On.call(rs,Io,Go.device),rs},this.getEngine=function(){var rs={};return rs[ft]=_,rs[wt]=_,On.call(rs,Io,Go.engine),rs},this.getOS=function(){var rs={};return rs[ft]=_,rs[wt]=_,On.call(rs,Io,Go.os),rs},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Io},this.setUA=function(rs){return Io=typeof rs===ct&&rs.length>rn?xn(rs,rn):rs,this},this.setUA(Io),this};mo.VERSION=$,mo.BROWSER=Dt([ft,wt,gt]),mo.CPU=Dt([Qt]),mo.DEVICE=Dt([pt,yt,ut,It,xt,mt,Tt,Nt,en]),mo.ENGINE=mo.OS=Dt([ft,wt]),i.exports&&(o=i.exports=mo),o.UAParser=mo;var qr=typeof s!==nt&&(s.jQuery||s.Zepto);if(qr&&!qr.ua){var io=new mo;qr.ua=io.getResult(),qr.ua.get=function(){return io.getUA()},qr.ua.set=function(lo){io.setUA(lo);var Vo=io.getResult();for(var Io in Vo)qr.ua[Io]=Vo[Io]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser_min,uaParser_min.exports);Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(i){return i&&typeof i=="object"&&"default"in i?i.default:i}var React=React$1,React__default=_interopDefault(React),UAParser=uaParser_min.exports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function i(o){return ClientUAInstance.setUA(o)},parseUserAgent=function i(o){if(!o){console.error("No userAgent string was provided");return}var s=new UAParser(o);return{UA:s,browser:s.getBrowser(),cpu:s.getCPU(),device:s.getDevice(),engine:s.getEngine(),os:s.getOS(),ua:s.getUA(),setUserAgent:function($){return s.setUA($)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(i,o){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function($){return Object.getOwnPropertyDescriptor(i,$).enumerable})),s.push.apply(s,_)}return s}function _objectSpread2(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(s),!0).forEach(function(_){_defineProperty(i,_,s[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(s,_))})}return i}function _typeof(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(i)}function _classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,o){for(var s=0;s<o.length;s++){var _=o[s];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_.key,_)}}function _createClass(i,o,s){return o&&_defineProperties(i.prototype,o),s&&_defineProperties(i,s),i}function _defineProperty(i,o,s){return o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _extends(){return _extends=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])}return i},_extends.apply(this,arguments)}function _inherits(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&_setPrototypeOf(i,o)}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(i)}function _setPrototypeOf(i,o){return _setPrototypeOf=Object.setPrototypeOf||function(_,$){return _.__proto__=$,_},_setPrototypeOf(i,o)}function _objectWithoutPropertiesLoose(i,o){if(i==null)return{};var s={},_=Object.keys(i),$,_e;for(_e=0;_e<_.length;_e++)$=_[_e],!(o.indexOf($)>=0)&&(s[$]=i[$]);return s}function _objectWithoutProperties(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose(i,o),_,$;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(i);for($=0;$<_e.length;$++)_=_e[$],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(s[_]=i[_])}return s}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _possibleConstructorReturn(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _slicedToArray(i,o){return _arrayWithHoles(i)||_iterableToArrayLimit(i,o)||_unsupportedIterableToArray(i,o)||_nonIterableRest()}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _iterableToArrayLimit(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var _=[],$=!0,_e=!1,et,j;try{for(s=s.call(i);!($=(et=s.next()).done)&&(_.push(et.value),!(o&&_.length===o));$=!0);}catch(nt){_e=!0,j=nt}finally{try{!$&&s.return!=null&&s.return()}finally{if(_e)throw j}}return _}}function _unsupportedIterableToArray(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(i,o)}}function _arrayLikeToArray(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,_=new Array(o);s<o;s++)_[s]=i[s];return _}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function i(o){switch(o){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function i(o){return setUa(o)},setDefaults=function i(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return o||s},getNavigatorInstance=function i(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function i(o){var s=getNavigatorInstance();return s&&s.platform&&(s.platform.indexOf(o)!==-1||s.platform==="MacIntel"&&s.maxTouchPoints>1&&!window.MSStream)},browserPayload=function i(o,s,_,$,_e){return{isBrowser:o,browserMajorVersion:setDefaults(s.major),browserFullVersion:setDefaults(s.version),browserName:setDefaults(s.name),engineName:setDefaults(_.name),engineVersion:setDefaults(_.version),osName:setDefaults($.name),osVersion:setDefaults($.version),userAgent:setDefaults(_e)}},mobilePayload=function i(o,s,_,$){return _objectSpread2({},o,{vendor:setDefaults(s.vendor),model:setDefaults(s.model),os:setDefaults(_.name),osVersion:setDefaults(_.version),ua:setDefaults($)})},smartTvPayload=function i(o,s,_,$){return{isSmartTV:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},consolePayload=function i(o,s,_,$){return{isConsole:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},wearablePayload=function i(o,s,_,$){return{isWearable:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},embeddedPayload=function i(o,s,_,$,_e){return{isEmbedded:o,vendor:setDefaults(s.vendor),model:setDefaults(s.model),engineName:setDefaults(_.name),engineVersion:setDefaults(_.version),osName:setDefaults($.name),osVersion:setDefaults($.version),userAgent:setDefaults(_e)}};function deviceDetect(i){var o=i?parseUserAgent(i):UAHelper,s=o.device,_=o.browser,$=o.engine,_e=o.os,et=o.ua,j=checkDeviceType(s.type),nt=j.isBrowser,ot=j.isMobile,ct=j.isTablet,gt=j.isSmartTV,pt=j.isConsole,ft=j.isWearable,ut=j.isEmbedded;if(nt)return browserPayload(nt,_,$,_e,et);if(gt)return smartTvPayload(gt,$,_e,et);if(pt)return consolePayload(pt,$,_e,et);if(ot||ct)return mobilePayload(j,s,_e,et);if(ft)return wearablePayload(ft,$,_e,et);if(ut)return embeddedPayload(ut,s,$,_e,et)}var isMobileType=function i(o){var s=o.type;return s===DeviceTypes.Mobile},isTabletType=function i(o){var s=o.type;return s===DeviceTypes.Tablet},isMobileAndTabletType=function i(o){var s=o.type;return s===DeviceTypes.Mobile||s===DeviceTypes.Tablet},isSmartTVType=function i(o){var s=o.type;return s===DeviceTypes.SmartTv},isBrowserType=function i(o){var s=o.type;return s===DeviceTypes.Browser},isWearableType=function i(o){var s=o.type;return s===DeviceTypes.Wearable},isConsoleType=function i(o){var s=o.type;return s===DeviceTypes.Console},isEmbeddedType=function i(o){var s=o.type;return s===DeviceTypes.Embedded},getMobileVendor=function i(o){var s=o.vendor;return setDefaults(s)},getMobileModel=function i(o){var s=o.model;return setDefaults(s)},getDeviceType=function i(o){var s=o.type;return setDefaults(s,"browser")},isAndroidType=function i(o){var s=o.name;return s===OsTypes.Android},isWindowsType=function i(o){var s=o.name;return s===OsTypes.Windows},isMacOsType=function i(o){var s=o.name;return s===OsTypes.MAC_OS},isWinPhoneType=function i(o){var s=o.name;return s===OsTypes.WindowsPhone},isIOSType=function i(o){var s=o.name;return s===OsTypes.IOS},getOsVersion=function i(o){var s=o.version;return setDefaults(s)},getOsName=function i(o){var s=o.name;return setDefaults(s)},isChromeType=function i(o){var s=o.name;return s===BrowserTypes.Chrome},isFirefoxType=function i(o){var s=o.name;return s===BrowserTypes.Firefox},isChromiumType=function i(o){var s=o.name;return s===BrowserTypes.Chromium},isEdgeType=function i(o){var s=o.name;return s===BrowserTypes.Edge},isYandexType=function i(o){var s=o.name;return s===BrowserTypes.Yandex},isSafariType=function i(o){var s=o.name;return s===BrowserTypes.Safari||s===BrowserTypes.MobileSafari},isMobileSafariType=function i(o){var s=o.name;return s===BrowserTypes.MobileSafari},isOperaType=function i(o){var s=o.name;return s===BrowserTypes.Opera},isIEType=function i(o){var s=o.name;return s===BrowserTypes.InternetExplorer||s===BrowserTypes.Ie},isMIUIType=function i(o){var s=o.name;return s===BrowserTypes.MIUI},isSamsungBrowserType=function i(o){var s=o.name;return s===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function i(o){var s=o.version;return setDefaults(s)},getBrowserVersion=function i(o){var s=o.major;return setDefaults(s)},getBrowserName=function i(o){var s=o.name;return setDefaults(s)},getEngineName=function i(o){var s=o.name;return setDefaults(s)},getEngineVersion=function i(o){var s=o.version;return setDefaults(s)},isElectronType=function i(){var o=getNavigatorInstance(),s=o&&o.userAgent&&o.userAgent.toLowerCase();return typeof s=="string"?/electron/.test(s):!1},isEdgeChromiumType=function i(o){return typeof o=="string"&&o.indexOf("Edg/")!==-1},getIOS13=function i(){var o=getNavigatorInstance();return o&&(/iPad|iPhone|iPod/.test(o.platform)||o.platform==="MacIntel"&&o.maxTouchPoints>1)&&!window.MSStream},getIPad13=function i(){return isIOS13Check("iPad")},getIphone13=function i(){return isIOS13Check("iPhone")},getIPod13=function i(){return isIOS13Check("iPod")},getUseragent=function i(o){return setDefaults(o)};function buildSelectorsObject(i){var o=i||UAHelper,s=o.device,_=o.browser,$=o.os,_e=o.engine,et=o.ua;return{isSmartTV:isSmartTVType(s),isConsole:isConsoleType(s),isWearable:isWearableType(s),isEmbedded:isEmbeddedType(s),isMobileSafari:isMobileSafariType(_)||getIPad13(),isChromium:isChromiumType(_),isMobile:isMobileAndTabletType(s)||getIPad13(),isMobileOnly:isMobileType(s),isTablet:isTabletType(s)||getIPad13(),isBrowser:isBrowserType(s),isDesktop:isBrowserType(s),isAndroid:isAndroidType($),isWinPhone:isWinPhoneType($),isIOS:isIOSType($)||getIPad13(),isChrome:isChromeType(_),isFirefox:isFirefoxType(_),isSafari:isSafariType(_),isOpera:isOperaType(_),isIE:isIEType(_),osVersion:getOsVersion($),osName:getOsName($),fullBrowserVersion:getBrowserFullVersion(_),browserVersion:getBrowserVersion(_),browserName:getBrowserName(_),mobileVendor:getMobileVendor(s),mobileModel:getMobileModel(s),engineName:getEngineName(_e),engineVersion:getEngineVersion(_e),getUA:getUseragent(et),isEdge:isEdgeType(_)||isEdgeChromiumType(et),isYandex:isYandexType(_),deviceType:getDeviceType(s),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(et),isLegacyEdge:isEdgeType(_)&&!isEdgeChromiumType(et),isWindows:isWindowsType($),isMacOs:isMacOsType($),isMIUI:isMIUIType(_),isSamsungBrowser:isSamsungBrowserType(_)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function i(o){if(!o||typeof o!="string"){console.error("No valid user agent string was provided");return}var s=parseUserAgent(o),_=s.device,$=s.browser,_e=s.os,et=s.engine,j=s.ua;return buildSelectorsObject({device:_,browser:$,os:_e,engine:et,ua:j})},AndroidView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isAndroid?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},BrowserView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isBrowser?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},IEView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIE?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},IOSView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIOS?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},MobileView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isMobile?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},TabletView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isTablet?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},WinPhoneView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWinPhone?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},MobileOnlyView=function i(o){var s=o.renderWithFragment,_=o.children;o.viewClassName,o.style;var $=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},SmartTVView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isSmartTV?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},ConsoleView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isConsole?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},WearableView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWearable?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},CustomView=function i(o){var s=o.renderWithFragment,_=o.children;o.viewClassName,o.style;var $=o.condition,_e=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style","condition"]);return $?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",_e,_):null};function withOrientationChange(i){return function(o){_inherits(s,o);function s(_){var $;return _classCallCheck(this,s),$=_possibleConstructorReturn(this,_getPrototypeOf(s).call(this,_)),$.isEventListenerAdded=!1,$.handleOrientationChange=$.handleOrientationChange.bind(_assertThisInitialized($)),$.onOrientationChange=$.onOrientationChange.bind(_assertThisInitialized($)),$.onPageLoad=$.onPageLoad.bind(_assertThisInitialized($)),$.state={isLandscape:!1,isPortrait:!1},$}return _createClass(s,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var $=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:$===0,isLandscape:$===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(i,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),s}(React__default.Component)}function useMobileOrientation(){var i=React.useState(function(){var _e=window.innerWidth>window.innerHeight?90:0;return{isPortrait:_e===0,isLandscape:_e===90,orientation:_e===0?"portrait":"landscape"}}),o=_slicedToArray(i,2),s=o[0],_=o[1],$=React.useCallback(function(){var _e=window.innerWidth>window.innerHeight?90:0,et={isPortrait:_e===0,isLandscape:_e===90,orientation:_e===0?"portrait":"landscape"};s.orientation!==et.orientation&&_(et)},[s.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&($(),window.addEventListener("load",$,!1),window.addEventListener("resize",$,!1)),function(){window.removeEventListener("resize",$,!1),window.removeEventListener("load",$,!1)}},[$]),s}function useDeviceData(i){var o=i||window.navigator.userAgent;return parseUserAgent(o)}function useDeviceSelectors(i){var o=i||window.navigator.userAgent,s=useDeviceData(o),_=buildSelectorsObject(s);return[_,s]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function round(i){return i+.5|0}const lim=(i,o,s)=>Math.max(Math.min(i,s),o);function p2b(i){return lim(round(i*2.55),0,255)}function n2b(i){return lim(round(i*255),0,255)}function b2n(i){return lim(round(i/2.55)/100,0,1)}function n2p(i){return lim(round(i*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=i=>hex[i&15],h2=i=>hex[(i&240)>>4]+hex[i&15],eq=i=>(i&240)>>4===(i&15),isShort=i=>eq(i.r)&&eq(i.g)&&eq(i.b)&&eq(i.a);function hexParse(i){var o=i.length,s;return i[0]==="#"&&(o===4||o===5?s={r:255&map$1[i[1]]*17,g:255&map$1[i[2]]*17,b:255&map$1[i[3]]*17,a:o===5?map$1[i[4]]*17:255}:(o===7||o===9)&&(s={r:map$1[i[1]]<<4|map$1[i[2]],g:map$1[i[3]]<<4|map$1[i[4]],b:map$1[i[5]]<<4|map$1[i[6]],a:o===9?map$1[i[7]]<<4|map$1[i[8]]:255})),s}const alpha=(i,o)=>i<255?o(i):"";function hexString(i){var o=isShort(i)?h1:h2;return i?"#"+o(i.r)+o(i.g)+o(i.b)+alpha(i.a,o):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(i,o,s){const _=o*Math.min(s,1-s),$=(_e,et=(_e+i/30)%12)=>s-_*Math.max(Math.min(et-3,9-et,1),-1);return[$(0),$(8),$(4)]}function hsv2rgbn(i,o,s){const _=($,_e=($+i/60)%6)=>s-s*o*Math.max(Math.min(_e,4-_e,1),0);return[_(5),_(3),_(1)]}function hwb2rgbn(i,o,s){const _=hsl2rgbn(i,1,.5);let $;for(o+s>1&&($=1/(o+s),o*=$,s*=$),$=0;$<3;$++)_[$]*=1-o-s,_[$]+=o;return _}function hueValue(i,o,s,_,$){return i===$?(o-s)/_+(o<s?6:0):o===$?(s-i)/_+2:(i-o)/_+4}function rgb2hsl(i){const s=i.r/255,_=i.g/255,$=i.b/255,_e=Math.max(s,_,$),et=Math.min(s,_,$),j=(_e+et)/2;let nt,ot,ct;return _e!==et&&(ct=_e-et,ot=j>.5?ct/(2-_e-et):ct/(_e+et),nt=hueValue(s,_,$,ct,_e),nt=nt*60+.5),[nt|0,ot||0,j]}function calln(i,o,s,_){return(Array.isArray(o)?i(o[0],o[1],o[2]):i(o,s,_)).map(n2b)}function hsl2rgb(i,o,s){return calln(hsl2rgbn,i,o,s)}function hwb2rgb(i,o,s){return calln(hwb2rgbn,i,o,s)}function hsv2rgb(i,o,s){return calln(hsv2rgbn,i,o,s)}function hue(i){return(i%360+360)%360}function hueParse(i){const o=HUE_RE.exec(i);let s=255,_;if(!o)return;o[5]!==_&&(s=o[6]?p2b(+o[5]):n2b(+o[5]));const $=hue(+o[2]),_e=+o[3]/100,et=+o[4]/100;return o[1]==="hwb"?_=hwb2rgb($,_e,et):o[1]==="hsv"?_=hsv2rgb($,_e,et):_=hsl2rgb($,_e,et),{r:_[0],g:_[1],b:_[2],a:s}}function rotate(i,o){var s=rgb2hsl(i);s[0]=hue(s[0]+o),s=hsl2rgb(s),i.r=s[0],i.g=s[1],i.b=s[2]}function hslString(i){if(!i)return;const o=rgb2hsl(i),s=o[0],_=n2p(o[1]),$=n2p(o[2]);return i.a<255?`hsla(${s}, ${_}%, ${$}%, ${b2n(i.a)})`:`hsl(${s}, ${_}%, ${$}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const i={},o=Object.keys(names$1),s=Object.keys(map$2);let _,$,_e,et,j;for(_=0;_<o.length;_++){for(et=j=o[_],$=0;$<s.length;$++)_e=s[$],j=j.replace(_e,map$2[_e]);_e=parseInt(names$1[et],16),i[j]=[_e>>16&255,_e>>8&255,_e&255]}return i}let names;function nameParse(i){names||(names=unpack(),names.transparent=[0,0,0,0]);const o=names[i.toLowerCase()];return o&&{r:o[0],g:o[1],b:o[2],a:o.length===4?o[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(i){const o=RGB_RE.exec(i);let s=255,_,$,_e;if(o){if(o[7]!==_){const et=+o[7];s=o[8]?p2b(et):lim(et*255,0,255)}return _=+o[1],$=+o[3],_e=+o[5],_=255&(o[2]?p2b(_):lim(_,0,255)),$=255&(o[4]?p2b($):lim($,0,255)),_e=255&(o[6]?p2b(_e):lim(_e,0,255)),{r:_,g:$,b:_e,a:s}}}function rgbString(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${b2n(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const to=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,from=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function interpolate$1(i,o,s){const _=from(b2n(i.r)),$=from(b2n(i.g)),_e=from(b2n(i.b));return{r:n2b(to(_+s*(from(b2n(o.r))-_))),g:n2b(to($+s*(from(b2n(o.g))-$))),b:n2b(to(_e+s*(from(b2n(o.b))-_e))),a:i.a+s*(o.a-i.a)}}function modHSL(i,o,s){if(i){let _=rgb2hsl(i);_[o]=Math.max(0,Math.min(_[o]+_[o]*s,o===0?360:1)),_=hsl2rgb(_),i.r=_[0],i.g=_[1],i.b=_[2]}}function clone$1(i,o){return i&&Object.assign(o||{},i)}function fromObject(i){var o={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(o={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(o.a=n2b(i[3]))):(o=clone$1(i,{r:0,g:0,b:0,a:1}),o.a=n2b(o.a)),o}function functionParse(i){return i.charAt(0)==="r"?rgbParse(i):hueParse(i)}class Color{constructor(o){if(o instanceof Color)return o;const s=typeof o;let _;s==="object"?_=fromObject(o):s==="string"&&(_=hexParse(o)||nameParse(o)||functionParse(o)),this._rgb=_,this._valid=!!_}get valid(){return this._valid}get rgb(){var o=clone$1(this._rgb);return o&&(o.a=b2n(o.a)),o}set rgb(o){this._rgb=fromObject(o)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(o,s){if(o){const _=this.rgb,$=o.rgb;let _e;const et=s===_e?.5:s,j=2*et-1,nt=_.a-$.a,ot=((j*nt===-1?j:(j+nt)/(1+j*nt))+1)/2;_e=1-ot,_.r=255&ot*_.r+_e*$.r+.5,_.g=255&ot*_.g+_e*$.g+.5,_.b=255&ot*_.b+_e*$.b+.5,_.a=et*_.a+(1-et)*$.a,this.rgb=_}return this}interpolate(o,s){return o&&(this._rgb=interpolate$1(this._rgb,o._rgb,s)),this}clone(){return new Color(this.rgb)}alpha(o){return this._rgb.a=n2b(o),this}clearer(o){const s=this._rgb;return s.a*=1-o,this}greyscale(){const o=this._rgb,s=round(o.r*.3+o.g*.59+o.b*.11);return o.r=o.g=o.b=s,this}opaquer(o){const s=this._rgb;return s.a*=1+o,this}negate(){const o=this._rgb;return o.r=255-o.r,o.g=255-o.g,o.b=255-o.b,this}lighten(o){return modHSL(this._rgb,2,o),this}darken(o){return modHSL(this._rgb,2,-o),this}saturate(o){return modHSL(this._rgb,1,o),this}desaturate(o){return modHSL(this._rgb,1,-o),this}rotate(o){return rotate(this._rgb,o),this}}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let i=0;return()=>i++})();function isNullOrUndef(i){return i===null||typeof i>"u"}function isArray(i){if(Array.isArray&&Array.isArray(i))return!0;const o=Object.prototype.toString.call(i);return o.slice(0,7)==="[object"&&o.slice(-6)==="Array]"}function isObject(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function isNumberFinite(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function finiteOrDefault(i,o){return isNumberFinite(i)?i:o}function valueOrDefault(i,o){return typeof i>"u"?o:i}const toPercentage=(i,o)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/o,toDimension=(i,o)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*o:+i;function callback(i,o,s){if(i&&typeof i.call=="function")return i.apply(s,o)}function each(i,o,s,_){let $,_e,et;if(isArray(i))if(_e=i.length,_)for($=_e-1;$>=0;$--)o.call(s,i[$],$);else for($=0;$<_e;$++)o.call(s,i[$],$);else if(isObject(i))for(et=Object.keys(i),_e=et.length,$=0;$<_e;$++)o.call(s,i[et[$]],et[$])}function _elementsEqual(i,o){let s,_,$,_e;if(!i||!o||i.length!==o.length)return!1;for(s=0,_=i.length;s<_;++s)if($=i[s],_e=o[s],$.datasetIndex!==_e.datasetIndex||$.index!==_e.index)return!1;return!0}function clone(i){if(isArray(i))return i.map(clone);if(isObject(i)){const o=Object.create(null),s=Object.keys(i),_=s.length;let $=0;for(;$<_;++$)o[s[$]]=clone(i[s[$]]);return o}return i}function isValidKey(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function _merger(i,o,s,_){if(!isValidKey(i))return;const $=o[i],_e=s[i];isObject($)&&isObject(_e)?merge($,_e,_):o[i]=clone(_e)}function merge(i,o,s){const _=isArray(o)?o:[o],$=_.length;if(!isObject(i))return i;s=s||{};const _e=s.merger||_merger;let et;for(let j=0;j<$;++j){if(et=_[j],!isObject(et))continue;const nt=Object.keys(et);for(let ot=0,ct=nt.length;ot<ct;++ot)_e(nt[ot],i,et,s)}return i}function mergeIf(i,o){return merge(i,o,{merger:_mergerIf})}function _mergerIf(i,o,s){if(!isValidKey(i))return;const _=o[i],$=s[i];isObject(_)&&isObject($)?mergeIf(_,$):Object.prototype.hasOwnProperty.call(o,i)||(o[i]=clone($))}const keyResolvers={"":i=>i,x:i=>i.x,y:i=>i.y};function _splitKey(i){const o=i.split("."),s=[];let _="";for(const $ of o)_+=$,_.endsWith("\\")?_=_.slice(0,-1)+".":(s.push(_),_="");return s}function _getKeyResolver(i){const o=_splitKey(i);return s=>{for(const _ of o){if(_==="")break;s=s&&s[_]}return s}}function resolveObjectKey(i,o){return(keyResolvers[o]||(keyResolvers[o]=_getKeyResolver(o)))(i)}function _capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1)}const defined=i=>typeof i<"u",isFunction=i=>typeof i=="function",setsEqual=(i,o)=>{if(i.size!==o.size)return!1;for(const s of i)if(!o.has(s))return!1;return!0};function _isClickEvent(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(i,o,s){return Math.abs(i-o)<s}function niceNum(i){const o=Math.round(i);i=almostEquals(i,o,i/1e3)?o:i;const s=Math.pow(10,Math.floor(log10(i))),_=i/s;return(_<=1?1:_<=2?2:_<=5?5:10)*s}function _factorize(i){const o=[],s=Math.sqrt(i);let _;for(_=1;_<s;_++)i%_===0&&(o.push(_),o.push(i/_));return s===(s|0)&&o.push(s),o.sort(($,_e)=>$-_e).pop(),o}function isNumber(i){return!isNaN(parseFloat(i))&&isFinite(i)}function almostWhole(i,o){const s=Math.round(i);return s-o<=i&&s+o>=i}function _setMinAndMaxByKey(i,o,s){let _,$,_e;for(_=0,$=i.length;_<$;_++)_e=i[_][s],isNaN(_e)||(o.min=Math.min(o.min,_e),o.max=Math.max(o.max,_e))}function toRadians(i){return i*(PI/180)}function toDegrees(i){return i*(180/PI)}function _decimalPlaces(i){if(!isNumberFinite(i))return;let o=1,s=0;for(;Math.round(i*o)/o!==i;)o*=10,s++;return s}function getAngleFromPoint(i,o){const s=o.x-i.x,_=o.y-i.y,$=Math.sqrt(s*s+_*_);let _e=Math.atan2(_,s);return _e<-.5*PI&&(_e+=TAU),{angle:_e,distance:$}}function distanceBetweenPoints(i,o){return Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))}function _angleDiff(i,o){return(i-o+PITAU)%TAU-PI}function _normalizeAngle(i){return(i%TAU+TAU)%TAU}function _angleBetween(i,o,s,_){const $=_normalizeAngle(i),_e=_normalizeAngle(o),et=_normalizeAngle(s),j=_normalizeAngle(_e-$),nt=_normalizeAngle(et-$),ot=_normalizeAngle($-_e),ct=_normalizeAngle($-et);return $===_e||$===et||_&&_e===et||j>nt&&ot<ct}function _limitValue(i,o,s){return Math.max(o,Math.min(s,i))}function _int16Range(i){return _limitValue(i,-32768,32767)}function _isBetween(i,o,s,_=1e-6){return i>=Math.min(o,s)-_&&i<=Math.max(o,s)+_}function _lookup(i,o,s){s=s||(et=>i[et]<o);let _=i.length-1,$=0,_e;for(;_-$>1;)_e=$+_>>1,s(_e)?$=_e:_=_e;return{lo:$,hi:_}}const _lookupByKey=(i,o,s,_)=>_lookup(i,s,_?$=>{const _e=i[$][o];return _e<s||_e===s&&i[$+1][o]===s}:$=>i[$][o]<s),_rlookupByKey=(i,o,s)=>_lookup(i,s,_=>i[_][o]>=s);function _filterBetween(i,o,s){let _=0,$=i.length;for(;_<$&&i[_]<o;)_++;for(;$>_&&i[$-1]>s;)$--;return _>0||$<i.length?i.slice(_,$):i}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(i,o){if(i._chartjs){i._chartjs.listeners.push(o);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),arrayEvents.forEach(s=>{const _="_onData"+_capitalize(s),$=i[s];Object.defineProperty(i,s,{configurable:!0,enumerable:!1,value(..._e){const et=$.apply(this,_e);return i._chartjs.listeners.forEach(j=>{typeof j[_]=="function"&&j[_](..._e)}),et}})})}function unlistenArrayEvents(i,o){const s=i._chartjs;if(!s)return;const _=s.listeners,$=_.indexOf(o);$!==-1&&_.splice($,1),!(_.length>0)&&(arrayEvents.forEach(_e=>{delete i[_e]}),delete i._chartjs)}function _arrayUnique(i){const o=new Set;let s,_;for(s=0,_=i.length;s<_;++s)o.add(i[s]);return o.size===_?i:Array.from(o)}const requestAnimFrame=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function throttled(i,o){let s=[],_=!1;return function(...$){s=$,_||(_=!0,requestAnimFrame.call(window,()=>{_=!1,i.apply(o,s)}))}}function debounce(i,o){let s;return function(..._){return o?(clearTimeout(s),s=setTimeout(i,o,_)):i.apply(this,_),o}}const _toLeftRightCenter=i=>i==="start"?"left":i==="end"?"right":"center",_alignStartEnd=(i,o,s)=>i==="start"?o:i==="end"?s:(o+s)/2,_textX=(i,o,s,_)=>i===(_?"left":"right")?s:i==="center"?(o+s)/2:o;function _getStartAndCountOfVisiblePoints(i,o,s){const _=o.length;let $=0,_e=_;if(i._sorted){const{iScale:et,_parsed:j}=i,nt=et.axis,{min:ot,max:ct,minDefined:gt,maxDefined:pt}=et.getUserBounds();gt&&($=_limitValue(Math.min(_lookupByKey(j,et.axis,ot).lo,s?_:_lookupByKey(o,nt,et.getPixelForValue(ot)).lo),0,_-1)),pt?_e=_limitValue(Math.max(_lookupByKey(j,et.axis,ct,!0).hi+1,s?0:_lookupByKey(o,nt,et.getPixelForValue(ct),!0).hi+1),$,_)-$:_e=_-$}return{start:$,count:_e}}function _scaleRangesChanged(i){const{xScale:o,yScale:s,_scaleRanges:_}=i,$={xmin:o.min,xmax:o.max,ymin:s.min,ymax:s.max};if(!_)return i._scaleRanges=$,!0;const _e=_.xmin!==o.min||_.xmax!==o.max||_.ymin!==s.min||_.ymax!==s.max;return Object.assign(_,$),_e}const atEdge=i=>i===0||i===1,elasticIn=(i,o,s)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-o)*TAU/s)),elasticOut=(i,o,s)=>Math.pow(2,-10*i)*Math.sin((i-o)*TAU/s)+1,effects={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*HALF_PI)+1,easeOutSine:i=>Math.sin(i*HALF_PI),easeInOutSine:i=>-.5*(Math.cos(PI*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>atEdge(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>atEdge(i)?i:elasticIn(i,.075,.3),easeOutElastic:i=>atEdge(i)?i:elasticOut(i,.075,.3),easeInOutElastic(i){return atEdge(i)?i:i<.5?.5*elasticIn(i*2,.1125,.45):.5+.5*elasticOut(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let o=1.70158;return(i/=.5)<1?.5*(i*i*(((o*=1.525)+1)*i-o)):.5*((i-=2)*i*(((o*=1.525)+1)*i+o)+2)},easeInBounce:i=>1-effects.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?effects.easeInBounce(i*2)*.5:effects.easeOutBounce(i*2-1)*.5+.5};function isPatternOrGradient(i){if(i&&typeof i=="object"){const o=i.toString();return o==="[object CanvasPattern]"||o==="[object CanvasGradient]"}return!1}function color(i){return isPatternOrGradient(i)?i:new Color(i)}function getHoverColor(i){return isPatternOrGradient(i)?i:new Color(i).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors$1=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:o=>o!=="onProgress"&&o!=="onComplete"&&o!=="fn"}),i.set("animations",{colors:{type:"color",properties:colors$1},numbers:{type:"number",properties:numbers}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:o=>o|0}}}})}function applyLayoutsDefaults(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(i,o){o=o||{};const s=i+JSON.stringify(o);let _=intlCache.get(s);return _||(_=new Intl.NumberFormat(i,o),intlCache.set(s,_)),_}function formatNumber(i,o,s){return getNumberFormat(o,s).format(i)}const formatters={values(i){return isArray(i)?i:""+i},numeric(i,o,s){if(i===0)return"0";const _=this.chart.options.locale;let $,_e=i;if(s.length>1){const ot=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(ot<1e-4||ot>1e15)&&($="scientific"),_e=calculateDelta(i,s)}const et=log10(Math.abs(_e)),j=Math.max(Math.min(-1*Math.floor(et),20),0),nt={notation:$,minimumFractionDigits:j,maximumFractionDigits:j};return Object.assign(nt,this.options.ticks.format),formatNumber(i,_,nt)},logarithmic(i,o,s){if(i===0)return"0";const _=s[o].significand||i/Math.pow(10,Math.floor(log10(i)));return[1,2,3,5,10,15].includes(_)||o>.8*s.length?formatters.numeric.call(this,i,o,s):""}};function calculateDelta(i,o){let s=o.length>3?o[2].value-o[1].value:o[1].value-o[0].value;return Math.abs(s)>=1&&i!==Math.floor(i)&&(s=i-Math.floor(i)),s}var Ticks={formatters};function applyScaleDefaults(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(o,s)=>s.lineWidth,tickColor:(o,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:o=>!o.startsWith("before")&&!o.startsWith("after")&&o!=="callback"&&o!=="parser",_indexable:o=>o!=="borderDash"&&o!=="tickBorderDash"&&o!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:o=>o!=="backdropPadding"&&o!=="callback",_indexable:o=>o!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(i,o){if(!o)return i;const s=o.split(".");for(let _=0,$=s.length;_<$;++_){const _e=s[_];i=i[_e]||(i[_e]=Object.create(null))}return i}function set(i,o,s){return typeof o=="string"?merge(getScope$1(i,o),s):merge(getScope$1(i,""),o)}class Defaults{constructor(o,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=_=>_.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(_,$)=>getHoverColor($.backgroundColor),this.hoverBorderColor=(_,$)=>getHoverColor($.borderColor),this.hoverColor=(_,$)=>getHoverColor($.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(o),this.apply(s)}set(o,s){return set(this,o,s)}get(o){return getScope$1(this,o)}describe(o,s){return set(descriptors,o,s)}override(o,s){return set(overrides,o,s)}route(o,s,_,$){const _e=getScope$1(this,o),et=getScope$1(this,_),j="_"+s;Object.defineProperties(_e,{[j]:{value:_e[s],writable:!0},[s]:{enumerable:!0,get(){const nt=this[j],ot=et[$];return isObject(nt)?Object.assign({},ot,nt):valueOrDefault(nt,ot)},set(nt){this[j]=nt}}})}apply(o){o.forEach(s=>s(this))}}var defaults=new Defaults({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(i){return!i||isNullOrUndef(i.size)||isNullOrUndef(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function _measureText(i,o,s,_,$){let _e=o[$];return _e||(_e=o[$]=i.measureText($).width,s.push($)),_e>_&&(_=_e),_}function _longestText(i,o,s,_){_=_||{};let $=_.data=_.data||{},_e=_.garbageCollect=_.garbageCollect||[];_.font!==o&&($=_.data={},_e=_.garbageCollect=[],_.font=o),i.save(),i.font=o;let et=0;const j=s.length;let nt,ot,ct,gt,pt;for(nt=0;nt<j;nt++)if(gt=s[nt],gt!=null&&isArray(gt)!==!0)et=_measureText(i,$,_e,et,gt);else if(isArray(gt))for(ot=0,ct=gt.length;ot<ct;ot++)pt=gt[ot],pt!=null&&!isArray(pt)&&(et=_measureText(i,$,_e,et,pt));i.restore();const ft=_e.length/2;if(ft>s.length){for(nt=0;nt<ft;nt++)delete $[_e[nt]];_e.splice(0,ft)}return et}function _alignPixel(i,o,s){const _=i.currentDevicePixelRatio,$=s!==0?Math.max(s/2,.5):0;return Math.round((o-$)*_)/_+$}function clearCanvas(i,o){o=o||i.getContext("2d"),o.save(),o.resetTransform(),o.clearRect(0,0,i.width,i.height),o.restore()}function drawPoint(i,o,s,_){drawPointLegend(i,o,s,_,null)}function drawPointLegend(i,o,s,_,$){let _e,et,j,nt,ot,ct,gt,pt;const ft=o.pointStyle,ut=o.rotation,yt=o.radius;let wt=(ut||0)*RAD_PER_DEG;if(ft&&typeof ft=="object"&&(_e=ft.toString(),_e==="[object HTMLImageElement]"||_e==="[object HTMLCanvasElement]")){i.save(),i.translate(s,_),i.rotate(wt),i.drawImage(ft,-ft.width/2,-ft.height/2,ft.width,ft.height),i.restore();return}if(!(isNaN(yt)||yt<=0)){switch(i.beginPath(),ft){default:$?i.ellipse(s,_,$/2,yt,0,0,TAU):i.arc(s,_,yt,0,TAU),i.closePath();break;case"triangle":ct=$?$/2:yt,i.moveTo(s+Math.sin(wt)*ct,_-Math.cos(wt)*yt),wt+=TWO_THIRDS_PI,i.lineTo(s+Math.sin(wt)*ct,_-Math.cos(wt)*yt),wt+=TWO_THIRDS_PI,i.lineTo(s+Math.sin(wt)*ct,_-Math.cos(wt)*yt),i.closePath();break;case"rectRounded":ot=yt*.516,nt=yt-ot,et=Math.cos(wt+QUARTER_PI)*nt,gt=Math.cos(wt+QUARTER_PI)*($?$/2-ot:nt),j=Math.sin(wt+QUARTER_PI)*nt,pt=Math.sin(wt+QUARTER_PI)*($?$/2-ot:nt),i.arc(s-gt,_-j,ot,wt-PI,wt-HALF_PI),i.arc(s+pt,_-et,ot,wt-HALF_PI,wt),i.arc(s+gt,_+j,ot,wt,wt+HALF_PI),i.arc(s-pt,_+et,ot,wt+HALF_PI,wt+PI),i.closePath();break;case"rect":if(!ut){nt=Math.SQRT1_2*yt,ct=$?$/2:nt,i.rect(s-ct,_-nt,2*ct,2*nt);break}wt+=QUARTER_PI;case"rectRot":gt=Math.cos(wt)*($?$/2:yt),et=Math.cos(wt)*yt,j=Math.sin(wt)*yt,pt=Math.sin(wt)*($?$/2:yt),i.moveTo(s-gt,_-j),i.lineTo(s+pt,_-et),i.lineTo(s+gt,_+j),i.lineTo(s-pt,_+et),i.closePath();break;case"crossRot":wt+=QUARTER_PI;case"cross":gt=Math.cos(wt)*($?$/2:yt),et=Math.cos(wt)*yt,j=Math.sin(wt)*yt,pt=Math.sin(wt)*($?$/2:yt),i.moveTo(s-gt,_-j),i.lineTo(s+gt,_+j),i.moveTo(s+pt,_-et),i.lineTo(s-pt,_+et);break;case"star":gt=Math.cos(wt)*($?$/2:yt),et=Math.cos(wt)*yt,j=Math.sin(wt)*yt,pt=Math.sin(wt)*($?$/2:yt),i.moveTo(s-gt,_-j),i.lineTo(s+gt,_+j),i.moveTo(s+pt,_-et),i.lineTo(s-pt,_+et),wt+=QUARTER_PI,gt=Math.cos(wt)*($?$/2:yt),et=Math.cos(wt)*yt,j=Math.sin(wt)*yt,pt=Math.sin(wt)*($?$/2:yt),i.moveTo(s-gt,_-j),i.lineTo(s+gt,_+j),i.moveTo(s+pt,_-et),i.lineTo(s-pt,_+et);break;case"line":et=$?$/2:Math.cos(wt)*yt,j=Math.sin(wt)*yt,i.moveTo(s-et,_-j),i.lineTo(s+et,_+j);break;case"dash":i.moveTo(s,_),i.lineTo(s+Math.cos(wt)*($?$/2:yt),_+Math.sin(wt)*yt);break;case!1:i.closePath();break}i.fill(),o.borderWidth>0&&i.stroke()}}function _isPointInArea(i,o,s){return s=s||.5,!o||i&&i.x>o.left-s&&i.x<o.right+s&&i.y>o.top-s&&i.y<o.bottom+s}function clipArea(i,o){i.save(),i.beginPath(),i.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),i.clip()}function unclipArea(i){i.restore()}function _steppedLineTo(i,o,s,_,$){if(!o)return i.lineTo(s.x,s.y);if($==="middle"){const _e=(o.x+s.x)/2;i.lineTo(_e,o.y),i.lineTo(_e,s.y)}else $==="after"!=!!_?i.lineTo(o.x,s.y):i.lineTo(s.x,o.y);i.lineTo(s.x,s.y)}function _bezierCurveTo(i,o,s,_){if(!o)return i.lineTo(s.x,s.y);i.bezierCurveTo(_?o.cp1x:o.cp2x,_?o.cp1y:o.cp2y,_?s.cp2x:s.cp1x,_?s.cp2y:s.cp1y,s.x,s.y)}function renderText(i,o,s,_,$,_e={}){const et=isArray(o)?o:[o],j=_e.strokeWidth>0&&_e.strokeColor!=="";let nt,ot;for(i.save(),i.font=$.string,setRenderOpts(i,_e),nt=0;nt<et.length;++nt)ot=et[nt],_e.backdrop&&drawBackdrop(i,_e.backdrop),j&&(_e.strokeColor&&(i.strokeStyle=_e.strokeColor),isNullOrUndef(_e.strokeWidth)||(i.lineWidth=_e.strokeWidth),i.strokeText(ot,s,_,_e.maxWidth)),i.fillText(ot,s,_,_e.maxWidth),decorateText(i,s,_,ot,_e),_+=$.lineHeight;i.restore()}function setRenderOpts(i,o){o.translation&&i.translate(o.translation[0],o.translation[1]),isNullOrUndef(o.rotation)||i.rotate(o.rotation),o.color&&(i.fillStyle=o.color),o.textAlign&&(i.textAlign=o.textAlign),o.textBaseline&&(i.textBaseline=o.textBaseline)}function decorateText(i,o,s,_,$){if($.strikethrough||$.underline){const _e=i.measureText(_),et=o-_e.actualBoundingBoxLeft,j=o+_e.actualBoundingBoxRight,nt=s-_e.actualBoundingBoxAscent,ot=s+_e.actualBoundingBoxDescent,ct=$.strikethrough?(nt+ot)/2:ot;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=$.decorationWidth||2,i.moveTo(et,ct),i.lineTo(j,ct),i.stroke()}}function drawBackdrop(i,o){const s=i.fillStyle;i.fillStyle=o.color,i.fillRect(o.left,o.top,o.width,o.height),i.fillStyle=s}function addRoundedRectPath(i,o){const{x:s,y:_,w:$,h:_e,radius:et}=o;i.arc(s+et.topLeft,_+et.topLeft,et.topLeft,-HALF_PI,PI,!0),i.lineTo(s,_+_e-et.bottomLeft),i.arc(s+et.bottomLeft,_+_e-et.bottomLeft,et.bottomLeft,PI,HALF_PI,!0),i.lineTo(s+$-et.bottomRight,_+_e),i.arc(s+$-et.bottomRight,_+_e-et.bottomRight,et.bottomRight,HALF_PI,0,!0),i.lineTo(s+$,_+et.topRight),i.arc(s+$-et.topRight,_+et.topRight,et.topRight,0,-HALF_PI,!0),i.lineTo(s+et.topLeft,_)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(i,o){const s=(""+i).match(LINE_HEIGHT);if(!s||s[1]==="normal")return o*1.2;switch(i=+s[2],s[3]){case"px":return i;case"%":i/=100;break}return o*i}const numberOrZero=i=>+i||0;function _readValueToProps(i,o){const s={},_=isObject(o),$=_?Object.keys(o):o,_e=isObject(i)?_?et=>valueOrDefault(i[et],i[o[et]]):et=>i[et]:()=>i;for(const et of $)s[et]=numberOrZero(_e(et));return s}function toTRBL(i){return _readValueToProps(i,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(i){return _readValueToProps(i,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(i){const o=toTRBL(i);return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function toFont(i,o){i=i||{},o=o||defaults.font;let s=valueOrDefault(i.size,o.size);typeof s=="string"&&(s=parseInt(s,10));let _=valueOrDefault(i.style,o.style);_&&!(""+_).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+_+'"'),_=void 0);const $={family:valueOrDefault(i.family,o.family),lineHeight:toLineHeight(valueOrDefault(i.lineHeight,o.lineHeight),s),size:s,style:_,weight:valueOrDefault(i.weight,o.weight),string:""};return $.string=toFontString($),$}function resolve(i,o,s,_){let $=!0,_e,et,j;for(_e=0,et=i.length;_e<et;++_e)if(j=i[_e],j!==void 0&&(o!==void 0&&typeof j=="function"&&(j=j(o),$=!1),s!==void 0&&isArray(j)&&(j=j[s%j.length],$=!1),j!==void 0))return _&&!$&&(_.cacheable=!1),j}function _addGrace(i,o,s){const{min:_,max:$}=i,_e=toDimension(o,($-_)/2),et=(j,nt)=>s&&j===0?0:j+nt;return{min:et(_,-Math.abs(_e)),max:et($,_e)}}function createContext(i,o){return Object.assign(Object.create(i),o)}function _createResolver(i,o=[""],s=i,_,$=()=>i[0]){defined(_)||(_=_resolve("_fallback",i));const _e={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:_,_getTarget:$,override:et=>_createResolver([et,...i],o,s,_)};return new Proxy(_e,{deleteProperty(et,j){return delete et[j],delete et._keys,delete i[0][j],!0},get(et,j){return _cached(et,j,()=>_resolveWithPrefixes(j,o,i,et))},getOwnPropertyDescriptor(et,j){return Reflect.getOwnPropertyDescriptor(et._scopes[0],j)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(et,j){return getKeysFromAllScopes(et).includes(j)},ownKeys(et){return getKeysFromAllScopes(et)},set(et,j,nt){const ot=et._storage||(et._storage=$());return et[j]=ot[j]=nt,delete et._keys,!0}})}function _attachContext(i,o,s,_){const $={_cacheable:!1,_proxy:i,_context:o,_subProxy:s,_stack:new Set,_descriptors:_descriptors(i,_),setContext:_e=>_attachContext(i,_e,s,_),override:_e=>_attachContext(i.override(_e),o,s,_)};return new Proxy($,{deleteProperty(_e,et){return delete _e[et],delete i[et],!0},get(_e,et,j){return _cached(_e,et,()=>_resolveWithContext(_e,et,j))},getOwnPropertyDescriptor(_e,et){return _e._descriptors.allKeys?Reflect.has(i,et)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,et)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(_e,et){return Reflect.has(i,et)},ownKeys(){return Reflect.ownKeys(i)},set(_e,et,j){return i[et]=j,delete _e[et],!0}})}function _descriptors(i,o={scriptable:!0,indexable:!0}){const{_scriptable:s=o.scriptable,_indexable:_=o.indexable,_allKeys:$=o.allKeys}=i;return{allKeys:$,scriptable:s,indexable:_,isScriptable:isFunction(s)?s:()=>s,isIndexable:isFunction(_)?_:()=>_}}const readKey=(i,o)=>i?i+_capitalize(o):o,needsSubResolver=(i,o)=>isObject(o)&&i!=="adapters"&&(Object.getPrototypeOf(o)===null||o.constructor===Object);function _cached(i,o,s){if(Object.prototype.hasOwnProperty.call(i,o))return i[o];const _=s();return i[o]=_,_}function _resolveWithContext(i,o,s){const{_proxy:_,_context:$,_subProxy:_e,_descriptors:et}=i;let j=_[o];return isFunction(j)&&et.isScriptable(o)&&(j=_resolveScriptable(o,j,i,s)),isArray(j)&&j.length&&(j=_resolveArray(o,j,i,et.isIndexable)),needsSubResolver(o,j)&&(j=_attachContext(j,$,_e&&_e[o],et)),j}function _resolveScriptable(i,o,s,_){const{_proxy:$,_context:_e,_subProxy:et,_stack:j}=s;if(j.has(i))throw new Error("Recursion detected: "+Array.from(j).join("->")+"->"+i);return j.add(i),o=o(_e,et||_),j.delete(i),needsSubResolver(i,o)&&(o=createSubResolver($._scopes,$,i,o)),o}function _resolveArray(i,o,s,_){const{_proxy:$,_context:_e,_subProxy:et,_descriptors:j}=s;if(defined(_e.index)&&_(i))o=o[_e.index%o.length];else if(isObject(o[0])){const nt=o,ot=$._scopes.filter(ct=>ct!==nt);o=[];for(const ct of nt){const gt=createSubResolver(ot,$,i,ct);o.push(_attachContext(gt,_e,et&&et[i],j))}}return o}function resolveFallback(i,o,s){return isFunction(i)?i(o,s):i}const getScope=(i,o)=>i===!0?o:typeof i=="string"?resolveObjectKey(o,i):void 0;function addScopes(i,o,s,_,$){for(const _e of o){const et=getScope(s,_e);if(et){i.add(et);const j=resolveFallback(et._fallback,s,$);if(defined(j)&&j!==s&&j!==_)return j}else if(et===!1&&defined(_)&&s!==_)return null}return!1}function createSubResolver(i,o,s,_){const $=o._rootScopes,_e=resolveFallback(o._fallback,s,_),et=[...i,...$],j=new Set;j.add(_);let nt=addScopesFromKey(j,et,s,_e||s,_);return nt===null||defined(_e)&&_e!==s&&(nt=addScopesFromKey(j,et,_e,nt,_),nt===null)?!1:_createResolver(Array.from(j),[""],$,_e,()=>subGetTarget(o,s,_))}function addScopesFromKey(i,o,s,_,$){for(;s;)s=addScopes(i,o,s,_,$);return s}function subGetTarget(i,o,s){const _=i._getTarget();o in _||(_[o]={});const $=_[o];return isArray($)&&isObject(s)?s:$||{}}function _resolveWithPrefixes(i,o,s,_){let $;for(const _e of o)if($=_resolve(readKey(_e,i),s),defined($))return needsSubResolver(i,$)?createSubResolver(s,_,i,$):$}function _resolve(i,o){for(const s of o){if(!s)continue;const _=s[i];if(defined(_))return _}}function getKeysFromAllScopes(i){let o=i._keys;return o||(o=i._keys=resolveKeysFromAllScopes(i._scopes)),o}function resolveKeysFromAllScopes(i){const o=new Set;for(const s of i)for(const _ of Object.keys(s).filter($=>!$.startsWith("_")))o.add(_);return Array.from(o)}function _parseObjectDataRadialScale(i,o,s,_){const{iScale:$}=i,{key:_e="r"}=this._parsing,et=new Array(_);let j,nt,ot,ct;for(j=0,nt=_;j<nt;++j)ot=j+s,ct=o[ot],et[j]={r:$.parse(resolveObjectKey(ct,_e),ot)};return et}const EPSILON=Number.EPSILON||1e-14,getPoint=(i,o)=>o<i.length&&!i[o].skip&&i[o],getValueAxis=i=>i==="x"?"y":"x";function splineCurve(i,o,s,_){const $=i.skip?o:i,_e=o,et=s.skip?o:s,j=distanceBetweenPoints(_e,$),nt=distanceBetweenPoints(et,_e);let ot=j/(j+nt),ct=nt/(j+nt);ot=isNaN(ot)?0:ot,ct=isNaN(ct)?0:ct;const gt=_*ot,pt=_*ct;return{previous:{x:_e.x-gt*(et.x-$.x),y:_e.y-gt*(et.y-$.y)},next:{x:_e.x+pt*(et.x-$.x),y:_e.y+pt*(et.y-$.y)}}}function monotoneAdjust(i,o,s){const _=i.length;let $,_e,et,j,nt,ot=getPoint(i,0);for(let ct=0;ct<_-1;++ct)if(nt=ot,ot=getPoint(i,ct+1),!(!nt||!ot)){if(almostEquals(o[ct],0,EPSILON)){s[ct]=s[ct+1]=0;continue}$=s[ct]/o[ct],_e=s[ct+1]/o[ct],j=Math.pow($,2)+Math.pow(_e,2),!(j<=9)&&(et=3/Math.sqrt(j),s[ct]=$*et*o[ct],s[ct+1]=_e*et*o[ct])}}function monotoneCompute(i,o,s="x"){const _=getValueAxis(s),$=i.length;let _e,et,j,nt=getPoint(i,0);for(let ot=0;ot<$;++ot){if(et=j,j=nt,nt=getPoint(i,ot+1),!j)continue;const ct=j[s],gt=j[_];et&&(_e=(ct-et[s])/3,j[`cp1${s}`]=ct-_e,j[`cp1${_}`]=gt-_e*o[ot]),nt&&(_e=(nt[s]-ct)/3,j[`cp2${s}`]=ct+_e,j[`cp2${_}`]=gt+_e*o[ot])}}function splineCurveMonotone(i,o="x"){const s=getValueAxis(o),_=i.length,$=Array(_).fill(0),_e=Array(_);let et,j,nt,ot=getPoint(i,0);for(et=0;et<_;++et)if(j=nt,nt=ot,ot=getPoint(i,et+1),!!nt){if(ot){const ct=ot[o]-nt[o];$[et]=ct!==0?(ot[s]-nt[s])/ct:0}_e[et]=j?ot?sign($[et-1])!==sign($[et])?0:($[et-1]+$[et])/2:$[et-1]:$[et]}monotoneAdjust(i,$,_e),monotoneCompute(i,_e,o)}function capControlPoint(i,o,s){return Math.max(Math.min(i,s),o)}function capBezierPoints(i,o){let s,_,$,_e,et,j=_isPointInArea(i[0],o);for(s=0,_=i.length;s<_;++s)et=_e,_e=j,j=s<_-1&&_isPointInArea(i[s+1],o),_e&&($=i[s],et&&($.cp1x=capControlPoint($.cp1x,o.left,o.right),$.cp1y=capControlPoint($.cp1y,o.top,o.bottom)),j&&($.cp2x=capControlPoint($.cp2x,o.left,o.right),$.cp2y=capControlPoint($.cp2y,o.top,o.bottom)))}function _updateBezierControlPoints(i,o,s,_,$){let _e,et,j,nt;if(o.spanGaps&&(i=i.filter(ot=>!ot.skip)),o.cubicInterpolationMode==="monotone")splineCurveMonotone(i,$);else{let ot=_?i[i.length-1]:i[0];for(_e=0,et=i.length;_e<et;++_e)j=i[_e],nt=splineCurve(ot,j,i[Math.min(_e+1,et-(_?0:1))%et],o.tension),j.cp1x=nt.previous.x,j.cp1y=nt.previous.y,j.cp2x=nt.next.x,j.cp2y=nt.next.y,ot=j}o.capBezierPoints&&capBezierPoints(i,s)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(i){let o=i.parentNode;return o&&o.toString()==="[object ShadowRoot]"&&(o=o.host),o}function parseMaxStyle(i,o,s){let _;return typeof i=="string"?(_=parseInt(i,10),i.indexOf("%")!==-1&&(_=_/100*o.parentNode[s])):_=i,_}const getComputedStyle=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function getStyle(i,o){return getComputedStyle(i).getPropertyValue(o)}const positions=["top","right","bottom","left"];function getPositionedStyle(i,o,s){const _={};s=s?"-"+s:"";for(let $=0;$<4;$++){const _e=positions[$];_[_e]=parseFloat(i[o+"-"+_e+s])||0}return _.width=_.left+_.right,_.height=_.top+_.bottom,_}const useOffsetPos=(i,o,s)=>(i>0||o>0)&&(!s||!s.shadowRoot);function getCanvasPosition(i,o){const s=i.touches,_=s&&s.length?s[0]:i,{offsetX:$,offsetY:_e}=_;let et=!1,j,nt;if(useOffsetPos($,_e,i.target))j=$,nt=_e;else{const ot=o.getBoundingClientRect();j=_.clientX-ot.left,nt=_.clientY-ot.top,et=!0}return{x:j,y:nt,box:et}}function getRelativePosition(i,o){if("native"in i)return i;const{canvas:s,currentDevicePixelRatio:_}=o,$=getComputedStyle(s),_e=$.boxSizing==="border-box",et=getPositionedStyle($,"padding"),j=getPositionedStyle($,"border","width"),{x:nt,y:ot,box:ct}=getCanvasPosition(i,s),gt=et.left+(ct&&j.left),pt=et.top+(ct&&j.top);let{width:ft,height:ut}=o;return _e&&(ft-=et.width+j.width,ut-=et.height+j.height),{x:Math.round((nt-gt)/ft*s.width/_),y:Math.round((ot-pt)/ut*s.height/_)}}function getContainerSize(i,o,s){let _,$;if(o===void 0||s===void 0){const _e=_getParentNode(i);if(!_e)o=i.clientWidth,s=i.clientHeight;else{const et=_e.getBoundingClientRect(),j=getComputedStyle(_e),nt=getPositionedStyle(j,"border","width"),ot=getPositionedStyle(j,"padding");o=et.width-ot.width-nt.width,s=et.height-ot.height-nt.height,_=parseMaxStyle(j.maxWidth,_e,"clientWidth"),$=parseMaxStyle(j.maxHeight,_e,"clientHeight")}}return{width:o,height:s,maxWidth:_||INFINITY,maxHeight:$||INFINITY}}const round1=i=>Math.round(i*10)/10;function getMaximumSize(i,o,s,_){const $=getComputedStyle(i),_e=getPositionedStyle($,"margin"),et=parseMaxStyle($.maxWidth,i,"clientWidth")||INFINITY,j=parseMaxStyle($.maxHeight,i,"clientHeight")||INFINITY,nt=getContainerSize(i,o,s);let{width:ot,height:ct}=nt;if($.boxSizing==="content-box"){const pt=getPositionedStyle($,"border","width"),ft=getPositionedStyle($,"padding");ot-=ft.width+pt.width,ct-=ft.height+pt.height}return ot=Math.max(0,ot-_e.width),ct=Math.max(0,_?ot/_:ct-_e.height),ot=round1(Math.min(ot,et,nt.maxWidth)),ct=round1(Math.min(ct,j,nt.maxHeight)),ot&&!ct&&(ct=round1(ot/2)),(o!==void 0||s!==void 0)&&_&&nt.height&&ct>nt.height&&(ct=nt.height,ot=round1(Math.floor(ct*_))),{width:ot,height:ct}}function retinaScale(i,o,s){const _=o||1,$=Math.floor(i.height*_),_e=Math.floor(i.width*_);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const et=i.canvas;return et.style&&(s||!et.style.height&&!et.style.width)&&(et.style.height=`${i.height}px`,et.style.width=`${i.width}px`),i.currentDevicePixelRatio!==_||et.height!==$||et.width!==_e?(i.currentDevicePixelRatio=_,et.height=$,et.width=_e,i.ctx.setTransform(_,0,0,_,0,0),!0):!1}const supportsEventListenerOptions=function(){let i=!1;try{const o={get passive(){return i=!0,!1}};window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{}return i}();function readUsedSize(i,o){const s=getStyle(i,o),_=s&&s.match(/^(\d+)(\.\d+)?px$/);return _?+_[1]:void 0}function _pointInLine(i,o,s,_){return{x:i.x+s*(o.x-i.x),y:i.y+s*(o.y-i.y)}}function _steppedInterpolation(i,o,s,_){return{x:i.x+s*(o.x-i.x),y:_==="middle"?s<.5?i.y:o.y:_==="after"?s<1?i.y:o.y:s>0?o.y:i.y}}function _bezierInterpolation(i,o,s,_){const $={x:i.cp2x,y:i.cp2y},_e={x:o.cp1x,y:o.cp1y},et=_pointInLine(i,$,s),j=_pointInLine($,_e,s),nt=_pointInLine(_e,o,s),ot=_pointInLine(et,j,s),ct=_pointInLine(j,nt,s);return _pointInLine(ot,ct,s)}const getRightToLeftAdapter=function(i,o){return{x(s){return i+i+o-s},setWidth(s){o=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,_){return s-_},leftForLtr(s,_){return s-_}}},getLeftToRightAdapter=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,o){return i+o},leftForLtr(i,o){return i}}};function getRtlAdapter(i,o,s){return i?getRightToLeftAdapter(o,s):getLeftToRightAdapter()}function overrideTextDirection(i,o){let s,_;(o==="ltr"||o==="rtl")&&(s=i.canvas.style,_=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",o,"important"),i.prevTextDirection=_)}function restoreTextDirection(i,o){o!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",o[0],o[1]))}function propertyFn(i){return i==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(o,s)=>o-s,normalize:o=>o}}function normalizeSegment({start:i,end:o,count:s,loop:_,style:$}){return{start:i%s,end:o%s,loop:_&&(o-i+1)%s===0,style:$}}function getSegment(i,o,s){const{property:_,start:$,end:_e}=s,{between:et,normalize:j}=propertyFn(_),nt=o.length;let{start:ot,end:ct,loop:gt}=i,pt,ft;if(gt){for(ot+=nt,ct+=nt,pt=0,ft=nt;pt<ft&&et(j(o[ot%nt][_]),$,_e);++pt)ot--,ct--;ot%=nt,ct%=nt}return ct<ot&&(ct+=nt),{start:ot,end:ct,loop:gt,style:i.style}}function _boundSegment(i,o,s){if(!s)return[i];const{property:_,start:$,end:_e}=s,et=o.length,{compare:j,between:nt,normalize:ot}=propertyFn(_),{start:ct,end:gt,loop:pt,style:ft}=getSegment(i,o,s),ut=[];let yt=!1,wt=null,Qt,It,xt;const Tt=()=>nt($,xt,Qt)&&j($,xt)!==0,mt=()=>j(_e,Qt)===0||nt(_e,xt,Qt),Nt=()=>yt||Tt(),en=()=>!yt||mt();for(let rn=ct,Ft=ct;rn<=gt;++rn)It=o[rn%et],!It.skip&&(Qt=ot(It[_]),Qt!==xt&&(yt=nt(Qt,$,_e),wt===null&&Nt()&&(wt=j(Qt,$)===0?rn:Ft),wt!==null&&en()&&(ut.push(normalizeSegment({start:wt,end:rn,loop:pt,count:et,style:ft})),wt=null),Ft=rn,xt=Qt));return wt!==null&&ut.push(normalizeSegment({start:wt,end:gt,loop:pt,count:et,style:ft})),ut}function _boundSegments(i,o){const s=[],_=i.segments;for(let $=0;$<_.length;$++){const _e=_boundSegment(_[$],i.points,o);_e.length&&s.push(..._e)}return s}function findStartAndEnd(i,o,s,_){let $=0,_e=o-1;if(s&&!_)for(;$<o&&!i[$].skip;)$++;for(;$<o&&i[$].skip;)$++;for($%=o,s&&(_e+=$);_e>$&&i[_e%o].skip;)_e--;return _e%=o,{start:$,end:_e}}function solidSegments(i,o,s,_){const $=i.length,_e=[];let et=o,j=i[o],nt;for(nt=o+1;nt<=s;++nt){const ot=i[nt%$];ot.skip||ot.stop?j.skip||(_=!1,_e.push({start:o%$,end:(nt-1)%$,loop:_}),o=et=ot.stop?nt:null):(et=nt,j.skip&&(o=nt)),j=ot}return et!==null&&_e.push({start:o%$,end:et%$,loop:_}),_e}function _computeSegments(i,o){const s=i.points,_=i.options.spanGaps,$=s.length;if(!$)return[];const _e=!!i._loop,{start:et,end:j}=findStartAndEnd(s,$,_e,_);if(_===!0)return splitByStyles(i,[{start:et,end:j,loop:_e}],s,o);const nt=j<et?j+$:j,ot=!!i._fullLoop&&et===0&&j===$-1;return splitByStyles(i,solidSegments(s,et,nt,ot),s,o)}function splitByStyles(i,o,s,_){return!_||!_.setContext||!s?o:doSplitByStyles(i,o,s,_)}function doSplitByStyles(i,o,s,_){const $=i._chart.getContext(),_e=readStyle(i.options),{_datasetIndex:et,options:{spanGaps:j}}=i,nt=s.length,ot=[];let ct=_e,gt=o[0].start,pt=gt;function ft(ut,yt,wt,Qt){const It=j?-1:1;if(ut!==yt){for(ut+=nt;s[ut%nt].skip;)ut-=It;for(;s[yt%nt].skip;)yt+=It;ut%nt!==yt%nt&&(ot.push({start:ut%nt,end:yt%nt,loop:wt,style:Qt}),ct=Qt,gt=yt%nt)}}for(const ut of o){gt=j?gt:ut.start;let yt=s[gt%nt],wt;for(pt=gt+1;pt<=ut.end;pt++){const Qt=s[pt%nt];wt=readStyle(_.setContext(createContext($,{type:"segment",p0:yt,p1:Qt,p0DataIndex:(pt-1)%nt,p1DataIndex:pt%nt,datasetIndex:et}))),styleChanged(wt,ct)&&ft(gt,pt-1,ut.loop,ct),yt=Qt,ct=wt}gt<pt-1&&ft(gt,pt-1,ut.loop,ct)}return ot}function readStyle(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function styleChanged(i,o){return o&&JSON.stringify(i)!==JSON.stringify(o)}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(o,s,_,$){const _e=s.listeners[$],et=s.duration;_e.forEach(j=>j({chart:o,initial:s.initial,numSteps:et,currentStep:Math.min(_-s.start,et)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(o=Date.now()){let s=0;this._charts.forEach((_,$)=>{if(!_.running||!_.items.length)return;const _e=_.items;let et=_e.length-1,j=!1,nt;for(;et>=0;--et)nt=_e[et],nt._active?(nt._total>_.duration&&(_.duration=nt._total),nt.tick(o),j=!0):(_e[et]=_e[_e.length-1],_e.pop());j&&($.draw(),this._notify($,_,o,"progress")),_e.length||(_.running=!1,this._notify($,_,o,"complete"),_.initial=!1),s+=_e.length}),this._lastDate=o,s===0&&(this._running=!1)}_getAnims(o){const s=this._charts;let _=s.get(o);return _||(_={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(o,_)),_}listen(o,s,_){this._getAnims(o).listeners[s].push(_)}add(o,s){!s||!s.length||this._getAnims(o).items.push(...s)}has(o){return this._getAnims(o).items.length>0}start(o){const s=this._charts.get(o);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((_,$)=>Math.max(_,$._duration),0),this._refresh())}running(o){if(!this._running)return!1;const s=this._charts.get(o);return!(!s||!s.running||!s.items.length)}stop(o){const s=this._charts.get(o);if(!s||!s.items.length)return;const _=s.items;let $=_.length-1;for(;$>=0;--$)_[$].cancel();s.items=[],this._notify(o,s,Date.now(),"complete")}remove(o){return this._charts.delete(o)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(i,o,s){return s>.5?o:i},color(i,o,s){const _=color(i||transparent),$=_.valid&&color(o||transparent);return $&&$.valid?$.mix(_,s).hexString():o},number(i,o,s){return i+(o-i)*s}};class Animation{constructor(o,s,_,$){const _e=s[_];$=resolve([o.to,$,_e,o.from]);const et=resolve([o.from,_e,$]);this._active=!0,this._fn=o.fn||interpolators[o.type||typeof et],this._easing=effects[o.easing]||effects.linear,this._start=Math.floor(Date.now()+(o.delay||0)),this._duration=this._total=Math.floor(o.duration),this._loop=!!o.loop,this._target=s,this._prop=_,this._from=et,this._to=$,this._promises=void 0}active(){return this._active}update(o,s,_){if(this._active){this._notify(!1);const $=this._target[this._prop],_e=_-this._start,et=this._duration-_e;this._start=_,this._duration=Math.floor(Math.max(et,o.duration)),this._total+=_e,this._loop=!!o.loop,this._to=resolve([o.to,s,$,o.from]),this._from=resolve([o.from,$,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(o){const s=o-this._start,_=this._duration,$=this._prop,_e=this._from,et=this._loop,j=this._to;let nt;if(this._active=_e!==j&&(et||s<_),!this._active){this._target[$]=j,this._notify(!0);return}if(s<0){this._target[$]=_e;return}nt=s/_%2,nt=et&&nt>1?2-nt:nt,nt=this._easing(Math.min(1,Math.max(0,nt))),this._target[$]=this._fn(_e,j,nt)}wait(){const o=this._promises||(this._promises=[]);return new Promise((s,_)=>{o.push({res:s,rej:_})})}_notify(o){const s=o?"res":"rej",_=this._promises||[];for(let $=0;$<_.length;$++)_[$][s]()}}class Animations{constructor(o,s){this._chart=o,this._properties=new Map,this.configure(s)}configure(o){if(!isObject(o))return;const s=Object.keys(defaults.animation),_=this._properties;Object.getOwnPropertyNames(o).forEach($=>{const _e=o[$];if(!isObject(_e))return;const et={};for(const j of s)et[j]=_e[j];(isArray(_e.properties)&&_e.properties||[$]).forEach(j=>{(j===$||!_.has(j))&&_.set(j,et)})})}_animateOptions(o,s){const _=s.options,$=resolveTargetOptions(o,_);if(!$)return[];const _e=this._createAnimations($,_);return _.$shared&&awaitAll(o.options.$animations,_).then(()=>{o.options=_},()=>{}),_e}_createAnimations(o,s){const _=this._properties,$=[],_e=o.$animations||(o.$animations={}),et=Object.keys(s),j=Date.now();let nt;for(nt=et.length-1;nt>=0;--nt){const ot=et[nt];if(ot.charAt(0)==="$")continue;if(ot==="options"){$.push(...this._animateOptions(o,s));continue}const ct=s[ot];let gt=_e[ot];const pt=_.get(ot);if(gt)if(pt&&gt.active()){gt.update(pt,ct,j);continue}else gt.cancel();if(!pt||!pt.duration){o[ot]=ct;continue}_e[ot]=gt=new Animation(pt,o,ot,ct),$.push(gt)}return $}update(o,s){if(this._properties.size===0){Object.assign(o,s);return}const _=this._createAnimations(o,s);if(_.length)return animator.add(this._chart,_),!0}}function awaitAll(i,o){const s=[],_=Object.keys(o);for(let $=0;$<_.length;$++){const _e=i[_[$]];_e&&_e.active()&&s.push(_e.wait())}return Promise.all(s)}function resolveTargetOptions(i,o){if(!o)return;let s=i.options;if(!s){i.options=o;return}return s.$shared&&(i.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function scaleClip(i,o){const s=i&&i.options||{},_=s.reverse,$=s.min===void 0?o:0,_e=s.max===void 0?o:0;return{start:_?_e:$,end:_?$:_e}}function defaultClip(i,o,s){if(s===!1)return!1;const _=scaleClip(i,s),$=scaleClip(o,s);return{top:$.end,right:_.end,bottom:$.start,left:_.start}}function toClip(i){let o,s,_,$;return isObject(i)?(o=i.top,s=i.right,_=i.bottom,$=i.left):o=s=_=$=i,{top:o,right:s,bottom:_,left:$,disabled:i===!1}}function getSortedDatasetIndices(i,o){const s=[],_=i._getSortedDatasetMetas(o);let $,_e;for($=0,_e=_.length;$<_e;++$)s.push(_[$].index);return s}function applyStack(i,o,s,_={}){const $=i.keys,_e=_.mode==="single";let et,j,nt,ot;if(o!==null){for(et=0,j=$.length;et<j;++et){if(nt=+$[et],nt===s){if(_.all)continue;break}ot=i.values[nt],isNumberFinite(ot)&&(_e||o===0||sign(o)===sign(ot))&&(o+=ot)}return o}}function convertObjectDataToArray(i){const o=Object.keys(i),s=new Array(o.length);let _,$,_e;for(_=0,$=o.length;_<$;++_)_e=o[_],s[_]={x:_e,y:i[_e]};return s}function isStacked(i,o){const s=i&&i.options.stacked;return s||s===void 0&&o.stack!==void 0}function getStackKey(i,o,s){return`${i.id}.${o.id}.${s.stack||s.type}`}function getUserBounds(i){const{min:o,max:s,minDefined:_,maxDefined:$}=i.getUserBounds();return{min:_?o:Number.NEGATIVE_INFINITY,max:$?s:Number.POSITIVE_INFINITY}}function getOrCreateStack(i,o,s){const _=i[o]||(i[o]={});return _[s]||(_[s]={})}function getLastIndexInStack(i,o,s,_){for(const $ of o.getMatchingVisibleMetas(_).reverse()){const _e=i[$.index];if(s&&_e>0||!s&&_e<0)return $.index}return null}function updateStacks(i,o){const{chart:s,_cachedMeta:_}=i,$=s._stacks||(s._stacks={}),{iScale:_e,vScale:et,index:j}=_,nt=_e.axis,ot=et.axis,ct=getStackKey(_e,et,_),gt=o.length;let pt;for(let ft=0;ft<gt;++ft){const ut=o[ft],{[nt]:yt,[ot]:wt}=ut,Qt=ut._stacks||(ut._stacks={});pt=Qt[ot]=getOrCreateStack($,ct,yt),pt[j]=wt,pt._top=getLastIndexInStack(pt,et,!0,_.type),pt._bottom=getLastIndexInStack(pt,et,!1,_.type);const It=pt._visualValues||(pt._visualValues={});It[j]=wt}}function getFirstScaleId(i,o){const s=i.scales;return Object.keys(s).filter(_=>s[_].axis===o).shift()}function createDatasetContext(i,o){return createContext(i,{active:!1,dataset:void 0,datasetIndex:o,index:o,mode:"default",type:"dataset"})}function createDataContext(i,o,s){return createContext(i,{active:!1,dataIndex:o,parsed:void 0,raw:void 0,element:s,index:o,mode:"default",type:"data"})}function clearStacks(i,o){const s=i.controller.index,_=i.vScale&&i.vScale.axis;if(_){o=o||i._parsed;for(const $ of o){const _e=$._stacks;if(!_e||_e[_]===void 0||_e[_][s]===void 0)return;delete _e[_][s],_e[_]._visualValues!==void 0&&_e[_]._visualValues[s]!==void 0&&delete _e[_]._visualValues[s]}}}const isDirectUpdateMode=i=>i==="reset"||i==="none",cloneIfNotShared=(i,o)=>o?i:Object.assign({},i),createStack=(i,o,s)=>i&&!o.hidden&&o._stacked&&{keys:getSortedDatasetIndices(s,!0),values:null};class DatasetController{constructor(o,s){this.chart=o,this._ctx=o.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const o=this._cachedMeta;this.configure(),this.linkScales(),o._stacked=isStacked(o.vScale,o),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(o){this.index!==o&&clearStacks(this._cachedMeta),this.index=o}linkScales(){const o=this.chart,s=this._cachedMeta,_=this.getDataset(),$=(gt,pt,ft,ut)=>gt==="x"?pt:gt==="r"?ut:ft,_e=s.xAxisID=valueOrDefault(_.xAxisID,getFirstScaleId(o,"x")),et=s.yAxisID=valueOrDefault(_.yAxisID,getFirstScaleId(o,"y")),j=s.rAxisID=valueOrDefault(_.rAxisID,getFirstScaleId(o,"r")),nt=s.indexAxis,ot=s.iAxisID=$(nt,_e,et,j),ct=s.vAxisID=$(nt,et,_e,j);s.xScale=this.getScaleForId(_e),s.yScale=this.getScaleForId(et),s.rScale=this.getScaleForId(j),s.iScale=this.getScaleForId(ot),s.vScale=this.getScaleForId(ct)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(o){return this.chart.scales[o]}_getOtherScale(o){const s=this._cachedMeta;return o===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const o=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),o._stacked&&clearStacks(o)}_dataCheck(){const o=this.getDataset(),s=o.data||(o.data=[]),_=this._data;if(isObject(s))this._data=convertObjectDataToArray(s);else if(_!==s){if(_){unlistenArrayEvents(_,this);const $=this._cachedMeta;clearStacks($),$._parsed=[]}s&&Object.isExtensible(s)&&listenArrayEvents(s,this),this._syncList=[],this._data=s}}addElements(){const o=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(o.dataset=new this.datasetElementType)}buildOrUpdateElements(o){const s=this._cachedMeta,_=this.getDataset();let $=!1;this._dataCheck();const _e=s._stacked;s._stacked=isStacked(s.vScale,s),s.stack!==_.stack&&($=!0,clearStacks(s),s.stack=_.stack),this._resyncElements(o),($||_e!==s._stacked)&&updateStacks(this,s._parsed)}configure(){const o=this.chart.config,s=o.datasetScopeKeys(this._type),_=o.getOptionScopes(this.getDataset(),s,!0);this.options=o.createResolver(_,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(o,s){const{_cachedMeta:_,_data:$}=this,{iScale:_e,_stacked:et}=_,j=_e.axis;let nt=o===0&&s===$.length?!0:_._sorted,ot=o>0&&_._parsed[o-1],ct,gt,pt;if(this._parsing===!1)_._parsed=$,_._sorted=!0,pt=$;else{isArray($[o])?pt=this.parseArrayData(_,$,o,s):isObject($[o])?pt=this.parseObjectData(_,$,o,s):pt=this.parsePrimitiveData(_,$,o,s);const ft=()=>gt[j]===null||ot&&gt[j]<ot[j];for(ct=0;ct<s;++ct)_._parsed[ct+o]=gt=pt[ct],nt&&(ft()&&(nt=!1),ot=gt);_._sorted=nt}et&&updateStacks(this,pt)}parsePrimitiveData(o,s,_,$){const{iScale:_e,vScale:et}=o,j=_e.axis,nt=et.axis,ot=_e.getLabels(),ct=_e===et,gt=new Array($);let pt,ft,ut;for(pt=0,ft=$;pt<ft;++pt)ut=pt+_,gt[pt]={[j]:ct||_e.parse(ot[ut],ut),[nt]:et.parse(s[ut],ut)};return gt}parseArrayData(o,s,_,$){const{xScale:_e,yScale:et}=o,j=new Array($);let nt,ot,ct,gt;for(nt=0,ot=$;nt<ot;++nt)ct=nt+_,gt=s[ct],j[nt]={x:_e.parse(gt[0],ct),y:et.parse(gt[1],ct)};return j}parseObjectData(o,s,_,$){const{xScale:_e,yScale:et}=o,{xAxisKey:j="x",yAxisKey:nt="y"}=this._parsing,ot=new Array($);let ct,gt,pt,ft;for(ct=0,gt=$;ct<gt;++ct)pt=ct+_,ft=s[pt],ot[ct]={x:_e.parse(resolveObjectKey(ft,j),pt),y:et.parse(resolveObjectKey(ft,nt),pt)};return ot}getParsed(o){return this._cachedMeta._parsed[o]}getDataElement(o){return this._cachedMeta.data[o]}applyStack(o,s,_){const $=this.chart,_e=this._cachedMeta,et=s[o.axis],j={keys:getSortedDatasetIndices($,!0),values:s._stacks[o.axis]._visualValues};return applyStack(j,et,_e.index,{mode:_})}updateRangeFromParsed(o,s,_,$){const _e=_[s.axis];let et=_e===null?NaN:_e;const j=$&&_._stacks[s.axis];$&&j&&($.values=j,et=applyStack($,_e,this._cachedMeta.index)),o.min=Math.min(o.min,et),o.max=Math.max(o.max,et)}getMinMax(o,s){const _=this._cachedMeta,$=_._parsed,_e=_._sorted&&o===_.iScale,et=$.length,j=this._getOtherScale(o),nt=createStack(s,_,this.chart),ot={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:ct,max:gt}=getUserBounds(j);let pt,ft;function ut(){ft=$[pt];const yt=ft[j.axis];return!isNumberFinite(ft[o.axis])||ct>yt||gt<yt}for(pt=0;pt<et&&!(!ut()&&(this.updateRangeFromParsed(ot,o,ft,nt),_e));++pt);if(_e){for(pt=et-1;pt>=0;--pt)if(!ut()){this.updateRangeFromParsed(ot,o,ft,nt);break}}return ot}getAllParsedValues(o){const s=this._cachedMeta._parsed,_=[];let $,_e,et;for($=0,_e=s.length;$<_e;++$)et=s[$][o.axis],isNumberFinite(et)&&_.push(et);return _}getMaxOverflow(){return!1}getLabelAndValue(o){const s=this._cachedMeta,_=s.iScale,$=s.vScale,_e=this.getParsed(o);return{label:_?""+_.getLabelForValue(_e[_.axis]):"",value:$?""+$.getLabelForValue(_e[$.axis]):""}}_update(o){const s=this._cachedMeta;this.update(o||"default"),s._clip=toClip(valueOrDefault(this.options.clip,defaultClip(s.xScale,s.yScale,this.getMaxOverflow())))}update(o){}draw(){const o=this._ctx,s=this.chart,_=this._cachedMeta,$=_.data||[],_e=s.chartArea,et=[],j=this._drawStart||0,nt=this._drawCount||$.length-j,ot=this.options.drawActiveElementsOnTop;let ct;for(_.dataset&&_.dataset.draw(o,_e,j,nt),ct=j;ct<j+nt;++ct){const gt=$[ct];gt.hidden||(gt.active&&ot?et.push(gt):gt.draw(o,_e))}for(ct=0;ct<et.length;++ct)et[ct].draw(o,_e)}getStyle(o,s){const _=s?"active":"default";return o===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(_):this.resolveDataElementOptions(o||0,_)}getContext(o,s,_){const $=this.getDataset();let _e;if(o>=0&&o<this._cachedMeta.data.length){const et=this._cachedMeta.data[o];_e=et.$context||(et.$context=createDataContext(this.getContext(),o,et)),_e.parsed=this.getParsed(o),_e.raw=$.data[o],_e.index=_e.dataIndex=o}else _e=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),_e.dataset=$,_e.index=_e.datasetIndex=this.index;return _e.active=!!s,_e.mode=_,_e}resolveDatasetElementOptions(o){return this._resolveElementOptions(this.datasetElementType.id,o)}resolveDataElementOptions(o,s){return this._resolveElementOptions(this.dataElementType.id,s,o)}_resolveElementOptions(o,s="default",_){const $=s==="active",_e=this._cachedDataOpts,et=o+"-"+s,j=_e[et],nt=this.enableOptionSharing&&defined(_);if(j)return cloneIfNotShared(j,nt);const ot=this.chart.config,ct=ot.datasetElementScopeKeys(this._type,o),gt=$?[`${o}Hover`,"hover",o,""]:[o,""],pt=ot.getOptionScopes(this.getDataset(),ct),ft=Object.keys(defaults.elements[o]),ut=()=>this.getContext(_,$,s),yt=ot.resolveNamedOptions(pt,ft,ut,gt);return yt.$shared&&(yt.$shared=nt,_e[et]=Object.freeze(cloneIfNotShared(yt,nt))),yt}_resolveAnimations(o,s,_){const $=this.chart,_e=this._cachedDataOpts,et=`animation-${s}`,j=_e[et];if(j)return j;let nt;if($.options.animation!==!1){const ct=this.chart.config,gt=ct.datasetAnimationScopeKeys(this._type,s),pt=ct.getOptionScopes(this.getDataset(),gt);nt=ct.createResolver(pt,this.getContext(o,_,s))}const ot=new Animations($,nt&&nt.animations);return nt&&nt._cacheable&&(_e[et]=Object.freeze(ot)),ot}getSharedOptions(o){if(o.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},o))}includeOptions(o,s){return!s||isDirectUpdateMode(o)||this.chart._animationsDisabled}_getSharedOptions(o,s){const _=this.resolveDataElementOptions(o,s),$=this._sharedOptions,_e=this.getSharedOptions(_),et=this.includeOptions(s,_e)||_e!==$;return this.updateSharedOptions(_e,s,_),{sharedOptions:_e,includeOptions:et}}updateElement(o,s,_,$){isDirectUpdateMode($)?Object.assign(o,_):this._resolveAnimations(s,$).update(o,_)}updateSharedOptions(o,s,_){o&&!isDirectUpdateMode(s)&&this._resolveAnimations(void 0,s).update(o,_)}_setStyle(o,s,_,$){o.active=$;const _e=this.getStyle(s,$);this._resolveAnimations(s,_,$).update(o,{options:!$&&this.getSharedOptions(_e)||_e})}removeHoverStyle(o,s,_){this._setStyle(o,_,"active",!1)}setHoverStyle(o,s,_){this._setStyle(o,_,"active",!0)}_removeDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!1)}_setDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!0)}_resyncElements(o){const s=this._data,_=this._cachedMeta.data;for(const[j,nt,ot]of this._syncList)this[j](nt,ot);this._syncList=[];const $=_.length,_e=s.length,et=Math.min(_e,$);et&&this.parse(0,et),_e>$?this._insertElements($,_e-$,o):_e<$&&this._removeElements(_e,$-_e)}_insertElements(o,s,_=!0){const $=this._cachedMeta,_e=$.data,et=o+s;let j;const nt=ot=>{for(ot.length+=s,j=ot.length-1;j>=et;j--)ot[j]=ot[j-s]};for(nt(_e),j=o;j<et;++j)_e[j]=new this.dataElementType;this._parsing&&nt($._parsed),this.parse(o,s),_&&this.updateElements(_e,o,s,"reset")}updateElements(o,s,_,$){}_removeElements(o,s){const _=this._cachedMeta;if(this._parsing){const $=_._parsed.splice(o,s);_._stacked&&clearStacks(_,$)}_.data.splice(o,s)}_sync(o){if(this._parsing)this._syncList.push(o);else{const[s,_,$]=o;this[s](_,$)}this.chart._dataChanges.push([this.index,...o])}_onDataPush(){const o=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-o,o])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(o,s){s&&this._sync(["_removeElements",o,s]);const _=arguments.length-2;_&&this._sync(["_insertElements",o,_])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}__publicField3(DatasetController,"defaults",{});__publicField3(DatasetController,"datasetElementType",null);__publicField3(DatasetController,"dataElementType",null);function getAllScaleValues(i,o){if(!i._cache.$bar){const s=i.getMatchingVisibleMetas(o);let _=[];for(let $=0,_e=s.length;$<_e;$++)_=_.concat(s[$].controller.getAllParsedValues(i));i._cache.$bar=_arrayUnique(_.sort(($,_e)=>$-_e))}return i._cache.$bar}function computeMinSampleSize(i){const o=i.iScale,s=getAllScaleValues(o,i.type);let _=o._length,$,_e,et,j;const nt=()=>{et===32767||et===-32768||(defined(j)&&(_=Math.min(_,Math.abs(et-j)||_)),j=et)};for($=0,_e=s.length;$<_e;++$)et=o.getPixelForValue(s[$]),nt();for(j=void 0,$=0,_e=o.ticks.length;$<_e;++$)et=o.getPixelForTick($),nt();return _}function computeFitCategoryTraits(i,o,s,_){const $=s.barThickness;let _e,et;return isNullOrUndef($)?(_e=o.min*s.categoryPercentage,et=s.barPercentage):(_e=$*_,et=1),{chunk:_e/_,ratio:et,start:o.pixels[i]-_e/2}}function computeFlexCategoryTraits(i,o,s,_){const $=o.pixels,_e=$[i];let et=i>0?$[i-1]:null,j=i<$.length-1?$[i+1]:null;const nt=s.categoryPercentage;et===null&&(et=_e-(j===null?o.end-o.start:j-_e)),j===null&&(j=_e+_e-et);const ot=_e-(_e-Math.min(et,j))/2*nt;return{chunk:Math.abs(j-et)/2*nt/_,ratio:s.barPercentage,start:ot}}function parseFloatBar(i,o,s,_){const $=s.parse(i[0],_),_e=s.parse(i[1],_),et=Math.min($,_e),j=Math.max($,_e);let nt=et,ot=j;Math.abs(et)>Math.abs(j)&&(nt=j,ot=et),o[s.axis]=ot,o._custom={barStart:nt,barEnd:ot,start:$,end:_e,min:et,max:j}}function parseValue(i,o,s,_){return isArray(i)?parseFloatBar(i,o,s,_):o[s.axis]=s.parse(i,_),o}function parseArrayOrPrimitive(i,o,s,_){const $=i.iScale,_e=i.vScale,et=$.getLabels(),j=$===_e,nt=[];let ot,ct,gt,pt;for(ot=s,ct=s+_;ot<ct;++ot)pt=o[ot],gt={},gt[$.axis]=j||$.parse(et[ot],ot),nt.push(parseValue(pt,gt,_e,ot));return nt}function isFloatBar(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function barSign(i,o,s){return i!==0?sign(i):(o.isHorizontal()?1:-1)*(o.min>=s?1:-1)}function borderProps(i){let o,s,_,$,_e;return i.horizontal?(o=i.base>i.x,s="left",_="right"):(o=i.base<i.y,s="bottom",_="top"),o?($="end",_e="start"):($="start",_e="end"),{start:s,end:_,reverse:o,top:$,bottom:_e}}function setBorderSkipped(i,o,s,_){let $=o.borderSkipped;const _e={};if(!$){i.borderSkipped=_e;return}if($===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:et,end:j,reverse:nt,top:ot,bottom:ct}=borderProps(i);$==="middle"&&s&&(i.enableBorderRadius=!0,(s._top||0)===_?$=ot:(s._bottom||0)===_?$=ct:(_e[parseEdge(ct,et,j,nt)]=!0,$=ot)),_e[parseEdge($,et,j,nt)]=!0,i.borderSkipped=_e}function parseEdge(i,o,s,_){return _?(i=swap(i,o,s),i=startEnd(i,s,o)):i=startEnd(i,o,s),i}function swap(i,o,s){return i===o?s:i===s?o:i}function startEnd(i,o,s){return i==="start"?o:i==="end"?s:i}function setInflateAmount(i,{inflateAmount:o},s){i.inflateAmount=o==="auto"?s===1?.33:0:o}class BarController extends DatasetController{parsePrimitiveData(o,s,_,$){return parseArrayOrPrimitive(o,s,_,$)}parseArrayData(o,s,_,$){return parseArrayOrPrimitive(o,s,_,$)}parseObjectData(o,s,_,$){const{iScale:_e,vScale:et}=o,{xAxisKey:j="x",yAxisKey:nt="y"}=this._parsing,ot=_e.axis==="x"?j:nt,ct=et.axis==="x"?j:nt,gt=[];let pt,ft,ut,yt;for(pt=_,ft=_+$;pt<ft;++pt)yt=s[pt],ut={},ut[_e.axis]=_e.parse(resolveObjectKey(yt,ot),pt),gt.push(parseValue(resolveObjectKey(yt,ct),ut,et,pt));return gt}updateRangeFromParsed(o,s,_,$){super.updateRangeFromParsed(o,s,_,$);const _e=_._custom;_e&&s===this._cachedMeta.vScale&&(o.min=Math.min(o.min,_e.min),o.max=Math.max(o.max,_e.max))}getMaxOverflow(){return 0}getLabelAndValue(o){const s=this._cachedMeta,{iScale:_,vScale:$}=s,_e=this.getParsed(o),et=_e._custom,j=isFloatBar(et)?"["+et.start+", "+et.end+"]":""+$.getLabelForValue(_e[$.axis]);return{label:""+_.getLabelForValue(_e[_.axis]),value:j}}initialize(){this.enableOptionSharing=!0,super.initialize();const o=this._cachedMeta;o.stack=this.getDataset().stack}update(o){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,o)}updateElements(o,s,_,$){const _e=$==="reset",{index:et,_cachedMeta:{vScale:j}}=this,nt=j.getBasePixel(),ot=j.isHorizontal(),ct=this._getRuler(),{sharedOptions:gt,includeOptions:pt}=this._getSharedOptions(s,$);for(let ft=s;ft<s+_;ft++){const ut=this.getParsed(ft),yt=_e||isNullOrUndef(ut[j.axis])?{base:nt,head:nt}:this._calculateBarValuePixels(ft),wt=this._calculateBarIndexPixels(ft,ct),Qt=(ut._stacks||{})[j.axis],It={horizontal:ot,base:yt.base,enableBorderRadius:!Qt||isFloatBar(ut._custom)||et===Qt._top||et===Qt._bottom,x:ot?yt.head:wt.center,y:ot?wt.center:yt.head,height:ot?wt.size:Math.abs(yt.size),width:ot?Math.abs(yt.size):wt.size};pt&&(It.options=gt||this.resolveDataElementOptions(ft,o[ft].active?"active":$));const xt=It.options||o[ft].options;setBorderSkipped(It,xt,Qt,et),setInflateAmount(It,xt,ct.ratio),this.updateElement(o[ft],ft,It,$)}}_getStacks(o,s){const{iScale:_}=this._cachedMeta,$=_.getMatchingVisibleMetas(this._type).filter(nt=>nt.controller.options.grouped),_e=_.options.stacked,et=[],j=nt=>{const ot=nt.controller.getParsed(s),ct=ot&&ot[nt.vScale.axis];if(isNullOrUndef(ct)||isNaN(ct))return!0};for(const nt of $)if(!(s!==void 0&&j(nt))&&((_e===!1||et.indexOf(nt.stack)===-1||_e===void 0&&nt.stack===void 0)&&et.push(nt.stack),nt.index===o))break;return et.length||et.push(void 0),et}_getStackCount(o){return this._getStacks(void 0,o).length}_getStackIndex(o,s,_){const $=this._getStacks(o,_),_e=s!==void 0?$.indexOf(s):-1;return _e===-1?$.length-1:_e}_getRuler(){const o=this.options,s=this._cachedMeta,_=s.iScale,$=[];let _e,et;for(_e=0,et=s.data.length;_e<et;++_e)$.push(_.getPixelForValue(this.getParsed(_e)[_.axis],_e));const j=o.barThickness;return{min:j||computeMinSampleSize(s),pixels:$,start:_._startPixel,end:_._endPixel,stackCount:this._getStackCount(),scale:_,grouped:o.grouped,ratio:j?1:o.categoryPercentage*o.barPercentage}}_calculateBarValuePixels(o){const{_cachedMeta:{vScale:s,_stacked:_,index:$},options:{base:_e,minBarLength:et}}=this,j=_e||0,nt=this.getParsed(o),ot=nt._custom,ct=isFloatBar(ot);let gt=nt[s.axis],pt=0,ft=_?this.applyStack(s,nt,_):gt,ut,yt;ft!==gt&&(pt=ft-gt,ft=gt),ct&&(gt=ot.barStart,ft=ot.barEnd-ot.barStart,gt!==0&&sign(gt)!==sign(ot.barEnd)&&(pt=0),pt+=gt);const wt=!isNullOrUndef(_e)&&!ct?_e:pt;let Qt=s.getPixelForValue(wt);if(this.chart.getDataVisibility(o)?ut=s.getPixelForValue(pt+ft):ut=Qt,yt=ut-Qt,Math.abs(yt)<et){yt=barSign(yt,s,j)*et,gt===j&&(Qt-=yt/2);const It=s.getPixelForDecimal(0),xt=s.getPixelForDecimal(1),Tt=Math.min(It,xt),mt=Math.max(It,xt);Qt=Math.max(Math.min(Qt,mt),Tt),ut=Qt+yt,_&&!ct&&(nt._stacks[s.axis]._visualValues[$]=s.getValueForPixel(ut)-s.getValueForPixel(Qt))}if(Qt===s.getPixelForValue(j)){const It=sign(yt)*s.getLineWidthForValue(j)/2;Qt+=It,yt-=It}return{size:yt,base:Qt,head:ut,center:ut+yt/2}}_calculateBarIndexPixels(o,s){const _=s.scale,$=this.options,_e=$.skipNull,et=valueOrDefault($.maxBarThickness,1/0);let j,nt;if(s.grouped){const ot=_e?this._getStackCount(o):s.stackCount,ct=$.barThickness==="flex"?computeFlexCategoryTraits(o,s,$,ot):computeFitCategoryTraits(o,s,$,ot),gt=this._getStackIndex(this.index,this._cachedMeta.stack,_e?o:void 0);j=ct.start+ct.chunk*gt+ct.chunk/2,nt=Math.min(et,ct.chunk*ct.ratio)}else j=_.getPixelForValue(this.getParsed(o)[_.axis],o),nt=Math.min(et,s.min*s.ratio);return{base:j-nt/2,head:j+nt/2,center:j,size:nt}}draw(){const o=this._cachedMeta,s=o.vScale,_=o.data,$=_.length;let _e=0;for(;_e<$;++_e)this.getParsed(_e)[s.axis]!==null&&_[_e].draw(this._ctx)}}__publicField3(BarController,"id","bar");__publicField3(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}});__publicField3(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(o,s,_,$){const _e=super.parsePrimitiveData(o,s,_,$);for(let et=0;et<_e.length;et++)_e[et]._custom=this.resolveDataElementOptions(et+_).radius;return _e}parseArrayData(o,s,_,$){const _e=super.parseArrayData(o,s,_,$);for(let et=0;et<_e.length;et++){const j=s[_+et];_e[et]._custom=valueOrDefault(j[2],this.resolveDataElementOptions(et+_).radius)}return _e}parseObjectData(o,s,_,$){const _e=super.parseObjectData(o,s,_,$);for(let et=0;et<_e.length;et++){const j=s[_+et];_e[et]._custom=valueOrDefault(j&&j.r&&+j.r,this.resolveDataElementOptions(et+_).radius)}return _e}getMaxOverflow(){const o=this._cachedMeta.data;let s=0;for(let _=o.length-1;_>=0;--_)s=Math.max(s,o[_].size(this.resolveDataElementOptions(_))/2);return s>0&&s}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart.data.labels||[],{xScale:$,yScale:_e}=s,et=this.getParsed(o),j=$.getLabelForValue(et.x),nt=_e.getLabelForValue(et.y),ot=et._custom;return{label:_[o]||"",value:"("+j+", "+nt+(ot?", "+ot:"")+")"}}update(o){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,o)}updateElements(o,s,_,$){const _e=$==="reset",{iScale:et,vScale:j}=this._cachedMeta,{sharedOptions:nt,includeOptions:ot}=this._getSharedOptions(s,$),ct=et.axis,gt=j.axis;for(let pt=s;pt<s+_;pt++){const ft=o[pt],ut=!_e&&this.getParsed(pt),yt={},wt=yt[ct]=_e?et.getPixelForDecimal(.5):et.getPixelForValue(ut[ct]),Qt=yt[gt]=_e?j.getBasePixel():j.getPixelForValue(ut[gt]);yt.skip=isNaN(wt)||isNaN(Qt),ot&&(yt.options=nt||this.resolveDataElementOptions(pt,ft.active?"active":$),_e&&(yt.options.radius=0)),this.updateElement(ft,pt,yt,$)}}resolveDataElementOptions(o,s){const _=this.getParsed(o);let $=super.resolveDataElementOptions(o,s);$.$shared&&($=Object.assign({},$,{$shared:!1}));const _e=$.radius;return s!=="active"&&($.radius=0),$.radius+=valueOrDefault(_&&_._custom,_e),$}}__publicField3(BubbleController,"id","bubble");__publicField3(BubbleController,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}});__publicField3(BubbleController,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function getRatioAndOffset(i,o,s){let _=1,$=1,_e=0,et=0;if(o<TAU){const j=i,nt=j+o,ot=Math.cos(j),ct=Math.sin(j),gt=Math.cos(nt),pt=Math.sin(nt),ft=(xt,Tt,mt)=>_angleBetween(xt,j,nt,!0)?1:Math.max(Tt,Tt*s,mt,mt*s),ut=(xt,Tt,mt)=>_angleBetween(xt,j,nt,!0)?-1:Math.min(Tt,Tt*s,mt,mt*s),yt=ft(0,ot,gt),wt=ft(HALF_PI,ct,pt),Qt=ut(PI,ot,gt),It=ut(PI+HALF_PI,ct,pt);_=(yt-Qt)/2,$=(wt-It)/2,_e=-(yt+Qt)/2,et=-(wt+It)/2}return{ratioX:_,ratioY:$,offsetX:_e,offsetY:et}}class DoughnutController extends DatasetController{constructor(o,s){super(o,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(o,s){const _=this.getDataset().data,$=this._cachedMeta;if(this._parsing===!1)$._parsed=_;else{let _e=nt=>+_[nt];if(isObject(_[o])){const{key:nt="value"}=this._parsing;_e=ot=>+resolveObjectKey(_[ot],nt)}let et,j;for(et=o,j=o+s;et<j;++et)$._parsed[et]=_e(et)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let o=TAU,s=-TAU;for(let _=0;_<this.chart.data.datasets.length;++_)if(this.chart.isDatasetVisible(_)&&this.chart.getDatasetMeta(_).type===this._type){const $=this.chart.getDatasetMeta(_).controller,_e=$._getRotation(),et=$._getCircumference();o=Math.min(o,_e),s=Math.max(s,_e+et)}return{rotation:o,circumference:s-o}}update(o){const s=this.chart,{chartArea:_}=s,$=this._cachedMeta,_e=$.data,et=this.getMaxBorderWidth()+this.getMaxOffset(_e)+this.options.spacing,j=Math.max((Math.min(_.width,_.height)-et)/2,0),nt=Math.min(toPercentage(this.options.cutout,j),1),ot=this._getRingWeight(this.index),{circumference:ct,rotation:gt}=this._getRotationExtents(),{ratioX:pt,ratioY:ft,offsetX:ut,offsetY:yt}=getRatioAndOffset(gt,ct,nt),wt=(_.width-et)/pt,Qt=(_.height-et)/ft,It=Math.max(Math.min(wt,Qt)/2,0),xt=toDimension(this.options.radius,It),Tt=Math.max(xt*nt,0),mt=(xt-Tt)/this._getVisibleDatasetWeightTotal();this.offsetX=ut*xt,this.offsetY=yt*xt,$.total=this.calculateTotal(),this.outerRadius=xt-mt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-mt*ot,0),this.updateElements(_e,0,_e.length,o)}_circumference(o,s){const _=this.options,$=this._cachedMeta,_e=this._getCircumference();return s&&_.animation.animateRotate||!this.chart.getDataVisibility(o)||$._parsed[o]===null||$.data[o].hidden?0:this.calculateCircumference($._parsed[o]*_e/TAU)}updateElements(o,s,_,$){const _e=$==="reset",et=this.chart,j=et.chartArea,ot=et.options.animation,ct=(j.left+j.right)/2,gt=(j.top+j.bottom)/2,pt=_e&&ot.animateScale,ft=pt?0:this.innerRadius,ut=pt?0:this.outerRadius,{sharedOptions:yt,includeOptions:wt}=this._getSharedOptions(s,$);let Qt=this._getRotation(),It;for(It=0;It<s;++It)Qt+=this._circumference(It,_e);for(It=s;It<s+_;++It){const xt=this._circumference(It,_e),Tt=o[It],mt={x:ct+this.offsetX,y:gt+this.offsetY,startAngle:Qt,endAngle:Qt+xt,circumference:xt,outerRadius:ut,innerRadius:ft};wt&&(mt.options=yt||this.resolveDataElementOptions(It,Tt.active?"active":$)),Qt+=xt,this.updateElement(Tt,It,mt,$)}}calculateTotal(){const o=this._cachedMeta,s=o.data;let _=0,$;for($=0;$<s.length;$++){const _e=o._parsed[$];_e!==null&&!isNaN(_e)&&this.chart.getDataVisibility($)&&!s[$].hidden&&(_+=Math.abs(_e))}return _}calculateCircumference(o){const s=this._cachedMeta.total;return s>0&&!isNaN(o)?TAU*(Math.abs(o)/s):0}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart,$=_.data.labels||[],_e=formatNumber(s._parsed[o],_.options.locale);return{label:$[o]||"",value:_e}}getMaxBorderWidth(o){let s=0;const _=this.chart;let $,_e,et,j,nt;if(!o){for($=0,_e=_.data.datasets.length;$<_e;++$)if(_.isDatasetVisible($)){et=_.getDatasetMeta($),o=et.data,j=et.controller;break}}if(!o)return 0;for($=0,_e=o.length;$<_e;++$)nt=j.resolveDataElementOptions($),nt.borderAlign!=="inner"&&(s=Math.max(s,nt.borderWidth||0,nt.hoverBorderWidth||0));return s}getMaxOffset(o){let s=0;for(let _=0,$=o.length;_<$;++_){const _e=this.resolveDataElementOptions(_);s=Math.max(s,_e.offset||0,_e.hoverOffset||0)}return s}_getRingWeightOffset(o){let s=0;for(let _=0;_<o;++_)this.chart.isDatasetVisible(_)&&(s+=this._getRingWeight(_));return s}_getRingWeight(o){return Math.max(valueOrDefault(this.chart.data.datasets[o].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}__publicField3(DoughnutController,"id","doughnut");__publicField3(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"});__publicField3(DoughnutController,"descriptors",{_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"});__publicField3(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const o=i.data;if(o.labels.length&&o.datasets.length){const{labels:{pointStyle:s,color:_}}=i.legend.options;return o.labels.map(($,_e)=>{const j=i.getDatasetMeta(0).controller.getStyle(_e);return{text:$,fillStyle:j.backgroundColor,strokeStyle:j.borderColor,fontColor:_,lineWidth:j.borderWidth,pointStyle:s,hidden:!i.getDataVisibility(_e),index:_e}})}return[]}},onClick(i,o,s){s.chart.toggleDataVisibility(o.index),s.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(o){const s=this._cachedMeta,{dataset:_,data:$=[],_dataset:_e}=s,et=this.chart._animationsDisabled;let{start:j,count:nt}=_getStartAndCountOfVisiblePoints(s,$,et);this._drawStart=j,this._drawCount=nt,_scaleRangesChanged(s)&&(j=0,nt=$.length),_._chart=this.chart,_._datasetIndex=this.index,_._decimated=!!_e._decimated,_.points=$;const ot=this.resolveDatasetElementOptions(o);this.options.showLine||(ot.borderWidth=0),ot.segment=this.options.segment,this.updateElement(_,void 0,{animated:!et,options:ot},o),this.updateElements($,j,nt,o)}updateElements(o,s,_,$){const _e=$==="reset",{iScale:et,vScale:j,_stacked:nt,_dataset:ot}=this._cachedMeta,{sharedOptions:ct,includeOptions:gt}=this._getSharedOptions(s,$),pt=et.axis,ft=j.axis,{spanGaps:ut,segment:yt}=this.options,wt=isNumber(ut)?ut:Number.POSITIVE_INFINITY,Qt=this.chart._animationsDisabled||_e||$==="none",It=s+_,xt=o.length;let Tt=s>0&&this.getParsed(s-1);for(let mt=0;mt<xt;++mt){const Nt=o[mt],en=Qt?Nt:{};if(mt<s||mt>=It){en.skip=!0;continue}const rn=this.getParsed(mt),Ft=isNullOrUndef(rn[ft]),St=en[pt]=et.getPixelForValue(rn[pt],mt),Pt=en[ft]=_e||Ft?j.getBasePixel():j.getPixelForValue(nt?this.applyStack(j,rn,nt):rn[ft],mt);en.skip=isNaN(St)||isNaN(Pt)||Ft,en.stop=mt>0&&Math.abs(rn[pt]-Tt[pt])>wt,yt&&(en.parsed=rn,en.raw=ot.data[mt]),gt&&(en.options=ct||this.resolveDataElementOptions(mt,Nt.active?"active":$)),Qt||this.updateElement(Nt,mt,en,$),Tt=rn}}getMaxOverflow(){const o=this._cachedMeta,s=o.dataset,_=s.options&&s.options.borderWidth||0,$=o.data||[];if(!$.length)return _;const _e=$[0].size(this.resolveDataElementOptions(0)),et=$[$.length-1].size(this.resolveDataElementOptions($.length-1));return Math.max(_,_e,et)/2}draw(){const o=this._cachedMeta;o.dataset.updateControlPoints(this.chart.chartArea,o.iScale.axis),super.draw()}}__publicField3(LineController,"id","line");__publicField3(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1});__publicField3(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PolarAreaController extends DatasetController{constructor(o,s){super(o,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart,$=_.data.labels||[],_e=formatNumber(s._parsed[o].r,_.options.locale);return{label:$[o]||"",value:_e}}parseObjectData(o,s,_,$){return _parseObjectDataRadialScale.bind(this)(o,s,_,$)}update(o){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,o)}getMinMax(){const o=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return o.data.forEach((_,$)=>{const _e=this.getParsed($).r;!isNaN(_e)&&this.chart.getDataVisibility($)&&(_e<s.min&&(s.min=_e),_e>s.max&&(s.max=_e))}),s}_updateRadius(){const o=this.chart,s=o.chartArea,_=o.options,$=Math.min(s.right-s.left,s.bottom-s.top),_e=Math.max($/2,0),et=Math.max(_.cutoutPercentage?_e/100*_.cutoutPercentage:1,0),j=(_e-et)/o.getVisibleDatasetCount();this.outerRadius=_e-j*this.index,this.innerRadius=this.outerRadius-j}updateElements(o,s,_,$){const _e=$==="reset",et=this.chart,nt=et.options.animation,ot=this._cachedMeta.rScale,ct=ot.xCenter,gt=ot.yCenter,pt=ot.getIndexAngle(0)-.5*PI;let ft=pt,ut;const yt=360/this.countVisibleElements();for(ut=0;ut<s;++ut)ft+=this._computeAngle(ut,$,yt);for(ut=s;ut<s+_;ut++){const wt=o[ut];let Qt=ft,It=ft+this._computeAngle(ut,$,yt),xt=et.getDataVisibility(ut)?ot.getDistanceFromCenterForValue(this.getParsed(ut).r):0;ft=It,_e&&(nt.animateScale&&(xt=0),nt.animateRotate&&(Qt=It=pt));const Tt={x:ct,y:gt,innerRadius:0,outerRadius:xt,startAngle:Qt,endAngle:It,options:this.resolveDataElementOptions(ut,wt.active?"active":$)};this.updateElement(wt,ut,Tt,$)}}countVisibleElements(){const o=this._cachedMeta;let s=0;return o.data.forEach((_,$)=>{!isNaN(this.getParsed($).r)&&this.chart.getDataVisibility($)&&s++}),s}_computeAngle(o,s,_){return this.chart.getDataVisibility(o)?toRadians(this.resolveDataElementOptions(o,s).angle||_):0}}__publicField3(PolarAreaController,"id","polarArea");__publicField3(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0});__publicField3(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const o=i.data;if(o.labels.length&&o.datasets.length){const{labels:{pointStyle:s,color:_}}=i.legend.options;return o.labels.map(($,_e)=>{const j=i.getDatasetMeta(0).controller.getStyle(_e);return{text:$,fillStyle:j.backgroundColor,strokeStyle:j.borderColor,fontColor:_,lineWidth:j.borderWidth,pointStyle:s,hidden:!i.getDataVisibility(_e),index:_e}})}return[]}},onClick(i,o,s){s.chart.toggleDataVisibility(o.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PieController extends DoughnutController{}__publicField3(PieController,"id","pie");__publicField3(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class RadarController extends DatasetController{getLabelAndValue(o){const s=this._cachedMeta.vScale,_=this.getParsed(o);return{label:s.getLabels()[o],value:""+s.getLabelForValue(_[s.axis])}}parseObjectData(o,s,_,$){return _parseObjectDataRadialScale.bind(this)(o,s,_,$)}update(o){const s=this._cachedMeta,_=s.dataset,$=s.data||[],_e=s.iScale.getLabels();if(_.points=$,o!=="resize"){const et=this.resolveDatasetElementOptions(o);this.options.showLine||(et.borderWidth=0);const j={_loop:!0,_fullLoop:_e.length===$.length,options:et};this.updateElement(_,void 0,j,o)}this.updateElements($,0,$.length,o)}updateElements(o,s,_,$){const _e=this._cachedMeta.rScale,et=$==="reset";for(let j=s;j<s+_;j++){const nt=o[j],ot=this.resolveDataElementOptions(j,nt.active?"active":$),ct=_e.getPointPositionForValue(j,this.getParsed(j).r),gt=et?_e.xCenter:ct.x,pt=et?_e.yCenter:ct.y,ft={x:gt,y:pt,angle:ct.angle,skip:isNaN(gt)||isNaN(pt),options:ot};this.updateElement(nt,j,ft,$)}}}__publicField3(RadarController,"id","radar");__publicField3(RadarController,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}});__publicField3(RadarController,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ScatterController extends DatasetController{getLabelAndValue(o){const s=this._cachedMeta,_=this.chart.data.labels||[],{xScale:$,yScale:_e}=s,et=this.getParsed(o),j=$.getLabelForValue(et.x),nt=_e.getLabelForValue(et.y);return{label:_[o]||"",value:"("+j+", "+nt+")"}}update(o){const s=this._cachedMeta,{data:_=[]}=s,$=this.chart._animationsDisabled;let{start:_e,count:et}=_getStartAndCountOfVisiblePoints(s,_,$);if(this._drawStart=_e,this._drawCount=et,_scaleRangesChanged(s)&&(_e=0,et=_.length),this.options.showLine){const{dataset:j,_dataset:nt}=s;j._chart=this.chart,j._datasetIndex=this.index,j._decimated=!!nt._decimated,j.points=_;const ot=this.resolveDatasetElementOptions(o);ot.segment=this.options.segment,this.updateElement(j,void 0,{animated:!$,options:ot},o)}this.updateElements(_,_e,et,o)}addElements(){const{showLine:o}=this.options;!this.datasetElementType&&o&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(o,s,_,$){const _e=$==="reset",{iScale:et,vScale:j,_stacked:nt,_dataset:ot}=this._cachedMeta,ct=this.resolveDataElementOptions(s,$),gt=this.getSharedOptions(ct),pt=this.includeOptions($,gt),ft=et.axis,ut=j.axis,{spanGaps:yt,segment:wt}=this.options,Qt=isNumber(yt)?yt:Number.POSITIVE_INFINITY,It=this.chart._animationsDisabled||_e||$==="none";let xt=s>0&&this.getParsed(s-1);for(let Tt=s;Tt<s+_;++Tt){const mt=o[Tt],Nt=this.getParsed(Tt),en=It?mt:{},rn=isNullOrUndef(Nt[ut]),Ft=en[ft]=et.getPixelForValue(Nt[ft],Tt),St=en[ut]=_e||rn?j.getBasePixel():j.getPixelForValue(nt?this.applyStack(j,Nt,nt):Nt[ut],Tt);en.skip=isNaN(Ft)||isNaN(St)||rn,en.stop=Tt>0&&Math.abs(Nt[ft]-xt[ft])>Qt,wt&&(en.parsed=Nt,en.raw=ot.data[Tt]),pt&&(en.options=gt||this.resolveDataElementOptions(Tt,mt.active?"active":$)),It||this.updateElement(mt,Tt,en,$),xt=Nt}this.updateSharedOptions(gt,$,ct)}getMaxOverflow(){const o=this._cachedMeta,s=o.data||[];if(!this.options.showLine){let j=0;for(let nt=s.length-1;nt>=0;--nt)j=Math.max(j,s[nt].size(this.resolveDataElementOptions(nt))/2);return j>0&&j}const _=o.dataset,$=_.options&&_.options.borderWidth||0;if(!s.length)return $;const _e=s[0].size(this.resolveDataElementOptions(0)),et=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max($,_e,et)/2}}__publicField3(ScatterController,"id","scatter");__publicField3(ScatterController,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1});__publicField3(ScatterController,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(o){Object.assign(DateAdapterBase.prototype,o)}constructor(o){this.options=o||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(i,o,s,_){const{controller:$,data:_e,_sorted:et}=i,j=$._cachedMeta.iScale;if(j&&o===j.axis&&o!=="r"&&et&&_e.length){const nt=j._reversePixels?_rlookupByKey:_lookupByKey;if(_){if($._sharedOptions){const ot=_e[0],ct=typeof ot.getRange=="function"&&ot.getRange(o);if(ct){const gt=nt(_e,o,s-ct),pt=nt(_e,o,s+ct);return{lo:gt.lo,hi:pt.hi}}}}else return nt(_e,o,s)}return{lo:0,hi:_e.length-1}}function evaluateInteractionItems(i,o,s,_,$){const _e=i.getSortedVisibleDatasetMetas(),et=s[o];for(let j=0,nt=_e.length;j<nt;++j){const{index:ot,data:ct}=_e[j],{lo:gt,hi:pt}=binarySearch(_e[j],o,et,$);for(let ft=gt;ft<=pt;++ft){const ut=ct[ft];ut.skip||_(ut,ot,ft)}}}function getDistanceMetricForAxis(i){const o=i.indexOf("x")!==-1,s=i.indexOf("y")!==-1;return function(_,$){const _e=o?Math.abs(_.x-$.x):0,et=s?Math.abs(_.y-$.y):0;return Math.sqrt(Math.pow(_e,2)+Math.pow(et,2))}}function getIntersectItems(i,o,s,_,$){const _e=[];return!$&&!i.isPointInArea(o)||evaluateInteractionItems(i,s,o,function(j,nt,ot){!$&&!_isPointInArea(j,i.chartArea,0)||j.inRange(o.x,o.y,_)&&_e.push({element:j,datasetIndex:nt,index:ot})},!0),_e}function getNearestRadialItems(i,o,s,_){let $=[];function _e(et,j,nt){const{startAngle:ot,endAngle:ct}=et.getProps(["startAngle","endAngle"],_),{angle:gt}=getAngleFromPoint(et,{x:o.x,y:o.y});_angleBetween(gt,ot,ct)&&$.push({element:et,datasetIndex:j,index:nt})}return evaluateInteractionItems(i,s,o,_e),$}function getNearestCartesianItems(i,o,s,_,$,_e){let et=[];const j=getDistanceMetricForAxis(s);let nt=Number.POSITIVE_INFINITY;function ot(ct,gt,pt){const ft=ct.inRange(o.x,o.y,$);if(_&&!ft)return;const ut=ct.getCenterPoint($);if(!(!!_e||i.isPointInArea(ut))&&!ft)return;const wt=j(o,ut);wt<nt?(et=[{element:ct,datasetIndex:gt,index:pt}],nt=wt):wt===nt&&et.push({element:ct,datasetIndex:gt,index:pt})}return evaluateInteractionItems(i,s,o,ot),et}function getNearestItems(i,o,s,_,$,_e){return!_e&&!i.isPointInArea(o)?[]:s==="r"&&!_?getNearestRadialItems(i,o,s,$):getNearestCartesianItems(i,o,s,_,$,_e)}function getAxisItems(i,o,s,_,$){const _e=[],et=s==="x"?"inXRange":"inYRange";let j=!1;return evaluateInteractionItems(i,s,o,(nt,ot,ct)=>{nt[et](o[s],$)&&(_e.push({element:nt,datasetIndex:ot,index:ct}),j=j||nt.inRange(o.x,o.y,$))}),_&&!j?[]:_e}var Interaction={evaluateInteractionItems,modes:{index(i,o,s,_){const $=getRelativePosition(o,i),_e=s.axis||"x",et=s.includeInvisible||!1,j=s.intersect?getIntersectItems(i,$,_e,_,et):getNearestItems(i,$,_e,!1,_,et),nt=[];return j.length?(i.getSortedVisibleDatasetMetas().forEach(ot=>{const ct=j[0].index,gt=ot.data[ct];gt&&!gt.skip&&nt.push({element:gt,datasetIndex:ot.index,index:ct})}),nt):[]},dataset(i,o,s,_){const $=getRelativePosition(o,i),_e=s.axis||"xy",et=s.includeInvisible||!1;let j=s.intersect?getIntersectItems(i,$,_e,_,et):getNearestItems(i,$,_e,!1,_,et);if(j.length>0){const nt=j[0].datasetIndex,ot=i.getDatasetMeta(nt).data;j=[];for(let ct=0;ct<ot.length;++ct)j.push({element:ot[ct],datasetIndex:nt,index:ct})}return j},point(i,o,s,_){const $=getRelativePosition(o,i),_e=s.axis||"xy",et=s.includeInvisible||!1;return getIntersectItems(i,$,_e,_,et)},nearest(i,o,s,_){const $=getRelativePosition(o,i),_e=s.axis||"xy",et=s.includeInvisible||!1;return getNearestItems(i,$,_e,s.intersect,_,et)},x(i,o,s,_){const $=getRelativePosition(o,i);return getAxisItems(i,$,"x",s.intersect,_)},y(i,o,s,_){const $=getRelativePosition(o,i);return getAxisItems(i,$,"y",s.intersect,_)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(i,o){return i.filter(s=>s.pos===o)}function filterDynamicPositionByAxis(i,o){return i.filter(s=>STATIC_POSITIONS.indexOf(s.pos)===-1&&s.box.axis===o)}function sortByWeight(i,o){return i.sort((s,_)=>{const $=o?_:s,_e=o?s:_;return $.weight===_e.weight?$.index-_e.index:$.weight-_e.weight})}function wrapBoxes(i){const o=[];let s,_,$,_e,et,j;for(s=0,_=(i||[]).length;s<_;++s)$=i[s],{position:_e,options:{stack:et,stackWeight:j=1}}=$,o.push({index:s,box:$,pos:_e,horizontal:$.isHorizontal(),weight:$.weight,stack:et&&_e+et,stackWeight:j});return o}function buildStacks(i){const o={};for(const s of i){const{stack:_,pos:$,stackWeight:_e}=s;if(!_||!STATIC_POSITIONS.includes($))continue;const et=o[_]||(o[_]={count:0,placed:0,weight:0,size:0});et.count++,et.weight+=_e}return o}function setLayoutDims(i,o){const s=buildStacks(i),{vBoxMaxWidth:_,hBoxMaxHeight:$}=o;let _e,et,j;for(_e=0,et=i.length;_e<et;++_e){j=i[_e];const{fullSize:nt}=j.box,ot=s[j.stack],ct=ot&&j.stackWeight/ot.weight;j.horizontal?(j.width=ct?ct*_:nt&&o.availableWidth,j.height=$):(j.width=_,j.height=ct?ct*$:nt&&o.availableHeight)}return s}function buildLayoutBoxes(i){const o=wrapBoxes(i),s=sortByWeight(o.filter(ot=>ot.box.fullSize),!0),_=sortByWeight(filterByPosition(o,"left"),!0),$=sortByWeight(filterByPosition(o,"right")),_e=sortByWeight(filterByPosition(o,"top"),!0),et=sortByWeight(filterByPosition(o,"bottom")),j=filterDynamicPositionByAxis(o,"x"),nt=filterDynamicPositionByAxis(o,"y");return{fullSize:s,leftAndTop:_.concat(_e),rightAndBottom:$.concat(nt).concat(et).concat(j),chartArea:filterByPosition(o,"chartArea"),vertical:_.concat($).concat(nt),horizontal:_e.concat(et).concat(j)}}function getCombinedMax(i,o,s,_){return Math.max(i[s],o[s])+Math.max(i[_],o[_])}function updateMaxPadding(i,o){i.top=Math.max(i.top,o.top),i.left=Math.max(i.left,o.left),i.bottom=Math.max(i.bottom,o.bottom),i.right=Math.max(i.right,o.right)}function updateDims(i,o,s,_){const{pos:$,box:_e}=s,et=i.maxPadding;if(!isObject($)){s.size&&(i[$]-=s.size);const gt=_[s.stack]||{size:0,count:1};gt.size=Math.max(gt.size,s.horizontal?_e.height:_e.width),s.size=gt.size/gt.count,i[$]+=s.size}_e.getPadding&&updateMaxPadding(et,_e.getPadding());const j=Math.max(0,o.outerWidth-getCombinedMax(et,i,"left","right")),nt=Math.max(0,o.outerHeight-getCombinedMax(et,i,"top","bottom")),ot=j!==i.w,ct=nt!==i.h;return i.w=j,i.h=nt,s.horizontal?{same:ot,other:ct}:{same:ct,other:ot}}function handleMaxPadding(i){const o=i.maxPadding;function s(_){const $=Math.max(o[_]-i[_],0);return i[_]+=$,$}i.y+=s("top"),i.x+=s("left"),s("right"),s("bottom")}function getMargins(i,o){const s=o.maxPadding;function _($){const _e={left:0,top:0,right:0,bottom:0};return $.forEach(et=>{_e[et]=Math.max(o[et],s[et])}),_e}return _(i?["left","right"]:["top","bottom"])}function fitBoxes(i,o,s,_){const $=[];let _e,et,j,nt,ot,ct;for(_e=0,et=i.length,ot=0;_e<et;++_e){j=i[_e],nt=j.box,nt.update(j.width||o.w,j.height||o.h,getMargins(j.horizontal,o));const{same:gt,other:pt}=updateDims(o,s,j,_);ot|=gt&&$.length,ct=ct||pt,nt.fullSize||$.push(j)}return ot&&fitBoxes($,o,s,_)||ct}function setBoxDims(i,o,s,_,$){i.top=s,i.left=o,i.right=o+_,i.bottom=s+$,i.width=_,i.height=$}function placeBoxes(i,o,s,_){const $=s.padding;let{x:_e,y:et}=o;for(const j of i){const nt=j.box,ot=_[j.stack]||{count:1,placed:0,weight:1},ct=j.stackWeight/ot.weight||1;if(j.horizontal){const gt=o.w*ct,pt=ot.size||nt.height;defined(ot.start)&&(et=ot.start),nt.fullSize?setBoxDims(nt,$.left,et,s.outerWidth-$.right-$.left,pt):setBoxDims(nt,o.left+ot.placed,et,gt,pt),ot.start=et,ot.placed+=gt,et=nt.bottom}else{const gt=o.h*ct,pt=ot.size||nt.width;defined(ot.start)&&(_e=ot.start),nt.fullSize?setBoxDims(nt,_e,$.top,pt,s.outerHeight-$.bottom-$.top):setBoxDims(nt,_e,o.top+ot.placed,pt,gt),ot.start=_e,ot.placed+=gt,_e=nt.right}}o.x=_e,o.y=et}var layouts={addBox(i,o){i.boxes||(i.boxes=[]),o.fullSize=o.fullSize||!1,o.position=o.position||"top",o.weight=o.weight||0,o._layers=o._layers||function(){return[{z:0,draw(s){o.draw(s)}}]},i.boxes.push(o)},removeBox(i,o){const s=i.boxes?i.boxes.indexOf(o):-1;s!==-1&&i.boxes.splice(s,1)},configure(i,o,s){o.fullSize=s.fullSize,o.position=s.position,o.weight=s.weight},update(i,o,s,_){if(!i)return;const $=toPadding(i.options.layout.padding),_e=Math.max(o-$.width,0),et=Math.max(s-$.height,0),j=buildLayoutBoxes(i.boxes),nt=j.vertical,ot=j.horizontal;each(i.boxes,yt=>{typeof yt.beforeLayout=="function"&&yt.beforeLayout()});const ct=nt.reduce((yt,wt)=>wt.box.options&&wt.box.options.display===!1?yt:yt+1,0)||1,gt=Object.freeze({outerWidth:o,outerHeight:s,padding:$,availableWidth:_e,availableHeight:et,vBoxMaxWidth:_e/2/ct,hBoxMaxHeight:et/2}),pt=Object.assign({},$);updateMaxPadding(pt,toPadding(_));const ft=Object.assign({maxPadding:pt,w:_e,h:et,x:$.left,y:$.top},$),ut=setLayoutDims(nt.concat(ot),gt);fitBoxes(j.fullSize,ft,gt,ut),fitBoxes(nt,ft,gt,ut),fitBoxes(ot,ft,gt,ut)&&fitBoxes(nt,ft,gt,ut),handleMaxPadding(ft),placeBoxes(j.leftAndTop,ft,gt,ut),ft.x+=ft.w,ft.y+=ft.h,placeBoxes(j.rightAndBottom,ft,gt,ut),i.chartArea={left:ft.left,top:ft.top,right:ft.left+ft.w,bottom:ft.top+ft.h,height:ft.h,width:ft.w},each(j.chartArea,yt=>{const wt=yt.box;Object.assign(wt,i.chartArea),wt.update(ft.w,ft.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(o,s){}releaseContext(o){return!1}addEventListener(o,s,_){}removeEventListener(o,s,_){}getDevicePixelRatio(){return 1}getMaximumSize(o,s,_,$){return s=Math.max(0,s||o.width),_=_||o.height,{width:s,height:Math.max(0,$?Math.floor(s/$):_)}}isAttached(o){return!0}updateConfig(o){}}class BasicPlatform extends BasePlatform{acquireContext(o){return o&&o.getContext&&o.getContext("2d")||null}updateConfig(o){o.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=i=>i===null||i==="";function initCanvas(i,o){const s=i.style,_=i.getAttribute("height"),$=i.getAttribute("width");if(i[EXPANDO_KEY]={initial:{height:_,width:$,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",isNullOrEmpty($)){const _e=readUsedSize(i,"width");_e!==void 0&&(i.width=_e)}if(isNullOrEmpty(_))if(i.style.height==="")i.height=i.width/(o||2);else{const _e=readUsedSize(i,"height");_e!==void 0&&(i.height=_e)}return i}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(i,o,s){i.addEventListener(o,s,eventListenerOptions)}function removeListener(i,o,s){i.canvas.removeEventListener(o,s,eventListenerOptions)}function fromNativeEvent(i,o){const s=EVENT_TYPES[i.type]||i.type,{x:_,y:$}=getRelativePosition(i,o);return{type:s,chart:o,native:i,x:_!==void 0?_:null,y:$!==void 0?$:null}}function nodeListContains(i,o){for(const s of i)if(s===o||s.contains(o))return!0}function createAttachObserver(i,o,s){const _=i.canvas,$=new MutationObserver(_e=>{let et=!1;for(const j of _e)et=et||nodeListContains(j.addedNodes,_),et=et&&!nodeListContains(j.removedNodes,_);et&&s()});return $.observe(document,{childList:!0,subtree:!0}),$}function createDetachObserver(i,o,s){const _=i.canvas,$=new MutationObserver(_e=>{let et=!1;for(const j of _e)et=et||nodeListContains(j.removedNodes,_),et=et&&!nodeListContains(j.addedNodes,_);et&&s()});return $.observe(document,{childList:!0,subtree:!0}),$}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const i=window.devicePixelRatio;i!==oldDevicePixelRatio&&(oldDevicePixelRatio=i,drpListeningCharts.forEach((o,s)=>{s.currentDevicePixelRatio!==i&&o()}))}function listenDevicePixelRatioChanges(i,o){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(i,o)}function unlistenDevicePixelRatioChanges(i){drpListeningCharts.delete(i),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(i,o,s){const _=i.canvas,$=_&&_getParentNode(_);if(!$)return;const _e=throttled((j,nt)=>{const ot=$.clientWidth;s(j,nt),ot<$.clientWidth&&s()},window),et=new ResizeObserver(j=>{const nt=j[0],ot=nt.contentRect.width,ct=nt.contentRect.height;ot===0&&ct===0||_e(ot,ct)});return et.observe($),listenDevicePixelRatioChanges(i,_e),et}function releaseObserver(i,o,s){s&&s.disconnect(),o==="resize"&&unlistenDevicePixelRatioChanges(i)}function createProxyAndListen(i,o,s){const _=i.canvas,$=throttled(_e=>{i.ctx!==null&&s(fromNativeEvent(_e,i))},i);return addListener(_,o,$),$}class DomPlatform extends BasePlatform{acquireContext(o,s){const _=o&&o.getContext&&o.getContext("2d");return _&&_.canvas===o?(initCanvas(o,s),_):null}releaseContext(o){const s=o.canvas;if(!s[EXPANDO_KEY])return!1;const _=s[EXPANDO_KEY].initial;["height","width"].forEach(_e=>{const et=_[_e];isNullOrUndef(et)?s.removeAttribute(_e):s.setAttribute(_e,et)});const $=_.style||{};return Object.keys($).forEach(_e=>{s.style[_e]=$[_e]}),s.width=s.width,delete s[EXPANDO_KEY],!0}addEventListener(o,s,_){this.removeEventListener(o,s);const $=o.$proxies||(o.$proxies={}),et={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[s]||createProxyAndListen;$[s]=et(o,s,_)}removeEventListener(o,s){const _=o.$proxies||(o.$proxies={}),$=_[s];if(!$)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[s]||removeListener)(o,s,$),_[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(o,s,_,$){return getMaximumSize(o,s,_,$)}isAttached(o){const s=_getParentNode(o);return!!(s&&s.isConnected)}}function _detectPlatform(i){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){__publicField3(this,"active",!1)}tooltipPosition(o){const{x:s,y:_}=this.getProps(["x","y"],o);return{x:s,y:_}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(o,s){const _=this.$animations;if(!s||!_)return this;const $={};return o.forEach(_e=>{$[_e]=_[_e]&&_[_e].active()?_[_e]._to:this[_e]}),$}}__publicField3(Element,"defaults",{});__publicField3(Element,"defaultRoutes");function autoSkip(i,o){const s=i.options.ticks,_=determineMaxTicks(i),$=Math.min(s.maxTicksLimit||_,_),_e=s.major.enabled?getMajorIndices(o):[],et=_e.length,j=_e[0],nt=_e[et-1],ot=[];if(et>$)return skipMajors(o,ot,_e,et/$),ot;const ct=calculateSpacing(_e,o,$);if(et>0){let gt,pt;const ft=et>1?Math.round((nt-j)/(et-1)):null;for(skip(o,ot,ct,isNullOrUndef(ft)?0:j-ft,j),gt=0,pt=et-1;gt<pt;gt++)skip(o,ot,ct,_e[gt],_e[gt+1]);return skip(o,ot,ct,nt,isNullOrUndef(ft)?o.length:nt+ft),ot}return skip(o,ot,ct),ot}function determineMaxTicks(i){const o=i.options.offset,s=i._tickSize(),_=i._length/s+(o?0:1),$=i._maxLength/s;return Math.floor(Math.min(_,$))}function calculateSpacing(i,o,s){const _=getEvenSpacing(i),$=o.length/s;if(!_)return Math.max($,1);const _e=_factorize(_);for(let et=0,j=_e.length-1;et<j;et++){const nt=_e[et];if(nt>$)return nt}return Math.max($,1)}function getMajorIndices(i){const o=[];let s,_;for(s=0,_=i.length;s<_;s++)i[s].major&&o.push(s);return o}function skipMajors(i,o,s,_){let $=0,_e=s[0],et;for(_=Math.ceil(_),et=0;et<i.length;et++)et===_e&&(o.push(i[et]),$++,_e=s[$*_])}function skip(i,o,s,_,$){const _e=valueOrDefault(_,0),et=Math.min(valueOrDefault($,i.length),i.length);let j=0,nt,ot,ct;for(s=Math.ceil(s),$&&(nt=$-_,s=nt/Math.floor(nt/s)),ct=_e;ct<0;)j++,ct=Math.round(_e+j*s);for(ot=Math.max(_e,0);ot<et;ot++)ot===ct&&(o.push(i[ot]),j++,ct=Math.round(_e+j*s))}function getEvenSpacing(i){const o=i.length;let s,_;if(o<2)return!1;for(_=i[0],s=1;s<o;++s)if(i[s]-i[s-1]!==_)return!1;return _}const reverseAlign=i=>i==="left"?"right":i==="right"?"left":i,offsetFromEdge=(i,o,s)=>o==="top"||o==="left"?i[o]+s:i[o]-s;function sample(i,o){const s=[],_=i.length/o,$=i.length;let _e=0;for(;_e<$;_e+=_)s.push(i[Math.floor(_e)]);return s}function getPixelForGridLine(i,o,s){const _=i.ticks.length,$=Math.min(o,_-1),_e=i._startPixel,et=i._endPixel,j=1e-6;let nt=i.getPixelForTick($),ot;if(!(s&&(_===1?ot=Math.max(nt-_e,et-nt):o===0?ot=(i.getPixelForTick(1)-nt)/2:ot=(nt-i.getPixelForTick($-1))/2,nt+=$<o?ot:-ot,nt<_e-j||nt>et+j)))return nt}function garbageCollect(i,o){each(i,s=>{const _=s.gc,$=_.length/2;let _e;if($>o){for(_e=0;_e<$;++_e)delete s.data[_[_e]];_.splice(0,$)}})}function getTickMarkLength(i){return i.drawTicks?i.tickLength:0}function getTitleHeight(i,o){if(!i.display)return 0;const s=toFont(i.font,o),_=toPadding(i.padding);return(isArray(i.text)?i.text.length:1)*s.lineHeight+_.height}function createScaleContext(i,o){return createContext(i,{scale:o,type:"scale"})}function createTickContext(i,o,s){return createContext(i,{tick:s,index:o,type:"tick"})}function titleAlign(i,o,s){let _=_toLeftRightCenter(i);return(s&&o!=="right"||!s&&o==="right")&&(_=reverseAlign(_)),_}function titleArgs(i,o,s,_){const{top:$,left:_e,bottom:et,right:j,chart:nt}=i,{chartArea:ot,scales:ct}=nt;let gt=0,pt,ft,ut;const yt=et-$,wt=j-_e;if(i.isHorizontal()){if(ft=_alignStartEnd(_,_e,j),isObject(s)){const Qt=Object.keys(s)[0],It=s[Qt];ut=ct[Qt].getPixelForValue(It)+yt-o}else s==="center"?ut=(ot.bottom+ot.top)/2+yt-o:ut=offsetFromEdge(i,s,o);pt=j-_e}else{if(isObject(s)){const Qt=Object.keys(s)[0],It=s[Qt];ft=ct[Qt].getPixelForValue(It)-wt+o}else s==="center"?ft=(ot.left+ot.right)/2-wt+o:ft=offsetFromEdge(i,s,o);ut=_alignStartEnd(_,et,$),gt=s==="left"?-HALF_PI:HALF_PI}return{titleX:ft,titleY:ut,maxWidth:pt,rotation:gt}}class Scale extends Element{constructor(o){super(),this.id=o.id,this.type=o.type,this.options=void 0,this.ctx=o.ctx,this.chart=o.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(o){this.options=o.setContext(this.getContext()),this.axis=o.axis,this._userMin=this.parse(o.min),this._userMax=this.parse(o.max),this._suggestedMin=this.parse(o.suggestedMin),this._suggestedMax=this.parse(o.suggestedMax)}parse(o,s){return o}getUserBounds(){let{_userMin:o,_userMax:s,_suggestedMin:_,_suggestedMax:$}=this;return o=finiteOrDefault(o,Number.POSITIVE_INFINITY),s=finiteOrDefault(s,Number.NEGATIVE_INFINITY),_=finiteOrDefault(_,Number.POSITIVE_INFINITY),$=finiteOrDefault($,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(o,_),max:finiteOrDefault(s,$),minDefined:isNumberFinite(o),maxDefined:isNumberFinite(s)}}getMinMax(o){let{min:s,max:_,minDefined:$,maxDefined:_e}=this.getUserBounds(),et;if($&&_e)return{min:s,max:_};const j=this.getMatchingVisibleMetas();for(let nt=0,ot=j.length;nt<ot;++nt)et=j[nt].controller.getMinMax(this,o),$||(s=Math.min(s,et.min)),_e||(_=Math.max(_,et.max));return s=_e&&s>_?_:s,_=$&&s>_?s:_,{min:finiteOrDefault(s,finiteOrDefault(_,s)),max:finiteOrDefault(_,finiteOrDefault(s,_))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]}getLabelItems(o=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(o))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(o,s,_){const{beginAtZero:$,grace:_e,ticks:et}=this.options,j=et.sampleSize;this.beforeUpdate(),this.maxWidth=o,this.maxHeight=s,this._margins=_=Object.assign({left:0,right:0,top:0,bottom:0},_),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+_.left+_.right:this.height+_.top+_.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,_e,$),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const nt=j<this.ticks.length;this._convertTicksToLabels(nt?sample(this.ticks,j):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),et.display&&(et.autoSkip||et.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),nt&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let o=this.options.reverse,s,_;this.isHorizontal()?(s=this.left,_=this.right):(s=this.top,_=this.bottom,o=!o),this._startPixel=s,this._endPixel=_,this._reversePixels=o,this._length=_-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(o){this.chart.notifyPlugins(o,this.getContext()),callback(this.options[o],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(o){const s=this.options.ticks;let _,$,_e;for(_=0,$=o.length;_<$;_++)_e=o[_],_e.label=callback(s.callback,[_e.value,_,o],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const o=this.options,s=o.ticks,_=this.ticks.length,$=s.minRotation||0,_e=s.maxRotation;let et=$,j,nt,ot;if(!this._isVisible()||!s.display||$>=_e||_<=1||!this.isHorizontal()){this.labelRotation=$;return}const ct=this._getLabelSizes(),gt=ct.widest.width,pt=ct.highest.height,ft=_limitValue(this.chart.width-gt,0,this.maxWidth);j=o.offset?this.maxWidth/_:ft/(_-1),gt+6>j&&(j=ft/(_-(o.offset?.5:1)),nt=this.maxHeight-getTickMarkLength(o.grid)-s.padding-getTitleHeight(o.title,this.chart.options.font),ot=Math.sqrt(gt*gt+pt*pt),et=toDegrees(Math.min(Math.asin(_limitValue((ct.highest.height+6)/j,-1,1)),Math.asin(_limitValue(nt/ot,-1,1))-Math.asin(_limitValue(pt/ot,-1,1)))),et=Math.max($,Math.min(_e,et))),this.labelRotation=et}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const o={width:0,height:0},{chart:s,options:{ticks:_,title:$,grid:_e}}=this,et=this._isVisible(),j=this.isHorizontal();if(et){const nt=getTitleHeight($,s.options.font);if(j?(o.width=this.maxWidth,o.height=getTickMarkLength(_e)+nt):(o.height=this.maxHeight,o.width=getTickMarkLength(_e)+nt),_.display&&this.ticks.length){const{first:ot,last:ct,widest:gt,highest:pt}=this._getLabelSizes(),ft=_.padding*2,ut=toRadians(this.labelRotation),yt=Math.cos(ut),wt=Math.sin(ut);if(j){const Qt=_.mirror?0:wt*gt.width+yt*pt.height;o.height=Math.min(this.maxHeight,o.height+Qt+ft)}else{const Qt=_.mirror?0:yt*gt.width+wt*pt.height;o.width=Math.min(this.maxWidth,o.width+Qt+ft)}this._calculatePadding(ot,ct,wt,yt)}}this._handleMargins(),j?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=o.height):(this.width=o.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(o,s,_,$){const{ticks:{align:_e,padding:et},position:j}=this.options,nt=this.labelRotation!==0,ot=j!=="top"&&this.axis==="x";if(this.isHorizontal()){const ct=this.getPixelForTick(0)-this.left,gt=this.right-this.getPixelForTick(this.ticks.length-1);let pt=0,ft=0;nt?ot?(pt=$*o.width,ft=_*s.height):(pt=_*o.height,ft=$*s.width):_e==="start"?ft=s.width:_e==="end"?pt=o.width:_e!=="inner"&&(pt=o.width/2,ft=s.width/2),this.paddingLeft=Math.max((pt-ct+et)*this.width/(this.width-ct),0),this.paddingRight=Math.max((ft-gt+et)*this.width/(this.width-gt),0)}else{let ct=s.height/2,gt=o.height/2;_e==="start"?(ct=0,gt=o.height):_e==="end"&&(ct=s.height,gt=0),this.paddingTop=ct+et,this.paddingBottom=gt+et}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:o,position:s}=this.options;return s==="top"||s==="bottom"||o==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(o){this.beforeTickToLabelConversion(),this.generateTickLabels(o);let s,_;for(s=0,_=o.length;s<_;s++)isNullOrUndef(o[s].label)&&(o.splice(s,1),_--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let o=this._labelSizes;if(!o){const s=this.options.ticks.sampleSize;let _=this.ticks;s<_.length&&(_=sample(_,s)),this._labelSizes=o=this._computeLabelSizes(_,_.length)}return o}_computeLabelSizes(o,s){const{ctx:_,_longestTextCache:$}=this,_e=[],et=[];let j=0,nt=0,ot,ct,gt,pt,ft,ut,yt,wt,Qt,It,xt;for(ot=0;ot<s;++ot){if(pt=o[ot].label,ft=this._resolveTickFontOptions(ot),_.font=ut=ft.string,yt=$[ut]=$[ut]||{data:{},gc:[]},wt=ft.lineHeight,Qt=It=0,!isNullOrUndef(pt)&&!isArray(pt))Qt=_measureText(_,yt.data,yt.gc,Qt,pt),It=wt;else if(isArray(pt))for(ct=0,gt=pt.length;ct<gt;++ct)xt=pt[ct],!isNullOrUndef(xt)&&!isArray(xt)&&(Qt=_measureText(_,yt.data,yt.gc,Qt,xt),It+=wt);_e.push(Qt),et.push(It),j=Math.max(Qt,j),nt=Math.max(It,nt)}garbageCollect($,s);const Tt=_e.indexOf(j),mt=et.indexOf(nt),Nt=en=>({width:_e[en]||0,height:et[en]||0});return{first:Nt(0),last:Nt(s-1),widest:Nt(Tt),highest:Nt(mt),widths:_e,heights:et}}getLabelForValue(o){return o}getPixelForValue(o,s){return NaN}getValueForPixel(o){}getPixelForTick(o){const s=this.ticks;return o<0||o>s.length-1?null:this.getPixelForValue(s[o].value)}getPixelForDecimal(o){this._reversePixels&&(o=1-o);const s=this._startPixel+o*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,s,0):s)}getDecimalForPixel(o){const s=(o-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:o,max:s}=this;return o<0&&s<0?s:o>0&&s>0?o:0}getContext(o){const s=this.ticks||[];if(o>=0&&o<s.length){const _=s[o];return _.$context||(_.$context=createTickContext(this.getContext(),o,_))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const o=this.options.ticks,s=toRadians(this.labelRotation),_=Math.abs(Math.cos(s)),$=Math.abs(Math.sin(s)),_e=this._getLabelSizes(),et=o.autoSkipPadding||0,j=_e?_e.widest.width+et:0,nt=_e?_e.highest.height+et:0;return this.isHorizontal()?nt*_>j*$?j/_:nt/$:nt*$<j*_?nt/_:j/$}_isVisible(){const o=this.options.display;return o!=="auto"?!!o:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(o){const s=this.axis,_=this.chart,$=this.options,{grid:_e,position:et,border:j}=$,nt=_e.offset,ot=this.isHorizontal(),gt=this.ticks.length+(nt?1:0),pt=getTickMarkLength(_e),ft=[],ut=j.setContext(this.getContext()),yt=ut.display?ut.width:0,wt=yt/2,Qt=function(Wt){return _alignPixel(_,Wt,yt)};let It,xt,Tt,mt,Nt,en,rn,Ft,St,Pt,Bt,jt;if(et==="top")It=Qt(this.bottom),en=this.bottom-pt,Ft=It-wt,Pt=Qt(o.top)+wt,jt=o.bottom;else if(et==="bottom")It=Qt(this.top),Pt=o.top,jt=Qt(o.bottom)-wt,en=It+wt,Ft=this.top+pt;else if(et==="left")It=Qt(this.right),Nt=this.right-pt,rn=It-wt,St=Qt(o.left)+wt,Bt=o.right;else if(et==="right")It=Qt(this.left),St=o.left,Bt=Qt(o.right)-wt,Nt=It+wt,rn=this.left+pt;else if(s==="x"){if(et==="center")It=Qt((o.top+o.bottom)/2+.5);else if(isObject(et)){const Wt=Object.keys(et)[0],Gt=et[Wt];It=Qt(this.chart.scales[Wt].getPixelForValue(Gt))}Pt=o.top,jt=o.bottom,en=It+wt,Ft=en+pt}else if(s==="y"){if(et==="center")It=Qt((o.left+o.right)/2);else if(isObject(et)){const Wt=Object.keys(et)[0],Gt=et[Wt];It=Qt(this.chart.scales[Wt].getPixelForValue(Gt))}Nt=It-wt,rn=Nt-pt,St=o.left,Bt=o.right}const qt=valueOrDefault($.ticks.maxTicksLimit,gt),Zt=Math.max(1,Math.ceil(gt/qt));for(xt=0;xt<gt;xt+=Zt){const Wt=this.getContext(xt),Gt=_e.setContext(Wt),Ht=j.setContext(Wt),kt=Gt.lineWidth,Rt=Gt.color,$t=Ht.dash||[],nn=Ht.dashOffset,Un=Gt.tickWidth,Fn=Gt.tickColor,En=Gt.tickBorderDash||[],fn=Gt.tickBorderDashOffset;Tt=getPixelForGridLine(this,xt,nt),Tt!==void 0&&(mt=_alignPixel(_,Tt,kt),ot?Nt=rn=St=Bt=mt:en=Ft=Pt=jt=mt,ft.push({tx1:Nt,ty1:en,tx2:rn,ty2:Ft,x1:St,y1:Pt,x2:Bt,y2:jt,width:kt,color:Rt,borderDash:$t,borderDashOffset:nn,tickWidth:Un,tickColor:Fn,tickBorderDash:En,tickBorderDashOffset:fn}))}return this._ticksLength=gt,this._borderValue=It,ft}_computeLabelItems(o){const s=this.axis,_=this.options,{position:$,ticks:_e}=_,et=this.isHorizontal(),j=this.ticks,{align:nt,crossAlign:ot,padding:ct,mirror:gt}=_e,pt=getTickMarkLength(_.grid),ft=pt+ct,ut=gt?-ct:ft,yt=-toRadians(this.labelRotation),wt=[];let Qt,It,xt,Tt,mt,Nt,en,rn,Ft,St,Pt,Bt,jt="middle";if($==="top")Nt=this.bottom-ut,en=this._getXAxisLabelAlignment();else if($==="bottom")Nt=this.top+ut,en=this._getXAxisLabelAlignment();else if($==="left"){const Zt=this._getYAxisLabelAlignment(pt);en=Zt.textAlign,mt=Zt.x}else if($==="right"){const Zt=this._getYAxisLabelAlignment(pt);en=Zt.textAlign,mt=Zt.x}else if(s==="x"){if($==="center")Nt=(o.top+o.bottom)/2+ft;else if(isObject($)){const Zt=Object.keys($)[0],Wt=$[Zt];Nt=this.chart.scales[Zt].getPixelForValue(Wt)+ft}en=this._getXAxisLabelAlignment()}else if(s==="y"){if($==="center")mt=(o.left+o.right)/2-ft;else if(isObject($)){const Zt=Object.keys($)[0],Wt=$[Zt];mt=this.chart.scales[Zt].getPixelForValue(Wt)}en=this._getYAxisLabelAlignment(pt).textAlign}s==="y"&&(nt==="start"?jt="top":nt==="end"&&(jt="bottom"));const qt=this._getLabelSizes();for(Qt=0,It=j.length;Qt<It;++Qt){xt=j[Qt],Tt=xt.label;const Zt=_e.setContext(this.getContext(Qt));rn=this.getPixelForTick(Qt)+_e.labelOffset,Ft=this._resolveTickFontOptions(Qt),St=Ft.lineHeight,Pt=isArray(Tt)?Tt.length:1;const Wt=Pt/2,Gt=Zt.color,Ht=Zt.textStrokeColor,kt=Zt.textStrokeWidth;let Rt=en;et?(mt=rn,en==="inner"&&(Qt===It-1?Rt=this.options.reverse?"left":"right":Qt===0?Rt=this.options.reverse?"right":"left":Rt="center"),$==="top"?ot==="near"||yt!==0?Bt=-Pt*St+St/2:ot==="center"?Bt=-qt.highest.height/2-Wt*St+St:Bt=-qt.highest.height+St/2:ot==="near"||yt!==0?Bt=St/2:ot==="center"?Bt=qt.highest.height/2-Wt*St:Bt=qt.highest.height-Pt*St,gt&&(Bt*=-1),yt!==0&&!Zt.showLabelBackdrop&&(mt+=St/2*Math.sin(yt))):(Nt=rn,Bt=(1-Pt)*St/2);let $t;if(Zt.showLabelBackdrop){const nn=toPadding(Zt.backdropPadding),Un=qt.heights[Qt],Fn=qt.widths[Qt];let En=Bt-nn.top,fn=0-nn.left;switch(jt){case"middle":En-=Un/2;break;case"bottom":En-=Un;break}switch(en){case"center":fn-=Fn/2;break;case"right":fn-=Fn;break}$t={left:fn,top:En,width:Fn+nn.width,height:Un+nn.height,color:Zt.backdropColor}}wt.push({label:Tt,font:Ft,textOffset:Bt,options:{rotation:yt,color:Gt,strokeColor:Ht,strokeWidth:kt,textAlign:Rt,textBaseline:jt,translation:[mt,Nt],backdrop:$t}})}return wt}_getXAxisLabelAlignment(){const{position:o,ticks:s}=this.options;if(-toRadians(this.labelRotation))return o==="top"?"left":"right";let $="center";return s.align==="start"?$="left":s.align==="end"?$="right":s.align==="inner"&&($="inner"),$}_getYAxisLabelAlignment(o){const{position:s,ticks:{crossAlign:_,mirror:$,padding:_e}}=this.options,et=this._getLabelSizes(),j=o+_e,nt=et.widest.width;let ot,ct;return s==="left"?$?(ct=this.right+_e,_==="near"?ot="left":_==="center"?(ot="center",ct+=nt/2):(ot="right",ct+=nt)):(ct=this.right-j,_==="near"?ot="right":_==="center"?(ot="center",ct-=nt/2):(ot="left",ct=this.left)):s==="right"?$?(ct=this.left+_e,_==="near"?ot="right":_==="center"?(ot="center",ct-=nt/2):(ot="left",ct-=nt)):(ct=this.left+j,_==="near"?ot="left":_==="center"?(ot="center",ct+=nt/2):(ot="right",ct=this.right)):ot="right",{textAlign:ot,x:ct}}_computeLabelArea(){if(this.options.ticks.mirror)return;const o=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:o.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:o.width}}drawBackground(){const{ctx:o,options:{backgroundColor:s},left:_,top:$,width:_e,height:et}=this;s&&(o.save(),o.fillStyle=s,o.fillRect(_,$,_e,et),o.restore())}getLineWidthForValue(o){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const $=this.ticks.findIndex(_e=>_e.value===o);return $>=0?s.setContext(this.getContext($)).lineWidth:0}drawGrid(o){const s=this.options.grid,_=this.ctx,$=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(o));let _e,et;const j=(nt,ot,ct)=>{!ct.width||!ct.color||(_.save(),_.lineWidth=ct.width,_.strokeStyle=ct.color,_.setLineDash(ct.borderDash||[]),_.lineDashOffset=ct.borderDashOffset,_.beginPath(),_.moveTo(nt.x,nt.y),_.lineTo(ot.x,ot.y),_.stroke(),_.restore())};if(s.display)for(_e=0,et=$.length;_e<et;++_e){const nt=$[_e];s.drawOnChartArea&&j({x:nt.x1,y:nt.y1},{x:nt.x2,y:nt.y2},nt),s.drawTicks&&j({x:nt.tx1,y:nt.ty1},{x:nt.tx2,y:nt.ty2},{color:nt.tickColor,width:nt.tickWidth,borderDash:nt.tickBorderDash,borderDashOffset:nt.tickBorderDashOffset})}}drawBorder(){const{chart:o,ctx:s,options:{border:_,grid:$}}=this,_e=_.setContext(this.getContext()),et=_.display?_e.width:0;if(!et)return;const j=$.setContext(this.getContext(0)).lineWidth,nt=this._borderValue;let ot,ct,gt,pt;this.isHorizontal()?(ot=_alignPixel(o,this.left,et)-et/2,ct=_alignPixel(o,this.right,j)+j/2,gt=pt=nt):(gt=_alignPixel(o,this.top,et)-et/2,pt=_alignPixel(o,this.bottom,j)+j/2,ot=ct=nt),s.save(),s.lineWidth=_e.width,s.strokeStyle=_e.color,s.beginPath(),s.moveTo(ot,gt),s.lineTo(ct,pt),s.stroke(),s.restore()}drawLabels(o){if(!this.options.ticks.display)return;const _=this.ctx,$=this._computeLabelArea();$&&clipArea(_,$);const _e=this.getLabelItems(o);for(const et of _e){const j=et.options,nt=et.font,ot=et.label,ct=et.textOffset;renderText(_,ot,0,ct,nt,j)}$&&unclipArea(_)}drawTitle(){const{ctx:o,options:{position:s,title:_,reverse:$}}=this;if(!_.display)return;const _e=toFont(_.font),et=toPadding(_.padding),j=_.align;let nt=_e.lineHeight/2;s==="bottom"||s==="center"||isObject(s)?(nt+=et.bottom,isArray(_.text)&&(nt+=_e.lineHeight*(_.text.length-1))):nt+=et.top;const{titleX:ot,titleY:ct,maxWidth:gt,rotation:pt}=titleArgs(this,nt,s,j);renderText(o,_.text,0,0,_e,{color:_.color,maxWidth:gt,rotation:pt,textAlign:titleAlign(j,s,$),textBaseline:"middle",translation:[ot,ct]})}draw(o){this._isVisible()&&(this.drawBackground(),this.drawGrid(o),this.drawBorder(),this.drawTitle(),this.drawLabels(o))}_layers(){const o=this.options,s=o.ticks&&o.ticks.z||0,_=valueOrDefault(o.grid&&o.grid.z,-1),$=valueOrDefault(o.border&&o.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:s,draw:_e=>{this.draw(_e)}}]:[{z:_,draw:_e=>{this.drawBackground(),this.drawGrid(_e),this.drawTitle()}},{z:$,draw:()=>{this.drawBorder()}},{z:s,draw:_e=>{this.drawLabels(_e)}}]}getMatchingVisibleMetas(o){const s=this.chart.getSortedVisibleDatasetMetas(),_=this.axis+"AxisID",$=[];let _e,et;for(_e=0,et=s.length;_e<et;++_e){const j=s[_e];j[_]===this.id&&(!o||j.type===o)&&$.push(j)}return $}_resolveTickFontOptions(o){const s=this.options.ticks.setContext(this.getContext(o));return toFont(s.font)}_maxDigits(){const o=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/o}}class TypedRegistry{constructor(o,s,_){this.type=o,this.scope=s,this.override=_,this.items=Object.create(null)}isForType(o){return Object.prototype.isPrototypeOf.call(this.type.prototype,o.prototype)}register(o){const s=Object.getPrototypeOf(o);let _;isIChartComponent(s)&&(_=this.register(s));const $=this.items,_e=o.id,et=this.scope+"."+_e;if(!_e)throw new Error("class does not have id: "+o);return _e in $||($[_e]=o,registerDefaults(o,et,_),this.override&&defaults.override(o.id,o.overrides)),et}get(o){return this.items[o]}unregister(o){const s=this.items,_=o.id,$=this.scope;_ in s&&delete s[_],$&&_ in defaults[$]&&(delete defaults[$][_],this.override&&delete overrides[_])}}function registerDefaults(i,o,s){const _=merge(Object.create(null),[s?defaults.get(s):{},defaults.get(o),i.defaults]);defaults.set(o,_),i.defaultRoutes&&routeDefaults(o,i.defaultRoutes),i.descriptors&&defaults.describe(o,i.descriptors)}function routeDefaults(i,o){Object.keys(o).forEach(s=>{const _=s.split("."),$=_.pop(),_e=[i].concat(_).join("."),et=o[s].split("."),j=et.pop(),nt=et.join(".");defaults.route(_e,$,nt,j)})}function isIChartComponent(i){return"id"in i&&"defaults"in i}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...o){this._each("register",o)}remove(...o){this._each("unregister",o)}addControllers(...o){this._each("register",o,this.controllers)}addElements(...o){this._each("register",o,this.elements)}addPlugins(...o){this._each("register",o,this.plugins)}addScales(...o){this._each("register",o,this.scales)}getController(o){return this._get(o,this.controllers,"controller")}getElement(o){return this._get(o,this.elements,"element")}getPlugin(o){return this._get(o,this.plugins,"plugin")}getScale(o){return this._get(o,this.scales,"scale")}removeControllers(...o){this._each("unregister",o,this.controllers)}removeElements(...o){this._each("unregister",o,this.elements)}removePlugins(...o){this._each("unregister",o,this.plugins)}removeScales(...o){this._each("unregister",o,this.scales)}_each(o,s,_){[...s].forEach($=>{const _e=_||this._getRegistryForType($);_||_e.isForType($)||_e===this.plugins&&$.id?this._exec(o,_e,$):each($,et=>{const j=_||this._getRegistryForType(et);this._exec(o,j,et)})})}_exec(o,s,_){const $=_capitalize(o);callback(_["before"+$],[],_),s[o](_),callback(_["after"+$],[],_)}_getRegistryForType(o){for(let s=0;s<this._typedRegistries.length;s++){const _=this._typedRegistries[s];if(_.isForType(o))return _}return this.plugins}_get(o,s,_){const $=s.get(o);if($===void 0)throw new Error('"'+o+'" is not a registered '+_+".");return $}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(o,s,_,$){s==="beforeInit"&&(this._init=this._createDescriptors(o,!0),this._notify(this._init,o,"install"));const _e=$?this._descriptors(o).filter($):this._descriptors(o),et=this._notify(_e,o,s,_);return s==="afterDestroy"&&(this._notify(_e,o,"stop"),this._notify(this._init,o,"uninstall")),et}_notify(o,s,_,$){$=$||{};for(const _e of o){const et=_e.plugin,j=et[_],nt=[s,$,_e.options];if(callback(j,nt,et)===!1&&$.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(o){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(o);return this._notifyStateChanges(o),s}_createDescriptors(o,s){const _=o&&o.config,$=valueOrDefault(_.options&&_.options.plugins,{}),_e=allPlugins(_);return $===!1&&!s?[]:createDescriptors(o,_e,$,s)}_notifyStateChanges(o){const s=this._oldCache||[],_=this._cache,$=(_e,et)=>_e.filter(j=>!et.some(nt=>j.plugin.id===nt.plugin.id));this._notify($(s,_),o,"stop"),this._notify($(_,s),o,"start")}}function allPlugins(i){const o={},s=[],_=Object.keys(registry.plugins.items);for(let _e=0;_e<_.length;_e++)s.push(registry.getPlugin(_[_e]));const $=i.plugins||[];for(let _e=0;_e<$.length;_e++){const et=$[_e];s.indexOf(et)===-1&&(s.push(et),o[et.id]=!0)}return{plugins:s,localIds:o}}function getOpts(i,o){return!o&&i===!1?null:i===!0?{}:i}function createDescriptors(i,{plugins:o,localIds:s},_,$){const _e=[],et=i.getContext();for(const j of o){const nt=j.id,ot=getOpts(_[nt],$);ot!==null&&_e.push({plugin:j,options:pluginOpts(i.config,{plugin:j,local:s[nt]},ot,et)})}return _e}function pluginOpts(i,{plugin:o,local:s},_,$){const _e=i.pluginScopeKeys(o),et=i.getOptionScopes(_,_e);return s&&o.defaults&&et.push(o.defaults),i.createResolver(et,$,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(i,o){const s=defaults.datasets[i]||{};return((o.datasets||{})[i]||{}).indexAxis||o.indexAxis||s.indexAxis||"x"}function getAxisFromDefaultScaleID(i,o){let s=i;return i==="_index_"?s=o:i==="_value_"&&(s=o==="x"?"y":"x"),s}function getDefaultScaleIDFromAxis(i,o){return i===o?"_index_":"_value_"}function axisFromPosition(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function determineAxis(i,o){if(i==="x"||i==="y"||i==="r"||(i=o.axis||axisFromPosition(o.position)||i.length>1&&determineAxis(i[0].toLowerCase(),o),i))return i;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function mergeScaleConfig(i,o){const s=overrides[i.type]||{scales:{}},_=o.scales||{},$=getIndexAxis(i.type,o),_e=Object.create(null);return Object.keys(_).forEach(et=>{const j=_[et];if(!isObject(j))return console.error(`Invalid scale configuration for scale: ${et}`);if(j._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${et}`);const nt=determineAxis(et,j),ot=getDefaultScaleIDFromAxis(nt,$),ct=s.scales||{};_e[et]=mergeIf(Object.create(null),[{axis:nt},j,ct[nt],ct[ot]])}),i.data.datasets.forEach(et=>{const j=et.type||i.type,nt=et.indexAxis||getIndexAxis(j,o),ct=(overrides[j]||{}).scales||{};Object.keys(ct).forEach(gt=>{const pt=getAxisFromDefaultScaleID(gt,nt),ft=et[pt+"AxisID"]||pt;_e[ft]=_e[ft]||Object.create(null),mergeIf(_e[ft],[{axis:pt},_[ft],ct[gt]])})}),Object.keys(_e).forEach(et=>{const j=_e[et];mergeIf(j,[defaults.scales[j.type],defaults.scale])}),_e}function initOptions(i){const o=i.options||(i.options={});o.plugins=valueOrDefault(o.plugins,{}),o.scales=mergeScaleConfig(i,o)}function initData(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function initConfig(i){return i=i||{},i.data=initData(i.data),initOptions(i),i}const keyCache=new Map,keysCached=new Set;function cachedKeys(i,o){let s=keyCache.get(i);return s||(s=o(),keyCache.set(i,s),keysCached.add(s)),s}const addIfFound=(i,o,s)=>{const _=resolveObjectKey(o,s);_!==void 0&&i.add(_)};class Config{constructor(o){this._config=initConfig(o),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(o){this._config.type=o}get data(){return this._config.data}set data(o){this._config.data=initData(o)}get options(){return this._config.options}set options(o){this._config.options=o}get plugins(){return this._config.plugins}update(){const o=this._config;this.clearCache(),initOptions(o)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(o){return cachedKeys(o,()=>[[`datasets.${o}`,""]])}datasetAnimationScopeKeys(o,s){return cachedKeys(`${o}.transition.${s}`,()=>[[`datasets.${o}.transitions.${s}`,`transitions.${s}`],[`datasets.${o}`,""]])}datasetElementScopeKeys(o,s){return cachedKeys(`${o}-${s}`,()=>[[`datasets.${o}.elements.${s}`,`datasets.${o}`,`elements.${s}`,""]])}pluginScopeKeys(o){const s=o.id,_=this.type;return cachedKeys(`${_}-plugin-${s}`,()=>[[`plugins.${s}`,...o.additionalOptionScopes||[]]])}_cachedScopes(o,s){const _=this._scopeCache;let $=_.get(o);return(!$||s)&&($=new Map,_.set(o,$)),$}getOptionScopes(o,s,_){const{options:$,type:_e}=this,et=this._cachedScopes(o,_),j=et.get(s);if(j)return j;const nt=new Set;s.forEach(ct=>{o&&(nt.add(o),ct.forEach(gt=>addIfFound(nt,o,gt))),ct.forEach(gt=>addIfFound(nt,$,gt)),ct.forEach(gt=>addIfFound(nt,overrides[_e]||{},gt)),ct.forEach(gt=>addIfFound(nt,defaults,gt)),ct.forEach(gt=>addIfFound(nt,descriptors,gt))});const ot=Array.from(nt);return ot.length===0&&ot.push(Object.create(null)),keysCached.has(s)&&et.set(s,ot),ot}chartOptionScopes(){const{options:o,type:s}=this;return[o,overrides[s]||{},defaults.datasets[s]||{},{type:s},defaults,descriptors]}resolveNamedOptions(o,s,_,$=[""]){const _e={$shared:!0},{resolver:et,subPrefixes:j}=getResolver(this._resolverCache,o,$);let nt=et;if(needContext(et,s)){_e.$shared=!1,_=isFunction(_)?_():_;const ot=this.createResolver(o,_,j);nt=_attachContext(et,_,ot)}for(const ot of s)_e[ot]=nt[ot];return _e}createResolver(o,s,_=[""],$){const{resolver:_e}=getResolver(this._resolverCache,o,_);return isObject(s)?_attachContext(_e,s,void 0,$):_e}}function getResolver(i,o,s){let _=i.get(o);_||(_=new Map,i.set(o,_));const $=s.join();let _e=_.get($);return _e||(_e={resolver:_createResolver(o,s),subPrefixes:s.filter(j=>!j.toLowerCase().includes("hover"))},_.set($,_e)),_e}const hasFunction=i=>isObject(i)&&Object.getOwnPropertyNames(i).reduce((o,s)=>o||isFunction(i[s]),!1);function needContext(i,o){const{isScriptable:s,isIndexable:_}=_descriptors(i);for(const $ of o){const _e=s($),et=_($),j=(et||_e)&&i[$];if(_e&&(isFunction(j)||hasFunction(j))||et&&isArray(j))return!0}return!1}var version="4.2.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(i,o){return i==="top"||i==="bottom"||KNOWN_POSITIONS.indexOf(i)===-1&&o==="x"}function compare2Level(i,o){return function(s,_){return s[i]===_[i]?s[o]-_[o]:s[i]-_[i]}}function onAnimationsComplete(i){const o=i.chart,s=o.options.animation;o.notifyPlugins("afterRender"),callback(s&&s.onComplete,[i],o)}function onAnimationProgress(i){const o=i.chart,s=o.options.animation;callback(s&&s.onProgress,[i],o)}function getCanvas(i){return _isDomSupported()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const instances={},getChart=i=>{const o=getCanvas(i);return Object.values(instances).filter(s=>s.canvas===o).pop()};function moveNumericKeys(i,o,s){const _=Object.keys(i);for(const $ of _){const _e=+$;if(_e>=o){const et=i[$];delete i[$],(s>0||_e>o)&&(i[_e+s]=et)}}}function determineLastEvent(i,o,s,_){return!s||i.type==="mouseout"?null:_?o:i}function getDatasetArea(i){const{xScale:o,yScale:s}=i;if(o&&s)return{left:o.left,right:o.right,top:s.top,bottom:s.bottom}}class Chart$1{static register(...o){registry.add(...o),invalidatePlugins()}static unregister(...o){registry.remove(...o),invalidatePlugins()}constructor(o,s){const _=this.config=new Config(s),$=getCanvas(o),_e=getChart($);if(_e)throw new Error("Canvas is already in use. Chart with ID '"+_e.id+"' must be destroyed before the canvas with ID '"+_e.canvas.id+"' can be reused.");const et=_.createResolver(_.chartOptionScopes(),this.getContext());this.platform=new(_.platform||_detectPlatform($)),this.platform.updateConfig(_);const j=this.platform.acquireContext($,et.aspectRatio),nt=j&&j.canvas,ot=nt&&nt.height,ct=nt&&nt.width;if(this.id=uid(),this.ctx=j,this.canvas=nt,this.width=ct,this.height=ot,this._options=et,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(gt=>this.update(gt),et.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!j||!nt){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:o,maintainAspectRatio:s},width:_,height:$,_aspectRatio:_e}=this;return isNullOrUndef(o)?s&&_e?_e:$?_/$:null:o}get data(){return this.config.data}set data(o){this.config.data=o}get options(){return this._options}set options(o){this.config.options=o}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(o,s){animator.running(this)?this._resizeBeforeDraw={width:o,height:s}:this._resize(o,s)}_resize(o,s){const _=this.options,$=this.canvas,_e=_.maintainAspectRatio&&this.aspectRatio,et=this.platform.getMaximumSize($,o,s,_e),j=_.devicePixelRatio||this.platform.getDevicePixelRatio(),nt=this.width?"resize":"attach";this.width=et.width,this.height=et.height,this._aspectRatio=this.aspectRatio,retinaScale(this,j,!0)&&(this.notifyPlugins("resize",{size:et}),callback(_.onResize,[this,et],this),this.attached&&this._doResize(nt)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};each(s,(_,$)=>{_.id=$})}buildOrUpdateScales(){const o=this.options,s=o.scales,_=this.scales,$=Object.keys(_).reduce((et,j)=>(et[j]=!1,et),{});let _e=[];s&&(_e=_e.concat(Object.keys(s).map(et=>{const j=s[et],nt=determineAxis(et,j),ot=nt==="r",ct=nt==="x";return{options:j,dposition:ot?"chartArea":ct?"bottom":"left",dtype:ot?"radialLinear":ct?"category":"linear"}}))),each(_e,et=>{const j=et.options,nt=j.id,ot=determineAxis(nt,j),ct=valueOrDefault(j.type,et.dtype);(j.position===void 0||positionIsHorizontal(j.position,ot)!==positionIsHorizontal(et.dposition))&&(j.position=et.dposition),$[nt]=!0;let gt=null;if(nt in _&&_[nt].type===ct)gt=_[nt];else{const pt=registry.getScale(ct);gt=new pt({id:nt,type:ct,ctx:this.ctx,chart:this}),_[gt.id]=gt}gt.init(j,o)}),each($,(et,j)=>{et||delete _[j]}),each(_,et=>{layouts.configure(this,et,et.options),layouts.addBox(this,et)})}_updateMetasets(){const o=this._metasets,s=this.data.datasets.length,_=o.length;if(o.sort(($,_e)=>$.index-_e.index),_>s){for(let $=s;$<_;++$)this._destroyDatasetMeta($);o.splice(s,_-s)}this._sortedMetasets=o.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:o,data:{datasets:s}}=this;o.length>s.length&&delete this._stacks,o.forEach((_,$)=>{s.filter(_e=>_e===_._dataset).length===0&&this._destroyDatasetMeta($)})}buildOrUpdateControllers(){const o=[],s=this.data.datasets;let _,$;for(this._removeUnreferencedMetasets(),_=0,$=s.length;_<$;_++){const _e=s[_];let et=this.getDatasetMeta(_);const j=_e.type||this.config.type;if(et.type&&et.type!==j&&(this._destroyDatasetMeta(_),et=this.getDatasetMeta(_)),et.type=j,et.indexAxis=_e.indexAxis||getIndexAxis(j,this.options),et.order=_e.order||0,et.index=_,et.label=""+_e.label,et.visible=this.isDatasetVisible(_),et.controller)et.controller.updateIndex(_),et.controller.linkScales();else{const nt=registry.getController(j),{datasetElementType:ot,dataElementType:ct}=defaults.datasets[j];Object.assign(nt,{dataElementType:registry.getElement(ct),datasetElementType:ot&&registry.getElement(ot)}),et.controller=new nt(this,_),o.push(et.controller)}}return this._updateMetasets(),o}_resetElements(){each(this.data.datasets,(o,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(o){const s=this.config;s.update();const _=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),$=this._animationsDisabled=!_.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:o,cancelable:!0})===!1)return;const _e=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let et=0;for(let ot=0,ct=this.data.datasets.length;ot<ct;ot++){const{controller:gt}=this.getDatasetMeta(ot),pt=!$&&_e.indexOf(gt)===-1;gt.buildOrUpdateElements(pt),et=Math.max(+gt.getMaxOverflow(),et)}et=this._minPadding=_.layout.autoPadding?et:0,this._updateLayout(et),$||each(_e,ot=>{ot.reset()}),this._updateDatasets(o),this.notifyPlugins("afterUpdate",{mode:o}),this._layers.sort(compare2Level("z","_idx"));const{_active:j,_lastEvent:nt}=this;nt?this._eventHandler(nt,!0):j.length&&this._updateHoverStyles(j,j,!0),this.render()}_updateScales(){each(this.scales,o=>{layouts.removeBox(this,o)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const o=this.options,s=new Set(Object.keys(this._listeners)),_=new Set(o.events);(!setsEqual(s,_)||!!this._responsiveListeners!==o.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:o}=this,s=this._getUniformDataChanges()||[];for(const{method:_,start:$,count:_e}of s){const et=_==="_removeElements"?-_e:_e;moveNumericKeys(o,$,et)}}_getUniformDataChanges(){const o=this._dataChanges;if(!o||!o.length)return;this._dataChanges=[];const s=this.data.datasets.length,_=_e=>new Set(o.filter(et=>et[0]===_e).map((et,j)=>j+","+et.splice(1).join(","))),$=_(0);for(let _e=1;_e<s;_e++)if(!setsEqual($,_(_e)))return;return Array.from($).map(_e=>_e.split(",")).map(_e=>({method:_e[1],start:+_e[2],count:+_e[3]}))}_updateLayout(o){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,o);const s=this.chartArea,_=s.width<=0||s.height<=0;this._layers=[],each(this.boxes,$=>{_&&$.position==="chartArea"||($.configure&&$.configure(),this._layers.push(...$._layers()))},this),this._layers.forEach(($,_e)=>{$._idx=_e}),this.notifyPlugins("afterLayout")}_updateDatasets(o){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:o,cancelable:!0})!==!1){for(let s=0,_=this.data.datasets.length;s<_;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,_=this.data.datasets.length;s<_;++s)this._updateDataset(s,isFunction(o)?o({datasetIndex:s}):o);this.notifyPlugins("afterDatasetsUpdate",{mode:o})}}_updateDataset(o,s){const _=this.getDatasetMeta(o),$={meta:_,index:o,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",$)!==!1&&(_.controller._update(s),$.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",$))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let o;if(this._resizeBeforeDraw){const{width:_,height:$}=this._resizeBeforeDraw;this._resize(_,$),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(o=0;o<s.length&&s[o].z<=0;++o)s[o].draw(this.chartArea);for(this._drawDatasets();o<s.length;++o)s[o].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(o){const s=this._sortedMetasets,_=[];let $,_e;for($=0,_e=s.length;$<_e;++$){const et=s[$];(!o||et.visible)&&_.push(et)}return _}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const o=this.getSortedVisibleDatasetMetas();for(let s=o.length-1;s>=0;--s)this._drawDataset(o[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(o){const s=this.ctx,_=o._clip,$=!_.disabled,_e=getDatasetArea(o)||this.chartArea,et={meta:o,index:o.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",et)!==!1&&($&&clipArea(s,{left:_.left===!1?0:_e.left-_.left,right:_.right===!1?this.width:_e.right+_.right,top:_.top===!1?0:_e.top-_.top,bottom:_.bottom===!1?this.height:_e.bottom+_.bottom}),o.controller.draw(),$&&unclipArea(s),et.cancelable=!1,this.notifyPlugins("afterDatasetDraw",et))}isPointInArea(o){return _isPointInArea(o,this.chartArea,this._minPadding)}getElementsAtEventForMode(o,s,_,$){const _e=Interaction.modes[s];return typeof _e=="function"?_e(this,o,_,$):[]}getDatasetMeta(o){const s=this.data.datasets[o],_=this._metasets;let $=_.filter(_e=>_e&&_e._dataset===s).pop();return $||($={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:o,_dataset:s,_parsed:[],_sorted:!1},_.push($)),$}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(o){const s=this.data.datasets[o];if(!s)return!1;const _=this.getDatasetMeta(o);return typeof _.hidden=="boolean"?!_.hidden:!s.hidden}setDatasetVisibility(o,s){const _=this.getDatasetMeta(o);_.hidden=!s}toggleDataVisibility(o){this._hiddenIndices[o]=!this._hiddenIndices[o]}getDataVisibility(o){return!this._hiddenIndices[o]}_updateVisibility(o,s,_){const $=_?"show":"hide",_e=this.getDatasetMeta(o),et=_e.controller._resolveAnimations(void 0,$);defined(s)?(_e.data[s].hidden=!_,this.update()):(this.setDatasetVisibility(o,_),et.update(_e,{visible:_}),this.update(j=>j.datasetIndex===o?$:void 0))}hide(o,s){this._updateVisibility(o,s,!1)}show(o,s){this._updateVisibility(o,s,!0)}_destroyDatasetMeta(o){const s=this._metasets[o];s&&s.controller&&s.controller._destroy(),delete this._metasets[o]}_stop(){let o,s;for(this.stop(),animator.remove(this),o=0,s=this.data.datasets.length;o<s;++o)this._destroyDatasetMeta(o)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:o,ctx:s}=this;this._stop(),this.config.clearCache(),o&&(this.unbindEvents(),clearCanvas(o,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...o){return this.canvas.toDataURL(...o)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const o=this._listeners,s=this.platform,_=(_e,et)=>{s.addEventListener(this,_e,et),o[_e]=et},$=(_e,et,j)=>{_e.offsetX=et,_e.offsetY=j,this._eventHandler(_e)};each(this.options.events,_e=>_(_e,$))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const o=this._responsiveListeners,s=this.platform,_=(nt,ot)=>{s.addEventListener(this,nt,ot),o[nt]=ot},$=(nt,ot)=>{o[nt]&&(s.removeEventListener(this,nt,ot),delete o[nt])},_e=(nt,ot)=>{this.canvas&&this.resize(nt,ot)};let et;const j=()=>{$("attach",j),this.attached=!0,this.resize(),_("resize",_e),_("detach",et)};et=()=>{this.attached=!1,$("resize",_e),this._stop(),this._resize(0,0),_("attach",j)},s.isAttached(this.canvas)?j():et()}unbindEvents(){each(this._listeners,(o,s)=>{this.platform.removeEventListener(this,s,o)}),this._listeners={},each(this._responsiveListeners,(o,s)=>{this.platform.removeEventListener(this,s,o)}),this._responsiveListeners=void 0}updateHoverStyle(o,s,_){const $=_?"set":"remove";let _e,et,j,nt;for(s==="dataset"&&(_e=this.getDatasetMeta(o[0].datasetIndex),_e.controller["_"+$+"DatasetHoverStyle"]()),j=0,nt=o.length;j<nt;++j){et=o[j];const ot=et&&this.getDatasetMeta(et.datasetIndex).controller;ot&&ot[$+"HoverStyle"](et.element,et.datasetIndex,et.index)}}getActiveElements(){return this._active||[]}setActiveElements(o){const s=this._active||[],_=o.map(({datasetIndex:_e,index:et})=>{const j=this.getDatasetMeta(_e);if(!j)throw new Error("No dataset found at index "+_e);return{datasetIndex:_e,element:j.data[et],index:et}});!_elementsEqual(_,s)&&(this._active=_,this._lastEvent=null,this._updateHoverStyles(_,s))}notifyPlugins(o,s,_){return this._plugins.notify(this,o,s,_)}isPluginEnabled(o){return this._plugins._cache.filter(s=>s.plugin.id===o).length===1}_updateHoverStyles(o,s,_){const $=this.options.hover,_e=(nt,ot)=>nt.filter(ct=>!ot.some(gt=>ct.datasetIndex===gt.datasetIndex&&ct.index===gt.index)),et=_e(s,o),j=_?o:_e(o,s);et.length&&this.updateHoverStyle(et,$.mode,!1),j.length&&$.mode&&this.updateHoverStyle(j,$.mode,!0)}_eventHandler(o,s){const _={event:o,replay:s,cancelable:!0,inChartArea:this.isPointInArea(o)},$=et=>(et.options.events||this.options.events).includes(o.native.type);if(this.notifyPlugins("beforeEvent",_,$)===!1)return;const _e=this._handleEvent(o,s,_.inChartArea);return _.cancelable=!1,this.notifyPlugins("afterEvent",_,$),(_e||_.changed)&&this.render(),this}_handleEvent(o,s,_){const{_active:$=[],options:_e}=this,et=s,j=this._getActiveElements(o,$,_,et),nt=_isClickEvent(o),ot=determineLastEvent(o,this._lastEvent,_,nt);_&&(this._lastEvent=null,callback(_e.onHover,[o,j,this],this),nt&&callback(_e.onClick,[o,j,this],this));const ct=!_elementsEqual(j,$);return(ct||s)&&(this._active=j,this._updateHoverStyles(j,$,s)),this._lastEvent=ot,ct}_getActiveElements(o,s,_,$){if(o.type==="mouseout")return[];if(!_)return s;const _e=this.options.hover;return this.getElementsAtEventForMode(o,_e.mode,_e,$)}}__publicField3(Chart$1,"defaults",defaults);__publicField3(Chart$1,"instances",instances);__publicField3(Chart$1,"overrides",overrides);__publicField3(Chart$1,"registry",registry);__publicField3(Chart$1,"version",version);__publicField3(Chart$1,"getChart",getChart);function invalidatePlugins(){return each(Chart$1.instances,i=>i._plugins.invalidate())}function clipArc(i,o,s){const{startAngle:_,pixelMargin:$,x:_e,y:et,outerRadius:j,innerRadius:nt}=o;let ot=$/j;i.beginPath(),i.arc(_e,et,j,_-ot,s+ot),nt>$?(ot=$/nt,i.arc(_e,et,nt,s+ot,_-ot,!0)):i.arc(_e,et,$,s+HALF_PI,_-HALF_PI),i.closePath(),i.clip()}function toRadiusCorners(i){return _readValueToProps(i,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(i,o,s,_){const $=toRadiusCorners(i.options.borderRadius),_e=(s-o)/2,et=Math.min(_e,_*o/2),j=nt=>{const ot=(s-Math.min(_e,nt))*_/2;return _limitValue(nt,0,Math.min(_e,ot))};return{outerStart:j($.outerStart),outerEnd:j($.outerEnd),innerStart:_limitValue($.innerStart,0,et),innerEnd:_limitValue($.innerEnd,0,et)}}function rThetaToXY(i,o,s,_){return{x:s+i*Math.cos(o),y:_+i*Math.sin(o)}}function pathArc(i,o,s,_,$,_e){const{x:et,y:j,startAngle:nt,pixelMargin:ot,innerRadius:ct}=o,gt=Math.max(o.outerRadius+_+s-ot,0),pt=ct>0?ct+_+s+ot:0;let ft=0;const ut=$-nt;if(_){const Zt=ct>0?ct-_:0,Wt=gt>0?gt-_:0,Gt=(Zt+Wt)/2,Ht=Gt!==0?ut*Gt/(Gt+_):ut;ft=(ut-Ht)/2}const yt=Math.max(.001,ut*gt-s/PI)/gt,wt=(ut-yt)/2,Qt=nt+wt+ft,It=$-wt-ft,{outerStart:xt,outerEnd:Tt,innerStart:mt,innerEnd:Nt}=parseBorderRadius$1(o,pt,gt,It-Qt),en=gt-xt,rn=gt-Tt,Ft=Qt+xt/en,St=It-Tt/rn,Pt=pt+mt,Bt=pt+Nt,jt=Qt+mt/Pt,qt=It-Nt/Bt;if(i.beginPath(),_e){const Zt=(Ft+St)/2;if(i.arc(et,j,gt,Ft,Zt),i.arc(et,j,gt,Zt,St),Tt>0){const kt=rThetaToXY(rn,St,et,j);i.arc(kt.x,kt.y,Tt,St,It+HALF_PI)}const Wt=rThetaToXY(Bt,It,et,j);if(i.lineTo(Wt.x,Wt.y),Nt>0){const kt=rThetaToXY(Bt,qt,et,j);i.arc(kt.x,kt.y,Nt,It+HALF_PI,qt+Math.PI)}const Gt=(It-Nt/pt+(Qt+mt/pt))/2;if(i.arc(et,j,pt,It-Nt/pt,Gt,!0),i.arc(et,j,pt,Gt,Qt+mt/pt,!0),mt>0){const kt=rThetaToXY(Pt,jt,et,j);i.arc(kt.x,kt.y,mt,jt+Math.PI,Qt-HALF_PI)}const Ht=rThetaToXY(en,Qt,et,j);if(i.lineTo(Ht.x,Ht.y),xt>0){const kt=rThetaToXY(en,Ft,et,j);i.arc(kt.x,kt.y,xt,Qt-HALF_PI,Ft)}}else{i.moveTo(et,j);const Zt=Math.cos(Ft)*gt+et,Wt=Math.sin(Ft)*gt+j;i.lineTo(Zt,Wt);const Gt=Math.cos(St)*gt+et,Ht=Math.sin(St)*gt+j;i.lineTo(Gt,Ht)}i.closePath()}function drawArc(i,o,s,_,$){const{fullCircles:_e,startAngle:et,circumference:j}=o;let nt=o.endAngle;if(_e){pathArc(i,o,s,_,nt,$);for(let ot=0;ot<_e;++ot)i.fill();isNaN(j)||(nt=et+(j%TAU||TAU))}return pathArc(i,o,s,_,nt,$),i.fill(),nt}function drawBorder(i,o,s,_,$){const{fullCircles:_e,startAngle:et,circumference:j,options:nt}=o,{borderWidth:ot,borderJoinStyle:ct}=nt,gt=nt.borderAlign==="inner";if(!ot)return;gt?(i.lineWidth=ot*2,i.lineJoin=ct||"round"):(i.lineWidth=ot,i.lineJoin=ct||"bevel");let pt=o.endAngle;if(_e){pathArc(i,o,s,_,pt,$);for(let ft=0;ft<_e;++ft)i.stroke();isNaN(j)||(pt=et+(j%TAU||TAU))}gt&&clipArc(i,o,pt),_e||(pathArc(i,o,s,_,pt,$),i.stroke())}class ArcElement extends Element{constructor(o){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,o&&Object.assign(this,o)}inRange(o,s,_){const $=this.getProps(["x","y"],_),{angle:_e,distance:et}=getAngleFromPoint($,{x:o,y:s}),{startAngle:j,endAngle:nt,innerRadius:ot,outerRadius:ct,circumference:gt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],_),pt=this.options.spacing/2,ut=valueOrDefault(gt,nt-j)>=TAU||_angleBetween(_e,j,nt),yt=_isBetween(et,ot+pt,ct+pt);return ut&&yt}getCenterPoint(o){const{x:s,y:_,startAngle:$,endAngle:_e,innerRadius:et,outerRadius:j}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],o),{offset:nt,spacing:ot}=this.options,ct=($+_e)/2,gt=(et+j+ot+nt)/2;return{x:s+Math.cos(ct)*gt,y:_+Math.sin(ct)*gt}}tooltipPosition(o){return this.getCenterPoint(o)}draw(o){const{options:s,circumference:_}=this,$=(s.offset||0)/4,_e=(s.spacing||0)/2,et=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=_>TAU?Math.floor(_/TAU):0,_===0||this.innerRadius<0||this.outerRadius<0)return;o.save();const j=(this.startAngle+this.endAngle)/2;o.translate(Math.cos(j)*$,Math.sin(j)*$);const nt=1-Math.sin(Math.min(PI,_||0)),ot=$*nt;o.fillStyle=s.backgroundColor,o.strokeStyle=s.borderColor,drawArc(o,this,ot,_e,et),drawBorder(o,this,ot,_e,et),o.restore()}}__publicField3(ArcElement,"id","arc");__publicField3(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0});__publicField3(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"});function setStyle(i,o,s=o){i.lineCap=valueOrDefault(s.borderCapStyle,o.borderCapStyle),i.setLineDash(valueOrDefault(s.borderDash,o.borderDash)),i.lineDashOffset=valueOrDefault(s.borderDashOffset,o.borderDashOffset),i.lineJoin=valueOrDefault(s.borderJoinStyle,o.borderJoinStyle),i.lineWidth=valueOrDefault(s.borderWidth,o.borderWidth),i.strokeStyle=valueOrDefault(s.borderColor,o.borderColor)}function lineTo(i,o,s){i.lineTo(s.x,s.y)}function getLineMethod(i){return i.stepped?_steppedLineTo:i.tension||i.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(i,o,s={}){const _=i.length,{start:$=0,end:_e=_-1}=s,{start:et,end:j}=o,nt=Math.max($,et),ot=Math.min(_e,j),ct=$<et&&_e<et||$>j&&_e>j;return{count:_,start:nt,loop:o.loop,ilen:ot<nt&&!ct?_+ot-nt:ot-nt}}function pathSegment(i,o,s,_){const{points:$,options:_e}=o,{count:et,start:j,loop:nt,ilen:ot}=pathVars($,s,_),ct=getLineMethod(_e);let{move:gt=!0,reverse:pt}=_||{},ft,ut,yt;for(ft=0;ft<=ot;++ft)ut=$[(j+(pt?ot-ft:ft))%et],!ut.skip&&(gt?(i.moveTo(ut.x,ut.y),gt=!1):ct(i,yt,ut,pt,_e.stepped),yt=ut);return nt&&(ut=$[(j+(pt?ot:0))%et],ct(i,yt,ut,pt,_e.stepped)),!!nt}function fastPathSegment(i,o,s,_){const $=o.points,{count:_e,start:et,ilen:j}=pathVars($,s,_),{move:nt=!0,reverse:ot}=_||{};let ct=0,gt=0,pt,ft,ut,yt,wt,Qt;const It=Tt=>(et+(ot?j-Tt:Tt))%_e,xt=()=>{yt!==wt&&(i.lineTo(ct,wt),i.lineTo(ct,yt),i.lineTo(ct,Qt))};for(nt&&(ft=$[It(0)],i.moveTo(ft.x,ft.y)),pt=0;pt<=j;++pt){if(ft=$[It(pt)],ft.skip)continue;const Tt=ft.x,mt=ft.y,Nt=Tt|0;Nt===ut?(mt<yt?yt=mt:mt>wt&&(wt=mt),ct=(gt*ct+Tt)/++gt):(xt(),i.lineTo(Tt,mt),ut=Nt,gt=0,yt=wt=mt),Qt=mt}xt()}function _getSegmentMethod(i){const o=i.options,s=o.borderDash&&o.borderDash.length;return!i._decimated&&!i._loop&&!o.tension&&o.cubicInterpolationMode!=="monotone"&&!o.stepped&&!s?fastPathSegment:pathSegment}function _getInterpolationMethod(i){return i.stepped?_steppedInterpolation:i.tension||i.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(i,o,s,_){let $=o._path;$||($=o._path=new Path2D,o.path($,s,_)&&$.closePath()),setStyle(i,o.options),i.stroke($)}function strokePathDirect(i,o,s,_){const{segments:$,options:_e}=o,et=_getSegmentMethod(o);for(const j of $)setStyle(i,_e,j.style),i.beginPath(),et(i,o,j,{start:s,end:s+_-1})&&i.closePath(),i.stroke()}const usePath2D=typeof Path2D=="function";function draw(i,o,s,_){usePath2D&&!o.options.segment?strokePathWithCache(i,o,s,_):strokePathDirect(i,o,s,_)}class LineElement extends Element{constructor(o){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,o&&Object.assign(this,o)}updateControlPoints(o,s){const _=this.options;if((_.tension||_.cubicInterpolationMode==="monotone")&&!_.stepped&&!this._pointsUpdated){const $=_.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,_,o,$,s),this._pointsUpdated=!0}}set points(o){this._points=o,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const o=this.segments,s=this.points;return o.length&&s[o[0].start]}last(){const o=this.segments,s=this.points,_=o.length;return _&&s[o[_-1].end]}interpolate(o,s){const _=this.options,$=o[s],_e=this.points,et=_boundSegments(this,{property:s,start:$,end:$});if(!et.length)return;const j=[],nt=_getInterpolationMethod(_);let ot,ct;for(ot=0,ct=et.length;ot<ct;++ot){const{start:gt,end:pt}=et[ot],ft=_e[gt],ut=_e[pt];if(ft===ut){j.push(ft);continue}const yt=Math.abs(($-ft[s])/(ut[s]-ft[s])),wt=nt(ft,ut,yt,_.stepped);wt[s]=o[s],j.push(wt)}return j.length===1?j[0]:j}pathSegment(o,s,_){return _getSegmentMethod(this)(o,this,s,_)}path(o,s,_){const $=this.segments,_e=_getSegmentMethod(this);let et=this._loop;s=s||0,_=_||this.points.length-s;for(const j of $)et&=_e(o,this,j,{start:s,end:s+_-1});return!!et}draw(o,s,_,$){const _e=this.options||{};(this.points||[]).length&&_e.borderWidth&&(o.save(),draw(o,this,_,$),o.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}__publicField3(LineElement,"id","line");__publicField3(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0});__publicField3(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});__publicField3(LineElement,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"});function inRange$1(i,o,s,_){const $=i.options,{[s]:_e}=i.getProps([s],_);return Math.abs(o-_e)<$.radius+$.hitRadius}class PointElement extends Element{constructor(o){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,o&&Object.assign(this,o)}inRange(o,s,_){const $=this.options,{x:_e,y:et}=this.getProps(["x","y"],_);return Math.pow(o-_e,2)+Math.pow(s-et,2)<Math.pow($.hitRadius+$.radius,2)}inXRange(o,s){return inRange$1(this,o,"x",s)}inYRange(o,s){return inRange$1(this,o,"y",s)}getCenterPoint(o){const{x:s,y:_}=this.getProps(["x","y"],o);return{x:s,y:_}}size(o){o=o||this.options||{};let s=o.radius||0;s=Math.max(s,s&&o.hoverRadius||0);const _=s&&o.borderWidth||0;return(s+_)*2}draw(o,s){const _=this.options;this.skip||_.radius<.1||!_isPointInArea(this,s,this.size(_)/2)||(o.strokeStyle=_.borderColor,o.lineWidth=_.borderWidth,o.fillStyle=_.backgroundColor,drawPoint(o,_,this.x,this.y))}getRange(){const o=this.options||{};return o.radius+o.hitRadius}}__publicField3(PointElement,"id","point");__publicField3(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0});__publicField3(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(i,o){const{x:s,y:_,base:$,width:_e,height:et}=i.getProps(["x","y","base","width","height"],o);let j,nt,ot,ct,gt;return i.horizontal?(gt=et/2,j=Math.min(s,$),nt=Math.max(s,$),ot=_-gt,ct=_+gt):(gt=_e/2,j=s-gt,nt=s+gt,ot=Math.min(_,$),ct=Math.max(_,$)),{left:j,top:ot,right:nt,bottom:ct}}function skipOrLimit(i,o,s,_){return i?0:_limitValue(o,s,_)}function parseBorderWidth(i,o,s){const _=i.options.borderWidth,$=i.borderSkipped,_e=toTRBL(_);return{t:skipOrLimit($.top,_e.top,0,s),r:skipOrLimit($.right,_e.right,0,o),b:skipOrLimit($.bottom,_e.bottom,0,s),l:skipOrLimit($.left,_e.left,0,o)}}function parseBorderRadius(i,o,s){const{enableBorderRadius:_}=i.getProps(["enableBorderRadius"]),$=i.options.borderRadius,_e=toTRBLCorners($),et=Math.min(o,s),j=i.borderSkipped,nt=_||isObject($);return{topLeft:skipOrLimit(!nt||j.top||j.left,_e.topLeft,0,et),topRight:skipOrLimit(!nt||j.top||j.right,_e.topRight,0,et),bottomLeft:skipOrLimit(!nt||j.bottom||j.left,_e.bottomLeft,0,et),bottomRight:skipOrLimit(!nt||j.bottom||j.right,_e.bottomRight,0,et)}}function boundingRects(i){const o=getBarBounds(i),s=o.right-o.left,_=o.bottom-o.top,$=parseBorderWidth(i,s/2,_/2),_e=parseBorderRadius(i,s/2,_/2);return{outer:{x:o.left,y:o.top,w:s,h:_,radius:_e},inner:{x:o.left+$.l,y:o.top+$.t,w:s-$.l-$.r,h:_-$.t-$.b,radius:{topLeft:Math.max(0,_e.topLeft-Math.max($.t,$.l)),topRight:Math.max(0,_e.topRight-Math.max($.t,$.r)),bottomLeft:Math.max(0,_e.bottomLeft-Math.max($.b,$.l)),bottomRight:Math.max(0,_e.bottomRight-Math.max($.b,$.r))}}}}function inRange(i,o,s,_){const $=o===null,_e=s===null,j=i&&!($&&_e)&&getBarBounds(i,_);return j&&($||_isBetween(o,j.left,j.right))&&(_e||_isBetween(s,j.top,j.bottom))}function hasRadius(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function addNormalRectPath(i,o){i.rect(o.x,o.y,o.w,o.h)}function inflateRect(i,o,s={}){const _=i.x!==s.x?-o:0,$=i.y!==s.y?-o:0,_e=(i.x+i.w!==s.x+s.w?o:0)-_,et=(i.y+i.h!==s.y+s.h?o:0)-$;return{x:i.x+_,y:i.y+$,w:i.w+_e,h:i.h+et,radius:i.radius}}class BarElement extends Element{constructor(o){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,o&&Object.assign(this,o)}draw(o){const{inflateAmount:s,options:{borderColor:_,backgroundColor:$}}=this,{inner:_e,outer:et}=boundingRects(this),j=hasRadius(et.radius)?addRoundedRectPath:addNormalRectPath;o.save(),(et.w!==_e.w||et.h!==_e.h)&&(o.beginPath(),j(o,inflateRect(et,s,_e)),o.clip(),j(o,inflateRect(_e,-s,et)),o.fillStyle=_,o.fill("evenodd")),o.beginPath(),j(o,inflateRect(_e,s)),o.fillStyle=$,o.fill(),o.restore()}inRange(o,s,_){return inRange(this,o,s,_)}inXRange(o,s){return inRange(this,o,null,s)}inYRange(o,s){return inRange(this,null,o,s)}getCenterPoint(o){const{x:s,y:_,base:$,horizontal:_e}=this.getProps(["x","y","base","horizontal"],o);return{x:_e?(s+$)/2:s,y:_e?_:(_+$)/2}}getRange(o){return o==="x"?this.width/2:this.height/2}}__publicField3(BarElement,"id","bar");__publicField3(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0});__publicField3(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var elements=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(i){return BORDER_COLORS[i%BORDER_COLORS.length]}function getBackgroundColor(i){return BACKGROUND_COLORS[i%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(i,o){return i.borderColor=getBorderColor(o),i.backgroundColor=getBackgroundColor(o),++o}function colorizeDoughnutDataset(i,o){return i.backgroundColor=i.data.map(()=>getBorderColor(o++)),o}function colorizePolarAreaDataset(i,o){return i.backgroundColor=i.data.map(()=>getBackgroundColor(o++)),o}function getColorizer(i){let o=0;return(s,_)=>{const $=i.getDatasetMeta(_).controller;$ instanceof DoughnutController?o=colorizeDoughnutDataset(s,o):$ instanceof PolarAreaController?o=colorizePolarAreaDataset(s,o):$&&(o=colorizeDefaultDataset(s,o))}}function containsColorsDefinitions(i){let o;for(o in i)if(i[o].borderColor||i[o].backgroundColor)return!0;return!1}function containsColorsDefinition(i){return i&&(i.borderColor||i.backgroundColor)}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,o,s){if(!s.enabled)return;const{data:{datasets:_},options:$}=i.config,{elements:_e}=$;if(!s.forceOverride&&(containsColorsDefinitions(_)||containsColorsDefinition($)||_e&&containsColorsDefinitions(_e)))return;const et=getColorizer(i);_.forEach(et)}};function lttbDecimation(i,o,s,_,$){const _e=$.samples||_;if(_e>=s)return i.slice(o,o+s);const et=[],j=(s-2)/(_e-2);let nt=0;const ot=o+s-1;let ct=o,gt,pt,ft,ut,yt;for(et[nt++]=i[ct],gt=0;gt<_e-2;gt++){let wt=0,Qt=0,It;const xt=Math.floor((gt+1)*j)+1+o,Tt=Math.min(Math.floor((gt+2)*j)+1,s)+o,mt=Tt-xt;for(It=xt;It<Tt;It++)wt+=i[It].x,Qt+=i[It].y;wt/=mt,Qt/=mt;const Nt=Math.floor(gt*j)+1+o,en=Math.min(Math.floor((gt+1)*j)+1,s)+o,{x:rn,y:Ft}=i[ct];for(ft=ut=-1,It=Nt;It<en;It++)ut=.5*Math.abs((rn-wt)*(i[It].y-Ft)-(rn-i[It].x)*(Qt-Ft)),ut>ft&&(ft=ut,pt=i[It],yt=It);et[nt++]=pt,ct=yt}return et[nt++]=i[ot],et}function minMaxDecimation(i,o,s,_){let $=0,_e=0,et,j,nt,ot,ct,gt,pt,ft,ut,yt;const wt=[],Qt=o+s-1,It=i[o].x,Tt=i[Qt].x-It;for(et=o;et<o+s;++et){j=i[et],nt=(j.x-It)/Tt*_,ot=j.y;const mt=nt|0;if(mt===ct)ot<ut?(ut=ot,gt=et):ot>yt&&(yt=ot,pt=et),$=(_e*$+j.x)/++_e;else{const Nt=et-1;if(!isNullOrUndef(gt)&&!isNullOrUndef(pt)){const en=Math.min(gt,pt),rn=Math.max(gt,pt);en!==ft&&en!==Nt&&wt.push(__spreadProps2(__spreadValues2({},i[en]),{x:$})),rn!==ft&&rn!==Nt&&wt.push(__spreadProps2(__spreadValues2({},i[rn]),{x:$}))}et>0&&Nt!==ft&&wt.push(i[Nt]),wt.push(j),ct=mt,_e=0,ut=yt=ot,gt=pt=ft=et}}return wt}function cleanDecimatedDataset(i){if(i._decimated){const o=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{value:o})}}function cleanDecimatedData(i){i.data.datasets.forEach(o=>{cleanDecimatedDataset(o)})}function getStartAndCountOfVisiblePointsSimplified(i,o){const s=o.length;let _=0,$;const{iScale:_e}=i,{min:et,max:j,minDefined:nt,maxDefined:ot}=_e.getUserBounds();return nt&&(_=_limitValue(_lookupByKey(o,_e.axis,et).lo,0,s-1)),ot?$=_limitValue(_lookupByKey(o,_e.axis,j).hi+1,_,s)-_:$=s-_,{start:_,count:$}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,o,s)=>{if(!s.enabled){cleanDecimatedData(i);return}const _=i.width;i.data.datasets.forEach(($,_e)=>{const{_data:et,indexAxis:j}=$,nt=i.getDatasetMeta(_e),ot=et||$.data;if(resolve([j,i.options.indexAxis])==="y"||!nt.controller.supportsDecimation)return;const ct=i.scales[nt.xAxisID];if(ct.type!=="linear"&&ct.type!=="time"||i.options.parsing)return;let{start:gt,count:pt}=getStartAndCountOfVisiblePointsSimplified(nt,ot);const ft=s.threshold||4*_;if(pt<=ft){cleanDecimatedDataset($);return}isNullOrUndef(et)&&($._data=ot,delete $.data,Object.defineProperty($,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(yt){this._data=yt}}));let ut;switch(s.algorithm){case"lttb":ut=lttbDecimation(ot,gt,pt,_,s);break;case"min-max":ut=minMaxDecimation(ot,gt,pt,_);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}$._decimated=ut})},destroy(i){cleanDecimatedData(i)}};function _segments(i,o,s){const _=i.segments,$=i.points,_e=o.points,et=[];for(const j of _){let{start:nt,end:ot}=j;ot=_findSegmentEnd(nt,ot,$);const ct=_getBounds(s,$[nt],$[ot],j.loop);if(!o.segments){et.push({source:j,target:ct,start:$[nt],end:$[ot]});continue}const gt=_boundSegments(o,ct);for(const pt of gt){const ft=_getBounds(s,_e[pt.start],_e[pt.end],pt.loop),ut=_boundSegment(j,$,ft);for(const yt of ut)et.push({source:yt,target:pt,start:{[s]:_getEdge(ct,ft,"start",Math.max)},end:{[s]:_getEdge(ct,ft,"end",Math.min)}})}}return et}function _getBounds(i,o,s,_){if(_)return;let $=o[i],_e=s[i];return i==="angle"&&($=_normalizeAngle($),_e=_normalizeAngle(_e)),{property:i,start:$,end:_e}}function _pointsFromSegments(i,o){const{x:s=null,y:_=null}=i||{},$=o.points,_e=[];return o.segments.forEach(({start:et,end:j})=>{j=_findSegmentEnd(et,j,$);const nt=$[et],ot=$[j];_!==null?(_e.push({x:nt.x,y:_}),_e.push({x:ot.x,y:_})):s!==null&&(_e.push({x:s,y:nt.y}),_e.push({x:s,y:ot.y}))}),_e}function _findSegmentEnd(i,o,s){for(;o>i;o--){const _=s[o];if(!isNaN(_.x)&&!isNaN(_.y))break}return o}function _getEdge(i,o,s,_){return i&&o?_(i[s],o[s]):i?i[s]:o?o[s]:0}function _createBoundaryLine(i,o){let s=[],_=!1;return isArray(i)?(_=!0,s=i):s=_pointsFromSegments(i,o),s.length?new LineElement({points:s,options:{tension:0},_loop:_,_fullLoop:_}):null}function _shouldApplyFill(i){return i&&i.fill!==!1}function _resolveTarget(i,o,s){let $=i[o].fill;const _e=[o];let et;if(!s)return $;for(;$!==!1&&_e.indexOf($)===-1;){if(!isNumberFinite($))return $;if(et=i[$],!et)return!1;if(et.visible)return $;_e.push($),$=et.fill}return!1}function _decodeFill(i,o,s){const _=parseFillOption(i);if(isObject(_))return isNaN(_.value)?!1:_;let $=parseFloat(_);return isNumberFinite($)&&Math.floor($)===$?decodeTargetIndex(_[0],o,$,s):["origin","start","end","stack","shape"].indexOf(_)>=0&&_}function decodeTargetIndex(i,o,s,_){return(i==="-"||i==="+")&&(s=o+s),s===o||s<0||s>=_?!1:s}function _getTargetPixel(i,o){let s=null;return i==="start"?s=o.bottom:i==="end"?s=o.top:isObject(i)?s=o.getPixelForValue(i.value):o.getBasePixel&&(s=o.getBasePixel()),s}function _getTargetValue(i,o,s){let _;return i==="start"?_=s:i==="end"?_=o.options.reverse?o.min:o.max:isObject(i)?_=i.value:_=o.getBaseValue(),_}function parseFillOption(i){const o=i.options,s=o.fill;let _=valueOrDefault(s&&s.target,s);return _===void 0&&(_=!!o.backgroundColor),_===!1||_===null?!1:_===!0?"origin":_}function _buildStackLine(i){const{scale:o,index:s,line:_}=i,$=[],_e=_.segments,et=_.points,j=getLinesBelow(o,s);j.push(_createBoundaryLine({x:null,y:o.bottom},_));for(let nt=0;nt<_e.length;nt++){const ot=_e[nt];for(let ct=ot.start;ct<=ot.end;ct++)addPointsBelow($,et[ct],j)}return new LineElement({points:$,options:{}})}function getLinesBelow(i,o){const s=[],_=i.getMatchingVisibleMetas("line");for(let $=0;$<_.length;$++){const _e=_[$];if(_e.index===o)break;_e.hidden||s.unshift(_e.dataset)}return s}function addPointsBelow(i,o,s){const _=[];for(let $=0;$<s.length;$++){const _e=s[$],{first:et,last:j,point:nt}=findPoint(_e,o,"x");if(!(!nt||et&&j)){if(et)_.unshift(nt);else if(i.push(nt),!j)break}}i.push(..._)}function findPoint(i,o,s){const _=i.interpolate(o,s);if(!_)return{};const $=_[s],_e=i.segments,et=i.points;let j=!1,nt=!1;for(let ot=0;ot<_e.length;ot++){const ct=_e[ot],gt=et[ct.start][s],pt=et[ct.end][s];if(_isBetween($,gt,pt)){j=$===gt,nt=$===pt;break}}return{first:j,last:nt,point:_}}class simpleArc{constructor(o){this.x=o.x,this.y=o.y,this.radius=o.radius}pathSegment(o,s,_){const{x:$,y:_e,radius:et}=this;return s=s||{start:0,end:TAU},o.arc($,_e,et,s.end,s.start,!0),!_.bounds}interpolate(o){const{x:s,y:_,radius:$}=this,_e=o.angle;return{x:s+Math.cos(_e)*$,y:_+Math.sin(_e)*$,angle:_e}}}function _getTarget(i){const{chart:o,fill:s,line:_}=i;if(isNumberFinite(s))return getLineByIndex(o,s);if(s==="stack")return _buildStackLine(i);if(s==="shape")return!0;const $=computeBoundary(i);return $ instanceof simpleArc?$:_createBoundaryLine($,_)}function getLineByIndex(i,o){const s=i.getDatasetMeta(o);return s&&i.isDatasetVisible(o)?s.dataset:null}function computeBoundary(i){return(i.scale||{}).getPointPositionForValue?computeCircularBoundary(i):computeLinearBoundary(i)}function computeLinearBoundary(i){const{scale:o={},fill:s}=i,_=_getTargetPixel(s,o);if(isNumberFinite(_)){const $=o.isHorizontal();return{x:$?_:null,y:$?null:_}}return null}function computeCircularBoundary(i){const{scale:o,fill:s}=i,_=o.options,$=o.getLabels().length,_e=_.reverse?o.max:o.min,et=_getTargetValue(s,o,_e),j=[];if(_.grid.circular){const nt=o.getPointPositionForValue(0,_e);return new simpleArc({x:nt.x,y:nt.y,radius:o.getDistanceFromCenterForValue(et)})}for(let nt=0;nt<$;++nt)j.push(o.getPointPositionForValue(nt,et));return j}function _drawfill(i,o,s){const _=_getTarget(o),{line:$,scale:_e,axis:et}=o,j=$.options,nt=j.fill,ot=j.backgroundColor,{above:ct=ot,below:gt=ot}=nt||{};_&&$.points.length&&(clipArea(i,s),doFill(i,{line:$,target:_,above:ct,below:gt,area:s,scale:_e,axis:et}),unclipArea(i))}function doFill(i,o){const{line:s,target:_,above:$,below:_e,area:et,scale:j}=o,nt=s._loop?"angle":o.axis;i.save(),nt==="x"&&_e!==$&&(clipVertical(i,_,et.top),fill(i,{line:s,target:_,color:$,scale:j,property:nt}),i.restore(),i.save(),clipVertical(i,_,et.bottom)),fill(i,{line:s,target:_,color:_e,scale:j,property:nt}),i.restore()}function clipVertical(i,o,s){const{segments:_,points:$}=o;let _e=!0,et=!1;i.beginPath();for(const j of _){const{start:nt,end:ot}=j,ct=$[nt],gt=$[_findSegmentEnd(nt,ot,$)];_e?(i.moveTo(ct.x,ct.y),_e=!1):(i.lineTo(ct.x,s),i.lineTo(ct.x,ct.y)),et=!!o.pathSegment(i,j,{move:et}),et?i.closePath():i.lineTo(gt.x,s)}i.lineTo(o.first().x,s),i.closePath(),i.clip()}function fill(i,o){const{line:s,target:_,property:$,color:_e,scale:et}=o,j=_segments(s,_,$);for(const{source:nt,target:ot,start:ct,end:gt}of j){const{style:{backgroundColor:pt=_e}={}}=nt,ft=_!==!0;i.save(),i.fillStyle=pt,clipBounds(i,et,ft&&_getBounds($,ct,gt)),i.beginPath();const ut=!!s.pathSegment(i,nt);let yt;if(ft){ut?i.closePath():interpolatedLineTo(i,_,gt,$);const wt=!!_.pathSegment(i,ot,{move:ut,reverse:!0});yt=ut&&wt,yt||interpolatedLineTo(i,_,ct,$)}i.closePath(),i.fill(yt?"evenodd":"nonzero"),i.restore()}}function clipBounds(i,o,s){const{top:_,bottom:$}=o.chart.chartArea,{property:_e,start:et,end:j}=s||{};_e==="x"&&(i.beginPath(),i.rect(et,_,j-et,$-_),i.clip())}function interpolatedLineTo(i,o,s,_){const $=o.interpolate(s,_);$&&i.lineTo($.x,$.y)}var index={id:"filler",afterDatasetsUpdate(i,o,s){const _=(i.data.datasets||[]).length,$=[];let _e,et,j,nt;for(et=0;et<_;++et)_e=i.getDatasetMeta(et),j=_e.dataset,nt=null,j&&j.options&&j instanceof LineElement&&(nt={visible:i.isDatasetVisible(et),index:et,fill:_decodeFill(j,et,_),chart:i,axis:_e.controller.options.indexAxis,scale:_e.vScale,line:j}),_e.$filler=nt,$.push(nt);for(et=0;et<_;++et)nt=$[et],!(!nt||nt.fill===!1)&&(nt.fill=_resolveTarget($,et,s.propagate))},beforeDraw(i,o,s){const _=s.drawTime==="beforeDraw",$=i.getSortedVisibleDatasetMetas(),_e=i.chartArea;for(let et=$.length-1;et>=0;--et){const j=$[et].$filler;j&&(j.line.updateControlPoints(_e,j.axis),_&&j.fill&&_drawfill(i.ctx,j,_e))}},beforeDatasetsDraw(i,o,s){if(s.drawTime!=="beforeDatasetsDraw")return;const _=i.getSortedVisibleDatasetMetas();for(let $=_.length-1;$>=0;--$){const _e=_[$].$filler;_shouldApplyFill(_e)&&_drawfill(i.ctx,_e,i.chartArea)}},beforeDatasetDraw(i,o,s){const _=o.meta.$filler;!_shouldApplyFill(_)||s.drawTime!=="beforeDatasetDraw"||_drawfill(i.ctx,_,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(i,o)=>{let{boxHeight:s=o,boxWidth:_=o}=i;return i.usePointStyle&&(s=Math.min(s,o),_=i.pointStyleWidth||Math.min(_,o)),{boxWidth:_,boxHeight:s,itemHeight:Math.max(o,s)}},itemsEqual=(i,o)=>i!==null&&o!==null&&i.datasetIndex===o.datasetIndex&&i.index===o.index;class Legend extends Element{constructor(o){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,s,_){this.maxWidth=o,this.maxHeight=s,this._margins=_,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const o=this.options.labels||{};let s=callback(o.generateLabels,[this.chart],this)||[];o.filter&&(s=s.filter(_=>o.filter(_,this.chart.data))),o.sort&&(s=s.sort((_,$)=>o.sort(_,$,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:o,ctx:s}=this;if(!o.display){this.width=this.height=0;return}const _=o.labels,$=toFont(_.font),_e=$.size,et=this._computeTitleHeight(),{boxWidth:j,itemHeight:nt}=getBoxSize(_,_e);let ot,ct;s.font=$.string,this.isHorizontal()?(ot=this.maxWidth,ct=this._fitRows(et,_e,j,nt)+10):(ct=this.maxHeight,ot=this._fitCols(et,$,j,nt)+10),this.width=Math.min(ot,o.maxWidth||this.maxWidth),this.height=Math.min(ct,o.maxHeight||this.maxHeight)}_fitRows(o,s,_,$){const{ctx:_e,maxWidth:et,options:{labels:{padding:j}}}=this,nt=this.legendHitBoxes=[],ot=this.lineWidths=[0],ct=$+j;let gt=o;_e.textAlign="left",_e.textBaseline="middle";let pt=-1,ft=-ct;return this.legendItems.forEach((ut,yt)=>{const wt=_+s/2+_e.measureText(ut.text).width;(yt===0||ot[ot.length-1]+wt+2*j>et)&&(gt+=ct,ot[ot.length-(yt>0?0:1)]=0,ft+=ct,pt++),nt[yt]={left:0,top:ft,row:pt,width:wt,height:$},ot[ot.length-1]+=wt+j}),gt}_fitCols(o,s,_,$){const{ctx:_e,maxHeight:et,options:{labels:{padding:j}}}=this,nt=this.legendHitBoxes=[],ot=this.columnSizes=[],ct=et-o;let gt=j,pt=0,ft=0,ut=0,yt=0;return this.legendItems.forEach((wt,Qt)=>{const{itemWidth:It,itemHeight:xt}=calculateItemSize(_,s,_e,wt,$);Qt>0&&ft+xt+2*j>ct&&(gt+=pt+j,ot.push({width:pt,height:ft}),ut+=pt+j,yt++,pt=ft=0),nt[Qt]={left:ut,top:ft,col:yt,width:It,height:xt},pt=Math.max(pt,It),ft+=xt+j}),gt+=pt,ot.push({width:pt,height:ft}),gt}adjustHitBoxes(){if(!this.options.display)return;const o=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:_,labels:{padding:$},rtl:_e}}=this,et=getRtlAdapter(_e,this.left,this.width);if(this.isHorizontal()){let j=0,nt=_alignStartEnd(_,this.left+$,this.right-this.lineWidths[j]);for(const ot of s)j!==ot.row&&(j=ot.row,nt=_alignStartEnd(_,this.left+$,this.right-this.lineWidths[j])),ot.top+=this.top+o+$,ot.left=et.leftForLtr(et.x(nt),ot.width),nt+=ot.width+$}else{let j=0,nt=_alignStartEnd(_,this.top+o+$,this.bottom-this.columnSizes[j].height);for(const ot of s)ot.col!==j&&(j=ot.col,nt=_alignStartEnd(_,this.top+o+$,this.bottom-this.columnSizes[j].height)),ot.top=nt,ot.left+=this.left+$,ot.left=et.leftForLtr(et.x(ot.left),ot.width),nt+=ot.height+$}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const o=this.ctx;clipArea(o,this),this._draw(),unclipArea(o)}}_draw(){const{options:o,columnSizes:s,lineWidths:_,ctx:$}=this,{align:_e,labels:et}=o,j=defaults.color,nt=getRtlAdapter(o.rtl,this.left,this.width),ot=toFont(et.font),{padding:ct}=et,gt=ot.size,pt=gt/2;let ft;this.drawTitle(),$.textAlign=nt.textAlign("left"),$.textBaseline="middle",$.lineWidth=.5,$.font=ot.string;const{boxWidth:ut,boxHeight:yt,itemHeight:wt}=getBoxSize(et,gt),Qt=function(Nt,en,rn){if(isNaN(ut)||ut<=0||isNaN(yt)||yt<0)return;$.save();const Ft=valueOrDefault(rn.lineWidth,1);if($.fillStyle=valueOrDefault(rn.fillStyle,j),$.lineCap=valueOrDefault(rn.lineCap,"butt"),$.lineDashOffset=valueOrDefault(rn.lineDashOffset,0),$.lineJoin=valueOrDefault(rn.lineJoin,"miter"),$.lineWidth=Ft,$.strokeStyle=valueOrDefault(rn.strokeStyle,j),$.setLineDash(valueOrDefault(rn.lineDash,[])),et.usePointStyle){const St={radius:yt*Math.SQRT2/2,pointStyle:rn.pointStyle,rotation:rn.rotation,borderWidth:Ft},Pt=nt.xPlus(Nt,ut/2),Bt=en+pt;drawPointLegend($,St,Pt,Bt,et.pointStyleWidth&&ut)}else{const St=en+Math.max((gt-yt)/2,0),Pt=nt.leftForLtr(Nt,ut),Bt=toTRBLCorners(rn.borderRadius);$.beginPath(),Object.values(Bt).some(jt=>jt!==0)?addRoundedRectPath($,{x:Pt,y:St,w:ut,h:yt,radius:Bt}):$.rect(Pt,St,ut,yt),$.fill(),Ft!==0&&$.stroke()}$.restore()},It=function(Nt,en,rn){renderText($,rn.text,Nt,en+wt/2,ot,{strikethrough:rn.hidden,textAlign:nt.textAlign(rn.textAlign)})},xt=this.isHorizontal(),Tt=this._computeTitleHeight();xt?ft={x:_alignStartEnd(_e,this.left+ct,this.right-_[0]),y:this.top+ct+Tt,line:0}:ft={x:this.left+ct,y:_alignStartEnd(_e,this.top+Tt+ct,this.bottom-s[0].height),line:0},overrideTextDirection(this.ctx,o.textDirection);const mt=wt+ct;this.legendItems.forEach((Nt,en)=>{$.strokeStyle=Nt.fontColor,$.fillStyle=Nt.fontColor;const rn=$.measureText(Nt.text).width,Ft=nt.textAlign(Nt.textAlign||(Nt.textAlign=et.textAlign)),St=ut+pt+rn;let Pt=ft.x,Bt=ft.y;nt.setWidth(this.width),xt?en>0&&Pt+St+ct>this.right&&(Bt=ft.y+=mt,ft.line++,Pt=ft.x=_alignStartEnd(_e,this.left+ct,this.right-_[ft.line])):en>0&&Bt+mt>this.bottom&&(Pt=ft.x=Pt+s[ft.line].width+ct,ft.line++,Bt=ft.y=_alignStartEnd(_e,this.top+Tt+ct,this.bottom-s[ft.line].height));const jt=nt.x(Pt);if(Qt(jt,Bt,Nt),Pt=_textX(Ft,Pt+ut+pt,xt?Pt+St:this.right,o.rtl),It(nt.x(Pt),Bt,Nt),xt)ft.x+=St+ct;else if(typeof Nt.text!="string"){const qt=ot.lineHeight;ft.y+=calculateLegendItemHeight(Nt,qt)}else ft.y+=mt}),restoreTextDirection(this.ctx,o.textDirection)}drawTitle(){const o=this.options,s=o.title,_=toFont(s.font),$=toPadding(s.padding);if(!s.display)return;const _e=getRtlAdapter(o.rtl,this.left,this.width),et=this.ctx,j=s.position,nt=_.size/2,ot=$.top+nt;let ct,gt=this.left,pt=this.width;if(this.isHorizontal())pt=Math.max(...this.lineWidths),ct=this.top+ot,gt=_alignStartEnd(o.align,gt,this.right-pt);else{const ut=this.columnSizes.reduce((yt,wt)=>Math.max(yt,wt.height),0);ct=ot+_alignStartEnd(o.align,this.top,this.bottom-ut-o.labels.padding-this._computeTitleHeight())}const ft=_alignStartEnd(j,gt,gt+pt);et.textAlign=_e.textAlign(_toLeftRightCenter(j)),et.textBaseline="middle",et.strokeStyle=s.color,et.fillStyle=s.color,et.font=_.string,renderText(et,s.text,ft,ct,_)}_computeTitleHeight(){const o=this.options.title,s=toFont(o.font),_=toPadding(o.padding);return o.display?s.lineHeight+_.height:0}_getLegendItemAt(o,s){let _,$,_e;if(_isBetween(o,this.left,this.right)&&_isBetween(s,this.top,this.bottom)){for(_e=this.legendHitBoxes,_=0;_<_e.length;++_)if($=_e[_],_isBetween(o,$.left,$.left+$.width)&&_isBetween(s,$.top,$.top+$.height))return this.legendItems[_]}return null}handleEvent(o){const s=this.options;if(!isListened(o.type,s))return;const _=this._getLegendItemAt(o.x,o.y);if(o.type==="mousemove"||o.type==="mouseout"){const $=this._hoveredItem,_e=itemsEqual($,_);$&&!_e&&callback(s.onLeave,[o,$,this],this),this._hoveredItem=_,_&&!_e&&callback(s.onHover,[o,_,this],this)}else _&&callback(s.onClick,[o,_,this],this)}}function calculateItemSize(i,o,s,_,$){const _e=calculateItemWidth(_,i,o,s),et=calculateItemHeight($,_,o.lineHeight);return{itemWidth:_e,itemHeight:et}}function calculateItemWidth(i,o,s,_){let $=i.text;return $&&typeof $!="string"&&($=$.reduce((_e,et)=>_e.length>et.length?_e:et)),o+s.size/2+_.measureText($).width}function calculateItemHeight(i,o,s){let _=i;return typeof o.text!="string"&&(_=calculateLegendItemHeight(o,s)),_}function calculateLegendItemHeight(i,o){const s=i.text?i.text.length+.5:0;return o*s}function isListened(i,o){return!!((i==="mousemove"||i==="mouseout")&&(o.onHover||o.onLeave)||o.onClick&&(i==="click"||i==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(i,o,s){const _=i.legend=new Legend({ctx:i.ctx,options:s,chart:i});layouts.configure(i,_,s),layouts.addBox(i,_)},stop(i){layouts.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,o,s){const _=i.legend;layouts.configure(i,_,s),_.options=s},afterUpdate(i){const o=i.legend;o.buildLabels(),o.adjustHitBoxes()},afterEvent(i,o){o.replay||i.legend.handleEvent(o.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,o,s){const _=o.datasetIndex,$=s.chart;$.isDatasetVisible(_)?($.hide(_),o.hidden=!0):($.show(_),o.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const o=i.data.datasets,{labels:{usePointStyle:s,pointStyle:_,textAlign:$,color:_e,useBorderRadius:et,borderRadius:j}}=i.legend.options;return i._getSortedDatasetMetas().map(nt=>{const ot=nt.controller.getStyle(s?0:void 0),ct=toPadding(ot.borderWidth);return{text:o[nt.index].label,fillStyle:ot.backgroundColor,fontColor:_e,hidden:!nt.visible,lineCap:ot.borderCapStyle,lineDash:ot.borderDash,lineDashOffset:ot.borderDashOffset,lineJoin:ot.borderJoinStyle,lineWidth:(ct.width+ct.height)/4,strokeStyle:ot.borderColor,pointStyle:_||ot.pointStyle,rotation:ot.rotation,textAlign:$||ot.textAlign,borderRadius:et&&(j||ot.borderRadius),datasetIndex:nt.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Title extends Element{constructor(o){super(),this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,s){const _=this.options;if(this.left=0,this.top=0,!_.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=o,this.height=this.bottom=s;const $=isArray(_.text)?_.text.length:1;this._padding=toPadding(_.padding);const _e=$*toFont(_.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=_e:this.width=_e}isHorizontal(){const o=this.options.position;return o==="top"||o==="bottom"}_drawArgs(o){const{top:s,left:_,bottom:$,right:_e,options:et}=this,j=et.align;let nt=0,ot,ct,gt;return this.isHorizontal()?(ct=_alignStartEnd(j,_,_e),gt=s+o,ot=_e-_):(et.position==="left"?(ct=_+o,gt=_alignStartEnd(j,$,s),nt=PI*-.5):(ct=_e-o,gt=_alignStartEnd(j,s,$),nt=PI*.5),ot=$-s),{titleX:ct,titleY:gt,maxWidth:ot,rotation:nt}}draw(){const o=this.ctx,s=this.options;if(!s.display)return;const _=toFont(s.font),_e=_.lineHeight/2+this._padding.top,{titleX:et,titleY:j,maxWidth:nt,rotation:ot}=this._drawArgs(_e);renderText(o,s.text,0,0,_,{color:s.color,maxWidth:nt,rotation:ot,textAlign:_toLeftRightCenter(s.align),textBaseline:"middle",translation:[et,j]})}}function createTitle(i,o){const s=new Title({ctx:i.ctx,options:o,chart:i});layouts.configure(i,s,o),layouts.addBox(i,s),i.titleBlock=s}var plugin_title={id:"title",_element:Title,start(i,o,s){createTitle(i,s)},stop(i){const o=i.titleBlock;layouts.removeBox(i,o),delete i.titleBlock},beforeUpdate(i,o,s){const _=i.titleBlock;layouts.configure(i,_,s),_.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(i,o,s){const _=new Title({ctx:i.ctx,options:s,chart:i});layouts.configure(i,_,s),layouts.addBox(i,_),map.set(i,_)},stop(i){layouts.removeBox(i,map.get(i)),map.delete(i)},beforeUpdate(i,o,s){const _=map.get(i);layouts.configure(i,_,s),_.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(i){if(!i.length)return!1;let o,s,_=0,$=0,_e=0;for(o=0,s=i.length;o<s;++o){const et=i[o].element;if(et&&et.hasValue()){const j=et.tooltipPosition();_+=j.x,$+=j.y,++_e}}return{x:_/_e,y:$/_e}},nearest(i,o){if(!i.length)return!1;let s=o.x,_=o.y,$=Number.POSITIVE_INFINITY,_e,et,j;for(_e=0,et=i.length;_e<et;++_e){const nt=i[_e].element;if(nt&&nt.hasValue()){const ot=nt.getCenterPoint(),ct=distanceBetweenPoints(o,ot);ct<$&&($=ct,j=nt)}}if(j){const nt=j.tooltipPosition();s=nt.x,_=nt.y}return{x:s,y:_}}};function pushOrConcat(i,o){return o&&(isArray(o)?Array.prototype.push.apply(i,o):i.push(o)),i}function splitNewlines(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function createTooltipItem(i,o){const{element:s,datasetIndex:_,index:$}=o,_e=i.getDatasetMeta(_).controller,{label:et,value:j}=_e.getLabelAndValue($);return{chart:i,label:et,parsed:_e.getParsed($),raw:i.data.datasets[_].data[$],formattedValue:j,dataset:_e.getDataset(),dataIndex:$,datasetIndex:_,element:s}}function getTooltipSize(i,o){const s=i.chart.ctx,{body:_,footer:$,title:_e}=i,{boxWidth:et,boxHeight:j}=o,nt=toFont(o.bodyFont),ot=toFont(o.titleFont),ct=toFont(o.footerFont),gt=_e.length,pt=$.length,ft=_.length,ut=toPadding(o.padding);let yt=ut.height,wt=0,Qt=_.reduce((Tt,mt)=>Tt+mt.before.length+mt.lines.length+mt.after.length,0);if(Qt+=i.beforeBody.length+i.afterBody.length,gt&&(yt+=gt*ot.lineHeight+(gt-1)*o.titleSpacing+o.titleMarginBottom),Qt){const Tt=o.displayColors?Math.max(j,nt.lineHeight):nt.lineHeight;yt+=ft*Tt+(Qt-ft)*nt.lineHeight+(Qt-1)*o.bodySpacing}pt&&(yt+=o.footerMarginTop+pt*ct.lineHeight+(pt-1)*o.footerSpacing);let It=0;const xt=function(Tt){wt=Math.max(wt,s.measureText(Tt).width+It)};return s.save(),s.font=ot.string,each(i.title,xt),s.font=nt.string,each(i.beforeBody.concat(i.afterBody),xt),It=o.displayColors?et+2+o.boxPadding:0,each(_,Tt=>{each(Tt.before,xt),each(Tt.lines,xt),each(Tt.after,xt)}),It=0,s.font=ct.string,each(i.footer,xt),s.restore(),wt+=ut.width,{width:wt,height:yt}}function determineYAlign(i,o){const{y:s,height:_}=o;return s<_/2?"top":s>i.height-_/2?"bottom":"center"}function doesNotFitWithAlign(i,o,s,_){const{x:$,width:_e}=_,et=s.caretSize+s.caretPadding;if(i==="left"&&$+_e+et>o.width||i==="right"&&$-_e-et<0)return!0}function determineXAlign(i,o,s,_){const{x:$,width:_e}=s,{width:et,chartArea:{left:j,right:nt}}=i;let ot="center";return _==="center"?ot=$<=(j+nt)/2?"left":"right":$<=_e/2?ot="left":$>=et-_e/2&&(ot="right"),doesNotFitWithAlign(ot,i,o,s)&&(ot="center"),ot}function determineAlignment(i,o,s){const _=s.yAlign||o.yAlign||determineYAlign(i,s);return{xAlign:s.xAlign||o.xAlign||determineXAlign(i,o,s,_),yAlign:_}}function alignX(i,o){let{x:s,width:_}=i;return o==="right"?s-=_:o==="center"&&(s-=_/2),s}function alignY(i,o,s){let{y:_,height:$}=i;return o==="top"?_+=s:o==="bottom"?_-=$+s:_-=$/2,_}function getBackgroundPoint(i,o,s,_){const{caretSize:$,caretPadding:_e,cornerRadius:et}=i,{xAlign:j,yAlign:nt}=s,ot=$+_e,{topLeft:ct,topRight:gt,bottomLeft:pt,bottomRight:ft}=toTRBLCorners(et);let ut=alignX(o,j);const yt=alignY(o,nt,ot);return nt==="center"?j==="left"?ut+=ot:j==="right"&&(ut-=ot):j==="left"?ut-=Math.max(ct,pt)+$:j==="right"&&(ut+=Math.max(gt,ft)+$),{x:_limitValue(ut,0,_.width-o.width),y:_limitValue(yt,0,_.height-o.height)}}function getAlignedX(i,o,s){const _=toPadding(s.padding);return o==="center"?i.x+i.width/2:o==="right"?i.x+i.width-_.right:i.x+_.left}function getBeforeAfterBodyLines(i){return pushOrConcat([],splitNewlines(i))}function createTooltipContext(i,o,s){return createContext(i,{tooltip:o,tooltipItems:s,type:"tooltip"})}function overrideCallbacks(i,o){const s=o&&o.dataset&&o.dataset.tooltip&&o.dataset.tooltip.callbacks;return s?i.override(s):i}const defaultCallbacks={beforeTitle:noop$1,title(i){if(i.length>0){const o=i[0],s=o.chart.data.labels,_=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return o.dataset.label||"";if(o.label)return o.label;if(_>0&&o.dataIndex<_)return s[o.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let o=i.dataset.label||"";o&&(o+=": ");const s=i.formattedValue;return isNullOrUndef(s)||(o+=s),o},labelColor(i){const s=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const s=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(i,o,s,_){const $=i[o].call(s,_);return typeof $>"u"?defaultCallbacks[o].call(s,_):$}class Tooltip$1 extends Element{constructor(o){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=o.chart,this.options=o.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(o){this.options=o,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const o=this._cachedAnimations;if(o)return o;const s=this.chart,_=this.options.setContext(this.getContext()),$=_.enabled&&s.options.animation&&_.animations,_e=new Animations(this.chart,$);return $._cacheable&&(this._cachedAnimations=Object.freeze(_e)),_e}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(o,s){const{callbacks:_}=s,$=invokeCallbackWithFallback(_,"beforeTitle",this,o),_e=invokeCallbackWithFallback(_,"title",this,o),et=invokeCallbackWithFallback(_,"afterTitle",this,o);let j=[];return j=pushOrConcat(j,splitNewlines($)),j=pushOrConcat(j,splitNewlines(_e)),j=pushOrConcat(j,splitNewlines(et)),j}getBeforeBody(o,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"beforeBody",this,o))}getBody(o,s){const{callbacks:_}=s,$=[];return each(o,_e=>{const et={before:[],lines:[],after:[]},j=overrideCallbacks(_,_e);pushOrConcat(et.before,splitNewlines(invokeCallbackWithFallback(j,"beforeLabel",this,_e))),pushOrConcat(et.lines,invokeCallbackWithFallback(j,"label",this,_e)),pushOrConcat(et.after,splitNewlines(invokeCallbackWithFallback(j,"afterLabel",this,_e))),$.push(et)}),$}getAfterBody(o,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"afterBody",this,o))}getFooter(o,s){const{callbacks:_}=s,$=invokeCallbackWithFallback(_,"beforeFooter",this,o),_e=invokeCallbackWithFallback(_,"footer",this,o),et=invokeCallbackWithFallback(_,"afterFooter",this,o);let j=[];return j=pushOrConcat(j,splitNewlines($)),j=pushOrConcat(j,splitNewlines(_e)),j=pushOrConcat(j,splitNewlines(et)),j}_createItems(o){const s=this._active,_=this.chart.data,$=[],_e=[],et=[];let j=[],nt,ot;for(nt=0,ot=s.length;nt<ot;++nt)j.push(createTooltipItem(this.chart,s[nt]));return o.filter&&(j=j.filter((ct,gt,pt)=>o.filter(ct,gt,pt,_))),o.itemSort&&(j=j.sort((ct,gt)=>o.itemSort(ct,gt,_))),each(j,ct=>{const gt=overrideCallbacks(o.callbacks,ct);$.push(invokeCallbackWithFallback(gt,"labelColor",this,ct)),_e.push(invokeCallbackWithFallback(gt,"labelPointStyle",this,ct)),et.push(invokeCallbackWithFallback(gt,"labelTextColor",this,ct))}),this.labelColors=$,this.labelPointStyles=_e,this.labelTextColors=et,this.dataPoints=j,j}update(o,s){const _=this.options.setContext(this.getContext()),$=this._active;let _e,et=[];if(!$.length)this.opacity!==0&&(_e={opacity:0});else{const j=positioners[_.position].call(this,$,this._eventPosition);et=this._createItems(_),this.title=this.getTitle(et,_),this.beforeBody=this.getBeforeBody(et,_),this.body=this.getBody(et,_),this.afterBody=this.getAfterBody(et,_),this.footer=this.getFooter(et,_);const nt=this._size=getTooltipSize(this,_),ot=Object.assign({},j,nt),ct=determineAlignment(this.chart,_,ot),gt=getBackgroundPoint(_,ot,ct,this.chart);this.xAlign=ct.xAlign,this.yAlign=ct.yAlign,_e={opacity:1,x:gt.x,y:gt.y,width:nt.width,height:nt.height,caretX:j.x,caretY:j.y}}this._tooltipItems=et,this.$context=void 0,_e&&this._resolveAnimations().update(this,_e),o&&_.external&&_.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(o,s,_,$){const _e=this.getCaretPosition(o,_,$);s.lineTo(_e.x1,_e.y1),s.lineTo(_e.x2,_e.y2),s.lineTo(_e.x3,_e.y3)}getCaretPosition(o,s,_){const{xAlign:$,yAlign:_e}=this,{caretSize:et,cornerRadius:j}=_,{topLeft:nt,topRight:ot,bottomLeft:ct,bottomRight:gt}=toTRBLCorners(j),{x:pt,y:ft}=o,{width:ut,height:yt}=s;let wt,Qt,It,xt,Tt,mt;return _e==="center"?(Tt=ft+yt/2,$==="left"?(wt=pt,Qt=wt-et,xt=Tt+et,mt=Tt-et):(wt=pt+ut,Qt=wt+et,xt=Tt-et,mt=Tt+et),It=wt):($==="left"?Qt=pt+Math.max(nt,ct)+et:$==="right"?Qt=pt+ut-Math.max(ot,gt)-et:Qt=this.caretX,_e==="top"?(xt=ft,Tt=xt-et,wt=Qt-et,It=Qt+et):(xt=ft+yt,Tt=xt+et,wt=Qt+et,It=Qt-et),mt=xt),{x1:wt,x2:Qt,x3:It,y1:xt,y2:Tt,y3:mt}}drawTitle(o,s,_){const $=this.title,_e=$.length;let et,j,nt;if(_e){const ot=getRtlAdapter(_.rtl,this.x,this.width);for(o.x=getAlignedX(this,_.titleAlign,_),s.textAlign=ot.textAlign(_.titleAlign),s.textBaseline="middle",et=toFont(_.titleFont),j=_.titleSpacing,s.fillStyle=_.titleColor,s.font=et.string,nt=0;nt<_e;++nt)s.fillText($[nt],ot.x(o.x),o.y+et.lineHeight/2),o.y+=et.lineHeight+j,nt+1===_e&&(o.y+=_.titleMarginBottom-j)}}_drawColorBox(o,s,_,$,_e){const et=this.labelColors[_],j=this.labelPointStyles[_],{boxHeight:nt,boxWidth:ot,boxPadding:ct}=_e,gt=toFont(_e.bodyFont),pt=getAlignedX(this,"left",_e),ft=$.x(pt),ut=nt<gt.lineHeight?(gt.lineHeight-nt)/2:0,yt=s.y+ut;if(_e.usePointStyle){const wt={radius:Math.min(ot,nt)/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:1},Qt=$.leftForLtr(ft,ot)+ot/2,It=yt+nt/2;o.strokeStyle=_e.multiKeyBackground,o.fillStyle=_e.multiKeyBackground,drawPoint(o,wt,Qt,It),o.strokeStyle=et.borderColor,o.fillStyle=et.backgroundColor,drawPoint(o,wt,Qt,It)}else{o.lineWidth=isObject(et.borderWidth)?Math.max(...Object.values(et.borderWidth)):et.borderWidth||1,o.strokeStyle=et.borderColor,o.setLineDash(et.borderDash||[]),o.lineDashOffset=et.borderDashOffset||0;const wt=$.leftForLtr(ft,ot-ct),Qt=$.leftForLtr($.xPlus(ft,1),ot-ct-2),It=toTRBLCorners(et.borderRadius);Object.values(It).some(xt=>xt!==0)?(o.beginPath(),o.fillStyle=_e.multiKeyBackground,addRoundedRectPath(o,{x:wt,y:yt,w:ot,h:nt,radius:It}),o.fill(),o.stroke(),o.fillStyle=et.backgroundColor,o.beginPath(),addRoundedRectPath(o,{x:Qt,y:yt+1,w:ot-2,h:nt-2,radius:It}),o.fill()):(o.fillStyle=_e.multiKeyBackground,o.fillRect(wt,yt,ot,nt),o.strokeRect(wt,yt,ot,nt),o.fillStyle=et.backgroundColor,o.fillRect(Qt,yt+1,ot-2,nt-2))}o.fillStyle=this.labelTextColors[_]}drawBody(o,s,_){const{body:$}=this,{bodySpacing:_e,bodyAlign:et,displayColors:j,boxHeight:nt,boxWidth:ot,boxPadding:ct}=_,gt=toFont(_.bodyFont);let pt=gt.lineHeight,ft=0;const ut=getRtlAdapter(_.rtl,this.x,this.width),yt=function(rn){s.fillText(rn,ut.x(o.x+ft),o.y+pt/2),o.y+=pt+_e},wt=ut.textAlign(et);let Qt,It,xt,Tt,mt,Nt,en;for(s.textAlign=et,s.textBaseline="middle",s.font=gt.string,o.x=getAlignedX(this,wt,_),s.fillStyle=_.bodyColor,each(this.beforeBody,yt),ft=j&&wt!=="right"?et==="center"?ot/2+ct:ot+2+ct:0,Tt=0,Nt=$.length;Tt<Nt;++Tt){for(Qt=$[Tt],It=this.labelTextColors[Tt],s.fillStyle=It,each(Qt.before,yt),xt=Qt.lines,j&&xt.length&&(this._drawColorBox(s,o,Tt,ut,_),pt=Math.max(gt.lineHeight,nt)),mt=0,en=xt.length;mt<en;++mt)yt(xt[mt]),pt=gt.lineHeight;each(Qt.after,yt)}ft=0,pt=gt.lineHeight,each(this.afterBody,yt),o.y-=_e}drawFooter(o,s,_){const $=this.footer,_e=$.length;let et,j;if(_e){const nt=getRtlAdapter(_.rtl,this.x,this.width);for(o.x=getAlignedX(this,_.footerAlign,_),o.y+=_.footerMarginTop,s.textAlign=nt.textAlign(_.footerAlign),s.textBaseline="middle",et=toFont(_.footerFont),s.fillStyle=_.footerColor,s.font=et.string,j=0;j<_e;++j)s.fillText($[j],nt.x(o.x),o.y+et.lineHeight/2),o.y+=et.lineHeight+_.footerSpacing}}drawBackground(o,s,_,$){const{xAlign:_e,yAlign:et}=this,{x:j,y:nt}=o,{width:ot,height:ct}=_,{topLeft:gt,topRight:pt,bottomLeft:ft,bottomRight:ut}=toTRBLCorners($.cornerRadius);s.fillStyle=$.backgroundColor,s.strokeStyle=$.borderColor,s.lineWidth=$.borderWidth,s.beginPath(),s.moveTo(j+gt,nt),et==="top"&&this.drawCaret(o,s,_,$),s.lineTo(j+ot-pt,nt),s.quadraticCurveTo(j+ot,nt,j+ot,nt+pt),et==="center"&&_e==="right"&&this.drawCaret(o,s,_,$),s.lineTo(j+ot,nt+ct-ut),s.quadraticCurveTo(j+ot,nt+ct,j+ot-ut,nt+ct),et==="bottom"&&this.drawCaret(o,s,_,$),s.lineTo(j+ft,nt+ct),s.quadraticCurveTo(j,nt+ct,j,nt+ct-ft),et==="center"&&_e==="left"&&this.drawCaret(o,s,_,$),s.lineTo(j,nt+gt),s.quadraticCurveTo(j,nt,j+gt,nt),s.closePath(),s.fill(),$.borderWidth>0&&s.stroke()}_updateAnimationTarget(o){const s=this.chart,_=this.$animations,$=_&&_.x,_e=_&&_.y;if($||_e){const et=positioners[o.position].call(this,this._active,this._eventPosition);if(!et)return;const j=this._size=getTooltipSize(this,o),nt=Object.assign({},et,this._size),ot=determineAlignment(s,o,nt),ct=getBackgroundPoint(o,nt,ot,s);($._to!==ct.x||_e._to!==ct.y)&&(this.xAlign=ot.xAlign,this.yAlign=ot.yAlign,this.width=j.width,this.height=j.height,this.caretX=et.x,this.caretY=et.y,this._resolveAnimations().update(this,ct))}}_willRender(){return!!this.opacity}draw(o){const s=this.options.setContext(this.getContext());let _=this.opacity;if(!_)return;this._updateAnimationTarget(s);const $={width:this.width,height:this.height},_e={x:this.x,y:this.y};_=Math.abs(_)<.001?0:_;const et=toPadding(s.padding),j=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&j&&(o.save(),o.globalAlpha=_,this.drawBackground(_e,o,$,s),overrideTextDirection(o,s.textDirection),_e.y+=et.top,this.drawTitle(_e,o,s),this.drawBody(_e,o,s),this.drawFooter(_e,o,s),restoreTextDirection(o,s.textDirection),o.restore())}getActiveElements(){return this._active||[]}setActiveElements(o,s){const _=this._active,$=o.map(({datasetIndex:j,index:nt})=>{const ot=this.chart.getDatasetMeta(j);if(!ot)throw new Error("Cannot find a dataset at index "+j);return{datasetIndex:j,element:ot.data[nt],index:nt}}),_e=!_elementsEqual(_,$),et=this._positionChanged($,s);(_e||et)&&(this._active=$,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(o,s,_=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const $=this.options,_e=this._active||[],et=this._getActiveElements(o,_e,s,_),j=this._positionChanged(et,o),nt=s||!_elementsEqual(et,_e)||j;return nt&&(this._active=et,($.enabled||$.external)&&(this._eventPosition={x:o.x,y:o.y},this.update(!0,s))),nt}_getActiveElements(o,s,_,$){const _e=this.options;if(o.type==="mouseout")return[];if(!$)return s;const et=this.chart.getElementsAtEventForMode(o,_e.mode,_e,_);return _e.reverse&&et.reverse(),et}_positionChanged(o,s){const{caretX:_,caretY:$,options:_e}=this,et=positioners[_e.position].call(this,o,s);return et!==!1&&(_!==et.x||$!==et.y)}}__publicField3(Tooltip$1,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(i,o,s){s&&(i.tooltip=new Tooltip$1({chart:i,options:s}))},beforeUpdate(i,o,s){i.tooltip&&i.tooltip.initialize(s)},reset(i,o,s){i.tooltip&&i.tooltip.initialize(s)},afterDraw(i){const o=i.tooltip;if(o&&o._willRender()){const s={tooltip:o};if(i.notifyPlugins("beforeTooltipDraw",__spreadProps2(__spreadValues2({},s),{cancelable:!0}))===!1)return;o.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",s)}},afterEvent(i,o){if(i.tooltip){const s=o.replay;i.tooltip.handleEvent(o.event,s,o.inChartArea)&&(o.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,o)=>o.bodyFont.size,boxWidth:(i,o)=>o.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(i,o,s,_)=>(typeof o=="string"?(s=i.push(o)-1,_.unshift({index:s,label:o})):isNaN(o)&&(s=null),s);function findOrAddLabel(i,o,s,_){const $=i.indexOf(o);if($===-1)return addIfString(i,o,s,_);const _e=i.lastIndexOf(o);return $!==_e?s:$}const validIndex=(i,o)=>i===null?null:_limitValue(Math.round(i),0,o);function _getLabelForValue(i){const o=this.getLabels();return i>=0&&i<o.length?o[i]:i}class CategoryScale extends Scale{constructor(o){super(o),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(o){const s=this._addedLabels;if(s.length){const _=this.getLabels();for(const{index:$,label:_e}of s)_[$]===_e&&_.splice($,1);this._addedLabels=[]}super.init(o)}parse(o,s){if(isNullOrUndef(o))return null;const _=this.getLabels();return s=isFinite(s)&&_[s]===o?s:findOrAddLabel(_,o,valueOrDefault(s,o),this._addedLabels),validIndex(s,_.length-1)}determineDataLimits(){const{minDefined:o,maxDefined:s}=this.getUserBounds();let{min:_,max:$}=this.getMinMax(!0);this.options.bounds==="ticks"&&(o||(_=0),s||($=this.getLabels().length-1)),this.min=_,this.max=$}buildTicks(){const o=this.min,s=this.max,_=this.options.offset,$=[];let _e=this.getLabels();_e=o===0&&s===_e.length-1?_e:_e.slice(o,s+1),this._valueRange=Math.max(_e.length-(_?0:1),1),this._startValue=this.min-(_?.5:0);for(let et=o;et<=s;et++)$.push({value:et});return $}getLabelForValue(o){return _getLabelForValue.call(this,o)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(o){return typeof o!="number"&&(o=this.parse(o)),o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getPixelForTick(o){const s=this.ticks;return o<0||o>s.length-1?null:this.getPixelForValue(s[o].value)}getValueForPixel(o){return Math.round(this._startValue+this.getDecimalForPixel(o)*this._valueRange)}getBasePixel(){return this.bottom}}__publicField3(CategoryScale,"id","category");__publicField3(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(i,o){const s=[],{bounds:$,step:_e,min:et,max:j,precision:nt,count:ot,maxTicks:ct,maxDigits:gt,includeBounds:pt}=i,ft=_e||1,ut=ct-1,{min:yt,max:wt}=o,Qt=!isNullOrUndef(et),It=!isNullOrUndef(j),xt=!isNullOrUndef(ot),Tt=(wt-yt)/(gt+1);let mt=niceNum((wt-yt)/ut/ft)*ft,Nt,en,rn,Ft;if(mt<1e-14&&!Qt&&!It)return[{value:yt},{value:wt}];Ft=Math.ceil(wt/mt)-Math.floor(yt/mt),Ft>ut&&(mt=niceNum(Ft*mt/ut/ft)*ft),isNullOrUndef(nt)||(Nt=Math.pow(10,nt),mt=Math.ceil(mt*Nt)/Nt),$==="ticks"?(en=Math.floor(yt/mt)*mt,rn=Math.ceil(wt/mt)*mt):(en=yt,rn=wt),Qt&&It&&_e&&almostWhole((j-et)/_e,mt/1e3)?(Ft=Math.round(Math.min((j-et)/mt,ct)),mt=(j-et)/Ft,en=et,rn=j):xt?(en=Qt?et:en,rn=It?j:rn,Ft=ot-1,mt=(rn-en)/Ft):(Ft=(rn-en)/mt,almostEquals(Ft,Math.round(Ft),mt/1e3)?Ft=Math.round(Ft):Ft=Math.ceil(Ft));const St=Math.max(_decimalPlaces(mt),_decimalPlaces(en));Nt=Math.pow(10,isNullOrUndef(nt)?St:nt),en=Math.round(en*Nt)/Nt,rn=Math.round(rn*Nt)/Nt;let Pt=0;for(Qt&&(pt&&en!==et?(s.push({value:et}),en<et&&Pt++,almostEquals(Math.round((en+Pt*mt)*Nt)/Nt,et,relativeLabelSize(et,Tt,i))&&Pt++):en<et&&Pt++);Pt<Ft;++Pt)s.push({value:Math.round((en+Pt*mt)*Nt)/Nt});return It&&pt&&rn!==j?s.length&&almostEquals(s[s.length-1].value,j,relativeLabelSize(j,Tt,i))?s[s.length-1].value=j:s.push({value:j}):(!It||rn===j)&&s.push({value:rn}),s}function relativeLabelSize(i,o,{horizontal:s,minRotation:_}){const $=toRadians(_),_e=(s?Math.sin($):Math.cos($))||.001,et=.75*o*(""+i).length;return Math.min(o/_e,et)}class LinearScaleBase extends Scale{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(o,s){return isNullOrUndef(o)||(typeof o=="number"||o instanceof Number)&&!isFinite(+o)?null:+o}handleTickRangeOptions(){const{beginAtZero:o}=this.options,{minDefined:s,maxDefined:_}=this.getUserBounds();let{min:$,max:_e}=this;const et=nt=>$=s?$:nt,j=nt=>_e=_?_e:nt;if(o){const nt=sign($),ot=sign(_e);nt<0&&ot<0?j(0):nt>0&&ot>0&&et(0)}if($===_e){let nt=_e===0?1:Math.abs(_e*.05);j(_e+nt),o||et($-nt)}this.min=$,this.max=_e}getTickLimit(){const o=this.options.ticks;let{maxTicksLimit:s,stepSize:_}=o,$;return _?($=Math.ceil(this.max/_)-Math.floor(this.min/_)+1,$>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${_} would result generating up to ${$} ticks. Limiting to 1000.`),$=1e3)):($=this.computeTickLimit(),s=s||11),s&&($=Math.min(s,$)),$}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const o=this.options,s=o.ticks;let _=this.getTickLimit();_=Math.max(2,_);const $={maxTicks:_,bounds:o.bounds,min:o.min,max:o.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},_e=this._range||this,et=generateTicks$1($,_e);return o.bounds==="ticks"&&_setMinAndMaxByKey(et,this,"value"),o.reverse?(et.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),et}configure(){const o=this.ticks;let s=this.min,_=this.max;if(super.configure(),this.options.offset&&o.length){const $=(_-s)/Math.max(o.length-1,1)/2;s-=$,_+=$}this._startValue=s,this._endValue=_,this._valueRange=_-s}getLabelForValue(o){return formatNumber(o,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:o,max:s}=this.getMinMax(!0);this.min=isNumberFinite(o)?o:0,this.max=isNumberFinite(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const o=this.isHorizontal(),s=o?this.width:this.height,_=toRadians(this.options.ticks.minRotation),$=(o?Math.sin(_):Math.cos(_))||.001,_e=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,_e.lineHeight/$))}getPixelForValue(o){return o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getValueForPixel(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange}}__publicField3(LinearScale,"id","linear");__publicField3(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const log10Floor=i=>Math.floor(log10(i)),changeExponent=(i,o)=>Math.pow(10,log10Floor(i)+o);function isMajor(i){return i/Math.pow(10,log10Floor(i))===1}function steps(i,o,s){const _=Math.pow(10,s),$=Math.floor(i/_);return Math.ceil(o/_)-$}function startExp(i,o){const s=o-i;let _=log10Floor(s);for(;steps(i,o,_)>10;)_++;for(;steps(i,o,_)<10;)_--;return Math.min(_,log10Floor(i))}function generateTicks(i,{min:o,max:s}){o=finiteOrDefault(i.min,o);const _=[],$=log10Floor(o);let _e=startExp(o,s),et=_e<0?Math.pow(10,Math.abs(_e)):1;const j=Math.pow(10,_e),nt=$>_e?Math.pow(10,$):0,ot=Math.round((o-nt)*et)/et,ct=Math.floor((o-nt)/j/10)*j*10;let gt=Math.floor((ot-ct)/Math.pow(10,_e)),pt=finiteOrDefault(i.min,Math.round((nt+ct+gt*Math.pow(10,_e))*et)/et);for(;pt<s;)_.push({value:pt,major:isMajor(pt),significand:gt}),gt>=10?gt=gt<15?15:20:gt++,gt>=20&&(_e++,gt=2,et=_e>=0?1:et),pt=Math.round((nt+ct+gt*Math.pow(10,_e))*et)/et;const ft=finiteOrDefault(i.max,pt);return _.push({value:ft,major:isMajor(ft),significand:gt}),_}class LogarithmicScale extends Scale{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(o,s){const _=LinearScaleBase.prototype.parse.apply(this,[o,s]);if(_===0){this._zero=!0;return}return isNumberFinite(_)&&_>0?_:null}determineDataLimits(){const{min:o,max:s}=this.getMinMax(!0);this.min=isNumberFinite(o)?Math.max(0,o):null,this.max=isNumberFinite(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=o===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:o,maxDefined:s}=this.getUserBounds();let _=this.min,$=this.max;const _e=j=>_=o?_:j,et=j=>$=s?$:j;_===$&&(_<=0?(_e(1),et(10)):(_e(changeExponent(_,-1)),et(changeExponent($,1)))),_<=0&&_e(changeExponent($,-1)),$<=0&&et(changeExponent(_,1)),this.min=_,this.max=$}buildTicks(){const o=this.options,s={min:this._userMin,max:this._userMax},_=generateTicks(s,this);return o.bounds==="ticks"&&_setMinAndMaxByKey(_,this,"value"),o.reverse?(_.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),_}getLabelForValue(o){return o===void 0?"0":formatNumber(o,this.chart.options.locale,this.options.ticks.format)}configure(){const o=this.min;super.configure(),this._startValue=log10(o),this._valueRange=log10(this.max)-log10(o)}getPixelForValue(o){return(o===void 0||o===0)&&(o=this.min),o===null||isNaN(o)?NaN:this.getPixelForDecimal(o===this.min?0:(log10(o)-this._startValue)/this._valueRange)}getValueForPixel(o){const s=this.getDecimalForPixel(o);return Math.pow(10,this._startValue+s*this._valueRange)}}__publicField3(LogarithmicScale,"id","logarithmic");__publicField3(LogarithmicScale,"defaults",{ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}});function getTickBackdropHeight(i){const o=i.ticks;if(o.display&&i.display){const s=toPadding(o.backdropPadding);return valueOrDefault(o.font&&o.font.size,defaults.font.size)+s.height}return 0}function measureLabelSize(i,o,s){return s=isArray(s)?s:[s],{w:_longestText(i,o.string,s),h:s.length*o.lineHeight}}function determineLimits(i,o,s,_,$){return i===_||i===$?{start:o-s/2,end:o+s/2}:i<_||i>$?{start:o-s,end:o}:{start:o,end:o+s}}function fitWithPointLabels(i){const o={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},s=Object.assign({},o),_=[],$=[],_e=i._pointLabels.length,et=i.options.pointLabels,j=et.centerPointLabels?PI/_e:0;for(let nt=0;nt<_e;nt++){const ot=et.setContext(i.getPointLabelContext(nt));$[nt]=ot.padding;const ct=i.getPointPosition(nt,i.drawingArea+$[nt],j),gt=toFont(ot.font),pt=measureLabelSize(i.ctx,gt,i._pointLabels[nt]);_[nt]=pt;const ft=_normalizeAngle(i.getIndexAngle(nt)+j),ut=Math.round(toDegrees(ft)),yt=determineLimits(ut,ct.x,pt.w,0,180),wt=determineLimits(ut,ct.y,pt.h,90,270);updateLimits(s,o,ft,yt,wt)}i.setCenterPoint(o.l-s.l,s.r-o.r,o.t-s.t,s.b-o.b),i._pointLabelItems=buildPointLabelItems(i,_,$)}function updateLimits(i,o,s,_,$){const _e=Math.abs(Math.sin(s)),et=Math.abs(Math.cos(s));let j=0,nt=0;_.start<o.l?(j=(o.l-_.start)/_e,i.l=Math.min(i.l,o.l-j)):_.end>o.r&&(j=(_.end-o.r)/_e,i.r=Math.max(i.r,o.r+j)),$.start<o.t?(nt=(o.t-$.start)/et,i.t=Math.min(i.t,o.t-nt)):$.end>o.b&&(nt=($.end-o.b)/et,i.b=Math.max(i.b,o.b+nt))}function buildPointLabelItems(i,o,s){const _=[],$=i._pointLabels.length,_e=i.options,et=getTickBackdropHeight(_e)/2,j=i.drawingArea,nt=_e.pointLabels.centerPointLabels?PI/$:0;for(let ot=0;ot<$;ot++){const ct=i.getPointPosition(ot,j+et+s[ot],nt),gt=Math.round(toDegrees(_normalizeAngle(ct.angle+HALF_PI))),pt=o[ot],ft=yForAngle(ct.y,pt.h,gt),ut=getTextAlignForAngle(gt),yt=leftForTextAlign(ct.x,pt.w,ut);_.push({x:ct.x,y:ft,textAlign:ut,left:yt,top:ft,right:yt+pt.w,bottom:ft+pt.h})}return _}function getTextAlignForAngle(i){return i===0||i===180?"center":i<180?"left":"right"}function leftForTextAlign(i,o,s){return s==="right"?i-=o:s==="center"&&(i-=o/2),i}function yForAngle(i,o,s){return s===90||s===270?i-=o/2:(s>270||s<90)&&(i-=o),i}function drawPointLabels(i,o){const{ctx:s,options:{pointLabels:_}}=i;for(let $=o-1;$>=0;$--){const _e=_.setContext(i.getPointLabelContext($)),et=toFont(_e.font),{x:j,y:nt,textAlign:ot,left:ct,top:gt,right:pt,bottom:ft}=i._pointLabelItems[$],{backdropColor:ut}=_e;if(!isNullOrUndef(ut)){const yt=toTRBLCorners(_e.borderRadius),wt=toPadding(_e.backdropPadding);s.fillStyle=ut;const Qt=ct-wt.left,It=gt-wt.top,xt=pt-ct+wt.width,Tt=ft-gt+wt.height;Object.values(yt).some(mt=>mt!==0)?(s.beginPath(),addRoundedRectPath(s,{x:Qt,y:It,w:xt,h:Tt,radius:yt}),s.fill()):s.fillRect(Qt,It,xt,Tt)}renderText(s,i._pointLabels[$],j,nt+et.lineHeight/2,et,{color:_e.color,textAlign:ot,textBaseline:"middle"})}}function pathRadiusLine(i,o,s,_){const{ctx:$}=i;if(s)$.arc(i.xCenter,i.yCenter,o,0,TAU);else{let _e=i.getPointPosition(0,o);$.moveTo(_e.x,_e.y);for(let et=1;et<_;et++)_e=i.getPointPosition(et,o),$.lineTo(_e.x,_e.y)}}function drawRadiusLine(i,o,s,_,$){const _e=i.ctx,et=o.circular,{color:j,lineWidth:nt}=o;!et&&!_||!j||!nt||s<0||(_e.save(),_e.strokeStyle=j,_e.lineWidth=nt,_e.setLineDash($.dash),_e.lineDashOffset=$.dashOffset,_e.beginPath(),pathRadiusLine(i,s,et,_),_e.closePath(),_e.stroke(),_e.restore())}function createPointLabelContext(i,o,s){return createContext(i,{label:s,index:o,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(o){super(o),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const o=this._padding=toPadding(getTickBackdropHeight(this.options)/2),s=this.width=this.maxWidth-o.width,_=this.height=this.maxHeight-o.height;this.xCenter=Math.floor(this.left+s/2+o.left),this.yCenter=Math.floor(this.top+_/2+o.top),this.drawingArea=Math.floor(Math.min(s,_)/2)}determineDataLimits(){const{min:o,max:s}=this.getMinMax(!1);this.min=isNumberFinite(o)&&!isNaN(o)?o:0,this.max=isNumberFinite(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(o){LinearScaleBase.prototype.generateTickLabels.call(this,o),this._pointLabels=this.getLabels().map((s,_)=>{const $=callback(this.options.pointLabels.callback,[s,_],this);return $||$===0?$:""}).filter((s,_)=>this.chart.getDataVisibility(_))}fit(){const o=this.options;o.display&&o.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(o,s,_,$){this.xCenter+=Math.floor((o-s)/2),this.yCenter+=Math.floor((_-$)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(o,s,_,$))}getIndexAngle(o){const s=TAU/(this._pointLabels.length||1),_=this.options.startAngle||0;return _normalizeAngle(o*s+toRadians(_))}getDistanceFromCenterForValue(o){if(isNullOrUndef(o))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-o)*s:(o-this.min)*s}getValueForDistanceFromCenter(o){if(isNullOrUndef(o))return NaN;const s=o/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(o){const s=this._pointLabels||[];if(o>=0&&o<s.length){const _=s[o];return createPointLabelContext(this.getContext(),o,_)}}getPointPosition(o,s,_=0){const $=this.getIndexAngle(o)-HALF_PI+_;return{x:Math.cos($)*s+this.xCenter,y:Math.sin($)*s+this.yCenter,angle:$}}getPointPositionForValue(o,s){return this.getPointPosition(o,this.getDistanceFromCenterForValue(s))}getBasePosition(o){return this.getPointPositionForValue(o||0,this.getBaseValue())}getPointLabelPosition(o){const{left:s,top:_,right:$,bottom:_e}=this._pointLabelItems[o];return{left:s,top:_,right:$,bottom:_e}}drawBackground(){const{backgroundColor:o,grid:{circular:s}}=this.options;if(o){const _=this.ctx;_.save(),_.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),_.closePath(),_.fillStyle=o,_.fill(),_.restore()}}drawGrid(){const o=this.ctx,s=this.options,{angleLines:_,grid:$,border:_e}=s,et=this._pointLabels.length;let j,nt,ot;if(s.pointLabels.display&&drawPointLabels(this,et),$.display&&this.ticks.forEach((ct,gt)=>{if(gt!==0){nt=this.getDistanceFromCenterForValue(ct.value);const pt=this.getContext(gt),ft=$.setContext(pt),ut=_e.setContext(pt);drawRadiusLine(this,ft,nt,et,ut)}}),_.display){for(o.save(),j=et-1;j>=0;j--){const ct=_.setContext(this.getPointLabelContext(j)),{color:gt,lineWidth:pt}=ct;!pt||!gt||(o.lineWidth=pt,o.strokeStyle=gt,o.setLineDash(ct.borderDash),o.lineDashOffset=ct.borderDashOffset,nt=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),ot=this.getPointPosition(j,nt),o.beginPath(),o.moveTo(this.xCenter,this.yCenter),o.lineTo(ot.x,ot.y),o.stroke())}o.restore()}}drawBorder(){}drawLabels(){const o=this.ctx,s=this.options,_=s.ticks;if(!_.display)return;const $=this.getIndexAngle(0);let _e,et;o.save(),o.translate(this.xCenter,this.yCenter),o.rotate($),o.textAlign="center",o.textBaseline="middle",this.ticks.forEach((j,nt)=>{if(nt===0&&!s.reverse)return;const ot=_.setContext(this.getContext(nt)),ct=toFont(ot.font);if(_e=this.getDistanceFromCenterForValue(this.ticks[nt].value),ot.showLabelBackdrop){o.font=ct.string,et=o.measureText(j.label).width,o.fillStyle=ot.backdropColor;const gt=toPadding(ot.backdropPadding);o.fillRect(-et/2-gt.left,-_e-ct.size/2-gt.top,et+gt.width,ct.size+gt.height)}renderText(o,j.label,0,-_e,ct,{color:ot.color})}),o.restore()}drawTitle(){}}__publicField3(RadialLinearScale,"id","radialLinear");__publicField3(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(i){return i},padding:5,centerPointLabels:!1}});__publicField3(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"});__publicField3(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(i,o){return i-o}function parse(i,o){if(isNullOrUndef(o))return null;const s=i._adapter,{parser:_,round:$,isoWeekday:_e}=i._parseOpts;let et=o;return typeof _=="function"&&(et=_(et)),isNumberFinite(et)||(et=typeof _=="string"?s.parse(et,_):s.parse(et)),et===null?null:($&&(et=$==="week"&&(isNumber(_e)||_e===!0)?s.startOf(et,"isoWeek",_e):s.startOf(et,$)),+et)}function determineUnitForAutoTicks(i,o,s,_){const $=UNITS.length;for(let _e=UNITS.indexOf(i);_e<$-1;++_e){const et=INTERVALS[UNITS[_e]],j=et.steps?et.steps:Number.MAX_SAFE_INTEGER;if(et.common&&Math.ceil((s-o)/(j*et.size))<=_)return UNITS[_e]}return UNITS[$-1]}function determineUnitForFormatting(i,o,s,_,$){for(let _e=UNITS.length-1;_e>=UNITS.indexOf(s);_e--){const et=UNITS[_e];if(INTERVALS[et].common&&i._adapter.diff($,_,et)>=o-1)return et}return UNITS[s?UNITS.indexOf(s):0]}function determineMajorUnit(i){for(let o=UNITS.indexOf(i)+1,s=UNITS.length;o<s;++o)if(INTERVALS[UNITS[o]].common)return UNITS[o]}function addTick(i,o,s){if(!s)i[o]=!0;else if(s.length){const{lo:_,hi:$}=_lookup(s,o),_e=s[_]>=o?s[_]:s[$];i[_e]=!0}}function setMajorTicks(i,o,s,_){const $=i._adapter,_e=+$.startOf(o[0].value,_),et=o[o.length-1].value;let j,nt;for(j=_e;j<=et;j=+$.add(j,1,_))nt=s[j],nt>=0&&(o[nt].major=!0);return o}function ticksFromTimestamps(i,o,s){const _=[],$={},_e=o.length;let et,j;for(et=0;et<_e;++et)j=o[et],$[j]=et,_.push({value:j,major:!1});return _e===0||!s?_:setMajorTicks(i,_,$,s)}class TimeScale extends Scale{constructor(o){super(o),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(o,s={}){const _=o.time||(o.time={}),$=this._adapter=new adapters._date(o.adapters.date);$.init(s),mergeIf(_.displayFormats,$.formats()),this._parseOpts={parser:_.parser,round:_.round,isoWeekday:_.isoWeekday},super.init(o),this._normalized=s.normalized}parse(o,s){return o===void 0?null:parse(this,o)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const o=this.options,s=this._adapter,_=o.time.unit||"day";let{min:$,max:_e,minDefined:et,maxDefined:j}=this.getUserBounds();function nt(ot){!et&&!isNaN(ot.min)&&($=Math.min($,ot.min)),!j&&!isNaN(ot.max)&&(_e=Math.max(_e,ot.max))}(!et||!j)&&(nt(this._getLabelBounds()),(o.bounds!=="ticks"||o.ticks.source!=="labels")&&nt(this.getMinMax(!1))),$=isNumberFinite($)&&!isNaN($)?$:+s.startOf(Date.now(),_),_e=isNumberFinite(_e)&&!isNaN(_e)?_e:+s.endOf(Date.now(),_)+1,this.min=Math.min($,_e-1),this.max=Math.max($+1,_e)}_getLabelBounds(){const o=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY;return o.length&&(s=o[0],_=o[o.length-1]),{min:s,max:_}}buildTicks(){const o=this.options,s=o.time,_=o.ticks,$=_.source==="labels"?this.getLabelTimestamps():this._generate();o.bounds==="ticks"&&$.length&&(this.min=this._userMin||$[0],this.max=this._userMax||$[$.length-1]);const _e=this.min,et=this.max,j=_filterBetween($,_e,et);return this._unit=s.unit||(_.autoSkip?determineUnitForAutoTicks(s.minUnit,this.min,this.max,this._getLabelCapacity(_e)):determineUnitForFormatting(this,j.length,s.minUnit,this.min,this.max)),this._majorUnit=!_.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets($),o.reverse&&j.reverse(),ticksFromTimestamps(this,j,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(o=>+o.value))}initOffsets(o=[]){let s=0,_=0,$,_e;this.options.offset&&o.length&&($=this.getDecimalForValue(o[0]),o.length===1?s=1-$:s=(this.getDecimalForValue(o[1])-$)/2,_e=this.getDecimalForValue(o[o.length-1]),o.length===1?_=_e:_=(_e-this.getDecimalForValue(o[o.length-2]))/2);const et=o.length<3?.5:.25;s=_limitValue(s,0,et),_=_limitValue(_,0,et),this._offsets={start:s,end:_,factor:1/(s+1+_)}}_generate(){const o=this._adapter,s=this.min,_=this.max,$=this.options,_e=$.time,et=_e.unit||determineUnitForAutoTicks(_e.minUnit,s,_,this._getLabelCapacity(s)),j=valueOrDefault($.ticks.stepSize,1),nt=et==="week"?_e.isoWeekday:!1,ot=isNumber(nt)||nt===!0,ct={};let gt=s,pt,ft;if(ot&&(gt=+o.startOf(gt,"isoWeek",nt)),gt=+o.startOf(gt,ot?"day":et),o.diff(_,s,et)>1e5*j)throw new Error(s+" and "+_+" are too far apart with stepSize of "+j+" "+et);const ut=$.ticks.source==="data"&&this.getDataTimestamps();for(pt=gt,ft=0;pt<_;pt=+o.add(pt,j,et),ft++)addTick(ct,pt,ut);return(pt===_||$.bounds==="ticks"||ft===1)&&addTick(ct,pt,ut),Object.keys(ct).sort((yt,wt)=>yt-wt).map(yt=>+yt)}getLabelForValue(o){const s=this._adapter,_=this.options.time;return _.tooltipFormat?s.format(o,_.tooltipFormat):s.format(o,_.displayFormats.datetime)}format(o,s){const $=this.options.time.displayFormats,_e=this._unit,et=s||$[_e];return this._adapter.format(o,et)}_tickFormatFunction(o,s,_,$){const _e=this.options,et=_e.ticks.callback;if(et)return callback(et,[o,s,_],this);const j=_e.time.displayFormats,nt=this._unit,ot=this._majorUnit,ct=nt&&j[nt],gt=ot&&j[ot],pt=_[s],ft=ot&&gt&&pt&&pt.major;return this._adapter.format(o,$||(ft?gt:ct))}generateTickLabels(o){let s,_,$;for(s=0,_=o.length;s<_;++s)$=o[s],$.label=this._tickFormatFunction($.value,s,o)}getDecimalForValue(o){return o===null?NaN:(o-this.min)/(this.max-this.min)}getPixelForValue(o){const s=this._offsets,_=this.getDecimalForValue(o);return this.getPixelForDecimal((s.start+_)*s.factor)}getValueForPixel(o){const s=this._offsets,_=this.getDecimalForPixel(o)/s.factor-s.end;return this.min+_*(this.max-this.min)}_getLabelSize(o){const s=this.options.ticks,_=this.ctx.measureText(o).width,$=toRadians(this.isHorizontal()?s.maxRotation:s.minRotation),_e=Math.cos($),et=Math.sin($),j=this._resolveTickFontOptions(0).size;return{w:_*_e+j*et,h:_*et+j*_e}}_getLabelCapacity(o){const s=this.options.time,_=s.displayFormats,$=_[s.unit]||_.millisecond,_e=this._tickFormatFunction(o,0,ticksFromTimestamps(this,[o],this._majorUnit),$),et=this._getLabelSize(_e),j=Math.floor(this.isHorizontal()?this.width/et.w:this.height/et.h)-1;return j>0?j:1}getDataTimestamps(){let o=this._cache.data||[],s,_;if(o.length)return o;const $=this.getMatchingVisibleMetas();if(this._normalized&&$.length)return this._cache.data=$[0].controller.getAllParsedValues(this);for(s=0,_=$.length;s<_;++s)o=o.concat($[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(o)}getLabelTimestamps(){const o=this._cache.labels||[];let s,_;if(o.length)return o;const $=this.getLabels();for(s=0,_=$.length;s<_;++s)o.push(parse(this,$[s]));return this._cache.labels=this._normalized?o:this.normalize(o)}normalize(o){return _arrayUnique(o.sort(sorter))}}__publicField3(TimeScale,"id","time");__publicField3(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(i,o,s){let _=0,$=i.length-1,_e,et,j,nt;s?(o>=i[_].pos&&o<=i[$].pos&&({lo:_,hi:$}=_lookupByKey(i,"pos",o)),{pos:_e,time:j}=i[_],{pos:et,time:nt}=i[$]):(o>=i[_].time&&o<=i[$].time&&({lo:_,hi:$}=_lookupByKey(i,"time",o)),{time:_e,pos:j}=i[_],{time:et,pos:nt}=i[$]);const ot=et-_e;return ot?j+(nt-j)*(o-_e)/ot:j}class TimeSeriesScale extends TimeScale{constructor(o){super(o),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const o=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(o);this._minPos=interpolate(s,this.min),this._tableRange=interpolate(s,this.max)-this._minPos,super.initOffsets(o)}buildLookupTable(o){const{min:s,max:_}=this,$=[],_e=[];let et,j,nt,ot,ct;for(et=0,j=o.length;et<j;++et)ot=o[et],ot>=s&&ot<=_&&$.push(ot);if($.length<2)return[{time:s,pos:0},{time:_,pos:1}];for(et=0,j=$.length;et<j;++et)ct=$[et+1],nt=$[et-1],ot=$[et],Math.round((ct+nt)/2)!==ot&&_e.push({time:ot,pos:et/(j-1)});return _e}_getTimestampsForTable(){let o=this._cache.all||[];if(o.length)return o;const s=this.getDataTimestamps(),_=this.getLabelTimestamps();return s.length&&_.length?o=this.normalize(s.concat(_)):o=s.length?s:_,o=this._cache.all=o,o}getDecimalForValue(o){return(interpolate(this._table,o)-this._minPos)/this._tableRange}getValueForPixel(o){const s=this._offsets,_=this.getDecimalForPixel(o)/s.factor-s.end;return interpolate(this._table,_*this._tableRange+this._minPos,!0)}}__publicField3(TimeSeriesScale,"id","timeseries");__publicField3(TimeSeriesScale,"defaults",TimeScale.defaults);var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];newStyled.div`
  height: 43px;
  background-color: black;
  display: flex;
  padding: 8px 20px;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.5);
  border-radius: 4px;
  span {
    color: white;
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;newStyled.div`
  height: 43px;
  background-color: black;
  display: flex;
  padding: 8px 20px;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.5);
  border-radius: 4px;
  span {
    color: white;
  }
`;Chart$1.register(...registerables);newStyled.div`
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;var loading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACGFjVEwAAAAwAAAAAChseJYAAAAaZmNUTAAAAAAAAAAwAAAAMAAAAAAAAAAAAAQAZAAAR67u9QAAAK9JREFUaN7t0zEKwkAQheEVCxvPYGFla+UFbD1CwNY6ra23sPEAxgRNNKBpLWITA6IsBCV6A/txV1svsPB/8GCYah/LKAUA/4hI4xQWAxs7O/X4JNGtY1BkeXCWX4pMm50zBUZx5U3WWmbRVRbhRQ6rUvJl6bnzBbun397W0kvuMowrGZsy0+jmu1Ng/+iaEm8TsWmaubMxO7cO4dVXaT3/xs4AAAAAAAAAAAAAYH0AgOhTVFHYG+UAAAAaZmNUTAAAAAEAAAALAAAADwAAABUAAAAGAAQAZAAAZ7Lt7AAAAWFmZEFUAAAAAmjefZG/S0JxFMXPveKv7wu0paBcAh0iaHYKHGsIJBD6LyQS2qopsCGClpZoaWp6BZo0uDcIEUE/ECG33veJkz6R926DT9OUDlwuX/icA+d+qVT6DBuOU1aQDAAAUo1H1GZqK9XDH7Hu9XOaOGMTowsCQJm209nHDLFmWrCJoImgidEihgM+qJm1pSn4G0FTE/c1sW8gaKI5yw2d/IUJAPbuPs4UJG+IQEGgRGBAJCpIZ7NrT6NkAGi5wWObWA/SGfZgk010LiI0AV9nV9oW4XAIj036wnzbnYABgDrJS030Ml7WJobNXDytPBsT8G2OXIsD+d/UgckiWracSGFUcFzrpYapBNuGX1RBYIh0oxxYnYITD81kxPNeDUjIv4pv8q5o1k/Nl5tFBSlMwqjPhPFYj4Xd8Lsh3qIC/Lt797NhAKh8bUD4JgJJREVqMbg7+FdHwqg24sPnD+oal8W6KwosAAAAGmZjVEwAAAADAAAAEQAAABkAAAAVAAAABQAEAGQAALMDT1sAAAImZmRBVAAAAARo3p3UPWgUQRQH8FUEbcQvLPRACxVRiU2QJGDwNKD4BRHR4oIYJIpK1OJSKBI5gqASBY1E8AOSIim8Yr9mdu4M5FIIKiJiuK/dzO3ebQ4EwUrSqJjn2xyrG6sZH/xhmeK3b94woyhYALDkrT7d8gETfCuyxRhfnlULuUktD6/VPLxTp3Mc16SQtFY6o2pFIFoBXmFyDeymFDKqlZNjehFeYjTEaAObmySfYsLIkMa3PNNLP0b0EowjlF7ACkD1/JhUN4+M8oNhowzPERr9i83rerFdGLln2CsHDfszYvBkMfYxlYKlwtAAcXruGDbcx0SxEaN4ThgJ/thvOu8HTBv+wb48TburhKE+wtuum848YhDFHuvlQakhXyUz40lzBhCDELtr2N8fGvZ2YeQicWKXCJ9DDELsFua26UxIddNNK/09hANiEGB9iN1AKEWcI+LIVHVFgrreWVKBALuMudbA+BWZe9VpuSdP0QokMN2InQ8x6iSltnWUuhOd1IXTCHUtYDzAvl3IljYII/uzfNdBy/t5DKETUYzyF1Ld7LW84QOWB4cwEexXl+nuEUaaqL+mlVW/tltVWIx5bxSZV7CJ1XqbWQ1aEfqDUQ+OW25CGIlPwbIdrJbfjVAzIiHWYXn1wzJHvinjd2xlPiAGIdaGiZNqXGrIGzOz6maEolgL83dKIetIPbY+M1tBDAJsG/OHlP8qnMFqVt+3NtLBb68GzUQnZ+QFAAAAGmZjVEwAAAAFAAAAFgAAACIAAAAVAAAABQAEAGQAAAaksUUAAALMZmRBVAAAAAZo3q3WW0gUYRTAcQu6EUQPUZAVZQhGF6noRkJiYWiKRVgYGEuJSWQkFsUuxYqaUVQqRkp2sSxSY+c+m5BW9JhBsM7uzM7szmw+JD1E0I2k9nRGZ2va19PAgWUe/r8z3zzMZmTgBQDThlllyysc+3fG/7hkWZ8lBUaHB5lReMaE4EUgNGzfI4f7mXAlwyjAY1jCsYGhQMhHDvcySv1jVoEBHAajNiAzo1+GhLeZpPA9JrSyhw1PPMSwDTz5AygPyFt3M8rVO2wY7uO4gGQgoOSRwu2yPu8mF3l/C8NuoI9R3vj9MJ0Ub+Mj1R1cBDpxbOBuCmAUDylsb3aNi7xuw3AaMN6LT0SKX+TU7Zc5NYkA2MANB7jNKi3kF9nIq30tnApXcFIAPsGPTiGcTQr7WGOpn1e/NvEquIF2LsySt/bxWsN5XoMGnCYMX3KAVjaymxSu6x+bc47XLC+GL7gBXg13dY3MIMVP8dGKej4KZzHqBpr5SC35SE7w0ZcIwGkH8E0C0Y9+QVtACtdw+vrjgv6rVoiCG/ByWgd56ypR764WdEAAbKBuCvjp5dR1pHBlwFjoEYxPRzF8zAFOTgL6EHnrCsk4UykY4MHov4C2jxQu71dmHhANrUI0IAVUTQExz3NzNileJsRL94sxQAAOuQFR95KPpESIyWUYTwM+H+HUxaRwoWDmFInxiRIM73WAgzYgGT3krQvk2PVCKQ4IgAtIlgsx2mcsnzHn75DiHwowngJKp4AR8mdsq2TW5EkmIAA7HaAY4yWCcZh2HrjZJskc2YbxNGC8iPoZyw0m8jbIVhIBSAH5NiDGm8kvcrVsDeTKFiAAm/8C33eJiSxSOCdoLs+RrW8IQBrQSt56hfSuMVtOAAKwxgE2StYjcnjR4PjcZcGEkYVxG1iF5742aBX/l//YS4SxzEx5rBWB3qyn1h773m+SXYWCYYXpgQAAABpmY1RMAAAABwAAABsAAAArAAAAFQAAAAUABABkAACqa+X8AAADYGZkQVQAAAAIaN612GlIFVEUB3CLKCgqqA8RFQmStBethPEorGglizLbLJFKLLV9p16FFZK2K9FitFhJvlnuzJgUBkVfwqLSmTfvzbx572W0QH1opYU8nZtvcPTzvRcODPPlx/9yuPdwk5JwAUCnOlGfXI9Fv5N4LU2zuimBpnpNaII6rPuBxnr6jwtWIxirBUEHCSEF6z8aaNzHBasS9G3Vog53sQSEEuhXQl4MYI5dFRpTbor671uIeVFZ0K9xSXdVNMquiQYgCi5aI+gtgYA+lTl2Q7N6XRaNd4iCi95uRRv8fujMHKwQ9Q0XEbqCRdHrCfSO1LSGOUYTlMvBhguIdEDf0+TMwbOSmXZOCraUS0HwopVisJhLs5yUgtWnEUMUXPSSaPyqJMYQ5lipaA8qlczviIKLVlBUMGq4pDsqmUdKJBNOYFH0TAI9T4Kz2DcLaeheLJnxY4hRtLQN1f0PH3ZhD0rmqsOyCYjCcQ9aJhv57PcSr5oDcuixXw7BES8qm5/OBYJ9mXt7iTVunxz6iyh0QE9xaZZdcrhyD0KIggf9U6wYI5ljRZLTb7sc/rxTDoMXPSSHHnBJt5mE9mxBDFHYiRBF91OUWAuYY0ur9a6bSDhcRMLgorsoSkJ2AY8RIo/Yi/KJBQUIUnRrAt1Nwju4bOc6YtXlIdgB/bK5xujPHMsRreG5xPqDKHjRQmJd5JIuW4mcX4sIouCiG4n1t0gOTWTfLPea+6xU7I/ZxAYXXd+KPkniMeBmqnbhcsWGlQhSNMdNqthZzLFpePIvUSKvMhGk6Ko2tHl13csezMEMEklfpEQAUVjWDrX8XJplvmJLCxFb3B79sUJ1BjPH5mhWylwl8nMBQl40S7GruKSboTolsxUHEAUvmqmGfcyxNMnsma46b2eqDnjRDOI85zJN+5RY7jTEEAUXnfcfdXLZ7yUmSFOjT31qFFx0FkWJ82HG/Uhv5t4kEpsyRY22TEXQh9D0NrSES7NMUKNVkxFDFDzor3Q1ksocG629GThOi31DFNqhmiNxSTeyNn5wjBYDRKEDOps5Np687T5ci8VHIeaiE1vRF1zSpda+zhqKCKJA0bEJlM/jCt5rKWr80RAtDhQd0Yo2c3vMSa6NJidr8WcpCKZq8eZhquP7ByfqQHlEWABmAAAAGmZjVEwAAAAJAAAAMAAAACUAAAAAAAAACwAEAGQAAKmGMjkAAANYZmRBVAAAAApo3tXYaUgUYRgH8C2kKDuwqOy+sMNOpAMzFsOSLumgzNKskFLssKL73AorJLtLwsqgg1qoZuadmd2lwA/Rl5CoaHdn59rdRjqgPhSdSD49kw6Osn6M7X3h//35vc/zMMPrcPyjc0tUelxjAu9uMAG4ibnN+OEuxs3461wu6Oig4VQx/uJqLP46xg65x75eQwXAvOnLXLDuChbeBvLe7BAViAuslHGRDTZeZoNgh9QwwXIHLecMG3SfQwBCwIJcZQK/akgghQpAJaMOrmSlbwgBC1JlQh4G7lPTheOsdKyCleAUxoScb4ZcIsFsOhaa1HUtZ6XoCQSYkMoWiN9VW5tAB4KVCo5yEiAETtogp7lAKR1zBNDhEBd64uJCcMwO4aRPFx8Ee1Nh2EeUtP1c6DdCoA3kLDULvZuTa/Zi8QgBG6ShnA+MpwJQxur9dnDy512cDHbIES70mJoubCWhvdsQgBDYhcWbkAMmhCg5VACWu/2dNhFZLiMyWJDdJoSE1M2i0pkKRAlRl5QSBTYjwoRsb4bsIfJOakZpPVF8JYhoA/my9X6gPxWAdYySWkSUBoSAHbKFKNXUdKGQ1y6txcIRAhZkI1F+l3GhqXQstNfolc+rHwuJChZkQxPkqfn1pgKRK6hbVvIq5CPChKyzOsKreVQAMvGPdBmvvcpFhAkpaIEYq30vE6lALCZa1hJeA4TAilYQxUXNQi/kVXYRApa2hnxfJehDqQDME5WR83ntZw4Wb4fk8eodarowW9Ar5vI6IATskFxBdlIByGCl7lmC/naOoIMdspjoz6l51XPykaJMBCAELMiCvxC9iI45wpvOEMLPnEIYLEi2CSH6h9mPtJ5UGKaRSHq6EG6ciQgnFj+rBVJBzUJPEcJ3piMAIWCD/MoStFFUACaK9YPSxMhXhEAriKiz/82sJ3vfHBzgMYKDPVFtmBjVhmNSMKMxqWJEmyBGfkwSI4AQsENmiHr8X/V6euqLe3veQB9MMmYgBiGAEBiBQQiMwcIRAggBCzK1CfLCMZOPJsUTkOgx3D08BiRhTEjfGJCRMSCTmyF/WxhPQCefcbiL14BuCGgPMiQGZFwTxIj/DvjeJyZ469nOXqOxPUj/GJBRYtQYK+jOP0moWT95E2zZAAAAGmZjVEwAAAALAAAADgAAAAUAAAAVAAAAKwAEAGQAAH1y1dMAAAB5ZmRBVAAAAAxo3n3MsQ3CQAxG4c93qZmAOeip2IE9WINpKLJBJmCCjBGIKe4UoQhh6cmy/fsFGOcrcYt0KKhSwYCykSobYZxPxNTvIPpQe7hkC++l5+8nSLyxCitKZOvZdhWDiKf0sxIvxE6wJsXl+MAdC/8Fi2gEHzF0I+cJ3N4OAAAAGmZjVEwAAAANAAAAJgAAACsAAAAKAAAABQAEAGQAAHinmB8AAAQvZmRBVAAAAA5o3sWYXYhVVRTHf/9976iZZfmgYL2kTOaYhigZJcFQWI2pZWZICX1ARUWTfSmIcDFRQ/xAqpcQ66UHH2oUHbGQiR56yAStRHQaxFQsSCGl6c7Z557Vw73n3jNnxmAg716wH849m3t++7/W2nvtJUZoZqaje3+6F2DOklk/SDKug2kkk7u7e0dPKPcfFGp3VcyeW8aMfay1o3Xg/wZzI5k8dqC83OPaPcIDFdR+udz/7vVQbERgMUz0Ai+owgmPW/P9nmO3BQWLoMsj76nBCWIxLm4pbAoK1vHkzD5vfNRQq+rSCJ7r+fLE/GBgAG7M6JIXv3ugOoRHisSOUslcMLCOjtYrHpVStRrD5sybdWJlMDCAE8faPvXiqJfwyrhUfNjd3XtzMLBSSUmsQqcHaySC8NKkcjla3fQNNm+fd53cI+xpAQ7DVVcaFQq6e9mitt6mK5ZahfgdD/2ZJMDDqIGYzUFcmdqLT8w858W2wUkgvFj62VcnFwQDA5Dr3+Sl3xqJUAWsyLaXenqKwcBeWTS3P0Zr64qlgFLb5L8mvRwk+LOl0NZ9p75z2HxX+1MHSFwm5s43lk6/1HTFACTZgEs6PUqyR1VsTKgUbF0wxVLb0HVqt5M9nypWG3GxkMzufLztl6Yrllq/WtZ46Uq1LKqPYjl2O4K4MrWNS6b84Y3N1S0jHeDFQxu6Ti4KBgZQHIi3etQ7eF8TlYLbvrO7d3QwsNLyGVEsWz2k+jCm/lmxN4MEf9be2nf6kIMFje3DcHBVvjJt41NtF5uuWP0cTbTKi7iRCMKjm+KWlvVBFQN4dX/vx854TY3KA2ckDrtv6+JpR4IoBuCL0boILg26IwgXiR2YKRjYrkdnXPZo/ZDqA3f/6wf6ngkGBnB23LlPKujnfJZGZltWHjp+YzCwb9vb4witqpffjbP09pZo7HtBgj9ry/b/utfB4mz14Yx/Rjk3fdfCKWebrli9veDsbY8GstWHFzeULdkUxJWpdXW09nnTTl/tgdRdGsGK5QdOPxgMDMAl0QceXcxnaZQUh9zimwq2b8ldVyNYl0sCYtnso3PPvBAMDODwj3fsjuBIvZ1Vg4yNjQ9/0zc+GBglJVHiOj2yxgUGvGOii7S26dtF3uYdOPNFAVakZ2jtPI0cNvPwwqmnXSgwFL/v4e9cO2uUl9vSUOzrCw+Q2GaMyYM2QIzcxaJeWwkoZOYW6rFhOGvESCGjSHa+qmNyAcY4G/wdyR4R+8/eSrFwBhg/3F6ShXSALA9qOejcOxvu3bUWDDXI40WKxTlg44dTO6k3T8Ch9BLb6OwYqPZ7HrL6LJwyMPVFaeiC02cJwT1FxCmMGPjPPkOSAU0hnTIwOcihqqi2qKGQufIbB+erMXbwwkso2QYaUTdQ14pHu0YYDOe6mrsz785jevZfJmHP8r30AXEAAAAaZmNUTAAAAA8AAAAwAAAAKgAAAAAAAAAGAAQAZAAAcRPiHgAABDJmZEFUAAAAEGje1ZlvaFV1GMc/z+9e3TSt6IWC+cZkmbMVli9EJBiK1WxaVqtRUb2ooMhhWRPG4GLgjLUc9udFIb4L8UXN4VYSMojozQomNsStYX8Ui9CW4vXu/M45Ty/uufeec3YnBS5+PvB7cQ6/+/x+n/M83/M893eEWbDxwfGayUL+S5DG4h0durV2/sN1TXVT13stMxsAk1cLLZXNA0jjZCG/czbWmhUADxb5QAhoBWLXd4dHbr8hAAqGPotYi1AcEMCCzBzpuiEANjzWMGHRD62AFSiDqHn2289H1zsPADBVOy/nifxuiSCKQwIJezWnxnmApqa6Sz6Sq6RRcXhw//F7Rp9zHgBgeKT+Ux/5wQKVIfjCu4OD4zc7D5DLSWiNtllES2KOxuKw4LVfjzWE/8EO9Y0eNvCkRAsaBUG9bGDubn6iftzZCJRMCd+0kC9HQMCKzC1k2Ot0CpWs9dGG36zK+/G6UATRbYe+OLnJeQCAqWy+y8KvJSGXh2T2DQ0NZZ0HeKV5Td4T05F8I4GF+p//Xvyy0yIua0FVPug/9U0GWV8RtCJwsSaUO5/ftvKCsxEAEBENDG0WwooOBCtyWz6jnc5HoGTv9Z0+iOgLgmKiTQj4ZHR12yP1PzobgbKgxdtl4VKqzcgGvul1OoVK1rG14Q8f3VvsVGND2NDdd6rZeQCAYCrssZjxSAPljtUT2bd/cLzGeYBcyyrPE22PN3nFuiDL/wp0u9Mijlt7/9gx0E0SPc1I0JdDG6zY83j9eWcjUDI/lB0W8ZOCZiFzMrtviAgAbD96+iNUXi12qVGBg1DRtT1bVgw7HQGAK1m/0yIX4mK2ggmFXlTFeYADD626aNHd6UbPw6x7bWDsKecBAJYuOPexhZPpZs9X073z2ImbnAfINTb6HmZHSsxYWDrpzX/LaRHH7emjPx0R2GIA0bKgr2aNWXlg8x2/OBuBkhWMvmGRqdR50ryChl1Op1DJ+prqJqzK/iqp1NoyMPaA8wAAGnrv+HA+3Wb4YbY3lzrVcxKgf+tdly3SmTpLwoquHllz5kXnAQDWfr/soBWGy91qqTao7tn49cQtzgPkchL6oWmzoAlBG1lkPOlw9jWatnUDZz4z0Frskcp/QT2DNhzfvHzMuA4QiP+2hSupNmOuJ6a7GIEjfy6kxusBbUQxJhaWDBrvDsv5luzdNXEd6+mnz9G478o8idaiio/oeomo1k7zL/qg8NW5T0BfmqlMJzeTBIpVyth9rfK76UDx1vlaPgwzzFPFwIkswsbYl7jk+5jKR7oAECTpRDTlFEw059qbEYzEN5YEivuo+uCKZ0wYuDdLoKMYlv2rAhONsByh6UBJmMqc9GaST1wQicFMi67MlLZns0jmdQiWAPf954pZBagCk0onrbYZrZImkQ9JRVCTERQ4KyrP/APT7dIdHNFWEAAAABpmY1RMAAAAEQAAACwAAAAMAAAAAAAAACEABABkAgD8ivGfAAACBmZkQVQAAAASaN7Flb1rFEEYh5/f3AWDhQSCEBRJYnIgNiI2MYUggpADPwoRxT9B1CaxCcoJ2gSLQFoh2NhLNKeNH4WIeJWIFjkS9UBRG5EouZvdfS12b+/2ONvNDwZm2HdmnnfejxX/0eTq2o7dFKci3M835dEP5KBLK2snHXoqwAHCSOaVe6dKtwDUb+OhlcZeVwhfCiacGUhLtfLY1TygLzyqPxScdoCMNvBfF3Jg+exkw/XbFBTCRQ8THvASAVw5vPr5YB7A3jTrUSu+Ox07fZGFvi88Wf101JleCeSSkAiQ7Pj7mfEXeUCfWVlfcLK59t0Jh5npWPaFzRSgux7kAY/a4+uWBa/JSa1CeNvD95gh5VAkFjPAI0++nPNo2ktxKJINAXajXi418wKulku/AzQfg3Y4WnCkA1yrDQSmOxmvJLz0bn1z9D45a6o2vuzF24QhjXYKvOvHyGUvlXq98sYc5xXmDVypKAoid82DdRegAIaebww1m8W6jGHXLrK4nTz7NbPvBNuo6ccbDxxcVNKXHcDmVnHeo+E0d+MRtczNss0KFVz38KedpqL6bQyFH4FB0j8MCLwza3S9dpo/ythZZt0ToayNdfpooctOQAHrc3a63iOzQQFFFN5swwJEHecGJO3PXm5ZGAMlhdDTM3ugFc/VcSCyLFSY2PSekZ6t+Ps/kTTHxalO1YsAAAAaZmNUTAAAABMAAAAnAAAAFQAAAAAAAAAYAAQAZAIAtADR+wAAAwVmZEFUAAAAFGjexZZNaBVXFMd/5848Y56hxSCI+IXGBCXdCFnUjRBdNJoYhFJRsKtCLYJBrREJ2EZLm42gNigoSLtrURdqYlT8WkpBFyIVk/hJWosFIyjSvrkzc7qYybyZmNQYX5I/nMUMh3P+93/OufcI74CvunrnGpxWIZxlhF86m2rOM07s7+rdI6odRkGIzABGtbl1/bIu4n9jwueXbs8o8/K3DVTFwdTBNB1ZV9UzHnLbevrLZvrhXQOLo3iKAUTpt4Xgo/YNtZ4ZazDx8q0+UmWB2MQT3Txe5TrXVhc8YVcxnkQmUm2m51rGrNxnXb1zc+L0CeQlW4bDP69bsp33wO5zfVcEXT1U1jj2y1BzNWNSLjC5HzwkbwEriXn/ONrJe8KGwQ6L+IlyCBY+ULHfv1W55p7+5YTmpoBJnQxBD5xuWtJKCdDS3XsEla3DhiN8q3KF0DlkEZPqNTwYFLesgxLhtevvtchzK5KujPlfcvXnH3zqCysjZ4kMIRD55lTD/MFSkTvRUDto0f2ZwUAYlVztyd+nWUxH3ANF1YR7z2YPHqfEmFfx51ELd9K5RiVXkS9vsVA9/DS+MV/fqquzpSbXXl/ve5gd6VwjDkTtxYHKaWHQL1BpVJMmdeDajcZFq5lAbOy+f1ag2YyqXBjss1AZXR0yZIGHu50Jxr9Gd1qkMGJZay49WmqRLRbBz0yonrjVOP/ORJM7s7b6gVX5ccSBsL45YCE3rNdeoXzLJEFD7zsf/sr03Oyex6tcMVeThzi+FI3S9rBxYQeTiIbuh1+4yddJdQIZOKjJCyAYAYEBDdzDTDI+vrnop0S5Dy/88SXoMROrluxXsOnZmgW/MgWIyF3/u6K8UOgTZU76/XSE3158Mm8FIjoV5FwA1/PaLDJHBAzJvaaq4a6pIhYpd/npAsLwHko52Z0qMKpPMit0Su6in2a+08q/4aPFBdLJbDjgoG/EdgnCdoiIAYRF4o6ILM4m0mxijQcnQ0gzSU08XAJDA4aghJolF8Q+6Rj/AQB4LsR2B2nNAAAAGmZjVEwAAAAVAAAAIgAAAB4AAAAAAAAADwAEAGQAACn7SAcAAAOxZmRBVAAAABZo3r1XT2gcZRT//b7ZLc1APfRqttSmEDSkHgKBiJdSikibiGxJQYh/DlLwYPEQO2CkkZYQuhZXRA+C1autpqlbElAQFL15CWiT7aLm0Cw0h/6xSZudb+Z7PUxmdmbapLubrA++wwxv3veb3/d+772P2KJ9dWVhF8Sct4CDBK8Zwcm3Xn12Me7z7fRflwgcIwACUAIoyprvm558/sA/AKC2CkTDfOEBb7vAfg0ZMpDv0z73RY1q4IEGoAFoAi6406hMIfThVkB8Oj3/giJ+I0Cu/xUBGEvvfufogdtx328uXztDYizwE4TsQOHQa0M9P7fMiIjQU/xEA4z+NFhLy3/03k37K1tPusBS4MNo+YbFixfFahnIxJXrI1rQHw+qQbjAR+PjNGn/1196flVTOSnQ0EDv6o75Ey0dzXipalPuLShIjgAo60kIzO2rdfcND9PfiMXPfpj/1QJfrCeugMCtlhjxsOJoIBcxwWDVYEY3AgEAJMVXOKkBU09cQpO7m2bk/ZlKJzwpE2KHybnOxtSZoe58IzE+ni5/DcqbhEQJ3jQjNV8KGrBTueGu0XcajkHX0cB/8RhNATlRqgx44HHNoBZoBvR6RLEw+Fyl0TgfvNJ704NMht/rphgRoQ8UA7nG2CCXV3ZaE80y69fMeQ1VCfOrYSBvXP17xAP70/JzwbEvD3fdbVp5wz2uSznVFCODpartKpwNqIznBubuPOi60GotmhzsvuyBPzYMJMs1RwtzYZ8Il6es0UubyLWhUmD4nga9J8r35ZlKZ9aoMoGEXAlMfXe0K49tsHevlj/PPDFHjSpo0I5rnoBrBA62yVYz3oebMnKotDgAZX5PdFcBSDk3e6TrFLbR1GZyrSkpajDZXYllvQMT2Gbb8Gj6Z/8d0WB/cByMyrCijP3SglxbAtJXqtoa+iwpYXeMumtu5ZkLaIM9Fsia5ToEcgSgyAiIJdyyXDfszOkX+2dudFrwywDs+EhHwdSfR/bm0SbLPDpreAUftIOjiNhwLaMctNESQJ6evTGgYY4HmwtUffIqXh/MVdoJRCXkClOsD8Ph5KWWkfUm0GaLGHlqdmlEM5Sr1OUqGFtqg1wfn6ylqt2R9RcoyKXGv7k79zr70CalPMJIJmscDebI5OVH0Yz+HyACRn6q7oExCxB0IHZbI2CUyGKMnSihmPCTxHOK0aSP1OuFlezkyMD3TwPsCJHFbkaK5L5kUEluIkH5T24uiQ0SLYJ1YEaSQB4CgnuSISYCxzkAAAAaZmNUTAAAABcAAAAhAAAAIwAAAAEAAAAHAAQAZAAApfNfPQAABAtmZEFUAAAAGGjetVddaBxVFP6+u5u0a2IffBGbkGgVEhNrS6VarYp5UMTmpw1tqI1FwScJKIltU4mBQLtNlPQnWPsgiogUyqJ2w6apCBKQIEKfRLPNpmDEbYSqhBqSmJ07M8eH3UxmNj/sJjsHDiyzc8/97nfOd88ZosB245ufuwCe9j6V93c37wivtoaFBDA6OL5VWUaCQKnKBM9sMKtNu/qZlp1TK61ThQShbeOMBks1iCUHLKA0UMRe35n49uv4roCybhBQzJyOACjObwHU88821476woSI0FL2BQ2qbBY0HadF+4L0iPIFRDQ6dlgDz2kAXqfHDeCJ7x8fO1rwdEQiyZBdPHMzAFR66Zd4hoQd7iJVwJ+bNKvqWmpnC8aEUTx73AQqndNndjaJDlOhTYPipCbtW+eCeK9gTHwRS5RZlpUgUOI5LTHU2lTTAABXomMRBRxy/hOAECNoqccaDtbc2jATC5b0aqAkqxb0AtQxp2hhv6uBeS9TLF4IoG/D6bgYi+8yKK2ahMeBi282VScW33t1//akFp7zKAaApjRfufrLS+sGISJM2WpAA8rDAjE9Z8jp7PdTwfleDfyxTDEMnB8ZGQmuqybC0ZtHAuRleqsepN3W0VhzaaU1lwbHX1Nif6my1wBteTNxLpIMmUqdcS4hhwmJz9x755PV1r3VWHXZIEazUgcNnMobxD+h+RMaqFyiNO2pADp66urMVfsDKZbCOxqwl9JHaPK+vNLRHkuUFQkThHglCYmdaqxuzCVGfzTxOShvEOL0l/yYEPSlJekuLmozIMdyDZGicVIDM+4YOYNouzbxlEHV6mpI0AAMmx/17nt0Itc4XU3b75iQPnc9qRw1yZTwrAaYxcI0NxnhfOvKStlnNdStxXrKCcTrQ78dMYV7s7ukCek6/3LtdL4gelpqDYPSmTMThyLJkKakJellIf5A6dSn671x+xqqrprgdzmBkJDRaYAVWQMKtEj7WpLMxUyb7Ro015RofSxRphhc1iUJDn5Vv21/IQait4cSHwfXRMqiDwiUuDVNwAhQThRqNp0Lmt2rMvHC8OSegMiPBOjc8wIQ6L9ev+14Iad0tZokTZF+DdKtBoP4+z/NMApsK6Zj97XJVk3uTaeA7o7X/cOBh+76DuLpSDK0oKxwehQTd9uNb77n98/ggy0DMVNqniRYkZ4V6QJht/+0QUnm9AX2yPDtcgVrPC1JcUkS0V9fefAAfDIPE6aYH5IsSZ/cYcFQEuiEj+aAuH/49h5N+3B6Y8mM5gAFA5P7yif8BKEWJWnRHkh3SbgmJvUXi80wfLYgAGy5PnVUk09mPt8cSSrY3VMvPvyv3yCISDIU2oJxCiqyJuGxu5vLd6KOpt8g/gfmUtaG5klergAAABpmY1RMAAAAGQAAAB8AAAAjAAAADwAAAAcABABkAAC7TR7vAAADymZkQVQAAAAaaN61V11sFFUU/r47C1ipUR8koiGSWLBLRZO69UFsDG8KJUvAWGLE6IM2UQnUStDU2JXUoobKopLYxpioMUoNv21Rn4xBTQho1MTWtStEEGOr1loxdefO3OPDzuzPQGF3s3OS83Jzz3z3O/c795whZrHj+7/tBNhdtCh8sGn98ndRJVMXWvz80A/XafBpB4ABIN46gQWookUutKiN3aPAWnqnIwBCNCLqUKjgH+8baXTgbiSzoHlw7Lkr3pCuJnhR2kWErjJJDSoNIu+Y1DKnG1W2IuYHD36/gUAz82yzpxM+t3pd9M/QwAcGztRkOL3D8oHFT7mMjv/+Xz9CsBy4PffcVgA3GB+cWXAFtLe1xXQY4ASAtwdT17uumyIwv0BgIGT4gbUNLYUB7x8YXRyh2a0EyyzKp2SkIx6v/6di5jPG9BCYH1C3FlodwQADs88BGhUBF6wj3BoAGytinjycarLEHGM204V1nWyLL2sv3Pze0HdXO05kMrtP/EOKRWlujd/8Rdml5ookNUANwHcb+MO1nO3BzWMnlv9tA2ez+3KlSFvU7kRCVNngGrijuKYJh9L1WMstfwU3JxI0GkgUHtTz2xbfOvpw+eAENAs/JCPTV4zPWloT30TfssnjmkTOAdhkT9/AT1eWydxj7H0oY+HJxMqVzmwBiQSNFmzRgOQOTEITC9x5mc5y055j7UAGu1qin1wqqGNt9EsN7PWe3gLn5tf3jy6thLl2LHmq1EDjRLZq4N+AXubaFnrLu3MAtuFrO1ZHfyw1cNv6Jb/YkJ3FegE02LLzcOqe0pmTk5xnv1CuWqcytS9p8Oe8+LLizYi80td3Yk5Jd+5AOnfd3TBZLviu+xbN2MS2Atb+FdaPL6x9vIS0c2Rh7dk3K20OL665aa8GPwvWvg12PXNk7JqLg4u0X6y0SjHbwhYNuoEB5Cpqd/slu1o1bNPgWD8hjygpGkSMKHV7b0vdVyVPr5WY1nxWg1OFwtOEco1JQoShgr+xrm5Ck92BpgNN3vnEcPreUMEBQF079aoGU+c1HkHvo4O/Xh4qeH8sprVRmwLCgwYWGZ7rCE1whdY6lB5WwCrlDaKe+GYErH9nzY2nQ2Gee/ddbNZgJtvxcl5jaHpCS7tvH8br0g6xJ5h+G7x/w9DJ5lDBASBD87wGfgs8vbQhSX/kCg38o1VLpm2orvN7Phq/jp18KDTB5aceUUebTh0jECsSn8iEfRmWhgoOAM1H0iuUqKPKG8398VxBXg4dHABWDJ/6gECr9z/g/xvY/wMSR7zfnh0m2AAAABpmY1RMAAAAGwAAACcAAAAdAAAACQAAAA8ABABkAACQMqAdAAADhWZkQVQAAAAcaN7FmF1oHFUUx///u8nqdpFCHwStobRpNVp8qAgigtiHomaThvpQjClSEPTBB9102ypRWdQ0taUmLXlSFMWPhwpq2AbrB6QK+qI+CBLcxYRiqqJGUUp2mzkz9/iwXzOTzTbNx/TAebgzw8zvno//vXeIJvZ2Lr/R87w8gaQBwIob4kxfz23dWGNraXbzkqdDAJIE4IMThckgAlsUbjQ3eYdjtY8gAnCqo0/0dOSjgDONLqoq5605KYARADUn/plz9GVEZLFGF+M7Hn5EybQFUXUFYamZ/oe2fxUV3IK0vnp6JnHRFI9YaCWNlSaATl667o/XEKEtgJtNFA8ZxSZTqTWyDAej/dmdO90o4egfpHP5ja3KPKFB6YDmXtrdsRsRWzByiqMCJAnWu5OQmLEZXAWrwT05XrjLsexjpdZMtd5UR4+lbi0s9wODY4WUge0lMBs3PN7ffcuvVyYlqpy3HBaAAqLm5Kx68ReXC5bN5Ttdak6IPpd4qmT1y+Of/pC8IrhHz0z3uuDdAU0r69oLI3s2/7tcOFHsC0yYbC86icNLhuvO/bZOjB4VAv6oOeCPNyYvvL6SmnHJPxdMWDUzMD65aUlwraZ0UJRtlUj5nOmVSodDnBJwPlAqQMJ6sWNLgnMVB8uz8r/AjL3f1f7FSrttuOvmaQFGylmpOiHg3gNjhXsvCydgMhR6x6MeWi05mFM7KDC/CxnIjEuMZLNqmsOVU1j28qxOfZRqL6wW3Js9HRcd6nPh7Ljkjr/v/Hn/ZSJXj5pD/FUSDq62mLZ9t/UtgX4bbg5HMfT451Prm6W1Phvw+XMrkI5F9S5LKzRPC6i+xoAA13sl++xSIjdp1p1/Y62Wone7tn4jBqdrdVdPb3p/bmrbIjVXqTdq+twa7zocakbAYki24kJ9pVnkPv6+c8tna72Qf9i57YIDngjpHgTY0zs+vatRzTmuthxGRHZNsXVIgF9Cuod51eH7JiZagnCKkz+lbipEBffB3raSCw74olb17euLbY8F4Bh3BxGxnU1tfs8hvg7pK0R55P6zMxtqcNO72v+LfBdJqgMeEECDzcEN8GSg4TY9artn/Pw7hO4rHwe0uvsWGNw+8eCWvLmacNbGnhFgLrS0tboWJwCA134yM2V8p+vgrwcNjIOHntAzWk9DzPccAcSgDd5dG99A1cSCe4oH/geA/qt59cXVmAAAABpmY1RMAAAAHQAAACkAAAAOAAAABAAAABgABABkAADVd96AAAABxGZkQVQAAAAeaN7N1E1PE0EAxvE1mhg9Ga/GBF+KaSkB1AIK2k0LKqRo0VaBKm0VtLE06Dfo3XjxM8ClB8DOS/XEhS+gCQc7s7tdqx5IuOGhl47PgjUYE4+bmeR32jn8D7OPYfznFFl9qEhEe4nUVQmW4VUV3ou3hhZHqSMLVGw9J0K9gAK8BETvvv6wfVqLxiyxMjkiVR5hT+EZLO4H1wtaBKYrzRNzVLoZKtVjhD6BechRuV3e3DymRWSKWOUUtdRDRD6CGZiFDBG3tAhMkC9n7lJr7x4ip+E+PIAUtTcMXc4daq9MUFtNIiwBU4Do1jSzurUINLkzHGd2e4zZahxuA6IVot9oMzmjzN66yRwVRZwJsQM75rpzSovGCG9khhB4Da7DCNw44Nvk5DdEKF8V0RIXx//5eIX8ODnAG83LvKGuIiwCgzDMnM/pijrqRyDm7l1n7rJEynn8wH9dCDOnHEZgL/RBPwx4am7cl13mInR47ua8uaNy7c+FCx+/n73E3Z+ggggLQY+n5vo2OUkizMNzl0akFz3LZWz/Qhf/unoOgefhIgSgm7utIGkG/IqcwBvE3H37PXcq2dloZn3yntsv5ZpZTXufdM4AAAAaZmNUTAAAAB8AAAAvAAAADAAAAAEAAAAhAAQAZAAAQRf7KAAAAX9mZEFUAAAAIGjezZUxa1NhFIaf9yRIYiS4FUoIiv0BLpZ2M0OXZnITrLuT4GQXoUsWt44OTt261EFau3bqD2hLcLCF3CxO1UFK7809DrnJvUluO38vfHDPx7mH57x8nCNK9OL7ry2T9gxQdrLvdyfdp18IRNX5i/X9Qf3GRj0B5l6Ev6g9vPpKQFqA//so2RZqCzCpAJ9+OO10kpDgVQxWDqOWMeoLGkbuuuDb2eaTVwSmGecTTz5Laoydnrp+a175SICawi8dRmux0tdjYMc8c93Zvey2foYIbwC4a6R0NwbFQIyIJWLZbz1IegSqKkDzaPg2llYtc30yGo3003Dj2Z9Q4cX+oF5v0pfTnpvr59e11nM6SkKFt2qT7Ri1x8+E6Ulc70MEf3lw+Zgdt7Hzx9E/nDr5FkWQmvtVcbtaYbbmeT4Tl2zkPMfzuVwp5Amo4CW1C/FkWYqaOctCkZG+ET8iv2sBzIL4XMEyYC/5b7GZ6STj/hqljWTNGIr+A3aWb1YDMT8GAAAAGmZjVEwAAAAhAAAAMAAAACgAAAAAAAAACAAEAGQBAH8nJFcAAAQ9ZmRBVAAAACJo3s2ZT2gcVRzHv9/frKnrxnhvNGlpDq1BsGmwleAhoCht2pqqEBN6qJd6EUmJbaW0eGhSK1aM1oNFBS8eFgoJadeDnkoFT0XBxmyotrBpQYvRRpRk3sz8PMzs7OxmTTfJ/pkvPBbmzbx5n/f7895vlqiyrk1e2+i6iSyA5uh1Kke6X3riXLXfJ9UecMlNjHklkwdgmJBJ1ECJag525eKPXQ54kAAECglWiMQnO/Z33qgFQNUsoKq0xfrQEGIIGDDf5j194DRqpKpZIDNxfUCAZwQEoRD6q2MpT/Uc2PZHrQCqYoF0Opc0wBkDwG/h6v+curt4ATVUdSzQtPCWAdtFA5/P+z8x3H2429QSgOsd4MupbGvCdbIEUvmgFQBQXnq5//G9qLHWbQHHdc8omGI4eYUAxhIZQR20LoBPp6a7HBdDXmBKH4AQ4Pyr+7dm6wGw5iBWVS55GDekGBKGDAIY87atp1EnWWt9sHn7wKCSwwpAAXgAlIQnGHn9QOeVegGsyYU+SOeSi/hnLBq0hILA9MLDv11AHbUmgL+T/x6Fsl2gKKROAqpH3untdeoJsOo0emIq2wpFVoCizANg6tS+rftQZ63aAkuKdwVMie8ywYZFY4k3ggZoVQBvXp7daTwM+W7DEICefnx277bZRgBUnkZVuaQ8Z0AaAmED5u0NzigapIot8NqlG4MG6IlsVr4FqCfOv9A5H2uAV9K5pMHSWJlCZbo1dfszNFAVATC5eMyQbcyvvuYPbDpc77S56jTaN5VtbWIiyzBthhaY/Kqv40U0WPe1gDJx1g6Oyiz4v50gjiIGWhHg2czNXbbqoAAQLRQqFvSji3s6ZuMAICulTVv1fQPQwE+ZDgkD3qWxRhET/a8Fdl6+OeSQPSWFCoQ8OdG/+a9YAzydziVtOqNlCpXpxEO3PkeMVBZgodk5boFtYeBqfvV1+GqD0+Z902hHZu5RC+6MQCOZBxBg4ofdm/oRMy2zgKPOex6ZKjouQG1V9xhiqCKA1szcLkNvoLhQAagc/2XPltk4Akg0bRp64w5Ag6BIJ2ETv2uTM4qYKrRAy9e3D9rkU0WFit9O/vrclntxBfCDOJ1LJlswI4q24sDV6/MPPvYkeunE2gLSwrcN0CbUQuAqkBAdjvPkfQt8c6cNnjcDRTIsEf3V90RxS4quhX0ovZ7frRmem/yPTvl+K+iL3g8AlkbGUt6B8Pj3u9u/qxwgM/cFBIfK+Vb0m084SV2hr9j9lt1bugDL+nyYextUNl/ta/+zIheioFfLneUAuEFjsCcEu3HhxRrtK50UIYxMWKMALA9PQoBHHAs7AHxbEYB6+AmCTSvWBBGY6NeIEEZL6uRlLsbwHxtGYIrGKmQ/hzTZyoOY1huAuxFAVyUPeMGvG11JRiwQgSnvYgUYgQb3hzALFvVI9vmOXKUA/wHPJ3pHqnUMtAAAABpmY1RMAAAAIwAAABsAAAAoAAAAAAAAAAgABABkAAAH2SvHAAADw2ZkQVQAAAAkaN6t1n2IFHUcx/ExlbpQz8cyT82uy/OhujxFvRCpRDMtkkCs6zCCMEsKQ3ugUE+xIktFCPEBQzqT2Lyd55k9jBa74+jsfLrd2b19mN2d2yUpuL86Ag/uvn3GnTnX88R/vgPvf+fFb/jMMILAfF2WL8/4M9j1L6LSOpsjO7gt4WKw6/RwCPVfkq0qVqiz+VotbjxwByZ2HWaFiGgUTvX7CKfq7QjGp7BirWL0jXbc/I87sW2sUHugvew3MZK7IEaoNRghF+0oQrHO451jWTEjaO1uEaP0KzCgdAFgm4ueu/oiK6SqVysUMdqnATORj4bFiMo+9YBk/dgsWiQCAUoe2m/K16pZoSY1VvuTZA38LFkElIbQYPQQ+9RPybHW01KMmhBQctFfJKs3ELAms2JHpXj9MSAn0Q/IR89KsfdZoUOBfNkRKZ77Xo7TUXT8FmqFw+ExrNg3cmLPd3I3HQZ0BPnoCSnOO/X9aqJiv9zd9zWwA2gIVeIK+9R3KYmmPUqC9ind9CUgD+0/GIzPZYV2SsllnymJwc+BAaVGD/1Kjh8UmLc+aruSatuhJOljBJS+KKK9jSHmqW9VU29uU5P0IdoOzEU/cVE1uZUV2oipv6OmnC1qit5DPvqRkrQauafeoKYa31LT9DYgoOSjH6ipNbynwtQ3aXZfvZamBoBDqJaS2Kf+qmafeU2zaSOwTchDb2zWbd6pv2Rkl6/T7MFXgG1APvq6lv6Wfeov6Jm21XqG1moZWg/IQ//ZIGYnslrPapmGlXqWnge2Cq3x0HV6+l1WqA5TX6pnnTpgK9BKQEXUtp7jnnqNkd27yMjREkDL0BBqZHinXmUUZi4wcn1PAqtBtbdQkX3qlXru7BOGQ9UIKD1VRG/UcE+9wigsn2U6g3MAVSIXnQdsoZ47wD71h8yejulmD1UgoOSijxvO35Xn7XJWa4JR2DzJzNMUQEDJR2ebzhbmP818WVko74wDNgGVoFEhTLxTvy9U2DcmVKD7Q3kCSj46ucVZzXuq83/NFloK/wnAgFIJOgDULkeTzB57KnoYPYJmIjxe+zHDsavQXITl2gvR0+gZtFjP2vgw2HhlrqzQc/VFLJQ/5UKluehYD33QO2m5e1I8WqAElIASUHoUIwJKQAkozcd63XcUKPkfBqADdWpmKbBCejh2N3T8COiMm6hzG1pdgtZ46GIt+6kgmAXlbthw9AEXNW9Hp42AVpagC3xUd14Gdn0ObnjpXqDb6BHQiSXodA+dVYLiw9A/z8zd/NX7HzEvJHngoXNkAAAAGmZjVEwAAAAlAAAADgAAAAUAAAANAAAAKwAEAGQBAJ/K/NgAAABTZmRBVAAAACZo3mOQ2f74uvyOB7UMDf+ZGEgB4tsf/ZcEYuntD9NJ0igE1CQCxOLbH68iSSPv9sf/+YFYaPvjepI0cux4/I9r+5ON4jtfcJOiDwCu9COhqRjjzAAAABpmY1RMAAAAJwAAAA0AAAAFAAAAAAAAACsABABkAQAanuSfAAAAYGZkQVQAAAAoaN5jYNj2RIZhx5OvQPyfCYhZgJh9x+P/nDsfr2PACXY8ngvSgIyBmn8ANarg0fTkDromhp2Puxjwgu1PNqFpesGw+y4/AU3PFYAKz0I1PGbY+ciOgQAAAF9eSoCTwHWxAAAAGmZjVEwAAAApAAAAGgAAACMAAAABAAAACAAEAGQAACJuQm4AAAK1ZmRBVAAAACpo3u3VW0gUYRTA8cmNLqggGmSJYCYUCUKBoBTZBQJNIioqhCipEIokySCwixRZgd2IioouqGRsOLNz25nNaCkwNAV1173O7s6us0ZFPRRhkeTpTO7m4vPpqQ78nwa+H99whmEYwnltHcrr73J97WddkNpAl/sYpcPgoe0zEezHAOdeSob0sa5yPHRyJvSGG24lQ5qbIe0l6+7rYd3Qm4qwrveD3GAWGaTaPLXdnBteYK8QM8G+KeggGcLz/kyeG3krcSOgYiboxPCGg1ar1UIGddq8F602D7CcBxCEJPiMdVWQIQ+6goWPbN7v7TYvdCKWBAXO84R0nW/xPv4OIvcxBKEDIQTHOzlfARlyWQxsvMr74AaGINxNgA85TzPdOjuds1t4v+sS74dWLAne5n1Gm2M4nQxqEoP1p4UAnBX8cB6hJHid9+4mQxpUT3ajEPx4AqEm7EwCvMD7ewBgFhl0SNJu1otBaBCCcBwzwZNC4OcpIVBKhtTatBUHRG2iTtTgMDYNavdI17lGDjv2iCHYhwiCkAC/HFW9i8iQLVJ423YpDDulENRgJliL0H4h1EiGVNq1uZVSJFiN0FbMBHdNgaEj+IwMWitFmjbIEdiEIQhJcIccriZDSmU9t0zWP6+WdahAKAlWSZFu0gUoUaJtK+1RQBAQhDVT4MR6VSsmQ4rsetkye2yyGKESbFUCLJf1K3RXwa88X432LrHHoAhbjkgC/FSuGtlkTo4S27tQGYXFWL4Sgz+gotfR3cb5ISNDMcayFANyEJoGR4cYK9D9ntMc8ZY5qgHzsUzETHABQrmKsY7uNs9jhYwa/4aBBUsBn5KuMwLXTCQ1iyM+Pk/RC4gh4/FMiHHEzzHkoxhVePhkChRiHO/Smb8yanwzo4x1/H6NopHH/J9/Yn4ByYxYN7/uQDkAAAAaZmNUTAAAACsAAAAVAAAAHgAAAAUAAAAJAAQAZAEAs3ud4wAAAfBmZEFUAAAALGje7dRPSBRhGMfx8Q9pggUZFoqBEQgSgQSCZbSQXhQURA8S5GE7FJUHFfKgsHkxaS9FeglBUC97mNnZd+Yd96Kgl7IlaLfR3XF23d1xV7xIFyFEfXpGZmnxEjx63B98rx/emRdeQTjHvonhhe9iGM50SAY1MdyyLEVO1sQIfM1D16WfXhLo8UCxJOnrivQLghji4OB7IV/oKgmdkzbci34dfJiEaA5fkSJuEjglRyun5c3sF/8GzGF5+A/7C0jopBzzfpCj8FHehBnMwU/m/fojEjgqm3fGArE/7wIxmETY6+B48gXyjb9mhjoUMOAtouPYRCBq4wfvmX6LBA4o8U4324IX2BtmwDDiozbOjDES2OfTL/WyeLRfMeEZM8HGX2KDzEh5WLaChLYpiZEOJQ7dWC9m4wOIP1eMHhL4IGhWt6rbv11qAtqxHN6nxJfJl9PIk7NNPAnN6jY8xBz8qEtO3COBNTzZVM9Txw08BXcR/ocnPtOOCFB0TUuv3tDSUKel4DbCDr5/n2Wvk8ySoPW0fMmCSs2CKoRvOni9mnxFOyXfKhOWdiwMSrDLiF+xcZ6OCCtQSnwsLZcN5leKlWs7T+hPOt9tPIsKwYwonHta5lMeagrMqhUuZPaJufX49B8XVlhh/99fDnKESFU/MpsAAAAaZmNUTAAAAC0AAAALAAAADQAAABAAAAAIAAQAZAEA9UdUDgAAAThmZEFUAAAALmjefZBPK0RhFMZ/58wted+ZspYssFCWslBKFkpZsGEhn0EpCwsLyp+NBWXFN7DRlBQb38ByjJpYkJKbycJcZsY9FjNu103z1Ls4T7/zvKdHyOiqWO4tfNfvAsinfTFZC7Jw1Zp7X6J5j+HMyLXshgRa/APvn92OhsKyx4gwHEZ76WhsbqSiCWkmrzk9CEU1FCX13qrN3DZAkrx0fr8Uik60UsEBHiGCjYXF4bcEHj997H7Vxq4zTb53rVNKXYXnk9/AAKCaj9c/0f7srZ/Y6vHUVDNppPviqc9JXHaY92Y4wJnhseLl7MB8uoAgUtuKUB/9SaVe0++1bK0ByCRADaEmgjejJvFhODNUycKKUUobHyIvYdDc4R8p5FaAm/b8hMSLTA++01HXDz1smnZCfgAx7nr6AIqbTAAAABpmY1RMAAAALwAAAAYAAAAEAAAAFQAAAAcABABkAADHjO1dAAAAQGZkQVQAAAAwaN5jOL32cuzpdZf+o2CgGMOZtZeL0SVAYgyn115SAuIvCNVANlCMAQROr7lgeHrtxTlgDGSDxAAF5EHBroZQLgAAABpmY1RMAAAAMQAAAA8AAAAJAAAAFQAAAAUABABkAACeX6S1AAABHWZkQVQAAAAyaN6Nj0ErRGEYhZ/3u/d+N5ntWFpM2ZgNo252UhaSYiFlMT/BD7DzF+QPyMKsJKXLykZJjVm4UmpCMigsxuY2zL3zWhjCqJlnc+qczqkjAKoqld0oaCkZJzXP4jVfCnOFB7og1bDq1xvxPsjkn+xVIRLkSFvpVrAwctFRLm+fFxHdpDsVQdf7EreUX8y/A5hD1x04djxOHY/IuFwal2vjUBPDkxjqIsQICYwpshG76U1552wJQKb2bnMeaWTRfotiAattRbH6qf5vX63qrAAQ3o9ao8u+as6iWR8GrWrme6BjULFQkn/fraphvJYDMw1aBIKfsQF8dE3ohYO7AFgBmW87VzR1orfyF+HjMCRZaJwwM/T2AQyzafxz+v/6AAAAGmZjVEwAAAAzAAAAFgAAAA8AAAAVAAAABgAEAGQAAK3aH+QAAAHSZmRBVAAAADRo3q2Sv2uTURSGn3PviSVEu0h1cwhULEG0igHHDoI/0IBWQaEKXcRBSgfBRcg/UEUUXIMFhThUqSZxdq2KFQcbRDEZFFOhQ0oa/b7jkDb9Uqsl2hcul3Pv5TnvuedIoVDu6WssFkGG6NSCwawgLywMHqSH97+jC8mzqbcjHrnvMRTwBorhAdf59qVgd+I/9WHqXKq5Edh9Q3fURKiJ+219F8eCCHURGsjBH0iursHHmak3V/L5vP+r41tP55ISBLMKCQ+otdwq0K4ich65e+UCLg8N751ZFwxw40l50Etw1UNSzfoU2eWxrauQPyZsaMjFzOnUo3XBa5XNmmsMfkjGCI6qMOLN0u0ERBKYoRCqyNilzMDdDcFrNT79Pu1DuaZiZzxI27W1v8YUxscye253BV7R6HT5cAzuKezrBBseTJHR7Kndua7BAMcK5Z7e0E167GwLHGkwVt/iggM3TwzMuW7BxeP9S+Fi8vy8SK4mwvzyaC7via9hLIeZdO14tcPm0oc+TSpc6Ghqq4oj/w4Gdj7/kugNll4r1h8dSzWu/xcYYHvpc8Ybj9uuDWLGSTZDrlSdiJWqzXip0txWrE6wqcpX4uQr8ZXwF/buq2nt8Lx5AAAAGmZjVEwAAAA1AAAAGQAAABkAAAAVAAAABQAEAGQAAFT/qnAAAAKNZmRBVAAAADZo3q2UT0iUURTFz3nvUxOFKKyFRgvD0PzXTDLYrhZhRFJqDrWwRUHQosIoajm7Ni3KJLdmYDAFkxgTQUTQpiIxLbUU0ijaJIHZ92b8M99tMc44M/ZHne/AXbzN+3HPvecSAESEL/uGfVpQqGPqO3MWpr1HvN/gkhgOT+TlRqOPNbFfC6ABaAg0MCPAMMEX4sR6fcd2j6wbEgqNtmk4PfHPk4B4yfKbwAAht/IXrXuV/sr5tUCUDdlqSBgSBhnF5YqCe+bBbtuKTb4JDZ0NBoN61ZB5JydkQDv+KZAOxAqgTRYbUbdLrIrXrx68q1uVXQDQ0TfiyaU6p0RKtWCLBrZroPBv1iVtJaLKkZP7mmvu/xeSqUBA1DbPaCmgDmqRNg34/gF0LPDCgabKzjVBMtUV+uiz6FzWkBYN8A9A0ZD2xqbqm+uGJNTZP7ZXO+jSIrXLtiW7EktwqqWpsjsrCAB0hCfynIXFuxpojXeSOifYuQ69x5srxtO2a62Q84fK5ornyk/Yoroz19yQBbNK7gQCorKCAIDfz1j07c7ThuhNzxZgyPoiz5g/K7tSdenJUEHeXP6ghpQlZxNfhFEzWF4dCNBZdycJXW+otW3yTFpwSRiqXdrz4WhWdqXqRmPZ8wj5bMVporriGgQAZqmu2SBsEDaT58nX/nCs2jVIz+EdTw04mOgiAYzonHrXIABgk/0Z6wwD1ACA5RYkQgxr4VL6GQ8nWeUuRPG9coi0cyNSlXVOUtUaFP2pYOqXBjak3rSY6M2uQQCgIjz1VQMlKZ3A0SxWbkIMOJlxYn6iaHraVUgEuGrImaXtWjTExYG6ugVX7QKAjY8+b4KGVytr/EdDyRcA+A3D0hL1rKSxAAAAABpmY1RMAAAANwAAABkAAAAiAAAAFQAAAAUABABkAACrOn62AAADL2ZkQVQAAAA4aN6t1llIVFEcx3FLWqAeCgLDoEXKAsnQ9oVWi6IgKgwLRSEKFNswKorKQikyipKixcwsra7jXeYu0+KWWWpOonM9M+M4zThD9dJLkNBLzb+fmS2itHgOfGFA8MOZ//9eJiwMh4iGVMlsfq3UuqrBYsbWKc2RYTyPYXSMsIltVY+kNqqQTKpGtaJJz0XzQ4PoqG0SzdyXlpaYQSHlkjNFAmBFOnqIngCqQk+B1aF60UFNosNuF1tTmcCG/zNSKrGsBzIjC5Ik1j8m/cReio63dqk1XRCE8L9GCss9UcWys6sEyH1UhkRgChAN2dBjVAmoBj0D9qIHe9VoMef8NVSgsLhC2VV4W3HW3JUZuyezjwKwcmAyABUZqJ+5fWoUHYn/NafsbBp6R2FT7yssE1jjH7AvdZIjc9AbWCKxeZhbGeYWGmBJQpjbXi7rXiq6FuJ2Lf3PzQxVSo40LtAlPFdYEmGAJemqEF3RXCBBoPAimd3CkhCWhH5bEtms754pF6j7HxXKrKRIdtIdVAqo93kTxbYkbq+k4keto65LTs9NIH0wxu023Sdfci2/orjoGoACdAvh4aYSxdzM9SV7QXFVXgJ0GV0FcKMHa+SK5MmehHOKm4DRD+zb7VwzuUI5iqv5DKA8dB7AxR5sJ1fkhLX95ClrO+UC+QXL54octnq2HAVyHJ1EOVY3nba6q7kiexX39ANWDx0CcAQdQ9nW9vdckUS8Bfaonk/7Af2KHdYcY7lCu9SOtxlqB+1WPbQPUBY6qLj5/ihJU73vdgABRukoE1gmTySt2j9yu+b9nKJ6CRh9x0IZAhvNDdmk+mZt0V7TVs1L21AyoFTVG+T6Va3VfMkbgGxEm1EioCTNa+OKJBi+vDW6j9ZpPurFcLuz3IDZdvuwJbo/sAzISrQa4Wa0HrfjhsTbAslzdT8tQIvRUiArdN8XgJO4AJOxVTFGp3+W0UnxqBdbpPslbreYogdSphkBmgEAGMWiODTHCCzmhkx4GMyaaAvQFEBT0XQUo3dqXLcqQgtEjbcFuybYgvQd64rS30SH8T5jjM64cbZgQQSKxOe+f/8KwVMMQUzpBO4AAAAaZmNUTAAAADkAAAAZAAAAKQAAABUAAAAFAAQAZAAAmL3pFAAAA+1mZEFUAAAAOmjerddrbFNlHMfx6jKQiC5DvOEUMycacUNAmQuKI6BGYzQi4I0Fb4iYEYKXKF5ivRAFJBIVvOEmOHAetnO/tCIdDpAVq1l7+uy0Xdv17AzemBiMBF4o+/sbQ6yAyVifk3xfrp895/88zzqfDw8RnRWSWXVIis5qb7GrdiuJcT6ej2l2j9TFeMiS4vQd2iHZtBPtFu2DP4qx9rBor9zX0jmxIESQuupEiZECQEeDmH0C2yXaBIzCYiwSEaMLmcBGnDGyVWLPfyszakESABUZKIC2AwmhH8RjK6O9wPaJsf0RKbpEEISiISMNranyJpkd+gaIgFqxKhmAhkwURN8DakPtgPagDmA/ibGfwy32jUOGNips8ibZafhaYTu3yowB+2OI2JGIGJs3rDn5/XS2oLAKVI95hf87r/jJ8zoalmL1Be9AQWLTRJFtw7z6T5nX4E7s75Ciy7hsd0F0arA5Ov9nc/TvkWKPcTtXrTLGdvp5Hdoldk7gsyKBirDlG089X8Bkey9hplyggc3RLLMt27DtT8aCYvwhblfS5mD0XBzm1GkOM/PzWs3A0yg5tU1yF504zPLg+dJFew7XS7ZBcnZsAoSbg/JujjBX5HO5a/ZGII1oM9oCpPkY5lRyhTYozi+fAcjHmpT4Iq7IOtV582PFoU8QVkZfoq8k9hFXZK3qPPABgA/RevQp+kLuauOKvK0krlmlJOh9lIf9yhUZuAXeURJH3gWyGq0Fsg5t0GOlXKE31OT+t9QErQTyHlqDVvH+UrJCSx54TU0SMPoH44r423rOeUFN/fUSgFfQ68ivJvv9AhvNDVmqJSct01L0nJqiF9HLQF5Vk71cX9VivXvBEq2b6gH9iyUtrsjjemrNU0AWo2fRUkDLldRqbsDTkUjxAi3tLtTS9ASAReiZgVVhddyQuVrm0fl6mh5GwOg4dvRJIzue21/Ie/UMu1/P0Fz0IKBHUJ2Wlrit4k4jW3eXnqV7ANyH5qB5aL6Zns4FqDW7y2qN7G+zjCzdgfKwEBdg6vZMyc1GT3i60UMz0EwgsxFWRncb2RkFA5W6WzrJzHVMMXN0EwBgdAu6DQCw5oKBci1zxQTTjV8HoBLdgKYCmIZqjJxXE/DGDPvDK/DN8TLLXTHedH8vN126Gl0LYCKqQpPN3OEpevbW4f/6+J/yAssNXWT10qWozHIJGOVhh6833NsLekWjDK/6fMujUgBj0cVoHLoc2JWme/AqPTez4DkUB73qUQGPRgMqQWMAXIgusXq9Msur4nPi8LqKAn2hEYCOY3+WWH3rz9MOjOV6y/oweF+gr6442Ld8ZMCrOJMf/RuAQ7maj2/maQAAABpmY1RMAAAAOwAAABkAAAArAAAAFQAAAAUABABkAADdrYtsAAAEPmZkQVQAAAA8aN6tl01oXFUUx//nnjdNUlMkgl2EGtqhak2aSWvbMYW6iAjmo9Km1QErqVAholJEQQKCMAvBjS7EqktThYijJq2RaWnVVLPQSkQz6aS0oYSQGBctxZSkybyPe1y8eW8+Mm2TybvwmDswc3/vfP3vOQQAIkLnTo9HQ2JXG466rkKhG/sObJtFQIuSyYkKZylzhgktDIAhYAAsmGNQSkGGWTt90ed2pMuGJAbGuwzIF/7h/uPDvP2fDPm4yja+aog1mKuBKBuy0SLAIoIF5D3Z7+TtaZcF6l0wnMmRgdFXE4kErxiypEMDFrDgHki5w30QuaAcrNYW+nSLse2Pi9+O7V6RuwDg5On0Tog6bpAOs+BBBupYUF3owrx9zoVLDBzdfSjyzT0hxSseF1W/czysgFbW0sVAtHSsAIZog/DGns7IiVVBitfAQDpKIm8z4TADVAImTPrN5s6mj8qGeKu///JeJuczBppKuFAMkmN7OyO9a4IAQDI5UWGamS+V4PllLtRYUOQ8/uShHVcLsmu1kPb2hzOm2fCCBepdloUK99mKT0pc1JogABCLkTM2Wv+yTdS3LOUFzT9F0rE1Q9wMJH27yu42gYnCQibYhHfjedaotQjf0WeaFizo7hKFXP9E5NLBQCAA0NXZeMES9bMvQR6MqCcwCADYJO/7wc/CTKLoqVOpxsAgxw7W/2gBfxUIK4AMqebAIABgKRosTmlbUwQAjKAgJpAyiKABaBH3k2h7oJCM0CWBf7gH2l6WrNxpJRLCUxVX5hlSmX/DClsPBBaTWIwcC7hZkGUAHGddVWDuygaftAi0ABpufNYFmV3xoclKS7AxW4ieJaIyzq3ALLk1bz4aAlgDueBDZl6PNcwHBnFINcJL3WyWOaB0oClsQZo0Za0QNx5K9FhgFd89MhKyhGIFLRQAG5wKzJLb/9bEDEid5yYNgibRJvNwIJbE46IckndyzZ+vX99/0hGeCsSSv/dMvshC9QyBplw8ROODsruV/NWWnNiktEoxUFPUuQz17d/6lPe7si15+vy1+02TvmNCjVvhuXgIOfH835YF2ffDVM2iqc8wENWem5BVXqKv+zse+XVNkF2D1+oWoZMMNPiZlJP4GYdDrxX/Z+WQhPBjG6ZeWRK8x0BNweXkiuGiI3Lkl9aHbq66Ta0dnF3PbL+kIG8ZwNZlPTAAFllUkAMXO8LnV9ZwJ6arqtc7m1mpCBNaGXKYQRv8w2XZyDenNDpH928euvvocHb6CEA9BIQZecOPlBiA3Df39v8octqvtIVTdx+Czk5HAfotv/pV/psKSk1bwoTPqyyj5+qztTfu5XIDQEuxvPh3gqtBWWUFNEg05BxExWfbNv2+0pwxQJSG3OGOyGXOfxqSEI0Tcx11Y6ue492YzHwI4DiAUFbfrgO4DGAMIsOotJNo2bJUrjr8DzgKCvJ3CR9TAAAAGmZjVEwAAAA9AAAAIgAAACsAAAAMAAAABQAEAGQAAHrt1WoAAAS9ZmRBVAAAAD5o3r2Yb2iVZRjGf/f9nunmZrbAPoiKDu2Pc5t/h4J+MKJsM3SaByxUMDCKIgoi6NP5EAQRQWT1yVADo1M2TZuW2aQRWExkm1NKzcbUCEUU57Zz3vM+dx/On51zXDVl573h4cB77ufl4rru+3qf5xbGGGYmJw90Nzqjygv0qpT51xatXXSFcQoZS1Jb27mJ1cODhxVZpYV/3TToFqTDXLC38ZkFvSUFcry1Z7MaexRQjPTvqJtPCvZhRSryeW20Nnk3QHQsSUl40BfwBXwkt1KAK0xdbMiuwUhwsbO168V4PO6NLxBnrT5y20fIASoABQFgI1ummcnHsyOP/PrLVz1Lxk0agAMHehdGAveKitZ42FTBZipUKaBGTq586TIxLLBlyfr6L8cFSHHEYqbLFp6p8VywWpDNCo2FoApqySG8urSlfse4AymOI629jWrBG57IBgUZhSUTsdcaWxo+KCmQbBz+unu5J/KJQkMOyAhLJsK25S31u0oOJOs7kkx8psbGfInUQI3bSLBo5foFv99119xtNDXNTdxKntnkw678zvIFfKUyUG+3xUxLDgQgGo0GnV21z6dgr0+h//jGsmP1vdGSS5Mfe77rqqwajJxSbO5I8YLCmRNdtXWxmLiSMpKNLU823E7gtvuSJ1F6zVtSf3pdyaXJj00tdcd948e0IwtZUCmRN0MFAuCLvFPAiEBKpHH//rN1oQLZum7eDz6cSn8s0x9MH0hIsCxUIAAp7GAqVyMZeZzUA0TCBJJQ7Y4YqI2YXCAyP3Qggclpw1CRPLe1+aH4SH7E4+b1T/xtQLHyfE8Rz38g1BqJRiXw4XqB7QNBMKEiVGkAfEXUZdlIS5QIW5pY+8Vydys5oODlzimGJRPBfaEyMjSQfHgERIYR4VIsWjsQKhDfaZ2KFR8le0Nv36RnDZ5lT2zp+hBzPaE66/bOzrKUSbTgSgKk8LpDZST115SowMz8blHB4XkdoTESi5kmRd4q9g8fvvmouaYvNEZ6l55/Tk3mqWRtPc0IjvdCOyqubzs33TntVqgu6pb2vWvmPJbNKykjjx+9MGU4IfsEqy7wDsCTIJafWzIgKw71VbtkcDgpNCqSadk0GyLyxcHmh34qOZAVBy/MNFybj9TmpJAcG5fwyl4q3hMBmHKor8Y8b60K1264oThNcxP3AmBj3Lw/Jve9kHD2tuRqQvLvwEOe8eyx1TOu33HlLGu7vFDVdShUZu6o59Xs/cogsvvK09MGxwJg8cErkwa9xFZFXleYk3foyb/HDCm29ufmmqOjX8KP9O9UZFvxKEGNW4rsE3NHIs51Vwx6f16KzhgCmB7vr/AmBbOcar1ntlqFDQqT73jHyLopjpaTa2a1//tY4kj/TpBt2V6+Y+BSMF5gIPO8SotzjVEAGAqXRVzT6adquv97dOV0B8IQmdFTUHTKLhxVUeUjVUXumMnLrtxz89FP/WDCgv8DMWJoh/vrEX0X7IlikxsDS8VymMD3YkHsctPsE/c23vy2vw6VlxGiwP2jTf5GqaVse95QI17m2PF384ye8Zmztl8sZzjShMhKoA54FJgKlGU2+QpXFc4qrkdNOobKU22smj18r97zD55t9cK/Y9FxAAAAGmZjVEwAAAA/AAAAKAAAACoAAAAFAAAABgAEAGQAABkw4gcAAAUQZmRBVAAAAEBo3s3Ye0yVdRzH8ccbitc0BS+EhCh5AWaa6PA6pcuareFMVzKrpYU6rbTbWo1yrmY1ui1npdSapUd5nnN4riiCl0oOUIPznEeQA+f2HPynDZk43Fzy7fPAOXm42JDg8Py293Z2+D0Pr/34nd+eA8P8z+GSXCMr2OqSCtZBXWouZx0XKlj1QPmpqvnMYI2yAjW7vDuupyor2eqtmkWLiijwYoG69zdWpUtAlKFeYBsrueoci8UyLCLA4gJH4jlOvXEByIvIwP7eO+wf9lPq4oggz9i0hWdZ9WgJp54DVjvPqi29xN6sZB0bI74vc3NpaKlNSyrlHLuAtXfF2jsjb1dgHjOY4yynLTnHOk4C22Zgf+2ObSvnqvcwgz2KWccybIOqUk6l88E9G4YF0vH8oCMlnJunrU5LMZDAUidsgXrDzlbNGXSkccTInDO/iHPSaQA7Ya3qJcIeHnSk8UHiOecxEUhgKRxbzDo3M2YYRUXVYzjOWVcInIBCWIVzarlmWEVjnOTU1QWcRhyyAmdgeQPMqlmMWcYJTjtrsWp0EoVh7aYB/mi9vO4YcD+j4yiEtVprUkyD/MF6+U9A6ScUwp6wObeZBvitVfvge+COImCpHctpX5kGeKiwZsMhWw0dBuw7FMSWmgb4ua02+UsAv0bfoCD2L9MALRYa9pmt5mYeYF+gEJYx0/jYVtt40FZLnyJgKc9swP187dUDwH2EgCUDaxpcbqln1PuFV/7OLbxCH6L9hbUEbJtpgG/xV9LeAexd9B4CloD1mwb4us215Y3COnoTvQ1cECubBrhbqPvkVb6OXgNwL9pnYG11B02B215ZOSKHd/l28i7aBeRutAcZq9oxg2hIquhJX4SM15EGvsi7nnsJuO3oZQQs7eBdt3eK7plMEr4jzJO9JfMlL6WgNLw23ovkk3W2UK9t5evpBcCAJQO7jXdx7ROSRF/2bMlHc9BDAM5DC0TPK5ECbhZd2ZuFenoWbQEyGxnYrbb6jPYJMyXvvgTgHkSzUBDblCQF4gYalyW54jYIDU2INgK4CQWxJf9Omi55F86Q/RQn+ygehbBYWXvimYYJA4Vbh3s/KTTY1wP3FHoaZSED+4xYt7LT5Cmy/5dYIKehcCxWtyxe8E3sb9xy3DNTdJc9KrrpccFNTwAFLBnY9aL7eLcLxiv6pEmyX58MXAwKYae3Y/1OrGR8v+H4hvhVgse5Grg1aC1ah4JY/TFYerxwnOJfMUHWWyfKOgFLXbBNwO5g8EjUV9hGXPuI4N2RLnqalokeykDL0Uq0qgPbulZwr/jPm4wp8mWOBXIckMBSOHZKB9Y1VfLnTOevju4tbBHmpkqenDTJ61qIE+JhtBioJQhYCmJbM0R3Zq9uOEoJrIlW9ObRik7AUgh7Xyes7zpWNz9W8m+aJnjnxln06ND1xuuZeG8WfjZb9OUnS77rc0PHV+isRWHY5nTBu+ae/hxRsp46vCgQGAnkKGRgx/SAvf/OytJU2d+CbdCCPUsPtH/AOk6ERONECB5fyeFnbQc2sEB2p/Zt0/BXJw9V9CPDlEDbCCVAUfeGbf+Azbg7ti1Z8h+Zg9/RD/8vCyxllEZlCKDA0t2w43vAxnTHtsVLPiVB8izt/5NV1FMYOXCYUQLXgKWu2OgesBNDWMV/LUbWD8ca9xjwgUdzRtazAM1DxcA2Antr+B3sLWAbgS0eq/jzAM1KMK7p4/gHhfht8rs3/k0AAAAaZmNUTAAAAEEAAAArAAAAKQAAAAIAAAAHAAQAZAAAz3myWAAABXlmZEFUAAAAQmjezZhtTJVlGMf///s5xwAxZFM+kJKedL4Qh0wF23JFs0zAEp3HmlqrNluu1mpzbs4P50Nf2lxby16/qLWsKCIlEULFjbVpUY5DUFMZAidaL5NShMPzdvXhwHl5eBEQOefant3bc5499++5z/++7uv6E1MYP1Y07wTl43E8+hMh76Sars9yfbn6eN+vphJWB7JMADYAGfvRlQIe7nNZ7Y2VTS+Vl5dr0w5rQyoN4Q0DhAHCBGCNDZ4twvcWupb+cP6r5lU3ez8xxVF3rGWFZtmvaISHgrkEchSQTgjU4ISjrFCIwDOrNnu/nDZYZ/j9oh5a0erRbOtxCncSKFCQCDTjIWwQr64u8x5MCKwzTle2FGhi7VHgFgUwDB0HL0J5raAs/+2Eww7Fqa8DD2jk+wTylSAGVqAAUcTzBWXew0kBCwDV1ZfumKEPfEKRrRFYiYw33LTuL9x838Xbkg0mGsXFiweu6q1PG+DhcAYBDA5eCjND0I6IX1RSwAKAz+ezzjXlvqADR4dSXgz4mtPeFl9SyCA2amubZob6tAsEFsemOAKt55py8/x+2ipZYNevz7+hQ3ZFVjV6LV/l/WVTUsggNraW5Z01gTMGCZNDpyBhknuTSgZD8ek3resAqXNIAW4or0o22O2blp8ywAtxGw3AAK01SQcbrt6kKqrZMLRu0+tKRlhLqYAtACWm+CHvdQHArqrutD7071GQZZqg/tDGez4CKQmDNdEsGkAyplKTXAUAPew7alL8BrFNV/hgx4m2/Ylc2SxzaZsBhOJTGOeqrXVtGSb4hEPQOxJ7qtEywKvOTeYa6HPPtDWD0eUmCMxKtG4NBdIeSl1hOahrd16/ZoDiODmyHq5vT0kUqL++PcUUZhlktLABRJ0tyu3ViWD4JsMXqKX3ypJEwfb36kt0QItNXQYZVABggi1xYiYwQOQlTAK2ynPq1QBaVDgJs3lYeaaQnyhYU5N856FgCJsVABhiBxxpAobQt7Kx0T3doLsaG92G0BenVwImGFAAIESDQdpRzQIGkOP+a45v2lf1jwyfAeTErSpoD7i0BgUAF0o8HSZwPKrZMLQO7ENMWzEdbbtF7huhpj3+bomnIwJigAdGKnzzV3duny7Y31Zf3q4Dy8OpirFFzIFh9aznZMcZJShytMU9Lri8geJ5wdsJurn60jzaKkAg0+He1B8tXfTIsE7BsOkfttHAzJBYFZ66tozbBbquri1Dt1WFDmQ6tAqTtn/UhjG7pvNzCrZFXBIZsnjkvGlzQ2fp3T1TCVrybUemTuukAgrDnkHUnQH5RVWJ56lRW/FecLcBBGNOjnDqIAup0OCpasuZKtAHq9pyemE3GEBh1DOInKJBXXPvvqkjk1nTuVYJagmkOnshBfQQ2N91ff6H8NGaVGNYLlpnWseLpLyhgEzHHgGBfiVYf7rU0zAu+yijtuNR2OqYAlKdduXgeJmCt8RyHenemN03HsiVVd1phjbwrAJfV8CiuE4gOvYD8uT3JZ66CRlz6TXBIohUEsiIqdgdL5frCqyAoMZt2wGrT7sS9M3vB4B55V2pqWnWAirlhcjjirJFAbMccIN7Q0DgP01Ydr50Qf2kLM8ZJ7u8SqFaCe6KmGbD/zbn2Dv4e3q8Qxj3kc77v7toF/+8wRO4NTO5qnuO2229SeC5iKcqN508MkY+bGRw0SCHLGvG3osbs/8ZC2NiJkd1cI2m6CfkMQWJdhcjQoy66kMfJkrwHWD7rxQvPDee6SfnyJzoylOKL5PwEZg9DG6sVSf+pbAcNg7+WTK/eSLT3pp9VN+egpCrWJFrBcjTgGUE5iqIexDOoOBvDfgVlGYlbJidYlZfKVoYmsx0/wMN5mfvJKM07gAAABpmY1RMAAAAQwAAACsAAAAMAAAAAgAAAA8ABABkAACqQq/DAAABy2ZkQVQAAABEaN7Flb9rFEEYhp939k7QQhC0sbQwel4uihYRIRCIpL0IHng2VmlFUayELQOp7O1EkUsTibExqKUIGjgTA0YL/4FgYSB7s7ufxW72stff3QvDwvxgHmaeb1YMZHl1px1IjwU4s+X7zYuvGGI6nU5wslp7LrjnMAQ4yL7G55lu/YZCpeR9RZbe/Jwx0o8OXL4odamuP1yY+DJM4DA0d3Vq+0UA7T6s4QBMd+Zu1V+T9xcLIuyZF84LPODBRYHNMuSEodJjJ5JFD7v5vniER8TiaRiaK8FGV3abXlw+nOQlvCDGthlB5uen9nvYYrY/R1vtWmOrWYKNxaOBSXjc1+TbhXeMKLcXJj/F8MFLxMpPFhFLTwpnH6zvTFoSdAuxD51JdXOpeX6DEebl6o85sPdlFqjiGg4gSqvTXlC0zJnNUYMC3G3WNjzaLHTMbzlSMu0APNboD2a+xs7WGFN62NpgofVSNSoZLPXBY3epuuOCTZzrpgYy6/NI9UpWXLokK/taCYLv44KNTFsBhqQjPwiru/bbP6d6cKbsrA7+7p/7PS7Ys9HELw8HpZdJOu3+JTpe8hXwYm+lpWRcsK2WEo/2BovsP/LZyUqNvyewAAAAGmZjVEwAAABFAAAADQAAAAwAAAAFAAAACAAEAGQAABBMi7MAAAFBZmRBVAAAAEZo3n2STSuEURiGr/vxamws/QKbySTEwlYWVlNGGSULRWyUhY2NmrK0kI+yQ8LGYhpZSfIPSIMiSxtsKd5557GYDzMac+p06vRc57rPeY5oMtxdF9l8CmPMnHeCaG042fui/4Cz7G2/S9vmGhRggOA5isUSDaGT3N24OQdy2gynBqIFHwr+Ake5u4XQ2TAwCQyVIAfhFGSvddBe7n4xdNYFKp3sVYMJQFsTo4n7aryd04dpK/qugWrjlNe8ebQ0leo+p7zPZvap06xwDbRXi90rsXJR8Dk5nxz4rAiCTMbt2x4PDdrrDBJy9jvC+Gw6paj2Gtba95gO8cEQ8TuhII7fbuIz6XQ9ABAUxErV4BWTnoqxr7lMRsVGLQlC6BIqFQsMR/K55ZGej/8aH4T1r4Shy9Vk/KrZ9/oBXY1omw5NKvUAAAAaZmNUTAAAAEcAAAAgAAAAKQAAAAsAAAAFAAQAZAAAZJZ0ogAABJ5mZEFUAAAASGjexVhdbFRVEP6+ubtY/mxqJCYVGmwEhA1bfrdoNBpDFIuEtOBNwKiJJBBJfNCEF+PDPpj4QGJCJDH6QEpIUBZL25QAK5ImEuVHLG1xG40U+an1AUJCKOz2nnvv+LA/7K5tLbRcJzm5D+ec+31nZs6cmSHGKV3tXdVqwo97lj8LACxPrjNsbixbv2wQExCONnH22+4Ixdqs0BcIRAFUjrL0lgK9BE+q7+2PbVySemACqURqyo2QbhLo+wIsJxSSWyTj/+cvhH4+1Q19HbEjzrgIJBIJqyq8cCugHwtYnQekooiAFohwLNXdk0FSP7lkfv/Ktm1vVALt7RdWiI8vBVxWDFAO+F+ExnIf3+e2+o2Lz41IoKUtlaaiYkTAwlchwBCBqwJcz5GZRaBGgBnjMFWGwNsrmqIHyydCBqggAQGzP9ACIAicJbgvLDz20/lFl+Jx+sWb43GVF5f21Vq+t4bKtwjERjFVhQLf/Nza+8TKxujuEg3sa+vTshMogRYodtqNkbP349EnWlMxS70dAm4QgCOYSpX6QayxbleBwJ62Pi0sIHtCHt7b3LTw1ETu9veHep+1yC8I1GU1WmJKFeLdWGO0GQDEADAAjKI9LXeemyg4AKxuip5KP1JR75IHDYHCAGFAOj53nznUPT9LgIQBmx81CzdsW7fiLiZJGhrmDd90+jYZsDkLXEREMD0Da6/GVcQl9l/vfmaLbdPDJItt297pnsgWB9ifOz2KyKw6EU3Z3Jnsmb7j1bo7eIiSTPZMz9y1zhOYV3bN+4iA5GDrhZcE0vkAEXXy5EBr6gSJl/PxRu7vjZm4uOSnBoBb5JCBagAAmtv6ugRYmg9SEjQBB9pRiD0gQkET8ER6fQWo2dMHTmBY+asFBcngnRAAqocXXDRAJm+GwAnYNj0D3sxHxcBNAABGQPrjyqYmX+Kdf1bgtjMEwPpfnDA95CywACsfjgMnYHxZ7FMLiW3gBFxL63w//yIy2Fuw9dy5sFHahiy8BYFqwP270vazqTyIgANRPK7ikR8VMqLcCEwDv628+CaVi0hAlIWkRKJHBmY/bPCmI3/MNiq7/pWcEp2SUa+l9nh/5cMCX328v9LxpcUBqvJPcH649ONiiBiMlaw5fKVqssHXHr5SRYdJQ8bKbe+QBxJr5/8ghoBL1lNwsrajv2aywJ/v6K8Zgn/SAPX31E7k6pABxwpvz1VGOZWQEScU7p5z9Op2JNR6UOA3EmrVH7683RXpNkSkpBbIjrQBNifXzLkJAHzs6FUdoSS/SMVn6oX2Dq6rHle1tLxjcJqxht8R8EMBns5nPGX/TQO6/se1tccLxenMo9d09KaE3hawBYpjYd/v9e5alwfsOWkAmJ24NnXqNG8uRaJQXSPUDQLMHLHHoAoCtyxl45nX53aWlOcVyWsDoniytPtR0iMo/w7l5meUVr5jdlf+CtFv6Hqttrdcc5JxrCUG2GMIvVfFll6XYu81wIzsyDqUm4vrbm7eze11s3vVA/ZkvClLRgIv7ZIdGVhlCeOEviJQFiKVjtqyGev0KorvAD9+ueGp02P5zj9F+PJVVhzSogAAABpmY1RMAAAASQAAAA0AAAAJAAAAGAAAAAUABABkAAAnmz+BAAAAvWZkQVQAAABKaN5jOLPhovn///8ZGUgBp9dd+n963cV9t7fdZidRExCvvRxLtKZTUE1n1l4uRpc7tuqC9Jl1lyecWXdpyal1l4Pg3ji67vL/42svfTm99pISsgaQc4GG3YG7BIiBFhw/u/6SMcOBdZfnHVxz1RDdluPrLzsga0DC33E6+9CGq1rHgIqOA/FJiC1wjXj9e2j95UmHgM4/AsRgbwA1nCCkCQT2rr/stn/95csH1l/+DzLgMBADAOTpoMvneFgUAAAAGmZjVEwAAABLAAAADQAAAAwAAAAeAAAACAAEAGQBAGnzyCEAAAB4ZmRBVAAAAExo3u3OoQ3CUACE4f+uzENQtaQz4NiDKVAsQepKXRMGAE1SdgHxDlH/cCh+fV9y8O/H6dvgennsm+ggwCXH7W59rqJpmNuQm8EiGIqcblVDb6Uj2IAQBqvoVEWvktkyJghYMJvqvSTqx+e9gVaAs8APAjUhlh67PNsAAAAaZmNUTAAAAE0AAAATAAAAHAAAABsAAAARAAQAZAEAxHV91wAAAgZmZEFUAAAATmje7ZQ9aJNRFIaf935plUgt2bVoKREsouLP5KI4tKbiH1bQwa0FR0dxCOIiOrjo6CgqOLSVOhQJKA5CcYhIK1okpeomiNGafF/ucciPSe3fl7kHLme55+U57zn3wkZsxLKhdorMTPfHZkfkdFRmM879uj168uDvRDtid8dnriPdcGYIcD65HzjdFtmtsdkPgrQDhOHASqXOVFtkoaNLHqpiwoG0KdwSmyyb+7yZn+UiEDTIDAtLla2xyRaL5V0BBKKJTCxkh/uLscVC7/Z41YynnnkPEFssCmyv99REVM3GO2qk646R6emO0DQcSoSicSKUj00Wfese9tDTNEUEPkoEr2KRZbPmKtK1EBFC8xm/l+ktxCKbPfTpkky7JXCmuvHguRPrbZ6d/LhN3uUFqdrG18VyD4f6jtXvrUl2fGquu1ziqSC1xCsCVbLNd1cVyzwrpMrlyvNQHJa17BVIjycy6ZfrEjsyMddTxE8K+h0gtezVggUdV5bW/Cd2/okF88nCaCS76SH1r62GV4sOLr4Y2P59xc/xwMTXZBiULjt01UGfrMXoel4EO/U60zu17E+bnpy/gNmAk51z0LWkuNaWIfgRmM68GdqRW8maRBl75NQ6pWajBTjpS0L+xPTgzvxqA3P1dxbVNrqaRYQIkVXgwZ9K5763g735tdboL3R+tcS6Adb4AAAAGmZjVEwAAABPAAAAKAAAACkAAAADAAAABwAEAGQBAFnJ6ywAAAUEZmRBVAAAAFBo3s2YW2xUVRiF1/rPmdISSJ0IPFSug1EotIRbig8kNlGRUmILMgZMVKKBKBCjkfiCySSaGKPBeEkML6KihgypTa29IEo1jREJiLYpJC0FWgaMYqiGXpieOef3YWbOXCvl0nZWcjInM3Nyvqz97/3vvYibUEewI6/P1M2A7hLocgFAADLSA8qnVm4sOYDbkDmaPwWDQcPrWbjtD9h7BCwiAFEiAajIBktgBm5TNwSsq2tfYTjYZ4HLiCiUQEEiAZUGG/0OAwKtHVPAQ3UdmyKKzxxofrJDArr3hEKisP0C9BK8QsU5U+WDsscXnbtdQI70wxd1HTtF8R4BkTiMZgzncQEPiKD52Knic4EAHdxhZQXcX3f6RSreFYBZakwJ1JiKt6urFx3HGCsD8KOvzzxjOPoxAbrOxT/J3w0bz2/ZsPBnjJNSAN+v7ZovEjlFYKpbbxoteirqbHNwy/b1KwYxjnInSSCgMiydnwswNWVCkBDFJ3dbC57zV9PGOMtdtjxLO/0R6CoLROICLOLLP39b8KzfP/5w7hAHAipc1tku0OLoTHUd7JL88NLda5YMYIJkAkB4aVeVARQLmLQAK2jrttcmEM4FjBCvOOkzFjz6evWCHzDBMl9qOFNi2XhAkNauHL6JHJAZdjyrSAep3YKn9lbd911OAFrQ0sQmACAVQq1Hjsi0wMWMtbJY7UEctOUMYIRYBE1yEArTMNpzBnAYmB5fWqI1yOv9A77uXBripH2egsTVQxPUNUYATF7/CP7PHnEiJBapbt+NXjMebDmfnzOAw0DIImCR0Qs0pvTr/TkDGAE7ktyDRSBMlOSQg2zP2GIJluRODarTluIgCEvpX37ihCcnAJVotUgnWn8u6GzPX9P8406jym0NnWU7GjrLoEp3w7q48UItgKq0Q9Lpk8fnlGAMjpLZtKuxa9KAjSYC5TGGlkkG1gqiw/pO2lIDCyhesrL3yfEy76otWy2wPGkulA9G4HcXZV9Tz1FRlz4eYfSZMEvbKmaGxhJuQ2PXTNNhmwBeJm37DMVu99BkOQxkTBbQG1a7xneku3Cs4DYd6S60HamxQG/aYQ1hU79PaWtFzb0HRfEEoRBNzmL0l2GHa3sr5/TdSbh13/R4HdhNhJZlhATAwa8q529Oifb6wReGgZAFJjoLAQssE0Grr7579p2Ce6i+e/YQnFaLKIt1MCTNg5Bh5u3IGn14m3tXi+KwAAUJB9267BNwT8+1WftwizueTUE1Lk3u2S7UNwh43bgu8Z4hUaw5XOlrHTE8Kjzc8zAdqSO0IN362P1ZUey1bfPTy+uLRhWFLK+/PBlG+Gk4fFmo96YNZ7yUhgA89uM635Ebxm9TmkPlVK0lUOjmgBl1otcErBFFszhOmz1oXAj5Zw0BwMzgxYKCyfZcU7SUKo+SulGSMx8A1JTU7F9DWf1T5dyWUeWDAJDXdLHUEDSKg3tSHdRsrsZd6I8lrFOylMgIz+AS6FT8utbXNuoA01X95Wl5HvstAlsFYPLszpZPpzkcS8iyDicYzRr3F9h5r55cX/T3TSWsGWoMrTKFAYHziJsd3gA2q+vR7EcF+JZwAmcr5h27pQh4RDVcLBHhTiH8AtyV9uLsDsa/I/4RZZAOPgytmzWqk+Otnz9azufjulkh5GoBSgAsNKDTBfDEYC0CVwQ4Y1DbqWydmh9pvFA+7/rNvOY/L9Lne0Dh1moAAAAaZmNUTAAAAFEAAAAiAAAAKQAAAAIAAAAHAAQAZAEACVOYiAAABG5mZEFUAAAAUmjexZhdTFxFFMf/58xdCtiKKO0DSqtoVBahUkqkMTzw4AdtSYrVNdZE22hqNBgToyYaHvZNjUbjx0t9INYa06yhZEUoVdPW8GBsGlE2iIFCC2yIESOmLCwwe+/x4S67e7fAbgl7Pclks7tzZ35z7pnzPzOE67TBwGDeVSP2FINeZqA24wNCz9QdrDqRqZuRLUAgEFC3eCqOTsNsY+FSBsAQ2J8ArfIcAduyGT8rkO5gaDdbOBYD7bIAMNmTs1ACJBUq6Q3MCaRzQ0BOnRp8Qot8wUC+PVHK5JScPA4VYciEAqYJGCOxPql7/P6xbEBorT9PBgdbSfARA8ziXHVKu8CwThisen/s9475/WRhHbYqyPHg76+Q4EOG0DWTC4RFOhTRe80tlRewAbYiyGedQ4eJpJ2BNAgBE35TJr/oe6ziJ2ygXQPycefIncyxfga22KtP2RmC4JIxf+iF5t3z2GBzBKvfL6x5+MsEBAAmikNYn9+svc8faSETOTDHbvPUDPs0pF6DYDdAA1gifPXnr97nfL7cQDhejd8vTLuGQwzx2jsk0UaQv1jz+iM755BDS7yaxZqRAwrwMiiesAQsgLLk6Js5hnCAxAivWY4dQmDC2baWe8/DBTMAoLV7qEqb2OPImhAYFr0Nl8wAAMvy1GuSZOYUgEH97xy4+wdXQTSkmlJ1hASKpAsumgEAS6D7nDpCiFkYcB1EEyqTkm4DKaVCroIc+na8WENvTdQYILBgYXaufNRVkIhJBawoXdj++TqHWXRFkCiAvPT8kaFOyYnW6Btnr2oiSdUWDWw7fO5yvqsg5xsrIxoIawI0LYsdqb8jco+rIHYeocGEN8hui4Sq/wMklJT++Cti7HQfhGkgJT6gQYgJ+WovXvS4ChK1zD5NZNkxkgDa7vmrxOcqyNC+8nENfGPHCCWbyFvwC7sGAgAm6P20LYwYkbembuJpN0Aciav89PhZFjSmHSFnGEb1wN7bwq54BAC0Rf7UgI23Yi1mR+33o0WueQQASnsnTrLIk8kCKaFBP2+yqCm0f8dMzj0CABHQS0ugsMZy0MbjBfRAlNFX3jW63RWPAEBx70SDEpxRQIFDlW0PzSiitkuzZcewToVu6hnZFBPlI0iJR4xg9/4dY6uqbNGZ8YeURUF2wCShSHBJgT5YMI3jU82lWR1Ba7umCgvV4rNk0atM1l3x8eZA3LCm3G/uDTcqkU4Gila+khCwYFYJOoioly1rIDqvroR9ZVEA2BOYLFgsNG8HSzUJP8qwDjqOs4kxqD1j3XHD6clqAnoYuDX9ZmgFqOXvkfhvm1fsK5J+zdGeVQG0pWuqxPSY75LgiPOqQjIBYc2+NlDUIHrwuioxT0+4XrH4GXiYJRPQalCJvsKg7wwy3/ilqXxgXSVhXvdkFTFameBjwU0ZV+4E+peBgBL+9I99ZaGs7tAy2rnL+XkLxl4iaWBQlRJUMLCVAU8cSDMwzaAhRRIioT4jP9ZzpfGOhfSh/gMVwbrySbrr8QAAABpmY1RMAAAAUwAAABkAAAApAAAAAgAAAAcABABkAABi76wSAAAD82ZkQVQAAABUaN6tl19oW3UUx7/nd25qx+i2yLqHyWqpaFlqMtturnvYQxEVVwKraEAHMlEGSsUHFYbsIS8iQ1F0T/NB1MnASC2x3daqbMMJwzGpa4kdq22Xtfig4sD+W/O7+R0ffkmam9k2ae6B30O4uefD+Z7f+XMJFVoqkapZdNznBPQagPY1XxB6wSnXeSKR4B2B5iPzkj1GoO3lvkfANirnj98lR3c7BidZ0MYAGAK2DtaIAvMAImtGMvBN6llX5AsBag0JDAAjBFMEK7I5Am4J8BeASYg5seeZRyZXhSSSqZ6MwUcsUAaAgXVeArvCJKccxYNtw6FJipMp9bMi5FTyt9ddkQ+FQAYEIznHFiZZMb1M/N5j3S1XysjL3fZJ39hhh+RTBigvCQNgARzINSXmlejTkcsVJN9rH/eNP+Aod5hF6grO8/oLkhudxeej0d0LlVx7j1zxuChXXf9SgDpDOf2XZfosoEMvR7spW2ltqeIfgdYbMQ3q0CBowB4iZBSdvvlr6KVYrHKAR654XBS13RhlkZBHImBc12Za33py1zzWaQW5llrHDzIQsjIJjOSurJEj1QA8EE14s+iKwhBgIOePdu+8iCrNAYCeM2NhbbAvX8kGNtkw6l34YA4AuCbQYSC2kqVQ2cPvHHzoB98gS5CIU5Ap3zKkHz6ZjQT0sEDg6U/AiK8QTWix/Wk5Hy7zqG+QroF0UMOttzkpdNY7C/NNE75BOEsbNN/Vxv/5ep3V/b+QRQAOqCCThQnBR1N60+y/miCefgXadvjCVK1vkIudLXMamNFkm2EOxn/PSbNvkNwVThUiycFcQthXiAaN5mQqSOYq7PIVsqRopCgf9ghi7VevBnyDZEz2kiYyNicFWMPGP7fGfIOMdTWlNfBtfhLmYRmRtxEX5QsEADKg90vHrgZCe/dMHaoW4im6pnPp8yzodIrXIOB2ADry84EHZ6qOBAC0obhbnHwbVXBJanrbv5/Y7Atkuqvhx4yir7w3DdAkj2rNQ+GBdLBqiNWPXtVEtgN4o9oLJZfa+ycaqspJ3uoHb+1nwRADG3KbY/EmedshHGuevf9kuZ16xW5771D6ccdQ0oIAFkHJPvY7Qz4IZO/5/Jfo9oV1QQBgy+BMpyOmj4HNRftwKWyWhXqZzGCNoRFa4JuXYzsWy4YAQPDcdIQgZxm4r2T5LoUtH4M5Jplk0PGfuhpPlzWc6vr/2MqB7HEWedF+TuQ/JWRlkH1mlJF9FU3ATWdnOpgkzpAnlmGrR+UYObquMRs8Mx0mhR4mibFgy2owJRStapY3Xpiqnb3jHFAk+1ko7EB2skg9AwEGNJOcuP5U4xv/AaU65cQdibPpAAAAGmZjVEwAAABVAAAAGQAAACcAAAACAAAACQAEAGQAADJpvUAAAAOJZmRBVAAAAFZo3t2WS2hcZRiGn+//T0wKtiWg4iKNEK9M2tTEFuNCMbiwTRxsREfQjaAUFMGNLhQXs/KCoqgg6EK8IVKsYazSeKEpZCENhWhCFBKTknQ2XrBQc5tz+T8X58zNVJPMnJUvHGZz5n/O+36Xc4Qt6JvC9AHreMdCn1WwKBYwm/1RWQF6vM3uK3w+80Cg+qGDNofiBJwKjipMqrcvCywp/A4soO6tg/ffvPCfkGOFmSdDxxuqGAc44sOdaPwbwyY80Y88Y0f7JjMLkhf3z3Pk3wAfFH56yqq+bkEsUBuTBbXKcU/klbuGuyc2S+OSkHdHfn7EiL5XAVQPxyo/tmj0ePa+nu/ZojZA3hyZu9aYcNLCTqs1hwOeauFyb+2hbPbAKttQXU3yeTXrZvZjD3ZawIokT69Y9P3WIPNYdlgitqm6LjS9s7kQ7Q8Q4gsCwDfyyfkfMo/mctsH1MWVz6txfbPTFjIWTQoNHsxFbaXeZ+7ev0KDqsS12jt3xEAmzl+wEscUOT36bBOAOogvPG3Lc0AyByKnnh++6TRNygM4+tX8vsC52xyK0/LQKTh5kRTkAYRO+7USU9K2KpMvH7nhu/Qg0BPHVF0datwJUpKX1GOvRZKo4nqok6l0IUi3ReOOQrAKvjXTqUGGvlxsDwivdLWdJayHK13zqUH8SHYYKzVLUPDQPz9rcLovCVkFWiUpeKUmIqQo07Lrr4sBogEQCAQiBMhVd46da0sNcnqge9mHoo8QX+ALtnVZb0wNAhAYmSlv3PL2LQn7UoX4julAJIkqBkXG7E/byZQPSVRxZCXV3C1nz7ak6CQaDxBXiSx21Wl+uyKXGuTcUNdigH6x4Y0Iz5FXkwokWS2v+pJEVu20zN6DSw83C6kbuqtPLp6yyEDt69fChVZsz9RgR7FpJwCRk3yljSudRvuaRse7vp3fnYoTgPbR4qdG3YPV762yKz0TOjm8dM81F5pyAhChT/hIsW4442671RjGu07MdzbtBKBtdOl2T+VrCzvqPlFjZxc9x0tG/Nd+Gby+1JATgPVDneOBcff6hrW6nRZ33q6SkRd8uewkqtKwk8p7YLQ4YNERC7ur3VbjzEl/cWjPmYaclBUe6hgrKXf4SDGQ2gVaHdiG46rT4T1TYWB6fZG3fZGwPLAlZOzXwY6JpuPaoNHz1xmRrFX+CNzaMbZY+P+P/gZjNJnGDOT1EQAAABpmY1RMAAAAVwAAABMAAAAmAAAAAgAAAAgABABkAQCkfZTAAAACtmZkQVQAAABYaN7tlF1oT3EYxz/P7zn/mYtdSEYWeSkzMwu74I4bJMqUv+JGWZMoJa642J28lCgXSigvabI1TJJQklqrsTVqa5mQi2kXspdz5n8eF+f/Nm32P3O7b/3q/OqcT8/zPd/nEQpUY2OjliXK69XktMLCid6RQkDPWrpqXMhVhXVqoIBi6F/v6VSgpqbuPaHwKEQWhQihEB2EMF2L5J1Jdael+6galxRcVJHhMb4yhTbFbjmnTyeFXWv5cEyNiwqS9yFpqKnxwBM5v622su2fnl1++PGAGtcVRC0PhKHCe025w8ndFW+n/AHnmnuXO5fqUKwkBwE1Q42WMW9436GdNcMTFeHlXxoazI1oz23PKFHkL2/kZunYyrpkraQms8blX0bW9iQD2OCL4IvgAz6CL3L3x7uVB5PJyUHjotHQYG5k4eA9Q+YZYICJYOJ6i2aN7jhVtyCYKkbZNr/X9O7yTFYphlquxYSk6k9urR4qJNxZWGByIhV5g0raK3Mvzu4sf1XoyHkA+1v7qgKzjZlgpg3HOTtDDHkAw6FsUAEViyoz8LCOGztWPI8NCyRc4xCycRDjNzwipjwA37nVaulgZn2TzunBTCqjUZHs/AnWFRtW9fjzHJ9w3rjEC6Nzh5b1xYZ5RTI7+C25+YuiMXh/irRPCBtOz1RkfBYqTENuMFH800fMJzOL4IuUbnr5qTg2bGBz6a9A5GsABEj6oAO+lceGEVXTnd0Ukt4UplXTggVIV7ZFMutHqqdbWWeuRSEAAiO5vr09ERs2GuprXyT0hVybIov7B+bvjQPLReDpl2aQXfmr2pn0DxWPVbB56WjBlUVP7gJAKu+vjoktKfYTe2K1CcCWsjdAa+aag1IaHxYRjgP5K3oo9FLN8T3L6Mm3tWh4JIK7K2wv62BGM/o//QFuzQanlLTaOQAAABpmY1RMAAAAWQAAABQAAAAWAAAAAgAAAAgABABkAQDPl48GAAAB/2ZkQVQAAABaaN6dlL9rU2EUhp/zna/SpYOgi0UcioGmVlHuUP8ClxZUMIOToBQFQRAFB4dsDgri2EXEFikRkagVBREHQSnYUIMorYmIOAgVUdqbSJsch+ZHbzBtcl84cO/H5eE953vPFTpUJpPR/p7BcWd2VWGXtPlOOoHNZPOBqzKhcEgBBdRAMRRw3QCnsx9OOOOuGr11QLOsFb68KXAi+/G8N7ul4CIAQK3xPKvIJI5nb3PJYlvgjeynCx67qSAtABTMYw+8cT11bGh2yxmmHy2cUqq31WqwDe48zLsK584eH3zT0aVcfrg4IGo5xfoiMAOFbNktn0yPBWG7znzEWdrcD/95SqFPkTpkvYQ7C+XEmfspqWw29403TiEopEJkJEQIEUIRQoFQ5F7PXOL0VrBIy+m0ufmgmPdYsiVri2vbwoOTRw6sdJLZRsuvg+JRjyQjORPwZuPTHcIiwJJzl9ajIU13Zi+fju19RRfyAMMz34ZDKodb3Sl2jS7lAUKpjnikBmlsQu7d6MCLWMASsl/FUJMG0Is9JoZqDmVfs81akKvyPjawJAy5liA7NB8P+OTr9r/ITgDXnGG5vNJfiAf01lt/qdZqVeQnHWzF/1dvx9IS2J/IqfGFmHIEwSrmLgJrtbPfOLkSF9j8fT3/vpuqJahU5hjd8ysu8B/6h7Fbz1BUNQAAABpmY1RMAAAAWwAAABUAAAANAAAABQAAAAgABABkAQBGTvCFAAABdmZkQVQAAABcaN6tkcsrrVEYh593rfdzGVBmcimlk8gIfwIx2RNlIspIKWXCzMDEhHLSGZ2JtJXBV9KXS+r8Aaf2RAaKhHIZyOiULdvlew32pYNNmzy1Wq3eelq/3yt8QBiGviZoHQ2waW9SpxgeED7m3XkyOujy8dNvFTo8oJYVekABj6GWf2dnABjpotK56GBAsaSHCs2LctKCEPAGit14OAuQa2fxSZl3v95IJ6PDcSeyqJgrSCwnyf9KLBWYrATEOxe7bSczMxK/G39o43jCYz8VkyIxzRtr6mx+NtGSKqnTnq3TEW+25DF58ats9D2BsWTix19KQADat8+alXhXzape96YQlccVgxuJultKxGMm7vjfZkak+Q4hI8KdZO8Mbrk+3TS03l99zycQ3bnsFuyPYrltFnpcvUo1DvNqCaWgj8SdIDwg/zUsRzgd/YoQwCGyXyTAFL21ab6Io7dhE1gAHnJngb76iG8hPK8kPK/8DtUztGqCyuea2MoAAAAaZmNUTAAAAF0AAAAPAAAABgAAAAwAAAAIAAQAZAAAeXELuwAAAMFmZEFUAAAAXmjejY4xTgJRGIS/yXv7HlcQsDK21FyAxNBQk3AMD2BHY6VH8AIGjJBY2e4BoCBsAR3barbZ3d9iSTRbqF8zyZ+Z+UcAD4vtNBr3iVk3YAQg2FkxgjXq+EamW41W+3FS8RJAP42xFWwVfrrSDfybwsx56RcjoeYjyA4JlkeUeZWPq8l15kGnCigQhQB03kUKeoJ6TdrPuFNNC7E89kj0Dlw1J3sG5txcpvxB8+Z1F6EzBJ8zvtjwT74AljFC6d2II+4AAAASdEVYdFNvZnR3YXJlAGV6Z2lmLmNvbaDDs1gAAAAxdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIGV6Z2lmLmNvbSBBbmltYXRlZCBQTkcgbWFrZXKphWVeAAAAAElFTkSuQmCC";const LoadingIndicator=()=>React$1.createElement(Container$3,null,React$1.createElement("img",{src:loading})),Container$3=newStyled.div`
  height: 24px;
  width: 24px;
  img {
    height: 100%;
  }
`;newStyled.div`
  display: flex;
  justify-content: space-between;
  border-bottom: 0.03938rem solid #282f45;
  height: 3.625rem;
  align-items: center;
`;newStyled.div`
  box-sizing: border-box;
  position: relative;
  height: 38.18px;
  background-color: #3d4665;
  display: flex;
  transition: all ease-in 0.2s;
  border-radius: 25px;
  align-items: center;
  padding-left: 10px;
  padding-right: 10px;
  width: 100%;
  border: 1px solid transparent;
  &:focus-within {
    background-color: black;
    border: 1px solid #18d2ff;
  }
  svg {
    fill: #bac4e2;
  }
`;newStyled.input`
background-color: transparent;
border: none;
outline: none;
color: #bac4e2;
height: 100%;
width: 100%;
font-family: "inter";
letter-spacing: .2px;
}
`;newStyled.button`
  height: 100%;
  width: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  outline: none;
  border: none;
`;newStyled.div`
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 100%;
`;var __defProp=Object.defineProperty,__defNormalProp=(i,o,s)=>o in i?__defProp(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField=(i,o,s)=>(__defNormalProp(i,typeof o!="symbol"?o+"":o,s),s),__defProp2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp2=(i,o,s)=>o in i?__defProp2(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__spreadValues=(i,o)=>{for(var s in o||(o={}))__hasOwnProp.call(o,s)&&__defNormalProp2(i,s,o[s]);if(__getOwnPropSymbols)for(var s of __getOwnPropSymbols(o))__propIsEnum.call(o,s)&&__defNormalProp2(i,s,o[s]);return i},__spreadProps=(i,o)=>__defProps(i,__getOwnPropDescs(o)),__publicField2=(i,o,s)=>(__defNormalProp2(i,typeof o!="symbol"?o+"":o,s),s);const millisecond=1,second=1e3,minute=60*second,hour=60*minute,day=24*hour,week=7*day,month=30*day,year=365*day,duration={millisecond,second,minute,hour,day,week,month,year};class H264Decoder{constructor(o,s,_){__publicField2(this,"worker"),__publicField2(this,"onReceive"),__publicField2(this,"onError"),__publicField2(this,"onReceiveMessage",_e=>{const{data:et}=_e;if(et.error){const j=new Error(`${et.error}`);j.cause=et.error,console.warn("H264 worker failure",{error:j}),this.onError(et.index);return}this.onReceive(et)});var $;this.worker=o,($=this.worker)==null||$.addEventListener("message",this.onReceiveMessage),this.onReceive=s,this.onError=_}post(o,s,_,$){var _e;(_e=this.worker)==null||_e.postMessage({timestamp:o,encodedFrame:s,flags:_,index:$})}release(){var o,s;(o=this.worker)==null||o.removeEventListener("message",this.onReceiveMessage),(s=this.worker)==null||s.terminate(),this.worker=void 0}}class YUVCanvas{constructor(o){__publicField2(this,"gl"),__publicField2(this,"program"),__publicField2(this,"texturePosBuffer"),__publicField2(this,"textureRef"),__publicField2(this,"height",0),__publicField2(this,"width",0),this.gl=o,this.program=this.initProgram();const{texturePosBuffer:s}=this.initBuffers();this.texturePosBuffer=s;const{textureRef:_}=this.initTextures();this.textureRef=_}draw(o){const{gl:s,height:_,width:$,texturePosBuffer:_e,textureRef:et}=this;s.viewport(0,0,$,_);const j=new Float32Array([1,0,0,0,1,1,0,1]);return s.bindBuffer(s.ARRAY_BUFFER,_e),s.bufferData(s.ARRAY_BUFFER,j,s.DYNAMIC_DRAW),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,et),s.texImage2D(s.TEXTURE_2D,0,s.LUMINANCE,$,_+_/2,0,s.LUMINANCE,s.UNSIGNED_BYTE,o),s.drawArrays(s.TRIANGLE_STRIP,0,4),s.getError()}initProgram(){const{gl:o}=this,s=`
            attribute vec4 vertexPos;
            attribute vec4 texturePos;
            varying vec2 textureCoord;

            void main() {
                gl_Position = vertexPos;
                textureCoord = texturePos.xy;
            }
        `,_=`
            precision highp float;
            varying highp vec2 textureCoord;
            uniform sampler2D yuvSampler;
            uniform mat4 YUV2RGB;

            void main(void) {
                highp vec2 yScale = vec2(1.0, 2.0 / 3.0);
                highp vec2 yTextureCoord = textureCoord * yScale;

                highp vec2 uScale = vec2(0.5, 0.5 / 3.0);
                highp vec2 uOffset = vec2(0.0, 2.0 / 3.0);
                highp vec2 uTextureCoord = (textureCoord * uScale) +  uOffset;

                highp vec2 vScale = vec2(0.5, 0.5 / 3.0);
                highp vec2 vOffset = vec2(0.0, 2.5 / 3.0);
                highp vec2 vTextureCoord = (textureCoord * vScale) +  vOffset;

                highp float y = texture2D(yuvSampler, yTextureCoord).r;
                highp float u = texture2D(yuvSampler, uTextureCoord).r;
                highp float v = texture2D(yuvSampler, vTextureCoord).r;

                gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;
            }
        `,$=[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1],_e=o.createShader(o.VERTEX_SHADER);if(!_e)throw new Error("Failed to create vertex shader");o.shaderSource(_e,s),o.compileShader(_e);const et=o.createShader(o.FRAGMENT_SHADER);if(!et)throw new Error("Failed to create fragment shader");o.shaderSource(et,_),o.compileShader(et);const j=o.createProgram();if(!j)throw new Error("Failed to create webgl program");o.attachShader(j,_e),o.attachShader(j,et),o.linkProgram(j),o.useProgram(j);const nt=o.getUniformLocation(j,"YUV2RGB");return o.uniformMatrix4fv(nt,!1,$),j}initBuffers(){const{gl:o,program:s}=this,_=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,_),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),o.STATIC_DRAW);const $=o.getAttribLocation(s,"vertexPos");o.enableVertexAttribArray($),o.vertexAttribPointer($,2,o.FLOAT,!1,0,0);const _e=o.createBuffer();if(!_e)throw new Error("Failed to create WebGL buffer");o.bindBuffer(o.ARRAY_BUFFER,_e),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),o.STATIC_DRAW);const et=o.getAttribLocation(s,"texturePos");return o.enableVertexAttribArray(et),o.vertexAttribPointer(et,2,o.FLOAT,!1,0,0),{texturePosBuffer:_e}}initTextures(){const{gl:o,program:s}=this,_=this.initTexture(),$=o.getUniformLocation(s,"yuvSampler");return o.uniform1i($,0),{textureRef:_}}initTexture(){const{gl:o}=this,s=o.createTexture();if(!s)throw new Error("Failed to initialize texture");return o.bindTexture(o.TEXTURE_2D,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.bindTexture(o.TEXTURE_2D,null),s}}const decoderNotWorkingThreshold=duration.second*2.5,warnPerformanceThreshold=duration.second/3,noSignalThreshold=duration.second*2,maxQueueSize=5,maxDropRatio=30/25,numRetries=5,hardwareIncompatibleErrorCode=1282;class H264BytestreamCanvasDrawer{constructor(o,s,_,$,_e){__publicField2(this,"_waitingForDecoder",!0),__publicField2(this,"_noSignal",!0),__publicField2(this,"_lostSignal",!1),__publicField2(this,"_overWaitingThreshold",!1),__publicField2(this,"_retries",0),__publicField2(this,"_webglYUVSupported"),__publicField2(this,"lastDecodedFrameTime"),__publicField2(this,"lastReceivedFrameTime"),__publicField2(this,"lastNoSignalTime",new Date().getTime()),__publicField2(this,"moduleStartTime",Date.now()),__publicField2(this,"moduleCreateTime",Date.now()),__publicField2(this,"timesRestarted",0),__publicField2(this,"canvas"),__publicField2(this,"decoder"),__publicField2(this,"yuvCanvas"),__publicField2(this,"webglContext"),__publicField2(this,"frameQueue",[]),__publicField2(this,"minFrameSize",1/0),__publicField2(this,"maxFrameSize",0),__publicField2(this,"decoderQueue",[]),__publicField2(this,"decoderQueueLocked",!1),__publicField2(this,"decodeNextFrameAttempted",!1),__publicField2(this,"numFramesDecoded",0),__publicField2(this,"numFramesReceived",0),__publicField2(this,"hasReceivedKeyframe",!1),__publicField2(this,"medianFrameSize",0),__publicField2(this,"currentFrameIndex"),__publicField2(this,"frameCheckpointMap",new Map),__publicField2(this,"lastDrawnFrameTime"),__publicField2(this,"minJitter"),__publicField2(this,"maxJitter"),__publicField2(this,"start",()=>{const{canvas:et}=this;if(!et)return;const j=et.getContext("webgl");this.webglContext=j||void 0,this.lastDecodedFrameTime=void 0,this.lastReceivedFrameTime=void 0,this.hasReceivedKeyframe=!1,this.currentFrameIndex=void 0,!(!this.canvas||!this.webglContext)&&(this.yuvCanvas||(this.yuvCanvas=new YUVCanvas(this.webglContext)),this.moduleStartTime=Date.now())}),__publicField2(this,"stop",()=>{var et;(et=this.decoder)==null||et.release(),this.webglContext=void 0,this.decoderQueueLocked=!1}),__publicField2(this,"reset",()=>{this.retries=0,this.restart()}),__publicField2(this,"notifyWarningTextChanged",()=>{var et;(et=this.onWarningTextChanged)==null||et.call(this,this.getWarningText())}),__publicField2(this,"restart",()=>{console.info("Restarting decoder"),console.info("BytestreamPlayer restarting",__spreadProps(__spreadValues({},this.trackInfo),{Restart:this.timesRestarted})),this.frameQueue=[],this.decoderQueue=[],this.stop(),this.decoder=new H264Decoder(this.workerFactory(),this.onReceiveDecodedFrame,this.onDecoderError),this.start(),this.retries++,this.timesRestarted++}),__publicField2(this,"onTrackTick",()=>{if(this.numFramesDecoded===0){if(this.lastDecodedFrameTime===void 0){const ct=Date.now();console.info("BytestreamPlayer waiting for video",__spreadProps(__spreadValues({},this.trackInfo),{"Time Waited":ct-this.moduleCreateTime}))}return}this.numFramesReceived/this.numFramesDecoded>maxDropRatio&&this.warnPerformanceProblems(),this.numFramesReceived=0,this.numFramesDecoded=0;const j=Array.from(this.frameCheckpointMap.entries()).reduce((ct,[gt,pt])=>{var ft;return!this.currentFrameIndex||gt>this.currentFrameIndex-60||pt==="FrameDrawn"||(ct[pt]=((ft=ct[pt])!=null?ft:0)+1,this.frameCheckpointMap.delete(gt)),ct},{});Object.keys(j).map(ct=>{console.info("BytestreamPlayer Frame Dropped",__spreadProps(__spreadValues({},this.trackInfo),{"Num Dropped":j[ct],"Frame State":ct}))});const{minJitter:nt,maxJitter:ot}=this;nt&&ot&&(console.info("BytestreamPlayer Jitter",__spreadProps(__spreadValues({},this.trackInfo),{minJitter:nt,maxJitter:ot})),this.minJitter=void 0,this.maxJitter=void 0)}),__publicField2(this,"onTick",()=>{var et;const{lastReceivedFrameTime:j,lastDecodedFrameTime:nt,moduleStartTime:ot,noSignal:ct,retries:gt}=this,pt=new Date().getTime();ct&&(this.lastNoSignalTime=pt),this.overWaitingThreshold=pt-ot>noSignalThreshold;const ft=pt-ot>decoderNotWorkingThreshold;if(!nt){j&&ft&&gt<numRetries&&(this.waitingForDecoder=!0,this.restart());return}if(j){const ut=pt-j,yt=pt-nt;pt-this.lastNoSignalTime>noSignalThreshold&&ut<warnPerformanceThreshold&&yt>warnPerformanceThreshold&&this.warnPerformanceProblems(),ut>noSignalThreshold&&(this.lostSignal=!0)}this.overWaitingThreshold&&(this.waitingForDecoder||this.noSignal||this.lostSignal)&&((et=this.onCanvasDrawerWarning)==null||et.call(this,"ShouldDisableControl"))}),__publicField2(this,"receiveEncodedFrame",et=>{if(!et)return;const j=et.index;if(j&&this.frameCheckpointMap.set(j,"FrameReceived"),!(!et||!this.canvas||!this.webglContext)){if(this.isKeyframe(et),!this.hasReceivedKeyframe)return console.info("Dropping frame because no keyframe detected"),!1;this.lastReceivedFrameTime===void 0&&console.debug("Received first frame on bytestream player",__spreadValues({},this.trackInfo)),this.checkOrder(et),this.numFramesReceived++,this.lastReceivedFrameTime=Date.now(),this.lostSignal&&this.restart(),this.noSignal=!1,this.lostSignal=!1,this.frameQueue.push(et),j&&this.frameCheckpointMap.set(j,"FrameQueued"),this.frameQueue.length>maxQueueSize&&(this.frameQueue=this.frameQueue.filter(nt=>this.isKeyframe(nt))),this.frameQueue.length>maxQueueSize&&(this.frameQueue=[],this.decoderQueue=[]),this.decodeNextFrame()}}),__publicField2(this,"onDecoderError",et=>{this.frameQueue=[],this.decoderQueue=[],this.hasReceivedKeyframe=!1,console.info("BytestreamPlayer decode error",__spreadProps(__spreadValues({},this.trackInfo),{"Frame Index":et}))}),__publicField2(this,"onReceiveDecodedFrame",et=>{var j,nt;const{canvas:ot,yuvCanvas:ct,decoderQueue:gt}=this,{timestamp:pt,yuv:ft,height:ut,width:yt,index:wt}=et;this.frameCheckpointMap.set(wt,"FrameDecoded"),this.numFramesDecoded++;const Qt=Date.now();if(this.lastDecodedFrameTime===void 0&&console.info("BytestreamPlayer started video",__spreadProps(__spreadValues({},this.trackInfo),{"Time Until Video":Qt-this.moduleCreateTime})),this.lastDecodedFrameTime=Qt,this.waitingForDecoder=!1,this.decoderQueue=gt.filter(Tt=>Qt-Tt<duration.second*.5&&Tt!==pt),!gt.includes(pt)||Qt-pt>duration.second||!ct||!ot||ut===0||yt===0)return;ut!==ot.height&&(ot.height=ut,ct.height=ut),yt!==ot.width&&(ot.width=yt,ct.width=yt);const It=ct.draw(ft),xt=Date.now();if(this.lastDrawnFrameTime){const Tt=xt-this.lastDrawnFrameTime;this.minJitter=Math.min(Tt,(j=this.minJitter)!=null?j:Number.MAX_SAFE_INTEGER),this.maxJitter=Math.max(Tt,(nt=this.maxJitter)!=null?nt:0)}this.lastDrawnFrameTime=xt,this.frameCheckpointMap.set(wt,"FrameDrawn"),It===0&&(this.webglYUVSupported=!0),It===hardwareIncompatibleErrorCode&&(this.webglYUVSupported=!1),this.frameQueue.length>0&&this.decodeNextFrame()}),this.workerFactory=o,this.onWebglYUVSupportedChanged=s,this.onWarningTextChanged=_,this.onCanvasDrawerWarning=$,this.trackInfo=_e,this.decoder=new H264Decoder(this.workerFactory(),this.onReceiveDecodedFrame,this.onDecoderError),setInterval(this.onTick,duration.millisecond*200),setInterval(this.onTrackTick,duration.second*5)}get waitingForDecoder(){return this._waitingForDecoder}set waitingForDecoder(o){this._waitingForDecoder=o,this.notifyWarningTextChanged()}get noSignal(){return this._noSignal}set noSignal(o){this._noSignal=o,this.notifyWarningTextChanged()}get lostSignal(){return this._lostSignal}set lostSignal(o){this._lostSignal=o,this.notifyWarningTextChanged()}get overWaitingThreshold(){return this._overWaitingThreshold}set overWaitingThreshold(o){this._overWaitingThreshold=o,this.notifyWarningTextChanged()}get retries(){return this._retries}set retries(o){this._retries=o,this.notifyWarningTextChanged()}get webglYUVSupported(){return this._webglYUVSupported}set webglYUVSupported(o){var s;this._webglYUVSupported=o,(s=this.onWebglYUVSupportedChanged)==null||s.call(this,o),this.notifyWarningTextChanged()}setCanvas(o){this.canvas=o}getWarningText(){var o;const{waitingForDecoder:s,noSignal:_,overWaitingThreshold:$,lostSignal:_e,retries:et,webglYUVSupported:j}=this,nt=j===!1,ct=s?et===numRetries?"Decoder failed to start":"Starting decoder":void 0,gt=nt?"Hardware decoding not supported on this device":void 0;return(o=gt??(_e?"Lost signal":_?$?"No signal":"Waiting for signal":void 0))!=null?o:ct}decodeNextFrame(){if(this.decoderQueueLocked&&(this.decodeNextFrameAttempted=!0),this.decoderQueueLocked=!0,this.decoderQueue.length>maxQueueSize){this.decoderQueueLocked=!1,this.decodeNextFrameAttempted=!1;return}const o=this.frameQueue.shift();if(!o){this.decoderQueueLocked=!1,this.decodeNextFrameAttempted=!1;return}const s=Date.now();this.frameCheckpointMap.set(o.index,"FrameSentToDecoder"),this.decoder.post(s,o.frame_data,o.flags,o.index),this.decoderQueue.push(s),this.decoderQueueLocked=!1,this.decodeNextFrameAttempted&&(this.decodeNextFrameAttempted=!1,this.decodeNextFrame())}warnPerformanceProblems(){var o;this.lastDecodedFrameTime&&this.overWaitingThreshold&&!this.lostSignal&&!this.noSignal&&((o=this.onCanvasDrawerWarning)==null||o.call(this,"ShouldDegradeVideo"))}checkOrder(o){if(this.currentFrameIndex!==void 0&&o.index<this.currentFrameIndex){console.info("Out of order frame detected"),console.info("Frame out of order",__spreadValues({},this.trackInfo));return}this.currentFrameIndex=o.index}isKeyframe(o){const{maxFrameSize:s,minFrameSize:_}=this;if(o.flags===3)return this.hasReceivedKeyframe||(this.frameCheckpointMap=new Map),this.hasReceivedKeyframe=!0,!0;const $=o.frame_data.length;return this.maxFrameSize=Math.max($,s),this.minFrameSize=Math.min($,_),this.medianFrameSize=(this.maxFrameSize+this.minFrameSize)/2,this.moduleStartTime+duration.second*2>Date.now()?!1:$>this.medianFrameSize?(this.hasReceivedKeyframe=!0,!0):!1}}const encodedJs="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiOyhmdW5jdGlvbihTKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShTKTpTKCl9KShmdW5jdGlvbigpe2NvbnN0IEo9e21pbGxpc2Vjb25kOjEsc2Vjb25kOjFlMyxtaW51dGU6NmU0LGhvdXI6MzZlNSxkYXk6ODY0ZTUsd2Vlazo2MDQ4ZTUsbW9udGg6MjU5MmU2LHllYXI6MzE1MzZlNn07dmFyIHk9e30sRj17fSxhPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBHPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7ZnVuY3Rpb24gaChBKXtsZXQgST1BLmxlbmd0aDtBW0EubGVuZ3RoLTJdPT09Ij0iP0ktPTI6QVtBLmxlbmd0aC0xXT09PSI9IiYmSS0tO2NvbnN0IGc9SS80KjN8MCxCPW5ldyBVaW50OEFycmF5KGcpO2ZvcihsZXQgUT0wLEM9MDtRPGc7USs9Myl7Y29uc3QgRD1HLmluZGV4T2YoQVtDKytdKSxFPUcuaW5kZXhPZihBW0MrK10pO2lmKEJbUV09RDw8MnxFPj40LEM9PT1JKWJyZWFrO2NvbnN0IHc9Ry5pbmRleE9mKEFbQysrXXx8Ij0iKTtpZihCW1ErMV09KEUmMTUpPDw0fHc+PjIsQz09PUkpYnJlYWs7Y29uc3Qgbz1HLmluZGV4T2YoQVtDKytdfHwiPSIpO0JbUSsyXT0odyYzKTw8NnxvfXJldHVybiBCfWEuZGVjb2RlPWgsT2JqZWN0LmRlZmluZVByb3BlcnR5KEYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IEw9IkFHRnpiUUVBQUFBQmx3RVRZQUovZndGL1lBUi9mMzkvQVg5Z0FuOS9BR0FEZjM5L0FYOWdBWDhBWUFsL2YzOS9mMzkvZjM4QVlBRi9BWDlnQkg5L2YzOEFZQVovZjM5L2YzOEJmMkFJZjM5L2YzOS9mMzhBWUFOL2YzOEFZQVYvZjM5L2Z3Ri9ZQUFBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQ245L2YzOS9mMzkvZjM4QVlBQUJmMkFIZjM5L2YzOS9md0YvWUFoL2YzOS9mMzkvZndGL0FqQURCR2d5TmpRR2JXVnRZM0I1QUFNRWFESTJOQVp5WlhOcGVtVUFCZ1JvTWpZMEJtMWxiVzl5ZVFJQmdBS0FnQUlEWTJJQUFBUUFBUU1LQVFZQUJRTUZCZ2NBQndZQUF3NERCd2NGQWdBQ0F3UUFCUVVGQlFvRUFnUUpBUWNBQXdZR0FnSUJCZ1FEQWdJQkN3RUJBd01MRFFJQkFBQUNDUWtKRHdJRkJRQUJDZ0FTQ3hFSUNBY0lDQWNFQVFRSUNBWUJFQWdBQVFZSkFYOEJRYkRFd0FJTEJ5WUVCbTFoYkd4dll3QUtDV2d5TmpSaGJHeHZZd0JnQm1SbFkyOWtaUUJoQkdsdWFYUUFZZ3IycFFWaXdBSUJBbjhnQUJBUElnSkJmMHdFUUNBQVFRRVFDeG9nQVVFQU5nSUFRUUFQQ3dKQUFrQWdBa0dBZ0lDQUJFOEVRQ0FBUVFNUUMwRi9SZ1JBUVFFUEN5QUJJQUpCSFhaQkFYRkJBV28yQWdBTUFRc2dBa0dBZ0lDQUFrOEVRQ0FBUVFVUUMwRi9SZ1JBUVFFUEN5QUJJQUpCRzNaQkEzRkJBMm8yQWdBTUFRc2dBa0dBZ0lDQUFVOEVRQ0FBUVFjUUMwRi9SZ1JBUVFFUEN5QUJJQUpCR1haQkIzRkJCMm8yQWdBTUFRc2dBaEF2SWdOQkJHb2lBa0VnUmdSQUlBRkJBRFlDQUNBQVFTQVFDeHBCQVNFQ0lBQkJBUkFEUVFGSERRSWdBQkFQSVFNZ0FFRWdFQXRCZjBZTkFpQURRUUZMRFFJZ0EwRUJhd1JBSUFGQmZ6WUNBQXdDQ3lBQlFYODJBZ0JCQVE4TElBQWdBMEVGYWhBTEdpQUFJQUlRQXlJQVFYOUdCRUJCQVE4TElBRWdBRUYvSUFKMFFYOXphallDQUF0QkFDRUNDeUFDQzRnQ0FRZC9JQUFvQWdRaEJBSkFJQUFvQWd4QkEzUWlCeUFBS0FJUUlnaHJJZ0pCSUU0RVFDQUVLQUFBSWdOQkdIUWdBMEVJZEVHQWdQd0hjWElnQTBFSWRrR0EvZ054SUFOQkdIWnljaUVESUFBb0FnZ2lBa1VOQVNBRElBSjBJQVF0QUFSQkNDQUNhM1p5SVFNTUFRc2dBa0VCU0FSQURBRUxJQVF0QUFBZ0FDZ0NDQ0lGUVJocUlnWjBJUU1nQWlBRmFrRjRhaUlDUVFGSURRQURRQ0FFTFFBQklBWkJlR29pQm5RZ0EzSWhBeUFDUVFoS0lRVWdCRUVCYWlFRUlBSkJlR29oQWlBRkRRQUxDeUFBSUFFZ0NHb2lCRFlDRUNBQUlBUkJCM0UyQWdoQmZ5RUNJQVFnQjAwRWZ5QUFJQUFvQWdBZ0JFRURkbW8yQWdRZ0EwRWdJQUZyZGdWQmZ3c0xxZzBCQjM4Q1FDQUFSUTBBSUFCQmVHb2lBeUFBUVh4cUtBSUFJZ0ZCZUhFaUFHb2hCUUpBSUFGQkFYRU5BQ0FCUVFOeFJRMEJJQU1nQXlnQ0FDSUNheUlEUWNUQUFDZ0NBQ0lFU1EwQklBQWdBbW9oQUNBRFFjakFBQ2dDQUVjRVFDQUNRZjhCVFFSQUlBTW9BZ2dpQkNBQ1FRTjJJZ0pCQTNSQjNNQUFha2NhSUFRZ0F5Z0NEQ0lCUmdSQVFiVEFBRUcwd0FBb0FnQkJmaUFDZDNFMkFnQU1Bd3NnQkNBQk5nSU1JQUVnQkRZQ0NBd0NDeUFES0FJWUlRWUNRQ0FESUFNb0Fnd2lBVWNFUUNBRUlBTW9BZ2dpQWswRVFDQUNLQUlNR2dzZ0FpQUJOZ0lNSUFFZ0FqWUNDQXdCQ3dKQUlBTkJGR29pQWlnQ0FDSUVEUUFnQTBFUWFpSUNLQUlBSWdRTkFFRUFJUUVNQVFzRFFDQUNJUWNnQkNJQlFSUnFJZ0lvQWdBaUJBMEFJQUZCRUdvaEFpQUJLQUlRSWdRTkFBc2dCMEVBTmdJQUN5QUdSUTBCQWtBZ0F5QURLQUljSWdKQkFuUkI1TUlBYWlJRUtBSUFSZ1JBSUFRZ0FUWUNBQ0FCRFFGQnVNQUFRYmpBQUNnQ0FFRitJQUozY1RZQ0FBd0RDeUFHUVJCQkZDQUdLQUlRSUFOR0cyb2dBVFlDQUNBQlJRMENDeUFCSUFZMkFoZ2dBeWdDRUNJQ0JFQWdBU0FDTmdJUUlBSWdBVFlDR0FzZ0F5Z0NGQ0lDUlEwQklBRWdBallDRkNBQ0lBRTJBaGdNQVFzZ0JTZ0NCQ0lCUVFOeFFRTkhEUUJCdk1BQUlBQTJBZ0FnQlNBQlFYNXhOZ0lFSUFNZ0FFRUJjallDQkNBQUlBTnFJQUEyQWdBUEN5QUZJQU5ORFFBZ0JTZ0NCQ0lCUVFGeFJRMEFBa0FnQVVFQ2NVVUVRQ0FGUWN6QUFDZ0NBRVlFUUVITXdBQWdBellDQUVIQXdBQkJ3TUFBS0FJQUlBQnFJZ0EyQWdBZ0F5QUFRUUZ5TmdJRUlBTkJ5TUFBS0FJQVJ3MERRYnpBQUVFQU5nSUFRY2pBQUVFQU5nSUFEd3NnQlVISXdBQW9BZ0JHQkVCQnlNQUFJQU0yQWdCQnZNQUFRYnpBQUNnQ0FDQUFhaUlBTmdJQUlBTWdBRUVCY2pZQ0JDQUFJQU5xSUFBMkFnQVBDeUFCUVhoeElBQnFJUUFDUUNBQlFmOEJUUVJBSUFVb0Fnd2hBaUFGS0FJSUlnUWdBVUVEZGlJQlFRTjBRZHpBQUdvaUIwY0VRRUhFd0FBb0FnQWFDeUFDSUFSR0JFQkJ0TUFBUWJUQUFDZ0NBRUYrSUFGM2NUWUNBQXdDQ3lBQ0lBZEhCRUJCeE1BQUtBSUFHZ3NnQkNBQ05nSU1JQUlnQkRZQ0NBd0JDeUFGS0FJWUlRWUNRQ0FGSUFVb0Fnd2lBVWNFUUVIRXdBQW9BZ0FnQlNnQ0NDSUNUUVJBSUFJb0Fnd2FDeUFDSUFFMkFnd2dBU0FDTmdJSURBRUxBa0FnQlVFVWFpSUNLQUlBSWdRTkFDQUZRUkJxSWdJb0FnQWlCQTBBUVFBaEFRd0JDd05BSUFJaEJ5QUVJZ0ZCRkdvaUFpZ0NBQ0lFRFFBZ0FVRVFhaUVDSUFFb0FoQWlCQTBBQ3lBSFFRQTJBZ0FMSUFaRkRRQUNRQ0FGSUFVb0Fod2lBa0VDZEVIa3dnQnFJZ1FvQWdCR0JFQWdCQ0FCTmdJQUlBRU5BVUc0d0FCQnVNQUFLQUlBUVg0Z0FuZHhOZ0lBREFJTElBWkJFRUVVSUFZb0FoQWdCVVliYWlBQk5nSUFJQUZGRFFFTElBRWdCallDR0NBRktBSVFJZ0lFUUNBQklBSTJBaEFnQWlBQk5nSVlDeUFGS0FJVUlnSkZEUUFnQVNBQ05nSVVJQUlnQVRZQ0dBc2dBeUFBUVFGeU5nSUVJQUFnQTJvZ0FEWUNBQ0FEUWNqQUFDZ0NBRWNOQVVHOHdBQWdBRFlDQUE4TElBVWdBVUYrY1RZQ0JDQURJQUJCQVhJMkFnUWdBQ0FEYWlBQU5nSUFDeUFBUWY4QlRRUkFJQUJCQTNZaUFVRURkRUhjd0FCcUlRQUNmMEcwd0FBb0FnQWlBa0VCSUFGMElnRnhSUVJBUWJUQUFDQUJJQUp5TmdJQUlBQU1BUXNnQUNnQ0NBc2hBaUFBSUFNMkFnZ2dBaUFETmdJTUlBTWdBRFlDRENBRElBSTJBZ2dQQ3lBRFFnQTNBaEFnQXdKL1FRQWdBRUVJZGlJQlJRMEFHa0VmSUFCQi8vLy9CMHNOQUJvZ0FTQUJRWUQrUDJwQkVIWkJDSEVpQVhRaUFpQUNRWURnSDJwQkVIWkJCSEVpQW5RaUJDQUVRWUNBRDJwQkVIWkJBbkVpQkhSQkQzWWdBU0FDY2lBRWNtc2lBVUVCZENBQUlBRkJGV3AyUVFGeGNrRWNhZ3NpQWpZQ0hDQUNRUUowUWVUQ0FHb2hBUUpBQWtBQ1FFRzR3QUFvQWdBaUJFRUJJQUowSWdkeFJRUkFRYmpBQUNBRUlBZHlOZ0lBSUFFZ0F6WUNBQ0FESUFFMkFoZ01BUXNnQUVFQVFSa2dBa0VCZG1zZ0FrRWZSaHQwSVFJZ0FTZ0NBQ0VCQTBBZ0FTSUVLQUlFUVhoeElBQkdEUUlnQWtFZGRpRUJJQUpCQVhRaEFpQUVJQUZCQkhGcUlnZEJFR29vQWdBaUFRMEFDeUFISUFNMkFoQWdBeUFFTmdJWUN5QURJQU0yQWd3Z0F5QUROZ0lJREFFTElBUW9BZ2dpQUNBRE5nSU1JQVFnQXpZQ0NDQURRUUEyQWhnZ0F5QUVOZ0lNSUFNZ0FEWUNDQXRCMU1BQVFkVEFBQ2dDQUVGL2FpSUFOZ0lBSUFBTkFFSDh3d0FoQXdOQUlBTW9BZ0FpQUVFSWFpRURJQUFOQUF0QjFNQUFRWDgyQWdBTEMzUUJBbjhqQUVFUWF5SUNKQUFnQWtFQU5nSU1JQUFnQWtFTWFoQUNJUUFDZnlBQ0tBSU1JZ05CZjBZRVFFRUJJQUJGRFFFYUlBRkJnSUNBZ0hnMkFnQkJBQXdCQzBFQklBQU5BQm9nQVNBRFFRRnFRUUYySWdGQkFDQUJheUFEUVFGeEd6WUNBRUVBQ3lFQUlBSkJFR29rQUNBQUM4Y0xBUlIvSUFGQm9EMXFMUUFBUVF4c0lnWkIxRHhxS0FJQUlRVWdCa0hRUEdvb0FnQWdBVUdRUEdvdEFBQWlCM1FoQkNBQ1JRUkFJQUFnQUNnQ0FDQUViRFlDQUFzZ0JTQUhkQ0VCQWtBQ1FDQURRWnovQTNFRVFDQUFJQVpCMkR4cUtBSUFJQWQwSWdNZ0FDZ0NQR3cyQWp3Z0FDQUFLQUk0SUFGc05nSTRRUUVoQWlBQUlBQW9BaXdnQkd3aUJ5QUFLQUlNSUFSc0lnVnFJZ2tnQUNnQ0lDQUJiQ0lLSUFBb0FqUWdBV3dpRDBFQmRXb2lFR3NpQmpZQ0xDQUFLQUlvSVFnZ0FDQUZJQWRySWdVZ0NrRUJkU0FQYXlJS2F5SUhOZ0lvSUFBb0FpUWhEaUFBSUFVZ0Ntb2lCVFlDSkNBQUlBQW9BaHdnQVd3aUR5QUFLQUlJSUFGc0lndHFJaE1nQUNnQ0VDQURiQ0lSSUFBb0FqQWdBMndpREVFQmRXb2lGV3NpQ2pZQ0hDQUFLQUlZSVEwZ0FDQUxJQTlySWdzZ0VVRUJkU0FNYXlJUmF5SVBOZ0lZSUFBb0FoUWhEQ0FBSUFzZ0VXb2lDellDRkNBQUlBUWdER3dpQkNBQUtBSUFJZ3hxSWhRZ0FDZ0NCQ0FCYkNJU0lBRWdEV3dpRFVFQmRXb2lGbXNpRVRZQ0RDQUFJQXdnQkdzaUJDQVNRUUYxSUExcklnMXJJZ3cyQWdnZ0FDQUVJQTFxSWcwMkFnUWdBQ0FCSUE1c0lnUWdBQ2dDT0NJT2F5SVNJQU1nQ0d3aUNFRUJkU0FBS0FJOEloZHJJZ05ySWdFMkFqZ2dBQ0FESUJKcUlnTTJBalFnQUNBRUlBNXFJZzRnRjBFQmRTQUlhaUlJYXlJRU5nSThJQUFnRkNBV2FpSVVJQWtnRUdvaUVHdEJJR29pRWlBSUlBNXFJZ2tnRXlBVmFpSUlRUUYxSWc1cmFrRUdkU0lUTmdJZ0lBQWdFaUFPSUFscmFrRUdkU0lPTmdJUUlBQWdFQ0FVYWtFZ2FpSVFJQWxCQVhVZ0NHb2lDV3RCQm5VaUNEWUNNQ0FBSUFrZ0VHcEJCblVpQ1RZQ0FDQUpRWUFFYWlBT1FZQUVhbkpCL3dkTERRSWdDRUdBQkdvZ0UwR0FCR3B5UWY4SFN3MENJQUFnQlNBTmFrRWdhaUlKSUFOQkFYVWdDMm9pRUd0QkJuVWlDRFlDTkNBQUlBMGdCV3RCSUdvaUJTQURJQXRCQVhVaUMydHFRUVoxSWcwMkFpUWdBQ0FGSUFzZ0EydHFRUVoxSWdNMkFoUWdBQ0FKSUJCcVFRWjFJZ1UyQWdRZ0JVR0FCR29nQTBHQUJHcHlRZjhIU3cwQ0lBaEJnQVJxSUExQmdBUnFja0gvQjBzTkFpQUFJQWNnREdwQklHb2lBeUFCUVFGMUlBOXFJZ1ZyUVFaMUlnczJBamdnQUNBTUlBZHJRU0JxSWdjZ0FTQVBRUUYxSWc5cmFrRUdkU0lNTmdJb0lBQWdCeUFQSUFGcmFrRUdkU0lCTmdJWUlBQWdBeUFGYWtFR2RTSUROZ0lJSUFOQmdBUnFJQUZCZ0FScWNrSC9CMHNOQWlBTFFZQUVhaUFNUVlBRWFuSkIvd2RMRFFJZ0FDQUdJQkZxUVNCcUlnRWdCRUVCZFNBS2FpSURhMEVHZFNJSE5nSThJQUFnRVNBR2EwRWdhaUlHSUFRZ0NrRUJkU0lGYTJwQkJuVWlDallDTENBQUlBWWdCU0FFYTJwQkJuVWlCRFlDSENBQUlBRWdBMnBCQm5VaUFEWUNEQ0FBUVlBRWFpQUVRWUFFYW5KQi93ZExEUUlnQjBHQUJHb2dDa0dBQkdweVFmOEhUUTBCREFJTElBTkI0Z0J4UlFSQVFRRWhBaUFBS0FJQVFTQnFRUVoxSWdGQmdBUnFRZjhIU3cwQ0lBQWdBVFlDT0NBQUlBRTJBandnQUNBQk5nSTBJQUFnQVRZQ01DQUFJQUUyQWl3Z0FDQUJOZ0lvSUFBZ0FUWUNKQ0FBSUFFMkFpQWdBQ0FCTmdJY0lBQWdBVFlDR0NBQUlBRTJBaFFnQUNBQk5nSVFJQUFnQVRZQ0RDQUFJQUUyQWdnZ0FDQUJOZ0lFSUFBZ0FUWUNBQXdCQzBFQklRSWdBQ0FBS0FJRUlBRnNJZ2NnQUNnQ0dDQUJiQ0lHUVFGMWFpSURJQUFvQWdBaUJTQUFLQUlVSUFSc0lnUnFJZ3BxUVNCcVFRWjFJZ0UyQWpBZ0FDQUtJQU5yUVNCcVFRWjFJZ00yQWd3Z0FDQUZJQVJySWdVZ0JpQUhRUUYxSWdkcmFrRWdha0VHZFNJRU5nSUlJQUFnQnlBR2F5QUZha0VnYWtFR2RTSUdOZ0lFSUFBZ0FUWUNBQ0FBSUFFMkFpQWdBQ0FHTmdJMElBQWdBVFlDRUNBQUlBWTJBaVFnQUNBRU5nSTRJQUFnQmpZQ0ZDQUFJQVEyQWlnZ0FDQUROZ0k4SUFBZ0JEWUNHQ0FBSUFNMkFpd2dBQ0FETmdJY0lBTkJnQVJxSUFGQmdBUnFJQVJCZ0FScUlBWkJnQVJxY25KeVFmOEhTdzBCQzBFQUlRSUxJQUlMOHdJQ0FuOEJmZ0pBSUFKRkRRQWdBQ0FDYWlJRFFYOXFJQUU2QUFBZ0FDQUJPZ0FBSUFKQkEwa05BQ0FEUVg1cUlBRTZBQUFnQUNBQk9nQUJJQU5CZldvZ0FUb0FBQ0FBSUFFNkFBSWdBa0VIU1EwQUlBTkJmR29nQVRvQUFDQUFJQUU2QUFNZ0FrRUpTUTBBSUFCQkFDQUFhMEVEY1NJRWFpSURJQUZCL3dGeFFZR0NoQWhzSWdFMkFnQWdBeUFDSUFSclFYeHhJZ1JxSWdKQmZHb2dBVFlDQUNBRVFRbEpEUUFnQXlBQk5nSUlJQU1nQVRZQ0JDQUNRWGhxSUFFMkFnQWdBa0YwYWlBQk5nSUFJQVJCR1VrTkFDQURJQUUyQWhnZ0F5QUJOZ0lVSUFNZ0FUWUNFQ0FESUFFMkFnd2dBa0Z3YWlBQk5nSUFJQUpCYkdvZ0FUWUNBQ0FDUVdocUlBRTJBZ0FnQWtGa2FpQUJOZ0lBSUFRZ0EwRUVjVUVZY2lJRWF5SUNRU0JKRFFBZ0FhMGlCVUlnaGlBRmhDRUZJQU1nQkdvaEFRTkFJQUVnQlRjREdDQUJJQVUzQXhBZ0FTQUZOd01JSUFFZ0JUY0RBQ0FCUVNCcUlRRWdBa0ZnYWlJQ1FSOUxEUUFMQ3lBQUMvSURBUU4vSUFFb0FnQWlBMEgvLy84SFJ3UkFJQUVvQWdRaEJDQUFJQUlnQWtFRGNTQUNRUkJKSWdJYlFRSjBJZ1ZCOENscUtBSUFRUkJCQ0NBQ0d5SUNiR29nQlVHd0tXb29BZ0JxSWdBZ0F5QUFMUUFBYWtHd0xtb3RBQUE2QUFBZ0FTZ0NDQ0VESUFBZ0JDQUFMUUFCYWtHd0xtb3RBQUE2QUFFZ0FTZ0NEQ0VFSUFBZ0F5QUFMUUFDYWtHd0xtb3RBQUE2QUFJZ0FDQUVJQUF0QUFOcVFiQXVhaTBBQURvQUF5QUJLQUlVSVFNZ0FDQUNhaUlBSUFFb0FoQWdBQzBBQUdwQnNDNXFMUUFBT2dBQUlBRW9BaGdoQkNBQUlBTWdBQzBBQVdwQnNDNXFMUUFBT2dBQklBRW9BaHdoQXlBQUlBUWdBQzBBQW1wQnNDNXFMUUFBT2dBQ0lBQWdBeUFBTFFBRGFrR3dMbW90QUFBNkFBTWdBU2dDSkNFRElBQWdBbW9pQUNBQktBSWdJQUF0QUFCcVFiQXVhaTBBQURvQUFDQUJLQUlvSVFRZ0FDQURJQUF0QUFGcVFiQXVhaTBBQURvQUFTQUJLQUlzSVFNZ0FDQUVJQUF0QUFKcVFiQXVhaTBBQURvQUFpQUFJQU1nQUMwQUEycEJzQzVxTFFBQU9nQURJQUVvQWpRaEF5QUFJQUpxSWdBZ0FTZ0NNQ0FBTFFBQWFrR3dMbW90QUFBNkFBQWdBU2dDT0NFQ0lBQWdBeUFBTFFBQmFrR3dMbW90QUFBNkFBRWdBU2dDUENFQklBQWdBaUFBTFFBQ2FrR3dMbW90QUFBNkFBSWdBQ0FCSUFBdEFBTnFRYkF1YWkwQUFEb0FBd3NMMHhBQkRIOGpBRUdBQVdzaUNpUUFJQUFRRHlFRVFRRWhCUUpBQWtBQ2Z5QUNRUUZOQkVBZ0JFRUFTQTBDSUFSQkdYWkIvZ0J4UVlBSWFpQUVRWUNBZ09BQVR3MEJHaUFFUVJWMlFmNFBjVUhBQ0dvZ0JFR0FnSUFJVHcwQkdpQUVRUkYyUWY3L0FYRkJrQWxxSUFSQmdJQ0FBVThOQVJvZ0JFRVFka0VCZEVHUUNtb01BUXNnQWtFRFRRUkFJQVJCZjB3RVFFRUNRYUlRSUFSQmdJQ0FnQVJ4R3lFRkRBTUxJQVJCR1haQi9nQnhRZEFLYWlBRVFZQ0FnSUFCVHcwQkdpQUVRUloyUWY0SGNVR1FDMm9nQkVHQWdJQVFUdzBCR2lBRVFSRjJRZjcvQVhGQjBBdHFEQUVMSUFKQkIwMEVRQ0FFUVJwMklnSkJlR3BCT0VrRVFDQUNRUUYwUWRBTmFnd0NDeUFFUVJWMlFmNFBjVUhRRG1vTUFRc2dCRUVaZGtIK0FIRkIwQkJxSUFKQkVFME5BQm9nQkVFZGRpSUNCRUFnQWtFQmRFSFFFV29NQVFzZ0JFRVhka0grQTNGQjRCRnFDeThCQUNJRkRRQkJBU0VMREFFTFFRRWhDeUFGUVF0Mklna2dBMHNOQUVFZ0lBVkJIM0VpQm1zaEFnSkFJQWxGQkVBTUFRc2dCQ0FHZENFRUFrQWdCVUVGZGtFL2NTSU1SUVJBREFFTElBSWdERWtFUUNBQUlBWVFDMEYvUmcwRElBQVFEeUVFUVNBaEFnc2dCQ0FNZENFR1FRRWdERUYvYW5RaEJ5QUVRU0FnREd0MklRUURRQ0FLUVVCcklBaEJBblJxUVg5QkFTQUVJQWR4R3pZQ0FDQUlRUUZxSVFnZ0IwRUJkaUlIRFFBTElBSWdER3NoQWlBR0lRUUxJQWdnQ1VrRVFDQU1RUU5KSWc4Z0JVSC9yd0ZMY1NFRkEwQWdBa0VQVFFSQUlBQkJJQ0FDYXhBTFFYOUdCRUFNQlFzZ0FCQVBJUVJCSUNFQ0MwRUFJUVlDUUFKQUFuOENRQ0FFUVFCSURRQkJBU0VHSUFSQi8vLy8vd05MRFFCQkFpRUdJQVJCLy8vLy93RkxEUUJCQXlFR0lBUkIvLy8vL3dCTERRQkJCQ0VHSUFSQi8vLy9QMHNOQUVFRklRWWdCRUgvLy84ZlN3MEFRUVloQmlBRVFmLy8vdzlMRFFCQkJ5RUdJQVJCLy8vL0Iwc05BRUVJSVFZZ0JFSC8vLzhEU3cwQVFRa2hCaUFFUWYvLy93RkxEUUJCQ2lFR0lBUkIvLy8vQUVzTkFFRUxJUVlnQkVILy96OUxEUUJCRENFR0lBUkIvLzhmU3cwQVFRMGhCaUFFUWYvL0Qwc05BQUovQWtBZ0JFSC8vd2ROQkVBZ0JFR0FnSHh4UVlDQUJFWU5BUXdLQ3lBRlFRUWdCUnNoQmlBRVFROTBJUVJCRGlFSElBSkJjV29NQVFzZ0JVRUJJQVViSVFVZ0JFRVFkQ0VFUVF3aEJrRVBJUWNnQWtGd2Fnc2hBaUFISUFWMElRY2dCVVVNQVFzZ0JpQUZkQ0VIUVFFaERpQUNJQVpCQVdvaUJtc2hBaUFFSUFaMElRUWdCVVVOQVNBRklRWkJBQXNoRGlBQ0lBWlBCSDhnQkFVZ0FFRWdJQUpyRUF0QmYwWUVRQXdIQzBFZ0lRSWdBQkFQQ3lFTklBSWdCbXNoQWlBTklBWjBJUVFnRFVFZ0lBWnJkaUFIYWlFSERBRUxRUUFoQlFzZ0NrRkFheUFJUVFKMGFrRUFJQWRCQW1vZ0J5QUlJQXhHR3lBSElBOGJJZzFCQW1wQkFYWWlCbXNnQmlBTlFRRnhHellDQUVFQklBVWdEaHNpQlNBRlFRWkpJQVpCQXlBRlFYOXFkRXB4YWlFRklBaEJBV29pQ0NBSlJ3MEFDd3RCQUNFSEFrQWdDU0FEVHdSQVFRQWhDQXdCQ3dKQUlBSkJDRXNFUUNBQ0lRVU1BUXRCSUNFRklBQkJJQ0FDYXhBTFFYOUdEUU1nQUJBUElRUUxBa0FDUUFKL0FrQWdBMEVFUndSQUlBbEJmMm9pQWtFTlN3MERBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQWdBa0VCYXc0TkFBRUNBd1FGQmdjSUNRb0xEQTRMSUFSQkduWkI0QkpxREE0TElBUkJHblpCb0JOcURBMExJQVJCRzNaQjRCTnFEQXdMSUFSQkczWkJnQlJxREFzTElBUkJHblpCb0JScURBb0xJQVJCR25aQjRCUnFEQWtMSUFSQkduWkJvQlZxREFnTElBUkJHblpCNEJWcURBY0xJQVJCRzNaQm9CWnFEQVlMSUFSQkhIWkJ3QlpxREFVTElBUkJISFpCMEJacURBUUxJQVJCSFhaQjRCWnFEQU1MSUFSQkhuWkI2QlpxREFJTElBUkJBRWdFUUVFQklRSU1CQXRCRVNFQ0lBbEJBMFlOQTBFU0lRSWdCRUgvLy8vL0Ewc05BMEVpSVFJZ0NVRUNSZzBEUVNOQk15QUVRZi8vLy84QlN4c2hBZ3dEQ3lBRVFSdDJRYUFTYWlBRVFSZDJRY0FTYWlBRVFmLy8vLzhBU3hzTExRQUFJZ0lOQVF3RUMwRVJRUUVnQkVFQVNCc2hBZ3NnQWtFRWRpRUlJQVVnQWtFUGNTSURheUVDSUFRZ0EzUWhCQXNnQ1VGL2FpSURCRUFEUUFKL0lBZ0VRQ0FDUVFwTkJFQWdBRUVnSUFKckVBdEJmMFlFUUF3SEN5QUFFQThoQkVFZ0lRSUxBa0FDZndKQUlBaEJmMm9pQlVFRlRRUkFBa0FDUUFKQUFrQUNRQ0FGUVFGckRnVUFBUUlEQkFZTElBUkJIblpCN2hacURBWUxJQVJCSG5aQjhoWnFEQVVMSUFSQkhYWkI5aFpxREFRTElBUkJIWFpCL2hacURBTUxJQVJCSFhaQmhoZHFEQUlMQW45Qjh3QWdCRUVaZGtId0FIRnJJQVJCZ0lDQWdBSlBEUUFhUWZRQUlBUkIvLy8vL3dCTERRQWFRWVVCSUFSQi8vLy9QMHNOQUJwQmxnRWdCRUgvLy84ZlN3MEFHa0duQVNBRVFmLy8vdzlMRFFBYVFiZ0JJQVJCLy8vL0Iwc05BQnBCeVFFZ0JFSC8vLzhEU3cwQUdrSGFBU0FFUWYvLy93RkxEUUFhUVFCQjZ3RWdCRUdBZ0lBQlNSc0xJZ1ZCQkhZZ0NFME5BZ3dJQ3lBRVFSOTJRZXdXYWdzdEFBQWhCUXNnQlVVRVFBd0dDeUFLSUFkQkFuUnFJQVZCQkhZaUJrRUJhallDQUNBQ0lBVkJEM0VpQldzaEFpQUVJQVYwSVFRZ0NDQUdhd3dCQ3lBS0lBZEJBblJxUVFFMkFnQkJBQXNoQ0NBSFFRRnFJZ2NnQTBjTkFBc2dBU0FJUVFKMGFpQUtRVUJySUFOQkFuUnFLQUlBTmdJQUlBbEJmbW9oQlVFQklBaDBJUWNEUUNBQklBb2dCU0lEUVFKMElnVnFLQUlBSUFocUlnaEJBblJxSUFwQlFHc2dCV29vQWdBMkFnQWdBMEYvYWlFRlFRRWdDSFFnQjNJaEJ5QUREUUFMREFFTElBRWdDRUVDZEdvZ0NrRkFheUFEUVFKMGFpZ0NBRFlDQUVFQklBaDBJUWNMSUFCQklDQUNheEFMRFFBZ0IwRVFkQ0FKUVFSMGNpRUxDeUFLUVlBQmFpUUFJQXNMelM0QkMzOGpBRUVRYXlJTEpBQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFCQjlBRk5CRUJCdE1BQUtBSUFJZ1pCRUNBQVFRdHFRWGh4SUFCQkMwa2JJZ1ZCQTNZaUFIWWlBVUVEY1FSQUlBRkJmM05CQVhFZ0FHb2lBa0VEZENJRVFlVEFBR29vQWdBaUFVRUlhaUVBQWtBZ0FTZ0NDQ0lESUFSQjNNQUFhaUlFUmdSQVFiVEFBQ0FHUVg0Z0FuZHhOZ0lBREFFTFFjVEFBQ2dDQUJvZ0F5QUVOZ0lNSUFRZ0F6WUNDQXNnQVNBQ1FRTjBJZ0pCQTNJMkFnUWdBU0FDYWlJQklBRW9BZ1JCQVhJMkFnUU1EQXNnQlVHOHdBQW9BZ0FpQ0UwTkFTQUJCRUFDUUVFQ0lBQjBJZ0pCQUNBQ2EzSWdBU0FBZEhFaUFFRUFJQUJyY1VGL2FpSUFJQUJCREhaQkVIRWlBSFlpQVVFRmRrRUljU0lDSUFCeUlBRWdBbllpQUVFQ2RrRUVjU0lCY2lBQUlBRjJJZ0JCQVhaQkFuRWlBWElnQUNBQmRpSUFRUUYyUVFGeElnRnlJQUFnQVhacUlnSkJBM1FpQTBIa3dBQnFLQUlBSWdFb0FnZ2lBQ0FEUWR6QUFHb2lBMFlFUUVHMHdBQWdCa0YrSUFKM2NTSUdOZ0lBREFFTFFjVEFBQ2dDQUJvZ0FDQUROZ0lNSUFNZ0FEWUNDQXNnQVVFSWFpRUFJQUVnQlVFRGNqWUNCQ0FCSUFWcUlnY2dBa0VEZENJQ0lBVnJJZ05CQVhJMkFnUWdBU0FDYWlBRE5nSUFJQWdFUUNBSVFRTjJJZ1JCQTNSQjNNQUFhaUVCUWNqQUFDZ0NBQ0VDQW44Z0JrRUJJQVIwSWdSeFJRUkFRYlRBQUNBRUlBWnlOZ0lBSUFFTUFRc2dBU2dDQ0FzaEJDQUJJQUkyQWdnZ0JDQUNOZ0lNSUFJZ0FUWUNEQ0FDSUFRMkFnZ0xRY2pBQUNBSE5nSUFRYnpBQUNBRE5nSUFEQXdMUWJqQUFDZ0NBQ0lLUlEwQklBcEJBQ0FLYTNGQmYyb2lBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQWlBQWNpQUJJQUoySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhrd2dCcUtBSUFJZ0VvQWdSQmVIRWdCV3NoQXlBQklRSURRQUpBSUFJb0FoQWlBRVVFUUNBQ0tBSVVJZ0JGRFFFTElBQW9BZ1JCZUhFZ0JXc2lBaUFESUFJZ0Ewa2lBaHNoQXlBQUlBRWdBaHNoQVNBQUlRSU1BUXNMSUFFb0FoZ2hDU0FCSUFFb0Fnd2lCRWNFUUVIRXdBQW9BZ0FnQVNnQ0NDSUFUUVJBSUFBb0Fnd2FDeUFBSUFRMkFnd2dCQ0FBTmdJSURBc0xJQUZCRkdvaUFpZ0NBQ0lBUlFSQUlBRW9BaEFpQUVVTkF5QUJRUkJxSVFJTEEwQWdBaUVISUFBaUJFRVVhaUlDS0FJQUlnQU5BQ0FFUVJCcUlRSWdCQ2dDRUNJQURRQUxJQWRCQURZQ0FBd0tDMEYvSVFVZ0FFRy9mMHNOQUNBQVFRdHFJZ0JCZUhFaEJVRzR3QUFvQWdBaUIwVU5BRUVBSUFWcklRSUNRQUpBQWtBQ2YwRUFJQUJCQ0hZaUFFVU5BQnBCSHlBRlFmLy8vd2RMRFFBYUlBQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnTWdBMEdBZ0E5cVFSQjJRUUp4SWdOMFFROTJJQUFnQVhJZ0EzSnJJZ0JCQVhRZ0JTQUFRUlZxZGtFQmNYSkJIR29MSWdoQkFuUkI1TUlBYWlnQ0FDSURSUVJBUVFBaEFBd0JDeUFGUVFCQkdTQUlRUUYyYXlBSVFSOUdHM1FoQVVFQUlRQURRQUpBSUFNb0FnUkJlSEVnQldzaUJpQUNUdzBBSUFNaEJDQUdJZ0lOQUVFQUlRSWdBeUVBREFNTElBQWdBeWdDRkNJR0lBWWdBeUFCUVIxMlFRUnhhaWdDRUNJRFJoc2dBQ0FHR3lFQUlBRWdBMEVBUjNRaEFTQUREUUFMQ3lBQUlBUnlSUVJBUVFJZ0NIUWlBRUVBSUFCcmNpQUhjU0lBUlEwRElBQkJBQ0FBYTNGQmYyb2lBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQXlBQWNpQUJJQU4ySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhrd2dCcUtBSUFJUUFMSUFCRkRRRUxBMEFnQUNnQ0JFRjRjU0FGYXlJRElBSkpJUUVnQXlBQ0lBRWJJUUlnQUNBRUlBRWJJUVFnQUNnQ0VDSUJCSDhnQVFVZ0FDZ0NGQXNpQUEwQUN3c2dCRVVOQUNBQ1FiekFBQ2dDQUNBRmEwOE5BQ0FFS0FJWUlRZ2dCQ0FFS0FJTUlnRkhCRUJCeE1BQUtBSUFJQVFvQWdnaUFFMEVRQ0FBS0FJTUdnc2dBQ0FCTmdJTUlBRWdBRFlDQ0F3SkN5QUVRUlJxSWdNb0FnQWlBRVVFUUNBRUtBSVFJZ0JGRFFNZ0JFRVFhaUVEQ3dOQUlBTWhCaUFBSWdGQkZHb2lBeWdDQUNJQURRQWdBVUVRYWlFRElBRW9BaEFpQUEwQUN5QUdRUUEyQWdBTUNBdEJ2TUFBS0FJQUlnRWdCVThFUUVISXdBQW9BZ0FoQUFKQUlBRWdCV3NpQWtFUVR3UkFRYnpBQUNBQ05nSUFRY2pBQUNBQUlBVnFJZ00yQWdBZ0F5QUNRUUZ5TmdJRUlBQWdBV29nQWpZQ0FDQUFJQVZCQTNJMkFnUU1BUXRCeU1BQVFRQTJBZ0JCdk1BQVFRQTJBZ0FnQUNBQlFRTnlOZ0lFSUFBZ0FXb2lBU0FCS0FJRVFRRnlOZ0lFQ3lBQVFRaHFJUUFNQ2d0QndNQUFLQUlBSWdFZ0JVc0VRRUhBd0FBZ0FTQUZheUlCTmdJQVFjekFBRUhNd0FBb0FnQWlBQ0FGYWlJQ05nSUFJQUlnQVVFQmNqWUNCQ0FBSUFWQkEzSTJBZ1FnQUVFSWFpRUFEQW9MUVFBaEFDQUZRUzlxSWdRQ2YwR014QUFvQWdBRVFFR1V4QUFvQWdBTUFRdEJtTVFBUW44M0FnQkJrTVFBUW9DZ2dJQ0FnQVEzQWdCQmpNUUFJQXRCREdwQmNIRkIyS3JWcWdWek5nSUFRYURFQUVFQU5nSUFRZkREQUVFQU5nSUFRWUFnQ3lJQ2FpSUdRUUFnQW1zaUIzRWlBaUFGVFEwSlFlekRBQ2dDQUNJREJFQkI1TU1BS0FJQUlnZ2dBbW9pQ1NBSVRRMEtJQWtnQTBzTkNndEI4TU1BTFFBQVFRUnhEUVFDUUFKQVFjekFBQ2dDQUNJREJFQkI5TU1BSVFBRFFDQUFLQUlBSWdnZ0EwMEVRQ0FJSUFBb0FnUnFJQU5MRFFNTElBQW9BZ2dpQUEwQUN3dEJBQkFUSWdGQmYwWU5CU0FDSVFaQmtNUUFLQUlBSWdCQmYyb2lBeUFCY1FSQUlBSWdBV3NnQVNBRGFrRUFJQUJyY1dvaEJnc2dCaUFGVFEwRklBWkIvdi8vL3dkTERRVkI3TU1BS0FJQUlnQUVRRUhrd3dBb0FnQWlBeUFHYWlJSElBTk5EUVlnQnlBQVN3MEdDeUFHRUJNaUFDQUJSdzBCREFjTElBWWdBV3NnQjNFaUJrSCsvLy8vQjBzTkJDQUdFQk1pQVNBQUtBSUFJQUFvQWdScVJnMERJQUVoQUFzQ1FDQUZRVEJxSUFaTkRRQWdBRUYvUmcwQVFaVEVBQ2dDQUNJQklBUWdCbXRxUVFBZ0FXdHhJZ0ZCL3YvLy93ZExCRUFnQUNFQkRBY0xJQUVRRTBGL1J3UkFJQUVnQm1vaEJpQUFJUUVNQnd0QkFDQUdheEFUR2d3RUN5QUFJZ0ZCZjBjTkJRd0RDMEVBSVFRTUJ3dEJBQ0VCREFVTElBRkJmMGNOQWd0QjhNTUFRZkREQUNnQ0FFRUVjallDQUFzZ0FrSCsvLy8vQjBzTkFTQUNFQk1pQVVFQUVCTWlBRThOQVNBQlFYOUdEUUVnQUVGL1JnMEJJQUFnQVdzaUJpQUZRU2hxVFEwQkMwSGt3d0JCNU1NQUtBSUFJQVpxSWdBMkFnQWdBRUhvd3dBb0FnQkxCRUJCNk1NQUlBQTJBZ0FMQWtBQ1FBSkFRY3pBQUNnQ0FDSURCRUJCOU1NQUlRQURRQ0FCSUFBb0FnQWlBaUFBS0FJRUlnUnFSZzBDSUFBb0FnZ2lBQTBBQ3d3Q0MwSEV3QUFvQWdBaUFFRUFJQUVnQUU4YlJRUkFRY1RBQUNBQk5nSUFDMEVBSVFCQitNTUFJQVkyQWdCQjlNTUFJQUUyQWdCQjFNQUFRWDgyQWdCQjJNQUFRWXpFQUNnQ0FEWUNBRUdBeEFCQkFEWUNBQU5BSUFCQkEzUWlBa0hrd0FCcUlBSkIzTUFBYWlJRE5nSUFJQUpCNk1BQWFpQUROZ0lBSUFCQkFXb2lBRUVnUncwQUMwSEF3QUFnQmtGWWFpSUFRWGdnQVd0QkIzRkJBQ0FCUVFocVFRZHhHeUlDYXlJRE5nSUFRY3pBQUNBQklBSnFJZ0kyQWdBZ0FpQURRUUZ5TmdJRUlBQWdBV3BCS0RZQ0JFSFF3QUJCbk1RQUtBSUFOZ0lBREFJTElBQXRBQXhCQ0hFTkFDQUJJQU5ORFFBZ0FpQURTdzBBSUFBZ0JDQUdhallDQkVITXdBQWdBMEY0SUFOclFRZHhRUUFnQTBFSWFrRUhjUnNpQUdvaUFUWUNBRUhBd0FCQndNQUFLQUlBSUFacUlnSWdBR3NpQURZQ0FDQUJJQUJCQVhJMkFnUWdBaUFEYWtFb05nSUVRZERBQUVHY3hBQW9BZ0EyQWdBTUFRc2dBVUhFd0FBb0FnQWlCRWtFUUVIRXdBQWdBVFlDQUNBQklRUUxJQUVnQm1vaEFrSDB3d0FoQUFKQUFrQUNRQUpBQWtBQ1FBTkFJQUlnQUNnQ0FFY0VRQ0FBS0FJSUlnQU5BUXdDQ3dzZ0FDMEFERUVJY1VVTkFRdEI5TU1BSVFBRFFDQUFLQUlBSWdJZ0EwMEVRQ0FDSUFBb0FnUnFJZ1FnQTBzTkF3c2dBQ2dDQ0NFQURBQUFDd0FMSUFBZ0FUWUNBQ0FBSUFBb0FnUWdCbW8yQWdRZ0FVRjRJQUZyUVFkeFFRQWdBVUVJYWtFSGNSdHFJZ2tnQlVFRGNqWUNCQ0FDUVhnZ0FtdEJCM0ZCQUNBQ1FRaHFRUWR4RzJvaUFTQUpheUFGYXlFQUlBVWdDV29oQnlBQklBTkdCRUJCek1BQUlBYzJBZ0JCd01BQVFjREFBQ2dDQUNBQWFpSUFOZ0lBSUFjZ0FFRUJjallDQkF3REN5QUJRY2pBQUNnQ0FFWUVRRUhJd0FBZ0J6WUNBRUc4d0FCQnZNQUFLQUlBSUFCcUlnQTJBZ0FnQnlBQVFRRnlOZ0lFSUFBZ0Iyb2dBRFlDQUF3REN5QUJLQUlFSWdKQkEzRkJBVVlFUUNBQ1FYaHhJUW9DUUNBQ1FmOEJUUVJBSUFFb0FnZ2lBeUFDUVFOMklnUkJBM1JCM01BQWFrY2FJQU1nQVNnQ0RDSUNSZ1JBUWJUQUFFRzB3QUFvQWdCQmZpQUVkM0UyQWdBTUFnc2dBeUFDTmdJTUlBSWdBellDQ0F3QkN5QUJLQUlZSVFnQ1FDQUJJQUVvQWd3aUJrY0VRQ0FFSUFFb0FnZ2lBazBFUUNBQ0tBSU1HZ3NnQWlBR05nSU1JQVlnQWpZQ0NBd0JDd0pBSUFGQkZHb2lBeWdDQUNJRkRRQWdBVUVRYWlJREtBSUFJZ1VOQUVFQUlRWU1BUXNEUUNBRElRSWdCU0lHUVJScUlnTW9BZ0FpQlEwQUlBWkJFR29oQXlBR0tBSVFJZ1VOQUFzZ0FrRUFOZ0lBQ3lBSVJRMEFBa0FnQVNBQktBSWNJZ0pCQW5SQjVNSUFhaUlES0FJQVJnUkFJQU1nQmpZQ0FDQUdEUUZCdU1BQVFiakFBQ2dDQUVGK0lBSjNjVFlDQUF3Q0N5QUlRUkJCRkNBSUtBSVFJQUZHRzJvZ0JqWUNBQ0FHUlEwQkN5QUdJQWcyQWhnZ0FTZ0NFQ0lDQkVBZ0JpQUNOZ0lRSUFJZ0JqWUNHQXNnQVNnQ0ZDSUNSUTBBSUFZZ0FqWUNGQ0FDSUFZMkFoZ0xJQUVnQ21vaEFTQUFJQXBxSVFBTElBRWdBU2dDQkVGK2NUWUNCQ0FISUFCQkFYSTJBZ1FnQUNBSGFpQUFOZ0lBSUFCQi93Rk5CRUFnQUVFRGRpSUJRUU4wUWR6QUFHb2hBQUovUWJUQUFDZ0NBQ0lDUVFFZ0FYUWlBWEZGQkVCQnRNQUFJQUVnQW5JMkFnQWdBQXdCQ3lBQUtBSUlDeUVCSUFBZ0J6WUNDQ0FCSUFjMkFnd2dCeUFBTmdJTUlBY2dBVFlDQ0F3REN5QUhBbjlCQUNBQVFRaDJJZ0ZGRFFBYVFSOGdBRUgvLy84SFN3MEFHaUFCSUFGQmdQNC9ha0VRZGtFSWNTSUJkQ0lDSUFKQmdPQWZha0VRZGtFRWNTSUNkQ0lESUFOQmdJQVBha0VRZGtFQ2NTSURkRUVQZGlBQklBSnlJQU55YXlJQlFRRjBJQUFnQVVFVmFuWkJBWEZ5UVJ4cUN5SUJOZ0ljSUFkQ0FEY0NFQ0FCUVFKMFFlVENBR29oQWdKQVFiakFBQ2dDQUNJRFFRRWdBWFFpQkhGRkJFQkJ1TUFBSUFNZ0JISTJBZ0FnQWlBSE5nSUFEQUVMSUFCQkFFRVpJQUZCQVhacklBRkJIMFliZENFRElBSW9BZ0FoQVFOQUlBRWlBaWdDQkVGNGNTQUFSZzBESUFOQkhYWWhBU0FEUVFGMElRTWdBaUFCUVFSeGFpSUVLQUlRSWdFTkFBc2dCQ0FITmdJUUN5QUhJQUkyQWhnZ0J5QUhOZ0lNSUFjZ0J6WUNDQXdDQzBIQXdBQWdCa0ZZYWlJQVFYZ2dBV3RCQjNGQkFDQUJRUWhxUVFkeEd5SUNheUlITmdJQVFjekFBQ0FCSUFKcUlnSTJBZ0FnQWlBSFFRRnlOZ0lFSUFBZ0FXcEJLRFlDQkVIUXdBQkJuTVFBS0FJQU5nSUFJQU1nQkVFbklBUnJRUWR4UVFBZ0JFRlpha0VIY1J0cVFWRnFJZ0FnQUNBRFFSQnFTUnNpQWtFYk5nSUVJQUpCL01NQUtRSUFOd0lRSUFKQjlNTUFLUUlBTndJSVFmekRBQ0FDUVFocU5nSUFRZmpEQUNBR05nSUFRZlREQUNBQk5nSUFRWURFQUVFQU5nSUFJQUpCR0dvaEFBTkFJQUJCQnpZQ0JDQUFRUWhxSVFFZ0FFRUVhaUVBSUFRZ0FVc05BQXNnQWlBRFJnMERJQUlnQWlnQ0JFRitjVFlDQkNBRElBSWdBMnNpQkVFQmNqWUNCQ0FDSUFRMkFnQWdCRUgvQVUwRVFDQUVRUU4ySWdGQkEzUkIzTUFBYWlFQUFuOUJ0TUFBS0FJQUlnSkJBU0FCZENJQmNVVUVRRUcwd0FBZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQVFMSUFOQ0FEY0NFQ0FEQW45QkFDQUVRUWgySWdCRkRRQWFRUjhnQkVILy8vOEhTdzBBR2lBQUlBQkJnUDQvYWtFUWRrRUljU0lBZENJQklBRkJnT0FmYWtFUWRrRUVjU0lCZENJQ0lBSkJnSUFQYWtFUWRrRUNjU0lDZEVFUGRpQUFJQUZ5SUFKeWF5SUFRUUYwSUFRZ0FFRVZhblpCQVhGeVFSeHFDeUlBTmdJY0lBQkJBblJCNU1JQWFpRUJBa0JCdU1BQUtBSUFJZ0pCQVNBQWRDSUdjVVVFUUVHNHdBQWdBaUFHY2pZQ0FDQUJJQU0yQWdBZ0F5QUJOZ0lZREFFTElBUkJBRUVaSUFCQkFYWnJJQUJCSDBZYmRDRUFJQUVvQWdBaEFRTkFJQUVpQWlnQ0JFRjRjU0FFUmcwRUlBQkJIWFloQVNBQVFRRjBJUUFnQWlBQlFRUnhhaUlHS0FJUUlnRU5BQXNnQmlBRE5nSVFJQU1nQWpZQ0dBc2dBeUFETmdJTUlBTWdBellDQ0F3REN5QUNLQUlJSWdBZ0J6WUNEQ0FDSUFjMkFnZ2dCMEVBTmdJWUlBY2dBallDRENBSElBQTJBZ2dMSUFsQkNHb2hBQXdGQ3lBQ0tBSUlJZ0FnQXpZQ0RDQUNJQU0yQWdnZ0EwRUFOZ0lZSUFNZ0FqWUNEQ0FESUFBMkFnZ0xRY0RBQUNnQ0FDSUFJQVZORFFCQndNQUFJQUFnQldzaUFUWUNBRUhNd0FCQnpNQUFLQUlBSWdBZ0JXb2lBallDQUNBQ0lBRkJBWEkyQWdRZ0FDQUZRUU55TmdJRUlBQkJDR29oQUF3REMwR3d3QUJCTURZQ0FFRUFJUUFNQWdzQ1FDQUlSUTBBQWtBZ0JDZ0NIQ0lBUVFKMFFlVENBR29pQXlnQ0FDQUVSZ1JBSUFNZ0FUWUNBQ0FCRFFGQnVNQUFJQWRCZmlBQWQzRWlCellDQUF3Q0N5QUlRUkJCRkNBSUtBSVFJQVJHRzJvZ0FUWUNBQ0FCUlEwQkN5QUJJQWcyQWhnZ0JDZ0NFQ0lBQkVBZ0FTQUFOZ0lRSUFBZ0FUWUNHQXNnQkNnQ0ZDSUFSUTBBSUFFZ0FEWUNGQ0FBSUFFMkFoZ0xBa0FnQWtFUFRRUkFJQVFnQWlBRmFpSUFRUU55TmdJRUlBQWdCR29pQUNBQUtBSUVRUUZ5TmdJRURBRUxJQVFnQlVFRGNqWUNCQ0FFSUFWcUlnTWdBa0VCY2pZQ0JDQUNJQU5xSUFJMkFnQWdBa0gvQVUwRVFDQUNRUU4ySWdGQkEzUkIzTUFBYWlFQUFuOUJ0TUFBS0FJQUlnSkJBU0FCZENJQmNVVUVRRUcwd0FBZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQUVMSUFNQ2YwRUFJQUpCQ0hZaUFFVU5BQnBCSHlBQ1FmLy8vd2RMRFFBYUlBQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnVWdCVUdBZ0E5cVFSQjJRUUp4SWdWMFFROTJJQUFnQVhJZ0JYSnJJZ0JCQVhRZ0FpQUFRUlZxZGtFQmNYSkJIR29MSWdBMkFod2dBMElBTndJUUlBQkJBblJCNU1JQWFpRUJBa0FDUUNBSFFRRWdBSFFpQlhGRkJFQkJ1TUFBSUFVZ0IzSTJBZ0FnQVNBRE5nSUFEQUVMSUFKQkFFRVpJQUJCQVhacklBQkJIMFliZENFQUlBRW9BZ0FoQlFOQUlBVWlBU2dDQkVGNGNTQUNSZzBDSUFCQkhYWWhCU0FBUVFGMElRQWdBU0FGUVFSeGFpSUdLQUlRSWdVTkFBc2dCaUFETmdJUUN5QURJQUUyQWhnZ0F5QUROZ0lNSUFNZ0F6WUNDQXdCQ3lBQktBSUlJZ0FnQXpZQ0RDQUJJQU0yQWdnZ0EwRUFOZ0lZSUFNZ0FUWUNEQ0FESUFBMkFnZ0xJQVJCQ0dvaEFBd0JDd0pBSUFsRkRRQUNRQ0FCS0FJY0lnQkJBblJCNU1JQWFpSUNLQUlBSUFGR0JFQWdBaUFFTmdJQUlBUU5BVUc0d0FBZ0NrRitJQUIzY1RZQ0FBd0NDeUFKUVJCQkZDQUpLQUlRSUFGR0cyb2dCRFlDQUNBRVJRMEJDeUFFSUFrMkFoZ2dBU2dDRUNJQUJFQWdCQ0FBTmdJUUlBQWdCRFlDR0FzZ0FTZ0NGQ0lBUlEwQUlBUWdBRFlDRkNBQUlBUTJBaGdMQWtBZ0EwRVBUUVJBSUFFZ0F5QUZhaUlBUVFOeU5nSUVJQUFnQVdvaUFDQUFLQUlFUVFGeU5nSUVEQUVMSUFFZ0JVRURjallDQkNBQklBVnFJZ1FnQTBFQmNqWUNCQ0FESUFScUlBTTJBZ0FnQ0FSQUlBaEJBM1lpQlVFRGRFSGN3QUJxSVFCQnlNQUFLQUlBSVFJQ2YwRUJJQVYwSWdVZ0JuRkZCRUJCdE1BQUlBVWdCbkkyQWdBZ0FBd0JDeUFBS0FJSUN5RUZJQUFnQWpZQ0NDQUZJQUkyQWd3Z0FpQUFOZ0lNSUFJZ0JUWUNDQXRCeU1BQUlBUTJBZ0JCdk1BQUlBTTJBZ0FMSUFGQkNHb2hBQXNnQzBFUWFpUUFJQUFMUkFFQmZ5QUFJQUFvQWhBZ0FXb2lBVFlDRUNBQUlBRkJCM0UyQWdoQmZ5RUNJQUVnQUNnQ0RFRURkRTBFZnlBQUlBQW9BZ0FnQVVFRGRtbzJBZ1JCQUFWQmZ3c0w1UWNCQ0g4Z0FDQUVRUUFnQm1zZ0FpQUNJQVpxUVFCSUd5SUNJQUlnQkVvYklnSnFJQUFnQWtFQVNoc2lDU0FGUVFBZ0Iyc2dBeUFESUFkcVFRQklHeUlBSUFBZ0JVb2JJZ0FnQkd4cUlBa2dBRUVBU2hzaEF5QUhRUUFnQUdzZ0FFRWZkWEVpQ1dzZ0FDQUhhaUlBSUFWcklneEJBQ0FBSUFWS0d5SVBheUVMSUFaQkFDQUNheUlPSUFKQkgzVnhJZzFySUFJZ0Jtb2lBQ0FFYTBFQUlBQWdCRW9pQlJzaUNtc2hBQUpBSUFKQkFFZ2dCWElpRUVVRVFDQUpCRUFEUUNBQklBTWdBQkFWSUFocUlRRWdDVUYvYWlJSkRRQUxDeUFMUlEwQkEwQWdBU0FESUFBUUZTQUlhaUVCSUFNZ0JHb2hBeUFMUVg5cUlnc05BQXNNQVFzQ1FDQUpSUTBBSUExRkJFQURRQ0FBSVFjZ0FTRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQVNBSWFpRUJJQWxCZjJvaUNRMEFEQUlBQ3dBTElBRWdEbW9oQmdOQUlBRWdBeTBBQUNBTkVBY2hBU0FBSVFjZ0JpRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQmlBSWFpRUdJQUVnQ0dvaEFTQUpRWDlxSWdrTkFBc0xJQXRGRFFBZ0RVVUVRQU5BSUFBaEJ5QUJJUUlnQXlFRklBQUVRQU5BSUFJZ0JTMEFBRG9BQUNBQ1FRRnFJUUlnQlVFQmFpRUZJQWRCZjJvaUJ3MEFDd3NnQ2dSQUlBSWdCVUYvYWkwQUFDQUtFQWNhQ3lBQklBaHFJUUVnQXlBRWFpRURJQXRCZjJvaUN3MEFEQUlBQ3dBTElBRWdEbW9oQ1FOQUlBRWdBeTBBQUNBTkVBY2hBU0FBSVFjZ0NTRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQ0NBSmFpRUpJQUVnQ0dvaEFTQURJQVJxSVFNZ0MwRi9haUlMRFFBTEN3SkFJQTlGRFFBZ0F5QUVheUVESUJCRkJFQURRQ0FCSUFNZ0FCQVZJQWhxSVFFZ0RFRi9haUlNRFFBTUFnQUxBQXNnRFVVRVFBTkFJQU1oQWlBQklRVWdBQ0VISUFBRVFBTkFJQVVnQWkwQUFEb0FBQ0FGUVFGcUlRVWdBa0VCYWlFQ0lBZEJmMm9pQncwQUN3c2dDZ1JBSUFVZ0FrRi9haTBBQUNBS0VBY2FDeUFCSUFocUlRRWdERUYvYWlJTURRQU1BZ0FMQUFzZ0FTQU9haUVKQTBBZ0FTQURMUUFBSUEwUUJ5RUJJQUFoQnlBSklRSWdBeUVGSUFBRVFBTkFJQUlnQlMwQUFEb0FBQ0FDUVFGcUlRSWdCVUVCYWlFRklBZEJmMm9pQncwQUN3c2dDZ1JBSUFJZ0JVRi9haTBBQUNBS0VBY2FDeUFJSUFscUlRa2dBU0FJYWlFQklBeEJmMm9pREEwQUN3c0w5QUlCQTM4Z0FVRURkRUh3Tm1vaUF5Z0NBQ0VGSUFNdEFBUWhBeUFCUVFOMFFiQTFhaUlCTFFBRUlRUUNRQ0FCS0FJQVFRUkdCRUFnQWlBRVFRRjBhaTRCQUNFQklBVkJCRVlFUUNBQklBSWdBMEVCZEdvdUFRQnFRUUZxUVFGMUR3c0NmeUFBS0FMTUFTSUNCRUFnQUNnQ0JDQUNLQUlFUmd3QkMwRUFDMFVOQVNBQklBQW9Bc3dCSUFOQkFYUnFMZ0VjYWtFQmFrRUJkUThMSUFWQkJFWUVRQ0FDSUFOQkFYUnFMZ0VBSVFFQ2Z5QUFLQUxJQVNJQ0JFQWdBQ2dDQkNBQ0tBSUVSZ3dCQzBFQUMwVU5BU0FCSUFBb0FzZ0JJQVJCQVhScUxnRWNha0VCYWtFQmRROExBbjhDZnlBQUtBTElBU0lCQkVBZ0FDZ0NCQ0FCS0FJRVJnd0JDMEVBQzBVRVFFRUFJUUpCQUF3QkMwRUJJUUlnQUNnQ3lBRWdCRUVCZEdvdUFSd0xJUUVDZnlBQUtBTE1BU0lFQkVBZ0FDZ0NCQ0FFS0FJRVJnd0JDMEVBQzBVTkFDQUFLQUxNQVNBRFFRRjBhaTRCSENFQUlBSkZCRUFnQUE4TElBQWdBV3BCQVdwQkFYVWhBUXNnQVF1SkJ3RUhmeUFESUFWcUlnMGdBUzRCQUNJTVFRSjFhaUVESUFRZ0Jtb2lEaUFCTGdFQ0lnOUJBblZxSVFRZ0FpZ0NDRUVFZENFSklBSW9BZ1JCQkhRaENpQUFJQVpCQkhScUlBVnFJUXNDUUNBTVFRTnhRUVIwSUE5QkEzRkJBblJ5UWRBN2FpZ0NBQ0lNUVE1TkJFQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnREVFQmF3NE9BUUlEQkFVR0J3Z0pDZ3NNRFE0QUN5QUNLQUlBSUFzZ0F5QUVJQW9nQ1NBSElBaEJFQkFNREE4TElBSW9BZ0FnQ3lBRElBUkJmbW9nQ2lBSklBY2dDRUVBRUNRTURnc2dBaWdDQUNBTElBTWdCRUYrYWlBS0lBa2dCeUFJRUVjTURRc2dBaWdDQUNBTElBTWdCRUYrYWlBS0lBa2dCeUFJUVFFUUpBd01DeUFDS0FJQUlBc2dBMEYrYWlBRUlBb2dDU0FISUFoQkFCQWpEQXNMSUFJb0FnQWdDeUFEUVg1cUlBUkJmbW9nQ2lBSklBY2dDRUVBRUJvTUNnc2dBaWdDQUNBTElBTkJmbW9nQkVGK2FpQUtJQWtnQnlBSVFRQVFJUXdKQ3lBQ0tBSUFJQXNnQTBGK2FpQUVRWDVxSUFvZ0NTQUhJQWhCQWhBYURBZ0xJQUlvQWdBZ0N5QURRWDVxSUFRZ0NpQUpJQWNnQ0JCR0RBY0xJQUlvQWdBZ0N5QURRWDVxSUFSQmZtb2dDaUFKSUFjZ0NFRUFFQ0lNQmdzZ0FpZ0NBQ0FMSUFOQmZtb2dCRUYrYWlBS0lBa2dCeUFJRUVVTUJRc2dBaWdDQUNBTElBTkJmbW9nQkVGK2FpQUtJQWtnQnlBSVFRRVFJZ3dFQ3lBQ0tBSUFJQXNnQTBGK2FpQUVJQW9nQ1NBSElBaEJBUkFqREFNTElBSW9BZ0FnQ3lBRFFYNXFJQVJCZm1vZ0NpQUpJQWNnQ0VFQkVCb01BZ3NnQWlnQ0FDQUxJQU5CZm1vZ0JFRithaUFLSUFrZ0J5QUlRUUVRSVF3QkN5QUNLQUlBSUFzZ0EwRithaUFFUVg1cUlBb2dDU0FISUFoQkF4QWFDeUFOUVFGMklBRXVBUUFpQ1VFRGRXb2hBeUFPUVFGMklBRXVBUUlpQVVFRGRXb2hCQ0FDS0FJQUlBSW9BZ1FpQ2lBQ0tBSUlJZ3RzUVFoMGFpRUNJQUFnQmtFQ2RFRjRjV29nQlVFQmRtcEJnQUpxSVFVZ0NFRUJkaUVHSUFkQkFYWWhCeUFCUVFkeElRZ2dDMEVEZENFQUlBcEJBM1FoQVFKQUlBbEJCM0VpQ1VVTkFDQUlSUTBBSUFJZ0JTQURJQVFnQVNBQUlBa2dDQ0FISUFZUVNBOExJQWtFUUNBQ0lBVWdBeUFFSUFFZ0FDQUpJQWNnQmhCTER3c2dDQVJBSUFJZ0JTQURJQVFnQVNBQUlBZ2dCeUFHRUVvUEN5QUNJQVVnQXlBRUlBRWdBQ0FISUFaQkNCQU1JQUlnQUNBQmJHb2dCVUZBYXlBRElBUWdBU0FBSUFjZ0JrRUlFQXdMeHdFQkJIOGdBQ2dDQkNFQ0FrQWdBQ2dDREVFRGRDQUFLQUlRYXlJRFFTQk9CRUFnQWlnQUFDSUJRUmgwSUFGQkNIUkJnSUQ4QjNGeUlBRkJDSFpCZ1A0RGNTQUJRUmgyY25JaEFTQUFLQUlJSWdCRkRRRWdBU0FBZENBQ0xRQUVRUWdnQUd0MmNnOExJQU5CQVVnRVFFRUFEd3NnQWkwQUFDQUFLQUlJSWdCQkdHb2lCSFFoQVNBQUlBTnFRWGhxSWdCQkFVZ05BQU5BSUFJdEFBRWdCRUY0YWlJRWRDQUJjaUVCSUFCQkNFb2hBeUFDUVFGcUlRSWdBRUY0YWlFQUlBTU5BQXNMSUFFTGpBUUJCMzhDUUNBQVFYOXFJZ2d0QUFBaUJTQUFMUUFBSWdacklnUWdCRUVmZFNJRWFpQUVjeUFDS0FJRVR3MEFJQUJCZm1vdEFBQWlCQ0FGYXlJSElBZEJIM1VpQjJvZ0IzTWdBaWdDQ0NJSlR3MEFJQUF0QUFFaUJ5QUdheUlLSUFwQkgzVWlDbW9nQ25NZ0NVOE5BQ0FCUVFOTkJFQWdDQ0FGSUFFZ0FpZ0NBR3BCZjJvdEFBQWlDRUYvY3lJSklBaEJBV29pQ0NBR0lBVnJRUUowSUFkcklBUnFRUVJxUVFOMUlnVWdCU0FJU2hzZ0JTQUpTQnNpQldwQnNDNXFMUUFBT2dBQUlBQWdCaUFGYTBHd0xtb3RBQUE2QUFBTUFRc2dDQ0FGSUFkcUlBUkJBWFJxUVFKcVFRSjJPZ0FBSUFBZ0JpQUhRUUYwYWlBRWFrRUNha0VDZGpvQUFBc0NRQ0FBSUFOcUlnQkJmMm9pQnkwQUFDSURJQUF0QUFBaUJXc2lCaUFHUVI5MUlnWnFJQVp6SUFJb0FnUlBEUUFnQUVGK2FpMEFBQ0lHSUFOcklnUWdCRUVmZFNJRWFpQUVjeUFDS0FJSUlnaFBEUUFnQUMwQUFTSUVJQVZySWdrZ0NVRWZkU0lKYWlBSmN5QUlUdzBBSUFGQkEwMEVRQ0FISUFFZ0FpZ0NBR3BCZjJvdEFBQWlBVUYvY3lJQ0lBRkJBV29pQnlBRklBTnJRUUowSUFScklBWnFRUVJxUVFOMUlnRWdBU0FIU2hzZ0FTQUNTQnNpQVNBRGFrR3dMbW90QUFBNkFBQWdBQ0FGSUFGclFiQXVhaTBBQURvQUFBOExJQWNnQXlBRWFpQUdRUUYwYWtFQ2FrRUNkam9BQUNBQUlBVWdCRUVCZEdvZ0JtcEJBbXBCQW5ZNkFBQUxDMGNBQWtBZ0FVRUVUUVJBQWtBQ1FBSkFBa0FnQVVFQmF3NEVBUUlEQlFBTElBQW9Bc2dCRHdzZ0FDZ0N6QUVQQ3lBQUtBTFFBUThMSUFBb0F0UUJEd3RCQUNFQUN5QUFDNlVEQVF0L1FRQWdBMnNpQzBFQmRDRUVJQUVnQWlnQ0FHcEJmMm90QUFBaUFVRUJhaUVKSUFGQmYzTWhDZ0pBSUFBZ0Eyc2lCeTBBQUNJRklBQXRBQUFpQm1zaUFTQUJRUjkxSWdGcUlBRnpJQUlvQWdRaUFVOE5BQ0FBSUFScUxRQUFJZzBnQldzaUNDQUlRUjkxSWdocUlBaHpJQUlvQWdnaUNFOE5BQ0FBSUFOcUxRQUFJZzRnQm1zaURDQU1RUjkxSWd4cUlBeHpJQWhQRFFBZ0J5QUtJQWtnQmlBRmEwRUNkQ0FPYXlBTmFrRUVha0VEZFNJQklBRWdDVW9iSUFFZ0NrZ2JJZ0VnQldwQnNDNXFMUUFBT2dBQUlBQWdCaUFCYTBHd0xtb3RBQUE2QUFBZ0FpZ0NCQ0VCQ3dKQUlBQkJBV29pQlNBTGFpSUxMUUFBSWdZZ0FDMEFBU0lBYXlJSElBZEJIM1VpQjJvZ0IzTWdBVThOQUNBRUlBVnFMUUFBSWdFZ0Jtc2lCQ0FFUVI5MUlnUnFJQVJ6SUFJb0FnZ2lBazhOQUNBRElBVnFMUUFBSWdNZ0FHc2lCQ0FFUVI5MUlnUnFJQVJ6SUFKUERRQWdDeUFLSUFrZ0FDQUdhMEVDZENBRGF5QUJha0VFYWtFRGRTSUJJQUVnQ1VvYklBRWdDa2diSWdFZ0JtcEJzQzVxTFFBQU9nQUFJQVVnQUNBQmEwR3dMbW90QUFBNkFBQUxDMFFCQW44L0FDRUJBa0JCc01RQUtBSUFJZ0lnQUVFRGFrRjhjV29pQUNBQlFSQjBUUTBBSUFBUUFRMEFRYkRBQUVFd05nSUFRWDhQQzBHd3hBQWdBRFlDQUNBQ0N6UUJBWDhDUUNBQlFSQkxEUUFnQUNnQ0JDQUJRUUowYWlnQ0FDSUFSUTBBSUFBb0FoUkJBa2tOQUNBQUtBSUFJUUlMSUFJTGdnUUJBMzhnQWtHQUJFOEVRQ0FBSUFFZ0FoQUFHaUFBRHdzZ0FDQUNhaUVEQWtBZ0FDQUJjMEVEY1VVRVFBSkFJQUpCQVVnRVFDQUFJUUlNQVFzZ0FFRURjVVVFUUNBQUlRSU1BUXNnQUNFQ0EwQWdBaUFCTFFBQU9nQUFJQUZCQVdvaEFTQUNRUUZxSWdJZ0EwOE5BU0FDUVFOeERRQUxDd0pBSUFOQmZIRWlCRUhBQUVrTkFDQUNJQVJCUUdvaUJVc05BQU5BSUFJZ0FTZ0NBRFlDQUNBQ0lBRW9BZ1EyQWdRZ0FpQUJLQUlJTmdJSUlBSWdBU2dDRERZQ0RDQUNJQUVvQWhBMkFoQWdBaUFCS0FJVU5nSVVJQUlnQVNnQ0dEWUNHQ0FDSUFFb0FodzJBaHdnQWlBQktBSWdOZ0lnSUFJZ0FTZ0NKRFlDSkNBQ0lBRW9BaWcyQWlnZ0FpQUJLQUlzTmdJc0lBSWdBU2dDTURZQ01DQUNJQUVvQWpRMkFqUWdBaUFCS0FJNE5nSTRJQUlnQVNnQ1BEWUNQQ0FCUVVCcklRRWdBa0ZBYXlJQ0lBVk5EUUFMQ3lBQ0lBUlBEUUVEUUNBQ0lBRW9BZ0EyQWdBZ0FVRUVhaUVCSUFKQkJHb2lBaUFFU1EwQUN3d0JDeUFEUVFSSkJFQWdBQ0VDREFFTElBTkJmR29pQkNBQVNRUkFJQUFoQWd3QkN5QUFJUUlEUUNBQ0lBRXRBQUE2QUFBZ0FpQUJMUUFCT2dBQklBSWdBUzBBQWpvQUFpQUNJQUV0QUFNNkFBTWdBVUVFYWlFQklBSkJCR29pQWlBRVRRMEFDd3NnQWlBRFNRUkFBMEFnQWlBQkxRQUFPZ0FBSUFGQkFXb2hBU0FDUVFGcUlnSWdBMGNOQUFzTElBQUx3UmdCSUg4akFFSFFBMnNpQmlRQUlBRW9BZ2doRkNBQklBRW9BZ1FpQ2lBQ2JDSWFJQU5xRUIwZ0FTZ0NBQ0VKSUFCQkFEWUNDQ0FBUWlnM0FoUWdBRUlBTndJTUlBQkJCallDQUNBRFFRUjBJUWNDUUFKQUFrQWdCRUYrYWlJRVFRVkxEUUFDUUNBRVFRRnJEZ1FCQVFFQkFBc01BUXNnQmtFQU5nSU1JQVlnRkRZQ0dDQUdJQW8yQWhRZ0JpQUZOZ0lRSUFVRVFDQUdRZEFBYWlBR1FReHFJQVpCRUdvZ0J5QUNRUVIwUVFCQkFFRVFRUkFRRGd3Q0N3c2dCa0hRQUdwQkFFR0FBeEFIR2lBSklCcEJDSFJxSUFkcUlRd2dCa0lBTndOSUlBWkJRR3RDQURjREFDQUdRZ0EzQXpnZ0JrSUFOd013SUFaQ0FEY0RLQ0FHUWdBM0F5QWdCa0lBTndNWUlBWkNBRGNERUVFQUlRa0NmMEVBSUFKRkRRQWFRUUFnQUVFQUlBcHJRZGdCYkdvb0FzUUJSUTBBR2lBR0lBd2dDa0VFZEdzaUJDMEFCU0FFTFFBRWFpQUVMUUFHYWlBRUxRQUhhaUlYSUFRdEFBTWdCQzBBQWlBRUxRQUJJQVF0QUFCcWFtb2lGbW9pQlNBRUxRQUxJQVF0QUFvZ0JDMEFDU0FFTFFBSWFtcHFJaEpySUFRdEFBOGdCQzBBRGlBRUxRQU5JQVF0QUF4cWFtb2lFMnNpQ0RZQ0ZDQUdJQVVnRW1vZ0Uyb2lDVFlDRUVFQkN5RUZBbjhDUUNBQ0lCUkJmMnBIQkVBZ0FDQUtRZGdCYkdvb0FzUUJEUUVMSUFVTUFRc2dCaUFNSUFwQkNIUnFJZ0l0QUFVZ0FpMEFCR29nQWkwQUJtb2dBaTBBQjJvaUhpQUNMUUFESUFJdEFBSWdBaTBBQVNBQ0xRQUFhbXBxSWg5cUlnUWdBaTBBQ3lBQ0xRQUtJQUl0QUFrZ0FpMEFDR3BxYWlJWWF5QUNMUUFQSUFJdEFBNGdBaTBBRFNBQ0xRQU1hbXBxSWhscklBaHFJZ2cyQWhRZ0JpQUVJQmhxSUFscUlCbHFJZ2syQWhCQkFTRVFJQVZCQVdvTElRZEJBQ0VFQW44Q1FDQURSUTBBSUFCQmJHb29BZ0JGRFFBZ0JpQU1RWDlxSWdJZ0NrRUdkQ0lPYWlJRUlBcEJCSFFpQzJvdEFBQWdCQzBBQUdvZ0JDQUtRUVYwSWc5cUxRQUFhaUFFSUFwQk1Hd2lEV290QUFCcUloc2dBaUFOYWkwQUFDQUNJQTlxTFFBQUlBSWdDMm90QUFBZ0FpMEFBR3BxYWlJY2FpSVJJQVFnRG1vaUFpQUxhaTBBQUNBQ0xRQUFhaUFDSUE5cUxRQUFhaUFDSUExcUxRQUFhaUlWYXlBQ0lBNXFJZ0lnQzJvdEFBQWdBaTBBQUdvZ0FpQVBhaTBBQUdvZ0FpQU5haTBBQUdvaUQyc2lCRFlDSUNBR0lCRWdGV29nQ1dvZ0Qyb2lDVFlDRUNBSFFRRnFJUXRCQVF3QkN5QUhJUXRCQUFzaEFnSkFBa0FDUUFKQUFrQUNRQ0FESUFwQmYycEhCRUFnQUNnQ25BTU5BUXRCQUNFT0lBSkJBRWNoRVNBSERRRU1BZ3NnQmlBRUlBeEJFR29pQkNBS1FRWjBJaDFxSWdBZ0NrRUVkQ0lOYWkwQUFDQUFMUUFBYWlBQUlBcEJCWFFpRG1vdEFBQnFJQUFnQ2tFd2JDSVJhaTBBQUdvaUlDQUVJQkZxTFFBQUlBUWdEbW90QUFBZ0JDQU5haTBBQUNBTUxRQVFhbXBxSWlGcUlpSWdBQ0FkYWlJQUlBMXFMUUFBSUFBdEFBQnFJQUFnRG1vdEFBQnFJQUFnRVdvdEFBQnFJZ3hySUFBZ0hXb2lBQ0FOYWkwQUFDQUFMUUFBYWlBQUlBNXFMUUFBYWlBQUlCRnFMUUFBYWlJTmEyb2lCRFlDSUNBR0lBd2dJbW9nQ1dvZ0RXb2lDVFlDRUNBQ1FRQkhJUkZCQVNFT0lBSkJBV29oQUNBTFFRRnFJUXNDUUNBSERRQWdBa1VOQUNBR0lCc2dIR29nRldvZ0Qyb2dJV3NnSUdzZ0RHc2dEV3RCQlhVaUNEWUNGQXdEQ3lBSFJRMENJQUFoQWdzZ0JpQUlJQWRCQTJwMUlnZzJBaFFMQWtBZ0VFVU5BQ0FGUlEwQUlBSU5BQ0FHSUJZZ0Yyb2dFbW9nRTJvZ0dXc2dHR3NnSG1zZ0gydEJCWFVpQkRZQ0lFRUJJUkJCQVNFTkRBTUxJQkJCQUVjaEVDQUZRUUJISVEwZ0FrVU5BZ3dCQ3lBUVFRQkhJUkFnQlVFQVJ5RU5JQUFoQWdzZ0JpQUVJQUpCQTJwMUlnUTJBaUFMSUFZQ2Z5QUxRWDlxSWdCQkFrMEVRQUpBQWtBQ1FDQUFRUUZyRGdJQkFnQUxJQWxCQkhZTUF3c2dDVUVGZGd3Q0N5QUpRUlZzUVFwMURBRUxJQWxCQm5ZTElnQTJBaEFDUUNBRUlBaHlSUVJBSUFZZ0FEWUNTQ0FHSUFBMkFrd2dCaUFBTmdKRUlBWWdBRFlDUUNBR0lBQTJBandnQmlBQU5nSTRJQVlnQURZQ05DQUdJQUEyQWpBZ0JpQUFOZ0lzSUFZZ0FEWUNLQ0FHSUFBMkFpUWdCaUFBTmdJZ0lBWWdBRFlDSENBR0lBQTJBaGdnQmlBQU5nSVVEQUVMSUFZZ0FDQUlhaUlGSUFSck5nSkFJQVlnQlNBRVFRRjFJZ0pyTmdJd0lBWWdBaUFGYWpZQ0lDQUdJQVFnQldvMkFoQWdCaUFBSUFocklnVWdCR3MyQWt3Z0JpQUZJQUpyTmdJOElBWWdBaUFGYWpZQ0xDQUdJQVFnQldvMkFod2dCaUFBSUFoQkFYVWlCMm9pQlNBRWF6WUNSQ0FHSUFVZ0FtczJBalFnQmlBQ0lBVnFOZ0lrSUFZZ0JDQUZhallDRkNBR0lBQWdCMnNpQUNBRWF6WUNTQ0FHSUFBZ0FtczJBamdnQmlBQUlBSnFOZ0lvSUFZZ0FDQUVhallDR0FzZ0JrSFFBR29oQ0NBR1FSQnFJUUJCQUNFRUEwQWdDQ0FBSUFSQkRIRnFLQUlBSWdKQi93RWdBa0gvQVVnYklnSkJBQ0FDUVFCS0d6b0FBQ0FBSUFCQkVHb2dCRUVCYWlJRVFUOXhHeUVBSUFoQkFXb2hDQ0FFUVlBQ1J3MEFDeUFCS0FJQUlBb2dGR3dpQUVFSWRHb2dHa0VHZEdvZ0EwRURkR29oQXlBS1FRUjBJUXdnQ2tFR2RDRWFJQUJCQm5RaEhVRUFJQXBCQTNRaUMyc2hJQ0FHUWRBQ2FpRWhJQVpCUUdzaElrRUFJUVVEUUNBR1FnQTNBMGdnSWtJQU53TUFJQVpDQURjRE9DQUdRZ0EzQXpBZ0JrSUFOd01vSUFaQ0FEY0RJQ0FHUWdBM0F4Z2dCa0lBTndNUVFRQWhDRUVBSVFSQkFDRUpJQTBFUUNBR0lBTWdJR29pQUMwQUF5QUFMUUFDYWlJWElBQXRBQUVnQUMwQUFHb2lGbW9pQWlBQUxRQUZJQUF0QUFScUloSnJJQUF0QUFjZ0FDMEFCbW9pRTJzaUNEWUNGQ0FHSUFJZ0Vtb2dFMm9pQkRZQ0VFRUJJUWtMSUJBRVFDQUdJQU1nR21vaUFDMEFBeUFBTFFBQ2FpSWVJQUF0QUFFZ0FDMEFBR29pSDJvaUFpQUFMUUFGSUFBdEFBUnFJaGhySUFBdEFBY2dBQzBBQm1vaUdXc2dDR29pQ0RZQ0ZDQUdJQUlnR0dvZ0JHb2dHV29pQkRZQ0VDQUpRUUZxSVFrTFFRQWhBQUovSUJGRkJFQWdDU0VIUVFBTUFRc2dCaUFEUVg5cUlnQWdER29pQWlBTGFpMEFBQ0FDTFFBQWFpSWJJQUFnQzJvdEFBQWdBQzBBQUdvaUhHb2lCeUFDSUF4cUlnQWdDMm90QUFBZ0FDMEFBR29pRldzZ0FDQU1haUlBSUF0cUxRQUFJQUF0QUFCcUlnOXJJZ0EyQWlBZ0JpQUhJQlZxSUFScUlBOXFJZ1EyQWhBZ0NVRUJhaUVIUVFFTElRSUNRQ0FHQW44Q1FBSkFBa0FnRGtVRVFDQUpEUUVNQWdzZ0JpQUFJQU5CQ0dvaUNpQU1haUlBSUF0cUxRQUFJQUF0QUFCcUlpTWdDaUFMYWkwQUFDQURMUUFJYWlJa2FpSWxJQUFnREdvaUFDQUxhaTBBQUNBQUxRQUFhaUlLYXlBQUlBeHFJZ0FnQzJvdEFBQWdBQzBBQUdvaUZHdHFJZ0EyQWlBZ0JpQUtJQ1ZxSUFScUlCUnFJZ1EyQWhBZ0FrRUJhaUVDSUFkQkFXb2hCeUFSUVFGeklBbEJBRWR5UlFSQUlBWWdHeUFjYWlBVmFpQVBhaUFrYXlBamF5QUtheUFVYTBFRWRTSUlOZ0lVREFNTElBbEZEUUlMSUFZZ0NDQUpRUUpxZFNJSU5nSVVDeUFXSUJkcUlCSnFJQk5xSUJscklCaHJJQjVySUI5clFRUjFJQkFnRFNBQ1JYRnhRUUZHRFFFYUlBSkZEUUlMSUFBZ0FrRUNhblVMSWdBMkFpQUxJQVlDZnlBSFFYOXFJZ0pCQWswRVFBSkFBa0FDUUNBQ1FRRnJEZ0lCQWdBTElBUkJBM1lNQXdzZ0JFRUVkZ3dDQ3lBRVFSVnNRUWwyREFFTElBUkJCWFlMSWdRMkFoQUNRQ0FBSUFoeVJRUkFJQVlnQkRZQ1NDQUdJQVEyQWt3Z0JpQUVOZ0pFSUFZZ0JEWUNRQ0FHSUFRMkFqd2dCaUFFTmdJNElBWWdCRFlDTkNBR0lBUTJBakFnQmlBRU5nSXNJQVlnQkRZQ0tDQUdJQVEyQWlRZ0JpQUVOZ0lnSUFZZ0JEWUNIQ0FHSUFRMkFoZ2dCaUFFTmdJVURBRUxJQVlnQkNBSWFpSUhJQUJyTmdKQUlBWWdCeUFBUVFGMUlnSnJOZ0l3SUFZZ0FpQUhhallDSUNBR0lBQWdCMm8yQWhBZ0JpQUVJQWhySWdjZ0FHczJBa3dnQmlBSElBSnJOZ0k4SUFZZ0FpQUhhallDTENBR0lBQWdCMm8yQWh3Z0JpQUVJQWhCQVhVaUNXb2lCeUFBYXpZQ1JDQUdJQWNnQW1zMkFqUWdCaUFDSUFkcU5nSWtJQVlnQUNBSGFqWUNGQ0FHSUFRZ0NXc2lCQ0FBYXpZQ1NDQUdJQVFnQW1zMkFqZ2dCaUFDSUFScU5nSW9JQVlnQUNBRWFqWUNHQXNnSVNBRlFRWjBhaUVJUVFBaEFDQUdRUkJxSVFRRFFDQUlJQVFnQUVFQmRFRU1jV29vQWdBaUFrSC9BU0FDUWY4QlNCc2lBa0VBSUFKQkFFb2JPZ0FBSUFRZ0JFRVFhaUFBUVFGcUlnQkJEM0ViSVFRZ0NFRUJhaUVJSUFCQndBQkhEUUFMSUFNZ0hXb2hBeUFGUVFGcUlnVkJBa2NOQUFzTElBRWdCa0hRQUdvUUd5QUdRZEFEYWlRQUN6WUFJQUlFUUNBQUlBRVFBZzhMUVFFaEFpQUJJQUJCQVJBRElnQTJBZ0FnQUVGL1J3Ui9JQUVnQUVFQmN6WUNBRUVBQlVFQkN3dk1Bd0VTZnlBRFFRRjBJUThnQTBGOWJDRVFRUUFnQTJzaUVVRUJkQ0VTSUFFZ0FpZ0NBR3BCZjJvdEFBQWlCMEVCYWlFVFFRQWdCMnNoQ2tFRUlRRURRQUpBSUFBZ0VXb2lGQzBBQUNJRklBQXRBQUFpQ0dzaUJDQUVRUjkxSWdScUlBUnpJQUlvQWdSUERRQWdBQ0FTYWlJTExRQUFJZ3dnQldzaUJDQUVRUjkxSWdScUlBUnpJQUlvQWdnaUJrOE5BQ0FBSUFOcUloVXRBQUFpRFNBSWF5SUVJQVJCSDNVaUJHb2dCSE1nQms4TkFDQUhJUVFnQUNBUWFpMEFBQ0lKSUFWcklnNGdEa0VmZFNJT2FpQU9jeUFHU1FSQUlBc2dEQ0FLSUFjZ0JTQUlha0VCYWtFQmRpQU1RUUYwYXlBSmFrRUJkU0lFSUFRZ0Iwb2JJQVFnQ2tnYmFqb0FBQ0FDS0FJSUlRWWdFeUVFQ3lBVUlBVUNmeUFBSUE5cUxRQUFJZ3NnQ0dzaUNTQUpRUjkxSWdscUlBbHpJQVpKQkVBZ0ZTQU5JQW9nQnlBRklBaHFRUUZxUVFGMklBMUJBWFJySUF0cVFRRjFJZ1lnQmlBSFNoc2dCaUFLU0J0cU9nQUFJQVJCQVdvaEJBdEJBQ0FFYXlJR0N5QUVJQWdnQld0QkFuUWdEV3NnREdwQkJHcEJBM1VpQlNBRklBUktHeUFGSUFaSUd5SUVha0d3TG1vdEFBQTZBQUFnQUNBSUlBUnJRYkF1YWkwQUFEb0FBQXNnQUVFQmFpRUFJQUZCZjJvaUFRMEFDd3Y3QmdFT2Z5QUNLQUlJSVFvZ0FpZ0NCQ0VQQWtBZ0FVRUVUd1JBSUE5QkFuWkJBbW9oRUVFRUlRSURRQUpBSUFCQmYyb2lCUzBBQUNJSElBQXRBQUFpQ0dzaUFTQUJRUjkxSWdGcUlBRnpJZzBnRDA4TkFDQUFRWDVxSWc0dEFBQWlBU0FIYXlJRUlBUkJIM1VpQkdvZ0JITWdDazhOQUNBQUxRQUJJZ2tnQ0dzaUJDQUVRUjkxSWdScUlBUnpJQXBQRFFBQ1FDQU5JQkJKQkVBZ0FDMEFBaUVMQW44Z0FFRjlhaUlOTFFBQUlnUWdCMnNpQmlBR1FSOTFJZ1pxSUFaeklBcEpCRUJCQXlFR0lBVWdDU0FISUFocUlBRnFJZ1ZCQVhScUlBUnFRUVJxUVFOMk9nQUFJQTRnQkNBRmFrRUNha0VDZGpvQUFDQUVRUU5zSVE0Z0JVRUVhaUVNSUFCQmZHb3RBQUFNQVFzZ0J5QUphaUVNUVFJaERrRUNJUVlnQlNFTklBRUxJUVFnRFNBTUlBNXFJQVJCQVhScUlBWjJPZ0FBSUFzZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6SUFwUERRRWdBQ0FISUFscUlBaHFJZ1VnQzJwQkFtcEJBblk2QUFFZ0FDQUZJQXRCQTJ4cUlBQXRBQU5CQVhScVFRUnFRUU4yT2dBQ0lBQWdBU0FGUVFGMGFpQUxha0VFYWtFRGRqb0FBQXdDQ3lBRklBY2dDV29nQVVFQmRHcEJBbXBCQW5ZNkFBQUxJQUFnQVNBSWFpQUpRUUYwYWtFQ2FrRUNkam9BQUFzZ0FDQURhaUVBSUFKQmYyb2lBZzBBQ3d3QkN5QUJJQUlvQWdCcVFYOXFMUUFBSWdWQkFXb2hEVUVBSUFWcklRaEJCQ0VDQTBBQ1FDQUFRWDlxSWc0dEFBQWlCQ0FBTFFBQUlnZHJJZ0VnQVVFZmRTSUJhaUFCY3lBUFR3MEFJQUJCZm1vaURDMEFBQ0lKSUFScklnRWdBVUVmZFNJQmFpQUJjeUFLVHcwQUlBQXRBQUVpQ3lBSGF5SUJJQUZCSDNVaUFXb2dBWE1nQ2s4TkFDQUFMUUFDSVFZZ0JTRUJJQUJCZldvdEFBQWlFQ0FFYXlJUklCRkJIM1VpRVdvZ0VYTWdDa2tFUUNBTUlBa2dDQ0FGSUFRZ0IycEJBV3BCQVhZZ0NVRUJkR3NnRUdwQkFYVWlBU0FCSUFWS0d5QUJJQWhJRzJvNkFBQWdEU0VCQ3lBT0lBUUNmeUFHSUFkcklnd2dERUVmZFNJTWFpQU1jeUFLU1FSQUlBQWdDeUFJSUFVZ0JDQUhha0VCYWtFQmRpQUxRUUYwYXlBR2FrRUJkU0lHSUFZZ0JVb2JJQVlnQ0VnYmFqb0FBU0FCUVFGcUlRRUxRUUFnQVdzaUJnc2dBU0FKSUF0cklBY2dCR3RCQW5ScVFRUnFRUU4xSWdRZ0JDQUJTaHNnQkNBR1NCc2lBV3BCc0M1cUxRQUFPZ0FBSUFBZ0J5QUJhMEd3TG1vdEFBQTZBQUFMSUFBZ0Eyb2hBQ0FDUVg5cUlnSU5BQXNMQzlvSEFRMS9Jd0JCd0FOckloRWtBQ0FHUVFWcUlRa0NRQUpBSUFKQkFFZ05BQ0FEUVFCSURRQWdBaUFKYWlBRVN3MEFJQU1nQjJwQkJXb2dCVXNOQUNBRUlRa2dBeUVLREFFTElBQWdFU0FDSUFNZ0JDQUZJQWtnQjBFRmFpQUpFQXdnRVNFQVFRQWhBZ3NDUUNBSFJRMEFJQUFnQ1NBS2JDQUNhbW9oRTBFUUlBWnJJUlFDUUNBR1FRSjJJaElFUUNBSklBWnJJUlVnRXlBSklBaEJBWFpCQVhGQkFuSnNha0VGYWlFQ0lBY2hCQU5BSUFKQmYyb3RBQUFoQUNBQ1FYNXFMUUFBSVFNZ0FrRjlhaTBBQUNFRklBSkJmR290QUFBaEN5QUNRWHRxTFFBQUlRMGdFaUVQQTBBZ0FTQUNMUUFBSWdvZ0RTQUFJQXRxSWd4cklBTWdCV3BCRkd4cUlBeEJBblJyYWtFUWFrRUZkVUd3TG1vdEFBQTZBQUFnQVNBQ0xRQUJJZ3dnQ3lBQUlBTnFRUlJzYWlBRklBcHFJZ3RySUF0QkFuUnJha0VRYWtFRmRVR3dMbW90QUFBNkFBRWdBU0FDTFFBQ0loQWdCU0FBSUFwcVFSUnNhaUFESUF4cUlnVnJJQVZCQW5ScmFrRVFha0VGZFVHd0xtb3RBQUE2QUFJZ0FTQUNMUUFESWc0Z0F5QUtJQXhxUVJSc2FpQUFJQkJxSWdOcklBTkJBblJyYWtFUWFrRUZkVUd3TG1vdEFBQTZBQU1nQVVFRWFpRUJJQUpCQkdvaEFpQUFJUTBnQ2lFTElBd2hCU0FRSVFNZ0RpRUFJQTlCZjJvaUR3MEFDeUFCSUJScUlRRWdBaUFWYWlFQ0lBUkJmMm9pQkEwQUN3d0JDeUFIUVg5cUlCUnNJQVpySUFGcVFSQnFJUUVMSUFkQkFuWWlCRVVOQUVIQUFDQUdheUVRSUFsQkFYUWhDaUFKUVFKMElBWnJJUXRCQUNBSmF5SU1RUUYwSVJJZ0FTQUhRUVIwYXlFQ0lBa2dFMm9nQ0VFQmNXcEJBbW9pQUNBSlFRVnNhaUVCQTBBZ0JpSURCRUFEUUNBQ0lBQWdDbW90QUFBaUJTQUJJQXBxTFFBQUlBRWdDV290QUFBaURpQUJJQkpxTFFBQUlnZHFJZ2hySUFoQkFuUnJhaUFCTFFBQUlnMGdBU0FNYWkwQUFDSUlha0VVYkdwQkVHcEJCWFZCc0M1cUxRQUFJQUl0QURCcVFRRnFRUUYyT2dBd0lBSWdBQ0FKYWkwQUFDSVBJQTRnQnlBSWFrRVViR29nQlNBTmFpSU9heUFPUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBSUFJdEFDQnFRUUZxUVFGMk9nQWdJQUlnQUMwQUFDSU9JQTBnQlNBSGFrRVViR29nQ0NBUGFpSU5heUFOUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBSUFJdEFCQnFRUUZxUVFGMk9nQVFJQUlnQUNBTWFpMEFBQ0FJSUFVZ0QycEJGR3hxSUFjZ0Rtb2lCV3NnQlVFQ2RHdHFRUkJxUVFWMVFiQXVhaTBBQUNBQ0xRQUFha0VCYWtFQmRqb0FBQ0FBUVFGcUlRQWdBa0VCYWlFQ0lBRkJBV29oQVNBRFFYOXFJZ01OQUFzTElBSWdFR29oQWlBQklBdHFJUUVnQUNBTGFpRUFJQVJCZjJvaUJBMEFDd3NnRVVIQUEyb2tBQXUxQlFFRWZ5QUFLQUlVSVFNZ0FDZ0NFQ0VFSUFBb0FnUWhCU0FBS0FJTUlnSWdBU2tDQURjQ0FDQUNJQUVwQWdnM0FnZ2dBaUFGUVFSMElnQnFJZ0lnQVNrQ0VEY0NBQ0FDSUFFcEFoZzNBZ2dnQUNBQ2FpSUNJQUVwQWlBM0FnQWdBaUFCS1FJb053SUlJQUFnQW1vaUFpQUJLUUl3TndJQUlBSWdBU2tDT0RjQ0NDQUFJQUpxSWdJZ0FTa0NRRGNDQUNBQ0lBRXBBa2czQWdnZ0FDQUNhaUlDSUFFcEFsQTNBZ0FnQWlBQktRSllOd0lJSUFBZ0Ftb2lBaUFCS1FKZ053SUFJQUlnQVNrQ2FEY0NDQ0FBSUFKcUlnSWdBU2tDY0RjQ0FDQUNJQUVwQW5nM0FnZ2dBQ0FDYWlJQ0lBRXBBb0FCTndJQUlBSWdBU2tDaUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBcEFCTndJQUlBSWdBU2tDbUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBcUFCTndJQUlBSWdBU2tDcUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBckFCTndJQUlBSWdBU2tDdUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBc0FCTndJQUlBSWdBU2tDeUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBdEFCTndJQUlBSWdBU2tDMkFFM0FnZ2dBQ0FDYWlJQ0lBRXBBdUFCTndJQUlBSWdBU2tDNkFFM0FnZ2dBQ0FDYWlJQUlBRXBBdkFCTndJQUlBQWdBU2tDK0FFM0FnZ2dCQ0FCS1FLQUFqY0NBQ0FFSUFWQkEzUWlBR29pQkNBQktRS0lBamNDQUNBQUlBUnFJZ1FnQVNrQ2tBSTNBZ0FnQUNBRWFpSUVJQUVwQXBnQ053SUFJQUFnQkdvaUJDQUJLUUtnQWpjQ0FDQUFJQVJxSWdRZ0FTa0NxQUkzQWdBZ0FDQUVhaUlFSUFFcEFyQUNOd0lBSUFBZ0JHb2dBU2tDdUFJM0FnQWdBeUFCS1FMQUFqY0NBQ0FBSUFOcUlnTWdBU2tDeUFJM0FnQWdBQ0FEYWlJRElBRXBBdEFDTndJQUlBQWdBMm9pQXlBQktRTFlBamNDQUNBQUlBTnFJZ01nQVNrQzRBSTNBZ0FnQUNBRGFpSURJQUVwQXVnQ053SUFJQUFnQTJvaUF5QUJLUUx3QWpjQ0FDQUFJQU5xSUFFcEF2Z0NOd0lBQytnQ0FRVi9Ba0FnQUNBQkVBSWlBdzBBUVFFaEF5QUJJQUVvQWdCQkFXb2lBallDQUNBQ1FTQkxEUUFnQUVFRUVBTWlBa0YvUmcwQUlBRWdBallDQkNBQVFRUVFBeUlDUVg5R0RRQWdBU0FDTmdJSUlBRW9BZ0FFUUFOQUlBQWdBU0FGUVFKMGFpSUNJZ1JCREdvUUFpSUREUUpCQVNFRElBUW9BZ3dpQmtGL1JnMENJQVFnQmtFQmFpSUROZ0lNSUFRZ0F5QUJLQUlFUVFacWREWUNEQ0FBSUFKQmpBRnFFQUlpQXcwQ1FRRWhBeUFDS0FLTUFTSUVRWDlHRFFJZ0FpQUVRUUZxSWdRMkFvd0JJQUlnQkNBQktBSUlRUVJxZERZQ2pBRWdBRUVCRUFNaUJFRi9SZzBDSUFJZ0JFRUJSallDakFJZ0JVRUJhaUlGSUFFb0FnQkpEUUFMQ3lBQVFRVVFBeUlDUVg5R0RRQWdBU0FDUVFGcU5nS01BeUFBUVFVUUF5SUNRWDlHRFFBZ0FTQUNRUUZxTmdLUUF5QUFRUVVRQXlJQ1FYOUdEUUFnQVNBQ1FRRnFOZ0tVQXlBQVFRVVFBeUlBUVg5R0RRQWdBU0FBTmdLWUEwRUFJUU1MSUFNTFd3RURmeUFBSUFBb0FnQWlCQ0FCSUFBb0FnUWlBbkFpQTBFRWRHb2dBU0FEYXlJQlFRaDBhallDRENBQUlBUWdBaUFBS0FJSWJDSUNRUWgwYWlBQlFRWjBhaUFEUVFOMGFpSUJOZ0lRSUFBZ0FTQUNRUVowYWpZQ0ZBdFZBUUovSUFFZ0FrRUJhaUlESUFNZ0FVa2JJUU1nQUNBQ1FRSjBhaWdDQUNFRUEwQUNRQ0FDUVFGcUlnSWdBVThFUUNBRElRSU1BUXNnQUNBQ1FRSjBhaWdDQUNBRVJ3MEJDd3RCQUNBQ0lBRWdBa1liQ3ljQUlBQkJDQ0FBS0FJSUlnQnJFQU5CZjBZRVFBOExRUUFnQUd0QkFuUkJ6RDlxS0FJQUdndDZBUUovSXdCQklHc2lBaVFBSUFJZ0FDZ0NFRFlDRUNBQ0lBQXBBZ2czQXdnZ0FpQUFLUUlBTndNQUFrQWdBaUFDUVJ4cUVBSWlBQTBBSUFJZ0FrRWNhaEFDSWdBTkFDQUNJQUpCSEdvUUFpSUFEUUJCQVNFQUlBSW9BaHdpQTBIL0FVc05BQ0FCSUFNMkFnQkJBQ0VBQ3lBQ1FTQnFKQUFnQUF2bkJ3RVNmeU1BUVlBT2F5SU1KQUFnQmtFRmFpRUpBa0FDUUNBQ1FRQklEUUFnQTBFQVNBMEFJQUlnQ1dvZ0JFc05BQ0FESUFkcVFRVnFJQVZMRFFBZ0F5RUtEQUVMSUFBZ0RFSEFDbW9nQWlBRElBUWdCU0FKSUFkQkJXb2dDUkFNSUF4QndBcHFJUUFnQ1NFRVFRQWhBZ3NDUUNBSFFRSjJJaFJGRFFBZ0NVVU5BQ0FFUVFGMElSVkJBQ0FFYXlJV1FRRjBJUm9nQkVFQ2RDQUdhMEY3YWlFWElBQWdCQ0FLYkNBQ2Ftb2dCR29pQUNBRVFRVnNhaUVDSUF3Z0NVRUNkQ0lRYWlFRElBbEJBM1FoRFVFQUlBbHJRUUowSVE0Z0NVRURiRUVDZENFUEEwQWdDU0VGQTBBZ0F5QU5haUFBSUJWcUxRQUFJaEVnQWlBVmFpMEFBQ0FDSUFScUxRQUFJZ3NnQWlBYWFpMEFBQ0lTYWlJS2F5QUtRUUowYTJvZ0FpMEFBQ0lZSUFJZ0Ztb3RBQUFpRTJwQkZHeHFOZ0lBSUFNZ0VHb2dBQ0FFYWkwQUFDSVpJQXNnRWlBVGFrRVViR29nRVNBWWFpSUtheUFLUVFKMGEybzJBZ0FnQXlBQUxRQUFJZ3NnR0NBUklCSnFRUlJzYWlBVElCbHFJZ3BySUFwQkFuUnJhallDQUNBRElBNXFJQUFnRm1vdEFBQWdFeUFSSUJscVFSUnNhaUFMSUJKcUlncHJJQXBCQW5ScmFqWUNBQ0FBUVFGcUlRQWdBMEVFYWlFRElBSkJBV29oQWlBRlFYOXFJZ1VOQUFzZ0FpQVhhaUVDSUFBZ0Yyb2hBQ0FESUE5cUlRTWdGRUYvYWlJVURRQUxDeUFIQkVCQkVDQUdheUVRSUFaQkFuWWhDaUFNSUFoQkFuUnFRUWhxSVFBZ0RFRVVhaUVDQTBBZ0NnUkFJQUpCYkdvb0FnQWhCQ0FDUVhCcUtBSUFJUThnQWtGMGFpZ0NBQ0VOSUFKQmVHb29BZ0FoQlNBQ1FYeHFLQUlBSVFNZ0NpRUpBMEFnQVNBQ0tBSUFJZzRnQkNBRElBOXFJZ1JySUFVZ0RXcEJGR3hxSUFSQkFuUnJha0dBQkdwQkNuVkJzQzVxTFFBQUlBQW9BZ0JCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFDQUJJQUlvQWdRaUN5QVBJQU1nQldwQkZHeHFJQTBnRG1vaUJHc2dCRUVDZEd0cVFZQUVha0VLZFVHd0xtb3RBQUFnQUNnQ0JFRVFha0VGZFVHd0xtb3RBQUJxUVFGcVFRRjJPZ0FCSUFFZ0FpZ0NDQ0lJSUEwZ0F5QU9ha0VVYkdvZ0JTQUxhaUlFYXlBRVFRSjBhMnBCZ0FScVFRcDFRYkF1YWkwQUFDQUFLQUlJUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFBSWdBU0FDS0FJTUlnWWdCU0FMSUE1cVFSUnNhaUFESUFocUlnUnJJQVJCQW5ScmFrR0FCR3BCQ25WQnNDNXFMUUFBSUFBb0FneEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQXlBQlFRUnFJUUVnQUVFUWFpRUFJQUpCRUdvaEFpQURJUVFnRGlFUElBc2hEU0FJSVFVZ0JpRURJQWxCZjJvaUNRMEFDd3NnQVNBUWFpRUJJQUJCRkdvaEFDQUNRUlJxSVFJZ0IwRi9haUlIRFFBTEN5QU1RWUFPYWlRQUM5RUhBUXgvSXdCQmdBNXJJZzhrQUNBR1FRVnFJUWtDUUFKQUlBSkJBRWdOQUNBRFFRQklEUUFnQWlBSmFpQUVTdzBBSUFkQkJXb2lEaUFEYWlBRlN3MEFJQVFoQ1NBRElRb01BUXNnQUNBUFFjQUthaUFDSUFNZ0JDQUZJQWtnQjBFRmFpSU9JQWtRRENBUFFjQUthaUVBUVFBaEFnc0NRQ0FPUlEwQUlBWkJBbllpRWtVTkFDQUpJQVpySVJNZ0FDQUpJQXBzSUFKcWFrRUZhaUVDSUE4aEFBTkFJQUpCZjJvdEFBQWhDU0FDUVg1cUxRQUFJUU1nQWtGOWFpMEFBQ0VGSUFKQmZHb3RBQUFoQ2lBQ1FYdHFMUUFBSVF3Z0VpRU5BMEFnQUNBQ0xRQUFJZ1FnRENBSklBcHFJZ3RySUFNZ0JXcEJGR3hxSUF0QkFuUnJhallDQUNBQUlBSXRBQUVpQ3lBRElBbHFRUlJzSUFwcUlBUWdCV29pQ21zZ0NrRUNkR3RxTmdJRUlBQWdBaTBBQWlJUUlBUWdDV3BCRkd3Z0JXb2dBeUFMYWlJRmF5QUZRUUowYTJvMkFnZ2dBQ0FDTFFBREloUWdCQ0FMYWtFVWJDQURhaUFKSUJCcUlnTnJJQU5CQW5ScmFqWUNEQ0FBUVJCcUlRQWdBa0VFYWlFQ0lBa2hEQ0FFSVFvZ0N5RUZJQkFoQXlBVUlRa2dEVUYvYWlJTkRRQUxJQUlnRTJvaEFpQU9RWDlxSWc0TkFBc0xJQWRCQW5ZaUJ3UkFRY0FBSUFacklSUWdEeUFHUVFKMElnUnFJZ2tnQmtFVWJHb2hBaUFKSUFoQkFtb2dCbXhCQW5ScUlRQWdCa0VEYkVFQ2RDRUZRUUFnQm1zaURrRURkQ0VUSUFaQkEzUWhDQU5BSUFZaEF5QUdCRUFEUUNBQklBZ2dDV29vQWdBaUNpQUNJQWhxS0FJQUlBSWdCR29vQWdBaUVTQUNJQk5xS0FJQUlndHFJZ3hySUF4QkFuUnJhaUFDS0FJQUlnMGdBaUFPUVFKMEloQnFLQUlBSWd4cVFSUnNha0dBQkdwQkNuVkJzQzVxTFFBQUlBQWdDR29vQWdCQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FNQ0FCSUFRZ0NXb29BZ0FpRWlBUklBc2dER3BCRkd4cUlBb2dEV29pRVdzZ0VVRUNkR3RxUVlBRWFrRUtkVUd3TG1vdEFBQWdBQ0FFYWlnQ0FFRVFha0VGZFVHd0xtb3RBQUJxUVFGcVFRRjJPZ0FnSUFFZ0NTZ0NBQ0lSSUEwZ0NpQUxha0VVYkdvZ0RDQVNhaUlOYXlBTlFRSjBhMnBCZ0FScVFRcDFRYkF1YWkwQUFDQUFLQUlBUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFCQWdBU0FKSUJCcUtBSUFJQXdnQ2lBU2FrRVViR29nQ3lBUmFpSUtheUFLUVFKMGEycEJnQVJxUVFwMVFiQXVhaTBBQUNBQUlCQnFLQUlBUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFBQWdBRUVFYWlFQUlBbEJCR29oQ1NBQlFRRnFJUUVnQWtFRWFpRUNJQU5CZjJvaUF3MEFDd3NnQVNBVWFpRUJJQUFnQldvaEFDQUNJQVZxSVFJZ0JTQUphaUVKSUFkQmYyb2lCdzBBQ3dzZ0QwR0FEbW9rQUF1MEJnRUpmeU1BUWNBRGF5SU5KQUFnQmtFRmFpRUpBa0FDUUNBQ1FRQklEUUFnQXlBSGFpQUZTdzBBSUFOQkFFZ05BQ0FDSUFscUlBUkxEUUFnQkNFSklBTWhDZ3dCQ3lBQUlBMGdBaUFESUFRZ0JTQUpJQWNnQ1JBTUlBMGhBRUVBSVFJTElBY0VRRUVRSUFacklSQWdDU0FHYXlFUklBWkJBblloRHlBQUlBa2dDbXdnQW1wcVFRVnFJUWtEUUFKQUlBOUZEUUFnQ1VGL2FpMEFBQ0VDSUFsQmZtb3RBQUFoQmlBSlFYMXFMUUFBSVFNZ0NVRjhhaTBBQUNFRklBbEJlMm90QUFBaENpQVBJZ0FoQ3lBSUJFQURRQ0FCSUFZZ0NTMEFBQ0lFSUFvZ0FpQUZhaUlLYXlBRElBWnFRUlJzYWlBS1FRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFDQUJJQUlnQ1MwQUFTSUxJQVVnQWlBR2FrRVViR29nQXlBRWFpSUZheUFGUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQVNBQklBUWdDUzBBQWlJTUlBTWdBaUFFYWtFVWJHb2dCaUFMYWlJRGF5QURRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBaUFCSUFzZ0NTMEFBeUlPSUFZZ0JDQUxha0VVYkdvZ0FpQU1haUlEYXlBRFFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUF5QUJRUVJxSVFFZ0NVRUVhaUVKSUFJaENpQUVJUVVnQ3lFRElBd2hCaUFPSVFJZ0FFRi9haUlBRFFBTUFnQUxBQXNEUUNBQklBTWdDUzBBQUNJQUlBb2dBaUFGYWlJRWF5QURJQVpxUVJSc2FpQUVRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBQ0FCSUFZZ0NTMEFBU0lFSUFVZ0FpQUdha0VVYkdvZ0FDQURhaUlGYXlBRlFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFTQUJJQUlnQ1MwQUFpSU1JQU1nQUNBQ2FrRVViR29nQkNBR2FpSURheUFEUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQWlBQklBQWdDUzBBQXlJT0lBWWdBQ0FFYWtFVWJHb2dBaUFNYWlJRGF5QURRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBeUFCUVFScUlRRWdDVUVFYWlFSklBSWhDaUFBSVFVZ0JDRURJQXdoQmlBT0lRSWdDMEYvYWlJTERRQUxDeUFCSUJCcUlRRWdDU0FSYWlFSklBZEJmMm9pQncwQUN3c2dEVUhBQTJva0FBdkdCQUVMZnlNQVFjQURheUlOSkFBQ1FBSkFJQUpCQUVnTkFDQURRUUJJRFFBZ0FpQUdhaUFFU3cwQUlBTWdCMnBCQldvZ0JVc05BQ0FESVFrTUFRc2dBQ0FOSUFJZ0F5QUVJQVVnQmlBSFFRVnFJQVlRRENBTklRQWdCaUVFUVFBaEFnc2dCMEVDZGlJUUJFQkJ3QUFnQm1zaEVpQUVRUUYwSVFVZ0JFRUNkQ0FHYXlFT1FRQWdCR3NpRDBFQmRDRVRJQUFnQkNBSmJDQUNhbW9nQkdvaUFDQUVRUVZzYWlFQ0lBQWdCQ0FJUVFKcWJHb2hCd05BSUFZaEF5QUdCRUFEUUNBQklBQWdCV290QUFBaUNDQUNJQVZxTFFBQUlBSWdCR290QUFBaUNpQUNJQk5xTFFBQUlnbHFJZ3RySUF0QkFuUnJhaUFDTFFBQUlnd2dBaUFQYWkwQUFDSUxha0VVYkdwQkVHcEJCWFZCc0M1cUxRQUFJQVVnQjJvdEFBQnFRUUZxUVFGMk9nQXdJQUVnQUNBRWFpMEFBQ0lSSUFvZ0NTQUxha0VVYkdvZ0NDQU1haUlLYXlBS1FRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQUlBUWdCMm90QUFCcVFRRnFRUUYyT2dBZ0lBRWdBQzBBQUNJS0lBd2dDQ0FKYWtFVWJHb2dDeUFSYWlJTWF5QU1RUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFJQWN0QUFCcVFRRnFRUUYyT2dBUUlBRWdBQ0FQYWkwQUFDQUxJQWdnRVdwQkZHeHFJQWtnQ21vaUNHc2dDRUVDZEd0cVFSQnFRUVYxUWJBdWFpMEFBQ0FISUE5cUxRQUFha0VCYWtFQmRqb0FBQ0FIUVFGcUlRY2dBRUVCYWlFQUlBRkJBV29oQVNBQ1FRRnFJUUlnQTBGL2FpSUREUUFMQ3lBQklCSnFJUUVnQnlBT2FpRUhJQUlnRG1vaEFpQUFJQTVxSVFBZ0VFRi9haUlRRFFBTEN5QU5RY0FEYWlRQUM0OEhBUXgvSUFFb0FnZ2hDeUFCS0FJRUlRWUNRQUpBQWtBZ0FrRUZTdzBBSUFKQkFXc09CQUFBQUFBQkN5QUFLQUs0R2cwQURBRUxJQUJCeEFscUlRUURRQ0FFSUFNUUZDRUhJQU5CRGtzTkFTQURRUUZxSVFNZ0IwVU5BQXNMQWtBQ1FBSkFBa0FnQUNnQ21Ba2lDQVJBSUFBb0Fyd0pJUXBCQUNFRFFRQWhCQU5BSUFvZ0EwSFlBV3hxS0FMRUFVVUVRRUVBSUFSQkFXb2lCQ0FFSUFaR0lnVWJJUVFnQlNBSmFpRUpJQU5CQVdvaUF5QUlTUTBCQ3dzZ0F5QUlSdzBCQ3dKQUFrQWdBa0YrYWlJQ1FRVkxEUUFDUUNBQ1FRRnJEZ1FCQVFFQkFBc2dCMFVOQVNBQUtBSzRHa1VOQVF3REN5QUhEUUlMSUFFb0FnQkJnQUVnQmlBTGJFR0FBMndRQnhvTUFnc2dBQ2dDdkFrZ0JpQUpiRUhZQVd4cUlRZ2dCQVJBSUFRaEF3TkFJQWdnQTBGL2FpSURRZGdCYkdvaUNpQUJJQWtnQXlBQ0lBY1FGaUFLUVFFMkFzUUJJQUFnQUNnQ3RBbEJBV28yQXJRSklBTU5BQXNMSUFSQkFXb2lBeUFHU1FSQUEwQWdDQ0FEUWRnQmJHb2lCQ2dDeEFGRkJFQWdCQ0FCSUFrZ0F5QUNJQWNRRmlBRVFRRTJBc1FCSUFBZ0FDZ0N0QWxCQVdvMkFyUUpDeUFEUVFGcUlnTWdCa2NOQUFzTEFrQWdDVVVOQUNBR1JRMEFRUUFoQlNBSlFYOXFJZ3dnQm13aERTQU1SUVJBQTBBZ0FDZ0N2QWtnRFVIWUFXeHFJQVZCMkFGc2FpSUVJQUZCQUNBRklBSWdCeEFXSUFSQkFUWUN4QUVnQUNBQUtBSzBDVUVCYWpZQ3RBa2dCVUVCYWlJRklBWkhEUUFNQWdBTEFBc2dDVUYrYWlFSVFRQWdCbXRCMkFGc0lRNERRQ0FBS0FLOENTQU5RZGdCYkdvZ0JVSFlBV3hxSWdNZ0FTQU1JQVVnQWlBSEVCWWdBMEVCTmdMRUFTQUFJQUFvQXJRSlFRRnFOZ0swQ1NBSUlRUURRQ0FESUE1cUlnTWdBU0FFSWdvZ0JTQUNJQWNRRmlBRFFRRTJBc1FCSUFBZ0FDZ0N0QWxCQVdvMkFyUUpJQVJCZjJvaEJDQUtEUUFMSUFWQkFXb2lCU0FHUncwQUN3c2dDVUVCYWlJRklBdFBEUUlnQmtVTkFnTkFJQUFvQXJ3SklBVWdCbXhCMkFGc2FpRUlRUUFoQXdOQUlBZ2dBMEhZQVd4cUlnUW9Bc1FCUlFSQUlBUWdBU0FGSUFNZ0FpQUhFQllnQkVFQk5nTEVBU0FBSUFBb0FyUUpRUUZxTmdLMENRc2dBMEVCYWlJRElBWkhEUUFMSUFWQkFXb2lCU0FMUncwQUN3d0NDeUFCS0FJQUlBY2dCaUFMYkVHQUEyd1FGUm9MSUFBZ0FDZ0NtQWtpQVRZQ3RBa2dBVVVOQUNBQUtBSzhDU0VBUVFBaEF3TkFJQUFnQTBIWUFXeHFRUUUyQWdnZ0EwRUJhaUlESUFGSERRQUxDd3MyQVFKL0lBQW9BaWdpQWdSQUEwQWdBQ2dDQkNBQlFRSjBhaUFBS0FJQUlBRkJLR3hxTmdJQUlBRkJBV29pQVNBQ1J3MEFDd3NMOXdRQ0RIOEJma0VISVFVakFFRWdheUlJSVF3RFFDQUZJQUZKQkVBZ0FFRUFJQVZyUVNoc2FpRUtJQVVoQmdOQUlBQWdCa0VvYkdvaUFpZ0NDQ0VKSUFJcEFnQWhEaUFJSUFJcEFndzNBeGdnQWlnQ0dDRU5JQUlvQWhRaEN5QU1JQUlvQWlRMkFoQWdDQ0FDS1FJY053TUlBa0FnQmlJRElBVkpEUUFDUUNBTFJRUkFBMEFnQ2lBRFFTaHNJZ0pxSWdRb0FoUU5BaUFOUlEwQ0lBUW9BaGdOQWlBQUlBSnFJZ1FnQUNBRElBVnJJZ05CS0d4cUlnSXBBZ0EzQWdBZ0JDQUNLUUlnTndJZ0lBUWdBaWtDR0RjQ0dDQUVJQUlwQWhBM0FoQWdCQ0FDS1FJSU53SUlJQU1nQlU4TkFBd0RBQXNBQ3lBTFFYOXFRUUZOQkVBRFFBSi9Ba0FnQ2lBRFFTaHNJZ0pxSWdRb0FoUWlCMFVOQUNBSFFYOXFRUUZMRFFBZ0JDZ0NDQ0lISUFsS0RRUWdBQ0FDYWlJRUlBY2dDVWdOQVJvZ0JDRUNEQVVMSUFBZ0Ftb0xJZ1FnQUNBRElBVnJJZ05CS0d4cUlnSXBBZ0EzQWdBZ0JDQUNLUUlnTndJZ0lBUWdBaWtDR0RjQ0dDQUVJQUlwQWhBM0FoQWdCQ0FDS1FJSU53SUlJQU1nQlU4TkFBd0RBQXNBQ3dOQUlBb2dBMEVvYkNJQ2FpSUVLQUlVSWdjRVFDQUhRWDlxUVFKSkRRSWdCQ2dDQ0NBSlRBMENDeUFBSUFKcUlnUWdBQ0FESUFWcklnTkJLR3hxSWdJcEFnQTNBZ0FnQkNBQ0tRSWdOd0lnSUFRZ0Fpa0NHRGNDR0NBRUlBSXBBaEEzQWhBZ0JDQUNLUUlJTndJSUlBTWdCVThOQUFzTUFRc2dBQ0FEUVNoc2FpRUNDeUFDSUE0M0FnQWdBQ0FEUVNoc2FpSURJQWsyQWdnZ0NDa0RHQ0VPSUFNZ0RUWUNHQ0FESUFzMkFoUWdBeUFPTndJTUlBTWdDQ2tEQ0RjQ0hDQURJQXdvQWhBMkFpUWdCa0VCYWlJR0lBRkhEUUFMQ3lBRlFRRjJJZ1VOQUFzTHJRVUJBWDhDUUNBQUtBSUFJZ0VvQWhSRkRRQWdBVUVBTmdJVUlBRW9BaGdOQUNBQUlBQW9BaXhCZjJvMkFpd0xBa0FnQVNnQ1BFVU5BQ0FCUVFBMkFqd2dBVUZBYXlnQ0FBMEFJQUFnQUNnQ0xFRi9hallDTEFzQ1FDQUJLQUprUlEwQUlBRkJBRFlDWkNBQktBSm9EUUFnQUNBQUtBSXNRWDlxTmdJc0N3SkFJQUVvQW93QlJRMEFJQUZCQURZQ2pBRWdBU2dDa0FFTkFDQUFJQUFvQWl4QmYybzJBaXdMQWtBZ0FTZ0N0QUZGRFFBZ0FVRUFOZ0swQVNBQktBSzRBUTBBSUFBZ0FDZ0NMRUYvYWpZQ0xBc0NRQ0FCS0FMY0FVVU5BQ0FCUVFBMkF0d0JJQUVvQXVBQkRRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3dKQUlBRW9Bb1FDUlEwQUlBRkJBRFlDaEFJZ0FTZ0NpQUlOQUNBQUlBQW9BaXhCZjJvMkFpd0xBa0FnQVNnQ3JBSkZEUUFnQVVFQU5nS3NBaUFCS0FLd0FnMEFJQUFnQUNnQ0xFRi9hallDTEFzQ1FDQUJLQUxVQWtVTkFDQUJRUUEyQXRRQ0lBRW9BdGdDRFFBZ0FDQUFLQUlzUVg5cU5nSXNDd0pBSUFFb0F2d0NSUTBBSUFGQkFEWUMvQUlnQVNnQ2dBTU5BQ0FBSUFBb0FpeEJmMm8yQWl3TEFrQWdBU2dDcEFORkRRQWdBVUVBTmdLa0F5QUJLQUtvQXcwQUlBQWdBQ2dDTEVGL2FqWUNMQXNDUUNBQktBTE1BMFVOQUNBQlFRQTJBc3dESUFFb0F0QUREUUFnQUNBQUtBSXNRWDlxTmdJc0N3SkFJQUVvQXZRRFJRMEFJQUZCQURZQzlBTWdBU2dDK0FNTkFDQUFJQUFvQWl4QmYybzJBaXdMQWtBZ0FTZ0NuQVJGRFFBZ0FVRUFOZ0tjQkNBQktBS2dCQTBBSUFBZ0FDZ0NMRUYvYWpZQ0xBc0NRQ0FCS0FMRUJFVU5BQ0FCUVFBMkFzUUVJQUVvQXNnRURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3dKQUlBRW9BdXdFUlEwQUlBRkJBRFlDN0FRZ0FTZ0M4QVFOQUNBQUlBQW9BaXhCZjJvMkFpd0xBMEFnQUJCZVJRMEFDeUFBUVFBMkFqQWdBRUwvL3dNM0FpUUwzUTRCQ1g4Z0FpZ0NBQ0FBS0FJSUlnSW9BZ0JHQkVBZ0FFRUFOZ0kwSUFBb0FqZ2lDMFVoRFFKQUlBRkZCRUFnQWlBRE5nSU1JQUpCQURZQ0ZDQUNJQTAyQWhnZ0FpQUVOZ0lRSUFJZ0F6WUNDQ0FMRFFFZ0FDQUFLQUlzUVFGcU5nSXNEQUVMSUFVRVFDQUFRZ0EzQWhBZ0FCQW9Ba0FnQVNnQ0FFVUVRQ0FBS0FJNFJRMEJDeUFBUWdBM0FoQUxJQUFvQWdnaUFrRURRUUlnQVNnQ0JDSUJHellDRkNBQVFRQkIvLzhESUFFYk5nSWtJQUlnRFRZQ0dDQUNRUUEyQWhBZ0FrSUFOd0lJSUFCQ2dZQ0FnQkEzQWlnTUFRc0NRQUpBQWtBZ0FTZ0NDQVJBUVFBaEN3TkFJQUVnQzBFVWJHb2lDQ2dDRENJQ1FRWkxEUUlDUUFKQUFrQUNRQUpBQWtBQ1FDQUNRUUZyRGdZQUFRSURCQVVKQ3lBQUtBSVlJZ2xGRFFnZ0F5QUlLQUlRYXlFTUlBQW9BZ0FoQ2tFQUlRZ0RRQUpBSUFvZ0NFRW9iR29pQWlnQ0ZFRi9ha0VCVFFSQUlBSW9BZ2dnREVZTkFRc2dDRUVCYWlJSUlBbEhEUUVNQ2dzTElBaEJBRWdOQ0NBQ1FRQTJBaFFnQUNBQUtBSW9RWDlxTmdJb0lBSW9BaGdOQlNBQUlBQW9BaXhCZjJvMkFpd2dDMEVCYWlFTERBWUxJQUFvQWhnaUNVVU5CeUFJS0FJVUlRd2dBQ2dDQUNFS1FRQWhDQU5BQWtBZ0NpQUlRU2hzYWlJQ0tBSVVRUU5HQkVBZ0FpZ0NDQ0FNUmcwQkN5QUlRUUZxSWdnZ0NVY05BUXdKQ3dzZ0NFRUFTQTBISUFKQkFEWUNGQ0FBSUFBb0FpaEJmMm8yQWlnZ0FpZ0NHQTBFSUFBZ0FDZ0NMRUYvYWpZQ0xDQUxRUUZxSVFzTUJRc2dBQ2dDSkNJQ1FmLy9BMFlOQmlBQ0lBZ29BaGdpREVrTkJpQUFLQUlZSWdsRkRRWWdDQ2dDRUNFT0lBQW9BZ0FoQ2tFQUlRSURRQUpBQWtBZ0NpQUNRU2hzYWlJSUtBSVVRUU5IRFFBZ0NDZ0NDQ0FNUncwQUlBaEJBRFlDRkNBQUlBQW9BaWhCZjJvMkFpZ2dDQ2dDR0EwQklBQWdBQ2dDTEVGL2FqWUNMQXdCQ3lBQ1FRRnFJZ0lnQ1VjTkFRc0xJQWxCQVNBSlFRRkxHeUVKSUFNZ0Rtc2hEa0VBSVFnRFFBSkFJQW9nQ0VFb2JHb2lBaWdDRkNJUFFYOXFRUUZOQkVBZ0FpZ0NDQ0FPUmcwQkN5QUlRUUZxSWdnZ0NVY05BUXdJQ3dzZ0NFRUFTQTBHSUE5QkFra05CaUFDUVFNMkFoUWdBaUFNTmdJSUlBdEJBV29oQ3d3RUN5QUFJQWdvQWh3aUNUWUNKQ0FBS0FJWUlneEZEUUlnQUNnQ0FDRUtRUUFoQWlBSlFmLy9BMFlFUUFOQUFrQWdDaUFDUVNoc2FpSUlLQUlVUVFOSERRQWdDRUVBTmdJVUlBQWdBQ2dDS0VGL2FqWUNLQ0FJS0FJWURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3lBQ1FRRnFJZ0lnREVjTkFBd0VBQXNBQ3dOQUFrQWdDaUFDUVNoc2FpSUlLQUlVUVFOSERRQWdDQ2dDQ0NBSlRRMEFJQWhCQURZQ0ZDQUFJQUFvQWloQmYybzJBaWdnQ0NnQ0dBMEFJQUFnQUNnQ0xFRi9hallDTEFzZ0FrRUJhaUlDSUF4SERRQUxEQUlMSUFBUUtDQUFRUUUyQWpSQkFDRURJQXRCQVdvaEN3d0NDeUFBS0FJa0lnSkIvLzhEUmcwRElBSWdDQ2dDR0NJTVNRMERJQUFvQWhnaUNrVU5BeUFBS0FJQUlRaEJBQ0VDQWtBRFFBSkFJQWdnQWtFb2JHb2lDU2dDRkVFRFJ3MEFJQWtvQWdnZ0RFY05BQ0FKUVFBMkFoUWdBQ0FBS0FJb1FYOXFJZ2cyQWlnZ0NTZ0NHQTBDSUFBZ0FDZ0NMRUYvYWpZQ0xBd0NDeUFDUVFGcUlnSWdDa2NOQUFzZ0FDZ0NLQ0VJQ3lBSUlBcFBEUU1nQUNnQ0NDSUNRUU0yQWhRZ0FpQUVOZ0lRSUFJZ0REWUNDQ0FDSUFNMkFnd2dBaUFBS0FJNFJUWUNHRUVCSVJBZ0FDQUlRUUZxTmdJb0lBQWdBQ2dDTEVFQmFqWUNMQXNnQzBFQmFpRUxEQUFBQ3dBTFFRQWhBaUFBS0FJb0lna2dBQ2dDR0NJTFNRMEJJQWxGQkVCQkFDRUpEQUlMSUFBb0FnQWhERUYvSVFFRFFDQU1JQUpCS0d4cUlnb29BaFJCZjJwQkFVMEVRQ0FLS0FJSUlnb2dDQ0FCUVg5R0lBb2dDRWh5SWdvYklRZ2dBaUFCSUFvYklRRUxJQUpCQVdvaUFpQUpSdzBBQ3lBQlFRQklEUUVnRENBQlFTaHNhaUlCUVFBMkFoUWdBQ0FKUVg5cUlnazJBaWdnQVNnQ0dBMEJJQUFnQUNnQ0xFRi9hallDTEF3QkN5QVFEUUVnQUNnQ0dDRUxJQUFvQWlnaENRc2dDU0FMVHcwQklBQW9BZ2dpQVNBTk5nSVlJQUZCQWpZQ0ZDQUJJQVEyQWhBZ0FTQUROZ0lJSUFFZ0F6WUNEQ0FBSUFsQkFXbzJBaWdnQUNBQUtBSXNRUUZxTmdJc0N3c2dBQ2dDQ0NJQklBYzJBaUFnQVNBR05nSWNJQUVnQlRZQ0pBSkFJQUFvQWpoRkJFQWdBQ2dDTENJSklBQW9BaHdpQTAwTkFTQUFLQUlBSVFRRFFFSC8vLy8vQnlFRlFRQWhCa0VBSVFJRFFDQUVJQUpCS0d4cUlnRW9BaGdFUUNBQklBWWdBU2dDRUNJQklBVklJZ2NiSVFZZ0FTQUZJQWNiSVFVTElBSkJBV29pQWlBRFRRMEFDd0pBSUFaRkRRQWdBQ2dDRENBQUtBSVFJZ0pCQkhScUlnRWdCaWdDQURZQ0FDQUJJQVlvQWlRMkFnd2dBU0FHS0FJY05nSUVJQUVnQmlnQ0lEWUNDQ0FBSUFKQkFXbzJBaEFnQmtFQU5nSVlJQVlvQWhRTkFDQUFJQWxCZjJvaUNUWUNMQXNnQ1NBRFN3MEFDd3dCQ3lBQktBSUFJUUlnQUNnQ0RDQUFLQUlRSWdOQkJIUnFJZ0VnQlRZQ0RDQUJJQUkyQWdBZ0FTQUhOZ0lJSUFFZ0JqWUNCQ0FBSUFOQkFXbzJBaEFnQUNnQ0hDRURDeUFBS0FJQUlBTkJBV29RSndzTDFBc0NBbjhCZmlNQVFaQUJheUlFSkFBZ0JFRUFOZ0lNQWtBQ1FBSkFJQUFvQXBBYVJRMEFJQUFvQXBRYUlBRkhEUUFnQkNBQVFhUWFhaWtDQURjREdDQUFLUUtjR2lFR0lBUkJBRFlDR0NBRUlBWTNBeEFnQkVFQU5nSWdJQVFnQmo0Q0ZDQURJQUFvQXBnYU5nSUFEQUVMUVFNaEJTQUJJQUlnQkVFUWFpQURFR01OQVNBQUlBUXBBeEEzQXB3YUlBQkJyQnBxSUFRb0FpQTJBZ0FnQUVHa0dtb2dCQ2tER0RjQ0FDQURLQUlBSVFJZ0FDQUJOZ0tVR2lBQUlBSTJBcGdhQzBFQUlRVWdBRUVBTmdLUUdpQUVRUkJxSUFSQmlBRnFFRThFUUVFRElRVU1BUXNnQkNnQ2lBRkJmMnBCQzBzTkFDQUVRUkJxSUFSQmlBRnFJQUFnQkVFTWFoQXlJZ0VFUUVFRUlRVWdBVUh3L3dOR0RRRkJBeUVGREFFTEFrQWdCQ2dDREFSQUFrQWdBQ2dDb0FsRkRRQWdBQ2dDRUVVTkFFRURJUVVnQUNnQ3RCb05Bd0pBSUFBb0FxUUpSUVJBSUFCQnhBbHFJZ0lpQVNBQktBSUFJQUVvQWh4QktHeHFJZ0UyQWdnZ0FDQUJLQUlBTmdLNENpQUNFQ1lnQUNBQVFiZ0tha0VBRUNVTUFRc2dBQ0FBUWJnS2FpQUFRZHdLYWlnQ0FCQWxDeUFEUVFBMkFnQWdBRUVBTmdLY0NTQUFRUUUyQXBBYURBSUxJQUJCQURZQ25Ba2dBRUVBTmdLa0NRc2dCQ2dDaUFGQmYyb2lBVUVIU3cwQkFrQUNRQUpBSUFGQkFXc09Cd1FFQkFJRUFBRUNDeUFFUVJCcUlBUkJLR29RUXdSQUlBUW9BbEFRQkNBRVFRQTJBbEFnQkNnQ2ZCQUVJQVJCQURZQ2ZFRURJUVVNQkFzZ0FDQUVRU2hxRURjTUF3c2dCRUVRYWlBRVFTaHFFRXdFUUNBRUtBSThFQVFnQkVFQU5nSThJQVFvQWtBUUJDQUVRUUEyQWtBZ0JDZ0NSQkFFSUFSQkFEWUNSQ0FFS0FKVUVBUWdCRUVBTmdKVVFRTWhCUXdEQ3lBQUlBUkJLR29RTmd3Q0N5QUFLQUtjQ1EwQklBQkJBVFlDb0FrQ1FDQUFLQUtrQ1EwQUlBQkNBRGNDdEFrZ0JFRVFhaUFFUVNocUVDQWFJQUFvQWdnaEFTQUFJQVFvQWlnZ0JDZ0NpQUZCQlVZUU5TSUNCRUFnQUVLQWdvQ0FnQVEzQWdRZ0FFRUFOZ0swR2lBQVFnQTNBZ3hCQlVFRUlBSkIvLzhEUmhzaEJRd0RDeUFCSUFBb0FnaEdEUUFnQUNnQ0VDRUJJQVJCQVRZQ0NDQUFLQUlBSWdKQkgwMEVRQ0FBSUFKQkFuUnFLQUlVSVFVTElBTkJBRFlDQUNBQVFRRTJBcEFhQWtBQ1FBSkFJQVFvQW9nQlFRVkhEUUFnQkVFSWFpQUVRUkJxSUFFZ0FDZ0NEQkE0SUFRb0FnaHlEUUFnQlVVTkFDQUFRZndKYWlnQ0FBMEFJQVVvQWpRZ0FTZ0NORWNOQUNBRktBSTRJQUVvQWpoSERRQWdCU2dDV0NBQktBSllSZzBCQ3lBQVFZQUtha0VBTmdJQURBRUxJQUJCeEFscUVGa0xJQUFnQUNnQ0NEWUNBRUVDSVFVTUFnc2dBQ2dDdEJvRVFFRURJUVVNQWdzZ0JFRVFhaUFBUWJRU2FpSUNJQUFvQWhBZ0FDZ0NEQ0FFUVlnQmFoQStCRUJCQXlFRkRBSUxJQUFvQXFRSlJRUkFBa0FnQkNnQ2lBRkJCVVlOQUNBQVFjUUphaUFBUWNBU2FpZ0NBQ0FFS0FLTUFVRUFSeUFBS0FJUUtBSXdFRnBGRFFCQkF5RUZEQU1MSUFCQnhBbHFJZ0VnQVNnQ0FDQUJLQUljUVNoc2FpSUJOZ0lJSUFBZ0FTZ0NBRFlDdUFvTElBQkIyQXBxSUFKQjNBY1FGU0VCSUFCQkFUWUNwQWtnQUNBRUtRT0lBVGNDMEFvZ0FDZ0NsQWtnQUNnQ0RDQUFRWmdMYWlnQ0FDQUFLQUlRSWdJb0FqUWdBaWdDT0JBL0lBQkJ4QWxxSWdJUUppQUNJQUJCbkF0cUlBQkI1QXBxS0FJQUlBQkJoQXRxS0FJQUVGOEVRRUVESVFVTUFnc2dCRUVRYWlBQUlBQkJ1QXBxSUFFUVFRUkFJQUFnQUNnQzJBb1FRRUVESVFVTUFnc2dBQkF6UlEwQklBQkJBVFlDbkFrTElBQkJ1QXBxSWdFZ0FDZ0N2QWtRU1NBQUVEUWdBRUdFQ21vZ0FDZ0NFQ0FBUWRnS2FpQUFRZEFLYWhCTklRSUNRQ0FBS0FLa0NVVU5BQ0FBUWNRSmFpRURJQUJCMUFwcUtBSUFCRUFnQXlBQVFld01haUFCSUFCQjVBcHFLQUlBSUFJZ0FDZ0MwQXBCQlVZZ0FDZ0N1QWtnQUNnQ3RBa1FLUXdCQ3lBRFFRQWdBU0FBUWVRS2FpZ0NBQ0FDSUFBb0F0QUtRUVZHSUFBb0FyZ0pJQUFvQXJRSkVDa0xJQUJDQURjQ29BbEJBU0VGQ3lBRVFaQUJhaVFBSUFVTHFBd0JDMzhDUUNBQlFRUlBCRUJCQUNBRGF5SU5RUUYwSVFvQ1FDQUFJQU5ySWdVdEFBQWlCaUFBTFFBQUlnaHJJZ0VnQVVFZmRTSUJhaUFCY3lBQ0tBSUVJZ0ZQRFFBZ0FDQUthaTBBQUNJSElBWnJJZ1FnQkVFZmRTSUVhaUFFY3lBQ0tBSUlJZ3hQRFFBZ0FDQURhaTBBQUNJRUlBaHJJZ3NnQzBFZmRTSUxhaUFMY3lBTVR3MEFJQVVnQkNBR2FpQUhRUUYwYWtFQ2FrRUNkam9BQUNBQUlBZ2dCRUVCZEdvZ0IycEJBbXBCQW5ZNkFBQWdBaWdDQkNFQkN3SkFJQUJCQVdvaUJpQU5haUlNTFFBQUlnZ2dBQzBBQVNJSGF5SUVJQVJCSDNVaUJHb2dCSE1nQVU4TkFDQUdJQXBxTFFBQUlnUWdDR3NpQlNBRlFSOTFJZ1ZxSUFWeklBSW9BZ2dpQzA4TkFDQURJQVpxTFFBQUlnVWdCMnNpQ1NBSlFSOTFJZ2xxSUFseklBdFBEUUFnRENBRklBaHFJQVJCQVhScVFRSnFRUUoyT2dBQUlBWWdCeUFGUVFGMGFpQUVha0VDYWtFQ2Rqb0FBQ0FDS0FJRUlRRUxBa0FnQUVFQ2FpSUdJQTFxSWd3dEFBQWlDQ0FBTFFBQ0lnZHJJZ1FnQkVFZmRTSUVhaUFFY3lBQlR3MEFJQVlnQ21vdEFBQWlCQ0FJYXlJRklBVkJIM1VpQldvZ0JYTWdBaWdDQ0NJTFR3MEFJQU1nQm1vdEFBQWlCU0FIYXlJSklBbEJIM1VpQ1dvZ0NYTWdDMDhOQUNBTUlBVWdDR29nQkVFQmRHcEJBbXBCQW5ZNkFBQWdCaUFISUFWQkFYUnFJQVJxUVFKcVFRSjJPZ0FBSUFJb0FnUWhBUXNDUUNBQVFRTnFJZ1lnRFdvaURDMEFBQ0lJSUFBdEFBTWlCMnNpQkNBRVFSOTFJZ1JxSUFSeklBRlBEUUFnQmlBS2FpMEFBQ0lFSUFocklnVWdCVUVmZFNJRmFpQUZjeUFDS0FJSUlndFBEUUFnQXlBR2FpMEFBQ0lGSUFkcklna2dDVUVmZFNJSmFpQUpjeUFMVHcwQUlBd2dCU0FJYWlBRVFRRjBha0VDYWtFQ2Rqb0FBQ0FHSUFjZ0JVRUJkR29nQkdwQkFtcEJBblk2QUFBZ0FpZ0NCQ0VCQ3dKQUlBQkJCR29pQmlBTmFpSU1MUUFBSWdnZ0FDMEFCQ0lIYXlJRUlBUkJIM1VpQkdvZ0JITWdBVThOQUNBR0lBcHFMUUFBSWdRZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6SUFJb0FnZ2lDMDhOQUNBRElBWnFMUUFBSWdVZ0Iyc2lDU0FKUVI5MUlnbHFJQWx6SUF0UERRQWdEQ0FGSUFocUlBUkJBWFJxUVFKcVFRSjJPZ0FBSUFZZ0J5QUZRUUYwYWlBRWFrRUNha0VDZGpvQUFDQUNLQUlFSVFFTEFrQWdBRUVGYWlJR0lBMXFJZ3d0QUFBaUNDQUFMUUFGSWdkcklnUWdCRUVmZFNJRWFpQUVjeUFCVHcwQUlBWWdDbW90QUFBaUJDQUlheUlGSUFWQkgzVWlCV29nQlhNZ0FpZ0NDQ0lMVHcwQUlBTWdCbW90QUFBaUJTQUhheUlKSUFsQkgzVWlDV29nQ1hNZ0MwOE5BQ0FNSUFVZ0NHb2dCRUVCZEdwQkFtcEJBblk2QUFBZ0JpQUhJQVZCQVhScUlBUnFRUUpxUVFKMk9nQUFJQUlvQWdRaEFRc0NRQ0FBUVFacUlnWWdEV29pREMwQUFDSUlJQUF0QUFZaUIyc2lCQ0FFUVI5MUlnUnFJQVJ6SUFGUERRQWdCaUFLYWkwQUFDSUVJQWhySWdVZ0JVRWZkU0lGYWlBRmN5QUNLQUlJSWd0UERRQWdBeUFHYWkwQUFDSUZJQWRySWdrZ0NVRWZkU0lKYWlBSmN5QUxUdzBBSUF3Z0JTQUlhaUFFUVFGMGFrRUNha0VDZGpvQUFDQUdJQWNnQlVFQmRHb2dCR3BCQW1wQkFuWTZBQUFnQWlnQ0JDRUJDeUFOSUFCQkIyb2lEV29pQ0MwQUFDSUdJQUF0QUFjaUFHc2lCeUFIUVI5MUlnZHFJQWR6SUFGUERRRWdDaUFOYWkwQUFDSUJJQVpySWdvZ0NrRWZkU0lLYWlBS2N5QUNLQUlJSWdwUERRRWdBeUFOYWkwQUFDSUNJQUJySWdNZ0EwRWZkU0lEYWlBRGN5QUtUdzBCSUFnZ0FpQUdhaUFCUVFGMGFrRUNha0VDZGpvQUFDQU5JQUFnQWtFQmRHb2dBV3BCQW1wQkFuWTZBQUFQQzBFQUlBTnJJZ2RCQVhRaEJDQUJJQUlvQWdCcVFYOXFMUUFBSWdGQkFXb2hCaUFCUVg5eklRaEJDQ0VCQTBBQ1FDQUFJQWRxSWdVdEFBQWlDaUFBTFFBQUlnMXJJZ3dnREVFZmRTSU1haUFNY3lBQ0tBSUVUdzBBSUFBZ0JHb3RBQUFpRENBS2F5SUxJQXRCSDNVaUMyb2dDM01nQWlnQ0NDSUxUdzBBSUFBZ0Eyb3RBQUFpQ1NBTmF5SU9JQTVCSDNVaURtb2dEbk1nQzA4TkFDQUZJQW9nQ0NBR0lBMGdDbXRCQW5RZ0NXc2dER3BCQkdwQkEzVWlDaUFLSUFaS0d5QUtJQWhJR3lJS2FrR3dMbW90QUFBNkFBQWdBQ0FOSUFwclFiQXVhaTBBQURvQUFBc2dBRUVCYWlFQUlBRkJmMm9pQVEwQUN3c0w2Z2dCQW44Z0FVRUFRYmdIRUFjaEFrRUJJUUVDUUFKQUlBQkJBUkFESWdOQmYwWU5BQ0FDSUFOQkFVWTJBZ0FDUUNBRFFRRkhEUUFnQUVFSUVBTWlBMEYvUmcwQklBSWdBellDQkNBRFFmOEJSdzBBSUFCQkVCQURJZ05CZjBZTkFTQUNJQU0yQWdnZ0FFRVFFQU1pQTBGL1JnMEJJQUlnQXpZQ0RBc2dBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDRUNBRFFRRkdCRUFnQUVFQkVBTWlBMEYvUmcwQklBSWdBMEVCUmpZQ0ZBc2dBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDR0FKQUFrQWdBMEVCUmdSQUlBQkJBeEFESWdOQmYwWU5BeUFDSUFNMkFod2dBRUVCRUFNaUEwRi9SZzBESUFJZ0EwRUJSallDSUNBQVFRRVFBeUlEUVg5R0RRTWdBaUFEUVFGR05nSWtJQU5CQVVjTkFTQUFRUWdRQXlJRFFYOUdEUU1nQWlBRE5nSW9JQUJCQ0JBRElnTkJmMFlOQXlBQ0lBTTJBaXdnQUVFSUVBTWlBMEYvUncwQ0RBTUxJQUpCQlRZQ0hBc2dBa0tDZ0lDQUlEY0NLRUVDSVFNTElBSWdBellDTUNBQVFRRVFBeUlEUVg5R0RRQWdBaUFEUVFGR05nSTBBa0FnQTBFQlJ3MEFJQUFnQWtFNGFoQUNJZ0VOQVNBQ0tBSTRRUVZMRFFJZ0FDQUNRVHhxRUFJaUFRMEJJQUlvQWp4QkJVME5BQXdDQzBFQklRRWdBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDUUNBRFFRRkdCRUFnQUJBUElRRWdBRUVnRUFzaEF5QUJSUTBDSUFOQmYwWU5BaUFDSUFFMkFrUWdBQkFQSVFFZ0FFRWdFQXNoQXlBQlJRMENJQU5CZjBZTkFpQUNJQUUyQWtoQkFTRUJJQUJCQVJBRElnTkJmMFlOQVNBQ0lBTkJBVVkyQWt3TElBQkJBUkFESWdOQmYwWU5BQ0FDSUFOQkFVWTJBbEFDUUNBRFFRRkdCRUFnQUNBQ1FkUUFhaEFjSWdGRkRRRU1BZ3NnQWtFQk5nSlVJQUpDbUlDQWdJQUROd0xvQXlBQ1FwaUFnSUNBQXpjQzRBTWdBa0dCa0txSkFUWUM0QUVnQWtHQmtLcUpBVFlDWUF0QkFTRUJJQUJCQVJBRElnTkJmMFlOQUNBQ0lBTkJBVVkyQXZBREFrQWdBMEVCUmdSQUlBQWdBa0gwQTJvUUhDSUJSUTBCREFJTElBSkJBVFlDOUFNZ0FrS1lnSUNBZ0FNM0FvZ0hJQUpDbUlDQWdJQUROd0tBQnlBQ1FZRzR1UElBTmdLQUJTQUNRWUc0dVBJQU5nS0FCQXNDUUNBQ0tBSlFSUVJBSUFJb0F2QURSUTBCQzBFQklRRWdBRUVCRUFNaUEwRi9SZzBCSUFJZ0EwRUJSallDa0FjTFFRRWhBU0FBUVFFUUF5SURRWDlHRFFBZ0FpQURRUUZHTmdLVUJ5QUFRUUVRQXlJRFFYOUdEUUFnQWlBRFFRRkdOZ0tZQndKQUlBTkJBVVlFUUNBQVFRRVFBeUlEUVg5R0RRSWdBaUFEUVFGR05nS2NCeUFBSUFKQm9BZHFFQUlpQVEwQ0lBSW9BcUFIUVJCTERRTWdBQ0FDUWFRSGFoQUNJZ0VOQWlBQ0tBS2tCMEVRU3cwRElBQWdBa0dvQjJvUUFpSUJEUUlnQWlnQ3FBZEJFRXNOQXlBQUlBSkJyQWRxRUFJaUFRMENRUUVoQVNBQ0tBS3NCMEVRU3cwQ0lBQWdBa0d3QjJvUUFpSUJEUUlnQUNBQ1FiUUhhaEFDSWdGRkRRRU1BZ3NnQWtFUU5nSzBCeUFDUXBDQWdJQ0FBamNDckFjZ0FrS0JnSUNBZ0FJM0FxUUhJQUpDZ1lDQWdDQTNBcHdIQzBFQUlRRUxJQUVQQzBFQkMwMEJBbjhqQUVFUWF5SURKQUJCQVNFRUFrQWdBQ0FEUVF4cUVBSU5BQ0FES0FJTUlnQkJMMHNOQUNBQlFkQS9RWURBQUNBQ0d5QUFhaTBBQURZQ0FFRUFJUVFMSUFOQkVHb2tBQ0FFQ3o0QkFuOENRQ0FBS0FJTVFRTjBJQUFvQWhCcklnRkZCRUFNQVF0QkFTRUNJQUZCQ0VzTkFFRUJJQUZCZjJwMElBQVFEMEVnSUFGcmRrY1BDeUFDQ3pJQkFuOENRRUdBZ0lEQUFDSUJJQUJ4RFFBRFFDQUNRUUZxSVFJZ0FVRUJkaUlCUlEwQklBQWdBWEZGRFFBTEN5QUNDNG9DQVFkL0lBRkJvRDFxTFFBQVFReHNRZEE4YWlnQ0FDRUNRUUVoQXlBQlFRWlBCRUJCQUNFRElBSWdBVUdRUEdvdEFBQkJmMnAwSVFJTElBQWdBQ2dDQUNJQklBQW9BZ2dpQkdzaUJTQUFLQUlFSWdZZ0FDZ0NEQ0lIYXlJSWF5QUNiQ0FEZFRZQ0RDQUFJQVVnQ0dvZ0Ftd2dBM1UyQWdnZ0FDQUJJQVJxSWdFZ0JpQUhhaUlFYXlBQ2JDQURkVFlDQkNBQUlBRWdCR29nQW13Z0EzVTJBZ0FnQUNBQUtBSWNJZ0VnQUNnQ0ZDSUVhaUlGSUFBb0FoZ2lCaUFBS0FJUUlnZHFJZ2hxSUFKc0lBTjFOZ0lRSUFBZ0JDQUJheUlCSUFjZ0Jtc2lCR29nQW13Z0EzVTJBaGdnQUNBSUlBVnJJQUpzSUFOMU5nSVVJQUFnQkNBQmF5QUNiQ0FEZFRZQ0hBdlBDQUVVZnlBQUlBQW9BaXdpQWlBQUtBSU1JZ1pxSWdVZ0FDZ0NOQ0lFSUFBb0FpQWlFR29pQ21zaUVUWUNMQ0FBS0FJb0lRTWdBQ0FHSUFKcklnY2dFQ0FFYXlJRWF5SUdOZ0lvSUFBb0FpUWhBaUFBSUFRZ0Iyb2lCRFlDSkNBQUlBVWdDbW9pQlRZQ0lDQUFJQUFvQWh3aUNpQUFLQUlJSWdkcUlnZ2dBQ2dDTUNJTUlBQW9BaEFpQ1dvaUMyc2lFRFlDSENBQUtBSVlJUThnQUNBSElBcHJJZ2NnQ1NBTWF5SU1heUlLTmdJWUlBQW9BaFFoQ1NBQUlBY2dER29pQnpZQ0ZDQUFJQWdnQzJvaUNEWUNFQ0FBSUFrZ0FDZ0NBQ0lMYWlJU0lBOGdBQ2dDQkNJTmFpSU9heUlNTmdJTUlBQWdDeUFKYXlJSklBMGdEMnNpQzJzaUR6WUNDQ0FBSUFrZ0Myb2lDVFlDQkNBQUlBNGdFbW9pQ3pZQ0FDQUFJQUlnQUNnQ09DSU5haUlUSUFNZ0FDZ0NQQ0lPYWlJVWF5SVNOZ0k4SUFBZ0FpQU5heUlDSUFNZ0Rtc2lBMnNpRFRZQ09DQUFJQUlnQTJvaURqWUNOQ0FBSUJNZ0ZHb2lFellDTUNBQlFaQThhaTBBQUNFQ0lBRkJvRDFxTFFBQVFReHNRZEE4YWlnQ0FDRURJQUZCREU4RVFDQUFJQU1nQWtGK2FuUWlBU0FGSUF0cUlnTWdDQ0FUYWlJQ2EydzJBakFnQUNBTElBVnJJZ1VnQ0NBVGF5SUlheUFCYkRZQ0lDQUFJQVVnQ0dvZ0FXdzJBaEFnQUNBQ0lBTnFJQUZzTmdJQUlBQWdCQ0FKYWlJRElBY2dEbW9pQW1zZ0FXdzJBalFnQUNBSklBUnJJZ1FnQnlBT2F5SUZheUFCYkRZQ0pDQUFJQVFnQldvZ0FXdzJBaFFnQUNBQ0lBTnFJQUZzTmdJRUlBQWdCaUFQYWlJRElBb2dEV29pQW1zZ0FXdzJBamdnQUNBUElBWnJJZ1lnQ2lBTmF5SUVheUFCYkRZQ0tDQUFJQVFnQm1vZ0FXdzJBaGdnQUNBQ0lBTnFJQUZzTmdJSUlBQWdEQ0FSYXlJRElCQWdFbXNpQW1zZ0FXdzJBaXdnQUNBQ0lBTnFJQUZzTmdJY0lBQWdFQ0FTYWlJRElBd2dFV29pQW1vZ0FXdzJBZ3dnQUNBQ0lBTnJJQUZzTmdJOER3c2dBRUVCUVFJZ0FVRjZha0VHU1JzaUFTQUZJQXRxSWhRZ0NDQVRhaUlWYXlBRGJHcEJBaUFDYXlJQ2RUWUNNQ0FBSUFzZ0JXc2lCU0FJSUJOcklnaHJJQU5zSUFGcUlBSjFOZ0lnSUFBZ0JTQUlhaUFEYkNBQmFpQUNkVFlDRUNBQUlCUWdGV29nQTJ3Z0FXb2dBblUyQWdBZ0FDQUVJQWxxSWdVZ0J5QU9haUlJYXlBRGJDQUJhaUFDZFRZQ05DQUFJQWtnQkdzaUJDQUhJQTVySWdkcklBTnNJQUZxSUFKMU5nSWtJQUFnQkNBSGFpQURiQ0FCYWlBQ2RUWUNGQ0FBSUFVZ0NHb2dBMndnQVdvZ0FuVTJBZ1FnQUNBR0lBOXFJZ1FnQ2lBTmFpSUZheUFEYkNBQmFpQUNkVFlDT0NBQUlBOGdCbXNpQmlBS0lBMXJJZ3BySUFOc0lBRnFJQUoxTmdJb0lBQWdCaUFLYWlBRGJDQUJhaUFDZFRZQ0dDQUFJQVFnQldvZ0Eyd2dBV29nQW5VMkFnZ2dBQ0FNSUJGcklnWWdFQ0FTYXlJRWF5QURiQ0FCYWlBQ2RUWUNMQ0FBSUFRZ0Jtb2dBMndnQVdvZ0FuVTJBaHdnQUNBUUlCSnFJZ1lnRENBUmFpSVJhaUFEYkNBQmFpQUNkVFlDRENBQUlCRWdCbXNnQTJ3Z0FXb2dBblUyQWp3THZRVUJCbjhqQUVFZ2F5SUZKQUFnQTBFQU5nSUFBa0FnQVNnQ0FDSUdRUkpMRFFCQkFTQUdkQ0lHUWNEZkgzRkZCRUFnQmtFaWNVVU5BU0FDUWJRS2FpZ0NBQVJBSUFOQkFUWUNBQ0FDUVFBMkFyUUtDeUFBSUFWQkhHb1FJQ0lFRFFGQjhQOERJUVFnQWlBRktBSWNRUUowYWlnQ2xBRWlDRVVOQVNBQ0lBZ29BZ1FpQmtFQ2RHb29BaFFpQjBVTkFRSkFJQUlvQWdnaUNVRWdSZzBBSUFZZ0NVWU5BQ0FCS0FJQVFRVkhEUUlMQWtBZ0FrR1lDbW9vQWdBaUJDQUJLQUlFSWdaR0RRQWdCRUVBSUFZYkRRQWdBMEVCTmdJQUN5QUJLQUlBSVFRQ1FBSkFJQUlvQXBRS1FRVkdCRUFnQkVFRlJ3MEJEQUlMSUFSQkJVY05BUXNnQTBFQk5nSUFDMEVCSVFRZ0FDQUhLQUlNSUFWQkdHb1FQUTBCSUFVb0FoZ2lCaUFDUVp3S2FpZ0NBRWNFUUNBQ0lBWTJBcHdLSUFOQkFUWUNBQXNnQVNnQ0FFRUZSZ1JBSUFBZ0J5Z0NEQ0FGUVJScUVEd05BZ0pBSUFJb0FwUUtRUVZIQkVBZ0JTZ0NGQ0VFREFFTElBSkJvQXBxS0FJQUlnUWdCU2dDRkNJR1JnMEFJQU5CQVRZQ0FDQUdJUVFMSUFKQm9BcHFJQVEyQWdBTEFrQWdCeWdDRUNJRVFRRkxEUUFnQkVFQmF3UkFRUUVoQkNBQUlBY2dBU2dDQUNBRlFRaHFFRHNOQXlBRktBSUlJZ1FnQWtHa0Ntb29BZ0JIQkVBZ0FpQUVOZ0trQ2lBRFFRRTJBZ0FMSUFnb0FnaEZEUUVnQUNBSElBRW9BZ0FnQlVFUWFoQTZJZ1FOQXlBRktBSVFJZ0FnQWtHb0Ntb29BZ0JHRFFFZ0FpQUFOZ0tvQ2lBRFFRRTJBZ0FNQVFzZ0J5Z0NHQTBBSUFBZ0J5QUJLQUlBSUFnb0FnZ2dCVUVJYWhBNUlnUU5BaUFGS0FJSUlnQWdBa0dzQ21vb0FnQkhCRUFnQWlBQU5nS3NDaUFEUVFFMkFnQUxJQWdvQWdoRkRRQWdCU2dDRENJQUlBSkJzQXBxS0FJQVJnMEFJQUlnQURZQ3NBb2dBMEVCTmdJQUN5QUNJQUVwQWdBM0FwUUtRUUFoQkF3QkN5QURRUUUyQWdBTElBVkJJR29rQUNBRUMzOEJBMzhDUUFKQUFrQWdBRUg4Q21vb0FnQUVRQ0FBS0FLWUNTSUREUUZCQVE4TFFRRWhBU0FBUWF3SmFpZ0NBQ0FBS0FLWUNVY05BUXdDQ3lBQUtBSzhDU0VCUVFBaEFBTkFJQUlnQVNBQVFkZ0JiR29vQXNRQlFRQkhhaUVDSUFCQkFXb2lBQ0FEUncwQUMwRUJJUUVnQWlBRFJnMEJDMEVBSVFFTElBRUxTZ0VEZnlBQVFnQTNBcWdKSUFBb0FwZ0pJZ0VFUUNBQUtBSzhDU0VDUVFBaEFBTkFJQUlnQUVIWUFXeHFJZ05CQURZQ3hBRWdBMEVBTmdJRUlBQkJBV29pQUNBQlJ3MEFDd3NMZ3dZQkRIOUJBU0VHQWtBZ0FDQUJRUUowYWlnQ2xBRWlCRVVOQUNBQUlBUW9BZ1FpQ1VFQ2RHb2lDa0VVYWlnQ0FDSURSUTBBQWtBZ0JDZ0NEQ0lGUVFKSkRRQWdBeWdDTkNJSElBTW9BamhzSVFnQ1FDQUVLQUlRSWdOQkFrc05BQUpBQWtBQ1FDQURRUUZyRGdJREFBRUxJQVZCZjJvaEN5QUVLQUljSVF3Z0JDZ0NHQ0VOUVFBaEF3d0JDeUFFS0FJVUlRZEJBQ0VEQTBBZ0J5QURRUUowYWlnQ0FDQUlUUVJBSUFVZ0EwRUJhaUlEUncwQkRBUUxDMEVCRHdzRFFDQU5JQU5CQW5RaUJXb29BZ0FpRGlBRklBeHFLQUlBSWdWTERRTWdCU0FJVHcwRElBNGdCM0FnQlNBSGNFMEVRQ0FEUVFGcUlnTWdDMFlOQXd3QkN3dEJBUThMSUFOQmZXcEJBazBFUUNBRUtBSWtJQWhORFFFTUFnc2dBMEVHUncwQUlBUW9BaWdnQ0VrTkFRc0NRQ0FBS0FJRUlnTkJnQUpHQkVBZ0FDQUVOZ0lNSUFBZ0FUWUNCQ0FBSUFrMkFnZ2dBQ0FLS0FJVUlnRTJBaEFnQVNnQ05DRUNJQUVvQWpnaEFTQUFRUUUyQXJRYUlBQkJ3QXBxSUFFMkFnQWdBRUc4Q21vZ0FqWUNBQ0FBSUFFZ0FtdzJBcGdKREFFTElBQW9BclFhQkVBZ0FFRUFOZ0swR2lBQUtBSzhDUkFFSUFCQkFEWUN2QWtnQUNnQ2xBa1FCQ0FBSUFBb0FwZ0pJZ0ZCMkFGc0lnUVFDaUlDTmdLOENTQUFJQUZCQW5RUUNpSUROZ0tVQ1VILy93TWhCaUFDUlEwQ0lBTkZEUUlnQWtFQUlBUVFCeUFBS0FJUUtBSTBJQUVRVGlBQUtBSVFJUUZCQVNFQ0FrQWdBQ2dDd0FrTkFDQUJLQUlRUVFKR0RRQUNRQ0FCS0FKUVJRMEFJQUVvQWxRaUJDZ0NtQWRGRFFBZ0JDZ0NzQWRGRFFFTFFRQWhBZ3NnQUVIRUNXb2dBU2dDT0NBQktBSTBiQ0FCS0FKWUlBRW9BaXdnQVNnQ0RDQUNFRndpQmtVTkFRd0NDeUFCSUFOR0RRQWdBQ2dDQ0NBSlJ3UkFJQUpGRFFJZ0FDQUVOZ0lNSUFBZ0FUWUNCQ0FBSUFrMkFnZ2dBQ0FLS0FJVUlnRTJBaEFnQVNnQ05DRUNJQUVvQWpnaEFTQUFRUUUyQXJRYUlBQkJ3QXBxSUFFMkFnQWdBRUc4Q21vZ0FqWUNBQ0FBSUFFZ0FtdzJBcGdKREFFTElBQWdCRFlDRENBQUlBRTJBZ1FMUVFBaEJnc2dCZ3UyQVFFRGZ3SkFJQUFnQVNnQ0FDSURRUUowYWlJQ0tBS1VBU0lFUlFSQUlBSkJ5QUFRQ2lJQU5nS1VBU0FBRFFFUEN3SkFJQU1nQUNnQ0JFY05BQ0FCS0FJRUlBQW9BZ2hHRFFBZ0FFR0JBallDQkFzZ0JDZ0NGQkFFSUFJb0FwUUJRUUEyQWhRZ0FpZ0NsQUVvQWhnUUJDQUNLQUtVQVVFQU5nSVlJQUlvQXBRQktBSWNFQVFnQWlnQ2xBRkJBRFlDSENBQ0tBS1VBU2dDTEJBRUlBSW9BcFFCUVFBMkFpd0xJQUlvQXBRQklBRkJ5QUFRRlJvTDFnRUJBMzhDUUNBQUlBRW9BZ2dpQTBFQ2RHb2lBaWdDRkNJRVJRUkFJQUpCM0FBUUNpSUFOZ0lVSUFBTkFROExJQUFvQWdnZ0EwWUVRQ0FCSUFBb0FoQVFRZ1JBSUFJb0FoUW9BaWdRQkNBQ0tBSVVRUUEyQWlnZ0FpZ0NGQ2dDVkJBRUlBSW9BaFJCQURZQ1ZDQUFRUUEyQWhBZ0FFR0JBallDQkNBQVFpRTNBZ2dNQWdzZ0FTZ0NLQkFFSUFGQkFEWUNLQ0FCS0FKVUVBUWdBVUVBTmdKVUR3c2dCQ2dDS0JBRUlBSW9BaFJCQURZQ0tDQUNLQUlVS0FKVUVBUWdBaWdDRkVFQU5nSlVDeUFDS0FJVUlBRkIzQUFRRlJvTDBnSUJBMzhqQUVFZ2F5SUVKQUFnQkNBQktBSVFOZ0lRSUFRZ0FTa0NDRGNEQ0NBRUlBRXBBZ0EzQXdBQ1FDQUVJQVJCSEdvUUFpSUJEUUFnQkNBRVFSeHFFQUlpQVEwQUlBUWdCRUVjYWhBQ0lnRU5BQ0FDS0FJTUlRWkJBQ0VCQTBBZ0FTSUZRUUZxSVFFZ0JpQUZkZzBBQ3lBRUlBVkJmMm9RQTBGL1JnUkFRUUVoQVF3QkN5QUVJQVJCSEdvUUFpSUJEUUFDUUNBQ0tBSVFJZ0VFZnlBQkJTQUNLQUlVSVFaQkFDRUJBMEFnQVNJRlFRRnFJUUVnQmlBRmRnMEFDeUFFSUFWQmYyb1FBMEYvUmdSQVFRRWhBUXdEQ3lBREtBSUlCRUFnQkNBRVFSaHFFQVVpQVEwREN5QUNLQUlRQzBFQlJ3MEFJQUlvQWhnTkFDQUVJQVJCR0dvUUJTSUJEUUVnQXlnQ0NFVU5BQ0FFSUFSQkdHb1FCU0lCRFFFTElBTW9Ba1FFUUNBRUlBUkJIR29RQWlJQkRRRUxJQUFnQkVFQkVBTWlBRFlDQUNBQVFYOUdJUUVMSUFSQklHb2tBQ0FCQzhZQkFRSi9Jd0JCSUdzaUJTUUFJQVVnQUNnQ0VEWUNFQ0FGSUFBcEFnZzNBd2dnQlNBQUtRSUFOd01BQWtBZ0JTQUZRUnhxRUFJaUFBMEFJQVVnQlVFY2FoQUNJZ0FOQUNBRklBVkJIR29RQWlJQURRQWdBU2dDRENFR1FRQWhBQU5BSUFBaUFVRUJhaUVBSUFZZ0FYWU5BQXNnQlNBQlFYOXFFQU5CZjBZRVFFRUJJUUFNQVFzZ0FrRUZSZ1JBSUFVZ0JVRWNhaEFDSWdBTkFRc2dCU0FFRUFVaUFBMEFJQU1FUUNBRklBUkJCR29RQlNJQURRRUxRUUFoQUFzZ0JVRWdhaVFBSUFBTDRRRUJBMzhqQUVFZ2F5SUVKQUFnQkNBQUtBSVFOZ0lRSUFRZ0FDa0NDRGNEQ0NBRUlBQXBBZ0EzQXdBQ1FDQUVJQVJCSEdvUUFpSUFEUUFnQkNBRVFSeHFFQUlpQUEwQUlBUWdCRUVjYWhBQ0lnQU5BQ0FCS0FJTUlRWkJBQ0VBQTBBZ0FDSUZRUUZxSVFBZ0JpQUZkZzBBQ3lBRUlBVkJmMm9RQTBGL1JnUkFRUUVoQUF3QkN5QUNRUVZHQkVBZ0JDQUVRUnhxRUFJaUFBMEJDeUFCS0FJVUlRSkJBQ0VBQTBBZ0FDSUJRUUZxSVFBZ0FpQUJkZzBBQ3lBRUlBRkJmMm9RQTBGL1JnUkFRUUVoQUF3QkN5QUVJQU1RQlNFQUN5QUVRU0JxSkFBZ0FBdm1BUUVEZnlNQVFTQnJJZ1FrQUNBRUlBQW9BaEEyQWhBZ0JDQUFLUUlJTndNSUlBUWdBQ2tDQURjREFBSkFJQVFnQkVFY2FoQUNJZ0FOQUNBRUlBUkJIR29RQWlJQURRQWdCQ0FFUVJ4cUVBSWlBQTBBSUFFb0Fnd2hCa0VBSVFBRFFDQUFJZ1ZCQVdvaEFDQUdJQVYyRFFBTElBUWdCVUYvYWhBRFFYOUdCRUJCQVNFQURBRUxJQUpCQlVZRVFDQUVJQVJCSEdvUUFpSUFEUUVMSUFFb0FoUWhBa0VBSVFBRFFDQUFJZ0ZCQVdvaEFDQUNJQUYyRFFBTElBUWdBVUYvYWhBRElnQkJmMFlFUUVFQklRQU1BUXNnQXlBQU5nSUFRUUFoQUFzZ0JFRWdhaVFBSUFBTGtnRUJBbjhqQUVFZ2F5SURKQUFnQXlBQUtBSVFOZ0lRSUFNZ0FDa0NBRGNEQUNBRElBQXBBZ2czQXdnQ1FDQURJQU5CSEdvUUFpSUFEUUFnQXlBRFFSeHFFQUlpQUEwQUlBTWdBMEVjYWhBQ0lnQU5BRUVBSVFBRFFDQUFJZ1JCQVdvaEFDQUJJQVIyRFFBTElBTWdCRUYvYWhBRFFYOUdCRUJCQVNFQURBRUxJQU1nQWhBQ0lRQUxJQU5CSUdva0FDQUFDNWNCQVFKL0l3QkJJR3NpQXlRQUlBTWdBQ2dDRURZQ0VDQURJQUFwQWdnM0F3Z2dBeUFBS1FJQU53TUFBa0FnQXlBRFFSeHFFQUlpQUEwQUlBTWdBMEVjYWhBQ0lnQU5BQ0FESUFOQkhHb1FBaUlBRFFCQkFDRUFBMEFnQUNJRVFRRnFJUUFnQVNBRWRnMEFDeUFESUFSQmYyb1FBeUlBUVg5R0JFQkJBU0VBREFFTElBSWdBRFlDQUVFQUlRQUxJQU5CSUdva0FDQUFDNjhPQVFwL0l3QkJFR3NpQlNRQUlBRkJBRUhjQnhBSElRY2dBaWdDTkNFR0lBSW9BamdoQ0FKQUlBQWdCVUVFYWhBQ0lnRU5BQ0FISUFVb0FnUWlBVFlDQUNBQklBWWdDR3dpQzA4RVFFRUJJUUVNQVFzZ0FDQUZRUVJxRUFJaUFRMEFJQWNnQlNnQ0JDSUdOZ0lFSUFaQkIwc0VRRUVCSVFFTUFRdEJBU0VCQWtBQ1FDQUdRUUZyRGdjQ0FRSUNBQUlCQUFzZ0JDZ0NBRUVGUmdSQURBSUxJQUlvQWl3TkFBd0JDeUFBSUFWQkJHb1FBaUlCRFFBZ0J5QUZLQUlFSWdZMkFnaEJBU0VCSUFZZ0F5Z0NBRWNOQUNBQ0tBSU1JUWhCQUNFQkEwQWdBU0lHUVFGcUlRRWdDQ0FHZGcwQUMwRUJJUUVnQUNBR1FYOXFFQU1pQmtGL1JnMEFJQVpCQUNBRUtBSUFJZ2hCQlVZYkRRQWdCeUFHTmdJTUlBaEJCVVlFUUNBQUlBVkJCR29RQWlJQkRRRWdCeUFGS0FJRUlnWTJBaEJCQVNFQklBWkIvLzhEU3cwQkN3SkFJQUlvQWhBaUFRUi9JQUVGSUFJb0FoUWhDRUVBSVFFRFFDQUJJZ1pCQVdvaEFTQUlJQVoyRFFBTElBQWdCa0YvYWhBRElnRkJmMFlFUUVFQklRRU1Bd3NnQnlBQk5nSVVJQU1vQWdnRVFDQUFJQVVRQlNJQkRRTWdCeUFGS0FJQU5nSVlDeUFFS0FJQVFRVkdCRUJCQVNFQklBY29BaFFpQmlBQ0tBSVVRUUYyU3cwRElBWkJBQ0FIS0FJWUlnaEJIM1VnQ0hGclJ3MERDeUFDS0FJUUMwRUJSdzBBSUFJb0FoZ05BQ0FBSUFVUUJTSUJEUUVnQnlBRktBSUFOZ0ljSUFNb0FnZ0VRQ0FBSUFVUUJTSUJEUUlnQnlBRktBSUFOZ0lnQ3lBRUtBSUFRUVZIRFFCQkFTRUJJQWNvQWh3aUJpQUhLQUlnSUFZZ0FpZ0NJR3BxSWdnZ0JpQUlTQnNOQVFzZ0F5Z0NSQVJBSUFBZ0JVRUVhaEFDSWdFTkFTQUhJQVVvQWdRaUJqWUNKRUVCSVFFZ0JrSC9BRXNOQVFzQ1FDQUhLQUlFSWdGQkJVc05BQUpBSUFGQkFXc09CQUVCQVFFQUMwRUJJUUVnQUVFQkVBTWlCa0YvUmcwQklBY2dCallDS0FKQUlBWUVRQ0FBSUFWQkJHb1FBaUlCRFFOQkFTRUJJQVVvQWdRaUJrRVBTdzBESUFaQkFXb2hCZ3dCQ3lBREtBSXdJZ1pCRUVzTkFnc2dCeUFHTmdJc0lBY29BZ1FoQVFzQ1FDQUJRUVZMRFFBQ1FDQUJRUUZyRGdRQkFRRUJBQXNnQWlnQ0RDRUpJQWNvQWl3aENrRUJJUUVnQUVFQkVBTWlCa0YvUmcwQklBY2dCallDUkNBR1JRMEFRUUFoQVFOQUlBRWlCaUFLU3dSQVFRRWhBUXdEQ3lBQUlBVkJDR29RQWlJQkRRSWdCU2dDQ0NJQlFRTkxCRUJCQVNFQkRBTUxJQWNnQmtFTWJHb2lDQ0FCTmdKSUFrQWdBVUVCVFFSQUlBQWdCVUVNYWhBQ0lnRU5CQ0FGS0FJTUlnRWdDVThFUUVFQklRRU1CUXNnQ0NBQlFRRnFOZ0pNREFFTElBRkJBa2NOQUNBQUlBVkJER29RQWlJQkRRTWdDQ0FGS0FJTU5nSlFDeUFHUVFGcUlRRWdCU2dDQ0VFRFJ3MEFDMEVCSVFFZ0JrVU5BUXNDUUNBRUtBSUVSUTBBSUFRb0FnQWhCQ0FDS0FJc0lRbEJBU0VCSUFCQkFSQURJUUlnQkVFRlJnUkFJQUpCZjBZTkFpQUhJQUkyQXBRQ0lBQkJBUkFESWdKQmYwWU5BaUFISUFJMkFwZ0NJQWtOQVNBQ1JRMEJEQUlMSUFKQmYwWU5BU0FISUFJMkFwd0NJQUpGRFFBZ0NVRUJkRUVEYWlFT1FRQWhCa0VBSVFwQkFDRUVBMEFnQmlBT1JnUkFRUUVoQVF3REN5QUFJQVZCQ0dvUUFpSUJEUUlnQlNnQ0NDSUNRUVpMQkVCQkFTRUJEQU1MSUFjZ0JrRVViR29pQ0NBQ05nS2dBZ0ovSUFKQkFuSkJBMFlFUUNBQUlBVkJER29RQWlJQkRRUWdDQ0FGS0FJTVFRRnFOZ0trQWlBRktBSUlJUUlMSUFKQkFrWUxCRUFnQUNBRlFReHFFQUlpQVEwRElBZ2dCU2dDRERZQ3FBSWdCU2dDQ0NFQ0N3SkFJQUpCZldvaUFVRURTdzBBQWtBZ0FVRUJhdzRDQVFFQUN5QUFJQVZCREdvUUFpSUJEUU1nQ0NBRktBSU1OZ0tzQWlBRktBSUlJUUlMSUFKQkJFWUVRQ0FBSUFWQkRHb1FBaUlCRFFNZ0JTZ0NEQ0lCSUFsTEJFQkJBU0VCREFRTElBZ2dBVUYvYWtILy93TWdBUnMyQXJBQ0lBcEJBV29oQ2lBRktBSUlJUUlMSUFaQkFXb2hCaUFNSUFKQkJrWnFJUXdnQkNBQ1FRVkdhaUVFSUEwZ0FrRi9ha0VEU1dvaERTQUNEUUFMUVFFaEFTQUVJQXB5SUF4eVFRRkxEUUVnQkVVTkFDQU5EUUVMSUFBZ0JSQUZJZ0VOQUNBSElBVW9BZ0FpQVRZQ01DQUZJQUVnQXlnQ05Hb2lBallDQUVFQklRRWdBa0V6U3cwQUFrQWdBeWdDUEVVTkFDQUFJQVZCQkdvUUFpSUJEUUVnQnlBRktBSUVJZ0kyQWpSQkFTRUJJQUpCQWtzTkFTQUNRUUZHRFFBZ0FDQUZFQVVpQVEwQlFRRWhBU0FGS0FJQUlnSkJCbXBCREVzTkFTQUhJQUpCQVhRMkFqZ2dBQ0FGRUFVaUFRMEJRUUVoQVNBRktBSUFJZ0pCQm1wQkRFc05BU0FISUFKQkFYUTJBandMQWtBZ0F5Z0NERUVDU1EwQUlBTW9BaEJCZldwQkFrc05BRUVDUVFFZ0N5QUxJQU1vQWlRaUFXNGlBaUFCYkdzYklBSnFJUVJCQUNFQ0EwQWdCQ0FDSWdGQkFXb2lBbllOQUFzZ0JTQUFJQUlnQVNBRVFYOGdBWFJCZjNOeEd4QURJZ0EyQWdSQkFTRUJJQUJCZjBZTkFTQUhJQUEyQWtBZ0FDQUxJQU1vQWlRaUFHcEJmMm9nQUc1TERRRUxRUUFoQVFzZ0JVRVFhaVFBSUFFTHdRa0JEWDhnQXlBRWJDRUZJQUVvQWd3aUNVRUJSZ1JBSUFCQkFDQUZRUUowRUFjYUR3c0NRQUpBQWtBQ1FDQUJLQUlRSWdaQmZXcEJBazBFUUNBQktBSWtJQUpzSWdJZ0JTQUNJQVZKR3lFTElBWkJmbkZCQkVjTkFTQUZJQXRySUFzZ0FTZ0NJQnNoQndzQ1FBSkFBa0FnQmtFRlRRUkFJQVpCQVdzT0JRWUZCQU1DQVFzZ0JVVU5CaUFCS0FJc0lRSkJBQ0VCQTBBZ0FDQUJRUUowSWdOcUlBSWdBMm9vQWdBMkFnQWdBVUVCYWlJQklBVkhEUUFMREFZTEFrQWdDUVJBSUFFb0FoUWhBa0VBSVFZTUFRc2dCVVVOQmdOQURBQUFDd0FMQTBCQkFDRUVJQVlnQlU4TkJnTkFRUUFoQndKQUlBSWdCRUVDZEdvaUF5Z0NBQ0lCUlEwQUlBRWhCeUFGSUFaTkRRQkJBQ0VCUVFBZ0JTQUdheUlISUFjZ0JVc2JJUWdEUUNBQUlBRWdCbXBCQW5ScUlBUTJBZ0FnQVVFQmFpSUJJQU1vQWdBaUIwOE5BU0FCSUFoSERRQUxDeUFFUVFGcUlnUWdDVWxCQUNBR0lBZHFJZ1lnQlVrYkRRQUxJQVlnQlVrTkFBc01CUXNnQTBVTkJDQUVSUTBFUVFFZ0FTZ0NJQ0lKYXlFSVFRQWhCVUVBSVFJRFFFRUFJUUVnQlNFR0EwQWdBQ0FCSUFOc0lBSnFRUUowYWlBSklBZ2dCaUFIU1JzMkFnQWdCa0VCYWlFR0lBRkJBV29pQVNBRVJ3MEFDeUFFSUFWcUlRVWdBa0VCYWlJQ0lBTkhEUUFMREFRTElBVkZEUU5CQVNBQktBSWdJZ0pySVFOQkFDRUJBMEFnQUNBQlFRSjBhaUFDSUFNZ0FTQUhTUnMyQWdBZ0FVRUJhaUlCSUFWSERRQUxEQU1MSUFFb0FpQWhBaUFGQkVCQkFDRUJBMEFnQUNBQlFRSjBha0VCTmdJQUlBRkJBV29pQVNBRlJ3MEFDd3NnQzBVTkFpQURRWDlxSVE4Z0JFRi9haUVRSUFKQmYyb2hCa0VCSUFKQkFYUWlBV3NoQlNBQlFYOXFJUWtnQkNBQ2EwRUJkaUlLSVF3Z0F5QUNhMEVCZGlJTklRUWdDaUVJSUEwaEFVRUFJUWNEUUNBQUlBTWdDR3dnQVdwQkFuUnFJZzRvQWdBaUVVRUJSZ1JBSUE1QkFEWUNBQXNnRVVFQlJpRU9Ba0FDUUNBR1FYOUhEUUFnQVNBRVJ3MEFRUUFoQmlBSklRSWdCRUVCSUFSQkFVb2JRWDlxSWdFaEJBd0JDd0pBSUFaQkFVY05BQ0FCSUExSERRQkJBQ0VHSUFVaEFpQU5RUUZxSWdFZ0R5QUJJQTlJR3lJQklRME1BUXNDUUNBQ1FYOUhEUUFnQ0NBTVJ3MEFRUUFoQWlBRklRWWdERUVCSUF4QkFVb2JRWDlxSWdnaERBd0JDd0pBSUFKQkFVY05BQ0FJSUFwSERRQkJBQ0VDSUFraEJpQUtRUUZxSWdnZ0VDQUlJQkJJR3lJSUlRb01BUXNnQWlBSWFpRUlJQUVnQm1vaEFRc2dCeUFPYWlJSElBdEpEUUFMREFJTElBRW9BaHdoQnlBQktBSVlJUWdnQlFSQUlBbEJmMm9oQWtFQUlRRURRQ0FBSUFGQkFuUnFJQUkyQWdBZ0FVRUJhaUlCSUFWSERRQUxJQUpGRFFJTElBbEJmbW9oQVFOQUFrQWdDQ0FCSWdSQkFuUWlBV29vQWdBaUJpQURiaUlDSUFFZ0Iyb29BZ0FpQVNBRGJpSUZTdzBBSUFZZ0FpQURiR3NpQmlBQklBTWdCV3hySWdsTEJFQURRQ0FDUVFGcUlnSWdCVTBOQUF3Q0FBc0FDd05BSUFJZ0Eyd2hDaUFHSVFFRFFDQUFJQUVnQ21wQkFuUnFJQVEyQWdBZ0FVRUJhaUlCSUFsTkRRQUxJQUpCQVdvaUFpQUZUUTBBQ3dzZ0JFRi9haUVCSUFRTkFBc01BUXNnQlVVTkFFRUFJUUVEUUNBQUlBRkJBblJxSUFFZ0EyNGlBaUFKYkVFQmRpQUJJQUlnQTJ4cmFpQUpjRFlDQUNBQlFRRnFJZ0VnQlVjTkFBc0xDOFFCQVFWL0lBQW9BcWdKSVFRQ1FDQUFRYkFKYWlnQ0FDSUNSUTBBSUFKQmYyb2lBaUFCVFFSQUlBSWhBUXdCQ3lBQUtBSzhDU0VGQTBBQ1FDQUZJQUpCMkFGc2FpZ0NCQ0FFUncwQUlBTkJBV29pQXlBQUtBSVFLQUkwSWdaQkNpQUdRUXBMRzBrTkFDQUNJUUVNQWdzZ0FrRi9haUlDSUFGTERRQUxDd05BQWtBZ0FDZ0N2QWtnQVVIWUFXeHFJZ0lvQWdRZ0JFY05BQ0FDS0FMRUFTSURSUTBBSUFJZ0EwRi9hallDeEFFZ0FDZ0NsQWtnQUNnQ21Ba2dBUkFlSWdFTkFRc0xDNzBFQWd0L0FYNGpBRUhBQTJzaUJTUUFJQU1vQWdBaEJ5QUJLQUt3R2lFSUlBVkJBRFlDRENBQlFiQUpha0VBTmdJQUlBRWdBU2dDcUFsQkFXbzJBcWdKSUFVZ0F5Z0NNQ0FCS0FJTUtBSTBhallDQ0NBQlFjUUphaUVOSUFoQkRHb2hEZ0pBQTBBZ0FTZ0N2QWtoQkFKQUlBTW9BaVFOQUNBRUlBZEIyQUZzYWlnQ3hBRkZEUUJCQVNFRURBSUxJQU1wQWpRaER5QURLQUk4SVFzZ0FTZ0NxQWtoRENBRUlBZEIyQUZzSWdacUlnUWdBU2dDRENnQ09EWUNHQ0FFSUFzMkFoQWdCQ0FQTndJSUlBUWdERFlDQkFKQUlBTW9BZ1FpQkVFQ1JnMEFJQWtOQUNBRVFRZEdEUUFnQUNBRlFReHFFQUlpQkEwQ0lBVW9BZ3dpQkNBQktBS1lDU0FIYTBzRVFFRUJJUVFNQXdzZ0JFVUVRRUVBSVFrTUFRc2dEa0VBUWFRQkVBY2FJQWhCQURZQ0FFRUJJUWtMQWtBZ0JTZ0NEQ0lFQkVBZ0JTQUVRWDlxTmdJTURBRUxRUUFoQ1NBQUlBZ2dBU2dDdkFrZ0Jtb2dBeWdDQkNBREtBSXNFRkVpQkEwQ0N5QUJLQUs4Q1NBR2FpQUlJQUlnRFNBRlFRaHFJQWNnQVNnQ0RDZ0NRQ0FGUVJCcUVGQWlCQTBCSUFFb0Fyd0pJQVpxS0FMRUFTRUxJQUFRTGlFRUlBVW9BZ3doQmdKQUlBTW9BZ1JCZm1vaURFRUZTdzBBQWtBZ0RFRUJhdzRFQVFFQkFRQUxJQUVnQnpZQ3NBa0xJQVFnQm5JaEJrRUJJUVFnQVNnQ2xBa2dBU2dDbUFrZ0J4QWVJZ2RGUVFBZ0Joc05BU0FLSUF0QkFVWnFJUW9nQmcwQUN5QUJRYXdKYWlnQ0FDQUthaUlBSUFFb0FwZ0pTdzBBSUFFZ0FEWUNyQWxCQUNFRUN5QUZRY0FEYWlRQUlBUUw1Z0lCQjM5QkFTRUNBa0FnQUNnQ0FDQUJLQUlBUncwQUlBQW9BZ1FnQVNnQ0JFY05BQ0FBS0FJTUlBRW9BZ3hIRFFBZ0FDZ0NFQ0lESUFFb0FoQkhEUUFnQUNnQ0xDQUJLQUlzUncwQUlBQW9BakFnQVNnQ01FY05BQ0FBS0FJMElBRW9BalJIRFFBZ0FDZ0NPQ0FCS0FJNFJ3MEFJQUFvQWp3aUJTQUJLQUk4UncwQUlBQW9BbEFnQVNnQ1VFY05BQUpBSUFOQkFVc05BQ0FEUVFGclJRUkFJQUFvQWhnZ0FTZ0NHRWNOQWlBQUtBSWNJQUVvQWh4SERRSWdBQ2dDSUNBQktBSWdSdzBDSUFBb0FpUWlCQ0FCS0FJa1J3MENJQVJGRFFFZ0FTZ0NLQ0VHSUFBb0FpZ2hCMEVBSVFNRFFDQUhJQU5CQW5RaUNHb29BZ0FnQmlBSWFpZ0NBRWNOQXlBRUlBTkJBV29pQTBjTkFBc01BUXNnQUNnQ0ZDQUJLQUlVUncwQkN5QUZCRUFnQUNnQ1FDQUJLQUpBUncwQklBQW9Ba1FnQVNnQ1JFY05BU0FBS0FKSUlBRW9Ba2hIRFFFZ0FDZ0NUQ0FCS0FKTVJ3MEJDMEVBSVFJTElBSUwvd2tCQm44akFFRVFheUlFSkFBZ0FVRUFRZHdBRUFjaEF3SkFJQUJCQ0JBRElnRkJmMFlFUUVFQklRRU1BUXNnQXlBQk5nSUFJQUJCQVJBREdpQUFRUUVRQXhvZ0FFRUJFQU5CZjBZRVFFRUJJUUVNQVFzZ0FFRUZFQU5CZjBZRVFFRUJJUUVNQVFzZ0FFRUlFQU1pQVVGL1JnUkFRUUVoQVF3QkN5QURJQUUyQWdRZ0FDQURRUWhxRUFJaUFRMEFJQU1vQWdoQkgwc0VRRUVCSVFFTUFRc2dBQ0FFUVF4cUVBSWlBUTBBUVFFaEFTQUVLQUlNSWdKQkRFc05BQ0FEUVFFZ0FrRUVhblEyQWd3Z0FDQUVRUXhxRUFJaUFRMEFRUUVoQVNBRUtBSU1JZ0pCQWtzTkFDQURJQUkyQWhBQ1FDQUNRUUZMRFFBZ0FrRUJhd1JBSUFBZ0JFRU1haEFDSWdFTkFrRUJJUUVnQkNnQ0RDSUNRUXhMRFFJZ0EwRUJJQUpCQkdwME5nSVVEQUVMSUFCQkFSQURJZ0pCZjBZTkFTQURJQUpCQVVZMkFoZ2dBQ0FEUVJ4cUVBVWlBUTBCSUFBZ0EwRWdhaEFGSWdFTkFTQUFJQU5CSkdvUUFpSUJEUUZCQVNFQklBTW9BaVFpQWtIL0FVc05BU0FDQkVBZ0F5QUNRUUowRUFvaUFUWUNLQ0FCUlFSQVFmLy9BeUVCREFNTElBQWdBUkFGSWdFTkFrRUJJUUlEUUNBQ0lBTW9BaVJQRFFJZ0FrRUNkQ0VCSUFKQkFXb2hBaUFBSUFFZ0F5Z0NLR29RQlNJQlJRMEFDd3dDQ3lBRFFRQTJBaWdMSUFBZ0EwRXNhaEFDSWdFTkFFRUJJUUVnQXlnQ0xFRVFTdzBBSUFCQkFSQURJZ0pCZjBZTkFDQURJQUpCQVVZMkFqQWdBQ0FFUVF4cUVBSWlBUTBBSUFNZ0JDZ0NERUVCYWpZQ05DQUFJQVJCREdvUUFpSUJEUUJCQVNFQklBTWdCQ2dDREVFQmFqWUNPQ0FBUVFFUUEwRUJha0VDU1EwQUlBQkJBUkFEUVg5R0RRQWdBRUVCRUFNaUFrRi9SZzBBSUFNZ0FrRUJSaUlCTmdJOEFrQWdBVVVFUUNBREtBSTRJUVVnQXlnQ05DRUdEQUVMSUFBZ0EwRkFheEFDSWdFTkFTQUFJQU5CeEFCcUVBSWlBUTBCSUFBZ0EwSElBR29RQWlJQkRRRWdBQ0FEUWN3QWFoQUNJZ0VOQVVFQklRRWdBeWdDUUNBREtBSkVRWDl6SUFNb0FqUWlCa0VEZEdwS0RRRWdBeWdDU0NBREtBSk1RWDl6SUFNb0FqZ2lCVUVEZEdwS0RRRUxBa0FDUUFKQUFrQWdBeWdDQkVGMmFpSUhRU2xMRFFCQjR3QWhBVUdBcEFraEFnSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnQjBFQmF3NHBBQUVCQ3dzTEN3c0xBUUlEQ3dzTEN3c0xDd01FQlFzTEN3c0xDd3NHQmdjTEN3c0xDd3NMQ0FrS0MwR01BeUVCUVlDTUZTRUNEQWtMUVl3RElRRkJnTmczSVFJTUNBdEJtQVloQVVHQXNPOEFJUUlNQnd0QjFBd2hBVUdBN0wwQklRSU1CZ3RCa0J3aEFVR0E4S1VESVFJTUJRdEJnQ2doQVVHQWdPQURJUUlNQkF0QmdNQUFJUUZCZ0lDQUJpRUNEQU1MUVlERUFDRUJRWUNBc0FZaEFnd0NDMEhBckFFaEFVR0F3SnNVSVFJTUFRdEJnS0FDSVFGQmdJRGdJU0VDQ3lBQklBVWdCbXdpQVU4TkFRc2dCRUgvLy8vL0J6WUNEQ0FES0FJc0lRSU1BUXNnQkNBQ0lBRkJnQU5zYmlJQlFSQWdBVUVRU1JzaUFUWUNEQ0FES0FJc0lnSWdBVTBOQVFzZ0JDQUNOZ0lNSUFJaEFRc2dBeUFCTmdKWVFRRWhBU0FBUVFFUUF5SUNRWDlHRFFBZ0F5QUNRUUZHTmdKUUFrQWdBa0VCUncwQUlBTkJ1QWNRQ2lJQk5nSlVJQUZGQkVCQi8vOERJUUVNQWdzZ0FDQUJFQ3dpQVEwQklBTW9BbFFpQWlnQ21BZEZEUUJCQVNFQklBSW9BckFISUFJb0FyUUhJZ0pMRFFFZ0FpQURLQUlzU1EwQklBSWdBeWdDV0VzTkFTQURJQUpCQVNBQ0d6WUNXQXNnQUJBZlFRQWhBUXNnQkVFUWFpUUFJQUVMalFRQkRuOGdBUUovQWtBZ0FDOEJJQ0lIRFFBZ0FDOEJIQTBBUVFBTUFRdEJBZ3MyQWlBZ0FRSi9Ba0FnQUM4QklpSUNEUUFnQUM4QkhnMEFRUUFNQVF0QkFnczJBaWdnQVFKL0FrQWdBQzhCS0NJRERRQWdBQzhCSkEwQVFRQU1BUXRCQWdzMkFqQWdBUUovQWtBZ0FDOEJLaUlJRFFBZ0FDOEJKZzBBUVFBTUFRdEJBZ3MyQWpnZ0FTQUhJQUF2QVN3aUNYSkJBRWRCQVhRMkFrQWdBU0FDSUFBdkFTNGlCSEpCQUVkQkFYUTJBa2dnQVNBRElBQXZBVFFpQlhKQkFFZEJBWFEyQWxBZ0FTQUlJQUF2QVRZaUNuSkJBRWRCQVhRMkFsZ2dBU0FBTHdFd0lnMGdDWEpCQUVkQkFYUTJBbUFnQVNBQUx3RXlJZ3NnQkhKQkFFZEJBWFEyQW1nZ0FTQUFMd0U0SWd3Z0JYSkJBRWRCQVhRMkFuQWdBU0FBTHdFNklnNGdDbkpCQUVkQkFYUTJBbmhCQWlFR0lBRWdBQzhCSGlJUEJIOUJBZ1VnQUM4QkhFRUFSMEVCZEFzMkFnd2dBU0FQSUFBdkFTUWlCbkpCQUVkQkFYUTJBaFFnQUM4QkppRUFJQUVnRENBT2NrRUFSMEVCZERZQ2ZDQUJJQXNnREhKQkFFZEJBWFEyQW5RZ0FTQUxJQTF5UVFCSFFRRjBOZ0pzSUFFZ0JTQUtja0VBUjBFQmREWUNYQ0FCSUFRZ0JYSkJBRWRCQVhRMkFsUWdBU0FFSUFseVFRQkhRUUYwTmdKTUlBRWdBeUFJY2tFQVIwRUJkRFlDUENBQklBSWdBM0pCQUVkQkFYUTJBalFnQVNBQ0lBZHlRUUJIUVFGME5nSXNJQUVnQUNBR2NrRUFSMEVCZERZQ0hBdk1CZ0VMZnlNQVFZQU9heUlPSkFBZ0JrRUZhaUVJQWtBQ1FDQUNRUUJJRFFBZ0EwRUFTQTBBSUFJZ0NHb2dCRXNOQUNBSFFRVnFJZ29nQTJvZ0JVc05BQ0FFSVFnZ0F5RUpEQUVMSUFBZ0RrSEFDbW9nQWlBRElBUWdCU0FJSUFkQkJXb2lDaUFJRUF3Z0RrSEFDbW9oQUVFQUlRSUxBa0FnQ2tVTkFDQUdRUUoySWhCRkRRQWdDQ0FHYXlFUklBQWdDQ0FKYkNBQ2FtcEJCV29oQWlBT0lRQURRQ0FDUVg5cUxRQUFJUWdnQWtGK2FpMEFBQ0VESUFKQmZXb3RBQUFoQlNBQ1FYeHFMUUFBSVFRZ0FrRjdhaTBBQUNFTUlCQWhEUU5BSUFBZ0FpMEFBQ0lKSUF3Z0JDQUlhaUlMYXlBRElBVnFRUlJzYWlBTFFRSjBhMm8yQWdBZ0FDQUNMUUFCSWdzZ0F5QUlha0VVYkNBRWFpQUZJQWxxSWdScklBUkJBblJyYWpZQ0JDQUFJQUl0QUFJaUR5QUlJQWxxUVJSc0lBVnFJQU1nQzJvaUJHc2dCRUVDZEd0cU5nSUlJQUFnQWkwQUF5SVNJQWtnQzJwQkZHd2dBMm9nQ0NBUGFpSURheUFEUVFKMGEybzJBZ3dnQUVFUWFpRUFJQUpCQkdvaEFpQUlJUXdnQ1NFRUlBc2hCU0FQSVFNZ0VpRUlJQTFCZjJvaURRMEFDeUFDSUJGcUlRSWdDa0YvYWlJS0RRQUxDd0pBSUFkQkFuWWlCMFVOQUNBR1JRMEFRY0FBSUFacklROGdEaUFHUVFKMGFpSUlJQVpCRkd4cUlRSkJBQ0FHYXlJUVFRTjBJUklnQmtFRGRDRUpJQVpCQTJ4QkFuUWhDd05BSUFZaEJBTkFJQUVnQ0NBSmFpZ0NBQ0lBSUFJZ0NXb29BZ0FnQWlBR1FRSjBJZzFxS0FJQUlnb2dBaUFTYWlnQ0FDSURhaUlGYXlBRlFRSjBhMm9nQWlnQ0FDSU1JQUlnRUVFQ2RDSVJhaWdDQUNJRmFrRVViR3BCZ0FScVFRcDFRYkF1YWkwQUFEb0FNQ0FCSUFnZ0RXb29BZ0FpRFNBS0lBTWdCV3BCRkd4cUlBQWdER29pQ21zZ0NrRUNkR3RxUVlBRWFrRUtkVUd3TG1vdEFBQTZBQ0FnQVNBSUtBSUFJZ29nRENBQUlBTnFRUlJzYWlBRklBMXFJZ3hySUF4QkFuUnJha0dBQkdwQkNuVkJzQzVxTFFBQU9nQVFJQUVnQ0NBUmFpZ0NBQ0FGSUFBZ0RXcEJGR3hxSUFNZ0Ntb2lBR3NnQUVFQ2RHdHFRWUFFYWtFS2RVR3dMbW90QUFBNkFBQWdDRUVFYWlFSUlBRkJBV29oQVNBQ1FRUnFJUUlnQkVGL2FpSUVEUUFMSUFFZ0Qyb2hBU0FDSUF0cUlRSWdDQ0FMYWlFSUlBZEJmMm9pQncwQUN3c2dEa0dBRG1va0FBdmxBd0VKZnlNQVFjQURheUlLSkFBZ0JrRUZhaUVJQWtBQ1FDQUNRUUJJRFFBZ0F5QUhhaUFGU3cwQUlBTkJBRWdOQUNBQ0lBaHFJQVJMRFFBZ0JDRUlJQU1oQ1F3QkN5QUFJQW9nQWlBRElBUWdCU0FJSUFjZ0NCQU1JQW9oQUVFQUlRSUxBa0FnQjBVTkFDQUdRUUoySWcxRkRRQkJFQ0FHYXlFT0lBZ2dCbXNoRHlBQUlBZ2dDV3dnQW1wcVFRVnFJUUlEUUNBQ1FYOXFMUUFBSVFnZ0FrRithaTBBQUNFR0lBSkJmV290QUFBaEFDQUNRWHhxTFFBQUlRVWdBa0Y3YWkwQUFDRUpJQTBoQ3dOQUlBRWdBaTBBQUNJRElBa2dCU0FJYWlJRWF5QUFJQVpxUVJSc2FpQUVRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFPZ0FBSUFFZ0FpMEFBU0lFSUFVZ0JpQUlha0VVYkdvZ0FDQURhaUlGYXlBRlFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQU9nQUJJQUVnQWkwQUFpSU1JQUFnQXlBSWFrRVViR29nQkNBR2FpSUFheUFBUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBT2dBQ0lBRWdBaTBBQXlJUUlBWWdBeUFFYWtFVWJHb2dDQ0FNYWlJQWF5QUFRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFPZ0FESUFGQkJHb2hBU0FDUVFScUlRSWdDQ0VKSUFNaEJTQUVJUUFnRENFR0lCQWhDQ0FMUVg5cUlnc05BQXNnQVNBT2FpRUJJQUlnRDJvaEFpQUhRWDlxSWdjTkFBc0xJQXBCd0FOcUpBQUw5UU1CQzM4akFFSEFBMnNpQ3lRQUFrQUNRQ0FDUVFCSURRQWdBMEVBU0EwQUlBSWdCbW9nQkVzTkFDQURJQWRxUVFWcUlBVkxEUUFnQXlFSURBRUxJQUFnQ3lBQ0lBTWdCQ0FGSUFZZ0IwRUZhaUFHRUF3Z0N5RUFJQVloQkVFQUlRSUxBa0FnQjBFQ2RpSU1SUTBBSUFaRkRRQkJ3QUFnQm1zaEVTQUVRUUYwSVEwZ0JFRUNkQ0FHYXlFT1FRQWdCR3NpRDBFQmRDRVNJQUFnQkNBSWJDQUNhbW9nQkdvaUJ5QUVRUVZzYWlFQ0EwQWdCaUVBQTBBZ0FTQUhJQTFxTFFBQUlnTWdBaUFOYWkwQUFDQUNJQVJxTFFBQUlna2dBaUFTYWkwQUFDSUZhaUlJYXlBSVFRSjBhMm9nQWkwQUFDSUtJQUlnRDJvdEFBQWlDR3BCRkd4cVFSQnFRUVYxUWJBdWFpMEFBRG9BTUNBQklBUWdCMm90QUFBaUVDQUpJQVVnQ0dwQkZHeHFJQU1nQ21vaUNXc2dDVUVDZEd0cVFSQnFRUVYxUWJBdWFpMEFBRG9BSUNBQklBY3RBQUFpQ1NBS0lBTWdCV3BCRkd4cUlBZ2dFR29pQ21zZ0NrRUNkR3RxUVJCcVFRVjFRYkF1YWkwQUFEb0FFQ0FCSUFjZ0Qyb3RBQUFnQ0NBRElCQnFRUlJzYWlBRklBbHFJZ05ySUFOQkFuUnJha0VRYWtFRmRVR3dMbW90QUFBNkFBQWdCMEVCYWlFSElBRkJBV29oQVNBQ1FRRnFJUUlnQUVGL2FpSUFEUUFMSUFFZ0VXb2hBU0FDSUE1cUlRSWdCeUFPYWlFSElBeEJmMm9pREEwQUN3c2dDMEhBQTJva0FBdXFCZ0VOZnlNQVFiQUJheUlSSkFBZ0NFRUJhaUVLQWtBQ1FDQUNRUUJJRFFBZ0EwRUFTQTBBSUFJZ0Ntb2dCRXNOQUNBRElBbHFRUUZxSUFWTERRQWdCU0VNSUFRaENpQURJUThNQVFzZ0FDQVJJQUlnQXlBRUlBVWdDaUFKUVFGcUlnd2dDaEFNSUFBZ0JDQUZiR29nRVNBS0lBeHNhaUFDSUFNZ0JDQUZJQW9nRENBS0VBd2dFU0VBUVFBaEFnc0NRQ0FKUVFGMklnVkZEUUFnQ0VFQmRpSUVSUTBBUVJBZ0NHc2hFMEVJSUFkcklRdEJDQ0FHYXlFTklBcEJBWFFpRGlBSWF5RVVJQUFnQW1vaUZpQUtJQTlzYWlFQ0lBRWhBQ0FGSVJVRFFDQUNJQTVxTFFBQUlBZHNJQXNnQWlBS2FpMEFBQ0lEYkdvaENDQURJQWRzSUFzZ0FpMEFBR3hxSVFrZ0JDRURBMEFnQWtFQmFpSVFJQTVxTFFBQUlSSWdBQ0FKSUExc0lBb2dFR290QUFBaUNTQUhiQ0FMSUFJdEFBRnNhaUlRSUFac2FrRWdha0VHZGpvQUFDQUFJQWdnRFd3Z0J5QVNiQ0FKSUF0c2FpSUlJQVpzYWtFZ2FrRUdkam9BQ0NBQ0xRQUNJUWtnQWtFQ2FpSUNJQTVxTFFBQUlSSWdBQ0FOSUJCc0lBSWdDbW90QUFBaUVDQUhiQ0FKSUF0c2FpSUpJQVpzYWtFZ2FrRUdkam9BQVNBQUlBZ2dEV3dnQnlBU2JDQUxJQkJzYWlJSUlBWnNha0VnYWtFR2Rqb0FDU0FBUVFKcUlRQWdBMEYvYWlJRERRQUxJQUlnRkdvaEFpQUFJQk5xSVFBZ0ZVRi9haUlWRFFBTElBRkJRR3NoQUNBV0lBd2dEMm9nQ214cUlRSURRQ0FDSUE1cUxRQUFJQWRzSUFzZ0FpQUthaTBBQUNJQmJHb2hDQ0FCSUFkc0lBc2dBaTBBQUd4cUlRa2dCQ0VEQTBBZ0FrRUJhaUlCSUE1cUxRQUFJUXdnQUNBSklBMXNJQUVnQ21vdEFBQWlBU0FIYkNBTElBSXRBQUZzYWlJSklBWnNha0VnYWtFR2Rqb0FBQ0FBSUFnZ0RXd2dCeUFNYkNBQklBdHNhaUlCSUFac2FrRWdha0VHZGpvQUNDQUNMUUFDSVFnZ0FrRUNhaUlDSUE1cUxRQUFJUXdnQUNBSklBMXNJQUlnQ21vdEFBQWlEeUFIYkNBSUlBdHNhaUlKSUFac2FrRWdha0VHZGpvQUFTQUFJQUVnRFd3Z0J5QU1iQ0FMSUE5c2FpSUlJQVpzYWtFZ2FrRUdkam9BQ1NBQVFRSnFJUUFnQTBGL2FpSUREUUFMSUFJZ0ZHb2hBaUFBSUJOcUlRQWdCVUYvYWlJRkRRQUxDeUFSUWJBQmFpUUFDLzlFQVVGL0l3QkJzQUZySWdNa0FDQUFLQUlJSWdRRVFDQUFLQUlFSWg5QkEzUWhGaUFFSUI5c0lnUkJCblFoT3lBRVFRaDBJVHdnSDBFR2RDRTlJQjlCTUd3aFBpQWZRUVYwSVNVZ0gwRlFiQ0VyUVFBZ0gwRUVkQ0lhYXlJb1FRSjBJVDhnS0VFQmRDRXNJQU5CR0dvaElpQURRUXh5SVNNRFFBSkFJQUVvQWdnaUNVRUJSZzBBQWtBQ1FBSkFBa0FnQVNnQ3lBRWlBa1VFUUVFQklRWU1BUXRCQlNFR0lBbEJBa2NOQUVFRlFRRWdBU2dDQkNJSklBSW9BZ1JHR3lFR0lBRW9Bc3dCSWdRTkFVRUFJUVFNQXdzZ0FTZ0N6QUVpQkVVRVFFRUFJUVFNQXdzZ0NVRUNSdzBCSUFFb0FnUWhDUXNnQ1NBRUtBSUVSdzBCQ3lBR1FRSnlJUVlMQW44Z0JrRUNjU0l0QkVBQ1FDQUJLQUlBUVFWTkJFQWdCQ2dDQUVFR1NRMEJDeUFEUVFRMkFrQWdBMEVFTmdKSUlBTkJCRFlDT0NBRFFRUTJBakJCQVF3Q0MwRUNJUTlCQWlFSkFrQWdBUzhCSEEwQUlBUXZBVEFOQUVFQklRa2dBU2dDZENBRUtBSjhSdzBBSUFFdUFZUUJJQVF1QWF3QmF5SUZJQVZCSDNVaUJXb2dCWE5CQTBzTkFDQUJMZ0dHQVNBRUxnR3VBV3NpQ1NBSlFSOTFJZ2xxSUFselFRTkxJUWtMSUFNZ0NUWUNNQUpBSUFFdkFSNE5BQ0FFTHdFeURRQkJBU0VQSUFFb0FuUWdCQ2dDZkVjTkFDQUJMZ0dJQVNBRUxnR3dBV3NpQlNBRlFSOTFJZ1ZxSUFWelFRTkxEUUFnQVM0QmlnRWdCQzRCc2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFUEN5QURJQTgyQWpoQkFpRUZRUUloQ2dKQUlBRXZBU1FOQUNBRUx3RTREUUJCQVNFS0lBRW9BbmdnQkNnQ2dBRkhEUUFnQVM0QmxBRWdCQzRCdkFGcklnZ2dDRUVmZFNJSWFpQUljMEVEU3cwQUlBRXVBWllCSUFRdUFiNEJheUlJSUFoQkgzVWlDR29nQ0hOQkEwc2hDZ3NnQXlBS05nSkFBa0FnQVM4QkpnMEFJQVF2QVRvTkFFRUJJUVVnQVNnQ2VDQUVLQUtBQVVjTkFDQUJMZ0dZQVNBRUxnSEFBV3NpQ0NBSVFSOTFJZ2hxSUFoelFRTkxEUUFnQVM0Qm1nRWdCQzRCd2dGcklnUWdCRUVmZFNJRWFpQUVjMEVEU3lFRkN5QURJQVUyQWtnZ0NTQVBjaUFLY2lBRmNrRUFSd3dCQ3lBRFFRQTJBa0FnQTBFQU5nSklJQU5CQURZQ09DQURRUUEyQWpCQkFBc2hDUUpBQWtBQ1FBSkFJQVpCQkhFaUxnUkFBa0FnQVNnQ0FDSUdRUVZOQkVBZ0FpZ0NBRUVHU1EwQkN5QURRUVEyQW5RZ0EwRUVOZ0tVQVNBRFFRUTJBbFFnQTBFRU5nSTBRUUVoQ1F3Q0MwRUNJUTlCQWlFRUFrQWdBUzhCSEEwQUlBSXZBU1lOQUVFQklRUWdBU2dDZENBQ0tBSjRSdzBBSUFFdUFZUUJJQUl1QVpnQmF5SUZJQVZCSDNVaUJXb2dCWE5CQTBzTkFDQUJMZ0dHQVNBQ0xnR2FBV3NpQkNBRVFSOTFJZ1JxSUFSelFRTkxJUVFMSUFNZ0JEWUNOQUpBSUFFdkFTQU5BQ0FDTHdFcURRQkJBU0VQSUFFb0FuUWdBaWdDZUVjTkFDQUJMZ0dNQVNBQ0xnR2dBV3NpQlNBRlFSOTFJZ1ZxSUFWelFRTkxEUUFnQVM0QmpnRWdBaTRCb2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFUEN5QURJQTgyQWxSQkFpRUZRUUloQ2dKQUlBRXZBU3dOQUNBQ0x3RTJEUUJCQVNFS0lBRW9BbndnQWlnQ2dBRkhEUUFnQVM0QnBBRWdBaTRCdUFGcklnZ2dDRUVmZFNJSWFpQUljMEVEU3cwQUlBRXVBYVlCSUFJdUFib0JheUlJSUFoQkgzVWlDR29nQ0hOQkEwc2hDZ3NnQXlBS05nSjBBa0FnQVM4Qk1BMEFJQUl2QVRvTkFFRUJJUVVnQVNnQ2ZDQUNLQUtBQVVjTkFDQUJMZ0dzQVNBQ0xnSEFBV3NpQ0NBSVFSOTFJZ2hxSUFoelFRTkxEUUFnQVM0QnJnRWdBaTRCd2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFRkN5QURJQVUyQXBRQklBbEZEUUpCQVNFSkRBTUxJQU5CQURZQ2RDQURRUUEyQXBRQklBTkJBRFlDVkNBRFFRQTJBalFnQVNnQ0FDRUdDeUFHUVFaSkRRRWdBMEVETmdLZ0FTQURRb09BZ0lBd053S2tBU0FEUVFNMkFwQUJJQU5CQXpZQ2NDQURRUU0yQXF3QklBTkNnNENBZ0RBM0E1Z0JJQU5DZzRDQWdEQTNBNGdCSUFOQ2c0Q0FnREEzQTRBQklBTkNnNENBZ0RBM0EzZ2dBMEtEZ0lDQU1EY0RhQ0FEUW9PQWdJQXdOd05nSUFOQ2c0Q0FnREEzQTFnZ0EwS0RnSUNBTURjQ1RDQURRUU0yQWtRZ0EwRUROZ0k4REFJTElBUWdEM0lnQ25JZ0JYSkJBRWNoQ1FzQ1FBSi9JQVpCQTAwRVFDQUdRUUowUVl3MWFpZ0NBQXdCQzBFRUMwRUJSZ1JBSUFFZ0EwRXdhaEJFSUFNb0Fxd0JJUWNnQXlnQ3BBRWhEaUFES0FLY0FTRVFJQU1vQW93QklSa2dBeWdDaEFFaEJpQURLQUo4SVJjZ0F5Z0NiQ0VJSUFNb0FtUWhCQ0FES0FKY0lSUWdBeWdDVENFTUlBTW9Ba1FoQWlBREtBSThJUkVnQXlnQ3FBRWhIQ0FES0FLZ0FTRW1JQU1vQXBnQklRMGdBeWdDa0FFaEhTQURLQUtJQVNFU0lBTW9Bb0FCSVJVZ0F5Z0NlQ0ViSUFNb0FuQWhFeUFES0FKb0lRb2dBeWdDWUNFUElBTW9BbGdoQlNBREtBSlFJU2NNQVFzZ0F3Si9Ba0FnQXdKL0FrQUNRQ0FCS0FJQVFYNXFJZ1JCQVUwRVFDQUVRUUZyQkVBZ0F3Si9Ba0FnQVM4QklDSUVEUUFnQVM4QkhBMEFRUUFNQVF0QkFnc2lKellDVUNBREFuOENRQ0FCTHdFaUlnY05BQ0FCTHdFZURRQkJBQXdCQzBFQ0N5SUZOZ0pZSUFNQ2Z3SkFJQUV2QVNnaUJnMEFJQUV2QVNRTkFFRUFEQUVMUVFJTElnODJBbUFnQXdKL0FrQWdBUzhCS2lJT0RRQWdBUzhCSmcwQVFRQU1BUXRCQWdzaUNqWUNhQ0FEQW44Q1FDQUJMd0V3SWg0TkFDQUJMd0VzRFFCQkFBd0JDMEVDQ3lJZE5nS1FBU0FEQW44Q1FDQUJMd0V5SWhBTkFDQUJMd0V1RFFCQkFBd0JDMEVDQ3lJTk5nS1lBU0FEQW44Q1FDQUJMd0U0SWdzTkFDQUJMd0UwRFFCQkFBd0JDMEVDQ3lJbU5nS2dBU0FEQW44Q1FDQUJMd0U2SWhnTkFDQUJMd0UyRFFCQkFBd0JDMEVDQ3lJY05nS29BVUVDSVJ0QkFpRVRBa0FnQkNBQkx3RXNJaGR5RFFCQkFTRVRJQUV1QWFRQklBRXVBWXdCYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBQkxnR21BU0FCTGdHT0FXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWdBU2dDZkNBQktBSjBSeUVUQ3lBRElCTTJBbkFDUUNBSElBRXZBUzRpSUhJTkFFRUJJUnNnQVM0QnFBRWdBUzRCa0FGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRXVBYW9CSUFFdUFaSUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQ0FCS0FKOElBRW9BblJISVJzTElBTWdHellDZUVFQ0lSSkJBaUVWQWtBZ0JpQUJMd0UwSWhseURRQkJBU0VWSUFFdUFiUUJJQUV1QVp3QmF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTkFDQUJMZ0cyQVNBQkxnR2VBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVNnQ2dBRWdBU2dDZUVjaEZRc2dBeUFWTmdLQUFRSkFJQTRnQVM4Qk5pSWhjZzBBUVFFaEVpQUJMZ0c0QVNBQkxnR2dBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVM0QnVnRWdBUzRCb2dGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRW9Bb0FCSUFFb0FuaEhJUklMSUFNZ0VqWUNpQUVnQVM4QkhnMENJQUV2QVJ3RVFFRUNJUkVnQTBFQ05nSThJQUV2QVNRaUNBMEdRUUFoREVFQURBY0xRUUFoRVNBRFFRQTJBanhCQUNFTVFRQWdBUzhCSkNJSVJRMEdHZ3dGQ3lBREFuOENRQ0FCTHdFZ0lnSU5BQ0FCTHdFY0RRQkJBQXdCQzBFQ0N5SW5OZ0pRSUFNQ2Z3SkFJQUV2QVNJaUJnMEFJQUV2QVI0TkFFRUFEQUVMUVFJTElnVTJBbGdnQXdKL0FrQWdBUzhCS0NJT0RRQWdBUzhCSkEwQVFRQU1BUXRCQWdzaUR6WUNZQ0FEQW44Q1FDQUJMd0VxSWdnTkFDQUJMd0VtRFFCQkFBd0JDMEVDQ3lJS05nSm9JQU1nQWlBQkx3RXNJaGR5UVFCSFFRRjBJaE0yQW5BZ0F5QUdJQUV2QVM0aUMzSkJBRWRCQVhRaUd6WUNlQ0FESUE0Z0FTOEJOQ0llY2tFQVIwRUJkQ0lWTmdLQUFTQURJQWdnQVM4Qk5pSVpja0VBUjBFQmRDSVNOZ0tJQVNBRElBRXZBVEFpRUNBWGNrRUFSMEVCZENJZE5nS1FBU0FESUFFdkFUSWlJQ0FMY2tFQVIwRUJkQ0lOTmdLWUFTQURJQUV2QVRnaUlTQWVja0VBUjBFQmRDSW1OZ0tnQVNBRElBRXZBVG9pQnlBWmNrRUFSMEVCZENJY05nS29BU0FEQW44Q1FDQUJMd0VlSWlRTkFDQUJMd0VjRFFCQkFBd0JDMEVDQ3lJUk5nSThJQUV2QVNZRVFDQUJMd0VrSVJnTUF3c2dBUzhCSkNJWURRSkJBQ0VZUVFBTUF3c2dBUzRCaGdFaEZDQUJMZ0dPQVNFRVFRSWhCU0FEQW45QkFpQUJMd0VjSWhFZ0FTOEJJQ0l2Y2cwQUdrRUJJQUV1QVl3QklBRXVBWVFCYXlJR0lBWkJIM1VpQm1vZ0JuTkJBMHNOQUJvZ0JDQVVheUlHSUFaQkgzVWlCbW9nQm5OQkEwc0xJaWMyQWxBZ0FTNEJpZ0VoQ0NBQkxnR1NBU0VHQWtBZ0FTOEJIaUl3SUFFdkFTSWlFSElOQUVFQklRVWdBUzRCa0FFZ0FTNEJpQUZySWdJZ0FrRWZkU0lDYWlBQ2MwRURTdzBBSUFZZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6UVFOTElRVUxJQU1nQlRZQ1dDQUJMZ0dXQVNFTUlBRXVBWjRCSVFkQkFpRUtJQU1DZjBFQ0lBRXZBU1FpTVNBQkx3RW9JaGR5RFFBYVFRRWdBUzRCbkFFZ0FTNEJsQUZySWdJZ0FrRWZkU0lDYWlBQ2MwRURTdzBBR2lBSElBeHJJZ0lnQWtFZmRTSUNhaUFDYzBFRFN3c2lEellDWUNBQkxnR2FBU0V5SUFFdUFhSUJJUXNDUUNBQkx3RW1Ja0FnQVM4QktpSXpjZzBBUVFFaENpQUJMZ0dnQVNBQkxnR1lBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQ3lBeWF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzaENnc2dBeUFLTmdKb0lBRXVBYVlCSVI1QkFpRWJRUUloRXdKQUlDOGdBUzhCTENJMGNnMEFRUUVoRXlBQkxnR2tBU0FCTGdHTUFXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWdIaUFFYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBQktBSjhJQUVvQW5SSElSTUxJQU1nRXpZQ2NDQUJMZ0dxQVNFT0FrQWdFQ0FCTHdFdUloaHlEUUJCQVNFYklBRXVBYWdCSUFFdUFaQUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQ0FPSUFacklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRW9BbndnQVNnQ2RFY2hHd3NnQXlBYk5nSjRJQUV1QWJZQklSbEJBaUVTUVFJaEZRSkFJQmNnQVM4Qk5DSWdjZzBBUVFFaEZTQUJMZ0cwQVNBQkxnR2NBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnR1NBSGF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTkFDQUJLQUtBQVNBQktBSjRSeUVWQ3lBRElCVTJBb0FCSUFFdUFib0JJU0VDUUNBeklBRXZBVFlpTlhJTkFFRUJJUklnQVM0QnVBRWdBUzRCb0FGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlDRWdDMnNpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVNnQ2dBRWdBU2dDZUVjaEVnc2dBeUFTTmdLSUFTQUJMZ0d1QVNFMlFRSWhEU0FEQW45QkFpQTBJQUV2QVRBaVFYSU5BQnBCQVNBQkxnR3NBU0FCTGdHa0FXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWFJRFlnSG1zaUFpQUNRUjkxSWdKcUlBSnpRUU5MQ3lJZE5nS1FBU0FCTGdHeUFTRWtBa0FnR0NBQkx3RXlJamR5RFFCQkFTRU5JQUV1QWJBQklBRXVBYWdCYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBa0lBNXJJZ0lnQWtFZmRTSUNhaUFDYzBFRFN5RU5DeUFESUEwMkFwZ0JJQUV1QWI0QklTbEJBaUVjSUFNQ2YwRUNJQ0FnQVM4Qk9DSTRjZzBBR2tFQklBRXVBYndCSUFFdUFiUUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQm9nS1NBWmF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTElpWTJBcUFCSUFFdUFjSUJJVGtDUUNBMUlBRXZBVG9pUW5JTkFFRUJJUndnQVM0QndBRWdBUzRCdUFGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlEa2dJV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxJUndMSUFNZ0hEWUNxQUZCQWlFQ0lBTUNmMEVDSUJFZ01ISU5BQnBCQVNBQkxnR0lBU0FCTGdHRUFXc2lFU0FSUVI5MUloRnFJQkZ6UVFOTERRQWFJQWdnRkdzaUZDQVVRUjkxSWhScUlCUnpRUU5MQ3lJUk5nSThBa0FnTUNBeGNnMEFRUUVoQWlBQkxnR1VBU0FCTGdHSUFXc2lGQ0FVUVI5MUloUnFJQlJ6UVFOTERRQWdEQ0FJYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUNBQktBSjRJQUVvQW5SSElRSUxJQU1nQWpZQ1JFRUNJUlFnQXdKL1FRSWdNU0JBY2cwQUdrRUJJQUV1QVpnQklBRXVBWlFCYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUJvZ01pQU1heUlJSUFoQkgzVWlDR29nQ0hOQkEwc0xJZ3cyQWt3Q1FDQVFJQzl5RFFCQkFTRVVJQUV1QVpBQklBRXVBWXdCYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUNBR0lBUnJJZ1FnQkVFZmRTSUVhaUFFYzBFRFN5RVVDeUFESUJRMkFseEJBaUVJUVFJaEJBSkFJQkFnRjNJTkFFRUJJUVFnQVM0Qm5BRWdBUzRCa0FGckloQWdFRUVmZFNJUWFpQVFjMEVEU3cwQUlBY2dCbXNpQmlBR1FSOTFJZ1pxSUFaelFRTkxEUUFnQVNnQ2VDQUJLQUowUnlFRUN5QURJQVEyQW1RQ1FDQVhJRE55RFFCQkFTRUlJQUV1QWFBQklBRXVBWndCYXlJR0lBWkJIM1VpQm1vZ0JuTkJBMHNOQUNBTElBZHJJZ1lnQmtFZmRTSUdhaUFHYzBFRFN5RUlDeUFESUFnMkFteEJBaUVHSUFNQ2YwRUNJQmdnTkhJTkFCcEJBU0FCTGdHb0FTQUJMZ0drQVdzaUJ5QUhRUjkxSWdkcUlBZHpRUU5MRFFBYUlBNGdIbXNpQnlBSFFSOTFJZ2RxSUFkelFRTkxDeUlYTmdKOEFrQWdHQ0FnY2cwQVFRRWhCaUFCTGdHMEFTQUJMZ0dvQVdzaUJ5QUhRUjkxSWdkcUlBZHpRUU5MRFFBZ0dTQU9heUlISUFkQkgzVWlCMm9nQjNOQkEwc05BQ0FCS0FLQUFTQUJLQUo4UnlFR0N5QURJQVkyQW9RQlFRSWhFQ0FEQW45QkFpQWdJRFZ5RFFBYVFRRWdBUzRCdUFFZ0FTNEJ0QUZySWdjZ0IwRWZkU0lIYWlBSGMwRURTdzBBR2lBaElCbHJJZ2NnQjBFZmRTSUhhaUFIYzBFRFN3c2lHVFlDakFFQ1FDQTNJRUZ5RFFCQkFTRVFJQUV1QWJBQklBRXVBYXdCYXlJSElBZEJIM1VpQjJvZ0IzTkJBMHNOQUNBa0lEWnJJZ2NnQjBFZmRTSUhhaUFIYzBFRFN5RVFDeUFESUJBMkFwd0JRUUloQjBFQ0lRNENRQ0EzSURoeURRQkJBU0VPSUFFdUFid0JJQUV1QWJBQmF5SUxJQXRCSDNVaUMyb2dDM05CQTBzTkFDQXBJQ1JySWdzZ0MwRWZkU0lMYWlBTGMwRURTdzBBSUFFb0FvQUJJQUVvQW54SElRNExJQU1nRGpZQ3BBRUNRQ0E0SUVKeURRQkJBU0VISUFFdUFjQUJJQUV1QWJ3QmF5SUxJQXRCSDNVaUMyb2dDM05CQTBzTkFDQTVJQ2xySWdjZ0IwRWZkU0lIYWlBSGMwRURTeUVIQ3lBRElBYzJBcXdCREFVTFFRSWhFU0FEUVFJMkFqd2dBUzhCSkNFSURBSUxRUUlMSWd3MkFreEJBaUVFSUFOQkFpQUlRUUJIUVFGMElBNGJJZ2cyQW13Z0EwRUNJQVpCQUVkQkFYUWdBaHNpRkRZQ1hDQURJQWNnSVhKQkFFZEJBWFFpQnpZQ3JBRWdBeUFRSUNCeVFRQkhRUUYwSWhBMkFwd0JJQU1nR1NBZWNrRUFSMEVCZENJWk5nS01BU0FESUFzZ0YzSkJBRWRCQVhRaUZ6WUNmRUVDSVFJQ1FDQVlJQ1J5RFFCQkFTRUNJQUV1QVpRQklBRXVBWWdCYXlJWUlCaEJIM1VpR0dvZ0dITkJBMHNOQUNBQkxnR1dBU0FCTGdHS0FXc2lHQ0FZUVI5MUloaHFJQmh6UVFOTERRQWdBU2dDZUNBQktBSjBSeUVDQ3lBRElBSTJBa1FDUUNBR0lBNXlEUUJCQVNFRUlBRXVBWndCSUFFdUFaQUJheUlHSUFaQkgzVWlCbW9nQm5OQkEwc05BQ0FCTGdHZUFTQUJMZ0dTQVdzaUJpQUdRUjkxSWdacUlBWnpRUU5MRFFBZ0FTZ0NlQ0FCS0FKMFJ5RUVDeUFESUFRMkFtUkJBaUVPUVFJaEJnSkFJQXNnSG5JTkFFRUJJUVlnQVM0QnRBRWdBUzRCcUFGcklnc2dDMEVmZFNJTGFpQUxjMEVEU3cwQUlBRXVBYllCSUFFdUFhb0JheUlMSUF0QkgzVWlDMm9nQzNOQkEwc05BQ0FCS0FLQUFTQUJLQUo4UnlFR0N5QURJQVkyQW9RQkFrQWdJQ0FoY2cwQVFRRWhEaUFCTGdHOEFTQUJMZ0d3QVdzaUN5QUxRUjkxSWd0cUlBdHpRUU5MRFFBZ0FTNEJ2Z0VnQVM0QnNnRnJJZ3NnQzBFZmRTSUxhaUFMYzBFRFN3MEFJQUVvQW9BQklBRW9BbnhISVE0TElBTWdEallDcEFFTUFnc2dDQ0VNUVFJTElnSTJBa1FnQXlBQkx3RW1JQXhCLy84RGNYSkJBRWRCQVhRaUREWUNUQ0FEQW44Q1FDQUhSUVJBSUFRRVFFRUNJUlFnQTBFQ05nSmNJQVlOQWtFQURBTUxRUUFoRkNBRFFRQTJBbHhCQUNBR1JRMENHZ3dCQzBFQ0lSUWdBMEVDTmdKY0MwRUNDeUlFTmdKa0lBTkJBaUFPUVFCSFFRRjBJQVliSWdnMkFtd2dBd0ovQWtBZ0lFVUVRQ0FYQkVCQkFpRVhJQU5CQWpZQ2ZDQVpEUUpCQUF3REMwRUFJUmNnQTBFQU5nSjhRUUFnR1VVTkFob01BUXRCQWlFWElBTkJBallDZkF0QkFnc2lCallDaEFFZ0F5QUxJQmh5UVFCSFFRRjBJZ2MyQXF3QklBTWdDeUFRY2tFQVIwRUJkQ0lPTmdLa0FTQURRUUlnRUVFQVIwRUJkQ0FlR3lJUU5nS2NBU0FESUJrZ0lYSkJBRWRCQVhRaUdUWUNqQUVMSUFrZ0ozSWdCWElnRDNJZ0NuSWdFM0lnRzNJZ0ZYSWdFbklnSFhJZ0RYSWdKbklnSEhJZ0VYSWdBbklnREhJZ0ZISWdCSElnQ0hJZ0YzSWdCbklnR1hJZ0VISWdEbklnQjNKRkRRRUxJQUVvQWd3aENTQURJQUVvQWhBaUJTQUJLQUlVSWdScUlnWkJNeUFHUVROSUd5SUdRUUFnQmtFQVNodEIwQmRxTFFBQUlnWTJBaUFnQXlBRUlBbHFJZ0pCTXlBQ1FUTklHeUlDUVFBZ0FrRUFTaHNpQ0VHUUYyb3RBQUFpQWpZQ0hDQURJQWhCQTJ4QmtCaHFJZ2cyQWhnQ1FDQXRSUTBBSUFRZ0FTZ0N6QUVvQWhRaUIwY0VRQ0FESUFRZ0IycEJBV3BCQVhZaUJ5QUZhaUlOUVRNZ0RVRXpTQnNpRFVFQUlBMUJBRW9iUWRBWGFpMEFBRFlDQ0NBRElBY2dDV29pQjBFeklBZEJNMGdiSWdkQkFDQUhRUUJLR3lJSFFaQVhhaTBBQURZQ0JDQURJQWRCQTJ4QmtCaHFOZ0lBREFFTElBTWdCallDQ0NBRElBSTJBZ1FnQXlBSU5nSUFDd0pBSUM1RkRRQWdCQ0FCS0FMSUFTZ0NGQ0lIUndSQUlBTWdCQ0FIYWtFQmFrRUJkaUlFSUFWcUlnVkJNeUFGUVROSUd5SUZRUUFnQlVFQVNodEIwQmRxTFFBQU5nSVVJQU1nQkNBSmFpSUVRVE1nQkVFelNCc2lCRUVBSUFSQkFFb2JJZ1JCa0JkcUxRQUFOZ0lRSUFNZ0JFRURiRUdRR0dvMkFnd01BUXNnQXlBR05nSVVJQU1nQWpZQ0VDQURJQWcyQWd3TElBQW9BZ0FnSHlBNmJDSVVRUWgwYWlBcVFRUjBhaUVKUVFBaEFrRURJUVFnQTBFd2FpRUdBMEFnQmlnQ0JDSUZCRUFnQ1NBRklDTWdHaEFaQ3lBR0tBSU1JZ1VFUUNBSlFRUnFJQVVnSWlBYUVCa0xJQVlvQWhRaUJRUkFJQWxCQ0dvZ0JTQWlJQm9RR1FzZ0JpZ0NIQ0lGQkVBZ0NVRU1haUFGSUNJZ0doQVpDeUFFSVFnQ1FBSkFBa0FnQmlnQ0FDSUVJQVlvQWdnaUQwY05BQ0FFSUFZb0FoQkhEUUFnQkNBR0tBSVlSdzBBSUFSRkRRSWdBeUFDUVF4c2FpSUZLQUlJSVF3Z0JTZ0NCQ0ViSUFSQkJFa05BU0FiUVFKMlFRSnFJUkJCRUNFUElBa2hCQU5BQWtBZ0JDQW9haUlDTFFBQUlnb2dCQzBBQUNJT2F5SUZJQVZCSDNVaUJXb2dCWE1pQnlBYlR3MEFJQVFnTEdvaUVTMEFBQ0lGSUFwcklnMGdEVUVmZFNJTmFpQU5jeUFNVHcwQUlBUWdHbW9pSEMwQUFDSVNJQTVySWcwZ0RVRWZkU0lOYWlBTmN5QU1UdzBBQWtBZ0J5QVFTUVJBSUFRZ0pXb2lGeTBBQUNFVkFuOGdCQ0FyYWlJTkxRQUFJaE1nQ21zaUJ5QUhRUjkxSWdkcUlBZHpJQXhKQkVCQkF5RWRJQUlnRWlBS0lBNXFJQVZxSWdKQkFYUnFJQk5xUVFScVFRTjJPZ0FBSUJFZ0FpQVRha0VDYWtFQ2Rqb0FBQ0FDUVFScUlSRWdCQ0EvYWkwQUFDRUhJQk5CQTJ3TUFRc2dDaUFTYWlFUklBVWhCMEVDSVIwZ0FpRU5RUUlMSVFJZ0RTQUNJQkZxSUFkQkFYUnFJQjEyT2dBQUlCVWdEbXNpQWlBQ1FSOTFJZ0pxSUFKeklBeFBEUUVnQkNBRklBb2dFbW9nRG1vaUFrRUJkR29nRldwQkJHcEJBM1k2QUFBZ0hDQUNJQlZxUVFKcVFRSjJPZ0FBSUJjZ0FpQVZRUU5zYWlBRUlENXFMUUFBUVFGMGFrRUVha0VEZGpvQUFBd0NDeUFDSUFvZ0Vtb2dCVUVCZEdwQkFtcEJBblk2QUFBTElBUWdCU0FPYWlBU1FRRjBha0VDYWtFQ2Rqb0FBQXNnQkVFQmFpRUVJQTlCZjJvaUR3MEFDd3dDQ3dKL0lBUUVRQ0FKSUFRZ0F5QUNRUXhzYWlBYUVCZ2dCaWdDQ0NFUEN5QVBDd1JBSUFsQkJHb2dEeUFESUFKQkRHeHFJQm9RR0FzZ0JpZ0NFQ0lFQkVBZ0NVRUlhaUFFSUFNZ0FrRU1iR29nR2hBWUN5QUdLQUlZSWdSRkRRRWdDVUVNYWlBRUlBTWdBa0VNYkdvZ0doQVlEQUVMSUFRZ0JTZ0NBR3BCZjJvdEFBQWlBa0VCYWlFSFFRQWdBbXNoRGtFUUlROGdDU0VFQTBBQ1FDQUVJQ2hxSWhNdEFBQWlEU0FFTFFBQUlncHJJZ1VnQlVFZmRTSUZhaUFGY3lBYlR3MEFJQVFnTEdvaUVTMEFBQ0lTSUExcklnVWdCVUVmZFNJRmFpQUZjeUFNVHcwQUlBUWdHbW9pRUMwQUFDSVZJQXBySWdVZ0JVRWZkU0lGYWlBRmN5QU1UdzBBSUFJaEJTQUVJQ3RxTFFBQUlod2dEV3NpSFNBZFFSOTFJaDFxSUIxeklBeEpCRUFnRVNBU0lBNGdBaUFLSUExcVFRRnFRUUYySUJKQkFYUnJJQnhxUVFGMUlnVWdCU0FDU2hzZ0JTQU9TQnRxT2dBQUlBY2hCUXNnRXlBTkFuOGdCQ0FsYWkwQUFDSVRJQXBySWhFZ0VVRWZkU0lSYWlBUmN5QU1TUVJBSUJBZ0ZTQU9JQUlnQ2lBTmFrRUJha0VCZGlBVlFRRjBheUFUYWtFQmRTSVRJQk1nQWtvYklCTWdEa2diYWpvQUFDQUZRUUZxSVFVTFFRQWdCV3NpRXdzZ0JTQVNJQlZySUFvZ0RXdEJBblJxUVFScVFRTjFJaElnRWlBRlNoc2dFaUFUU0JzaUJXcEJzQzVxTFFBQU9nQUFJQVFnQ2lBRmEwR3dMbW90QUFBNkFBQUxJQVJCQVdvaEJDQVBRWDlxSWc4TkFBc0xJQWhCZjJvaEJDQUdRU0JxSVFZZ0NTQTlhaUVKUVFJaEFpQUlEUUFMSUFFb0Fnd2hCQ0FESUFFb0FoQWlCU0FCS0FJVUlnWWdBU2dDR0NJQ2FpSUpRVE1nQ1VFelNCc2lDVUVBSUFsQkFFb2JRUUowUWVBOWFpZ0NBQ0lKYWlJSVFUTWdDRUV6U0JzaUNFRUFJQWhCQUVvYlFkQVhhaTBBQUNJSU5nSWdJQU1nQkNBSmFpSUhRVE1nQjBFelNCc2lCMEVBSUFkQkFFb2JJZzFCa0JkcUxRQUFJZ2MyQWh3Z0F5QU5RUU5zUVpBWWFpSU5OZ0lZQWtBZ0xVVU5BQ0FHSUFFb0Fzd0JLQUlVSWd4SEJFQWdBeUFKSUFJZ0RHb2lERUV6SUF4Qk0wZ2JJZ3hCQUNBTVFRQktHMEVDZEVIZ1BXb29BZ0JxUVFGcVFRRjJJZ3dnQldvaUQwRXpJQTlCTTBnYklnOUJBQ0FQUVFCS0cwSFFGMm90QUFBMkFnZ2dBeUFFSUF4cUlneEJNeUFNUVROSUd5SU1RUUFnREVFQVNoc2lERUdRRjJvdEFBQTJBZ1FnQXlBTVFRTnNRWkFZYWpZQ0FBd0JDeUFESUFnMkFnZ2dBeUFITmdJRUlBTWdEVFlDQUFzQ1FDQXVSUTBBSUFZZ0FTZ0N5QUVvQWhRaURFY0VRQ0FESUFVZ0NTQUNJQXhxSWdaQk15QUdRVE5JR3lJR1FRQWdCa0VBU2h0QkFuUkI0RDFxS0FJQWFrRUJha0VCZGlJSmFpSUZRVE1nQlVFelNCc2lCVUVBSUFWQkFFb2JRZEFYYWkwQUFEWUNGQ0FESUFRZ0NXb2lCRUV6SUFSQk0wZ2JJZ1JCQUNBRVFRQktHeUlFUVpBWGFpMEFBRFlDRUNBRElBUkJBMnhCa0JocU5nSU1EQUVMSUFNZ0NEWUNGQ0FESUFjMkFoQWdBeUFOTmdJTUN5QUFLQUlBSUR4cUlCUkJCblJxSUNwQkEzUnFJZ2tnTzJvaEJFRUFJUW9nQTBFd2FpRUdRUUFoQWdOQUlBWW9BZ1FpQlFSQUlBa2dCU0FqSUJZUUVDQUVJQVlvQWdRZ0l5QVdFQkFMSUFZb0FpUWlCUVJBSUFrZ0dtb2dCU0FqSUJZUUVDQUVJQnBxSUFZb0FpUWdJeUFXRUJBTElBWW9BaFFpQlFSQUlBbEJCR29nQlNBaUlCWVFFQ0FFUVFScUlBWW9BaFFnSWlBV0VCQUxJQVlvQWpRaUJRUkFJQWtnR21wQkJHb2dCU0FpSUJZUUVDQUVJQnBxUVFScUlBWW9BalFnSWlBV0VCQUxJQUloQlFKQUFrQWdCaWdDQUNJQ0lBWW9BZ2dpRDBjTkFDQUNJQVlvQWhCSERRQWdBaUFHS0FJWVJ3MEFJQUpGRFFFZ0NTQUNJQU1nQ2tFTWJHb2lBaUFXRUNzZ0JDQUdLQUlBSUFJZ0ZoQXJEQUVMQW44Z0FnUkFJQWtnQWlBRElBcEJER3hxSWdJZ0ZoQVNJQVFnQmlnQ0FDQUNJQllRRWlBR0tBSUlJUThMSUE4TEJFQWdDVUVDYWlBUElBTWdDa0VNYkdvaUFpQVdFQklnQkVFQ2FpQUdLQUlJSUFJZ0ZoQVNDeUFHS0FJUUlnSUVRQ0FKUVFScUlBSWdBeUFLUVF4c2FpSUNJQllRRWlBRVFRUnFJQVlvQWhBZ0FpQVdFQklMSUFZb0FoZ2lBa1VOQUNBSlFRWnFJQUlnQXlBS1FReHNhaUlDSUJZUUVpQUVRUVpxSUFZb0FoZ2dBaUFXRUJJTElBUWdKV29oQkNBSklDVnFJUWtnQmtGQWF5RUdRUUVoQWtFQ0lRb2dCVVVOQUFzTFFRQWdLa0VCYWlJRUlBUWdIMFlpQkJzaEtpQUJRZGdCYWlFQklBUWdPbW9pT2lBQUtBSUlTUTBBQ3dzZ0EwR3dBV29rQUF1Q0JRRUtmeU1BUVpBQmF5SUxKQUFDUUFKQUlBSkJBRWdOQUNBRFFRQklEUUFnQWlBSGFpQUVTdzBBSUFNZ0NHcEJBV29nQlVzTkFDQUZJUXdnQXlFT0RBRUxJQUFnQ3lBQ0lBTWdCQ0FGSUFjZ0NFRUJhaUlNSUFjUURDQUFJQVFnQld4cUlBc2dCeUFNYkdvZ0FpQURJQVFnQlNBSElBd2dCeEFNSUFzaEFDQUhJUVJCQUNFQ0N3SkFJQWhCQVhZaUJVVU5BQ0FIUVFGMklnTkZEUUJCRUNBSGF5RVFRUWdnQm1zaENTQUVRUUYwSWcwZ0Iyc2hFU0FBSUFKcUloSWdCQ0FPYkdvaEJ5QUJJUUlnQlNFSUEwQWdBeUVBQTBBZ0J5QU5haTBBQUNFS0lBSWdDU0FITFFBQWJDQUVJQWRxTFFBQUlnOGdCbXhxUVFOMFFTQnFRUVoyT2dBQUlBSWdDU0FQYkNBR0lBcHNha0VEZEVFZ2FrRUdkam9BQ0NBSFFRRnFJZ29nRFdvdEFBQWhEeUFDSUFrZ0J5MEFBV3dnQkNBS2FpMEFBQ0lLSUFac2FrRURkRUVnYWtFR2Rqb0FBU0FDSUFrZ0Ntd2dCaUFQYkdwQkEzUkJJR3BCQm5ZNkFBa2dBa0VDYWlFQ0lBZEJBbW9oQnlBQVFYOXFJZ0FOQUFzZ0J5QVJhaUVISUFJZ0VHb2hBaUFJUVg5cUlnZ05BQXNnQVVGQWF5RUNJQklnRENBT2FpQUViR29oQndOQUlBTWhBQU5BSUFjZ0RXb3RBQUFoQVNBQ0lBa2dCeTBBQUd3Z0JDQUhhaTBBQUNJSUlBWnNha0VEZEVFZ2FrRUdkam9BQUNBQ0lBZ2dDV3dnQVNBR2JHcEJBM1JCSUdwQkJuWTZBQWdnQjBFQmFpSUJJQTFxTFFBQUlRZ2dBaUFKSUFjdEFBRnNJQUVnQkdvdEFBQWlBU0FHYkdwQkEzUkJJR3BCQm5ZNkFBRWdBaUFCSUFsc0lBWWdDR3hxUVFOMFFTQnFRUVoyT2dBSklBSkJBbW9oQWlBSFFRSnFJUWNnQUVGL2FpSUFEUUFMSUFjZ0VXb2hCeUFDSUJCcUlRSWdCVUYvYWlJRkRRQUxDeUFMUVpBQmFpUUFDLzBFQVF0L0l3QkJrQUZySWd3a0FDQUhRUUZxSVFrQ1FBSkFJQUpCQUVnTkFDQURJQWhxSUFWTERRQWdBMEVBU0EwQUlBSWdDV29nQkVzTkFDQUVJUWtnQXlFTERBRUxJQUFnRENBQ0lBTWdCQ0FGSUFrZ0NDQUpFQXdnQUNBRUlBVnNhaUFNSUFnZ0NXeHFJQUlnQXlBRUlBVWdDU0FJSUFrUURDQU1JUUFnQ0NFRlFRQWhBZ3NDUUNBSVFRRjJJZ2hGRFFBZ0IwRUJkaUlFUlEwQVFSQWdCMnNoRGtFSUlBWnJJUW9nQ1VFQmRDQUhheUVQSUFBZ0Ftb2lFU0FKSUF0c2FpRUNJQUVoQXlBSUlRQURRQ0FFSVFjRFFDQUNRUUZxSUFscUxRQUFJUkFnQWlBSmFpMEFBQ0VOSUFNZ0FpMEFBU0lTSUFac0lBb2dBaTBBQUd4cVFRTjBRU0JxUVFaMk9nQUFJQU1nQmlBUWJDQUtJQTFzYWtFRGRFRWdha0VHZGpvQUNDQUNMUUFDSVEwZ0FrRUNhaUlDSUFscUxRQUFJUk1nQXlBR0lBMXNJQW9nRW14cVFRTjBRU0JxUVFaMk9nQUJJQU1nQmlBVGJDQUtJQkJzYWtFRGRFRWdha0VHZGpvQUNTQURRUUpxSVFNZ0IwRi9haUlIRFFBTElBSWdEMm9oQWlBRElBNXFJUU1nQUVGL2FpSUFEUUFMSUFGQlFHc2hBeUFSSUFVZ0Myb2dDV3hxSVFJRFFDQUVJUWNEUUNBQ1FRRnFJQWxxTFFBQUlRQWdBaUFKYWkwQUFDRUJJQU1nQWkwQUFTSUZJQVpzSUFvZ0FpMEFBR3hxUVFOMFFTQnFRUVoyT2dBQUlBTWdBQ0FHYkNBQklBcHNha0VEZEVFZ2FrRUdkam9BQ0NBQ0xRQUNJUUVnQWtFQ2FpSUNJQWxxTFFBQUlRc2dBeUFCSUFac0lBVWdDbXhxUVFOMFFTQnFRUVoyT2dBQklBTWdCaUFMYkNBQUlBcHNha0VEZEVFZ2FrRUdkam9BQ1NBRFFRSnFJUU1nQjBGL2FpSUhEUUFMSUFJZ0Qyb2hBaUFESUE1cUlRTWdDRUYvYWlJSURRQUxDeUFNUVpBQmFpUUFDN2tIQVFWL0l3QkJFR3NpQkNRQUFrQWdBQ0FCUVFCQnlBQVFCeUlERUFJaUFRMEFRUUVoQVNBREtBSUFRZjhCU3cwQUlBQWdBMEVFYWhBQ0lnRU5BRUVCSVFFZ0F5Z0NCRUVmU3cwQUlBQkJBUkFERFFBZ0FFRUJFQU1pQWtGL1JnMEFJQU1nQWtFQlJqWUNDQ0FBSUFSQkRHb1FBaUlCRFFBZ0F5QUVLQUlNUVFGcUlnRTJBZ3dnQVVFSVN3UkFRUUVoQVF3QkN3SkFJQUZCQWtrTkFDQUFJQU5CRUdvUUFpSUJEUUVnQXlnQ0VDSUJRUVpMSWdJRVFFRUJJUUVNQWdzZ0FnMEFBa0FDUUFKQUFrQWdBVUVCYXc0R0JBRUNBZ0lEQUFzZ0F5QURLQUlNSWdGQkFuUVFDaUlDTmdJVUlBSkZCRUJCLy84RElRRU1CUXNnQVVVTkEwRUFJUUlEUUNBQUlBUkJER29RQWlJQkRRVWdBeWdDRkNBQ1FRSjBhaUFFS0FJTVFRRnFOZ0lBSUFKQkFXb2lBaUFES0FJTVNRMEFDd3dEQ3lBRElBTW9BZ3dpQWtFQ2RFRjhhaUlCRUFvaUJUWUNHQ0FESUFFUUNpSUdOZ0ljUWYvL0F5RUJJQVZGRFFNZ0JrVU5BeUFDUVFGR0RRSkJBQ0VDQTBBZ0FDQUVRUXhxRUFJaUFRMEVJQUpCQW5RaUJTQURLQUlZYWlBRUtBSU1OZ0lBSUFBZ0JFRU1haEFDSWdFTkJDQURLQUljSUFWcUlBUW9BZ3cyQWdBZ0FrRUJhaUlDSUFNb0FneEJmMnBKRFFBTERBSUxRUUVoQVNBQVFRRVFBeUlDUVg5R0RRSWdBeUFDUVFGR05nSWdJQUFnQkVFTWFoQUNJZ0VOQWlBRElBUW9BZ3hCQVdvMkFpUU1BUXNnQUNBRVFReHFFQUlpQVEwQklBTWdCQ2dDREVFQmFpSUJOZ0lvSUFNZ0FVRUNkQkFLSWdJMkFpd2dBa1VFUUVILy93TWhBUXdDQ3lBQlJRMEFJQU1vQWd4QkFuUkJyRHRxS0FJQUlRWkJBQ0VDQTBBZ0FDQUdFQU1oQlNBREtBSXNJQUpCQW5ScUlBVTJBZ0JCQVNFQklBVWdBeWdDREU4TkFpQUNRUUZxSWdJZ0F5Z0NLRWtOQUFzTElBQWdCRUVNYWhBQ0lnRU5BRUVCSVFFZ0JDZ0NEQ0lDUVI5TERRQWdBeUFDUVFGcU5nSXdJQUFnQkVFTWFoQUNJZ0VOQUVFQklRRWdCQ2dDREVFZlN3MEFJQUJCQVJBREJFQU1BUXNnQUVFQ0VBTkJBa3NFUUF3QkN5QUFJQVJCQ0dvUUJTSUJEUUFnQkNnQ0NFRWFhaUlCUVROTEJFQkJBU0VCREFFTElBTWdBVFlDTkNBQUlBUkJDR29RQlNJQkRRQWdCQ2dDQ0VFYWFrRXpTd1JBUVFFaEFRd0JDeUFBSUFSQkNHb1FCU0lCRFFCQkFTRUJJQVFvQWdnaUFrRU1ha0VZU3cwQUlBTWdBallDT0NBQVFRRVFBeUlDUVg5R0RRQWdBeUFDUVFGR05nSThJQUJCQVJBRElnSkJmMFlOQUNBRElBSkJBVVkyQWtBZ0FFRUJFQU1pQWtGL1JnMEFJQU1nQWtFQlJqWUNSQ0FBRUI5QkFDRUJDeUFFUVJCcUpBQWdBUXZxQlFFSmZ3SkFJQUlvQXB3Q1JRUkFEQUVMUVFFaEJnTkFBa0FDUUNBQ0lBVkJGR3hxS0FLZ0FpSUVRUVZMRFFBZ0JFRUJhdzRGQUFBQUFBTUJDeUFGUVFGcUlRVU1BUXNMSUFRaEJnc0Nmd0pBSUFFb0FoQWlCRUVCVFFSQUlBUkJBV3NFUUNBREtBSUFRUVZHQkVBZ0FFSUFOd0lBSUFJb0FoUWhCVUVBSVFRTUF3c2dBQ2dDQUNJRUlBSW9BaFFpQlUwTkFpQUVJQVZySUFFb0FoUWlCMEVCZGtrTkFpQUFLQUlFSUFkcURBTUxRUUFoQlFKL1FRQWdBeWdDQUVFRlJnMEFHaUFBS0FJTUlnY2dBQ2dDQ0NBQ0tBSU1UUTBBR2lBQktBSU1JQWRxQ3lFSFFRQWhCQUovSUFFb0FpUWlDQVJBSUFJb0Fnd2dCMm9oQlFzZ0JTQURLQUlFSWdwRklBVkJBRWR4YXlJSkN3UkFJQWxCZjJvaUF5QURJQWh1SWdzZ0NHeHJJUU1MSUFnRVFDQUJLQUlvSVF4QkFDRUZBMEFnRENBRlFRSjBhaWdDQUNBRWFpRUVJQVZCQVdvaUJTQUlSdzBBQ3dzQ1FDQUpSUVJBUVFBaEJBd0JDeUFFSUF0c0lRUWdBU2dDS0NFSVFRQWhCUU5BSUFnZ0JVRUNkR29vQWdBZ0JHb2hCQ0FGUVFGcUlnVWdBMDBOQUFzTElBcEZCRUFnQVNnQ0hDQUVhaUVFQ3lBR1JRUkFJQUlvQWlBaEF5QUJLQUlnSVFFZ0FpZ0NIQ0VHSUFBZ0J6WUNEQ0FBSUFJb0FndzJBZ2dnQmlBQklBTnFJZ0JCSDNVZ0FIRWdCR3BxRHdzZ0FFSUFOd0lJUVFBUEMwRUFJUVZCQUNFRUlBTW9BZ0JCQlVjRVFDQUFLQUlNSVFVZ0FDZ0NDQ0FDS0FJTUlnUkxCRUFnQVNnQ0RDQUZhaUVGQ3lBRUlBVnFRUUYwSUFNb0FnUkZheUVFQ3lBR1JRUkFJQUFnQlRZQ0RDQUFJQUlvQWd3MkFnZ2dCQThMSUFCQ0FEY0NDRUVBRHdzQ1FDQUZJQVJORFFBZ0JTQUVheUFCS0FJVUlnRkJBWFpORFFBZ0FDZ0NCQ0FCYXd3QkN5QUFLQUlFQ3lFRUlBTW9BZ1JGQkVBZ0JDQUZhaUFDS0FJWUlnQkJIM1VnQUhGcUR3c2dBQ0FFTmdJRUlBSW9BaGdoQVNBR0JFQWdBRUVBTmdJRUlBQkJBQ0FCYXlBQlFSOTFjVFlDQUVFQUR3c2dBQ0FGTmdJQUlBUWdCV29nQVVFZmRTQUJjV29MdkFFQkNIOGdBZ1JBSUFGQmYyb2hCMEVBSUFGclFkZ0JiQ0VJUVFFZ0FXdEIyQUZzSVFrZ0FVRi9jMEhZQVd3aENnTkFJQUFnQmtIWUFXeHFJZ01nQTBHb2ZtcEJBQ0FFR3pZQ3lBRWdBd0ovSUFWRkJFQWdBMEVBTmdMTUFVRUFEQUVMSUFNZ0F5QUlhallDekFFZ0F5QUpha0VBSUFRZ0Iwa2JDellDMEFFZ0F5QURJQXBxUVFBZ0JCdEJBQ0FGR3pZQzFBRkJBQ0FFUVFGcUlnTWdBU0FEUmlJREd5RUVJQU1nQldvaEJTQUdRUUZxSWdZZ0FrY05BQXNMQzNjQkFuOUJBU0VDQWtBZ0FFRUJFQU5CZjBZTkFDQUJJQUJCQWhBRE5nSUVJQUVnQUVFRkVBTWlBRFlDQUNBQVFYNXFRUU5KRFFBQ1FDQUFRUXhMRFFCQkFTQUFkQ0lEUWNBOGNVVUVRQ0FEUWFBRGNVVU5BU0FBUVFaR0RRSWdBU2dDQkEwQkRBSUxJQUVvQWdRTkFRdEJBQ0VDQ3lBQ0M1SVRBUVovSUFBZ0FTZ0NBQ0lOTmdJQUlBQWdBQ2dDeEFGQkFXbzJBc1FCSUFJZ0JSQWRBa0FDUUFKQUFrQUNRQ0FOUVI5R0JFQWdBRUVBTmdJVUlBQW9Bc1FCUVFGTERRRWdBRUVjYWlFSklBRkJ5QUpxSVFSQkZ5RUJJQWNoQUFOQUlBbEJFRHNCQUNBQUlBUW9BZ0E2QUFBZ0FDQUVLQUlFT2dBQklBQWdCQ2dDQ0RvQUFpQUFJQVFvQWd3NkFBTWdBQ0FFS0FJUU9nQUVJQUFnQkNnQ0ZEb0FCU0FBSUFRb0FoZzZBQVlnQUNBRUtBSWNPZ0FISUFBZ0JDZ0NJRG9BQ0NBQUlBUW9BaVE2QUFrZ0FDQUVLQUlvT2dBS0lBQWdCQ2dDTERvQUN5QUFJQVFvQWpBNkFBd2dBQ0FFS0FJME9nQU5JQUFnQkNnQ09Eb0FEaUFBSUFRb0FqdzZBQThnQVNJRFFYOXFJUUVnQ1VFQ2FpRUpJQUJCRUdvaEFDQUVRVUJySVFRZ0F3MEFDeUFDSUFjUUd3d0VDeUFBUVJ4cUlRa2dEUVJBSUFrZ0FTa0NrQUkzQWdBZ0NTQUJLUUcrQWpjQkxpQUpJQUVwQXJnQ053SW9JQWtnQVNrQ3NBSTNBaUFnQ1NBQktRS29BamNDR0NBSklBRXBBcUFDTndJUUlBa2dBU2tDbUFJM0FnZ2dCQ2dDQUNFS0FrQWdBU2dDQ0NJTFJRMEFJQVFnQ2lBTGFpSUtOZ0lBSUFRZ0NrRi9UQVIvSUFwQk5Hb0ZJQXBCTkVnTkFTQUtRVXhxQ3lJS05nSUFDeUFBSUFvMkFoUWdBVUhJRDJvaERDQUJRY2dDYWlFRUFrQUNRQ0FBS0FJQVFRWk5CRUFnQ1M4QkFFVU5BVUVCSVFnZ0JDQUtRUUFnRENnQ0FCQUdSUTBDREFnTElBQXZBVXdFUUNBQlFjZ09haUFLRURFTFFiQTBJUXBCRHlFSUEwQWdDQ0VMSUFRZ0FTQUtLQUlBUVFKMGFrSElEbW9vQWdBaUNEWUNBQUpBQWtBZ0NFVUVRQ0FKTHdFQVJRMEJDMEVCSVFnZ0JDQUFLQUlVUVFFZ0RDZ0NBQkFHUlEwQkRBb0xJQVJCLy8vL0J6WUNBQXNnQ2tFRWFpRUtJQXRCZjJvaENDQU1RUVJxSVF3Z0NVRUNhaUVKSUFSQlFHc2hCQ0FMRFFBTERBUUxJQVJCLy8vL0J6WUNBQXNnQVVHSUEyb2hCQUpBSUFBdkFSNEVRRUVCSVFnZ0JDQUFLQUlVUVFBZ0FVSE1EMm9vQWdBUUJrVU5BUXdIQ3lBRVFmLy8vd2MyQWdBTElBRkJ5QU5xSVFRQ1FDQUFMd0VnQkVCQkFTRUlJQVFnQUNnQ0ZFRUFJQUZCMEE5cUtBSUFFQVpGRFFFTUJ3c2dCRUgvLy84SE5nSUFDeUFCUVlnRWFpRUVBa0FnQUM4QklnUkFRUUVoQ0NBRUlBQW9BaFJCQUNBQlFkUVBhaWdDQUJBR1JRMEJEQWNMSUFSQi8vLy9CellDQUFzZ0FVSElCR29oQkFKQUlBQXZBU1FFUUVFQklRZ2dCQ0FBS0FJVVFRQWdBVUhZRDJvb0FnQVFCa1VOQVF3SEN5QUVRZi8vL3djMkFnQUxJQUZCaUFWcUlRUUNRQ0FBTHdFbUJFQkJBU0VJSUFRZ0FDZ0NGRUVBSUFGQjNBOXFLQUlBRUFaRkRRRU1Cd3NnQkVILy8vOEhOZ0lBQ3lBQlFjZ0ZhaUVFQWtBZ0FDOEJLQVJBUVFFaENDQUVJQUFvQWhSQkFDQUJRZUFQYWlnQ0FCQUdSUTBCREFjTElBUkIvLy8vQnpZQ0FBc2dBVUdJQm1vaEJBSkFJQUF2QVNvRVFFRUJJUWdnQkNBQUtBSVVRUUFnQVVIa0Qyb29BZ0FRQmtVTkFRd0hDeUFFUWYvLy93YzJBZ0FMSUFGQnlBWnFJUVFDUUNBQUx3RXNCRUJCQVNFSUlBUWdBQ2dDRkVFQUlBRkI2QTlxS0FJQUVBWkZEUUVNQndzZ0JFSC8vLzhITmdJQUN5QUJRWWdIYWlFRUFrQWdBQzhCTGdSQVFRRWhDQ0FFSUFBb0FoUkJBQ0FCUWV3UGFpZ0NBQkFHUlEwQkRBY0xJQVJCLy8vL0J6WUNBQXNnQVVISUIyb2hCQUpBSUFBdkFUQUVRRUVCSVFnZ0JDQUFLQUlVUVFBZ0FVSHdEMm9vQWdBUUJrVU5BUXdIQ3lBRVFmLy8vd2MyQWdBTElBRkJpQWhxSVFRQ1FDQUFMd0V5QkVCQkFTRUlJQVFnQUNnQ0ZFRUFJQUZCOUE5cUtBSUFFQVpGRFFFTUJ3c2dCRUgvLy84SE5nSUFDeUFCUWNnSWFpRUVBa0FnQUM4Qk5BUkFRUUVoQ0NBRUlBQW9BaFJCQUNBQlFmZ1BhaWdDQUJBR1JRMEJEQWNMSUFSQi8vLy9CellDQUFzZ0FVR0lDV29oQkFKQUlBQXZBVFlFUUVFQklRZ2dCQ0FBS0FJVVFRQWdBVUg4RDJvb0FnQVFCa1VOQVF3SEN5QUVRZi8vL3djMkFnQUxJQUZCeUFscUlRUUNRQ0FBTHdFNEJFQkJBU0VJSUFRZ0FDZ0NGRUVBSUFGQmdCQnFLQUlBRUFaRkRRRU1Cd3NnQkVILy8vOEhOZ0lBQ3lBQlFZZ0thaUVFQWtBZ0FDOEJPZ1JBUVFFaENDQUVJQUFvQWhSQkFDQUJRWVFRYWlnQ0FCQUdSUTBCREFjTElBUkIvLy8vQnpZQ0FBc2dBVUdJRUdvaERDQUJRY2dLYWlFRURBSUxJQWxDQURjQ0FDQUpRZ0EzQVM0Z0NVSUFOd0lvSUFsQ0FEY0NJQ0FKUWdBM0FoZ2dDVUlBTndJUUlBbENBRGNDQ0NBQUlBUW9BZ0EyQWhRTUFnc2dBRUtRZ01DQWdJS0FDRGNCSENBQVFwQ0F3SUNBZ29BSU53RkVJQUJDa0lEQWdJQ0NnQWczQVR3Z0FFS1FnTUNBZ0lLQUNEY0JOQ0FBUXBDQXdJQ0Fnb0FJTndFc0lBQkNrSURBZ0lDQ2dBZzNBU1JCQUE4TElBQW9BaGdnQUNnQ0ZHb2lDMEV6SUF0Qk0wZ2JJZ3RCQUNBTFFRQktHMEVDZEVIZ1BXb29BZ0FoQ1FKQUlBQXZBVTVGQkVBZ0FDOEJVRVVOQVFzZ0FVR0lEMm9nQ1JBd0N5QUVJQUZCaUE5cUtBSUFJZ3MyQWdBQ1FBSkFJQXRGQkVBZ0FDOEJQRVVOQVF0QkFTRUlJQVFnQ1VFQklBd29BZ0FRQmtVTkFRd0VDeUFFUWYvLy93YzJBZ0FMSUFRZ0FTZ0NqQThpQ3pZQ1FDQUVRVUJySVFvQ1FBSkFJQXRGQkVBZ0FDOEJQa1VOQVF0QkFTRUlJQW9nQ1VFQklBd29BZ1FRQmtVTkFRd0VDeUFLUWYvLy93YzJBZ0FMSUFRZ0FTZ0NrQThpQ3pZQ2dBRWdCRUdBQVdvaENnSkFBa0FnQzBVRVFDQUFRVUJyTHdFQVJRMEJDMEVCSVFnZ0NpQUpRUUVnRENnQ0NCQUdSUTBCREFRTElBcEIvLy8vQnpZQ0FBc2dCQ0FCS0FLVUR5SUxOZ0xBQVNBRVFjQUJhaUVLQWtBQ1FDQUxSUVJBSUFBdkFVSkZEUUVMUVFFaENDQUtJQWxCQVNBTUtBSU1FQVpGRFFFTUJBc2dDa0gvLy84SE5nSUFDeUFFSUFFb0FwZ1BJZ3MyQW9BQ0lBUkJnQUpxSVFvQ1FBSkFJQXRGQkVBZ0FDOEJSRVVOQVF0QkFTRUlJQW9nQ1VFQklBd29BaEFRQmtVTkFRd0VDeUFLUWYvLy93YzJBZ0FMSUFRZ0FTZ0NuQThpQ3pZQ3dBSWdCRUhBQW1vaENnSkFBa0FnQzBVRVFDQUFMd0ZHUlEwQkMwRUJJUWdnQ2lBSlFRRWdEQ2dDRkJBR1JRMEJEQVFMSUFwQi8vLy9CellDQUFzZ0JDQUJLQUtnRHlJTE5nS0FBeUFFUVlBRGFpRUtBa0FDUUNBTFJRUkFJQUF2QVVoRkRRRUxRUUVoQ0NBS0lBbEJBU0FNS0FJWUVBWkZEUUVNQkFzZ0NrSC8vLzhITmdJQUN5QUVJQUVvQXFRUElnczJBc0FESUFSQndBTnFJUVFDUUFKQUlBdEZCRUFnQUM4QlNrVU5BUXRCQVNFSUlBUWdDVUVCSUF3b0Fod1FCa1VOQVF3RUN5QUVRZi8vL3djMkFnQUxJQTFCQmtrTkFDQUFJQUVnQWlBRklBWWdCeEJXSWdoRkRRRU1BZ3NnQUNBQklBTWdCU0FDSUFjUVZ5SUlEUUVMUVFBaENBc2dDQXVXSFFFSGZ5TUFRUkJySWdja0FDQUJRUUJCcUJBUUJ5RUZJQUFnQjBFRWFoQUNJUUVnQnlnQ0JDRUlBa0FDUUFKQUlBTkJmbW9pQTBFRlN3MEFBa0FnQTBFQmF3NEVBUUVCQVFBTFFRRWhBeUFCRFFJZ0NFRUdhaUlHUVI5TkRRRU1BZ3RCQVNFRElBRU5BU0FJUVFGcUlnWkJIMHNOQVFzZ0JTQUdOZ0lBQWtBZ0JrRWZSZ1JBQTBBZ0FDZ0NDQVJBSUFCQkFSQURSUTBCREFRTEN5QUZRY2dDYWlFR0EwQWdCeUFBUVFnUUF5SUJOZ0lFSUFGQmYwWU5BeUFHSUFFMkFnQWdCa0VFYWlFR0lBbEJBV29pQ1VHQUEwY05BQXNNQVF0QkFpQUdRUVpISUFaQkJra2JJUW9DUUFKQUlBWkJCRWtOQUNBR1FRVkxEUUFnQUNBSFFReHFFQUlOQVNBSEtBSU1JZ0ZCQTBzTkFTQUZJQUUyQXJBQklBQWdCMEVNYWhBQ0RRRWdCeWdDRENJQlFRTkxEUUVnQlNBQk5nSzBBU0FBSUFkQkRHb1FBZzBCSUFjb0Fnd2lBVUVEU3cwQklBVWdBVFlDdUFFZ0FDQUhRUXhxRUFJTkFTQUhLQUlNSWdGQkEwc05BU0FGSUFFMkFyd0JBa0FnQkVFQ1NRMEFJQVpCQlVZTkFDQUFJQWRCREdvZ0JFRUNTeUlCRUJjTkFpQUhLQUlNSWdnZ0JFOE5BaUFGSUFnMkFzQUJJQUFnQjBFTWFpQUJFQmNOQWlBSEtBSU1JZ2dnQkU4TkFpQUZJQWcyQXNRQklBQWdCMEVNYWlBQkVCY05BaUFIS0FJTUlnZ2dCRThOQWlBRklBZzJBc2dCSUFBZ0IwRU1haUFCRUJjTkFpQUhLQUlNSWdFZ0JFOE5BaUFGSUFFMkFzd0JDeUFISUFVb0FyQUJJZ0ZCQWswRWZ5QUJRUUowUWZBMGFpZ0NBQVZCQXdzMkFneEJBQ0VHQTBBZ0FDQUhRUWhxRUFVaUF3MENJQVVnQmtFQ2RHb2lBU0FIS0FJSU93SFFBU0FBSUFkQkNHb1FCU0lERFFJZ0FTQUhLQUlJT3dIU0FTQUhJQWNvQWd3aUFVRi9hallDRENBR1FRRnFJUVlnQVEwQUN5QUhJQVVvQXJRQklnRkJBazBFZnlBQlFRSjBRZkEwYWlnQ0FBVkJBd3MyQWd4QkFDRUdBMEFnQUNBSFFRaHFFQVVpQXcwQ0lBVWdCa0VDZEdvaUFTQUhLQUlJT3dIZ0FTQUFJQWRCQ0dvUUJTSUREUUlnQVNBSEtBSUlPd0hpQVNBSElBY29BZ3dpQVVGL2FqWUNEQ0FHUVFGcUlRWWdBUTBBQ3lBSElBVW9BcmdCSWdGQkFrMEVmeUFCUVFKMFFmQTBhaWdDQUFWQkF3czJBZ3hCQUNFR0EwQWdBQ0FIUVFocUVBVWlBdzBDSUFVZ0JrRUNkR29pQVNBSEtBSUlPd0h3QVNBQUlBZEJDR29RQlNJRERRSWdBU0FIS0FJSU93SHlBU0FISUFjb0Fnd2lBVUYvYWpZQ0RDQUdRUUZxSVFZZ0FRMEFDeUFISUFVb0Fyd0JJZ0ZCQWswRWZ5QUJRUUowUWZBMGFpZ0NBQVZCQXdzMkFneEJBQ0VHQTBBZ0FDQUhRUWhxRUFVaUF3MENJQVVnQmtFQ2RHb2lBU0FIS0FJSU93R0FBaUFBSUFkQkNHb1FCU0lERFFJZ0FTQUhLQUlJT3dHQ0FpQUhJQWNvQWd3aUFVRi9hallDRENBR1FRRnFJUVpCQUNFRElBRU5BQXNNQVF0QkFDRURJQXBCQWtzTkFBSkFBbjhDUUFKQUFrQWdDa0VCYXc0Q0JBRUFDeUFIUVFBMkFnZ2dCU0FBRUE4aUFVRWZkallDRENBQlFRQk9EUUVnQVVFQmRDRUdRUUFNQWdzZ0JFRUNUd1JBUVFNaEFTQUdRUU5OQkVBZ0JrRUNkRUg4Tkdvb0FnQWhBUXNnQkVFQ1N5RUxRUUVoQXdOQUlBQWdCMEVNYWlBTEVCY05CU0FIS0FJTUlnZ2dCRThOQlNBRklBbEJBblJxSUFnMkFwQUJJQUVpQ0VGL2FpRUJJQWxCQVdvaENTQUlEUUFMQzBFRElRTWdCa0VEVFFSQUlBWkJBblJCL0RScUtBSUFJUU1MUVFBaEJnTkFJQU1oQVNBQUlBZEJDR29RQlNJRERRUWdCU0FHUVFKMGFpSUVJQWNvQWdnN0FhQUJJQUFnQjBFSWFoQUZJZ01OQkNBRUlBY29BZ2c3QWFJQklBRkJmMm9oQXlBR1FRRnFJUVlnQVEwQUMwRUFJUU1NQXdzZ0JTQUJRUngyTmdKTUlBRkJCSFFoQmtFQkN5RURJQVVnQmtFZmRqWUNFQ0FGSUFaQkFFZ0VmeUFHUVFGMEJTQUZJQVpCSEhZMkFsQWdBMEVCYWlFRElBWkJCSFFMSWdGQkgzWTJBaFFnQlNBQlFRQklCSDhnQVVFQmRBVWdCU0FCUVJ4Mk5nSlVJQU5CQVdvaEF5QUJRUVIwQ3lJQlFSOTJOZ0lZSUFVZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNXQ0FEUVFGcUlRTWdBVUVFZEFzaUFVRWZkallDSENBRklBRkJBRWdFZnlBQlFRRjBCU0FGSUFGQkhIWTJBbHdnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWlBZ0JTQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0pnSUFOQkFXb2hBeUFCUVFSMEN5SUJRUjkyTmdJa0lBVWdBVUVBU0FSL0lBRkJBWFFGSUFVZ0FVRWNkallDWkNBRFFRRnFJUU1nQVVFRWRBc2lBVUVmZGpZQ0tDQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0pvSUFOQkFXb2hBeUFCUVFSMEN5RUdBa0FnQUNBRFFRTnNRUWhxRUF0QmYwWU5BQ0FIUVFFMkFnZ2dCU0FBRUE4aUFVRWZkallDTEFKL0lBRkJBRWdFUUNBQlFRRjBJUVpCQUF3QkN5QUZJQUZCSEhZMkFtd2dBVUVFZENFR1FRRUxJUU1nQlNBR1FSOTJOZ0l3SUFVZ0JrRUFTQVIvSUFaQkFYUUZJQVVnQmtFY2RqWUNjQ0FEUVFGcUlRTWdCa0VFZEFzaUFVRWZkallDTkNBRklBRkJBRWdFZnlBQlFRRjBCU0FGSUFGQkhIWTJBblFnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWpnZ0JTQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0o0SUFOQkFXb2hBeUFCUVFSMEN5SUJRUjkyTmdJOElBVkJRR3NnQVVFQVNBUi9JQUZCQVhRRklBVWdBVUVjZGpZQ2ZDQURRUUZxSVFNZ0FVRUVkQXNpQVVFZmRqWUNBQ0FGSUFGQkFFZ0VmeUFCUVFGMEJTQUZJQUZCSEhZMkFvQUJJQU5CQVdvaEF5QUJRUVIwQ3lJQlFSOTJOZ0pFSUFVZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNoQUVnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWtnZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNpQUVnQTBFQmFpRURJQUZCQkhRTElRWWdBQ0FEUVFOc1FRaHFFQXRCZjBZTkFDQUhJQVkyQWd3Z0IwRUNOZ0lJREFFTElBY2dCallDREVFQklRTU1BUXRCQVNFRElBQWdCMEVNYWhBQ0RRQWdCeWdDRENJQlFRTkxEUUFnQlNBQk5nS01BVUVBSVFNTElBTU5BUUpBSUFwQkFVY0VRQ0FBSUFkQkJHb2dDa1VRTFNJRERRTWdCU0FIS0FJRUlnRTJBZ1FnQVVVTkFnd0JDeUFGSUFVb0FnQWlBVUY1YWlJRFFRSjBRWEJ4SWdSQlVHb2dCQ0FEUVF0TEcwRVBRUUFnQVVFU1N4dHlOZ0lFQzBFQklRTWdBQ0FIUVF4cUVBVU5BU0FIS0FJTUlnRkJHbXBCTTBzTkFTQUZJQUUyQWdnZ0JVR1FBbW9oQ0NBRktBSUVJUVFDUUFKQUlBVW9BZ0JCQjBrRVFFRUFJUWxCQXlFREEwQWdBeUVCSUFSQkFYRUVRQ0FJSUFsQkFuUnFRYmdOYWlBQUlBZ2dDVUVHZEdwQk9Hb2dBaUFKSUFnUURVRVFFQWtpQTBFUWRqWUNBQ0FEUVE5eERRUWdDQ0FKUVFGMGFpQURRUVIyUWY4QmNUc0JBQ0FJSUFsQkFYSWlCa0VDZEdwQnVBMXFJQUFnQ0NBR1FRWjBha0U0YWlBQ0lBWWdDQkFOUVJBUUNTSURRUkIyTmdJQUlBTkJEM0VOQkNBSUlBWkJBWFJxSUFOQkJIWkIvd0Z4T3dFQUlBZ2dDVUVDY2lJR1FRSjBha0c0RFdvZ0FDQUlJQVpCQm5ScVFUaHFJQUlnQmlBSUVBMUJFQkFKSWdOQkVIWTJBZ0FnQTBFUGNRMEVJQWdnQmtFQmRHb2dBMEVFZGtIL0FYRTdBUUFnQ0NBSlFRTnlJZ1pCQW5ScVFiZ05haUFBSUFnZ0JrRUdkR3BCT0dvZ0FpQUdJQWdRRFVFUUVBa2lBMEVRZGpZQ0FDQURRUTl4RFFRZ0JTQUdRUUYwYWlBRFFRUjJRZjhCY1RzQmtBSUxJQVJCQVhZaEJDQUJRWDlxSVFNZ0NVRUVhaUVKSUFFTkFBc01BUXRCQUNFSklBQWdCVUhJRG1vZ0FrRUFJQWdRRFVFUUVBa2lBMEVQY1EwQklBVWdBMEVFZGtIL0FYRTdBY0FDSUFWQmtBSnFJUVpCQXlFREEwQWdBeUVCSUFSQkFYRUVRQ0FHSUFsQkFuUnFRYmdOYWlBQUlBWWdDVUVHZEdwQlBHb2dBaUFKSUFnUURVRVBFQWtpQTBFUGRqWUNBQ0FEUVE5eERRTWdCaUFKUVFGMGFpQURRUVIyUWY4QmNUc0JBQ0FHSUFsQkFYSWlDa0VDZEdwQnVBMXFJQUFnQmlBS1FRWjBha0U4YWlBQ0lBb2dDQkFOUVE4UUNTSURRUTkyTmdJQUlBTkJEM0VOQXlBR0lBcEJBWFJxSUFOQkJIWkIvd0Z4T3dFQUlBWWdDVUVDY2lJS1FRSjBha0c0RFdvZ0FDQUdJQXBCQm5ScVFUeHFJQUlnQ2lBSUVBMUJEeEFKSWdOQkQzWTJBZ0FnQTBFUGNRMERJQVlnQ2tFQmRHb2dBMEVFZGtIL0FYRTdBUUFnQmlBSlFRTnlJZ3BCQW5ScVFiZ05haUFBSUFZZ0NrRUdkR3BCUEdvZ0FpQUtJQWdRRFVFUEVBa2lBMEVQZGpZQ0FDQURRUTl4RFFNZ0JTQUtRUUYwYWlBRFFRUjJRZjhCY1RzQmtBSUxJQVJCQVhZaEJDQUJRWDlxSVFNZ0NVRUVhaUVKSUFFTkFBc0xJQVJCQTNFRVFDQUFJQVZCaUE5cVFYOUJCQkFKSWdOQkQzRU5BU0FGSUFOQkJIWkIvd0Z4T3dIQ0FpQUFJQVZCbUE5cVFYOUJCQkFKSWdOQkQzRU5BU0FGSUFOQkJIWkIvd0Z4T3dIRUFndEJBQ0VESUFSQkFuRkZEUUFnQUNBRlFjd0thaUFDUVJBZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCaUJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0JzQUlnQUNBRlFZd0xhaUFDUVJFZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCakJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0JzZ0lnQUNBRlFjd0xhaUFDUVJJZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCa0JCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J0QUlnQUNBRlFZd01haUFDUVJNZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbEJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J0Z0lnQUNBRlFjd01haUFDUVJRZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbUJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J1QUlnQUNBRlFZd05haUFDUVJVZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbkJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J1Z0lnQUNBRlFjd05haUFDUVJZZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCb0JCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J2QUlnQUNBRlFZd09haUFDUVJjZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCcEJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J2Z0lMSUFBZ0FDZ0NDQ0FBS0FJRUlBQW9BZ0JyUVFOMGFqWUNFQ0FERFFFTFFRQWhBd3NnQjBFUWFpUUFJQU1McFJRQkRIOENmeUFBS0FMSUFTSUhCRUFnQUNnQ0JDQUhLQUlFUmd3QkMwRUFDeUVLQWtBZ0JrVU5BQ0FLUlEwQVFRQWdDa0VDSUFBb0FzZ0JLQUlBSWdkQkJrY2dCMEVHU1J0QkFrWWJJUW9MQW44Z0FDZ0N6QUVpQndSQUlBQW9BZ1FnQnlnQ0JFWU1BUXRCQUFzaEJ3SkFJQVpGRFFBZ0IwVU5BRUVBSUFkQkFpQUFLQUxNQVNnQ0FDSUhRUVpISUFkQkJra2JRUUpHR3lFSEN3Si9JQUFvQXRRQklna0VRQ0FBS0FJRUlBa29BZ1JHREFFTFFRQUxJUWtDUUNBR1JRMEFJQWxGRFFCQkFpQUFLQUxVQVNnQ0FDSUFRUVpISUFCQkJra2JRUUpISVFrTElBcEJBRWNnQjBFQVIzRWlEU0FKUVFCSGNTRU9JQVZCQWtzaEQwRVFJUXNEUUFKQUlBOUZCRUFDUUFKQUFrQWdCVUVCYXc0Q0FRSUFDeUFCQW44Z0RRUkFJQVF0QUFNZ0JDMEFBaUFFTFFBQklBUXRBQUFnQXkwQUJDQURMUUFESUFNdEFBRWdBeTBBQW1wcWFtcHFhbXBCQkdwQkEzWWhCaUFETFFBSUlBTXRBQWNnQXkwQUJTQURMUUFHYW1wcVFRSnFRUUoyREFFTElBY0VRQ0FETFFBRUlBTXRBQU1nQXkwQUFTQURMUUFDYW1wcVFRSnFRUUoySVFZZ0F5MEFDQ0FETFFBSElBTXRBQVVnQXkwQUJtcHFha0VDYWtFQ2Rnd0JDeUFLUlFSQVFZQUJJUVpCZ0FFTUFRc2dCQzBBQXlBRUxRQUNJQVF0QUFBZ0JDMEFBV3BxYWtFQ2FrRUNkaUlHQzBIL0FYRkJnWUtFQ0d3aUFEWUFIQ0FCSUFaQi93RnhRWUdDaEFoc0lnWTJBQmdnQVNBQU5nQVVJQUVnQmpZQUVDQUJJQUEyQUF3Z0FTQUdOZ0FJSUFFZ0FEWUFCQ0FCSUFZMkFBQUNmeUFLQkVBZ0JDMEFCeUFFTFFBR0lBUXRBQVVnQkMwQUJHcHFhaUlHUVFKcVFRSjJJZ0FnQjBVTkFSb2dBeTBBQ0NBRExRQUhJQU10QUFZZ0JpQURMUUFGYW1wcWFrRUVha0VEZGd3QkN5QUhSUVJBUVlBQklRQkJnQUVNQVFzZ0F5MEFCQ0FETFFBRElBTXRBQUVnQXkwQUFtcHFha0VDYWtFQ2RpRUFJQU10QUFnZ0F5MEFCeUFETFFBRklBTXRBQVpxYW1wQkFtcEJBbllMSVFZZ0FTQUFRZjhCY1VHQmdvUUliQ0lBTmdBZ0lBRWdCa0gvQVhGQmdZS0VDR3dpQmpZQVBDQUJJQUEyQURnZ0FTQUdOZ0EwSUFFZ0FEWUFNQ0FCSUFZMkFDd2dBU0FBTmdBb0lBRWdCallBSkF3REN5QUtSUVJBUVFFUEN5QUJJQVF0QUFBNkFBQWdBU0FFTFFBQU9nQUJJQUVnQkMwQUFEb0FBaUFCSUFRdEFBQTZBQU1nQVNBRUxRQUFPZ0FFSUFFZ0JDMEFBRG9BQlNBQklBUXRBQUE2QUFZZ0FTQUVMUUFBT2dBSElBRWdCQzBBQVRvQUNDQUJJQVF0QUFFNkFBa2dBU0FFTFFBQk9nQUtJQUVnQkMwQUFUb0FDeUFCSUFRdEFBRTZBQXdnQVNBRUxRQUJPZ0FOSUFFZ0JDMEFBVG9BRGlBQklBUXRBQUU2QUE4Z0FTQUVMUUFDT2dBUUlBRWdCQzBBQWpvQUVTQUJJQVF0QUFJNkFCSWdBU0FFTFFBQ09nQVRJQUVnQkMwQUFqb0FGQ0FCSUFRdEFBSTZBQlVnQVNBRUxRQUNPZ0FXSUFFZ0JDMEFBam9BRnlBQklBUXRBQU02QUJnZ0FTQUVMUUFET2dBWklBRWdCQzBBQXpvQUdpQUJJQVF0QUFNNkFCc2dBU0FFTFFBRE9nQWNJQUVnQkMwQUF6b0FIU0FCSUFRdEFBTTZBQjRnQVNBRUxRQURPZ0FmSUFFZ0JDMEFCRG9BSUNBQklBUXRBQVE2QUNFZ0FTQUVMUUFFT2dBaUlBRWdCQzBBQkRvQUl5QUJJQVF0QUFRNkFDUWdBU0FFTFFBRU9nQWxJQUVnQkMwQUJEb0FKaUFCSUFRdEFBUTZBQ2NnQVNBRUxRQUZPZ0FvSUFFZ0JDMEFCVG9BS1NBQklBUXRBQVU2QUNvZ0FTQUVMUUFGT2dBcklBRWdCQzBBQlRvQUxDQUJJQVF0QUFVNkFDMGdBU0FFTFFBRk9nQXVJQUVnQkMwQUJUb0FMeUFCSUFRdEFBWTZBREFnQVNBRUxRQUdPZ0F4SUFFZ0JDMEFCam9BTWlBQklBUXRBQVk2QURNZ0FTQUVMUUFHT2dBMElBRWdCQzBBQmpvQU5TQUJJQVF0QUFZNkFEWWdBU0FFTFFBR09nQTNJQUVnQkMwQUJ6b0FPQ0FCSUFRdEFBYzZBRGtnQVNBRUxRQUhPZ0E2SUFFZ0JDMEFCem9BT3lBQklBUXRBQWM2QUR3Z0FTQUVMUUFIT2dBOUlBRWdCQzBBQnpvQVBpQUJJQVF0QUFjNkFEOE1BZ3NnQjBVRVFFRUJEd3NnQVNBRExRQUJPZ0FBSUFFZ0F5MEFBVG9BQ0NBQklBTXRBQUU2QUJBZ0FTQURMUUFCT2dBWUlBRWdBeTBBQVRvQUlDQUJJQU10QUFFNkFDZ2dBU0FETFFBQk9nQXdJQUVnQXkwQUFUb0FPQ0FCSUFNdEFBSTZBQUVnQVNBRExRQUNPZ0FKSUFFZ0F5MEFBam9BRVNBQklBTXRBQUk2QUJrZ0FTQURMUUFDT2dBaElBRWdBeTBBQWpvQUtTQUJJQU10QUFJNkFERWdBU0FETFFBQ09nQTVJQUVnQXkwQUF6b0FBaUFCSUFNdEFBTTZBQW9nQVNBRExRQURPZ0FTSUFFZ0F5MEFBem9BR2lBQklBTXRBQU02QUNJZ0FTQURMUUFET2dBcUlBRWdBeTBBQXpvQU1pQUJJQU10QUFNNkFEb2dBU0FETFFBRU9nQURJQUVnQXkwQUJEb0FDeUFCSUFNdEFBUTZBQk1nQVNBRExRQUVPZ0FiSUFFZ0F5MEFCRG9BSXlBQklBTXRBQVE2QUNzZ0FTQURMUUFFT2dBeklBRWdBeTBBQkRvQU95QUJJQU10QUFVNkFBUWdBU0FETFFBRk9nQU1JQUVnQXkwQUJUb0FGQ0FCSUFNdEFBVTZBQndnQVNBRExRQUZPZ0FrSUFFZ0F5MEFCVG9BTENBQklBTXRBQVU2QURRZ0FTQURMUUFGT2dBOElBRWdBeTBBQmpvQUJTQUJJQU10QUFZNkFBMGdBU0FETFFBR09nQVZJQUVnQXkwQUJqb0FIU0FCSUFNdEFBWTZBQ1VnQVNBRExRQUdPZ0F0SUFFZ0F5MEFCam9BTlNBQklBTXRBQVk2QUQwZ0FTQURMUUFIT2dBR0lBRWdBeTBBQnpvQURpQUJJQU10QUFjNkFCWWdBU0FETFFBSE9nQWVJQUVnQXkwQUJ6b0FKaUFCSUFNdEFBYzZBQzRnQVNBRExRQUhPZ0EySUFFZ0F5MEFCem9BUGlBQklBTXRBQWc2QUFjZ0FTQURMUUFJT2dBUElBRWdBeTBBQ0RvQUZ5QUJJQU10QUFnNkFCOGdBU0FETFFBSU9nQW5JQUVnQXkwQUNEb0FMeUFCSUFNdEFBZzZBRGNnQVNBRExRQUlPZ0EvREFFTElBNUZCRUJCQVE4TElBTXRBQVVnQXkwQUEyc2dBeTBBQmlBRExRQUNhMEVCZEdvZ0F5MEFCeUFETFFBQmEwRURiR29nQXkwQUNDSUFJQU10QUFBaUNXdEJBblJxUVJGc1FSQnFRUVYxSWdaQmZXd2hFQ0FBSUFRdEFBY2lER3BCQkhRZ0JDMEFCQ0FFTFFBQ2F5QU1JQWxyUVFKMGFpQUVMUUFGSUFRdEFBRnJRUUYwYWlBRUxRQUdJQVF0QUFCclFRTnNha0VSYkVFUWFrRUZkU0lSUVgxc2FrRVFhaUVKUVFnaERDQUJJUUFEUUNBQUlBa2dFR29pQ0VFRmRVR3dMbW90QUFBNkFBQWdBQ0FHSUFocUlnaEJCWFZCc0M1cUxRQUFPZ0FCSUFBZ0JpQUlhaUlJUVFWMVFiQXVhaTBBQURvQUFpQUFJQVlnQ0dvaUNFRUZkVUd3TG1vdEFBQTZBQU1nQUNBR0lBaHFJZ2hCQlhWQnNDNXFMUUFBT2dBRUlBQWdCaUFJYWlJSVFRVjFRYkF1YWkwQUFEb0FCU0FBSUFZZ0NHb2lDRUVGZFVHd0xtb3RBQUE2QUFZZ0FDQUdJQWhxUVFWMVFiQXVhaTBBQURvQUJ5QUpJQkZxSVFrZ0FFRUlhaUVBSUF4QmYyb2lEQTBBQ3dzZ0FTQUNJQXNRQ0NBQklBSkJRR3NnQzBFQmNoQUlJQUVnQWtHQUFXb2dDMEVDY2hBSUlBRWdBa0hBQVdvZ0MwRURjaEFJSUFKQmdBSnFJUUlnQkVFSWFpRUVJQU5CQ1dvaEF5QUJRVUJySVFFZ0MwRUVhaUVMSUJKQkFXb2lFa0VDUncwQUMwRUFDNkVWQWhoL0FuNENmd05BQW44Z0FDSUlJQlpCQTNSQnNEVnFLUUlBSWg2bkVCRWlDU0lHQkVBZ0NDZ0NCQ0FHS0FJRVJnd0JDMEVBQ3lFTkFrQWdCVVVOQUNBTlJRMEFRUUFnRFVFQ0lBa29BZ0FpQmtFR1J5QUdRUVpKRzBFQ1Joc2hEUXNDZnlBSUlCWkJBM1JCOERacUtRSUFJaCtuRUJFaUJ5SUdCRUFnQ0NnQ0JDQUdLQUlFUmd3QkMwRUFDeUVQQWtBZ0JVVU5BQ0FQUlEwQVFRQWdEMEVDSUFjb0FnQWlCa0VHUnlBR1FRWkpHMEVDUmhzaER3dEJBaUVNSUExQkFFY2dEMEVBUjNFaUVrRUJSZ1JBUVFJaEJnSi9RUUlnQ1NnQ0FDSUxRUVpISUF0QkJra2JSUVJBSUFrZ0hrSWdpS2RCL3dGeGFpMEFVaUVHQ3lBR0N3Si9RUUlnQnlnQ0FDSUpRUVpISUFsQkJra2JSUVJBSUFjZ0gwSWdpS2RCL3dGeGFpMEFVaUVNQ3lBTUN5QUdJQXhKR3lFTUN5QUNJQlpCQW5RaUNXb2lCaWdDREVVRVFDQUdLQUpNSWdZZ0JpQU1UMm9oREFzZ0NDQVdhaUFNT2dCU0FuOGdDQ0FXUVFOMFFiQTRhaWdDQUJBUklnWWlCd1JBSUFnb0FnUWdCeWdDQkVZTUFRdEJBQXNoRGdKQUlBVkZEUUFnRGtVTkFFRUFJQTVCQWlBR0tBSUFJZ1pCQmtjZ0JrRUdTUnRCQWtZYklRNExBbjhnQUNBV1FRTjBRZkE1YWlnQ0FCQVJJZ2dpQmdSQUlBQW9BZ1FnQmlnQ0JFWU1BUXRCQUFzaEVRSkFJQVZGRFFBZ0VVVU5BRUVBSUJGQkFpQUlLQUlBSWdoQkJrY2dDRUVHU1J0QkFrWWJJUkVMSUFsQjhDbHFLQUlBSVJjZ0NVR3dLV29vQWdBaEdBSi9RWVVLSUJaMlFRRnhJaHdFUUNBWFFRTnFJUWNnQkNBWGFpSUlRUUpxSVFZZ0NFRUJhaUVMSUFRTUFRc2dGMEVFZENBWWFpSUlRUzlxSVFjZ0FTQUlhaUlJUVI5cUlRWWdDRUVQYWlFTElBaEJmMm9oQ0NBQkN5RUpJQWNnQ1dvdEFBQWhDaUFHTFFBQUlSQWdDeTBBQUNFVElBZ3RBQUFoRkFKQVFUTWdGblpCQVhFRVFDQURJQmhxSWdjdEFBZ2hHeUFITFFBSElSa2dCeTBBQmlFVklBY3RBQVVoR2lBSExRQUVJUVlnQnkwQUF5RUxJQWN0QUFJaENTQUhMUUFCSVFnTUFRc2dBU0FYUVg5cUloMUJCSFFnR0dwcUlnY3RBQUFoQ0NBSExRQUhJUnNnQnkwQUJpRVpJQWN0QUFVaEZTQUhMUUFFSVJvZ0J5MEFBeUVHSUFjdEFBSWhDeUFITFFBQklRa2dIQVJBSUFRZ0hXb2hCd3dCQ3lBSFFYOXFJUWNMQWtBZ0RFRUhUUVJBSUFjdEFBQWhCd0pBQWtBQ1FBSkFBa0FDUUFKQUFrQWdERUVCYXc0SEFRSURCQVVHQndBTElBOUZCRUJCQVE4TElBaEIvd0Z4SUF0Qi93RnhRUkIwSUFaQkdIUnljaUFKUWY4QmNVRUlkSEloRlNBSUlnd2hEU0FKSWc0aEVpQUxJZzhoQ2lBR0loRWhCd3dJQ3lBTlJRUkFRUUVQQ3lBS1FZR0NoQWhzSVJVZ0VFR0Jnb1FJYkNJTlFSaDJJUWNnRFVFUWRpRUtJQTFCQ0hZaEVpQVRRWUdDaEFoc0lneEJHSFloRVNBTVFSQjJJUThnREVFSWRpRU9JQlJCZ1lLRUNHd2lDRUVZZGlFR0lBaEJFSFloQ3lBSVFRaDJJUWtNQndzQ2Z5QVRJQlJxSUFwcUlCQnFJQVpCL3dGeGFpQUxRZjhCY1dvZ0NVSC9BWEZxSUFoQi93Rnhha0VFYWtFRGRpQVNEUUFhSUJNZ0ZHb2dDbW9nRUdwQkFtcEJBbllnRFEwQUdrR0FBU0FQUlEwQUdpQUdRZjhCY1NBTFFmOEJjV29nQ1VIL0FYRnFJQWhCL3dGeGFrRUNha0VDZGdzaUNFR0Jnb1FJYkNFVklBZ2lDU0lMSWdZaURDSU9JZzhpRVNJTkloSWlDaUVIREFZTElBOUZCRUJCQVE4TElBWkIvd0Z4SWcxQkFtb2lFU0FWSUFZZ0RodEIvd0Z4SWdkcUlCb2dCaUFPRzBIL0FYRWlDa0VCZEdwQkFuWWlEeUFaSUFZZ0RodEIvd0Z4SWd3Z0d5QUdJQTRiUWY4QmNTSUdRUU5zYWtFV2RFR0FnSUFFYWtHQWdJQjRjWElnQ2lBTWFpQUhRUUYwYWtFQ2FpSVFRUVowUVlEK0EzRnlJQVlnQjJvZ0RFRUJkR3BCQW1vaUJrRU9kRUdBZ1B3SGNYSWhGU0FHUVFKMklRY2dDMEgvQVhFaUJrRUNhaUlMSUFoQi93RnhhaUFKUWY4QmNTSUpRUUYwYWtFQ2RpRUlJQWtnRVdvZ0JrRUJkR3BCQW5ZaUNTRU1JQW9nQzJvZ0RVRUJkR3BCQW5ZaUN5RU9JQXNoRFNBUElnWWhFaUFRUVFKMkloRWhDZ3dGQzBFQklCRkZJQkpCQVhOeURRWWFJQlFnRTBFQmRHb2dFR3BCQW1vaURrRUdkRUdBL2dOeElBb2dFMEVDYWlJUGFpQVFRUUYwYWtFQ2RuSWdDRUgvQVhFaUNrRUNhaUlNSUJScUlBZEJBWFJxUVFKMklnaEJHSFJ5SUE4Z0ZFRUJkR29nQjJvaUVFRU9kRUdBZ1B3SGNYSWhGU0FKUWY4QmNTSVJRUUpxSWdrZ0JrSC9BWEZxSUF0Qi93RnhJZ3RCQVhScVFRSjJJUVlnRGtFQ2RpRU5JQWtnQ2tFQmRHb2dCMnBCQW5ZaUNTRVBJQkZCQVhRZ0Myb2dER3BCQW5ZaUN5RVJJQkJCQW5ZaURDRVNJQWdpRGlFS0lBa2hCd3dFQzBFQklCRkZJQkpCQVhOeURRVWFJQWhCL3dGeElncEJBbW9pRGlBTFFmOEJjU0lJSUFsQi93RnhJZ3RCQVhScWFrRUNkaUlQUVJoMElCUWdFMEVCZEdvZ0VHcEJBbXBCQW5aeUlBNGdGR29nQjBFQmRHb2lDVUVHZEVHQS9nTnhjaUFMUVFKcUlnNGdDa0VCZEdvZ0Iyb2lEVUVPZEVHQWdQd0hjWEloRlNBSVFRRnFJaEFnQmtIL0FYRWlER3BCQVhZaEJpQU1JQTVxSUFoQkFYUnFRUUoySVJFZ0NVRUNkaUVNSUExQkFuWWhEaUFUSUJSQkFYUnFJQWRxUVFKcVFRSjJJUTBnQnlBS2FrRUJha0VCZGlJSUlSSWdDaUFMYWtFQmFrRUJkaUlKSVFvZ0N5QVFha0VCZGlJTElRY01Bd3RCQVNBUlJTQVNRUUZ6Y2cwRUdpQVRRUUpxSWc0Z0Ntb2dFRUVCZEdwQkJuUkJnUDREY1NBUUlCTnFRUUZxSWc5QkQzUkJnSUQ4QjNFZ0ZFRUNhaUlNSUJOQkFYUnFJQkJxUVFKMkloSkJHSFJ5SUFvZ0VHcEJBV3BCQVhaeWNpRVZJQWhCL3dGeElnZ2dDMEgvQVhGcUlBbEIvd0Z4SWdsQkFYUnFRUUpxUVFKMklRWWdDU0FJUVFGMGFpQUhha0VDYWtFQ2RpRUxJQTlCQVhZaERTQUlJQXhxSUFkQkFYUnFRUUoySWhFaENTQVVRUUZxSWdvZ0IycEJBWFlpQ0NFUElBb2dFMnBCQVhZaURDRUtJQTRnRkVFQmRHb2dCMnBCQW5ZaURpRUhEQUlMSUE5RkJFQkJBUThMSUJvZ0JpQU9HMEgvQVhFaUNpQVpJQVlnRGh0Qi93RnhhaUFWSUFZZ0RodEIvd0Z4SWdkQkFYUnFRUlowSUF0Qi93RnhJZ3RCQW1vaURDQUthaUFHUWY4QmNTSUdRUUYwYWlJUFFRWjBja0dBZ0lBRWFrR0Evb040Y1NBR1FRSnFJZzBnQ1VIL0FYRWlDV29nQzBFQmRHcEJBbllpRG5JZ0J5QU5haUFLUVFGMGFpSU5RUTUwUVlDQS9BZHhjaUVWSUFjZ0NtcEJBV3BCQVhZaEJ5QU5RUUoySVJFZ0NTQUlRZjhCY1NJTmFrRUJha0VCZGlFSUlBOUJBblloRHlBTUlBMXFJQWxCQVhScVFRSjJJUXdnQ1NBTGFrRUJha0VCZGlJSklRMGdCa0VCYWlJR0lBdHFRUUYySWdzaEVpQUdJQXBxUVFGMklnWWhDZ3dCQ3lBTlJRUkFRUUVQQ3lBS1FRaDBJQXB5SUFwQkVIUnlJQXBCR0hSeUlSVWdFRUVDYWlJSElCUnFJQk5CQVhScVFRSjJJUWtnRTBFQmFpSUdJQlJxUVFGMklRZ2dCaUFRYWtFQmRpSUxJUXdnQ2lBVGFpQVFRUUYwYWtFQ2FrRUNkaUlHSVE0Z0NpQVFha0VCYWtFQmRpSVBJUTBnQnlBS1FRTnNha0VDZGlJUklSSWdDaUVIQ3lBQklCZEJCSFFnR0dwcUloQWdGVFlDTUNBUUlBMUIvd0Z4SUJKQi93RnhRUWgwY2lBS1FmOEJjVUVRZEhJZ0IwRVlkSEkyQWlBZ0VDQU1RZjhCY1NBT1FmOEJjVUVJZEhJZ0QwSC9BWEZCRUhSeUlCRkJHSFJ5TmdJUUlCQWdDRUgvQVhFZ0NVSC9BWEZCQ0hSeUlBdEIvd0Z4UVJCMGNpQUdRUmgwY2pZQ0FDQUJJQUlnRmtFR2RHcEJ5QUpxSUJZUUNDQVdRUUZxSWhaQkVFY05BQXRCQUFzTHhSSUJFSDhDZnlBQUtBTElBU0lIQkVBZ0FDZ0NCQ0FIS0FJRVJnd0JDMEVBQ3lFSEFrQWdCVVVOQUNBSFJRMEFRUUFnQjBFQ0lBQW9Bc2dCS0FJQUlnZEJCa2NnQjBFR1NSdEJBa1liSVFjTEFuOGdBQ2dDekFFaUNBUkFJQUFvQWdRZ0NDZ0NCRVlNQVF0QkFBc2hDQUpBSUFWRkRRQWdDRVVOQUVFQUlBaEJBaUFBS0FMTUFTZ0NBQ0lJUVFaSElBaEJCa2tiUVFKR0d5RUlDd0ovSUFBb0F0UUJJZ2tFUUNBQUtBSUVJQWtvQWdSR0RBRUxRUUFMSVFrQ1FDQUZSUTBBSUFsRkRRQkJBaUFBS0FMVUFTZ0NBQ0lGUVFaSElBVkJCa2tiUVFKSElRa0xBa0FDUUNBQUtBSUFRUUZxUVFOeElnQkJBazBFUUFKQUFrQUNRQ0FBUVFGckRnSUJBZ0FMSUFoRkJFQkJBUThMUVFBaEJTQUJJUUFEUUNBQUlBTXRBQUU2QUFBZ0FDQURMUUFDT2dBQklBQWdBeTBBQXpvQUFpQUFJQU10QUFRNkFBTWdBQ0FETFFBRk9nQUVJQUFnQXkwQUJqb0FCU0FBSUFNdEFBYzZBQVlnQUNBRExRQUlPZ0FISUFBZ0F5MEFDVG9BQ0NBQUlBTXRBQW82QUFrZ0FDQURMUUFMT2dBS0lBQWdBeTBBRERvQUN5QUFJQU10QUEwNkFBd2dBQ0FETFFBT09nQU5JQUFnQXkwQUR6b0FEaUFBSUFNdEFCQTZBQThnQUVFUWFpRUFJQVZCQVdvaUJVRVFSdzBBQ3d3REN5QUhSUVJBUVFFUEMwRUFJUVVnQVNFQUEwQWdBQ0FFSUFWcUlnTXRBQUE2QUFBZ0FDQURMUUFBT2dBQklBQWdBeTBBQURvQUFpQUFJQU10QUFBNkFBTWdBQ0FETFFBQU9nQUVJQUFnQXkwQUFEb0FCU0FBSUFNdEFBQTZBQVlnQUNBRExRQUFPZ0FISUFBZ0F5MEFBRG9BQ0NBQUlBTXRBQUE2QUFrZ0FDQURMUUFBT2dBS0lBQWdBeTBBQURvQUN5QUFJQU10QUFBNkFBd2dBQ0FETFFBQU9nQU5JQUFnQXkwQUFEb0FEaUFBSUFNdEFBQTZBQThnQUVFUWFpRUFJQVZCQVdvaUJVRVFSdzBBQ3d3Q0N5QUJBbjhDUUNBSFJRMEFJQWhGRFFBZ0JDMEFEeUFETFFBUUlBUXRBQTRnQXkwQUR5QUVMUUFOSUFNdEFBNGdCQzBBRENBRExRQU5JQVF0QUFzZ0F5MEFEQ0FFTFFBS0lBTXRBQXNnQkMwQUNTQURMUUFLSUFRdEFBZ2dBeTBBQ1NBRUxRQUhJQU10QUFnZ0JDMEFCaUFETFFBSElBUXRBQVVnQXkwQUJpQUVMUUFFSUFNdEFBVWdCQzBBQXlBRExRQUVJQVF0QUFJZ0F5MEFBeUFFTFFBQklBTXRBQUlnQXkwQUFTQUVMUUFBYW1wcWFtcHFhbXBxYW1wcWFtcHFhbXBxYW1wcWFtcHFhbXBxYW1wcWFrRVFha0VGZGd3QkN5QUhCRUFnQkMwQUR5QUVMUUFPSUFRdEFBMGdCQzBBRENBRUxRQUxJQVF0QUFvZ0JDMEFDU0FFTFFBSUlBUXRBQWNnQkMwQUJpQUVMUUFGSUFRdEFBUWdCQzBBQXlBRUxRQUNJQVF0QUFBZ0JDMEFBV3BxYW1wcWFtcHFhbXBxYW1wcWFrRUlha0VFZGd3QkMwR0FBU0FJUlEwQUdpQURMUUFRSUFNdEFBOGdBeTBBRGlBRExRQU5JQU10QUF3Z0F5MEFDeUFETFFBS0lBTXRBQWtnQXkwQUNDQURMUUFISUFNdEFBWWdBeTBBQlNBRExRQUVJQU10QUFNZ0F5MEFBU0FETFFBQ2FtcHFhbXBxYW1wcWFtcHFhbXBxUVFocVFRUjJDMEdBQWhBSEdnd0JDMEVCSVFBZ0IwVU5BU0FJUlEwQklBbEZEUUVnQkMwQUNDQUVMUUFHYXlBRUxRQVBJZ0FnQXkwQUFDSUZhMEVEZEdvZ0JDMEFDU0FFTFFBRmEwRUJkR29nQkMwQUNpQUVMUUFFYTBFRGJHb2dCQzBBQ3lBRUxRQURhMEVDZEdvZ0JDMEFEQ0FFTFFBQ2EwRUZiR29nQkMwQURTQUVMUUFCYTBFR2JHb2dCQzBBRGlBRUxRQUFhMEVIYkdwQkJXeEJJR3BCQm5VaEJ5QURMUUFKSUFNdEFBZHJJQU10QUFvZ0F5MEFCbXRCQVhScUlBTXRBQXNnQXkwQUJXdEJBMnhxSUFNdEFBd2dBeTBBQkd0QkFuUnFJQU10QUEwZ0F5MEFBMnRCQld4cUlBTXRBQTRnQXkwQUFtdEJCbXhxSUFNdEFBOGdBeTBBQVd0QkIyeHFJQU10QUJBaUF5QUZhMEVEZEdwQkJXeEJJR3BCQm5VaUJFRURkQ0VJSUFSQkIyd2hDU0FFUVFac0lRb2dCRUVGYkNFTElBUkJBMndoRENBRVFYMXNJUTBnQkVGN2JDRU9JQVJCZW13aER5QUVRWGxzSVJCQkFDQUVRUUYwSWhGcklSSkJBQ0FFUVFKMEloTnJJUlFnQUNBRGFrRUVkRUVRYWlFVlFRQWhCUU5BSUFFZ0JVRUVkQ0lBYWlBVklBVkJlV29nQjJ4cUlnTWdFR3BCQlhVaUJrSC9BU0FHUWY4QlNCc2lCa0VBSUFaQkFFb2JPZ0FBSUFFZ0FFRUJjbW9nQXlBUGFrRUZkU0lHUWY4QklBWkIvd0ZJR3lJR1FRQWdCa0VBU2hzNkFBQWdBU0FBUVFKeWFpQURJQTVxUVFWMUlnWkIvd0VnQmtIL0FVZ2JJZ1pCQUNBR1FRQktHem9BQUNBQklBQkJBM0pxSUFNZ0ZHcEJCWFVpQmtIL0FTQUdRZjhCU0JzaUJrRUFJQVpCQUVvYk9nQUFJQUVnQUVFRWNtb2dBeUFOYWtFRmRTSUdRZjhCSUFaQi93RklHeUlHUVFBZ0JrRUFTaHM2QUFBZ0FTQUFRUVZ5YWlBRElCSnFRUVYxSWdaQi93RWdCa0gvQVVnYklnWkJBQ0FHUVFCS0d6b0FBQ0FCSUFCQkJuSnFJQU1nQkd0QkJYVWlCa0gvQVNBR1FmOEJTQnNpQmtFQUlBWkJBRW9iT2dBQUlBRWdBRUVIY21vZ0EwRUZkU0lHUWY4QklBWkIvd0ZJR3lJR1FRQWdCa0VBU2hzNkFBQWdBU0FBUVFoeWFpQURJQVJxUVFWMUlnWkIvd0VnQmtIL0FVZ2JJZ1pCQUNBR1FRQktHem9BQUNBQklBQkJDWEpxSUFNZ0VXcEJCWFVpQmtIL0FTQUdRZjhCU0JzaUJrRUFJQVpCQUVvYk9nQUFJQUVnQUVFS2Ntb2dBeUFNYWtFRmRTSUdRZjhCSUFaQi93RklHeUlHUVFBZ0JrRUFTaHM2QUFBZ0FTQUFRUXR5YWlBRElCTnFRUVYxSWdaQi93RWdCa0gvQVVnYklnWkJBQ0FHUVFCS0d6b0FBQ0FCSUFCQkRISnFJQU1nQzJwQkJYVWlCa0gvQVNBR1FmOEJTQnNpQmtFQUlBWkJBRW9iT2dBQUlBRWdBRUVOY21vZ0F5QUtha0VGZFNJR1FmOEJJQVpCL3dGSUd5SUdRUUFnQmtFQVNoczZBQUFnQVNBQVFRNXlhaUFESUFscVFRVjFJZ1pCL3dFZ0JrSC9BVWdiSWdaQkFDQUdRUUJLR3pvQUFDQUJJQUJCRDNKcUlBTWdDR3BCQlhVaUFFSC9BU0FBUWY4QlNCc2lBRUVBSUFCQkFFb2JPZ0FBSUFWQkFXb2lCVUVRUncwQUN3dEJBQ0VBSUFFZ0FrRUFFQWdnQVNBQ1FVQnJRUUVRQ0NBQklBSkJnQUZxUVFJUUNDQUJJQUpCd0FGcVFRTVFDQ0FCSUFKQmdBSnFRUVFRQ0NBQklBSkJ3QUpxUVFVUUNDQUJJQUpCZ0FOcVFRWVFDQ0FCSUFKQndBTnFRUWNRQ0NBQklBSkJnQVJxUVFnUUNDQUJJQUpCd0FScVFRa1FDQ0FCSUFKQmdBVnFRUW9RQ0NBQklBSkJ3QVZxUVFzUUNDQUJJQUpCZ0FacVFRd1FDQ0FCSUFKQndBWnFRUTBRQ0NBQklBSkJnQWRxUVE0UUNDQUJJQUpCd0FkcVFROFFDQXNnQUF1N0NBRUhmd0pBSUFORkRRQWdBQ2dDQUNBRElBQW9BZ1FpQlc0aUNDQUZiQ0lFUVFoMGFpQURJQVJySWdkQkJIUnFJUVlnQlVFRWRDRUVJQUFvQWdnaENTQUZJQU5MSWdwRkJFQWdBU0FHSUFSQkFYSnJJZ010QUFBNkFBQWdBU0FETFFBQk9nQUJJQUVnQXkwQUFqb0FBaUFCSUFNdEFBTTZBQU1nQVNBRExRQUVPZ0FFSUFFZ0F5MEFCVG9BQlNBQklBTXRBQVk2QUFZZ0FTQURMUUFIT2dBSElBRWdBeTBBQ0RvQUNDQUJJQU10QUFrNkFBa2dBU0FETFFBS09nQUtJQUVnQXkwQUN6b0FDeUFCSUFNdEFBdzZBQXdnQVNBRExRQU5PZ0FOSUFFZ0F5MEFEam9BRGlBQklBTXRBQTg2QUE4Z0FTQURMUUFRT2dBUUlBRWdBeTBBRVRvQUVTQUJJQU10QUJJNkFCSWdBU0FETFFBVE9nQVRJQUVnQXkwQUZEb0FGQ0FCUVJWcUlRRUxJQWNFUUNBQ0lBWkJmMm9pQXkwQUFEb0FBQ0FDSUFNZ0JHb2lBeTBBQURvQUFTQUNJQU1nQkdvaUF5MEFBRG9BQWlBQ0lBTWdCR29pQXkwQUFEb0FBeUFDSUFNZ0JHb2lBeTBBQURvQUJDQUNJQU1nQkdvaUF5MEFBRG9BQlNBQ0lBTWdCR29pQXkwQUFEb0FCaUFDSUFNZ0JHb2lBeTBBQURvQUJ5QUNJQU1nQkdvaUF5MEFBRG9BQ0NBQ0lBTWdCR29pQXkwQUFEb0FDU0FDSUFNZ0JHb2lBeTBBQURvQUNpQUNJQU1nQkdvaUF5MEFBRG9BQ3lBQ0lBTWdCR29pQXkwQUFEb0FEQ0FDSUFNZ0JHb2lBeTBBQURvQURTQUNJQU1nQkdvaUF5MEFBRG9BRGlBQ0lBTWdCR290QUFBNkFBOGdBa0VRYWlFQ0N5QUFLQUlBSUFVZ0NXd2lCRUVJZEdvZ0NDQUZRUU4wSWdCc1FRTjBhaUFIUVFOMGFpRUdJQUJCK1AvLy93ZHhJUUFnQ2tVRVFDQUJJQVlnQUVFQmNtc2lBeTBBQURvQUFDQUJJQU10QUFFNkFBRWdBU0FETFFBQ09nQUNJQUVnQXkwQUF6b0FBeUFCSUFNdEFBUTZBQVFnQVNBRExRQUZPZ0FGSUFFZ0F5MEFCam9BQmlBQklBTXRBQWM2QUFjZ0FTQURRUWhxSWdNdEFBQTZBQWdnQVNBRVFRWjBJQU5xSWdOQmVHb3RBQUE2QUFrZ0FTQURRWGxxTFFBQU9nQUtJQUVnQTBGNmFpMEFBRG9BQ3lBQklBTkJlMm90QUFBNkFBd2dBU0FEUVh4cUxRQUFPZ0FOSUFFZ0EwRjlhaTBBQURvQURpQUJJQU5CZm1vdEFBQTZBQThnQVNBRFFYOXFMUUFBT2dBUUlBRWdBeTBBQURvQUVRc2dCMFVOQUNBQ0lBWkJmMm9pQVMwQUFEb0FBQ0FDSUFBZ0FXb2lBUzBBQURvQUFTQUNJQUFnQVdvaUFTMEFBRG9BQWlBQ0lBQWdBV29pQVMwQUFEb0FBeUFDSUFBZ0FXb2lBUzBBQURvQUJDQUNJQUFnQVdvaUFTMEFBRG9BQlNBQ0lBQWdBV29pQVMwQUFEb0FCaUFDSUFBZ0FXb2lBUzBBQURvQUJ5QUNJQUFnQVdvZ0JDQUZhMEVHZEdvaUFTMEFBRG9BQ0NBQ0lBQWdBV29pQVMwQUFEb0FDU0FDSUFBZ0FXb2lBUzBBQURvQUNpQUNJQUFnQVdvaUFTMEFBRG9BQ3lBQ0lBQWdBV29pQVMwQUFEb0FEQ0FDSUFBZ0FXb2lBUzBBQURvQURTQUNJQUFnQVdvaUFTMEFBRG9BRGlBQ0lBQWdBV290QUFBNkFBOExDNjhCQVFGL0l3QkIwQUJySWdZa0FDQUNJQVpCSUdvZ0JpQURFRlVDUUFKQVFRSWdBQ2dDQUNJRFFRWkhJQU5CQmtrYlFRRkdCRUFnQUNBRklBRkJ5QUpxSUFaQklHb2dCaUFFRUZRaUEwVU5BUXdDQ3lBQUlBVWdBU0FHUVNCcUlBWWdCQkJUSWdNTkFRc2dBQ0FGUVlBQ2FpQUJRY2dLYWlBR1FUVnFJQVpCRUdvZ0FTZ0NqQUVnQkJCU0lnTU5BRUVBSVFNZ0FDZ0N4QUZCQVVzTkFDQUNJQVVRR3dzZ0JrSFFBR29rQUNBREM2TXFBU1IvSXdCQklHc2lFQ1FBSUJBZ0JDZ0NCQ0lJTmdJTUlCQWdCQ2dDQ0RZQ0VDQURJQWh1SWdaQkJIUWhGQ0FESUFZZ0NHeHJRUVIwSVJVQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFBb0FnQWlCa0VEVFFSQUFrQUNRQUpBSUFaQkFtc09BZ0VDQUFzZ0FTZ0NrQUVoRXlBQUtBSUVJUTVCZnlFUEFuOGdBQ2dDeUFFaUNVVUVRRUVBSVFoQmZ3d0JDMEVBSVFoQmZ5QUpLQUlFSUE1SERRQWFRUUVoRWtGL0lBa29BZ0JCQlVzTkFCb2dDU2dDbUFFaUNFRVFkaUVISUFrb0FtZ0xJUTBnQUNnQ3pBRWlDVVVOQ0NBSktBSUVJQTVIRFFoQkFTRVdJQWtvQWdCQkJVc05DQ0FKS0FLc0FTSVJRUkIySVFvZ0NTZ0NiQ0VQREFnTElBRW9BcEFCSVJNZ0FTOEJvZ0VoRFNBQkx3R2dBU0VNSUFBb0FnUWhDMEYvSVFjQ1FDQUFLQUxNQVNJR1JRMEFJQXNnQmlnQ0JFY0VRQXdCQzBFQklSSWdCaWdDQUVFRlN3MEFJQVlvQXF3QklnbEJFSFloQ2lBR0tBSnNJUWNMSUFjZ0UwWUVRQ0FLSVFjZ0NTRUdEQWNMUVg4aER3SkFBa0FDUUNBQUtBTElBU0lJUlFSQVFRQWhCd3dCQzBFQUlRY2dDQ2dDQkNBTFJnMEJDMEVBSVFZTUFRdEJBU0VYSUFnb0FnQkJCVXNFUUVFQUlRWU1BUXNnQ0NnQ21BRWlCa0VRZGlFSElBZ29BbWdoRHdzQ1FBSkFJQUFvQXRBQklnaEZEUUFnQ0NnQ0JDQUxSdzBBSUFnb0FnQkJCVTBOQVF3R0N3SkFJQUFvQXRRQklnaEZEUUFnQ0NnQ0JDQUxSdzBBSUFnb0FnQkJCVXNOQmlBSUtBSndJUllnQ0NnQ3dBRWhDQXdIQzBFQUlRaEJmeUVXSUJJTkJpQVhSUTBHREFjTElBZ29BbXdoRmlBSUtBS3NBU0VJREFVTElBRW9BcEFCSVE4Z0FTOEJvZ0VoRFNBQkx3R2dBU0VNSUFBb0FnUWhCa0YvSVFjQ1FDQUFLQUxJQVNJS1JRUkFRUUFoQ0F3QkMwRUFJUWdnQmlBS0tBSUVSd1JBREFFTFFRRWhFU0FLS0FJQVFRVkxEUUFnQ2lnQ21BRWlDVUVRZGlFSUlBb29BbWdoQndzZ0J5QVBSZzBCQW44Q2Z3SkFBa0FnQUNnQ3pBRWlCMFVOQUNBSEtBSUVJQVpIRFFBZ0J5Z0NBRUVGU3cwQklBY29BbkFoRVNBSEtBSzhBU0VLSUFjb0Ftd2hFaUFIS0FLc0FTSUdRUkIyREFNTEFrQWdBQ2dDMUFFaUIwVU5BQ0FIS0FJRUlBWkhEUUJCQUNFR1FYOGhFaUFIS0FJQVFRVkxCRUJCZnlFUlFRQU1Bd3NnQnlnQ2NDRVJJQWNvQXNBQkRBSUxJQkVOQkF0QmZ5RVJRWDhoRWtFQUlRWkJBQXNoQ2tFQUN5RUhJQThnRWtZaUN5QVBJQkZHYWtFQlJ3UkFJQWNnQ0NBSFFSQjBRUkIxSWdzZ0NFRVFkRUVRZFNJT1NpSUlHeUlISUE0Z0N5QU9JQXNnRGtnYklBZ2JJZ2dnQ2tFUWRTSUxJQWdnQzBvYklBZEJFSFJCRUhVZ0MwZ2JJUWNnQmlBSklBWkJFSFJCRUhVaUN5QUpRUkIwUVJCMUlnbEtJZ1liSWdoQi8vOERjU0FKSUFzZ0NTQUxJQWxJR3lBR0d5SUdJQXBCRUhSQkVIVWlDU0FHSUFsS0d5QUlRUkIwUVJCMUlBbElHeUVHREFNTElBc05BaUFLUVJCMklRY2dDaUVHREFJTFFRRWhHeUFBUVlRQmFpRWNBMEFDZnlBQklCMUJBblFpSG1vaUlDSWtLQUt3QVNJR1FRSk5CRUFnQmtFQ2RFR2NOV29vQWdBTUFRdEJCQXNoSWlBQUlCNXFJZ1lnSUNnQ3dBRTJBbVFnQmlBQ0lDQW9Bc0FCRUJRaUJqWUNkQ0FHUlEwSUlDSUVRQ0FjSUIxQkJIUWlIMm9pSlNFbUlCd2dIMEVNY21vaUowRUNhaUVvSUJ3Z0gwRUljbW9pS1NFUklCd2dIMEVFY21vaUZpRVRRUUFoQmdOQUlBRWdIMm9nQmtFQ2RHb2lDQzhCMGdFaER5QUlMd0hRQVNFT0lDQW9Bc0FCSVNGQmZ5RVhBbjhnQUNBZFFRZDBJQ1FvQXJBQklpTkJCWFJxSUFaQkEzUnFJaHBCc0JscUtBSUFFQkVpQ1VVRVFFRUFJUXhCQUNFSVFRQWhDa0YvREFFTFFRQWhERUVBSVFoQkFDRUtRWDhnQ1NnQ0JDQUFLQUlFUncwQUdrRUJJUXBCZnlBSktBSUFRUVZMRFFBYUlBa2dHa0cwR1dvdEFBQWlCMEVDZEdvb0FvUUJJZ2hCRUhZaERDQUpJQWRCL0FGeGFpZ0NaQXNoRFFKQUFrQUNRQ0FBSUJwQnNCMXFLQUlBRUJFaUdFVUVRRUVBSVFrTUFRdEJBQ0VKSUJnb0FnUWdBQ2dDQkVZTkFRdEJBQ0VTUVFBaEN3d0JDMEVCSVFzZ0dDZ0NBRUVGU3dSQVFRQWhFZ3dCQ3lBWUlCcEJ0QjFxTFFBQUlnZEJBblJxS0FLRUFTSVNRUkIySVFrZ0dDQUhRZndCY1dvb0FtUWhGd3NDUUFKQUFrQUNRQUpBSUFBZ0drR3dJV29vQWdBUUVTSVpSUTBBSUJrb0FnUWdBQ2dDQkVjTkFDQVpLQUlBUVFWTkRRRU1BZ3NDUUNBQUlCcEJzQ1ZxS0FJQUVCRWlHVVVOQUNBWktBSUVJQUFvQWdSSERRQWdHU2dDQUVFRlN3MENJQmtnR2tHMEpXb3RBQUFpQjBIOEFYRnFLQUprSVJnZ0dTQUhRUUowYWlnQ2hBRWhCd3dEQzBFQUlRZEJmeUVZSUFwRkRRSWdDdzBDREFNTElCa2dHa0cwSVdvdEFBQWlCMEg4QVhGcUtBSmtJUmdnR1NBSFFRSjBhaWdDaEFFaEJ3d0JDMEVBSVFkQmZ5RVlDeUFYSUNGR0lnb2dEU0FoUmlJTGFpQVlJQ0ZHYWtFQlJ3UkFJQWtnRENBSlFSQjBRUkIxSWdzZ0RFRVFkRUVRZFNJTVNpSUpHeUlLSUF3Z0N5QU1JQXNnREVnYklBa2JJZ2tnQjBFUWRTSUxJQWtnQzBvYklBcEJFSFJCRUhVZ0MwZ2JJUXdnRWlBSUlCSkJFSFJCRUhVaUNpQUlRUkIwUVJCMUlndEtJZ2diSWdsQi8vOERjU0FMSUFvZ0N5QUtJQXRJR3lBSUd5SUlJQWRCRUhSQkVIVWlCeUFJSUFkS0d5QUpRUkIwUVJCMUlBZElHeUVJREFFTElBZ2dFaUFMR3lFSUlBd2dDU0FMR3lFTUlBc05BQ0FLRFFBZ0IwRVFkaUVNSUFjaENBc2dDQ0FPYWlJS1FSQjBRUkIxUVlCQWEwSC8vd0JMRFFvZ0RDQVBhaUlKUVJCMFFSQjFRWUFRYWtIL0gwc05DaUFqUVFOTkJFQUNmd0pBQWtBQ1FBSkFJQ05CQVdzT0F3RUNBd0FMSUNVZ0Nqc0JBQ0FtSUFrN0FRSWdGaUFLT3dFQUlCTWdDVHNCQWlBcElBbzdBUUFnRVNBSk93RUNJQ2NnQ2pzQkFDQW9EQU1MSUJ3Z0JrRUJkQ0FlYWtFQ2RDSUhhaUlJSUFrN0FRSWdDQ0FLT3dFQUlCd2dCMEVFY21vaUNDQUtPd0VBSUFoQkFtb01BZ3NnQUNBR0lCNXFRUUowYWlJSUlBbzdBWXdCSUFnZ0NUc0JoZ0VnQ0NBS093R0VBU0FJUVk0QmFnd0JDeUFBSUFZZ0htcEJBblJxSWdnZ0Nqc0JoQUVnQ0VHR0FXb0xJQWs3QVFBTElBWkJBV29pQmlBaVJ3MEFDd3NnSFVFQmFpSWRRUVJIRFFBTFFRQWhEQU5BSUJBZ0FDQU1RUUowSWdKcUtBSjBOZ0lJSUF4QkFVdEJBM1FoQ1NBTVFRTjBRUWh4SVFjQ1FDQUJJQUpxS0FLd0FTSUNRUUpOQkVBQ1FBSkFBa0FnQWtFQmF3NENBUUlBQ3lBRklBQWdERUVFZEdwQmhBRnFJQkJCQ0dvZ0ZTQVVJQWNnQ1VFSVFRZ1FEZ3dEQ3lBRklBQWdERUVFZEdvaUFrR0VBV29nRUVFSWFpQVZJQlFnQnlBSlFRaEJCQkFPSUFVZ0FrR01BV29nRUVFSWFpQVZJQlFnQnlBSlFRUnlRUWhCQkJBT0RBSUxJQVVnQUNBTVFRUjBhaUlDUVlRQmFpQVFRUWhxSUJVZ0ZDQUhJQWxCQkVFSUVBNGdCU0FDUVlnQmFpQVFRUWhxSUJVZ0ZDQUhRUVJ5SUFsQkJFRUlFQTRNQVFzZ0JTQUFJQXhCQkhScUlnaEJoQUZxSUJCQkNHb2dGU0FVSUFjZ0NVRUVRUVFRRGlBRklBaEJpQUZxSUJCQkNHb2dGU0FVSUFkQkJISWlCaUFKUVFSQkJCQU9JQVVnQ0VHTUFXb2dFRUVJYWlBVklCUWdCeUFKUVFSeUlnSkJCRUVFRUE0Z0JTQUlRWkFCYWlBUVFRaHFJQlVnRkNBR0lBSkJCRUVFRUE0TElBeEJBV29pREVFRVJ3MEFDd3dHQ3lBSUlRY2dDU0VHQzBFQklSc2dCaUFNYWlJSVFSQjBRUkIxUVlCQWEwSC8vd0JMRFFVZ0J5QU5haUlHUVJCMFFSQjFRWUFRYWtIL0gwc05CU0FDSUE4UUZDSUhSUTBGSUFBZ0Jqc0JzZ0VnQUNBSU93R3dBU0FBSUFjMkFuUWdBQ0FQTmdKa0lBQWdCellDZkNBQUlBODJBbXdnQUNBQUtBS3dBU0lHTmdLc0FTQUFJQVkyQXFnQklBQWdCallDcEFFZ0FDQUdOZ0tRQVNBQUlBWTJBb3dCSUFBZ0JqWUNpQUVnQUNBR05nS0VBU0FCS0FLVUFTRU9JQUV2QWFZQklRd2dBUzhCcEFFaEN5QUFLQUlFSVFrQ1FBSkFJQUFvQXRBQklnZEZEUUFnQnlnQ0JDQUpSdzBBUVFFaEVTQUhLQUlBUVFWTEJFQkJmeUVJUVFBaEJ3d0NDeUFIS0FKc0lRZ2dCeWdDckFFaEJ3d0JDMEYvSVFoQkFDRUhJQUFvQXN3QklncEZCRUJCQUNFUkRBRUxJQWtnQ2lnQ0JFY0VRRUVBSVJFTUFRdEJBU0VSSUFvb0FnQkJCVXNOQUNBS0tBSnNJUWdnQ2lnQ3NBRWhCd3NDUUNBSUlBNUdSUVJBSUFaQkVIWWhDQUovQWtBQ1FDQUFLQUxNQVNJTlJRMEFJQTBvQWdRZ0NVY05BQ0FOS0FJQVFRVkxEUUVnRFNnQ3ZBRWlFVUVRZGlFS0lBMG9BbkFNQWdzZ0VVVU5Bd3RCQUNFUlFRQWhDa0YvQ3lFTklBNGdEMFlpQ1NBTklBNUdha0VCUndSQUlBb2dDQ0FLUVJCMFFSQjFJZzBnQ0VFUWRFRVFkVW9pQ0JzaUNTQUdRUkIxSWdvZ0RTQUtJQW9nRFVvYklBZ2JJZ2dnQjBFUWRTSUtJQWdnQ2tvYklBbEJFSFJCRUhVZ0NrZ2JJUWdnRVNBR0lCRkJFSFJCRUhVaUNpQUdRUkIwUVJCMUlnMUtJZ1liSWdsQi8vOERjU0FOSUFvZ0RTQU5JQXBLR3lBR0d5SUdJQWRCRUhSQkVIVWlCeUFHSUFkS0d5QUpRUkIwUVJCMUlBZElHeUVHREFJTElBa05BU0FOSUE1R0JFQWdFVUgvL3dOeElBcEJFSFJ5SVFZZ0NpRUlEQUlMQ3lBSFFSQjJJUWdnQnlFR0N5QUdJQXRxSWdkQkVIUkJFSFZCZ0VCclFmLy9BRXNOQlNBSUlBeHFJZ1pCRUhSQkVIVkJnQkJxUWY4ZlN3MEZJQUlnRGhBVUlnSkZEUVVnQUNBR093SENBU0FBSUFjN0FjQUJJQUFnQWpZQ2dBRWdBQ0FDTmdKNElBQWdEallDY0NBQUlBNDJBbWdnQUNBQUtBTEFBU0lHTmdLOEFTQUFJQVkyQXJnQklBQWdCallDdEFFZ0FDQUdOZ0tnQVNBQUlBWTJBcHdCSUFBZ0JqWUNtQUVnQUVHVUFXb2lBaUFHTmdJQUlCQWdBQ2dDZERZQ0NDQUZJQUJCaEFGcUlCQkJDR29nRlNBVVFRQkJBRUVJUVJBUURpQVFJQUFvQW5nMkFnZ2dCU0FDSUJCQkNHb2dGU0FVUVFoQkFFRUlRUkFRRGd3RUMwRUFJUWhCZnlFV0N5QVBJQk5HSWdzZ0V5QVdSbXBCQVVjRVFDQUtJQWNnQ2tFUWRFRVFkU0lMSUFkQkVIUkJFSFVpRGtvaUJ4c2lDaUFPSUFzZ0RpQUxJQTVJR3lBSEd5SUhJQWhCRUhVaUN5QUhJQXRLR3lBS1FSQjBRUkIxSUF0SUd5RUhJQWtnQmlBSlFSQjBRUkIxSWdvZ0JrRVFkRUVRZFNJTFNpSUdHeUlKUWYvL0EzRWdDeUFLSUFzZ0NpQUxTQnNnQmhzaUJpQUlRUkIwUVJCMUlnZ2dCaUFJU2hzZ0NVRVFkRUVRZFNBSVNCc2hCZ3dCQ3lBTERRQWdDRUVRZGlFSElBZ2hCZ3RCQVNFYklBWWdER29pQ0VFUWRFRVFkVUdBUUd0Qi8vOEFTdzBDSUFjZ0RXb2lCa0VRZEVFUWRVR0FFR3BCL3g5TERRSWdBaUFURUJRaUIwVU5BaUFBSUFZN0FhSUJJQUFnQ0RzQm9BRWdBQ0FITmdKMElBQWdFellDWkNBQUlBYzJBbmdnQUNBVE5nSm9JQUFnQUNnQ29BRWlEellDbkFFZ0FDQVBOZ0tZQVNBQUlBODJBcFFCSUFBZ0R6WUNrQUVnQUNBUE5nS01BU0FBSUE4MkFvZ0JJQUFnRHpZQ2hBRWdBU2dDbEFFaERpQUJMd0dtQVNFTklBRXZBYVFCSVF3Q2Z3SkFBa0FDUUNBQUtBTElBU0lHQkVBZ0JpZ0NCQ0FBS0FJRVJnUkFJQVlvQWdCQkJVMEVRQ0FHS0FLNEFTSUxRUkIySVFjZ0JpZ0NjQ0FPUncwRUlBc2hDUXdEQzBGL0lSSkJBQ0VKUVFBaEIwRUFJUXRCQUNFS0lBNUJmMFlOQWd3RUMwRi9JUkpCQUNFSlFRQWhCMEVBSVF0QkFDRUtJQTVCZjBZTkFRd0RDMEYvSVJKQkFDRUpRUUFoQjBFQUlRdEJBQ0VLSUE1QmYwY05BZ3NnQ1VILy93TnhJQWRCRUhSeURBSUxJQVlvQW1naEVpQUdLQUtnQVNFS0lBY2hDUXNnRDBFUWRpRUlJQTRnRTBZaUJpQU9JQkpHYWtFQlJ3UkFJQWdnQ1NBSlFSQjBRUkIxSWdrZ0NFRVFkRUVRZFVnaUJ4c2lDQ0FKSUE5QkVIVWlCaUFKSUFZZ0NVZ2JJQWNiSWdZZ0NrRVFkU0lISUFZZ0Iwb2JJQWhCRUhSQkVIVWdCMGdiSVFjZ0R5QUxJQXRCRUhSQkVIVWlDeUFQUVJCMFFSQjFJZ2xJSWdZYklnaEIvLzhEY1NBTElBa2dDeUFKSUF0SUd5QUdHeUlHSUFwQkVIUkJFSFVpQ1NBR0lBbEtHeUFJUVJCMFFSQjFJQWxJR3d3QkN5QUlJQXBCRUhZZ0Joc2hCeUFQSUFvZ0Joc0xJQXhxSWdoQkVIUkJFSFZCZ0VCclFmLy9BRXNOQWlBSElBMXFJZ1pCRUhSQkVIVkJnQkJxUWY4ZlN3MENJQUlnRGhBVUlnSkZEUUlnQUNBR093SENBU0FBSUFnN0FjQUJJQUFnQWpZQ2dBRWdBQ0FDTmdKOElBQWdEallDY0NBQUlBNDJBbXdnQUNBQUtBTEFBU0lHTmdLOEFTQUFJQVkyQXJnQklBQWdCallDdEFFZ0FDQUdOZ0t3QVNBQUlBWTJBcXdCSUFBZ0JqWUNxQUVnQUVHa0FXb2lBaUFHTmdJQUlCQWdBQ2dDZERZQ0NDQUZJQUJCaEFGcUlCQkJDR29nRlNBVVFRQkJBRUVRUVFnUURpQVFJQUFvQW53MkFnZ2dCU0FDSUJCQkNHb2dGU0FVUVFCQkNFRVFRUWdRRGd3QkN3SkFJQVpGQkVBZ0VrVUVRRUVBSVFrTUFnc2dGa1VFUUVFQUlRa01BZ3NnQ0VILy93TnhJQWRCRUhSeUlBMXlSUVJBUVFBaENRd0NDMEVBSVFrZ0VVSC8vd054SUFwQkVIUnlJQTl5UlEwQkN5QUJMd0dpQVNFTElBRXZBYUFCSVFrQ1FBSkFBa0FDUUFKQUlBQW9BdEFCSWdaRkRRQWdCaWdDQkNBT1J3MEFJQVlvQWdCQkJVME5BUXdDQ3dKQUlBQW9BdFFCSWdaRkRRQWdCaWdDQkNBT1J3MEFJQVlvQWdCQkJVc05BaUFHS0FKd0lSY2dCaWdDd0FFaERBd0RDMEYvSVJjZ0VrVU5BaUFXRFFJTUF3c2dCaWdDYkNFWElBWW9BcXdCSVF3TUFRdEJmeUVYQ3lBUElCTkdJZ1lnRFNBVFJpSU5haUFUSUJkR2FrRUJSd1JBSUFvZ0J5QUtRUkIwUVJCMUlnb2dCMEVRZEVFUWRTSU5TaUlHR3lJSElBMGdDaUFOSUFvZ0RVZ2JJQVliSWdZZ0RFRVFkU0lLSUFZZ0Nrb2JJQWRCRUhSQkVIVWdDa2diSVFjZ0VTQUlJQkZCRUhSQkVIVWlDaUFJUVJCMFFSQjFJZzFLSWdZYklnaEIvLzhEY1NBTklBb2dEU0FLSUExSUd5QUdHeUlHSUF4QkVIUkJFSFVpQ2lBR0lBcEtHeUFJUVJCMFFSQjFJQXBJR3lFSURBRUxJQWdnRVNBTkd5RUlJQWNnQ2lBTkd5RUhJQTBOQUNBR0RRQWdERUVRZGlFSElBd2hDQXRCQVNFYklBZ2dDV29pREVFUWRFRVFkVUdBUUd0Qi8vOEFTdzBDSUFjZ0Myb2lDVUVRZEVFUWRVR0FFR3BCL3g5TERRSUxJQUlnRXhBVUlnSkZCRUJCQVNFYkRBSUxJQUFnQ1RzQndnRWdBQ0FNT3dIQUFTQUFJQUkyQW5RZ0FDQVROZ0prSUFBZ0FqWUNnQUVnQUNBQ05nSjhJQUFnQWpZQ2VDQUFJQk0yQW5BZ0FDQVROZ0pzSUFBZ0V6WUNhQ0FBSUFBb0FzQUJJZ1kyQXJ3QklBQWdCallDdUFFZ0FDQUdOZ0swQVNBQUlBWTJBckFCSUFBZ0JqWUNyQUVnQUNBR05nS29BU0FBSUFZMkFxUUJJQUFnQmpZQ29BRWdBQ0FHTmdLY0FTQUFJQVkyQXBnQklBQWdCallDbEFFZ0FDQUdOZ0tRQVNBQUlBWTJBb3dCSUFBZ0JqWUNpQUVnQUNBR05nS0VBU0FRSUFJMkFnZ2dCU0FBUVlRQmFpQVFRUWhxSUJVZ0ZFRUFRUUJCRUVFUUVBNExRUUFoR3lBQUtBTEVBVUVCU3cwQUlBQW9BZ0FFUUNBRUlBTWdCU0FCUWNnQ2FoQllEQUVMSUFRZ0JSQWJDeUFRUVNCcUpBQWdHd3VUQ3dFUGZ5QUFLQUlBSWhFZ0FTQUJJQUFvQWdRaUNuQWlBV3NpQkVFSWRHb2dBVUVFZEdvaEJTQUtRUVIwSVFzZ0FDZ0NDQ0FLYkNJQVFRWjBJUVlnQVVFRGRDRUpJQUJCQ0hRaERDQUVRUVowSVJJZ0NrRUNkRUg4Ly8vL0EzRkJBblFoRUFOQUlBVWdEa0VDZENJQVFmQXBhaWdDQUNJQklBdHNhaUFBUWJBcGFpZ0NBQ0lBYWlFRUlBSWdBVUVFZEdvZ0FHb2hBQUpBSUFNZ0RrRUdkR29pQVNnQ0FDSUhRZi8vL3dkSEJFQWdBU2dDQkNFSUlBQXRBQUVoRFNBRUlBY2dBQzBBQUdwQnNDNXFMUUFBT2dBQUlBRW9BZ2doQnlBQUxRQUNJUThnQkNBSUlBMXFRYkF1YWkwQUFEb0FBU0FCS0FJTUlRZ2dBQzBBQXlFTklBUWdCeUFQYWtHd0xtb3RBQUE2QUFJZ0JDQUlJQTFxUWJBdWFpMEFBRG9BQXlBQktBSVVJUWNnQUMwQUVTRUlJQVFnQzJvaUJDQUJLQUlRSUFBdEFCQnFRYkF1YWkwQUFEb0FBQ0FCS0FJWUlRMGdBQzBBRWlFUElBUWdCeUFJYWtHd0xtb3RBQUE2QUFFZ0FTZ0NIQ0VISUFBdEFCTWhDQ0FFSUEwZ0QycEJzQzVxTFFBQU9nQUNJQVFnQnlBSWFrR3dMbW90QUFBNkFBTWdBU2dDSkNFSElBQXRBQ0VoQ0NBRUlBdHFJZ1FnQVNnQ0lDQUFMUUFnYWtHd0xtb3RBQUE2QUFBZ0FTZ0NLQ0VOSUFBdEFDSWhEeUFFSUFjZ0NHcEJzQzVxTFFBQU9nQUJJQUVvQWl3aEJ5QUFMUUFqSVFnZ0JDQU5JQTlxUWJBdWFpMEFBRG9BQWlBRUlBY2dDR3BCc0M1cUxRQUFPZ0FESUFFb0FqUWhCeUFBTFFBeElRZ2dCQ0FMYWlJRUlBRW9BakFnQUMwQU1HcEJzQzVxTFFBQU9nQUFJQUVvQWpnaERTQUFMUUF5SVE4Z0JDQUhJQWhxUWJBdWFpMEFBRG9BQVNBQktBSThJUUVnQUMwQU15RUFJQVFnRFNBUGFrR3dMbW90QUFBNkFBSWdCQ0FBSUFGcVFiQXVhaTBBQURvQUF3d0JDeUFBS0FJUUlRRWdCQ0FBS0FJQU5nSUFJQVFnRUdvaUJDQUJOZ0lBSUFBb0FqQWhBU0FFSUJCcUlnUWdBQ2dDSURZQ0FDQUVJQkJxSUFFMkFnQUxJQTVCQVdvaURrRVFSdzBBQ3lBTUlCRnFJQkpxSUFscUloQWdCbW9oRVNBS1FRTjBRZmovLy84SGNTSUxRUUoyUVFKMElRNUJFQ0VLQTBBZ0NrRUNkRUVNY1NJQVFmQXBhaWdDQUNJQklBdHNJQUJCc0NscUtBSUFJZ0JxSUJFZ0VDQUtRUk5MSWdVYmFpRUVJQUpCd0FKQmdBSWdCUnRxSUFGQkEzUWdBR3BxSVFBQ1FDQURJQXBCQm5ScUlnRW9BZ0FpQlVILy8vOEhSd1JBSUFFb0FnUWhCaUFBTFFBQklRa2dCQ0FGSUFBdEFBQnFRYkF1YWkwQUFEb0FBQ0FCS0FJSUlRVWdBQzBBQWlFTUlBUWdCaUFKYWtHd0xtb3RBQUE2QUFFZ0FTZ0NEQ0VHSUFBdEFBTWhDU0FFSUFVZ0RHcEJzQzVxTFFBQU9nQUNJQVFnQmlBSmFrR3dMbW90QUFBNkFBTWdBU2dDRkNFRklBQXRBQWtoQmlBRUlBdHFJZ1FnQVNnQ0VDQUFMUUFJYWtHd0xtb3RBQUE2QUFBZ0FTZ0NHQ0VKSUFBdEFBb2hEQ0FFSUFVZ0JtcEJzQzVxTFFBQU9nQUJJQUVvQWh3aEJTQUFMUUFMSVFZZ0JDQUpJQXhxUWJBdWFpMEFBRG9BQWlBRUlBVWdCbXBCc0M1cUxRQUFPZ0FESUFFb0FpUWhCU0FBTFFBUklRWWdCQ0FMYWlJRUlBRW9BaUFnQUMwQUVHcEJzQzVxTFFBQU9nQUFJQUVvQWlnaENTQUFMUUFTSVF3Z0JDQUZJQVpxUWJBdWFpMEFBRG9BQVNBQktBSXNJUVVnQUMwQUV5RUdJQVFnQ1NBTWFrR3dMbW90QUFBNkFBSWdCQ0FGSUFacVFiQXVhaTBBQURvQUF5QUJLQUkwSVFVZ0FDMEFHU0VHSUFRZ0Myb2lCQ0FCS0FJd0lBQXRBQmhxUWJBdWFpMEFBRG9BQUNBQktBSTRJUWtnQUMwQUdpRU1JQVFnQlNBR2FrR3dMbW90QUFBNkFBRWdBU2dDUENFQklBQXRBQnNoQUNBRUlBa2dER3BCc0M1cUxRQUFPZ0FDSUFRZ0FDQUJha0d3TG1vdEFBQTZBQU1NQVFzZ0FDZ0NDQ0VCSUFRZ0FDZ0NBRFlDQUNBRUlBNXFJZ1FnQVRZQ0FDQUFLQUlZSVFFZ0JDQU9haUlFSUFBb0FoQTJBZ0FnQkNBT2FpQUJOZ0lBQ3lBS1FRRnFJZ3BCR0VjTkFBc0w1Z0VCQjM4Q1FDQUFLQUlBSWdWRkRRQWdBRUVCTmdJOElBQW9BamdOQUNBQUtBSWNJUVpCLy8vLy93Y2hBZ05BQTBBZ0JTQURRU2hzYWlJRUtBSVlCRUFnQkNBQklBUW9BaEFpQkNBQ1NDSUhHeUVCSUFRZ0FpQUhHeUVDQ3lBRFFRRnFJZ01nQmswTkFDQUJSUTBDSUFBb0Fnd2dBQ2dDRUNJRFFRUjBhaUlDSUFFb0FnQTJBZ0FnQWlBQktBSWtOZ0lNSUFJZ0FTZ0NIRFlDQkNBQ0lBRW9BaUEyQWdnZ0FDQURRUUZxTmdJUVFRQWhBeUFCUVFBMkFoZ2dBU2dDRkNFRVFRQWhBVUgvLy8vL0J5RUNJQVFOQUFzZ0FDQUFLQUlzUVg5cU5nSXNEQUFBQ3dBTEM5d0dBUXAvSUFCQ0FEY0NFQUpBQWtBQ1FDQURSUTBBQWtBQ1FDQUJJQUFvQWpBaUEwY0VRQ0FEUVFGcUlBQW9BaUFpQkhBaUNTQUJSZzBCSUFBb0FnQWdBQ2dDSEVFb2JHb29BZ0FoQ3dOQUFrQUNRQ0FBS0FJb0lnY0VRQ0FBS0FJQUlRaEJBQ0VEQTBBZ0NDQURRU2hzYWlJRktBSVVRWDlxUVFGTkJFQWdCU0FGS0FJTUlnVWdCRUVBSUFVZ0NVc2JhellDQ0FzZ0EwRUJhaUlESUFkSERRQUxJQWNnQUNnQ0dFa05Ba0YvSVFWQkFDRURRUUFoQkFOQUlBZ2dBMEVvYkdvaUJpZ0NGRUYvYWtFQlRRUkFJQVlvQWdnaUJpQUVJQVZCZjBZZ0JpQUVTSElpQmhzaEJDQURJQVVnQmhzaEJRc2dBMEVCYWlJRElBZEhEUUFMSUFWQkFFNE5BVUVCRHd0QkFDRUhJQUFvQWhnTkFVRUJEd3NnQ0NBRlFTaHNhaUlEUVFBMkFoUWdBQ0FIUVg5cUlnYzJBaWdnQXlnQ0dBMEFJQUFnQUNnQ0xFRi9hallDTEFzZ0FDZ0NMQ0lGSUFBb0Fod2lDRThFUUNBQUtBSTREUVlnQUNnQ0FDRU1BMEJCQUNFRVFmLy8vLzhISVFaQkFDRURBMEFnRENBRFFTaHNhaUlLS0FJWUJFQWdDaUFFSUFvb0FoQWlDaUFHU0NJTkd5RUVJQW9nQmlBTkd5RUdDeUFEUVFGcUlnTWdDRTBOQUFzQ1FDQUVSUTBBSUFBb0Fnd2dBQ2dDRUNJR1FRUjBhaUlESUFRb0FnQTJBZ0FnQXlBRUtBSWtOZ0lNSUFNZ0JDZ0NIRFlDQkNBRElBUW9BaUEyQWdnZ0FDQUdRUUZxTmdJUUlBUkJBRFlDR0NBRUtBSVVEUUFnQUNBRlFYOXFJZ1UyQWl3TElBVWdDRThOQUFzTElBQW9BZ0FpQkNBSVFTaHNhaUlESUFrMkFnd2dBMEtBZ0lDQUVEY0NFQ0FEUVFBMkFoZ2dBeUFKTmdJSUlBQWdCMEVCYWpZQ0tDQUFJQVZCQVdvMkFpd2dCQ0FJUVFGcUVDY2dDVUVCYWlBQUtBSWdJZ1J3SWdrZ0FVY05BQXNDUUNBQUtBSVFJZ2xGRFFBZ0FDZ0NBQ0lGSUFBb0Fod2lCRUVvYkdvaUNDZ0NBQ0VISUFBb0Fnd2hCa0VBSVFNRFFDQUhJQVlnQTBFRWRHb29BZ0JIQkVBZ0NTQURRUUZxSWdOSERRRU1BZ3NMSUFSRkRRQkJBQ0VEQTBBZ0N5QUZJQU5CS0d4cUlna29BZ0JIQkVBZ0JDQURRUUZxSWdOSERRRU1BZ3NMSUFrZ0J6WUNBQ0FJSUFzMkFnQUxJQUlOQlNBQUtBSXdJUU1NQWdzZ0FrRUFSdzhMSUFJTkF3c2dBU0FEUmcwQUlBQWdBU0FBS0FJZ0lnQnFRWDlxSUFCd05nSXdDMEVBRHdzRFFBd0FBQXNBQ3lBQUlBRTJBakJCQUF0MUFRTi9Ba0FnQUNnQ0FDSUJSUTBBSUFBb0FoeEJmMFlOQUFOQUlBRWdBa0VvYkNJRGFpZ0NCQkFFSUFBb0FnQWlBU0FEYWtFQU5nSUVJQUpCQVdvaUFpQUFLQUljUVFGcVNRMEFDd3NnQVJBRUlBQkJBRFlDQUNBQUtBSUVFQVFnQUVFQU5nSUVJQUFvQWd3UUJDQUFRUUEyQWd3TGd3RUJBMzhDUUNBQUtBSUFJZ1pGRFFBZ0FDZ0NIRUYvUmcwQUEwQWdCaUFIUVNoc0lnaHFLQUlFRUFRZ0FDZ0NBQ0lHSUFocVFRQTJBZ1FnQjBFQmFpSUhJQUFvQWh4QkFXcEpEUUFMQ3lBR0VBUWdBRUVBTmdJQUlBQW9BZ1FRQkNBQVFRQTJBZ1FnQUNnQ0RCQUVJQUJCQURZQ0RDQUFJQUVnQWlBRElBUWdCUkJkQzRBQ0FRSi9JQUFnQlRZQ09DQUFJQVEyQWlBZ0FFTC8vd00zQWlRZ0FFSUFOd0lzSUFBZ0EwRUJJQU5CQVVzYklnTTJBaGdnQUNBRElBSWdCUnNpQWpZQ0hDQUFRYWdGRUFvaUF6WUNBRUgvL3dNaEJBSkFJQU5GRFFCQkFDRUZJQU5CQUVHb0JSQUhJUVlnQWtGL1J3UkFJQUZCZ0FOc1FTOXlJUVZCQUNFREEwQWdCaUFEUVNoc2FpSUhJQVVRQ2lJQk5nSUVJQUZGRFFJZ0J5QUJRUUFnQVd0QkQzRnFOZ0lBSUFNZ0Fra2hBU0FEUVFGcUlRTWdBUTBBQ3lBQ1FRUjBRUkJxSVFVTElBQkJ4QUFRQ2lJQk5nSUVJQUFnQlJBS0lnSTJBZ3dnQWtVTkFDQUJSUTBBUVFBaEJDQUJRUUJCeEFBUUJ4b2dBRUlBTndJUUN5QUVDOU1CQVFkL1FRRWhBUUpBSUFBb0FqZ05BQ0FBS0FJY0lRVWdBQ2dDQUNFR1FmLy8vLzhISVFOQkFDRUJBMEFnQmlBQlFTaHNhaUlFS0FJWUJFQWdCQ0FDSUFRb0FoQWlCQ0FEU0NJSEd5RUNJQVFnQXlBSEd5RURDeUFCUVFGcUlnRWdCVTBOQUFzZ0FrVUVRRUVCRHdzZ0FDZ0NEQ0FBS0FJUUlnTkJCSFJxSWdFZ0FpZ0NBRFlDQUNBQklBSW9BaVEyQWd3Z0FTQUNLQUljTmdJRUlBRWdBaWdDSURZQ0NDQUFJQU5CQVdvMkFoQkJBQ0VCSUFKQkFEWUNHQ0FDS0FJVURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3lBQkMvVUVBUWgvSUFBb0FpZ2lCQVJBSUFBb0FnQWhCd05BSUFjZ0JVRW9iR29pQmlnQ0ZFRi9ha0VCVFFSQUlBWWdCaWdDRENJSUlBSkxCSDhnQ0NBQUtBSWdhd1VnQ0FzMkFnZ0xJQVZCQVdvaUJTQUVSdzBBQ3d0QkFDRUVBa0FnQVNnQ0FFVU5BQ0FCS0FJRUlnVkJBa3NOQUVFQUlRY2dBaUVHQTBBQ1FBSkFBa0FnQlVFQ1J3UkFJQUVnQjBFTWJHb29BZ2doQkFKQUlBVkZCRUFnQmlBRWF5SUdRWDlLRFFFZ0FDZ0NJQ0FHYWlFR0RBRUxJQVFnQm1vaUJrRUFJQUFvQWlBaUJTQUdJQVZJRzJzaEJnc2dCaUVKSUFZZ0Frc0VRQ0FHSUFBb0FpQnJJUWtMSUFBb0FoZ2lDa1VFUUVFQkR3c2dBQ2dDQUNFSVFRQWhCUU5BSUFnZ0JVRW9iR29pQkNnQ0ZDSUxRWDlxUVFGTkJFQWdCQ2dDQ0NBSlJnMERDMEVCSVFRZ0JVRUJhaUlGSUFwSERRQUxEQVVMUVFFaEJDQUFLQUlZSWdsRkRRUWdBU0FIUVF4c2FpZ0NEQ0VLSUFBb0FnQWhDRUVBSVFVRFFDQUlJQVZCS0d4cUlnUW9BaFJCQTBZRVFDQUVLQUlJSUFwR0RRTUxRUUVoQkNBRlFRRnFJZ1VnQ1VjTkFBc01CQXNnQlVFQVNBUkFRUUVQQzBFQklRUWdDMEVCU3cwQkRBTUxRUUVoQkNBRlFRQklEUUlMSUFjZ0F5SUVTUVJBQTBBZ0FDZ0NCQ0lKSUFSQkFuUnFJQWtnQkVGL2FpSUVRUUowYWlnQ0FEWUNBQ0FFSUFkTERRQUxJQUFvQWdBaENBc2dBQ2dDQkNBSFFRSjBhaUFJSUFWQktHd2lDV28yQWdBZ0IwRUJhaUlISVFRZ0J5SUZJQU5OQkVBRFFDQUFLQUlFSWdnZ0JVRUNkR29vQWdBaUNpQUFLQUlBSUFscVJ3UkFJQWdnQkVFQ2RHb2dDallDQUNBRVFRRnFJUVFMSUFWQkFXb2lCU0FEVFEwQUN3dEJBQ0VFSUFFZ0IwRU1iR29vQWdRaUJVRURTUTBBQ3dzZ0JBc0hBRUhFR2hBS0M3Y0JBUUovSXdCQkVHc2lCaVFBSUFaQkFEWUNEQ0FBSUFFZ0FpQUdRUXhxRUNvaUIwRjljVVVFUUFOQUlBQWdBU0FHS0FJTUlnZHFJZ0VnQWlBSGF5SUNJQVpCREdvUUtpSUhRWDF4UlEwQUN3c2dCMEVCUmdSQUlBUWdBQ2dDRUNJQktBSTBRUVIwTmdJQUlBVWdBU2dDT0VFRWREWUNBQ0FESUFCQnhBbHFJZ0FvQWhRaUFTQUFLQUlRU1FSL0lBQWdBVUVCYWpZQ0ZDQUFLQUlNSUFGQkJIUnFCVUVBQ3lnQ0FEWUNBQXNnQmtFUWFpUUFJQWNMU1FFQmZ5QUFRUUJCeEJvUUJ5SUNRYlFLYWtFQk5nSUFJQUpDZ0lLQWdJQUVOd0lFSUFCQndCQVFDaUlDTmdLd0dpQUNSUVJBUVFFUEN5QUJCRUFnQUVFQk5nTEFDUXRCQUF1NkJBRUpmd0pBQWtBZ0FVRUVTUTBBSUFBdEFBQU5BQ0FBTFFBQkRRQWdBQzBBQWlJSFFRRkxEUUJCQXlFRUlBQkJBMm9oQlVFQ0lRaEJmU0VNQWtBRFFDQUZJUVlDZnlBSVFRRnFJQWRCL3dGeElnVkZEUUFhUVFBaEJ5QUZRUUZHUVFBZ0NFRUJTeHNOQWtFQUN5RUlJQVJCZjNNaERDQUdRUUZxSVFVZ0JpMEFBQ0VISUFSQkFXb2lCQ0FCUncwQUN5QURJQUUyQWdCQkFROExJQVFoQ2tFQUlRaEJBQ0VGQTBCQkFTQUlJQWNnQmkwQUFDSUxSV29pQ1VFQ1Joc2dDQ0FMUVFOR0d5RUlJQXBCQVdvaENnSkFJQXRCQVVjTkFDQUpRUUpKRFFBZ0FpQUtJQXhxSUFsQmYzTnFJZ0UyQWd4QkFDQUpRWDFxSWdZZ0JpQUpTeHNoQnd3REMwRUFJQWtnQ3hzaEIwRUJJQVVnQ1VFQ1N4c2dCU0FMR3lFRklBWkJBV29oQmlBQklBcEhEUUFMSUFJZ0FTQU1haUFIYXlJQk5nSU1EQUVMSUFJZ0FUWUNERUVCSVFoQkFDRUhDeUFDUVFBMkFoQWdBa0VBTmdJSUlBSWdBQ0FFYWlJQU5nSUVJQUlnQURZQ0FDQURJQVFnQjJvZ0FXbzJBZ0JCQVNFREFrQWdCUTBBUVFBaEF5QUlSUTBBSUFJQ2Z5QUNLQUlNSWdGRkJFQWdBQ0VFUVFBTUFRc2dBQ0VFUVFBaEJnTkFJQUZCZjJvaEFTQUVMUUFBSVFVQ2Z3SkFJQVpCQWtjTkFDQUZRUU5HQkVBZ0FVVUVRRUVCRHdzZ0JDMEFBVUVEU3dSQVFRRVBDMEVBSVFZZ0JFRUJhZ3dDQ3lBRlFRTlBEUUJCQVE4TElBQWdCVG9BQUVFQUlBWkJBV29nQlJzaEJpQUFRUUZxSVFBZ0JFRUJhZ3NoQkNBQkRRQUxJQUlvQWd3TElBQWdCR3RxTmdJTUN5QURDd3Z0TWhrQVFZWUlDOG9GWmlBbUVBWUlaUmhsR0VNUVF4QkRFRU1RUXhCREVFTVFReEFpQ0NJSUlnZ2lDQ0lJSWdnaUNDSUlJZ2dpQ0NJSUlnZ2lDQ0lJSWdnaUNBQUFBQUFBQUFBQWFrQktNQ29vQ2lCcE9HazRTU2hKS0NrZ0tTQUpHQWtZYURCb01HZ3dhREJJSUVnZ1NDQklJQ2dZS0Jnb0dDZ1lDQkFJRUFnUUNCQm5LR2NvWnlobktHY29aeWhuS0djb1J4aEhHRWNZUnhoSEdFY1lSeGhIR0c1Z1RsZ3VVQTVRYmxoT1VDNUlEa2dOUUExQVRVaE5TQzFBTFVBTk9BMDRiVkJ0VUUxQVRVQXRPQzA0RFRBTk1HdElhMGhyU0d0SWEwaHJTR3RJYTBoTE9FczRTemhMT0VzNFN6aExPRXM0S3pBck1Dc3dLekFyTUNzd0t6QXJNQXNvQ3lnTEtBc29DeWdMS0Fzb0N5Z0FBQUFBTDJndmFCQ0FVSUF3Z0JCNGNJQlFlREI0RUhCd2VGQndNSEFRYUc5d2IzQlBhRTlvTDJBdllBOWdEMkJ2YUc5b1QyQlBZQzlZTDFnUFdBOVlBQUFBQUFBQUFBQm1PRVlnSmlBR0VHWXdSaGdtR0FZSVpTaGxLQ1VRSlJCa0lHUWdaQ0JrSUdRWVpCaGtHR1FZUXhCREVFTVFReEJERUVNUVF4QkRFQUFBQUFBQUFBQUFhVWhKT0NrNENUQUlLQWdvU0RCSU1DZ3dLREFJSUFnZ1owQm5RR2RBWjBCSEtFY29SeWhIS0Njb0p5Z25LQ2NvQnhnSEdBY1lCeGdBQUFBQWJYaHRlRzZBVG9BdWdBNkFMbmdPZUU1NExuQk5jRTF3RFhBTmNHMXdiWEJOYUUxb0xXZ3RhQTFvRFdodGFHMW9UV0JOWUMxZ0xXQU5ZQTFnREZnTVdBeFlERmhNV0V4WVRGaE1XQ3hZTEZnc1dDeFlERkFNVUF4UURGQnNZR3hnYkdCc1lFeFFURkJNVUV4UUxGQXNVQ3hRTEZBTVNBeElERWdNU0d0WWExaHJXR3RZYTFocldHdFlhMWhMU0V0SVMwaExTRXRJUzBoTFNFdElLMGdyU0N0SUswZ3JTQ3RJSzBnclNBdEFDMEFMUUF0QUMwQUxRQXRBQzBCclVHdFFhMUJyVUd0UWExQnJVR3RRUzBCTFFFdEFTMEJMUUV0QVMwQkxRQ3RBSzBBclFDdEFLMEFyUUN0QUswQUxPQXM0Q3pnTE9BczRDemdMT0FzNEFFSGdEUXV1Q1FZWVJqZ21PQVlRWmtoR01DWXdCZ2dsS0NVb1JTaEZLQ1VnSlNCRklFVWdKUmdsR0dWQVpVQkZHRVVZSlJBbEVHUTRaRGhrT0dRNFpEQmtNR1F3WkRCa0tHUW9aQ2hrS0dRZ1pDQmtJR1FnWkJoa0dHUVlaQmhFRUVRUVJCQkVFQ1FJSkFna0NDUUlCQUFFQUFRQUJBQUFBQXFBYW9CS2dDcUFDbmhxZUVwNEtuZ0tjR3B3U25BcWNBcG9LV2dwYUFsZ0NXQkphRWxvS1dBcFlBbFlDVmhwYUdsb1NXQkpZQ2xZS1ZnSlVBbFFhR0JvWUdoZ2FHQklXRWhZU0ZoSVdDaFFLRkFvVUNoUUNFZ0lTQWhJQ0Vob1dHaFlhRmhvV0VoUVNGQklVRWhRS0Vnb1NDaElLRWdJUUFoQUNFQUlRQWM0QnpnSE9BYzRCemdIT0FjNEJ6Z0hNQWN3QnpBSE1BY3dCekFITUFjd1IwaEhTRWRJUjBoSFNFZElSMGhIU0Fjb0J5Z0hLQWNvQnlnSEtBY29CeWhuVUdkUVoxQm5VR2RRWjFCblVHZFFSMEJIUUVkQVIwQkhRRWRBUjBCSFFDZEFKMEFuUUNkQUowQW5RQ2RBSjBBSElBY2dCeUFISUFjZ0J5QUhJQWNnQmdnbUNBQUFCZ0FHRUNZUVJoQUFBQVlZSmhoR0dHWVlCaUFtSUVZZ1ppQUdLQ1lvUmlobUtBWXdKakJHTUdZd0JqZ21PRVk0WmpnR1FDWkFSa0JtUUFaSUpraEdTR1pJQmxBbVVFWlFabEFHV0NaWVJsaG1XQVpnSm1CR1lHWmdCbWdtYUVab1ptZ0djQ1p3Um5CbWNBWjRKbmhHZUdaNEJvQW1nRWFBWm9BQUFFTVFBZ0FDQUNFSUlRZ2hDQ0VJWnlCbklFZ2dLQ0JIR0VjWUp4Z25HQVlnQmlBR0lBWWdCaGdHR0FZWUJoZ0dFQVlRQmhBR0VHWVlaaGhtR0dZWUpoQW1FQ1lRSmhBR0NBWUlCZ2dHQ0FBQVpWVkVSRFEwSXlNakl4TVRFeE1CQVFFQkFRRUJBUUVCQVFFQkFRRUJBUG5wMmNqSXVMaW5wNmVubDVlWGw0YUdob2FHaG9hR2RuWjJkbloyZG5ibTFzYTJwYVdWbFlTRWhJUjBkSFIwWkdSa1pGUlVWRlJEUTBORFEwTkRRek16TXpNek16TXpJeU1qSXlNakl5TVRFeE1URXhNVEV3TURBd01EQXdNRDFyYkZ4YVdsbFpXRWhJU0VWRlJVVkVSRVJFUUVCQVFFYzNOemMzTnpjM05qWTJOalkyTmpZek16TXpNek16TXpJeU1qSXlNakl5TVRFeE1URXhNVEU4VzFwUVdVbEhSME5EUWtKSU9EZzROalkyTmpVMU5UVTBORFEwTVRFeE1UdFpXa3BJU0VKQ1FVRkFRRWMzTnpjMk5qWTJOVFUxTlRRME5EUXpNek16T21CaFVWaElTRWhKT1RrNU9UazVPVGMzTnpjM056YzNOalkyTmpZMk5qWTFOVFUxTlRVMU5UUTBORFEwTkRRME16TXpNek16TXpNeU1qSXlNakl5TWpsZ1lWRlhSMGRIU0RnNE9EZzRPRGcyTmpZMk5qWTJOalEwTkRRME5EUTBNek16TXpNek16TXlNakl5TWpJeU1qVWxKU1VsSlNVbEpTVWxKU1VsSlNVb1lHSlNVVUZCUVVjM056YzNOemMzTmpZMk5qWTJOall6TXpNek16TXpNelVsSlNVbEpTVWxKU1VsSlNVbEpTVWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0lXQm5WMUpDUWtKRk5UVTFOVFUxTlRZbUppWW1KaVltSmlZbUppWW1KaVlrSkNRa0pDUWtKQ1FrSkNRa0pDUWtJeU1qSXlNakl5TWpJeU1qSXlNakl5RlFWa1pDTWpJeU5TVWxKU1VsSlNVa0pDUWtKQ1FrSkNNakl5TWpJeU1qSUVGQ01qTXpOVFUwRkJRVUZCUVVGQkJCUkRReUlpSWlJeE1URXhNVEV4TVFNVE1qSWhJU0VoQWhJaElSRUJJaElCQVRJaUVnSkRNeUlpRWhJQ0FsTkRNeU1TRWdJQ0V5TkRNMk5UQWdJQVFhQVhDeVFFQkFVR0J3Z0pDZ3dORHhFVUZoa2NJQ1FvTFRJNFAwZFFXbVZ4ZjVDaXRzdmkvLzhBUWVBWEN5UUNBZ0lEQXdNREJBUUVCZ1lIQndnSUNRa0tDZ3NMREF3TkRRNE9EdzhRRUJFUkVoSUFRY1VZQzRRQkFRQUFBUUFBQVFBQUFRQUJBUUFCQVFFQkFRRUJBUUVCQVFFQkFRRUJBZ0VCQWdFQkFnRUJBZ0VDQXdFQ0F3SUNBd0lDQkFJREJBSURCQU1EQlFNRUJnTUVCZ1FGQndRRkNBUUdDUVVIQ2dZSUN3WUlEUWNLRGdnTEVBa01FZ29ORkFzUEZ3MFJHUUFBQUFBQUFBQUFCUUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUVIVUdRc1ZCUUFBQUFBQUFBQUhBQUFBL3dBQUFBQUFBQUQvQUVIMEdRc1ZCUUFBQUFRQUFBQUFBQUFBL3dBQUFBQUFBQUQvQUVHVUdnc0ZCUUFBQUFRQVFhUWFDNlVCQndBQUFBUUFBQUFDQUFBQUJBQUFBQUVBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUFRQUFBQVFBQUFBREFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFCQUFBQUJBQUFBQVFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBRUFBQUFFQUFBQUJBQUFBQVFBQUFBREFBQUFCQUFBQUFZQUFBQUFBQUFBRFFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FFSFVHd3NWRFFBQUFBQUFBQUFQQUFBQS93QUFBQUFBQUFEL0FFSDBHd3NWRFFBQUFBUUFBQUFJQUFBQS93QUFBQUFBQUFEL0FFR1VIQXUxQ3cwQUFBQUVBQUFBQ0FBQUFBQUFBQUFQQUFBQUJBQUFBQW9BQUFBRUFBQUFDUUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQVFBQUFBSkFBQUFCQUFBQUFzQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUJBQUFBQWtBQUFBRUFBQUFEQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUNRQUFBQVFBQUFBTUFBQUFCQUFBQUFzQUFBQUVBQUFBRGdBQUFBRUFBQUFLQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBb0FBQUFFQUFBQUFBQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQ2dBQUFBRUFBQUFMQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFFQUFBQUtBQUFBQVFBQUFBc0FBQUFFQUFBQUFBQUFBQVFBQUFBQkFBQUFBUUFBQUE0QUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFEZ0FBQUFRQUFBQUVBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQUVBQUFBT0FBQUFBUUFBQUE4QUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUFRQUFBQTRBQUFBQkFBQUFEd0FBQUFRQUFBQUVBQUFBQkFBQUFBVUFBQUFFQUFBQUFnQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFDQUFBQUJBQUFBQWdBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBSUFBQUFFQUFBQUF3QUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUVBQUFBQWdBQUFBUUFBQUFEQUFBQUJBQUFBQWdBQUFBRUFBQUFDUUFBQUFRQUFBQUdBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFCQUFBQUFZQUFBQUVBQUFBREFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBRUFBQUFCZ0FBQUFRQUFBQUhBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQVFBQUFBR0FBQUFCQUFBQUFjQUFBQUVBQUFBREFBQUFBUUFBQUFOQUFBQUFRQUFBQTRBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFCQUFBQURnQUFBUDhBQUFBRUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBRUFBQUFMQUFBQUFRQUFBQTRBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBc0FBQUFCQUFBQURnQUFBQVFBQUFBQkFBQUEvd0FBQUFRQUFBQUNBQUFBQ2dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFJQUFBQUtBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFBUUFBQUE4QUFBQUNBQUFBQ2dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFEd0FBQUFJQUFBQUtBQUFBQkFBQUFBVUFBQUQvQUFBQUFBQUFBQVFBQUFBR0FBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUJBQUFBQVlBQUFEL0FBQUFEQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUF3QUFBQVFBQUFBR0FBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFEQUFBQUJBQUFBQVlBQUFBRUFBQUFDUUFBQVA4QUFBQU1BQUFBL3dBQUFBSUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQWdBQUFQOEFBQUFJQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFRQUFBQUhBQUFBL3dBQUFBSUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFCQUFBQUFjQUFBRC9BQUFBQWdBQUFBUUFBQUFOQUFBQS93QUFBQWdBQUFBREFBQUFEd0FBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQU1BQUFBUEFBQUFBQUFBQUFVQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUF3QUFBQThBQUFBQkFBQUFDZ0FBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFEQUFBQUR3QUFBQUVBQUFBS0FBQUFBQUFBQUFVQUFBQUVBQUFBQUFBQUFBRUFBQUFMQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBc0FBQUFFQUFBQUFRQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQ3dBQUFBRUFBQUFPQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFFQUFBQUxBQUFBQVFBQUFBNEFBQUFFQUFBQUFRQUFBQVFBQUFBRUFBQUFBQUFBQUFjQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQS93QkIxQ2NMRlFjQUFBQUFBQUFBRFFBQUFQOEFBQUFBQUFBQS93QkI5Q2NMRlFjQUFBQUVBQUFBQWdBQUFQOEFBQUFBQUFBQS93QkJsQ2dMMlFFSEFBQUFCQUFBQUFJQUFBQUFBQUFBRFFBQUFBUUFBQUFJQUFBQUJBQUFBQU1BQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUF3QUFBQVFBQUFBSkFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFEQUFBQUJBQUFBQVlBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBTUFBQUFFQUFBQUJnQUFBQVFBQUFBSkFBQUFCQUFBQUF3QUFBQUFBQUFBQkFBQUFBQUFBQUFFQUFBQUNBQUFBQXdBQUFBSUFBQUFEQUFBQUFBQUFBQUVBQUFBQUFBQUFBUUFBQUFJQUFBQURBQUFBQWdBQUFBTUFFSDRLUXNGQkFBQUFBUUFRWWdxQ3lVRUFBQUFCQUFBQUFnQUFBQUlBQUFBREFBQUFBd0FBQUFJQUFBQUNBQUFBQXdBQUFBTUFFR3hMZ3ZJQmdFQ0F3UUZCZ2NJQ1FvTERBME9EeEFSRWhNVUZSWVhHQmthR3h3ZEhoOGdJU0lqSkNVbUp5Z3BLaXNzTFM0dk1ERXlNelExTmpjNE9UbzdQRDArUDBCQlFrTkVSVVpIU0VsS1MweE5UazlRVVZKVFZGVldWMWhaV2x0Y1hWNWZZR0ZpWTJSbFptZG9hV3ByYkcxdWIzQnhjbk4wZFhaM2VIbDZlM3g5Zm4rQWdZS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2s1U1ZscGVZbVpxYm5KMmVuNkNob3FPa3BhYW5xS21xcTZ5dHJxK3dzYkt6dExXMnQ3aTV1cnU4dmI2L3dNSEN3OFRGeHNmSXljckx6TTNPejlEUjB0UFUxZGJYMk5uYTI5emQzdC9nNGVMajVPWG01K2pwNnV2czdlN3Y4UEh5OC9UMTl2ZjQrZnI3L1AzKy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0FBQUFBQUVBQUFBRUFBQUFCUUFBQUFJQUFBQURBQUFBQmdBQUFBY0FBQUFJQUFBQUNRQUFBQXdBQUFBTkFBQUFDZ0FBQUFzQUFBQU9BQUFBRHdBQUFBQUFBQUFCQUFBQUFRQkJoRFVMSVFFQUFBQUJBQUFBQVFBQUFBRUFBQUFDQUFBQUFnQUFBQUVBQUFBQ0FBQUFBZ0JCdERVTEJRVUFBQUFFQUVIRU5RdkpCZ2NBQUFBRUFBQUFBZ0FBQUFRQUFBQUJBQUFBQkFBQUFBUUFBQUFFQUFBQUF3QUFBQVFBQUFBR0FBQUFBQUFBQUEwQUFBQUVBQUFBQ0FBQUFBQUFBQUFQQUFBQUJBQUFBQW9BQUFBRUFBQUFDUUFBQUFRQUFBQU1BQUFBQkFBQUFBc0FBQUFFQUFBQURnQUFBQUFBQUFBUkFBQUFCQUFBQUJBQUFBQUFBQUFBRXdBQUFBUUFBQUFTQUFBQUFBQUFBQlVBQUFBRUFBQUFGQUFBQUFBQUFBQVhBQUFBQkFBQUFCWUFBQUFCQUFBQUNnQUFBQUVBQUFBTEFBQUFCQUFBQUFBQUFBQUVBQUFBQVFBQUFBRUFBQUFPQUFBQUFRQUFBQThBQUFBRUFBQUFCQUFBQUFRQUFBQUZBQUFBQkFBQUFBSUFBQUFFQUFBQUF3QUFBQVFBQUFBSUFBQUFCQUFBQUFrQUFBQUVBQUFBQmdBQUFBUUFBQUFIQUFBQUJBQUFBQXdBQUFBRUFBQUFEUUFBQUFFQUFBQVNBQUFBQVFBQUFCTUFBQUFFQUFBQUVBQUFBQVFBQUFBUkFBQUFBUUFBQUJZQUFBQUJBQUFBRndBQUFBUUFBQUFVQUFBQUJBQUFBQlVBQUFBQkFBQUFDd0FBQUFFQUFBQU9BQUFBQkFBQUFBRUFBQUQvQUFBQUJBQUFBQUVBQUFBUEFBQUFBZ0FBQUFvQUFBQUVBQUFBQlFBQUFQOEFBQUFBQUFBQUJBQUFBQU1BQUFBRUFBQUFCZ0FBQUFRQUFBQUpBQUFBL3dBQUFBd0FBQUFFQUFBQUJ3QUFBUDhBQUFBQ0FBQUFCQUFBQUEwQUFBRC9BQUFBQ0FBQUFBRUFBQUFUQUFBQUFnQUFBQklBQUFBRUFBQUFFUUFBQVA4QUFBQVFBQUFBQVFBQUFCY0FBQUFDQUFBQUZnQUFBQVFBQUFBVkFBQUEvd0FBQUJRQUFBQURBQUFBRHdBQUFBRUFBQUFLQUFBQUFBQUFBQVVBQUFBRUFBQUFBQUFBQUFFQUFBQUxBQUFBQVFBQUFBNEFBQUFFQUFBQUFRQUFBQVFBQUFBRUFBQUFBQUFBQUFjQUFBQUVBQUFBQWdBQUFBQUFBQUFOQUFBQUJBQUFBQWdBQUFBRUFBQUFBd0FBQUFRQUFBQUdBQUFBQkFBQUFBa0FBQUFFQUFBQURBQUFBQU1BQUFBVEFBQUFBUUFBQUJJQUFBQUFBQUFBRVFBQUFBUUFBQUFRQUFBQUF3QUFBQmNBQUFBQkFBQUFGZ0FBQUFBQUFBQVZBQUFBQkFBQUFCUUFBQUFCQUFBQUFRQUFBQUlBQUFBQ0FBQUFBd0FBQUFNQUFBQURBQUFBQXdBQUFBQUFBQUFCQUFBQUFnQUFBQU1BQUFBRUFBQUFCUUFBQUFZQUFBQUhBQUFBQ0FBQUFBa0FBQUFLQUFBQUN3QUFBQXdBQUFBTkFBQUFEZ0FBQUE4QVFaWThDeTRCQVFFQkFRRUNBZ0lDQWdJREF3TURBd01FQkFRRUJBUUZCUVVGQlFVR0JnWUdCZ1lIQndjSEJ3Y0lDQWdJQUVIUVBBdEZDZ0FBQUEwQUFBQVFBQUFBQ3dBQUFBNEFBQUFTQUFBQURRQUFBQkFBQUFBVUFBQUFEZ0FBQUJJQUFBQVhBQUFBRUFBQUFCUUFBQUFaQUFBQUVnQUFBQmNBQUFBZEFFR2hQUXN6QVFJREJBVUFBUUlEQkFVQUFRSURCQVVBQVFJREJBVUFBUUlEQkFVQUFRSURCQVVBQVFJREJBVUFBUUlEQkFVQUFRSURBRUhrUFF2TUFnRUFBQUFDQUFBQUF3QUFBQVFBQUFBRkFBQUFCZ0FBQUFjQUFBQUlBQUFBQ1FBQUFBb0FBQUFMQUFBQURBQUFBQTBBQUFBT0FBQUFEd0FBQUJBQUFBQVJBQUFBRWdBQUFCTUFBQUFVQUFBQUZRQUFBQllBQUFBWEFBQUFHQUFBQUJrQUFBQWFBQUFBR3dBQUFCd0FBQUFkQUFBQUhRQUFBQjRBQUFBZkFBQUFJQUFBQUNBQUFBQWhBQUFBSWdBQUFDSUFBQUFqQUFBQUl3QUFBQ1FBQUFBa0FBQUFKUUFBQUNVQUFBQWxBQUFBSmdBQUFDWUFBQUFtQUFBQUp3QUFBQ2NBQUFBbkFBQUFKd0FBQUFFQUFBQUNBQUFBQkFBQUFBZ0FBQUFRQUFBQUlBQUFBRUFBQUFDQUFBQUFMeDhQQUJjYkhSNEhDdzBPSnlzdExoQURCUW9NRXhVYUhDTWxLaXdCQWdRSUVSSVVHQVlKRmhrZ0lTSWtLQ1lwQUJBQkFnUUlJQU1GQ2d3UEx3Y0xEUTRHQ1I4akpTb3NJU0lrS0NjckxTNFJFaFFZRXhVYUhCY2JIUjRXR1NZcEFMQXRCRzVoYldVQjZ3TmtBQVp0WlcxamNIa0JCbkpsYzJsNlpRSUNaaklEQW1ZekJBRm1CUUptTlFZQ1pqWUhBbVkzQ0FKbU9Ba0NaamtLQVdVTEEyWXhNUXdEWmpFeURRTm1NVE1PQTJZeE5BOERaakUxRUFObU1UWVJBMll4TnhJRFpqRTRFd05tTVRrVUEyWXlNQlVEWmpJeEZnTm1NaklYQTJZeU14Z0RaakkwR1FObU1qVWFBMll5TmhzRFpqSTNIQU5tTWpnZEEyWXlPUjREWmpNd0h3Tm1NekVnQTJZek1pRURaak16SWdObU16UWpBMll6TlNRRFpqTTJKUU5tTXpjbUEyWXpPQ2NEWmpNNUtBTm1OREFwQTJZME1Tb0RaalF5S3dObU5ETXNBMlkwTkMwRFpqUTFMZ05tTkRZdkEyWTBOekFEWmpRNE1RTm1ORGt5QTJZMU1ETURaalV4TkFObU5USTFBMlkxTXpZRFpqVTBOd05tTlRVNEEyWTFOamtEWmpVM09nTm1OVGc3QTJZMU9Ud0Raall3UFFObU5qRStBMlkyTWo4RFpqWXpRQU5tTmpSQkEyWTJOVUlEWmpZMlF3Tm1OamRFQTJZMk9FVURaalk1UmdObU56QkhBMlkzTVVnRFpqY3lTUU5tTnpOS0EyWTNORXNEWmpjMVRBTm1OelpOQTJZM04wNERaamM0VHdObU56bFFBMlk0TUZFRFpqZ3hVZ05tT0RKVEEyWTRNMVFEWmpnMFZRTm1PRFZXQTJZNE5sY0RaamczV0FObU9EaFpBMlk0T1ZvRFpqa3dXd05tT1RGY0EyWTVNbDBEWmprelhnTm1PVFJmQTJZNU5XQUJhV0VCWjJJQlpHTUVaakV3TVFLNktXUUFBd0FBQVFBQ0FBRUJBQUFDQkFBQ2NEQUJBbkF4QWdKc01nTUNiRE1EQ1FBQ2NEQUJBbkF4QWdKc01nTUNiRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FRSUFBSndNQUVDYkRFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNGQkFBQ2NEQUJBbkF4QWdKc01nTUNiRE1HR0FBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpFV0Eyd3lNaGNEYkRJekJ3WUFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQVVDYkRVSUJnQUNjREFCQW5BeEFnSndNZ01DYkRNRUFtdzBCUUpzTlFrUUFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUVBBMnd4TlFvTUFBSndNQUVDYkRFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVMQXdBQ2NEQUJBbkF4QWdKc01nd1JBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRFFZQUFuQXdBUUp3TVFJQ2NESURBbXd6QkFKc05BVUNiRFVPRUFBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDY0RZSEFuQTNDQUp3T0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVQQlFBQ2NEQUJBbXd4QWdKc01nTUNiRE1FQW13MEVBc0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQVJBZ0FDY0RBQkFuQXhFZzhBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkJNREFBSndNQUVDYkRFQ0Ftd3lGQU1BQW5Bd0FRSndNUUlDYkRJVkJnQUNjREFCQW5BeEFnSndNZ01DYkRNRUFtdzBCUUpzTlJZbUFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2NEUUZBbkExQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUVBBMnd4TlJBRGJERTJFUU5zTVRjU0Eyd3hPQk1EYkRFNUZBTnNNakFWQTJ3eU1SWURiREl5RndOc01qTVlBMnd5TkJrRGJESTFHZ05zTWpZYkEyd3lOeHdEYkRJNEhRTnNNamtlQTJ3ek1COERiRE14SUFOc016SWhBMnd6TXlJRGJETTBJd05zTXpVa0Eyd3pOaVVEYkRNM0Z3TUFBbkF3QVFKd01RSUNjRElZRmdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpFWkVnQUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaEVEYkRFM0doWUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0p3TndnQ2NEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0RXdOc01Ua1VBMnd5TUJVRGJESXhHd1lBQW5Bd0FRSndNUUlDYkRJREFtd3pCQUpzTkFVQ2JEVWNCd0FDY0RBQkFuQXhBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlkQlFBQ2NEQUJBbkF4QWdKc01nTUNiRE1FQW13MEhnVUFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQjhCQUFKd01DQUVBQUp3TUFFQ2NERUNBbXd5QXdKc015RWJBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRVFOc01UY1NBMnd4T0JNRGJERTVGQU5zTWpBVkEyd3lNUllEYkRJeUZ3TnNNak1ZQTJ3eU5Ca0RiREkxR2dOc01qWWlGUUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNjRFlIQW5BM0NBSndPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPUlFEYkRJd0l4SUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0p3TndnQ2NEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE55UVVBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRVFOc01UY1NBMnd4T0JNRGJERTVKUThBQW5Bd0FRSndNUUlDY0RJREFtd3pCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkNZREFBSndNQUVDYkRFQ0Ftd3lKdzhBQW5Bd0FRSndNUUlDYkRJREFtd3pCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkNnQ0FBSndNQUVDYkRFcEVRQUNjREFCQW5BeEFnSndNZ01DY0RNRUFuQTBCUUp3TlFZQ2NEWUhBbkEzQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaW9IQUFKd01BRUNjREVDQW5BeUF3SndNd1FDYkRRRkFtdzFCZ0pzTmlzUEFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUXNCQUFDY0RBQkFuQXhBZ0pzTWdNQ2JETXRCUUFDY0RBQkFuQXhBZ0p3TWdNQ2JETUVBbXcwTGdNQUFuQXdBUUpzTVFJQ2JESXZBd0FDY0RBQkFtd3hBZ0pzTWpBSkFBSndNQUVDY0RFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NE1SWUFBbkF3QVFKd01RSUNiRElEQW13ekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0RXdOc01Ua1VBMnd5TUJVRGJESXhNZ29BQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NU13UUFBbkF3QVFKc01RSUNiRElEQW13ek5BUUFBbkF3QVFKc01RSUNiRElEQW13ek5ROEFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hORFlGQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRM0JRQUNjREFCQW5BeEFnSnNNZ01DYkRNRUFtdzBPQWNBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyT1FjQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNiRFVHQW13Mk9nY0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJPd2NBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyUEFVQUFuQXdBUUp3TVFJQ2NESURBbXd6QkFKc05EMEZBQUp3TUFFQ2NERUNBbkF5QXdKc013UUNiRFErRHdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMFB4SUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE4wQUhBQUp3TUFFQ2NERUNBbXd5QXdKc013UUNiRFFGQW13MUJnSnNOa0VRQUFKd01BRUNjREVDQW5BeUF3SndNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOVUlKQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0UXdnQUFuQXdBUUp3TVFJQ2JESURBbXd6QkFKc05BVUNiRFVHQW13MkJ3SnNOMFFRQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOVVVUQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0p3TmdjQ2NEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOUkFEYkRFMkVRTnNNVGNTQTJ3eE9FWVJBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFtdzRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyUnhNQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNjRFVHQW5BMkJ3SndOd2dDYkRnSkFtdzVDZ05zTVRBTEEyd3hNUXdEYkRFeURRTnNNVE1PQTJ3eE5BOERiREUxRUFOc01UWVJBMnd4TnhJRGJERTRTQmNBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUp3TkFVQ2NEVUdBbkEyQndKd053Z0NjRGdKQW5BNUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkE4RGJERTFFQU5zTVRZUkEyd3hOeElEYkRFNEV3TnNNVGtVQTJ3eU1CVURiREl4RmdOc01qSkpRd0FDY0RBQkFuQXhBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlIQW13M0NBSnNPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPUlFEYkRJd0ZRTnNNakVXQTJ3eU1oY0RiREl6R0FOc01qUVpBMnd5TlJvRGJESTJHd05zTWpjY0Eyd3lPQjBEYkRJNUhnTnNNekFmQTJ3ek1TQURiRE15SVFOc016TWlBMnd6TkNNRGJETTFKQU5zTXpZbEEyd3pOeVlEYkRNNEp3TnNNemtvQTJ3ME1Da0RiRFF4S2dOc05ESXJBMncwTXl3RGJEUTBMUU5zTkRVdUEydzBOaThEYkRRM01BTnNORGd4QTJ3ME9USURiRFV3TXdOc05URTBBMncxTWpVRGJEVXpOZ05zTlRRM0EydzFOVGdEYkRVMk9RTnNOVGM2QTJ3MU9Ec0RiRFU1UEFOc05qQTlBMncyTVQ0RGJEWXlQd05zTmpOQUEydzJORUVEYkRZMVFnTnNOalpLRXdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDY0RZSEFuQTNDQUp3T0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UaExGQUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNjRFlIQW5BM0NBSndPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPVXdIQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmswTkFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1rNExBQUp3TUFFQ2NERUNBbkF5QXdKc013UUNiRFFGQW13MUJnSnNOZ2NDYkRjSUFtdzRDUUpzT1FvRGJERXdUd1FBQW5Bd0FRSndNUUlDYkRJREFtd3pVQTRBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUp3TkFVQ2NEVUdBbkEyQndKd053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTlJEQUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKc05RWUNiRFlIQW13M0NBSnNPQWtDYkRrS0Eyd3hNQXNEYkRFeFVoTUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0VXlBQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNjRFVHQW13MkJ3SnNOd2dDYkRnSkFtdzVDZ05zTVRBTEEyd3hNUXdEYkRFeURRTnNNVE1PQTJ3eE5BOERiREUxRUFOc01UWVJBMnd4TnhJRGJERTRFd05zTVRrVUEyd3lNQlVEYkRJeEZnTnNNaklYQTJ3eU14Z0RiREkwR1FOc01qVWFBMnd5TmhzRGJESTNIQU5zTWpnZEEyd3lPUjREYkRNd0h3TnNNekZVRmdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpGVkN3QUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1GWUhBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSnNObGNxQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOUkFEYkRFMkVRTnNNVGNTQTJ3eE9CTURiREU1RkFOc01qQVZBMnd5TVJZRGJESXlGd05zTWpNWUEyd3lOQmtEYkRJMUdnTnNNalliQTJ3eU54d0RiREk0SFFOc01qa2VBMnd6TUI4RGJETXhJQU5zTXpJaEEyd3pNeUlEYkRNMEl3TnNNelVrQTJ3ek5pVURiRE0zSmdOc016Z25BMnd6T1NnRGJEUXdLUU5zTkRGWUV3QUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaEVEYkRFM0VnTnNNVGhaQ0FBQ2NEQUJBbXd4QWdKc01nTUNiRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNXZzRBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTmJCQUFDY0RBQkFtd3hBZ0pzTWdNQ2JETmNDUUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNiRFlIQW13M0NBSnNPRjBJQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0pzTmdjQ2JEZGVDQUFDY0RBQkFtd3hBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlIQW13M1h3d0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVdBQVlRZ0FBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FtdzJCd0pzTjJJREFBSndNQUVDY0RFQ0Ftd3lZdzBBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5IixVPWE7Ri5oMjY0TW9kdWxlPW5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoVS5kZWNvZGUoTCkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBZPUYscT1BPT4oSSxnLEIpPT57QS5IRUFQVTguY29weVdpdGhpbihJLGcsZytCKX07ZnVuY3Rpb24gSyhBLEkpe2NvbnN0IGc9QSVJO3JldHVybiBnPjA/QStJLWc6QX1jb25zdCBIPUE9Pkk9Pntjb25zdCBnPUEuSEVBUFU4Lmxlbmd0aCxCPTY1NTM2LFE9MjE0NzQ4MzY0ODtpZihJPlEpcmV0dXJuITE7Y29uc3QgQz0xNjc3NzIxNjtmb3IobGV0IEQ9MTtEPD00O0QqPTIpe2xldCBFPWcqKDErLjIvRCk7RT1NYXRoLm1pbihFLEkrMTAwNjYzMjk2KTtjb25zdCB3PU1hdGgubWluKFEsSyhNYXRoLm1heChDLEksRSksQikpO3RyeXtjb25zdHttZW1vcnk6b309QTtvLmdyb3cody1vLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpO2NvbnN0e2J1ZmZlcjpOfT1vO3JldHVybiBBLkhFQVA4PW5ldyBJbnQ4QXJyYXkoTiksQS5IRUFQVTg9bmV3IFVpbnQ4QXJyYXkoTiksQS5IRUFQMzI9bmV3IEludDMyQXJyYXkoTiksITB9Y2F0Y2h7fX1yZXR1cm4hMX0sUj02NTUzNixjPTUyNTE3OTIsZD04NzUyLHQ9MTY3NzcyMTY7Y2xhc3MgaXtjb25zdHJ1Y3Rvcigpe3RoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMucGljPW5ldyBVaW50OEFycmF5KDApO2NvbnN0IEk9bmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7aW5pdGlhbDp0L1IsbWF4aW11bToyMTQ3NDgzNjQ4L1J9KSxnPXttZW1vcnk6SSxIRUFQODpuZXcgSW50OEFycmF5KEkuYnVmZmVyKSxIRUFQVTg6bmV3IFVpbnQ4QXJyYXkoSS5idWZmZXIpLEhFQVAzMjpuZXcgSW50MzJBcnJheShJLmJ1ZmZlcil9O2cuSEVBUDMyW2Q+PjJdPWM7Y29uc3R7ZXhwb3J0czpCfT1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoWS5oMjY0TW9kdWxlLHtoMjY0OnttZW1vcnk6SSxtZW1jcHk6cShnKSxyZXNpemU6SChnKX19KTt0aGlzLm1lbW9yeT1nLHRoaXMuYXNtPUIsdGhpcy5wU3RvcmFnZT1CLmgyNjRhbGxvYygpLHRoaXMucFdpZHRoPUIubWFsbG9jKDQpLHRoaXMucEhlaWdodD1CLm1hbGxvYyg0KSx0aGlzLnBQaWN0dXJlPUIubWFsbG9jKDQpLHRoaXMuZGVjQnVmZmVyPUIubWFsbG9jKDEwMjQqMTAyNCksQi5pbml0KHRoaXMucFN0b3JhZ2UsMCl9ZGVjb2RlKEkpe2NvbnN0e21lbW9yeTpnLGFzbTpCfT10aGlzO2cuSEVBUFU4LnNldChJLHRoaXMuZGVjQnVmZmVyKTtjb25zdCBRPUIuZGVjb2RlKHRoaXMucFN0b3JhZ2UsdGhpcy5kZWNCdWZmZXIsSS5ieXRlTGVuZ3RoLHRoaXMucFBpY3R1cmUsdGhpcy5wV2lkdGgsdGhpcy5wSGVpZ2h0KTtpZihRPT09aS5QSUNfUkRZKXtjb25zdCBDPXRoaXMud2lkdGg9Zy5IRUFQMzJbdGhpcy5wV2lkdGg+Pj4yXSxEPXRoaXMuaGVpZ2h0PWcuSEVBUDMyW3RoaXMucEhlaWdodD4+PjJdLEU9Zy5IRUFQMzJbdGhpcy5wUGljdHVyZT4+Ml0sdz1DKkQqMy8yO3RoaXMucGljPWcuSEVBUFU4LnN1YmFycmF5KEUsRSt3KX1yZXR1cm4gUX19dmFyIGI9eS5IMjY0RGVjb2Rlcj1pO2kuUkRZPTAsaS5QSUNfUkRZPTEsaS5IRFJTX1JEWT0yLGkuRVJST1I9MyxpLlBBUkFNX1NFVF9FUlJPUj00LGkuTUVNQUxMT0NfRVJST1I9NTtmdW5jdGlvbiB4KEEpe3JldHVybiBVaW50OEFycmF5LmZyb20oYXRvYihBKSxJPT5JLmNoYXJDb2RlQXQoMCkpfWNvbnN0IHM9c2VsZixrPW5ldyBiLG09Si5zZWNvbmQvNTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixBPT57Y29uc3R7dGltZXN0YW1wOkksZmxhZ3M6ZyxpbmRleDpCfT1BLmRhdGEsUT1EYXRlLm5vdygpLUk7aWYoUT5tJiZnIT09Myl7TShgRnJhbWUgaXMgJHtRfW1zIGxhdGUsIGRyb3BwaW5nYCxCKTtyZXR1cm59Y29uc3QgQz14KEEuZGF0YS5lbmNvZGVkRnJhbWUpLEQ9ay5kZWNvZGUoQyk7dHJ5e2lmKEQhPT0xKXtNKGBmYWlsZWQgdG8gZGVjb2RlIGZyYW1lLCBzdGF0dXM6ICR7bihEKX1gLEIsQyk7cmV0dXJufWNvbnN0e3BpYzpFLGhlaWdodDp3LHdpZHRoOm99PWs7aWYoRS5sZW5ndGg9PT0wfHx3PT09MHx8bz09PTApe00oImRlY29kZWQgZnJhbWUgaGFzIG5vIGRhdGEiLEIsQyk7cmV0dXJufWNvbnN0IE49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KEUpO3MucG9zdE1lc3NhZ2Uoe3RpbWVzdGFtcDpBLmRhdGEudGltZXN0YW1wLHl1djpOLGhlaWdodDp3LHdpZHRoOm8saW5kZXg6Qn0pfWNhdGNoKEUpe00oRSxCKX19KTtmdW5jdGlvbiBNKEEsSSxnKXtzLnBvc3RNZXNzYWdlKHtlcnJvcjpgaDI2NCBkZWNvZGVyIHdvcmtlcjogJHtBfWAsaW5kZXg6SX0pfWZ1bmN0aW9uIG4oQSl7c3dpdGNoKEEpe2Nhc2UgMDpyZXR1cm4iUkRZIjtjYXNlIDE6cmV0dXJuIlBJQ19SRFkiO2Nhc2UgMjpyZXR1cm4iSERSU19SRFkiO2Nhc2UgMzpyZXR1cm4iRVJST1IiO2Nhc2UgNDpyZXR1cm4iUEFSQU1fU0VUX0VSUk9SIjtjYXNlIDU6cmV0dXJuIk1FTUFMTE9DX0VSUk9SIjtkZWZhdWx0OnJldHVybiBBLnRvU3RyaW5nKCl9fX0pfSkoKTsK",blob=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(){const i=blob&&(window.URL||window.webkitURL).createObjectURL(blob);try{return i?new Worker(i,{}):new Worker("data:application/javascript;base64,"+encodedJs,{type:"module"})}finally{i&&(window.URL||window.webkitURL).revokeObjectURL(i)}}class RealtimePlayer extends HTMLElement{constructor(){super(),__publicField(this,"drawer"),this.drawer=new H264BytestreamCanvasDrawer(()=>new WorkerWrapper,()=>{},()=>{})}connectedCallback(){this.style.background="black",this.innerHTML='<canvas style="height: 100%; width: 100%; object-fit: contain;"></canvas>',this.drawer.start(),this.drawer.setCanvas(this.querySelector("canvas"))}drawVideoFrame(o){this.drawer.receiveEncodedFrame(o)}}customElements.define("formant-realtime-player",RealtimePlayer);const SECONDS$1=1e3,generateFeaturesObject=i=>({type:"FeatureCollection",features:i.map(o=>({type:"Feature",properties:{weight:o.weight??15},geometry:{type:"Point",coordinates:[o.longitude,o.latitude]}}))}),getEvents=async(i,o)=>{try{return await Authentication$1.waitTilAuthenticated()?await Fleet$2.queryEvents({names:[i],deviceIds:[o]}):[]}catch(s){throw s}},getDataPoints=async(i,o,s,_,$)=>{try{if(await Authentication$1.waitTilAuthenticated())return await Fleet$2.queryTelemetry({start:s,end:_,names:[i,$??""],deviceIds:[o]})}catch(_e){console.log(_e)}},generateStreamsMap=i=>i.reduce((o,s)=>s.type==="location"?(o.locationStream=s.points,o):(o.numericStream=s.points,o),{locationStream:[],numericStream:[]}),areDatapointsWithInValidRange=(i,o)=>Math.abs(i)>=o*SECONDS$1,updateDifference=(i,o)=>i<o?i:o,isoDateToMilliseconds=i=>new Date(i).getTime(),millisecondsToISODate=i=>new Date(i).toISOString(),isScrubberConfiguration=i=>i.scrubber!==void 0,isAnnotationConfiguration=i=>i.annotation!==void 0,isEventConfiguration=i=>i.eventsQuery!==void 0,getTypedConfiguration=i=>isScrubberConfiguration(i)||isAnnotationConfiguration(i)||isEventConfiguration(i)?i:null,isTimeDeltaScrubber=i=>i.scrubber.startFrom==="Time Delta",isTimeDeltaEvent=i=>i.eventsQuery.startFrom==="Time Delta",SECONDS=1e3,MINUTES=60*SECONDS,HOURS=MINUTES*60,handleNumericStream=(i,o=MINUTES*1)=>{const s=generateStreamsMap(i),_=[];let $=0,_e=0;return s.locationStream.forEach((et,j)=>{const nt=s.numericStream[$][0],ot=et[0],ct=nt-ot;areDatapointsWithInValidRange(ct,o)&&(ct<0&&(Math.abs(ct)<_e?_.push({latitude:et[1].latitude,longitude:et[1].longitude,weight:s.numericStream[$][1]}):_.push({latitude:s.locationStream[j-1][1].latitude,longitude:s.locationStream[j-1][1].longitude,weight:s.numericStream[$][1]}),$+=1,$===s.numericStream.length&&($=s.numericStream.length-1),_e=0),_e=updateDifference(ct,_e))}),_},handleEventConfiguration=async(i,o)=>isTimeDeltaEvent(i)?handleEventTimeDelta(i,o):handeFromEventToEvent(i,o),handeFromEventToEvent=async(i,o)=>{const s=i.eventsQuery,_=s.endEvent,$=s.startEvent,_e=await Fleet$2.queryEvents({names:[_,$],deviceIds:[o]});_e.length<1&&console.error("No events");const et=[];let j=0;for(;et.length<2;){if(_e[j].message===_&&et.length===0&&et.push(_e[j].time),et.length===1&&_e[j].message===$){const nt=isoDateToMilliseconds(et[0]);isoDateToMilliseconds(_e[j].time)<nt&&et.push(_e[j].time)}j===_e.length-1&&et.push("",""),j+=1}return{start:et[1],end:et[0]}},handleEventTimeDelta=async(i,o)=>{const s=i.eventsQuery,_=s.endEvent,$=s.hours?s.hours*HOURS:0,_e=s.minutes?s.minutes*MINUTES:0,et=$+_e,j=await Fleet$2.queryEvents({names:[_],deviceIds:[o]});j.length<1&&console.error("No events");const nt=j[0].time,ot=isoDateToMilliseconds(nt)-et;return{start:millisecondsToISODate(ot),end:nt}},handleScrubberConfiguration=async(i,o,s)=>isTimeDeltaScrubber(i)?handleScrrubberDeltaTime(i,o):handleEventScrubber(i,s,o),handleScrrubberDeltaTime=(i,o)=>{const s=i.scrubber,_=s.hours?s.hours*HOURS:0,$=s.minutes?s.minutes*MINUTES:0,_e=o-_-$;return{start:millisecondsToISODate(_e),end:millisecondsToISODate(o)}},handleEventScrubber=async(i,o,s)=>{const _=i.scrubber,$=await getEvents(_.eventName,o);return $.length<1&&console.error("No events"),{start:$[0].time,end:millisecondsToISODate(s)}},handleAnnotationConfiguration=async(i,o)=>{const s=i.annotation,_=await Fleet$2.queryEvents({deviceIds:[o],eventTypes:["annotation"],names:[s]});return{start:_[0].time,end:_[0].endTime}},useDataPoints=()=>{const i=useDevice(),o=useFormant(),s=getTypedConfiguration(o.configuration),_=useScruberTime(),[$,_e]=reactExports.useState([]),[et,j]=reactExports.useState(),[nt,ot]=reactExports.useState();return reactExports.useEffect(()=>{!s||!isAnnotationConfiguration(s)||!i||handleAnnotationConfiguration(s,i.id).then(gt=>{gt!==null&&(j(gt.start),ot(gt.end))})},[s,i]),reactExports.useEffect(()=>{!s||!isScrubberConfiguration(s)||!i||handleScrubberConfiguration(s,_,i.id).then(gt=>{gt!==null&&(j(gt.start),ot(gt.end))})},[s,_,i]),reactExports.useEffect(()=>{!s||!isEventConfiguration(s)||!i||handleEventConfiguration(s,i.id).then(gt=>{gt!==null&&(j(gt.start),ot(gt.end))})},[s]),reactExports.useEffect(()=>{if(!et||!nt||!s)return;const{locationStream:ct,numericStream:gt}=s;getDataPoints(ct,i.id,et,nt,gt).then(pt=>{if(pt===void 0){console.warn("No streams");return}if(pt.length===0){_e([]);return}if(gt){const ft=handleNumericStream(pt,s.weightSearchWindow);_e(ft);return}_e(pt[0].points.map(ft=>ft[1]))})},[i,et,nt]),$},useFeatures=i=>{const[o,s]=reactExports.useState({type:"FeatureCollection",features:[]});return reactExports.useEffect(()=>{i.length<1||s({...generateFeaturesObject(i)})},[i]),o},DEFAULT_DISTINCT_ZOOM_LEVEL=15,DEFAULT_HEATMAP_INTENSITY=5,HeatmapLayer=({map:i,featureCollection:o,distinctZoomLevel:s,circleRadius:_,intensity:$})=>{const[_e,et]=reactExports.useState(!1),j=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{i&&(i.on("load",()=>{i.addSource("numeric",{type:"geojson",data:o}),i.addLayer({id:"numeric-heat",type:"heatmap",source:"numeric",maxzoom:24,paint:{"heatmap-weight":{property:"weight",type:"exponential",stops:[[1,0],[100,1]]},"heatmap-intensity":$??DEFAULT_HEATMAP_INTENSITY,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(236,222,239,0)",.2,"rgb(169,97,228)",.4,"rgb(46,196,149)",.6,"rgb(249,195,110)",.8,"rgb(234,113,157)"],"heatmap-radius":{stops:[[11,s??10],[14,s?s+2:20]]},"heatmap-opacity":{default:1,stops:[[s?s-1:DEFAULT_DISTINCT_ZOOM_LEVEL-1,1],[s??DEFAULT_DISTINCT_ZOOM_LEVEL+1,0]]}}},"waterway-label"),i.addLayer({id:"numeric-point",type:"circle",source:"numeric",minzoom:s?s-1:DEFAULT_DISTINCT_ZOOM_LEVEL-1,paint:{"circle-radius":{property:"weight",type:"exponential",stops:[[{zoom:DEFAULT_DISTINCT_ZOOM_LEVEL,value:1},_??5],[{zoom:22,value:100},_??20]]},"circle-color":{property:"weight",type:"exponential",stops:[[0,"rgba(236,222,239,0)"],[25,"rgb(169,97,228)"],[50,"rgb(46,196,149)"],[75,"rgb(249,195,110)"],[100,"rgb(234,113,157)"]]},"circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":{stops:[[14,0],[15,1]]}}},"waterway-label")}),et(!0))},[i]),reactExports.useLayoutEffect(()=>{!i||o.features.length<1||!_e||setTimeout(()=>{const nt=i.getSource("numeric");i.addLayer,nt&&(nt.setData(o),j.current===0&&(i.flyTo({center:o.features[0].geometry.coordinates,zoom:DEFAULT_DISTINCT_ZOOM_LEVEL-3,duration:5e3,essential:!0}),j.current=1))},3e3)},[JSON.stringify(o.features),_e]),jsx(Fragment,{})},DetailsCard=({map:i})=>{const s=useFormant().configuration,[_,$]=reactExports.useState(1);return reactExports.useEffect(()=>{if(!i)return;const _e=document.getElementById("card");setTimeout(()=>{i.on("mouseover","numeric-point",et=>{const{x:j,y:nt}=et.point;if($(1),s.numericStream){const{weight:ot}=et.features[0].properties;$(ot)}_e.style.top=`${nt}px`,_e.style.left=`${j}px`,_e.style.opacity="1",_e.style.zIndex="2"}),i.on("mouseout","numeric-point",et=>{_e.style.opacity="0",_e.style.zIndex="-1"})},6e3)},[i]),jsx("div",{id:"card",className:styles$1.card,children:jsx(Typography$1,{children:`${s.tooltipLabel??"Weight"}: ${_}`})})};function App(){const i=useFormant(),o=getTypedConfiguration(i.configuration),s=useDataPoints(),_=useFeatures(s),$=reactExports.useRef(null),_e=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{_e.current||!o||(_e.current=new mapboxgl.Map({accessToken:o.mapboxKey??"pk.eyJ1IjoiYWxlbmpkZXYiLCJhIjoiY2t3NWt5ZmExMTcxMDJvbW5kdDR2eGs1diJ9.aYT7nc_i5rp2hY4dt3CLrw",container:$.current,style:"mapbox://styles/alenjdev/ckwcflbv8201814n10hxbqz6q",center:[(o==null?void 0:o.longitude)??-77.47419738769531,(o==null?void 0:o.latitude)??39.043701171875],zoom:o.defaultZoomLevel&&o.latitude&&o.longitude?o.defaultZoomLevel:0}))},[o]),jsx("div",{className:styles$1.app,children:o?jsxs(Fragment,{children:[jsx("div",{ref:$,className:styles$1["map-container"]}),jsx(HeatmapLayer,{map:_e.current,featureCollection:_,distinctZoomLevel:o.distinctZoomLevel,circleRadius:o.circleRadius,intensity:o.heatmapIntensity}),jsx(DetailsCard,{map:_e.current})]}):jsx(LoadingIndicator,{})})}var Subscribable=function(){function i(){this.listeners=[]}var o=i.prototype;return o.subscribe=function(_){var $=this,_e=_||function(){};return this.listeners.push(_e),this.onSubscribe(),function(){$.listeners=$.listeners.filter(function(et){return et!==_e}),$.onUnsubscribe()}},o.hasListeners=function(){return this.listeners.length>0},o.onSubscribe=function(){},o.onUnsubscribe=function(){},i}(),isServer=typeof window>"u";function noop(){}function functionalUpdate(i,o){return typeof i=="function"?i(o):i}function isValidTimeout(i){return typeof i=="number"&&i>=0&&i!==1/0}function ensureQueryKeyArray(i){return Array.isArray(i)?i:[i]}function timeUntilStale(i,o){return Math.max(i+(o||0)-Date.now(),0)}function parseQueryArgs(i,o,s){return isQueryKey(i)?typeof o=="function"?_extends$2({},s,{queryKey:i,queryFn:o}):_extends$2({},o,{queryKey:i}):i}function parseFilterArgs(i,o,s){return isQueryKey(i)?[_extends$2({},o,{queryKey:i}),s]:[i||{},o]}function mapQueryStatusFilter(i,o){if(i===!0&&o===!0||i==null&&o==null)return"all";if(i===!1&&o===!1)return"none";var s=i??!o;return s?"active":"inactive"}function matchQuery(i,o){var s=i.active,_=i.exact,$=i.fetching,_e=i.inactive,et=i.predicate,j=i.queryKey,nt=i.stale;if(isQueryKey(j)){if(_){if(o.queryHash!==hashQueryKeyByOptions(j,o.options))return!1}else if(!partialMatchKey(o.queryKey,j))return!1}var ot=mapQueryStatusFilter(s,_e);if(ot==="none")return!1;if(ot!=="all"){var ct=o.isActive();if(ot==="active"&&!ct||ot==="inactive"&&ct)return!1}return!(typeof nt=="boolean"&&o.isStale()!==nt||typeof $=="boolean"&&o.isFetching()!==$||et&&!et(o))}function matchMutation(i,o){var s=i.exact,_=i.fetching,$=i.predicate,_e=i.mutationKey;if(isQueryKey(_e)){if(!o.options.mutationKey)return!1;if(s){if(hashQueryKey(o.options.mutationKey)!==hashQueryKey(_e))return!1}else if(!partialMatchKey(o.options.mutationKey,_e))return!1}return!(typeof _=="boolean"&&o.state.status==="loading"!==_||$&&!$(o))}function hashQueryKeyByOptions(i,o){var s=(o==null?void 0:o.queryKeyHashFn)||hashQueryKey;return s(i)}function hashQueryKey(i){var o=ensureQueryKeyArray(i);return stableValueHash(o)}function stableValueHash(i){return JSON.stringify(i,function(o,s){return isPlainObject(s)?Object.keys(s).sort().reduce(function(_,$){return _[$]=s[$],_},{}):s})}function partialMatchKey(i,o){return partialDeepEqual(ensureQueryKeyArray(i),ensureQueryKeyArray(o))}function partialDeepEqual(i,o){return i===o?!0:typeof i!=typeof o?!1:i&&o&&typeof i=="object"&&typeof o=="object"?!Object.keys(o).some(function(s){return!partialDeepEqual(i[s],o[s])}):!1}function replaceEqualDeep(i,o){if(i===o)return i;var s=Array.isArray(i)&&Array.isArray(o);if(s||isPlainObject(i)&&isPlainObject(o)){for(var _=s?i.length:Object.keys(i).length,$=s?o:Object.keys(o),_e=$.length,et=s?[]:{},j=0,nt=0;nt<_e;nt++){var ot=s?nt:$[nt];et[ot]=replaceEqualDeep(i[ot],o[ot]),et[ot]===i[ot]&&j++}return _===_e&&j===_?i:et}return o}function isPlainObject(i){if(!hasObjectPrototype(i))return!1;var o=i.constructor;if(typeof o>"u")return!0;var s=o.prototype;return!(!hasObjectPrototype(s)||!s.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(i){return Object.prototype.toString.call(i)==="[object Object]"}function isQueryKey(i){return typeof i=="string"||Array.isArray(i)}function sleep(i){return new Promise(function(o){setTimeout(o,i)})}function scheduleMicrotask(i){Promise.resolve().then(i).catch(function(o){return setTimeout(function(){throw o})})}function getAbortController(){if(typeof AbortController=="function")return new AbortController}var FocusManager=function(i){_inheritsLoose(o,i);function o(){var _;return _=i.call(this)||this,_.setup=function($){var _e;if(!isServer&&((_e=window)!=null&&_e.addEventListener)){var et=function(){return $()};return window.addEventListener("visibilitychange",et,!1),window.addEventListener("focus",et,!1),function(){window.removeEventListener("visibilitychange",et),window.removeEventListener("focus",et)}}},_}var s=o.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var $;($=this.cleanup)==null||$.call(this),this.cleanup=void 0}},s.setEventListener=function($){var _e,et=this;this.setup=$,(_e=this.cleanup)==null||_e.call(this),this.cleanup=$(function(j){typeof j=="boolean"?et.setFocused(j):et.onFocus()})},s.setFocused=function($){this.focused=$,$&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function($){$()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},o}(Subscribable),focusManager=new FocusManager,OnlineManager=function(i){_inheritsLoose(o,i);function o(){var _;return _=i.call(this)||this,_.setup=function($){var _e;if(!isServer&&((_e=window)!=null&&_e.addEventListener)){var et=function(){return $()};return window.addEventListener("online",et,!1),window.addEventListener("offline",et,!1),function(){window.removeEventListener("online",et),window.removeEventListener("offline",et)}}},_}var s=o.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var $;($=this.cleanup)==null||$.call(this),this.cleanup=void 0}},s.setEventListener=function($){var _e,et=this;this.setup=$,(_e=this.cleanup)==null||_e.call(this),this.cleanup=$(function(j){typeof j=="boolean"?et.setOnline(j):et.onOnline()})},s.setOnline=function($){this.online=$,$&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function($){$()})},s.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},o}(Subscribable),onlineManager=new OnlineManager;function defaultRetryDelay(i){return Math.min(1e3*Math.pow(2,i),3e4)}function isCancelable(i){return typeof(i==null?void 0:i.cancel)=="function"}var CancelledError=function i(o){this.revert=o==null?void 0:o.revert,this.silent=o==null?void 0:o.silent};function isCancelledError(i){return i instanceof CancelledError}var Retryer=function i(o){var s=this,_=!1,$,_e,et,j;this.abort=o.abort,this.cancel=function(pt){return $==null?void 0:$(pt)},this.cancelRetry=function(){_=!0},this.continueRetry=function(){_=!1},this.continue=function(){return _e==null?void 0:_e()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(pt,ft){et=pt,j=ft});var nt=function(ft){s.isResolved||(s.isResolved=!0,o.onSuccess==null||o.onSuccess(ft),_e==null||_e(),et(ft))},ot=function(ft){s.isResolved||(s.isResolved=!0,o.onError==null||o.onError(ft),_e==null||_e(),j(ft))},ct=function(){return new Promise(function(ft){_e=ft,s.isPaused=!0,o.onPause==null||o.onPause()}).then(function(){_e=void 0,s.isPaused=!1,o.onContinue==null||o.onContinue()})},gt=function pt(){if(!s.isResolved){var ft;try{ft=o.fn()}catch(ut){ft=Promise.reject(ut)}$=function(yt){if(!s.isResolved&&(ot(new CancelledError(yt)),s.abort==null||s.abort(),isCancelable(ft)))try{ft.cancel()}catch{}},s.isTransportCancelable=isCancelable(ft),Promise.resolve(ft).then(nt).catch(function(ut){var yt,wt;if(!s.isResolved){var Qt=(yt=o.retry)!=null?yt:3,It=(wt=o.retryDelay)!=null?wt:defaultRetryDelay,xt=typeof It=="function"?It(s.failureCount,ut):It,Tt=Qt===!0||typeof Qt=="number"&&s.failureCount<Qt||typeof Qt=="function"&&Qt(s.failureCount,ut);if(_||!Tt){ot(ut);return}s.failureCount++,o.onFail==null||o.onFail(s.failureCount,ut),sleep(xt).then(function(){if(!focusManager.isFocused()||!onlineManager.isOnline())return ct()}).then(function(){_?ot(ut):pt()})}})}};gt()},NotifyManager=function(){function i(){this.queue=[],this.transactions=0,this.notifyFn=function(s){s()},this.batchNotifyFn=function(s){s()}}var o=i.prototype;return o.batch=function(_){var $;this.transactions++;try{$=_()}finally{this.transactions--,this.transactions||this.flush()}return $},o.schedule=function(_){var $=this;this.transactions?this.queue.push(_):scheduleMicrotask(function(){$.notifyFn(_)})},o.batchCalls=function(_){var $=this;return function(){for(var _e=arguments.length,et=new Array(_e),j=0;j<_e;j++)et[j]=arguments[j];$.schedule(function(){_.apply(void 0,et)})}},o.flush=function(){var _=this,$=this.queue;this.queue=[],$.length&&scheduleMicrotask(function(){_.batchNotifyFn(function(){$.forEach(function(_e){_.notifyFn(_e)})})})},o.setNotifyFunction=function(_){this.notifyFn=_},o.setBatchNotifyFunction=function(_){this.batchNotifyFn=_},i}(),notifyManager=new NotifyManager,logger$1=console;function getLogger(){return logger$1}function setLogger(i){logger$1=i}var Query=function(){function i(s){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=s.meta,this.scheduleGc()}var o=i.prototype;return o.setOptions=function(_){var $;this.options=_extends$2({},this.defaultOptions,_),this.meta=_==null?void 0:_.meta,this.cacheTime=Math.max(this.cacheTime||0,($=this.options.cacheTime)!=null?$:5*60*1e3)},o.setDefaultOptions=function(_){this.defaultOptions=_},o.scheduleGc=function(){var _=this;this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){_.optionalRemove()},this.cacheTime))},o.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},o.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},o.setData=function(_,$){var _e,et,j=this.state.data,nt=functionalUpdate(_,j);return(_e=(et=this.options).isDataEqual)!=null&&_e.call(et,j,nt)?nt=j:this.options.structuralSharing!==!1&&(nt=replaceEqualDeep(j,nt)),this.dispatch({data:nt,type:"success",dataUpdatedAt:$==null?void 0:$.updatedAt}),nt},o.setState=function(_,$){this.dispatch({type:"setState",state:_,setStateOptions:$})},o.cancel=function(_){var $,_e=this.promise;return($=this.retryer)==null||$.cancel(_),_e?_e.then(noop).catch(noop):Promise.resolve()},o.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},o.reset=function(){this.destroy(),this.setState(this.initialState)},o.isActive=function(){return this.observers.some(function(_){return _.options.enabled!==!1})},o.isFetching=function(){return this.state.isFetching},o.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(_){return _.getCurrentResult().isStale})},o.isStaleByTime=function(_){return _===void 0&&(_=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,_)},o.onFocus=function(){var _,$=this.observers.find(function(_e){return _e.shouldFetchOnWindowFocus()});$&&$.refetch(),(_=this.retryer)==null||_.continue()},o.onOnline=function(){var _,$=this.observers.find(function(_e){return _e.shouldFetchOnReconnect()});$&&$.refetch(),(_=this.retryer)==null||_.continue()},o.addObserver=function(_){this.observers.indexOf(_)===-1&&(this.observers.push(_),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:_}))},o.removeObserver=function(_){this.observers.indexOf(_)!==-1&&(this.observers=this.observers.filter(function($){return $!==_}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:_}))},o.getObserversCount=function(){return this.observers.length},o.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},o.fetch=function(_,$){var _e=this,et,j,nt;if(this.state.isFetching){if(this.state.dataUpdatedAt&&($!=null&&$.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var ot;return(ot=this.retryer)==null||ot.continueRetry(),this.promise}}if(_&&this.setOptions(_),!this.options.queryFn){var ct=this.observers.find(function(It){return It.options.queryFn});ct&&this.setOptions(ct.options)}var gt=ensureQueryKeyArray(this.queryKey),pt=getAbortController(),ft={queryKey:gt,pageParam:void 0,meta:this.meta};Object.defineProperty(ft,"signal",{enumerable:!0,get:function(){if(pt)return _e.abortSignalConsumed=!0,pt.signal}});var ut=function(){return _e.options.queryFn?(_e.abortSignalConsumed=!1,_e.options.queryFn(ft)):Promise.reject("Missing queryFn")},yt={fetchOptions:$,options:this.options,queryKey:gt,state:this.state,fetchFn:ut,meta:this.meta};if((et=this.options.behavior)!=null&&et.onFetch){var wt;(wt=this.options.behavior)==null||wt.onFetch(yt)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((j=yt.fetchOptions)==null?void 0:j.meta)){var Qt;this.dispatch({type:"fetch",meta:(Qt=yt.fetchOptions)==null?void 0:Qt.meta})}return this.retryer=new Retryer({fn:yt.fetchFn,abort:pt==null||(nt=pt.abort)==null?void 0:nt.bind(pt),onSuccess:function(xt){_e.setData(xt),_e.cache.config.onSuccess==null||_e.cache.config.onSuccess(xt,_e),_e.cacheTime===0&&_e.optionalRemove()},onError:function(xt){isCancelledError(xt)&&xt.silent||_e.dispatch({type:"error",error:xt}),isCancelledError(xt)||(_e.cache.config.onError==null||_e.cache.config.onError(xt,_e),getLogger().error(xt)),_e.cacheTime===0&&_e.optionalRemove()},onFail:function(){_e.dispatch({type:"failed"})},onPause:function(){_e.dispatch({type:"pause"})},onContinue:function(){_e.dispatch({type:"continue"})},retry:yt.options.retry,retryDelay:yt.options.retryDelay}),this.promise=this.retryer.promise,this.promise},o.dispatch=function(_){var $=this;this.state=this.reducer(this.state,_),notifyManager.batch(function(){$.observers.forEach(function(_e){_e.onQueryUpdate(_)}),$.cache.notify({query:$,type:"queryUpdated",action:_})})},o.getDefaultState=function(_){var $=typeof _.initialData=="function"?_.initialData():_.initialData,_e=typeof _.initialData<"u",et=_e?typeof _.initialDataUpdatedAt=="function"?_.initialDataUpdatedAt():_.initialDataUpdatedAt:0,j=typeof $<"u";return{data:$,dataUpdateCount:0,dataUpdatedAt:j?et??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:j?"success":"idle"}},o.reducer=function(_,$){var _e,et;switch($.type){case"failed":return _extends$2({},_,{fetchFailureCount:_.fetchFailureCount+1});case"pause":return _extends$2({},_,{isPaused:!0});case"continue":return _extends$2({},_,{isPaused:!1});case"fetch":return _extends$2({},_,{fetchFailureCount:0,fetchMeta:(_e=$.meta)!=null?_e:null,isFetching:!0,isPaused:!1},!_.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _extends$2({},_,{data:$.data,dataUpdateCount:_.dataUpdateCount+1,dataUpdatedAt:(et=$.dataUpdatedAt)!=null?et:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var j=$.error;return isCancelledError(j)&&j.revert&&this.revertState?_extends$2({},this.revertState):_extends$2({},_,{error:j,errorUpdateCount:_.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:_.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _extends$2({},_,{isInvalidated:!0});case"setState":return _extends$2({},_,$.state);default:return _}},i}(),QueryCache=function(i){_inheritsLoose(o,i);function o(_){var $;return $=i.call(this)||this,$.config=_||{},$.queries=[],$.queriesMap={},$}var s=o.prototype;return s.build=function($,_e,et){var j,nt=_e.queryKey,ot=(j=_e.queryHash)!=null?j:hashQueryKeyByOptions(nt,_e),ct=this.get(ot);return ct||(ct=new Query({cache:this,queryKey:nt,queryHash:ot,options:$.defaultQueryOptions(_e),state:et,defaultOptions:$.getQueryDefaults(nt),meta:_e.meta}),this.add(ct)),ct},s.add=function($){this.queriesMap[$.queryHash]||(this.queriesMap[$.queryHash]=$,this.queries.push($),this.notify({type:"queryAdded",query:$}))},s.remove=function($){var _e=this.queriesMap[$.queryHash];_e&&($.destroy(),this.queries=this.queries.filter(function(et){return et!==$}),_e===$&&delete this.queriesMap[$.queryHash],this.notify({type:"queryRemoved",query:$}))},s.clear=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(_e){$.remove(_e)})})},s.get=function($){return this.queriesMap[$]},s.getAll=function(){return this.queries},s.find=function($,_e){var et=parseFilterArgs($,_e),j=et[0];return typeof j.exact>"u"&&(j.exact=!0),this.queries.find(function(nt){return matchQuery(j,nt)})},s.findAll=function($,_e){var et=parseFilterArgs($,_e),j=et[0];return Object.keys(j).length>0?this.queries.filter(function(nt){return matchQuery(j,nt)}):this.queries},s.notify=function($){var _e=this;notifyManager.batch(function(){_e.listeners.forEach(function(et){et($)})})},s.onFocus=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(_e){_e.onFocus()})})},s.onOnline=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(_e){_e.onOnline()})})},o}(Subscribable),Mutation=function(){function i(s){this.options=_extends$2({},s.defaultOptions,s.options),this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.observers=[],this.state=s.state||getDefaultState(),this.meta=s.meta}var o=i.prototype;return o.setState=function(_){this.dispatch({type:"setState",state:_})},o.addObserver=function(_){this.observers.indexOf(_)===-1&&this.observers.push(_)},o.removeObserver=function(_){this.observers=this.observers.filter(function($){return $!==_})},o.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(noop).catch(noop)):Promise.resolve()},o.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},o.execute=function(){var _=this,$,_e=this.state.status==="loading",et=Promise.resolve();return _e||(this.dispatch({type:"loading",variables:this.options.variables}),et=et.then(function(){_.mutationCache.config.onMutate==null||_.mutationCache.config.onMutate(_.state.variables,_)}).then(function(){return _.options.onMutate==null?void 0:_.options.onMutate(_.state.variables)}).then(function(j){j!==_.state.context&&_.dispatch({type:"loading",context:j,variables:_.state.variables})})),et.then(function(){return _.executeMutation()}).then(function(j){$=j,_.mutationCache.config.onSuccess==null||_.mutationCache.config.onSuccess($,_.state.variables,_.state.context,_)}).then(function(){return _.options.onSuccess==null?void 0:_.options.onSuccess($,_.state.variables,_.state.context)}).then(function(){return _.options.onSettled==null?void 0:_.options.onSettled($,null,_.state.variables,_.state.context)}).then(function(){return _.dispatch({type:"success",data:$}),$}).catch(function(j){return _.mutationCache.config.onError==null||_.mutationCache.config.onError(j,_.state.variables,_.state.context,_),getLogger().error(j),Promise.resolve().then(function(){return _.options.onError==null?void 0:_.options.onError(j,_.state.variables,_.state.context)}).then(function(){return _.options.onSettled==null?void 0:_.options.onSettled(void 0,j,_.state.variables,_.state.context)}).then(function(){throw _.dispatch({type:"error",error:j}),j})})},o.executeMutation=function(){var _=this,$;return this.retryer=new Retryer({fn:function(){return _.options.mutationFn?_.options.mutationFn(_.state.variables):Promise.reject("No mutationFn found")},onFail:function(){_.dispatch({type:"failed"})},onPause:function(){_.dispatch({type:"pause"})},onContinue:function(){_.dispatch({type:"continue"})},retry:($=this.options.retry)!=null?$:0,retryDelay:this.options.retryDelay}),this.retryer.promise},o.dispatch=function(_){var $=this;this.state=reducer(this.state,_),notifyManager.batch(function(){$.observers.forEach(function(_e){_e.onMutationUpdate(_)}),$.mutationCache.notify($)})},i}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function reducer(i,o){switch(o.type){case"failed":return _extends$2({},i,{failureCount:i.failureCount+1});case"pause":return _extends$2({},i,{isPaused:!0});case"continue":return _extends$2({},i,{isPaused:!1});case"loading":return _extends$2({},i,{context:o.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:o.variables});case"success":return _extends$2({},i,{data:o.data,error:null,status:"success",isPaused:!1});case"error":return _extends$2({},i,{data:void 0,error:o.error,failureCount:i.failureCount+1,isPaused:!1,status:"error"});case"setState":return _extends$2({},i,o.state);default:return i}}var MutationCache=function(i){_inheritsLoose(o,i);function o(_){var $;return $=i.call(this)||this,$.config=_||{},$.mutations=[],$.mutationId=0,$}var s=o.prototype;return s.build=function($,_e,et){var j=new Mutation({mutationCache:this,mutationId:++this.mutationId,options:$.defaultMutationOptions(_e),state:et,defaultOptions:_e.mutationKey?$.getMutationDefaults(_e.mutationKey):void 0,meta:_e.meta});return this.add(j),j},s.add=function($){this.mutations.push($),this.notify($)},s.remove=function($){this.mutations=this.mutations.filter(function(_e){return _e!==$}),$.cancel(),this.notify($)},s.clear=function(){var $=this;notifyManager.batch(function(){$.mutations.forEach(function(_e){$.remove(_e)})})},s.getAll=function(){return this.mutations},s.find=function($){return typeof $.exact>"u"&&($.exact=!0),this.mutations.find(function(_e){return matchMutation($,_e)})},s.findAll=function($){return this.mutations.filter(function(_e){return matchMutation($,_e)})},s.notify=function($){var _e=this;notifyManager.batch(function(){_e.listeners.forEach(function(et){et($)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var $=this.mutations.filter(function(_e){return _e.state.isPaused});return notifyManager.batch(function(){return $.reduce(function(_e,et){return _e.then(function(){return et.continue().catch(noop)})},Promise.resolve())})},o}(Subscribable);function infiniteQueryBehavior(){return{onFetch:function(o){o.fetchFn=function(){var s,_,$,_e,et,j,nt=(s=o.fetchOptions)==null||(_=s.meta)==null?void 0:_.refetchPage,ot=($=o.fetchOptions)==null||(_e=$.meta)==null?void 0:_e.fetchMore,ct=ot==null?void 0:ot.pageParam,gt=(ot==null?void 0:ot.direction)==="forward",pt=(ot==null?void 0:ot.direction)==="backward",ft=((et=o.state.data)==null?void 0:et.pages)||[],ut=((j=o.state.data)==null?void 0:j.pageParams)||[],yt=getAbortController(),wt=yt==null?void 0:yt.signal,Qt=ut,It=!1,xt=o.options.queryFn||function(){return Promise.reject("Missing queryFn")},Tt=function(qt,Zt,Wt,Gt){return Qt=Gt?[Zt].concat(Qt):[].concat(Qt,[Zt]),Gt?[Wt].concat(qt):[].concat(qt,[Wt])},mt=function(qt,Zt,Wt,Gt){if(It)return Promise.reject("Cancelled");if(typeof Wt>"u"&&!Zt&&qt.length)return Promise.resolve(qt);var Ht={queryKey:o.queryKey,signal:wt,pageParam:Wt,meta:o.meta},kt=xt(Ht),Rt=Promise.resolve(kt).then(function(nn){return Tt(qt,Wt,nn,Gt)});if(isCancelable(kt)){var $t=Rt;$t.cancel=kt.cancel}return Rt},Nt;if(!ft.length)Nt=mt([]);else if(gt){var en=typeof ct<"u",rn=en?ct:getNextPageParam(o.options,ft);Nt=mt(ft,en,rn)}else if(pt){var Ft=typeof ct<"u",St=Ft?ct:getPreviousPageParam(o.options,ft);Nt=mt(ft,Ft,St,!0)}else(function(){Qt=[];var jt=typeof o.options.getNextPageParam>"u",qt=nt&&ft[0]?nt(ft[0],0,ft):!0;Nt=qt?mt([],jt,ut[0]):Promise.resolve(Tt([],ut[0],ft[0]));for(var Zt=function(Ht){Nt=Nt.then(function(kt){var Rt=nt&&ft[Ht]?nt(ft[Ht],Ht,ft):!0;if(Rt){var $t=jt?ut[Ht]:getNextPageParam(o.options,kt);return mt(kt,jt,$t)}return Promise.resolve(Tt(kt,ut[Ht],ft[Ht]))})},Wt=1;Wt<ft.length;Wt++)Zt(Wt)})();var Pt=Nt.then(function(jt){return{pages:jt,pageParams:Qt}}),Bt=Pt;return Bt.cancel=function(){It=!0,yt==null||yt.abort(),isCancelable(Nt)&&Nt.cancel()},Pt}}}}function getNextPageParam(i,o){return i.getNextPageParam==null?void 0:i.getNextPageParam(o[o.length-1],o)}function getPreviousPageParam(i,o){return i.getPreviousPageParam==null?void 0:i.getPreviousPageParam(o[0],o)}var QueryClient=function(){function i(s){s===void 0&&(s={}),this.queryCache=s.queryCache||new QueryCache,this.mutationCache=s.mutationCache||new MutationCache,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var o=i.prototype;return o.mount=function(){var _=this;this.unsubscribeFocus=focusManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(_.mutationCache.onFocus(),_.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(_.mutationCache.onOnline(),_.queryCache.onOnline())})},o.unmount=function(){var _,$;(_=this.unsubscribeFocus)==null||_.call(this),($=this.unsubscribeOnline)==null||$.call(this)},o.isFetching=function(_,$){var _e=parseFilterArgs(_,$),et=_e[0];return et.fetching=!0,this.queryCache.findAll(et).length},o.isMutating=function(_){return this.mutationCache.findAll(_extends$2({},_,{fetching:!0})).length},o.getQueryData=function(_,$){var _e;return(_e=this.queryCache.find(_,$))==null?void 0:_e.state.data},o.getQueriesData=function(_){return this.getQueryCache().findAll(_).map(function($){var _e=$.queryKey,et=$.state,j=et.data;return[_e,j]})},o.setQueryData=function(_,$,_e){var et=parseQueryArgs(_),j=this.defaultQueryOptions(et);return this.queryCache.build(this,j).setData($,_e)},o.setQueriesData=function(_,$,_e){var et=this;return notifyManager.batch(function(){return et.getQueryCache().findAll(_).map(function(j){var nt=j.queryKey;return[nt,et.setQueryData(nt,$,_e)]})})},o.getQueryState=function(_,$){var _e;return(_e=this.queryCache.find(_,$))==null?void 0:_e.state},o.removeQueries=function(_,$){var _e=parseFilterArgs(_,$),et=_e[0],j=this.queryCache;notifyManager.batch(function(){j.findAll(et).forEach(function(nt){j.remove(nt)})})},o.resetQueries=function(_,$,_e){var et=this,j=parseFilterArgs(_,$,_e),nt=j[0],ot=j[1],ct=this.queryCache,gt=_extends$2({},nt,{active:!0});return notifyManager.batch(function(){return ct.findAll(nt).forEach(function(pt){pt.reset()}),et.refetchQueries(gt,ot)})},o.cancelQueries=function(_,$,_e){var et=this,j=parseFilterArgs(_,$,_e),nt=j[0],ot=j[1],ct=ot===void 0?{}:ot;typeof ct.revert>"u"&&(ct.revert=!0);var gt=notifyManager.batch(function(){return et.queryCache.findAll(nt).map(function(pt){return pt.cancel(ct)})});return Promise.all(gt).then(noop).catch(noop)},o.invalidateQueries=function(_,$,_e){var et,j,nt,ot=this,ct=parseFilterArgs(_,$,_e),gt=ct[0],pt=ct[1],ft=_extends$2({},gt,{active:(et=(j=gt.refetchActive)!=null?j:gt.active)!=null?et:!0,inactive:(nt=gt.refetchInactive)!=null?nt:!1});return notifyManager.batch(function(){return ot.queryCache.findAll(gt).forEach(function(ut){ut.invalidate()}),ot.refetchQueries(ft,pt)})},o.refetchQueries=function(_,$,_e){var et=this,j=parseFilterArgs(_,$,_e),nt=j[0],ot=j[1],ct=notifyManager.batch(function(){return et.queryCache.findAll(nt).map(function(pt){return pt.fetch(void 0,_extends$2({},ot,{meta:{refetchPage:nt==null?void 0:nt.refetchPage}}))})}),gt=Promise.all(ct).then(noop);return ot!=null&&ot.throwOnError||(gt=gt.catch(noop)),gt},o.fetchQuery=function(_,$,_e){var et=parseQueryArgs(_,$,_e),j=this.defaultQueryOptions(et);typeof j.retry>"u"&&(j.retry=!1);var nt=this.queryCache.build(this,j);return nt.isStaleByTime(j.staleTime)?nt.fetch(j):Promise.resolve(nt.state.data)},o.prefetchQuery=function(_,$,_e){return this.fetchQuery(_,$,_e).then(noop).catch(noop)},o.fetchInfiniteQuery=function(_,$,_e){var et=parseQueryArgs(_,$,_e);return et.behavior=infiniteQueryBehavior(),this.fetchQuery(et)},o.prefetchInfiniteQuery=function(_,$,_e){return this.fetchInfiniteQuery(_,$,_e).then(noop).catch(noop)},o.cancelMutations=function(){var _=this,$=notifyManager.batch(function(){return _.mutationCache.getAll().map(function(_e){return _e.cancel()})});return Promise.all($).then(noop).catch(noop)},o.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},o.executeMutation=function(_){return this.mutationCache.build(this,_).execute()},o.getQueryCache=function(){return this.queryCache},o.getMutationCache=function(){return this.mutationCache},o.getDefaultOptions=function(){return this.defaultOptions},o.setDefaultOptions=function(_){this.defaultOptions=_},o.setQueryDefaults=function(_,$){var _e=this.queryDefaults.find(function(et){return hashQueryKey(_)===hashQueryKey(et.queryKey)});_e?_e.defaultOptions=$:this.queryDefaults.push({queryKey:_,defaultOptions:$})},o.getQueryDefaults=function(_){var $;return _?($=this.queryDefaults.find(function(_e){return partialMatchKey(_,_e.queryKey)}))==null?void 0:$.defaultOptions:void 0},o.setMutationDefaults=function(_,$){var _e=this.mutationDefaults.find(function(et){return hashQueryKey(_)===hashQueryKey(et.mutationKey)});_e?_e.defaultOptions=$:this.mutationDefaults.push({mutationKey:_,defaultOptions:$})},o.getMutationDefaults=function(_){var $;return _?($=this.mutationDefaults.find(function(_e){return partialMatchKey(_,_e.mutationKey)}))==null?void 0:$.defaultOptions:void 0},o.defaultQueryOptions=function(_){if(_!=null&&_._defaulted)return _;var $=_extends$2({},this.defaultOptions.queries,this.getQueryDefaults(_==null?void 0:_.queryKey),_,{_defaulted:!0});return!$.queryHash&&$.queryKey&&($.queryHash=hashQueryKeyByOptions($.queryKey,$)),$},o.defaultQueryObserverOptions=function(_){return this.defaultQueryOptions(_)},o.defaultMutationOptions=function(_){return _!=null&&_._defaulted?_:_extends$2({},this.defaultOptions.mutations,this.getMutationDefaults(_==null?void 0:_.mutationKey),_,{_defaulted:!0})},o.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},i}(),unstable_batchedUpdates=ReactDOM.unstable_batchedUpdates;notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);var logger=console;setLogger(logger);var defaultContext=React$1.createContext(void 0),QueryClientSharingContext=React$1.createContext(!1);function getQueryClientContext(i){return i&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}var QueryClientProvider=function i(o){var s=o.client,_=o.contextSharing,$=_===void 0?!1:_,_e=o.children;React$1.useEffect(function(){return s.mount(),function(){s.unmount()}},[s]);var et=getQueryClientContext($);return React$1.createElement(QueryClientSharingContext.Provider,{value:$},React$1.createElement(et.Provider,{value:s},_e))};const index_module={"mapboxgl-control-container":"_mapboxgl-control-container_1csz9_6","mapboxgl-ctrl":"_mapboxgl-ctrl_1csz9_10","mapboxgl-ctrl-bottom-left":"_mapboxgl-ctrl-bottom-left_1csz9_14","mapboxgl-ctrl-bottom-right":"_mapboxgl-ctrl-bottom-right_1csz9_18"},queryClient=new QueryClient;client.createRoot(document.getElementById("root")).render(jsx(FormantProvider,{parseConfiguration:!0,children:jsx(QueryClientProvider,{client:queryClient,children:jsx(React$1.StrictMode,{children:jsx(App,{})})})}));
